var KY=Object.defineProperty;var PY=(e,t,n)=>t in e?KY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var on=(e,t,n)=>(PY(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var pD={exports:{}},d5={},mD={exports:{}},Oo={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=Symbol.for("react.element"),FY=Symbol.for("react.portal"),DY=Symbol.for("react.fragment"),LY=Symbol.for("react.strict_mode"),UY=Symbol.for("react.profiler"),RY=Symbol.for("react.provider"),zY=Symbol.for("react.context"),jY=Symbol.for("react.forward_ref"),WY=Symbol.for("react.suspense"),NY=Symbol.for("react.memo"),GY=Symbol.for("react.lazy"),gI=Symbol.iterator;function QY(e){return e===null||typeof e!="object"?null:(e=gI&&e[gI]||e["@@iterator"],typeof e=="function"?e:null)}var gD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yD=Object.assign,vD={};function uv(e,t,n){this.props=e,this.context=t,this.refs=vD,this.updater=n||gD}uv.prototype.isReactComponent={};uv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _D(){}_D.prototype=uv.prototype;function _B(e,t,n){this.props=e,this.context=t,this.refs=vD,this.updater=n||gD}var CB=_B.prototype=new _D;CB.constructor=_B;yD(CB,uv.prototype);CB.isPureReactComponent=!0;var yI=Array.isArray,CD=Object.prototype.hasOwnProperty,bB={current:null},bD={key:!0,ref:!0,__self:!0,__source:!0};function xD(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)CD.call(t,r)&&!bD.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var h=Array(s),g=0;g<s;g++)h[g]=arguments[g+2];i.children=h}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ab,type:e,key:o,ref:a,props:i,_owner:bB.current}}function $Y(e,t){return{$$typeof:Ab,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xB(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ab}function YY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vI=/\/+/g;function bM(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YY(""+e.key):t.toString(36)}function L2(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ab:case FY:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+bM(a,0):r,yI(i)?(n="",e!=null&&(n=e.replace(vI,"$&/")+"/"),L2(i,t,n,"",function(g){return g})):i!=null&&(xB(i)&&(i=$Y(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vI,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",yI(e))for(var s=0;s<e.length;s++){o=e[s];var h=r+bM(o,s);a+=L2(o,t,n,h,i)}else if(h=QY(e),typeof h=="function")for(e=h.call(e),s=0;!(o=e.next()).done;)o=o.value,h=r+bM(o,s++),a+=L2(o,t,n,h,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Dx(e,t,n){if(e==null)return e;var r=[],i=0;return L2(e,r,"","",function(o){return t.call(n,o,i++)}),r}function qY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jA={current:null},U2={transition:null},HY={ReactCurrentDispatcher:jA,ReactCurrentBatchConfig:U2,ReactCurrentOwner:bB};Oo.Children={map:Dx,forEach:function(e,t,n){Dx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dx(e,function(){t++}),t},toArray:function(e){return Dx(e,function(t){return t})||[]},only:function(e){if(!xB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oo.Component=uv;Oo.Fragment=DY;Oo.Profiler=UY;Oo.PureComponent=_B;Oo.StrictMode=LY;Oo.Suspense=WY;Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HY;Oo.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yD({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=bB.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(h in t)CD.call(t,h)&&!bD.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&s!==void 0?s[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){s=Array(h);for(var g=0;g<h;g++)s[g]=arguments[g+2];r.children=s}return{$$typeof:Ab,type:e.type,key:i,ref:o,props:r,_owner:a}};Oo.createContext=function(e){return e={$$typeof:zY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RY,_context:e},e.Consumer=e};Oo.createElement=xD;Oo.createFactory=function(e){var t=xD.bind(null,e);return t.type=e,t};Oo.createRef=function(){return{current:null}};Oo.forwardRef=function(e){return{$$typeof:jY,render:e}};Oo.isValidElement=xB;Oo.lazy=function(e){return{$$typeof:GY,_payload:{_status:-1,_result:e},_init:qY}};Oo.memo=function(e,t){return{$$typeof:NY,type:e,compare:t===void 0?null:t}};Oo.startTransition=function(e){var t=U2.transition;U2.transition={};try{e()}finally{U2.transition=t}};Oo.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oo.useCallback=function(e,t){return jA.current.useCallback(e,t)};Oo.useContext=function(e){return jA.current.useContext(e)};Oo.useDebugValue=function(){};Oo.useDeferredValue=function(e){return jA.current.useDeferredValue(e)};Oo.useEffect=function(e,t){return jA.current.useEffect(e,t)};Oo.useId=function(){return jA.current.useId()};Oo.useImperativeHandle=function(e,t,n){return jA.current.useImperativeHandle(e,t,n)};Oo.useInsertionEffect=function(e,t){return jA.current.useInsertionEffect(e,t)};Oo.useLayoutEffect=function(e,t){return jA.current.useLayoutEffect(e,t)};Oo.useMemo=function(e,t){return jA.current.useMemo(e,t)};Oo.useReducer=function(e,t,n){return jA.current.useReducer(e,t,n)};Oo.useRef=function(e){return jA.current.useRef(e)};Oo.useState=function(e){return jA.current.useState(e)};Oo.useSyncExternalStore=function(e,t,n){return jA.current.useSyncExternalStore(e,t,n)};Oo.useTransition=function(){return jA.current.useTransition()};Oo.version="18.2.0";mD.exports=Oo;var kr=mD.exports;const Mn=Oa(kr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VY=kr,ZY=Symbol.for("react.element"),XY=Symbol.for("react.fragment"),JY=Object.prototype.hasOwnProperty,eq=VY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tq={key:!0,ref:!0,__self:!0,__source:!0};function wD(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)JY.call(t,r)&&!tq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ZY,type:e,key:o,ref:a,props:i,_owner:eq.current}}d5.Fragment=XY;d5.jsx=wD;d5.jsxs=wD;pD.exports=d5;var G=pD.exports,MD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w6=Mn.createContext&&Mn.createContext(MD),nq=["attr","size","title"];function rq(e,t){if(e==null)return{};var n=iq(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A3.apply(this,arguments)}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return t=aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=sq(e,"string");return typeof t=="symbol"?t:String(t)}function sq(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SD(e){return e&&e.map((t,n)=>Mn.createElement(t.tag,c3({key:n},t.attr),SD(t.child)))}function al(e){return t=>Mn.createElement(lq,A3({attr:c3({},e.attr)},t),SD(e.child))}function lq(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=rq(e,nq),s=i||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Mn.createElement("svg",A3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:h,style:c3(c3({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&Mn.createElement("title",null,o),e.children)};return w6!==void 0?Mn.createElement(w6.Consumer,null,n=>t(n)):t(MD)}var ED={exports:{}},ed={},OD={exports:{}},BD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(dt,mt){var je=dt.length;dt.push(mt);e:for(;0<je;){var Ve=je-1>>>1,Xe=dt[Ve];if(0<i(Xe,mt))dt[Ve]=mt,dt[je]=Xe,je=Ve;else break e}}function n(dt){return dt.length===0?null:dt[0]}function r(dt){if(dt.length===0)return null;var mt=dt[0],je=dt.pop();if(je!==mt){dt[0]=je;e:for(var Ve=0,Xe=dt.length,Jt=Xe>>>1;Ve<Jt;){var Ht=2*(Ve+1)-1,Ct=dt[Ht],Qt=Ht+1,$t=dt[Qt];if(0>i(Ct,je))Qt<Xe&&0>i($t,Ct)?(dt[Ve]=$t,dt[Qt]=je,Ve=Qt):(dt[Ve]=Ct,dt[Ht]=je,Ve=Ht);else if(Qt<Xe&&0>i($t,je))dt[Ve]=$t,dt[Qt]=je,Ve=Qt;else break e}}return mt}function i(dt,mt){var je=dt.sortIndex-mt.sortIndex;return je!==0?je:dt.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var h=[],g=[],_=1,B=null,k=3,P=!1,F=!1,q=!1,ee=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(dt){for(var mt=n(g);mt!==null;){if(mt.callback===null)r(g);else if(mt.startTime<=dt)r(g),mt.sortIndex=mt.expirationTime,t(h,mt);else break;mt=n(g)}}function ue(dt){if(q=!1,Z(dt),!F)if(n(h)!==null)F=!0,_t(ye);else{var mt=n(g);mt!==null&&Mt(ue,mt.startTime-dt)}}function ye(dt,mt){F=!1,q&&(q=!1,H(se),se=-1),P=!0;var je=k;try{for(Z(mt),B=n(h);B!==null&&(!(B.expirationTime>mt)||dt&&!De());){var Ve=B.callback;if(typeof Ve=="function"){B.callback=null,k=B.priorityLevel;var Xe=Ve(B.expirationTime<=mt);mt=e.unstable_now(),typeof Xe=="function"?B.callback=Xe:B===n(h)&&r(h),Z(mt)}else r(h);B=n(h)}if(B!==null)var Jt=!0;else{var Ht=n(g);Ht!==null&&Mt(ue,Ht.startTime-mt),Jt=!1}return Jt}finally{B=null,k=je,P=!1}}var be=!1,J=null,se=-1,xe=5,Se=-1;function De(){return!(e.unstable_now()-Se<xe)}function Le(){if(J!==null){var dt=e.unstable_now();Se=dt;var mt=!0;try{mt=J(!0,dt)}finally{mt?he():(be=!1,J=null)}}else be=!1}var he;if(typeof N=="function")he=function(){N(Le)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ge=qe.port2;qe.port1.onmessage=Le,he=function(){ge.postMessage(null)}}else he=function(){ee(Le,0)};function _t(dt){J=dt,be||(be=!0,he())}function Mt(dt,mt){se=ee(function(){dt(e.unstable_now())},mt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(dt){dt.callback=null},e.unstable_continueExecution=function(){F||P||(F=!0,_t(ye))},e.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<dt?Math.floor(1e3/dt):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(dt){switch(k){case 1:case 2:case 3:var mt=3;break;default:mt=k}var je=k;k=mt;try{return dt()}finally{k=je}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(dt,mt){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var je=k;k=dt;try{return mt()}finally{k=je}},e.unstable_scheduleCallback=function(dt,mt,je){var Ve=e.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?Ve+je:Ve):je=Ve,dt){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=je+Xe,dt={id:_++,callback:mt,priorityLevel:dt,startTime:je,expirationTime:Xe,sortIndex:-1},je>Ve?(dt.sortIndex=je,t(g,dt),n(h)===null&&dt===n(g)&&(q?(H(se),se=-1):q=!0,Mt(ue,je-Ve))):(dt.sortIndex=Xe,t(h,dt),F||P||(F=!0,_t(ye))),dt},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(dt){var mt=k;return function(){var je=k;k=mt;try{return dt.apply(this,arguments)}finally{k=je}}}})(BD);OD.exports=BD;var uq=OD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD=kr,Jc=uq;function Qn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ID=new Set,yC={};function L1(e,t){Gy(e,t),Gy(e+"Capture",t)}function Gy(e,t){for(yC[e]=t,e=0;e<t.length;e++)ID.add(t[e])}var Wp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M6=Object.prototype.hasOwnProperty,Aq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CI={},bI={};function cq(e){return M6.call(bI,e)?!0:M6.call(CI,e)?!1:Aq.test(e)?bI[e]=!0:(CI[e]=!0,!1)}function dq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hq(e,t,n,r){if(t===null||typeof t>"u"||dq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function WA(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var zu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zu[e]=new WA(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zu[t]=new WA(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zu[e]=new WA(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zu[e]=new WA(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zu[e]=new WA(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zu[e]=new WA(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zu[e]=new WA(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zu[e]=new WA(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zu[e]=new WA(e,5,!1,e.toLowerCase(),null,!1,!1)});var wB=/[\-:]([a-z])/g;function MB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wB,MB);zu[t]=new WA(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wB,MB);zu[t]=new WA(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wB,MB);zu[t]=new WA(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zu[e]=new WA(e,1,!1,e.toLowerCase(),null,!1,!1)});zu.xlinkHref=new WA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zu[e]=new WA(e,1,!1,e.toLowerCase(),null,!0,!0)});function SB(e,t,n,r){var i=zu.hasOwnProperty(t)?zu[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hq(t,n,i,r)&&(n=null),r||i===null?cq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $p=kD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lx=Symbol.for("react.element"),Vg=Symbol.for("react.portal"),Zg=Symbol.for("react.fragment"),EB=Symbol.for("react.strict_mode"),S6=Symbol.for("react.profiler"),TD=Symbol.for("react.provider"),KD=Symbol.for("react.context"),OB=Symbol.for("react.forward_ref"),E6=Symbol.for("react.suspense"),O6=Symbol.for("react.suspense_list"),BB=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),PD=Symbol.for("react.offscreen"),xI=Symbol.iterator;function o_(e){return e===null||typeof e!="object"?null:(e=xI&&e[xI]||e["@@iterator"],typeof e=="function"?e:null)}var Vs=Object.assign,xM;function O_(e){if(xM===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xM=t&&t[1]||""}return`
`+xM+e}var wM=!1;function MM(e,t){if(!e||wM)return"";wM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var h=`
`+i[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=s);break}}}finally{wM=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O_(e):""}function fq(e){switch(e.tag){case 5:return O_(e.type);case 16:return O_("Lazy");case 13:return O_("Suspense");case 19:return O_("SuspenseList");case 0:case 2:case 15:return e=MM(e.type,!1),e;case 11:return e=MM(e.type.render,!1),e;case 1:return e=MM(e.type,!0),e;default:return""}}function B6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zg:return"Fragment";case Vg:return"Portal";case S6:return"Profiler";case EB:return"StrictMode";case E6:return"Suspense";case O6:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KD:return(e.displayName||"Context")+".Consumer";case TD:return(e._context.displayName||"Context")+".Provider";case OB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case BB:return t=e.displayName||null,t!==null?t:B6(e.type)||"Memo";case wm:t=e._payload,e=e._init;try{return B6(e(t))}catch{}}return null}function pq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B6(t);case 8:return t===EB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function i0(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mq(e){var t=FD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ux(e){e._valueTracker||(e._valueTracker=mq(e))}function DD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=FD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function d3(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k6(e,t){var n=t.checked;return Vs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=i0(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function LD(e,t){t=t.checked,t!=null&&SB(e,"checked",t,!1)}function I6(e,t){LD(e,t);var n=i0(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?T6(e,t.type,n):t.hasOwnProperty("defaultValue")&&T6(e,t.type,i0(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function T6(e,t,n){(t!=="number"||d3(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var B_=Array.isArray;function vy(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+i0(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function K6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qn(91));return Vs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Qn(92));if(B_(n)){if(1<n.length)throw Error(Qn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:i0(n)}}function UD(e,t){var n=i0(t.value),r=i0(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function EI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rx,zD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rx=Rx||document.createElement("div"),Rx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vC(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var G_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gq=["Webkit","ms","Moz","O"];Object.keys(G_).forEach(function(e){gq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),G_[t]=G_[e]})});function jD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||G_.hasOwnProperty(e)&&G_[e]?(""+t).trim():t+"px"}function WD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yq=Vs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F6(e,t){if(t){if(yq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qn(62))}}function D6(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L6=null;function kB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var U6=null,_y=null,Cy=null;function OI(e){if(e=hb(e)){if(typeof U6!="function")throw Error(Qn(280));var t=e.stateNode;t&&(t=g5(t),U6(e.stateNode,e.type,t))}}function ND(e){_y?Cy?Cy.push(e):Cy=[e]:_y=e}function GD(){if(_y){var e=_y,t=Cy;if(Cy=_y=null,OI(e),t)for(e=0;e<t.length;e++)OI(t[e])}}function QD(e,t){return e(t)}function $D(){}var SM=!1;function YD(e,t,n){if(SM)return e(t,n);SM=!0;try{return QD(e,t,n)}finally{SM=!1,(_y!==null||Cy!==null)&&($D(),GD())}}function _C(e,t){var n=e.stateNode;if(n===null)return null;var r=g5(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Qn(231,t,typeof n));return n}var R6=!1;if(Wp)try{var a_={};Object.defineProperty(a_,"passive",{get:function(){R6=!0}}),window.addEventListener("test",a_,a_),window.removeEventListener("test",a_,a_)}catch{R6=!1}function vq(e,t,n,r,i,o,a,s,h){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(_){this.onError(_)}}var Q_=!1,h3=null,f3=!1,z6=null,_q={onError:function(e){Q_=!0,h3=e}};function Cq(e,t,n,r,i,o,a,s,h){Q_=!1,h3=null,vq.apply(_q,arguments)}function bq(e,t,n,r,i,o,a,s,h){if(Cq.apply(this,arguments),Q_){if(Q_){var g=h3;Q_=!1,h3=null}else throw Error(Qn(198));f3||(f3=!0,z6=g)}}function U1(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BI(e){if(U1(e)!==e)throw Error(Qn(188))}function xq(e){var t=e.alternate;if(!t){if(t=U1(e),t===null)throw Error(Qn(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return BI(i),e;if(o===r)return BI(i),t;o=o.sibling}throw Error(Qn(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Qn(189))}}if(n.alternate!==r)throw Error(Qn(190))}if(n.tag!==3)throw Error(Qn(188));return n.stateNode.current===n?e:t}function HD(e){return e=xq(e),e!==null?VD(e):null}function VD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VD(e);if(t!==null)return t;e=e.sibling}return null}var ZD=Jc.unstable_scheduleCallback,kI=Jc.unstable_cancelCallback,wq=Jc.unstable_shouldYield,Mq=Jc.unstable_requestPaint,yl=Jc.unstable_now,Sq=Jc.unstable_getCurrentPriorityLevel,IB=Jc.unstable_ImmediatePriority,XD=Jc.unstable_UserBlockingPriority,p3=Jc.unstable_NormalPriority,Eq=Jc.unstable_LowPriority,JD=Jc.unstable_IdlePriority,h5=null,If=null;function Oq(e){if(If&&typeof If.onCommitFiberRoot=="function")try{If.onCommitFiberRoot(h5,e,void 0,(e.current.flags&128)===128)}catch{}}var Mh=Math.clz32?Math.clz32:Iq,Bq=Math.log,kq=Math.LN2;function Iq(e){return e>>>=0,e===0?32:31-(Bq(e)/kq|0)|0}var zx=64,jx=4194304;function k_(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function m3(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=k_(s):(o&=a,o!==0&&(r=k_(o)))}else a=n&~i,a!==0?r=k_(a):o!==0&&(r=k_(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mh(t),i=1<<n,r|=e[n],t&=~i;return r}function Tq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kq(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Mh(o),s=1<<a,h=i[a];h===-1?(!(s&n)||s&r)&&(i[a]=Tq(s,t)):h<=t&&(e.expiredLanes|=s),o&=~s}}function j6(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eL(){var e=zx;return zx<<=1,!(zx&4194240)&&(zx=64),e}function EM(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mh(t),e[t]=n}function Pq(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mh(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function TB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mh(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ea=0;function tL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nL,KB,rL,iL,oL,W6=!1,Wx=[],Gm=null,Qm=null,$m=null,CC=new Map,bC=new Map,Tm=[],Fq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function II(e,t){switch(e){case"focusin":case"focusout":Gm=null;break;case"dragenter":case"dragleave":Qm=null;break;case"mouseover":case"mouseout":$m=null;break;case"pointerover":case"pointerout":CC.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bC.delete(t.pointerId)}}function s_(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=hb(t),t!==null&&KB(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dq(e,t,n,r,i){switch(t){case"focusin":return Gm=s_(Gm,e,t,n,r,i),!0;case"dragenter":return Qm=s_(Qm,e,t,n,r,i),!0;case"mouseover":return $m=s_($m,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return CC.set(o,s_(CC.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bC.set(o,s_(bC.get(o)||null,e,t,n,r,i)),!0}return!1}function aL(e){var t=i1(e.target);if(t!==null){var n=U1(t);if(n!==null){if(t=n.tag,t===13){if(t=qD(n),t!==null){e.blockedOn=t,oL(e.priority,function(){rL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function R2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=N6(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);L6=r,n.target.dispatchEvent(r),L6=null}else return t=hb(n),t!==null&&KB(t),e.blockedOn=n,!1;t.shift()}return!0}function TI(e,t,n){R2(e)&&n.delete(t)}function Lq(){W6=!1,Gm!==null&&R2(Gm)&&(Gm=null),Qm!==null&&R2(Qm)&&(Qm=null),$m!==null&&R2($m)&&($m=null),CC.forEach(TI),bC.forEach(TI)}function l_(e,t){e.blockedOn===t&&(e.blockedOn=null,W6||(W6=!0,Jc.unstable_scheduleCallback(Jc.unstable_NormalPriority,Lq)))}function xC(e){function t(i){return l_(i,e)}if(0<Wx.length){l_(Wx[0],e);for(var n=1;n<Wx.length;n++){var r=Wx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gm!==null&&l_(Gm,e),Qm!==null&&l_(Qm,e),$m!==null&&l_($m,e),CC.forEach(t),bC.forEach(t),n=0;n<Tm.length;n++)r=Tm[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tm.length&&(n=Tm[0],n.blockedOn===null);)aL(n),n.blockedOn===null&&Tm.shift()}var by=$p.ReactCurrentBatchConfig,g3=!0;function Uq(e,t,n,r){var i=Ea,o=by.transition;by.transition=null;try{Ea=1,PB(e,t,n,r)}finally{Ea=i,by.transition=o}}function Rq(e,t,n,r){var i=Ea,o=by.transition;by.transition=null;try{Ea=4,PB(e,t,n,r)}finally{Ea=i,by.transition=o}}function PB(e,t,n,r){if(g3){var i=N6(e,t,n,r);if(i===null)LM(e,t,r,y3,n),II(e,r);else if(Dq(i,e,t,n,r))r.stopPropagation();else if(II(e,r),t&4&&-1<Fq.indexOf(e)){for(;i!==null;){var o=hb(i);if(o!==null&&nL(o),o=N6(e,t,n,r),o===null&&LM(e,t,r,y3,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else LM(e,t,r,null,n)}}var y3=null;function N6(e,t,n,r){if(y3=null,e=kB(r),e=i1(e),e!==null)if(t=U1(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return y3=e,null}function sL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sq()){case IB:return 1;case XD:return 4;case p3:case Eq:return 16;case JD:return 536870912;default:return 16}default:return 16}}var Dm=null,FB=null,z2=null;function lL(){if(z2)return z2;var e,t=FB,n=t.length,r,i="value"in Dm?Dm.value:Dm.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return z2=i.slice(e,1<r?1-r:void 0)}function j2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nx(){return!0}function KI(){return!1}function td(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nx:KI,this.isPropagationStopped=KI,this}return Vs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nx)},persist:function(){},isPersistent:Nx}),t}var Av={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DB=td(Av),db=Vs({},Av,{view:0,detail:0}),zq=td(db),OM,BM,u_,f5=Vs({},db,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==u_&&(u_&&e.type==="mousemove"?(OM=e.screenX-u_.screenX,BM=e.screenY-u_.screenY):BM=OM=0,u_=e),OM)},movementY:function(e){return"movementY"in e?e.movementY:BM}}),PI=td(f5),jq=Vs({},f5,{dataTransfer:0}),Wq=td(jq),Nq=Vs({},db,{relatedTarget:0}),kM=td(Nq),Gq=Vs({},Av,{animationName:0,elapsedTime:0,pseudoElement:0}),Qq=td(Gq),$q=Vs({},Av,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yq=td($q),qq=Vs({},Av,{data:0}),FI=td(qq),Hq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zq[e])?!!t[e]:!1}function LB(){return Xq}var Jq=Vs({},db,{key:function(e){if(e.key){var t=Hq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=j2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LB,charCode:function(e){return e.type==="keypress"?j2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eH=td(Jq),tH=Vs({},f5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DI=td(tH),nH=Vs({},db,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LB}),rH=td(nH),iH=Vs({},Av,{propertyName:0,elapsedTime:0,pseudoElement:0}),oH=td(iH),aH=Vs({},f5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sH=td(aH),lH=[9,13,27,32],UB=Wp&&"CompositionEvent"in window,$_=null;Wp&&"documentMode"in document&&($_=document.documentMode);var uH=Wp&&"TextEvent"in window&&!$_,uL=Wp&&(!UB||$_&&8<$_&&11>=$_),LI=" ",UI=!1;function AL(e,t){switch(e){case"keyup":return lH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xg=!1;function AH(e,t){switch(e){case"compositionend":return cL(t);case"keypress":return t.which!==32?null:(UI=!0,LI);case"textInput":return e=t.data,e===LI&&UI?null:e;default:return null}}function cH(e,t){if(Xg)return e==="compositionend"||!UB&&AL(e,t)?(e=lL(),z2=FB=Dm=null,Xg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uL&&t.locale!=="ko"?null:t.data;default:return null}}var dH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dH[e.type]:t==="textarea"}function dL(e,t,n,r){ND(r),t=v3(t,"onChange"),0<t.length&&(n=new DB("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Y_=null,wC=null;function hH(e){xL(e,0)}function p5(e){var t=ty(e);if(DD(t))return e}function fH(e,t){if(e==="change")return t}var hL=!1;if(Wp){var IM;if(Wp){var TM="oninput"in document;if(!TM){var zI=document.createElement("div");zI.setAttribute("oninput","return;"),TM=typeof zI.oninput=="function"}IM=TM}else IM=!1;hL=IM&&(!document.documentMode||9<document.documentMode)}function jI(){Y_&&(Y_.detachEvent("onpropertychange",fL),wC=Y_=null)}function fL(e){if(e.propertyName==="value"&&p5(wC)){var t=[];dL(t,wC,e,kB(e)),YD(hH,t)}}function pH(e,t,n){e==="focusin"?(jI(),Y_=t,wC=n,Y_.attachEvent("onpropertychange",fL)):e==="focusout"&&jI()}function mH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p5(wC)}function gH(e,t){if(e==="click")return p5(t)}function yH(e,t){if(e==="input"||e==="change")return p5(t)}function vH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oh=typeof Object.is=="function"?Object.is:vH;function MC(e,t){if(Oh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!M6.call(t,i)||!Oh(e[i],t[i]))return!1}return!0}function WI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NI(e,t){var n=WI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WI(n)}}function pL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mL(){for(var e=window,t=d3();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=d3(e.document)}return t}function RB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _H(e){var t=mL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pL(n.ownerDocument.documentElement,n)){if(r!==null&&RB(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=NI(n,o);var a=NI(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CH=Wp&&"documentMode"in document&&11>=document.documentMode,Jg=null,G6=null,q_=null,Q6=!1;function GI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Q6||Jg==null||Jg!==d3(r)||(r=Jg,"selectionStart"in r&&RB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),q_&&MC(q_,r)||(q_=r,r=v3(G6,"onSelect"),0<r.length&&(t=new DB("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jg)))}function Gx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ey={animationend:Gx("Animation","AnimationEnd"),animationiteration:Gx("Animation","AnimationIteration"),animationstart:Gx("Animation","AnimationStart"),transitionend:Gx("Transition","TransitionEnd")},KM={},gL={};Wp&&(gL=document.createElement("div").style,"AnimationEvent"in window||(delete ey.animationend.animation,delete ey.animationiteration.animation,delete ey.animationstart.animation),"TransitionEvent"in window||delete ey.transitionend.transition);function m5(e){if(KM[e])return KM[e];if(!ey[e])return e;var t=ey[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gL)return KM[e]=t[n];return e}var yL=m5("animationend"),vL=m5("animationiteration"),_L=m5("animationstart"),CL=m5("transitionend"),bL=new Map,QI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function u0(e,t){bL.set(e,t),L1(t,[e])}for(var PM=0;PM<QI.length;PM++){var FM=QI[PM],bH=FM.toLowerCase(),xH=FM[0].toUpperCase()+FM.slice(1);u0(bH,"on"+xH)}u0(yL,"onAnimationEnd");u0(vL,"onAnimationIteration");u0(_L,"onAnimationStart");u0("dblclick","onDoubleClick");u0("focusin","onFocus");u0("focusout","onBlur");u0(CL,"onTransitionEnd");Gy("onMouseEnter",["mouseout","mouseover"]);Gy("onMouseLeave",["mouseout","mouseover"]);Gy("onPointerEnter",["pointerout","pointerover"]);Gy("onPointerLeave",["pointerout","pointerover"]);L1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));L1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));L1("onBeforeInput",["compositionend","keypress","textInput","paste"]);L1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));L1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));L1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var I_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wH=new Set("cancel close invalid load scroll toggle".split(" ").concat(I_));function $I(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bq(r,t,void 0,e),e.currentTarget=null}function xL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],h=s.instance,g=s.currentTarget;if(s=s.listener,h!==o&&i.isPropagationStopped())break e;$I(i,s,g),o=h}else for(a=0;a<r.length;a++){if(s=r[a],h=s.instance,g=s.currentTarget,s=s.listener,h!==o&&i.isPropagationStopped())break e;$I(i,s,g),o=h}}}if(f3)throw e=z6,f3=!1,z6=null,e}function fs(e,t){var n=t[V6];n===void 0&&(n=t[V6]=new Set);var r=e+"__bubble";n.has(r)||(wL(t,e,2,!1),n.add(r))}function DM(e,t,n){var r=0;t&&(r|=4),wL(n,e,r,t)}var Qx="_reactListening"+Math.random().toString(36).slice(2);function SC(e){if(!e[Qx]){e[Qx]=!0,ID.forEach(function(n){n!=="selectionchange"&&(wH.has(n)||DM(n,!1,e),DM(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qx]||(t[Qx]=!0,DM("selectionchange",!1,t))}}function wL(e,t,n,r){switch(sL(t)){case 1:var i=Uq;break;case 4:i=Rq;break;default:i=PB}n=i.bind(null,t,n,e),i=void 0,!R6||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function LM(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;s!==null;){if(a=i1(s),a===null)return;if(h=a.tag,h===5||h===6){r=o=a;continue e}s=s.parentNode}}r=r.return}YD(function(){var g=o,_=kB(n),B=[];e:{var k=bL.get(e);if(k!==void 0){var P=DB,F=e;switch(e){case"keypress":if(j2(n)===0)break e;case"keydown":case"keyup":P=eH;break;case"focusin":F="focus",P=kM;break;case"focusout":F="blur",P=kM;break;case"beforeblur":case"afterblur":P=kM;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=PI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Wq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=rH;break;case yL:case vL:case _L:P=Qq;break;case CL:P=oH;break;case"scroll":P=zq;break;case"wheel":P=sH;break;case"copy":case"cut":case"paste":P=Yq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=DI}var q=(t&4)!==0,ee=!q&&e==="scroll",H=q?k!==null?k+"Capture":null:k;q=[];for(var N=g,Z;N!==null;){Z=N;var ue=Z.stateNode;if(Z.tag===5&&ue!==null&&(Z=ue,H!==null&&(ue=_C(N,H),ue!=null&&q.push(EC(N,ue,Z)))),ee)break;N=N.return}0<q.length&&(k=new P(k,F,null,n,_),B.push({event:k,listeners:q}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",k&&n!==L6&&(F=n.relatedTarget||n.fromElement)&&(i1(F)||F[Np]))break e;if((P||k)&&(k=_.window===_?_:(k=_.ownerDocument)?k.defaultView||k.parentWindow:window,P?(F=n.relatedTarget||n.toElement,P=g,F=F?i1(F):null,F!==null&&(ee=U1(F),F!==ee||F.tag!==5&&F.tag!==6)&&(F=null)):(P=null,F=g),P!==F)){if(q=PI,ue="onMouseLeave",H="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(q=DI,ue="onPointerLeave",H="onPointerEnter",N="pointer"),ee=P==null?k:ty(P),Z=F==null?k:ty(F),k=new q(ue,N+"leave",P,n,_),k.target=ee,k.relatedTarget=Z,ue=null,i1(_)===g&&(q=new q(H,N+"enter",F,n,_),q.target=Z,q.relatedTarget=ee,ue=q),ee=ue,P&&F)t:{for(q=P,H=F,N=0,Z=q;Z;Z=Mg(Z))N++;for(Z=0,ue=H;ue;ue=Mg(ue))Z++;for(;0<N-Z;)q=Mg(q),N--;for(;0<Z-N;)H=Mg(H),Z--;for(;N--;){if(q===H||H!==null&&q===H.alternate)break t;q=Mg(q),H=Mg(H)}q=null}else q=null;P!==null&&YI(B,k,P,q,!1),F!==null&&ee!==null&&YI(B,ee,F,q,!0)}}e:{if(k=g?ty(g):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var ye=fH;else if(RI(k))if(hL)ye=yH;else{ye=mH;var be=pH}else(P=k.nodeName)&&P.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(ye=gH);if(ye&&(ye=ye(e,g))){dL(B,ye,n,_);break e}be&&be(e,k,g),e==="focusout"&&(be=k._wrapperState)&&be.controlled&&k.type==="number"&&T6(k,"number",k.value)}switch(be=g?ty(g):window,e){case"focusin":(RI(be)||be.contentEditable==="true")&&(Jg=be,G6=g,q_=null);break;case"focusout":q_=G6=Jg=null;break;case"mousedown":Q6=!0;break;case"contextmenu":case"mouseup":case"dragend":Q6=!1,GI(B,n,_);break;case"selectionchange":if(CH)break;case"keydown":case"keyup":GI(B,n,_)}var J;if(UB)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Xg?AL(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(uL&&n.locale!=="ko"&&(Xg||se!=="onCompositionStart"?se==="onCompositionEnd"&&Xg&&(J=lL()):(Dm=_,FB="value"in Dm?Dm.value:Dm.textContent,Xg=!0)),be=v3(g,se),0<be.length&&(se=new FI(se,e,null,n,_),B.push({event:se,listeners:be}),J?se.data=J:(J=cL(n),J!==null&&(se.data=J)))),(J=uH?AH(e,n):cH(e,n))&&(g=v3(g,"onBeforeInput"),0<g.length&&(_=new FI("onBeforeInput","beforeinput",null,n,_),B.push({event:_,listeners:g}),_.data=J))}xL(B,t)})}function EC(e,t,n){return{instance:e,listener:t,currentTarget:n}}function v3(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_C(e,n),o!=null&&r.unshift(EC(e,o,i)),o=_C(e,t),o!=null&&r.push(EC(e,o,i))),e=e.return}return r}function Mg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YI(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,h=s.alternate,g=s.stateNode;if(h!==null&&h===r)break;s.tag===5&&g!==null&&(s=g,i?(h=_C(n,o),h!=null&&a.unshift(EC(n,h,s))):i||(h=_C(n,o),h!=null&&a.push(EC(n,h,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var MH=/\r\n?/g,SH=/\u0000|\uFFFD/g;function qI(e){return(typeof e=="string"?e:""+e).replace(MH,`
`).replace(SH,"")}function $x(e,t,n){if(t=qI(t),qI(e)!==t&&n)throw Error(Qn(425))}function _3(){}var $6=null,Y6=null;function q6(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H6=typeof setTimeout=="function"?setTimeout:void 0,EH=typeof clearTimeout=="function"?clearTimeout:void 0,HI=typeof Promise=="function"?Promise:void 0,OH=typeof queueMicrotask=="function"?queueMicrotask:typeof HI<"u"?function(e){return HI.resolve(null).then(e).catch(BH)}:H6;function BH(e){setTimeout(function(){throw e})}function UM(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xC(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xC(t)}function Ym(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function VI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cv=Math.random().toString(36).slice(2),Mf="__reactFiber$"+cv,OC="__reactProps$"+cv,Np="__reactContainer$"+cv,V6="__reactEvents$"+cv,kH="__reactListeners$"+cv,IH="__reactHandles$"+cv;function i1(e){var t=e[Mf];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Np]||n[Mf]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=VI(e);e!==null;){if(n=e[Mf])return n;e=VI(e)}return t}e=n,n=e.parentNode}return null}function hb(e){return e=e[Mf]||e[Np],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ty(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qn(33))}function g5(e){return e[OC]||null}var Z6=[],ny=-1;function A0(e){return{current:e}}function _s(e){0>ny||(e.current=Z6[ny],Z6[ny]=null,ny--)}function ns(e,t){ny++,Z6[ny]=e.current,e.current=t}var o0={},fA=A0(o0),_c=A0(!1),b1=o0;function Qy(e,t){var n=e.type.contextTypes;if(!n)return o0;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Cc(e){return e=e.childContextTypes,e!=null}function C3(){_s(_c),_s(fA)}function ZI(e,t,n){if(fA.current!==o0)throw Error(Qn(168));ns(fA,t),ns(_c,n)}function ML(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Qn(108,pq(e)||"Unknown",i));return Vs({},n,r)}function b3(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||o0,b1=fA.current,ns(fA,e),ns(_c,_c.current),!0}function XI(e,t,n){var r=e.stateNode;if(!r)throw Error(Qn(169));n?(e=ML(e,t,b1),r.__reactInternalMemoizedMergedChildContext=e,_s(_c),_s(fA),ns(fA,e)):_s(_c),ns(_c,n)}var Op=null,y5=!1,RM=!1;function SL(e){Op===null?Op=[e]:Op.push(e)}function TH(e){y5=!0,SL(e)}function c0(){if(!RM&&Op!==null){RM=!0;var e=0,t=Ea;try{var n=Op;for(Ea=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Op=null,y5=!1}catch(i){throw Op!==null&&(Op=Op.slice(e+1)),ZD(IB,c0),i}finally{Ea=t,RM=!1}}return null}var ry=[],iy=0,x3=null,w3=0,Bd=[],kd=0,x1=null,Pp=1,Fp="";function Q0(e,t){ry[iy++]=w3,ry[iy++]=x3,x3=e,w3=t}function EL(e,t,n){Bd[kd++]=Pp,Bd[kd++]=Fp,Bd[kd++]=x1,x1=e;var r=Pp;e=Fp;var i=32-Mh(r)-1;r&=~(1<<i),n+=1;var o=32-Mh(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Pp=1<<32-Mh(t)+i|n<<i|r,Fp=o+e}else Pp=1<<o|n<<i|r,Fp=e}function zB(e){e.return!==null&&(Q0(e,1),EL(e,1,0))}function jB(e){for(;e===x3;)x3=ry[--iy],ry[iy]=null,w3=ry[--iy],ry[iy]=null;for(;e===x1;)x1=Bd[--kd],Bd[kd]=null,Fp=Bd[--kd],Bd[kd]=null,Pp=Bd[--kd],Bd[kd]=null}var Zc=null,qc=null,Ts=!1,xh=null;function OL(e,t){var n=Td(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function JI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zc=e,qc=Ym(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zc=e,qc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=x1!==null?{id:Pp,overflow:Fp}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Td(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zc=e,qc=null,!0):!1;default:return!1}}function X6(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J6(e){if(Ts){var t=qc;if(t){var n=t;if(!JI(e,t)){if(X6(e))throw Error(Qn(418));t=Ym(n.nextSibling);var r=Zc;t&&JI(e,t)?OL(r,n):(e.flags=e.flags&-4097|2,Ts=!1,Zc=e)}}else{if(X6(e))throw Error(Qn(418));e.flags=e.flags&-4097|2,Ts=!1,Zc=e}}}function e9(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zc=e}function Yx(e){if(e!==Zc)return!1;if(!Ts)return e9(e),Ts=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!q6(e.type,e.memoizedProps)),t&&(t=qc)){if(X6(e))throw BL(),Error(Qn(418));for(;t;)OL(e,t),t=Ym(t.nextSibling)}if(e9(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qc=Ym(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qc=null}}else qc=Zc?Ym(e.stateNode.nextSibling):null;return!0}function BL(){for(var e=qc;e;)e=Ym(e.nextSibling)}function $y(){qc=Zc=null,Ts=!1}function WB(e){xh===null?xh=[e]:xh.push(e)}var KH=$p.ReactCurrentBatchConfig;function _h(e,t){if(e&&e.defaultProps){t=Vs({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var M3=A0(null),S3=null,oy=null,NB=null;function GB(){NB=oy=S3=null}function QB(e){var t=M3.current;_s(M3),e._currentValue=t}function eE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xy(e,t){S3=e,NB=oy=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vc=!0),e.firstContext=null)}function Ud(e){var t=e._currentValue;if(NB!==e)if(e={context:e,memoizedValue:t,next:null},oy===null){if(S3===null)throw Error(Qn(308));oy=e,S3.dependencies={lanes:0,firstContext:e}}else oy=oy.next=e;return t}var o1=null;function $B(e){o1===null?o1=[e]:o1.push(e)}function kL(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$B(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gp(e,r)}function Gp(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mm=!1;function YB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qm(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qo&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gp(e,n)}return i=r.interleaved,i===null?(t.next=t,$B(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gp(e,n)}function W2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TB(e,n)}}function t9(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function E3(e,t,n,r){var i=e.updateQueue;Mm=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var h=s,g=h.next;h.next=null,a===null?o=g:a.next=g,a=h;var _=e.alternate;_!==null&&(_=_.updateQueue,s=_.lastBaseUpdate,s!==a&&(s===null?_.firstBaseUpdate=g:s.next=g,_.lastBaseUpdate=h))}if(o!==null){var B=i.baseState;a=0,_=g=h=null,s=o;do{var k=s.lane,P=s.eventTime;if((r&k)===k){_!==null&&(_=_.next={eventTime:P,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var F=e,q=s;switch(k=t,P=n,q.tag){case 1:if(F=q.payload,typeof F=="function"){B=F.call(P,B,k);break e}B=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=q.payload,k=typeof F=="function"?F.call(P,B,k):F,k==null)break e;B=Vs({},B,k);break e;case 2:Mm=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,k=i.effects,k===null?i.effects=[s]:k.push(s))}else P={eventTime:P,lane:k,tag:s.tag,payload:s.payload,callback:s.callback,next:null},_===null?(g=_=P,h=B):_=_.next=P,a|=k;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;k=s,s=k.next,k.next=null,i.lastBaseUpdate=k,i.shared.pending=null}}while(!0);if(_===null&&(h=B),i.baseState=h,i.firstBaseUpdate=g,i.lastBaseUpdate=_,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);M1|=a,e.lanes=a,e.memoizedState=B}}function n9(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qn(191,i));i.call(r)}}}var TL=new kD.Component().refs;function tE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vs({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var v5={isMounted:function(e){return(e=e._reactInternals)?U1(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=RA(),i=Vm(e),o=Dp(r,i);o.payload=t,n!=null&&(o.callback=n),t=qm(e,o,i),t!==null&&(Sh(t,e,i,r),W2(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=RA(),i=Vm(e),o=Dp(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=qm(e,o,i),t!==null&&(Sh(t,e,i,r),W2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=RA(),r=Vm(e),i=Dp(n,r);i.tag=2,t!=null&&(i.callback=t),t=qm(e,i,r),t!==null&&(Sh(t,e,r,n),W2(t,e,r))}};function r9(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!MC(n,r)||!MC(i,o):!0}function KL(e,t,n){var r=!1,i=o0,o=t.contextType;return typeof o=="object"&&o!==null?o=Ud(o):(i=Cc(t)?b1:fA.current,r=t.contextTypes,o=(r=r!=null)?Qy(e,i):o0),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=v5,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function i9(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&v5.enqueueReplaceState(t,t.state,null)}function nE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=TL,YB(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ud(o):(o=Cc(t)?b1:fA.current,i.context=Qy(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(tE(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&v5.enqueueReplaceState(i,i.state,null),E3(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function A_(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qn(309));var r=n.stateNode}if(!r)throw Error(Qn(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===TL&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Qn(284));if(!n._owner)throw Error(Qn(290,e))}return e}function qx(e,t){throw e=Object.prototype.toString.call(t),Error(Qn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function o9(e){var t=e._init;return t(e._payload)}function PL(e){function t(H,N){if(e){var Z=H.deletions;Z===null?(H.deletions=[N],H.flags|=16):Z.push(N)}}function n(H,N){if(!e)return null;for(;N!==null;)t(H,N),N=N.sibling;return null}function r(H,N){for(H=new Map;N!==null;)N.key!==null?H.set(N.key,N):H.set(N.index,N),N=N.sibling;return H}function i(H,N){return H=Zm(H,N),H.index=0,H.sibling=null,H}function o(H,N,Z){return H.index=Z,e?(Z=H.alternate,Z!==null?(Z=Z.index,Z<N?(H.flags|=2,N):Z):(H.flags|=2,N)):(H.flags|=1048576,N)}function a(H){return e&&H.alternate===null&&(H.flags|=2),H}function s(H,N,Z,ue){return N===null||N.tag!==6?(N=$M(Z,H.mode,ue),N.return=H,N):(N=i(N,Z),N.return=H,N)}function h(H,N,Z,ue){var ye=Z.type;return ye===Zg?_(H,N,Z.props.children,ue,Z.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===wm&&o9(ye)===N.type)?(ue=i(N,Z.props),ue.ref=A_(H,N,Z),ue.return=H,ue):(ue=q2(Z.type,Z.key,Z.props,null,H.mode,ue),ue.ref=A_(H,N,Z),ue.return=H,ue)}function g(H,N,Z,ue){return N===null||N.tag!==4||N.stateNode.containerInfo!==Z.containerInfo||N.stateNode.implementation!==Z.implementation?(N=YM(Z,H.mode,ue),N.return=H,N):(N=i(N,Z.children||[]),N.return=H,N)}function _(H,N,Z,ue,ye){return N===null||N.tag!==7?(N=f1(Z,H.mode,ue,ye),N.return=H,N):(N=i(N,Z),N.return=H,N)}function B(H,N,Z){if(typeof N=="string"&&N!==""||typeof N=="number")return N=$M(""+N,H.mode,Z),N.return=H,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lx:return Z=q2(N.type,N.key,N.props,null,H.mode,Z),Z.ref=A_(H,null,N),Z.return=H,Z;case Vg:return N=YM(N,H.mode,Z),N.return=H,N;case wm:var ue=N._init;return B(H,ue(N._payload),Z)}if(B_(N)||o_(N))return N=f1(N,H.mode,Z,null),N.return=H,N;qx(H,N)}return null}function k(H,N,Z,ue){var ye=N!==null?N.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ye!==null?null:s(H,N,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Lx:return Z.key===ye?h(H,N,Z,ue):null;case Vg:return Z.key===ye?g(H,N,Z,ue):null;case wm:return ye=Z._init,k(H,N,ye(Z._payload),ue)}if(B_(Z)||o_(Z))return ye!==null?null:_(H,N,Z,ue,null);qx(H,Z)}return null}function P(H,N,Z,ue,ye){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(Z)||null,s(N,H,""+ue,ye);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Lx:return H=H.get(ue.key===null?Z:ue.key)||null,h(N,H,ue,ye);case Vg:return H=H.get(ue.key===null?Z:ue.key)||null,g(N,H,ue,ye);case wm:var be=ue._init;return P(H,N,Z,be(ue._payload),ye)}if(B_(ue)||o_(ue))return H=H.get(Z)||null,_(N,H,ue,ye,null);qx(N,ue)}return null}function F(H,N,Z,ue){for(var ye=null,be=null,J=N,se=N=0,xe=null;J!==null&&se<Z.length;se++){J.index>se?(xe=J,J=null):xe=J.sibling;var Se=k(H,J,Z[se],ue);if(Se===null){J===null&&(J=xe);break}e&&J&&Se.alternate===null&&t(H,J),N=o(Se,N,se),be===null?ye=Se:be.sibling=Se,be=Se,J=xe}if(se===Z.length)return n(H,J),Ts&&Q0(H,se),ye;if(J===null){for(;se<Z.length;se++)J=B(H,Z[se],ue),J!==null&&(N=o(J,N,se),be===null?ye=J:be.sibling=J,be=J);return Ts&&Q0(H,se),ye}for(J=r(H,J);se<Z.length;se++)xe=P(J,H,se,Z[se],ue),xe!==null&&(e&&xe.alternate!==null&&J.delete(xe.key===null?se:xe.key),N=o(xe,N,se),be===null?ye=xe:be.sibling=xe,be=xe);return e&&J.forEach(function(De){return t(H,De)}),Ts&&Q0(H,se),ye}function q(H,N,Z,ue){var ye=o_(Z);if(typeof ye!="function")throw Error(Qn(150));if(Z=ye.call(Z),Z==null)throw Error(Qn(151));for(var be=ye=null,J=N,se=N=0,xe=null,Se=Z.next();J!==null&&!Se.done;se++,Se=Z.next()){J.index>se?(xe=J,J=null):xe=J.sibling;var De=k(H,J,Se.value,ue);if(De===null){J===null&&(J=xe);break}e&&J&&De.alternate===null&&t(H,J),N=o(De,N,se),be===null?ye=De:be.sibling=De,be=De,J=xe}if(Se.done)return n(H,J),Ts&&Q0(H,se),ye;if(J===null){for(;!Se.done;se++,Se=Z.next())Se=B(H,Se.value,ue),Se!==null&&(N=o(Se,N,se),be===null?ye=Se:be.sibling=Se,be=Se);return Ts&&Q0(H,se),ye}for(J=r(H,J);!Se.done;se++,Se=Z.next())Se=P(J,H,se,Se.value,ue),Se!==null&&(e&&Se.alternate!==null&&J.delete(Se.key===null?se:Se.key),N=o(Se,N,se),be===null?ye=Se:be.sibling=Se,be=Se);return e&&J.forEach(function(Le){return t(H,Le)}),Ts&&Q0(H,se),ye}function ee(H,N,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===Zg&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Lx:e:{for(var ye=Z.key,be=N;be!==null;){if(be.key===ye){if(ye=Z.type,ye===Zg){if(be.tag===7){n(H,be.sibling),N=i(be,Z.props.children),N.return=H,H=N;break e}}else if(be.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===wm&&o9(ye)===be.type){n(H,be.sibling),N=i(be,Z.props),N.ref=A_(H,be,Z),N.return=H,H=N;break e}n(H,be);break}else t(H,be);be=be.sibling}Z.type===Zg?(N=f1(Z.props.children,H.mode,ue,Z.key),N.return=H,H=N):(ue=q2(Z.type,Z.key,Z.props,null,H.mode,ue),ue.ref=A_(H,N,Z),ue.return=H,H=ue)}return a(H);case Vg:e:{for(be=Z.key;N!==null;){if(N.key===be)if(N.tag===4&&N.stateNode.containerInfo===Z.containerInfo&&N.stateNode.implementation===Z.implementation){n(H,N.sibling),N=i(N,Z.children||[]),N.return=H,H=N;break e}else{n(H,N);break}else t(H,N);N=N.sibling}N=YM(Z,H.mode,ue),N.return=H,H=N}return a(H);case wm:return be=Z._init,ee(H,N,be(Z._payload),ue)}if(B_(Z))return F(H,N,Z,ue);if(o_(Z))return q(H,N,Z,ue);qx(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,N!==null&&N.tag===6?(n(H,N.sibling),N=i(N,Z),N.return=H,H=N):(n(H,N),N=$M(Z,H.mode,ue),N.return=H,H=N),a(H)):n(H,N)}return ee}var Yy=PL(!0),FL=PL(!1),fb={},Tf=A0(fb),BC=A0(fb),kC=A0(fb);function a1(e){if(e===fb)throw Error(Qn(174));return e}function qB(e,t){switch(ns(kC,t),ns(BC,e),ns(Tf,fb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:P6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=P6(t,e)}_s(Tf),ns(Tf,t)}function qy(){_s(Tf),_s(BC),_s(kC)}function DL(e){a1(kC.current);var t=a1(Tf.current),n=P6(t,e.type);t!==n&&(ns(BC,e),ns(Tf,n))}function HB(e){BC.current===e&&(_s(Tf),_s(BC))}var $s=A0(0);function O3(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zM=[];function VB(){for(var e=0;e<zM.length;e++)zM[e]._workInProgressVersionPrimary=null;zM.length=0}var N2=$p.ReactCurrentDispatcher,jM=$p.ReactCurrentBatchConfig,w1=0,Hs=null,ql=null,yu=null,B3=!1,H_=!1,IC=0,PH=0;function uA(){throw Error(Qn(321))}function ZB(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oh(e[n],t[n]))return!1;return!0}function XB(e,t,n,r,i,o){if(w1=o,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N2.current=e===null||e.memoizedState===null?UH:RH,e=n(r,i),H_){o=0;do{if(H_=!1,IC=0,25<=o)throw Error(Qn(301));o+=1,yu=ql=null,t.updateQueue=null,N2.current=zH,e=n(r,i)}while(H_)}if(N2.current=k3,t=ql!==null&&ql.next!==null,w1=0,yu=ql=Hs=null,B3=!1,t)throw Error(Qn(300));return e}function JB(){var e=IC!==0;return IC=0,e}function gf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yu===null?Hs.memoizedState=yu=e:yu=yu.next=e,yu}function Rd(){if(ql===null){var e=Hs.alternate;e=e!==null?e.memoizedState:null}else e=ql.next;var t=yu===null?Hs.memoizedState:yu.next;if(t!==null)yu=t,ql=e;else{if(e===null)throw Error(Qn(310));ql=e,e={memoizedState:ql.memoizedState,baseState:ql.baseState,baseQueue:ql.baseQueue,queue:ql.queue,next:null},yu===null?Hs.memoizedState=yu=e:yu=yu.next=e}return yu}function TC(e,t){return typeof t=="function"?t(e):t}function WM(e){var t=Rd(),n=t.queue;if(n===null)throw Error(Qn(311));n.lastRenderedReducer=e;var r=ql,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,h=null,g=o;do{var _=g.lane;if((w1&_)===_)h!==null&&(h=h.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var B={lane:_,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};h===null?(s=h=B,a=r):h=h.next=B,Hs.lanes|=_,M1|=_}g=g.next}while(g!==null&&g!==o);h===null?a=r:h.next=s,Oh(r,t.memoizedState)||(vc=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Hs.lanes|=o,M1|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function NM(e){var t=Rd(),n=t.queue;if(n===null)throw Error(Qn(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Oh(o,t.memoizedState)||(vc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function LL(){}function UL(e,t){var n=Hs,r=Rd(),i=t(),o=!Oh(r.memoizedState,i);if(o&&(r.memoizedState=i,vc=!0),r=r.queue,e7(jL.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||yu!==null&&yu.memoizedState.tag&1){if(n.flags|=2048,KC(9,zL.bind(null,n,r,i,t),void 0,null),_u===null)throw Error(Qn(349));w1&30||RL(n,t,i)}return i}function RL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Hs.updateQueue,t===null?(t={lastEffect:null,stores:null},Hs.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zL(e,t,n,r){t.value=n,t.getSnapshot=r,WL(t)&&NL(e)}function jL(e,t,n){return n(function(){WL(t)&&NL(e)})}function WL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oh(e,n)}catch{return!0}}function NL(e){var t=Gp(e,1);t!==null&&Sh(t,e,1,-1)}function a9(e){var t=gf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:TC,lastRenderedState:e},t.queue=e,e=e.dispatch=LH.bind(null,Hs,e),[t.memoizedState,e]}function KC(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Hs.updateQueue,t===null?(t={lastEffect:null,stores:null},Hs.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function GL(){return Rd().memoizedState}function G2(e,t,n,r){var i=gf();Hs.flags|=e,i.memoizedState=KC(1|t,n,void 0,r===void 0?null:r)}function _5(e,t,n,r){var i=Rd();r=r===void 0?null:r;var o=void 0;if(ql!==null){var a=ql.memoizedState;if(o=a.destroy,r!==null&&ZB(r,a.deps)){i.memoizedState=KC(t,n,o,r);return}}Hs.flags|=e,i.memoizedState=KC(1|t,n,o,r)}function s9(e,t){return G2(8390656,8,e,t)}function e7(e,t){return _5(2048,8,e,t)}function QL(e,t){return _5(4,2,e,t)}function $L(e,t){return _5(4,4,e,t)}function YL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qL(e,t,n){return n=n!=null?n.concat([e]):null,_5(4,4,YL.bind(null,t,e),n)}function t7(){}function HL(e,t){var n=Rd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ZB(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function VL(e,t){var n=Rd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ZB(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ZL(e,t,n){return w1&21?(Oh(n,t)||(n=eL(),Hs.lanes|=n,M1|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vc=!0),e.memoizedState=n)}function FH(e,t){var n=Ea;Ea=n!==0&&4>n?n:4,e(!0);var r=jM.transition;jM.transition={};try{e(!1),t()}finally{Ea=n,jM.transition=r}}function XL(){return Rd().memoizedState}function DH(e,t,n){var r=Vm(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JL(e))eU(t,n);else if(n=kL(e,t,n,r),n!==null){var i=RA();Sh(n,e,r,i),tU(n,t,r)}}function LH(e,t,n){var r=Vm(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JL(e))eU(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Oh(s,a)){var h=t.interleaved;h===null?(i.next=i,$B(t)):(i.next=h.next,h.next=i),t.interleaved=i;return}}catch{}finally{}n=kL(e,t,i,r),n!==null&&(i=RA(),Sh(n,e,r,i),tU(n,t,r))}}function JL(e){var t=e.alternate;return e===Hs||t!==null&&t===Hs}function eU(e,t){H_=B3=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tU(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TB(e,n)}}var k3={readContext:Ud,useCallback:uA,useContext:uA,useEffect:uA,useImperativeHandle:uA,useInsertionEffect:uA,useLayoutEffect:uA,useMemo:uA,useReducer:uA,useRef:uA,useState:uA,useDebugValue:uA,useDeferredValue:uA,useTransition:uA,useMutableSource:uA,useSyncExternalStore:uA,useId:uA,unstable_isNewReconciler:!1},UH={readContext:Ud,useCallback:function(e,t){return gf().memoizedState=[e,t===void 0?null:t],e},useContext:Ud,useEffect:s9,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,G2(4194308,4,YL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return G2(4194308,4,e,t)},useInsertionEffect:function(e,t){return G2(4,2,e,t)},useMemo:function(e,t){var n=gf();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gf();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=DH.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){var t=gf();return e={current:e},t.memoizedState=e},useState:a9,useDebugValue:t7,useDeferredValue:function(e){return gf().memoizedState=e},useTransition:function(){var e=a9(!1),t=e[0];return e=FH.bind(null,e[1]),gf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Hs,i=gf();if(Ts){if(n===void 0)throw Error(Qn(407));n=n()}else{if(n=t(),_u===null)throw Error(Qn(349));w1&30||RL(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,s9(jL.bind(null,r,o,e),[e]),r.flags|=2048,KC(9,zL.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=gf(),t=_u.identifierPrefix;if(Ts){var n=Fp,r=Pp;n=(r&~(1<<32-Mh(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=IC++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PH++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RH={readContext:Ud,useCallback:HL,useContext:Ud,useEffect:e7,useImperativeHandle:qL,useInsertionEffect:QL,useLayoutEffect:$L,useMemo:VL,useReducer:WM,useRef:GL,useState:function(){return WM(TC)},useDebugValue:t7,useDeferredValue:function(e){var t=Rd();return ZL(t,ql.memoizedState,e)},useTransition:function(){var e=WM(TC)[0],t=Rd().memoizedState;return[e,t]},useMutableSource:LL,useSyncExternalStore:UL,useId:XL,unstable_isNewReconciler:!1},zH={readContext:Ud,useCallback:HL,useContext:Ud,useEffect:e7,useImperativeHandle:qL,useInsertionEffect:QL,useLayoutEffect:$L,useMemo:VL,useReducer:NM,useRef:GL,useState:function(){return NM(TC)},useDebugValue:t7,useDeferredValue:function(e){var t=Rd();return ql===null?t.memoizedState=e:ZL(t,ql.memoizedState,e)},useTransition:function(){var e=NM(TC)[0],t=Rd().memoizedState;return[e,t]},useMutableSource:LL,useSyncExternalStore:UL,useId:XL,unstable_isNewReconciler:!1};function Hy(e,t){try{var n="",r=t;do n+=fq(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function GM(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jH=typeof WeakMap=="function"?WeakMap:Map;function nU(e,t,n){n=Dp(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){T3||(T3=!0,hE=r),rE(e,t)},n}function rU(e,t,n){n=Dp(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rE(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rE(e,t),typeof r!="function"&&(Hm===null?Hm=new Set([this]):Hm.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function l9(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jH;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=tV.bind(null,e,t,n),t.then(e,e))}function u9(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A9(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dp(-1,1),t.tag=2,qm(n,t,1))),n.lanes|=1),e)}var WH=$p.ReactCurrentOwner,vc=!1;function FA(e,t,n,r){t.child=e===null?FL(t,null,n,r):Yy(t,e.child,n,r)}function c9(e,t,n,r,i){n=n.render;var o=t.ref;return xy(t,i),r=XB(e,t,n,r,o,i),n=JB(),e!==null&&!vc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qp(e,t,i)):(Ts&&n&&zB(t),t.flags|=1,FA(e,t,r,i),t.child)}function d9(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!u7(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,iU(e,t,o,r,i)):(e=q2(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:MC,n(a,r)&&e.ref===t.ref)return Qp(e,t,i)}return t.flags|=1,e=Zm(o,r),e.ref=t.ref,e.return=t,t.child=e}function iU(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(MC(o,r)&&e.ref===t.ref)if(vc=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(vc=!0);else return t.lanes=e.lanes,Qp(e,t,i)}return iE(e,t,n,r,i)}function oU(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ns(sy,Nc),Nc|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ns(sy,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ns(sy,Nc),Nc|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ns(sy,Nc),Nc|=r;return FA(e,t,i,n),t.child}function aU(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function iE(e,t,n,r,i){var o=Cc(n)?b1:fA.current;return o=Qy(t,o),xy(t,i),n=XB(e,t,n,r,o,i),r=JB(),e!==null&&!vc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qp(e,t,i)):(Ts&&r&&zB(t),t.flags|=1,FA(e,t,n,i),t.child)}function h9(e,t,n,r,i){if(Cc(n)){var o=!0;b3(t)}else o=!1;if(xy(t,i),t.stateNode===null)Q2(e,t),KL(t,n,r),nE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var h=a.context,g=n.contextType;typeof g=="object"&&g!==null?g=Ud(g):(g=Cc(n)?b1:fA.current,g=Qy(t,g));var _=n.getDerivedStateFromProps,B=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function";B||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||h!==g)&&i9(t,a,r,g),Mm=!1;var k=t.memoizedState;a.state=k,E3(t,r,a,i),h=t.memoizedState,s!==r||k!==h||_c.current||Mm?(typeof _=="function"&&(tE(t,n,_,r),h=t.memoizedState),(s=Mm||r9(t,n,s,r,k,h,g))?(B||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=g,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,IL(e,t),s=t.memoizedProps,g=t.type===t.elementType?s:_h(t.type,s),a.props=g,B=t.pendingProps,k=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ud(h):(h=Cc(n)?b1:fA.current,h=Qy(t,h));var P=n.getDerivedStateFromProps;(_=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==B||k!==h)&&i9(t,a,r,h),Mm=!1,k=t.memoizedState,a.state=k,E3(t,r,a,i);var F=t.memoizedState;s!==B||k!==F||_c.current||Mm?(typeof P=="function"&&(tE(t,n,P,r),F=t.memoizedState),(g=Mm||r9(t,n,g,r,k,F,h)||!1)?(_||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,F,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,F,h)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=F),a.props=r,a.state=F,a.context=h,r=g):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),r=!1)}return oE(e,t,n,r,o,i)}function oE(e,t,n,r,i,o){aU(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&XI(t,n,!1),Qp(e,t,o);r=t.stateNode,WH.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Yy(t,e.child,null,o),t.child=Yy(t,null,s,o)):FA(e,t,s,o),t.memoizedState=r.state,i&&XI(t,n,!0),t.child}function sU(e){var t=e.stateNode;t.pendingContext?ZI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZI(e,t.context,!1),qB(e,t.containerInfo)}function f9(e,t,n,r,i){return $y(),WB(i),t.flags|=256,FA(e,t,n,r),t.child}var aE={dehydrated:null,treeContext:null,retryLane:0};function sE(e){return{baseLanes:e,cachePool:null,transitions:null}}function lU(e,t,n){var r=t.pendingProps,i=$s.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ns($s,i&1),e===null)return J6(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=x5(a,r,0,null),e=f1(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sE(n),t.memoizedState=aE,e):n7(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return NH(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Zm(i,h),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Zm(s,o):(o=f1(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?sE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=aE,r}return o=e.child,e=o.sibling,r=Zm(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function n7(e,t){return t=x5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hx(e,t,n,r){return r!==null&&WB(r),Yy(t,e.child,null,n),e=n7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NH(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=GM(Error(Qn(422))),Hx(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=x5({mode:"visible",children:r.children},i,0,null),o=f1(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Yy(t,e.child,null,a),t.child.memoizedState=sE(a),t.memoizedState=aE,o);if(!(t.mode&1))return Hx(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Qn(419)),r=GM(o,r,void 0),Hx(e,t,a,r)}if(s=(a&e.childLanes)!==0,vc||s){if(r=_u,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gp(e,i),Sh(r,e,i,-1))}return l7(),r=GM(Error(Qn(421))),Hx(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nV.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qc=Ym(i.nextSibling),Zc=t,Ts=!0,xh=null,e!==null&&(Bd[kd++]=Pp,Bd[kd++]=Fp,Bd[kd++]=x1,Pp=e.id,Fp=e.overflow,x1=t),t=n7(t,r.children),t.flags|=4096,t)}function p9(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eE(e.return,t,n)}function QM(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uU(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(FA(e,t,r.children,n),r=$s.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p9(e,n,t);else if(e.tag===19)p9(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ns($s,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&O3(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),QM(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&O3(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}QM(t,!0,n,null,o);break;case"together":QM(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Q2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qp(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),M1|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Qn(153));if(t.child!==null){for(e=t.child,n=Zm(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zm(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function GH(e,t,n){switch(t.tag){case 3:sU(t),$y();break;case 5:DL(t);break;case 1:Cc(t.type)&&b3(t);break;case 4:qB(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ns(M3,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ns($s,$s.current&1),t.flags|=128,null):n&t.child.childLanes?lU(e,t,n):(ns($s,$s.current&1),e=Qp(e,t,n),e!==null?e.sibling:null);ns($s,$s.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uU(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ns($s,$s.current),r)break;return null;case 22:case 23:return t.lanes=0,oU(e,t,n)}return Qp(e,t,n)}var AU,lE,cU,dU;AU=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lE=function(){};cU=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,a1(Tf.current);var o=null;switch(n){case"input":i=k6(e,i),r=k6(e,r),o=[];break;case"select":i=Vs({},i,{value:void 0}),r=Vs({},r,{value:void 0}),o=[];break;case"textarea":i=K6(e,i),r=K6(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_3)}F6(n,r);var a;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var s=i[g];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(yC.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var h=r[g];if(s=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&h!==s&&(h!=null||s!=null))if(g==="style")if(s){for(a in s)!s.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&s[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(g,n)),n=h;else g==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,s=s?s.__html:void 0,h!=null&&s!==h&&(o=o||[]).push(g,h)):g==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(g,""+h):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(yC.hasOwnProperty(g)?(h!=null&&g==="onScroll"&&fs("scroll",e),o||s===h||(o=[])):(o=o||[]).push(g,h))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};dU=function(e,t,n,r){n!==r&&(t.flags|=4)};function c_(e,t){if(!Ts)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function AA(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QH(e,t,n){var r=t.pendingProps;switch(jB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return AA(t),null;case 1:return Cc(t.type)&&C3(),AA(t),null;case 3:return r=t.stateNode,qy(),_s(_c),_s(fA),VB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xh!==null&&(mE(xh),xh=null))),lE(e,t),AA(t),null;case 5:HB(t);var i=a1(kC.current);if(n=t.type,e!==null&&t.stateNode!=null)cU(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Qn(166));return AA(t),null}if(e=a1(Tf.current),Yx(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Mf]=t,r[OC]=o,e=(t.mode&1)!==0,n){case"dialog":fs("cancel",r),fs("close",r);break;case"iframe":case"object":case"embed":fs("load",r);break;case"video":case"audio":for(i=0;i<I_.length;i++)fs(I_[i],r);break;case"source":fs("error",r);break;case"img":case"image":case"link":fs("error",r),fs("load",r);break;case"details":fs("toggle",r);break;case"input":wI(r,o),fs("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fs("invalid",r);break;case"textarea":SI(r,o),fs("invalid",r)}F6(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&$x(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$x(r.textContent,s,e),i=["children",""+s]):yC.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&fs("scroll",r)}switch(n){case"input":Ux(r),MI(r,o,!0);break;case"textarea":Ux(r),EI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_3)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Mf]=t,e[OC]=r,AU(e,t,!1,!1),t.stateNode=e;e:{switch(a=D6(n,r),n){case"dialog":fs("cancel",e),fs("close",e),i=r;break;case"iframe":case"object":case"embed":fs("load",e),i=r;break;case"video":case"audio":for(i=0;i<I_.length;i++)fs(I_[i],e);i=r;break;case"source":fs("error",e),i=r;break;case"img":case"image":case"link":fs("error",e),fs("load",e),i=r;break;case"details":fs("toggle",e),i=r;break;case"input":wI(e,r),i=k6(e,r),fs("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Vs({},r,{value:void 0}),fs("invalid",e);break;case"textarea":SI(e,r),i=K6(e,r),fs("invalid",e);break;default:i=r}F6(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var h=s[o];o==="style"?WD(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&zD(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&vC(e,h):typeof h=="number"&&vC(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yC.hasOwnProperty(o)?h!=null&&o==="onScroll"&&fs("scroll",e):h!=null&&SB(e,o,h,a))}switch(n){case"input":Ux(e),MI(e,r,!1);break;case"textarea":Ux(e),EI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+i0(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?vy(e,!!r.multiple,o,!1):r.defaultValue!=null&&vy(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return AA(t),null;case 6:if(e&&t.stateNode!=null)dU(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Qn(166));if(n=a1(kC.current),a1(Tf.current),Yx(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mf]=t,(o=r.nodeValue!==n)&&(e=Zc,e!==null))switch(e.tag){case 3:$x(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$x(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mf]=t,t.stateNode=r}return AA(t),null;case 13:if(_s($s),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ts&&qc!==null&&t.mode&1&&!(t.flags&128))BL(),$y(),t.flags|=98560,o=!1;else if(o=Yx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Qn(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Qn(317));o[Mf]=t}else $y(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;AA(t),o=!1}else xh!==null&&(mE(xh),xh=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$s.current&1?Hl===0&&(Hl=3):l7())),t.updateQueue!==null&&(t.flags|=4),AA(t),null);case 4:return qy(),lE(e,t),e===null&&SC(t.stateNode.containerInfo),AA(t),null;case 10:return QB(t.type._context),AA(t),null;case 17:return Cc(t.type)&&C3(),AA(t),null;case 19:if(_s($s),o=t.memoizedState,o===null)return AA(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)c_(o,!1);else{if(Hl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=O3(e),a!==null){for(t.flags|=128,c_(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ns($s,$s.current&1|2),t.child}e=e.sibling}o.tail!==null&&yl()>Vy&&(t.flags|=128,r=!0,c_(o,!1),t.lanes=4194304)}else{if(!r)if(e=O3(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),c_(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ts)return AA(t),null}else 2*yl()-o.renderingStartTime>Vy&&n!==1073741824&&(t.flags|=128,r=!0,c_(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=yl(),t.sibling=null,n=$s.current,ns($s,r?n&1|2:n&1),t):(AA(t),null);case 22:case 23:return s7(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nc&1073741824&&(AA(t),t.subtreeFlags&6&&(t.flags|=8192)):AA(t),null;case 24:return null;case 25:return null}throw Error(Qn(156,t.tag))}function $H(e,t){switch(jB(t),t.tag){case 1:return Cc(t.type)&&C3(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qy(),_s(_c),_s(fA),VB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return HB(t),null;case 13:if(_s($s),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qn(340));$y()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _s($s),null;case 4:return qy(),null;case 10:return QB(t.type._context),null;case 22:case 23:return s7(),null;case 24:return null;default:return null}}var Vx=!1,hA=!1,YH=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function ay(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rl(e,t,r)}else n.current=null}function uE(e,t,n){try{n()}catch(r){rl(e,t,r)}}var m9=!1;function qH(e,t){if($6=g3,e=mL(),RB(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,h=-1,g=0,_=0,B=e,k=null;t:for(;;){for(var P;B!==n||i!==0&&B.nodeType!==3||(s=a+i),B!==o||r!==0&&B.nodeType!==3||(h=a+r),B.nodeType===3&&(a+=B.nodeValue.length),(P=B.firstChild)!==null;)k=B,B=P;for(;;){if(B===e)break t;if(k===n&&++g===i&&(s=a),k===o&&++_===r&&(h=a),(P=B.nextSibling)!==null)break;B=k,k=B.parentNode}B=P}n=s===-1||h===-1?null:{start:s,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y6={focusedElem:e,selectionRange:n},g3=!1,Kr=t;Kr!==null;)if(t=Kr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Kr=e;else for(;Kr!==null;){t=Kr;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var q=F.memoizedProps,ee=F.memoizedState,H=t.stateNode,N=H.getSnapshotBeforeUpdate(t.elementType===t.type?q:_h(t.type,q),ee);H.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var Z=t.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qn(163))}}catch(ue){rl(t,t.return,ue)}if(e=t.sibling,e!==null){e.return=t.return,Kr=e;break}Kr=t.return}return F=m9,m9=!1,F}function V_(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&uE(t,n,o)}i=i.next}while(i!==r)}}function C5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function AE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hU(e){var t=e.alternate;t!==null&&(e.alternate=null,hU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mf],delete t[OC],delete t[V6],delete t[kH],delete t[IH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fU(e){return e.tag===5||e.tag===3||e.tag===4}function g9(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_3));else if(r!==4&&(e=e.child,e!==null))for(cE(e,t,n),e=e.sibling;e!==null;)cE(e,t,n),e=e.sibling}function dE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dE(e,t,n),e=e.sibling;e!==null;)dE(e,t,n),e=e.sibling}var Du=null,Ch=!1;function pm(e,t,n){for(n=n.child;n!==null;)pU(e,t,n),n=n.sibling}function pU(e,t,n){if(If&&typeof If.onCommitFiberUnmount=="function")try{If.onCommitFiberUnmount(h5,n)}catch{}switch(n.tag){case 5:hA||ay(n,t);case 6:var r=Du,i=Ch;Du=null,pm(e,t,n),Du=r,Ch=i,Du!==null&&(Ch?(e=Du,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Du.removeChild(n.stateNode));break;case 18:Du!==null&&(Ch?(e=Du,n=n.stateNode,e.nodeType===8?UM(e.parentNode,n):e.nodeType===1&&UM(e,n),xC(e)):UM(Du,n.stateNode));break;case 4:r=Du,i=Ch,Du=n.stateNode.containerInfo,Ch=!0,pm(e,t,n),Du=r,Ch=i;break;case 0:case 11:case 14:case 15:if(!hA&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&uE(n,t,a),i=i.next}while(i!==r)}pm(e,t,n);break;case 1:if(!hA&&(ay(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){rl(n,t,s)}pm(e,t,n);break;case 21:pm(e,t,n);break;case 22:n.mode&1?(hA=(r=hA)||n.memoizedState!==null,pm(e,t,n),hA=r):pm(e,t,n);break;default:pm(e,t,n)}}function y9(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YH),t.forEach(function(r){var i=rV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mh(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Du=s.stateNode,Ch=!1;break e;case 3:Du=s.stateNode.containerInfo,Ch=!0;break e;case 4:Du=s.stateNode.containerInfo,Ch=!0;break e}s=s.return}if(Du===null)throw Error(Qn(160));pU(o,a,i),Du=null,Ch=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(g){rl(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mU(t,e),t=t.sibling}function mU(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mh(t,e),pf(e),r&4){try{V_(3,e,e.return),C5(3,e)}catch(q){rl(e,e.return,q)}try{V_(5,e,e.return)}catch(q){rl(e,e.return,q)}}break;case 1:mh(t,e),pf(e),r&512&&n!==null&&ay(n,n.return);break;case 5:if(mh(t,e),pf(e),r&512&&n!==null&&ay(n,n.return),e.flags&32){var i=e.stateNode;try{vC(i,"")}catch(q){rl(e,e.return,q)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&LD(i,o),D6(s,a);var g=D6(s,o);for(a=0;a<h.length;a+=2){var _=h[a],B=h[a+1];_==="style"?WD(i,B):_==="dangerouslySetInnerHTML"?zD(i,B):_==="children"?vC(i,B):SB(i,_,B,g)}switch(s){case"input":I6(i,o);break;case"textarea":UD(i,o);break;case"select":var k=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?vy(i,!!o.multiple,P,!1):k!==!!o.multiple&&(o.defaultValue!=null?vy(i,!!o.multiple,o.defaultValue,!0):vy(i,!!o.multiple,o.multiple?[]:"",!1))}i[OC]=o}catch(q){rl(e,e.return,q)}}break;case 6:if(mh(t,e),pf(e),r&4){if(e.stateNode===null)throw Error(Qn(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(q){rl(e,e.return,q)}}break;case 3:if(mh(t,e),pf(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xC(t.containerInfo)}catch(q){rl(e,e.return,q)}break;case 4:mh(t,e),pf(e);break;case 13:mh(t,e),pf(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(o7=yl())),r&4&&y9(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(hA=(g=hA)||_,mh(t,e),hA=g):mh(t,e),pf(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!_&&e.mode&1)for(Kr=e,_=e.child;_!==null;){for(B=Kr=_;Kr!==null;){switch(k=Kr,P=k.child,k.tag){case 0:case 11:case 14:case 15:V_(4,k,k.return);break;case 1:ay(k,k.return);var F=k.stateNode;if(typeof F.componentWillUnmount=="function"){r=k,n=k.return;try{t=r,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(q){rl(r,n,q)}}break;case 5:ay(k,k.return);break;case 22:if(k.memoizedState!==null){_9(B);continue}}P!==null?(P.return=k,Kr=P):_9(B)}_=_.sibling}e:for(_=null,B=e;;){if(B.tag===5){if(_===null){_=B;try{i=B.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=B.stateNode,h=B.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,s.style.display=jD("display",a))}catch(q){rl(e,e.return,q)}}}else if(B.tag===6){if(_===null)try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(q){rl(e,e.return,q)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;_===B&&(_=null),B=B.return}_===B&&(_=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:mh(t,e),pf(e),r&4&&y9(e);break;case 21:break;default:mh(t,e),pf(e)}}function pf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fU(n)){var r=n;break e}n=n.return}throw Error(Qn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vC(i,""),r.flags&=-33);var o=g9(e);dE(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=g9(e);cE(e,s,a);break;default:throw Error(Qn(161))}}catch(h){rl(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HH(e,t,n){Kr=e,gU(e)}function gU(e,t,n){for(var r=(e.mode&1)!==0;Kr!==null;){var i=Kr,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Vx;if(!a){var s=i.alternate,h=s!==null&&s.memoizedState!==null||hA;s=Vx;var g=hA;if(Vx=a,(hA=h)&&!g)for(Kr=i;Kr!==null;)a=Kr,h=a.child,a.tag===22&&a.memoizedState!==null?C9(i):h!==null?(h.return=a,Kr=h):C9(i);for(;o!==null;)Kr=o,gU(o),o=o.sibling;Kr=i,Vx=s,hA=g}v9(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Kr=o):v9(e)}}function v9(e){for(;Kr!==null;){var t=Kr;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hA||C5(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hA)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:_h(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&n9(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}n9(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var _=g.memoizedState;if(_!==null){var B=_.dehydrated;B!==null&&xC(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qn(163))}hA||t.flags&512&&AE(t)}catch(k){rl(t,t.return,k)}}if(t===e){Kr=null;break}if(n=t.sibling,n!==null){n.return=t.return,Kr=n;break}Kr=t.return}}function _9(e){for(;Kr!==null;){var t=Kr;if(t===e){Kr=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Kr=n;break}Kr=t.return}}function C9(e){for(;Kr!==null;){var t=Kr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{C5(4,t)}catch(h){rl(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(h){rl(t,i,h)}}var o=t.return;try{AE(t)}catch(h){rl(t,o,h)}break;case 5:var a=t.return;try{AE(t)}catch(h){rl(t,a,h)}}}catch(h){rl(t,t.return,h)}if(t===e){Kr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Kr=s;break}Kr=t.return}}var VH=Math.ceil,I3=$p.ReactCurrentDispatcher,r7=$p.ReactCurrentOwner,Fd=$p.ReactCurrentBatchConfig,qo=0,_u=null,Tl=null,Uu=0,Nc=0,sy=A0(0),Hl=0,PC=null,M1=0,b5=0,i7=0,Z_=null,gc=null,o7=0,Vy=1/0,xp=null,T3=!1,hE=null,Hm=null,Zx=!1,Lm=null,K3=0,X_=0,fE=null,$2=-1,Y2=0;function RA(){return qo&6?yl():$2!==-1?$2:$2=yl()}function Vm(e){return e.mode&1?qo&2&&Uu!==0?Uu&-Uu:KH.transition!==null?(Y2===0&&(Y2=eL()),Y2):(e=Ea,e!==0||(e=window.event,e=e===void 0?16:sL(e.type)),e):1}function Sh(e,t,n,r){if(50<X_)throw X_=0,fE=null,Error(Qn(185));cb(e,n,r),(!(qo&2)||e!==_u)&&(e===_u&&(!(qo&2)&&(b5|=n),Hl===4&&Km(e,Uu)),bc(e,r),n===1&&qo===0&&!(t.mode&1)&&(Vy=yl()+500,y5&&c0()))}function bc(e,t){var n=e.callbackNode;Kq(e,t);var r=m3(e,e===_u?Uu:0);if(r===0)n!==null&&kI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kI(n),t===1)e.tag===0?TH(b9.bind(null,e)):SL(b9.bind(null,e)),OH(function(){!(qo&6)&&c0()}),n=null;else{switch(tL(r)){case 1:n=IB;break;case 4:n=XD;break;case 16:n=p3;break;case 536870912:n=JD;break;default:n=p3}n=MU(n,yU.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yU(e,t){if($2=-1,Y2=0,qo&6)throw Error(Qn(327));var n=e.callbackNode;if(wy()&&e.callbackNode!==n)return null;var r=m3(e,e===_u?Uu:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=P3(e,r);else{t=r;var i=qo;qo|=2;var o=_U();(_u!==e||Uu!==t)&&(xp=null,Vy=yl()+500,h1(e,t));do try{JH();break}catch(s){vU(e,s)}while(!0);GB(),I3.current=o,qo=i,Tl!==null?t=0:(_u=null,Uu=0,t=Hl)}if(t!==0){if(t===2&&(i=j6(e),i!==0&&(r=i,t=pE(e,i))),t===1)throw n=PC,h1(e,0),Km(e,r),bc(e,yl()),n;if(t===6)Km(e,r);else{if(i=e.current.alternate,!(r&30)&&!ZH(i)&&(t=P3(e,r),t===2&&(o=j6(e),o!==0&&(r=o,t=pE(e,o))),t===1))throw n=PC,h1(e,0),Km(e,r),bc(e,yl()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Qn(345));case 2:$0(e,gc,xp);break;case 3:if(Km(e,r),(r&130023424)===r&&(t=o7+500-yl(),10<t)){if(m3(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){RA(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=H6($0.bind(null,e,gc,xp),t);break}$0(e,gc,xp);break;case 4:if(Km(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Mh(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=yl()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VH(r/1960))-r,10<r){e.timeoutHandle=H6($0.bind(null,e,gc,xp),r);break}$0(e,gc,xp);break;case 5:$0(e,gc,xp);break;default:throw Error(Qn(329))}}}return bc(e,yl()),e.callbackNode===n?yU.bind(null,e):null}function pE(e,t){var n=Z_;return e.current.memoizedState.isDehydrated&&(h1(e,t).flags|=256),e=P3(e,t),e!==2&&(t=gc,gc=n,t!==null&&mE(t)),e}function mE(e){gc===null?gc=e:gc.push.apply(gc,e)}function ZH(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Oh(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Km(e,t){for(t&=~i7,t&=~b5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mh(t),r=1<<n;e[n]=-1,t&=~r}}function b9(e){if(qo&6)throw Error(Qn(327));wy();var t=m3(e,0);if(!(t&1))return bc(e,yl()),null;var n=P3(e,t);if(e.tag!==0&&n===2){var r=j6(e);r!==0&&(t=r,n=pE(e,r))}if(n===1)throw n=PC,h1(e,0),Km(e,t),bc(e,yl()),n;if(n===6)throw Error(Qn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$0(e,gc,xp),bc(e,yl()),null}function a7(e,t){var n=qo;qo|=1;try{return e(t)}finally{qo=n,qo===0&&(Vy=yl()+500,y5&&c0())}}function S1(e){Lm!==null&&Lm.tag===0&&!(qo&6)&&wy();var t=qo;qo|=1;var n=Fd.transition,r=Ea;try{if(Fd.transition=null,Ea=1,e)return e()}finally{Ea=r,Fd.transition=n,qo=t,!(qo&6)&&c0()}}function s7(){Nc=sy.current,_s(sy)}function h1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,EH(n)),Tl!==null)for(n=Tl.return;n!==null;){var r=n;switch(jB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&C3();break;case 3:qy(),_s(_c),_s(fA),VB();break;case 5:HB(r);break;case 4:qy();break;case 13:_s($s);break;case 19:_s($s);break;case 10:QB(r.type._context);break;case 22:case 23:s7()}n=n.return}if(_u=e,Tl=e=Zm(e.current,null),Uu=Nc=t,Hl=0,PC=null,i7=b5=M1=0,gc=Z_=null,o1!==null){for(t=0;t<o1.length;t++)if(n=o1[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}o1=null}return e}function vU(e,t){do{var n=Tl;try{if(GB(),N2.current=k3,B3){for(var r=Hs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}B3=!1}if(w1=0,yu=ql=Hs=null,H_=!1,IC=0,r7.current=null,n===null||n.return===null){Hl=1,PC=t,Tl=null;break}e:{var o=e,a=n.return,s=n,h=t;if(t=Uu,s.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var g=h,_=s,B=_.tag;if(!(_.mode&1)&&(B===0||B===11||B===15)){var k=_.alternate;k?(_.updateQueue=k.updateQueue,_.memoizedState=k.memoizedState,_.lanes=k.lanes):(_.updateQueue=null,_.memoizedState=null)}var P=u9(a);if(P!==null){P.flags&=-257,A9(P,a,s,o,t),P.mode&1&&l9(o,g,t),t=P,h=g;var F=t.updateQueue;if(F===null){var q=new Set;q.add(h),t.updateQueue=q}else F.add(h);break e}else{if(!(t&1)){l9(o,g,t),l7();break e}h=Error(Qn(426))}}else if(Ts&&s.mode&1){var ee=u9(a);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),A9(ee,a,s,o,t),WB(Hy(h,s));break e}}o=h=Hy(h,s),Hl!==4&&(Hl=2),Z_===null?Z_=[o]:Z_.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var H=nU(o,h,t);t9(o,H);break e;case 1:s=h;var N=o.type,Z=o.stateNode;if(!(o.flags&128)&&(typeof N.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Hm===null||!Hm.has(Z)))){o.flags|=65536,t&=-t,o.lanes|=t;var ue=rU(o,s,t);t9(o,ue);break e}}o=o.return}while(o!==null)}bU(n)}catch(ye){t=ye,Tl===n&&n!==null&&(Tl=n=n.return);continue}break}while(!0)}function _U(){var e=I3.current;return I3.current=k3,e===null?k3:e}function l7(){(Hl===0||Hl===3||Hl===2)&&(Hl=4),_u===null||!(M1&268435455)&&!(b5&268435455)||Km(_u,Uu)}function P3(e,t){var n=qo;qo|=2;var r=_U();(_u!==e||Uu!==t)&&(xp=null,h1(e,t));do try{XH();break}catch(i){vU(e,i)}while(!0);if(GB(),qo=n,I3.current=r,Tl!==null)throw Error(Qn(261));return _u=null,Uu=0,Hl}function XH(){for(;Tl!==null;)CU(Tl)}function JH(){for(;Tl!==null&&!wq();)CU(Tl)}function CU(e){var t=wU(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,t===null?bU(e):Tl=t,r7.current=null}function bU(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$H(n,t),n!==null){n.flags&=32767,Tl=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hl=6,Tl=null;return}}else if(n=QH(n,t,Nc),n!==null){Tl=n;return}if(t=t.sibling,t!==null){Tl=t;return}Tl=t=e}while(t!==null);Hl===0&&(Hl=5)}function $0(e,t,n){var r=Ea,i=Fd.transition;try{Fd.transition=null,Ea=1,eV(e,t,n,r)}finally{Fd.transition=i,Ea=r}return null}function eV(e,t,n,r){do wy();while(Lm!==null);if(qo&6)throw Error(Qn(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Qn(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Pq(e,o),e===_u&&(Tl=_u=null,Uu=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zx||(Zx=!0,MU(p3,function(){return wy(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Fd.transition,Fd.transition=null;var a=Ea;Ea=1;var s=qo;qo|=4,r7.current=null,qH(e,n),mU(n,e),_H(Y6),g3=!!$6,Y6=$6=null,e.current=n,HH(n),Mq(),qo=s,Ea=a,Fd.transition=o}else e.current=n;if(Zx&&(Zx=!1,Lm=e,K3=i),o=e.pendingLanes,o===0&&(Hm=null),Oq(n.stateNode),bc(e,yl()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(T3)throw T3=!1,e=hE,hE=null,e;return K3&1&&e.tag!==0&&wy(),o=e.pendingLanes,o&1?e===fE?X_++:(X_=0,fE=e):X_=0,c0(),null}function wy(){if(Lm!==null){var e=tL(K3),t=Fd.transition,n=Ea;try{if(Fd.transition=null,Ea=16>e?16:e,Lm===null)var r=!1;else{if(e=Lm,Lm=null,K3=0,qo&6)throw Error(Qn(331));var i=qo;for(qo|=4,Kr=e.current;Kr!==null;){var o=Kr,a=o.child;if(Kr.flags&16){var s=o.deletions;if(s!==null){for(var h=0;h<s.length;h++){var g=s[h];for(Kr=g;Kr!==null;){var _=Kr;switch(_.tag){case 0:case 11:case 15:V_(8,_,o)}var B=_.child;if(B!==null)B.return=_,Kr=B;else for(;Kr!==null;){_=Kr;var k=_.sibling,P=_.return;if(hU(_),_===g){Kr=null;break}if(k!==null){k.return=P,Kr=k;break}Kr=P}}}var F=o.alternate;if(F!==null){var q=F.child;if(q!==null){F.child=null;do{var ee=q.sibling;q.sibling=null,q=ee}while(q!==null)}}Kr=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Kr=a;else e:for(;Kr!==null;){if(o=Kr,o.flags&2048)switch(o.tag){case 0:case 11:case 15:V_(9,o,o.return)}var H=o.sibling;if(H!==null){H.return=o.return,Kr=H;break e}Kr=o.return}}var N=e.current;for(Kr=N;Kr!==null;){a=Kr;var Z=a.child;if(a.subtreeFlags&2064&&Z!==null)Z.return=a,Kr=Z;else e:for(a=N;Kr!==null;){if(s=Kr,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:C5(9,s)}}catch(ye){rl(s,s.return,ye)}if(s===a){Kr=null;break e}var ue=s.sibling;if(ue!==null){ue.return=s.return,Kr=ue;break e}Kr=s.return}}if(qo=i,c0(),If&&typeof If.onPostCommitFiberRoot=="function")try{If.onPostCommitFiberRoot(h5,e)}catch{}r=!0}return r}finally{Ea=n,Fd.transition=t}}return!1}function x9(e,t,n){t=Hy(n,t),t=nU(e,t,1),e=qm(e,t,1),t=RA(),e!==null&&(cb(e,1,t),bc(e,t))}function rl(e,t,n){if(e.tag===3)x9(e,e,n);else for(;t!==null;){if(t.tag===3){x9(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hm===null||!Hm.has(r))){e=Hy(n,e),e=rU(t,e,1),t=qm(t,e,1),e=RA(),t!==null&&(cb(t,1,e),bc(t,e));break}}t=t.return}}function tV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=RA(),e.pingedLanes|=e.suspendedLanes&n,_u===e&&(Uu&n)===n&&(Hl===4||Hl===3&&(Uu&130023424)===Uu&&500>yl()-o7?h1(e,0):i7|=n),bc(e,t)}function xU(e,t){t===0&&(e.mode&1?(t=jx,jx<<=1,!(jx&130023424)&&(jx=4194304)):t=1);var n=RA();e=Gp(e,t),e!==null&&(cb(e,t,n),bc(e,n))}function nV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xU(e,n)}function rV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Qn(314))}r!==null&&r.delete(t),xU(e,n)}var wU;wU=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_c.current)vc=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vc=!1,GH(e,t,n);vc=!!(e.flags&131072)}else vc=!1,Ts&&t.flags&1048576&&EL(t,w3,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Q2(e,t),e=t.pendingProps;var i=Qy(t,fA.current);xy(t,n),i=XB(null,t,r,e,i,n);var o=JB();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cc(r)?(o=!0,b3(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YB(t),i.updater=v5,t.stateNode=i,i._reactInternals=t,nE(t,r,e,n),t=oE(null,t,r,!0,o,n)):(t.tag=0,Ts&&o&&zB(t),FA(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Q2(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=oV(r),e=_h(r,e),i){case 0:t=iE(null,t,r,e,n);break e;case 1:t=h9(null,t,r,e,n);break e;case 11:t=c9(null,t,r,e,n);break e;case 14:t=d9(null,t,r,_h(r.type,e),n);break e}throw Error(Qn(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_h(r,i),iE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_h(r,i),h9(e,t,r,i,n);case 3:e:{if(sU(t),e===null)throw Error(Qn(387));r=t.pendingProps,o=t.memoizedState,i=o.element,IL(e,t),E3(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Hy(Error(Qn(423)),t),t=f9(e,t,r,n,i);break e}else if(r!==i){i=Hy(Error(Qn(424)),t),t=f9(e,t,r,n,i);break e}else for(qc=Ym(t.stateNode.containerInfo.firstChild),Zc=t,Ts=!0,xh=null,n=FL(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($y(),r===i){t=Qp(e,t,n);break e}FA(e,t,r,n)}t=t.child}return t;case 5:return DL(t),e===null&&J6(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,q6(r,i)?a=null:o!==null&&q6(r,o)&&(t.flags|=32),aU(e,t),FA(e,t,a,n),t.child;case 6:return e===null&&J6(t),null;case 13:return lU(e,t,n);case 4:return qB(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yy(t,null,r,n):FA(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_h(r,i),c9(e,t,r,i,n);case 7:return FA(e,t,t.pendingProps,n),t.child;case 8:return FA(e,t,t.pendingProps.children,n),t.child;case 12:return FA(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ns(M3,r._currentValue),r._currentValue=a,o!==null)if(Oh(o.value,a)){if(o.children===i.children&&!_c.current){t=Qp(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var h=s.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=Dp(-1,n&-n),h.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var _=g.pending;_===null?h.next=h:(h.next=_.next,_.next=h),g.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),eE(o.return,n,t),s.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Qn(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),eE(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}FA(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xy(t,n),i=Ud(i),r=r(i),t.flags|=1,FA(e,t,r,n),t.child;case 14:return r=t.type,i=_h(r,t.pendingProps),i=_h(r.type,i),d9(e,t,r,i,n);case 15:return iU(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_h(r,i),Q2(e,t),t.tag=1,Cc(r)?(e=!0,b3(t)):e=!1,xy(t,n),KL(t,r,i),nE(t,r,i,n),oE(null,t,r,!0,e,n);case 19:return uU(e,t,n);case 22:return oU(e,t,n)}throw Error(Qn(156,t.tag))};function MU(e,t){return ZD(e,t)}function iV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Td(e,t,n,r){return new iV(e,t,n,r)}function u7(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oV(e){if(typeof e=="function")return u7(e)?1:0;if(e!=null){if(e=e.$$typeof,e===OB)return 11;if(e===BB)return 14}return 2}function Zm(e,t){var n=e.alternate;return n===null?(n=Td(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function q2(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")u7(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zg:return f1(n.children,i,o,t);case EB:a=8,i|=8;break;case S6:return e=Td(12,n,t,i|2),e.elementType=S6,e.lanes=o,e;case E6:return e=Td(13,n,t,i),e.elementType=E6,e.lanes=o,e;case O6:return e=Td(19,n,t,i),e.elementType=O6,e.lanes=o,e;case PD:return x5(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case TD:a=10;break e;case KD:a=9;break e;case OB:a=11;break e;case BB:a=14;break e;case wm:a=16,r=null;break e}throw Error(Qn(130,e==null?e:typeof e,""))}return t=Td(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function f1(e,t,n,r){return e=Td(7,e,r,t),e.lanes=n,e}function x5(e,t,n,r){return e=Td(22,e,r,t),e.elementType=PD,e.lanes=n,e.stateNode={isHidden:!1},e}function $M(e,t,n){return e=Td(6,e,null,t),e.lanes=n,e}function YM(e,t,n){return t=Td(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=EM(0),this.expirationTimes=EM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=EM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A7(e,t,n,r,i,o,a,s,h){return e=new aV(e,t,n,s,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Td(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},YB(o),e}function sV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SU(e){if(!e)return o0;e=e._reactInternals;e:{if(U1(e)!==e||e.tag!==1)throw Error(Qn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qn(171))}if(e.tag===1){var n=e.type;if(Cc(n))return ML(e,n,t)}return t}function EU(e,t,n,r,i,o,a,s,h){return e=A7(n,r,!0,e,i,o,a,s,h),e.context=SU(null),n=e.current,r=RA(),i=Vm(n),o=Dp(r,i),o.callback=t??null,qm(n,o,i),e.current.lanes=i,cb(e,i,r),bc(e,r),e}function w5(e,t,n,r){var i=t.current,o=RA(),a=Vm(i);return n=SU(n),t.context===null?t.context=n:t.pendingContext=n,t=Dp(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qm(i,t,a),e!==null&&(Sh(e,i,a,o),W2(e,i,a)),a}function F3(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function w9(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function c7(e,t){w9(e,t),(e=e.alternate)&&w9(e,t)}function lV(){return null}var OU=typeof reportError=="function"?reportError:function(e){console.error(e)};function d7(e){this._internalRoot=e}M5.prototype.render=d7.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qn(409));w5(e,t,null,null)};M5.prototype.unmount=d7.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;S1(function(){w5(null,e,null,null)}),t[Np]=null}};function M5(e){this._internalRoot=e}M5.prototype.unstable_scheduleHydration=function(e){if(e){var t=iL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tm.length&&t!==0&&t<Tm[n].priority;n++);Tm.splice(n,0,e),n===0&&aL(e)}};function h7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M9(){}function uV(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=F3(a);o.call(g)}}var a=EU(t,r,e,0,null,!1,!1,"",M9);return e._reactRootContainer=a,e[Np]=a.current,SC(e.nodeType===8?e.parentNode:e),S1(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var g=F3(h);s.call(g)}}var h=A7(e,0,!1,null,null,!1,!1,"",M9);return e._reactRootContainer=h,e[Np]=h.current,SC(e.nodeType===8?e.parentNode:e),S1(function(){w5(t,h,n,r)}),h}function E5(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var h=F3(a);s.call(h)}}w5(t,a,e,i)}else a=uV(n,t,e,i,r);return F3(a)}nL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=k_(t.pendingLanes);n!==0&&(TB(t,n|1),bc(t,yl()),!(qo&6)&&(Vy=yl()+500,c0()))}break;case 13:S1(function(){var r=Gp(e,1);if(r!==null){var i=RA();Sh(r,e,1,i)}}),c7(e,1)}};KB=function(e){if(e.tag===13){var t=Gp(e,134217728);if(t!==null){var n=RA();Sh(t,e,134217728,n)}c7(e,134217728)}};rL=function(e){if(e.tag===13){var t=Vm(e),n=Gp(e,t);if(n!==null){var r=RA();Sh(n,e,t,r)}c7(e,t)}};iL=function(){return Ea};oL=function(e,t){var n=Ea;try{return Ea=e,t()}finally{Ea=n}};U6=function(e,t,n){switch(t){case"input":if(I6(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=g5(r);if(!i)throw Error(Qn(90));DD(r),I6(r,i)}}}break;case"textarea":UD(e,n);break;case"select":t=n.value,t!=null&&vy(e,!!n.multiple,t,!1)}};QD=a7;$D=S1;var AV={usingClientEntryPoint:!1,Events:[hb,ty,g5,ND,GD,a7]},d_={findFiberByHostInstance:i1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cV={bundleType:d_.bundleType,version:d_.version,rendererPackageName:d_.rendererPackageName,rendererConfig:d_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$p.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HD(e),e===null?null:e.stateNode},findFiberByHostInstance:d_.findFiberByHostInstance||lV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xx.isDisabled&&Xx.supportsFiber)try{h5=Xx.inject(cV),If=Xx}catch{}}ed.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AV;ed.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h7(t))throw Error(Qn(200));return sV(e,t,null,n)};ed.createRoot=function(e,t){if(!h7(e))throw Error(Qn(299));var n=!1,r="",i=OU;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=A7(e,1,!1,null,null,n,!1,r,i),e[Np]=t.current,SC(e.nodeType===8?e.parentNode:e),new d7(t)};ed.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qn(188)):(e=Object.keys(e).join(","),Error(Qn(268,e)));return e=HD(t),e=e===null?null:e.stateNode,e};ed.flushSync=function(e){return S1(e)};ed.hydrate=function(e,t,n){if(!S5(t))throw Error(Qn(200));return E5(null,e,t,!0,n)};ed.hydrateRoot=function(e,t,n){if(!h7(e))throw Error(Qn(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=OU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=EU(t,null,e,1,n??null,i,!1,o,a),e[Np]=t.current,SC(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new M5(t)};ed.render=function(e,t,n){if(!S5(t))throw Error(Qn(200));return E5(null,e,t,!1,n)};ed.unmountComponentAtNode=function(e){if(!S5(e))throw Error(Qn(40));return e._reactRootContainer?(S1(function(){E5(null,null,e,!1,function(){e._reactRootContainer=null,e[Np]=null})}),!0):!1};ed.unstable_batchedUpdates=a7;ed.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!S5(n))throw Error(Qn(200));if(e==null||e._reactInternals===void 0)throw Error(Qn(38));return E5(e,t,n,!1,r)};ed.version="18.2.0-next-9e3b772b8-20220608";function BU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BU)}catch(e){console.error(e)}}BU(),ED.exports=ed;var d0=ED.exports;const dV=Oa(d0);var kU,S9=d0;kU=S9.createRoot,S9.hydrateRoot;var gE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(a){if(a===void 0){console.error("Autobind error: No context provided.");return}var s=Object.getPrototypeOf(a);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(s),r.forEach(function(h){var g=Object.getOwnPropertyDescriptor(s,h);if(g===void 0){console.warn('Autobind: "'+h+'" method not found in class.');return}n.indexOf(h)!==-1||typeof g.value!="function"||Object.defineProperty(s,h,o(s,h,g))})}function o(a,s,h){var g=h.value;return{configurable:!0,get:function(){if(this===a||this.hasOwnProperty(s))return g;var B=g.bind(this);return Object.defineProperty(this,s,{value:B,configurable:!0,writable:!0}),B}}}e.exports=t.default})(gE,gE.exports);var hV=gE.exports,fV=hV;const pV=Oa(fV);var D3={exports:{}};D3.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",h="[object Date]",g="[object Error]",_="[object Function]",B="[object GeneratorFunction]",k="[object Map]",P="[object Number]",F="[object Object]",q="[object Promise]",ee="[object RegExp]",H="[object Set]",N="[object String]",Z="[object Symbol]",ue="[object WeakMap]",ye="[object ArrayBuffer]",be="[object DataView]",J="[object Float32Array]",se="[object Float64Array]",xe="[object Int8Array]",Se="[object Int16Array]",De="[object Int32Array]",Le="[object Uint8Array]",he="[object Uint8ClampedArray]",qe="[object Uint16Array]",ge="[object Uint32Array]",_t=/[\\^$.*+?()[\]{}|]/g,Mt=/\w*$/,dt=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,je={};je[o]=je[a]=je[ye]=je[be]=je[s]=je[h]=je[J]=je[se]=je[xe]=je[Se]=je[De]=je[k]=je[P]=je[F]=je[ee]=je[H]=je[N]=je[Z]=je[Le]=je[he]=je[qe]=je[ge]=!0,je[g]=je[_]=je[ue]=!1;var Ve=typeof window=="object"&&window&&window.Object===Object&&window,Xe=typeof self=="object"&&self&&self.Object===Object&&self,Jt=Ve||Xe||Function("return this")(),Ht=t&&!t.nodeType&&t,Ct=Ht&&!0&&e&&!e.nodeType&&e,Qt=Ct&&Ct.exports===Ht;function $t(z,ae){return z.set(ae[0],ae[1]),z}function Ie(z,ae){return z.add(ae),z}function pe(z,ae){for(var Ue=-1,gt=z?z.length:0;++Ue<gt&&ae(z[Ue],Ue,z)!==!1;);return z}function Me(z,ae){for(var Ue=-1,gt=ae.length,Nn=z.length;++Ue<gt;)z[Nn+Ue]=ae[Ue];return z}function Re(z,ae,Ue,gt){var Nn=-1,vn=z?z.length:0;for(gt&&vn&&(Ue=z[++Nn]);++Nn<vn;)Ue=ae(Ue,z[Nn],Nn,z);return Ue}function it(z,ae){for(var Ue=-1,gt=Array(z);++Ue<z;)gt[Ue]=ae(Ue);return gt}function ot(z,ae){return z==null?void 0:z[ae]}function St(z){var ae=!1;if(z!=null&&typeof z.toString!="function")try{ae=!!(z+"")}catch{}return ae}function Rt(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt,Nn){Ue[++ae]=[Nn,gt]}),Ue}function zt(z,ae){return function(Ue){return z(ae(Ue))}}function pt(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt){Ue[++ae]=gt}),Ue}var ir=Array.prototype,gn=Function.prototype,yn=Object.prototype,er=Jt["__core-js_shared__"],Ar=function(){var z=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Mr=gn.toString,Wr=yn.hasOwnProperty,gr=yn.toString,_i=RegExp("^"+Mr.call(Wr).replace(_t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=Qt?Jt.Buffer:void 0,X=Jt.Symbol,Y=Jt.Uint8Array,Te=zt(Object.getPrototypeOf,Object),ut=Object.create,Bt=yn.propertyIsEnumerable,It=ir.splice,Dt=Object.getOwnPropertySymbols,fn=Ee?Ee.isBuffer:void 0,Pn=zt(Object.keys,Object),On=ea(Jt,"DataView"),m=ea(Jt,"Map"),Kt=ea(Jt,"Promise"),Pr=ea(Jt,"Set"),nr=ea(Jt,"WeakMap"),Pe=ea(Object,"create"),ce=Wo(On),Ce=Wo(m),ke=Wo(Kt),ze=Wo(Pr),rt=Wo(nr),st=X?X.prototype:void 0,ft=st?st.valueOf:void 0;function et(z){var ae=-1,Ue=z?z.length:0;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function wt(){this.__data__=Pe?Pe(null):{}}function tn(z){return this.has(z)&&delete this.__data__[z]}function qt(z){var ae=this.__data__;if(Pe){var Ue=ae[z];return Ue===r?void 0:Ue}return Wr.call(ae,z)?ae[z]:void 0}function en(z){var ae=this.__data__;return Pe?ae[z]!==void 0:Wr.call(ae,z)}function Fn(z,ae){var Ue=this.__data__;return Ue[z]=Pe&&ae===void 0?r:ae,this}et.prototype.clear=wt,et.prototype.delete=tn,et.prototype.get=qt,et.prototype.has=en,et.prototype.set=Fn;function Bn(z){var ae=-1,Ue=z?z.length:0;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function qn(){this.__data__=[]}function Sr(z){var ae=this.__data__,Ue=ro(ae,z);if(Ue<0)return!1;var gt=ae.length-1;return Ue==gt?ae.pop():It.call(ae,Ue,1),!0}function lr(z){var ae=this.__data__,Ue=ro(ae,z);return Ue<0?void 0:ae[Ue][1]}function $r(z){return ro(this.__data__,z)>-1}function Or(z,ae){var Ue=this.__data__,gt=ro(Ue,z);return gt<0?Ue.push([z,ae]):Ue[gt][1]=ae,this}Bn.prototype.clear=qn,Bn.prototype.delete=Sr,Bn.prototype.get=lr,Bn.prototype.has=$r,Bn.prototype.set=Or;function Lr(z){var ae=-1,Ue=z?z.length:0;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function or(){this.__data__={hash:new et,map:new(m||Bn),string:new et}}function ci(z){return os(this,z).delete(z)}function Li(z){return os(this,z).get(z)}function to(z){return os(this,z).has(z)}function ho(z,ae){return os(this,z).set(z,ae),this}Lr.prototype.clear=or,Lr.prototype.delete=ci,Lr.prototype.get=Li,Lr.prototype.has=to,Lr.prototype.set=ho;function ai(z){this.__data__=new Bn(z)}function fo(){this.__data__=new Bn}function ja(z){return this.__data__.delete(z)}function Ba(z){return this.__data__.get(z)}function Mi(z){return this.__data__.has(z)}function is(z,ae){var Ue=this.__data__;if(Ue instanceof Bn){var gt=Ue.__data__;if(!m||gt.length<n-1)return gt.push([z,ae]),this;Ue=this.__data__=new Lr(gt)}return Ue.set(z,ae),this}ai.prototype.clear=fo,ai.prototype.delete=ja,ai.prototype.get=Ba,ai.prototype.has=Mi,ai.prototype.set=is;function gi(z,ae){var Ue=sl(z)||as(z)?it(z.length,String):[],gt=Ue.length,Nn=!!gt;for(var vn in z)(ae||Wr.call(z,vn))&&!(Nn&&(vn=="length"||ju(vn,gt)))&&Ue.push(vn);return Ue}function Wn(z,ae,Ue){var gt=z[ae];(!(Wr.call(z,ae)&&Jl(gt,Ue))||Ue===void 0&&!(ae in z))&&(z[ae]=Ue)}function ro(z,ae){for(var Ue=z.length;Ue--;)if(Jl(z[Ue][0],ae))return Ue;return-1}function _o(z,ae){return z&&Na(ae,vA(ae),z)}function Ui(z,ae,Ue,gt,Nn,vn,Kn){var Ur;if(gt&&(Ur=vn?gt(z,Nn,vn,Kn):gt(z)),Ur!==void 0)return Ur;if(!sa(z))return z;var yr=sl(z);if(yr){if(Ur=bu(z),!ae)return yi(z,Ur)}else{var Ir=Cs(z),ki=Ir==_||Ir==B;if(ll(z))return wn(z,ae);if(Ir==F||Ir==o||ki&&!vn){if(St(z))return vn?z:{};if(Ur=fa(ki?{}:z),!ae)return Jo(z,_o(Ur,z))}else{if(!je[Ir])return vn?z:{};Ur=gA(z,Ir,Ui,ae)}}Kn||(Kn=new ai);var po=Kn.get(z);if(po)return po;if(Kn.set(z,Ur),!yr)var Si=Ue?Cu(z):vA(z);return pe(Si||z,function(Zr,Hi){Si&&(Hi=Zr,Zr=z[Hi]),Wn(Ur,Hi,Ui(Zr,ae,Ue,gt,Hi,z,Kn))}),Ur}function ve(z){return sa(z)?ut(z):{}}function Je(z,ae,Ue){var gt=ae(z);return sl(z)?gt:Me(gt,Ue(z))}function Vt(z){return gr.call(z)}function sn(z){if(!sa(z)||xu(z))return!1;var ae=bl(z)||St(z)?_i:dt;return ae.test(Wo(z))}function Lt(z){if(!Wu(z))return Pn(z);var ae=[];for(var Ue in Object(z))Wr.call(z,Ue)&&Ue!="constructor"&&ae.push(Ue);return ae}function wn(z,ae){if(ae)return z.slice();var Ue=new z.constructor(z.length);return z.copy(Ue),Ue}function dr(z){var ae=new z.constructor(z.byteLength);return new Y(ae).set(new Y(z)),ae}function ri(z,ae){var Ue=ae?dr(z.buffer):z.buffer;return new z.constructor(Ue,z.byteOffset,z.byteLength)}function si(z,ae,Ue){var gt=ae?Ue(Rt(z),!0):Rt(z);return Re(gt,$t,new z.constructor)}function Xo(z){var ae=new z.constructor(z.source,Mt.exec(z));return ae.lastIndex=z.lastIndex,ae}function Ta(z,ae,Ue){var gt=ae?Ue(pt(z),!0):pt(z);return Re(gt,Ie,new z.constructor)}function Fr(z){return ft?Object(ft.call(z)):{}}function Wa(z,ae){var Ue=ae?dr(z.buffer):z.buffer;return new z.constructor(Ue,z.byteOffset,z.length)}function yi(z,ae){var Ue=-1,gt=z.length;for(ae||(ae=Array(gt));++Ue<gt;)ae[Ue]=z[Ue];return ae}function Na(z,ae,Ue,gt){Ue||(Ue={});for(var Nn=-1,vn=ae.length;++Nn<vn;){var Kn=ae[Nn],Ur=gt?gt(Ue[Kn],z[Kn],Kn,Ue,z):void 0;Wn(Ue,Kn,Ur===void 0?z[Kn]:Ur)}return Ue}function Jo(z,ae){return Na(z,ta(z),ae)}function Cu(z){return Je(z,vA,ta)}function os(z,ae){var Ue=z.__data__;return yA(ae)?Ue[typeof ae=="string"?"string":"hash"]:Ue.map}function ea(z,ae){var Ue=ot(z,ae);return sn(Ue)?Ue:void 0}var ta=Dt?zt(Dt,Object):vo,Cs=Vt;(On&&Cs(new On(new ArrayBuffer(1)))!=be||m&&Cs(new m)!=k||Kt&&Cs(Kt.resolve())!=q||Pr&&Cs(new Pr)!=H||nr&&Cs(new nr)!=ue)&&(Cs=function(z){var ae=gr.call(z),Ue=ae==F?z.constructor:void 0,gt=Ue?Wo(Ue):void 0;if(gt)switch(gt){case ce:return be;case Ce:return k;case ke:return q;case ze:return H;case rt:return ue}return ae});function bu(z){var ae=z.length,Ue=z.constructor(ae);return ae&&typeof z[0]=="string"&&Wr.call(z,"index")&&(Ue.index=z.index,Ue.input=z.input),Ue}function fa(z){return typeof z.constructor=="function"&&!Wu(z)?ve(Te(z)):{}}function gA(z,ae,Ue,gt){var Nn=z.constructor;switch(ae){case ye:return dr(z);case s:case h:return new Nn(+z);case be:return ri(z,gt);case J:case se:case xe:case Se:case De:case Le:case he:case qe:case ge:return Wa(z,gt);case k:return si(z,gt,Ue);case P:case N:return new Nn(z);case ee:return Xo(z);case H:return Ta(z,gt,Ue);case Z:return Fr(z)}}function ju(z,ae){return ae=ae??i,!!ae&&(typeof z=="number"||mt.test(z))&&z>-1&&z%1==0&&z<ae}function yA(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function xu(z){return!!Ar&&Ar in z}function Wu(z){var ae=z&&z.constructor,Ue=typeof ae=="function"&&ae.prototype||yn;return z===Ue}function Wo(z){if(z!=null){try{return Mr.call(z)}catch{}try{return z+""}catch{}}return""}function bs(z){return Ui(z,!0,!0)}function Jl(z,ae){return z===ae||z!==z&&ae!==ae}function as(z){return wu(z)&&Wr.call(z,"callee")&&(!Bt.call(z,"callee")||gr.call(z)==o)}var sl=Array.isArray;function No(z){return z!=null&&eu(z.length)&&!bl(z)}function wu(z){return ul(z)&&No(z)}var ll=fn||io;function bl(z){var ae=sa(z)?gr.call(z):"";return ae==_||ae==B}function eu(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=i}function sa(z){var ae=typeof z;return!!z&&(ae=="object"||ae=="function")}function ul(z){return!!z&&typeof z=="object"}function vA(z){return No(z)?gi(z):Lt(z)}function vo(){return[]}function io(){return!1}e.exports=bs})(D3,D3.exports);var mV=D3.exports;const E9=Oa(mV);var O9=NaN,gV="[object Symbol]",yV=/^\s+|\s+$/g,vV=/^[-+]0x[0-9a-f]+$/i,_V=/^0b[01]+$/i,CV=/^0o[0-7]+$/i,bV=parseInt,xV=Object.prototype,wV=xV.toString;function MV(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function B9(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function SV(e){return!!e&&typeof e=="object"}function EV(e){return typeof e=="symbol"||SV(e)&&wV.call(e)==gV}function qM(e){if(typeof e=="number")return e;if(EV(e))return O9;if(B9(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=B9(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(yV,"");var n=_V.test(e);return n||CV.test(e)?bV(e.slice(2),n?2:8):vV.test(e)?O9:+e}function OV(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=qM(n),n=n===n?n:0),t!==void 0&&(t=qM(t),t=t===t?t:0),MV(qM(e),t,n)}var BV=OV;const k9=Oa(BV);var IU={},O5={};O5.byteLength=TV;O5.toByteArray=PV;O5.fromByteArray=LV;var Sf=[],Ed=[],kV=typeof Uint8Array<"u"?Uint8Array:Array,HM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Sg=0,IV=HM.length;Sg<IV;++Sg)Sf[Sg]=HM[Sg],Ed[HM.charCodeAt(Sg)]=Sg;Ed[45]=62;Ed[95]=63;function TU(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function TV(e){var t=TU(e),n=t[0],r=t[1];return(n+r)*3/4-r}function KV(e,t,n){return(t+n)*3/4-n}function PV(e){var t,n=TU(e),r=n[0],i=n[1],o=new kV(KV(e,r,i)),a=0,s=i>0?r-4:r,h;for(h=0;h<s;h+=4)t=Ed[e.charCodeAt(h)]<<18|Ed[e.charCodeAt(h+1)]<<12|Ed[e.charCodeAt(h+2)]<<6|Ed[e.charCodeAt(h+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Ed[e.charCodeAt(h)]<<2|Ed[e.charCodeAt(h+1)]>>4,o[a++]=t&255),i===1&&(t=Ed[e.charCodeAt(h)]<<10|Ed[e.charCodeAt(h+1)]<<4|Ed[e.charCodeAt(h+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function FV(e){return Sf[e>>18&63]+Sf[e>>12&63]+Sf[e>>6&63]+Sf[e&63]}function DV(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(FV(r));return i.join("")}function LV(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(DV(e,a,a+o>s?s:a+o));return r===1?(t=e[n-1],i.push(Sf[t>>2]+Sf[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Sf[t>>10]+Sf[t>>4&63]+Sf[t<<2&63]+"=")),i.join("")}var B5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */B5.read=function(e,t,n,r,i){var o,a,s=i*8-r-1,h=(1<<s)-1,g=h>>1,_=-7,B=n?i-1:0,k=n?-1:1,P=e[t+B];for(B+=k,o=P&(1<<-_)-1,P>>=-_,_+=s;_>0;o=o*256+e[t+B],B+=k,_-=8);for(a=o&(1<<-_)-1,o>>=-_,_+=r;_>0;a=a*256+e[t+B],B+=k,_-=8);if(o===0)o=1-g;else{if(o===h)return a?NaN:(P?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-g}return(P?-1:1)*a*Math.pow(2,o-r)};B5.write=function(e,t,n,r,i,o){var a,s,h,g=o*8-i-1,_=(1<<g)-1,B=_>>1,k=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=r?0:o-1,F=r?1:-1,q=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=_):(a=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-a))<1&&(a--,h*=2),a+B>=1?t+=k/h:t+=k*Math.pow(2,1-B),t*h>=2&&(a++,h/=2),a+B>=_?(s=0,a=_):a+B>=1?(s=(t*h-1)*Math.pow(2,i),a=a+B):(s=t*Math.pow(2,B-1)*Math.pow(2,i),a=0));i>=8;e[n+P]=s&255,P+=F,s/=256,i-=8);for(a=a<<i|s,g+=i;g>0;e[n+P]=a&255,P+=F,a/=256,g-=8);e[n+P-F]|=q*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=O5,n=B5,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const Ee=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(Ee,X),Ee.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(Ee){if(Ee>i)throw new RangeError('The value "'+Ee+'" is invalid for option "size"');const X=new Uint8Array(Ee);return Object.setPrototypeOf(X,s.prototype),X}function s(Ee,X,Y){if(typeof Ee=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(Ee)}return h(Ee,X,Y)}s.poolSize=8192;function h(Ee,X,Y){if(typeof Ee=="string")return k(Ee,X);if(ArrayBuffer.isView(Ee))return F(Ee);if(Ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee);if(Ar(Ee,ArrayBuffer)||Ee&&Ar(Ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ar(Ee,SharedArrayBuffer)||Ee&&Ar(Ee.buffer,SharedArrayBuffer)))return q(Ee,X,Y);if(typeof Ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Te=Ee.valueOf&&Ee.valueOf();if(Te!=null&&Te!==Ee)return s.from(Te,X,Y);const ut=ee(Ee);if(ut)return ut;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ee[Symbol.toPrimitive]=="function")return s.from(Ee[Symbol.toPrimitive]("string"),X,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee)}s.from=function(Ee,X,Y){return h(Ee,X,Y)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function g(Ee){if(typeof Ee!="number")throw new TypeError('"size" argument must be of type number');if(Ee<0)throw new RangeError('The value "'+Ee+'" is invalid for option "size"')}function _(Ee,X,Y){return g(Ee),Ee<=0?a(Ee):X!==void 0?typeof Y=="string"?a(Ee).fill(X,Y):a(Ee).fill(X):a(Ee)}s.alloc=function(Ee,X,Y){return _(Ee,X,Y)};function B(Ee){return g(Ee),a(Ee<0?0:H(Ee)|0)}s.allocUnsafe=function(Ee){return B(Ee)},s.allocUnsafeSlow=function(Ee){return B(Ee)};function k(Ee,X){if((typeof X!="string"||X==="")&&(X="utf8"),!s.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const Y=Z(Ee,X)|0;let Te=a(Y);const ut=Te.write(Ee,X);return ut!==Y&&(Te=Te.slice(0,ut)),Te}function P(Ee){const X=Ee.length<0?0:H(Ee.length)|0,Y=a(X);for(let Te=0;Te<X;Te+=1)Y[Te]=Ee[Te]&255;return Y}function F(Ee){if(Ar(Ee,Uint8Array)){const X=new Uint8Array(Ee);return q(X.buffer,X.byteOffset,X.byteLength)}return P(Ee)}function q(Ee,X,Y){if(X<0||Ee.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(Ee.byteLength<X+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let Te;return X===void 0&&Y===void 0?Te=new Uint8Array(Ee):Y===void 0?Te=new Uint8Array(Ee,X):Te=new Uint8Array(Ee,X,Y),Object.setPrototypeOf(Te,s.prototype),Te}function ee(Ee){if(s.isBuffer(Ee)){const X=H(Ee.length)|0,Y=a(X);return Y.length===0||Ee.copy(Y,0,0,X),Y}if(Ee.length!==void 0)return typeof Ee.length!="number"||Mr(Ee.length)?a(0):P(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return P(Ee.data)}function H(Ee){if(Ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Ee|0}function N(Ee){return+Ee!=Ee&&(Ee=0),s.alloc(+Ee)}s.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==s.prototype},s.compare=function(X,Y){if(Ar(X,Uint8Array)&&(X=s.from(X,X.offset,X.byteLength)),Ar(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),!s.isBuffer(X)||!s.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Y)return 0;let Te=X.length,ut=Y.length;for(let Bt=0,It=Math.min(Te,ut);Bt<It;++Bt)if(X[Bt]!==Y[Bt]){Te=X[Bt],ut=Y[Bt];break}return Te<ut?-1:ut<Te?1:0},s.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(X,Y){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return s.alloc(0);let Te;if(Y===void 0)for(Y=0,Te=0;Te<X.length;++Te)Y+=X[Te].length;const ut=s.allocUnsafe(Y);let Bt=0;for(Te=0;Te<X.length;++Te){let It=X[Te];if(Ar(It,Uint8Array))Bt+It.length>ut.length?(s.isBuffer(It)||(It=s.from(It)),It.copy(ut,Bt)):Uint8Array.prototype.set.call(ut,It,Bt);else if(s.isBuffer(It))It.copy(ut,Bt);else throw new TypeError('"list" argument must be an Array of Buffers');Bt+=It.length}return ut};function Z(Ee,X){if(s.isBuffer(Ee))return Ee.length;if(ArrayBuffer.isView(Ee)||Ar(Ee,ArrayBuffer))return Ee.byteLength;if(typeof Ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ee);const Y=Ee.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&Y===0)return 0;let ut=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return pt(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return yn(Ee).length;default:if(ut)return Te?-1:pt(Ee).length;X=(""+X).toLowerCase(),ut=!0}}s.byteLength=Z;function ue(Ee,X,Y){let Te=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,X>>>=0,Y<=X))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return mt(this,X,Y);case"utf8":case"utf-8":return qe(this,X,Y);case"ascii":return Mt(this,X,Y);case"latin1":case"binary":return dt(this,X,Y);case"base64":return he(this,X,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,X,Y);default:if(Te)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),Te=!0}}s.prototype._isBuffer=!0;function ye(Ee,X,Y){const Te=Ee[X];Ee[X]=Ee[Y],Ee[Y]=Te}s.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<X;Y+=2)ye(this,Y,Y+1);return this},s.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<X;Y+=4)ye(this,Y,Y+3),ye(this,Y+1,Y+2);return this},s.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<X;Y+=8)ye(this,Y,Y+7),ye(this,Y+1,Y+6),ye(this,Y+2,Y+5),ye(this,Y+3,Y+4);return this},s.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?qe(this,0,X):ue.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(X){if(!s.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:s.compare(this,X)===0},s.prototype.inspect=function(){let X="";const Y=e.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(X+=" ... "),"<Buffer "+X+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(X,Y,Te,ut,Bt){if(Ar(X,Uint8Array)&&(X=s.from(X,X.offset,X.byteLength)),!s.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(Y===void 0&&(Y=0),Te===void 0&&(Te=X?X.length:0),ut===void 0&&(ut=0),Bt===void 0&&(Bt=this.length),Y<0||Te>X.length||ut<0||Bt>this.length)throw new RangeError("out of range index");if(ut>=Bt&&Y>=Te)return 0;if(ut>=Bt)return-1;if(Y>=Te)return 1;if(Y>>>=0,Te>>>=0,ut>>>=0,Bt>>>=0,this===X)return 0;let It=Bt-ut,Dt=Te-Y;const fn=Math.min(It,Dt),Pn=this.slice(ut,Bt),On=X.slice(Y,Te);for(let m=0;m<fn;++m)if(Pn[m]!==On[m]){It=Pn[m],Dt=On[m];break}return It<Dt?-1:Dt<It?1:0};function be(Ee,X,Y,Te,ut){if(Ee.length===0)return-1;if(typeof Y=="string"?(Te=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,Mr(Y)&&(Y=ut?0:Ee.length-1),Y<0&&(Y=Ee.length+Y),Y>=Ee.length){if(ut)return-1;Y=Ee.length-1}else if(Y<0)if(ut)Y=0;else return-1;if(typeof X=="string"&&(X=s.from(X,Te)),s.isBuffer(X))return X.length===0?-1:J(Ee,X,Y,Te,ut);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?ut?Uint8Array.prototype.indexOf.call(Ee,X,Y):Uint8Array.prototype.lastIndexOf.call(Ee,X,Y):J(Ee,[X],Y,Te,ut);throw new TypeError("val must be string, number or Buffer")}function J(Ee,X,Y,Te,ut){let Bt=1,It=Ee.length,Dt=X.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(Ee.length<2||X.length<2)return-1;Bt=2,It/=2,Dt/=2,Y/=2}function fn(On,m){return Bt===1?On[m]:On.readUInt16BE(m*Bt)}let Pn;if(ut){let On=-1;for(Pn=Y;Pn<It;Pn++)if(fn(Ee,Pn)===fn(X,On===-1?0:Pn-On)){if(On===-1&&(On=Pn),Pn-On+1===Dt)return On*Bt}else On!==-1&&(Pn-=Pn-On),On=-1}else for(Y+Dt>It&&(Y=It-Dt),Pn=Y;Pn>=0;Pn--){let On=!0;for(let m=0;m<Dt;m++)if(fn(Ee,Pn+m)!==fn(X,m)){On=!1;break}if(On)return Pn}return-1}s.prototype.includes=function(X,Y,Te){return this.indexOf(X,Y,Te)!==-1},s.prototype.indexOf=function(X,Y,Te){return be(this,X,Y,Te,!0)},s.prototype.lastIndexOf=function(X,Y,Te){return be(this,X,Y,Te,!1)};function se(Ee,X,Y,Te){Y=Number(Y)||0;const ut=Ee.length-Y;Te?(Te=Number(Te),Te>ut&&(Te=ut)):Te=ut;const Bt=X.length;Te>Bt/2&&(Te=Bt/2);let It;for(It=0;It<Te;++It){const Dt=parseInt(X.substr(It*2,2),16);if(Mr(Dt))return It;Ee[Y+It]=Dt}return It}function xe(Ee,X,Y,Te){return er(pt(X,Ee.length-Y),Ee,Y,Te)}function Se(Ee,X,Y,Te){return er(ir(X),Ee,Y,Te)}function De(Ee,X,Y,Te){return er(yn(X),Ee,Y,Te)}function Le(Ee,X,Y,Te){return er(gn(X,Ee.length-Y),Ee,Y,Te)}s.prototype.write=function(X,Y,Te,ut){if(Y===void 0)ut="utf8",Te=this.length,Y=0;else if(Te===void 0&&typeof Y=="string")ut=Y,Te=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(Te)?(Te=Te>>>0,ut===void 0&&(ut="utf8")):(ut=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Bt=this.length-Y;if((Te===void 0||Te>Bt)&&(Te=Bt),X.length>0&&(Te<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");ut||(ut="utf8");let It=!1;for(;;)switch(ut){case"hex":return se(this,X,Y,Te);case"utf8":case"utf-8":return xe(this,X,Y,Te);case"ascii":case"latin1":case"binary":return Se(this,X,Y,Te);case"base64":return De(this,X,Y,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,X,Y,Te);default:if(It)throw new TypeError("Unknown encoding: "+ut);ut=(""+ut).toLowerCase(),It=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(Ee,X,Y){return X===0&&Y===Ee.length?t.fromByteArray(Ee):t.fromByteArray(Ee.slice(X,Y))}function qe(Ee,X,Y){Y=Math.min(Ee.length,Y);const Te=[];let ut=X;for(;ut<Y;){const Bt=Ee[ut];let It=null,Dt=Bt>239?4:Bt>223?3:Bt>191?2:1;if(ut+Dt<=Y){let fn,Pn,On,m;switch(Dt){case 1:Bt<128&&(It=Bt);break;case 2:fn=Ee[ut+1],(fn&192)===128&&(m=(Bt&31)<<6|fn&63,m>127&&(It=m));break;case 3:fn=Ee[ut+1],Pn=Ee[ut+2],(fn&192)===128&&(Pn&192)===128&&(m=(Bt&15)<<12|(fn&63)<<6|Pn&63,m>2047&&(m<55296||m>57343)&&(It=m));break;case 4:fn=Ee[ut+1],Pn=Ee[ut+2],On=Ee[ut+3],(fn&192)===128&&(Pn&192)===128&&(On&192)===128&&(m=(Bt&15)<<18|(fn&63)<<12|(Pn&63)<<6|On&63,m>65535&&m<1114112&&(It=m))}}It===null?(It=65533,Dt=1):It>65535&&(It-=65536,Te.push(It>>>10&1023|55296),It=56320|It&1023),Te.push(It),ut+=Dt}return _t(Te)}const ge=4096;function _t(Ee){const X=Ee.length;if(X<=ge)return String.fromCharCode.apply(String,Ee);let Y="",Te=0;for(;Te<X;)Y+=String.fromCharCode.apply(String,Ee.slice(Te,Te+=ge));return Y}function Mt(Ee,X,Y){let Te="";Y=Math.min(Ee.length,Y);for(let ut=X;ut<Y;++ut)Te+=String.fromCharCode(Ee[ut]&127);return Te}function dt(Ee,X,Y){let Te="";Y=Math.min(Ee.length,Y);for(let ut=X;ut<Y;++ut)Te+=String.fromCharCode(Ee[ut]);return Te}function mt(Ee,X,Y){const Te=Ee.length;(!X||X<0)&&(X=0),(!Y||Y<0||Y>Te)&&(Y=Te);let ut="";for(let Bt=X;Bt<Y;++Bt)ut+=Wr[Ee[Bt]];return ut}function je(Ee,X,Y){const Te=Ee.slice(X,Y);let ut="";for(let Bt=0;Bt<Te.length-1;Bt+=2)ut+=String.fromCharCode(Te[Bt]+Te[Bt+1]*256);return ut}s.prototype.slice=function(X,Y){const Te=this.length;X=~~X,Y=Y===void 0?Te:~~Y,X<0?(X+=Te,X<0&&(X=0)):X>Te&&(X=Te),Y<0?(Y+=Te,Y<0&&(Y=0)):Y>Te&&(Y=Te),Y<X&&(Y=X);const ut=this.subarray(X,Y);return Object.setPrototypeOf(ut,s.prototype),ut};function Ve(Ee,X,Y){if(Ee%1!==0||Ee<0)throw new RangeError("offset is not uint");if(Ee+X>Y)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(X,Y,Te){X=X>>>0,Y=Y>>>0,Te||Ve(X,Y,this.length);let ut=this[X],Bt=1,It=0;for(;++It<Y&&(Bt*=256);)ut+=this[X+It]*Bt;return ut},s.prototype.readUintBE=s.prototype.readUIntBE=function(X,Y,Te){X=X>>>0,Y=Y>>>0,Te||Ve(X,Y,this.length);let ut=this[X+--Y],Bt=1;for(;Y>0&&(Bt*=256);)ut+=this[X+--Y]*Bt;return ut},s.prototype.readUint8=s.prototype.readUInt8=function(X,Y){return X=X>>>0,Y||Ve(X,1,this.length),this[X]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(X,Y){return X=X>>>0,Y||Ve(X,2,this.length),this[X]|this[X+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(X,Y){return X=X>>>0,Y||Ve(X,2,this.length),this[X]<<8|this[X+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(X,Y){return X=X>>>0,Y||Ve(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(X,Y){return X=X>>>0,Y||Ve(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},s.prototype.readBigUInt64LE=gr(function(X){X=X>>>0,ot(X,"offset");const Y=this[X],Te=this[X+7];(Y===void 0||Te===void 0)&&St(X,this.length-8);const ut=Y+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Bt=this[++X]+this[++X]*2**8+this[++X]*2**16+Te*2**24;return BigInt(ut)+(BigInt(Bt)<<BigInt(32))}),s.prototype.readBigUInt64BE=gr(function(X){X=X>>>0,ot(X,"offset");const Y=this[X],Te=this[X+7];(Y===void 0||Te===void 0)&&St(X,this.length-8);const ut=Y*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Bt=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+Te;return(BigInt(ut)<<BigInt(32))+BigInt(Bt)}),s.prototype.readIntLE=function(X,Y,Te){X=X>>>0,Y=Y>>>0,Te||Ve(X,Y,this.length);let ut=this[X],Bt=1,It=0;for(;++It<Y&&(Bt*=256);)ut+=this[X+It]*Bt;return Bt*=128,ut>=Bt&&(ut-=Math.pow(2,8*Y)),ut},s.prototype.readIntBE=function(X,Y,Te){X=X>>>0,Y=Y>>>0,Te||Ve(X,Y,this.length);let ut=Y,Bt=1,It=this[X+--ut];for(;ut>0&&(Bt*=256);)It+=this[X+--ut]*Bt;return Bt*=128,It>=Bt&&(It-=Math.pow(2,8*Y)),It},s.prototype.readInt8=function(X,Y){return X=X>>>0,Y||Ve(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},s.prototype.readInt16LE=function(X,Y){X=X>>>0,Y||Ve(X,2,this.length);const Te=this[X]|this[X+1]<<8;return Te&32768?Te|4294901760:Te},s.prototype.readInt16BE=function(X,Y){X=X>>>0,Y||Ve(X,2,this.length);const Te=this[X+1]|this[X]<<8;return Te&32768?Te|4294901760:Te},s.prototype.readInt32LE=function(X,Y){return X=X>>>0,Y||Ve(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},s.prototype.readInt32BE=function(X,Y){return X=X>>>0,Y||Ve(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},s.prototype.readBigInt64LE=gr(function(X){X=X>>>0,ot(X,"offset");const Y=this[X],Te=this[X+7];(Y===void 0||Te===void 0)&&St(X,this.length-8);const ut=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(Te<<24);return(BigInt(ut)<<BigInt(32))+BigInt(Y+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),s.prototype.readBigInt64BE=gr(function(X){X=X>>>0,ot(X,"offset");const Y=this[X],Te=this[X+7];(Y===void 0||Te===void 0)&&St(X,this.length-8);const ut=(Y<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(ut)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+Te)}),s.prototype.readFloatLE=function(X,Y){return X=X>>>0,Y||Ve(X,4,this.length),n.read(this,X,!0,23,4)},s.prototype.readFloatBE=function(X,Y){return X=X>>>0,Y||Ve(X,4,this.length),n.read(this,X,!1,23,4)},s.prototype.readDoubleLE=function(X,Y){return X=X>>>0,Y||Ve(X,8,this.length),n.read(this,X,!0,52,8)},s.prototype.readDoubleBE=function(X,Y){return X=X>>>0,Y||Ve(X,8,this.length),n.read(this,X,!1,52,8)};function Xe(Ee,X,Y,Te,ut,Bt){if(!s.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>ut||X<Bt)throw new RangeError('"value" argument is out of bounds');if(Y+Te>Ee.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(X,Y,Te,ut){if(X=+X,Y=Y>>>0,Te=Te>>>0,!ut){const Dt=Math.pow(2,8*Te)-1;Xe(this,X,Y,Te,Dt,0)}let Bt=1,It=0;for(this[Y]=X&255;++It<Te&&(Bt*=256);)this[Y+It]=X/Bt&255;return Y+Te},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(X,Y,Te,ut){if(X=+X,Y=Y>>>0,Te=Te>>>0,!ut){const Dt=Math.pow(2,8*Te)-1;Xe(this,X,Y,Te,Dt,0)}let Bt=Te-1,It=1;for(this[Y+Bt]=X&255;--Bt>=0&&(It*=256);)this[Y+Bt]=X/It&255;return Y+Te},s.prototype.writeUint8=s.prototype.writeUInt8=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,1,255,0),this[Y]=X&255,Y+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,2,65535,0),this[Y]=X&255,this[Y+1]=X>>>8,Y+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,2,65535,0),this[Y]=X>>>8,this[Y+1]=X&255,Y+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,4,4294967295,0),this[Y+3]=X>>>24,this[Y+2]=X>>>16,this[Y+1]=X>>>8,this[Y]=X&255,Y+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,4,4294967295,0),this[Y]=X>>>24,this[Y+1]=X>>>16,this[Y+2]=X>>>8,this[Y+3]=X&255,Y+4};function Jt(Ee,X,Y,Te,ut){it(X,Te,ut,Ee,Y,7);let Bt=Number(X&BigInt(4294967295));Ee[Y++]=Bt,Bt=Bt>>8,Ee[Y++]=Bt,Bt=Bt>>8,Ee[Y++]=Bt,Bt=Bt>>8,Ee[Y++]=Bt;let It=Number(X>>BigInt(32)&BigInt(4294967295));return Ee[Y++]=It,It=It>>8,Ee[Y++]=It,It=It>>8,Ee[Y++]=It,It=It>>8,Ee[Y++]=It,Y}function Ht(Ee,X,Y,Te,ut){it(X,Te,ut,Ee,Y,7);let Bt=Number(X&BigInt(4294967295));Ee[Y+7]=Bt,Bt=Bt>>8,Ee[Y+6]=Bt,Bt=Bt>>8,Ee[Y+5]=Bt,Bt=Bt>>8,Ee[Y+4]=Bt;let It=Number(X>>BigInt(32)&BigInt(4294967295));return Ee[Y+3]=It,It=It>>8,Ee[Y+2]=It,It=It>>8,Ee[Y+1]=It,It=It>>8,Ee[Y]=It,Y+8}s.prototype.writeBigUInt64LE=gr(function(X,Y=0){return Jt(this,X,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=gr(function(X,Y=0){return Ht(this,X,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(X,Y,Te,ut){if(X=+X,Y=Y>>>0,!ut){const fn=Math.pow(2,8*Te-1);Xe(this,X,Y,Te,fn-1,-fn)}let Bt=0,It=1,Dt=0;for(this[Y]=X&255;++Bt<Te&&(It*=256);)X<0&&Dt===0&&this[Y+Bt-1]!==0&&(Dt=1),this[Y+Bt]=(X/It>>0)-Dt&255;return Y+Te},s.prototype.writeIntBE=function(X,Y,Te,ut){if(X=+X,Y=Y>>>0,!ut){const fn=Math.pow(2,8*Te-1);Xe(this,X,Y,Te,fn-1,-fn)}let Bt=Te-1,It=1,Dt=0;for(this[Y+Bt]=X&255;--Bt>=0&&(It*=256);)X<0&&Dt===0&&this[Y+Bt+1]!==0&&(Dt=1),this[Y+Bt]=(X/It>>0)-Dt&255;return Y+Te},s.prototype.writeInt8=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,1,127,-128),X<0&&(X=255+X+1),this[Y]=X&255,Y+1},s.prototype.writeInt16LE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,2,32767,-32768),this[Y]=X&255,this[Y+1]=X>>>8,Y+2},s.prototype.writeInt16BE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,2,32767,-32768),this[Y]=X>>>8,this[Y+1]=X&255,Y+2},s.prototype.writeInt32LE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,4,2147483647,-2147483648),this[Y]=X&255,this[Y+1]=X>>>8,this[Y+2]=X>>>16,this[Y+3]=X>>>24,Y+4},s.prototype.writeInt32BE=function(X,Y,Te){return X=+X,Y=Y>>>0,Te||Xe(this,X,Y,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[Y]=X>>>24,this[Y+1]=X>>>16,this[Y+2]=X>>>8,this[Y+3]=X&255,Y+4},s.prototype.writeBigInt64LE=gr(function(X,Y=0){return Jt(this,X,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=gr(function(X,Y=0){return Ht(this,X,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ct(Ee,X,Y,Te,ut,Bt){if(Y+Te>Ee.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function Qt(Ee,X,Y,Te,ut){return X=+X,Y=Y>>>0,ut||Ct(Ee,X,Y,4),n.write(Ee,X,Y,Te,23,4),Y+4}s.prototype.writeFloatLE=function(X,Y,Te){return Qt(this,X,Y,!0,Te)},s.prototype.writeFloatBE=function(X,Y,Te){return Qt(this,X,Y,!1,Te)};function $t(Ee,X,Y,Te,ut){return X=+X,Y=Y>>>0,ut||Ct(Ee,X,Y,8),n.write(Ee,X,Y,Te,52,8),Y+8}s.prototype.writeDoubleLE=function(X,Y,Te){return $t(this,X,Y,!0,Te)},s.prototype.writeDoubleBE=function(X,Y,Te){return $t(this,X,Y,!1,Te)},s.prototype.copy=function(X,Y,Te,ut){if(!s.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!ut&&ut!==0&&(ut=this.length),Y>=X.length&&(Y=X.length),Y||(Y=0),ut>0&&ut<Te&&(ut=Te),ut===Te||X.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(ut<0)throw new RangeError("sourceEnd out of bounds");ut>this.length&&(ut=this.length),X.length-Y<ut-Te&&(ut=X.length-Y+Te);const Bt=ut-Te;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,Te,ut):Uint8Array.prototype.set.call(X,this.subarray(Te,ut),Y),Bt},s.prototype.fill=function(X,Y,Te,ut){if(typeof X=="string"){if(typeof Y=="string"?(ut=Y,Y=0,Te=this.length):typeof Te=="string"&&(ut=Te,Te=this.length),ut!==void 0&&typeof ut!="string")throw new TypeError("encoding must be a string");if(typeof ut=="string"&&!s.isEncoding(ut))throw new TypeError("Unknown encoding: "+ut);if(X.length===1){const It=X.charCodeAt(0);(ut==="utf8"&&It<128||ut==="latin1")&&(X=It)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(Y<0||this.length<Y||this.length<Te)throw new RangeError("Out of range index");if(Te<=Y)return this;Y=Y>>>0,Te=Te===void 0?this.length:Te>>>0,X||(X=0);let Bt;if(typeof X=="number")for(Bt=Y;Bt<Te;++Bt)this[Bt]=X;else{const It=s.isBuffer(X)?X:s.from(X,ut),Dt=It.length;if(Dt===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Bt=0;Bt<Te-Y;++Bt)this[Bt+Y]=It[Bt%Dt]}return this};const Ie={};function pe(Ee,X,Y){Ie[Ee]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ee}]`,this.stack,delete this.name}get code(){return Ee}set code(ut){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ut,writable:!0})}toString(){return`${this.name} [${Ee}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(Ee){return Ee?`${Ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(Ee,X){return`The "${Ee}" argument must be of type number. Received type ${typeof X}`},TypeError),pe("ERR_OUT_OF_RANGE",function(Ee,X,Y){let Te=`The value of "${Ee}" is out of range.`,ut=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?ut=Me(String(Y)):typeof Y=="bigint"&&(ut=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(ut=Me(ut)),ut+="n"),Te+=` It must be ${X}. Received ${ut}`,Te},RangeError);function Me(Ee){let X="",Y=Ee.length;const Te=Ee[0]==="-"?1:0;for(;Y>=Te+4;Y-=3)X=`_${Ee.slice(Y-3,Y)}${X}`;return`${Ee.slice(0,Y)}${X}`}function Re(Ee,X,Y){ot(X,"offset"),(Ee[X]===void 0||Ee[X+Y]===void 0)&&St(X,Ee.length-(Y+1))}function it(Ee,X,Y,Te,ut,Bt){if(Ee>Y||Ee<X){const It=typeof X=="bigint"?"n":"";let Dt;throw Bt>3?X===0||X===BigInt(0)?Dt=`>= 0${It} and < 2${It} ** ${(Bt+1)*8}${It}`:Dt=`>= -(2${It} ** ${(Bt+1)*8-1}${It}) and < 2 ** ${(Bt+1)*8-1}${It}`:Dt=`>= ${X}${It} and <= ${Y}${It}`,new Ie.ERR_OUT_OF_RANGE("value",Dt,Ee)}Re(Te,ut,Bt)}function ot(Ee,X){if(typeof Ee!="number")throw new Ie.ERR_INVALID_ARG_TYPE(X,"number",Ee)}function St(Ee,X,Y){throw Math.floor(Ee)!==Ee?(ot(Ee,Y),new Ie.ERR_OUT_OF_RANGE(Y||"offset","an integer",Ee)):X<0?new Ie.ERR_BUFFER_OUT_OF_BOUNDS:new Ie.ERR_OUT_OF_RANGE(Y||"offset",`>= ${Y?1:0} and <= ${X}`,Ee)}const Rt=/[^+/0-9A-Za-z-_]/g;function zt(Ee){if(Ee=Ee.split("=")[0],Ee=Ee.trim().replace(Rt,""),Ee.length<2)return"";for(;Ee.length%4!==0;)Ee=Ee+"=";return Ee}function pt(Ee,X){X=X||1/0;let Y;const Te=Ee.length;let ut=null;const Bt=[];for(let It=0;It<Te;++It){if(Y=Ee.charCodeAt(It),Y>55295&&Y<57344){if(!ut){if(Y>56319){(X-=3)>-1&&Bt.push(239,191,189);continue}else if(It+1===Te){(X-=3)>-1&&Bt.push(239,191,189);continue}ut=Y;continue}if(Y<56320){(X-=3)>-1&&Bt.push(239,191,189),ut=Y;continue}Y=(ut-55296<<10|Y-56320)+65536}else ut&&(X-=3)>-1&&Bt.push(239,191,189);if(ut=null,Y<128){if((X-=1)<0)break;Bt.push(Y)}else if(Y<2048){if((X-=2)<0)break;Bt.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((X-=3)<0)break;Bt.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((X-=4)<0)break;Bt.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return Bt}function ir(Ee){const X=[];for(let Y=0;Y<Ee.length;++Y)X.push(Ee.charCodeAt(Y)&255);return X}function gn(Ee,X){let Y,Te,ut;const Bt=[];for(let It=0;It<Ee.length&&!((X-=2)<0);++It)Y=Ee.charCodeAt(It),Te=Y>>8,ut=Y%256,Bt.push(ut),Bt.push(Te);return Bt}function yn(Ee){return t.toByteArray(zt(Ee))}function er(Ee,X,Y,Te){let ut;for(ut=0;ut<Te&&!(ut+Y>=X.length||ut>=Ee.length);++ut)X[ut+Y]=Ee[ut];return ut}function Ar(Ee,X){return Ee instanceof X||Ee!=null&&Ee.constructor!=null&&Ee.constructor.name!=null&&Ee.constructor.name===X.name}function Mr(Ee){return Ee!==Ee}const Wr=function(){const Ee="0123456789abcdef",X=new Array(256);for(let Y=0;Y<16;++Y){const Te=Y*16;for(let ut=0;ut<16;++ut)X[Te+ut]=Ee[Y]+Ee[ut]}return X}();function gr(Ee){return typeof BigInt>"u"?_i:Ee}function _i(){throw new Error("BigInt not supported")}})(IU);const UV=Oa(IU);var RV="Expected a function",KU="__lodash_hash_undefined__",PU=1/0,zV="[object Function]",jV="[object GeneratorFunction]",WV="[object Symbol]",NV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GV=/^\w*$/,QV=/^\./,$V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YV=/[\\^$.*+?()[\]{}|]/g,qV=/\\(\\)?/g,HV=/^\[object .+?Constructor\]$/,VV=typeof window=="object"&&window&&window.Object===Object&&window,ZV=typeof self=="object"&&self&&self.Object===Object&&self,f7=VV||ZV||Function("return this")();function XV(e,t){return e==null?void 0:e[t]}function JV(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var eZ=Array.prototype,tZ=Function.prototype,FU=Object.prototype,VM=f7["__core-js_shared__"],I9=function(){var e=/[^.]+$/.exec(VM&&VM.keys&&VM.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),DU=tZ.toString,p7=FU.hasOwnProperty,LU=FU.toString,nZ=RegExp("^"+DU.call(p7).replace(YV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T9=f7.Symbol,rZ=eZ.splice,iZ=UU(f7,"Map"),FC=UU(Object,"create"),K9=T9?T9.prototype:void 0,P9=K9?K9.toString:void 0;function E1(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oZ(){this.__data__=FC?FC(null):{}}function aZ(e){return this.has(e)&&delete this.__data__[e]}function sZ(e){var t=this.__data__;if(FC){var n=t[e];return n===KU?void 0:n}return p7.call(t,e)?t[e]:void 0}function lZ(e){var t=this.__data__;return FC?t[e]!==void 0:p7.call(t,e)}function uZ(e,t){var n=this.__data__;return n[e]=FC&&t===void 0?KU:t,this}E1.prototype.clear=oZ;E1.prototype.delete=aZ;E1.prototype.get=sZ;E1.prototype.has=lZ;E1.prototype.set=uZ;function dv(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function AZ(){this.__data__=[]}function cZ(e){var t=this.__data__,n=k5(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rZ.call(t,n,1),!0}function dZ(e){var t=this.__data__,n=k5(t,e);return n<0?void 0:t[n][1]}function hZ(e){return k5(this.__data__,e)>-1}function fZ(e,t){var n=this.__data__,r=k5(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}dv.prototype.clear=AZ;dv.prototype.delete=cZ;dv.prototype.get=dZ;dv.prototype.has=hZ;dv.prototype.set=fZ;function R1(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pZ(){this.__data__={hash:new E1,map:new(iZ||dv),string:new E1}}function mZ(e){return I5(this,e).delete(e)}function gZ(e){return I5(this,e).get(e)}function yZ(e){return I5(this,e).has(e)}function vZ(e,t){return I5(this,e).set(e,t),this}R1.prototype.clear=pZ;R1.prototype.delete=mZ;R1.prototype.get=gZ;R1.prototype.has=yZ;R1.prototype.set=vZ;function k5(e,t){for(var n=e.length;n--;)if(kZ(e[n][0],t))return n;return-1}function _Z(e,t){t=wZ(t,e)?[t]:xZ(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[OZ(t[n++])];return n&&n==r?e:void 0}function CZ(e){if(!zU(e)||SZ(e))return!1;var t=IZ(e)||JV(e)?nZ:HV;return t.test(BZ(e))}function bZ(e){if(typeof e=="string")return e;if(g7(e))return P9?P9.call(e):"";var t=e+"";return t=="0"&&1/e==-PU?"-0":t}function xZ(e){return RU(e)?e:EZ(e)}function I5(e,t){var n=e.__data__;return MZ(t)?n[typeof t=="string"?"string":"hash"]:n.map}function UU(e,t){var n=XV(e,t);return CZ(n)?n:void 0}function wZ(e,t){if(RU(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||g7(e)?!0:GV.test(e)||!NV.test(e)||t!=null&&e in Object(t)}function MZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function SZ(e){return!!I9&&I9 in e}var EZ=m7(function(e){e=KZ(e);var t=[];return QV.test(e)&&t.push(""),e.replace($V,function(n,r,i,o){t.push(i?o.replace(qV,"$1"):r||n)}),t});function OZ(e){if(typeof e=="string"||g7(e))return e;var t=e+"";return t=="0"&&1/e==-PU?"-0":t}function BZ(e){if(e!=null){try{return DU.call(e)}catch{}try{return e+""}catch{}}return""}function m7(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(RV);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(m7.Cache||R1),n}m7.Cache=R1;function kZ(e,t){return e===t||e!==e&&t!==t}var RU=Array.isArray;function IZ(e){var t=zU(e)?LU.call(e):"";return t==zV||t==jV}function zU(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function TZ(e){return!!e&&typeof e=="object"}function g7(e){return typeof e=="symbol"||TZ(e)&&LU.call(e)==WV}function KZ(e){return e==null?"":bZ(e)}function PZ(e,t,n){var r=e==null?void 0:_Z(e,t);return r===void 0?n:r}var FZ=PZ;const DZ=Oa(FZ);var L3={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */L3.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,_="__lodash_placeholder__",B=1,k=2,P=4,F=1,q=2,ee=1,H=2,N=4,Z=8,ue=16,ye=32,be=64,J=128,se=256,xe=512,Se=30,De="...",Le=800,he=16,qe=1,ge=2,_t=3,Mt=1/0,dt=9007199254740991,mt=17976931348623157e292,je=NaN,Ve=4294967295,Xe=Ve-1,Jt=Ve>>>1,Ht=[["ary",J],["bind",ee],["bindKey",H],["curry",Z],["curryRight",ue],["flip",xe],["partial",ye],["partialRight",be],["rearg",se]],Ct="[object Arguments]",Qt="[object Array]",$t="[object AsyncFunction]",Ie="[object Boolean]",pe="[object Date]",Me="[object DOMException]",Re="[object Error]",it="[object Function]",ot="[object GeneratorFunction]",St="[object Map]",Rt="[object Number]",zt="[object Null]",pt="[object Object]",ir="[object Promise]",gn="[object Proxy]",yn="[object RegExp]",er="[object Set]",Ar="[object String]",Mr="[object Symbol]",Wr="[object Undefined]",gr="[object WeakMap]",_i="[object WeakSet]",Ee="[object ArrayBuffer]",X="[object DataView]",Y="[object Float32Array]",Te="[object Float64Array]",ut="[object Int8Array]",Bt="[object Int16Array]",It="[object Int32Array]",Dt="[object Uint8Array]",fn="[object Uint8ClampedArray]",Pn="[object Uint16Array]",On="[object Uint32Array]",m=/\b__p \+= '';/g,Kt=/\b(__p \+=) '' \+/g,Pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nr=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,ce=RegExp(nr.source),Ce=RegExp(Pe.source),ke=/<%-([\s\S]+?)%>/g,ze=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/[\\^$.*+?()[\]{}|]/g,tn=RegExp(wt.source),qt=/^\s+/,en=/\s/,Fn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bn=/\{\n\/\* \[wrapped with (.+)\] \*/,qn=/,? & /,Sr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lr=/[()=,{}\[\]\/\s]/,$r=/\\(\\)?/g,Or=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lr=/\w*$/,or=/^[-+]0x[0-9a-f]+$/i,ci=/^0b[01]+$/i,Li=/^\[object .+?Constructor\]$/,to=/^0o[0-7]+$/i,ho=/^(?:0|[1-9]\d*)$/,ai=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fo=/($^)/,ja=/['\n\r\u2028\u2029\\]/g,Ba="\\ud800-\\udfff",Mi="\\u0300-\\u036f",is="\\ufe20-\\ufe2f",gi="\\u20d0-\\u20ff",Wn=Mi+is+gi,ro="\\u2700-\\u27bf",_o="a-z\\xdf-\\xf6\\xf8-\\xff",Ui="\\xac\\xb1\\xd7\\xf7",ve="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Je="\\u2000-\\u206f",Vt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sn="A-Z\\xc0-\\xd6\\xd8-\\xde",Lt="\\ufe0e\\ufe0f",wn=Ui+ve+Je+Vt,dr="['’]",ri="["+Ba+"]",si="["+wn+"]",Xo="["+Wn+"]",Ta="\\d+",Fr="["+ro+"]",Wa="["+_o+"]",yi="[^"+Ba+wn+Ta+ro+_o+sn+"]",Na="\\ud83c[\\udffb-\\udfff]",Jo="(?:"+Xo+"|"+Na+")",Cu="[^"+Ba+"]",os="(?:\\ud83c[\\udde6-\\uddff]){2}",ea="[\\ud800-\\udbff][\\udc00-\\udfff]",ta="["+sn+"]",Cs="\\u200d",bu="(?:"+Wa+"|"+yi+")",fa="(?:"+ta+"|"+yi+")",gA="(?:"+dr+"(?:d|ll|m|re|s|t|ve))?",ju="(?:"+dr+"(?:D|LL|M|RE|S|T|VE))?",yA=Jo+"?",xu="["+Lt+"]?",Wu="(?:"+Cs+"(?:"+[Cu,os,ea].join("|")+")"+xu+yA+")*",Wo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jl=xu+yA+Wu,as="(?:"+[Fr,os,ea].join("|")+")"+Jl,sl="(?:"+[Cu+Xo+"?",Xo,os,ea,ri].join("|")+")",No=RegExp(dr,"g"),wu=RegExp(Xo,"g"),ll=RegExp(Na+"(?="+Na+")|"+sl+Jl,"g"),bl=RegExp([ta+"?"+Wa+"+"+gA+"(?="+[si,ta,"$"].join("|")+")",fa+"+"+ju+"(?="+[si,ta+bu,"$"].join("|")+")",ta+"?"+bu+"+"+gA,ta+"+"+ju,bs,Wo,Ta,as].join("|"),"g"),eu=RegExp("["+Cs+Ba+Wn+Lt+"]"),sa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ul=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vA=-1,vo={};vo[Y]=vo[Te]=vo[ut]=vo[Bt]=vo[It]=vo[Dt]=vo[fn]=vo[Pn]=vo[On]=!0,vo[Ct]=vo[Qt]=vo[Ee]=vo[Ie]=vo[X]=vo[pe]=vo[Re]=vo[it]=vo[St]=vo[Rt]=vo[pt]=vo[yn]=vo[er]=vo[Ar]=vo[gr]=!1;var io={};io[Ct]=io[Qt]=io[Ee]=io[X]=io[Ie]=io[pe]=io[Y]=io[Te]=io[ut]=io[Bt]=io[It]=io[St]=io[Rt]=io[pt]=io[yn]=io[er]=io[Ar]=io[Mr]=io[Dt]=io[fn]=io[Pn]=io[On]=!0,io[Re]=io[it]=io[gr]=!1;var z={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nn=parseFloat,vn=parseInt,Kn=typeof window=="object"&&window&&window.Object===Object&&window,Ur=typeof self=="object"&&self&&self.Object===Object&&self,yr=Kn||Ur||Function("return this")(),Ir=t&&!t.nodeType&&t,ki=Ir&&!0&&e&&!e.nodeType&&e,po=ki&&ki.exports===Ir,Si=po&&Kn.process,Zr=function(){try{var Et=ki&&ki.require&&ki.require("util").types;return Et||Si&&Si.binding&&Si.binding("util")}catch{}}(),Hi=Zr&&Zr.isArrayBuffer,Bo=Zr&&Zr.isDate,xo=Zr&&Zr.isMap,Ga=Zr&&Zr.isRegExp,Pl=Zr&&Zr.isSet,tu=Zr&&Zr.isTypedArray;function pa(Et,an,jt){switch(jt.length){case 0:return Et.call(an);case 1:return Et.call(an,jt[0]);case 2:return Et.call(an,jt[0],jt[1]);case 3:return Et.call(an,jt[0],jt[1],jt[2])}return Et.apply(an,jt)}function p0(Et,an,jt,hr){for(var li=-1,oo=Et==null?0:Et.length;++li<oo;){var Ka=Et[li];an(hr,Ka,jt(Ka),Et)}return hr}function nu(Et,an){for(var jt=-1,hr=Et==null?0:Et.length;++jt<hr&&an(Et[jt],jt,Et)!==!1;);return Et}function Kh(Et,an){for(var jt=Et==null?0:Et.length;jt--&&an(Et[jt],jt,Et)!==!1;);return Et}function rd(Et,an){for(var jt=-1,hr=Et==null?0:Et.length;++jt<hr;)if(!an(Et[jt],jt,Et))return!1;return!0}function Nu(Et,an){for(var jt=-1,hr=Et==null?0:Et.length,li=0,oo=[];++jt<hr;){var Ka=Et[jt];an(Ka,jt,Et)&&(oo[li++]=Ka)}return oo}function id(Et,an){var jt=Et==null?0:Et.length;return!!jt&&ko(Et,an,0)>-1}function NA(Et,an,jt){for(var hr=-1,li=Et==null?0:Et.length;++hr<li;)if(jt(an,Et[hr]))return!0;return!1}function na(Et,an){for(var jt=-1,hr=Et==null?0:Et.length,li=Array(hr);++jt<hr;)li[jt]=an(Et[jt],jt,Et);return li}function Gu(Et,an){for(var jt=-1,hr=an.length,li=Et.length;++jt<hr;)Et[li+jt]=an[jt];return Et}function Gd(Et,an,jt,hr){var li=-1,oo=Et==null?0:Et.length;for(hr&&oo&&(jt=Et[++li]);++li<oo;)jt=an(jt,Et[li],li,Et);return jt}function GA(Et,an,jt,hr){var li=Et==null?0:Et.length;for(hr&&li&&(jt=Et[--li]);li--;)jt=an(jt,Et[li],li,Et);return jt}function Ec(Et,an){for(var jt=-1,hr=Et==null?0:Et.length;++jt<hr;)if(an(Et[jt],jt,Et))return!0;return!1}var Mu=$f("length");function od(Et){return Et.split("")}function Hp(Et){return Et.match(Sr)||[]}function Ph(Et,an,jt){var hr;return jt(Et,function(li,oo,Ka){if(an(li,oo,Ka))return hr=oo,!1}),hr}function Ii(Et,an,jt,hr){for(var li=Et.length,oo=jt+(hr?1:-1);hr?oo--:++oo<li;)if(an(Et[oo],oo,Et))return oo;return-1}function ko(Et,an,jt){return an===an?CA(Et,an,jt):Ii(Et,Fh,jt)}function m0(Et,an,jt,hr){for(var li=jt-1,oo=Et.length;++li<oo;)if(hr(Et[li],an))return li;return-1}function Fh(Et){return Et!==Et}function Qu(Et,an){var jt=Et==null?0:Et.length;return jt?QA(Et,an)/jt:je}function $f(Et){return function(an){return an==null?n:an[Et]}}function la(Et){return function(an){return Et==null?n:Et[an]}}function Yf(Et,an,jt,hr,li){return li(Et,function(oo,Ka,To){jt=hr?(hr=!1,oo):an(jt,oo,Ka,To)}),jt}function Wi(Et,an){var jt=Et.length;for(Et.sort(an);jt--;)Et[jt]=Et[jt].value;return Et}function QA(Et,an){for(var jt,hr=-1,li=Et.length;++hr<li;){var oo=an(Et[hr]);oo!==n&&(jt=jt===n?oo:jt+oo)}return jt}function Io(Et,an){for(var jt=-1,hr=Array(Et);++jt<Et;)hr[jt]=an(jt);return hr}function Do(Et,an){return na(an,function(jt){return[jt,Et[jt]]})}function $A(Et){return Et&&Et.slice(0,$d(Et)+1).replace(qt,"")}function Ls(Et){return function(an){return Et(an)}}function Dh(Et,an){return na(an,function(jt){return Et[jt]})}function ru(Et,an){return Et.has(an)}function Fl(Et,an){for(var jt=-1,hr=Et.length;++jt<hr&&ko(an,Et[jt],0)>-1;);return jt}function Oc(Et,an){for(var jt=Et.length;jt--&&ko(an,Et[jt],0)>-1;);return jt}function Lh(Et,an){for(var jt=Et.length,hr=0;jt--;)Et[jt]===an&&++hr;return hr}var Qd=la(z),Su=la(ae);function _A(Et){return"\\"+gt[Et]}function YA(Et,an){return Et==null?n:Et[an]}function qA(Et){return eu.test(Et)}function qf(Et){return sa.test(Et)}function Vp(Et){for(var an,jt=[];!(an=Et.next()).done;)jt.push(an.value);return jt}function Bc(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(hr,li){jt[++an]=[li,hr]}),jt}function ad(Et,an){return function(jt){return Et(an(jt))}}function Dl(Et,an){for(var jt=-1,hr=Et.length,li=0,oo=[];++jt<hr;){var Ka=Et[jt];(Ka===an||Ka===_)&&(Et[jt]=_,oo[li++]=jt)}return oo}function xl(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(hr){jt[++an]=hr}),jt}function ma(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(hr){jt[++an]=[hr,hr]}),jt}function CA(Et,an,jt){for(var hr=jt-1,li=Et.length;++hr<li;)if(Et[hr]===an)return hr;return-1}function Ll(Et,an,jt){for(var hr=jt+1;hr--;)if(Et[hr]===an)return hr;return hr}function Eu(Et){return qA(Et)?Ou(Et):Mu(Et)}function Ul(Et){return qA(Et)?Ic(Et):od(Et)}function $d(Et){for(var an=Et.length;an--&&en.test(Et.charAt(an)););return an}var kc=la(Ue);function Ou(Et){for(var an=ll.lastIndex=0;ll.test(Et);)++an;return an}function Ic(Et){return Et.match(ll)||[]}function sd(Et){return Et.match(bl)||[]}var Yd=function Et(an){an=an==null?yr:iu.defaults(yr.Object(),an,iu.pick(yr,ul));var jt=an.Array,hr=an.Date,li=an.Error,oo=an.Function,Ka=an.Math,To=an.Object,bA=an.RegExp,qd=an.String,Ko=an.TypeError,xA=jt.prototype,xs=oo.prototype,Qa=To.prototype,$u=an["__core-js_shared__"],ss=xs.toString,Vi=Qa.hasOwnProperty,Uh=0,Rh=function(){var v=/[^.]+$/.exec($u&&$u.keys&&$u.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),ou=Qa.toString,HA=ss.call(To),ga=yr._,Al=bA("^"+ss.call(Vi).replace(wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gn=po?an.Buffer:n,Rl=an.Symbol,Yu=an.Uint8Array,VA=Gn?Gn.allocUnsafe:n,qu=ad(To.getPrototypeOf,To),Vn=To.create,ZA=Qa.propertyIsEnumerable,Hu=xA.splice,Hf=Rl?Rl.isConcatSpreadable:n,Vu=Rl?Rl.iterator:n,Zu=Rl?Rl.toStringTag:n,XA=function(){try{var v=Cd(To,"defineProperty");return v({},"",{}),v}catch{}}(),Hd=an.clearTimeout!==yr.clearTimeout&&an.clearTimeout,Tc=hr&&hr.now!==yr.Date.now&&hr.now,Xu=an.setTimeout!==yr.setTimeout&&an.setTimeout,wo=Ka.ceil,Ju=Ka.floor,ld=To.getOwnPropertySymbols,Vf=Gn?Gn.isBuffer:n,zh=an.isFinite,jh=xA.join,Zf=ad(To.keys,To),ao=Ka.max,ua=Ka.min,br=hr.now,Br=an.parseInt,wA=Ka.random,Kc=xA.reverse,JA=Cd(an,"DataView"),Aa=Cd(an,"Map"),ec=Cd(an,"Promise"),ka=Cd(an,"Set"),eA=Cd(an,"WeakMap"),cl=Cd(To,"create"),Go=eA&&new eA,Qo={},Xf=us(JA),Vd=us(Aa),tA=us(ec),wl=us(ka),Jf=us(eA),ud=Rl?Rl.prototype:n,MA=ud?ud.valueOf:n,Wh=ud?ud.toString:n;function Fe(v){if(mn(v)&&!re(v)&&!(v instanceof Yr)){if(v instanceof Qi)return v;if(Vi.call(v,"__wrapped__"))return Ml(v)}return new Qi(v)}var tc=function(){function v(){}return function(S){if(!xn(S))return{};if(Vn)return Vn(S);v.prototype=S;var D=new v;return v.prototype=n,D}}();function ls(){}function Qi(v,S){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}Fe.templateSettings={escape:ke,evaluate:ze,interpolate:rt,variable:"",imports:{_:Fe}},Fe.prototype=ls.prototype,Fe.prototype.constructor=Fe,Qi.prototype=tc(ls.prototype),Qi.prototype.constructor=Qi;function Yr(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ve,this.__views__=[]}function ya(){var v=new Yr(this.__wrapped__);return v.__actions__=Xs(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=Xs(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=Xs(this.__views__),v}function nc(){if(this.__filtered__){var v=new Yr(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function Ad(){var v=this.__wrapped__.value(),S=this.__dir__,D=re(v),te=S<0,we=D?v.length:0,Ne=Pv(0,we,this.__views__),lt=Ne.start,vt=Ne.end,Tt=vt-lt,_n=te?vt:lt-1,Cn=this.__iteratees__,Tn=Cn.length,fr=0,Vr=ua(Tt,this.__takeCount__);if(!D||!te&&we==Tt&&Vr==Tt)return Zh(v,this.__actions__);var Ci=[];e:for(;Tt--&&fr<Vr;){_n+=S;for(var lo=-1,bi=v[_n];++lo<Tn;){var bo=Cn[lo],Po=bo.iteratee,zc=bo.type,KA=Po(bi);if(zc==ge)bi=KA;else if(!KA){if(zc==qe)continue e;break e}}Ci[fr++]=bi}return Ci}Yr.prototype=tc(ls.prototype),Yr.prototype.constructor=Yr;function au(v){var S=-1,D=v==null?0:v.length;for(this.clear();++S<D;){var te=v[S];this.set(te[0],te[1])}}function cd(){this.__data__=cl?cl(null):{},this.size=0}function rc(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S}function ep(v){var S=this.__data__;if(cl){var D=S[v];return D===h?n:D}return Vi.call(S,v)?S[v]:n}function dd(v){var S=this.__data__;return cl?S[v]!==n:Vi.call(S,v)}function ic(v,S){var D=this.__data__;return this.size+=this.has(v)?0:1,D[v]=cl&&S===n?h:S,this}au.prototype.clear=cd,au.prototype.delete=rc,au.prototype.get=ep,au.prototype.has=dd,au.prototype.set=ic;function zl(v){var S=-1,D=v==null?0:v.length;for(this.clear();++S<D;){var te=v[S];this.set(te[0],te[1])}}function tp(){this.__data__=[],this.size=0}function Zd(v){var S=this.__data__,D=Zt(S,v);if(D<0)return!1;var te=S.length-1;return D==te?S.pop():Hu.call(S,D,1),--this.size,!0}function Nh(v){var S=this.__data__,D=Zt(S,v);return D<0?n:S[D][1]}function O(v){return Zt(this.__data__,v)>-1}function u(v,S){var D=this.__data__,te=Zt(D,v);return te<0?(++this.size,D.push([v,S])):D[te][1]=S,this}zl.prototype.clear=tp,zl.prototype.delete=Zd,zl.prototype.get=Nh,zl.prototype.has=O,zl.prototype.set=u;function p(v){var S=-1,D=v==null?0:v.length;for(this.clear();++S<D;){var te=v[S];this.set(te[0],te[1])}}function C(){this.size=0,this.__data__={hash:new au,map:new(Aa||zl),string:new au}}function w(v){var S=lf(this,v).delete(v);return this.size-=S?1:0,S}function I(v){return lf(this,v).get(v)}function R(v){return lf(this,v).has(v)}function j(v,S){var D=lf(this,v),te=D.size;return D.set(v,S),this.size+=D.size==te?0:1,this}p.prototype.clear=C,p.prototype.delete=w,p.prototype.get=I,p.prototype.has=R,p.prototype.set=j;function Q(v){var S=-1,D=v==null?0:v.length;for(this.__data__=new p;++S<D;)this.add(v[S])}function ie(v){return this.__data__.set(v,h),this}function de(v){return this.__data__.has(v)}Q.prototype.add=Q.prototype.push=ie,Q.prototype.has=de;function fe(v){var S=this.__data__=new zl(v);this.size=S.size}function Oe(){this.__data__=new zl,this.size=0}function Ye(v){var S=this.__data__,D=S.delete(v);return this.size=S.size,D}function $e(v){return this.__data__.get(v)}function He(v){return this.__data__.has(v)}function We(v,S){var D=this.__data__;if(D instanceof zl){var te=D.__data__;if(!Aa||te.length<i-1)return te.push([v,S]),this.size=++D.size,this;D=this.__data__=new p(te)}return D.set(v,S),this.size=D.size,this}fe.prototype.clear=Oe,fe.prototype.delete=Ye,fe.prototype.get=$e,fe.prototype.has=He,fe.prototype.set=We;function ht(v,S){var D=re(v),te=!D&&V(v),we=!D&&!te&&Ge(v),Ne=!D&&!te&&!we&&Ns(v),lt=D||te||we||Ne,vt=lt?Io(v.length,qd):[],Tt=vt.length;for(var _n in v)(S||Vi.call(v,_n))&&!(lt&&(_n=="length"||we&&(_n=="offset"||_n=="parent")||Ne&&(_n=="buffer"||_n=="byteLength"||_n=="byteOffset")||x(_n,Tt)))&&vt.push(_n);return vt}function Ft(v){var S=v.length;return S?v[Xp(0,S-1)]:n}function tt(v,S){return Ya(Xs(v),kn(S,0,v.length))}function bt(v){return Ya(Xs(v))}function Pt(v,S,D){(D!==n&&!K(v[S],D)||D===n&&!(S in v))&&$n(v,S,D)}function Ut(v,S,D){var te=v[S];(!(Vi.call(v,S)&&K(te,D))||D===n&&!(S in v))&&$n(v,S,D)}function Zt(v,S){for(var D=v.length;D--;)if(K(v[D][0],S))return D;return-1}function dn(v,S,D,te){return Nr(v,function(we,Ne,lt){S(te,we,D(we),lt)}),te}function un(v,S){return v&&oA(S,Bl(S),v)}function pn(v,S){return v&&oA(S,Ha(S),v)}function $n(v,S,D){S=="__proto__"&&XA?XA(v,S,{configurable:!0,enumerable:!0,value:D,writable:!0}):v[S]=D}function qr(v,S){for(var D=-1,te=S.length,we=jt(te),Ne=v==null;++D<te;)we[D]=Ne?n:r_(v,S[D]);return we}function kn(v,S,D){return v===v&&(D!==n&&(v=v<=D?v:D),S!==n&&(v=v>=S?v:S)),v}function vr(v,S,D,te,we,Ne){var lt,vt=S&B,Tt=S&k,_n=S&P;if(D&&(lt=we?D(v,te,we,Ne):D(v)),lt!==n)return lt;if(!xn(v))return v;var Cn=re(v);if(Cn){if(lt=Fv(v),!vt)return Xs(v,lt)}else{var Tn=Rs(v),fr=Tn==it||Tn==ot;if(Ge(v))return x0(v,vt);if(Tn==pt||Tn==Ct||fr&&!we){if(lt=Tt||fr?{}:O0(v),!vt)return Tt?up(v,pn(lt,v)):w0(v,un(lt,v))}else{if(!io[Tn])return we?v:{};lt=uf(v,Tn,vt)}}Ne||(Ne=new fe);var Vr=Ne.get(v);if(Vr)return Vr;Ne.set(v,lt),ds(v)?v.forEach(function(bi){lt.add(vr(bi,S,D,bi,v,Ne))}):sr(v)&&v.forEach(function(bi,bo){lt.set(bo,vr(bi,S,D,bo,v,Ne))});var Ci=_n?Tt?af:lm:Tt?Ha:Bl,lo=Cn?n:Ci(v);return nu(lo||v,function(bi,bo){lo&&(bo=bi,bi=v[bo]),Ut(lt,bo,vr(bi,S,D,bo,v,Ne))}),lt}function di(v){var S=Bl(v);return function(D){return Ti(D,v,S)}}function Ti(v,S,D){var te=D.length;if(v==null)return!te;for(v=To(v);te--;){var we=D[te],Ne=S[we],lt=v[we];if(lt===n&&!(we in v)||!Ne(lt))return!1}return!0}function Hr(v,S,D){if(typeof v!="function")throw new Ko(a);return Tr(function(){v.apply(n,D)},S)}function ei(v,S,D,te){var we=-1,Ne=id,lt=!0,vt=v.length,Tt=[],_n=S.length;if(!vt)return Tt;D&&(S=na(S,Ls(D))),te?(Ne=NA,lt=!1):S.length>=i&&(Ne=ru,lt=!1,S=new Q(S));e:for(;++we<vt;){var Cn=v[we],Tn=D==null?Cn:D(Cn);if(Cn=te||Cn!==0?Cn:0,lt&&Tn===Tn){for(var fr=_n;fr--;)if(S[fr]===Tn)continue e;Tt.push(Cn)}else Ne(S,Tn,te)||Tt.push(Cn)}return Tt}var Nr=rh(ws),Ho=rh(nA,!0);function Lo(v,S){var D=!0;return Nr(v,function(te,we,Ne){return D=!!S(te,we,Ne),D}),D}function Us(v,S,D){for(var te=-1,we=v.length;++te<we;){var Ne=v[te],lt=S(Ne);if(lt!=null&&(vt===n?lt===lt&&!Zo(lt):D(lt,vt)))var vt=lt,Tt=Ne}return Tt}function Pa(v,S,D,te){var we=v.length;for(D=Jr(D),D<0&&(D=-D>we?0:we+D),te=te===n||te>we?we:Jr(te),te<0&&(te+=we),te=D>te?0:Is(te);D<te;)v[D++]=S;return v}function mo(v,S){var D=[];return Nr(v,function(te,we,Ne){S(te,we,Ne)&&D.push(te)}),D}function so(v,S,D,te,we){var Ne=-1,lt=v.length;for(D||(D=f),we||(we=[]);++Ne<lt;){var vt=v[Ne];S>0&&D(vt)?S>1?so(vt,S-1,D,te,we):Gu(we,vt):te||(we[we.length]=vt)}return we}var Zs=eg(),su=eg(!0);function ws(v,S){return v&&Zs(v,S,Bl)}function nA(v,S){return v&&su(v,S,Bl)}function jl(v,S){return Nu(S,function(D){return Un(v[D])})}function Ms(v,S){S=yd(S,v);for(var D=0,te=S.length;v!=null&&D<te;)v=v[Da(S[D++])];return D&&D==te?v:n}function Ri(v,S,D){var te=S(v);return re(v)?te:Gu(te,D(v))}function Ei(v){return v==null?v===n?Wr:zt:Zu&&Zu in To(v)?dp(v):cn(v)}function ra(v,S){return v>S}function Pc(v,S){return v!=null&&Vi.call(v,S)}function Vo(v,S){return v!=null&&S in To(v)}function va(v,S,D){return v>=ua(S,D)&&v<ao(S,D)}function Ss(v,S,D){for(var te=D?NA:id,we=v[0].length,Ne=v.length,lt=Ne,vt=jt(Ne),Tt=1/0,_n=[];lt--;){var Cn=v[lt];lt&&S&&(Cn=na(Cn,Ls(S))),Tt=ua(Cn.length,Tt),vt[lt]=!D&&(S||we>=120&&Cn.length>=120)?new Q(lt&&Cn):n}Cn=v[0];var Tn=-1,fr=vt[0];e:for(;++Tn<we&&_n.length<Tt;){var Vr=Cn[Tn],Ci=S?S(Vr):Vr;if(Vr=D||Vr!==0?Vr:0,!(fr?ru(fr,Ci):te(_n,Ci,D))){for(lt=Ne;--lt;){var lo=vt[lt];if(!(lo?ru(lo,Ci):te(v[lt],Ci,D)))continue e}fr&&fr.push(Ci),_n.push(Vr)}}return _n}function Ki(v,S,D,te){return ws(v,function(we,Ne,lt){S(te,D(we),Ne,lt)}),te}function oc(v,S,D){S=yd(S,v),v=Yn(v,S);var te=v==null?v:v[Da(BA(S))];return te==null?n:pa(te,v,D)}function Gh(v){return mn(v)&&Ei(v)==Ct}function lu(v){return mn(v)&&Ei(v)==Ee}function ac(v){return mn(v)&&Ei(v)==pe}function Bu(v,S,D,te,we){return v===S?!0:v==null||S==null||!mn(v)&&!mn(S)?v!==v&&S!==S:Qh(v,S,D,te,Bu,we)}function Qh(v,S,D,te,we,Ne){var lt=re(v),vt=re(S),Tt=lt?Qt:Rs(v),_n=vt?Qt:Rs(S);Tt=Tt==Ct?pt:Tt,_n=_n==Ct?pt:_n;var Cn=Tt==pt,Tn=_n==pt,fr=Tt==_n;if(fr&&Ge(v)){if(!Ge(S))return!1;lt=!0,Cn=!1}if(fr&&!Cn)return Ne||(Ne=new fe),lt||Ns(v)?Ku(v,S,D,te,we,Ne):sm(v,S,Tt,D,te,we,Ne);if(!(D&F)){var Vr=Cn&&Vi.call(v,"__wrapped__"),Ci=Tn&&Vi.call(S,"__wrapped__");if(Vr||Ci){var lo=Vr?v.value():v,bi=Ci?S.value():S;return Ne||(Ne=new fe),we(lo,bi,D,te,Ne)}}return fr?(Ne||(Ne=new fe),E0(v,S,D,te,we,Ne)):!1}function ku(v){return mn(v)&&Rs(v)==St}function $h(v,S,D,te){var we=D.length,Ne=we,lt=!te;if(v==null)return!Ne;for(v=To(v);we--;){var vt=D[we];if(lt&&vt[2]?vt[1]!==v[vt[0]]:!(vt[0]in v))return!1}for(;++we<Ne;){vt=D[we];var Tt=vt[0],_n=v[Tt],Cn=vt[1];if(lt&&vt[2]){if(_n===n&&!(Tt in v))return!1}else{var Tn=new fe;if(te)var fr=te(_n,Cn,Tt,v,S,Tn);if(!(fr===n?Bu(Cn,_n,F|q,te,Tn):fr))return!1}}return!0}function SA(v){if(!xn(v)||ne(v))return!1;var S=Un(v)?Al:Li;return S.test(us(v))}function np(v){return mn(v)&&Ei(v)==yn}function hd(v){return mn(v)&&Rs(v)==er}function rp(v){return mn(v)&&Hn(v.length)&&!!vo[Ei(v)]}function rA(v){return typeof v=="function"?v:v==null?fc:typeof v=="object"?re(v)?Hh(v[0],v[1]):qh(v):pI(v)}function fd(v){if(!me(v))return Zf(v);var S=[];for(var D in To(v))Vi.call(v,D)&&D!="constructor"&&S.push(D);return S}function Yh(v){if(!xn(v))return Wt(v);var S=me(v),D=[];for(var te in v)te=="constructor"&&(S||!Vi.call(v,te))||D.push(te);return D}function iA(v,S){return v<S}function g0(v,S){var D=-1,te=_e(v)?jt(v.length):[];return Nr(v,function(we,Ne,lt){te[++D]=S(we,Ne,lt)}),te}function qh(v){var S=Mo(v);return S.length==1&&S[0][2]?nt(S[0][0],S[0][1]):function(D){return D===v||$h(D,v,S)}}function Hh(v,S){return E(v)&&Qe(S)?nt(Da(v),S):function(D){var te=r_(D,v);return te===n&&te===S?i_(D,v):Bu(S,te,F|q)}}function uu(v,S,D,te,we){v!==S&&Zs(S,function(Ne,lt){if(we||(we=new fe),xn(Ne))Xd(v,S,lt,D,uu,te,we);else{var vt=te?te(Ln(v,lt),Ne,lt+"",v,S,we):n;vt===n&&(vt=Ne),Pt(v,lt,vt)}},Ha)}function Xd(v,S,D,te,we,Ne,lt){var vt=Ln(v,D),Tt=Ln(S,D),_n=lt.get(Tt);if(_n){Pt(v,D,_n);return}var Cn=Ne?Ne(vt,Tt,D+"",v,S,lt):n,Tn=Cn===n;if(Tn){var fr=re(Tt),Vr=!fr&&Ge(Tt),Ci=!fr&&!Vr&&Ns(Tt);Cn=Tt,fr||Vr||Ci?re(vt)?Cn=vt:Be(vt)?Cn=Xs(vt):Vr?(Tn=!1,Cn=x0(Tt,!0)):Ci?(Tn=!1,Cn=_a(Tt,!0)):Cn=[]:La(Tt)||V(Tt)?(Cn=vt,V(vt)?Cn=El(vt):(!xn(vt)||Un(vt))&&(Cn=O0(Tt))):Tn=!1}Tn&&(lt.set(Tt,Cn),we(Cn,Tt,te,Ne,lt),lt.delete(Tt)),Pt(v,D,Cn)}function Jd(v,S){var D=v.length;if(D)return S+=S<0?D:0,x(S,D)?v[S]:n}function H1(v,S,D){S.length?S=na(S,function(Ne){return re(Ne)?function(lt){return Ms(lt,Ne.length===1?Ne[0]:Ne)}:Ne}):S=[fc];var te=-1;S=na(S,Ls(Xr()));var we=g0(v,function(Ne,lt,vt){var Tt=na(S,function(_n){return _n(Ne)});return{criteria:Tt,index:++te,value:Ne}});return Wi(we,function(Ne,lt){return J1(Ne,lt,D)})}function dl(v,S){return eh(v,S,function(D,te){return i_(v,te)})}function eh(v,S,D){for(var te=-1,we=S.length,Ne={};++te<we;){var lt=S[te],vt=Ms(v,lt);D(vt,lt)&&Vh(Ne,yd(lt,v),vt)}return Ne}function y0(v){return function(S){return Ms(S,v)}}function Zp(v,S,D,te){var we=te?m0:ko,Ne=-1,lt=S.length,vt=v;for(v===S&&(S=Xs(S)),D&&(vt=na(v,Ls(D)));++Ne<lt;)for(var Tt=0,_n=S[Ne],Cn=D?D(_n):_n;(Tt=we(vt,Cn,Tt,te))>-1;)vt!==v&&Hu.call(vt,Tt,1),Hu.call(v,Tt,1);return v}function Es(v,S){for(var D=v?S.length:0,te=D-1;D--;){var we=S[D];if(D==te||we!==Ne){var Ne=we;x(we)?Hu.call(v,we,1):tm(v,we)}}return v}function Xp(v,S){return v+Ju(wA()*(S-v+1))}function Jp(v,S,D,te){for(var we=-1,Ne=ao(wo((S-v)/(D||1)),0),lt=jt(Ne);Ne--;)lt[te?Ne:++we]=v,v+=D;return lt}function v0(v,S){var D="";if(!v||S<1||S>dt)return D;do S%2&&(D+=v),S=Ju(S/2),S&&(v+=v);while(S);return D}function $i(v,S){return _r(In(v,S,fc),v+"")}function _0(v){return Ft(wg(v))}function C0(v,S){var D=wg(v);return Ya(D,kn(S,0,D.length))}function Vh(v,S,D,te){if(!xn(v))return v;S=yd(S,v);for(var we=-1,Ne=S.length,lt=Ne-1,vt=v;vt!=null&&++we<Ne;){var Tt=Da(S[we]),_n=D;if(Tt==="__proto__"||Tt==="constructor"||Tt==="prototype")return v;if(we!=lt){var Cn=vt[Tt];_n=te?te(Cn,Tt,vt):n,_n===n&&(_n=xn(Cn)?Cn:x(S[we+1])?[]:{})}Ut(vt,Tt,_n),vt=vt[Tt]}return v}var em=Go?function(v,S){return Go.set(v,S),v}:fc,V1=XA?function(v,S){return XA(v,"toString",{configurable:!0,enumerable:!1,value:mM(S),writable:!0})}:fc;function b0(v){return Ya(wg(v))}function Fa(v,S,D){var te=-1,we=v.length;S<0&&(S=-S>we?0:we+S),D=D>we?we:D,D<0&&(D+=we),we=S>D?0:D-S>>>0,S>>>=0;for(var Ne=jt(we);++te<we;)Ne[te]=v[te+S];return Ne}function hl(v,S){var D;return Nr(v,function(te,we,Ne){return D=S(te,we,Ne),!D}),!!D}function pd(v,S,D){var te=0,we=v==null?te:v.length;if(typeof S=="number"&&S===S&&we<=Jt){for(;te<we;){var Ne=te+we>>>1,lt=v[Ne];lt!==null&&!Zo(lt)&&(D?lt<=S:lt<S)?te=Ne+1:we=Ne}return we}return th(v,S,fc,D)}function th(v,S,D,te){var we=0,Ne=v==null?0:v.length;if(Ne===0)return 0;S=D(S);for(var lt=S!==S,vt=S===null,Tt=Zo(S),_n=S===n;we<Ne;){var Cn=Ju((we+Ne)/2),Tn=D(v[Cn]),fr=Tn!==n,Vr=Tn===null,Ci=Tn===Tn,lo=Zo(Tn);if(lt)var bi=te||Ci;else _n?bi=Ci&&(te||fr):vt?bi=Ci&&fr&&(te||!Vr):Tt?bi=Ci&&fr&&!Vr&&(te||!lo):Vr||lo?bi=!1:bi=te?Tn<=S:Tn<S;bi?we=Cn+1:Ne=Cn}return ua(Ne,Xe)}function EA(v,S){for(var D=-1,te=v.length,we=0,Ne=[];++D<te;){var lt=v[D],vt=S?S(lt):lt;if(!D||!K(vt,Tt)){var Tt=vt;Ne[we++]=lt===0?0:lt}}return Ne}function Z1(v){return typeof v=="number"?v:Zo(v)?je:+v}function Iu(v){if(typeof v=="string")return v;if(re(v))return na(v,Iu)+"";if(Zo(v))return Wh?Wh.call(v):"";var S=v+"";return S=="0"&&1/v==-Mt?"-0":S}function Tu(v,S,D){var te=-1,we=id,Ne=v.length,lt=!0,vt=[],Tt=vt;if(D)lt=!1,we=NA;else if(Ne>=i){var _n=S?null:ng(v);if(_n)return xl(_n);lt=!1,we=ru,Tt=new Q}else Tt=S?[]:vt;e:for(;++te<Ne;){var Cn=v[te],Tn=S?S(Cn):Cn;if(Cn=D||Cn!==0?Cn:0,lt&&Tn===Tn){for(var fr=Tt.length;fr--;)if(Tt[fr]===Tn)continue e;S&&Tt.push(Tn),vt.push(Cn)}else we(Tt,Tn,D)||(Tt!==vt&&Tt.push(Tn),vt.push(Cn))}return vt}function tm(v,S){return S=yd(S,v),v=Yn(v,S),v==null||delete v[Da(BA(S))]}function ip(v,S,D,te){return Vh(v,S,D(Ms(v,S)),te)}function md(v,S,D,te){for(var we=v.length,Ne=te?we:-1;(te?Ne--:++Ne<we)&&S(v[Ne],Ne,v););return D?Fa(v,te?0:Ne,te?Ne+1:we):Fa(v,te?Ne+1:0,te?we:Ne)}function Zh(v,S){var D=v;return D instanceof Yr&&(D=D.value()),Gd(S,function(te,we){return we.func.apply(we.thisArg,Gu([te],we.args))},D)}function Au(v,S,D){var te=v.length;if(te<2)return te?Tu(v[0]):[];for(var we=-1,Ne=jt(te);++we<te;)for(var lt=v[we],vt=-1;++vt<te;)vt!=we&&(Ne[we]=ei(Ne[we]||lt,v[vt],S,D));return Tu(so(Ne,1),S,D)}function gd(v,S,D){for(var te=-1,we=v.length,Ne=S.length,lt={};++te<we;){var vt=te<Ne?S[te]:n;D(lt,v[te],vt)}return lt}function op(v){return Be(v)?v:[]}function ap(v){return typeof v=="function"?v:fc}function yd(v,S){return re(v)?v:E(v,S)?[v]:Ca(fi(v))}var sp=$i;function Fc(v,S,D){var te=v.length;return D=D===n?te:D,!S&&D>=te?v:Fa(v,S,D)}var X1=Hd||function(v){return yr.clearTimeout(v)};function x0(v,S){if(S)return v.slice();var D=v.length,te=VA?VA(D):new v.constructor(D);return v.copy(te),te}function vd(v){var S=new v.constructor(v.byteLength);return new Yu(S).set(new Yu(v)),S}function Tv(v,S){var D=S?vd(v.buffer):v.buffer;return new v.constructor(D,v.byteOffset,v.byteLength)}function Xh(v){var S=new v.constructor(v.source,Lr.exec(v));return S.lastIndex=v.lastIndex,S}function lp(v){return MA?To(MA.call(v)):{}}function _a(v,S){var D=S?vd(v.buffer):v.buffer;return new v.constructor(D,v.byteOffset,v.length)}function Jh(v,S){if(v!==S){var D=v!==n,te=v===null,we=v===v,Ne=Zo(v),lt=S!==n,vt=S===null,Tt=S===S,_n=Zo(S);if(!vt&&!_n&&!Ne&&v>S||Ne&&lt&&Tt&&!vt&&!_n||te&&lt&&Tt||!D&&Tt||!we)return 1;if(!te&&!Ne&&!_n&&v<S||_n&&D&&we&&!te&&!Ne||vt&&D&&we||!lt&&we||!Tt)return-1}return 0}function J1(v,S,D){for(var te=-1,we=v.criteria,Ne=S.criteria,lt=we.length,vt=D.length;++te<lt;){var Tt=Jh(we[te],Ne[te]);if(Tt){if(te>=vt)return Tt;var _n=D[te];return Tt*(_n=="desc"?-1:1)}}return v.index-S.index}function nh(v,S,D,te){for(var we=-1,Ne=v.length,lt=D.length,vt=-1,Tt=S.length,_n=ao(Ne-lt,0),Cn=jt(Tt+_n),Tn=!te;++vt<Tt;)Cn[vt]=S[vt];for(;++we<lt;)(Tn||we<Ne)&&(Cn[D[we]]=v[we]);for(;_n--;)Cn[vt++]=v[we++];return Cn}function ef(v,S,D,te){for(var we=-1,Ne=v.length,lt=-1,vt=D.length,Tt=-1,_n=S.length,Cn=ao(Ne-vt,0),Tn=jt(Cn+_n),fr=!te;++we<Cn;)Tn[we]=v[we];for(var Vr=we;++Tt<_n;)Tn[Vr+Tt]=S[Tt];for(;++lt<vt;)(fr||we<Ne)&&(Tn[Vr+D[lt]]=v[we++]);return Tn}function Xs(v,S){var D=-1,te=v.length;for(S||(S=jt(te));++D<te;)S[D]=v[D];return S}function oA(v,S,D,te){var we=!D;D||(D={});for(var Ne=-1,lt=S.length;++Ne<lt;){var vt=S[Ne],Tt=te?te(D[vt],v[vt],vt,D,v):n;Tt===n&&(Tt=v[vt]),we?$n(D,vt,Tt):Ut(D,vt,Tt)}return D}function w0(v,S){return oA(v,Lc(v),S)}function up(v,S){return oA(v,ig(v),S)}function _d(v,S){return function(D,te){var we=re(D)?p0:dn,Ne=S?S():{};return we(D,v,Xr(te,2),Ne)}}function aA(v){return $i(function(S,D){var te=-1,we=D.length,Ne=we>1?D[we-1]:n,lt=we>2?D[2]:n;for(Ne=v.length>3&&typeof Ne=="function"?(we--,Ne):n,lt&&b(D[0],D[1],lt)&&(Ne=we<3?n:Ne,we=1),S=To(S);++te<we;){var vt=D[te];vt&&v(S,vt,te,Ne)}return S})}function rh(v,S){return function(D,te){if(D==null)return D;if(!_e(D))return v(D,te);for(var we=D.length,Ne=S?we:-1,lt=To(D);(S?Ne--:++Ne<we)&&te(lt[Ne],Ne,lt)!==!1;);return D}}function eg(v){return function(S,D,te){for(var we=-1,Ne=To(S),lt=te(S),vt=lt.length;vt--;){var Tt=lt[v?vt:++we];if(D(Ne[Tt],Tt,Ne)===!1)break}return S}}function M0(v,S,D){var te=S&ee,we=ih(v);function Ne(){var lt=this&&this!==yr&&this instanceof Ne?we:v;return lt.apply(te?D:this,arguments)}return Ne}function tf(v){return function(S){S=fi(S);var D=qA(S)?Ul(S):n,te=D?D[0]:S.charAt(0),we=D?Fc(D,1).join(""):S.slice(1);return te[v]()+we}}function nf(v){return function(S){return Gd(hI(dI(S).replace(No,"")),v,"")}}function ih(v){return function(){var S=arguments;switch(S.length){case 0:return new v;case 1:return new v(S[0]);case 2:return new v(S[0],S[1]);case 3:return new v(S[0],S[1],S[2]);case 4:return new v(S[0],S[1],S[2],S[3]);case 5:return new v(S[0],S[1],S[2],S[3],S[4]);case 6:return new v(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new v(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var D=tc(v.prototype),te=v.apply(D,S);return xn(te)?te:D}}function Kv(v,S,D){var te=ih(v);function we(){for(var Ne=arguments.length,lt=jt(Ne),vt=Ne,Tt=sf(we);vt--;)lt[vt]=arguments[vt];var _n=Ne<3&&lt[0]!==Tt&&lt[Ne-1]!==Tt?[]:Dl(lt,Tt);if(Ne-=_n.length,Ne<D)return sA(v,S,rf,we.placeholder,n,lt,_n,n,n,D-Ne);var Cn=this&&this!==yr&&this instanceof we?te:v;return pa(Cn,this,lt)}return we}function Ap(v){return function(S,D,te){var we=To(S);if(!_e(S)){var Ne=Xr(D,3);S=Bl(S),D=function(vt){return Ne(we[vt],vt,we)}}var lt=v(S,D,te);return lt>-1?we[Ne?S[lt]:lt]:n}}function nm(v){return sc(function(S){var D=S.length,te=D,we=Qi.prototype.thru;for(v&&S.reverse();te--;){var Ne=S[te];if(typeof Ne!="function")throw new Ko(a);if(we&&!lt&&lh(Ne)=="wrapper")var lt=new Qi([],!0)}for(te=lt?te:D;++te<D;){Ne=S[te];var vt=lh(Ne),Tt=vt=="wrapper"?Dc(Ne):n;Tt&&$(Tt[0])&&Tt[1]==(J|Z|ye|se)&&!Tt[4].length&&Tt[9]==1?lt=lt[lh(Tt[0])].apply(lt,Tt[3]):lt=Ne.length==1&&$(Ne)?lt[vt]():lt.thru(Ne)}return function(){var _n=arguments,Cn=_n[0];if(lt&&_n.length==1&&re(Cn))return lt.plant(Cn).value();for(var Tn=0,fr=D?S[Tn].apply(this,_n):Cn;++Tn<D;)fr=S[Tn].call(this,fr);return fr}})}function rf(v,S,D,te,we,Ne,lt,vt,Tt,_n){var Cn=S&J,Tn=S&ee,fr=S&H,Vr=S&(Z|ue),Ci=S&xe,lo=fr?n:ih(v);function bi(){for(var bo=arguments.length,Po=jt(bo),zc=bo;zc--;)Po[zc]=arguments[zc];if(Vr)var KA=sf(bi),jc=Lh(Po,KA);if(te&&(Po=nh(Po,te,we,Vr)),Ne&&(Po=ef(Po,Ne,lt,Vr)),bo-=jc,Vr&&bo<_n){var fl=Dl(Po,KA);return sA(v,S,rf,bi.placeholder,D,Po,fl,vt,Tt,_n-bo)}var ph=Tn?D:this,pp=fr?ph[v]:v;return bo=Po.length,vt?Po=bn(Po,vt):Ci&&bo>1&&Po.reverse(),Cn&&Tt<bo&&(Po.length=Tt),this&&this!==yr&&this instanceof bi&&(pp=lo||ih(pp)),pp.apply(ph,Po)}return bi}function rm(v,S){return function(D,te){return Ki(D,v,S(te),{})}}function oh(v,S){return function(D,te){var we;if(D===n&&te===n)return S;if(D!==n&&(we=D),te!==n){if(we===n)return te;typeof D=="string"||typeof te=="string"?(D=Iu(D),te=Iu(te)):(D=Z1(D),te=Z1(te)),we=v(D,te)}return we}}function im(v){return sc(function(S){return S=na(S,Ls(Xr())),$i(function(D){var te=this;return v(S,function(we){return pa(we,te,D)})})})}function om(v,S){S=S===n?" ":Iu(S);var D=S.length;if(D<2)return D?v0(S,v):S;var te=v0(S,wo(v/Eu(S)));return qA(S)?Fc(Ul(te),0,v).join(""):te.slice(0,v)}function tg(v,S,D,te){var we=S&ee,Ne=ih(v);function lt(){for(var vt=-1,Tt=arguments.length,_n=-1,Cn=te.length,Tn=jt(Cn+Tt),fr=this&&this!==yr&&this instanceof lt?Ne:v;++_n<Cn;)Tn[_n]=te[_n];for(;Tt--;)Tn[_n++]=arguments[++vt];return pa(fr,we?D:this,Tn)}return lt}function ah(v){return function(S,D,te){return te&&typeof te!="number"&&b(S,D,te)&&(D=te=n),S=hs(S),D===n?(D=S,S=0):D=hs(D),te=te===n?S<D?1:-1:hs(te),Jp(S,D,te,v)}}function cp(v){return function(S,D){return typeof S=="string"&&typeof D=="string"||(S=ii(S),D=ii(D)),v(S,D)}}function sA(v,S,D,te,we,Ne,lt,vt,Tt,_n){var Cn=S&Z,Tn=Cn?lt:n,fr=Cn?n:lt,Vr=Cn?Ne:n,Ci=Cn?n:Ne;S|=Cn?ye:be,S&=~(Cn?be:ye),S&N||(S&=~(ee|H));var lo=[v,S,we,Vr,Tn,Ci,fr,vt,Tt,_n],bi=D.apply(n,lo);return $(v)&&ar(bi,lo),bi.placeholder=te,hi(bi,v,S)}function S0(v){var S=Ka[v];return function(D,te){if(D=ii(D),te=te==null?0:ua(Jr(te),292),te&&zh(D)){var we=(fi(D)+"e").split("e"),Ne=S(we[0]+"e"+(+we[1]+te));return we=(fi(Ne)+"e").split("e"),+(we[0]+"e"+(+we[1]-te))}return S(D)}}var ng=ka&&1/xl(new ka([,-0]))[1]==Mt?function(v){return new ka(v)}:vM;function sh(v){return function(S){var D=Rs(S);return D==St?Bc(S):D==er?ma(S):Do(S,v(S))}}function Co(v,S,D,te,we,Ne,lt,vt){var Tt=S&H;if(!Tt&&typeof v!="function")throw new Ko(a);var _n=te?te.length:0;if(_n||(S&=~(ye|be),te=we=n),lt=lt===n?lt:ao(Jr(lt),0),vt=vt===n?vt:Jr(vt),_n-=we?we.length:0,S&be){var Cn=te,Tn=we;te=we=n}var fr=Tt?n:Dc(v),Vr=[v,S,D,te,we,Cn,Tn,Ne,lt,vt];if(fr&&yt(Vr,fr),v=Vr[0],S=Vr[1],D=Vr[2],te=Vr[3],we=Vr[4],vt=Vr[9]=Vr[9]===n?Tt?0:v.length:ao(Vr[9]-_n,0),!vt&&S&(Z|ue)&&(S&=~(Z|ue)),!S||S==ee)var Ci=M0(v,S,D);else S==Z||S==ue?Ci=Kv(v,S,vt):(S==ye||S==(ee|ye))&&!we.length?Ci=tg(v,S,D,te):Ci=rf.apply(n,Vr);var lo=fr?em:ar;return hi(lo(Ci,Vr),v,S)}function rg(v,S,D,te){return v===n||K(v,Qa[D])&&!Vi.call(te,D)?S:v}function am(v,S,D,te,we,Ne){return xn(v)&&xn(S)&&(Ne.set(S,v),uu(v,S,n,am,Ne),Ne.delete(S)),v}function of(v){return La(v)?n:v}function Ku(v,S,D,te,we,Ne){var lt=D&F,vt=v.length,Tt=S.length;if(vt!=Tt&&!(lt&&Tt>vt))return!1;var _n=Ne.get(v),Cn=Ne.get(S);if(_n&&Cn)return _n==S&&Cn==v;var Tn=-1,fr=!0,Vr=D&q?new Q:n;for(Ne.set(v,S),Ne.set(S,v);++Tn<vt;){var Ci=v[Tn],lo=S[Tn];if(te)var bi=lt?te(lo,Ci,Tn,S,v,Ne):te(Ci,lo,Tn,v,S,Ne);if(bi!==n){if(bi)continue;fr=!1;break}if(Vr){if(!Ec(S,function(bo,Po){if(!ru(Vr,Po)&&(Ci===bo||we(Ci,bo,D,te,Ne)))return Vr.push(Po)})){fr=!1;break}}else if(!(Ci===lo||we(Ci,lo,D,te,Ne))){fr=!1;break}}return Ne.delete(v),Ne.delete(S),fr}function sm(v,S,D,te,we,Ne,lt){switch(D){case X:if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case Ee:return!(v.byteLength!=S.byteLength||!Ne(new Yu(v),new Yu(S)));case Ie:case pe:case Rt:return K(+v,+S);case Re:return v.name==S.name&&v.message==S.message;case yn:case Ar:return v==S+"";case St:var vt=Bc;case er:var Tt=te&F;if(vt||(vt=xl),v.size!=S.size&&!Tt)return!1;var _n=lt.get(v);if(_n)return _n==S;te|=q,lt.set(v,S);var Cn=Ku(vt(v),vt(S),te,we,Ne,lt);return lt.delete(v),Cn;case Mr:if(MA)return MA.call(v)==MA.call(S)}return!1}function E0(v,S,D,te,we,Ne){var lt=D&F,vt=lm(v),Tt=vt.length,_n=lm(S),Cn=_n.length;if(Tt!=Cn&&!lt)return!1;for(var Tn=Tt;Tn--;){var fr=vt[Tn];if(!(lt?fr in S:Vi.call(S,fr)))return!1}var Vr=Ne.get(v),Ci=Ne.get(S);if(Vr&&Ci)return Vr==S&&Ci==v;var lo=!0;Ne.set(v,S),Ne.set(S,v);for(var bi=lt;++Tn<Tt;){fr=vt[Tn];var bo=v[fr],Po=S[fr];if(te)var zc=lt?te(Po,bo,fr,S,v,Ne):te(bo,Po,fr,v,S,Ne);if(!(zc===n?bo===Po||we(bo,Po,D,te,Ne):zc)){lo=!1;break}bi||(bi=fr=="constructor")}if(lo&&!bi){var KA=v.constructor,jc=S.constructor;KA!=jc&&"constructor"in v&&"constructor"in S&&!(typeof KA=="function"&&KA instanceof KA&&typeof jc=="function"&&jc instanceof jc)&&(lo=!1)}return Ne.delete(v),Ne.delete(S),lo}function sc(v){return _r(In(v,n,qa),v+"")}function lm(v){return Ri(v,Bl,Lc)}function af(v){return Ri(v,Ha,ig)}var Dc=Go?function(v){return Go.get(v)}:vM;function lh(v){for(var S=v.name+"",D=Qo[S],te=Vi.call(Qo,S)?D.length:0;te--;){var we=D[te],Ne=we.func;if(Ne==null||Ne==v)return we.name}return S}function sf(v){var S=Vi.call(Fe,"placeholder")?Fe:v;return S.placeholder}function Xr(){var v=Fe.iteratee||gM;return v=v===gM?rA:v,arguments.length?v(arguments[0],arguments[1]):v}function lf(v,S){var D=v.__data__;return U(S)?D[typeof S=="string"?"string":"hash"]:D.map}function Mo(v){for(var S=Bl(v),D=S.length;D--;){var te=S[D],we=v[te];S[D]=[te,we,Qe(we)]}return S}function Cd(v,S){var D=YA(v,S);return SA(D)?D:n}function dp(v){var S=Vi.call(v,Zu),D=v[Zu];try{v[Zu]=n;var te=!0}catch{}var we=ou.call(v);return te&&(S?v[Zu]=D:delete v[Zu]),we}var Lc=ld?function(v){return v==null?[]:(v=To(v),Nu(ld(v),function(S){return ZA.call(v,S)}))}:_M,ig=ld?function(v){for(var S=[];v;)Gu(S,Lc(v)),v=qu(v);return S}:_M,Rs=Ei;(JA&&Rs(new JA(new ArrayBuffer(1)))!=X||Aa&&Rs(new Aa)!=St||ec&&Rs(ec.resolve())!=ir||ka&&Rs(new ka)!=er||eA&&Rs(new eA)!=gr)&&(Rs=function(v){var S=Ei(v),D=S==pt?v.constructor:n,te=D?us(D):"";if(te)switch(te){case Xf:return X;case Vd:return St;case tA:return ir;case wl:return er;case Jf:return gr}return S});function Pv(v,S,D){for(var te=-1,we=D.length;++te<we;){var Ne=D[te],lt=Ne.size;switch(Ne.type){case"drop":v+=lt;break;case"dropRight":S-=lt;break;case"take":S=ua(S,v+lt);break;case"takeRight":v=ao(v,S-lt);break}}return{start:v,end:S}}function $a(v){var S=v.match(Bn);return S?S[1].split(qn):[]}function og(v,S,D){S=yd(S,v);for(var te=-1,we=S.length,Ne=!1;++te<we;){var lt=Da(S[te]);if(!(Ne=v!=null&&D(v,lt)))break;v=v[lt]}return Ne||++te!=we?Ne:(we=v==null?0:v.length,!!we&&Hn(we)&&x(lt,we)&&(re(v)||V(v)))}function Fv(v){var S=v.length,D=new v.constructor(S);return S&&typeof v[0]=="string"&&Vi.call(v,"index")&&(D.index=v.index,D.input=v.input),D}function O0(v){return typeof v.constructor=="function"&&!me(v)?tc(qu(v)):{}}function uf(v,S,D){var te=v.constructor;switch(S){case Ee:return vd(v);case Ie:case pe:return new te(+v);case X:return Tv(v,D);case Y:case Te:case ut:case Bt:case It:case Dt:case fn:case Pn:case On:return _a(v,D);case St:return new te;case Rt:case Ar:return new te(v);case yn:return Xh(v);case er:return new te;case Mr:return lp(v)}}function A(v,S){var D=S.length;if(!D)return v;var te=D-1;return S[te]=(D>1?"& ":"")+S[te],S=S.join(D>2?", ":" "),v.replace(Fn,`{
/* [wrapped with `+S+`] */
`)}function f(v){return re(v)||V(v)||!!(Hf&&v&&v[Hf])}function x(v,S){var D=typeof v;return S=S??dt,!!S&&(D=="number"||D!="symbol"&&ho.test(v))&&v>-1&&v%1==0&&v<S}function b(v,S,D){if(!xn(D))return!1;var te=typeof S;return(te=="number"?_e(D)&&x(S,D.length):te=="string"&&S in D)?K(D[S],v):!1}function E(v,S){if(re(v))return!1;var D=typeof v;return D=="number"||D=="symbol"||D=="boolean"||v==null||Zo(v)?!0:ft.test(v)||!st.test(v)||S!=null&&v in To(S)}function U(v){var S=typeof v;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?v!=="__proto__":v===null}function $(v){var S=lh(v),D=Fe[S];if(typeof D!="function"||!(S in Yr.prototype))return!1;if(v===D)return!0;var te=Dc(D);return!!te&&v===te[0]}function ne(v){return!!Rh&&Rh in v}var le=$u?Un:CM;function me(v){var S=v&&v.constructor,D=typeof S=="function"&&S.prototype||Qa;return v===D}function Qe(v){return v===v&&!xn(v)}function nt(v,S){return function(D){return D==null?!1:D[v]===S&&(S!==n||v in To(D))}}function Ot(v){var S=fm(v,function(te){return D.size===g&&D.clear(),te}),D=S.cache;return S}function yt(v,S){var D=v[1],te=S[1],we=D|te,Ne=we<(ee|H|J),lt=te==J&&D==Z||te==J&&D==se&&v[7].length<=S[8]||te==(J|se)&&S[7].length<=S[8]&&D==Z;if(!(Ne||lt))return v;te&ee&&(v[2]=S[2],we|=D&ee?0:N);var vt=S[3];if(vt){var Tt=v[3];v[3]=Tt?nh(Tt,vt,S[4]):vt,v[4]=Tt?Dl(v[3],_):S[4]}return vt=S[5],vt&&(Tt=v[5],v[5]=Tt?ef(Tt,vt,S[6]):vt,v[6]=Tt?Dl(v[5],_):S[6]),vt=S[7],vt&&(v[7]=vt),te&J&&(v[8]=v[8]==null?S[8]:ua(v[8],S[8])),v[9]==null&&(v[9]=S[9]),v[0]=S[0],v[1]=we,v}function Wt(v){var S=[];if(v!=null)for(var D in To(v))S.push(D);return S}function cn(v){return ou.call(v)}function In(v,S,D){return S=ao(S===n?v.length-1:S,0),function(){for(var te=arguments,we=-1,Ne=ao(te.length-S,0),lt=jt(Ne);++we<Ne;)lt[we]=te[S+we];we=-1;for(var vt=jt(S+1);++we<S;)vt[we]=te[we];return vt[S]=D(lt),pa(v,this,vt)}}function Yn(v,S){return S.length<2?v:Ms(v,Fa(S,0,-1))}function bn(v,S){for(var D=v.length,te=ua(S.length,D),we=Xs(v);te--;){var Ne=S[te];v[te]=x(Ne,D)?we[Ne]:n}return v}function Ln(v,S){if(!(S==="constructor"&&typeof v[S]=="function")&&S!="__proto__")return v[S]}var ar=Uo(em),Tr=Xu||function(v,S){return yr.setTimeout(v,S)},_r=Uo(V1);function hi(v,S,D){var te=S+"";return _r(v,A(te,As($a(te),D)))}function Uo(v){var S=0,D=0;return function(){var te=br(),we=he-(te-D);if(D=te,we>0){if(++S>=Le)return arguments[0]}else S=0;return v.apply(n,arguments)}}function Ya(v,S){var D=-1,te=v.length,we=te-1;for(S=S===n?te:S;++D<S;){var Ne=Xp(D,we),lt=v[Ne];v[Ne]=v[D],v[D]=lt}return v.length=S,v}var Ca=Ot(function(v){var S=[];return v.charCodeAt(0)===46&&S.push(""),v.replace(et,function(D,te,we,Ne){S.push(we?Ne.replace($r,"$1"):te||D)}),S});function Da(v){if(typeof v=="string"||Zo(v))return v;var S=v+"";return S=="0"&&1/v==-Mt?"-0":S}function us(v){if(v!=null){try{return ss.call(v)}catch{}try{return v+""}catch{}}return""}function As(v,S){return nu(Ht,function(D){var te="_."+D[0];S&D[1]&&!id(v,te)&&v.push(te)}),v.sort()}function Ml(v){if(v instanceof Yr)return v.clone();var S=new Qi(v.__wrapped__,v.__chain__);return S.__actions__=Xs(v.__actions__),S.__index__=v.__index__,S.__values__=v.__values__,S}function Js(v,S,D){(D?b(v,S,D):S===n)?S=1:S=ao(Jr(S),0);var te=v==null?0:v.length;if(!te||S<1)return[];for(var we=0,Ne=0,lt=jt(wo(te/S));we<te;)lt[Ne++]=Fa(v,we,we+=S);return lt}function Os(v){for(var S=-1,D=v==null?0:v.length,te=0,we=[];++S<D;){var Ne=v[S];Ne&&(we[te++]=Ne)}return we}function cs(){var v=arguments.length;if(!v)return[];for(var S=jt(v-1),D=arguments[0],te=v;te--;)S[te-1]=arguments[te];return Gu(re(D)?Xs(D):[D],so(S,1))}var ca=$i(function(v,S){return Be(v)?ei(v,so(S,1,Be,!0)):[]}),Bs=$i(function(v,S){var D=BA(S);return Be(D)&&(D=n),Be(v)?ei(v,so(S,1,Be,!0),Xr(D,2)):[]}),uh=$i(function(v,S){var D=BA(S);return Be(D)&&(D=n),Be(v)?ei(v,so(S,1,Be,!0),n,D):[]});function lc(v,S,D){var te=v==null?0:v.length;return te?(S=D||S===n?1:Jr(S),Fa(v,S<0?0:S,te)):[]}function zs(v,S,D){var te=v==null?0:v.length;return te?(S=D||S===n?1:Jr(S),S=te-S,Fa(v,0,S<0?0:S)):[]}function uc(v,S){return v&&v.length?md(v,Xr(S,3),!0,!0):[]}function js(v,S){return v&&v.length?md(v,Xr(S,3),!0):[]}function B0(v,S,D,te){var we=v==null?0:v.length;return we?(D&&typeof D!="number"&&b(v,S,D)&&(D=0,te=we),Pa(v,S,D,te)):[]}function OA(v,S,D){var te=v==null?0:v.length;if(!te)return-1;var we=D==null?0:Jr(D);return we<0&&(we=ao(te+we,0)),Ii(v,Xr(S,3),we)}function Uc(v,S,D){var te=v==null?0:v.length;if(!te)return-1;var we=te-1;return D!==n&&(we=Jr(D),we=D<0?ao(te+we,0):ua(we,te-1)),Ii(v,Xr(S,3),we,!0)}function qa(v){var S=v==null?0:v.length;return S?so(v,1):[]}function el(v){var S=v==null?0:v.length;return S?so(v,Mt):[]}function Ah(v,S){var D=v==null?0:v.length;return D?(S=S===n?1:Jr(S),so(v,S)):[]}function Ac(v){for(var S=-1,D=v==null?0:v.length,te={};++S<D;){var we=v[S];te[we[0]]=we[1]}return te}function um(v){return v&&v.length?v[0]:n}function k0(v,S,D){var te=v==null?0:v.length;if(!te)return-1;var we=D==null?0:Jr(D);return we<0&&(we=ao(te+we,0)),ko(v,S,we)}function Am(v){var S=v==null?0:v.length;return S?Fa(v,0,-1):[]}var ag=$i(function(v){var S=na(v,op);return S.length&&S[0]===v[0]?Ss(S):[]}),sg=$i(function(v){var S=BA(v),D=na(v,op);return S===BA(D)?S=n:D.pop(),D.length&&D[0]===v[0]?Ss(D,Xr(S,2)):[]}),jw=$i(function(v){var S=BA(v),D=na(v,op);return S=typeof S=="function"?S:n,S&&D.pop(),D.length&&D[0]===v[0]?Ss(D,n,S):[]});function tx(v,S){return v==null?"":jh.call(v,S)}function BA(v){var S=v==null?0:v.length;return S?v[S-1]:n}function Ww(v,S,D){var te=v==null?0:v.length;if(!te)return-1;var we=te;return D!==n&&(we=Jr(D),we=we<0?ao(te+we,0):ua(we,te-1)),S===S?Ll(v,S,we):Ii(v,Fh,we,!0)}function nx(v,S){return v&&v.length?Jd(v,Jr(S)):n}var rx=$i(lg);function lg(v,S){return v&&v.length&&S&&S.length?Zp(v,S):v}function Dv(v,S,D){return v&&v.length&&S&&S.length?Zp(v,S,Xr(D,2)):v}function Nw(v,S,D){return v&&v.length&&S&&S.length?Zp(v,S,n,D):v}var Gw=sc(function(v,S){var D=v==null?0:v.length,te=qr(v,S);return Es(v,na(S,function(we){return x(we,D)?+we:we}).sort(Jh)),te});function ix(v,S){var D=[];if(!(v&&v.length))return D;var te=-1,we=[],Ne=v.length;for(S=Xr(S,3);++te<Ne;){var lt=v[te];S(lt,te,v)&&(D.push(lt),we.push(te))}return Es(v,we),D}function hp(v){return v==null?v:Kc.call(v)}function bd(v,S,D){var te=v==null?0:v.length;return te?(D&&typeof D!="number"&&b(v,S,D)?(S=0,D=te):(S=S==null?0:Jr(S),D=D===n?te:Jr(D)),Fa(v,S,D)):[]}function Af(v,S){return pd(v,S)}function ox(v,S,D){return th(v,S,Xr(D,2))}function Lv(v,S){var D=v==null?0:v.length;if(D){var te=pd(v,S);if(te<D&&K(v[te],S))return te}return-1}function Qw(v,S){return pd(v,S,!0)}function $w(v,S,D){return th(v,S,Xr(D,2),!0)}function ug(v,S){var D=v==null?0:v.length;if(D){var te=pd(v,S,!0)-1;if(K(v[te],S))return te}return-1}function Uv(v){return v&&v.length?EA(v):[]}function Yw(v,S){return v&&v.length?EA(v,Xr(S,2)):[]}function Rv(v){var S=v==null?0:v.length;return S?Fa(v,1,S):[]}function zv(v,S,D){return v&&v.length?(S=D||S===n?1:Jr(S),Fa(v,0,S<0?0:S)):[]}function cm(v,S,D){var te=v==null?0:v.length;return te?(S=D||S===n?1:Jr(S),S=te-S,Fa(v,S<0?0:S,te)):[]}function ax(v,S){return v&&v.length?md(v,Xr(S,3),!1,!0):[]}function sx(v,S){return v&&v.length?md(v,Xr(S,3)):[]}var jv=$i(function(v){return Tu(so(v,1,Be,!0))}),lx=$i(function(v){var S=BA(v);return Be(S)&&(S=n),Tu(so(v,1,Be,!0),Xr(S,2))}),Ag=$i(function(v){var S=BA(v);return S=typeof S=="function"?S:n,Tu(so(v,1,Be,!0),n,S)});function ux(v){return v&&v.length?Tu(v):[]}function qw(v,S){return v&&v.length?Tu(v,Xr(S,2)):[]}function Hw(v,S){return S=typeof S=="function"?S:n,v&&v.length?Tu(v,n,S):[]}function cg(v){if(!(v&&v.length))return[];var S=0;return v=Nu(v,function(D){if(Be(D))return S=ao(D.length,S),!0}),Io(S,function(D){return na(v,$f(D))})}function Ax(v,S){if(!(v&&v.length))return[];var D=cg(v);return S==null?D:na(D,function(te){return pa(S,n,te)})}var Vw=$i(function(v,S){return Be(v)?ei(v,S):[]}),Zw=$i(function(v){return Au(Nu(v,Be))}),Xw=$i(function(v){var S=BA(v);return Be(S)&&(S=n),Au(Nu(v,Be),Xr(S,2))}),Wv=$i(function(v){var S=BA(v);return S=typeof S=="function"?S:n,Au(Nu(v,Be),n,S)}),cf=$i(cg);function cx(v,S){return gd(v||[],S||[],Ut)}function dx(v,S){return gd(v||[],S||[],Vh)}var hx=$i(function(v){var S=v.length,D=S>1?v[S-1]:n;return D=typeof D=="function"?(v.pop(),D):n,Ax(v,D)});function Nv(v){var S=Fe(v);return S.__chain__=!0,S}function fx(v,S){return S(v),v}function dm(v,S){return S(v)}var dg=sc(function(v){var S=v.length,D=S?v[0]:0,te=this.__wrapped__,we=function(Ne){return qr(Ne,v)};return S>1||this.__actions__.length||!(te instanceof Yr)||!x(D)?this.thru(we):(te=te.slice(D,+D+(S?1:0)),te.__actions__.push({func:dm,args:[we],thisArg:n}),new Qi(te,this.__chain__).thru(function(Ne){return S&&!Ne.length&&Ne.push(n),Ne}))});function px(){return Nv(this)}function Gv(){return new Qi(this.value(),this.__chain__)}function mx(){this.__values__===n&&(this.__values__=Sl(this.value()));var v=this.__index__>=this.__values__.length,S=v?n:this.__values__[this.__index__++];return{done:v,value:S}}function kA(){return this}function I0(v){for(var S,D=this;D instanceof ls;){var te=Ml(D);te.__index__=0,te.__values__=n,S?we.__wrapped__=te:S=te;var we=te;D=D.__wrapped__}return we.__wrapped__=v,S}function gx(){var v=this.__wrapped__;if(v instanceof Yr){var S=v;return this.__actions__.length&&(S=new Yr(this)),S=S.reverse(),S.__actions__.push({func:dm,args:[hp],thisArg:n}),new Qi(S,this.__chain__)}return this.thru(hp)}function yx(){return Zh(this.__wrapped__,this.__actions__)}var vx=_d(function(v,S,D){Vi.call(v,D)?++v[D]:$n(v,D,1)});function _x(v,S,D){var te=re(v)?rd:Lo;return D&&b(v,S,D)&&(S=n),te(v,Xr(S,3))}function Cx(v,S){var D=re(v)?Nu:mo;return D(v,Xr(S,3))}var bx=Ap(OA),Jw=Ap(Uc);function xx(v,S){return so(ch(v,S),1)}function df(v,S){return so(ch(v,S),Mt)}function wx(v,S,D){return D=D===n?1:Jr(D),so(ch(v,S),D)}function Qv(v,S){var D=re(v)?nu:Nr;return D(v,Xr(S,3))}function $v(v,S){var D=re(v)?Kh:Ho;return D(v,Xr(S,3))}var Mx=_d(function(v,S,D){Vi.call(v,D)?v[D].push(S):$n(v,D,[S])});function eM(v,S,D,te){v=_e(v)?v:wg(v),D=D&&!te?Jr(D):0;var we=v.length;return D<0&&(D=ao(we+D,0)),ks(v)?D<=we&&v.indexOf(S,D)>-1:!!we&&ko(v,S,D)>-1}var tM=$i(function(v,S,D){var te=-1,we=typeof S=="function",Ne=_e(v)?jt(v.length):[];return Nr(v,function(lt){Ne[++te]=we?pa(S,lt,D):oc(lt,S,D)}),Ne}),Sx=_d(function(v,S,D){$n(v,D,S)});function ch(v,S){var D=re(v)?na:g0;return D(v,Xr(S,3))}function Ex(v,S,D,te){return v==null?[]:(re(S)||(S=S==null?[]:[S]),D=te?n:D,re(D)||(D=D==null?[]:[D]),H1(v,S,D))}var hg=_d(function(v,S,D){v[D?0:1].push(S)},function(){return[[],[]]});function Ox(v,S,D){var te=re(v)?Gd:Yf,we=arguments.length<3;return te(v,Xr(S,4),D,we,Nr)}function fg(v,S,D){var te=re(v)?GA:Yf,we=arguments.length<3;return te(v,Xr(S,4),D,we,Ho)}function pg(v,S){var D=re(v)?Nu:mo;return D(v,T0(Xr(S,3)))}function mg(v){var S=re(v)?Ft:_0;return S(v)}function nM(v,S,D){(D?b(v,S,D):S===n)?S=1:S=Jr(S);var te=re(v)?tt:C0;return te(v,S)}function rM(v){var S=re(v)?bt:b0;return S(v)}function iM(v){if(v==null)return 0;if(_e(v))return ks(v)?Eu(v):v.length;var S=Rs(v);return S==St||S==er?v.size:fd(v).length}function oM(v,S,D){var te=re(v)?Ec:hl;return D&&b(v,S,D)&&(S=n),te(v,Xr(S,3))}var hm=$i(function(v,S){if(v==null)return[];var D=S.length;return D>1&&b(v,S[0],S[1])?S=[]:D>2&&b(S[0],S[1],S[2])&&(S=[S[0]]),H1(v,so(S,1),[])}),Ws=Tc||function(){return yr.Date.now()};function hf(v,S){if(typeof S!="function")throw new Ko(a);return v=Jr(v),function(){if(--v<1)return S.apply(this,arguments)}}function gg(v,S,D){return S=D?n:S,S=v&&S==null?v.length:S,Co(v,J,n,n,n,n,S)}function Yv(v,S){var D;if(typeof S!="function")throw new Ko(a);return v=Jr(v),function(){return--v>0&&(D=S.apply(this,arguments)),v<=1&&(S=n),D}}var yg=$i(function(v,S,D){var te=ee;if(D.length){var we=Dl(D,sf(yg));te|=ye}return Co(v,te,S,D,we)}),vg=$i(function(v,S,D){var te=ee|H;if(D.length){var we=Dl(D,sf(vg));te|=ye}return Co(S,te,v,D,we)});function Bx(v,S,D){S=D?n:S;var te=Co(v,Z,n,n,n,n,n,S);return te.placeholder=Bx.placeholder,te}function qv(v,S,D){S=D?n:S;var te=Co(v,ue,n,n,n,n,n,S);return te.placeholder=qv.placeholder,te}function Hv(v,S,D){var te,we,Ne,lt,vt,Tt,_n=0,Cn=!1,Tn=!1,fr=!0;if(typeof v!="function")throw new Ko(a);S=ii(S)||0,xn(D)&&(Cn=!!D.leading,Tn="maxWait"in D,Ne=Tn?ao(ii(D.maxWait)||0,S):Ne,fr="trailing"in D?!!D.trailing:fr);function Vr(fl){var ph=te,pp=we;return te=we=n,_n=fl,lt=v.apply(pp,ph),lt}function Ci(fl){return _n=fl,vt=Tr(bo,S),Cn?Vr(fl):lt}function lo(fl){var ph=fl-Tt,pp=fl-_n,mI=S-ph;return Tn?ua(mI,Ne-pp):mI}function bi(fl){var ph=fl-Tt,pp=fl-_n;return Tt===n||ph>=S||ph<0||Tn&&pp>=Ne}function bo(){var fl=Ws();if(bi(fl))return Po(fl);vt=Tr(bo,lo(fl))}function Po(fl){return vt=n,fr&&te?Vr(fl):(te=we=n,lt)}function zc(){vt!==n&&X1(vt),_n=0,te=Tt=we=vt=n}function KA(){return vt===n?lt:Po(Ws())}function jc(){var fl=Ws(),ph=bi(fl);if(te=arguments,we=this,Tt=fl,ph){if(vt===n)return Ci(Tt);if(Tn)return X1(vt),vt=Tr(bo,S),Vr(Tt)}return vt===n&&(vt=Tr(bo,S)),lt}return jc.cancel=zc,jc.flush=KA,jc}var aM=$i(function(v,S){return Hr(v,1,S)}),kx=$i(function(v,S,D){return Hr(v,ii(S)||0,D)});function Vv(v){return Co(v,xe)}function fm(v,S){if(typeof v!="function"||S!=null&&typeof S!="function")throw new Ko(a);var D=function(){var te=arguments,we=S?S.apply(this,te):te[0],Ne=D.cache;if(Ne.has(we))return Ne.get(we);var lt=v.apply(this,te);return D.cache=Ne.set(we,lt)||Ne,lt};return D.cache=new(fm.Cache||p),D}fm.Cache=p;function T0(v){if(typeof v!="function")throw new Ko(a);return function(){var S=arguments;switch(S.length){case 0:return!v.call(this);case 1:return!v.call(this,S[0]);case 2:return!v.call(this,S[0],S[1]);case 3:return!v.call(this,S[0],S[1],S[2])}return!v.apply(this,S)}}function K0(v){return Yv(2,v)}var Zv=sp(function(v,S){S=S.length==1&&re(S[0])?na(S[0],Ls(Xr())):na(so(S,1),Ls(Xr()));var D=S.length;return $i(function(te){for(var we=-1,Ne=ua(te.length,D);++we<Ne;)te[we]=S[we].call(this,te[we]);return pa(v,this,te)})}),_g=$i(function(v,S){var D=Dl(S,sf(_g));return Co(v,ye,n,S,D)}),Cg=$i(function(v,S){var D=Dl(S,sf(Cg));return Co(v,be,n,S,D)}),bg=sc(function(v,S){return Co(v,se,n,n,n,S)});function P0(v,S){if(typeof v!="function")throw new Ko(a);return S=S===n?S:Jr(S),$i(v,S)}function Xv(v,S){if(typeof v!="function")throw new Ko(a);return S=S==null?0:ao(Jr(S),0),$i(function(D){var te=D[S],we=Fc(D,0,S);return te&&Gu(we,te),pa(v,this,we)})}function Jv(v,S,D){var te=!0,we=!0;if(typeof v!="function")throw new Ko(a);return xn(D)&&(te="leading"in D?!!D.leading:te,we="trailing"in D?!!D.trailing:we),Hv(v,S,{leading:te,maxWait:S,trailing:we})}function e_(v){return gg(v,1)}function sM(v,S){return _g(ap(S),v)}function c(){if(!arguments.length)return[];var v=arguments[0];return re(v)?v:[v]}function l(v){return vr(v,P)}function d(v,S){return S=typeof S=="function"?S:n,vr(v,P,S)}function y(v){return vr(v,B|P)}function M(v,S){return S=typeof S=="function"?S:n,vr(v,B|P,S)}function T(v,S){return S==null||Ti(v,S,Bl(S))}function K(v,S){return v===S||v!==v&&S!==S}var L=cp(ra),W=cp(function(v,S){return v>=S}),V=Gh(function(){return arguments}())?Gh:function(v){return mn(v)&&Vi.call(v,"callee")&&!ZA.call(v,"callee")},re=jt.isArray,Ae=Hi?Ls(Hi):lu;function _e(v){return v!=null&&Hn(v.length)&&!Un(v)}function Be(v){return mn(v)&&_e(v)}function Ke(v){return v===!0||v===!1||mn(v)&&Ei(v)==Ie}var Ge=Vf||CM,Ze=Bo?Ls(Bo):ac;function at(v){return mn(v)&&v.nodeType===1&&!La(v)}function kt(v){if(v==null)return!0;if(_e(v)&&(re(v)||typeof v=="string"||typeof v.splice=="function"||Ge(v)||Ns(v)||V(v)))return!v.length;var S=Rs(v);if(S==St||S==er)return!v.size;if(me(v))return!fd(v).length;for(var D in v)if(Vi.call(v,D))return!1;return!0}function At(v,S){return Bu(v,S)}function xt(v,S,D){D=typeof D=="function"?D:n;var te=D?D(v,S):n;return te===n?Bu(v,S,n,D):!!te}function nn(v){if(!mn(v))return!1;var S=Ei(v);return S==Re||S==Me||typeof v.message=="string"&&typeof v.name=="string"&&!La(v)}function An(v){return typeof v=="number"&&zh(v)}function Un(v){if(!xn(v))return!1;var S=Ei(v);return S==it||S==ot||S==$t||S==gn}function Cr(v){return typeof v=="number"&&v==Jr(v)}function Hn(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=dt}function xn(v){var S=typeof v;return v!=null&&(S=="object"||S=="function")}function mn(v){return v!=null&&typeof v=="object"}var sr=xo?Ls(xo):ku;function Rn(v,S){return v===S||$h(v,S,Mo(S))}function Sn(v,S,D){return D=typeof D=="function"?D:n,$h(v,S,Mo(S),D)}function Dr(v){return ha(v)&&v!=+v}function wr(v){if(le(v))throw new li(o);return SA(v)}function zi(v){return v===null}function da(v){return v==null}function ha(v){return typeof v=="number"||mn(v)&&Ei(v)==Rt}function La(v){if(!mn(v)||Ei(v)!=pt)return!1;var S=qu(v);if(S===null)return!0;var D=Vi.call(S,"constructor")&&S.constructor;return typeof D=="function"&&D instanceof D&&ss.call(D)==HA}var cu=Ga?Ls(Ga):np;function du(v){return Cr(v)&&v>=-dt&&v<=dt}var ds=Pl?Ls(Pl):hd;function ks(v){return typeof v=="string"||!re(v)&&mn(v)&&Ei(v)==Ar}function Zo(v){return typeof v=="symbol"||mn(v)&&Ei(v)==Mr}var Ns=tu?Ls(tu):rp;function hu(v){return v===n}function Gs(v){return mn(v)&&Rs(v)==gr}function Qs(v){return mn(v)&&Ei(v)==_i}var Wl=cp(iA),fu=cp(function(v,S){return v<=S});function Sl(v){if(!v)return[];if(_e(v))return ks(v)?Ul(v):Xs(v);if(Vu&&v[Vu])return Vp(v[Vu]());var S=Rs(v),D=S==St?Bc:S==er?xl:wg;return D(v)}function hs(v){if(!v)return v===0?v:0;if(v=ii(v),v===Mt||v===-Mt){var S=v<0?-1:1;return S*mt}return v===v?v:0}function Jr(v){var S=hs(v),D=S%1;return S===S?D?S-D:S:0}function Is(v){return v?kn(Jr(v),0,Ve):0}function ii(v){if(typeof v=="number")return v;if(Zo(v))return je;if(xn(v)){var S=typeof v.valueOf=="function"?v.valueOf():v;v=xn(S)?S+"":S}if(typeof v!="string")return v===0?v:+v;v=$A(v);var D=ci.test(v);return D||to.test(v)?vn(v.slice(2),D?2:8):or.test(v)?je:+v}function El(v){return oA(v,Ha(v))}function Ol(v){return v?kn(Jr(v),-dt,dt):v===0?v:0}function fi(v){return v==null?"":Iu(v)}var cc=aA(function(v,S){if(me(S)||_e(S)){oA(S,Bl(S),v);return}for(var D in S)Vi.call(S,D)&&Ut(v,D,S[D])}),dc=aA(function(v,S){oA(S,Ha(S),v)}),lA=aA(function(v,S,D,te){oA(S,Ha(S),v,te)}),dh=aA(function(v,S,D,te){oA(S,Bl(S),v,te)}),hc=sc(qr);function IA(v,S){var D=tc(v);return S==null?D:un(D,S)}var Pu=$i(function(v,S){v=To(v);var D=-1,te=S.length,we=te>2?S[2]:n;for(we&&b(S[0],S[1],we)&&(te=1);++D<te;)for(var Ne=S[D],lt=Ha(Ne),vt=-1,Tt=lt.length;++vt<Tt;){var _n=lt[vt],Cn=v[_n];(Cn===n||K(Cn,Qa[_n])&&!Vi.call(v,_n))&&(v[_n]=Ne[_n])}return v}),hh=$i(function(v){return v.push(n,am),pa(Fx,n,v)});function F0(v,S){return Ph(v,Xr(S,3),ws)}function Ix(v,S){return Ph(v,Xr(S,3),nA)}function t_(v,S){return v==null?v:Zs(v,Xr(S,3),Ha)}function n_(v,S){return v==null?v:su(v,Xr(S,3),Ha)}function fh(v,S){return v&&ws(v,Xr(S,3))}function Tx(v,S){return v&&nA(v,Xr(S,3))}function Kx(v){return v==null?[]:jl(v,Bl(v))}function lM(v){return v==null?[]:jl(v,Ha(v))}function r_(v,S,D){var te=v==null?n:Ms(v,S);return te===n?D:te}function uM(v,S){return v!=null&&og(v,S,Pc)}function i_(v,S){return v!=null&&og(v,S,Vo)}var AM=rm(function(v,S,D){S!=null&&typeof S.toString!="function"&&(S=ou.call(S)),v[S]=D},mM(fc)),cM=rm(function(v,S,D){S!=null&&typeof S.toString!="function"&&(S=ou.call(S)),Vi.call(v,S)?v[S].push(D):v[S]=[D]},Xr),dM=$i(oc);function Bl(v){return _e(v)?ht(v):fd(v)}function Ha(v){return _e(v)?ht(v,!0):Yh(v)}function xg(v,S){var D={};return S=Xr(S,3),ws(v,function(te,we,Ne){$n(D,S(te,we,Ne),te)}),D}function Px(v,S){var D={};return S=Xr(S,3),ws(v,function(te,we,Ne){$n(D,we,S(te,we,Ne))}),D}var hM=aA(function(v,S,D){uu(v,S,D)}),Fx=aA(function(v,S,D,te){uu(v,S,D,te)}),fM=sc(function(v,S){var D={};if(v==null)return D;var te=!1;S=na(S,function(Ne){return Ne=yd(Ne,v),te||(te=Ne.length>1),Ne}),oA(v,af(v),D),te&&(D=vr(D,B|k|P,of));for(var we=S.length;we--;)tm(D,S[we]);return D});function Nl(v,S){return ff(v,T0(Xr(S)))}var TA=sc(function(v,S){return v==null?{}:dl(v,S)});function ff(v,S){if(v==null)return{};var D=na(af(v),function(te){return[te]});return S=Xr(S),eh(v,D,function(te,we){return S(te,we[0])})}function Rc(v,S,D){S=yd(S,v);var te=-1,we=S.length;for(we||(we=1,v=n);++te<we;){var Ne=v==null?n:v[Da(S[te])];Ne===n&&(te=we,Ne=D),v=Un(Ne)?Ne.call(v):Ne}return v}function fp(v,S,D){return v==null?v:Vh(v,S,D)}function xd(v,S,D,te){return te=typeof te=="function"?te:n,v==null?v:Vh(v,S,D,te)}var uI=sh(Bl),AI=sh(Ha);function f$(v,S,D){var te=re(v),we=te||Ge(v)||Ns(v);if(S=Xr(S,4),D==null){var Ne=v&&v.constructor;we?D=te?new Ne:[]:xn(v)?D=Un(Ne)?tc(qu(v)):{}:D={}}return(we?nu:ws)(v,function(lt,vt,Tt){return S(D,lt,vt,Tt)}),D}function p$(v,S){return v==null?!0:tm(v,S)}function m$(v,S,D){return v==null?v:ip(v,S,ap(D))}function g$(v,S,D,te){return te=typeof te=="function"?te:n,v==null?v:ip(v,S,ap(D),te)}function wg(v){return v==null?[]:Dh(v,Bl(v))}function y$(v){return v==null?[]:Dh(v,Ha(v))}function v$(v,S,D){return D===n&&(D=S,S=n),D!==n&&(D=ii(D),D=D===D?D:0),S!==n&&(S=ii(S),S=S===S?S:0),kn(ii(v),S,D)}function _$(v,S,D){return S=hs(S),D===n?(D=S,S=0):D=hs(D),v=ii(v),va(v,S,D)}function C$(v,S,D){if(D&&typeof D!="boolean"&&b(v,S,D)&&(S=D=n),D===n&&(typeof S=="boolean"?(D=S,S=n):typeof v=="boolean"&&(D=v,v=n)),v===n&&S===n?(v=0,S=1):(v=hs(v),S===n?(S=v,v=0):S=hs(S)),v>S){var te=v;v=S,S=te}if(D||v%1||S%1){var we=wA();return ua(v+we*(S-v+Nn("1e-"+((we+"").length-1))),S)}return Xp(v,S)}var b$=nf(function(v,S,D){return S=S.toLowerCase(),v+(D?cI(S):S)});function cI(v){return pM(fi(v).toLowerCase())}function dI(v){return v=fi(v),v&&v.replace(ai,Qd).replace(wu,"")}function x$(v,S,D){v=fi(v),S=Iu(S);var te=v.length;D=D===n?te:kn(Jr(D),0,te);var we=D;return D-=S.length,D>=0&&v.slice(D,we)==S}function w$(v){return v=fi(v),v&&Ce.test(v)?v.replace(Pe,Su):v}function M$(v){return v=fi(v),v&&tn.test(v)?v.replace(wt,"\\$&"):v}var S$=nf(function(v,S,D){return v+(D?"-":"")+S.toLowerCase()}),E$=nf(function(v,S,D){return v+(D?" ":"")+S.toLowerCase()}),O$=tf("toLowerCase");function B$(v,S,D){v=fi(v),S=Jr(S);var te=S?Eu(v):0;if(!S||te>=S)return v;var we=(S-te)/2;return om(Ju(we),D)+v+om(wo(we),D)}function k$(v,S,D){v=fi(v),S=Jr(S);var te=S?Eu(v):0;return S&&te<S?v+om(S-te,D):v}function I$(v,S,D){v=fi(v),S=Jr(S);var te=S?Eu(v):0;return S&&te<S?om(S-te,D)+v:v}function T$(v,S,D){return D||S==null?S=0:S&&(S=+S),Br(fi(v).replace(qt,""),S||0)}function K$(v,S,D){return(D?b(v,S,D):S===n)?S=1:S=Jr(S),v0(fi(v),S)}function P$(){var v=arguments,S=fi(v[0]);return v.length<3?S:S.replace(v[1],v[2])}var F$=nf(function(v,S,D){return v+(D?"_":"")+S.toLowerCase()});function D$(v,S,D){return D&&typeof D!="number"&&b(v,S,D)&&(S=D=n),D=D===n?Ve:D>>>0,D?(v=fi(v),v&&(typeof S=="string"||S!=null&&!cu(S))&&(S=Iu(S),!S&&qA(v))?Fc(Ul(v),0,D):v.split(S,D)):[]}var L$=nf(function(v,S,D){return v+(D?" ":"")+pM(S)});function U$(v,S,D){return v=fi(v),D=D==null?0:kn(Jr(D),0,v.length),S=Iu(S),v.slice(D,D+S.length)==S}function R$(v,S,D){var te=Fe.templateSettings;D&&b(v,S,D)&&(S=n),v=fi(v),S=lA({},S,te,rg);var we=lA({},S.imports,te.imports,rg),Ne=Bl(we),lt=Dh(we,Ne),vt,Tt,_n=0,Cn=S.interpolate||fo,Tn="__p += '",fr=bA((S.escape||fo).source+"|"+Cn.source+"|"+(Cn===rt?Or:fo).source+"|"+(S.evaluate||fo).source+"|$","g"),Vr="//# sourceURL="+(Vi.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vA+"]")+`
`;v.replace(fr,function(bi,bo,Po,zc,KA,jc){return Po||(Po=zc),Tn+=v.slice(_n,jc).replace(ja,_A),bo&&(vt=!0,Tn+=`' +
__e(`+bo+`) +
'`),KA&&(Tt=!0,Tn+=`';
`+KA+`;
__p += '`),Po&&(Tn+=`' +
((__t = (`+Po+`)) == null ? '' : __t) +
'`),_n=jc+bi.length,bi}),Tn+=`';
`;var Ci=Vi.call(S,"variable")&&S.variable;if(!Ci)Tn=`with (obj) {
`+Tn+`
}
`;else if(lr.test(Ci))throw new li(s);Tn=(Tt?Tn.replace(m,""):Tn).replace(Kt,"$1").replace(Pr,"$1;"),Tn="function("+(Ci||"obj")+`) {
`+(Ci?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(vt?", __e = _.escape":"")+(Tt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Tn+`return __p
}`;var lo=fI(function(){return oo(Ne,Vr+"return "+Tn).apply(n,lt)});if(lo.source=Tn,nn(lo))throw lo;return lo}function z$(v){return fi(v).toLowerCase()}function j$(v){return fi(v).toUpperCase()}function W$(v,S,D){if(v=fi(v),v&&(D||S===n))return $A(v);if(!v||!(S=Iu(S)))return v;var te=Ul(v),we=Ul(S),Ne=Fl(te,we),lt=Oc(te,we)+1;return Fc(te,Ne,lt).join("")}function N$(v,S,D){if(v=fi(v),v&&(D||S===n))return v.slice(0,$d(v)+1);if(!v||!(S=Iu(S)))return v;var te=Ul(v),we=Oc(te,Ul(S))+1;return Fc(te,0,we).join("")}function G$(v,S,D){if(v=fi(v),v&&(D||S===n))return v.replace(qt,"");if(!v||!(S=Iu(S)))return v;var te=Ul(v),we=Fl(te,Ul(S));return Fc(te,we).join("")}function Q$(v,S){var D=Se,te=De;if(xn(S)){var we="separator"in S?S.separator:we;D="length"in S?Jr(S.length):D,te="omission"in S?Iu(S.omission):te}v=fi(v);var Ne=v.length;if(qA(v)){var lt=Ul(v);Ne=lt.length}if(D>=Ne)return v;var vt=D-Eu(te);if(vt<1)return te;var Tt=lt?Fc(lt,0,vt).join(""):v.slice(0,vt);if(we===n)return Tt+te;if(lt&&(vt+=Tt.length-vt),cu(we)){if(v.slice(vt).search(we)){var _n,Cn=Tt;for(we.global||(we=bA(we.source,fi(Lr.exec(we))+"g")),we.lastIndex=0;_n=we.exec(Cn);)var Tn=_n.index;Tt=Tt.slice(0,Tn===n?vt:Tn)}}else if(v.indexOf(Iu(we),vt)!=vt){var fr=Tt.lastIndexOf(we);fr>-1&&(Tt=Tt.slice(0,fr))}return Tt+te}function $$(v){return v=fi(v),v&&ce.test(v)?v.replace(nr,kc):v}var Y$=nf(function(v,S,D){return v+(D?" ":"")+S.toUpperCase()}),pM=tf("toUpperCase");function hI(v,S,D){return v=fi(v),S=D?n:S,S===n?qf(v)?sd(v):Hp(v):v.match(S)||[]}var fI=$i(function(v,S){try{return pa(v,n,S)}catch(D){return nn(D)?D:new li(D)}}),q$=sc(function(v,S){return nu(S,function(D){D=Da(D),$n(v,D,yg(v[D],v))}),v});function H$(v){var S=v==null?0:v.length,D=Xr();return v=S?na(v,function(te){if(typeof te[1]!="function")throw new Ko(a);return[D(te[0]),te[1]]}):[],$i(function(te){for(var we=-1;++we<S;){var Ne=v[we];if(pa(Ne[0],this,te))return pa(Ne[1],this,te)}})}function V$(v){return di(vr(v,B))}function mM(v){return function(){return v}}function Z$(v,S){return v==null||v!==v?S:v}var X$=nm(),J$=nm(!0);function fc(v){return v}function gM(v){return rA(typeof v=="function"?v:vr(v,B))}function eY(v){return qh(vr(v,B))}function tY(v,S){return Hh(v,vr(S,B))}var nY=$i(function(v,S){return function(D){return oc(D,v,S)}}),rY=$i(function(v,S){return function(D){return oc(v,D,S)}});function yM(v,S,D){var te=Bl(S),we=jl(S,te);D==null&&!(xn(S)&&(we.length||!te.length))&&(D=S,S=v,v=this,we=jl(S,Bl(S)));var Ne=!(xn(D)&&"chain"in D)||!!D.chain,lt=Un(v);return nu(we,function(vt){var Tt=S[vt];v[vt]=Tt,lt&&(v.prototype[vt]=function(){var _n=this.__chain__;if(Ne||_n){var Cn=v(this.__wrapped__),Tn=Cn.__actions__=Xs(this.__actions__);return Tn.push({func:Tt,args:arguments,thisArg:v}),Cn.__chain__=_n,Cn}return Tt.apply(v,Gu([this.value()],arguments))})}),v}function iY(){return yr._===this&&(yr._=ga),this}function vM(){}function oY(v){return v=Jr(v),$i(function(S){return Jd(S,v)})}var aY=im(na),sY=im(rd),lY=im(Ec);function pI(v){return E(v)?$f(Da(v)):y0(v)}function uY(v){return function(S){return v==null?n:Ms(v,S)}}var AY=ah(),cY=ah(!0);function _M(){return[]}function CM(){return!1}function dY(){return{}}function hY(){return""}function fY(){return!0}function pY(v,S){if(v=Jr(v),v<1||v>dt)return[];var D=Ve,te=ua(v,Ve);S=Xr(S),v-=Ve;for(var we=Io(te,S);++D<v;)S(D);return we}function mY(v){return re(v)?na(v,Da):Zo(v)?[v]:Xs(Ca(fi(v)))}function gY(v){var S=++Uh;return fi(v)+S}var yY=oh(function(v,S){return v+S},0),vY=S0("ceil"),_Y=oh(function(v,S){return v/S},1),CY=S0("floor");function bY(v){return v&&v.length?Us(v,fc,ra):n}function xY(v,S){return v&&v.length?Us(v,Xr(S,2),ra):n}function wY(v){return Qu(v,fc)}function MY(v,S){return Qu(v,Xr(S,2))}function SY(v){return v&&v.length?Us(v,fc,iA):n}function EY(v,S){return v&&v.length?Us(v,Xr(S,2),iA):n}var OY=oh(function(v,S){return v*S},1),BY=S0("round"),kY=oh(function(v,S){return v-S},0);function IY(v){return v&&v.length?QA(v,fc):0}function TY(v,S){return v&&v.length?QA(v,Xr(S,2)):0}return Fe.after=hf,Fe.ary=gg,Fe.assign=cc,Fe.assignIn=dc,Fe.assignInWith=lA,Fe.assignWith=dh,Fe.at=hc,Fe.before=Yv,Fe.bind=yg,Fe.bindAll=q$,Fe.bindKey=vg,Fe.castArray=c,Fe.chain=Nv,Fe.chunk=Js,Fe.compact=Os,Fe.concat=cs,Fe.cond=H$,Fe.conforms=V$,Fe.constant=mM,Fe.countBy=vx,Fe.create=IA,Fe.curry=Bx,Fe.curryRight=qv,Fe.debounce=Hv,Fe.defaults=Pu,Fe.defaultsDeep=hh,Fe.defer=aM,Fe.delay=kx,Fe.difference=ca,Fe.differenceBy=Bs,Fe.differenceWith=uh,Fe.drop=lc,Fe.dropRight=zs,Fe.dropRightWhile=uc,Fe.dropWhile=js,Fe.fill=B0,Fe.filter=Cx,Fe.flatMap=xx,Fe.flatMapDeep=df,Fe.flatMapDepth=wx,Fe.flatten=qa,Fe.flattenDeep=el,Fe.flattenDepth=Ah,Fe.flip=Vv,Fe.flow=X$,Fe.flowRight=J$,Fe.fromPairs=Ac,Fe.functions=Kx,Fe.functionsIn=lM,Fe.groupBy=Mx,Fe.initial=Am,Fe.intersection=ag,Fe.intersectionBy=sg,Fe.intersectionWith=jw,Fe.invert=AM,Fe.invertBy=cM,Fe.invokeMap=tM,Fe.iteratee=gM,Fe.keyBy=Sx,Fe.keys=Bl,Fe.keysIn=Ha,Fe.map=ch,Fe.mapKeys=xg,Fe.mapValues=Px,Fe.matches=eY,Fe.matchesProperty=tY,Fe.memoize=fm,Fe.merge=hM,Fe.mergeWith=Fx,Fe.method=nY,Fe.methodOf=rY,Fe.mixin=yM,Fe.negate=T0,Fe.nthArg=oY,Fe.omit=fM,Fe.omitBy=Nl,Fe.once=K0,Fe.orderBy=Ex,Fe.over=aY,Fe.overArgs=Zv,Fe.overEvery=sY,Fe.overSome=lY,Fe.partial=_g,Fe.partialRight=Cg,Fe.partition=hg,Fe.pick=TA,Fe.pickBy=ff,Fe.property=pI,Fe.propertyOf=uY,Fe.pull=rx,Fe.pullAll=lg,Fe.pullAllBy=Dv,Fe.pullAllWith=Nw,Fe.pullAt=Gw,Fe.range=AY,Fe.rangeRight=cY,Fe.rearg=bg,Fe.reject=pg,Fe.remove=ix,Fe.rest=P0,Fe.reverse=hp,Fe.sampleSize=nM,Fe.set=fp,Fe.setWith=xd,Fe.shuffle=rM,Fe.slice=bd,Fe.sortBy=hm,Fe.sortedUniq=Uv,Fe.sortedUniqBy=Yw,Fe.split=D$,Fe.spread=Xv,Fe.tail=Rv,Fe.take=zv,Fe.takeRight=cm,Fe.takeRightWhile=ax,Fe.takeWhile=sx,Fe.tap=fx,Fe.throttle=Jv,Fe.thru=dm,Fe.toArray=Sl,Fe.toPairs=uI,Fe.toPairsIn=AI,Fe.toPath=mY,Fe.toPlainObject=El,Fe.transform=f$,Fe.unary=e_,Fe.union=jv,Fe.unionBy=lx,Fe.unionWith=Ag,Fe.uniq=ux,Fe.uniqBy=qw,Fe.uniqWith=Hw,Fe.unset=p$,Fe.unzip=cg,Fe.unzipWith=Ax,Fe.update=m$,Fe.updateWith=g$,Fe.values=wg,Fe.valuesIn=y$,Fe.without=Vw,Fe.words=hI,Fe.wrap=sM,Fe.xor=Zw,Fe.xorBy=Xw,Fe.xorWith=Wv,Fe.zip=cf,Fe.zipObject=cx,Fe.zipObjectDeep=dx,Fe.zipWith=hx,Fe.entries=uI,Fe.entriesIn=AI,Fe.extend=dc,Fe.extendWith=lA,yM(Fe,Fe),Fe.add=yY,Fe.attempt=fI,Fe.camelCase=b$,Fe.capitalize=cI,Fe.ceil=vY,Fe.clamp=v$,Fe.clone=l,Fe.cloneDeep=y,Fe.cloneDeepWith=M,Fe.cloneWith=d,Fe.conformsTo=T,Fe.deburr=dI,Fe.defaultTo=Z$,Fe.divide=_Y,Fe.endsWith=x$,Fe.eq=K,Fe.escape=w$,Fe.escapeRegExp=M$,Fe.every=_x,Fe.find=bx,Fe.findIndex=OA,Fe.findKey=F0,Fe.findLast=Jw,Fe.findLastIndex=Uc,Fe.findLastKey=Ix,Fe.floor=CY,Fe.forEach=Qv,Fe.forEachRight=$v,Fe.forIn=t_,Fe.forInRight=n_,Fe.forOwn=fh,Fe.forOwnRight=Tx,Fe.get=r_,Fe.gt=L,Fe.gte=W,Fe.has=uM,Fe.hasIn=i_,Fe.head=um,Fe.identity=fc,Fe.includes=eM,Fe.indexOf=k0,Fe.inRange=_$,Fe.invoke=dM,Fe.isArguments=V,Fe.isArray=re,Fe.isArrayBuffer=Ae,Fe.isArrayLike=_e,Fe.isArrayLikeObject=Be,Fe.isBoolean=Ke,Fe.isBuffer=Ge,Fe.isDate=Ze,Fe.isElement=at,Fe.isEmpty=kt,Fe.isEqual=At,Fe.isEqualWith=xt,Fe.isError=nn,Fe.isFinite=An,Fe.isFunction=Un,Fe.isInteger=Cr,Fe.isLength=Hn,Fe.isMap=sr,Fe.isMatch=Rn,Fe.isMatchWith=Sn,Fe.isNaN=Dr,Fe.isNative=wr,Fe.isNil=da,Fe.isNull=zi,Fe.isNumber=ha,Fe.isObject=xn,Fe.isObjectLike=mn,Fe.isPlainObject=La,Fe.isRegExp=cu,Fe.isSafeInteger=du,Fe.isSet=ds,Fe.isString=ks,Fe.isSymbol=Zo,Fe.isTypedArray=Ns,Fe.isUndefined=hu,Fe.isWeakMap=Gs,Fe.isWeakSet=Qs,Fe.join=tx,Fe.kebabCase=S$,Fe.last=BA,Fe.lastIndexOf=Ww,Fe.lowerCase=E$,Fe.lowerFirst=O$,Fe.lt=Wl,Fe.lte=fu,Fe.max=bY,Fe.maxBy=xY,Fe.mean=wY,Fe.meanBy=MY,Fe.min=SY,Fe.minBy=EY,Fe.stubArray=_M,Fe.stubFalse=CM,Fe.stubObject=dY,Fe.stubString=hY,Fe.stubTrue=fY,Fe.multiply=OY,Fe.nth=nx,Fe.noConflict=iY,Fe.noop=vM,Fe.now=Ws,Fe.pad=B$,Fe.padEnd=k$,Fe.padStart=I$,Fe.parseInt=T$,Fe.random=C$,Fe.reduce=Ox,Fe.reduceRight=fg,Fe.repeat=K$,Fe.replace=P$,Fe.result=Rc,Fe.round=BY,Fe.runInContext=Et,Fe.sample=mg,Fe.size=iM,Fe.snakeCase=F$,Fe.some=oM,Fe.sortedIndex=Af,Fe.sortedIndexBy=ox,Fe.sortedIndexOf=Lv,Fe.sortedLastIndex=Qw,Fe.sortedLastIndexBy=$w,Fe.sortedLastIndexOf=ug,Fe.startCase=L$,Fe.startsWith=U$,Fe.subtract=kY,Fe.sum=IY,Fe.sumBy=TY,Fe.template=R$,Fe.times=pY,Fe.toFinite=hs,Fe.toInteger=Jr,Fe.toLength=Is,Fe.toLower=z$,Fe.toNumber=ii,Fe.toSafeInteger=Ol,Fe.toString=fi,Fe.toUpper=j$,Fe.trim=W$,Fe.trimEnd=N$,Fe.trimStart=G$,Fe.truncate=Q$,Fe.unescape=$$,Fe.uniqueId=gY,Fe.upperCase=Y$,Fe.upperFirst=pM,Fe.each=Qv,Fe.eachRight=$v,Fe.first=um,yM(Fe,function(){var v={};return ws(Fe,function(S,D){Vi.call(Fe.prototype,D)||(v[D]=S)}),v}(),{chain:!1}),Fe.VERSION=r,nu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){Fe[v].placeholder=Fe}),nu(["drop","take"],function(v,S){Yr.prototype[v]=function(D){D=D===n?1:ao(Jr(D),0);var te=this.__filtered__&&!S?new Yr(this):this.clone();return te.__filtered__?te.__takeCount__=ua(D,te.__takeCount__):te.__views__.push({size:ua(D,Ve),type:v+(te.__dir__<0?"Right":"")}),te},Yr.prototype[v+"Right"]=function(D){return this.reverse()[v](D).reverse()}}),nu(["filter","map","takeWhile"],function(v,S){var D=S+1,te=D==qe||D==_t;Yr.prototype[v]=function(we){var Ne=this.clone();return Ne.__iteratees__.push({iteratee:Xr(we,3),type:D}),Ne.__filtered__=Ne.__filtered__||te,Ne}}),nu(["head","last"],function(v,S){var D="take"+(S?"Right":"");Yr.prototype[v]=function(){return this[D](1).value()[0]}}),nu(["initial","tail"],function(v,S){var D="drop"+(S?"":"Right");Yr.prototype[v]=function(){return this.__filtered__?new Yr(this):this[D](1)}}),Yr.prototype.compact=function(){return this.filter(fc)},Yr.prototype.find=function(v){return this.filter(v).head()},Yr.prototype.findLast=function(v){return this.reverse().find(v)},Yr.prototype.invokeMap=$i(function(v,S){return typeof v=="function"?new Yr(this):this.map(function(D){return oc(D,v,S)})}),Yr.prototype.reject=function(v){return this.filter(T0(Xr(v)))},Yr.prototype.slice=function(v,S){v=Jr(v);var D=this;return D.__filtered__&&(v>0||S<0)?new Yr(D):(v<0?D=D.takeRight(-v):v&&(D=D.drop(v)),S!==n&&(S=Jr(S),D=S<0?D.dropRight(-S):D.take(S-v)),D)},Yr.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},Yr.prototype.toArray=function(){return this.take(Ve)},ws(Yr.prototype,function(v,S){var D=/^(?:filter|find|map|reject)|While$/.test(S),te=/^(?:head|last)$/.test(S),we=Fe[te?"take"+(S=="last"?"Right":""):S],Ne=te||/^find/.test(S);we&&(Fe.prototype[S]=function(){var lt=this.__wrapped__,vt=te?[1]:arguments,Tt=lt instanceof Yr,_n=vt[0],Cn=Tt||re(lt),Tn=function(bo){var Po=we.apply(Fe,Gu([bo],vt));return te&&fr?Po[0]:Po};Cn&&D&&typeof _n=="function"&&_n.length!=1&&(Tt=Cn=!1);var fr=this.__chain__,Vr=!!this.__actions__.length,Ci=Ne&&!fr,lo=Tt&&!Vr;if(!Ne&&Cn){lt=lo?lt:new Yr(this);var bi=v.apply(lt,vt);return bi.__actions__.push({func:dm,args:[Tn],thisArg:n}),new Qi(bi,fr)}return Ci&&lo?v.apply(this,vt):(bi=this.thru(Tn),Ci?te?bi.value()[0]:bi.value():bi)})}),nu(["pop","push","shift","sort","splice","unshift"],function(v){var S=xA[v],D=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",te=/^(?:pop|shift)$/.test(v);Fe.prototype[v]=function(){var we=arguments;if(te&&!this.__chain__){var Ne=this.value();return S.apply(re(Ne)?Ne:[],we)}return this[D](function(lt){return S.apply(re(lt)?lt:[],we)})}}),ws(Yr.prototype,function(v,S){var D=Fe[S];if(D){var te=D.name+"";Vi.call(Qo,te)||(Qo[te]=[]),Qo[te].push({name:S,func:D})}}),Qo[rf(n,H).name]=[{name:"wrapper",func:n}],Yr.prototype.clone=ya,Yr.prototype.reverse=nc,Yr.prototype.value=Ad,Fe.prototype.at=dg,Fe.prototype.chain=px,Fe.prototype.commit=Gv,Fe.prototype.next=mx,Fe.prototype.plant=I0,Fe.prototype.reverse=gx,Fe.prototype.toJSON=Fe.prototype.valueOf=Fe.prototype.value=yx,Fe.prototype.first=Fe.prototype.head,Vu&&(Fe.prototype[Vu]=kA),Fe},iu=Yd();ki?((ki.exports=iu)._=iu,Ir._=iu):yr._=iu}).call(Bh)})(L3,L3.exports);var T5=L3.exports;const yE=Oa(T5);function LZ(e,t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}}function UZ(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var RZ=UZ;const F9=Oa(RZ);var zZ=8,jZ={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},WZ={"*":{type:"source"}},NZ=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],GZ={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},QZ={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},$Z={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},YZ={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},qZ={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},HZ={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},VZ={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},ZZ=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],XZ={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},JZ={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},eX={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},tX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},nX={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},rX={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},iX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},oX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},aX={type:"array",value:"*"},sX={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},lX={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},uX={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},AX={type:"array",value:"*",minimum:1},cX={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},dX={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},hX={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},fX=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],pX={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},mX={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},gX={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},yX={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},vX={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},_X={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},CX={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},bX={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},xX={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},wX={"*":{type:"string"}},Sa={$version:zZ,$root:jZ,sources:WZ,source:NZ,source_vector:GZ,source_raster:QZ,source_raster_dem:$Z,source_geojson:YZ,source_video:qZ,source_image:HZ,layer:VZ,layout:ZZ,layout_background:XZ,layout_fill:JZ,layout_circle:eX,layout_heatmap:tX,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:nX,layout_symbol:rX,layout_raster:iX,layout_hillshade:oX,filter:aX,filter_operator:sX,geometry_type:lX,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:uX,expression:AX,light:cX,sky:dX,terrain:hX,paint:fX,paint_fill:pX,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:mX,paint_circle:gX,paint_heatmap:yX,paint_symbol:vX,paint_raster:_X,paint_hillshade:CX,paint_background:bX,transition:xX,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:wX};const MX=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function SX(e,t){const n={};for(const r in e)r!=="ref"&&(n[r]=e[r]);return MX.forEach(r=>{r in t&&(n[r]=t[r])}),n}function EX(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=SX(e[n],t[e[n].ref]));return e}function Ua(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ua(e[n],t[n]))return!1;return!0}if(typeof e=="object"&&e!==null&&t!==null){if(typeof t!="object"||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Ua(e[r],t[r]))return!1;return!0}return e===t}function Od(e,t){e.push(t)}function jU(e,t,n){Od(n,{command:"addSource",args:[e,t[e]]})}function WU(e,t,n){Od(t,{command:"removeSource",args:[e]}),n[e]=!0}function OX(e,t,n,r){WU(e,n,r),jU(e,t,n)}function BX(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&r!=="data"&&!Ua(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&r!=="data"&&!Ua(e[n][r],t[n][r]))return!1;return!0}function kX(e,t,n,r){e=e||{},t=t||{};let i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)||WU(i,n,r));for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?Ua(e[i],t[i])||(e[i].type==="geojson"&&t[i].type==="geojson"&&BX(e,t,i)?Od(n,{command:"setGeoJSONSourceData",args:[i,t[i].data]}):OX(i,t,n,r)):jU(i,t,n))}function Jx(e,t,n,r,i,o){e=e||{},t=t||{};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(Ua(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}));for(const a in t)!Object.prototype.hasOwnProperty.call(t,a)||Object.prototype.hasOwnProperty.call(e,a)||Ua(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]})}function D9(e){return e.id}function L9(e,t){return e[t.id]=t,e}function IX(e,t,n){e=e||[],t=t||[];const r=e.map(D9),i=t.map(D9),o=e.reduce(L9,{}),a=t.reduce(L9,{}),s=r.slice(),h=Object.create(null);let g,_,B,k,P;for(let F=0,q=0;F<r.length;F++)g=r[F],Object.prototype.hasOwnProperty.call(a,g)?q++:(Od(n,{command:"removeLayer",args:[g]}),s.splice(s.indexOf(g,q),1));for(let F=0,q=0;F<i.length;F++)g=i[i.length-1-F],s[s.length-1-F]!==g&&(Object.prototype.hasOwnProperty.call(o,g)?(Od(n,{command:"removeLayer",args:[g]}),s.splice(s.lastIndexOf(g,s.length-q),1)):q++,k=s[s.length-F],Od(n,{command:"addLayer",args:[a[g],k]}),s.splice(s.length-F,0,g),h[g]=!0);for(let F=0;F<i.length;F++)if(g=i[F],_=o[g],B=a[g],!(h[g]||Ua(_,B))){if(!Ua(_.source,B.source)||!Ua(_["source-layer"],B["source-layer"])||!Ua(_.type,B.type)){Od(n,{command:"removeLayer",args:[g]}),k=s[s.lastIndexOf(g)+1],Od(n,{command:"addLayer",args:[B,k]});continue}Jx(_.layout,B.layout,n,g,null,"setLayoutProperty"),Jx(_.paint,B.paint,n,g,null,"setPaintProperty"),Ua(_.filter,B.filter)||Od(n,{command:"setFilter",args:[g,B.filter]}),(!Ua(_.minzoom,B.minzoom)||!Ua(_.maxzoom,B.maxzoom))&&Od(n,{command:"setLayerZoomRange",args:[g,B.minzoom,B.maxzoom]});for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&(P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?Jx(_[P],B[P],n,g,P.slice(6),"setPaintProperty"):Ua(_[P],B[P])||Od(n,{command:"setLayerProperty",args:[g,P,B[P]]})));for(P in B)!Object.prototype.hasOwnProperty.call(B,P)||Object.prototype.hasOwnProperty.call(_,P)||P==="layout"||P==="paint"||P==="filter"||P==="metadata"||P==="minzoom"||P==="maxzoom"||(P.indexOf("paint.")===0?Jx(_[P],B[P],n,g,P.slice(6),"setPaintProperty"):Ua(_[P],B[P])||Od(n,{command:"setLayerProperty",args:[g,P,B[P]]}))}}function TX(e,t){if(!e)return[{command:"setStyle",args:[t]}];let n=[];try{if(!Ua(e.version,t.version))return[{command:"setStyle",args:[t]}];Ua(e.center,t.center)||n.push({command:"setCenter",args:[t.center]}),Ua(e.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),Ua(e.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),Ua(e.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),Ua(e.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),Ua(e.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),Ua(e.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),Ua(e.light,t.light)||n.push({command:"setLight",args:[t.light]}),Ua(e.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),Ua(e.sky,t.sky)||n.push({command:"setSky",args:[t.sky]});const r={},i=[];kX(e.sources,t.sources,i,r);const o=[];e.layers&&e.layers.forEach(a=>{"source"in a&&r[a.source]?n.push({command:"removeLayer",args:[a.id]}):o.push(a)}),n=n.concat(i),IX(o,t.layers,n)}catch(r){console.warn("Unable to compute style diff:",r),n=[{command:"setStyle",args:[t]}]}return n}class Jn{constructor(t,n,r,i){this.message=(t?`${t}: `:"")+r,i&&(this.identifier=i),n!=null&&n.__line__&&(this.line=n.__line__)}}function Zy(e,...t){for(const n of t)for(const r in n)e[r]=n[r];return e}class Ef extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}let KX=class NU{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[r,i]of n)this.bindings[r]=i}concat(t){return new NU(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}};const K5={kind:"null"},rr={kind:"number"},yo={kind:"string"},Zi={kind:"boolean"},Kf={kind:"color"},My={kind:"object"},Ji={kind:"value"},PX={kind:"error"},P5={kind:"collator"},F5={kind:"formatted"},D5={kind:"padding"},pb={kind:"resolvedImage"},L5={kind:"variableAnchorOffsetCollection"};function Qc(e,t){return{kind:"array",itemType:e,N:t}}function Ks(e){if(e.kind==="array"){const t=Ks(e.itemType);return typeof e.N=="number"?`array<${t}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${t}>`}else return e.kind}const FX=[K5,rr,yo,Zi,Kf,F5,My,Qc(Ji),D5,pb,L5];function DC(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!DC(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(const n of FX)if(!DC(n,t))return null}}return`Expected ${Ks(e)} but found ${Ks(t)} instead.`}function y7(e,t){return t.some(n=>n.kind===e.kind)}function LC(e,t){return t.some(n=>n==="null"?e===null:n==="array"?Array.isArray(e):n==="object"?e&&!Array.isArray(e)&&typeof e=="object":n===typeof e)}function h_(e,t){return e.kind==="array"&&t.kind==="array"?e.itemType.kind===t.itemType.kind&&typeof e.N=="number":e.kind===t.kind}const GU=.96422,QU=1,$U=.82521,YU=4/29,Sy=6/29,qU=3*Sy*Sy,DX=Sy*Sy*Sy,LX=Math.PI/180,UX=180/Math.PI;function HU(e){return e=e%360,e<0&&(e+=360),e}function VU([e,t,n,r]){e=ZM(e),t=ZM(t),n=ZM(n);let i,o;const a=XM((.2225045*e+.7168786*t+.0606169*n)/QU);e===t&&t===n?i=o=a:(i=XM((.4360747*e+.3850649*t+.1430804*n)/GU),o=XM((.0139322*e+.0971045*t+.7141733*n)/$U));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),r]}function ZM(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function XM(e){return e>DX?Math.pow(e,1/3):e/qU+YU}function ZU([e,t,n,r]){let i=(e+16)/116,o=isNaN(t)?i:i+t/500,a=isNaN(n)?i:i-n/200;return i=QU*eS(i),o=GU*eS(o),a=$U*eS(a),[JM(3.1338561*o-1.6168667*i-.4906146*a),JM(-.9787684*o+1.9161415*i+.033454*a),JM(.0719453*o-.2289914*i+1.4052427*a),r]}function JM(e){return e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055,e<0?0:e>1?1:e}function eS(e){return e>Sy?e*e*e:qU*(e-YU)}function RX(e){const[t,n,r,i]=VU(e),o=Math.sqrt(n*n+r*r);return[Math.round(o*1e4)?HU(Math.atan2(r,n)*UX):NaN,o,t,i]}function zX([e,t,n,r]){return e=isNaN(e)?0:e*LX,ZU([n,Math.cos(e)*t,Math.sin(e)*t,r])}function jX([e,t,n,r]){e=HU(e),t/=100,n/=100;function i(o){const a=(o+e/30)%12,s=t*Math.min(n,1-n);return n-s*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4),r]}function WX(e){if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];const t=NX[e];if(t){const[i,o,a]=t;return[i/255,o/255,a/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const o=e.length<6?1:2;let a=1;return[e2(e.slice(a,a+=o)),e2(e.slice(a,a+=o)),e2(e.slice(a,a+=o)),e2(e.slice(a,a+o)||"ff")]}if(e.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=e.match(i);if(o){const[a,s,h,g,_,B,k,P,F,q,ee,H]=o,N=[g||" ",k||" ",q].join("");if(N==="  "||N==="  /"||N===",,"||N===",,,"){const Z=[h,B,F].join(""),ue=Z==="%%%"?100:Z===""?255:0;if(ue){const ye=[zg(+s/ue,0,1),zg(+_/ue,0,1),zg(+P/ue,0,1),ee?U9(+ee,H):1];if(R9(ye))return ye}}return}}const n=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=e.match(n);if(r){const[i,o,a,s,h,g,_,B,k]=r,P=[a||" ",h||" ",_].join("");if(P==="  "||P==="  /"||P===",,"||P===",,,"){const F=[+o,zg(+s,0,100),zg(+g,0,100),B?U9(+B,k):1];if(R9(F))return jX(F)}}}function e2(e){return parseInt(e.padEnd(2,e),16)/255}function U9(e,t){return zg(t?e/100:e,0,1)}function zg(e,t,n){return Math.min(Math.max(t,e),n)}function R9(e){return!e.some(Number.isNaN)}const NX={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};let Fs=class vE{constructor(t,n,r,i=1,o=!0){this.r=t,this.g=n,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[t,n,r,i]))}static parse(t){if(t instanceof vE)return t;if(typeof t!="string")return;const n=WX(t);if(n)return new vE(...n,!1)}get rgb(){const{r:t,g:n,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[t/o,n/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",RX(this.rgb))}get lab(){return this.overwriteGetter("lab",VU(this.rgb))}overwriteGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}toString(){const[t,n,r,i]=this.rgb;return`rgba(${[t,n,r].map(o=>Math.round(o*255)).join(",")},${i})`}};Fs.black=new Fs(0,0,0,1);Fs.white=new Fs(1,1,1,1);Fs.transparent=new Fs(0,0,0,0);Fs.red=new Fs(1,0,0,1);let v7=class{constructor(t,n,r){t?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},_E=class{constructor(t,n,r,i,o){this.text=t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o}},hv=class H2{constructor(t){this.sections=t}static fromString(t){return new H2([new _E(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof H2?t:H2.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}};class Xc{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Xc)return t;if(typeof t=="number")return new Xc([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const n of t)if(typeof n!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]];break}return new Xc(t)}}toString(){return JSON.stringify(this.values)}}const GX=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ff{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ff)return t;if(!(!Array.isArray(t)||t.length<1||t.length%2!==0)){for(let n=0;n<t.length;n+=2){const r=t[n],i=t[n+1];if(typeof r!="string"||!GX.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new Ff(t)}}toString(){return JSON.stringify(this.values)}}let z1=class XU{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new XU({name:t,available:!1}):null}};function JU(e,t,n,r){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function U3(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof Fs||e instanceof v7||e instanceof hv||e instanceof Xc||e instanceof Ff||e instanceof z1)return!0;if(Array.isArray(e)){for(const t of e)if(!U3(t))return!1;return!0}else if(typeof e=="object"){for(const t in e)if(!U3(e[t]))return!1;return!0}else return!1}function Vl(e){if(e===null)return K5;if(typeof e=="string")return yo;if(typeof e=="boolean")return Zi;if(typeof e=="number")return rr;if(e instanceof Fs)return Kf;if(e instanceof v7)return P5;if(e instanceof hv)return F5;if(e instanceof Xc)return D5;if(e instanceof Ff)return L5;if(e instanceof z1)return pb;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const i=Vl(r);if(!n)n=i;else{if(n===i)continue;n=Ji;break}}return Qc(n||Ji,t)}else return My}function J_(e){const t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof Fs||e instanceof hv||e instanceof Xc||e instanceof Ff||e instanceof z1?e.toString():JSON.stringify(e)}let R3=class eR{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!U3(t[1]))return n.error("invalid value");const r=t[1];let i=Vl(r);const o=n.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new eR(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},Cl=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const t2={string:yo,number:rr,boolean:Zi,object:My};let Ip=class tR{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let r=1,i;const o=t[0];if(o==="array"){let s;if(t.length>2){const g=t[1];if(typeof g!="string"||!(g in t2)||g==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);s=t2[g],r++}else s=Ji;let h;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);h=t[2],r++}i=Qc(s,h)}else{if(!t2[o])throw new Error(`Types doesn't contain name = ${o}`);i=t2[o]}const a=[];for(;r<t.length;r++){const s=n.parse(t[r],r,Ji);if(!s)return null;a.push(s)}return new tR(i,a)}evaluate(t){for(let n=0;n<this.args.length;n++){const r=this.args[n].evaluate(t);if(DC(this.type,Vl(r))){if(n===this.args.length-1)throw new Cl(`Expected value to be of type ${Ks(this.type)}, but found ${Ks(Vl(r))} instead.`)}else return r}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}};const z9={"to-boolean":Zi,"to-color":Kf,"to-number":rr,"to-string":yo};let ly=class nR{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[0];if(!z9[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&t.length!==2)return n.error("Expected one argument.");const i=z9[r],o=[];for(let a=1;a<t.length;a++){const s=n.parse(t[a],a,Ji);if(!s)return null;o.push(s)}return new nR(i,o)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let n,r;for(const i of this.args){if(n=i.evaluate(t),r=null,n instanceof Fs)return n;if(typeof n=="string"){const o=t.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r=`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:r=JU(n[0],n[1],n[2],n[3]),!r))return new Fs(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Cl(r||`Could not parse color from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"padding":{let n;for(const r of this.args){n=r.evaluate(t);const i=Xc.parse(n);if(i)return i}throw new Cl(`Could not parse padding from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"variableAnchorOffsetCollection":{let n;for(const r of this.args){n=r.evaluate(t);const i=Ff.parse(n);if(i)return i}throw new Cl(`Could not parse variableAnchorOffsetCollection from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"number":{let n=null;for(const r of this.args){if(n=r.evaluate(t),n===null)return 0;const i=Number(n);if(!isNaN(i))return i}throw new Cl(`Could not convert ${JSON.stringify(n)} to number.`)}case"formatted":return hv.fromString(J_(this.args[0].evaluate(t)));case"resolvedImage":return z1.fromString(J_(this.args[0].evaluate(t)));default:return J_(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}};const QX=["Unknown","Point","LineString","Polygon"];let rR=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?QX[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=Fs.parse(t)),n}},iR=class oR{constructor(t,n,r=[],i,o=new KX,a=[]){this.registry=t,this.path=r,this.key=r.map(s=>`[${s}]`).join(""),this.scope=o,this.errors=a,this.expectedType=i,this._isConstant=n}parse(t,n,r,i,o={}){return n?this.concat(n,r,i)._parse(t,o):this._parse(t,o)}_parse(t,n){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function r(i,o,a){return a==="assert"?new Ip(o,[i]):a==="coerce"?new ly(o,[i]):i}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(t,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,h=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&h.kind==="value")a=r(a,s,n.typeAnnotation||"assert");else if((s.kind==="color"||s.kind==="formatted"||s.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))a=r(a,s,n.typeAnnotation||"coerce");else if(s.kind==="padding"&&(h.kind==="value"||h.kind==="number"||h.kind==="array"))a=r(a,s,n.typeAnnotation||"coerce");else if(s.kind==="variableAnchorOffsetCollection"&&(h.kind==="value"||h.kind==="array"))a=r(a,s,n.typeAnnotation||"coerce");else if(this.checkSubtype(s,h))return null}if(!(a instanceof R3)&&a.type.kind!=="resolvedImage"&&this._isConstant(a)){const s=new rR;try{a=new R3(a.type,a.evaluate(s))}catch(h){return this.error(h.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,n,r){const i=typeof t=="number"?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new oR(this.registry,this._isConstant,i,n||null,o,this.errors)}error(t,...n){const r=`${this.key}${n.map(i=>`[${i}]`).join("")}`;this.errors.push(new Ef(r,t))}checkSubtype(t,n){const r=DC(t,n);return r&&this.error(r),r}},aR=class sR{constructor(t,n,r){this.type=P5,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const r=t[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");const i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Zi);if(!i)return null;const o=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Zi);if(!o)return null;let a=null;return r.locale&&(a=n.parse(r.locale,1,yo),!a)?null:new sR(i,o,a)}evaluate(t){return new v7(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}};const Xm=8192;function _7(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function $X(e){return(180+e)/360}function YX(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function z3(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function qX(e,t){const n=$X(e[0]),r=YX(e[1]),i=Math.pow(2,t.z);return[Math.round(n*i*Xm),Math.round(r*i*Xm)]}function HX(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i===0&&r*o<=0&&i*a<=0}function VX(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function C7(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const o=t[r];for(let a=0,s=o.length;a<s-1;a++){if(HX(e,o[a],o[a+1]))return!1;VX(e,o[a],o[a+1])&&(n=!n)}}return n}function ZX(e,t){for(let n=0;n<t.length;n++)if(C7(e,t[n]))return!0;return!1}function XX(e,t){return e[0]*t[1]-e[1]*t[0]}function j9(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],h=r[0]-n[0],g=r[1]-n[1],_=i*g-h*o,B=a*g-h*s;return _>0&&B<0||_<0&&B>0}function JX(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return XX(o,i)===0?!1:!!(j9(e,t,n,r)&&j9(n,r,e,t))}function eJ(e,t,n){for(const r of n)for(let i=0;i<r.length-1;++i)if(JX(e,t,r[i],r[i+1]))return!0;return!1}function lR(e,t){for(let n=0;n<e.length;++n)if(!C7(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(eJ(e[n],e[n+1],t))return!1;return!0}function tJ(e,t){for(let n=0;n<t.length;n++)if(lR(e,t[n]))return!0;return!1}function b7(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let a=0;a<e[i].length;a++){const s=qX(e[i][a],n);_7(t,s),o.push(s)}r.push(o)}return r}function uR(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=b7(e[i],t,n);r.push(o)}return r}function AR(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const i=r*.5;let o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;o===0&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}_7(t,e)}function nJ(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function W9(e,t,n,r){const i=Math.pow(2,r.z)*Xm,o=[r.x*Xm,r.y*Xm],a=[];for(const s of e)for(const h of s){const g=[h.x+o[0],h.y+o[1]];AR(g,t,n,i),a.push(g)}return a}function N9(e,t,n,r){const i=Math.pow(2,r.z)*Xm,o=[r.x*Xm,r.y*Xm],a=[];for(const s of e){const h=[];for(const g of s){const _=[g.x+o[0],g.y+o[1]];_7(t,_),h.push(_)}a.push(h)}if(t[2]-t[0]<=i/2){nJ(t);for(const s of a)for(const h of s)AR(h,t,n,i)}return a}function rJ(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type==="Polygon"){const o=b7(t.coordinates,r,i),a=W9(e.geometry(),n,r,i);if(!z3(n,r))return!1;for(const s of a)if(!C7(s,o))return!1}if(t.type==="MultiPolygon"){const o=uR(t.coordinates,r,i),a=W9(e.geometry(),n,r,i);if(!z3(n,r))return!1;for(const s of a)if(!ZX(s,o))return!1}return!0}function iJ(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type==="Polygon"){const o=b7(t.coordinates,r,i),a=N9(e.geometry(),n,r,i);if(!z3(n,r))return!1;for(const s of a)if(!lR(s,o))return!1}if(t.type==="MultiPolygon"){const o=uR(t.coordinates,r,i),a=N9(e.geometry(),n,r,i);if(!z3(n,r))return!1;for(const s of a)if(!tJ(s,o))return!1}return!0}let x7=class V2{constructor(t,n){this.type=Zi,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(U3(t[1])){const r=t[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:a,coordinates:s}=o.geometry;a==="Polygon"&&i.push(s),a==="MultiPolygon"&&i.push(...s)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new V2(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new V2(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new V2(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return rJ(t,this.geometries);if(t.geometryType()==="LineString")return iJ(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}},cR=class dR{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const r=t[1];return n.scope.has(r)?new dR(r,n.scope.get(r)):n.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}},fv=class T_{constructor(t,n,r,i){this.name=t,this.type=n,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,n){const r=t[0],i=T_.definitions[r];if(!i)return n.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([g])=>!Array.isArray(g)||g.length===t.length-1);let h=null;for(const[g,_]of s){h=new iR(n.registry,j3,n.path,null,n.scope);const B=[];let k=!1;for(let P=1;P<t.length;P++){const F=t[P],q=Array.isArray(g)?g[P-1]:g.type,ee=h.parse(F,1+B.length,q);if(!ee){k=!0;break}B.push(ee)}if(!k){if(Array.isArray(g)&&g.length!==B.length){h.error(`Expected ${g.length} arguments, but found ${B.length} instead.`);continue}for(let P=0;P<B.length;P++){const F=Array.isArray(g)?g[P]:g.type,q=B[P];h.concat(P+1).checkSubtype(F,q.type)}if(h.errors.length===0)return new T_(r,o,_,B)}}if(s.length===1)n.errors.push(...h.errors);else{const _=(s.length?s:a).map(([k])=>oJ(k)).join(" | "),B=[];for(let k=1;k<t.length;k++){const P=n.parse(t[k],1+B.length);if(!P)return null;B.push(Ks(P.type))}n.error(`Expected arguments of type ${_}, but found (${B.join(", ")}) instead.`)}return null}static register(t,n){T_.definitions=n;for(const r in n)t[r]=T_}};function oJ(e){return Array.isArray(e)?`(${e.map(Ks).join(", ")})`:`(${Ks(e.type)}...)`}function j3(e){if(e instanceof cR)return j3(e.boundExpression);if(e instanceof fv&&e.name==="error")return!1;if(e instanceof aR)return!1;if(e instanceof x7)return!1;const t=e instanceof ly||e instanceof Ip;let n=!0;return e.eachChild(r=>{t?n=n&&j3(r):n=n&&r instanceof R3}),n?U5(e)&&R5(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function U5(e){if(e instanceof fv){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof x7)return!1;let t=!0;return e.eachChild(n=>{t&&!U5(n)&&(t=!1)}),t}function UC(e){if(e instanceof fv&&e.name==="feature-state")return!1;let t=!0;return e.eachChild(n=>{t&&!UC(n)&&(t=!1)}),t}function R5(e,t){if(e instanceof fv&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(r=>{n&&!R5(r,t)&&(n=!1)}),n}function z5(e,t){const n=e.length-1;let r=0,i=n,o=0,a,s;for(;r<=i;)if(o=Math.floor((r+i)/2),a=e[o],s=e[o+1],a<=t){if(o===n||t<s)return o;r=o+1}else if(a>t)i=o-1;else throw new Cl("Input is not a number.");return 0}let hR=class fR{constructor(t,n,r){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");const r=n.parse(t[1],1,rr);if(!r)return null;const i=[];let o=null;n.expectedType&&n.expectedType.kind!=="value"&&(o=n.expectedType);for(let a=1;a<t.length;a+=2){const s=a===1?-1/0:t[a],h=t[a+1],g=a,_=a+1;if(typeof s!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const B=n.parse(h,_,o);if(!B)return null;o=o||B.type,i.push([s,B])}return new fR(o,r,i)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=z5(n,i);return r[a].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}};function aJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sJ=pR;function pR(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}pR.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n=n-i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var lJ=aJ(sJ);function uJ(e){return e==="rgb"||e==="hcl"||e==="lab"}function p1(e,t,n){return e+n*(t-e)}function AJ(e,t,n,r="rgb"){switch(r){case"rgb":{const[i,o,a,s]=W3(e.rgb,t.rgb,n);return new Fs(i,o,a,s,!1)}case"hcl":{const[i,o,a,s]=e.hcl,[h,g,_,B]=t.hcl;let k,P;if(!isNaN(i)&&!isNaN(h)){let N=h-i;h>i&&N>180?N-=360:h<i&&i-h>180&&(N+=360),k=i+n*N}else isNaN(i)?isNaN(h)?k=NaN:(k=h,(a===1||a===0)&&(P=g)):(k=i,(_===1||_===0)&&(P=o));const[F,q,ee,H]=zX([k,P??p1(o,g,n),p1(a,_,n),p1(s,B,n)]);return new Fs(F,q,ee,H,!1)}case"lab":{const[i,o,a,s]=ZU(W3(e.lab,t.lab,n));return new Fs(i,o,a,s,!1)}}}function W3(e,t,n){return e.map((r,i)=>p1(r,t[i],n))}function cJ(e,t,n){return new Xc(W3(e.values,t.values,n))}function dJ(e,t,n){const r=e.values,i=t.values;if(r.length!==i.length)throw new Cl(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let a=0;a<r.length;a+=2){if(r[a]!==i[a])throw new Cl(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${i[a]}`);o.push(r[a]);const[s,h]=r[a+1],[g,_]=i[a+1];o.push([p1(s,g,n),p1(h,_,n)])}return new Ff(o)}const Z2={number:p1,color:AJ,array:W3,padding:cJ,variableAnchorOffsetCollection:dJ};let Lp=class CE{constructor(t,n,r,i,o){this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(t,n,r,i){let o=0;if(t.name==="exponential")o=tS(n,t.base,r,i);else if(t.name==="linear")o=tS(n,1,r,i);else if(t.name==="cubic-bezier"){const a=t.controlPoints;o=new lJ(a[0],a[1],a[2],a[3]).solve(tS(n,1,r,i))}return o}static parse(t,n){let[r,i,o,...a]=t;if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(_=>typeof _!="number"||_<0||_>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return n.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(o=n.parse(o,2,rr),!o)return null;const s=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=Kf:n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);for(let g=0;g<a.length;g+=2){const _=a[g],B=a[g+1],k=g+3,P=g+4;if(typeof _!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(s.length&&s[s.length-1][0]>=_)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);const F=n.parse(B,P,h);if(!F)return null;h=h||F.type,s.push([_,F])}return!h_(h,rr)&&!h_(h,Kf)&&!h_(h,D5)&&!h_(h,L5)&&!h_(h,Qc(rr))?n.error(`Type ${Ks(h)} is not interpolatable.`):new CE(h,r,i,o,s)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=z5(n,i),s=n[a],h=n[a+1],g=CE.interpolationFactor(this.interpolation,i,s,h),_=r[a].evaluate(t),B=r[a+1].evaluate(t);switch(this.operator){case"interpolate":return Z2[this.type.kind](_,B,g);case"interpolate-hcl":return Z2.color(_,B,g,"hcl");case"interpolate-lab":return Z2.color(_,B,g,"lab")}}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}};function tS(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let mR=class bE{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let r=null;const i=n.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const s of t.slice(1)){const h=n.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}if(!r)throw new Error("No output type");return i&&o.some(s=>DC(i,s.type))?new bE(Ji,o):new bE(r,o)}evaluate(t){let n=null,r=0,i;for(const o of this.args)if(r++,n=o.evaluate(t),n&&n instanceof z1&&!n.available&&(i||(i=n.name),n=null,r===this.args.length&&(n=i)),n!==null)break;return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}},gR=class yR{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let o=1;o<t.length-1;o+=2){const a=t[o];if(typeof a!="string")return n.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=n.parse(t[o+1],o+1);if(!s)return null;r.push([a,s])}const i=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return i?new yR(r,i):null}outputDefined(){return this.result.outputDefined()}},hJ=class vR{constructor(t,n,r){this.type=t,this.index=n,this.input=r}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,rr),i=n.parse(t[2],2,Qc(n.expectedType||Ji));if(!r||!i)return null;const o=i.type;return new vR(o.itemType,r,i)}evaluate(t){const n=this.index.evaluate(t),r=this.input.evaluate(t);if(n<0)throw new Cl(`Array index out of bounds: ${n} < 0.`);if(n>=r.length)throw new Cl(`Array index out of bounds: ${n} > ${r.length-1}.`);if(n!==Math.floor(n))throw new Cl(`Array index must be an integer, but found ${n} instead.`);return r[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}},fJ=class _R{constructor(t,n){this.type=Zi,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,Ji),i=n.parse(t[2],2,Ji);return!r||!i?null:y7(r.type,[Zi,yo,rr,K5,Ji])?new _R(r,i):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!r)return!1;if(!LC(n,["boolean","string","number","null"]))throw new Cl(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(Vl(n))} instead.`);if(!LC(r,["string","array"]))throw new Cl(`Expected second argument to be of type array or string, but found ${Ks(Vl(r))} instead.`);return r.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}},pJ=class xE{constructor(t,n,r){this.type=rr,this.needle=t,this.haystack=n,this.fromIndex=r}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,Ji),i=n.parse(t[2],2,Ji);if(!r||!i)return null;if(!y7(r.type,[Zi,yo,rr,K5,Ji]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,rr);return o?new xE(r,i,o):null}else return new xE(r,i)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!LC(n,["boolean","string","number","null"]))throw new Cl(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(Vl(n))} instead.`);if(!LC(r,["string","array"]))throw new Cl(`Expected second argument to be of type array or string, but found ${Ks(Vl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(n,i)}return r.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}},mJ=class CR{constructor(t,n,r,i,o,a){this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return n.error("Expected an even number of arguments.");let r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);const o={},a=[];for(let g=2;g<t.length-1;g+=2){let _=t[g];const B=t[g+1];Array.isArray(_)||(_=[_]);const k=n.concat(g);if(_.length===0)return k.error("Expected at least one branch label.");for(const F of _){if(typeof F!="number"&&typeof F!="string")return k.error("Branch labels must be numbers or strings.");if(typeof F=="number"&&Math.abs(F)>Number.MAX_SAFE_INTEGER)return k.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof F=="number"&&Math.floor(F)!==F)return k.error("Numeric branch labels must be integer values.");if(!r)r=Vl(F);else if(k.checkSubtype(r,Vl(F)))return null;if(typeof o[String(F)]<"u")return k.error("Branch labels must be unique.");o[String(F)]=a.length}const P=n.parse(B,g,i);if(!P)return null;i=i||P.type,a.push(P)}const s=n.parse(t[1],1,Ji);if(!s)return null;const h=n.parse(t[t.length-1],t.length-1,i);return!h||s.type.kind!=="value"&&n.concat(1).checkSubtype(r,s.type)?null:new CR(r,i,s,o,a,h)}evaluate(t){const n=this.input.evaluate(t);return(Vl(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}},gJ=class bR{constructor(t,n,r){this.type=t,this.branches=n,this.otherwise=r}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return n.error("Expected an odd number of arguments.");let r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);const i=[];for(let a=1;a<t.length-1;a+=2){const s=n.parse(t[a],a,Zi);if(!s)return null;const h=n.parse(t[a+1],a+1,r);if(!h)return null;i.push([s,h]),r=r||h.type}const o=n.parse(t[t.length-1],t.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new bR(r,i,o)}evaluate(t){for(const[n,r]of this.branches)if(n.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,r]of this.branches)t(n),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}},yJ=class wE{constructor(t,n,r,i){this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,Ji),i=n.parse(t[2],2,rr);if(!r||!i)return null;if(!y7(r.type,[Qc(Ji),yo,Ji]))return n.error(`Expected first argument to be of type array or string, but found ${Ks(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,rr);return o?new wE(r.type,r,i,o):null}else return new wE(r.type,r,i)}evaluate(t){const n=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!LC(n,["string","array"]))throw new Cl(`Expected first argument to be of type array or string, but found ${Ks(Vl(n))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return n.slice(r,i)}return n.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}};function G9(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function vJ(e,t,n){return t===n}function _J(e,t,n){return t!==n}function CJ(e,t,n){return t<n}function bJ(e,t,n){return t>n}function xJ(e,t,n){return t<=n}function wJ(e,t,n){return t>=n}function xR(e,t,n,r){return r.compare(t,n)===0}function MJ(e,t,n,r){return!xR(e,t,n,r)}function SJ(e,t,n,r){return r.compare(t,n)<0}function EJ(e,t,n,r){return r.compare(t,n)>0}function OJ(e,t,n,r){return r.compare(t,n)<=0}function BJ(e,t,n,r){return r.compare(t,n)>=0}function pv(e,t,n){const r=e!=="=="&&e!=="!=";return class wR{constructor(o,a,s){this.type=Zi,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let h=a.parse(o[1],1,Ji);if(!h)return null;if(!G9(s,h.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Ks(h.type)}'.`);let g=a.parse(o[2],2,Ji);if(!g)return null;if(!G9(s,g.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Ks(g.type)}'.`);if(h.type.kind!==g.type.kind&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error(`Cannot compare types '${Ks(h.type)}' and '${Ks(g.type)}'.`);r&&(h.type.kind==="value"&&g.type.kind!=="value"?h=new Ip(g.type,[h]):h.type.kind!=="value"&&g.type.kind==="value"&&(g=new Ip(h.type,[g])));let _=null;if(o.length===4){if(h.type.kind!=="string"&&g.type.kind!=="string"&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(_=a.parse(o[3],3,P5),!_)return null}return new wR(h,g,_)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=Vl(a),g=Vl(s);if(h.kind!==g.kind||!(h.kind==="string"||h.kind==="number"))throw new Cl(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=Vl(a),g=Vl(s);if(h.kind!=="string"||g.kind!=="string")return t(o,a,s)}return this.collator?n(o,a,s,this.collator.evaluate(o)):t(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const kJ=pv("==",vJ,xR),IJ=pv("!=",_J,MJ),TJ=pv("<",CJ,SJ),KJ=pv(">",bJ,EJ),PJ=pv("<=",xJ,OJ),FJ=pv(">=",wJ,BJ);let DJ=class MR{constructor(t,n,r,i,o){this.type=yo,this.number=t,this.locale=n,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const r=n.parse(t[1],1,rr);if(!r)return null;const i=t[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=n.parse(i.locale,1,yo),!o))return null;let a=null;if(i.currency&&(a=n.parse(i.currency,1,yo),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=n.parse(i["min-fraction-digits"],1,rr),!s))return null;let h=null;return i["max-fraction-digits"]&&(h=n.parse(i["max-fraction-digits"],1,rr),!h)?null:new MR(r,o,a,s,h)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}},LJ=class SR{constructor(t){this.type=F5,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=t.length-1;++a){const s=t[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let h=null;if(s["font-scale"]&&(h=n.parse(s["font-scale"],1,rr),!h))return null;let g=null;if(s["text-font"]&&(g=n.parse(s["text-font"],1,Qc(yo)),!g))return null;let _=null;if(s["text-color"]&&(_=n.parse(s["text-color"],1,Kf),!_))return null;const B=i[i.length-1];B.scale=h,B.font=g,B.textColor=_}else{const h=n.parse(t[a],1,Ji);if(!h)return null;const g=h.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new SR(i)}evaluate(t){const n=r=>{const i=r.content.evaluate(t);return Vl(i)===pb?new _E("",i,null,null,null):new _E(J_(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)};return new hv(this.sections.map(n))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}},UJ=class ER{constructor(t){this.type=pb,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const r=n.parse(t[1],1,yo);return r?new ER(r):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),r=z1.fromString(n);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(n)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}},RJ=class OR{constructor(t){this.type=rr,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=n.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${Ks(r.type)} instead.`):new OR(r):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new Cl(`Expected value to be of type string or array, but found ${Ks(Vl(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}};const w7={"==":kJ,"!=":IJ,">":KJ,"<":TJ,">=":FJ,"<=":PJ,array:Ip,at:hJ,boolean:Ip,case:gJ,coalesce:mR,collator:aR,format:LJ,image:UJ,in:fJ,"index-of":pJ,interpolate:Lp,"interpolate-hcl":Lp,"interpolate-lab":Lp,length:RJ,let:gR,literal:R3,match:mJ,number:Ip,"number-format":DJ,object:Ip,slice:yJ,step:hR,string:Ip,"to-boolean":ly,"to-color":ly,"to-number":ly,"to-string":ly,var:cR,within:x7};function Q9(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=JU(t,n,r,o);if(a)throw new Cl(a);return new Fs(t/255,n/255,r/255,o,!1)}function $9(e,t){return e in t}function nS(e,t){const n=t[e];return typeof n>"u"?null:n}function zJ(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function D0(e){return{type:e}}fv.register(w7,{error:[PX,[yo],(e,[t])=>{throw new Cl(t.evaluate(e))}],typeof:[yo,[Ji],(e,[t])=>Ks(Vl(t.evaluate(e)))],"to-rgba":[Qc(rr,4),[Kf],(e,[t])=>{const[n,r,i,o]=t.evaluate(e).rgb;return[n*255,r*255,i*255,o]}],rgb:[Kf,[rr,rr,rr],Q9],rgba:[Kf,[rr,rr,rr,rr],Q9],has:{type:Zi,overloads:[[[yo],(e,[t])=>$9(t.evaluate(e),e.properties())],[[yo,My],(e,[t,n])=>$9(t.evaluate(e),n.evaluate(e))]]},get:{type:Ji,overloads:[[[yo],(e,[t])=>nS(t.evaluate(e),e.properties())],[[yo,My],(e,[t,n])=>nS(t.evaluate(e),n.evaluate(e))]]},"feature-state":[Ji,[yo],(e,[t])=>nS(t.evaluate(e),e.featureState||{})],properties:[My,[],e=>e.properties()],"geometry-type":[yo,[],e=>e.geometryType()],id:[Ji,[],e=>e.id()],zoom:[rr,[],e=>e.globals.zoom],"heatmap-density":[rr,[],e=>e.globals.heatmapDensity||0],"line-progress":[rr,[],e=>e.globals.lineProgress||0],accumulated:[Ji,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[rr,D0(rr),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[rr,D0(rr),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:rr,overloads:[[[rr,rr],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[rr],(e,[t])=>-t.evaluate(e)]]},"/":[rr,[rr,rr],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[rr,[rr,rr],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[rr,[],()=>Math.LN2],pi:[rr,[],()=>Math.PI],e:[rr,[],()=>Math.E],"^":[rr,[rr,rr],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[rr,[rr],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[rr,[rr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[rr,[rr],(e,[t])=>Math.log(t.evaluate(e))],log2:[rr,[rr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[rr,[rr],(e,[t])=>Math.sin(t.evaluate(e))],cos:[rr,[rr],(e,[t])=>Math.cos(t.evaluate(e))],tan:[rr,[rr],(e,[t])=>Math.tan(t.evaluate(e))],asin:[rr,[rr],(e,[t])=>Math.asin(t.evaluate(e))],acos:[rr,[rr],(e,[t])=>Math.acos(t.evaluate(e))],atan:[rr,[rr],(e,[t])=>Math.atan(t.evaluate(e))],min:[rr,D0(rr),(e,t)=>Math.min(...t.map(n=>n.evaluate(e)))],max:[rr,D0(rr),(e,t)=>Math.max(...t.map(n=>n.evaluate(e)))],abs:[rr,[rr],(e,[t])=>Math.abs(t.evaluate(e))],round:[rr,[rr],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[rr,[rr],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[rr,[rr],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Zi,[yo,Ji],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Zi,[Ji],(e,[t])=>e.id()===t.value],"filter-type-==":[Zi,[yo],(e,[t])=>e.geometryType()===t.value],"filter-<":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[Zi,[Ji],(e,[t])=>t.value in e.properties()],"filter-has-id":[Zi,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Zi,[Qc(yo)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Zi,[Qc(Ji)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Zi,[yo,Qc(Ji)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Zi,[yo,Qc(Ji)],(e,[t,n])=>zJ(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Zi,overloads:[[[Zi,Zi],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[D0(Zi),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Zi,overloads:[[[Zi,Zi],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[D0(Zi),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Zi,[Zi],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Zi,[yo],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return n?n(t.evaluate(e)):!0}],upcase:[yo,[yo],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[yo,[yo],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[yo,D0(Ji),(e,t)=>t.map(n=>J_(n.evaluate(e))).join("")],"resolved-locale":[yo,[P5],(e,[t])=>t.evaluate(e).resolvedLocale()]});function ME(e){return{result:"success",value:e}}function jg(e){return{result:"error",value:e}}function N3(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function BR(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function M7(e){return!!e.expression&&e.expression.interpolated}function jo(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function mb(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function jJ(e){return e}function S7(e,t){const n=t.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,a=e.type||(M7(t)?"exponential":"interval");if(n||t.type==="padding"){const _=n?Fs.parse:Xc.parse;e=Zy({},e),e.stops&&(e.stops=e.stops.map(B=>[B[0],_(B[1])])),e.default?e.default=_(e.default):e.default=_(t.default)}if(e.colorSpace&&!uJ(e.colorSpace))throw new Error(`Unknown color space: "${e.colorSpace}"`);let s,h,g;if(a==="exponential")s=Y9;else if(a==="interval")s=NJ;else if(a==="categorical"){s=WJ,h=Object.create(null);for(const _ of e.stops)h[_[0]]=_[1];g=typeof e.stops[0][0]}else if(a==="identity")s=GJ;else throw new Error(`Unknown function type "${a}"`);if(r){const _={},B=[];for(let F=0;F<e.stops.length;F++){const q=e.stops[F],ee=q[0].zoom;_[ee]===void 0&&(_[ee]={zoom:ee,type:e.type,property:e.property,default:e.default,stops:[]},B.push(ee)),_[ee].stops.push([q[0].value,q[1]])}const k=[];for(const F of B)k.push([_[F].zoom,S7(_[F],t)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:Lp.interpolationFactor.bind(void 0,P),zoomStops:k.map(F=>F[0]),evaluate({zoom:F},q){return Y9({stops:k,base:e.base},t,F).evaluate(F,q)}}}else if(o){const _=a==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:Lp.interpolationFactor.bind(void 0,_),zoomStops:e.stops.map(B=>B[0]),evaluate:({zoom:B})=>s(e,t,B,h,g)}}else return{kind:"source",evaluate(_,B){const k=B&&B.properties?B.properties[e.property]:void 0;return k===void 0?gb(e.default,t.default):s(e,t,k,h,g)}}}function gb(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function WJ(e,t,n,r,i){const o=typeof n===i?r[n]:void 0;return gb(o,e.default,t.default)}function NJ(e,t,n){if(jo(n)!=="number")return gb(e.default,t.default);const r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=z5(e.stops.map(o=>o[0]),n);return e.stops[i][1]}function Y9(e,t,n){const r=e.base!==void 0?e.base:1;if(jo(n)!=="number")return gb(e.default,t.default);const i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=z5(e.stops.map(_=>_[0]),n),a=QJ(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],h=e.stops[o+1][1],g=Z2[t.type]||jJ;return typeof s.evaluate=="function"?{evaluate(..._){const B=s.evaluate.apply(void 0,_),k=h.evaluate.apply(void 0,_);if(!(B===void 0||k===void 0))return g(B,k,a,e.colorSpace)}}:g(s,h,a,e.colorSpace)}function GJ(e,t,n){switch(t.type){case"color":n=Fs.parse(n);break;case"formatted":n=hv.fromString(n.toString());break;case"resolvedImage":n=z1.fromString(n.toString());break;case"padding":n=Xc.parse(n);break;default:jo(n)!==t.type&&(t.type!=="enum"||!t.values[n])&&(n=void 0)}return gb(n,e.default,t.default)}function QJ(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let kR=class{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new rR,this._defaultValue=n?HJ(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(t,n,r,i,o,a){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null;try{const s=this.expression.evaluate(this._evaluator);if(s==null||typeof s=="number"&&s!==s)return this._defaultValue;if(this._enumValues&&!(s in this._enumValues))throw new Cl(`Expected value to be one of ${Object.keys(this._enumValues).map(h=>JSON.stringify(h)).join(", ")}, but found ${JSON.stringify(s)} instead.`);return s}catch(s){return this._warningHistory[s.message]||(this._warningHistory[s.message]=!0,typeof console<"u"&&console.warn(s.message)),this._defaultValue}}};function yb(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in w7}function E7(e,t){const n=new iR(w7,j3,[],t?qJ(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?ME(new kR(r,t)):jg(n.errors)}let SE=class{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!UC(n.expression)}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}},EE=class{constructor(t,n,r,i){this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!UC(n.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}interpolationFactor(t,n,r){return this.interpolationType?Lp.interpolationFactor(this.interpolationType,t,n,r):0}};function $J(e){return e._styleExpression!==void 0}function O7(e,t){const n=E7(e,t);if(n.result==="error")return n;const r=n.value.expression,i=U5(r);if(!i&&!N3(t))return jg([new Ef("","data expressions not supported")]);const o=R5(r,["zoom"]);if(!o&&!BR(t))return jg([new Ef("","zoom expressions not supported")]);const a=X2(r);if(!a&&!o)return jg([new Ef("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Ef)return jg([a]);if(a instanceof Lp&&!M7(t))return jg([new Ef("",'"interpolate" expressions cannot be used with this property')]);if(!a)return ME(i?new SE("constant",n.value):new SE("source",n.value));const s=a instanceof Lp?a.interpolation:void 0;return ME(i?new EE("camera",n.value,a.labels,s):new EE("composite",n.value,a.labels,s))}let IR=class TR{constructor(t,n){this._parameters=t,this._specification=n,Zy(this,S7(this._parameters,this._specification))}static deserialize(t){return new TR(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}};function YJ(e,t){if(mb(e))return new IR(e,t);if(yb(e)){const n=O7(e,t);if(n.result==="error")throw new Error(n.value.map(r=>`${r.key}: ${r.message}`).join(", "));return n.value}else{let n=e;return t.type==="color"&&typeof e=="string"?n=Fs.parse(e):t.type==="padding"&&(typeof e=="number"||Array.isArray(e))?n=Xc.parse(e):t.type==="variableAnchorOffsetCollection"&&Array.isArray(e)&&(n=Ff.parse(e)),{kind:"constant",evaluate:()=>n}}}function X2(e){let t=null;if(e instanceof gR)t=X2(e.result);else if(e instanceof mR){for(const n of e.args)if(t=X2(n),t)break}else(e instanceof hR||e instanceof Lp)&&e.input instanceof fv&&e.input.name==="zoom"&&(t=e);return t instanceof Ef||e.eachChild(n=>{const r=X2(n);r instanceof Ef?t=r:!t&&r?t=new Ef("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new Ef("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function qJ(e){const t={color:Kf,string:yo,number:rr,enum:yo,boolean:Zi,formatted:F5,padding:D5,resolvedImage:pb,variableAnchorOffsetCollection:L5};return e.type==="array"?Qc(t[e.value]||Ji,e.length):t[e.type]}function HJ(e){return e.type==="color"&&mb(e.default)?new Fs(0,0,0,0):e.type==="color"?Fs.parse(e.default)||null:e.type==="padding"?Xc.parse(e.default)||null:e.type==="variableAnchorOffsetCollection"?Ff.parse(e.default)||null:e.default===void 0?null:e.default}function j5(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!j5(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function eC(e,t={}){if(j5(e))return e;if(!e)return!0;const n=e,r=n[0];if(e.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=e;return ZJ(i,o,r,t)}case"any":{const[,...i]=n;return["any",...i.map(a=>{const s={},h=eC(a,s),g=VJ(s);return g===!0?h:["case",g,h,!1]})]}case"all":{const[,...i]=n,o=i.map(a=>eC(a,t));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=n;return["!",eC(["any",...i],{})]}case"in":{const[,i,...o]=n;return q9(i,o)}case"!in":{const[,i,...o]=n;return q9(i,o,!0)}case"has":return H9(n[1]);case"!has":return["!",H9(n[1])];default:return!0}}function VJ(e){const t=[];for(const n in e){const r=n==="$id"?["id"]:["get",n];t.push(["==",["typeof",r],e[n]])}return t.length===0?!0:t.length===1?t[0]:["all",...t]}function ZJ(e,t,n,r){let i;if(e==="$type")return[n,["geometry-type"],t];if(e==="$id"?i=["id"]:i=["get",e],r&&t!==null){const o=typeof t;r[e]=o}return n==="=="&&e!=="$id"&&t===null?["all",["has",e],["==",i,null]]:n==="!="&&e!=="$id"&&t===null?["any",["!",["has",e]],["!=",i,null]]:[n,i,t]}function q9(e,t,n=!1){if(t.length===0)return n;let r;e==="$type"?r=["geometry-type"]:e==="$id"?r=["id"]:r=["get",e];let i=!0;const o=typeof t[0];for(const a of t)if(typeof a!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const a=t.sort().filter((s,h)=>h===0||t[h-1]!==s);return["match",r,a,!n,n]}return n?["all",...t.map(a=>["!=",r,a])]:["any",...t.map(a=>["==",r,a])]}function H9(e){return e==="$type"?!0:e==="$id"?["!=",["id"],null]:["has",e]}function RC(e){return typeof e=="object"?["literal",e]:e}function KR(e,t){let n=e.stops;if(!n)return XJ(e,t);const r=n&&typeof n[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return n=n.map(a=>!i&&t.tokens&&typeof a[1]=="string"?[a[0],PR(a[1])]:[a[0],RC(a[1])]),r?JJ(e,t,n):o?tee(e,t,n):OE(e,t,n)}function XJ(e,t){const n=["get",e.property];if(e.default===void 0)return t.type==="string"?["string",n]:n;if(t.type==="enum")return["match",n,Object.keys(t.values),n,e.default];{const r=[t.type==="color"?"to-color":t.type,n,RC(e.default)];return t.type==="array"&&r.splice(1,0,t.value,t.length||null),r}}function B7(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function JJ(e,t,n){const r={},i={},o=[];for(let s=0;s<n.length;s++){const h=n[s],g=h[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([h[0].value,h[1]])}if(I7({},t)==="exponential"){const s=[B7(e),["linear"],["zoom"]];for(const h of o){const g=OE(r[h],t,i[h]);Ey(s,h,g,!1)}return s}else{const s=["step",["zoom"]];for(const h of o){const g=OE(r[h],t,i[h]);Ey(s,h,g,!0)}return k7(s),s}}function eee(e,t){if(e!==void 0)return e;if(t!==void 0)return t}function V9(e,t){const n=RC(eee(e.default,t.default));return n===void 0&&t.type==="resolvedImage"?"":n}function OE(e,t,n){const r=I7(e,t),i=["get",e.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){const o=["case"];for(const a of n)o.push(["==",i,a[0]],a[1]);return o.push(V9(e,t)),o}else if(r==="categorical"){const o=["match",i];for(const a of n)Ey(o,a[0],a[1],!1);return o.push(V9(e,t)),o}else if(r==="interval"){const o=["step",["number",i]];for(const a of n)Ey(o,a[0],a[1],!0);return k7(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,RC(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,a=[B7(e),o===1?["linear"]:["exponential",o],["number",i]];for(const s of n)Ey(a,s[0],s[1],!1);return e.default===void 0?a:["case",["==",["typeof",i],"number"],a,RC(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function tee(e,t,n,r=["zoom"]){const i=I7(e,t);let o,a=!1;if(i==="interval")o=["step",r],a=!0;else if(i==="exponential"){const s=e.base!==void 0?e.base:1;o=[B7(e),s===1?["linear"]:["exponential",s],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of n)Ey(o,s[0],s[1],a);return k7(o),o}function k7(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function Ey(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&e.length===2||e.push(t),e.push(n))}function I7(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function PR(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);i!==null;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(t.length===1)return e;if(r<e.length)t.push(e.slice(r));else if(t.length===2)return["to-string",t[1]];return t}function nee(e){for(let t=0;t<Sa.layout.length;t++)for(const n in Sa[Sa.layout[t]])if(n===e)return Sa[Sa.layout[t]][n];for(let t=0;t<Sa.paint.length;t++)for(const n in Sa[Sa.paint[t]])if(n===e)return Sa[Sa.paint[t]][n];return null}function ree(e,t){for(const n in e.sources)t(e.sources[n])}function tC(e,t){for(const n of e.layers)t(n)}function T7(e,t,n){function r(i,o){const a=i[o];a&&Object.keys(a).forEach(s=>{n({path:[i.id,o,s],key:s,value:a[s],reference:nee(s),set(h){a[s]=h}})})}tC(e,i=>{t.paint&&r(i,"paint"),t.layout&&r(i,"layout")})}function FR(e){const t=e.key,n=e.value;return n?[new Jn(t,n,"constants have been deprecated as of v8")]:[]}function ol(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function O1(e){if(Array.isArray(e))return e.map(O1);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=O1(e[n]);return t}return ol(e)}function Kd(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=e.validateSpec;let h=[];const g=jo(n);if(g!=="object")return[new Jn(t,n,`object expected, ${g} found`)];for(const _ in n){const B=_.split(".")[0],k=r[B]||r["*"];let P;if(i[B])P=i[B];else if(r[B])P=s;else if(i["*"])P=i["*"];else if(r["*"])P=s;else{h.push(new Jn(t,n[_],`unknown property "${_}"`));continue}h=h.concat(P({key:(t&&`${t}.`)+_,value:n[_],valueSpec:k,style:o,styleSpec:a,object:n,objectKey:_,validateSpec:s},n))}for(const _ in r)i[_]||r[_].required&&r[_].default===void 0&&n[_]===void 0&&h.push(new Jn(t,n,`missing required property "${_}"`));return h}function K7(e){const t=e.value,n=e.valueSpec,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.key,s=e.arrayElementValidator||r;if(jo(t)!=="array")return[new Jn(a,t,`array expected, ${jo(t)} found`)];if(n.length&&t.length!==n.length)return[new Jn(a,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Jn(a,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let h={type:n.value,values:n.values};o.$version<7&&(h.function=n.function),jo(n.value)==="object"&&(h=n.value);let g=[];for(let _=0;_<t.length;_++)g=g.concat(s({array:t,arrayIndex:_,value:t[_],valueSpec:h,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${a}[${_}]`}));return g}function P7(e){const t=e.key,n=e.value,r=e.valueSpec;let i=jo(n);return i==="number"&&n!==n&&(i="NaN"),i!=="number"?[new Jn(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new Jn(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new Jn(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function DR(e){const t=e.valueSpec,n=ol(e.value.type);let r,i={},o,a;const s=n!=="categorical"&&e.value.property===void 0,h=!s,g=jo(e.value.stops)==="array"&&jo(e.value.stops[0])==="array"&&jo(e.value.stops[0][0])==="object",_=Kd({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:B,default:F}});return n==="identity"&&s&&_.push(new Jn(e.key,e.value,'missing required property "property"')),n!=="identity"&&!e.value.stops&&_.push(new Jn(e.key,e.value,'missing required property "stops"')),n==="exponential"&&e.valueSpec.expression&&!M7(e.valueSpec)&&_.push(new Jn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(h&&!N3(e.valueSpec)?_.push(new Jn(e.key,e.value,"property functions not supported")):s&&!BR(e.valueSpec)&&_.push(new Jn(e.key,e.value,"zoom functions not supported"))),(n==="categorical"||g)&&e.value.property===void 0&&_.push(new Jn(e.key,e.value,'"property" property is required')),_;function B(q){if(n==="identity")return[new Jn(q.key,q.value,'identity function may not have a "stops" property')];let ee=[];const H=q.value;return ee=ee.concat(K7({key:q.key,value:H,valueSpec:q.valueSpec,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,arrayElementValidator:k})),jo(H)==="array"&&H.length===0&&ee.push(new Jn(q.key,H,"array must have at least one stop")),ee}function k(q){let ee=[];const H=q.value,N=q.key;if(jo(H)!=="array")return[new Jn(N,H,`array expected, ${jo(H)} found`)];if(H.length!==2)return[new Jn(N,H,`array length 2 expected, length ${H.length} found`)];if(g){if(jo(H[0])!=="object")return[new Jn(N,H,`object expected, ${jo(H[0])} found`)];if(H[0].zoom===void 0)return[new Jn(N,H,"object stop key must have zoom")];if(H[0].value===void 0)return[new Jn(N,H,"object stop key must have value")];if(a&&a>ol(H[0].zoom))return[new Jn(N,H[0].zoom,"stop zoom values must appear in ascending order")];ol(H[0].zoom)!==a&&(a=ol(H[0].zoom),o=void 0,i={}),ee=ee.concat(Kd({key:`${N}[0]`,value:H[0],valueSpec:{zoom:{}},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{zoom:P7,value:P}}))}else ee=ee.concat(P({key:`${N}[0]`,value:H[0],valueSpec:{},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec},H));return yb(O1(H[1]))?ee.concat([new Jn(`${N}[1]`,H[1],"expressions are not allowed in function stops.")]):ee.concat(q.validateSpec({key:`${N}[1]`,value:H[1],valueSpec:t,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec}))}function P(q,ee){const H=jo(q.value),N=ol(q.value),Z=q.value!==null?q.value:ee;if(!r)r=H;else if(H!==r)return[new Jn(q.key,Z,`${H} stop domain type must match previous stop domain type ${r}`)];if(H!=="number"&&H!=="string"&&H!=="boolean")return[new Jn(q.key,Z,"stop domain value must be a number, string, or boolean")];if(H!=="number"&&n!=="categorical"){let ue=`number expected, ${H} found`;return N3(t)&&n===void 0&&(ue+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Jn(q.key,Z,ue)]}return n==="categorical"&&H==="number"&&(!isFinite(N)||Math.floor(N)!==N)?[new Jn(q.key,Z,`integer expected, found ${N}`)]:n!=="categorical"&&H==="number"&&o!==void 0&&N<o?[new Jn(q.key,Z,"stop domain values must appear in ascending order")]:(o=N,n==="categorical"&&N in i?[new Jn(q.key,Z,"stop domain values must be unique")]:(i[N]=!0,[]))}function F(q){return q.validateSpec({key:q.key,value:q.value,valueSpec:t,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec})}}function Xy(e){const t=(e.expressionContext==="property"?O7:E7)(O1(e.value),e.valueSpec);if(t.result==="error")return t.value.map(r=>new Jn(`${e.key}${r.key}`,e.value,r.message));const n=t.value.expression||t.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!n.outputDefined())return[new Jn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!UC(n))return[new Jn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!UC(n))return[new Jn(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!R5(n,["zoom","feature-state"]))return[new Jn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!U5(n))return[new Jn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function iee(e){const t=e.value,n=e.key,r=jo(t);return r!=="boolean"?[new Jn(n,t,`boolean expected, ${r} found`)]:[]}function oee(e){const t=e.key,n=e.value,r=jo(n);return r!=="string"?[new Jn(t,n,`color expected, ${r} found`)]:Fs.parse(String(n))?[]:[new Jn(t,n,`color expected, "${n}" found`)]}function zC(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(ol(n))===-1&&i.push(new Jn(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):Object.keys(r.values).indexOf(ol(n))===-1&&i.push(new Jn(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function F7(e){return j5(O1(e.value))?Xy(Zy({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):LR(e)}function LR(e){const t=e.value,n=e.key;if(jo(t)!=="array")return[new Jn(n,t,`array expected, ${jo(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new Jn(n,t,"filter array must have at least 1 element")];switch(o=o.concat(zC({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),ol(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&ol(t[1])==="$type"&&o.push(new Jn(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&o.push(new Jn(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=jo(t[1]),i!=="string"&&o.push(new Jn(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let a=2;a<t.length;a++)i=jo(t[a]),ol(t[1])==="$type"?o=o.concat(zC({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Jn(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let a=1;a<t.length;a++)o=o.concat(LR({key:`${n}[${a}]`,value:t[a],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=jo(t[1]),t.length!==2?o.push(new Jn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Jn(`${n}[1]`,t[1],`string expected, ${i} found`));break;case"within":i=jo(t[1]),t.length!==2?o.push(new Jn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):i!=="object"&&o.push(new Jn(`${n}[1]`,t[1],`object expected, ${i} found`));break}return o}function UR(e,t){const n=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,h=o[`${t}_${e.layerType}`];if(!h)return[];const g=s.match(/^(.*)-transition$/);if(t==="paint"&&g&&h[g[1]]&&h[g[1]].transition)return r({key:n,value:a,valueSpec:o.transition,style:i,styleSpec:o});const _=e.valueSpec||h[s];if(!_)return[new Jn(n,a,`unknown property "${s}"`)];let B;if(jo(a)==="string"&&N3(_)&&!_.tokens&&(B=/^{([^}]+)}$/.exec(a)))return[new Jn(n,a,`"${s}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];const k=[];return e.layerType==="symbol"&&(s==="text-field"&&i&&!i.glyphs&&k.push(new Jn(n,a,'use of "text-field" requires a style "glyphs" property')),s==="text-font"&&mb(O1(a))&&ol(a.type)==="identity"&&k.push(new Jn(n,a,'"text-font" does not support identity functions'))),k.concat(r({key:e.key,value:a,valueSpec:_,style:i,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:s}))}function RR(e){return UR(e,"paint")}function zR(e){return UR(e,"layout")}function jR(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;!n.type&&!n.ref&&t.push(new Jn(r,n,'either "type" or "ref" is required'));let a=ol(n.type);const s=ol(n.ref);if(n.id){const h=ol(n.id);for(let g=0;g<e.arrayIndex;g++){const _=i.layers[g];ol(_.id)===h&&t.push(new Jn(r,n.id,`duplicate layer id "${n.id}", previously used at line ${_.id.__line__}`))}}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(g=>{g in n&&t.push(new Jn(r,n[g],`"${g}" is prohibited for ref layers`))});let h;i.layers.forEach(g=>{ol(g.id)===s&&(h=g)}),h?h.ref?t.push(new Jn(r,n.ref,"ref cannot reference another ref layer")):a=ol(h.type):t.push(new Jn(r,n.ref,`ref layer "${s}" not found`))}else if(a!=="background")if(!n.source)t.push(new Jn(r,n,'missing required property "source"'));else{const h=i.sources&&i.sources[n.source],g=h&&ol(h.type);h?g==="vector"&&a==="raster"?t.push(new Jn(r,n.source,`layer "${n.id}" requires a raster source`)):g!=="raster-dem"&&a==="hillshade"?t.push(new Jn(r,n.source,`layer "${n.id}" requires a raster-dem source`)):g==="raster"&&a!=="raster"?t.push(new Jn(r,n.source,`layer "${n.id}" requires a vector source`)):g==="vector"&&!n["source-layer"]?t.push(new Jn(r,n,`layer "${n.id}" must specify a "source-layer"`)):g==="raster-dem"&&a!=="hillshade"?t.push(new Jn(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):a==="line"&&n.paint&&n.paint["line-gradient"]&&(g!=="geojson"||!h.lineMetrics)&&t.push(new Jn(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Jn(r,n.source,`source "${n.source}" not found`))}return t=t.concat(Kd({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*"(){return[]},type(){return e.validateSpec({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"})},filter:F7,layout(h){return Kd({layer:n,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(g){return zR(Zy({layerType:a},g))}}})},paint(h){return Kd({layer:n,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(g){return RR(Zy({layerType:a},g))}}})}}})),t}function B1(e){const t=e.value,n=e.key,r=jo(t);return r!=="string"?[new Jn(n,t,`string expected, ${r} found`)]:[]}function aee(e){var t;const n=(t=e.sourceName)!==null&&t!==void 0?t:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,a=e.style;let s=[];const h=jo(r);if(r===void 0)return s;if(h!=="object")return s.push(new Jn("source_raster_dem",r,`object expected, ${h} found`)),s;const _=ol(r.encoding)==="custom",B=["redFactor","greenFactor","blueFactor","baseShift"],k=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const P in r)!_&&B.includes(P)?s.push(new Jn(P,r[P],`In "${n}": "${P}" is only valid when "encoding" is set to "custom". ${k} encoding found`)):o[P]?s=s.concat(e.validateSpec({key:P,value:r[P],valueSpec:o[P],validateSpec:e.validateSpec,style:a,styleSpec:i})):s.push(new Jn(P,r[P],`unknown property "${P}"`));return s}const Z9={promoteId:see};function WR(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!t.type)return[new Jn(n,t,'"type" is required')];const a=ol(t.type);let s;switch(a){case"vector":case"raster":return s=Kd({key:n,value:t,valueSpec:r[`source_${a.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:Z9,validateSpec:o}),s;case"raster-dem":return s=aee({sourceName:n,value:t,style:e.style,styleSpec:r,validateSpec:o}),s;case"geojson":if(s=Kd({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:Z9}),t.cluster)for(const h in t.clusterProperties){const[g,_]=t.clusterProperties[h],B=typeof g=="string"?[g,["accumulated"],["get",h]]:g;s.push(...Xy({key:`${n}.${h}.map`,value:_,validateSpec:o,expressionContext:"cluster-map"})),s.push(...Xy({key:`${n}.${h}.reduce`,value:B,validateSpec:o,expressionContext:"cluster-reduce"}))}return s;case"video":return Kd({key:n,value:t,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return Kd({key:n,value:t,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Jn(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zC({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function see({key:e,value:t}){if(jo(t)==="string")return B1({key:e,value:t});{const n=[];for(const r in t)n.push(...B1({key:`${e}.${r}`,value:t[r]}));return n}}function NR(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=jo(t);if(t===void 0)return o;if(a!=="object")return o=o.concat([new Jn("light",t,`object expected, ${a} found`)]),o;for(const s in t){const h=s.match(/^(.*)-transition$/);h&&r[h[1]]&&r[h[1]].transition?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:i,styleSpec:n})):r[s]?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o=o.concat([new Jn(s,t[s],`unknown property "${s}"`)])}return o}function GR(e){const t=e.value,n=e.styleSpec,r=n.sky,i=e.style,o=jo(t);if(t===void 0)return[];if(o!=="object")return[new Jn("sky",t,`object expected, ${o} found`)];let a=[];for(const s in t)r[s]?a=a.concat(Oy({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n})):a=a.concat([new Jn(s,t[s],`unknown property "${s}"`)]);return a}function QR(e){const t=e.value,n=e.styleSpec,r=n.terrain,i=e.style;let o=[];const a=jo(t);if(t===void 0)return o;if(a!=="object")return o=o.concat([new Jn("terrain",t,`object expected, ${a} found`)]),o;for(const s in t)r[s]?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o=o.concat([new Jn(s,t[s],`unknown property "${s}"`)]);return o}function lee(e){return B1(e).length===0?[]:Xy(e)}function uee(e){return B1(e).length===0?[]:Xy(e)}function Aee(e){const t=e.key,n=e.value;if(jo(n)==="array"){if(n.length<1||n.length>4)return[new Jn(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const i={type:"number"};let o=[];for(let a=0;a<n.length;a++)o=o.concat(e.validateSpec({key:`${t}[${a}]`,value:n[a],validateSpec:e.validateSpec,valueSpec:i}));return o}else return P7({key:t,value:n,valueSpec:{}})}function cee(e){const t=e.key,n=e.value,r=jo(n),i=e.styleSpec;if(r!=="array"||n.length<1||n.length%2!==0)return[new Jn(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let a=0;a<n.length;a+=2)o=o.concat(zC({key:`${t}[${a}]`,value:n[a],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(K7({key:`${t}[${a+1}]`,value:n[a+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o}function $R(e){let t=[];const n=e.value,r=e.key;if(Array.isArray(n)){const i=[],o=[];for(const a in n){n[a].id&&i.includes(n[a].id)&&t.push(new Jn(r,n,`all the sprites' ids must be unique, but ${n[a].id} is duplicated`)),i.push(n[a].id),n[a].url&&o.includes(n[a].url)&&t.push(new Jn(r,n,`all the sprites' URLs must be unique, but ${n[a].url} is duplicated`)),o.push(n[a].url);const s={id:{type:"string",required:!0},url:{type:"string",required:!0}};t=t.concat(Kd({key:`${r}[${a}]`,value:n[a],valueSpec:s,validateSpec:e.validateSpec}))}return t}else return B1({key:r,value:n})}const X9={"*"(){return[]},array:K7,boolean:iee,number:P7,color:oee,constants:FR,enum:zC,filter:F7,function:DR,layer:jR,object:Kd,source:WR,light:NR,sky:GR,terrain:QR,string:B1,formatted:lee,resolvedImage:uee,padding:Aee,variableAnchorOffsetCollection:cee,sprite:$R};function Oy(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return e.validateSpec=Oy,n.expression&&mb(ol(t))?DR(e):n.expression&&yb(O1(t))?Xy(e):n.type&&X9[n.type]?X9[n.type](e):Kd(Zy({},e,{valueSpec:n.type?r[n.type]:n}))}function YR(e){const t=e.value,n=e.key,r=B1(e);return r.length||(t.indexOf("{fontstack}")===-1&&r.push(new Jn(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&r.push(new Jn(n,t,'"glyphs" url must include a "{range}" token'))),r}function Wd(e,t=Sa){let n=[];return n=n.concat(Oy({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:Oy,objectElementValidators:{glyphs:YR,"*"(){return[]}}})),e.constants&&(n=n.concat(FR({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:Oy}))),qR(n)}Wd.source=Nf(Wf(WR));Wd.sprite=Nf(Wf($R));Wd.glyphs=Nf(Wf(YR));Wd.light=Nf(Wf(NR));Wd.sky=Nf(Wf(GR));Wd.terrain=Nf(Wf(QR));Wd.layer=Nf(Wf(jR));Wd.filter=Nf(Wf(F7));Wd.paintProperty=Nf(Wf(RR));Wd.layoutProperty=Nf(Wf(zR));function Wf(e){return function(t){return e({...t,validateSpec:Oy})}}function qR(e){return[].concat(e).sort((t,n)=>t.line-n.line)}function Nf(e){return function(...t){return qR(e.apply(this,t))}}const dee=/("(?:[^\\"]|\\.)*")|[:,]/g;function hee(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,h){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const g=JSON.stringify(a,i);if(g===void 0)return g;const _=r-s.length-h;if(g.length<=_){const B=g.replace(dee,(k,P)=>P||`${k} `);if(B.length<=_)return B}if(i!=null&&(a=JSON.parse(g),i=void 0),typeof a=="object"&&a!==null){const B=s+n,k=[];let P=0,F,q;if(Array.isArray(a)){F="[",q="]";const{length:ee}=a;for(;P<ee;P++)k.push(o(a[P],B,P===ee-1?0:1)||"null")}else{F="{",q="}";const ee=Object.keys(a),{length:H}=ee;for(;P<H;P++){const N=ee[P],Z=`${JSON.stringify(N)}: `,ue=o(a[N],B,Z.length+(P===H-1?0:1));ue!==void 0&&k.push(Z+ue)}}if(k.length>0)return[F,n+k.join(`,
${B}`),q].join(`
${s}`)}return g}(e,"",0)}function J9(e,t){const n={};for(const r in t)e[r]!==void 0&&(n[r]=e[r]);for(const r in e)n[r]===void 0&&(n[r]=e[r]);return n}function HR(e,t=2){return e=J9(e,Sa.$root),e.layers&&(e.layers=e.layers.map(n=>J9(n,Sa.layer))),hee(e,{indent:t})}function rS(e,t){for(const n in e)n.indexOf("layout")===0&&t(e[n],n)}function eT(e,t){for(const n in e)n.indexOf("paint")===0&&t(e[n],n)}function BE(e,t){return typeof t=="string"&&t[0]==="@"?BE(e,e.constants[t]):t}function fee(e){return Array.isArray(e.stops)}function f_(e,t,n){e[n]=e[t],delete e[t]}function pee(e){e.version=8,ree(e,i=>{i.type==="video"&&i.url!==void 0&&f_(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),tC(e,i=>{rS(i,o=>{o["symbol-min-distance"]!==void 0&&f_(o,"symbol-min-distance","symbol-spacing")}),eT(i,o=>{o["background-image"]!==void 0&&f_(o,"background-image","background-pattern"),o["line-image"]!==void 0&&f_(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&f_(o,"fill-image","fill-pattern")})}),T7(e,{paint:!0,layout:!0},i=>{const o=BE(e,i.value);fee(o)&&o.stops.forEach(a=>{a[1]=BE(e,a[1])}),i.set(o)}),delete e.constants,tC(e,i=>{rS(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),eT(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function t(i){function o(a){return a.split(",").map(s=>s.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(a=>{a[1]=o(a[1])}),i;throw new Error("unexpected font value")}tC(e,i=>{rS(i,o=>{o["text-font"]&&(o["text-font"]=t(o["text-font"]))})});let n=0;for(let i=e.layers.length-1;i>=0;i--)if(e.layers[i].type!=="symbol"){n=i+1;break}const r=e.layers.splice(n);return r.reverse(),e.layers=e.layers.concat(r),e}function mee(e){const t=[];return tC(e,n=>{n.filter&&(n.filter=eC(n.filter))}),T7(e,{paint:!0,layout:!0},({path:n,value:r,reference:i,set:o})=>{yb(r)||(typeof r=="object"&&!Array.isArray(r)?(o(KR(r,i)),t.push(n.join("."))):i.tokens&&typeof r=="string"&&o(PR(r)))}),e}function gee(e){return JSON.parse(yee(JSON.stringify(e)))}function yee(e){return e.replace(/"hsla?\((.+?)\)"/gi,(t,n)=>{const r=n.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,a,s]=r.slice(1);return[o,a]=[o,a].map(h=>h.endsWith("%")?h:`${parseFloat(h)*100}%`),`"hsl${typeof s=="string"?"a":""}(${[i,o,a,s].filter(Boolean).join(",")})"`}return t})}function vee(e){let t=!1;if(e.version===7&&(e=pee(e),t=!0),e.version===8&&(t=!!mee(e),t=!0),T7(e,{paint:!0,layout:!0},({value:n,reference:r,set:i})=>{r.type==="color"&&i(gee(n))}),!t)throw new Error(`Cannot migrate from ${e.version}`);return e}const _ee={StyleExpression:kR,StylePropertyFunction:IR,ZoomConstantExpression:SE,ZoomDependentExpression:EE,createExpression:E7,createPropertyExpression:O7,isExpression:yb,isExpressionFilter:j5,isZoomExpression:$J,normalizePropertyExpression:YJ},Cee={convertFunction:KR,createFunction:S7,isFunction:mb};var VR={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.1.2/LICENSE.txt
 */(function(e,t){(function(n,r){e.exports=r()})(Bh,function(){var n={},r={};function i(a,s,h){if(r[a]=h,a==="index"){var g="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",_={};return r.shared(_),r.index(n,_),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),n}}i("shared",["exports"],function(a){function s(c,l,d,y){return new(d||(d=Promise))(function(M,T){function K(V){try{W(y.next(V))}catch(re){T(re)}}function L(V){try{W(y.throw(V))}catch(re){T(re)}}function W(V){var re;V.done?M(V.value):(re=V.value,re instanceof d?re:new d(function(Ae){Ae(re)})).then(K,L)}W((y=y.apply(c,l||[])).next())})}function h(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var g=_;function _(c,l){this.x=c,this.y=l}_.prototype={clone:function(){return new _(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,d=c.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),d=Math.sin(c),y=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=y,this},_rotateAround:function(c,l){var d=Math.cos(c),y=Math.sin(c),M=l.y+y*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-y*(this.y-l.y),this.y=M,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},_.convert=function(c){return c instanceof _?c:Array.isArray(c)?new _(c[0],c[1]):c};var B=h(g),k=P;function P(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}P.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var M=this.sampleCurveX(d)-c;if(Math.abs(M)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=M/T}var K=0,L=1;for(d=c,y=0;y<20&&(M=this.sampleCurveX(d),!(Math.abs(M-c)<l));y++)c>M?K=d:L=d,d=.5*(L-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var F=h(k);let q,ee;function H(){return q==null&&(q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),q}function N(){if(ee==null&&(ee=!1,H())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let y=0;y<5*5;y++){const M=4*y;l.fillStyle=`rgb(${M},${M+1},${M+2})`,l.fillRect(y%5,Math.floor(y/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&d[y]!==y){ee=!0;break}}}return ee||!1}function Z(c,l,d,y){const M=new F(c,l,d,y);return function(T){return M.solve(T)}}const ue=Z(.25,.1,.25,1);function ye(c,l,d){return Math.min(d,Math.max(l,c))}function be(c,l,d){const y=d-l,M=((c-l)%y+y)%y+l;return M===l?d:M}function J(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}let se=1;function xe(c,l,d){const y={};for(const M in c)y[M]=l.call(d||this,c[M],M,c);return y}function Se(c,l,d){const y={};for(const M in c)l.call(d||this,c[M],M,c)&&(y[M]=c[M]);return y}function De(c){return Array.isArray(c)?c.map(De):typeof c=="object"&&c?xe(c,De):c}const Le={};function he(c){Le[c]||(typeof console<"u"&&console.warn(c),Le[c]=!0)}function qe(c,l,d){return(d.y-c.y)*(l.x-c.x)>(l.y-c.y)*(d.x-c.x)}function ge(c){let l=0;for(let d,y,M=0,T=c.length,K=T-1;M<T;K=M++)d=c[M],y=c[K],l+=(y.x-d.x)*(d.y+y.y);return l}function _t(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let Mt=null;function dt(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function je(c,l,d,y,M){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const T=new VideoFrame(c,{timestamp:0});try{const K=T==null?void 0:T.format;if(!K||!K.startsWith("BGR")&&!K.startsWith("RGB"))throw new Error(`Unrecognized format ${K}`);const L=K.startsWith("BGR"),W=new Uint8ClampedArray(y*M*4);if(yield T.copyTo(W,function(V,re,Ae,_e,Be){const Ke=4*Math.max(-re,0),Ge=(Math.max(0,Ae)-Ae)*_e*4+Ke,Ze=4*_e,at=Math.max(0,re),kt=Math.max(0,Ae);return{rect:{x:at,y:kt,width:Math.min(V.width,re+_e)-at,height:Math.min(V.height,Ae+Be)-kt},layout:[{offset:Ge,stride:Ze}]}}(c,l,d,y,M)),L)for(let V=0;V<W.length;V+=4){const re=W[V];W[V]=W[V+2],W[V+2]=re}return W}finally{T.close()}})}let Ve,Xe;const Jt="AbortError";function Ht(){return new Error(Jt)}const Ct={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Qt(c){return Ct.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const $t="global-dispatcher";class Ie extends Error{constructor(l,d,y,M){super(`AJAXError: ${d} (${l}): ${y}`),this.status=l,this.statusText=d,this.url=y,this.body=M}}const pe=()=>_t(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Me=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const y=Qt(c.url);if(y)return y(c,l);if(_t(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,targetMapId:$t},l)}if(!(/^file:/.test(d=c.url)||/^file:/.test(pe())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,M){return s(this,void 0,void 0,function*(){const T=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:pe(),signal:M.signal});y.type==="json"&&T.headers.set("Accept","application/json");const K=yield fetch(T);if(!K.ok){const V=yield K.blob();throw new Ie(K.status,K.statusText,y.url,V)}let L;L=y.type==="arrayBuffer"||y.type==="image"?K.arrayBuffer():y.type==="json"?K.json():K.text();const W=yield L;if(M.signal.aborted)throw Ht();return{data:W,cacheControl:K.headers.get("Cache-Control"),expires:K.headers.get("Expires")}})}(c,l);if(_t(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,mustQueue:!0,targetMapId:$t},l)}var d;return function(y,M){return new Promise((T,K)=>{const L=new XMLHttpRequest;L.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(L.responseType="arraybuffer");for(const W in y.headers)L.setRequestHeader(W,y.headers[W]);y.type==="json"&&(L.responseType="text",L.setRequestHeader("Accept","application/json")),L.withCredentials=y.credentials==="include",L.onerror=()=>{K(new Error(L.statusText))},L.onload=()=>{if(!M.signal.aborted)if((L.status>=200&&L.status<300||L.status===0)&&L.response!==null){let W=L.response;if(y.type==="json")try{W=JSON.parse(L.response)}catch(V){return void K(V)}T({data:W,cacheControl:L.getResponseHeader("Cache-Control"),expires:L.getResponseHeader("Expires")})}else{const W=new Blob([L.response],{type:L.getResponseHeader("Content-Type")});K(new Ie(L.status,L.statusText,y.url,W))}},M.signal.addEventListener("abort",()=>{L.abort(),K(Ht())}),L.send(y.body)})}(c,l)};function Re(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function it(c,l,d){d[c]&&d[c].indexOf(l)!==-1||(d[c]=d[c]||[],d[c].push(l))}function ot(c,l,d){if(d&&d[c]){const y=d[c].indexOf(l);y!==-1&&d[c].splice(y,1)}}class St{constructor(l,d={}){J(this,d),this.type=l}}class Rt extends St{constructor(l,d={}){super("error",J({error:l},d))}}class zt{on(l,d){return this._listeners=this._listeners||{},it(l,d,this._listeners),this}off(l,d){return ot(l,d,this._listeners),ot(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},it(l,d,this._oneTimeListeners),this):new Promise(y=>this.once(l,y))}fire(l,d){typeof l=="string"&&(l=new St(l,d||{}));const y=l.type;if(this.listens(y)){l.target=this;const M=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const L of M)L.call(this,l);const T=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const L of T)ot(y,L,this._oneTimeListeners),L.call(this,l);const K=this._eventedParent;K&&(J(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),K.fire(l))}else l instanceof Rt&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ir=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function gn(c,l){const d={};for(const y in c)y!=="ref"&&(d[y]=c[y]);return ir.forEach(y=>{y in l&&(d[y]=l[y])}),d}function yn(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let d=0;d<c.length;d++)if(!yn(c[d],l[d]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const d in c)if(!yn(c[d],l[d]))return!1;return!0}return c===l}function er(c,l){c.push(l)}function Ar(c,l,d){er(d,{command:"addSource",args:[c,l[c]]})}function Mr(c,l,d){er(l,{command:"removeSource",args:[c]}),d[c]=!0}function Wr(c,l,d,y){Mr(c,d,y),Ar(c,l,d)}function gr(c,l,d){let y;for(y in c[d])if(Object.prototype.hasOwnProperty.call(c[d],y)&&y!=="data"&&!yn(c[d][y],l[d][y]))return!1;for(y in l[d])if(Object.prototype.hasOwnProperty.call(l[d],y)&&y!=="data"&&!yn(c[d][y],l[d][y]))return!1;return!0}function _i(c,l,d,y,M,T){c=c||{},l=l||{};for(const K in c)Object.prototype.hasOwnProperty.call(c,K)&&(yn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],M]}));for(const K in l)Object.prototype.hasOwnProperty.call(l,K)&&!Object.prototype.hasOwnProperty.call(c,K)&&(yn(c[K],l[K])||d.push({command:T,args:[y,K,l[K],M]}))}function Ee(c){return c.id}function X(c,l){return c[l.id]=l,c}class Y{constructor(l,d,y,M){this.message=(l?`${l}: `:"")+y,M&&(this.identifier=M),d!=null&&d.__line__&&(this.line=d.__line__)}}function Te(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}class ut extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class Bt{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[y,M]of d)this.bindings[y]=M}concat(l){return new Bt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const It={kind:"null"},Dt={kind:"number"},fn={kind:"string"},Pn={kind:"boolean"},On={kind:"color"},m={kind:"object"},Kt={kind:"value"},Pr={kind:"collator"},nr={kind:"formatted"},Pe={kind:"padding"},ce={kind:"resolvedImage"},Ce={kind:"variableAnchorOffsetCollection"};function ke(c,l){return{kind:"array",itemType:c,N:l}}function ze(c){if(c.kind==="array"){const l=ze(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const rt=[It,Dt,fn,Pn,On,nr,m,ke(Kt),Pe,ce,Ce];function st(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!st(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const d of rt)if(!st(d,l))return null}}return`Expected ${ze(c)} but found ${ze(l)} instead.`}function ft(c,l){return l.some(d=>d.kind===c.kind)}function et(c,l){return l.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}function wt(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const tn=.96422,qt=.82521,en=4/29,Fn=6/29,Bn=3*Fn*Fn,qn=Fn*Fn*Fn,Sr=Math.PI/180,lr=180/Math.PI;function $r(c){return(c%=360)<0&&(c+=360),c}function Or([c,l,d,y]){let M,T;const K=or((.2225045*(c=Lr(c))+.7168786*(l=Lr(l))+.0606169*(d=Lr(d)))/1);c===l&&l===d?M=T=K:(M=or((.4360747*c+.3850649*l+.1430804*d)/tn),T=or((.0139322*c+.0971045*l+.7141733*d)/qt));const L=116*K-16;return[L<0?0:L,500*(M-K),200*(K-T),y]}function Lr(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function or(c){return c>qn?Math.pow(c,1/3):c/Bn+en}function ci([c,l,d,y]){let M=(c+16)/116,T=isNaN(l)?M:M+l/500,K=isNaN(d)?M:M-d/200;return M=1*to(M),T=tn*to(T),K=qt*to(K),[Li(3.1338561*T-1.6168667*M-.4906146*K),Li(-.9787684*T+1.9161415*M+.033454*K),Li(.0719453*T-.2289914*M+1.4052427*K),y]}function Li(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function to(c){return c>Fn?c*c*c:Bn*(c-en)}function ho(c){return parseInt(c.padEnd(2,c),16)/255}function ai(c,l){return fo(l?c/100:c,0,1)}function fo(c,l,d){return Math.min(Math.max(l,c),d)}function ja(c){return!c.some(Number.isNaN)}const Ba={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Mi{constructor(l,d,y,M=1,T=!0){this.r=l,this.g=d,this.b=y,this.a=M,T||(this.r*=M,this.g*=M,this.b*=M,M||this.overwriteGetter("rgb",[l,d,y,M]))}static parse(l){if(l instanceof Mi)return l;if(typeof l!="string")return;const d=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const M=Ba[y];if(M){const[K,L,W]=M;return[K/255,L/255,W/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const K=y.length<6?1:2;let L=1;return[ho(y.slice(L,L+=K)),ho(y.slice(L,L+=K)),ho(y.slice(L,L+=K)),ho(y.slice(L,L+K)||"ff")]}if(y.startsWith("rgb")){const K=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(K){const[L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at,kt]=K,At=[re||" ",Be||" ",Ze].join("");if(At==="  "||At==="  /"||At===",,"||At===",,,"){const xt=[V,_e,Ge].join(""),nn=xt==="%%%"?100:xt===""?255:0;if(nn){const An=[fo(+W/nn,0,1),fo(+Ae/nn,0,1),fo(+Ke/nn,0,1),at?ai(+at,kt):1];if(ja(An))return An}}return}}const T=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[K,L,W,V,re,Ae,_e,Be,Ke]=T,Ge=[W||" ",re||" ",_e].join("");if(Ge==="  "||Ge==="  /"||Ge===",,"||Ge===",,,"){const Ze=[+L,fo(+V,0,100),fo(+Ae,0,100),Be?ai(+Be,Ke):1];if(ja(Ze))return function([at,kt,At,xt]){function nn(An){const Un=(An+at/30)%12,Cr=kt*Math.min(At,1-At);return At-Cr*Math.max(-1,Math.min(Un-3,9-Un,1))}return at=$r(at),kt/=100,At/=100,[nn(0),nn(8),nn(4),xt]}(Ze)}}}(l);return d?new Mi(...d,!1):void 0}get rgb(){const{r:l,g:d,b:y,a:M}=this,T=M||1/0;return this.overwriteGetter("rgb",[l/T,d/T,y/T,M])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,y,M,T]=Or(l),K=Math.sqrt(y*y+M*M);return[Math.round(1e4*K)?$r(Math.atan2(M,y)*lr):NaN,K,d,T]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Or(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,y,M]=this.rgb;return`rgba(${[l,d,y].map(T=>Math.round(255*T)).join(",")},${M})`}}Mi.black=new Mi(0,0,0,1),Mi.white=new Mi(1,1,1,1),Mi.transparent=new Mi(0,0,0,0),Mi.red=new Mi(1,0,0,1);class is{constructor(l,d,y){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class gi{constructor(l,d,y,M,T){this.text=l,this.image=d,this.scale=y,this.fontStack=M,this.textColor=T}}class Wn{constructor(l){this.sections=l}static fromString(l){return new Wn([new gi(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Wn?l:Wn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class ro{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ro)return l;if(typeof l=="number")return new ro([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new ro(l)}}toString(){return JSON.stringify(this.values)}}const _o=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ui{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ui)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const y=l[d],M=l[d+1];if(typeof y!="string"||!_o.has(y)||!Array.isArray(M)||M.length!==2||typeof M[0]!="number"||typeof M[1]!="number")return}return new Ui(l)}}toString(){return JSON.stringify(this.values)}}class ve{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ve({name:l,available:!1}):null}}function Je(c,l,d,y){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[c,l,d,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[c,l,d,y]:[c,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Vt(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Mi||c instanceof is||c instanceof Wn||c instanceof ro||c instanceof Ui||c instanceof ve)return!0;if(Array.isArray(c)){for(const l of c)if(!Vt(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Vt(c[l]))return!1;return!0}return!1}function sn(c){if(c===null)return It;if(typeof c=="string")return fn;if(typeof c=="boolean")return Pn;if(typeof c=="number")return Dt;if(c instanceof Mi)return On;if(c instanceof is)return Pr;if(c instanceof Wn)return nr;if(c instanceof ro)return Pe;if(c instanceof Ui)return Ce;if(c instanceof ve)return ce;if(Array.isArray(c)){const l=c.length;let d;for(const y of c){const M=sn(y);if(d){if(d===M)continue;d=Kt;break}d=M}return ke(d||Kt,l)}return m}function Lt(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof Mi||c instanceof Wn||c instanceof ro||c instanceof Ui||c instanceof ve?c.toString():JSON.stringify(c)}class wn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Vt(l[1]))return d.error("invalid value");const y=l[1];let M=sn(y);const T=d.expectedType;return M.kind!=="array"||M.N!==0||!T||T.kind!=="array"||typeof T.N=="number"&&T.N!==0||(M=T),new wn(M,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class dr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const ri={string:fn,number:Dt,boolean:Pn,object:m};class si{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let y,M=1;const T=l[0];if(T==="array"){let L,W;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in ri)||V==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);L=ri[V],M++}else L=Kt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);W=l[2],M++}y=ke(L,W)}else{if(!ri[T])throw new Error(`Types doesn't contain name = ${T}`);y=ri[T]}const K=[];for(;M<l.length;M++){const L=d.parse(l[M],M,Kt);if(!L)return null;K.push(L)}return new si(y,K)}evaluate(l){for(let d=0;d<this.args.length;d++){const y=this.args[d].evaluate(l);if(!st(this.type,sn(y)))return y;if(d===this.args.length-1)throw new dr(`Expected value to be of type ${ze(this.type)}, but found ${ze(sn(y))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Xo={"to-boolean":Pn,"to-color":On,"to-number":Dt,"to-string":fn};class Ta{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[0];if(!Xo[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&l.length!==2)return d.error("Expected one argument.");const M=Xo[y],T=[];for(let K=1;K<l.length;K++){const L=d.parse(l[K],K,Kt);if(!L)return null;T.push(L)}return new Ta(M,T)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,y;for(const M of this.args){if(d=M.evaluate(l),y=null,d instanceof Mi)return d;if(typeof d=="string"){const T=l.parseColor(d);if(T)return T}else if(Array.isArray(d)&&(y=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Je(d[0],d[1],d[2],d[3]),!y))return new Mi(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new dr(y||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const y of this.args){d=y.evaluate(l);const M=ro.parse(d);if(M)return M}throw new dr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const y of this.args){d=y.evaluate(l);const M=Ui.parse(d);if(M)return M}throw new dr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const y of this.args){if(d=y.evaluate(l),d===null)return 0;const M=Number(d);if(!isNaN(M))return M}throw new dr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Wn.fromString(Lt(this.args[0].evaluate(l)));case"resolvedImage":return ve.fromString(Lt(this.args[0].evaluate(l)));default:return Lt(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Fr=["Unknown","Point","LineString","Polygon"];class Wa{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Fr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Mi.parse(l)),d}}class yi{constructor(l,d,y=[],M,T=new Bt,K=[]){this.registry=l,this.path=y,this.key=y.map(L=>`[${L}]`).join(""),this.scope=T,this.errors=K,this.expectedType=M,this._isConstant=d}parse(l,d,y,M,T={}){return d?this.concat(d,y,M)._parse(l,T):this._parse(l,T)}_parse(l,d){function y(M,T,K){return K==="assert"?new si(T,[M]):K==="coerce"?new Ta(T,[M]):M}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const M=l[0];if(typeof M!="string")return this.error(`Expression name must be a string, but found ${typeof M} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[M];if(T){let K=T.parse(l,this);if(!K)return null;if(this.expectedType){const L=this.expectedType,W=K.type;if(L.kind!=="string"&&L.kind!=="number"&&L.kind!=="boolean"&&L.kind!=="object"&&L.kind!=="array"||W.kind!=="value")if(L.kind!=="color"&&L.kind!=="formatted"&&L.kind!=="resolvedImage"||W.kind!=="value"&&W.kind!=="string")if(L.kind!=="padding"||W.kind!=="value"&&W.kind!=="number"&&W.kind!=="array")if(L.kind!=="variableAnchorOffsetCollection"||W.kind!=="value"&&W.kind!=="array"){if(this.checkSubtype(L,W))return null}else K=y(K,L,d.typeAnnotation||"coerce");else K=y(K,L,d.typeAnnotation||"coerce");else K=y(K,L,d.typeAnnotation||"coerce");else K=y(K,L,d.typeAnnotation||"assert")}if(!(K instanceof wn)&&K.type.kind!=="resolvedImage"&&this._isConstant(K)){const L=new Wa;try{K=new wn(K.type,K.evaluate(L))}catch(W){return this.error(W.message),null}}return K}return this.error(`Unknown expression "${M}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,y){const M=typeof l=="number"?this.path.concat(l):this.path,T=y?this.scope.concat(y):this.scope;return new yi(this.registry,this._isConstant,M,d||null,T,this.errors)}error(l,...d){const y=`${this.key}${d.map(M=>`[${M}]`).join("")}`;this.errors.push(new ut(y,l))}checkSubtype(l,d){const y=st(l,d);return y&&this.error(y),y}}class Na{constructor(l,d,y){this.type=Pr,this.locale=y,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const y=l[1];if(typeof y!="object"||Array.isArray(y))return d.error("Collator options argument must be an object.");const M=d.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Pn);if(!M)return null;const T=d.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Pn);if(!T)return null;let K=null;return y.locale&&(K=d.parse(y.locale,1,fn),!K)?null:new Na(M,T,K)}evaluate(l){return new is(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Jo=8192;function Cu(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function os(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function ea(c,l){const d=(180+c[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,M=Math.pow(2,l.z);return[Math.round(d*M*Jo),Math.round(y*M*Jo)]}function ta(c,l,d){const y=c[0]-l[0],M=c[1]-l[1],T=c[0]-d[0],K=c[1]-d[1];return y*K-T*M==0&&y*T<=0&&M*K<=0}function Cs(c,l){let d=!1;for(let K=0,L=l.length;K<L;K++){const W=l[K];for(let V=0,re=W.length;V<re-1;V++){if(ta(c,W[V],W[V+1]))return!1;(M=W[V])[1]>(y=c)[1]!=(T=W[V+1])[1]>y[1]&&y[0]<(T[0]-M[0])*(y[1]-M[1])/(T[1]-M[1])+M[0]&&(d=!d)}}var y,M,T;return d}function bu(c,l){for(let d=0;d<l.length;d++)if(Cs(c,l[d]))return!0;return!1}function fa(c,l,d,y){const M=y[0]-d[0],T=y[1]-d[1],K=(c[0]-d[0])*T-M*(c[1]-d[1]),L=(l[0]-d[0])*T-M*(l[1]-d[1]);return K>0&&L<0||K<0&&L>0}function gA(c,l,d){for(const V of d)for(let re=0;re<V.length-1;++re)if((L=[(K=V[re+1])[0]-(T=V[re])[0],K[1]-T[1]])[0]*(W=[(M=l)[0]-(y=c)[0],M[1]-y[1]])[1]-L[1]*W[0]!=0&&fa(y,M,T,K)&&fa(T,K,y,M))return!0;var y,M,T,K,L,W;return!1}function ju(c,l){for(let d=0;d<c.length;++d)if(!Cs(c[d],l))return!1;for(let d=0;d<c.length-1;++d)if(gA(c[d],c[d+1],l))return!1;return!0}function yA(c,l){for(let d=0;d<l.length;d++)if(ju(c,l[d]))return!0;return!1}function xu(c,l,d){const y=[];for(let M=0;M<c.length;M++){const T=[];for(let K=0;K<c[M].length;K++){const L=ea(c[M][K],d);Cu(l,L),T.push(L)}y.push(T)}return y}function Wu(c,l,d){const y=[];for(let M=0;M<c.length;M++){const T=xu(c[M],l,d);y.push(T)}return y}function Wo(c,l,d,y){if(c[0]<d[0]||c[0]>d[2]){const M=.5*y;let T=c[0]-d[0]>M?-y:d[0]-c[0]>M?y:0;T===0&&(T=c[0]-d[2]>M?-y:d[2]-c[0]>M?y:0),c[0]+=T}Cu(l,c)}function bs(c,l,d,y){const M=Math.pow(2,y.z)*Jo,T=[y.x*Jo,y.y*Jo],K=[];for(const L of c)for(const W of L){const V=[W.x+T[0],W.y+T[1]];Wo(V,l,d,M),K.push(V)}return K}function Jl(c,l,d,y){const M=Math.pow(2,y.z)*Jo,T=[y.x*Jo,y.y*Jo],K=[];for(const W of c){const V=[];for(const re of W){const Ae=[re.x+T[0],re.y+T[1]];Cu(l,Ae),V.push(Ae)}K.push(V)}if(l[2]-l[0]<=M/2){(L=l)[0]=L[1]=1/0,L[2]=L[3]=-1/0;for(const W of K)for(const V of W)Wo(V,l,d,M)}var L;return K}class as{constructor(l,d){this.type=Pn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Vt(l[1])){const y=l[1];if(y.type==="FeatureCollection"){const M=[];for(const T of y.features){const{type:K,coordinates:L}=T.geometry;K==="Polygon"&&M.push(L),K==="MultiPolygon"&&M.push(...L)}if(M.length)return new as(y,{type:"MultiPolygon",coordinates:M})}else if(y.type==="Feature"){const M=y.geometry.type;if(M==="Polygon"||M==="MultiPolygon")return new as(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new as(y,y)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,y){const M=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const L=xu(y.coordinates,T,K),W=bs(d.geometry(),M,T,K);if(!os(M,T))return!1;for(const V of W)if(!Cs(V,L))return!1}if(y.type==="MultiPolygon"){const L=Wu(y.coordinates,T,K),W=bs(d.geometry(),M,T,K);if(!os(M,T))return!1;for(const V of W)if(!bu(V,L))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,y){const M=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],K=d.canonicalID();if(y.type==="Polygon"){const L=xu(y.coordinates,T,K),W=Jl(d.geometry(),M,T,K);if(!os(M,T))return!1;for(const V of W)if(!ju(V,L))return!1}if(y.type==="MultiPolygon"){const L=Wu(y.coordinates,T,K),W=Jl(d.geometry(),M,T,K);if(!os(M,T))return!1;for(const V of W)if(!yA(V,L))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class sl{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const y=l[1];return d.scope.has(y)?new sl(y,d.scope.get(y)):d.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class No{constructor(l,d,y,M){this.name=l,this.type=d,this._evaluate=y,this.args=M}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const y=l[0],M=No.definitions[y];if(!M)return d.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(M)?M[0]:M.type,K=Array.isArray(M)?[[M[1],M[2]]]:M.overloads,L=K.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let W=null;for(const[V,re]of L){W=new yi(d.registry,wu,d.path,null,d.scope);const Ae=[];let _e=!1;for(let Be=1;Be<l.length;Be++){const Ke=l[Be],Ge=Array.isArray(V)?V[Be-1]:V.type,Ze=W.parse(Ke,1+Ae.length,Ge);if(!Ze){_e=!0;break}Ae.push(Ze)}if(!_e)if(Array.isArray(V)&&V.length!==Ae.length)W.error(`Expected ${V.length} arguments, but found ${Ae.length} instead.`);else{for(let Be=0;Be<Ae.length;Be++){const Ke=Array.isArray(V)?V[Be]:V.type,Ge=Ae[Be];W.concat(Be+1).checkSubtype(Ke,Ge.type)}if(W.errors.length===0)return new No(y,T,re,Ae)}}if(L.length===1)d.errors.push(...W.errors);else{const V=(L.length?L:K).map(([Ae])=>{return _e=Ae,Array.isArray(_e)?`(${_e.map(ze).join(", ")})`:`(${ze(_e.type)}...)`;var _e}).join(" | "),re=[];for(let Ae=1;Ae<l.length;Ae++){const _e=d.parse(l[Ae],1+re.length);if(!_e)return null;re.push(ze(_e.type))}d.error(`Expected arguments of type ${V}, but found (${re.join(", ")}) instead.`)}return null}static register(l,d){No.definitions=d;for(const y in d)l[y]=No}}function wu(c){if(c instanceof sl)return wu(c.boundExpression);if(c instanceof No&&c.name==="error"||c instanceof Na||c instanceof as)return!1;const l=c instanceof Ta||c instanceof si;let d=!0;return c.eachChild(y=>{d=l?d&&wu(y):d&&y instanceof wn}),!!d&&ll(c)&&eu(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ll(c){if(c instanceof No&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof as)return!1;let l=!0;return c.eachChild(d=>{l&&!ll(d)&&(l=!1)}),l}function bl(c){if(c instanceof No&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(d=>{l&&!bl(d)&&(l=!1)}),l}function eu(c,l){if(c instanceof No&&l.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(y=>{d&&!eu(y,l)&&(d=!1)}),d}function sa(c,l){const d=c.length-1;let y,M,T=0,K=d,L=0;for(;T<=K;)if(L=Math.floor((T+K)/2),y=c[L],M=c[L+1],y<=l){if(L===d||l<M)return L;T=L+1}else{if(!(y>l))throw new dr("Input is not a number.");K=L-1}return 0}class ul{constructor(l,d,y){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[M,T]of y)this.labels.push(M),this.outputs.push(T)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const y=d.parse(l[1],1,Dt);if(!y)return null;const M=[];let T=null;d.expectedType&&d.expectedType.kind!=="value"&&(T=d.expectedType);for(let K=1;K<l.length;K+=2){const L=K===1?-1/0:l[K],W=l[K+1],V=K,re=K+1;if(typeof L!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(M.length&&M[M.length-1][0]>=L)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const Ae=d.parse(W,re,T);if(!Ae)return null;T=T||Ae.type,M.push([L,Ae])}return new ul(T,y,M)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const M=this.input.evaluate(l);if(M<=d[0])return y[0].evaluate(l);const T=d.length;return M>=d[T-1]?y[T-1].evaluate(l):y[sa(d,M)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function vA(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var vo=io;function io(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}io.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var M=this.sampleCurveX(d)-c;if(Math.abs(M)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=M/T}var K=0,L=1;for(d=c,y=0;y<20&&(M=this.sampleCurveX(d),!(Math.abs(M-c)<l));y++)c>M?K=d:L=d,d=.5*(L-K)+K;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var z=vA(vo);function ae(c,l,d){return c+d*(l-c)}function Ue(c,l,d){return c.map((y,M)=>ae(y,l[M],d))}const gt={number:ae,color:function(c,l,d,y="rgb"){switch(y){case"rgb":{const[M,T,K,L]=Ue(c.rgb,l.rgb,d);return new Mi(M,T,K,L,!1)}case"hcl":{const[M,T,K,L]=c.hcl,[W,V,re,Ae]=l.hcl;let _e,Be;if(isNaN(M)||isNaN(W))isNaN(M)?isNaN(W)?_e=NaN:(_e=W,K!==1&&K!==0||(Be=V)):(_e=M,re!==1&&re!==0||(Be=T));else{let kt=W-M;W>M&&kt>180?kt-=360:W<M&&M-W>180&&(kt+=360),_e=M+d*kt}const[Ke,Ge,Ze,at]=function([kt,At,xt,nn]){return kt=isNaN(kt)?0:kt*Sr,ci([xt,Math.cos(kt)*At,Math.sin(kt)*At,nn])}([_e,Be??ae(T,V,d),ae(K,re,d),ae(L,Ae,d)]);return new Mi(Ke,Ge,Ze,at,!1)}case"lab":{const[M,T,K,L]=ci(Ue(c.lab,l.lab,d));return new Mi(M,T,K,L,!1)}}},array:Ue,padding:function(c,l,d){return new ro(Ue(c.values,l.values,d))},variableAnchorOffsetCollection:function(c,l,d){const y=c.values,M=l.values;if(y.length!==M.length)throw new dr(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${l.toString()}`);const T=[];for(let K=0;K<y.length;K+=2){if(y[K]!==M[K])throw new dr(`Cannot interpolate values containing mismatched anchors. from[${K}]: ${y[K]}, to[${K}]: ${M[K]}`);T.push(y[K]);const[L,W]=y[K+1],[V,re]=M[K+1];T.push([ae(L,V,d),ae(W,re,d)])}return new Ui(T)}};class Nn{constructor(l,d,y,M,T){this.type=l,this.operator=d,this.interpolation=y,this.input=M,this.labels=[],this.outputs=[];for(const[K,L]of T)this.labels.push(K),this.outputs.push(L)}static interpolationFactor(l,d,y,M){let T=0;if(l.name==="exponential")T=vn(d,l.base,y,M);else if(l.name==="linear")T=vn(d,1,y,M);else if(l.name==="cubic-bezier"){const K=l.controlPoints;T=new z(K[0],K[1],K[2],K[3]).solve(vn(d,1,y,M))}return T}static parse(l,d){let[y,M,T,...K]=l;if(!Array.isArray(M)||M.length===0)return d.error("Expected an interpolation type expression.",1);if(M[0]==="linear")M={name:"linear"};else if(M[0]==="exponential"){const V=M[1];if(typeof V!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);M={name:"exponential",base:V}}else{if(M[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(M[0])}`,1,0);{const V=M.slice(1);if(V.length!==4||V.some(re=>typeof re!="number"||re<0||re>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);M={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(T=d.parse(T,2,Dt),!T)return null;const L=[];let W=null;y==="interpolate-hcl"||y==="interpolate-lab"?W=On:d.expectedType&&d.expectedType.kind!=="value"&&(W=d.expectedType);for(let V=0;V<K.length;V+=2){const re=K[V],Ae=K[V+1],_e=V+3,Be=V+4;if(typeof re!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',_e);if(L.length&&L[L.length-1][0]>=re)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',_e);const Ke=d.parse(Ae,Be,W);if(!Ke)return null;W=W||Ke.type,L.push([re,Ke])}return wt(W,Dt)||wt(W,On)||wt(W,Pe)||wt(W,Ce)||wt(W,ke(Dt))?new Nn(W,y,M,T,L):d.error(`Type ${ze(W)} is not interpolatable.`)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const M=this.input.evaluate(l);if(M<=d[0])return y[0].evaluate(l);const T=d.length;if(M>=d[T-1])return y[T-1].evaluate(l);const K=sa(d,M),L=Nn.interpolationFactor(this.interpolation,M,d[K],d[K+1]),W=y[K].evaluate(l),V=y[K+1].evaluate(l);switch(this.operator){case"interpolate":return gt[this.type.kind](W,V,L);case"interpolate-hcl":return gt.color(W,V,L,"hcl");case"interpolate-lab":return gt.color(W,V,L,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function vn(c,l,d,y){const M=y-d,T=c-d;return M===0?0:l===1?T/M:(Math.pow(l,T)-1)/(Math.pow(l,M)-1)}class Kn{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let y=null;const M=d.expectedType;M&&M.kind!=="value"&&(y=M);const T=[];for(const L of l.slice(1)){const W=d.parse(L,1+T.length,y,void 0,{typeAnnotation:"omit"});if(!W)return null;y=y||W.type,T.push(W)}if(!y)throw new Error("No output type");const K=M&&T.some(L=>st(M,L.type));return new Kn(K?Kt:y,T)}evaluate(l){let d,y=null,M=0;for(const T of this.args)if(M++,y=T.evaluate(l),y&&y instanceof ve&&!y.available&&(d||(d=y.name),y=null,M===this.args.length&&(y=d)),y!==null)break;return y}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Ur{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const y=[];for(let T=1;T<l.length-1;T+=2){const K=l[T];if(typeof K!="string")return d.error(`Expected string, but found ${typeof K} instead.`,T);if(/[^a-zA-Z0-9_]/.test(K))return d.error("Variable names must contain only alphanumeric characters or '_'.",T);const L=d.parse(l[T+1],T+1);if(!L)return null;y.push([K,L])}const M=d.parse(l[l.length-1],l.length-1,d.expectedType,y);return M?new Ur(y,M):null}outputDefined(){return this.result.outputDefined()}}class yr{constructor(l,d,y){this.type=l,this.index=d,this.input=y}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Dt),M=d.parse(l[2],2,ke(d.expectedType||Kt));return y&&M?new yr(M.type.itemType,y,M):null}evaluate(l){const d=this.index.evaluate(l),y=this.input.evaluate(l);if(d<0)throw new dr(`Array index out of bounds: ${d} < 0.`);if(d>=y.length)throw new dr(`Array index out of bounds: ${d} > ${y.length-1}.`);if(d!==Math.floor(d))throw new dr(`Array index must be an integer, but found ${d} instead.`);return y[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class Ir{constructor(l,d){this.type=Pn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Kt),M=d.parse(l[2],2,Kt);return y&&M?ft(y.type,[Pn,fn,Dt,It,Kt])?new Ir(y,M):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ze(y.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!y)return!1;if(!et(d,["boolean","string","number","null"]))throw new dr(`Expected first argument to be of type boolean, string, number or null, but found ${ze(sn(d))} instead.`);if(!et(y,["string","array"]))throw new dr(`Expected second argument to be of type array or string, but found ${ze(sn(y))} instead.`);return y.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class ki{constructor(l,d,y){this.type=Dt,this.needle=l,this.haystack=d,this.fromIndex=y}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Kt),M=d.parse(l[2],2,Kt);if(!y||!M)return null;if(!ft(y.type,[Pn,fn,Dt,It,Kt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ze(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Dt);return T?new ki(y,M,T):null}return new ki(y,M)}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!et(d,["boolean","string","number","null"]))throw new dr(`Expected first argument to be of type boolean, string, number or null, but found ${ze(sn(d))} instead.`);if(!et(y,["string","array"]))throw new dr(`Expected second argument to be of type array or string, but found ${ze(sn(y))} instead.`);if(this.fromIndex){const M=this.fromIndex.evaluate(l);return y.indexOf(d,M)}return y.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class po{constructor(l,d,y,M,T,K){this.inputType=l,this.type=d,this.input=y,this.cases=M,this.outputs=T,this.otherwise=K}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let y,M;d.expectedType&&d.expectedType.kind!=="value"&&(M=d.expectedType);const T={},K=[];for(let V=2;V<l.length-1;V+=2){let re=l[V];const Ae=l[V+1];Array.isArray(re)||(re=[re]);const _e=d.concat(V);if(re.length===0)return _e.error("Expected at least one branch label.");for(const Ke of re){if(typeof Ke!="number"&&typeof Ke!="string")return _e.error("Branch labels must be numbers or strings.");if(typeof Ke=="number"&&Math.abs(Ke)>Number.MAX_SAFE_INTEGER)return _e.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ke=="number"&&Math.floor(Ke)!==Ke)return _e.error("Numeric branch labels must be integer values.");if(y){if(_e.checkSubtype(y,sn(Ke)))return null}else y=sn(Ke);if(T[String(Ke)]!==void 0)return _e.error("Branch labels must be unique.");T[String(Ke)]=K.length}const Be=d.parse(Ae,V,M);if(!Be)return null;M=M||Be.type,K.push(Be)}const L=d.parse(l[1],1,Kt);if(!L)return null;const W=d.parse(l[l.length-1],l.length-1,M);return W?L.type.kind!=="value"&&d.concat(1).checkSubtype(y,L.type)?null:new po(y,M,L,T,K,W):null}evaluate(l){const d=this.input.evaluate(l);return(sn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class Si{constructor(l,d,y){this.type=l,this.branches=d,this.otherwise=y}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let y;d.expectedType&&d.expectedType.kind!=="value"&&(y=d.expectedType);const M=[];for(let K=1;K<l.length-1;K+=2){const L=d.parse(l[K],K,Pn);if(!L)return null;const W=d.parse(l[K+1],K+1,y);if(!W)return null;M.push([L,W]),y=y||W.type}const T=d.parse(l[l.length-1],l.length-1,y);if(!T)return null;if(!y)throw new Error("Can't infer output type");return new Si(y,M,T)}evaluate(l){for(const[d,y]of this.branches)if(d.evaluate(l))return y.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,y]of this.branches)l(d),l(y);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Zr{constructor(l,d,y,M){this.type=l,this.input=d,this.beginIndex=y,this.endIndex=M}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Kt),M=d.parse(l[2],2,Dt);if(!y||!M)return null;if(!ft(y.type,[ke(Kt),fn,Kt]))return d.error(`Expected first argument to be of type array or string, but found ${ze(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Dt);return T?new Zr(y.type,y,M,T):null}return new Zr(y.type,y,M)}evaluate(l){const d=this.input.evaluate(l),y=this.beginIndex.evaluate(l);if(!et(d,["string","array"]))throw new dr(`Expected first argument to be of type array or string, but found ${ze(sn(d))} instead.`);if(this.endIndex){const M=this.endIndex.evaluate(l);return d.slice(y,M)}return d.slice(y)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Hi(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Bo(c,l,d,y){return y.compare(l,d)===0}function xo(c,l,d){const y=c!=="=="&&c!=="!=";return class ZR{constructor(T,K,L){this.type=Pn,this.lhs=T,this.rhs=K,this.collator=L,this.hasUntypedArgument=T.type.kind==="value"||K.type.kind==="value"}static parse(T,K){if(T.length!==3&&T.length!==4)return K.error("Expected two or three arguments.");const L=T[0];let W=K.parse(T[1],1,Kt);if(!W)return null;if(!Hi(L,W.type))return K.concat(1).error(`"${L}" comparisons are not supported for type '${ze(W.type)}'.`);let V=K.parse(T[2],2,Kt);if(!V)return null;if(!Hi(L,V.type))return K.concat(2).error(`"${L}" comparisons are not supported for type '${ze(V.type)}'.`);if(W.type.kind!==V.type.kind&&W.type.kind!=="value"&&V.type.kind!=="value")return K.error(`Cannot compare types '${ze(W.type)}' and '${ze(V.type)}'.`);y&&(W.type.kind==="value"&&V.type.kind!=="value"?W=new si(V.type,[W]):W.type.kind!=="value"&&V.type.kind==="value"&&(V=new si(W.type,[V])));let re=null;if(T.length===4){if(W.type.kind!=="string"&&V.type.kind!=="string"&&W.type.kind!=="value"&&V.type.kind!=="value")return K.error("Cannot use collator to compare non-string types.");if(re=K.parse(T[3],3,Pr),!re)return null}return new ZR(W,V,re)}evaluate(T){const K=this.lhs.evaluate(T),L=this.rhs.evaluate(T);if(y&&this.hasUntypedArgument){const W=sn(K),V=sn(L);if(W.kind!==V.kind||W.kind!=="string"&&W.kind!=="number")throw new dr(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${W.kind}, ${V.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const W=sn(K),V=sn(L);if(W.kind!=="string"||V.kind!=="string")return l(T,K,L)}return this.collator?d(T,K,L,this.collator.evaluate(T)):l(T,K,L)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const Ga=xo("==",function(c,l,d){return l===d},Bo),Pl=xo("!=",function(c,l,d){return l!==d},function(c,l,d,y){return!Bo(0,l,d,y)}),tu=xo("<",function(c,l,d){return l<d},function(c,l,d,y){return y.compare(l,d)<0}),pa=xo(">",function(c,l,d){return l>d},function(c,l,d,y){return y.compare(l,d)>0}),p0=xo("<=",function(c,l,d){return l<=d},function(c,l,d,y){return y.compare(l,d)<=0}),nu=xo(">=",function(c,l,d){return l>=d},function(c,l,d,y){return y.compare(l,d)>=0});class Kh{constructor(l,d,y,M,T){this.type=fn,this.number=l,this.locale=d,this.currency=y,this.minFractionDigits=M,this.maxFractionDigits=T}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const y=d.parse(l[1],1,Dt);if(!y)return null;const M=l[2];if(typeof M!="object"||Array.isArray(M))return d.error("NumberFormat options argument must be an object.");let T=null;if(M.locale&&(T=d.parse(M.locale,1,fn),!T))return null;let K=null;if(M.currency&&(K=d.parse(M.currency,1,fn),!K))return null;let L=null;if(M["min-fraction-digits"]&&(L=d.parse(M["min-fraction-digits"],1,Dt),!L))return null;let W=null;return M["max-fraction-digits"]&&(W=d.parse(M["max-fraction-digits"],1,Dt),!W)?null:new Kh(y,T,K,L,W)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class rd{constructor(l){this.type=nr,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[1];if(!Array.isArray(y)&&typeof y=="object")return d.error("First argument must be an image or text section.");const M=[];let T=!1;for(let K=1;K<=l.length-1;++K){const L=l[K];if(T&&typeof L=="object"&&!Array.isArray(L)){T=!1;let W=null;if(L["font-scale"]&&(W=d.parse(L["font-scale"],1,Dt),!W))return null;let V=null;if(L["text-font"]&&(V=d.parse(L["text-font"],1,ke(fn)),!V))return null;let re=null;if(L["text-color"]&&(re=d.parse(L["text-color"],1,On),!re))return null;const Ae=M[M.length-1];Ae.scale=W,Ae.font=V,Ae.textColor=re}else{const W=d.parse(l[K],1,Kt);if(!W)return null;const V=W.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,M.push({content:W,scale:null,font:null,textColor:null})}}return new rd(M)}evaluate(l){return new Wn(this.sections.map(d=>{const y=d.content.evaluate(l);return sn(y)===ce?new gi("",y,null,null,null):new gi(Lt(y),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class Nu{constructor(l){this.type=ce,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const y=d.parse(l[1],1,fn);return y?new Nu(y):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),y=ve.fromString(d);return y&&l.availableImages&&(y.available=l.availableImages.indexOf(d)>-1),y}eachChild(l){l(this.input)}outputDefined(){return!1}}class id{constructor(l){this.type=Dt,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const y=d.parse(l[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${ze(y.type)} instead.`):new id(y):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new dr(`Expected value to be of type string or array, but found ${ze(sn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const NA={"==":Ga,"!=":Pl,">":pa,"<":tu,">=":nu,"<=":p0,array:si,at:yr,boolean:si,case:Si,coalesce:Kn,collator:Na,format:rd,image:Nu,in:Ir,"index-of":ki,interpolate:Nn,"interpolate-hcl":Nn,"interpolate-lab":Nn,length:id,let:Ur,literal:wn,match:po,number:si,"number-format":Kh,object:si,slice:Zr,step:ul,string:si,"to-boolean":Ta,"to-color":Ta,"to-number":Ta,"to-string":Ta,var:sl,within:as};function na(c,[l,d,y,M]){l=l.evaluate(c),d=d.evaluate(c),y=y.evaluate(c);const T=M?M.evaluate(c):1,K=Je(l,d,y,T);if(K)throw new dr(K);return new Mi(l/255,d/255,y/255,T,!1)}function Gu(c,l){return c in l}function Gd(c,l){const d=l[c];return d===void 0?null:d}function GA(c){return{type:c}}function Ec(c){return{result:"success",value:c}}function Mu(c){return{result:"error",value:c}}function od(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function Hp(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function Ph(c){return!!c.expression&&c.expression.interpolated}function Ii(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function ko(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function m0(c){return c}function Fh(c,l){const d=l.type==="color",y=c.stops&&typeof c.stops[0][0]=="object",M=y||!(y||c.property!==void 0),T=c.type||(Ph(l)?"exponential":"interval");if(d||l.type==="padding"){const re=d?Mi.parse:ro.parse;(c=Te({},c)).stops&&(c.stops=c.stops.map(Ae=>[Ae[0],re(Ae[1])])),c.default=re(c.default?c.default:l.default)}if(c.colorSpace&&(K=c.colorSpace)!=="rgb"&&K!=="hcl"&&K!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var K;let L,W,V;if(T==="exponential")L=Yf;else if(T==="interval")L=la;else if(T==="categorical"){L=$f,W=Object.create(null);for(const re of c.stops)W[re[0]]=re[1];V=typeof c.stops[0][0]}else{if(T!=="identity")throw new Error(`Unknown function type "${T}"`);L=Wi}if(y){const re={},Ae=[];for(let Ke=0;Ke<c.stops.length;Ke++){const Ge=c.stops[Ke],Ze=Ge[0].zoom;re[Ze]===void 0&&(re[Ze]={zoom:Ze,type:c.type,property:c.property,default:c.default,stops:[]},Ae.push(Ze)),re[Ze].stops.push([Ge[0].value,Ge[1]])}const _e=[];for(const Ke of Ae)_e.push([re[Ke].zoom,Fh(re[Ke],l)]);const Be={name:"linear"};return{kind:"composite",interpolationType:Be,interpolationFactor:Nn.interpolationFactor.bind(void 0,Be),zoomStops:_e.map(Ke=>Ke[0]),evaluate:({zoom:Ke},Ge)=>Yf({stops:_e,base:c.base},l,Ke).evaluate(Ke,Ge)}}if(M){const re=T==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:re,interpolationFactor:Nn.interpolationFactor.bind(void 0,re),zoomStops:c.stops.map(Ae=>Ae[0]),evaluate:({zoom:Ae})=>L(c,l,Ae,W,V)}}return{kind:"source",evaluate(re,Ae){const _e=Ae&&Ae.properties?Ae.properties[c.property]:void 0;return _e===void 0?Qu(c.default,l.default):L(c,l,_e,W,V)}}}function Qu(c,l,d){return c!==void 0?c:l!==void 0?l:d!==void 0?d:void 0}function $f(c,l,d,y,M){return Qu(typeof d===M?y[d]:void 0,c.default,l.default)}function la(c,l,d){if(Ii(d)!=="number")return Qu(c.default,l.default);const y=c.stops.length;if(y===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[y-1][0])return c.stops[y-1][1];const M=sa(c.stops.map(T=>T[0]),d);return c.stops[M][1]}function Yf(c,l,d){const y=c.base!==void 0?c.base:1;if(Ii(d)!=="number")return Qu(c.default,l.default);const M=c.stops.length;if(M===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[M-1][0])return c.stops[M-1][1];const T=sa(c.stops.map(re=>re[0]),d),K=function(re,Ae,_e,Be){const Ke=Be-_e,Ge=re-_e;return Ke===0?0:Ae===1?Ge/Ke:(Math.pow(Ae,Ge)-1)/(Math.pow(Ae,Ke)-1)}(d,y,c.stops[T][0],c.stops[T+1][0]),L=c.stops[T][1],W=c.stops[T+1][1],V=gt[l.type]||m0;return typeof L.evaluate=="function"?{evaluate(...re){const Ae=L.evaluate.apply(void 0,re),_e=W.evaluate.apply(void 0,re);if(Ae!==void 0&&_e!==void 0)return V(Ae,_e,K,c.colorSpace)}}:V(L,W,K,c.colorSpace)}function Wi(c,l,d){switch(l.type){case"color":d=Mi.parse(d);break;case"formatted":d=Wn.fromString(d.toString());break;case"resolvedImage":d=ve.fromString(d.toString());break;case"padding":d=ro.parse(d);break;default:Ii(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return Qu(d,c.default,l.default)}No.register(NA,{error:[{kind:"error"},[fn],(c,[l])=>{throw new dr(l.evaluate(c))}],typeof:[fn,[Kt],(c,[l])=>ze(sn(l.evaluate(c)))],"to-rgba":[ke(Dt,4),[On],(c,[l])=>{const[d,y,M,T]=l.evaluate(c).rgb;return[255*d,255*y,255*M,T]}],rgb:[On,[Dt,Dt,Dt],na],rgba:[On,[Dt,Dt,Dt,Dt],na],has:{type:Pn,overloads:[[[fn],(c,[l])=>Gu(l.evaluate(c),c.properties())],[[fn,m],(c,[l,d])=>Gu(l.evaluate(c),d.evaluate(c))]]},get:{type:Kt,overloads:[[[fn],(c,[l])=>Gd(l.evaluate(c),c.properties())],[[fn,m],(c,[l,d])=>Gd(l.evaluate(c),d.evaluate(c))]]},"feature-state":[Kt,[fn],(c,[l])=>Gd(l.evaluate(c),c.featureState||{})],properties:[m,[],c=>c.properties()],"geometry-type":[fn,[],c=>c.geometryType()],id:[Kt,[],c=>c.id()],zoom:[Dt,[],c=>c.globals.zoom],"heatmap-density":[Dt,[],c=>c.globals.heatmapDensity||0],"line-progress":[Dt,[],c=>c.globals.lineProgress||0],accumulated:[Kt,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Dt,GA(Dt),(c,l)=>{let d=0;for(const y of l)d+=y.evaluate(c);return d}],"*":[Dt,GA(Dt),(c,l)=>{let d=1;for(const y of l)d*=y.evaluate(c);return d}],"-":{type:Dt,overloads:[[[Dt,Dt],(c,[l,d])=>l.evaluate(c)-d.evaluate(c)],[[Dt],(c,[l])=>-l.evaluate(c)]]},"/":[Dt,[Dt,Dt],(c,[l,d])=>l.evaluate(c)/d.evaluate(c)],"%":[Dt,[Dt,Dt],(c,[l,d])=>l.evaluate(c)%d.evaluate(c)],ln2:[Dt,[],()=>Math.LN2],pi:[Dt,[],()=>Math.PI],e:[Dt,[],()=>Math.E],"^":[Dt,[Dt,Dt],(c,[l,d])=>Math.pow(l.evaluate(c),d.evaluate(c))],sqrt:[Dt,[Dt],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[Dt,[Dt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[Dt,[Dt],(c,[l])=>Math.log(l.evaluate(c))],log2:[Dt,[Dt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[Dt,[Dt],(c,[l])=>Math.sin(l.evaluate(c))],cos:[Dt,[Dt],(c,[l])=>Math.cos(l.evaluate(c))],tan:[Dt,[Dt],(c,[l])=>Math.tan(l.evaluate(c))],asin:[Dt,[Dt],(c,[l])=>Math.asin(l.evaluate(c))],acos:[Dt,[Dt],(c,[l])=>Math.acos(l.evaluate(c))],atan:[Dt,[Dt],(c,[l])=>Math.atan(l.evaluate(c))],min:[Dt,GA(Dt),(c,l)=>Math.min(...l.map(d=>d.evaluate(c)))],max:[Dt,GA(Dt),(c,l)=>Math.max(...l.map(d=>d.evaluate(c)))],abs:[Dt,[Dt],(c,[l])=>Math.abs(l.evaluate(c))],round:[Dt,[Dt],(c,[l])=>{const d=l.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[Dt,[Dt],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[Dt,[Dt],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Pn,[fn,Kt],(c,[l,d])=>c.properties()[l.value]===d.value],"filter-id-==":[Pn,[Kt],(c,[l])=>c.id()===l.value],"filter-type-==":[Pn,[fn],(c,[l])=>c.geometryType()===l.value],"filter-<":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y<M}],"filter-id-<":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<y}],"filter->":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y>M}],"filter-id->":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>y}],"filter-<=":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y<=M}],"filter-id-<=":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<=y}],"filter->=":[Pn,[fn,Kt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y>=M}],"filter-id->=":[Pn,[Kt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>=y}],"filter-has":[Pn,[Kt],(c,[l])=>l.value in c.properties()],"filter-has-id":[Pn,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Pn,[ke(fn)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Pn,[ke(Kt)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Pn,[fn,ke(Kt)],(c,[l,d])=>d.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Pn,[fn,ke(Kt)],(c,[l,d])=>function(y,M,T,K){for(;T<=K;){const L=T+K>>1;if(M[L]===y)return!0;M[L]>y?K=L-1:T=L+1}return!1}(c.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Pn,overloads:[[[Pn,Pn],(c,[l,d])=>l.evaluate(c)&&d.evaluate(c)],[GA(Pn),(c,l)=>{for(const d of l)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Pn,overloads:[[[Pn,Pn],(c,[l,d])=>l.evaluate(c)||d.evaluate(c)],[GA(Pn),(c,l)=>{for(const d of l)if(d.evaluate(c))return!0;return!1}]]},"!":[Pn,[Pn],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Pn,[fn],(c,[l])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(l.evaluate(c))}],upcase:[fn,[fn],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[fn,[fn],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[fn,GA(Kt),(c,l)=>l.map(d=>Lt(d.evaluate(c))).join("")],"resolved-locale":[fn,[Pr],(c,[l])=>l.evaluate(c).resolvedLocale()]});class QA{constructor(l,d){var y;this.expression=l,this._warningHistory={},this._evaluator=new Wa,this._defaultValue=d?(y=d).type==="color"&&ko(y.default)?new Mi(0,0,0,0):y.type==="color"?Mi.parse(y.default)||null:y.type==="padding"?ro.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?Ui.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,y,M,T,K){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=y,this._evaluator.canonical=M,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K,this.expression.evaluate(this._evaluator)}evaluate(l,d,y,M,T,K){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=y||null,this._evaluator.canonical=M,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=K||null;try{const L=this.expression.evaluate(this._evaluator);if(L==null||typeof L=="number"&&L!=L)return this._defaultValue;if(this._enumValues&&!(L in this._enumValues))throw new dr(`Expected value to be one of ${Object.keys(this._enumValues).map(W=>JSON.stringify(W)).join(", ")}, but found ${JSON.stringify(L)} instead.`);return L}catch(L){return this._warningHistory[L.message]||(this._warningHistory[L.message]=!0,typeof console<"u"&&console.warn(L.message)),this._defaultValue}}}function Io(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in NA}function Do(c,l){const d=new yi(NA,wu,[],l?function(M){const T={color:On,string:fn,number:Dt,enum:fn,boolean:Pn,formatted:nr,padding:Pe,resolvedImage:ce,variableAnchorOffsetCollection:Ce};return M.type==="array"?ke(T[M.value]||Kt,M.length):T[M.type]}(l):void 0),y=d.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Ec(new QA(y,l)):Mu(d.errors)}class $A{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!bl(d.expression)}evaluateWithoutErrorHandling(l,d,y,M,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,M,T,K)}evaluate(l,d,y,M,T,K){return this._styleExpression.evaluate(l,d,y,M,T,K)}}class Ls{constructor(l,d,y,M){this.kind=l,this.zoomStops=y,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!bl(d.expression),this.interpolationType=M}evaluateWithoutErrorHandling(l,d,y,M,T,K){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,M,T,K)}evaluate(l,d,y,M,T,K){return this._styleExpression.evaluate(l,d,y,M,T,K)}interpolationFactor(l,d,y){return this.interpolationType?Nn.interpolationFactor(this.interpolationType,l,d,y):0}}function Dh(c,l){const d=Do(c,l);if(d.result==="error")return d;const y=d.value.expression,M=ll(y);if(!M&&!od(l))return Mu([new ut("","data expressions not supported")]);const T=eu(y,["zoom"]);if(!T&&!Hp(l))return Mu([new ut("","zoom expressions not supported")]);const K=Fl(y);return K||T?K instanceof ut?Mu([K]):K instanceof Nn&&!Ph(l)?Mu([new ut("",'"interpolate" expressions cannot be used with this property')]):Ec(K?new Ls(M?"camera":"composite",d.value,K.labels,K instanceof Nn?K.interpolation:void 0):new $A(M?"constant":"source",d.value)):Mu([new ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ru{constructor(l,d){this._parameters=l,this._specification=d,Te(this,Fh(this._parameters,this._specification))}static deserialize(l){return new ru(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Fl(c){let l=null;if(c instanceof Ur)l=Fl(c.result);else if(c instanceof Kn){for(const d of c.args)if(l=Fl(d),l)break}else(c instanceof ul||c instanceof Nn)&&c.input instanceof No&&c.input.name==="zoom"&&(l=c);return l instanceof ut||c.eachChild(d=>{const y=Fl(d);y instanceof ut?l=y:!l&&y?l=new ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&y&&l!==y&&(l=new ut("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Oc(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!Oc(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Lh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Qd(c){if(c==null)return{filter:()=>!0,needGeometry:!1};Oc(c)||(c=YA(c));const l=Do(c,Lh);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,y,M)=>l.value.evaluate(d,y,{},M),needGeometry:_A(c)}}function Su(c,l){return c<l?-1:c>l?1:0}function _A(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(_A(c[l]))return!0;return!1}function YA(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?qA(c[1],c[2],"=="):l==="!="?Bc(qA(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?qA(c[1],c[2],l):l==="any"?(d=c.slice(1),["any"].concat(d.map(YA))):l==="all"?["all"].concat(c.slice(1).map(YA)):l==="none"?["all"].concat(c.slice(1).map(YA).map(Bc)):l==="in"?qf(c[1],c.slice(2)):l==="!in"?Bc(qf(c[1],c.slice(2))):l==="has"?Vp(c[1]):l==="!has"?Bc(Vp(c[1])):l!=="within"||c;var d}function qA(c,l,d){switch(c){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,c,l]}}function qf(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",c,["literal",l.sort(Su)]]:["filter-in-small",c,["literal",l]]}}function Vp(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Bc(c){return["!",c]}function ad(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let M="[";for(const T of c)M+=`${ad(T)},`;return`${M}]`}const d=Object.keys(c).sort();let y="{";for(let M=0;M<d.length;M++)y+=`${JSON.stringify(d[M])}:${ad(c[d[M]])},`;return`${y}}`}function Dl(c){let l="";for(const d of ir)l+=`/${ad(c[d])}`;return l}function xl(c){const l=c.value;return l?[new Y(c.key,l,"constants have been deprecated as of v8")]:[]}function ma(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function CA(c){if(Array.isArray(c))return c.map(CA);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const d in c)l[d]=CA(c[d]);return l}return ma(c)}function Ll(c){const l=c.key,d=c.value,y=c.valueSpec||{},M=c.objectElementValidators||{},T=c.style,K=c.styleSpec,L=c.validateSpec;let W=[];const V=Ii(d);if(V!=="object")return[new Y(l,d,`object expected, ${V} found`)];for(const re in d){const Ae=re.split(".")[0],_e=y[Ae]||y["*"];let Be;if(M[Ae])Be=M[Ae];else if(y[Ae])Be=L;else if(M["*"])Be=M["*"];else{if(!y["*"]){W.push(new Y(l,d[re],`unknown property "${re}"`));continue}Be=L}W=W.concat(Be({key:(l&&`${l}.`)+re,value:d[re],valueSpec:_e,style:T,styleSpec:K,object:d,objectKey:re,validateSpec:L},d))}for(const re in y)M[re]||y[re].required&&y[re].default===void 0&&d[re]===void 0&&W.push(new Y(l,d,`missing required property "${re}"`));return W}function Eu(c){const l=c.value,d=c.valueSpec,y=c.style,M=c.styleSpec,T=c.key,K=c.arrayElementValidator||c.validateSpec;if(Ii(l)!=="array")return[new Y(T,l,`array expected, ${Ii(l)} found`)];if(d.length&&l.length!==d.length)return[new Y(T,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new Y(T,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let L={type:d.value,values:d.values};M.$version<7&&(L.function=d.function),Ii(d.value)==="object"&&(L=d.value);let W=[];for(let V=0;V<l.length;V++)W=W.concat(K({array:l,arrayIndex:V,value:l[V],valueSpec:L,validateSpec:c.validateSpec,style:y,styleSpec:M,key:`${T}[${V}]`}));return W}function Ul(c){const l=c.key,d=c.value,y=c.valueSpec;let M=Ii(d);return M==="number"&&d!=d&&(M="NaN"),M!=="number"?[new Y(l,d,`number expected, ${M} found`)]:"minimum"in y&&d<y.minimum?[new Y(l,d,`${d} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&d>y.maximum?[new Y(l,d,`${d} is greater than the maximum value ${y.maximum}`)]:[]}function $d(c){const l=c.valueSpec,d=ma(c.value.type);let y,M,T,K={};const L=d!=="categorical"&&c.value.property===void 0,W=!L,V=Ii(c.value.stops)==="array"&&Ii(c.value.stops[0])==="array"&&Ii(c.value.stops[0][0])==="object",re=Ll({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(Be){if(d==="identity")return[new Y(Be.key,Be.value,'identity function may not have a "stops" property')];let Ke=[];const Ge=Be.value;return Ke=Ke.concat(Eu({key:Be.key,value:Ge,valueSpec:Be.valueSpec,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec,arrayElementValidator:Ae})),Ii(Ge)==="array"&&Ge.length===0&&Ke.push(new Y(Be.key,Ge,"array must have at least one stop")),Ke},default:function(Be){return Be.validateSpec({key:Be.key,value:Be.value,valueSpec:l,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec})}}});return d==="identity"&&L&&re.push(new Y(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||re.push(new Y(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!Ph(c.valueSpec)&&re.push(new Y(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(W&&!od(c.valueSpec)?re.push(new Y(c.key,c.value,"property functions not supported")):L&&!Hp(c.valueSpec)&&re.push(new Y(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!V||c.value.property!==void 0||re.push(new Y(c.key,c.value,'"property" property is required')),re;function Ae(Be){let Ke=[];const Ge=Be.value,Ze=Be.key;if(Ii(Ge)!=="array")return[new Y(Ze,Ge,`array expected, ${Ii(Ge)} found`)];if(Ge.length!==2)return[new Y(Ze,Ge,`array length 2 expected, length ${Ge.length} found`)];if(V){if(Ii(Ge[0])!=="object")return[new Y(Ze,Ge,`object expected, ${Ii(Ge[0])} found`)];if(Ge[0].zoom===void 0)return[new Y(Ze,Ge,"object stop key must have zoom")];if(Ge[0].value===void 0)return[new Y(Ze,Ge,"object stop key must have value")];if(T&&T>ma(Ge[0].zoom))return[new Y(Ze,Ge[0].zoom,"stop zoom values must appear in ascending order")];ma(Ge[0].zoom)!==T&&(T=ma(Ge[0].zoom),M=void 0,K={}),Ke=Ke.concat(Ll({key:`${Ze}[0]`,value:Ge[0],valueSpec:{zoom:{}},validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec,objectElementValidators:{zoom:Ul,value:_e}}))}else Ke=Ke.concat(_e({key:`${Ze}[0]`,value:Ge[0],valueSpec:{},validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec},Ge));return Io(CA(Ge[1]))?Ke.concat([new Y(`${Ze}[1]`,Ge[1],"expressions are not allowed in function stops.")]):Ke.concat(Be.validateSpec({key:`${Ze}[1]`,value:Ge[1],valueSpec:l,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec}))}function _e(Be,Ke){const Ge=Ii(Be.value),Ze=ma(Be.value),at=Be.value!==null?Be.value:Ke;if(y){if(Ge!==y)return[new Y(Be.key,at,`${Ge} stop domain type must match previous stop domain type ${y}`)]}else y=Ge;if(Ge!=="number"&&Ge!=="string"&&Ge!=="boolean")return[new Y(Be.key,at,"stop domain value must be a number, string, or boolean")];if(Ge!=="number"&&d!=="categorical"){let kt=`number expected, ${Ge} found`;return od(l)&&d===void 0&&(kt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Y(Be.key,at,kt)]}return d!=="categorical"||Ge!=="number"||isFinite(Ze)&&Math.floor(Ze)===Ze?d!=="categorical"&&Ge==="number"&&M!==void 0&&Ze<M?[new Y(Be.key,at,"stop domain values must appear in ascending order")]:(M=Ze,d==="categorical"&&Ze in K?[new Y(Be.key,at,"stop domain values must be unique")]:(K[Ze]=!0,[])):[new Y(Be.key,at,`integer expected, found ${Ze}`)]}}function kc(c){const l=(c.expressionContext==="property"?Dh:Do)(CA(c.value),c.valueSpec);if(l.result==="error")return l.value.map(y=>new Y(`${c.key}${y.key}`,c.value,y.message));const d=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new Y(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!bl(d))return[new Y(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!bl(d))return[new Y(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!eu(d,["zoom","feature-state"]))return[new Y(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!ll(d))return[new Y(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ou(c){const l=c.key,d=c.value,y=c.valueSpec,M=[];return Array.isArray(y.values)?y.values.indexOf(ma(d))===-1&&M.push(new Y(l,d,`expected one of [${y.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(y.values).indexOf(ma(d))===-1&&M.push(new Y(l,d,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(d)} found`)),M}function Ic(c){return Oc(CA(c.value))?kc(Te({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):sd(c)}function sd(c){const l=c.value,d=c.key;if(Ii(l)!=="array")return[new Y(d,l,`array expected, ${Ii(l)} found`)];const y=c.styleSpec;let M,T=[];if(l.length<1)return[new Y(d,l,"filter array must have at least 1 element")];switch(T=T.concat(Ou({key:`${d}[0]`,value:l[0],valueSpec:y.filter_operator,style:c.style,styleSpec:c.styleSpec})),ma(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&ma(l[1])==="$type"&&T.push(new Y(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&T.push(new Y(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(M=Ii(l[1]),M!=="string"&&T.push(new Y(`${d}[1]`,l[1],`string expected, ${M} found`)));for(let K=2;K<l.length;K++)M=Ii(l[K]),ma(l[1])==="$type"?T=T.concat(Ou({key:`${d}[${K}]`,value:l[K],valueSpec:y.geometry_type,style:c.style,styleSpec:c.styleSpec})):M!=="string"&&M!=="number"&&M!=="boolean"&&T.push(new Y(`${d}[${K}]`,l[K],`string, number, or boolean expected, ${M} found`));break;case"any":case"all":case"none":for(let K=1;K<l.length;K++)T=T.concat(sd({key:`${d}[${K}]`,value:l[K],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":M=Ii(l[1]),l.length!==2?T.push(new Y(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):M!=="string"&&T.push(new Y(`${d}[1]`,l[1],`string expected, ${M} found`));break;case"within":M=Ii(l[1]),l.length!==2?T.push(new Y(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):M!=="object"&&T.push(new Y(`${d}[1]`,l[1],`object expected, ${M} found`))}return T}function Yd(c,l){const d=c.key,y=c.validateSpec,M=c.style,T=c.styleSpec,K=c.value,L=c.objectKey,W=T[`${l}_${c.layerType}`];if(!W)return[];const V=L.match(/^(.*)-transition$/);if(l==="paint"&&V&&W[V[1]]&&W[V[1]].transition)return y({key:d,value:K,valueSpec:T.transition,style:M,styleSpec:T});const re=c.valueSpec||W[L];if(!re)return[new Y(d,K,`unknown property "${L}"`)];let Ae;if(Ii(K)==="string"&&od(re)&&!re.tokens&&(Ae=/^{([^}]+)}$/.exec(K)))return[new Y(d,K,`"${L}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ae[1])} }\`.`)];const _e=[];return c.layerType==="symbol"&&(L==="text-field"&&M&&!M.glyphs&&_e.push(new Y(d,K,'use of "text-field" requires a style "glyphs" property')),L==="text-font"&&ko(CA(K))&&ma(K.type)==="identity"&&_e.push(new Y(d,K,'"text-font" does not support identity functions'))),_e.concat(y({key:c.key,value:K,valueSpec:re,style:M,styleSpec:T,expressionContext:"property",propertyType:l,propertyKey:L}))}function iu(c){return Yd(c,"paint")}function Et(c){return Yd(c,"layout")}function an(c){let l=[];const d=c.value,y=c.key,M=c.style,T=c.styleSpec;d.type||d.ref||l.push(new Y(y,d,'either "type" or "ref" is required'));let K=ma(d.type);const L=ma(d.ref);if(d.id){const W=ma(d.id);for(let V=0;V<c.arrayIndex;V++){const re=M.layers[V];ma(re.id)===W&&l.push(new Y(y,d.id,`duplicate layer id "${d.id}", previously used at line ${re.id.__line__}`))}}if("ref"in d){let W;["type","source","source-layer","filter","layout"].forEach(V=>{V in d&&l.push(new Y(y,d[V],`"${V}" is prohibited for ref layers`))}),M.layers.forEach(V=>{ma(V.id)===L&&(W=V)}),W?W.ref?l.push(new Y(y,d.ref,"ref cannot reference another ref layer")):K=ma(W.type):l.push(new Y(y,d.ref,`ref layer "${L}" not found`))}else if(K!=="background")if(d.source){const W=M.sources&&M.sources[d.source],V=W&&ma(W.type);W?V==="vector"&&K==="raster"?l.push(new Y(y,d.source,`layer "${d.id}" requires a raster source`)):V!=="raster-dem"&&K==="hillshade"?l.push(new Y(y,d.source,`layer "${d.id}" requires a raster-dem source`)):V==="raster"&&K!=="raster"?l.push(new Y(y,d.source,`layer "${d.id}" requires a vector source`)):V!=="vector"||d["source-layer"]?V==="raster-dem"&&K!=="hillshade"?l.push(new Y(y,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):K!=="line"||!d.paint||!d.paint["line-gradient"]||V==="geojson"&&W.lineMetrics||l.push(new Y(y,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Y(y,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new Y(y,d.source,`source "${d.source}" not found`))}else l.push(new Y(y,d,'missing required property "source"'));return l=l.concat(Ll({key:y,value:d,valueSpec:T.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${y}.type`,value:d.type,valueSpec:T.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:d,objectKey:"type"}),filter:Ic,layout:W=>Ll({layer:d,key:W.key,value:W.value,style:W.style,styleSpec:W.styleSpec,validateSpec:W.validateSpec,objectElementValidators:{"*":V=>Et(Te({layerType:K},V))}}),paint:W=>Ll({layer:d,key:W.key,value:W.value,style:W.style,styleSpec:W.styleSpec,validateSpec:W.validateSpec,objectElementValidators:{"*":V=>iu(Te({layerType:K},V))}})}})),l}function jt(c){const l=c.value,d=c.key,y=Ii(l);return y!=="string"?[new Y(d,l,`string expected, ${y} found`)]:[]}const hr={promoteId:function({key:c,value:l}){if(Ii(l)==="string")return jt({key:c,value:l});{const d=[];for(const y in l)d.push(...jt({key:`${c}.${y}`,value:l[y]}));return d}}};function li(c){const l=c.value,d=c.key,y=c.styleSpec,M=c.style,T=c.validateSpec;if(!l.type)return[new Y(d,l,'"type" is required')];const K=ma(l.type);let L;switch(K){case"vector":case"raster":return L=Ll({key:d,value:l,valueSpec:y[`source_${K.replace("-","_")}`],style:c.style,styleSpec:y,objectElementValidators:hr,validateSpec:T}),L;case"raster-dem":return L=function(W){var V;const re=(V=W.sourceName)!==null&&V!==void 0?V:"",Ae=W.value,_e=W.styleSpec,Be=_e.source_raster_dem,Ke=W.style;let Ge=[];const Ze=Ii(Ae);if(Ae===void 0)return Ge;if(Ze!=="object")return Ge.push(new Y("source_raster_dem",Ae,`object expected, ${Ze} found`)),Ge;const at=ma(Ae.encoding)==="custom",kt=["redFactor","greenFactor","blueFactor","baseShift"],At=W.value.encoding?`"${W.value.encoding}"`:"Default";for(const xt in Ae)!at&&kt.includes(xt)?Ge.push(new Y(xt,Ae[xt],`In "${re}": "${xt}" is only valid when "encoding" is set to "custom". ${At} encoding found`)):Be[xt]?Ge=Ge.concat(W.validateSpec({key:xt,value:Ae[xt],valueSpec:Be[xt],validateSpec:W.validateSpec,style:Ke,styleSpec:_e})):Ge.push(new Y(xt,Ae[xt],`unknown property "${xt}"`));return Ge}({sourceName:d,value:l,style:c.style,styleSpec:y,validateSpec:T}),L;case"geojson":if(L=Ll({key:d,value:l,valueSpec:y.source_geojson,style:M,styleSpec:y,validateSpec:T,objectElementValidators:hr}),l.cluster)for(const W in l.clusterProperties){const[V,re]=l.clusterProperties[W],Ae=typeof V=="string"?[V,["accumulated"],["get",W]]:V;L.push(...kc({key:`${d}.${W}.map`,value:re,validateSpec:T,expressionContext:"cluster-map"})),L.push(...kc({key:`${d}.${W}.reduce`,value:Ae,validateSpec:T,expressionContext:"cluster-reduce"}))}return L;case"video":return Ll({key:d,value:l,valueSpec:y.source_video,style:M,validateSpec:T,styleSpec:y});case"image":return Ll({key:d,value:l,valueSpec:y.source_image,style:M,validateSpec:T,styleSpec:y});case"canvas":return[new Y(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ou({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:M,validateSpec:T,styleSpec:y})}}function oo(c){const l=c.value,d=c.styleSpec,y=d.light,M=c.style;let T=[];const K=Ii(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new Y("light",l,`object expected, ${K} found`)]),T;for(const L in l){const W=L.match(/^(.*)-transition$/);T=T.concat(W&&y[W[1]]&&y[W[1]].transition?c.validateSpec({key:L,value:l[L],valueSpec:d.transition,validateSpec:c.validateSpec,style:M,styleSpec:d}):y[L]?c.validateSpec({key:L,value:l[L],valueSpec:y[L],validateSpec:c.validateSpec,style:M,styleSpec:d}):[new Y(L,l[L],`unknown property "${L}"`)])}return T}function Ka(c){const l=c.value,d=c.styleSpec,y=d.sky,M=c.style,T=Ii(l);if(l===void 0)return[];if(T!=="object")return[new Y("sky",l,`object expected, ${T} found`)];let K=[];for(const L in l)K=K.concat(y[L]?Ko({key:L,value:l[L],valueSpec:y[L],style:M,styleSpec:d}):[new Y(L,l[L],`unknown property "${L}"`)]);return K}function To(c){const l=c.value,d=c.styleSpec,y=d.terrain,M=c.style;let T=[];const K=Ii(l);if(l===void 0)return T;if(K!=="object")return T=T.concat([new Y("terrain",l,`object expected, ${K} found`)]),T;for(const L in l)T=T.concat(y[L]?c.validateSpec({key:L,value:l[L],valueSpec:y[L],validateSpec:c.validateSpec,style:M,styleSpec:d}):[new Y(L,l[L],`unknown property "${L}"`)]);return T}function bA(c){let l=[];const d=c.value,y=c.key;if(Array.isArray(d)){const M=[],T=[];for(const K in d)d[K].id&&M.includes(d[K].id)&&l.push(new Y(y,d,`all the sprites' ids must be unique, but ${d[K].id} is duplicated`)),M.push(d[K].id),d[K].url&&T.includes(d[K].url)&&l.push(new Y(y,d,`all the sprites' URLs must be unique, but ${d[K].url} is duplicated`)),T.push(d[K].url),l=l.concat(Ll({key:`${y}[${K}]`,value:d[K],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return jt({key:y,value:d})}const qd={"*":()=>[],array:Eu,boolean:function(c){const l=c.value,d=c.key,y=Ii(l);return y!=="boolean"?[new Y(d,l,`boolean expected, ${y} found`)]:[]},number:Ul,color:function(c){const l=c.key,d=c.value,y=Ii(d);return y!=="string"?[new Y(l,d,`color expected, ${y} found`)]:Mi.parse(String(d))?[]:[new Y(l,d,`color expected, "${d}" found`)]},constants:xl,enum:Ou,filter:Ic,function:$d,layer:an,object:Ll,source:li,light:oo,sky:Ka,terrain:To,string:jt,formatted:function(c){return jt(c).length===0?[]:kc(c)},resolvedImage:function(c){return jt(c).length===0?[]:kc(c)},padding:function(c){const l=c.key,d=c.value;if(Ii(d)==="array"){if(d.length<1||d.length>4)return[new Y(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const y={type:"number"};let M=[];for(let T=0;T<d.length;T++)M=M.concat(c.validateSpec({key:`${l}[${T}]`,value:d[T],validateSpec:c.validateSpec,valueSpec:y}));return M}return Ul({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const l=c.key,d=c.value,y=Ii(d),M=c.styleSpec;if(y!=="array"||d.length<1||d.length%2!=0)return[new Y(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let T=[];for(let K=0;K<d.length;K+=2)T=T.concat(Ou({key:`${l}[${K}]`,value:d[K],valueSpec:M.layout_symbol["text-anchor"]})),T=T.concat(Eu({key:`${l}[${K+1}]`,value:d[K+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:M}));return T},sprite:bA};function Ko(c){const l=c.value,d=c.valueSpec,y=c.styleSpec;return c.validateSpec=Ko,d.expression&&ko(ma(l))?$d(c):d.expression&&Io(CA(l))?kc(c):d.type&&qd[d.type]?qd[d.type](c):Ll(Te({},c,{valueSpec:d.type?y[d.type]:d}))}function xA(c){const l=c.value,d=c.key,y=jt(c);return y.length||(l.indexOf("{fontstack}")===-1&&y.push(new Y(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&y.push(new Y(d,l,'"glyphs" url must include a "{range}" token'))),y}function xs(c,l=pt){let d=[];return d=d.concat(Ko({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:Ko,objectElementValidators:{glyphs:xA,"*":()=>[]}})),c.constants&&(d=d.concat(xl({key:"constants",value:c.constants,style:c,styleSpec:l,validateSpec:Ko}))),$u(d)}function Qa(c){return function(l){return c({...l,validateSpec:Ko})}}function $u(c){return[].concat(c).sort((l,d)=>l.line-d.line)}function ss(c){return function(...l){return $u(c.apply(this,l))}}xs.source=ss(Qa(li)),xs.sprite=ss(Qa(bA)),xs.glyphs=ss(Qa(xA)),xs.light=ss(Qa(oo)),xs.sky=ss(Qa(Ka)),xs.terrain=ss(Qa(To)),xs.layer=ss(Qa(an)),xs.filter=ss(Qa(Ic)),xs.paintProperty=ss(Qa(iu)),xs.layoutProperty=ss(Qa(Et));const Vi=xs,Uh=Vi.light,Rh=Vi.paintProperty,ou=Vi.layoutProperty;function HA(c,l){let d=!1;if(l&&l.length)for(const y of l)c.fire(new Rt(new Error(y.message))),d=!0;return d}class ga{constructor(l,d,y){const M=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const K=new Int32Array(this.arrayBuffer);l=K[0],this.d=(d=K[1])+2*(y=K[2]);for(let W=0;W<this.d*this.d;W++){const V=K[3+W],re=K[3+W+1];M.push(V===re?null:K.subarray(V,re))}const L=K[3+M.length+1];this.keys=K.subarray(K[3+M.length],L),this.bboxes=K.subarray(L),this.insert=this._insertReadonly}else{this.d=d+2*y;for(let K=0;K<this.d*this.d;K++)M.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=y,this.scale=d/l,this.uid=0;const T=y/d*l;this.min=-T,this.max=l+T}insert(l,d,y,M,T){this._forEachCell(d,y,M,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(M),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,y,M,T,K){this.cells[T].push(K)}query(l,d,y,M,T){const K=this.min,L=this.max;if(l<=K&&d<=K&&L<=y&&L<=M&&!T)return Array.prototype.slice.call(this.keys);{const W=[];return this._forEachCell(l,d,y,M,this._queryCell,W,{},T),W}}_queryCell(l,d,y,M,T,K,L,W){const V=this.cells[T];if(V!==null){const re=this.keys,Ae=this.bboxes;for(let _e=0;_e<V.length;_e++){const Be=V[_e];if(L[Be]===void 0){const Ke=4*Be;(W?W(Ae[Ke+0],Ae[Ke+1],Ae[Ke+2],Ae[Ke+3]):l<=Ae[Ke+2]&&d<=Ae[Ke+3]&&y>=Ae[Ke+0]&&M>=Ae[Ke+1])?(L[Be]=!0,K.push(re[Be])):L[Be]=!1}}}}_forEachCell(l,d,y,M,T,K,L,W){const V=this._convertToCellCoord(l),re=this._convertToCellCoord(d),Ae=this._convertToCellCoord(y),_e=this._convertToCellCoord(M);for(let Be=V;Be<=Ae;Be++)for(let Ke=re;Ke<=_e;Ke++){const Ge=this.d*Ke+Be;if((!W||W(this._convertFromCellCoord(Be),this._convertFromCellCoord(Ke),this._convertFromCellCoord(Be+1),this._convertFromCellCoord(Ke+1)))&&T.call(this,l,d,y,M,Ge,K,L,W))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let y=0;for(let K=0;K<this.cells.length;K++)y+=this.cells[K].length;const M=new Int32Array(d+y+this.keys.length+this.bboxes.length);M[0]=this.extent,M[1]=this.n,M[2]=this.padding;let T=d;for(let K=0;K<l.length;K++){const L=l[K];M[3+K]=T,M.set(L,T),T+=L.length}return M[3+l.length]=T,M.set(this.keys,T),T+=this.keys.length,M[3+l.length+1]=T,M.set(this.bboxes,T),T+=this.bboxes.length,M.buffer}static serialize(l,d){const y=l.toArrayBuffer();return d&&d.push(y),{buffer:y}}static deserialize(l){return new ga(l.buffer)}}const Al={};function Gn(c,l,d={}){if(Al[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),Al[c]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Gn("Object",Object),Gn("TransferableGridIndex",ga),Gn("Color",Mi),Gn("Error",Error),Gn("AJAXError",Ie),Gn("ResolvedImage",ve),Gn("StylePropertyFunction",ru),Gn("StyleExpression",QA,{omit:["_evaluator"]}),Gn("ZoomDependentExpression",Ls),Gn("ZoomConstantExpression",$A),Gn("CompoundExpression",No,{omit:["_evaluate"]});for(const c in NA)NA[c]._classRegistryKey||Gn(`Expression_${c}`,NA[c]);function Rl(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Yu(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error)return c;if(Rl(c)||dt(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const d=c;return l&&l.push(d.buffer),d}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const d=[];for(const y of c)d.push(Yu(y,l));return d}if(typeof c=="object"){const d=c.constructor,y=d._classRegistryKey;if(!y)throw new Error(`can't serialize object of unregistered class ${d.name}`);if(!Al[y])throw new Error(`${y} is not registered.`);const M=d.serialize?d.serialize(c,l):{};if(d.serialize){if(l&&M===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in c){if(!c.hasOwnProperty(T)||Al[y].omit.indexOf(T)>=0)continue;const K=c[T];M[T]=Al[y].shallow.indexOf(T)>=0?K:Yu(K,l)}c instanceof Error&&(M.message=c.message)}if(M.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(M.$name=y),M}throw new Error("can't serialize object of type "+typeof c)}function VA(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Rl(c)||dt(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(VA);if(typeof c=="object"){const l=c.$name||"Object";if(!Al[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=Al[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(c);const y=Object.create(d.prototype);for(const M of Object.keys(c)){if(M==="$name")continue;const T=c[M];y[M]=Al[l].shallow.indexOf(M)>=0?T:VA(T)}return y}throw new Error("can't deserialize object of type "+typeof c)}class qu{constructor(){this.first=!0}update(l,d){const y=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=y,!0))}}const Vn={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function ZA(c){for(const l of c)if(Vu(l.charCodeAt(0)))return!0;return!1}function Hu(c){for(const l of c)if(!Hf(l.charCodeAt(0)))return!1;return!0}function Hf(c){return!(Vn.Arabic(c)||Vn["Arabic Supplement"](c)||Vn["Arabic Extended-A"](c)||Vn["Arabic Presentation Forms-A"](c)||Vn["Arabic Presentation Forms-B"](c))}function Vu(c){return!(c!==746&&c!==747&&(c<4352||!(Vn["Bopomofo Extended"](c)||Vn.Bopomofo(c)||Vn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Vn["CJK Compatibility Ideographs"](c)||Vn["CJK Compatibility"](c)||Vn["CJK Radicals Supplement"](c)||Vn["CJK Strokes"](c)||!(!Vn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Vn["CJK Unified Ideographs Extension A"](c)||Vn["CJK Unified Ideographs"](c)||Vn["Enclosed CJK Letters and Months"](c)||Vn["Hangul Compatibility Jamo"](c)||Vn["Hangul Jamo Extended-A"](c)||Vn["Hangul Jamo Extended-B"](c)||Vn["Hangul Jamo"](c)||Vn["Hangul Syllables"](c)||Vn.Hiragana(c)||Vn["Ideographic Description Characters"](c)||Vn.Kanbun(c)||Vn["Kangxi Radicals"](c)||Vn["Katakana Phonetic Extensions"](c)||Vn.Katakana(c)&&c!==12540||!(!Vn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Vn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Vn["Unified Canadian Aboriginal Syllabics"](c)||Vn["Unified Canadian Aboriginal Syllabics Extended"](c)||Vn["Vertical Forms"](c)||Vn["Yijing Hexagram Symbols"](c)||Vn["Yi Syllables"](c)||Vn["Yi Radicals"](c))))}function Zu(c){return!(Vu(c)||function(l){return!!(Vn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Vn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Vn["Letterlike Symbols"](l)||Vn["Number Forms"](l)||Vn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Vn["Control Pictures"](l)&&l!==9251||Vn["Optical Character Recognition"](l)||Vn["Enclosed Alphanumerics"](l)||Vn["Geometric Shapes"](l)||Vn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Vn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Vn["CJK Symbols and Punctuation"](l)||Vn.Katakana(l)||Vn["Private Use Area"](l)||Vn["CJK Compatibility Forms"](l)||Vn["Small Form Variants"](l)||Vn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function XA(c){return c>=1424&&c<=2303||Vn["Arabic Presentation Forms-A"](c)||Vn["Arabic Presentation Forms-B"](c)}function Hd(c,l){return!(!l&&XA(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Vn.Khmer(c))}function Tc(c){for(const l of c)if(XA(l.charCodeAt(0)))return!0;return!1}const Xu=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class wo{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qu,this.transition={})}isSupportedScript(l){return function(d,y){for(const M of d)if(!Hd(M.charCodeAt(0),y))return!1;return!0}(l,Xu.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),y=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*d}}}class Ju{constructor(l,d){this.property=l,this.value=d,this.expression=function(y,M){if(ko(y))return new ru(y,M);if(Io(y)){const T=Dh(y,M);if(T.result==="error")throw new Error(T.value.map(K=>`${K.key}: ${K.message}`).join(", "));return T.value}{let T=y;return M.type==="color"&&typeof y=="string"?T=Mi.parse(y):M.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?M.type==="variableAnchorOffsetCollection"&&Array.isArray(y)&&(T=Ui.parse(y)):T=ro.parse(y),{kind:"constant",evaluate:()=>T}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,y){return this.property.possiblyEvaluate(this,l,d,y)}}class ld{constructor(l){this.property=l,this.value=new Ju(l,void 0)}transitioned(l,d){return new zh(this.property,this.value,d,J({},l.transition,this.transition),l.now)}untransitioned(){return new zh(this.property,this.value,null,{},0)}}class Vf{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return De(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ld(this._values[l].property)),this._values[l].value=new Ju(this._values[l].property,d===null?void 0:De(d))}getTransition(l){return De(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new ld(this._values[l].property)),this._values[l].transition=De(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y);const M=this.getTransition(d);M!==void 0&&(l[`${d}-transition`]=M)}return l}transitioned(l,d){const y=new jh(this._properties);for(const M of Object.keys(this._values))y._values[M]=this._values[M].transitioned(l,d._values[M]);return y}untransitioned(){const l=new jh(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class zh{constructor(l,d,y,M,T){this.property=l,this.value=d,this.begin=T+M.delay||0,this.end=this.begin+M.duration||0,l.specification.transition&&(M.delay||M.duration)&&(this.prior=y)}possiblyEvaluate(l,d,y){const M=l.now||0,T=this.value.possiblyEvaluate(l,d,y),K=this.prior;if(K){if(M>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(M<this.begin)return K.possiblyEvaluate(l,d,y);{const L=(M-this.begin)/(this.end-this.begin);return this.property.interpolate(K.possiblyEvaluate(l,d,y),T,function(W){if(W<=0)return 0;if(W>=1)return 1;const V=W*W,re=V*W;return 4*(W<.5?re:3*(W-V)+re-.75)}(L))}}return T}}class jh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,y){const M=new ua(this._properties);for(const T of Object.keys(this._values))M._values[T]=this._values[T].possiblyEvaluate(l,d,y);return M}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Zf{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return De(this._values[l].value)}setValue(l,d){this._values[l]=new Ju(this._values[l].property,d===null?void 0:De(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y)}return l}possiblyEvaluate(l,d,y){const M=new ua(this._properties);for(const T of Object.keys(this._values))M._values[T]=this._values[T].possiblyEvaluate(l,d,y);return M}}class ao{constructor(l,d,y){this.property=l,this.value=d,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,y,M){return this.property.evaluate(this.value,this.parameters,l,d,y,M)}}class ua{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class br{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,y){const M=gt[this.specification.type];return M?M(l,d,y):l}}class Br{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,y,M){return new ao(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},y,M)}:l.expression,d)}interpolate(l,d,y){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new ao(this,{kind:"constant",value:void 0},l.parameters);const M=gt[this.specification.type];if(M){const T=M(l.value.value,d.value.value,y);return new ao(this,{kind:"constant",value:T},l.parameters)}return l}evaluate(l,d,y,M,T,K){return l.kind==="constant"?l.value:l.evaluate(d,y,M,T,K)}}class wA extends Br{possiblyEvaluate(l,d,y,M){if(l.value===void 0)return new ao(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,M),K=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,L=this._calculate(K,K,K,d);return new ao(this,{kind:"constant",value:L},d)}if(l.expression.kind==="camera"){const T=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new ao(this,{kind:"constant",value:T},d)}return new ao(this,l.expression,d)}evaluate(l,d,y,M,T,K){if(l.kind==="source"){const L=l.evaluate(d,y,M,T,K);return this._calculate(L,L,L,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},y,M),l.evaluate({zoom:Math.floor(d.zoom)},y,M),l.evaluate({zoom:Math.floor(d.zoom)+1},y,M),d):l.value}_calculate(l,d,y,M){return M.zoom>M.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class Kc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,M){if(l.value!==void 0){if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,M);return this._calculate(T,T,T,d)}return this._calculate(l.expression.evaluate(new wo(Math.floor(d.zoom-1),d)),l.expression.evaluate(new wo(Math.floor(d.zoom),d)),l.expression.evaluate(new wo(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,y,M){return M.zoom>M.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class JA{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,M){return!!l.expression.evaluate(d,null,{},y,M)}interpolate(){return!1}}class Aa{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const y=l[d];y.specification.overridable&&this.overridableProperties.push(d);const M=this.defaultPropertyValues[d]=new Ju(y,void 0),T=this.defaultTransitionablePropertyValues[d]=new ld(y);this.defaultTransitioningPropertyValues[d]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=M.possiblyEvaluate({})}}}Gn("DataDrivenProperty",Br),Gn("DataConstantProperty",br),Gn("CrossFadedDataDrivenProperty",wA),Gn("CrossFadedProperty",Kc),Gn("ColorRampProperty",JA);const ec="-transition";class ka extends zt{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new Zf(d.layout)),d.paint)){this._transitionablePaint=new Vf(d.paint);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ua(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,y={}){d!=null&&this._validate(ou,`layers.${this.id}.layout.${l}`,l,d,y)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(ec)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,y={}){if(d!=null&&this._validate(Rh,`layers.${this.id}.paint.${l}`,l,d,y))return!1;if(l.endsWith(ec))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const M=this._transitionablePaint._values[l],T=M.property.specification["property-type"]==="cross-faded-data-driven",K=M.value.isDataDriven(),L=M.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const W=this._transitionablePaint._values[l].value;return W.isDataDriven()||K||T||this._handleOverridablePaintPropertyUpdate(l,L,W)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,y){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),Se(l,(d,y)=>!(d===void 0||y==="layout"&&!Object.keys(d).length||y==="paint"&&!Object.keys(d).length))}_validate(l,d,y,M,T={}){return(!T||T.validate!==!1)&&HA(this,l.call(Vi,{key:d,layerType:this.type,objectKey:y,value:M,styleSpec:pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof ao&&od(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const eA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class cl{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Go{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Qo(c,l=1){let d=0,y=0;return{members:c.map(M=>{const T=eA[M.type].BYTES_PER_ELEMENT,K=d=Xf(d,Math.max(l,T)),L=M.components||1;return y=Math.max(y,T),d+=T*L,{name:M.name,type:M.type,components:L,offset:K}}),size:Xf(d,Math.max(y,l)),alignment:l}}function Xf(c,l){return Math.ceil(c/l)*l}class Vd extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.int16[M+0]=d,this.int16[M+1]=y,l}}Vd.prototype.bytesPerElement=4,Gn("StructArrayLayout2i4",Vd);class tA extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.int16[T+0]=d,this.int16[T+1]=y,this.int16[T+2]=M,l}}tA.prototype.bytesPerElement=6,Gn("StructArrayLayout3i6",tA);class wl extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const K=4*l;return this.int16[K+0]=d,this.int16[K+1]=y,this.int16[K+2]=M,this.int16[K+3]=T,l}}wl.prototype.bytesPerElement=8,Gn("StructArrayLayout4i8",wl);class Jf extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K){const L=this.length;return this.resize(L+1),this.emplace(L,l,d,y,M,T,K)}emplace(l,d,y,M,T,K,L){const W=6*l;return this.int16[W+0]=d,this.int16[W+1]=y,this.int16[W+2]=M,this.int16[W+3]=T,this.int16[W+4]=K,this.int16[W+5]=L,l}}Jf.prototype.bytesPerElement=12,Gn("StructArrayLayout2i4i12",Jf);class ud extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K){const L=this.length;return this.resize(L+1),this.emplace(L,l,d,y,M,T,K)}emplace(l,d,y,M,T,K,L){const W=4*l,V=8*l;return this.int16[W+0]=d,this.int16[W+1]=y,this.uint8[V+4]=M,this.uint8[V+5]=T,this.uint8[V+6]=K,this.uint8[V+7]=L,l}}ud.prototype.bytesPerElement=8,Gn("StructArrayLayout2i4ub8",ud);class MA extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.float32[M+0]=d,this.float32[M+1]=y,l}}MA.prototype.bytesPerElement=8,Gn("StructArrayLayout2f8",MA);class Wh extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,L,W,V,re){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,l,d,y,M,T,K,L,W,V,re)}emplace(l,d,y,M,T,K,L,W,V,re,Ae){const _e=10*l;return this.uint16[_e+0]=d,this.uint16[_e+1]=y,this.uint16[_e+2]=M,this.uint16[_e+3]=T,this.uint16[_e+4]=K,this.uint16[_e+5]=L,this.uint16[_e+6]=W,this.uint16[_e+7]=V,this.uint16[_e+8]=re,this.uint16[_e+9]=Ae,l}}Wh.prototype.bytesPerElement=20,Gn("StructArrayLayout10ui20",Wh);class Fe extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,L,W,V,re,Ae,_e){const Be=this.length;return this.resize(Be+1),this.emplace(Be,l,d,y,M,T,K,L,W,V,re,Ae,_e)}emplace(l,d,y,M,T,K,L,W,V,re,Ae,_e,Be){const Ke=12*l;return this.int16[Ke+0]=d,this.int16[Ke+1]=y,this.int16[Ke+2]=M,this.int16[Ke+3]=T,this.uint16[Ke+4]=K,this.uint16[Ke+5]=L,this.uint16[Ke+6]=W,this.uint16[Ke+7]=V,this.int16[Ke+8]=re,this.int16[Ke+9]=Ae,this.int16[Ke+10]=_e,this.int16[Ke+11]=Be,l}}Fe.prototype.bytesPerElement=24,Gn("StructArrayLayout4i4ui4i24",Fe);class tc extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.float32[T+0]=d,this.float32[T+1]=y,this.float32[T+2]=M,l}}tc.prototype.bytesPerElement=12,Gn("StructArrayLayout3f12",tc);class ls extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}ls.prototype.bytesPerElement=4,Gn("StructArrayLayout1ul4",ls);class Qi extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,L,W,V){const re=this.length;return this.resize(re+1),this.emplace(re,l,d,y,M,T,K,L,W,V)}emplace(l,d,y,M,T,K,L,W,V,re){const Ae=10*l,_e=5*l;return this.int16[Ae+0]=d,this.int16[Ae+1]=y,this.int16[Ae+2]=M,this.int16[Ae+3]=T,this.int16[Ae+4]=K,this.int16[Ae+5]=L,this.uint32[_e+3]=W,this.uint16[Ae+8]=V,this.uint16[Ae+9]=re,l}}Qi.prototype.bytesPerElement=20,Gn("StructArrayLayout6i1ul2ui20",Qi);class Yr extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K){const L=this.length;return this.resize(L+1),this.emplace(L,l,d,y,M,T,K)}emplace(l,d,y,M,T,K,L){const W=6*l;return this.int16[W+0]=d,this.int16[W+1]=y,this.int16[W+2]=M,this.int16[W+3]=T,this.int16[W+4]=K,this.int16[W+5]=L,l}}Yr.prototype.bytesPerElement=12,Gn("StructArrayLayout2i2i2i12",Yr);class ya extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T){const K=this.length;return this.resize(K+1),this.emplace(K,l,d,y,M,T)}emplace(l,d,y,M,T,K){const L=4*l,W=8*l;return this.float32[L+0]=d,this.float32[L+1]=y,this.float32[L+2]=M,this.int16[W+6]=T,this.int16[W+7]=K,l}}ya.prototype.bytesPerElement=16,Gn("StructArrayLayout2f1f2i16",ya);class nc extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const K=12*l,L=3*l;return this.uint8[K+0]=d,this.uint8[K+1]=y,this.float32[L+1]=M,this.float32[L+2]=T,l}}nc.prototype.bytesPerElement=12,Gn("StructArrayLayout2ub2f12",nc);class Ad extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.uint16[T+0]=d,this.uint16[T+1]=y,this.uint16[T+2]=M,l}}Ad.prototype.bytesPerElement=6,Gn("StructArrayLayout3ui6",Ad);class au extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at){const kt=this.length;return this.resize(kt+1),this.emplace(kt,l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at)}emplace(l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at,kt){const At=24*l,xt=12*l,nn=48*l;return this.int16[At+0]=d,this.int16[At+1]=y,this.uint16[At+2]=M,this.uint16[At+3]=T,this.uint32[xt+2]=K,this.uint32[xt+3]=L,this.uint32[xt+4]=W,this.uint16[At+10]=V,this.uint16[At+11]=re,this.uint16[At+12]=Ae,this.float32[xt+7]=_e,this.float32[xt+8]=Be,this.uint8[nn+36]=Ke,this.uint8[nn+37]=Ge,this.uint8[nn+38]=Ze,this.uint32[xt+10]=at,this.int16[At+22]=kt,l}}au.prototype.bytesPerElement=48,Gn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",au);class cd extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at,kt,At,xt,nn,An,Un,Cr,Hn,xn,mn,sr){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at,kt,At,xt,nn,An,Un,Cr,Hn,xn,mn,sr)}emplace(l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge,Ze,at,kt,At,xt,nn,An,Un,Cr,Hn,xn,mn,sr,Rn){const Sn=32*l,Dr=16*l;return this.int16[Sn+0]=d,this.int16[Sn+1]=y,this.int16[Sn+2]=M,this.int16[Sn+3]=T,this.int16[Sn+4]=K,this.int16[Sn+5]=L,this.int16[Sn+6]=W,this.int16[Sn+7]=V,this.uint16[Sn+8]=re,this.uint16[Sn+9]=Ae,this.uint16[Sn+10]=_e,this.uint16[Sn+11]=Be,this.uint16[Sn+12]=Ke,this.uint16[Sn+13]=Ge,this.uint16[Sn+14]=Ze,this.uint16[Sn+15]=at,this.uint16[Sn+16]=kt,this.uint16[Sn+17]=At,this.uint16[Sn+18]=xt,this.uint16[Sn+19]=nn,this.uint16[Sn+20]=An,this.uint16[Sn+21]=Un,this.uint16[Sn+22]=Cr,this.uint32[Dr+12]=Hn,this.float32[Dr+13]=xn,this.float32[Dr+14]=mn,this.uint16[Sn+30]=sr,this.uint16[Sn+31]=Rn,l}}cd.prototype.bytesPerElement=64,Gn("StructArrayLayout8i15ui1ul2f2ui64",cd);class rc extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}rc.prototype.bytesPerElement=4,Gn("StructArrayLayout1f4",rc);class ep extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.uint16[6*l+0]=d,this.float32[T+1]=y,this.float32[T+2]=M,l}}ep.prototype.bytesPerElement=12,Gn("StructArrayLayout1ui2f12",ep);class dd extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=4*l;return this.uint32[2*l+0]=d,this.uint16[T+2]=y,this.uint16[T+3]=M,l}}dd.prototype.bytesPerElement=8,Gn("StructArrayLayout1ul2ui8",dd);class ic extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.uint16[M+0]=d,this.uint16[M+1]=y,l}}ic.prototype.bytesPerElement=4,Gn("StructArrayLayout2ui4",ic);class zl extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}zl.prototype.bytesPerElement=2,Gn("StructArrayLayout1ui2",zl);class tp extends Go{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const K=4*l;return this.float32[K+0]=d,this.float32[K+1]=y,this.float32[K+2]=M,this.float32[K+3]=T,l}}tp.prototype.bytesPerElement=16,Gn("StructArrayLayout4f16",tp);class Zd extends cl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new B(this.anchorPointX,this.anchorPointY)}}Zd.prototype.size=20;class Nh extends Qi{get(l){return new Zd(this,l)}}Gn("CollisionBoxArray",Nh);class O extends cl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}O.prototype.size=48;class u extends au{get(l){return new O(this,l)}}Gn("PlacedSymbolArray",u);class p extends cl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}p.prototype.size=64;class C extends cd{get(l){return new p(this,l)}}Gn("SymbolInstanceArray",C);class w extends rc{getoffsetX(l){return this.float32[1*l+0]}}Gn("GlyphOffsetArray",w);class I extends tA{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Gn("SymbolLineVertexArray",I);class R extends cl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}R.prototype.size=12;class j extends ep{get(l){return new R(this,l)}}Gn("TextAnchorOffsetArray",j);class Q extends cl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Q.prototype.size=8;class ie extends dd{get(l){return new Q(this,l)}}Gn("FeatureIndexArray",ie);class de extends Vd{}class fe extends Vd{}class Oe extends Vd{}class Ye extends Jf{}class $e extends ud{}class He extends MA{}class We extends Wh{}class ht extends Fe{}class Ft extends tc{}class tt extends ls{}class bt extends Yr{}class Pt extends nc{}class Ut extends Ad{}class Zt extends ic{}const dn=Qo([{name:"a_pos",components:2,type:"Int16"}],4),{members:un}=dn;class pn{constructor(l=[]){this.segments=l}prepareSegment(l,d,y,M){let T=this.segments[this.segments.length-1];return l>pn.MAX_VERTEX_ARRAY_LENGTH&&he(`Max vertices per segment is ${pn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!T||T.vertexLength+l>pn.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==M)&&(T={vertexOffset:d.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0},M!==void 0&&(T.sortKey=M),this.segments.push(T)),T}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,y,M){return new pn([{vertexOffset:l,primitiveOffset:d,vertexLength:y,primitiveLength:M,vaos:{},sortKey:0}])}}function $n(c,l){return 256*(c=ye(Math.floor(c),0,255))+ye(Math.floor(l),0,255)}pn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Gn("SegmentVector",pn);const qr=Qo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var kn={exports:{}},vr={exports:{}};vr.exports=function(c,l){var d,y,M,T,K,L,W,V;for(y=c.length-(d=3&c.length),M=l,K=3432918353,L=461845907,V=0;V<y;)W=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24,++V,M=27492+(65535&(T=5*(65535&(M=(M^=W=(65535&(W=(W=(65535&W)*K+(((W>>>16)*K&65535)<<16)&4294967295)<<15|W>>>17))*L+(((W>>>16)*L&65535)<<16)&4294967295)<<13|M>>>19))+((5*(M>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(W=0,d){case 3:W^=(255&c.charCodeAt(V+2))<<16;case 2:W^=(255&c.charCodeAt(V+1))<<8;case 1:M^=W=(65535&(W=(W=(65535&(W^=255&c.charCodeAt(V)))*K+(((W>>>16)*K&65535)<<16)&4294967295)<<15|W>>>17))*L+(((W>>>16)*L&65535)<<16)&4294967295}return M^=c.length,M=2246822507*(65535&(M^=M>>>16))+((2246822507*(M>>>16)&65535)<<16)&4294967295,M=3266489909*(65535&(M^=M>>>13))+((3266489909*(M>>>16)&65535)<<16)&4294967295,(M^=M>>>16)>>>0};var di=vr.exports,Ti={exports:{}};Ti.exports=function(c,l){for(var d,y=c.length,M=l^y,T=0;y>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(T)|(255&c.charCodeAt(++T))<<8|(255&c.charCodeAt(++T))<<16|(255&c.charCodeAt(++T))<<24))+((1540483477*(d>>>16)&65535)<<16),M=1540483477*(65535&M)+((1540483477*(M>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),y-=4,++T;switch(y){case 3:M^=(255&c.charCodeAt(T+2))<<16;case 2:M^=(255&c.charCodeAt(T+1))<<8;case 1:M=1540483477*(65535&(M^=255&c.charCodeAt(T)))+((1540483477*(M>>>16)&65535)<<16)}return M=1540483477*(65535&(M^=M>>>13))+((1540483477*(M>>>16)&65535)<<16),(M^=M>>>15)>>>0};var Hr=di,ei=Ti.exports;kn.exports=Hr,kn.exports.murmur3=Hr,kn.exports.murmur2=ei;var Nr=h(kn.exports);class Ho{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,y,M){this.ids.push(Lo(l)),this.positions.push(d,y,M)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Lo(l);let y=0,M=this.ids.length-1;for(;y<M;){const K=y+M>>1;this.ids[K]>=d?M=K:y=K+1}const T=[];for(;this.ids[y]===d;)T.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return T}static serialize(l,d){const y=new Float64Array(l.ids),M=new Uint32Array(l.positions);return Us(y,M,0,y.length-1),d&&d.push(y.buffer,M.buffer),{ids:y,positions:M}}static deserialize(l){const d=new Ho;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Lo(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Nr(String(c))}function Us(c,l,d,y){for(;d<y;){const M=c[d+y>>1];let T=d-1,K=y+1;for(;;){do T++;while(c[T]<M);do K--;while(c[K]>M);if(T>=K)break;Pa(c,T,K),Pa(l,3*T,3*K),Pa(l,3*T+1,3*K+1),Pa(l,3*T+2,3*K+2)}K-d<y-K?(Us(c,l,d,K),d=K+1):(Us(c,l,K+1,y),y=K)}}function Pa(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}Gn("FeaturePositionMap",Ho);class mo{constructor(l,d){this.gl=l.gl,this.location=d}}class so extends mo{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Zs extends mo{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class su extends mo{constructor(l,d){super(l,d),this.current=Mi.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const ws=new Float32Array(16);function nA(c){return[$n(255*c.r,255*c.g),$n(255*c.b,255*c.a)]}class jl{constructor(l,d,y){this.value=l,this.uniformNames=d.map(M=>`u_${M}`),this.type=y}setUniform(l,d,y){l.set(y.constantOr(this.value))}getBinding(l,d,y){return this.type==="color"?new su(l,d):new so(l,d)}}class Ms{constructor(l,d){this.uniformNames=d.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,y,M){const T=M==="u_pattern_to"?this.patternTo:M==="u_pattern_from"?this.patternFrom:M==="u_pixel_ratio_to"?this.pixelRatioTo:M==="u_pixel_ratio_from"?this.pixelRatioFrom:null;T&&l.set(T)}getBinding(l,d,y){return y.substr(0,9)==="u_pattern"?new Zs(l,d):new so(l,d)}}class Ri{constructor(l,d,y,M){this.expression=l,this.type=y,this.maxValue=0,this.paintVertexAttributes=d.map(T=>({name:`a_${T}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new M}populatePaintArray(l,d,y,M,T){const K=this.paintVertexArray.length,L=this.expression.evaluate(new wo(0),d,{},M,[],T);this.paintVertexArray.resize(l),this._setPaintValue(K,l,L)}updatePaintArray(l,d,y,M){const T=this.expression.evaluate({zoom:0},y,M);this._setPaintValue(l,d,T)}_setPaintValue(l,d,y){if(this.type==="color"){const M=nA(y);for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,M[0],M[1])}else{for(let M=l;M<d;M++)this.paintVertexArray.emplace(M,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ei{constructor(l,d,y,M,T,K){this.expression=l,this.uniformNames=d.map(L=>`u_${L}_t`),this.type=y,this.useIntegerZoom=M,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=d.map(L=>({name:`a_${L}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new K}populatePaintArray(l,d,y,M,T){const K=this.expression.evaluate(new wo(this.zoom),d,{},M,[],T),L=this.expression.evaluate(new wo(this.zoom+1),d,{},M,[],T),W=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(W,l,K,L)}updatePaintArray(l,d,y,M){const T=this.expression.evaluate({zoom:this.zoom},y,M),K=this.expression.evaluate({zoom:this.zoom+1},y,M);this._setPaintValue(l,d,T,K)}_setPaintValue(l,d,y,M){if(this.type==="color"){const T=nA(y),K=nA(M);for(let L=l;L<d;L++)this.paintVertexArray.emplace(L,T[0],T[1],K[0],K[1])}else{for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,y,M);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(M))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const y=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,M=ye(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);l.set(M)}getBinding(l,d,y){return new so(l,d)}}class ra{constructor(l,d,y,M,T,K){this.expression=l,this.type=d,this.useIntegerZoom=y,this.zoom=M,this.layerId=K,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(l,d,y){const M=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(M,l,d.patterns&&d.patterns[this.layerId],y)}updatePaintArray(l,d,y,M,T){this._setPaintValues(l,d,y.patterns&&y.patterns[this.layerId],T)}_setPaintValues(l,d,y,M){if(!M||!y)return;const{min:T,mid:K,max:L}=y,W=M[T],V=M[K],re=M[L];if(W&&V&&re)for(let Ae=l;Ae<d;Ae++)this.zoomInPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],W.tl[0],W.tl[1],W.br[0],W.br[1],V.pixelRatio,W.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],re.tl[0],re.tl[1],re.br[0],re.br[1],V.pixelRatio,re.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,qr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,qr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Pc{constructor(l,d,y){this.binders={},this._buffers=[];const M=[];for(const T in l.paint._values){if(!y(T))continue;const K=l.paint.get(T);if(!(K instanceof ao&&od(K.property.specification)))continue;const L=va(T,l.type),W=K.value,V=K.property.specification.type,re=K.property.useIntegerZoom,Ae=K.property.specification["property-type"],_e=Ae==="cross-faded"||Ae==="cross-faded-data-driven";if(W.kind==="constant")this.binders[T]=_e?new Ms(W.value,L):new jl(W.value,L,V),M.push(`/u_${T}`);else if(W.kind==="source"||_e){const Be=Ss(T,V,"source");this.binders[T]=_e?new ra(W,V,re,d,Be,l.id):new Ri(W,L,V,Be),M.push(`/a_${T}`)}else{const Be=Ss(T,V,"composite");this.binders[T]=new Ei(W,L,V,re,d,Be),M.push(`/z_${T}`)}}this.cacheKey=M.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof Ri||d instanceof Ei?d.maxValue:0}populatePaintArrays(l,d,y,M,T){for(const K in this.binders){const L=this.binders[K];(L instanceof Ri||L instanceof Ei||L instanceof ra)&&L.populatePaintArray(l,d,y,M,T)}}setConstantPatternPositions(l,d){for(const y in this.binders){const M=this.binders[y];M instanceof Ms&&M.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,y,M,T){let K=!1;for(const L in l){const W=d.getPositions(L);for(const V of W){const re=y.feature(V.index);for(const Ae in this.binders){const _e=this.binders[Ae];if((_e instanceof Ri||_e instanceof Ei||_e instanceof ra)&&_e.expression.isStateDependent===!0){const Be=M.paint.get(Ae);_e.expression=Be.value,_e.updatePaintArray(V.start,V.end,re,l[L],T),K=!0}}}}return K}defines(){const l=[];for(const d in this.binders){const y=this.binders[d];(y instanceof jl||y instanceof Ms)&&l.push(...y.uniformNames.map(M=>`#define HAS_UNIFORM_${M}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Ri||y instanceof Ei)for(let M=0;M<y.paintVertexAttributes.length;M++)l.push(y.paintVertexAttributes[M].name);else if(y instanceof ra)for(let M=0;M<qr.members.length;M++)l.push(qr.members[M].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof jl||y instanceof Ms||y instanceof Ei)for(const M of y.uniformNames)l.push(M)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const y=[];for(const M in this.binders){const T=this.binders[M];if(T instanceof jl||T instanceof Ms||T instanceof Ei){for(const K of T.uniformNames)if(d[K]){const L=T.getBinding(l,d[K],K);y.push({name:K,property:M,binding:L})}}}return y}setUniforms(l,d,y,M){for(const{name:T,property:K,binding:L}of d)this.binders[K].setUniform(L,M,y.get(K),T)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const y=this.binders[d];if(l&&y instanceof ra){const M=l.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;M&&this._buffers.push(M)}else(y instanceof Ri||y instanceof Ei)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(l){for(const d in this.binders){const y=this.binders[d];(y instanceof Ri||y instanceof Ei||y instanceof ra)&&y.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof Ri||d instanceof Ei||d instanceof ra)&&d.destroy()}}}class Vo{constructor(l,d,y=()=>!0){this.programConfigurations={};for(const M of l)this.programConfigurations[M.id]=new Pc(M,d,y);this.needsUpload=!1,this._featureMap=new Ho,this._bufferOffset=0}populatePaintArrays(l,d,y,M,T,K){for(const L in this.programConfigurations)this.programConfigurations[L].populatePaintArrays(l,d,M,T,K);d.id!==void 0&&this._featureMap.add(d.id,y,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,y,M){for(const T of y)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(l,this._featureMap,d,T,M)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function va(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function Ss(c,l,d){const y={color:{source:MA,composite:tp},number:{source:rc,composite:MA}},M=function(T){return{"line-pattern":{source:We,composite:We},"fill-pattern":{source:We,composite:We},"fill-extrusion-pattern":{source:We,composite:We}}[T]}(c);return M&&M[d]||y[l][d]}Gn("ConstantBinder",jl),Gn("CrossFadedConstantBinder",Ms),Gn("SourceExpressionBinder",Ri),Gn("CrossFadedCompositeBinder",ra),Gn("CompositeExpressionBinder",Ei),Gn("ProgramConfiguration",Pc,{omit:["_buffers"]}),Gn("ProgramConfigurationSet",Vo);const Ki=8192,oc=Math.pow(2,14)-1,Gh=-oc-1;function lu(c){const l=Ki/c.extent,d=c.loadGeometry();for(let y=0;y<d.length;y++){const M=d[y];for(let T=0;T<M.length;T++){const K=M[T],L=Math.round(K.x*l),W=Math.round(K.y*l);K.x=ye(L,Gh,oc),K.y=ye(W,Gh,oc),(L<K.x||L>K.x+1||W<K.y||W>K.y+1)&&he("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function ac(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?lu(c):[]}}function Bu(c,l,d,y,M){c.emplaceBack(2*l+(y+1)/2,2*d+(M+1)/2)}class Qh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new fe,this.indexArray=new Ut,this.segments=new pn,this.programConfigurations=new Vo(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){const M=this.layers[0],T=[];let K=null,L=!1;M.type==="circle"&&(K=M.layout.get("circle-sort-key"),L=!K.isConstant());for(const{feature:W,id:V,index:re,sourceLayerIndex:Ae}of l){const _e=this.layers[0]._featureFilter.needGeometry,Be=ac(W,_e);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),Be,y))continue;const Ke=L?K.evaluate(Be,{},y):void 0,Ge={id:V,properties:W.properties,type:W.type,sourceLayerIndex:Ae,index:re,geometry:_e?Be.geometry:lu(W),patterns:{},sortKey:Ke};T.push(Ge)}L&&T.sort((W,V)=>W.sortKey-V.sortKey);for(const W of T){const{geometry:V,index:re,sourceLayerIndex:Ae}=W,_e=l[re].feature;this.addFeature(W,V,re,y),d.featureIndex.insert(_e,V,re,Ae,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,un),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,y,M){for(const T of d)for(const K of T){const L=K.x,W=K.y;if(L<0||L>=Ki||W<0||W>=Ki)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),re=V.vertexLength;Bu(this.layoutVertexArray,L,W,-1,-1),Bu(this.layoutVertexArray,L,W,1,-1),Bu(this.layoutVertexArray,L,W,1,1),Bu(this.layoutVertexArray,L,W,-1,1),this.indexArray.emplaceBack(re,re+1,re+2),this.indexArray.emplaceBack(re,re+3,re+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,{},M)}}function ku(c,l){for(let d=0;d<c.length;d++)if(iA(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(iA(c,l[d]))return!0;return!!hd(c,l)}function $h(c,l,d){return!!iA(c,l)||!!rA(l,c,d)}function SA(c,l){if(c.length===1)return Yh(l,c[0]);for(let d=0;d<l.length;d++){const y=l[d];for(let M=0;M<y.length;M++)if(iA(c,y[M]))return!0}for(let d=0;d<c.length;d++)if(Yh(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(hd(c,l[d]))return!0;return!1}function np(c,l,d){if(c.length>1){if(hd(c,l))return!0;for(let y=0;y<l.length;y++)if(rA(l[y],c,d))return!0}for(let y=0;y<c.length;y++)if(rA(c[y],l,d))return!0;return!1}function hd(c,l){if(c.length===0||l.length===0)return!1;for(let d=0;d<c.length-1;d++){const y=c[d],M=c[d+1];for(let T=0;T<l.length-1;T++)if(rp(y,M,l[T],l[T+1]))return!0}return!1}function rp(c,l,d,y){return qe(c,d,y)!==qe(l,d,y)&&qe(c,l,d)!==qe(c,l,y)}function rA(c,l,d){const y=d*d;if(l.length===1)return c.distSqr(l[0])<y;for(let M=1;M<l.length;M++)if(fd(c,l[M-1],l[M])<y)return!0;return!1}function fd(c,l,d){const y=l.distSqr(d);if(y===0)return c.distSqr(l);const M=((c.x-l.x)*(d.x-l.x)+(c.y-l.y)*(d.y-l.y))/y;return c.distSqr(M<0?l:M>1?d:d.sub(l)._mult(M)._add(l))}function Yh(c,l){let d,y,M,T=!1;for(let K=0;K<c.length;K++){d=c[K];for(let L=0,W=d.length-1;L<d.length;W=L++)y=d[L],M=d[W],y.y>l.y!=M.y>l.y&&l.x<(M.x-y.x)*(l.y-y.y)/(M.y-y.y)+y.x&&(T=!T)}return T}function iA(c,l){let d=!1;for(let y=0,M=c.length-1;y<c.length;M=y++){const T=c[y],K=c[M];T.y>l.y!=K.y>l.y&&l.x<(K.x-T.x)*(l.y-T.y)/(K.y-T.y)+T.x&&(d=!d)}return d}function g0(c,l,d){const y=d[0],M=d[2];if(c.x<y.x&&l.x<y.x||c.x>M.x&&l.x>M.x||c.y<y.y&&l.y<y.y||c.y>M.y&&l.y>M.y)return!1;const T=qe(c,l,d[0]);return T!==qe(c,l,d[1])||T!==qe(c,l,d[2])||T!==qe(c,l,d[3])}function qh(c,l,d){const y=l.paint.get(c).value;return y.kind==="constant"?y.value:d.programConfigurations.get(l.id).getMaxValue(c)}function Hh(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function uu(c,l,d,y,M){if(!l[0]&&!l[1])return c;const T=B.convert(l)._mult(M);d==="viewport"&&T._rotate(-y);const K=[];for(let L=0;L<c.length;L++)K.push(c[L].sub(T));return K}let Xd,Jd;Gn("CircleBucket",Qh,{omit:["layers"]});var H1={get paint(){return Jd=Jd||new Aa({"circle-radius":new Br(pt.paint_circle["circle-radius"]),"circle-color":new Br(pt.paint_circle["circle-color"]),"circle-blur":new Br(pt.paint_circle["circle-blur"]),"circle-opacity":new Br(pt.paint_circle["circle-opacity"]),"circle-translate":new br(pt.paint_circle["circle-translate"]),"circle-translate-anchor":new br(pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new br(pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new br(pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Br(pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Br(pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Br(pt.paint_circle["circle-stroke-opacity"])})},get layout(){return Xd=Xd||new Aa({"circle-sort-key":new Br(pt.layout_circle["circle-sort-key"])})}},dl=1e-6,eh=typeof Float32Array<"u"?Float32Array:Array;function y0(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Zp(c,l,d){var y=l[0],M=l[1],T=l[2],K=l[3],L=l[4],W=l[5],V=l[6],re=l[7],Ae=l[8],_e=l[9],Be=l[10],Ke=l[11],Ge=l[12],Ze=l[13],at=l[14],kt=l[15],At=d[0],xt=d[1],nn=d[2],An=d[3];return c[0]=At*y+xt*L+nn*Ae+An*Ge,c[1]=At*M+xt*W+nn*_e+An*Ze,c[2]=At*T+xt*V+nn*Be+An*at,c[3]=At*K+xt*re+nn*Ke+An*kt,c[4]=(At=d[4])*y+(xt=d[5])*L+(nn=d[6])*Ae+(An=d[7])*Ge,c[5]=At*M+xt*W+nn*_e+An*Ze,c[6]=At*T+xt*V+nn*Be+An*at,c[7]=At*K+xt*re+nn*Ke+An*kt,c[8]=(At=d[8])*y+(xt=d[9])*L+(nn=d[10])*Ae+(An=d[11])*Ge,c[9]=At*M+xt*W+nn*_e+An*Ze,c[10]=At*T+xt*V+nn*Be+An*at,c[11]=At*K+xt*re+nn*Ke+An*kt,c[12]=(At=d[12])*y+(xt=d[13])*L+(nn=d[14])*Ae+(An=d[15])*Ge,c[13]=At*M+xt*W+nn*_e+An*Ze,c[14]=At*T+xt*V+nn*Be+An*at,c[15]=At*K+xt*re+nn*Ke+An*kt,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var Es,Xp=Zp;function Jp(c,l,d){var y=l[0],M=l[1],T=l[2],K=l[3];return c[0]=d[0]*y+d[4]*M+d[8]*T+d[12]*K,c[1]=d[1]*y+d[5]*M+d[9]*T+d[13]*K,c[2]=d[2]*y+d[6]*M+d[10]*T+d[14]*K,c[3]=d[3]*y+d[7]*M+d[11]*T+d[15]*K,c}Es=new eh(4),eh!=Float32Array&&(Es[0]=0,Es[1]=0,Es[2]=0,Es[3]=0);class v0 extends ka{constructor(l){super(l,H1)}createBucket(l){return new Qh(l)}queryRadius(l){const d=l;return qh("circle-radius",this,d)+qh("circle-stroke-width",this,d)+Hh(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,y,M,T,K,L,W){const V=uu(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),K.angle,L),re=this.paint.get("circle-radius").evaluate(d,y)+this.paint.get("circle-stroke-width").evaluate(d,y),Ae=this.paint.get("circle-pitch-alignment")==="map",_e=Ae?V:function(Ke,Ge){return Ke.map(Ze=>$i(Ze,Ge))}(V,W),Be=Ae?re*L:re;for(const Ke of M)for(const Ge of Ke){const Ze=Ae?Ge:$i(Ge,W);let at=Be;const kt=Jp([],[Ge.x,Ge.y,0,1],W);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?at*=kt[3]/K.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(at*=K.cameraToCenterDistance/kt[3]),$h(_e,Ze,at))return!0}return!1}}function $i(c,l){const d=Jp([],[c.x,c.y,0,1],l);return new B(d[0]/d[3],d[1]/d[3])}class _0 extends Qh{}let C0;Gn("HeatmapBucket",_0,{omit:["layers"]});var Vh={get paint(){return C0=C0||new Aa({"heatmap-radius":new Br(pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Br(pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new br(pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new JA(pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new br(pt.paint_heatmap["heatmap-opacity"])})}};function em(c,{width:l,height:d},y,M){if(M){if(M instanceof Uint8ClampedArray)M=new Uint8Array(M.buffer);else if(M.length!==l*d*y)throw new RangeError(`mismatched image size. expected: ${M.length} but got: ${l*d*y}`)}else M=new Uint8Array(l*d*y);return c.width=l,c.height=d,c.data=M,c}function V1(c,{width:l,height:d},y){if(l===c.width&&d===c.height)return;const M=em({},{width:l,height:d},y);b0(c,M,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,d)},y),c.width=l,c.height=d,c.data=M.data}function b0(c,l,d,y,M,T){if(M.width===0||M.height===0)return l;if(M.width>c.width||M.height>c.height||d.x>c.width-M.width||d.y>c.height-M.height)throw new RangeError("out of range source coordinates for image copy");if(M.width>l.width||M.height>l.height||y.x>l.width-M.width||y.y>l.height-M.height)throw new RangeError("out of range destination coordinates for image copy");const K=c.data,L=l.data;if(K===L)throw new Error("srcData equals dstData, so image is already copied");for(let W=0;W<M.height;W++){const V=((d.y+W)*c.width+d.x)*T,re=((y.y+W)*l.width+y.x)*T;for(let Ae=0;Ae<M.width*T;Ae++)L[re+Ae]=K[V+Ae]}return l}class Fa{constructor(l,d){em(this,l,1,d)}resize(l){V1(this,l,1)}clone(){return new Fa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,M,T){b0(l,d,y,M,T,1)}}class hl{constructor(l,d){em(this,l,4,d)}resize(l){V1(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new hl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,M,T){b0(l,d,y,M,T,4)}}function pd(c){const l={},d=c.resolution||256,y=c.clips?c.clips.length:1,M=c.image||new hl({width:d,height:y});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const T=(K,L,W)=>{l[c.evaluationKey]=W;const V=c.expression.evaluate(l);M.data[K+L+0]=Math.floor(255*V.r/V.a),M.data[K+L+1]=Math.floor(255*V.g/V.a),M.data[K+L+2]=Math.floor(255*V.b/V.a),M.data[K+L+3]=Math.floor(255*V.a)};if(c.clips)for(let K=0,L=0;K<y;++K,L+=4*d)for(let W=0,V=0;W<d;W++,V+=4){const re=W/(d-1),{start:Ae,end:_e}=c.clips[K];T(L,V,Ae*(1-re)+_e*re)}else for(let K=0,L=0;K<d;K++,L+=4)T(0,L,K/(d-1));return M}Gn("AlphaImage",Fa),Gn("RGBAImage",hl);class th extends ka{createBucket(l){return new _0(l)}constructor(l){super(l,Vh),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=pd({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let EA;var Z1={get paint(){return EA=EA||new Aa({"hillshade-illumination-direction":new br(pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new br(pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new br(pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new br(pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new br(pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new br(pt.paint_hillshade["hillshade-accent-color"])})}};class Iu extends ka{constructor(l){super(l,Z1)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Tu=Qo([{name:"a_pos",components:2,type:"Int16"}],4),{members:tm}=Tu;var ip={exports:{}};function md(c,l,d){d=d||2;var y,M,T,K,L,W,V,re=l&&l.length,Ae=re?l[0]*d:c.length,_e=Zh(c,0,Ae,d,!0),Be=[];if(!_e||_e.next===_e.prev)return Be;if(re&&(_e=function(Ge,Ze,at,kt){var At,xt,nn,An=[];for(At=0,xt=Ze.length;At<xt;At++)(nn=Zh(Ge,Ze[At]*kt,At<xt-1?Ze[At+1]*kt:Ge.length,kt,!1))===nn.next&&(nn.steiner=!0),An.push(Tv(nn));for(An.sort(Fc),At=0;At<An.length;At++)at=X1(An[At],at);return at}(c,l,_e,d)),c.length>80*d){y=T=c[0],M=K=c[1];for(var Ke=d;Ke<Ae;Ke+=d)(L=c[Ke])<y&&(y=L),(W=c[Ke+1])<M&&(M=W),L>T&&(T=L),W>K&&(K=W);V=(V=Math.max(T-y,K-M))!==0?32767/V:0}return gd(_e,Be,d,y,M,V,0),Be}function Zh(c,l,d,y,M){var T,K;if(M===aA(c,l,d,y)>0)for(T=l;T<d;T+=y)K=w0(T,c[T],c[T+1],K);else for(T=d-y;T>=l;T-=y)K=w0(T,c[T],c[T+1],K);return K&&Jh(K,K.next)&&(up(K),K=K.next),K}function Au(c,l){if(!c)return c;l||(l=c);var d,y=c;do if(d=!1,y.steiner||!Jh(y,y.next)&&_a(y.prev,y,y.next)!==0)y=y.next;else{if(up(y),(y=l=y.prev)===y.next)break;d=!0}while(d||y!==l);return l}function gd(c,l,d,y,M,T,K){if(c){!K&&T&&function(re,Ae,_e,Be){var Ke=re;do Ke.z===0&&(Ke.z=vd(Ke.x,Ke.y,Ae,_e,Be)),Ke.prevZ=Ke.prev,Ke.nextZ=Ke.next,Ke=Ke.next;while(Ke!==re);Ke.prevZ.nextZ=null,Ke.prevZ=null,function(Ge){var Ze,at,kt,At,xt,nn,An,Un,Cr=1;do{for(at=Ge,Ge=null,xt=null,nn=0;at;){for(nn++,kt=at,An=0,Ze=0;Ze<Cr&&(An++,kt=kt.nextZ);Ze++);for(Un=Cr;An>0||Un>0&&kt;)An!==0&&(Un===0||!kt||at.z<=kt.z)?(At=at,at=at.nextZ,An--):(At=kt,kt=kt.nextZ,Un--),xt?xt.nextZ=At:Ge=At,At.prevZ=xt,xt=At;at=kt}xt.nextZ=null,Cr*=2}while(nn>1)}(Ke)}(c,y,M,T);for(var L,W,V=c;c.prev!==c.next;)if(L=c.prev,W=c.next,T?ap(c,y,M,T):op(c))l.push(L.i/d|0),l.push(c.i/d|0),l.push(W.i/d|0),up(c),c=W.next,V=W.next;else if((c=W)===V){K?K===1?gd(c=yd(Au(c),l,d),l,d,y,M,T,2):K===2&&sp(c,l,d,y,M,T):gd(Au(c),l,d,y,M,T,1);break}}}function op(c){var l=c.prev,d=c,y=c.next;if(_a(l,d,y)>=0)return!1;for(var M=l.x,T=d.x,K=y.x,L=l.y,W=d.y,V=y.y,re=M<T?M<K?M:K:T<K?T:K,Ae=L<W?L<V?L:V:W<V?W:V,_e=M>T?M>K?M:K:T>K?T:K,Be=L>W?L>V?L:V:W>V?W:V,Ke=y.next;Ke!==l;){if(Ke.x>=re&&Ke.x<=_e&&Ke.y>=Ae&&Ke.y<=Be&&Xh(M,L,T,W,K,V,Ke.x,Ke.y)&&_a(Ke.prev,Ke,Ke.next)>=0)return!1;Ke=Ke.next}return!0}function ap(c,l,d,y){var M=c.prev,T=c,K=c.next;if(_a(M,T,K)>=0)return!1;for(var L=M.x,W=T.x,V=K.x,re=M.y,Ae=T.y,_e=K.y,Be=L<W?L<V?L:V:W<V?W:V,Ke=re<Ae?re<_e?re:_e:Ae<_e?Ae:_e,Ge=L>W?L>V?L:V:W>V?W:V,Ze=re>Ae?re>_e?re:_e:Ae>_e?Ae:_e,at=vd(Be,Ke,l,d,y),kt=vd(Ge,Ze,l,d,y),At=c.prevZ,xt=c.nextZ;At&&At.z>=at&&xt&&xt.z<=kt;){if(At.x>=Be&&At.x<=Ge&&At.y>=Ke&&At.y<=Ze&&At!==M&&At!==K&&Xh(L,re,W,Ae,V,_e,At.x,At.y)&&_a(At.prev,At,At.next)>=0||(At=At.prevZ,xt.x>=Be&&xt.x<=Ge&&xt.y>=Ke&&xt.y<=Ze&&xt!==M&&xt!==K&&Xh(L,re,W,Ae,V,_e,xt.x,xt.y)&&_a(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;At&&At.z>=at;){if(At.x>=Be&&At.x<=Ge&&At.y>=Ke&&At.y<=Ze&&At!==M&&At!==K&&Xh(L,re,W,Ae,V,_e,At.x,At.y)&&_a(At.prev,At,At.next)>=0)return!1;At=At.prevZ}for(;xt&&xt.z<=kt;){if(xt.x>=Be&&xt.x<=Ge&&xt.y>=Ke&&xt.y<=Ze&&xt!==M&&xt!==K&&Xh(L,re,W,Ae,V,_e,xt.x,xt.y)&&_a(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function yd(c,l,d){var y=c;do{var M=y.prev,T=y.next.next;!Jh(M,T)&&J1(M,y,y.next,T)&&Xs(M,T)&&Xs(T,M)&&(l.push(M.i/d|0),l.push(y.i/d|0),l.push(T.i/d|0),up(y),up(y.next),y=c=T),y=y.next}while(y!==c);return Au(y)}function sp(c,l,d,y,M,T){var K=c;do{for(var L=K.next.next;L!==K.prev;){if(K.i!==L.i&&lp(K,L)){var W=oA(K,L);return K=Au(K,K.next),W=Au(W,W.next),gd(K,l,d,y,M,T,0),void gd(W,l,d,y,M,T,0)}L=L.next}K=K.next}while(K!==c)}function Fc(c,l){return c.x-l.x}function X1(c,l){var d=function(M,T){var K,L=T,W=M.x,V=M.y,re=-1/0;do{if(V<=L.y&&V>=L.next.y&&L.next.y!==L.y){var Ae=L.x+(V-L.y)*(L.next.x-L.x)/(L.next.y-L.y);if(Ae<=W&&Ae>re&&(re=Ae,K=L.x<L.next.x?L:L.next,Ae===W))return K}L=L.next}while(L!==T);if(!K)return null;var _e,Be=K,Ke=K.x,Ge=K.y,Ze=1/0;L=K;do W>=L.x&&L.x>=Ke&&W!==L.x&&Xh(V<Ge?W:re,V,Ke,Ge,V<Ge?re:W,V,L.x,L.y)&&(_e=Math.abs(V-L.y)/(W-L.x),Xs(L,M)&&(_e<Ze||_e===Ze&&(L.x>K.x||L.x===K.x&&x0(K,L)))&&(K=L,Ze=_e)),L=L.next;while(L!==Be);return K}(c,l);if(!d)return l;var y=oA(d,c);return Au(y,y.next),Au(d,d.next)}function x0(c,l){return _a(c.prev,c,l.prev)<0&&_a(l.next,c,c.next)<0}function vd(c,l,d,y,M){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*M|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-y)*M|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function Tv(c){var l=c,d=c;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==c);return d}function Xh(c,l,d,y,M,T,K,L){return(M-K)*(l-L)>=(c-K)*(T-L)&&(c-K)*(y-L)>=(d-K)*(l-L)&&(d-K)*(T-L)>=(M-K)*(y-L)}function lp(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(d,y){var M=d;do{if(M.i!==d.i&&M.next.i!==d.i&&M.i!==y.i&&M.next.i!==y.i&&J1(M,M.next,d,y))return!0;M=M.next}while(M!==d);return!1}(c,l)&&(Xs(c,l)&&Xs(l,c)&&function(d,y){var M=d,T=!1,K=(d.x+y.x)/2,L=(d.y+y.y)/2;do M.y>L!=M.next.y>L&&M.next.y!==M.y&&K<(M.next.x-M.x)*(L-M.y)/(M.next.y-M.y)+M.x&&(T=!T),M=M.next;while(M!==d);return T}(c,l)&&(_a(c.prev,c,l.prev)||_a(c,l.prev,l))||Jh(c,l)&&_a(c.prev,c,c.next)>0&&_a(l.prev,l,l.next)>0)}function _a(c,l,d){return(l.y-c.y)*(d.x-l.x)-(l.x-c.x)*(d.y-l.y)}function Jh(c,l){return c.x===l.x&&c.y===l.y}function J1(c,l,d,y){var M=ef(_a(c,l,d)),T=ef(_a(c,l,y)),K=ef(_a(d,y,c)),L=ef(_a(d,y,l));return M!==T&&K!==L||!(M!==0||!nh(c,d,l))||!(T!==0||!nh(c,y,l))||!(K!==0||!nh(d,c,y))||!(L!==0||!nh(d,l,y))}function nh(c,l,d){return l.x<=Math.max(c.x,d.x)&&l.x>=Math.min(c.x,d.x)&&l.y<=Math.max(c.y,d.y)&&l.y>=Math.min(c.y,d.y)}function ef(c){return c>0?1:c<0?-1:0}function Xs(c,l){return _a(c.prev,c,c.next)<0?_a(c,l,c.next)>=0&&_a(c,c.prev,l)>=0:_a(c,l,c.prev)<0||_a(c,c.next,l)<0}function oA(c,l){var d=new _d(c.i,c.x,c.y),y=new _d(l.i,l.x,l.y),M=c.next,T=l.prev;return c.next=l,l.prev=c,d.next=M,M.prev=d,y.next=d,d.prev=y,T.next=y,y.prev=T,y}function w0(c,l,d,y){var M=new _d(c,l,d);return y?(M.next=y.next,M.prev=y,y.next.prev=M,y.next=M):(M.prev=M,M.next=M),M}function up(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function _d(c,l,d){this.i=c,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aA(c,l,d,y){for(var M=0,T=l,K=d-y;T<d;T+=y)M+=(c[K]-c[T])*(c[T+1]+c[K+1]),K=T;return M}ip.exports=md,ip.exports.default=md,md.deviation=function(c,l,d,y){var M=l&&l.length,T=Math.abs(aA(c,0,M?l[0]*d:c.length,d));if(M)for(var K=0,L=l.length;K<L;K++)T-=Math.abs(aA(c,l[K]*d,K<L-1?l[K+1]*d:c.length,d));var W=0;for(K=0;K<y.length;K+=3){var V=y[K]*d,re=y[K+1]*d,Ae=y[K+2]*d;W+=Math.abs((c[V]-c[Ae])*(c[re+1]-c[V+1])-(c[V]-c[re])*(c[Ae+1]-c[V+1]))}return T===0&&W===0?0:Math.abs((W-T)/T)},md.flatten=function(c){for(var l=c[0][0].length,d={vertices:[],holes:[],dimensions:l},y=0,M=0;M<c.length;M++){for(var T=0;T<c[M].length;T++)for(var K=0;K<l;K++)d.vertices.push(c[M][T][K]);M>0&&d.holes.push(y+=c[M-1].length)}return d};var rh=h(ip.exports);function eg(c,l,d,y,M){M0(c,l,d||0,y||c.length-1,M||nf)}function M0(c,l,d,y,M){for(;y>d;){if(y-d>600){var T=y-d+1,K=l-d+1,L=Math.log(T),W=.5*Math.exp(2*L/3),V=.5*Math.sqrt(L*W*(T-W)/T)*(K-T/2<0?-1:1);M0(c,l,Math.max(d,Math.floor(l-K*W/T+V)),Math.min(y,Math.floor(l+(T-K)*W/T+V)),M)}var re=c[l],Ae=d,_e=y;for(tf(c,d,l),M(c[y],re)>0&&tf(c,d,y);Ae<_e;){for(tf(c,Ae,_e),Ae++,_e--;M(c[Ae],re)<0;)Ae++;for(;M(c[_e],re)>0;)_e--}M(c[d],re)===0?tf(c,d,_e):tf(c,++_e,y),_e<=l&&(d=_e+1),l<=_e&&(y=_e-1)}}function tf(c,l,d){var y=c[l];c[l]=c[d],c[d]=y}function nf(c,l){return c<l?-1:c>l?1:0}function ih(c,l){const d=c.length;if(d<=1)return[c];const y=[];let M,T;for(let K=0;K<d;K++){const L=ge(c[K]);L!==0&&(c[K].area=Math.abs(L),T===void 0&&(T=L<0),T===L<0?(M&&y.push(M),M=[c[K]]):M.push(c[K]))}if(M&&y.push(M),l>1)for(let K=0;K<y.length;K++)y[K].length<=l||(eg(y[K],l,1,y[K].length-1,Kv),y[K]=y[K].slice(0,l));return y}function Kv(c,l){return l.area-c.area}function Ap(c,l,d){const y=d.patternDependencies;let M=!1;for(const T of l){const K=T.paint.get(`${c}-pattern`);K.isConstant()||(M=!0);const L=K.constantOr(null);L&&(M=!0,y[L.to]=!0,y[L.from]=!0)}return M}function nm(c,l,d,y,M){const T=M.patternDependencies;for(const K of l){const L=K.paint.get(`${c}-pattern`).value;if(L.kind!=="constant"){let W=L.evaluate({zoom:y-1},d,{},M.availableImages),V=L.evaluate({zoom:y},d,{},M.availableImages),re=L.evaluate({zoom:y+1},d,{},M.availableImages);W=W&&W.name?W.name:W,V=V&&V.name?V.name:V,re=re&&re.name?re.name:re,T[W]=!0,T[V]=!0,T[re]=!0,d.patterns[K.id]={min:W,mid:V,max:re}}}return d}class rf{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Oe,this.indexArray=new Ut,this.indexArray2=new Zt,this.programConfigurations=new Vo(l.layers,l.zoom),this.segments=new pn,this.segments2=new pn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=Ap("fill",this.layers,d);const M=this.layers[0].layout.get("fill-sort-key"),T=!M.isConstant(),K=[];for(const{feature:L,id:W,index:V,sourceLayerIndex:re}of l){const Ae=this.layers[0]._featureFilter.needGeometry,_e=ac(L,Ae);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),_e,y))continue;const Be=T?M.evaluate(_e,{},y,d.availableImages):void 0,Ke={id:W,properties:L.properties,type:L.type,sourceLayerIndex:re,index:V,geometry:Ae?_e.geometry:lu(L),patterns:{},sortKey:Be};K.push(Ke)}T&&K.sort((L,W)=>L.sortKey-W.sortKey);for(const L of K){const{geometry:W,index:V,sourceLayerIndex:re}=L;if(this.hasPattern){const Ae=nm("fill",this.layers,L,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(L,W,V,y,{});d.featureIndex.insert(l[V].feature,W,V,re,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,tm),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,y,M,T){for(const K of ih(d,500)){let L=0;for(const Be of K)L+=Be.length;const W=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray),V=W.vertexLength,re=[],Ae=[];for(const Be of K){if(Be.length===0)continue;Be!==K[0]&&Ae.push(re.length/2);const Ke=this.segments2.prepareSegment(Be.length,this.layoutVertexArray,this.indexArray2),Ge=Ke.vertexLength;this.layoutVertexArray.emplaceBack(Be[0].x,Be[0].y),this.indexArray2.emplaceBack(Ge+Be.length-1,Ge),re.push(Be[0].x),re.push(Be[0].y);for(let Ze=1;Ze<Be.length;Ze++)this.layoutVertexArray.emplaceBack(Be[Ze].x,Be[Ze].y),this.indexArray2.emplaceBack(Ge+Ze-1,Ge+Ze),re.push(Be[Ze].x),re.push(Be[Ze].y);Ke.vertexLength+=Be.length,Ke.primitiveLength+=Be.length}const _e=rh(re,Ae);for(let Be=0;Be<_e.length;Be+=3)this.indexArray.emplaceBack(V+_e[Be],V+_e[Be+1],V+_e[Be+2]);W.vertexLength+=L,W.primitiveLength+=_e.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}}let rm,oh;Gn("FillBucket",rf,{omit:["layers","patternFeatures"]});var im={get paint(){return oh=oh||new Aa({"fill-antialias":new br(pt.paint_fill["fill-antialias"]),"fill-opacity":new Br(pt.paint_fill["fill-opacity"]),"fill-color":new Br(pt.paint_fill["fill-color"]),"fill-outline-color":new Br(pt.paint_fill["fill-outline-color"]),"fill-translate":new br(pt.paint_fill["fill-translate"]),"fill-translate-anchor":new br(pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new wA(pt.paint_fill["fill-pattern"])})},get layout(){return rm=rm||new Aa({"fill-sort-key":new Br(pt.layout_fill["fill-sort-key"])})}};class om extends ka{constructor(l){super(l,im)}recalculate(l,d){super.recalculate(l,d);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new rf(l)}queryRadius(){return Hh(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,y,M,T,K,L){return SA(uu(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),K.angle,L),M)}isTileClipped(){return!0}}const tg=Qo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ah=Qo([{name:"a_centroid",components:2,type:"Int16"}],4),{members:cp}=tg;var sA={},S0=g,ng=sh;function sh(c,l,d,y,M){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=y,this._values=M,c.readFields(Co,this,l)}function Co(c,l,d){c==1?l.id=d.readVarint():c==2?function(y,M){for(var T=y.readVarint()+y.pos;y.pos<T;){var K=M._keys[y.readVarint()],L=M._values[y.readVarint()];M.properties[K]=L}}(d,l):c==3?l.type=d.readVarint():c==4&&(l._geometry=d.pos)}function rg(c){for(var l,d,y=0,M=0,T=c.length,K=T-1;M<T;K=M++)y+=((d=c[K]).x-(l=c[M]).x)*(l.y+d.y);return y}sh.types=["Unknown","Point","LineString","Polygon"],sh.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,d=c.readVarint()+c.pos,y=1,M=0,T=0,K=0,L=[];c.pos<d;){if(M<=0){var W=c.readVarint();y=7&W,M=W>>3}if(M--,y===1||y===2)T+=c.readSVarint(),K+=c.readSVarint(),y===1&&(l&&L.push(l),l=[]),l.push(new S0(T,K));else{if(y!==7)throw new Error("unknown command "+y);l&&l.push(l[0].clone())}}return l&&L.push(l),L},sh.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,d=1,y=0,M=0,T=0,K=1/0,L=-1/0,W=1/0,V=-1/0;c.pos<l;){if(y<=0){var re=c.readVarint();d=7&re,y=re>>3}if(y--,d===1||d===2)(M+=c.readSVarint())<K&&(K=M),M>L&&(L=M),(T+=c.readSVarint())<W&&(W=T),T>V&&(V=T);else if(d!==7)throw new Error("unknown command "+d)}return[K,W,L,V]},sh.prototype.toGeoJSON=function(c,l,d){var y,M,T=this.extent*Math.pow(2,d),K=this.extent*c,L=this.extent*l,W=this.loadGeometry(),V=sh.types[this.type];function re(Be){for(var Ke=0;Ke<Be.length;Ke++){var Ge=Be[Ke];Be[Ke]=[360*(Ge.x+K)/T-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ge.y+L)/T)*Math.PI/180))-90]}}switch(this.type){case 1:var Ae=[];for(y=0;y<W.length;y++)Ae[y]=W[y][0];re(W=Ae);break;case 2:for(y=0;y<W.length;y++)re(W[y]);break;case 3:for(W=function(Be){var Ke=Be.length;if(Ke<=1)return[Be];for(var Ge,Ze,at=[],kt=0;kt<Ke;kt++){var At=rg(Be[kt]);At!==0&&(Ze===void 0&&(Ze=At<0),Ze===At<0?(Ge&&at.push(Ge),Ge=[Be[kt]]):Ge.push(Be[kt]))}return Ge&&at.push(Ge),at}(W),y=0;y<W.length;y++)for(M=0;M<W[y].length;M++)re(W[y][M])}W.length===1?W=W[0]:V="Multi"+V;var _e={type:"Feature",geometry:{type:V,coordinates:W},properties:this.properties};return"id"in this&&(_e.id=this.id),_e};var am=ng,of=Ku;function Ku(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(sm,this,l),this.length=this._features.length}function sm(c,l,d){c===15?l.version=d.readVarint():c===1?l.name=d.readString():c===5?l.extent=d.readVarint():c===2?l._features.push(d.pos):c===3?l._keys.push(d.readString()):c===4&&l._values.push(function(y){for(var M=null,T=y.readVarint()+y.pos;y.pos<T;){var K=y.readVarint()>>3;M=K===1?y.readString():K===2?y.readFloat():K===3?y.readDouble():K===4?y.readVarint64():K===5?y.readVarint():K===6?y.readSVarint():K===7?y.readBoolean():null}return M}(d))}Ku.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new am(this._pbf,l,this.extent,this._keys,this._values)};var E0=of;function sc(c,l,d){if(c===3){var y=new E0(d,d.readVarint()+d.pos);y.length&&(l[y.name]=y)}}sA.VectorTile=function(c,l){this.layers=c.readFields(sc,{},l)},sA.VectorTileFeature=ng,sA.VectorTileLayer=of;const lm=sA.VectorTileFeature.types,af=Math.pow(2,13);function Dc(c,l,d,y,M,T,K,L){c.emplaceBack(l,d,2*Math.floor(y*af)+K,M*af*2,T*af*2,Math.round(L))}class lh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ye,this.centroidVertexArray=new de,this.indexArray=new Ut,this.programConfigurations=new Vo(l.layers,l.zoom),this.segments=new pn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.features=[],this.hasPattern=Ap("fill-extrusion",this.layers,d);for(const{feature:M,id:T,index:K,sourceLayerIndex:L}of l){const W=this.layers[0]._featureFilter.needGeometry,V=ac(M,W);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),V,y))continue;const re={id:T,sourceLayerIndex:L,index:K,geometry:W?V.geometry:lu(M),properties:M.properties,type:M.type,patterns:{}};this.hasPattern?this.features.push(nm("fill-extrusion",this.layers,re,this.zoom,d)):this.addFeature(re,re.geometry,K,y,{}),d.featureIndex.insert(M,re.geometry,K,L,this.index,!0)}}addFeatures(l,d,y){for(const M of this.features){const{geometry:T}=M;this.addFeature(M,T,M.index,d,y)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,cp),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,ah.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,y,M,T){const K={x:0,y:0,vertexCount:0};for(const L of ih(d,500)){let W=0;for(const Ke of L)W+=Ke.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Ke of L){if(Ke.length===0||Xr(Ke))continue;let Ge=0;for(let Ze=0;Ze<Ke.length;Ze++){const at=Ke[Ze];if(Ze>=1){const kt=Ke[Ze-1];if(!sf(at,kt)){V.vertexLength+4>pn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const At=at.sub(kt)._perp()._unit(),xt=kt.dist(at);Ge+xt>32768&&(Ge=0),Dc(this.layoutVertexArray,at.x,at.y,At.x,At.y,0,0,Ge),Dc(this.layoutVertexArray,at.x,at.y,At.x,At.y,0,1,Ge),K.x+=2*at.x,K.y+=2*at.y,K.vertexCount+=2,Ge+=xt,Dc(this.layoutVertexArray,kt.x,kt.y,At.x,At.y,0,0,Ge),Dc(this.layoutVertexArray,kt.x,kt.y,At.x,At.y,0,1,Ge),K.x+=2*kt.x,K.y+=2*kt.y,K.vertexCount+=2;const nn=V.vertexLength;this.indexArray.emplaceBack(nn,nn+2,nn+1),this.indexArray.emplaceBack(nn+1,nn+2,nn+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+W>pn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(W,this.layoutVertexArray,this.indexArray)),lm[l.type]!=="Polygon")continue;const re=[],Ae=[],_e=V.vertexLength;for(const Ke of L)if(Ke.length!==0){Ke!==L[0]&&Ae.push(re.length/2);for(let Ge=0;Ge<Ke.length;Ge++){const Ze=Ke[Ge];Dc(this.layoutVertexArray,Ze.x,Ze.y,0,0,1,1,0),K.x+=Ze.x,K.y+=Ze.y,K.vertexCount+=1,re.push(Ze.x),re.push(Ze.y)}}const Be=rh(re,Ae);for(let Ke=0;Ke<Be.length;Ke+=3)this.indexArray.emplaceBack(_e+Be[Ke],_e+Be[Ke+2],_e+Be[Ke+1]);V.primitiveLength+=Be.length/3,V.vertexLength+=W}for(let L=0;L<K.vertexCount;L++)this.centroidVertexArray.emplaceBack(Math.floor(K.x/K.vertexCount),Math.floor(K.y/K.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}}function sf(c,l){return c.x===l.x&&(c.x<0||c.x>Ki)||c.y===l.y&&(c.y<0||c.y>Ki)}function Xr(c){return c.every(l=>l.x<0)||c.every(l=>l.x>Ki)||c.every(l=>l.y<0)||c.every(l=>l.y>Ki)}let lf;Gn("FillExtrusionBucket",lh,{omit:["layers","features"]});var Mo={get paint(){return lf=lf||new Aa({"fill-extrusion-opacity":new br(pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Br(pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new br(pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new br(pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new wA(pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Br(pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Br(pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new br(pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Cd extends ka{constructor(l){super(l,Mo)}createBucket(l){return new lh(l)}queryRadius(){return Hh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,y,M,T,K,L,W){const V=uu(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),K.angle,L),re=this.paint.get("fill-extrusion-height").evaluate(d,y),Ae=this.paint.get("fill-extrusion-base").evaluate(d,y),_e=function(Ke,Ge,Ze,at){const kt=[];for(const At of Ke){const xt=[At.x,At.y,0,1];Jp(xt,xt,Ge),kt.push(new B(xt[0]/xt[3],xt[1]/xt[3]))}return kt}(V,W),Be=function(Ke,Ge,Ze,at){const kt=[],At=[],xt=at[8]*Ge,nn=at[9]*Ge,An=at[10]*Ge,Un=at[11]*Ge,Cr=at[8]*Ze,Hn=at[9]*Ze,xn=at[10]*Ze,mn=at[11]*Ze;for(const sr of Ke){const Rn=[],Sn=[];for(const Dr of sr){const wr=Dr.x,zi=Dr.y,da=at[0]*wr+at[4]*zi+at[12],ha=at[1]*wr+at[5]*zi+at[13],La=at[2]*wr+at[6]*zi+at[14],cu=at[3]*wr+at[7]*zi+at[15],du=La+An,ds=cu+Un,ks=da+Cr,Zo=ha+Hn,Ns=La+xn,hu=cu+mn,Gs=new B((da+xt)/ds,(ha+nn)/ds);Gs.z=du/ds,Rn.push(Gs);const Qs=new B(ks/hu,Zo/hu);Qs.z=Ns/hu,Sn.push(Qs)}kt.push(Rn),At.push(Sn)}return[kt,At]}(M,Ae,re,W);return function(Ke,Ge,Ze){let at=1/0;SA(Ze,Ge)&&(at=Lc(Ze,Ge[0]));for(let kt=0;kt<Ge.length;kt++){const At=Ge[kt],xt=Ke[kt];for(let nn=0;nn<At.length-1;nn++){const An=At[nn],Un=[An,At[nn+1],xt[nn+1],xt[nn],An];ku(Ze,Un)&&(at=Math.min(at,Lc(Ze,Un)))}}return at!==1/0&&at}(Be[0],Be[1],_e)}}function dp(c,l){return c.x*l.x+c.y*l.y}function Lc(c,l){if(c.length===1){let d=0;const y=l[d++];let M;for(;!M||y.equals(M);)if(M=l[d++],!M)return 1/0;for(;d<l.length;d++){const T=l[d],K=c[0],L=M.sub(y),W=T.sub(y),V=K.sub(y),re=dp(L,L),Ae=dp(L,W),_e=dp(W,W),Be=dp(V,L),Ke=dp(V,W),Ge=re*_e-Ae*Ae,Ze=(_e*Be-Ae*Ke)/Ge,at=(re*Ke-Ae*Be)/Ge,kt=y.z*(1-Ze-at)+M.z*Ze+T.z*at;if(isFinite(kt))return kt}return 1/0}{let d=1/0;for(const y of l)d=Math.min(d,y.z);return d}}const ig=Qo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Rs}=ig,Pv=Qo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:$a}=Pv,og=sA.VectorTileFeature.types,Fv=Math.cos(Math.PI/180*37.5),O0=Math.pow(2,14)/.5;class uf{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new $e,this.layoutVertexArray2=new He,this.indexArray=new Ut,this.programConfigurations=new Vo(l.layers,l.zoom),this.segments=new pn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=Ap("line",this.layers,d);const M=this.layers[0].layout.get("line-sort-key"),T=!M.isConstant(),K=[];for(const{feature:L,id:W,index:V,sourceLayerIndex:re}of l){const Ae=this.layers[0]._featureFilter.needGeometry,_e=ac(L,Ae);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),_e,y))continue;const Be=T?M.evaluate(_e,{},y):void 0,Ke={id:W,properties:L.properties,type:L.type,sourceLayerIndex:re,index:V,geometry:Ae?_e.geometry:lu(L),patterns:{},sortKey:Be};K.push(Ke)}T&&K.sort((L,W)=>L.sortKey-W.sortKey);for(const L of K){const{geometry:W,index:V,sourceLayerIndex:re}=L;if(this.hasPattern){const Ae=nm("line",this.layers,L,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(L,W,V,y,{});d.featureIndex.insert(l[V].feature,W,V,re,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,$a)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Rs),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,y,M,T){const K=this.layers[0].layout,L=K.get("line-join").evaluate(l,{}),W=K.get("line-cap"),V=K.get("line-miter-limit"),re=K.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Ae of d)this.addLine(Ae,l,L,W,V,re);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}addLine(l,d,y,M,T,K){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let at=0;at<l.length-1;at++)this.totalDistance+=l[at].dist(l[at+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const L=og[d.type]==="Polygon";let W=l.length;for(;W>=2&&l[W-1].equals(l[W-2]);)W--;let V=0;for(;V<W-1&&l[V].equals(l[V+1]);)V++;if(W<(L?3:2))return;y==="bevel"&&(T=1.05);const re=this.overscaling<=16?15*Ki/(512*this.overscaling):0,Ae=this.segments.prepareSegment(10*W,this.layoutVertexArray,this.indexArray);let _e,Be,Ke,Ge,Ze;this.e1=this.e2=-1,L&&(_e=l[W-2],Ze=l[V].sub(_e)._unit()._perp());for(let at=V;at<W;at++){if(Ke=at===W-1?L?l[V+1]:void 0:l[at+1],Ke&&l[at].equals(Ke))continue;Ze&&(Ge=Ze),_e&&(Be=_e),_e=l[at],Ze=Ke?Ke.sub(_e)._unit()._perp():Ge,Ge=Ge||Ze;let kt=Ge.add(Ze);kt.x===0&&kt.y===0||kt._unit();const At=Ge.x*Ze.x+Ge.y*Ze.y,xt=kt.x*Ze.x+kt.y*Ze.y,nn=xt!==0?1/xt:1/0,An=2*Math.sqrt(2-2*xt),Un=xt<Fv&&Be&&Ke,Cr=Ge.x*Ze.y-Ge.y*Ze.x>0;if(Un&&at>V){const mn=_e.dist(Be);if(mn>2*re){const sr=_e.sub(_e.sub(Be)._mult(re/mn)._round());this.updateDistance(Be,sr),this.addCurrentVertex(sr,Ge,0,0,Ae),Be=sr}}const Hn=Be&&Ke;let xn=Hn?y:L?"butt":M;if(Hn&&xn==="round"&&(nn<K?xn="miter":nn<=2&&(xn="fakeround")),xn==="miter"&&nn>T&&(xn="bevel"),xn==="bevel"&&(nn>2&&(xn="flipbevel"),nn<T&&(xn="miter")),Be&&this.updateDistance(Be,_e),xn==="miter")kt._mult(nn),this.addCurrentVertex(_e,kt,0,0,Ae);else if(xn==="flipbevel"){if(nn>100)kt=Ze.mult(-1);else{const mn=nn*Ge.add(Ze).mag()/Ge.sub(Ze).mag();kt._perp()._mult(mn*(Cr?-1:1))}this.addCurrentVertex(_e,kt,0,0,Ae),this.addCurrentVertex(_e,kt.mult(-1),0,0,Ae)}else if(xn==="bevel"||xn==="fakeround"){const mn=-Math.sqrt(nn*nn-1),sr=Cr?mn:0,Rn=Cr?0:mn;if(Be&&this.addCurrentVertex(_e,Ge,sr,Rn,Ae),xn==="fakeround"){const Sn=Math.round(180*An/Math.PI/20);for(let Dr=1;Dr<Sn;Dr++){let wr=Dr/Sn;if(wr!==.5){const da=wr-.5;wr+=wr*da*(wr-1)*((1.0904+At*(At*(3.55645-1.43519*At)-3.2452))*da*da+(.848013+At*(.215638*At-1.06021)))}const zi=Ze.sub(Ge)._mult(wr)._add(Ge)._unit()._mult(Cr?-1:1);this.addHalfVertex(_e,zi.x,zi.y,!1,Cr,0,Ae)}}Ke&&this.addCurrentVertex(_e,Ze,-sr,-Rn,Ae)}else if(xn==="butt")this.addCurrentVertex(_e,kt,0,0,Ae);else if(xn==="square"){const mn=Be?1:-1;this.addCurrentVertex(_e,kt,mn,mn,Ae)}else xn==="round"&&(Be&&(this.addCurrentVertex(_e,Ge,0,0,Ae),this.addCurrentVertex(_e,Ge,1,1,Ae,!0)),Ke&&(this.addCurrentVertex(_e,Ze,-1,-1,Ae,!0),this.addCurrentVertex(_e,Ze,0,0,Ae)));if(Un&&at<W-1){const mn=_e.dist(Ke);if(mn>2*re){const sr=_e.add(Ke.sub(_e)._mult(re/mn)._round());this.updateDistance(_e,sr),this.addCurrentVertex(sr,Ze,0,0,Ae),_e=sr}}}}addCurrentVertex(l,d,y,M,T,K=!1){const L=d.y*M-d.x,W=-d.y-d.x*M;this.addHalfVertex(l,d.x+d.y*y,d.y-d.x*y,K,!1,y,T),this.addHalfVertex(l,L,W,K,!0,-M,T),this.distance>O0/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,y,M,T,K))}addHalfVertex({x:l,y:d},y,M,T,K,L,W){const V=.5*(this.lineClips?this.scaledDistance*(O0-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(T?1:0),(d<<1)+(K?1:0),Math.round(63*y)+128,Math.round(63*M)+128,1+(L===0?0:L<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const re=W.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,re),W.primitiveLength++),K?this.e2=re:this.e1=re}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let A,f;Gn("LineBucket",uf,{omit:["layers","patternFeatures"]});var x={get paint(){return f=f||new Aa({"line-opacity":new Br(pt.paint_line["line-opacity"]),"line-color":new Br(pt.paint_line["line-color"]),"line-translate":new br(pt.paint_line["line-translate"]),"line-translate-anchor":new br(pt.paint_line["line-translate-anchor"]),"line-width":new Br(pt.paint_line["line-width"]),"line-gap-width":new Br(pt.paint_line["line-gap-width"]),"line-offset":new Br(pt.paint_line["line-offset"]),"line-blur":new Br(pt.paint_line["line-blur"]),"line-dasharray":new Kc(pt.paint_line["line-dasharray"]),"line-pattern":new wA(pt.paint_line["line-pattern"]),"line-gradient":new JA(pt.paint_line["line-gradient"])})},get layout(){return A=A||new Aa({"line-cap":new br(pt.layout_line["line-cap"]),"line-join":new Br(pt.layout_line["line-join"]),"line-miter-limit":new br(pt.layout_line["line-miter-limit"]),"line-round-limit":new br(pt.layout_line["line-round-limit"]),"line-sort-key":new Br(pt.layout_line["line-sort-key"])})}};class b extends Br{possiblyEvaluate(l,d){return d=new wo(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,y,M){return d=J({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,y,M)}}let E;class U extends ka{constructor(l){super(l,x),this.gradientVersion=0,E||(E=new b(x.paint.properties["line-width"].specification),E.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof ul,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=E.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new uf(l)}queryRadius(l){const d=l,y=$(qh("line-width",this,d),qh("line-gap-width",this,d)),M=qh("line-offset",this,d);return y/2+Math.abs(M)+Hh(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,y,M,T,K,L){const W=uu(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),K.angle,L),V=L/2*$(this.paint.get("line-width").evaluate(d,y),this.paint.get("line-gap-width").evaluate(d,y)),re=this.paint.get("line-offset").evaluate(d,y);return re&&(M=function(Ae,_e){const Be=[];for(let Ke=0;Ke<Ae.length;Ke++){const Ge=Ae[Ke],Ze=[];for(let at=0;at<Ge.length;at++){const kt=Ge[at-1],At=Ge[at],xt=Ge[at+1],nn=at===0?new B(0,0):At.sub(kt)._unit()._perp(),An=at===Ge.length-1?new B(0,0):xt.sub(At)._unit()._perp(),Un=nn._add(An)._unit(),Cr=Un.x*An.x+Un.y*An.y;Cr!==0&&Un._mult(1/Cr),Ze.push(Un._mult(_e)._add(At))}Be.push(Ze)}return Be}(M,re*L)),function(Ae,_e,Be){for(let Ke=0;Ke<_e.length;Ke++){const Ge=_e[Ke];if(Ae.length>=3){for(let Ze=0;Ze<Ge.length;Ze++)if(iA(Ae,Ge[Ze]))return!0}if(np(Ae,Ge,Be))return!0}return!1}(W,M,V)}isTileClipped(){return!0}}function $(c,l){return l>0?l+2*c:c}const ne=Qo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),le=Qo([{name:"a_projected_pos",components:3,type:"Float32"}],4);Qo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const me=Qo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Qo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Qe=Qo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nt=Qo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ot(c,l,d){return c.sections.forEach(y=>{y.text=function(M,T,K){const L=T.layout.get("text-transform").evaluate(K,{});return L==="uppercase"?M=M.toLocaleUpperCase():L==="lowercase"&&(M=M.toLocaleLowerCase()),Xu.applyArabicShaping&&(M=Xu.applyArabicShaping(M)),M}(y.text,l,d)}),c}Qo([{name:"triangle",components:3,type:"Uint16"}]),Qo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Qo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Qo([{type:"Float32",name:"offsetX"}]),Qo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Qo([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const yt={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Wt=24,cn=bn,In=function(c,l,d,y,M){var T,K,L=8*M-y-1,W=(1<<L)-1,V=W>>1,re=-7,Ae=d?M-1:0,_e=d?-1:1,Be=c[l+Ae];for(Ae+=_e,T=Be&(1<<-re)-1,Be>>=-re,re+=L;re>0;T=256*T+c[l+Ae],Ae+=_e,re-=8);for(K=T&(1<<-re)-1,T>>=-re,re+=y;re>0;K=256*K+c[l+Ae],Ae+=_e,re-=8);if(T===0)T=1-V;else{if(T===W)return K?NaN:1/0*(Be?-1:1);K+=Math.pow(2,y),T-=V}return(Be?-1:1)*K*Math.pow(2,T-y)},Yn=function(c,l,d,y,M,T){var K,L,W,V=8*T-M-1,re=(1<<V)-1,Ae=re>>1,_e=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,Be=y?0:T-1,Ke=y?1:-1,Ge=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(L=isNaN(l)?1:0,K=re):(K=Math.floor(Math.log(l)/Math.LN2),l*(W=Math.pow(2,-K))<1&&(K--,W*=2),(l+=K+Ae>=1?_e/W:_e*Math.pow(2,1-Ae))*W>=2&&(K++,W/=2),K+Ae>=re?(L=0,K=re):K+Ae>=1?(L=(l*W-1)*Math.pow(2,M),K+=Ae):(L=l*Math.pow(2,Ae-1)*Math.pow(2,M),K=0));M>=8;c[d+Be]=255&L,Be+=Ke,L/=256,M-=8);for(K=K<<M|L,V+=M;V>0;c[d+Be]=255&K,Be+=Ke,K/=256,V-=8);c[d+Be-Ke]|=128*Ge};function bn(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}bn.Varint=0,bn.Fixed64=1,bn.Bytes=2,bn.Fixed32=5;var Ln=4294967296,ar=1/Ln,Tr=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _r(c){return c.type===bn.Bytes?c.readVarint()+c.pos:c.pos+1}function hi(c,l,d){return d?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function Uo(c,l,d){var y=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(y);for(var M=d.pos-1;M>=c;M--)d.buf[M+y]=d.buf[M]}function Ya(c,l){for(var d=0;d<c.length;d++)l.writeVarint(c[d])}function Ca(c,l){for(var d=0;d<c.length;d++)l.writeSVarint(c[d])}function Da(c,l){for(var d=0;d<c.length;d++)l.writeFloat(c[d])}function us(c,l){for(var d=0;d<c.length;d++)l.writeDouble(c[d])}function As(c,l){for(var d=0;d<c.length;d++)l.writeBoolean(c[d])}function Ml(c,l){for(var d=0;d<c.length;d++)l.writeFixed32(c[d])}function Js(c,l){for(var d=0;d<c.length;d++)l.writeSFixed32(c[d])}function Os(c,l){for(var d=0;d<c.length;d++)l.writeFixed64(c[d])}function cs(c,l){for(var d=0;d<c.length;d++)l.writeSFixed64(c[d])}function ca(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function Bs(c,l,d){c[d]=l,c[d+1]=l>>>8,c[d+2]=l>>>16,c[d+3]=l>>>24}function uh(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}bn.prototype={destroy:function(){this.buf=null},readFields:function(c,l,d){for(d=d||this.length;this.pos<d;){var y=this.readVarint(),M=y>>3,T=this.pos;this.type=7&y,c(M,l,this),this.pos===T&&this.skip(y)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=ca(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=uh(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=ca(this.buf,this.pos)+ca(this.buf,this.pos+4)*Ln;return this.pos+=8,c},readSFixed64:function(){var c=ca(this.buf,this.pos)+uh(this.buf,this.pos+4)*Ln;return this.pos+=8,c},readFloat:function(){var c=In(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=In(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,d,y=this.buf;return l=127&(d=y[this.pos++]),d<128?l:(l|=(127&(d=y[this.pos++]))<<7,d<128?l:(l|=(127&(d=y[this.pos++]))<<14,d<128?l:(l|=(127&(d=y[this.pos++]))<<21,d<128?l:function(M,T,K){var L,W,V=K.buf;if(L=(112&(W=V[K.pos++]))>>4,W<128||(L|=(127&(W=V[K.pos++]))<<3,W<128)||(L|=(127&(W=V[K.pos++]))<<10,W<128)||(L|=(127&(W=V[K.pos++]))<<17,W<128)||(L|=(127&(W=V[K.pos++]))<<24,W<128)||(L|=(1&(W=V[K.pos++]))<<31,W<128))return hi(M,L,T);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=y[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&Tr?function(d,y,M){return Tr.decode(d.subarray(y,M))}(this.buf,l,c):function(d,y,M){for(var T="",K=y;K<M;){var L,W,V,re=d[K],Ae=null,_e=re>239?4:re>223?3:re>191?2:1;if(K+_e>M)break;_e===1?re<128&&(Ae=re):_e===2?(192&(L=d[K+1]))==128&&(Ae=(31&re)<<6|63&L)<=127&&(Ae=null):_e===3?(W=d[K+2],(192&(L=d[K+1]))==128&&(192&W)==128&&((Ae=(15&re)<<12|(63&L)<<6|63&W)<=2047||Ae>=55296&&Ae<=57343)&&(Ae=null)):_e===4&&(W=d[K+2],V=d[K+3],(192&(L=d[K+1]))==128&&(192&W)==128&&(192&V)==128&&((Ae=(15&re)<<18|(63&L)<<12|(63&W)<<6|63&V)<=65535||Ae>=1114112)&&(Ae=null)),Ae===null?(Ae=65533,_e=1):Ae>65535&&(Ae-=65536,T+=String.fromCharCode(Ae>>>10&1023|55296),Ae=56320|1023&Ae),T+=String.fromCharCode(Ae),K+=_e}return T}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==bn.Bytes)return c.push(this.readVarint(l));var d=_r(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==bn.Bytes)return c.push(this.readSVarint());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==bn.Bytes)return c.push(this.readBoolean());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==bn.Bytes)return c.push(this.readFloat());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==bn.Bytes)return c.push(this.readDouble());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==bn.Bytes)return c.push(this.readFixed32());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==bn.Bytes)return c.push(this.readSFixed32());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==bn.Bytes)return c.push(this.readFixed64());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==bn.Bytes)return c.push(this.readSFixed64());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===bn.Varint)for(;this.buf[this.pos++]>127;);else if(l===bn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===bn.Fixed32)this.pos+=4;else{if(l!==bn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),Bs(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),Bs(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),Bs(this.buf,-1&c,this.pos),Bs(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),Bs(this.buf,-1&c,this.pos),Bs(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,d){var y,M;if(l>=0?(y=l%4294967296|0,M=l/4294967296|0):(M=~(-l/4294967296),4294967295^(y=~(-l%4294967296))?y=y+1|0:(y=0,M=M+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(T,K,L){L.buf[L.pos++]=127&T|128,T>>>=7,L.buf[L.pos++]=127&T|128,T>>>=7,L.buf[L.pos++]=127&T|128,T>>>=7,L.buf[L.pos++]=127&T|128,L.buf[L.pos]=127&(T>>>=7)}(y,0,d),function(T,K){var L=(7&T)<<4;K.buf[K.pos++]|=L|((T>>>=3)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T|((T>>>=7)?128:0),T&&(K.buf[K.pos++]=127&T)))))}(M,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(y,M,T){for(var K,L,W=0;W<M.length;W++){if((K=M.charCodeAt(W))>55295&&K<57344){if(!L){K>56319||W+1===M.length?(y[T++]=239,y[T++]=191,y[T++]=189):L=K;continue}if(K<56320){y[T++]=239,y[T++]=191,y[T++]=189,L=K;continue}K=L-55296<<10|K-56320|65536,L=null}else L&&(y[T++]=239,y[T++]=191,y[T++]=189,L=null);K<128?y[T++]=K:(K<2048?y[T++]=K>>6|192:(K<65536?y[T++]=K>>12|224:(y[T++]=K>>18|240,y[T++]=K>>12&63|128),y[T++]=K>>6&63|128),y[T++]=63&K|128)}return T}(this.buf,c,this.pos);var d=this.pos-l;d>=128&&Uo(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),Yn(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Yn(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,l){this.pos++;var d=this.pos;c(l,this);var y=this.pos-d;y>=128&&Uo(d,y,this),this.pos=d-1,this.writeVarint(y),this.pos+=y},writeMessage:function(c,l,d){this.writeTag(c,bn.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,Ya,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,Ca,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,As,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,Da,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,us,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,Ml,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,Js,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,Os,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,cs,l)},writeBytesField:function(c,l){this.writeTag(c,bn.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,bn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,bn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,bn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,bn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,bn.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,bn.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,bn.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,bn.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,bn.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};var lc=h(cn);const zs=3;function uc(c,l,d){c===1&&d.readMessage(js,l)}function js(c,l,d){if(c===3){const{id:y,bitmap:M,width:T,height:K,left:L,top:W,advance:V}=d.readMessage(B0,{});l.push({id:y,bitmap:new Fa({width:T+2*zs,height:K+2*zs},M),metrics:{width:T,height:K,left:L,top:W,advance:V}})}}function B0(c,l,d){c===1?l.id=d.readVarint():c===2?l.bitmap=d.readBytes():c===3?l.width=d.readVarint():c===4?l.height=d.readVarint():c===5?l.left=d.readSVarint():c===6?l.top=d.readSVarint():c===7&&(l.advance=d.readVarint())}const OA=zs;function Uc(c){let l=0,d=0;for(const K of c)l+=K.w*K.h,d=Math.max(d,K.w);c.sort((K,L)=>L.h-K.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let M=0,T=0;for(const K of c)for(let L=y.length-1;L>=0;L--){const W=y[L];if(!(K.w>W.w||K.h>W.h)){if(K.x=W.x,K.y=W.y,T=Math.max(T,K.y+K.h),M=Math.max(M,K.x+K.w),K.w===W.w&&K.h===W.h){const V=y.pop();L<y.length&&(y[L]=V)}else K.h===W.h?(W.x+=K.w,W.w-=K.w):K.w===W.w?(W.y+=K.h,W.h-=K.h):(y.push({x:W.x+K.w,y:W.y,w:W.w-K.w,h:K.h}),W.y+=K.h,W.h-=K.h);break}}return{w:M,h:T,fill:l/(M*T)||0}}const qa=1;class el{constructor(l,{pixelRatio:d,version:y,stretchX:M,stretchY:T,content:K}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=M,this.stretchY=T,this.content=K,this.version=y}get tl(){return[this.paddedRect.x+qa,this.paddedRect.y+qa]}get br(){return[this.paddedRect.x+this.paddedRect.w-qa,this.paddedRect.y+this.paddedRect.h-qa]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*qa)/this.pixelRatio,(this.paddedRect.h-2*qa)/this.pixelRatio]}}class Ah{constructor(l,d){const y={},M={};this.haveRenderCallbacks=[];const T=[];this.addImages(l,y,T),this.addImages(d,M,T);const{w:K,h:L}=Uc(T),W=new hl({width:K||1,height:L||1});for(const V in l){const re=l[V],Ae=y[V].paddedRect;hl.copy(re.data,W,{x:0,y:0},{x:Ae.x+qa,y:Ae.y+qa},re.data)}for(const V in d){const re=d[V],Ae=M[V].paddedRect,_e=Ae.x+qa,Be=Ae.y+qa,Ke=re.data.width,Ge=re.data.height;hl.copy(re.data,W,{x:0,y:0},{x:_e,y:Be},re.data),hl.copy(re.data,W,{x:0,y:Ge-1},{x:_e,y:Be-1},{width:Ke,height:1}),hl.copy(re.data,W,{x:0,y:0},{x:_e,y:Be+Ge},{width:Ke,height:1}),hl.copy(re.data,W,{x:Ke-1,y:0},{x:_e-1,y:Be},{width:1,height:Ge}),hl.copy(re.data,W,{x:0,y:0},{x:_e+Ke,y:Be},{width:1,height:Ge})}this.image=W,this.iconPositions=y,this.patternPositions=M}addImages(l,d,y){for(const M in l){const T=l[M],K={x:0,y:0,w:T.data.width+2*qa,h:T.data.height+2*qa};y.push(K),d[M]=new el(K,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(M)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in l.updatedImages)this.patchUpdatedImage(this.iconPositions[y],l.getImage(y),d),this.patchUpdatedImage(this.patternPositions[y],l.getImage(y),d)}patchUpdatedImage(l,d,y){if(!l||!d||l.version===d.version)return;l.version=d.version;const[M,T]=l.tl;y.update(d.data,void 0,{x:M,y:T})}}var Ac;Gn("ImagePosition",el),Gn("ImageAtlas",Ah),a.ah=void 0,(Ac=a.ah||(a.ah={}))[Ac.none=0]="none",Ac[Ac.horizontal=1]="horizontal",Ac[Ac.vertical=2]="vertical",Ac[Ac.horizontalOnly=3]="horizontalOnly";const um=-17;class k0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const y=new k0;return y.scale=l||1,y.fontStack=d,y}static forImage(l){const d=new k0;return d.imageName=l,d}}class Am{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const y=new Am;for(let M=0;M<l.sections.length;M++){const T=l.sections[M];T.image?y.addImageSection(T):y.addTextSection(T,d)}return y}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let y=0;y<l.length;y++){const M=l.charCodeAt(y+1)||null,T=l.charCodeAt(y-1)||null;d+=M&&Zu(M)&&!yt[l[y+1]]||T&&Zu(T)&&!yt[l[y-1]]||!yt[l[y]]?l[y]:yt[l[y]]}return d}(this.text)}trim(){let l=0;for(let y=0;y<this.text.length&&sg[this.text.charCodeAt(y)];y++)l++;let d=this.text.length;for(let y=this.text.length-1;y>=0&&y>=l&&sg[this.text.charCodeAt(y)];y--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const y=new Am;return y.text=this.text.substring(l,d),y.sectionIndex=this.sectionIndex.slice(l,d),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(k0.forText(l.scale,l.fontStack||d));const y=this.sections.length-1;for(let M=0;M<l.text.length;++M)this.sectionIndex.push(y)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void he("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(k0.forImage(d)),this.sectionIndex.push(this.sections.length-1)):he("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function ag(c,l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge){const Ze=Am.fromFeature(c,M);let at;Ae===a.ah.vertical&&Ze.verticalizePunctuation();const{processBidirectionalText:kt,processStyledBidirectionalText:At}=Xu;if(kt&&Ze.sections.length===1){at=[];const An=kt(Ze.toString(),lg(Ze,V,T,l,y,Be,Ke));for(const Un of An){const Cr=new Am;Cr.text=Un,Cr.sections=Ze.sections;for(let Hn=0;Hn<Un.length;Hn++)Cr.sectionIndex.push(0);at.push(Cr)}}else if(At){at=[];const An=At(Ze.text,Ze.sectionIndex,lg(Ze,V,T,l,y,Be,Ke));for(const Un of An){const Cr=new Am;Cr.text=Un[0],Cr.sectionIndex=Un[1],Cr.sections=Ze.sections,at.push(Cr)}}else at=function(An,Un){const Cr=[],Hn=An.text;let xn=0;for(const mn of Un)Cr.push(An.substring(xn,mn)),xn=mn;return xn<Hn.length&&Cr.push(An.substring(xn,Hn.length)),Cr}(Ze,lg(Ze,V,T,l,y,Be,Ke));const xt=[],nn={positionedLines:xt,text:Ze.toString(),top:re[1],bottom:re[1],left:re[0],right:re[0],writingMode:Ae,iconsInText:!1,verticalizable:!1};return function(An,Un,Cr,Hn,xn,mn,sr,Rn,Sn,Dr,wr,zi){let da=0,ha=um,La=0,cu=0;const du=Rn==="right"?1:Rn==="left"?0:.5;let ds=0;for(const Gs of xn){Gs.trim();const Qs=Gs.getMaxScale(),Wl=(Qs-1)*Wt,fu={positionedGlyphs:[],lineOffset:0};An.positionedLines[ds]=fu;const Sl=fu.positionedGlyphs;let hs=0;if(!Gs.length()){ha+=mn,++ds;continue}for(let Is=0;Is<Gs.length();Is++){const ii=Gs.getSection(Is),El=Gs.getSectionIndex(Is),Ol=Gs.getCharCode(Is);let fi=0,cc=null,dc=null,lA=null,dh=Wt;const hc=!(Sn===a.ah.horizontal||!wr&&!Vu(Ol)||wr&&(sg[Ol]||(ks=Ol,Vn.Arabic(ks)||Vn["Arabic Supplement"](ks)||Vn["Arabic Extended-A"](ks)||Vn["Arabic Presentation Forms-A"](ks)||Vn["Arabic Presentation Forms-B"](ks))));if(ii.imageName){const IA=Hn[ii.imageName];if(!IA)continue;lA=ii.imageName,An.iconsInText=An.iconsInText||!0,dc=IA.paddedRect;const Pu=IA.displaySize;ii.scale=ii.scale*Wt/zi,cc={width:Pu[0],height:Pu[1],left:qa,top:-OA,advance:hc?Pu[1]:Pu[0]},fi=Wl+(Wt-Pu[1]*ii.scale),dh=cc.advance;const hh=hc?Pu[0]*ii.scale-Wt*Qs:Pu[1]*ii.scale-Wt*Qs;hh>0&&hh>hs&&(hs=hh)}else{const IA=Cr[ii.fontStack],Pu=IA&&IA[Ol];if(Pu&&Pu.rect)dc=Pu.rect,cc=Pu.metrics;else{const hh=Un[ii.fontStack],F0=hh&&hh[Ol];if(!F0)continue;cc=F0.metrics}fi=(Qs-ii.scale)*Wt}hc?(An.verticalizable=!0,Sl.push({glyph:Ol,imageName:lA,x:da,y:ha+fi,vertical:hc,scale:ii.scale,fontStack:ii.fontStack,sectionIndex:El,metrics:cc,rect:dc}),da+=dh*ii.scale+Dr):(Sl.push({glyph:Ol,imageName:lA,x:da,y:ha+fi,vertical:hc,scale:ii.scale,fontStack:ii.fontStack,sectionIndex:El,metrics:cc,rect:dc}),da+=cc.advance*ii.scale+Dr)}Sl.length!==0&&(La=Math.max(da-Dr,La),Nw(Sl,0,Sl.length-1,du,hs)),da=0;const Jr=mn*Qs+hs;fu.lineOffset=Math.max(hs,Wl),ha+=Jr,cu=Math.max(Jr,cu),++ds}var ks;const Zo=ha-um,{horizontalAlign:Ns,verticalAlign:hu}=Dv(sr);(function(Gs,Qs,Wl,fu,Sl,hs,Jr,Is,ii){const El=(Qs-Wl)*Sl;let Ol=0;Ol=hs!==Jr?-Is*fu-um:(-fu*ii+.5)*Jr;for(const fi of Gs)for(const cc of fi.positionedGlyphs)cc.x+=El,cc.y+=Ol})(An.positionedLines,du,Ns,hu,La,cu,mn,Zo,xn.length),An.top+=-hu*Zo,An.bottom=An.top+Zo,An.left+=-Ns*La,An.right=An.left+La}(nn,l,d,y,at,K,L,W,Ae,V,_e,Ge),!function(An){for(const Un of An)if(Un.positionedGlyphs.length!==0)return!1;return!0}(xt)&&nn}const sg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},jw={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function tx(c,l,d,y,M,T){if(l.imageName){const K=y[l.imageName];return K?K.displaySize[0]*l.scale*Wt/T+M:0}{const K=d[l.fontStack],L=K&&K[c];return L?L.metrics.advance*l.scale+M:0}}function BA(c,l,d,y){const M=Math.pow(c-l,2);return y?c<l?M/2:2*M:M+Math.abs(d)*d}function Ww(c,l,d){let y=0;return c===10&&(y-=1e4),d&&(y+=150),c!==40&&c!==65288||(y+=50),l!==41&&l!==65289||(y+=50),y}function nx(c,l,d,y,M,T){let K=null,L=BA(l,d,M,T);for(const W of y){const V=BA(l-W.x,d,M,T)+W.badness;V<=L&&(K=W,L=V)}return{index:c,x:l,priorBreak:K,badness:L}}function rx(c){return c?rx(c.priorBreak).concat(c.index):[]}function lg(c,l,d,y,M,T,K){if(T!=="point")return[];if(!c)return[];const L=[],W=function(_e,Be,Ke,Ge,Ze,at){let kt=0;for(let At=0;At<_e.length();At++){const xt=_e.getSection(At);kt+=tx(_e.getCharCode(At),xt,Ge,Ze,Be,at)}return kt/Math.max(1,Math.ceil(kt/Ke))}(c,l,d,y,M,K),V=c.text.indexOf("​")>=0;let re=0;for(let _e=0;_e<c.length();_e++){const Be=c.getSection(_e),Ke=c.getCharCode(_e);if(sg[Ke]||(re+=tx(Ke,Be,y,M,l,K)),_e<c.length()-1){const Ge=!((Ae=Ke)<11904||!(Vn["Bopomofo Extended"](Ae)||Vn.Bopomofo(Ae)||Vn["CJK Compatibility Forms"](Ae)||Vn["CJK Compatibility Ideographs"](Ae)||Vn["CJK Compatibility"](Ae)||Vn["CJK Radicals Supplement"](Ae)||Vn["CJK Strokes"](Ae)||Vn["CJK Symbols and Punctuation"](Ae)||Vn["CJK Unified Ideographs Extension A"](Ae)||Vn["CJK Unified Ideographs"](Ae)||Vn["Enclosed CJK Letters and Months"](Ae)||Vn["Halfwidth and Fullwidth Forms"](Ae)||Vn.Hiragana(Ae)||Vn["Ideographic Description Characters"](Ae)||Vn["Kangxi Radicals"](Ae)||Vn["Katakana Phonetic Extensions"](Ae)||Vn.Katakana(Ae)||Vn["Vertical Forms"](Ae)||Vn["Yi Radicals"](Ae)||Vn["Yi Syllables"](Ae)));(jw[Ke]||Ge||Be.imageName)&&L.push(nx(_e+1,re,W,L,Ww(Ke,c.getCharCode(_e+1),Ge&&V),!1))}}var Ae;return rx(nx(c.length(),re,W,L,0,!0))}function Dv(c){let l=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function Nw(c,l,d,y,M){if(!y&&!M)return;const T=c[d],K=(c[d].x+T.metrics.advance*T.scale)*y;for(let L=l;L<=d;L++)c[L].x-=K,c[L].y+=M}function Gw(c,l,d){const{horizontalAlign:y,verticalAlign:M}=Dv(d),T=l[0]-c.displaySize[0]*y,K=l[1]-c.displaySize[1]*M;return{image:c,top:K,bottom:K+c.displaySize[1],left:T,right:T+c.displaySize[0]}}function ix(c,l,d,y,M,T){const K=c.image;let L;if(K.content){const Ze=K.content,at=K.pixelRatio||1;L=[Ze[0]/at,Ze[1]/at,K.displaySize[0]-Ze[2]/at,K.displaySize[1]-Ze[3]/at]}const W=l.left*T,V=l.right*T;let re,Ae,_e,Be;d==="width"||d==="both"?(Be=M[0]+W-y[3],Ae=M[0]+V+y[1]):(Be=M[0]+(W+V-K.displaySize[0])/2,Ae=Be+K.displaySize[0]);const Ke=l.top*T,Ge=l.bottom*T;return d==="height"||d==="both"?(re=M[1]+Ke-y[0],_e=M[1]+Ge+y[2]):(re=M[1]+(Ke+Ge-K.displaySize[1])/2,_e=re+K.displaySize[1]),{image:K,top:re,right:Ae,bottom:_e,left:Be,collisionPadding:L}}const hp=255,bd=128,Af=hp*bd;function ox(c,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new wo(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:M}=d;let T=0;for(;T<y.length&&y[T]<=c;)T++;T=Math.max(0,T-1);let K=T;for(;K<y.length&&y[K]<c+1;)K++;K=Math.min(y.length-1,K);const L=y[T],W=y[K];return d.kind==="composite"?{kind:"composite",minZoom:L,maxZoom:W,interpolationType:M}:{kind:"camera",minZoom:L,maxZoom:W,minSize:d.evaluate(new wo(L)),maxSize:d.evaluate(new wo(W)),interpolationType:M}}}function Lv(c,l,d){let y="never";const M=c.get(l);return M?y=M:c.get(d)&&(y="always"),y}const Qw=sA.VectorTileFeature.types,$w=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ug(c,l,d,y,M,T,K,L,W,V,re,Ae,_e){const Be=L?Math.min(Af,Math.round(L[0])):0,Ke=L?Math.min(Af,Math.round(L[1])):0;c.emplaceBack(l,d,Math.round(32*y),Math.round(32*M),T,K,(Be<<1)+(W?1:0),Ke,16*V,16*re,256*Ae,256*_e)}function Uv(c,l,d){c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d)}function Yw(c){for(const l of c.sections)if(Tc(l.text))return!0;return!1}class Rv{constructor(l){this.layoutVertexArray=new ht,this.indexArray=new Ut,this.programConfigurations=l,this.segments=new pn,this.dynamicLayoutVertexArray=new Ft,this.opacityVertexArray=new tt,this.hasVisibleVertices=!1,this.placedSymbolArray=new u}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,y,M){this.isEmpty()||(y&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ne.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,le.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,$w,!0),this.opacityVertexBuffer.itemSize=1),(y||M)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Gn("SymbolBuffers",Rv);class zv{constructor(l,d,y){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new y,this.segments=new pn,this.collisionVertexArray=new Pt}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,me.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Gn("CollisionBuffers",zv);class cm{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(K=>K.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=y0([]),this.placementViewportMatrix=y0([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ox(this.zoom,d["text-size"]),this.iconSizeData=ox(this.zoom,d["icon-size"]);const y=this.layers[0].layout,M=y.get("symbol-sort-key"),T=y.get("symbol-z-order");this.canOverlap=Lv(y,"text-overlap","text-allow-overlap")!=="never"||Lv(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=T!=="viewport-y"&&!M.isConstant(),this.sortFeaturesByY=(T==="viewport-y"||T==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(K=>a.ah[K])),this.stateDependentLayerIds=this.layers.filter(K=>K.isStateDependent()).map(K=>K.id),this.sourceID=l.sourceID}createArrays(){this.text=new Rv(new Vo(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new Rv(new Vo(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new w,this.lineVertexArray=new I,this.symbolInstances=new C,this.textAnchorOffsets=new j}calculateGlyphDependencies(l,d,y,M,T){for(let K=0;K<l.length;K++)if(d[l.charCodeAt(K)]=!0,(y||M)&&T){const L=yt[l.charAt(K)];L&&(d[L.charCodeAt(0)]=!0)}}populate(l,d,y){const M=this.layers[0],T=M.layout,K=T.get("text-font"),L=T.get("text-field"),W=T.get("icon-image"),V=(L.value.kind!=="constant"||L.value.value instanceof Wn&&!L.value.value.isEmpty()||L.value.value.toString().length>0)&&(K.value.kind!=="constant"||K.value.value.length>0),re=W.value.kind!=="constant"||!!W.value.value||Object.keys(W.parameters).length>0,Ae=T.get("symbol-sort-key");if(this.features=[],!V&&!re)return;const _e=d.iconDependencies,Be=d.glyphDependencies,Ke=d.availableImages,Ge=new wo(this.zoom);for(const{feature:Ze,id:at,index:kt,sourceLayerIndex:At}of l){const xt=M._featureFilter.needGeometry,nn=ac(Ze,xt);if(!M._featureFilter.filter(Ge,nn,y))continue;let An,Un;if(xt||(nn.geometry=lu(Ze)),V){const Hn=M.getValueAndResolveTokens("text-field",nn,y,Ke),xn=Wn.factory(Hn),mn=this.hasRTLText=this.hasRTLText||Yw(xn);(!mn||Xu.getRTLTextPluginStatus()==="unavailable"||mn&&Xu.isParsed())&&(An=Ot(xn,M,nn))}if(re){const Hn=M.getValueAndResolveTokens("icon-image",nn,y,Ke);Un=Hn instanceof ve?Hn:ve.fromString(Hn)}if(!An&&!Un)continue;const Cr=this.sortFeaturesByKey?Ae.evaluate(nn,{},y):void 0;if(this.features.push({id:at,text:An,icon:Un,index:kt,sourceLayerIndex:At,geometry:nn.geometry,properties:Ze.properties,type:Qw[Ze.type],sortKey:Cr}),Un&&(_e[Un.name]=!0),An){const Hn=K.evaluate(nn,{},y).join(","),xn=T.get("text-rotation-alignment")!=="viewport"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ah.vertical)>=0;for(const mn of An.sections)if(mn.image)_e[mn.image.name]=!0;else{const sr=ZA(An.toString()),Rn=mn.fontStack||Hn,Sn=Be[Rn]=Be[Rn]||{};this.calculateGlyphDependencies(mn.text,Sn,xn,this.allowVerticalPlacement,sr)}}}T.get("symbol-placement")==="line"&&(this.features=function(Ze){const at={},kt={},At=[];let xt=0;function nn(Hn){At.push(Ze[Hn]),xt++}function An(Hn,xn,mn){const sr=kt[Hn];return delete kt[Hn],kt[xn]=sr,At[sr].geometry[0].pop(),At[sr].geometry[0]=At[sr].geometry[0].concat(mn[0]),sr}function Un(Hn,xn,mn){const sr=at[xn];return delete at[xn],at[Hn]=sr,At[sr].geometry[0].shift(),At[sr].geometry[0]=mn[0].concat(At[sr].geometry[0]),sr}function Cr(Hn,xn,mn){const sr=mn?xn[0][xn[0].length-1]:xn[0][0];return`${Hn}:${sr.x}:${sr.y}`}for(let Hn=0;Hn<Ze.length;Hn++){const xn=Ze[Hn],mn=xn.geometry,sr=xn.text?xn.text.toString():null;if(!sr){nn(Hn);continue}const Rn=Cr(sr,mn),Sn=Cr(sr,mn,!0);if(Rn in kt&&Sn in at&&kt[Rn]!==at[Sn]){const Dr=Un(Rn,Sn,mn),wr=An(Rn,Sn,At[Dr].geometry);delete at[Rn],delete kt[Sn],kt[Cr(sr,At[wr].geometry,!0)]=wr,At[Dr].geometry=null}else Rn in kt?An(Rn,Sn,mn):Sn in at?Un(Rn,Sn,mn):(nn(Hn),at[Rn]=xt-1,kt[Sn]=xt-1)}return At.filter(Hn=>Hn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ze,at)=>Ze.sortKey-at.sortKey)}update(l,d,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,y),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const y=this.lineVertexArray.length;if(l.segment!==void 0){let M=l.dist(d[l.segment+1]),T=l.dist(d[l.segment]);const K={};for(let L=l.segment+1;L<d.length;L++)K[L]={x:d[L].x,y:d[L].y,tileUnitDistanceFromAnchor:M},L<d.length-1&&(M+=d[L+1].dist(d[L]));for(let L=l.segment||0;L>=0;L--)K[L]={x:d[L].x,y:d[L].y,tileUnitDistanceFromAnchor:T},L>0&&(T+=d[L-1].dist(d[L]));for(let L=0;L<d.length;L++){const W=K[L];this.lineVertexArray.emplaceBack(W.x,W.y,W.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(l,d,y,M,T,K,L,W,V,re,Ae,_e){const Be=l.indexArray,Ke=l.layoutVertexArray,Ge=l.segments.prepareSegment(4*d.length,Ke,Be,this.canOverlap?K.sortKey:void 0),Ze=this.glyphOffsetArray.length,at=Ge.vertexLength,kt=this.allowVerticalPlacement&&L===a.ah.vertical?Math.PI/2:0,At=K.text&&K.text.sections;for(let xt=0;xt<d.length;xt++){const{tl:nn,tr:An,bl:Un,br:Cr,tex:Hn,pixelOffsetTL:xn,pixelOffsetBR:mn,minFontScaleX:sr,minFontScaleY:Rn,glyphOffset:Sn,isSDF:Dr,sectionIndex:wr}=d[xt],zi=Ge.vertexLength,da=Sn[1];ug(Ke,W.x,W.y,nn.x,da+nn.y,Hn.x,Hn.y,y,Dr,xn.x,xn.y,sr,Rn),ug(Ke,W.x,W.y,An.x,da+An.y,Hn.x+Hn.w,Hn.y,y,Dr,mn.x,xn.y,sr,Rn),ug(Ke,W.x,W.y,Un.x,da+Un.y,Hn.x,Hn.y+Hn.h,y,Dr,xn.x,mn.y,sr,Rn),ug(Ke,W.x,W.y,Cr.x,da+Cr.y,Hn.x+Hn.w,Hn.y+Hn.h,y,Dr,mn.x,mn.y,sr,Rn),Uv(l.dynamicLayoutVertexArray,W,kt),Be.emplaceBack(zi,zi+1,zi+2),Be.emplaceBack(zi+1,zi+2,zi+3),Ge.vertexLength+=4,Ge.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Sn[0]),xt!==d.length-1&&wr===d[xt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Ke.length,K,K.index,{},_e,At&&At[wr])}l.placedSymbolArray.emplaceBack(W.x,W.y,Ze,this.glyphOffsetArray.length-Ze,at,V,re,W.segment,y?y[0]:0,y?y[1]:0,M[0],M[1],L,0,!1,0,Ae)}_addCollisionDebugVertex(l,d,y,M,T,K){return d.emplaceBack(0,0),l.emplaceBack(y.x,y.y,M,T,Math.round(K.x),Math.round(K.y))}addCollisionDebugVertices(l,d,y,M,T,K,L){const W=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),V=W.vertexLength,re=T.layoutVertexArray,Ae=T.collisionVertexArray,_e=L.anchorX,Be=L.anchorY;this._addCollisionDebugVertex(re,Ae,K,_e,Be,new B(l,d)),this._addCollisionDebugVertex(re,Ae,K,_e,Be,new B(y,d)),this._addCollisionDebugVertex(re,Ae,K,_e,Be,new B(y,M)),this._addCollisionDebugVertex(re,Ae,K,_e,Be,new B(l,M)),W.vertexLength+=4;const Ke=T.indexArray;Ke.emplaceBack(V,V+1),Ke.emplaceBack(V+1,V+2),Ke.emplaceBack(V+2,V+3),Ke.emplaceBack(V+3,V),W.primitiveLength+=4}addDebugCollisionBoxes(l,d,y,M){for(let T=l;T<d;T++){const K=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(K.x1,K.y1,K.x2,K.y2,M?this.textCollisionBox:this.iconCollisionBox,K.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new zv(bt,Qe.members,Zt),this.iconCollisionBox=new zv(bt,Qe.members,Zt);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,y,M,T,K,L,W,V){const re={};for(let Ae=d;Ae<y;Ae++){const _e=l.get(Ae);re.textBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.textFeatureIndex=_e.featureIndex;break}for(let Ae=M;Ae<T;Ae++){const _e=l.get(Ae);re.verticalTextBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.verticalTextFeatureIndex=_e.featureIndex;break}for(let Ae=K;Ae<L;Ae++){const _e=l.get(Ae);re.iconBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.iconFeatureIndex=_e.featureIndex;break}for(let Ae=W;Ae<V;Ae++){const _e=l.get(Ae);re.verticalIconBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.verticalIconFeatureIndex=_e.featureIndex;break}return re}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const y=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const y=l.placedSymbolArray.get(d),M=y.vertexStartIndex+4*y.numGlyphs;for(let T=y.vertexStartIndex;T<M;T+=4)l.indexArray.emplaceBack(T,T+1,T+2),l.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),y=Math.cos(l),M=[],T=[],K=[];for(let L=0;L<this.symbolInstances.length;++L){K.push(L);const W=this.symbolInstances.get(L);M.push(0|Math.round(d*W.anchorX+y*W.anchorY)),T.push(W.featureIndex)}return K.sort((L,W)=>M[L]-M[W]||T[W]-T[L]),K}addToSortKeyRanges(l,d){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===d?y.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const y=this.symbolInstances.get(d);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((M,T,K)=>{M>=0&&K.indexOf(M)===T&&this.addIndicesForPlacedSymbol(this.text,M)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let ax,sx;Gn("SymbolBucket",cm,{omit:["layers","collisionBoxArray","features","compareText"]}),cm.MAX_GLYPHS=65535,cm.addDynamicAttributes=Uv;var jv={get paint(){return sx=sx||new Aa({"icon-opacity":new Br(pt.paint_symbol["icon-opacity"]),"icon-color":new Br(pt.paint_symbol["icon-color"]),"icon-halo-color":new Br(pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Br(pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Br(pt.paint_symbol["icon-halo-blur"]),"icon-translate":new br(pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new br(pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Br(pt.paint_symbol["text-opacity"]),"text-color":new Br(pt.paint_symbol["text-color"],{runtimeType:On,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Br(pt.paint_symbol["text-halo-color"]),"text-halo-width":new Br(pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Br(pt.paint_symbol["text-halo-blur"]),"text-translate":new br(pt.paint_symbol["text-translate"]),"text-translate-anchor":new br(pt.paint_symbol["text-translate-anchor"])})},get layout(){return ax=ax||new Aa({"symbol-placement":new br(pt.layout_symbol["symbol-placement"]),"symbol-spacing":new br(pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new br(pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Br(pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new br(pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new br(pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new br(pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new br(pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new br(pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new br(pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Br(pt.layout_symbol["icon-size"]),"icon-text-fit":new br(pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new br(pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Br(pt.layout_symbol["icon-image"]),"icon-rotate":new Br(pt.layout_symbol["icon-rotate"]),"icon-padding":new Br(pt.layout_symbol["icon-padding"]),"icon-keep-upright":new br(pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Br(pt.layout_symbol["icon-offset"]),"icon-anchor":new Br(pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new br(pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new br(pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new br(pt.layout_symbol["text-rotation-alignment"]),"text-field":new Br(pt.layout_symbol["text-field"]),"text-font":new Br(pt.layout_symbol["text-font"]),"text-size":new Br(pt.layout_symbol["text-size"]),"text-max-width":new Br(pt.layout_symbol["text-max-width"]),"text-line-height":new br(pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Br(pt.layout_symbol["text-letter-spacing"]),"text-justify":new Br(pt.layout_symbol["text-justify"]),"text-radial-offset":new Br(pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new br(pt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Br(pt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Br(pt.layout_symbol["text-anchor"]),"text-max-angle":new br(pt.layout_symbol["text-max-angle"]),"text-writing-mode":new br(pt.layout_symbol["text-writing-mode"]),"text-rotate":new Br(pt.layout_symbol["text-rotate"]),"text-padding":new br(pt.layout_symbol["text-padding"]),"text-keep-upright":new br(pt.layout_symbol["text-keep-upright"]),"text-transform":new Br(pt.layout_symbol["text-transform"]),"text-offset":new Br(pt.layout_symbol["text-offset"]),"text-allow-overlap":new br(pt.layout_symbol["text-allow-overlap"]),"text-overlap":new br(pt.layout_symbol["text-overlap"]),"text-ignore-placement":new br(pt.layout_symbol["text-ignore-placement"]),"text-optional":new br(pt.layout_symbol["text-optional"])})}};class lx{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:It,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Gn("FormatSectionOverride",lx,{omit:["defaultValue"]});class Ag extends ka{constructor(l){super(l,jv)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const M=[];for(const T of y)M.indexOf(T)<0&&M.push(T);this.layout._values["text-writing-mode"]=M}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,y,M){const T=this.layout.get(l).evaluate(d,{},y,M),K=this._unevaluatedLayout._values[l];return K.isDataDriven()||Io(K.value)||!T?T:function(L,W){return W.replace(/{([^{}]+)}/g,(V,re)=>L&&re in L?String(L[re]):"")}(d.properties,T)}createBucket(l){return new cm(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of jv.paint.overridableProperties){if(!Ag.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),y=new lx(d),M=new QA(y,d.property.specification);let T=null;T=d.value.kind==="constant"||d.value.kind==="source"?new $A("source",M):new Ls("composite",M,d.value.zoomStops),this.paint._values[l]=new ao(d.property,T,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,y){return!(!this.layout||d.isDataDriven()||y.isDataDriven())&&Ag.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const y=l.get("text-field"),M=jv.paint.properties[d];let T=!1;const K=L=>{for(const W of L)if(M.overrides&&M.overrides.hasOverride(W))return void(T=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Wn)K(y.value.value.sections);else if(y.value.kind==="source"){const L=V=>{T||(V instanceof wn&&sn(V.value)===nr?K(V.value.sections):V instanceof rd?K(V.sections):V.eachChild(L))},W=y.value;W._styleExpression&&L(W._styleExpression.expression)}return T}}let ux;var qw={get paint(){return ux=ux||new Aa({"background-color":new br(pt.paint_background["background-color"]),"background-pattern":new Kc(pt.paint_background["background-pattern"]),"background-opacity":new br(pt.paint_background["background-opacity"])})}};class Hw extends ka{constructor(l){super(l,qw)}}let cg;var Ax={get paint(){return cg=cg||new Aa({"raster-opacity":new br(pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new br(pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new br(pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new br(pt.paint_raster["raster-brightness-max"]),"raster-saturation":new br(pt.paint_raster["raster-saturation"]),"raster-contrast":new br(pt.paint_raster["raster-contrast"]),"raster-resampling":new br(pt.paint_raster["raster-resampling"]),"raster-fade-duration":new br(pt.paint_raster["raster-fade-duration"])})}};class Vw extends ka{constructor(l){super(l,Ax)}}class Zw extends ka{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Xw{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Wv=63710088e-1;class cf{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new cf(be(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,y=this.lat*d,M=l.lat*d,T=Math.sin(y)*Math.sin(M)+Math.cos(y)*Math.cos(M)*Math.cos((l.lng-this.lng)*d);return Wv*Math.acos(Math.min(T,1))}static convert(l){if(l instanceof cf)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new cf(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new cf(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const cx=2*Math.PI*Wv;function dx(c){return cx*Math.cos(c*Math.PI/180)}function hx(c){return(180+c)/360}function Nv(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function fx(c,l){return c/dx(l)}function dm(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class dg{constructor(l,d,y=0){this.x=+l,this.y=+d,this.z=+y}static fromLngLat(l,d=0){const y=cf.convert(l);return new dg(hx(y.lng),Nv(y.lat),fx(d,y.lat))}toLngLat(){return new cf(360*this.x-180,dm(this.y))}toAltitude(){return this.z*dx(dm(this.y))}meterInMercatorCoordinateUnits(){return 1/cx*(l=dm(this.y),1/Math.cos(l*Math.PI/180));var l}}function px(c,l,d){var y=2*Math.PI*6378137/256/Math.pow(2,d);return[c*y-2*Math.PI*6378137/2,l*y-2*Math.PI*6378137/2]}class Gv{constructor(l,d,y){if(l<0||l>25||y<0||y>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${y}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=y,this.key=I0(0,l,l,d,y)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,y){const M=(K=this.y,L=this.z,W=px(256*(T=this.x),256*(K=Math.pow(2,L)-K-1),L),V=px(256*(T+1),256*(K+1),L),W[0]+","+W[1]+","+V[0]+","+V[1]);var T,K,L,W,V;const re=function(Ae,_e,Be){let Ke,Ge="";for(let Ze=Ae;Ze>0;Ze--)Ke=1<<Ze-1,Ge+=(_e&Ke?1:0)+(Be&Ke?2:0);return Ge}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,re).replace(/{bbox-epsg-3857}/g,M)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new B((l.x*d-this.x)*Ki,(l.y*d-this.y)*Ki)}toString(){return`${this.z}/${this.x}/${this.y}`}}class mx{constructor(l,d){this.wrap=l,this.canonical=d,this.key=I0(l,d.z,d.z,d.x,d.y)}}class kA{constructor(l,d,y,M,T){if(l<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${y}`);this.overscaledZ=l,this.wrap=d,this.canonical=new Gv(y,+M,+T),this.key=I0(d,l,y,M,T)}clone(){return new kA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new kA(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new kA(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-l;return l>this.canonical.z?I0(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):I0(this.wrap*+d,l,l,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new kA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,y=2*this.canonical.x,M=2*this.canonical.y;return[new kA(d,this.wrap,d,y,M),new kA(d,this.wrap,d,y+1,M),new kA(d,this.wrap,d,y,M+1),new kA(d,this.wrap,d,y+1,M+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new kA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new kA(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new mx(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new dg(l.x-this.wrap,l.y))}}function I0(c,l,d,y,M){(c*=2)<0&&(c=-1*c-1);const T=1<<d;return(T*T*c+T*M+y).toString(36)+d.toString(36)+l.toString(36)}Gn("CanonicalTileID",Gv),Gn("OverscaledTileID",kA,{omit:["posMatrix"]});class gx{constructor(l,d,y,M=1,T=1,K=1,L=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void he(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const W=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=M,this.greenFactor=T,this.blueFactor=K,this.baseShift=L;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let V=0;V<W;V++)this.data[this._idx(-1,V)]=this.data[this._idx(0,V)],this.data[this._idx(W,V)]=this.data[this._idx(W-1,V)],this.data[this._idx(V,-1)]=this.data[this._idx(V,0)],this.data[this._idx(V,W)]=this.data[this._idx(V,W-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(W,-1)]=this.data[this._idx(W-1,0)],this.data[this._idx(-1,W)]=this.data[this._idx(0,W-1)],this.data[this._idx(W,W)]=this.data[this._idx(W-1,W-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let V=0;V<W;V++)for(let re=0;re<W;re++){const Ae=this.get(V,re);Ae>this.max&&(this.max=Ae),Ae<this.min&&(this.min=Ae)}}get(l,d){const y=new Uint8Array(this.data.buffer),M=4*this._idx(l,d);return this.unpack(y[M],y[M+1],y[M+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,y){return l*this.redFactor+d*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new hl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,y){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let M=d*this.dim,T=d*this.dim+this.dim,K=y*this.dim,L=y*this.dim+this.dim;switch(d){case-1:M=T-1;break;case 1:T=M+1}switch(y){case-1:K=L-1;break;case 1:L=K+1}const W=-d*this.dim,V=-y*this.dim;for(let re=K;re<L;re++)for(let Ae=M;Ae<T;Ae++)this.data[this._idx(Ae,re)]=l.data[this._idx(Ae+W,re+V)]}}Gn("DEMData",gx);class yx{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const y=l[d];this._stringToNumber[y]=d,this._numberToString[d]=y}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class vx{constructor(l,d,y,M,T){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=y,l._y=M,this.properties=l.properties,this.id=T}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class _x{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new ga(Ki,16,0),this.grid3D=new ga(Ki,16,0),this.featureIndexArray=new ie,this.promoteId=d}insert(l,d,y,M,T,K){const L=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,M,T);const W=K?this.grid3D:this.grid;for(let V=0;V<d.length;V++){const re=d[V],Ae=[1/0,1/0,-1/0,-1/0];for(let _e=0;_e<re.length;_e++){const Be=re[_e];Ae[0]=Math.min(Ae[0],Be.x),Ae[1]=Math.min(Ae[1],Be.y),Ae[2]=Math.max(Ae[2],Be.x),Ae[3]=Math.max(Ae[3],Be.y)}Ae[0]<Ki&&Ae[1]<Ki&&Ae[2]>=0&&Ae[3]>=0&&W.insert(L,Ae[0],Ae[1],Ae[2],Ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new sA.VectorTile(new lc(this.rawTileData)).layers,this.sourceLayerCoder=new yx(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,y,M){this.loadVTLayers();const T=l.params||{},K=Ki/l.tileSize/l.scale,L=Qd(T.filter),W=l.queryGeometry,V=l.queryPadding*K,re=bx(W),Ae=this.grid.query(re.minX-V,re.minY-V,re.maxX+V,re.maxY+V),_e=bx(l.cameraQueryGeometry),Be=this.grid3D.query(_e.minX-V,_e.minY-V,_e.maxX+V,_e.maxY+V,(Ze,at,kt,At)=>function(xt,nn,An,Un,Cr){for(const xn of xt)if(nn<=xn.x&&An<=xn.y&&Un>=xn.x&&Cr>=xn.y)return!0;const Hn=[new B(nn,An),new B(nn,Cr),new B(Un,Cr),new B(Un,An)];if(xt.length>2){for(const xn of Hn)if(iA(xt,xn))return!0}for(let xn=0;xn<xt.length-1;xn++)if(g0(xt[xn],xt[xn+1],Hn))return!0;return!1}(l.cameraQueryGeometry,Ze-V,at-V,kt+V,At+V));for(const Ze of Be)Ae.push(Ze);Ae.sort(Jw);const Ke={};let Ge;for(let Ze=0;Ze<Ae.length;Ze++){const at=Ae[Ze];if(at===Ge)continue;Ge=at;const kt=this.featureIndexArray.get(at);let At=null;this.loadMatchingFeature(Ke,kt.bucketIndex,kt.sourceLayerIndex,kt.featureIndex,L,T.layers,T.availableImages,d,y,M,(xt,nn,An)=>(At||(At=lu(xt)),nn.queryIntersectsFeature(W,xt,An,At,this.z,l.transform,K,l.pixelPosMatrix)))}return Ke}loadMatchingFeature(l,d,y,M,T,K,L,W,V,re,Ae){const _e=this.bucketLayerIDs[d];if(K&&!function(Ze,at){for(let kt=0;kt<Ze.length;kt++)if(at.indexOf(Ze[kt])>=0)return!0;return!1}(K,_e))return;const Be=this.sourceLayerCoder.decode(y),Ke=this.vtLayers[Be].feature(M);if(T.needGeometry){const Ze=ac(Ke,!0);if(!T.filter(new wo(this.tileID.overscaledZ),Ze,this.tileID.canonical))return}else if(!T.filter(new wo(this.tileID.overscaledZ),Ke))return;const Ge=this.getId(Ke,Be);for(let Ze=0;Ze<_e.length;Ze++){const at=_e[Ze];if(K&&K.indexOf(at)<0)continue;const kt=W[at];if(!kt)continue;let At={};Ge&&re&&(At=re.getState(kt.sourceLayer||"_geojsonTileLayer",Ge));const xt=J({},V[at]);xt.paint=Cx(xt.paint,kt.paint,Ke,At,L),xt.layout=Cx(xt.layout,kt.layout,Ke,At,L);const nn=!Ae||Ae(Ke,kt,At);if(!nn)continue;const An=new vx(Ke,this.z,this.x,this.y,Ge);An.layer=xt;let Un=l[at];Un===void 0&&(Un=l[at]=[]),Un.push({featureIndex:M,feature:An,intersectionZ:nn})}}lookupSymbolFeatures(l,d,y,M,T,K,L,W){const V={};this.loadVTLayers();const re=Qd(T);for(const Ae of l)this.loadMatchingFeature(V,y,M,Ae,re,K,L,W,d);return V}hasLayer(l){for(const d of this.bucketLayerIDs)for(const y of d)if(l===y)return!0;return!1}getId(l,d){let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof y=="boolean"&&(y=Number(y))),y}}function Cx(c,l,d,y,M){return xe(c,(T,K)=>{const L=l instanceof ua?l.get(K):null;return L&&L.evaluate?L.evaluate(d,y,M):L})}function bx(c){let l=1/0,d=1/0,y=-1/0,M=-1/0;for(const T of c)l=Math.min(l,T.x),d=Math.min(d,T.y),y=Math.max(y,T.x),M=Math.max(M,T.y);return{minX:l,minY:d,maxX:y,maxY:M}}function Jw(c,l){return l-c}function xx(c,l,d,y,M){const T=[];for(let K=0;K<c.length;K++){const L=c[K];let W;for(let V=0;V<L.length-1;V++){let re=L[V],Ae=L[V+1];re.x<l&&Ae.x<l||(re.x<l?re=new B(l,re.y+(l-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round():Ae.x<l&&(Ae=new B(l,re.y+(l-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round()),re.y<d&&Ae.y<d||(re.y<d?re=new B(re.x+(d-re.y)/(Ae.y-re.y)*(Ae.x-re.x),d)._round():Ae.y<d&&(Ae=new B(re.x+(d-re.y)/(Ae.y-re.y)*(Ae.x-re.x),d)._round()),re.x>=y&&Ae.x>=y||(re.x>=y?re=new B(y,re.y+(y-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round():Ae.x>=y&&(Ae=new B(y,re.y+(y-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round()),re.y>=M&&Ae.y>=M||(re.y>=M?re=new B(re.x+(M-re.y)/(Ae.y-re.y)*(Ae.x-re.x),M)._round():Ae.y>=M&&(Ae=new B(re.x+(M-re.y)/(Ae.y-re.y)*(Ae.x-re.x),M)._round()),W&&re.equals(W[W.length-1])||(W=[re],T.push(W)),W.push(Ae)))))}}return T}Gn("FeatureIndex",_x,{omit:["rawTileData","sourceLayerCoder"]});class df extends B{constructor(l,d,y,M){super(l,d),this.angle=y,M!==void 0&&(this.segment=M)}clone(){return new df(this.x,this.y,this.angle,this.segment)}}function wx(c,l,d,y,M){if(l.segment===void 0||d===0)return!0;let T=l,K=l.segment+1,L=0;for(;L>-d/2;){if(K--,K<0)return!1;L-=c[K].dist(T),T=c[K]}L+=c[K].dist(c[K+1]),K++;const W=[];let V=0;for(;L<d/2;){const re=c[K],Ae=c[K+1];if(!Ae)return!1;let _e=c[K-1].angleTo(re)-re.angleTo(Ae);for(_e=Math.abs((_e+3*Math.PI)%(2*Math.PI)-Math.PI),W.push({distance:L,angleDelta:_e}),V+=_e;L-W[0].distance>y;)V-=W.shift().angleDelta;if(V>M)return!1;K++,L+=re.dist(Ae)}return!0}function Qv(c){let l=0;for(let d=0;d<c.length-1;d++)l+=c[d].dist(c[d+1]);return l}function $v(c,l,d){return c?.6*l*d:0}function Mx(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function eM(c,l,d,y,M,T){const K=$v(d,M,T),L=Mx(d,y)*T;let W=0;const V=Qv(c)/2;for(let re=0;re<c.length-1;re++){const Ae=c[re],_e=c[re+1],Be=Ae.dist(_e);if(W+Be>V){const Ke=(V-W)/Be,Ge=gt.number(Ae.x,_e.x,Ke),Ze=gt.number(Ae.y,_e.y,Ke),at=new df(Ge,Ze,_e.angleTo(Ae),re);return at._round(),!K||wx(c,at,L,K,l)?at:void 0}W+=Be}}function tM(c,l,d,y,M,T,K,L,W){const V=$v(y,T,K),re=Mx(y,M),Ae=re*K,_e=c[0].x===0||c[0].x===W||c[0].y===0||c[0].y===W;return l-Ae<l/4&&(l=Ae+l/4),Sx(c,_e?l/2*L%l:(re/2+2*T)*K*L%l,l,V,d,Ae,_e,!1,W)}function Sx(c,l,d,y,M,T,K,L,W){const V=T/2,re=Qv(c);let Ae=0,_e=l-d,Be=[];for(let Ke=0;Ke<c.length-1;Ke++){const Ge=c[Ke],Ze=c[Ke+1],at=Ge.dist(Ze),kt=Ze.angleTo(Ge);for(;_e+d<Ae+at;){_e+=d;const At=(_e-Ae)/at,xt=gt.number(Ge.x,Ze.x,At),nn=gt.number(Ge.y,Ze.y,At);if(xt>=0&&xt<W&&nn>=0&&nn<W&&_e-V>=0&&_e+V<=re){const An=new df(xt,nn,kt,Ke);An._round(),y&&!wx(c,An,T,y,M)||Be.push(An)}}Ae+=at}return L||Be.length||K||(Be=Sx(c,Ae/2,d,y,M,T,K,!0,W)),Be}Gn("Anchor",df);const ch=qa;function Ex(c,l,d,y){const M=[],T=c.image,K=T.pixelRatio,L=T.paddedRect.w-2*ch,W=T.paddedRect.h-2*ch,V=c.right-c.left,re=c.bottom-c.top,Ae=T.stretchX||[[0,L]],_e=T.stretchY||[[0,W]],Be=(mn,sr)=>mn+sr[1]-sr[0],Ke=Ae.reduce(Be,0),Ge=_e.reduce(Be,0),Ze=L-Ke,at=W-Ge;let kt=0,At=Ke,xt=0,nn=Ge,An=0,Un=Ze,Cr=0,Hn=at;if(T.content&&y){const mn=T.content;kt=hg(Ae,0,mn[0]),xt=hg(_e,0,mn[1]),At=hg(Ae,mn[0],mn[2]),nn=hg(_e,mn[1],mn[3]),An=mn[0]-kt,Cr=mn[1]-xt,Un=mn[2]-mn[0]-At,Hn=mn[3]-mn[1]-nn}const xn=(mn,sr,Rn,Sn)=>{const Dr=fg(mn.stretch-kt,At,V,c.left),wr=pg(mn.fixed-An,Un,mn.stretch,Ke),zi=fg(sr.stretch-xt,nn,re,c.top),da=pg(sr.fixed-Cr,Hn,sr.stretch,Ge),ha=fg(Rn.stretch-kt,At,V,c.left),La=pg(Rn.fixed-An,Un,Rn.stretch,Ke),cu=fg(Sn.stretch-xt,nn,re,c.top),du=pg(Sn.fixed-Cr,Hn,Sn.stretch,Ge),ds=new B(Dr,zi),ks=new B(ha,zi),Zo=new B(ha,cu),Ns=new B(Dr,cu),hu=new B(wr/K,da/K),Gs=new B(La/K,du/K),Qs=l*Math.PI/180;if(Qs){const Sl=Math.sin(Qs),hs=Math.cos(Qs),Jr=[hs,-Sl,Sl,hs];ds._matMult(Jr),ks._matMult(Jr),Ns._matMult(Jr),Zo._matMult(Jr)}const Wl=mn.stretch+mn.fixed,fu=sr.stretch+sr.fixed;return{tl:ds,tr:ks,bl:Ns,br:Zo,tex:{x:T.paddedRect.x+ch+Wl,y:T.paddedRect.y+ch+fu,w:Rn.stretch+Rn.fixed-Wl,h:Sn.stretch+Sn.fixed-fu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:hu,pixelOffsetBR:Gs,minFontScaleX:Un/K/V,minFontScaleY:Hn/K/re,isSDF:d}};if(y&&(T.stretchX||T.stretchY)){const mn=Ox(Ae,Ze,Ke),sr=Ox(_e,at,Ge);for(let Rn=0;Rn<mn.length-1;Rn++){const Sn=mn[Rn],Dr=mn[Rn+1];for(let wr=0;wr<sr.length-1;wr++)M.push(xn(Sn,sr[wr],Dr,sr[wr+1]))}}else M.push(xn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:L+1},{fixed:0,stretch:W+1}));return M}function hg(c,l,d){let y=0;for(const M of c)y+=Math.max(l,Math.min(d,M[1]))-Math.max(l,Math.min(d,M[0]));return y}function Ox(c,l,d){const y=[{fixed:-ch,stretch:0}];for(const[M,T]of c){const K=y[y.length-1];y.push({fixed:M-K.stretch,stretch:K.stretch}),y.push({fixed:M-K.stretch,stretch:K.stretch+(T-M)})}return y.push({fixed:l+ch,stretch:d}),y}function fg(c,l,d,y){return c/l*d+y}function pg(c,l,d,y){return c-l*d/y}class mg{constructor(l,d,y,M,T,K,L,W,V,re){if(this.boxStartIndex=l.length,V){let Ae=K.top,_e=K.bottom;const Be=K.collisionPadding;Be&&(Ae-=Be[1],_e+=Be[3]);let Ke=_e-Ae;Ke>0&&(Ke=Math.max(10,Ke),this.circleDiameter=Ke)}else{let Ae=K.top*L-W[0],_e=K.bottom*L+W[2],Be=K.left*L-W[3],Ke=K.right*L+W[1];const Ge=K.collisionPadding;if(Ge&&(Be-=Ge[0]*L,Ae-=Ge[1]*L,Ke+=Ge[2]*L,_e+=Ge[3]*L),re){const Ze=new B(Be,Ae),at=new B(Ke,Ae),kt=new B(Be,_e),At=new B(Ke,_e),xt=re*Math.PI/180;Ze._rotate(xt),at._rotate(xt),kt._rotate(xt),At._rotate(xt),Be=Math.min(Ze.x,at.x,kt.x,At.x),Ke=Math.max(Ze.x,at.x,kt.x,At.x),Ae=Math.min(Ze.y,at.y,kt.y,At.y),_e=Math.max(Ze.y,at.y,kt.y,At.y)}l.emplaceBack(d.x,d.y,Be,Ae,Ke,_e,y,M,T)}this.boxEndIndex=l.length}}class nM{constructor(l=[],d=rM){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:y}=this,M=d[l];for(;l>0;){const T=l-1>>1,K=d[T];if(y(M,K)>=0)break;d[l]=K,l=T}d[l]=M}_down(l){const{data:d,compare:y}=this,M=this.length>>1,T=d[l];for(;l<M;){let K=1+(l<<1),L=d[K];const W=K+1;if(W<this.length&&y(d[W],L)<0&&(K=W,L=d[W]),y(L,T)>=0)break;d[l]=L,l=K}d[l]=T}}function rM(c,l){return c<l?-1:c>l?1:0}function iM(c,l=1,d=!1){let y=1/0,M=1/0,T=-1/0,K=-1/0;const L=c[0];for(let Be=0;Be<L.length;Be++){const Ke=L[Be];(!Be||Ke.x<y)&&(y=Ke.x),(!Be||Ke.y<M)&&(M=Ke.y),(!Be||Ke.x>T)&&(T=Ke.x),(!Be||Ke.y>K)&&(K=Ke.y)}const W=Math.min(T-y,K-M);let V=W/2;const re=new nM([],oM);if(W===0)return new B(y,M);for(let Be=y;Be<T;Be+=W)for(let Ke=M;Ke<K;Ke+=W)re.push(new hm(Be+V,Ke+V,V,c));let Ae=function(Be){let Ke=0,Ge=0,Ze=0;const at=Be[0];for(let kt=0,At=at.length,xt=At-1;kt<At;xt=kt++){const nn=at[kt],An=at[xt],Un=nn.x*An.y-An.x*nn.y;Ge+=(nn.x+An.x)*Un,Ze+=(nn.y+An.y)*Un,Ke+=3*Un}return new hm(Ge/Ke,Ze/Ke,0,Be)}(c),_e=re.length;for(;re.length;){const Be=re.pop();(Be.d>Ae.d||!Ae.d)&&(Ae=Be,d&&console.log("found best %d after %d probes",Math.round(1e4*Be.d)/1e4,_e)),Be.max-Ae.d<=l||(V=Be.h/2,re.push(new hm(Be.p.x-V,Be.p.y-V,V,c)),re.push(new hm(Be.p.x+V,Be.p.y-V,V,c)),re.push(new hm(Be.p.x-V,Be.p.y+V,V,c)),re.push(new hm(Be.p.x+V,Be.p.y+V,V,c)),_e+=4)}return d&&(console.log(`num probes: ${_e}`),console.log(`best distance: ${Ae.d}`)),Ae.p}function oM(c,l){return l.max-c.max}function hm(c,l,d,y){this.p=new B(c,l),this.h=d,this.d=function(M,T){let K=!1,L=1/0;for(let W=0;W<T.length;W++){const V=T[W];for(let re=0,Ae=V.length,_e=Ae-1;re<Ae;_e=re++){const Be=V[re],Ke=V[_e];Be.y>M.y!=Ke.y>M.y&&M.x<(Ke.x-Be.x)*(M.y-Be.y)/(Ke.y-Be.y)+Be.x&&(K=!K),L=Math.min(L,fd(M,Be,Ke))}}return(K?1:-1)*Math.sqrt(L)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Ws;a.ap=void 0,(Ws=a.ap||(a.ap={}))[Ws.center=1]="center",Ws[Ws.left=2]="left",Ws[Ws.right=3]="right",Ws[Ws.top=4]="top",Ws[Ws.bottom=5]="bottom",Ws[Ws["top-left"]=6]="top-left",Ws[Ws["top-right"]=7]="top-right",Ws[Ws["bottom-left"]=8]="bottom-left",Ws[Ws["bottom-right"]=9]="bottom-right";const hf=7,gg=Number.POSITIVE_INFINITY;function Yv(c,l){return l[1]!==gg?function(d,y,M){let T=0,K=0;switch(y=Math.abs(y),M=Math.abs(M),d){case"top-right":case"top-left":case"top":K=M-hf;break;case"bottom-right":case"bottom-left":case"bottom":K=-M+hf}switch(d){case"top-right":case"bottom-right":case"right":T=-y;break;case"top-left":case"bottom-left":case"left":T=y}return[T,K]}(c,l[0],l[1]):function(d,y){let M=0,T=0;y<0&&(y=0);const K=y/Math.SQRT2;switch(d){case"top-right":case"top-left":T=K-hf;break;case"bottom-right":case"bottom-left":T=-K+hf;break;case"bottom":T=-y+hf;break;case"top":T=y-hf}switch(d){case"top-right":case"bottom-right":M=-K;break;case"top-left":case"bottom-left":M=K;break;case"left":M=y;break;case"right":M=-y}return[M,T]}(c,l[0])}function yg(c,l,d){var y;const M=c.layout,T=(y=M.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(l,{},d);if(T){const L=T.values,W=[];for(let V=0;V<L.length;V+=2){const re=W[V]=L[V],Ae=L[V+1].map(_e=>_e*Wt);re.startsWith("top")?Ae[1]-=hf:re.startsWith("bottom")&&(Ae[1]+=hf),W[V+1]=Ae}return new Ui(W)}const K=M.get("text-variable-anchor");if(K){let L;L=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[M.get("text-radial-offset").evaluate(l,{},d)*Wt,gg]:M.get("text-offset").evaluate(l,{},d).map(V=>V*Wt);const W=[];for(const V of K)W.push(V,Yv(V,L));return new Ui(W)}return null}function vg(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Bx(c,l,d,y,M,T,K,L,W,V,re){let Ae=T.textMaxSize.evaluate(l,{});Ae===void 0&&(Ae=K);const _e=c.layers[0].layout,Be=_e.get("icon-offset").evaluate(l,{},re),Ke=Hv(d.horizontal),Ge=K/24,Ze=c.tilePixelRatio*Ge,at=c.tilePixelRatio*Ae/24,kt=c.tilePixelRatio*L,At=c.tilePixelRatio*_e.get("symbol-spacing"),xt=_e.get("text-padding")*c.tilePixelRatio,nn=function(Sn,Dr,wr,zi=1){const da=Sn.get("icon-padding").evaluate(Dr,{},wr),ha=da&&da.values;return[ha[0]*zi,ha[1]*zi,ha[2]*zi,ha[3]*zi]}(_e,l,re,c.tilePixelRatio),An=_e.get("text-max-angle")/180*Math.PI,Un=_e.get("text-rotation-alignment")!=="viewport"&&_e.get("symbol-placement")!=="point",Cr=_e.get("icon-rotation-alignment")==="map"&&_e.get("symbol-placement")!=="point",Hn=_e.get("symbol-placement"),xn=At/2,mn=_e.get("icon-text-fit");let sr;y&&mn!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(sr=ix(y,d.vertical,mn,_e.get("icon-text-fit-padding"),Be,Ge)),Ke&&(y=ix(y,Ke,mn,_e.get("icon-text-fit-padding"),Be,Ge)));const Rn=(Sn,Dr)=>{Dr.x<0||Dr.x>=Ki||Dr.y<0||Dr.y>=Ki||function(wr,zi,da,ha,La,cu,du,ds,ks,Zo,Ns,hu,Gs,Qs,Wl,fu,Sl,hs,Jr,Is,ii,El,Ol,fi,cc){const dc=wr.addToLineVertexArray(zi,da);let lA,dh,hc,IA,Pu=0,hh=0,F0=0,Ix=0,t_=-1,n_=-1;const fh={};let Tx=Nr("");if(wr.allowVerticalPlacement&&ha.vertical){const Nl=ds.layout.get("text-rotate").evaluate(ii,{},fi)+90;hc=new mg(ks,zi,Zo,Ns,hu,ha.vertical,Gs,Qs,Wl,Nl),du&&(IA=new mg(ks,zi,Zo,Ns,hu,du,Sl,hs,Wl,Nl))}if(La){const Nl=ds.layout.get("icon-rotate").evaluate(ii,{}),TA=ds.layout.get("icon-text-fit")!=="none",ff=Ex(La,Nl,Ol,TA),Rc=du?Ex(du,Nl,Ol,TA):void 0;dh=new mg(ks,zi,Zo,Ns,hu,La,Sl,hs,!1,Nl),Pu=4*ff.length;const fp=wr.iconSizeData;let xd=null;fp.kind==="source"?(xd=[bd*ds.layout.get("icon-size").evaluate(ii,{})],xd[0]>Af&&he(`${wr.layerIds[0]}: Value for "icon-size" is >= ${hp}. Reduce your "icon-size".`)):fp.kind==="composite"&&(xd=[bd*El.compositeIconSizes[0].evaluate(ii,{},fi),bd*El.compositeIconSizes[1].evaluate(ii,{},fi)],(xd[0]>Af||xd[1]>Af)&&he(`${wr.layerIds[0]}: Value for "icon-size" is >= ${hp}. Reduce your "icon-size".`)),wr.addSymbols(wr.icon,ff,xd,Is,Jr,ii,a.ah.none,zi,dc.lineStartIndex,dc.lineLength,-1,fi),t_=wr.icon.placedSymbolArray.length-1,Rc&&(hh=4*Rc.length,wr.addSymbols(wr.icon,Rc,xd,Is,Jr,ii,a.ah.vertical,zi,dc.lineStartIndex,dc.lineLength,-1,fi),n_=wr.icon.placedSymbolArray.length-1)}const Kx=Object.keys(ha.horizontal);for(const Nl of Kx){const TA=ha.horizontal[Nl];if(!lA){Tx=Nr(TA.text);const Rc=ds.layout.get("text-rotate").evaluate(ii,{},fi);lA=new mg(ks,zi,Zo,Ns,hu,TA,Gs,Qs,Wl,Rc)}const ff=TA.positionedLines.length===1;if(F0+=qv(wr,zi,TA,cu,ds,Wl,ii,fu,dc,ha.vertical?a.ah.horizontal:a.ah.horizontalOnly,ff?Kx:[Nl],fh,t_,El,fi),ff)break}ha.vertical&&(Ix+=qv(wr,zi,ha.vertical,cu,ds,Wl,ii,fu,dc,a.ah.vertical,["vertical"],fh,n_,El,fi));const lM=lA?lA.boxStartIndex:wr.collisionBoxArray.length,r_=lA?lA.boxEndIndex:wr.collisionBoxArray.length,uM=hc?hc.boxStartIndex:wr.collisionBoxArray.length,i_=hc?hc.boxEndIndex:wr.collisionBoxArray.length,AM=dh?dh.boxStartIndex:wr.collisionBoxArray.length,cM=dh?dh.boxEndIndex:wr.collisionBoxArray.length,dM=IA?IA.boxStartIndex:wr.collisionBoxArray.length,Bl=IA?IA.boxEndIndex:wr.collisionBoxArray.length;let Ha=-1;const xg=(Nl,TA)=>Nl&&Nl.circleDiameter?Math.max(Nl.circleDiameter,TA):TA;Ha=xg(lA,Ha),Ha=xg(hc,Ha),Ha=xg(dh,Ha),Ha=xg(IA,Ha);const Px=Ha>-1?1:0;Px&&(Ha*=cc/Wt),wr.glyphOffsetArray.length>=cm.MAX_GLYPHS&&he("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ii.sortKey!==void 0&&wr.addToSortKeyRanges(wr.symbolInstances.length,ii.sortKey);const hM=yg(ds,ii,fi),[Fx,fM]=function(Nl,TA){const ff=Nl.length,Rc=TA==null?void 0:TA.values;if((Rc==null?void 0:Rc.length)>0)for(let fp=0;fp<Rc.length;fp+=2){const xd=Rc[fp+1];Nl.emplaceBack(a.ap[Rc[fp]],xd[0],xd[1])}return[ff,Nl.length]}(wr.textAnchorOffsets,hM);wr.symbolInstances.emplaceBack(zi.x,zi.y,fh.right>=0?fh.right:-1,fh.center>=0?fh.center:-1,fh.left>=0?fh.left:-1,fh.vertical||-1,t_,n_,Tx,lM,r_,uM,i_,AM,cM,dM,Bl,Zo,F0,Ix,Pu,hh,Px,0,Gs,Ha,Fx,fM)}(c,Dr,Sn,d,y,M,sr,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,Ze,[xt,xt,xt,xt],Un,W,kt,nn,Cr,Be,l,T,V,re,K)};if(Hn==="line")for(const Sn of xx(l.geometry,0,0,Ki,Ki)){const Dr=tM(Sn,At,An,d.vertical||Ke,y,24,at,c.overscaling,Ki);for(const wr of Dr)Ke&&aM(c,Ke.text,xn,wr)||Rn(Sn,wr)}else if(Hn==="line-center"){for(const Sn of l.geometry)if(Sn.length>1){const Dr=eM(Sn,An,d.vertical||Ke,y,24,at);Dr&&Rn(Sn,Dr)}}else if(l.type==="Polygon")for(const Sn of ih(l.geometry,0)){const Dr=iM(Sn,16);Rn(Sn[0],new df(Dr.x,Dr.y,0))}else if(l.type==="LineString")for(const Sn of l.geometry)Rn(Sn,new df(Sn[0].x,Sn[0].y,0));else if(l.type==="Point")for(const Sn of l.geometry)for(const Dr of Sn)Rn([Dr],new df(Dr.x,Dr.y,0))}function qv(c,l,d,y,M,T,K,L,W,V,re,Ae,_e,Be,Ke){const Ge=function(kt,At,xt,nn,An,Un,Cr,Hn){const xn=nn.layout.get("text-rotate").evaluate(Un,{})*Math.PI/180,mn=[];for(const sr of At.positionedLines)for(const Rn of sr.positionedGlyphs){if(!Rn.rect)continue;const Sn=Rn.rect||{};let Dr=OA+1,wr=!0,zi=1,da=0;const ha=(An||Hn)&&Rn.vertical,La=Rn.metrics.advance*Rn.scale/2;if(Hn&&At.verticalizable&&(da=sr.lineOffset/2-(Rn.imageName?-(Wt-Rn.metrics.width*Rn.scale)/2:(Rn.scale-1)*Wt)),Rn.imageName){const Is=Cr[Rn.imageName];wr=Is.sdf,zi=Is.pixelRatio,Dr=qa/zi}const cu=An?[Rn.x+La,Rn.y]:[0,0];let du=An?[0,0]:[Rn.x+La+xt[0],Rn.y+xt[1]-da],ds=[0,0];ha&&(ds=du,du=[0,0]);const ks=Rn.metrics.isDoubleResolution?2:1,Zo=(Rn.metrics.left-Dr)*Rn.scale-La+du[0],Ns=(-Rn.metrics.top-Dr)*Rn.scale+du[1],hu=Zo+Sn.w/ks*Rn.scale/zi,Gs=Ns+Sn.h/ks*Rn.scale/zi,Qs=new B(Zo,Ns),Wl=new B(hu,Ns),fu=new B(Zo,Gs),Sl=new B(hu,Gs);if(ha){const Is=new B(-La,La-um),ii=-Math.PI/2,El=Wt/2-La,Ol=new B(5-um-El,-(Rn.imageName?El:0)),fi=new B(...ds);Qs._rotateAround(ii,Is)._add(Ol)._add(fi),Wl._rotateAround(ii,Is)._add(Ol)._add(fi),fu._rotateAround(ii,Is)._add(Ol)._add(fi),Sl._rotateAround(ii,Is)._add(Ol)._add(fi)}if(xn){const Is=Math.sin(xn),ii=Math.cos(xn),El=[ii,-Is,Is,ii];Qs._matMult(El),Wl._matMult(El),fu._matMult(El),Sl._matMult(El)}const hs=new B(0,0),Jr=new B(0,0);mn.push({tl:Qs,tr:Wl,bl:fu,br:Sl,tex:Sn,writingMode:At.writingMode,glyphOffset:cu,sectionIndex:Rn.sectionIndex,isSDF:wr,pixelOffsetTL:hs,pixelOffsetBR:Jr,minFontScaleX:0,minFontScaleY:0})}return mn}(0,d,L,M,T,K,y,c.allowVerticalPlacement),Ze=c.textSizeData;let at=null;Ze.kind==="source"?(at=[bd*M.layout.get("text-size").evaluate(K,{})],at[0]>Af&&he(`${c.layerIds[0]}: Value for "text-size" is >= ${hp}. Reduce your "text-size".`)):Ze.kind==="composite"&&(at=[bd*Be.compositeTextSizes[0].evaluate(K,{},Ke),bd*Be.compositeTextSizes[1].evaluate(K,{},Ke)],(at[0]>Af||at[1]>Af)&&he(`${c.layerIds[0]}: Value for "text-size" is >= ${hp}. Reduce your "text-size".`)),c.addSymbols(c.text,Ge,at,L,T,K,V,l,W.lineStartIndex,W.lineLength,_e,Ke);for(const kt of re)Ae[kt]=c.text.placedSymbolArray.length-1;return 4*Ge.length}function Hv(c){for(const l in c)return c[l];return null}function aM(c,l,d,y){const M=c.compareText;if(l in M){const T=M[l];for(let K=T.length-1;K>=0;K--)if(y.dist(T[K])<d)return!0}else M[l]=[];return M[l].push(y),!1}const kx=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Vv{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,y]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const M=y>>4;if(M!==1)throw new Error(`Got v${M} data when expected v1.`);const T=kx[15&y];if(!T)throw new Error("Unrecognized array type.");const[K]=new Uint16Array(l,2,1),[L]=new Uint32Array(l,4,1);return new Vv(L,K,T,l)}constructor(l,d=64,y=Float64Array,M){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=y,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const T=kx.indexOf(this.ArrayType),K=2*l*this.ArrayType.BYTES_PER_ELEMENT,L=l*this.IndexArrayType.BYTES_PER_ELEMENT,W=(8-L%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${y}.`);M&&M instanceof ArrayBuffer?(this.data=M,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+L+W,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+K+L+W),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+L+W,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=l,this.coords[this._pos++]=d,y}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return fm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,y,M){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:K,nodeSize:L}=this,W=[0,T.length-1,0],V=[];for(;W.length;){const re=W.pop()||0,Ae=W.pop()||0,_e=W.pop()||0;if(Ae-_e<=L){for(let Ze=_e;Ze<=Ae;Ze++){const at=K[2*Ze],kt=K[2*Ze+1];at>=l&&at<=y&&kt>=d&&kt<=M&&V.push(T[Ze])}continue}const Be=_e+Ae>>1,Ke=K[2*Be],Ge=K[2*Be+1];Ke>=l&&Ke<=y&&Ge>=d&&Ge<=M&&V.push(T[Be]),(re===0?l<=Ke:d<=Ge)&&(W.push(_e),W.push(Be-1),W.push(1-re)),(re===0?y>=Ke:M>=Ge)&&(W.push(Be+1),W.push(Ae),W.push(1-re))}return V}within(l,d,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:M,coords:T,nodeSize:K}=this,L=[0,M.length-1,0],W=[],V=y*y;for(;L.length;){const re=L.pop()||0,Ae=L.pop()||0,_e=L.pop()||0;if(Ae-_e<=K){for(let Ze=_e;Ze<=Ae;Ze++)_g(T[2*Ze],T[2*Ze+1],l,d)<=V&&W.push(M[Ze]);continue}const Be=_e+Ae>>1,Ke=T[2*Be],Ge=T[2*Be+1];_g(Ke,Ge,l,d)<=V&&W.push(M[Be]),(re===0?l-y<=Ke:d-y<=Ge)&&(L.push(_e),L.push(Be-1),L.push(1-re)),(re===0?l+y>=Ke:d+y>=Ge)&&(L.push(Be+1),L.push(Ae),L.push(1-re))}return W}}function fm(c,l,d,y,M,T){if(M-y<=d)return;const K=y+M>>1;T0(c,l,K,y,M,T),fm(c,l,d,y,K-1,1-T),fm(c,l,d,K+1,M,1-T)}function T0(c,l,d,y,M,T){for(;M>y;){if(M-y>600){const V=M-y+1,re=d-y+1,Ae=Math.log(V),_e=.5*Math.exp(2*Ae/3),Be=.5*Math.sqrt(Ae*_e*(V-_e)/V)*(re-V/2<0?-1:1);T0(c,l,d,Math.max(y,Math.floor(d-re*_e/V+Be)),Math.min(M,Math.floor(d+(V-re)*_e/V+Be)),T)}const K=l[2*d+T];let L=y,W=M;for(K0(c,l,y,d),l[2*M+T]>K&&K0(c,l,y,M);L<W;){for(K0(c,l,L,W),L++,W--;l[2*L+T]<K;)L++;for(;l[2*W+T]>K;)W--}l[2*y+T]===K?K0(c,l,y,W):(W++,K0(c,l,W,M)),W<=d&&(y=W+1),d<=W&&(M=W-1)}}function K0(c,l,d,y){Zv(c,d,y),Zv(l,2*d,2*y),Zv(l,2*d+1,2*y+1)}function Zv(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}function _g(c,l,d,y){const M=c-d,T=l-y;return M*M+T*T}var Cg;a.bd=void 0,(Cg=a.bd||(a.bd={})).create="create",Cg.load="load",Cg.fullLoad="fullLoad";let bg=null,P0=[];const Xv=1e3/60,Jv="loadTime",e_="fullLoadTime",sM={mark(c){performance.mark(c)},frame(c){const l=c;bg!=null&&P0.push(l-bg),bg=l},clearMetrics(){bg=null,P0=[],performance.clearMeasures(Jv),performance.clearMeasures(e_);for(const c in a.bd)performance.clearMarks(a.bd[c])},getPerformanceMetrics(){performance.measure(Jv,a.bd.create,a.bd.load),performance.measure(e_,a.bd.create,a.bd.fullLoad);const c=performance.getEntriesByName(Jv)[0].duration,l=performance.getEntriesByName(e_)[0].duration,d=P0.length,y=1/(P0.reduce((T,K)=>T+K,0)/d/1e3),M=P0.filter(T=>T>Xv).reduce((T,K)=>T+(K-Xv)/Xv,0);return{loadTime:c,fullLoadTime:l,fps:y,percentDroppedFrames:M/(d+M)*100,totalFrames:d}}};a.$=pn,a.A=eh,a.B=function(c){if(Mt==null){const l=c.navigator?c.navigator.userAgent:null;Mt=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Mt},a.C=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Xw(()=>this.process()),this.subscription=function(d,y,M,T){return d.addEventListener(y,M,!1),{unsubscribe:()=>{d.removeEventListener(y,M,!1)}}}(this.target,"message",d=>this.receive(d)),this.globalScope=_t(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}sendAsync(c,l){return new Promise((d,y)=>{const M=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[M]={resolve:d,reject:y},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[M];const L={id:M,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(L)},{once:!0});const T=[],K=Object.assign(Object.assign({},c),{id:M,sourceMapId:this.mapId,origin:location.origin,data:Yu(c.data,T)});this.target.postMessage(K,{transfer:T})})}receive(c){const l=c.data,d=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[d];const y=this.abortControllers[d];return delete this.abortControllers[d],void(y&&y.abort())}if(_t(self)||l.mustQueue)return this.tasks[d]=l,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return s(this,void 0,void 0,function*(){if(l.type==="<response>"){const M=this.resolveRejects[c];return delete this.resolveRejects[c],M?void(l.error?M.reject(VA(l.error)):M.resolve(VA(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=VA(l.data),y=new AbortController;this.abortControllers[c]=y;try{const M=yield this.messageHandlers[l.type](l.sourceMapId,d,y);this.completeTask(c,null,M)}catch(M){this.completeTask(c,M)}})}completeTask(c,l,d){const y=[];delete this.abortControllers[c];const M={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?Yu(l):null,data:Yu(d,y)};this.target.postMessage(M,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},a.D=br,a.E=zt,a.F=function(){var c=new eh(16);return eh!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},a.G=$t,a.H=function(c,l,d){var y,M,T,K,L,W,V,re,Ae,_e,Be,Ke,Ge=d[0],Ze=d[1],at=d[2];return l===c?(c[12]=l[0]*Ge+l[4]*Ze+l[8]*at+l[12],c[13]=l[1]*Ge+l[5]*Ze+l[9]*at+l[13],c[14]=l[2]*Ge+l[6]*Ze+l[10]*at+l[14],c[15]=l[3]*Ge+l[7]*Ze+l[11]*at+l[15]):(M=l[1],T=l[2],K=l[3],L=l[4],W=l[5],V=l[6],re=l[7],Ae=l[8],_e=l[9],Be=l[10],Ke=l[11],c[0]=y=l[0],c[1]=M,c[2]=T,c[3]=K,c[4]=L,c[5]=W,c[6]=V,c[7]=re,c[8]=Ae,c[9]=_e,c[10]=Be,c[11]=Ke,c[12]=y*Ge+L*Ze+Ae*at+l[12],c[13]=M*Ge+W*Ze+_e*at+l[13],c[14]=T*Ge+V*Ze+Be*at+l[14],c[15]=K*Ge+re*Ze+Ke*at+l[15]),c},a.I=el,a.J=function(c,l,d){var y=d[0],M=d[1],T=d[2];return c[0]=l[0]*y,c[1]=l[1]*y,c[2]=l[2]*y,c[3]=l[3]*y,c[4]=l[4]*M,c[5]=l[5]*M,c[6]=l[6]*M,c[7]=l[7]*M,c[8]=l[8]*T,c[9]=l[9]*T,c[10]=l[10]*T,c[11]=l[11]*T,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.K=Zp,a.L=function(c,l){const d={};for(let y=0;y<l.length;y++){const M=l[y];M in c&&(d[M]=c[M])}return d},a.M=cf,a.N=hx,a.O=Nv,a.P=B,a.Q=kA,a.R=hl,a.S=H,a.T=Vf,a.U=N,a.V=je,a.W=Ki,a.X=Qo,a.Y=dg,a.Z=class extends wl{},a._=s,a.a=Ct,a.a$=function(c,l,d){return c[0]=l[0]*d[0],c[1]=l[1]*d[1],c[2]=l[2]*d[2],c[3]=l[3]*d[3],c},a.a0=Gv,a.a1=Y,a.a2=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise(d=>{l.onloadstart=()=>{d(l)};for(const y of c){const M=window.document.createElement("source");Re(y)||(l.crossOrigin="Anonymous"),M.src=y,l.appendChild(M)}})},a.a3=function(){return se++},a.a4=Nh,a.a5=cm,a.a6=Qd,a.a7=ac,a.a8=wo,a.a9=vx,a.aA=De,a.aB=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let d=[];try{if(!yn(c.version,l.version))return[{command:"setStyle",args:[l]}];yn(c.center,l.center)||d.push({command:"setCenter",args:[l.center]}),yn(c.zoom,l.zoom)||d.push({command:"setZoom",args:[l.zoom]}),yn(c.bearing,l.bearing)||d.push({command:"setBearing",args:[l.bearing]}),yn(c.pitch,l.pitch)||d.push({command:"setPitch",args:[l.pitch]}),yn(c.sprite,l.sprite)||d.push({command:"setSprite",args:[l.sprite]}),yn(c.glyphs,l.glyphs)||d.push({command:"setGlyphs",args:[l.glyphs]}),yn(c.transition,l.transition)||d.push({command:"setTransition",args:[l.transition]}),yn(c.light,l.light)||d.push({command:"setLight",args:[l.light]}),yn(c.terrain,l.terrain)||d.push({command:"setTerrain",args:[l.terrain]}),yn(c.sky,l.sky)||d.push({command:"setSky",args:[l.sky]});const y={},M=[];(function(K,L,W,V){let re;for(re in L=L||{},K=K||{})Object.prototype.hasOwnProperty.call(K,re)&&(Object.prototype.hasOwnProperty.call(L,re)||Mr(re,W,V));for(re in L)Object.prototype.hasOwnProperty.call(L,re)&&(Object.prototype.hasOwnProperty.call(K,re)?yn(K[re],L[re])||(K[re].type==="geojson"&&L[re].type==="geojson"&&gr(K,L,re)?er(W,{command:"setGeoJSONSourceData",args:[re,L[re].data]}):Wr(re,L,W,V)):Ar(re,L,W))})(c.sources,l.sources,M,y);const T=[];c.layers&&c.layers.forEach(K=>{"source"in K&&y[K.source]?d.push({command:"removeLayer",args:[K.id]}):T.push(K)}),d=d.concat(M),function(K,L,W){L=L||[];const V=(K=K||[]).map(Ee),re=L.map(Ee),Ae=K.reduce(X,{}),_e=L.reduce(X,{}),Be=V.slice(),Ke=Object.create(null);let Ge,Ze,at,kt,At;for(let xt=0,nn=0;xt<V.length;xt++)Ge=V[xt],Object.prototype.hasOwnProperty.call(_e,Ge)?nn++:(er(W,{command:"removeLayer",args:[Ge]}),Be.splice(Be.indexOf(Ge,nn),1));for(let xt=0,nn=0;xt<re.length;xt++)Ge=re[re.length-1-xt],Be[Be.length-1-xt]!==Ge&&(Object.prototype.hasOwnProperty.call(Ae,Ge)?(er(W,{command:"removeLayer",args:[Ge]}),Be.splice(Be.lastIndexOf(Ge,Be.length-nn),1)):nn++,kt=Be[Be.length-xt],er(W,{command:"addLayer",args:[_e[Ge],kt]}),Be.splice(Be.length-xt,0,Ge),Ke[Ge]=!0);for(let xt=0;xt<re.length;xt++)if(Ge=re[xt],Ze=Ae[Ge],at=_e[Ge],!Ke[Ge]&&!yn(Ze,at))if(yn(Ze.source,at.source)&&yn(Ze["source-layer"],at["source-layer"])&&yn(Ze.type,at.type)){for(At in _i(Ze.layout,at.layout,W,Ge,null,"setLayoutProperty"),_i(Ze.paint,at.paint,W,Ge,null,"setPaintProperty"),yn(Ze.filter,at.filter)||er(W,{command:"setFilter",args:[Ge,at.filter]}),yn(Ze.minzoom,at.minzoom)&&yn(Ze.maxzoom,at.maxzoom)||er(W,{command:"setLayerZoomRange",args:[Ge,at.minzoom,at.maxzoom]}),Ze)Object.prototype.hasOwnProperty.call(Ze,At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?_i(Ze[At],at[At],W,Ge,At.slice(6),"setPaintProperty"):yn(Ze[At],at[At])||er(W,{command:"setLayerProperty",args:[Ge,At,at[At]]}));for(At in at)Object.prototype.hasOwnProperty.call(at,At)&&!Object.prototype.hasOwnProperty.call(Ze,At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?_i(Ze[At],at[At],W,Ge,At.slice(6),"setPaintProperty"):yn(Ze[At],at[At])||er(W,{command:"setLayerProperty",args:[Ge,At,at[At]]}))}else er(W,{command:"removeLayer",args:[Ge]}),kt=Be[Be.lastIndexOf(Ge)+1],er(W,{command:"addLayer",args:[at,kt]})}(T,l.layers,d)}catch(y){console.warn("Unable to compute style diff:",y),d=[{command:"setStyle",args:[l]}]}return d},a.aC=function(c){const l=[],d=c.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.aD=function c(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let y=0;y<l.length;y++)if(!c(l[y],d[y]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const y in l)if(!c(l[y],d[y]))return!1;return!0}return l===d},a.aE=xe,a.aF=Se,a.aG=class extends mo{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},a.aH=so,a.aI=class extends mo{constructor(c,l){super(c,l),this.current=ws}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},a.aJ=Zs,a.aK=class extends mo{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},a.aL=class extends mo{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},a.aM=su,a.aN=function(c,l,d,y,M,T,K){var L=1/(l-d),W=1/(y-M),V=1/(T-K);return c[0]=-2*L,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*W,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*V,c[11]=0,c[12]=(l+d)*L,c[13]=(M+y)*W,c[14]=(K+T)*V,c[15]=1,c},a.aO=Mi,a.aP=Xp,a.aQ=class extends ya{},a.aR=nt,a.aS=class extends Ad{},a.aT=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},a.aU=pd,a.aV=de,a.aW=class extends zl{},a.aX=Ut,a.aY=function(c,l){return c[0]===l[0]&&c[1]===l[1]&&c[2]===l[2]&&c[3]===l[3]&&c[4]===l[4]&&c[5]===l[5]&&c[6]===l[6]&&c[7]===l[7]&&c[8]===l[8]&&c[9]===l[9]&&c[10]===l[10]&&c[11]===l[11]&&c[12]===l[12]&&c[13]===l[13]&&c[14]===l[14]&&c[15]===l[15]},a.aZ=function(c,l){var d=c[0],y=c[1],M=c[2],T=c[3],K=c[4],L=c[5],W=c[6],V=c[7],re=c[8],Ae=c[9],_e=c[10],Be=c[11],Ke=c[12],Ge=c[13],Ze=c[14],at=c[15],kt=l[0],At=l[1],xt=l[2],nn=l[3],An=l[4],Un=l[5],Cr=l[6],Hn=l[7],xn=l[8],mn=l[9],sr=l[10],Rn=l[11],Sn=l[12],Dr=l[13],wr=l[14],zi=l[15];return Math.abs(d-kt)<=dl*Math.max(1,Math.abs(d),Math.abs(kt))&&Math.abs(y-At)<=dl*Math.max(1,Math.abs(y),Math.abs(At))&&Math.abs(M-xt)<=dl*Math.max(1,Math.abs(M),Math.abs(xt))&&Math.abs(T-nn)<=dl*Math.max(1,Math.abs(T),Math.abs(nn))&&Math.abs(K-An)<=dl*Math.max(1,Math.abs(K),Math.abs(An))&&Math.abs(L-Un)<=dl*Math.max(1,Math.abs(L),Math.abs(Un))&&Math.abs(W-Cr)<=dl*Math.max(1,Math.abs(W),Math.abs(Cr))&&Math.abs(V-Hn)<=dl*Math.max(1,Math.abs(V),Math.abs(Hn))&&Math.abs(re-xn)<=dl*Math.max(1,Math.abs(re),Math.abs(xn))&&Math.abs(Ae-mn)<=dl*Math.max(1,Math.abs(Ae),Math.abs(mn))&&Math.abs(_e-sr)<=dl*Math.max(1,Math.abs(_e),Math.abs(sr))&&Math.abs(Be-Rn)<=dl*Math.max(1,Math.abs(Be),Math.abs(Rn))&&Math.abs(Ke-Sn)<=dl*Math.max(1,Math.abs(Ke),Math.abs(Sn))&&Math.abs(Ge-Dr)<=dl*Math.max(1,Math.abs(Ge),Math.abs(Dr))&&Math.abs(Ze-wr)<=dl*Math.max(1,Math.abs(Ze),Math.abs(wr))&&Math.abs(at-zi)<=dl*Math.max(1,Math.abs(at),Math.abs(zi))},a.a_=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.aa=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,y,M,T)=>{const K=M||T;return l[y]=!K||K.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.ab=function(c,l){const d=[];for(const y in c)y in l||d.push(y);return d},a.ac=ye,a.ad=function(c,l,d){var y=Math.sin(d),M=Math.cos(d),T=l[0],K=l[1],L=l[2],W=l[3],V=l[4],re=l[5],Ae=l[6],_e=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=T*M+V*y,c[1]=K*M+re*y,c[2]=L*M+Ae*y,c[3]=W*M+_e*y,c[4]=V*M-T*y,c[5]=re*M-K*y,c[6]=Ae*M-L*y,c[7]=_e*M-W*y,c},a.ae=function(c){var l=new eh(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},a.af=Jp,a.ag=function(c,l){let d=0,y=0;if(c.kind==="constant")y=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:M,minZoom:T,maxZoom:K}=c,L=M?ye(Nn.interpolationFactor(M,l,T,K),0,1):0;c.kind==="camera"?y=gt.number(c.minSize,c.maxSize,L):d=L}return{uSizeT:d,uSize:y}},a.ai=function(c,{uSize:l,uSizeT:d},{lowerSize:y,upperSize:M}){return c.kind==="source"?y/bd:c.kind==="composite"?gt.number(y/bd,M/bd,d):l},a.aj=Uv,a.ak=function(c,l,d,y){const M=l.y-c.y,T=l.x-c.x,K=y.y-d.y,L=y.x-d.x,W=K*T-L*M;if(W===0)return null;const V=(L*(c.y-d.y)-K*(c.x-d.x))/W;return new B(c.x+V*T,c.y+V*M)},a.al=xx,a.am=ku,a.an=y0,a.ao=Wt,a.aq=Lv,a.ar=function(c,l){var d=l[0],y=l[1],M=l[2],T=l[3],K=l[4],L=l[5],W=l[6],V=l[7],re=l[8],Ae=l[9],_e=l[10],Be=l[11],Ke=l[12],Ge=l[13],Ze=l[14],at=l[15],kt=d*L-y*K,At=d*W-M*K,xt=d*V-T*K,nn=y*W-M*L,An=y*V-T*L,Un=M*V-T*W,Cr=re*Ge-Ae*Ke,Hn=re*Ze-_e*Ke,xn=re*at-Be*Ke,mn=Ae*Ze-_e*Ge,sr=Ae*at-Be*Ge,Rn=_e*at-Be*Ze,Sn=kt*Rn-At*sr+xt*mn+nn*xn-An*Hn+Un*Cr;return Sn?(c[0]=(L*Rn-W*sr+V*mn)*(Sn=1/Sn),c[1]=(M*sr-y*Rn-T*mn)*Sn,c[2]=(Ge*Un-Ze*An+at*nn)*Sn,c[3]=(_e*An-Ae*Un-Be*nn)*Sn,c[4]=(W*xn-K*Rn-V*Hn)*Sn,c[5]=(d*Rn-M*xn+T*Hn)*Sn,c[6]=(Ze*xt-Ke*Un-at*At)*Sn,c[7]=(re*Un-_e*xt+Be*At)*Sn,c[8]=(K*sr-L*xn+V*Cr)*Sn,c[9]=(y*xn-d*sr-T*Cr)*Sn,c[10]=(Ke*An-Ge*xt+at*kt)*Sn,c[11]=(Ae*xt-re*An-Be*kt)*Sn,c[12]=(L*Hn-K*mn-W*Cr)*Sn,c[13]=(d*mn-y*Hn+M*Cr)*Sn,c[14]=(Ge*At-Ke*nn-Ze*kt)*Sn,c[15]=(re*nn-Ae*At+_e*kt)*Sn,c):null},a.as=vg,a.at=Dv,a.au=Vv,a.av=function(){const c={},l=pt.$version;for(const d in pt.$root){const y=pt.$root[d];if(y.required){let M=null;M=d==="version"?l:y.type==="array"?[]:{},M!=null&&(c[d]=M)}}return c},a.aw=qu,a.ax=pe,a.ay=function(c){c=c.slice();const l=Object.create(null);for(let d=0;d<c.length;d++)l[c[d].id]=c[d];for(let d=0;d<c.length;d++)"ref"in c[d]&&(c[d]=gn(c[d],l[c[d].ref]));return c},a.az=function(c){if(c.type==="custom")return new Zw(c);switch(c.type){case"background":return new Hw(c);case"circle":return new v0(c);case"fill":return new om(c);case"fill-extrusion":return new Cd(c);case"heatmap":return new th(c);case"hillshade":return new Iu(c);case"line":return new U(c);case"raster":return new Vw(c);case"symbol":return new Ag(c)}},a.b=dt,a.b0=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},a.b1=be,a.b2=mx,a.b3=fx,a.b4=function(c,l,d,y,M){var T,K=1/Math.tan(l/2);return c[0]=K/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=K,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,M!=null&&M!==1/0?(c[10]=(M+y)*(T=1/(y-M)),c[14]=2*M*y*T):(c[10]=-1,c[14]=-2*y),c},a.b5=function(c,l,d){var y=Math.sin(d),M=Math.cos(d),T=l[4],K=l[5],L=l[6],W=l[7],V=l[8],re=l[9],Ae=l[10],_e=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=T*M+V*y,c[5]=K*M+re*y,c[6]=L*M+Ae*y,c[7]=W*M+_e*y,c[8]=V*M-T*y,c[9]=re*M-K*y,c[10]=Ae*M-L*y,c[11]=_e*M-W*y,c},a.b6=Z,a.b7=ue,a.b8=function(c){return c*Math.PI/180},a.b9=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},a.bA=Xu,a.ba=class extends tA{},a.bb=Wv,a.bc=sM,a.be=Ie,a.bf=function(c,l){Ct.REGISTERED_PROTOCOLS[c]=l},a.bg=function(c){delete Ct.REGISTERED_PROTOCOLS[c]},a.bh=function(c,l){const d={};for(let M=0;M<c.length;M++){const T=l&&l[c[M].id]||Dl(c[M]);l&&(l[c[M].id]=T);let K=d[T];K||(K=d[T]=[]),K.push(c[M])}const y=[];for(const M in d)y.push(d[M]);return y},a.bi=Gn,a.bj=yx,a.bk=_x,a.bl=Ah,a.bm=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=Ki/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],d=l.layout,y=l._unevaluatedLayout._values,M={layoutIconSize:y["icon-size"].possiblyEvaluate(new wo(c.bucket.zoom+1),c.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new wo(c.bucket.zoom+1),c.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new wo(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:re}=c.bucket.textSizeData;M.compositeTextSizes=[y["text-size"].possiblyEvaluate(new wo(V),c.canonical),y["text-size"].possiblyEvaluate(new wo(re),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:re}=c.bucket.iconSizeData;M.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new wo(V),c.canonical),y["icon-size"].possiblyEvaluate(new wo(re),c.canonical)]}const T=d.get("text-line-height")*Wt,K=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",L=d.get("text-keep-upright"),W=d.get("text-size");for(const V of c.bucket.features){const re=d.get("text-font").evaluate(V,{},c.canonical).join(","),Ae=W.evaluate(V,{},c.canonical),_e=M.layoutTextSize.evaluate(V,{},c.canonical),Be=M.layoutIconSize.evaluate(V,{},c.canonical),Ke={horizontal:{},vertical:void 0},Ge=V.text;let Ze,at=[0,0];if(Ge){const xt=Ge.toString(),nn=d.get("text-letter-spacing").evaluate(V,{},c.canonical)*Wt,An=Hu(xt)?nn:0,Un=d.get("text-anchor").evaluate(V,{},c.canonical),Cr=yg(l,V,c.canonical);if(!Cr){const Rn=d.get("text-radial-offset").evaluate(V,{},c.canonical);at=Rn?Yv(Un,[Rn*Wt,gg]):d.get("text-offset").evaluate(V,{},c.canonical).map(Sn=>Sn*Wt)}let Hn=K?"center":d.get("text-justify").evaluate(V,{},c.canonical);const xn=d.get("symbol-placement"),mn=xn==="point"?d.get("text-max-width").evaluate(V,{},c.canonical)*Wt:0,sr=()=>{c.bucket.allowVerticalPlacement&&ZA(xt)&&(Ke.vertical=ag(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Un,"left",An,at,a.ah.vertical,!0,xn,_e,Ae))};if(!K&&Cr){const Rn=new Set;if(Hn==="auto")for(let Dr=0;Dr<Cr.values.length;Dr+=2)Rn.add(vg(Cr.values[Dr]));else Rn.add(Hn);let Sn=!1;for(const Dr of Rn)if(!Ke.horizontal[Dr])if(Sn)Ke.horizontal[Dr]=Ke.horizontal[0];else{const wr=ag(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,"center",Dr,An,at,a.ah.horizontal,!1,xn,_e,Ae);wr&&(Ke.horizontal[Dr]=wr,Sn=wr.positionedLines.length===1)}sr()}else{Hn==="auto"&&(Hn=vg(Un));const Rn=ag(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Un,Hn,An,at,a.ah.horizontal,!1,xn,_e,Ae);Rn&&(Ke.horizontal[Hn]=Rn),sr(),ZA(xt)&&K&&L&&(Ke.vertical=ag(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Un,Hn,An,at,a.ah.vertical,!1,xn,_e,Ae))}}let kt=!1;if(V.icon&&V.icon.name){const xt=c.imageMap[V.icon.name];xt&&(Ze=Gw(c.imagePositions[V.icon.name],d.get("icon-offset").evaluate(V,{},c.canonical),d.get("icon-anchor").evaluate(V,{},c.canonical)),kt=!!xt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=kt:c.bucket.sdfIcons!==kt&&he("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xt.pixelRatio!==c.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const At=Hv(Ke.horizontal)||Ke.vertical;c.bucket.iconsInText=!!At&&At.iconsInText,(At||Ze)&&Bx(c.bucket,V,Ke,Ze,c.imageMap,M,_e,Be,at,kt,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},a.bn=uf,a.bo=rf,a.bp=lh,a.bq=sA,a.br=lc,a.bs=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},a.bt=function(c,l,d,y,M){return s(this,void 0,void 0,function*(){if(N())try{return yield je(c,l,d,y,M)}catch{}return function(T,K,L,W,V){const re=T.width,Ae=T.height;Ve&&Xe||(Ve=new OffscreenCanvas(re,Ae),Xe=Ve.getContext("2d",{willReadFrequently:!0})),Ve.width=re,Ve.height=Ae,Xe.drawImage(T,0,0,re,Ae);const _e=Xe.getImageData(K,L,W,V);return Xe.clearRect(0,0,re,Ae),_e.data}(c,l,d,y,M)})},a.bu=gx,a.bv=h,a.bw=g,a.bx=cn,a.by=Do,a.bz=function(c){return c.message===Jt},a.c=Ht,a.d=c=>s(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),a.e=J,a.f=c=>new Promise((l,d)=>{const y=new Image;y.onload=()=>{l(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=mt})},y.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const M=new Blob([new Uint8Array(c)],{type:"image/png"});y.src=c.byteLength?URL.createObjectURL(M):mt}),a.g=Qt,a.h=(c,l)=>Me(J(c,{type:"json"}),l),a.i=_t,a.j=Rt,a.k=St,a.l=(c,l)=>Me(J(c,{type:"arrayBuffer"}),l),a.m=Me,a.n=function(c){return new lc(c).readFields(uc,[])},a.o=Fa,a.p=Uc,a.q=Aa,a.r=Uh,a.s=Re,a.t=HA,a.u=Vn,a.v=pt,a.w=he,a.x=Vi,a.y=function([c,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(d),y:c*Math.sin(l)*Math.sin(d),z:c*Math.cos(d)}},a.z=gt}),i("worker",["./shared"],function(a){class s{constructor(ce){this.keyCache={},ce&&this.replace(ce)}replace(ce){this._layerConfigs={},this._layers={},this.update(ce,[])}update(ce,Ce){for(const ze of ce){this._layerConfigs[ze.id]=ze;const rt=this._layers[ze.id]=a.az(ze);rt._featureFilter=a.a6(rt.filter),this.keyCache[ze.id]&&delete this.keyCache[ze.id]}for(const ze of Ce)delete this.keyCache[ze],delete this._layerConfigs[ze],delete this._layers[ze];this.familiesBySource={};const ke=a.bh(Object.values(this._layerConfigs),this.keyCache);for(const ze of ke){const rt=ze.map(qt=>this._layers[qt.id]),st=rt[0];if(st.visibility==="none")continue;const ft=st.source||"";let et=this.familiesBySource[ft];et||(et=this.familiesBySource[ft]={});const wt=st.sourceLayer||"_geojsonTileLayer";let tn=et[wt];tn||(tn=et[wt]=[]),tn.push(rt)}}}class h{constructor(ce){const Ce={},ke=[];for(const ft in ce){const et=ce[ft],wt=Ce[ft]={};for(const tn in et){const qt=et[+tn];if(!qt||qt.bitmap.width===0||qt.bitmap.height===0)continue;const en={x:0,y:0,w:qt.bitmap.width+2,h:qt.bitmap.height+2};ke.push(en),wt[tn]={rect:en,metrics:qt.metrics}}}const{w:ze,h:rt}=a.p(ke),st=new a.o({width:ze||1,height:rt||1});for(const ft in ce){const et=ce[ft];for(const wt in et){const tn=et[+wt];if(!tn||tn.bitmap.width===0||tn.bitmap.height===0)continue;const qt=Ce[ft][wt].rect;a.o.copy(tn.bitmap,st,{x:0,y:0},{x:qt.x+1,y:qt.y+1},tn.bitmap)}}this.image=st,this.positions=Ce}}a.bi("GlyphAtlas",h);class g{constructor(ce){this.tileID=new a.Q(ce.tileID.overscaledZ,ce.tileID.wrap,ce.tileID.canonical.z,ce.tileID.canonical.x,ce.tileID.canonical.y),this.uid=ce.uid,this.zoom=ce.zoom,this.pixelRatio=ce.pixelRatio,this.tileSize=ce.tileSize,this.source=ce.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ce.showCollisionBoxes,this.collectResourceTiming=!!ce.collectResourceTiming,this.returnDependencies=!!ce.returnDependencies,this.promoteId=ce.promoteId,this.inFlightDependencies=[]}parse(ce,Ce,ke,ze){return a._(this,void 0,void 0,function*(){this.status="parsing",this.data=ce,this.collisionBoxArray=new a.a4;const rt=new a.bj(Object.keys(ce.layers).sort()),st=new a.bk(this.tileID,this.promoteId);st.bucketLayerIDs=[];const ft={},et={featureIndex:st,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ke},wt=Ce.familiesBySource[this.source];for(const or in wt){const ci=ce.layers[or];if(!ci)continue;ci.version===1&&a.w(`Vector tile source "${this.source}" layer "${or}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Li=rt.encode(or),to=[];for(let ho=0;ho<ci.length;ho++){const ai=ci.feature(ho),fo=st.getId(ai,or);to.push({feature:ai,id:fo,index:ho,sourceLayerIndex:Li})}for(const ho of wt[or]){const ai=ho[0];ai.source!==this.source&&a.w(`layer.source = ${ai.source} does not equal this.source = ${this.source}`),ai.minzoom&&this.zoom<Math.floor(ai.minzoom)||ai.maxzoom&&this.zoom>=ai.maxzoom||ai.visibility!=="none"&&(_(ho,this.zoom,ke),(ft[ai.id]=ai.createBucket({index:st.bucketLayerIDs.length,layers:ho,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Li,sourceID:this.source})).populate(to,et,this.tileID.canonical),st.bucketLayerIDs.push(ho.map(fo=>fo.id)))}}const tn=a.aE(et.glyphDependencies,or=>Object.keys(or).map(Number));this.inFlightDependencies.forEach(or=>or==null?void 0:or.abort()),this.inFlightDependencies=[];let qt=Promise.resolve({});if(Object.keys(tn).length){const or=new AbortController;this.inFlightDependencies.push(or),qt=ze.sendAsync({type:"getGlyphs",data:{stacks:tn,source:this.source,tileID:this.tileID,type:"glyphs"}},or)}const en=Object.keys(et.iconDependencies);let Fn=Promise.resolve({});if(en.length){const or=new AbortController;this.inFlightDependencies.push(or),Fn=ze.sendAsync({type:"getImages",data:{icons:en,source:this.source,tileID:this.tileID,type:"icons"}},or)}const Bn=Object.keys(et.patternDependencies);let qn=Promise.resolve({});if(Bn.length){const or=new AbortController;this.inFlightDependencies.push(or),qn=ze.sendAsync({type:"getImages",data:{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"}},or)}const[Sr,lr,$r]=yield Promise.all([qt,Fn,qn]),Or=new h(Sr),Lr=new a.bl(lr,$r);for(const or in ft){const ci=ft[or];ci instanceof a.a5?(_(ci.layers,this.zoom,ke),a.bm({bucket:ci,glyphMap:Sr,glyphPositions:Or.positions,imageMap:lr,imagePositions:Lr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):ci.hasPattern&&(ci instanceof a.bn||ci instanceof a.bo||ci instanceof a.bp)&&(_(ci.layers,this.zoom,ke),ci.addFeatures(et,this.tileID.canonical,Lr.patternPositions))}return this.status="done",{buckets:Object.values(ft).filter(or=>!or.isEmpty()),featureIndex:st,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Or.image,imageAtlas:Lr,glyphMap:this.returnDependencies?Sr:null,iconMap:this.returnDependencies?lr:null,glyphPositions:this.returnDependencies?Or.positions:null}})}}function _(Pe,ce,Ce){const ke=new a.a8(ce);for(const ze of Pe)ze.recalculate(ke,Ce)}class B{constructor(ce,Ce,ke){this.actor=ce,this.layerIndex=Ce,this.availableImages=ke,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ce,Ce){return a._(this,void 0,void 0,function*(){const ke=yield a.l(ce.request,Ce);try{return{vectorTile:new a.bq.VectorTile(new a.br(ke.data)),rawData:ke.data,cacheControl:ke.cacheControl,expires:ke.expires}}catch(ze){const rt=new Uint8Array(ke.data);let st=`Unable to parse the tile at ${ce.request.url}, `;throw st+=rt[0]===31&&rt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ze.messge}`,new Error(st)}})}loadTile(ce){return a._(this,void 0,void 0,function*(){const Ce=ce.uid,ke=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new a.bs(ce.request),ze=new g(ce);this.loading[Ce]=ze;const rt=new AbortController;ze.abort=rt;try{const st=yield this.loadVectorTile(ce,rt);if(delete this.loading[Ce],!st)return null;const ft=st.rawData,et={};st.expires&&(et.expires=st.expires),st.cacheControl&&(et.cacheControl=st.cacheControl);const wt={};if(ke){const qt=ke.finish();qt&&(wt.resourceTiming=JSON.parse(JSON.stringify(qt)))}ze.vectorTile=st.vectorTile;const tn=ze.parse(st.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[Ce]=ze,this.fetching[Ce]={rawTileData:ft,cacheControl:et,resourceTiming:wt};try{const qt=yield tn;return a.e({rawTileData:ft.slice(0)},qt,et,wt)}finally{delete this.fetching[Ce]}}catch(st){throw delete this.loading[Ce],ze.status="done",this.loaded[Ce]=ze,st}})}reloadTile(ce){return a._(this,void 0,void 0,function*(){const Ce=ce.uid;if(!this.loaded||!this.loaded[Ce])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ke=this.loaded[Ce];if(ke.showCollisionBoxes=ce.showCollisionBoxes,ke.status==="parsing"){const ze=yield ke.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor);let rt;if(this.fetching[Ce]){const{rawTileData:st,cacheControl:ft,resourceTiming:et}=this.fetching[Ce];delete this.fetching[Ce],rt=a.e({rawTileData:st.slice(0)},ze,ft,et)}else rt=ze;return rt}if(ke.status==="done"&&ke.vectorTile)return ke.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(ce){return a._(this,void 0,void 0,function*(){const Ce=this.loading,ke=ce.uid;Ce&&Ce[ke]&&Ce[ke].abort&&(Ce[ke].abort.abort(),delete Ce[ke])})}removeTile(ce){return a._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ce.uid]&&delete this.loaded[ce.uid]})}}class k{constructor(){this.loaded={}}loadTile(ce){return a._(this,void 0,void 0,function*(){const{uid:Ce,encoding:ke,rawImageData:ze,redFactor:rt,greenFactor:st,blueFactor:ft,baseShift:et}=ce,wt=ze.width+2,tn=ze.height+2,qt=a.b(ze)?new a.R({width:wt,height:tn},yield a.bt(ze,-1,-1,wt,tn)):ze,en=new a.bu(Ce,qt,ke,rt,st,ft,et);return this.loaded=this.loaded||{},this.loaded[Ce]=en,en})}removeTile(ce){const Ce=this.loaded,ke=ce.uid;Ce&&Ce[ke]&&delete Ce[ke]}}function P(Pe,ce){if(Pe.length!==0){F(Pe[0],ce);for(var Ce=1;Ce<Pe.length;Ce++)F(Pe[Ce],!ce)}}function F(Pe,ce){for(var Ce=0,ke=0,ze=0,rt=Pe.length,st=rt-1;ze<rt;st=ze++){var ft=(Pe[ze][0]-Pe[st][0])*(Pe[st][1]+Pe[ze][1]),et=Ce+ft;ke+=Math.abs(Ce)>=Math.abs(ft)?Ce-et+ft:ft-et+Ce,Ce=et}Ce+ke>=0!=!!ce&&Pe.reverse()}var q=a.bv(function Pe(ce,Ce){var ke,ze=ce&&ce.type;if(ze==="FeatureCollection")for(ke=0;ke<ce.features.length;ke++)Pe(ce.features[ke],Ce);else if(ze==="GeometryCollection")for(ke=0;ke<ce.geometries.length;ke++)Pe(ce.geometries[ke],Ce);else if(ze==="Feature")Pe(ce.geometry,Ce);else if(ze==="Polygon")P(ce.coordinates,Ce);else if(ze==="MultiPolygon")for(ke=0;ke<ce.coordinates.length;ke++)P(ce.coordinates[ke],Ce);return ce});const ee=a.bq.VectorTileFeature.prototype.toGeoJSON;var H={exports:{}},N=a.bw,Z=a.bq.VectorTileFeature,ue=ye;function ye(Pe,ce){this.options=ce||{},this.features=Pe,this.length=Pe.length}function be(Pe,ce){this.id=typeof Pe.id=="number"?Pe.id:void 0,this.type=Pe.type,this.rawGeometry=Pe.type===1?[Pe.geometry]:Pe.geometry,this.properties=Pe.tags,this.extent=ce||4096}ye.prototype.feature=function(Pe){return new be(this.features[Pe],this.options.extent)},be.prototype.loadGeometry=function(){var Pe=this.rawGeometry;this.geometry=[];for(var ce=0;ce<Pe.length;ce++){for(var Ce=Pe[ce],ke=[],ze=0;ze<Ce.length;ze++)ke.push(new N(Ce[ze][0],Ce[ze][1]));this.geometry.push(ke)}return this.geometry},be.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Pe=this.geometry,ce=1/0,Ce=-1/0,ke=1/0,ze=-1/0,rt=0;rt<Pe.length;rt++)for(var st=Pe[rt],ft=0;ft<st.length;ft++){var et=st[ft];ce=Math.min(ce,et.x),Ce=Math.max(Ce,et.x),ke=Math.min(ke,et.y),ze=Math.max(ze,et.y)}return[ce,ke,Ce,ze]},be.prototype.toGeoJSON=Z.prototype.toGeoJSON;var J=a.bx,se=ue;function xe(Pe){var ce=new J;return function(Ce,ke){for(var ze in Ce.layers)ke.writeMessage(3,Se,Ce.layers[ze])}(Pe,ce),ce.finish()}function Se(Pe,ce){var Ce;ce.writeVarintField(15,Pe.version||1),ce.writeStringField(1,Pe.name||""),ce.writeVarintField(5,Pe.extent||4096);var ke={keys:[],values:[],keycache:{},valuecache:{}};for(Ce=0;Ce<Pe.length;Ce++)ke.feature=Pe.feature(Ce),ce.writeMessage(2,De,ke);var ze=ke.keys;for(Ce=0;Ce<ze.length;Ce++)ce.writeStringField(3,ze[Ce]);var rt=ke.values;for(Ce=0;Ce<rt.length;Ce++)ce.writeMessage(4,_t,rt[Ce])}function De(Pe,ce){var Ce=Pe.feature;Ce.id!==void 0&&ce.writeVarintField(1,Ce.id),ce.writeMessage(2,Le,Pe),ce.writeVarintField(3,Ce.type),ce.writeMessage(4,ge,Ce)}function Le(Pe,ce){var Ce=Pe.feature,ke=Pe.keys,ze=Pe.values,rt=Pe.keycache,st=Pe.valuecache;for(var ft in Ce.properties){var et=Ce.properties[ft],wt=rt[ft];if(et!==null){wt===void 0&&(ke.push(ft),rt[ft]=wt=ke.length-1),ce.writeVarint(wt);var tn=typeof et;tn!=="string"&&tn!=="boolean"&&tn!=="number"&&(et=JSON.stringify(et));var qt=tn+":"+et,en=st[qt];en===void 0&&(ze.push(et),st[qt]=en=ze.length-1),ce.writeVarint(en)}}}function he(Pe,ce){return(ce<<3)+(7&Pe)}function qe(Pe){return Pe<<1^Pe>>31}function ge(Pe,ce){for(var Ce=Pe.loadGeometry(),ke=Pe.type,ze=0,rt=0,st=Ce.length,ft=0;ft<st;ft++){var et=Ce[ft],wt=1;ke===1&&(wt=et.length),ce.writeVarint(he(1,wt));for(var tn=ke===3?et.length-1:et.length,qt=0;qt<tn;qt++){qt===1&&ke!==1&&ce.writeVarint(he(2,tn-1));var en=et[qt].x-ze,Fn=et[qt].y-rt;ce.writeVarint(qe(en)),ce.writeVarint(qe(Fn)),ze+=en,rt+=Fn}ke===3&&ce.writeVarint(he(7,1))}}function _t(Pe,ce){var Ce=typeof Pe;Ce==="string"?ce.writeStringField(1,Pe):Ce==="boolean"?ce.writeBooleanField(7,Pe):Ce==="number"&&(Pe%1!=0?ce.writeDoubleField(3,Pe):Pe<0?ce.writeSVarintField(6,Pe):ce.writeVarintField(5,Pe))}H.exports=xe,H.exports.fromVectorTileJs=xe,H.exports.fromGeojsonVt=function(Pe,ce){ce=ce||{};var Ce={};for(var ke in Pe)Ce[ke]=new se(Pe[ke].features,ce),Ce[ke].name=ke,Ce[ke].version=ce.version,Ce[ke].extent=ce.extent;return xe({layers:Ce})},H.exports.GeoJSONWrapper=se;var Mt=a.bv(H.exports);const dt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Pe=>Pe},mt=Math.fround||(je=new Float32Array(1),Pe=>(je[0]=+Pe,je[0]));var je;const Ve=3,Xe=5,Jt=6;class Ht{constructor(ce){this.options=Object.assign(Object.create(dt),ce),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ce){const{log:Ce,minZoom:ke,maxZoom:ze}=this.options;Ce&&console.time("total time");const rt=`prepare ${ce.length} points`;Ce&&console.time(rt),this.points=ce;const st=[];for(let et=0;et<ce.length;et++){const wt=ce[et];if(!wt.geometry)continue;const[tn,qt]=wt.geometry.coordinates,en=mt($t(tn)),Fn=mt(Ie(qt));st.push(en,Fn,1/0,et,-1,1),this.options.reduce&&st.push(0)}let ft=this.trees[ze+1]=this._createTree(st);Ce&&console.timeEnd(rt);for(let et=ze;et>=ke;et--){const wt=+Date.now();ft=this.trees[et]=this._createTree(this._cluster(ft,et)),Ce&&console.log("z%d: %d clusters in %dms",et,ft.numItems,+Date.now()-wt)}return Ce&&console.timeEnd("total time"),this}getClusters(ce,Ce){let ke=((ce[0]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,ce[1]));let rt=ce[2]===180?180:((ce[2]+180)%360+360)%360-180;const st=Math.max(-90,Math.min(90,ce[3]));if(ce[2]-ce[0]>=360)ke=-180,rt=180;else if(ke>rt){const qt=this.getClusters([ke,ze,180,st],Ce),en=this.getClusters([-180,ze,rt,st],Ce);return qt.concat(en)}const ft=this.trees[this._limitZoom(Ce)],et=ft.range($t(ke),Ie(st),$t(rt),Ie(ze)),wt=ft.data,tn=[];for(const qt of et){const en=this.stride*qt;tn.push(wt[en+Xe]>1?Ct(wt,en,this.clusterProps):this.points[wt[en+Ve]])}return tn}getChildren(ce){const Ce=this._getOriginId(ce),ke=this._getOriginZoom(ce),ze="No cluster with the specified id.",rt=this.trees[ke];if(!rt)throw new Error(ze);const st=rt.data;if(Ce*this.stride>=st.length)throw new Error(ze);const ft=this.options.radius/(this.options.extent*Math.pow(2,ke-1)),et=rt.within(st[Ce*this.stride],st[Ce*this.stride+1],ft),wt=[];for(const tn of et){const qt=tn*this.stride;st[qt+4]===ce&&wt.push(st[qt+Xe]>1?Ct(st,qt,this.clusterProps):this.points[st[qt+Ve]])}if(wt.length===0)throw new Error(ze);return wt}getLeaves(ce,Ce,ke){const ze=[];return this._appendLeaves(ze,ce,Ce=Ce||10,ke=ke||0,0),ze}getTile(ce,Ce,ke){const ze=this.trees[this._limitZoom(ce)],rt=Math.pow(2,ce),{extent:st,radius:ft}=this.options,et=ft/st,wt=(ke-et)/rt,tn=(ke+1+et)/rt,qt={features:[]};return this._addTileFeatures(ze.range((Ce-et)/rt,wt,(Ce+1+et)/rt,tn),ze.data,Ce,ke,rt,qt),Ce===0&&this._addTileFeatures(ze.range(1-et/rt,wt,1,tn),ze.data,rt,ke,rt,qt),Ce===rt-1&&this._addTileFeatures(ze.range(0,wt,et/rt,tn),ze.data,-1,ke,rt,qt),qt.features.length?qt:null}getClusterExpansionZoom(ce){let Ce=this._getOriginZoom(ce)-1;for(;Ce<=this.options.maxZoom;){const ke=this.getChildren(ce);if(Ce++,ke.length!==1)break;ce=ke[0].properties.cluster_id}return Ce}_appendLeaves(ce,Ce,ke,ze,rt){const st=this.getChildren(Ce);for(const ft of st){const et=ft.properties;if(et&&et.cluster?rt+et.point_count<=ze?rt+=et.point_count:rt=this._appendLeaves(ce,et.cluster_id,ke,ze,rt):rt<ze?rt++:ce.push(ft),ce.length===ke)break}return rt}_createTree(ce){const Ce=new a.au(ce.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ke=0;ke<ce.length;ke+=this.stride)Ce.add(ce[ke],ce[ke+1]);return Ce.finish(),Ce.data=ce,Ce}_addTileFeatures(ce,Ce,ke,ze,rt,st){for(const ft of ce){const et=ft*this.stride,wt=Ce[et+Xe]>1;let tn,qt,en;if(wt)tn=Qt(Ce,et,this.clusterProps),qt=Ce[et],en=Ce[et+1];else{const qn=this.points[Ce[et+Ve]];tn=qn.properties;const[Sr,lr]=qn.geometry.coordinates;qt=$t(Sr),en=Ie(lr)}const Fn={type:1,geometry:[[Math.round(this.options.extent*(qt*rt-ke)),Math.round(this.options.extent*(en*rt-ze))]],tags:tn};let Bn;Bn=wt||this.options.generateId?Ce[et+Ve]:this.points[Ce[et+Ve]].id,Bn!==void 0&&(Fn.id=Bn),st.features.push(Fn)}}_limitZoom(ce){return Math.max(this.options.minZoom,Math.min(Math.floor(+ce),this.options.maxZoom+1))}_cluster(ce,Ce){const{radius:ke,extent:ze,reduce:rt,minPoints:st}=this.options,ft=ke/(ze*Math.pow(2,Ce)),et=ce.data,wt=[],tn=this.stride;for(let qt=0;qt<et.length;qt+=tn){if(et[qt+2]<=Ce)continue;et[qt+2]=Ce;const en=et[qt],Fn=et[qt+1],Bn=ce.within(et[qt],et[qt+1],ft),qn=et[qt+Xe];let Sr=qn;for(const lr of Bn){const $r=lr*tn;et[$r+2]>Ce&&(Sr+=et[$r+Xe])}if(Sr>qn&&Sr>=st){let lr,$r=en*qn,Or=Fn*qn,Lr=-1;const or=((qt/tn|0)<<5)+(Ce+1)+this.points.length;for(const ci of Bn){const Li=ci*tn;if(et[Li+2]<=Ce)continue;et[Li+2]=Ce;const to=et[Li+Xe];$r+=et[Li]*to,Or+=et[Li+1]*to,et[Li+4]=or,rt&&(lr||(lr=this._map(et,qt,!0),Lr=this.clusterProps.length,this.clusterProps.push(lr)),rt(lr,this._map(et,Li)))}et[qt+4]=or,wt.push($r/Sr,Or/Sr,1/0,or,-1,Sr),rt&&wt.push(Lr)}else{for(let lr=0;lr<tn;lr++)wt.push(et[qt+lr]);if(Sr>1)for(const lr of Bn){const $r=lr*tn;if(!(et[$r+2]<=Ce)){et[$r+2]=Ce;for(let Or=0;Or<tn;Or++)wt.push(et[$r+Or])}}}}return wt}_getOriginId(ce){return ce-this.points.length>>5}_getOriginZoom(ce){return(ce-this.points.length)%32}_map(ce,Ce,ke){if(ce[Ce+Xe]>1){const st=this.clusterProps[ce[Ce+Jt]];return ke?Object.assign({},st):st}const ze=this.points[ce[Ce+Ve]].properties,rt=this.options.map(ze);return ke&&rt===ze?Object.assign({},rt):rt}}function Ct(Pe,ce,Ce){return{type:"Feature",id:Pe[ce+Ve],properties:Qt(Pe,ce,Ce),geometry:{type:"Point",coordinates:[(ke=Pe[ce],360*(ke-.5)),pe(Pe[ce+1])]}};var ke}function Qt(Pe,ce,Ce){const ke=Pe[ce+Xe],ze=ke>=1e4?`${Math.round(ke/1e3)}k`:ke>=1e3?Math.round(ke/100)/10+"k":ke,rt=Pe[ce+Jt],st=rt===-1?{}:Object.assign({},Ce[rt]);return Object.assign(st,{cluster:!0,cluster_id:Pe[ce+Ve],point_count:ke,point_count_abbreviated:ze})}function $t(Pe){return Pe/360+.5}function Ie(Pe){const ce=Math.sin(Pe*Math.PI/180),Ce=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function pe(Pe){const ce=(180-360*Pe)*Math.PI/180;return 360*Math.atan(Math.exp(ce))/Math.PI-90}function Me(Pe,ce,Ce,ke){for(var ze,rt=ke,st=Ce-ce>>1,ft=Ce-ce,et=Pe[ce],wt=Pe[ce+1],tn=Pe[Ce],qt=Pe[Ce+1],en=ce+3;en<Ce;en+=3){var Fn=Re(Pe[en],Pe[en+1],et,wt,tn,qt);if(Fn>rt)ze=en,rt=Fn;else if(Fn===rt){var Bn=Math.abs(en-st);Bn<ft&&(ze=en,ft=Bn)}}rt>ke&&(ze-ce>3&&Me(Pe,ce,ze,ke),Pe[ze+2]=rt,Ce-ze>3&&Me(Pe,ze,Ce,ke))}function Re(Pe,ce,Ce,ke,ze,rt){var st=ze-Ce,ft=rt-ke;if(st!==0||ft!==0){var et=((Pe-Ce)*st+(ce-ke)*ft)/(st*st+ft*ft);et>1?(Ce=ze,ke=rt):et>0&&(Ce+=st*et,ke+=ft*et)}return(st=Pe-Ce)*st+(ft=ce-ke)*ft}function it(Pe,ce,Ce,ke){var ze={id:Pe===void 0?null:Pe,type:ce,geometry:Ce,tags:ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var st=rt.geometry,ft=rt.type;if(ft==="Point"||ft==="MultiPoint"||ft==="LineString")ot(rt,st);else if(ft==="Polygon"||ft==="MultiLineString")for(var et=0;et<st.length;et++)ot(rt,st[et]);else if(ft==="MultiPolygon")for(et=0;et<st.length;et++)for(var wt=0;wt<st[et].length;wt++)ot(rt,st[et][wt])}(ze),ze}function ot(Pe,ce){for(var Ce=0;Ce<ce.length;Ce+=3)Pe.minX=Math.min(Pe.minX,ce[Ce]),Pe.minY=Math.min(Pe.minY,ce[Ce+1]),Pe.maxX=Math.max(Pe.maxX,ce[Ce]),Pe.maxY=Math.max(Pe.maxY,ce[Ce+1])}function St(Pe,ce,Ce,ke){if(ce.geometry){var ze=ce.geometry.coordinates,rt=ce.geometry.type,st=Math.pow(Ce.tolerance/((1<<Ce.maxZoom)*Ce.extent),2),ft=[],et=ce.id;if(Ce.promoteId?et=ce.properties[Ce.promoteId]:Ce.generateId&&(et=ke||0),rt==="Point")Rt(ze,ft);else if(rt==="MultiPoint")for(var wt=0;wt<ze.length;wt++)Rt(ze[wt],ft);else if(rt==="LineString")zt(ze,ft,st,!1);else if(rt==="MultiLineString"){if(Ce.lineMetrics){for(wt=0;wt<ze.length;wt++)zt(ze[wt],ft=[],st,!1),Pe.push(it(et,"LineString",ft,ce.properties));return}pt(ze,ft,st,!1)}else if(rt==="Polygon")pt(ze,ft,st,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(wt=0;wt<ce.geometry.geometries.length;wt++)St(Pe,{id:et,geometry:ce.geometry.geometries[wt],properties:ce.properties},Ce,ke);return}throw new Error("Input data is not a valid GeoJSON object.")}for(wt=0;wt<ze.length;wt++){var tn=[];pt(ze[wt],tn,st,!0),ft.push(tn)}}Pe.push(it(et,rt,ft,ce.properties))}}function Rt(Pe,ce){ce.push(ir(Pe[0])),ce.push(gn(Pe[1])),ce.push(0)}function zt(Pe,ce,Ce,ke){for(var ze,rt,st=0,ft=0;ft<Pe.length;ft++){var et=ir(Pe[ft][0]),wt=gn(Pe[ft][1]);ce.push(et),ce.push(wt),ce.push(0),ft>0&&(st+=ke?(ze*wt-et*rt)/2:Math.sqrt(Math.pow(et-ze,2)+Math.pow(wt-rt,2))),ze=et,rt=wt}var tn=ce.length-3;ce[2]=1,Me(ce,0,tn,Ce),ce[tn+2]=1,ce.size=Math.abs(st),ce.start=0,ce.end=ce.size}function pt(Pe,ce,Ce,ke){for(var ze=0;ze<Pe.length;ze++){var rt=[];zt(Pe[ze],rt,Ce,ke),ce.push(rt)}}function ir(Pe){return Pe/360+.5}function gn(Pe){var ce=Math.sin(Pe*Math.PI/180),Ce=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function yn(Pe,ce,Ce,ke,ze,rt,st,ft){if(ke/=ce,rt>=(Ce/=ce)&&st<ke)return Pe;if(st<Ce||rt>=ke)return null;for(var et=[],wt=0;wt<Pe.length;wt++){var tn=Pe[wt],qt=tn.geometry,en=tn.type,Fn=ze===0?tn.minX:tn.minY,Bn=ze===0?tn.maxX:tn.maxY;if(Fn>=Ce&&Bn<ke)et.push(tn);else if(!(Bn<Ce||Fn>=ke)){var qn=[];if(en==="Point"||en==="MultiPoint")er(qt,qn,Ce,ke,ze);else if(en==="LineString")Ar(qt,qn,Ce,ke,ze,!1,ft.lineMetrics);else if(en==="MultiLineString")Wr(qt,qn,Ce,ke,ze,!1);else if(en==="Polygon")Wr(qt,qn,Ce,ke,ze,!0);else if(en==="MultiPolygon")for(var Sr=0;Sr<qt.length;Sr++){var lr=[];Wr(qt[Sr],lr,Ce,ke,ze,!0),lr.length&&qn.push(lr)}if(qn.length){if(ft.lineMetrics&&en==="LineString"){for(Sr=0;Sr<qn.length;Sr++)et.push(it(tn.id,en,qn[Sr],tn.tags));continue}en!=="LineString"&&en!=="MultiLineString"||(qn.length===1?(en="LineString",qn=qn[0]):en="MultiLineString"),en!=="Point"&&en!=="MultiPoint"||(en=qn.length===3?"Point":"MultiPoint"),et.push(it(tn.id,en,qn,tn.tags))}}}return et.length?et:null}function er(Pe,ce,Ce,ke,ze){for(var rt=0;rt<Pe.length;rt+=3){var st=Pe[rt+ze];st>=Ce&&st<=ke&&(ce.push(Pe[rt]),ce.push(Pe[rt+1]),ce.push(Pe[rt+2]))}}function Ar(Pe,ce,Ce,ke,ze,rt,st){for(var ft,et,wt=Mr(Pe),tn=ze===0?_i:Ee,qt=Pe.start,en=0;en<Pe.length-3;en+=3){var Fn=Pe[en],Bn=Pe[en+1],qn=Pe[en+2],Sr=Pe[en+3],lr=Pe[en+4],$r=ze===0?Fn:Bn,Or=ze===0?Sr:lr,Lr=!1;st&&(ft=Math.sqrt(Math.pow(Fn-Sr,2)+Math.pow(Bn-lr,2))),$r<Ce?Or>Ce&&(et=tn(wt,Fn,Bn,Sr,lr,Ce),st&&(wt.start=qt+ft*et)):$r>ke?Or<ke&&(et=tn(wt,Fn,Bn,Sr,lr,ke),st&&(wt.start=qt+ft*et)):gr(wt,Fn,Bn,qn),Or<Ce&&$r>=Ce&&(et=tn(wt,Fn,Bn,Sr,lr,Ce),Lr=!0),Or>ke&&$r<=ke&&(et=tn(wt,Fn,Bn,Sr,lr,ke),Lr=!0),!rt&&Lr&&(st&&(wt.end=qt+ft*et),ce.push(wt),wt=Mr(Pe)),st&&(qt+=ft)}var or=Pe.length-3;Fn=Pe[or],Bn=Pe[or+1],qn=Pe[or+2],($r=ze===0?Fn:Bn)>=Ce&&$r<=ke&&gr(wt,Fn,Bn,qn),or=wt.length-3,rt&&or>=3&&(wt[or]!==wt[0]||wt[or+1]!==wt[1])&&gr(wt,wt[0],wt[1],wt[2]),wt.length&&ce.push(wt)}function Mr(Pe){var ce=[];return ce.size=Pe.size,ce.start=Pe.start,ce.end=Pe.end,ce}function Wr(Pe,ce,Ce,ke,ze,rt){for(var st=0;st<Pe.length;st++)Ar(Pe[st],ce,Ce,ke,ze,rt,!1)}function gr(Pe,ce,Ce,ke){Pe.push(ce),Pe.push(Ce),Pe.push(ke)}function _i(Pe,ce,Ce,ke,ze,rt){var st=(rt-ce)/(ke-ce);return Pe.push(rt),Pe.push(Ce+(ze-Ce)*st),Pe.push(1),st}function Ee(Pe,ce,Ce,ke,ze,rt){var st=(rt-Ce)/(ze-Ce);return Pe.push(ce+(ke-ce)*st),Pe.push(rt),Pe.push(1),st}function X(Pe,ce){for(var Ce=[],ke=0;ke<Pe.length;ke++){var ze,rt=Pe[ke],st=rt.type;if(st==="Point"||st==="MultiPoint"||st==="LineString")ze=Y(rt.geometry,ce);else if(st==="MultiLineString"||st==="Polygon"){ze=[];for(var ft=0;ft<rt.geometry.length;ft++)ze.push(Y(rt.geometry[ft],ce))}else if(st==="MultiPolygon")for(ze=[],ft=0;ft<rt.geometry.length;ft++){for(var et=[],wt=0;wt<rt.geometry[ft].length;wt++)et.push(Y(rt.geometry[ft][wt],ce));ze.push(et)}Ce.push(it(rt.id,st,ze,rt.tags))}return Ce}function Y(Pe,ce){var Ce=[];Ce.size=Pe.size,Pe.start!==void 0&&(Ce.start=Pe.start,Ce.end=Pe.end);for(var ke=0;ke<Pe.length;ke+=3)Ce.push(Pe[ke]+ce,Pe[ke+1],Pe[ke+2]);return Ce}function Te(Pe,ce){if(Pe.transformed)return Pe;var Ce,ke,ze,rt=1<<Pe.z,st=Pe.x,ft=Pe.y;for(Ce=0;Ce<Pe.features.length;Ce++){var et=Pe.features[Ce],wt=et.geometry,tn=et.type;if(et.geometry=[],tn===1)for(ke=0;ke<wt.length;ke+=2)et.geometry.push(ut(wt[ke],wt[ke+1],ce,rt,st,ft));else for(ke=0;ke<wt.length;ke++){var qt=[];for(ze=0;ze<wt[ke].length;ze+=2)qt.push(ut(wt[ke][ze],wt[ke][ze+1],ce,rt,st,ft));et.geometry.push(qt)}}return Pe.transformed=!0,Pe}function ut(Pe,ce,Ce,ke,ze,rt){return[Math.round(Ce*(Pe*ke-ze)),Math.round(Ce*(ce*ke-rt))]}function Bt(Pe,ce,Ce,ke,ze){for(var rt=ce===ze.maxZoom?0:ze.tolerance/((1<<ce)*ze.extent),st={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ce,y:ke,z:ce,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ft=0;ft<Pe.length;ft++){st.numFeatures++,It(st,Pe[ft],rt,ze);var et=Pe[ft].minX,wt=Pe[ft].minY,tn=Pe[ft].maxX,qt=Pe[ft].maxY;et<st.minX&&(st.minX=et),wt<st.minY&&(st.minY=wt),tn>st.maxX&&(st.maxX=tn),qt>st.maxY&&(st.maxY=qt)}return st}function It(Pe,ce,Ce,ke){var ze=ce.geometry,rt=ce.type,st=[];if(rt==="Point"||rt==="MultiPoint")for(var ft=0;ft<ze.length;ft+=3)st.push(ze[ft]),st.push(ze[ft+1]),Pe.numPoints++,Pe.numSimplified++;else if(rt==="LineString")Dt(st,ze,Pe,Ce,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(ft=0;ft<ze.length;ft++)Dt(st,ze[ft],Pe,Ce,rt==="Polygon",ft===0);else if(rt==="MultiPolygon")for(var et=0;et<ze.length;et++){var wt=ze[et];for(ft=0;ft<wt.length;ft++)Dt(st,wt[ft],Pe,Ce,!0,ft===0)}if(st.length){var tn=ce.tags||null;if(rt==="LineString"&&ke.lineMetrics){for(var qt in tn={},ce.tags)tn[qt]=ce.tags[qt];tn.mapbox_clip_start=ze.start/ze.size,tn.mapbox_clip_end=ze.end/ze.size}var en={geometry:st,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:tn};ce.id!==null&&(en.id=ce.id),Pe.features.push(en)}}function Dt(Pe,ce,Ce,ke,ze,rt){var st=ke*ke;if(ke>0&&ce.size<(ze?st:ke))Ce.numPoints+=ce.length/3;else{for(var ft=[],et=0;et<ce.length;et+=3)(ke===0||ce[et+2]>st)&&(Ce.numSimplified++,ft.push(ce[et]),ft.push(ce[et+1])),Ce.numPoints++;ze&&function(wt,tn){for(var qt=0,en=0,Fn=wt.length,Bn=Fn-2;en<Fn;Bn=en,en+=2)qt+=(wt[en]-wt[Bn])*(wt[en+1]+wt[Bn+1]);if(qt>0===tn)for(en=0,Fn=wt.length;en<Fn/2;en+=2){var qn=wt[en],Sr=wt[en+1];wt[en]=wt[Fn-2-en],wt[en+1]=wt[Fn-1-en],wt[Fn-2-en]=qn,wt[Fn-1-en]=Sr}}(ft,rt),Pe.push(ft)}}function fn(Pe,ce){var Ce=(ce=this.options=function(ze,rt){for(var st in rt)ze[st]=rt[st];return ze}(Object.create(this.options),ce)).debug;if(Ce&&console.time("preprocess data"),ce.maxZoom<0||ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ce.promoteId&&ce.generateId)throw new Error("promoteId and generateId cannot be used together.");var ke=function(ze,rt){var st=[];if(ze.type==="FeatureCollection")for(var ft=0;ft<ze.features.length;ft++)St(st,ze.features[ft],rt,ft);else St(st,ze.type==="Feature"?ze:{geometry:ze},rt);return st}(Pe,ce);this.tiles={},this.tileCoords=[],Ce&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ce.indexMaxZoom,ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ke=function(ze,rt){var st=rt.buffer/rt.extent,ft=ze,et=yn(ze,1,-1-st,st,0,-1,2,rt),wt=yn(ze,1,1-st,2+st,0,-1,2,rt);return(et||wt)&&(ft=yn(ze,1,-st,1+st,0,-1,2,rt)||[],et&&(ft=X(et,1).concat(ft)),wt&&(ft=ft.concat(X(wt,-1)))),ft}(ke,ce),ke.length&&this.splitTile(ke,0,0,0),Ce&&(ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pn(Pe,ce,Ce){return 32*((1<<Pe)*Ce+ce)+Pe}function On(Pe,ce){return ce?Pe.properties[ce]:Pe.id}function m(Pe,ce){if(Pe==null)return!0;if(Pe.type==="Feature")return On(Pe,ce)!=null;if(Pe.type==="FeatureCollection"){const Ce=new Set;for(const ke of Pe.features){const ze=On(ke,ce);if(ze==null||Ce.has(ze))return!1;Ce.add(ze)}return!0}return!1}function Kt(Pe,ce){const Ce=new Map;if(Pe!=null)if(Pe.type==="Feature")Ce.set(On(Pe,ce),Pe);else for(const ke of Pe.features)Ce.set(On(ke,ce),ke);return Ce}fn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},fn.prototype.splitTile=function(Pe,ce,Ce,ke,ze,rt,st){for(var ft=[Pe,ce,Ce,ke],et=this.options,wt=et.debug;ft.length;){ke=ft.pop(),Ce=ft.pop(),ce=ft.pop(),Pe=ft.pop();var tn=1<<ce,qt=Pn(ce,Ce,ke),en=this.tiles[qt];if(!en&&(wt>1&&console.time("creation"),en=this.tiles[qt]=Bt(Pe,ce,Ce,ke,et),this.tileCoords.push({z:ce,x:Ce,y:ke}),wt)){wt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ce,Ce,ke,en.numFeatures,en.numPoints,en.numSimplified),console.timeEnd("creation"));var Fn="z"+ce;this.stats[Fn]=(this.stats[Fn]||0)+1,this.total++}if(en.source=Pe,ze){if(ce===et.maxZoom||ce===ze)continue;var Bn=1<<ze-ce;if(Ce!==Math.floor(rt/Bn)||ke!==Math.floor(st/Bn))continue}else if(ce===et.indexMaxZoom||en.numPoints<=et.indexMaxPoints)continue;if(en.source=null,Pe.length!==0){wt>1&&console.time("clipping");var qn,Sr,lr,$r,Or,Lr,or=.5*et.buffer/et.extent,ci=.5-or,Li=.5+or,to=1+or;qn=Sr=lr=$r=null,Or=yn(Pe,tn,Ce-or,Ce+Li,0,en.minX,en.maxX,et),Lr=yn(Pe,tn,Ce+ci,Ce+to,0,en.minX,en.maxX,et),Pe=null,Or&&(qn=yn(Or,tn,ke-or,ke+Li,1,en.minY,en.maxY,et),Sr=yn(Or,tn,ke+ci,ke+to,1,en.minY,en.maxY,et),Or=null),Lr&&(lr=yn(Lr,tn,ke-or,ke+Li,1,en.minY,en.maxY,et),$r=yn(Lr,tn,ke+ci,ke+to,1,en.minY,en.maxY,et),Lr=null),wt>1&&console.timeEnd("clipping"),ft.push(qn||[],ce+1,2*Ce,2*ke),ft.push(Sr||[],ce+1,2*Ce,2*ke+1),ft.push(lr||[],ce+1,2*Ce+1,2*ke),ft.push($r||[],ce+1,2*Ce+1,2*ke+1)}}},fn.prototype.getTile=function(Pe,ce,Ce){var ke=this.options,ze=ke.extent,rt=ke.debug;if(Pe<0||Pe>24)return null;var st=1<<Pe,ft=Pn(Pe,ce=(ce%st+st)%st,Ce);if(this.tiles[ft])return Te(this.tiles[ft],ze);rt>1&&console.log("drilling down to z%d-%d-%d",Pe,ce,Ce);for(var et,wt=Pe,tn=ce,qt=Ce;!et&&wt>0;)wt--,tn=Math.floor(tn/2),qt=Math.floor(qt/2),et=this.tiles[Pn(wt,tn,qt)];return et&&et.source?(rt>1&&console.log("found parent tile z%d-%d-%d",wt,tn,qt),rt>1&&console.time("drilling down"),this.splitTile(et.source,wt,tn,qt,Pe,ce,Ce),rt>1&&console.timeEnd("drilling down"),this.tiles[ft]?Te(this.tiles[ft],ze):null):null};class Pr extends B{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ce,Ce){return a._(this,void 0,void 0,function*(){const ke=ce.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ze=this._geoJSONIndex.getTile(ke.z,ke.x,ke.y);if(!ze)return null;const rt=new class{constructor(ft){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.W,this.length=ft.length,this._features=ft}feature(ft){return new class{constructor(et){this._feature=et,this.extent=a.W,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))}loadGeometry(){if(this._feature.type===1){const et=[];for(const wt of this._feature.geometry)et.push([new a.P(wt[0],wt[1])]);return et}{const et=[];for(const wt of this._feature.geometry){const tn=[];for(const qt of wt)tn.push(new a.P(qt[0],qt[1]));et.push(tn)}return et}}toGeoJSON(et,wt,tn){return ee.call(this,et,wt,tn)}}(this._features[ft])}}(ze.features);let st=Mt(rt);return st.byteOffset===0&&st.byteLength===st.buffer.byteLength||(st=new Uint8Array(st)),{vectorTile:rt,rawData:st.buffer}})}loadData(ce){return a._(this,void 0,void 0,function*(){var Ce;(Ce=this._pendingRequest)===null||Ce===void 0||Ce.abort();const ke=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new a.bs(ce.request);this._pendingRequest=new AbortController;try{let ze=yield this.loadGeoJSON(ce,this._pendingRequest);if(delete this._pendingRequest,typeof ze!="object")throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`);if(q(ze,!0),ce.filter){const st=a.by(ce.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(st.result==="error")throw new Error(st.value.map(et=>`${et.key}: ${et.message}`).join(", "));ze={type:"FeatureCollection",features:ze.features.filter(et=>st.value.evaluate({zoom:0},et))}}this._geoJSONIndex=ce.cluster?new Ht(function({superclusterOptions:st,clusterProperties:ft}){if(!ft||!st)return st;const et={},wt={},tn={accumulated:null,zoom:0},qt={properties:null},en=Object.keys(ft);for(const Fn of en){const[Bn,qn]=ft[Fn],Sr=a.by(qn),lr=a.by(typeof Bn=="string"?[Bn,["accumulated"],["get",Fn]]:Bn);et[Fn]=Sr.value,wt[Fn]=lr.value}return st.map=Fn=>{qt.properties=Fn;const Bn={};for(const qn of en)Bn[qn]=et[qn].evaluate(tn,qt);return Bn},st.reduce=(Fn,Bn)=>{qt.properties=Bn;for(const qn of en)tn.accumulated=Fn[qn],Fn[qn]=wt[qn].evaluate(tn,qt)},st}(ce)).load(ze.features):function(st,ft){return new fn(st,ft)}(ze,ce.geojsonVtOptions),this.loaded={};const rt={};if(ke){const st=ke.finish();st&&(rt.resourceTiming={},rt.resourceTiming[ce.source]=JSON.parse(JSON.stringify(st)))}return rt}catch(ze){if(delete this._pendingRequest,a.bz(ze))return{abandoned:!0};throw ze}})}reloadTile(ce){const Ce=this.loaded;return Ce&&Ce[ce.uid]?super.reloadTile(ce):this.loadTile(ce)}loadGeoJSON(ce,Ce){return a._(this,void 0,void 0,function*(){const{promoteId:ke}=ce;if(ce.request){const ze=yield a.h(ce.request,Ce);return this._dataUpdateable=m(ze.data,ke)?Kt(ze.data,ke):void 0,ze.data}if(typeof ce.data=="string")try{const ze=JSON.parse(ce.data);return this._dataUpdateable=m(ze,ke)?Kt(ze,ke):void 0,ze}catch{throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`)}if(!ce.dataDiff)throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ce.source}`);return function(ze,rt,st){var ft,et,wt,tn;if(rt.removeAll&&ze.clear(),rt.remove)for(const qt of rt.remove)ze.delete(qt);if(rt.add)for(const qt of rt.add){const en=On(qt,st);en!=null&&ze.set(en,qt)}if(rt.update)for(const qt of rt.update){let en=ze.get(qt.id);if(en==null)continue;const Fn=!qt.removeAllProperties&&(((ft=qt.removeProperties)===null||ft===void 0?void 0:ft.length)>0||((et=qt.addOrUpdateProperties)===null||et===void 0?void 0:et.length)>0);if((qt.newGeometry||qt.removeAllProperties||Fn)&&(en=Object.assign({},en),ze.set(qt.id,en),Fn&&(en.properties=Object.assign({},en.properties))),qt.newGeometry&&(en.geometry=qt.newGeometry),qt.removeAllProperties)en.properties={};else if(((wt=qt.removeProperties)===null||wt===void 0?void 0:wt.length)>0)for(const Bn of qt.removeProperties)Object.prototype.hasOwnProperty.call(en.properties,Bn)&&delete en.properties[Bn];if(((tn=qt.addOrUpdateProperties)===null||tn===void 0?void 0:tn.length)>0)for(const{key:Bn,value:qn}of qt.addOrUpdateProperties)en.properties[Bn]=qn}}(this._dataUpdateable,ce.dataDiff,ke),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ce){return a._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ce){return this._geoJSONIndex.getClusterExpansionZoom(ce.clusterId)}getClusterChildren(ce){return this._geoJSONIndex.getChildren(ce.clusterId)}getClusterLeaves(ce){return this._geoJSONIndex.getLeaves(ce.clusterId,ce.limit,ce.offset)}}class nr{constructor(ce){this.self=ce,this.actor=new a.C(ce),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Ce,ke)=>{if(this.externalWorkerSourceTypes[Ce])throw new Error(`Worker source with name "${Ce}" already registered.`);this.externalWorkerSourceTypes[Ce]=ke},this.self.addProtocol=a.bf,this.self.removeProtocol=a.bg,this.self.registerRTLTextPlugin=Ce=>{if(a.bA.isParsed())throw new Error("RTL text plugin already registered.");a.bA.setMethods(Ce)},this.actor.registerMessageHandler("loadDEMTile",(Ce,ke)=>this._getDEMWorkerSource(Ce,ke.source).loadTile(ke)),this.actor.registerMessageHandler("removeDEMTile",(Ce,ke)=>a._(this,void 0,void 0,function*(){this._getDEMWorkerSource(Ce,ke.source).removeTile(ke)})),this.actor.registerMessageHandler("getClusterExpansionZoom",(Ce,ke)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(Ce,ke.type,ke.source).getClusterExpansionZoom(ke)})),this.actor.registerMessageHandler("getClusterChildren",(Ce,ke)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(Ce,ke.type,ke.source).getClusterChildren(ke)})),this.actor.registerMessageHandler("getClusterLeaves",(Ce,ke)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(Ce,ke.type,ke.source).getClusterLeaves(ke)})),this.actor.registerMessageHandler("loadData",(Ce,ke)=>this._getWorkerSource(Ce,ke.type,ke.source).loadData(ke)),this.actor.registerMessageHandler("loadTile",(Ce,ke)=>this._getWorkerSource(Ce,ke.type,ke.source).loadTile(ke)),this.actor.registerMessageHandler("reloadTile",(Ce,ke)=>this._getWorkerSource(Ce,ke.type,ke.source).reloadTile(ke)),this.actor.registerMessageHandler("abortTile",(Ce,ke)=>this._getWorkerSource(Ce,ke.type,ke.source).abortTile(ke)),this.actor.registerMessageHandler("removeTile",(Ce,ke)=>this._getWorkerSource(Ce,ke.type,ke.source).removeTile(ke)),this.actor.registerMessageHandler("removeSource",(Ce,ke)=>a._(this,void 0,void 0,function*(){if(!this.workerSources[Ce]||!this.workerSources[Ce][ke.type]||!this.workerSources[Ce][ke.type][ke.source])return;const ze=this.workerSources[Ce][ke.type][ke.source];delete this.workerSources[Ce][ke.type][ke.source],ze.removeSource!==void 0&&ze.removeSource(ke)})),this.actor.registerMessageHandler("removeMap",Ce=>a._(this,void 0,void 0,function*(){delete this.layerIndexes[Ce],delete this.availableImages[Ce],delete this.workerSources[Ce],delete this.demWorkerSources[Ce]})),this.actor.registerMessageHandler("setReferrer",(Ce,ke)=>a._(this,void 0,void 0,function*(){this.referrer=ke})),this.actor.registerMessageHandler("syncRTLPluginState",(Ce,ke)=>this._syncRTLPluginState(Ce,ke)),this.actor.registerMessageHandler("importScript",(Ce,ke)=>a._(this,void 0,void 0,function*(){this.self.importScripts(ke)})),this.actor.registerMessageHandler("setImages",(Ce,ke)=>this._setImages(Ce,ke)),this.actor.registerMessageHandler("updateLayers",(Ce,ke)=>a._(this,void 0,void 0,function*(){this._getLayerIndex(Ce).update(ke.layers,ke.removedIds)})),this.actor.registerMessageHandler("setLayers",(Ce,ke)=>a._(this,void 0,void 0,function*(){this._getLayerIndex(Ce).replace(ke)}))}_setImages(ce,Ce){return a._(this,void 0,void 0,function*(){this.availableImages[ce]=Ce;for(const ke in this.workerSources[ce]){const ze=this.workerSources[ce][ke];for(const rt in ze)ze[rt].availableImages=Ce}})}_syncRTLPluginState(ce,Ce){return a._(this,void 0,void 0,function*(){if(a.bA.isParsed())return a.bA.getState();if(Ce.pluginStatus!=="loading")return a.bA.setState(Ce),Ce;const ke=Ce.pluginURL;if(this.self.importScripts(ke),a.bA.isParsed()){const ze={pluginStatus:"loaded",pluginURL:ke};return a.bA.setState(ze),ze}throw a.bA.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${ke}`)})}_getAvailableImages(ce){let Ce=this.availableImages[ce];return Ce||(Ce=[]),Ce}_getLayerIndex(ce){let Ce=this.layerIndexes[ce];return Ce||(Ce=this.layerIndexes[ce]=new s),Ce}_getWorkerSource(ce,Ce,ke){if(this.workerSources[ce]||(this.workerSources[ce]={}),this.workerSources[ce][Ce]||(this.workerSources[ce][Ce]={}),!this.workerSources[ce][Ce][ke]){const ze={sendAsync:(rt,st)=>(rt.targetMapId=ce,this.actor.sendAsync(rt,st))};switch(Ce){case"vector":this.workerSources[ce][Ce][ke]=new B(ze,this._getLayerIndex(ce),this._getAvailableImages(ce));break;case"geojson":this.workerSources[ce][Ce][ke]=new Pr(ze,this._getLayerIndex(ce),this._getAvailableImages(ce));break;default:this.workerSources[ce][Ce][ke]=new this.externalWorkerSourceTypes[Ce](ze,this._getLayerIndex(ce),this._getAvailableImages(ce))}}return this.workerSources[ce][Ce][ke]}_getDEMWorkerSource(ce,Ce){return this.demWorkerSources[ce]||(this.demWorkerSources[ce]={}),this.demWorkerSources[ce][Ce]||(this.demWorkerSources[ce][Ce]=new k),this.demWorkerSources[ce][Ce]}}return a.i(self)&&(self.worker=new nr(self)),nr}),i("index",["exports","./shared"],function(a,s){var h="4.1.2";let g,_;const B={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:O=>new Promise((u,p)=>{const C=requestAnimationFrame(u);O.signal.addEventListener("abort",()=>{cancelAnimationFrame(C),p(s.c())})}),getImageData(O,u=0){return this.getImageCanvasContext(O).getImageData(-u,-u,O.width+2*u,O.height+2*u)},getImageCanvasContext(O){const u=window.document.createElement("canvas"),p=u.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return u.width=O.width,u.height=O.height,p.drawImage(O,0,0,O.width,O.height),p},resolveURL:O=>(g||(g=document.createElement("a")),g.href=O,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(_==null&&(_=matchMedia("(prefers-reduced-motion: reduce)")),_.matches)}};class k{static testProp(u){if(!k.docStyle)return u[0];for(let p=0;p<u.length;p++)if(u[p]in k.docStyle)return u[p];return u[0]}static create(u,p,C){const w=window.document.createElement(u);return p!==void 0&&(w.className=p),C&&C.appendChild(w),w}static createNS(u,p){return window.document.createElementNS(u,p)}static disableDrag(){k.docStyle&&k.selectProp&&(k.userSelect=k.docStyle[k.selectProp],k.docStyle[k.selectProp]="none")}static enableDrag(){k.docStyle&&k.selectProp&&(k.docStyle[k.selectProp]=k.userSelect)}static setTransform(u,p){u.style[k.transformProp]=p}static addEventListener(u,p,C,w={}){u.addEventListener(p,C,"passive"in w?w:w.capture)}static removeEventListener(u,p,C,w={}){u.removeEventListener(p,C,"passive"in w?w:w.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",k.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",k.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",k.suppressClickInternal,!0)},0)}static getScale(u){const p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}static getPoint(u,p,C){const w=p.boundingClientRect;return new s.P((C.clientX-w.left)/p.x-u.clientLeft,(C.clientY-w.top)/p.y-u.clientTop)}static mousePos(u,p){const C=k.getScale(u);return k.getPoint(u,C,p)}static touchPos(u,p){const C=[],w=k.getScale(u);for(let I=0;I<p.length;I++)C.push(k.getPoint(u,w,p[I]));return C}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}k.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,k.selectProp=k.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),k.transformProp=k.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(O){!ee&&q&&(H?N(O):F=O)}};let F,q,ee=!1,H=!1;function N(O){const u=O.createTexture();O.bindTexture(O.TEXTURE_2D,u);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,q),O.isContextLost())return;P.supported=!0}catch{}O.deleteTexture(u),ee=!0}var Z,ue;typeof document<"u"&&(q=document.createElement("img"),q.onload=function(){F&&N(F),F=null,H=!0},q.onerror=function(){ee=!0,F=null},q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(O){let u,p,C,w;O.resetRequestQueue=()=>{u=[],p=0,C=0,w={}},O.addThrottleControl=Q=>{const ie=C++;return w[ie]=Q,ie},O.removeThrottleControl=Q=>{delete w[Q],R()},O.getImage=(Q,ie,de=!0)=>new Promise((fe,Oe)=>{P.supported&&(Q.headers||(Q.headers={}),Q.headers.accept="image/webp,*/*"),s.e(Q,{type:"image"}),u.push({abortController:ie,requestParameters:Q,supportImageRefresh:de,state:"queued",onError:Ye=>{Oe(Ye)},onSuccess:Ye=>{fe(Ye)}}),R()});const I=Q=>s._(this,void 0,void 0,function*(){Q.state="running";const{requestParameters:ie,supportImageRefresh:de,onError:fe,onSuccess:Oe,abortController:Ye}=Q,$e=de===!1&&!s.i(self)&&!s.g(ie.url)&&(!ie.headers||Object.keys(ie.headers).reduce((ht,Ft)=>ht&&Ft==="accept",!0));p++;const He=$e?j(ie,Ye):s.m(ie,Ye);try{const ht=yield He;delete Q.abortController,Q.state="completed",ht.data instanceof HTMLImageElement||s.b(ht.data)?Oe(ht):ht.data&&Oe({data:yield(We=ht.data,typeof createImageBitmap=="function"?s.d(We):s.f(We)),cacheControl:ht.cacheControl,expires:ht.expires})}catch(ht){delete Q.abortController,fe(ht)}finally{p--,R()}var We}),R=()=>{const Q=(()=>{for(const ie of Object.keys(w))if(w[ie]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let ie=p;ie<Q&&u.length>0;ie++){const de=u.shift();de.abortController.signal.aborted?ie--:I(de)}},j=(Q,ie)=>new Promise((de,fe)=>{const Oe=new Image,Ye=Q.url,$e=Q.credentials;$e&&$e==="include"?Oe.crossOrigin="use-credentials":($e&&$e==="same-origin"||!s.s(Ye))&&(Oe.crossOrigin="anonymous"),ie.signal.addEventListener("abort",()=>{Oe.src="",fe(s.c())}),Oe.fetchPriority="high",Oe.onload=()=>{Oe.onerror=Oe.onload=null,de({data:Oe})},Oe.onerror=()=>{Oe.onerror=Oe.onload=null,ie.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Oe.src=Ye})}(Z||(Z={})),Z.resetRequestQueue(),function(O){O.Glyphs="Glyphs",O.Image="Image",O.Source="Source",O.SpriteImage="SpriteImage",O.SpriteJSON="SpriteJSON",O.Style="Style",O.Tile="Tile",O.Unknown="Unknown"}(ue||(ue={}));class ye{constructor(u){this._transformRequestFn=u}transformRequest(u,p){return this._transformRequestFn&&this._transformRequestFn(u,p)||{url:u}}normalizeSpriteURL(u,p,C){const w=function(I){const R=I.match(be);if(!R)throw new Error(`Unable to parse URL "${I}"`);return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}(u);return w.path+=`${p}${C}`,function(I){const R=I.params.length?`?${I.params.join("&")}`:"";return`${I.protocol}://${I.authority}${I.path}${R}`}(w)}setTransformRequest(u){this._transformRequestFn=u}}const be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function J(O){var u=new s.A(3);return u[0]=O[0],u[1]=O[1],u[2]=O[2],u}var se,xe=function(O,u,p){return O[0]=u[0]-p[0],O[1]=u[1]-p[1],O[2]=u[2]-p[2],O};se=new s.A(3),s.A!=Float32Array&&(se[0]=0,se[1]=0,se[2]=0);var Se=function(O){var u=O[0],p=O[1];return u*u+p*p};function De(O){const u=[];if(typeof O=="string")u.push({id:"default",url:O});else if(O&&O.length>0){const p=[];for(const{id:C,url:w}of O){const I=`${C}${w}`;p.indexOf(I)===-1&&(p.push(I),u.push({id:C,url:w}))}}return u}(function(){var O=new s.A(2);s.A!=Float32Array&&(O[0]=0,O[1]=0)})();class Le{constructor(u,p,C,w){this.context=u,this.format=C,this.texture=u.gl.createTexture(),this.update(p,w)}update(u,p,C){const{width:w,height:I}=u,R=!(this.size&&this.size[0]===w&&this.size[1]===I||C),{context:j}=this,{gl:Q}=j;if(this.useMipmap=!!(p&&p.useMipmap),Q.bindTexture(Q.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===Q.RGBA&&(!p||p.premultiply!==!1)),R)this.size=[w,I],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||s.b(u)?Q.texImage2D(Q.TEXTURE_2D,0,this.format,this.format,Q.UNSIGNED_BYTE,u):Q.texImage2D(Q.TEXTURE_2D,0,this.format,w,I,0,this.format,Q.UNSIGNED_BYTE,u.data);else{const{x:ie,y:de}=C||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||s.b(u)?Q.texSubImage2D(Q.TEXTURE_2D,0,ie,de,Q.RGBA,Q.UNSIGNED_BYTE,u):Q.texSubImage2D(Q.TEXTURE_2D,0,ie,de,w,I,Q.RGBA,Q.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Q.generateMipmap(Q.TEXTURE_2D)}bind(u,p,C){const{context:w}=this,{gl:I}=w;I.bindTexture(I.TEXTURE_2D,this.texture),C!==I.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(C=I.LINEAR),u!==this.filter&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,u),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,C||u),this.filter=u),p!==this.wrap&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,p),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function he(O){const{userImage:u}=O;return!!(u&&u.render&&u.render())&&(O.data.replace(new Uint8Array(u.data.buffer)),!0)}class qe extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:p,promiseResolve:C}of this.requestors)C(this._getImagesForIds(p));this.requestors=[]}}getImage(u){const p=this.images[u];if(p&&!p.data&&p.spriteData){const C=p.spriteData;p.data=new s.R({width:C.width,height:C.height},C.context.getImageData(C.x,C.y,C.width,C.height).data),p.spriteData=null}return p}addImage(u,p){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,p)&&(this.images[u]=p)}_validate(u,p){let C=!0;const w=p.data||p.spriteData;return this._validateStretch(p.stretchX,w&&w.width)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "stretchX" value`))),C=!1),this._validateStretch(p.stretchY,w&&w.height)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "stretchY" value`))),C=!1),this._validateContent(p.content,p)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "content" value`))),C=!1),C}_validateStretch(u,p){if(!u)return!0;let C=0;for(const w of u){if(w[0]<C||w[1]<w[0]||p<w[1])return!1;C=w[1]}return!0}_validateContent(u,p){if(!u)return!0;if(u.length!==4)return!1;const C=p.spriteData,w=C&&C.width||p.data.width,I=C&&C.height||p.data.height;return!(u[0]<0||w<u[0]||u[1]<0||I<u[1]||u[2]<0||w<u[2]||u[3]<0||I<u[3]||u[2]<u[0]||u[3]<u[1])}updateImage(u,p,C=!0){const w=this.getImage(u);if(C&&(w.data.width!==p.data.width||w.data.height!==p.data.height))throw new Error(`size mismatch between old image (${w.data.width}x${w.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=w.version+1,this.images[u]=p,this.updatedImages[u]=!0}removeImage(u){const p=this.images[u];delete this.images[u],delete this.patterns[u],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u){return new Promise((p,C)=>{let w=!0;if(!this.isLoaded())for(const I of u)this.images[I]||(w=!1);this.isLoaded()||w?p(this._getImagesForIds(u)):this.requestors.push({ids:u,promiseResolve:p})})}_getImagesForIds(u){const p={};for(const C of u){let w=this.getImage(C);w||(this.fire(new s.k("styleimagemissing",{id:C})),w=this.getImage(C)),w?p[C]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:s.w(`Image "${C}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){const{width:u,height:p}=this.atlasImage;return{width:u,height:p}}getPattern(u){const p=this.patterns[u],C=this.getImage(u);if(!C)return null;if(p&&p.position.version===C.version)return p.position;if(p)p.position.version=C.version;else{const w={w:C.data.width+2,h:C.data.height+2,x:0,y:0},I=new s.I(w,C);this.patterns[u]={bin:w,position:I}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const p=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Le(u,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const I in this.patterns)u.push(this.patterns[I].bin);const{w:p,h:C}=s.p(u),w=this.atlasImage;w.resize({width:p||1,height:C||1});for(const I in this.patterns){const{bin:R}=this.patterns[I],j=R.x+1,Q=R.y+1,ie=this.getImage(I).data,de=ie.width,fe=ie.height;s.R.copy(ie,w,{x:0,y:0},{x:j,y:Q},{width:de,height:fe}),s.R.copy(ie,w,{x:0,y:fe-1},{x:j,y:Q-1},{width:de,height:1}),s.R.copy(ie,w,{x:0,y:0},{x:j,y:Q+fe},{width:de,height:1}),s.R.copy(ie,w,{x:de-1,y:0},{x:j-1,y:Q},{width:1,height:fe}),s.R.copy(ie,w,{x:0,y:0},{x:j+de,y:Q},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const p of u){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const C=this.getImage(p);C||s.w(`Image with ID: "${p}" was not found`),he(C)&&this.updateImage(p,C)}}}const ge=1e20;function _t(O,u,p,C,w,I,R,j,Q){for(let ie=u;ie<u+C;ie++)Mt(O,p*I+ie,I,w,R,j,Q);for(let ie=p;ie<p+w;ie++)Mt(O,ie*I+u,1,C,R,j,Q)}function Mt(O,u,p,C,w,I,R){I[0]=0,R[0]=-ge,R[1]=ge,w[0]=O[u];for(let j=1,Q=0,ie=0;j<C;j++){w[j]=O[u+j*p];const de=j*j;do{const fe=I[Q];ie=(w[j]-w[fe]+de-fe*fe)/(j-fe)/2}while(ie<=R[Q]&&--Q>-1);Q++,I[Q]=j,R[Q]=ie,R[Q+1]=ge}for(let j=0,Q=0;j<C;j++){for(;R[Q+1]<j;)Q++;const ie=I[Q],de=j-ie;O[u+j*p]=w[ie]+de*de}}class dt{constructor(u,p){this.requestManager=u,this.localIdeographFontFamily=p,this.entries={}}setURL(u){this.url=u}getGlyphs(u){return s._(this,void 0,void 0,function*(){const p=[];for(const I in u)for(const R of u[I])p.push(this._getAndCacheGlyphsPromise(I,R));const C=yield Promise.all(p),w={};for(const{stack:I,id:R,glyph:j}of C)w[I]||(w[I]={}),w[I][R]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics};return w})}_getAndCacheGlyphsPromise(u,p){return s._(this,void 0,void 0,function*(){let C=this.entries[u];C||(C=this.entries[u]={glyphs:{},requests:{},ranges:{}});let w=C.glyphs[p];if(w!==void 0)return{stack:u,id:p,glyph:w};if(w=this._tinySDF(C,u,p),w)return C.glyphs[p]=w,{stack:u,id:p,glyph:w};const I=Math.floor(p/256);if(256*I>65535)throw new Error("glyphs > 65535 not supported");if(C.ranges[I])return{stack:u,id:p,glyph:w};if(!this.url)throw new Error("glyphsUrl is not set");if(!C.requests[I]){const j=dt.loadGlyphRange(u,I,this.url,this.requestManager);C.requests[I]=j}const R=yield C.requests[I];for(const j in R)this._doesCharSupportLocalGlyph(+j)||(C.glyphs[+j]=R[+j]);return C.ranges[I]=!0,{stack:u,id:p,glyph:R[p]||null}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(s.u["CJK Unified Ideographs"](u)||s.u["Hangul Syllables"](u)||s.u.Hiragana(u)||s.u.Katakana(u))}_tinySDF(u,p,C){const w=this.localIdeographFontFamily;if(!w||!this._doesCharSupportLocalGlyph(C))return;let I=u.tinySDF;if(!I){let j="400";/bold/i.test(p)?j="900":/medium/i.test(p)?j="500":/light/i.test(p)&&(j="200"),I=u.tinySDF=new dt.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:w,fontWeight:j})}const R=I.draw(String.fromCharCode(C));return{id:C,bitmap:new s.o({width:R.width||60,height:R.height||60},R.data),metrics:{width:R.glyphWidth/2||24,height:R.glyphHeight/2||24,left:R.glyphLeft/2+.5||0,top:R.glyphTop/2-27.5||-8,advance:R.glyphAdvance/2||24,isDoubleResolution:!0}}}}dt.loadGlyphRange=function(O,u,p,C){return s._(this,void 0,void 0,function*(){const w=256*u,I=w+255,R=C.transformRequest(p.replace("{fontstack}",O).replace("{range}",`${w}-${I}`),ue.Glyphs),j=yield s.l(R,new AbortController);if(!j||!j.data)throw new Error(`Could not load glyph range. range: ${u}, ${w}-${I}`);const Q={};for(const ie of s.n(j.data))Q[ie.id]=ie;return Q})},dt.TinySDF=class{constructor({fontSize:O=24,buffer:u=3,radius:p=8,cutoff:C=.25,fontFamily:w="sans-serif",fontWeight:I="normal",fontStyle:R="normal"}={}){this.buffer=u,this.cutoff=C,this.radius=p;const j=this.size=O+4*u,Q=this._createCanvas(j),ie=this.ctx=Q.getContext("2d",{willReadFrequently:!0});ie.font=`${R} ${I} ${O}px ${w}`,ie.textBaseline="alphabetic",ie.textAlign="left",ie.fillStyle="black",this.gridOuter=new Float64Array(j*j),this.gridInner=new Float64Array(j*j),this.f=new Float64Array(j),this.z=new Float64Array(j+1),this.v=new Uint16Array(j)}_createCanvas(O){const u=document.createElement("canvas");return u.width=u.height=O,u}draw(O){const{width:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:C,actualBoundingBoxLeft:w,actualBoundingBoxRight:I}=this.ctx.measureText(O),R=Math.ceil(p),j=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(I-w))),Q=Math.min(this.size-this.buffer,R+Math.ceil(C)),ie=j+2*this.buffer,de=Q+2*this.buffer,fe=Math.max(ie*de,0),Oe=new Uint8ClampedArray(fe),Ye={data:Oe,width:ie,height:de,glyphWidth:j,glyphHeight:Q,glyphTop:R,glyphLeft:0,glyphAdvance:u};if(j===0||Q===0)return Ye;const{ctx:$e,buffer:He,gridInner:We,gridOuter:ht}=this;$e.clearRect(He,He,j,Q),$e.fillText(O,He,He+R);const Ft=$e.getImageData(He,He,j,Q);ht.fill(ge,0,fe),We.fill(0,0,fe);for(let tt=0;tt<Q;tt++)for(let bt=0;bt<j;bt++){const Pt=Ft.data[4*(tt*j+bt)+3]/255;if(Pt===0)continue;const Ut=(tt+He)*ie+bt+He;if(Pt===1)ht[Ut]=0,We[Ut]=ge;else{const Zt=.5-Pt;ht[Ut]=Zt>0?Zt*Zt:0,We[Ut]=Zt<0?Zt*Zt:0}}_t(ht,0,0,ie,de,ie,this.f,this.v,this.z),_t(We,He,He,j,Q,ie,this.f,this.v,this.z);for(let tt=0;tt<fe;tt++){const bt=Math.sqrt(ht[tt])-Math.sqrt(We[tt]);Oe[tt]=Math.round(255-255*(bt/this.radius+this.cutoff))}return Ye}};class mt{constructor(){this.specification=s.v.light.position}possiblyEvaluate(u,p){return s.y(u.expression.evaluate(p))}interpolate(u,p,C){return{x:s.z.number(u.x,p.x,C),y:s.z.number(u.y,p.y,C),z:s.z.number(u.z,p.z,C)}}}let je;class Ve extends s.E{constructor(u){super(),je=je||new s.q({anchor:new s.D(s.v.light.anchor),position:new mt,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(je),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,p={}){if(!this._validate(s.r,u,p))for(const C in u){const w=u[C];C.endsWith("-transition")?this._transitionable.setTransition(C.slice(0,-11),w):this._transitionable.setValue(C,w)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,p,C){return(!C||C.validate!==!1)&&s.t(this,u.call(s.x,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}class Xe{constructor(u,p){this.width=u,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,p){const C=u.join(",")+String(p);return this.dashEntry[C]||(this.dashEntry[C]=this.addDash(u,p)),this.dashEntry[C]}getDashRanges(u,p,C){const w=[];let I=u.length%2==1?-u[u.length-1]*C:0,R=u[0]*C,j=!0;w.push({left:I,right:R,isDash:j,zeroLength:u[0]===0});let Q=u[0];for(let ie=1;ie<u.length;ie++){j=!j;const de=u[ie];I=Q*C,Q+=de,R=Q*C,w.push({left:I,right:R,isDash:j,zeroLength:de===0})}return w}addRoundDash(u,p,C){const w=p/2;for(let I=-C;I<=C;I++){const R=this.width*(this.nextRow+C+I);let j=0,Q=u[j];for(let ie=0;ie<this.width;ie++){ie/Q.right>1&&(Q=u[++j]);const de=Math.abs(ie-Q.left),fe=Math.abs(ie-Q.right),Oe=Math.min(de,fe);let Ye;const $e=I/C*(w+1);if(Q.isDash){const He=w-Math.abs($e);Ye=Math.sqrt(Oe*Oe+He*He)}else Ye=w-Math.sqrt(Oe*Oe+$e*$e);this.data[R+ie]=Math.max(0,Math.min(255,Ye+128))}}}addRegularDash(u){for(let j=u.length-1;j>=0;--j){const Q=u[j],ie=u[j+1];Q.zeroLength?u.splice(j,1):ie&&ie.isDash===Q.isDash&&(ie.left=Q.left,u.splice(j,1))}const p=u[0],C=u[u.length-1];p.isDash===C.isDash&&(p.left=C.left-this.width,C.right=p.right+this.width);const w=this.width*this.nextRow;let I=0,R=u[I];for(let j=0;j<this.width;j++){j/R.right>1&&(R=u[++I]);const Q=Math.abs(j-R.left),ie=Math.abs(j-R.right),de=Math.min(Q,ie);this.data[w+j]=Math.max(0,Math.min(255,(R.isDash?de:-de)+128))}}addDash(u,p){const C=p?7:0,w=2*C+1;if(this.nextRow+w>this.height)return s.w("LineAtlas out of space"),null;let I=0;for(let j=0;j<u.length;j++)I+=u[j];if(I!==0){const j=this.width/I,Q=this.getDashRanges(u,this.width,j);p?this.addRoundDash(Q,j,C):this.addRegularDash(Q)}const R={y:(this.nextRow+C+.5)/this.height,height:2*C/this.height,width:I};return this.nextRow+=w,this.dirty=!0,R}bind(u){const p=u.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}const Jt="maplibre_preloaded_worker_pool";class Ht{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<Ht.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Jt]}numActive(){return Object.keys(this.active).length}}const Ct=Math.floor(B.hardwareConcurrency/2);let Qt,$t;function Ie(){return Qt||(Qt=new Ht),Qt}Ht.workerCount=s.B(globalThis)?Math.max(Math.min(Ct,3),1):1;class pe{constructor(u,p){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=p;const C=this.workerPool.acquire(p);for(let w=0;w<C.length;w++){const I=new s.C(C[w],p);I.name=`Worker ${w}`,this.actors.push(I)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,p){const C=[];for(const w of this.actors)C.push(w.sendAsync({type:u,data:p}));return Promise.all(C)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(u=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],u&&this.workerPool.release(this.id)}registerMessageHandler(u,p){for(const C of this.actors)C.registerMessageHandler(u,p)}}function Me(){return $t||($t=new pe(Ie(),s.G),$t.registerMessageHandler("getResource",(O,u,p)=>s.m(u,p))),$t}function Re(O,u){const p=s.F();return s.H(p,p,[1,1,0]),s.J(p,p,[.5*O.width,.5*O.height,1]),s.K(p,p,O.calculatePosMatrix(u.toUnwrapped()))}function it(O,u,p,C,w,I){const R=function(fe,Oe,Ye){if(fe)for(const $e of fe){const He=Oe[$e];if(He&&He.source===Ye&&He.type==="fill-extrusion")return!0}else for(const $e in Oe){const He=Oe[$e];if(He.source===Ye&&He.type==="fill-extrusion")return!0}return!1}(w&&w.layers,u,O.id),j=I.maxPitchScaleFactor(),Q=O.tilesIn(C,j,R);Q.sort(ot);const ie=[];for(const fe of Q)ie.push({wrappedTileID:fe.tileID.wrapped().key,queryResults:fe.tile.queryRenderedFeatures(u,p,O._state,fe.queryGeometry,fe.cameraQueryGeometry,fe.scale,w,I,j,Re(O.transform,fe.tileID))});const de=function(fe){const Oe={},Ye={};for(const $e of fe){const He=$e.queryResults,We=$e.wrappedTileID,ht=Ye[We]=Ye[We]||{};for(const Ft in He){const tt=He[Ft],bt=ht[Ft]=ht[Ft]||{},Pt=Oe[Ft]=Oe[Ft]||[];for(const Ut of tt)bt[Ut.featureIndex]||(bt[Ut.featureIndex]=!0,Pt.push(Ut))}}return Oe}(ie);for(const fe in de)de[fe].forEach(Oe=>{const Ye=Oe.feature,$e=O.getFeatureState(Ye.layer["source-layer"],Ye.id);Ye.source=Ye.layer.source,Ye.layer["source-layer"]&&(Ye.sourceLayer=Ye.layer["source-layer"]),Ye.state=$e});return de}function ot(O,u){const p=O.tileID,C=u.tileID;return p.overscaledZ-C.overscaledZ||p.canonical.y-C.canonical.y||p.wrap-C.wrap||p.canonical.x-C.canonical.x}function St(O,u,p){return s._(this,void 0,void 0,function*(){let C=O;if(O.url?C=(yield s.h(u.transformRequest(O.url,ue.Source),p)).data:yield B.frameAsync(p),!C)return null;const w=s.L(s.e(C,O),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in C&&C.vector_layers&&(w.vectorLayerIds=C.vector_layers.map(I=>I.id)),w})}class Rt{constructor(u,p){u&&(p?this.setSouthWest(u).setNorthEast(p):Array.isArray(u)&&(u.length===4?this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]]):this.setSouthWest(u[0]).setNorthEast(u[1])))}setNorthEast(u){return this._ne=u instanceof s.M?new s.M(u.lng,u.lat):s.M.convert(u),this}setSouthWest(u){return this._sw=u instanceof s.M?new s.M(u.lng,u.lat):s.M.convert(u),this}extend(u){const p=this._sw,C=this._ne;let w,I;if(u instanceof s.M)w=u,I=u;else{if(!(u instanceof Rt))return Array.isArray(u)?u.length===4||u.every(Array.isArray)?this.extend(Rt.convert(u)):this.extend(s.M.convert(u)):u&&("lng"in u||"lon"in u)&&"lat"in u?this.extend(s.M.convert(u)):this;if(w=u._sw,I=u._ne,!w||!I)return this}return p||C?(p.lng=Math.min(w.lng,p.lng),p.lat=Math.min(w.lat,p.lat),C.lng=Math.max(I.lng,C.lng),C.lat=Math.max(I.lat,C.lat)):(this._sw=new s.M(w.lng,w.lat),this._ne=new s.M(I.lng,I.lat)),this}getCenter(){return new s.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.M(this.getWest(),this.getNorth())}getSouthEast(){return new s.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(u){const{lng:p,lat:C}=s.M.convert(u);let w=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=C&&C<=this._ne.lat&&w}static convert(u){return u instanceof Rt?u:u&&new Rt(u)}static fromLngLat(u,p=0){const C=360*p/40075017,w=C/Math.cos(Math.PI/180*u.lat);return new Rt(new s.M(u.lng-w,u.lat-C),new s.M(u.lng+w,u.lat+C))}}class zt{constructor(u,p,C){this.bounds=Rt.convert(this.validateBounds(u)),this.minzoom=p||0,this.maxzoom=C||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const p=Math.pow(2,u.z),C=Math.floor(s.N(this.bounds.getWest())*p),w=Math.floor(s.O(this.bounds.getNorth())*p),I=Math.ceil(s.N(this.bounds.getEast())*p),R=Math.ceil(s.O(this.bounds.getSouth())*p);return u.x>=C&&u.x<I&&u.y>=w&&u.y<R}}class pt extends s.E{constructor(u,p,C,w){if(super(),this.id=u,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.L(p,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u&&(s.e(this,u),u.bounds&&(this.tileBounds=new zt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new s.j(u))}})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.abort(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C={request:this.map._requestManager.transformRequest(p,ue.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};C.request.collectResourceTiming=this._collectResourceTiming;let w="reloadTile";if(u.actor&&u.state!=="expired"){if(u.state==="loading")return new Promise((I,R)=>{u.reloadPromise={resolve:I,reject:R}})}else u.actor=this.dispatcher.getActor(),w="loadTile";u.abortController=new AbortController;try{const I=yield u.actor.sendAsync({type:w,data:C},u.abortController);if(delete u.abortController,u.aborted)return;this._afterTileLoadWorkerResponse(u,I)}catch(I){if(delete u.abortController,u.aborted)return;if(I&&I.status!==404)throw I;this._afterTileLoadWorkerResponse(u,null)}})}_afterTileLoadWorkerResponse(u,p){if(p&&p.resourceTiming&&(u.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&u.setExpiryData(p),u.loadVectorData(p,this.map.painter),u.reloadPromise){const C=u.reloadPromise;u.reloadPromise=null,this.loadTile(u).then(C.resolve).catch(C.reject)}}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.actor&&(yield u.actor.sendAsync({type:"abortTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.unloadVectorData(),u.actor&&(yield u.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class ir extends s.E{constructor(u,p,C,w){super(),this.id=u,this.dispatcher=C,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},p),s.e(this,s.L(p,["url","scheme","tileSize"]))}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(s.e(this,u),u.bounds&&(this.tileBounds=new zt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new s.j(u))}})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(u){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}serialize(){return s.e({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.abortController=new AbortController;try{const C=yield Z.getImage(this.map._requestManager.transformRequest(p,ue.Tile),u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(C&&C.data){this.map._refreshExpiredTiles&&C.cacheControl&&C.expires&&u.setExpiryData({cacheControl:C.cacheControl,expires:C.expires});const w=this.map.painter.context,I=w.gl,R=C.data;u.texture=this.map.painter.getTileTexture(R.width),u.texture?u.texture.update(R,{useMipmap:!0}):(u.texture=new Le(w,R,I.RGBA,{useMipmap:!0}),u.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE,I.LINEAR_MIPMAP_NEAREST),w.extTextureFilterAnisotropic&&I.texParameterf(I.TEXTURE_2D,w.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,w.extTextureFilterAnisotropicMax)),u.state="loaded"}}catch(C){if(delete u.abortController,u.aborted)u.state="unloaded";else if(C)throw u.state="errored",C}})}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController)})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.texture&&this.map.painter.saveTileTexture(u.texture)})}hasTransition(){return!1}}class gn extends ir{constructor(u,p,C,w){super(u,p,C,w),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C=this.map._requestManager.transformRequest(p,ue.Tile);u.neighboringTiles=this._getNeighboringTiles(u.tileID),u.abortController=new AbortController;try{const w=yield Z.getImage(C,u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(w&&w.data){const I=w.data;this.map._refreshExpiredTiles&&w.cacheControl&&w.expires&&u.setExpiryData({cacheControl:w.cacheControl,expires:w.expires});const R=s.b(I)&&s.S()?I:yield this.readImageNow(I),j={type:this.type,uid:u.uid,source:this.id,rawImageData:R,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!u.actor||u.state==="expired"){u.actor=this.dispatcher.getActor();const Q=yield u.actor.sendAsync({type:"loadDEMTile",data:j});u.dem=Q,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded"}}}catch(w){if(delete u.abortController,u.aborted)u.state="unloaded";else if(w)throw u.state="errored",w}})}readImageNow(u){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.U()){const p=u.width+2,C=u.height+2;try{return new s.R({width:p,height:C},yield s.V(u,-1,-1,p,C))}catch{}}return B.getImageData(u,1)})}_getNeighboringTiles(u){const p=u.canonical,C=Math.pow(2,p.z),w=(p.x-1+C)%C,I=p.x===0?u.wrap-1:u.wrap,R=(p.x+1+C)%C,j=p.x+1===C?u.wrap+1:u.wrap,Q={};return Q[new s.Q(u.overscaledZ,I,p.z,w,p.y).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,j,p.z,R,p.y).key]={backfilled:!1},p.y>0&&(Q[new s.Q(u.overscaledZ,I,p.z,w,p.y-1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,j,p.z,R,p.y-1).key]={backfilled:!1}),p.y+1<C&&(Q[new s.Q(u.overscaledZ,I,p.z,w,p.y+1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},Q[new s.Q(u.overscaledZ,j,p.z,R,p.y+1).key]={backfilled:!1}),Q}unloadTile(u){return s._(this,void 0,void 0,function*(){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&(yield u.actor.sendAsync({type:"removeDEMTile",data:{type:this.type,uid:u.uid,source:this.id}}))})}}class yn extends s.E{constructor(u,p,C,w){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=C.getActor(),this.setEventedParent(w),this._data=p.data,this._options=s.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const I=s.W/this.tileSize;this.workerOptions=s.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*I,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*I,extent:s.W,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:s.W,radius:(p.clusterRadius||50)*I,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData(),this}updateData(u){return this._updateWorkerData(u),this}setClusterOptions(u){return this.workerOptions.cluster=u.cluster,u&&(u.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=u.clusterRadius),u.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=u.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(u){return this.actor.sendAsync({type:"getClusterExpansionZoom",data:{type:this.type,clusterId:u,source:this.id}})}getClusterChildren(u){return this.actor.sendAsync({type:"getClusterChildren",data:{type:this.type,clusterId:u,source:this.id}})}getClusterLeaves(u,p,C){return this.actor.sendAsync({type:"getClusterLeaves",data:{type:this.type,source:this.id,clusterId:u,limit:p,offset:C}})}_updateWorkerData(u){return s._(this,void 0,void 0,function*(){const p=s.e({type:this.type},this.workerOptions);u?p.dataDiff=u:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(B.resolveURL(this._data),ue.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.k("dataloading",{dataType:"source"}));try{const C=yield this.actor.sendAsync({type:"loadData",data:p});if(this._pendingLoads--,this._removed||C.abandoned)return void this.fire(new s.k("dataabort",{dataType:"source"}));let w=null;C.resourceTiming&&C.resourceTiming[this.id]&&(w=C.resourceTiming[this.id].slice(0));const I={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&s.e(I,{resourceTiming:w}),this.fire(new s.k("data",Object.assign(Object.assign({},I),{sourceDataType:"metadata"}))),this.fire(new s.k("data",Object.assign(Object.assign({},I),{sourceDataType:"content"})))}catch(C){if(this._pendingLoads--,this._removed)return void this.fire(new s.k("dataabort",{dataType:"source"}));this.fire(new s.j(C))}})}loaded(){return this._pendingLoads===0}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const C={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.abortController=new AbortController;const w=yield this.actor.sendAsync({type:p,data:C},u.abortController);delete u.abortController,u.unloadVectorData(),u.aborted||u.loadVectorData(w,this.map.painter,p==="reloadTile")})}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.aborted=!0})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.unloadVectorData(),yield this.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"removeSource",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var er=s.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ar extends s.E{constructor(u,p,C,w){super(),this.id=u,this.dispatcher=C,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=p}load(u){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const p=yield Z.getImage(this.map._requestManager.transformRequest(this.url,ue.Image),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,u&&(this.coordinates=u),this._finishLoading())}catch(p){this._request=null,this.fire(new s.j(p))}})}loaded(){return this._loaded}updateImage(u){return u.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=u.url,this.load(u.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(u){this.coordinates=u;const p=u.map(s.Y.fromLngLat);this.tileID=function(w){let I=1/0,R=1/0,j=-1/0,Q=-1/0;for(const Oe of w)I=Math.min(I,Oe.x),R=Math.min(R,Oe.y),j=Math.max(j,Oe.x),Q=Math.max(Q,Oe.y);const ie=Math.max(j-I,Q-R),de=Math.max(0,Math.floor(-Math.log(ie)/Math.LN2)),fe=Math.pow(2,de);return new s.a0(de,Math.floor((I+j)/2*fe),Math.floor((R+Q)/2*fe))}(p),this.minzoom=this.maxzoom=this.tileID.z;const C=p.map(w=>this.tileID.getTilePoint(w)._round());return this._boundsArray=new s.Z,this._boundsArray.emplaceBack(C[0].x,C[0].y,0,0),this._boundsArray.emplaceBack(C[1].x,C[1].y,s.W,0),this._boundsArray.emplaceBack(C[3].x,C[3].y,0,s.W),this._boundsArray.emplaceBack(C[2].x,C[2].y,s.W,s.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Le(u,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let C=!1;for(const w in this.tiles){const I=this.tiles[w];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,C=!0)}C&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(u){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={}):u.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Mr extends Ar{constructor(u,p,C,w){super(u,p,C,w),this.roundZoom=!0,this.type="video",this.options=p}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const u=this.options;this.urls=[];for(const p of u.urls)this.urls.push(this.map._requestManager.transformRequest(p,ue.Source).url);try{const p=yield s.a2(this.urls);if(this._loaded=!0,!p)return;this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(p){this.fire(new s.j(p))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const p=this.video.seekable;u<p.start(0)||u>p.end(0)?this.fire(new s.j(new s.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new Le(u,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let C=!1;for(const w in this.tiles){const I=this.tiles[w];I.state!=="loaded"&&(I.state="loaded",I.texture=this.texture,C=!0)}C&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Wr extends Ar{constructor(u,p,C,w){super(u,p,C,w),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(I=>!Array.isArray(I)||I.length!==2||I.some(R=>typeof R!="number"))||this.fire(new s.j(new s.a1(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.j(new s.a1(`sources.${u}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new s.j(new s.a1(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new s.j(new s.a1(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.j(new s.a1(`sources.${u}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const p=this.map.painter.context,C=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,er.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Le(p,this.canvas,C.RGBA,{premultiply:!0});let w=!1;for(const I in this.tiles){const R=this.tiles[I];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,w=!0)}w&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const gr={},_i=O=>{switch(O){case"geojson":return yn;case"image":return Ar;case"raster":return ir;case"raster-dem":return gn;case"vector":return pt;case"video":return Mr;case"canvas":return Wr}return gr[O]},Ee="RTLPluginLoaded";class X extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Me()}_syncState(u){return this.status=u,this.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:u,pluginURL:this.url}).catch(p=>{throw this.status="error",p})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(u){return s._(this,arguments,void 0,function*(p,C=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=B.resolveURL(p),!this.url)throw new Error(`requested url ${p} is invalid`);if(this.status==="unavailable"){if(!C)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.k(Ee))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Y=null;function Te(){return Y||(Y=new X),Y}class ut{constructor(u,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=u,this.uid=s.a3(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const p=u+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(u,p,C){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(w,I){const R={};if(!I)return R;for(const j of w){const Q=j.layerIds.map(ie=>I.getLayer(ie)).filter(Boolean);if(Q.length!==0){j.layers=Q,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(ie=>Q.filter(de=>de.id===ie)[0]));for(const ie of Q)R[ie.id]=j}}return R}(u.buckets,p.style),this.hasSymbolBuckets=!1;for(const w in this.buckets){const I=this.buckets[w];if(I instanceof s.a5){if(this.hasSymbolBuckets=!0,!C)break;I.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const w in this.buckets){const I=this.buckets[w];if(I instanceof s.a5&&I.hasRTLText){this.hasRTLText=!0,Te().lazyLoad();break}}this.queryPadding=0;for(const w in this.buckets){const I=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(w).queryRadius(I))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new s.a4}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const C in this.buckets){const w=this.buckets[C];w.uploadPending()&&w.upload(u)}const p=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Le(u,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Le(u,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,p,C,w,I,R,j,Q,ie,de){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:I,scale:R,tileSize:this.tileSize,pixelPosMatrix:de,transform:Q,params:j,queryPadding:this.queryPadding*ie},u,p,C):{}}querySourceFeatures(u,p){const C=this.latestFeatureIndex;if(!C||!C.rawTileData)return;const w=C.loadVTLayers(),I=p&&p.sourceLayer?p.sourceLayer:"",R=w._geojsonTileLayer||w[I];if(!R)return;const j=s.a6(p&&p.filter),{z:Q,x:ie,y:de}=this.tileID.canonical,fe={z:Q,x:ie,y:de};for(let Oe=0;Oe<R.length;Oe++){const Ye=R.feature(Oe);if(j.needGeometry){const We=s.a7(Ye,!0);if(!j.filter(new s.a8(this.tileID.overscaledZ),We,this.tileID.canonical))continue}else if(!j.filter(new s.a8(this.tileID.overscaledZ),Ye))continue;const $e=C.getId(Ye,I),He=new s.a9(Ye,Q,ie,de,$e);He.tile=fe,u.push(He)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const p=this.expirationTime;if(u.cacheControl){const C=s.aa(u.cacheControl);C["max-age"]&&(this.expirationTime=Date.now()+1e3*C["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const C=Date.now();let w=!1;if(this.expirationTime>C)w=!1;else if(p)if(this.expirationTime<p)w=!0;else{const I=this.expirationTime-p;I?this.expirationTime=C+Math.max(I,3e4):w=!0}else w=!0;w?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const C=this.latestFeatureIndex.loadVTLayers();for(const w in this.buckets){if(!p.style.hasLayer(w))continue;const I=this.buckets[w],R=I.layers[0].sourceLayer||"_geojsonTileLayer",j=C[R],Q=u[R];if(!j||!Q||Object.keys(Q).length===0)continue;I.update(Q,j,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ie=p&&p.style&&p.style.getLayer(w);ie&&(this.queryPadding=Math.max(this.queryPadding,ie.queryRadius(I)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<B.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=B.now()+u}setDependencies(u,p){const C={};for(const w of p)C[w]=!0;this.dependencies[u]=C}hasDependency(u,p){for(const C of u){const w=this.dependencies[C];if(w){for(const I of p)if(w[I])return!0}}return!1}}class Bt{constructor(u,p){this.max=u,this.onRemove=p,this.reset()}reset(){for(const u in this.data)for(const p of this.data[u])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(u,p,C){const w=u.wrapped().key;this.data[w]===void 0&&(this.data[w]=[]);const I={value:p,timeout:void 0};if(C!==void 0&&(I.timeout=setTimeout(()=>{this.remove(u,I)},C)),this.data[w].push(I),this.order.push(w),this.order.length>this.max){const R=this._getAndRemoveByKey(this.order[0]);R&&this.onRemove(R)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const p=this.data[u].shift();return p.timeout&&clearTimeout(p.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),p.value}getByKey(u){const p=this.data[u];return p?p[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,p){if(!this.has(u))return this;const C=u.wrapped().key,w=p===void 0?0:this.data[C].indexOf(p),I=this.data[C][w];return this.data[C].splice(w,1),I.timeout&&clearTimeout(I.timeout),this.data[C].length===0&&delete this.data[C],this.onRemove(I.value),this.order.splice(this.order.indexOf(C),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(u){const p=[];for(const C in this.data)for(const w of this.data[C])u(w.value)||p.push(w);for(const C of p)this.remove(C.value.tileID,C)}}class It{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,p,C){const w=String(p);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][w]=this.stateChanges[u][w]||{},s.e(this.stateChanges[u][w],C),this.deletedStates[u]===null){this.deletedStates[u]={};for(const I in this.state[u])I!==w&&(this.deletedStates[u][I]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][w]===null){this.deletedStates[u][w]={};for(const I in this.state[u][w])C[I]||(this.deletedStates[u][w][I]=null)}else for(const I in C)this.deletedStates[u]&&this.deletedStates[u][w]&&this.deletedStates[u][w][I]===null&&delete this.deletedStates[u][w][I]}removeFeatureState(u,p,C){if(this.deletedStates[u]===null)return;const w=String(p);if(this.deletedStates[u]=this.deletedStates[u]||{},C&&p!==void 0)this.deletedStates[u][w]!==null&&(this.deletedStates[u][w]=this.deletedStates[u][w]||{},this.deletedStates[u][w][C]=null);else if(p!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][w])for(C in this.deletedStates[u][w]={},this.stateChanges[u][w])this.deletedStates[u][w][C]=null;else this.deletedStates[u][w]=null;else this.deletedStates[u]=null}getState(u,p){const C=String(p),w=s.e({},(this.state[u]||{})[C],(this.stateChanges[u]||{})[C]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const I=this.deletedStates[u][p];if(I===null)return{};for(const R in I)delete w[R]}return w}initializeTileState(u,p){u.setFeatureState(this.state,p)}coalesceChanges(u,p){const C={};for(const w in this.stateChanges){this.state[w]=this.state[w]||{};const I={};for(const R in this.stateChanges[w])this.state[w][R]||(this.state[w][R]={}),s.e(this.state[w][R],this.stateChanges[w][R]),I[R]=this.state[w][R];C[w]=I}for(const w in this.deletedStates){this.state[w]=this.state[w]||{};const I={};if(this.deletedStates[w]===null)for(const R in this.state[w])I[R]={},this.state[w][R]={};else for(const R in this.deletedStates[w]){if(this.deletedStates[w][R]===null)this.state[w][R]={};else for(const j of Object.keys(this.deletedStates[w][R]))delete this.state[w][R][j];I[R]=this.state[w][R]}C[w]=C[w]||{},s.e(C[w],I)}if(this.stateChanges={},this.deletedStates={},Object.keys(C).length!==0)for(const w in u)u[w].setFeatureState(C,p)}}class Dt extends s.E{constructor(u,p,C){super(),this.id=u,this.dispatcher=C,this.on("data",w=>{w.dataType==="source"&&w.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&w.dataType==="source"&&w.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((w,I,R,j)=>{const Q=new(_i(I.type))(w,I,R,j);if(Q.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${Q.id}`);return Q})(u,p,C,this),this._tiles={},this._cache=new Bt(0,w=>this._unloadTile(w)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new It,this._didEmitContent=!1,this._updated=!1}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._maxTileCacheZoomLevels=u?u._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const u in this._tiles){const p=this._tiles[u];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,p,C){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(u),this._tileLoaded(u,p,C)}catch(w){u.state="errored",w.status!==404?this._source.fire(new s.j(w,{tile:u})):this.update(this.transform,this.terrain)}})}_unloadTile(u){this._source.unloadTile&&this._source.unloadTile(u)}_abortTile(u){this._source.abortTile&&this._source.abortTile(u),this._source.fire(new s.k("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const C=this._tiles[p];C.upload(u),C.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(fn).map(u=>u.key)}getRenderableIds(u){const p=[];for(const C in this._tiles)this._isIdRenderable(C,u)&&p.push(this._tiles[C]);return u?p.sort((C,w)=>{const I=C.tileID,R=w.tileID,j=new s.P(I.canonical.x,I.canonical.y)._rotate(this.transform.angle),Q=new s.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return I.overscaledZ-R.overscaledZ||Q.y-j.y||Q.x-j.x}).map(C=>C.tileID.key):p.map(C=>C.tileID).sort(fn).map(C=>C.key)}hasRenderableParent(u){const p=this.findLoadedParent(u,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(u,p){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(p||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,p){return s._(this,void 0,void 0,function*(){const C=this._tiles[u];C&&(C.state!=="loading"&&(C.state=p),yield this._loadTile(C,u,p))})}_tileLoaded(u,p,C){u.timeAdded=B.now(),C==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(p,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new s.k("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const p=this.getRenderableIds();for(let w=0;w<p.length;w++){const I=p[w];if(u.neighboringTiles&&u.neighboringTiles[I]){const R=this.getTileByID(I);C(u,R),C(R,u)}}function C(w,I){w.needsHillshadePrepare=!0,w.needsTerrainPrepare=!0;let R=I.tileID.canonical.x-w.tileID.canonical.x;const j=I.tileID.canonical.y-w.tileID.canonical.y,Q=Math.pow(2,w.tileID.canonical.z),ie=I.tileID.key;R===0&&j===0||Math.abs(j)>1||(Math.abs(R)>1&&(Math.abs(R+Q)===1?R+=Q:Math.abs(R-Q)===1&&(R-=Q)),I.dem&&w.dem&&(w.dem.backfillBorder(I.dem,R,j),w.neighboringTiles&&w.neighboringTiles[ie]&&(w.neighboringTiles[ie].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,p,C,w){for(const I in this._tiles){let R=this._tiles[I];if(w[I]||!R.hasData()||R.tileID.overscaledZ<=p||R.tileID.overscaledZ>C)continue;let j=R.tileID;for(;R&&R.tileID.overscaledZ>p+1;){const ie=R.tileID.scaledTo(R.tileID.overscaledZ-1);R=this._tiles[ie.key],R&&R.hasData()&&(j=ie)}let Q=j;for(;Q.overscaledZ>p;)if(Q=Q.scaledTo(Q.overscaledZ-1),u[Q.key]){w[j.key]=j;break}}}findLoadedParent(u,p){if(u.key in this._loadedParentTiles){const C=this._loadedParentTiles[u.key];return C&&C.tileID.overscaledZ>=p?C:null}for(let C=u.overscaledZ-1;C>=p;C--){const w=u.scaledTo(C),I=this._getLoadedTile(w);if(I)return I}}_getLoadedTile(u){const p=this._tiles[u.key];return p&&p.hasData()?p:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const p=Math.ceil(u.width/this._source.tileSize)+1,C=Math.ceil(u.height/this._source.tileSize)+1,w=Math.floor(p*C*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),I=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(I)}handleWrapJump(u){const p=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,p){const C={};for(const w in this._tiles){const I=this._tiles[w];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+p),C[I.tileID.key]=I}this._tiles=C;for(const w in this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(const w in this._tiles)this._setTileReloadTimer(w,this._tiles[w])}}update(u,p){if(this.transform=u,this.terrain=p,!this._sourceLoaded||this._paused)return;let C;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?C=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(de=>new s.Q(de.canonical.z,de.wrap,de.canonical.z,de.canonical.x,de.canonical.y)):(C=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(C=C.filter(de=>this._source.hasTile(de)))):C=[];const w=u.coveringZoomLevel(this._source),I=Math.max(w-Dt.maxOverzooming,this._source.minzoom),R=Math.max(w+Dt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const de={};for(const fe of C)if(fe.canonical.z>this._source.minzoom){const Oe=fe.scaledTo(fe.canonical.z-1);de[Oe.key]=Oe;const Ye=fe.scaledTo(Math.max(this._source.minzoom,Math.min(fe.canonical.z,5)));de[Ye.key]=Ye}C=C.concat(Object.values(de))}const j=C.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,j&&this.fire(new s.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const Q=this._updateRetainedTiles(C,w);if(Pn(this._source.type)){const de={},fe={},Oe=Object.keys(Q),Ye=B.now();for(const $e of Oe){const He=Q[$e],We=this._tiles[$e];if(!We||We.fadeEndTime!==0&&We.fadeEndTime<=Ye)continue;const ht=this.findLoadedParent(He,I);ht&&(this._addTile(ht.tileID),de[ht.tileID.key]=ht.tileID),fe[$e]=He}this._retainLoadedChildren(fe,w,R,Q);for(const $e in de)Q[$e]||(this._coveredTiles[$e]=!0,Q[$e]=de[$e]);if(p){const $e={},He={};for(const We of C)this._tiles[We.key].hasData()?$e[We.key]=We:He[We.key]=We;for(const We in He){const ht=He[We].children(this._source.maxzoom);this._tiles[ht[0].key]&&this._tiles[ht[1].key]&&this._tiles[ht[2].key]&&this._tiles[ht[3].key]&&($e[ht[0].key]=Q[ht[0].key]=ht[0],$e[ht[1].key]=Q[ht[1].key]=ht[1],$e[ht[2].key]=Q[ht[2].key]=ht[2],$e[ht[3].key]=Q[ht[3].key]=ht[3],delete He[We])}for(const We in He){const ht=this.findLoadedParent(He[We],this._source.minzoom);if(ht){$e[ht.tileID.key]=Q[ht.tileID.key]=ht.tileID;for(const Ft in $e)$e[Ft].isChildOf(ht.tileID)&&delete $e[Ft]}}for(const We in this._tiles)$e[We]||(this._coveredTiles[We]=!0)}}for(const de in Q)this._tiles[de].clearFadeHold();const ie=s.ab(this._tiles,Q);for(const de of ie){const fe=this._tiles[de];fe.hasSymbolBuckets&&!fe.holdingForFade()?fe.setHoldDuration(this.map._fadeDuration):fe.hasSymbolBuckets&&!fe.symbolFadeFinished()||this._removeTile(de)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,p){const C={},w={},I=Math.max(p-Dt.maxOverzooming,this._source.minzoom),R=Math.max(p+Dt.maxUnderzooming,this._source.minzoom),j={};for(const Q of u){const ie=this._addTile(Q);C[Q.key]=Q,ie.hasData()||p<this._source.maxzoom&&(j[Q.key]=Q)}this._retainLoadedChildren(j,p,R,C);for(const Q of u){let ie=this._tiles[Q.key];if(ie.hasData())continue;if(p+1>this._source.maxzoom){const fe=Q.children(this._source.maxzoom)[0],Oe=this.getTile(fe);if(Oe&&Oe.hasData()){C[fe.key]=fe;continue}}else{const fe=Q.children(this._source.maxzoom);if(C[fe[0].key]&&C[fe[1].key]&&C[fe[2].key]&&C[fe[3].key])continue}let de=ie.wasRequested();for(let fe=Q.overscaledZ-1;fe>=I;--fe){const Oe=Q.scaledTo(fe);if(w[Oe.key])break;if(w[Oe.key]=!0,ie=this.getTile(Oe),!ie&&de&&(ie=this._addTile(Oe)),ie){const Ye=ie.hasData();if((de||Ye)&&(C[Oe.key]=Oe),de=ie.wasRequested(),Ye)break}}}return C}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const p=[];let C,w=this._tiles[u].tileID;for(;w.overscaledZ>0;){if(w.key in this._loadedParentTiles){C=this._loadedParentTiles[w.key];break}p.push(w.key);const I=w.scaledTo(w.overscaledZ-1);if(C=this._getLoadedTile(I),C)break;w=I}for(const I of p)this._loadedParentTiles[I]=C}}_addTile(u){let p=this._tiles[u.key];if(p)return p;p=this._cache.getAndRemove(u),p&&(this._setTileReloadTimer(u.key,p),p.tileID=u,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,p)));const C=p;return p||(p=new ut(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(p,u.key,p.state)),p.uses++,this._tiles[u.key]=p,C||this._source.fire(new s.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(u,p){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const C=p.getExpiryTimeout();C&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},C))}_removeTile(u){const p=this._tiles[u];p&&(p.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,p,C){const w=[],I=this.transform;if(!I)return w;const R=C?I.getCameraQueryGeometry(u):u,j=u.map($e=>I.pointCoordinate($e,this.terrain)),Q=R.map($e=>I.pointCoordinate($e,this.terrain)),ie=this.getIds();let de=1/0,fe=1/0,Oe=-1/0,Ye=-1/0;for(const $e of Q)de=Math.min(de,$e.x),fe=Math.min(fe,$e.y),Oe=Math.max(Oe,$e.x),Ye=Math.max(Ye,$e.y);for(let $e=0;$e<ie.length;$e++){const He=this._tiles[ie[$e]];if(He.holdingForFade())continue;const We=He.tileID,ht=Math.pow(2,I.zoom-He.tileID.overscaledZ),Ft=p*He.queryPadding*s.W/He.tileSize/ht,tt=[We.getTilePoint(new s.Y(de,fe)),We.getTilePoint(new s.Y(Oe,Ye))];if(tt[0].x-Ft<s.W&&tt[0].y-Ft<s.W&&tt[1].x+Ft>=0&&tt[1].y+Ft>=0){const bt=j.map(Ut=>We.getTilePoint(Ut)),Pt=Q.map(Ut=>We.getTilePoint(Ut));w.push({tile:He,tileID:We,queryGeometry:bt,cameraQueryGeometry:Pt,scale:ht})}}return w}getVisibleCoordinates(u){const p=this.getRenderableIds(u).map(C=>this._tiles[C].tileID);for(const C of p)C.posMatrix=this.transform.calculatePosMatrix(C.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(Pn(this._source.type)){const u=B.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=u)return!0}return!1}setFeatureState(u,p,C){this._state.updateState(u=u||"_geojsonTileLayer",p,C)}removeFeatureState(u,p,C){this._state.removeFeatureState(u=u||"_geojsonTileLayer",p,C)}getFeatureState(u,p){return this._state.getState(u=u||"_geojsonTileLayer",p)}setDependencies(u,p,C){const w=this._tiles[u];w&&w.setDependencies(p,C)}reloadTilesForDependencies(u,p){for(const C in this._tiles)this._tiles[C].hasDependency(u,p)&&this._reloadTile(C,"reloading");this._cache.filter(C=>!C.hasDependency(u,p))}}function fn(O,u){const p=Math.abs(2*O.wrap)-+(O.wrap<0),C=Math.abs(2*u.wrap)-+(u.wrap<0);return O.overscaledZ-u.overscaledZ||C-p||u.canonical.y-O.canonical.y||u.canonical.x-O.canonical.x}function Pn(O){return O==="raster"||O==="image"||O==="video"}Dt.maxOverzooming=10,Dt.maxUnderzooming=3;class On{constructor(u,p){this.reset(u,p)}reset(u,p){this.points=u||[],this._distances=[0];for(let C=1;C<this.points.length;C++)this._distances[C]=this._distances[C-1]+this.points[C].dist(this.points[C-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=s.ac(u,0,1);let p=1,C=this._distances[p];const w=u*this.paddedLength+this.padding;for(;C<w&&p<this._distances.length;)C=this._distances[++p];const I=p-1,R=this._distances[I],j=C-R,Q=j>0?(w-R)/j:0;return this.points[I].mult(1-Q).add(this.points[p].mult(Q))}}function m(O,u){let p=!0;return O==="always"||O!=="never"&&u!=="never"||(p=!1),p}class Kt{constructor(u,p,C){const w=this.boxCells=[],I=this.circleCells=[];this.xCellCount=Math.ceil(u/C),this.yCellCount=Math.ceil(p/C);for(let R=0;R<this.xCellCount*this.yCellCount;R++)w.push([]),I.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=p,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,p,C,w,I){this._forEachCell(p,C,w,I,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(p),this.bboxes.push(C),this.bboxes.push(w),this.bboxes.push(I)}insertCircle(u,p,C,w){this._forEachCell(p-w,C-w,p+w,C+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(p),this.circles.push(C),this.circles.push(w)}_insertBoxCell(u,p,C,w,I,R){this.boxCells[I].push(R)}_insertCircleCell(u,p,C,w,I,R){this.circleCells[I].push(R)}_query(u,p,C,w,I,R,j){if(C<0||u>this.width||w<0||p>this.height)return[];const Q=[];if(u<=0&&p<=0&&this.width<=C&&this.height<=w){if(I)return[{key:null,x1:u,y1:p,x2:C,y2:w}];for(let ie=0;ie<this.boxKeys.length;ie++)Q.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(let ie=0;ie<this.circleKeys.length;ie++){const de=this.circles[3*ie],fe=this.circles[3*ie+1],Oe=this.circles[3*ie+2];Q.push({key:this.circleKeys[ie],x1:de-Oe,y1:fe-Oe,x2:de+Oe,y2:fe+Oe})}}else this._forEachCell(u,p,C,w,this._queryCell,Q,{hitTest:I,overlapMode:R,seenUids:{box:{},circle:{}}},j);return Q}query(u,p,C,w){return this._query(u,p,C,w,!1,null)}hitTest(u,p,C,w,I,R){return this._query(u,p,C,w,!0,I,R).length>0}hitTestCircle(u,p,C,w,I){const R=u-C,j=u+C,Q=p-C,ie=p+C;if(j<0||R>this.width||ie<0||Q>this.height)return!1;const de=[];return this._forEachCell(R,Q,j,ie,this._queryCellCircle,de,{hitTest:!0,overlapMode:w,circle:{x:u,y:p,radius:C},seenUids:{box:{},circle:{}}},I),de.length>0}_queryCell(u,p,C,w,I,R,j,Q){const{seenUids:ie,hitTest:de,overlapMode:fe}=j,Oe=this.boxCells[I];if(Oe!==null){const $e=this.bboxes;for(const He of Oe)if(!ie.box[He]){ie.box[He]=!0;const We=4*He,ht=this.boxKeys[He];if(u<=$e[We+2]&&p<=$e[We+3]&&C>=$e[We+0]&&w>=$e[We+1]&&(!Q||Q(ht))&&(!de||!m(fe,ht.overlapMode))&&(R.push({key:ht,x1:$e[We],y1:$e[We+1],x2:$e[We+2],y2:$e[We+3]}),de))return!0}}const Ye=this.circleCells[I];if(Ye!==null){const $e=this.circles;for(const He of Ye)if(!ie.circle[He]){ie.circle[He]=!0;const We=3*He,ht=this.circleKeys[He];if(this._circleAndRectCollide($e[We],$e[We+1],$e[We+2],u,p,C,w)&&(!Q||Q(ht))&&(!de||!m(fe,ht.overlapMode))){const Ft=$e[We],tt=$e[We+1],bt=$e[We+2];if(R.push({key:ht,x1:Ft-bt,y1:tt-bt,x2:Ft+bt,y2:tt+bt}),de)return!0}}}return!1}_queryCellCircle(u,p,C,w,I,R,j,Q){const{circle:ie,seenUids:de,overlapMode:fe}=j,Oe=this.boxCells[I];if(Oe!==null){const $e=this.bboxes;for(const He of Oe)if(!de.box[He]){de.box[He]=!0;const We=4*He,ht=this.boxKeys[He];if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,$e[We+0],$e[We+1],$e[We+2],$e[We+3])&&(!Q||Q(ht))&&!m(fe,ht.overlapMode))return R.push(!0),!0}}const Ye=this.circleCells[I];if(Ye!==null){const $e=this.circles;for(const He of Ye)if(!de.circle[He]){de.circle[He]=!0;const We=3*He,ht=this.circleKeys[He];if(this._circlesCollide($e[We],$e[We+1],$e[We+2],ie.x,ie.y,ie.radius)&&(!Q||Q(ht))&&!m(fe,ht.overlapMode))return R.push(!0),!0}}}_forEachCell(u,p,C,w,I,R,j,Q){const ie=this._convertToXCellCoord(u),de=this._convertToYCellCoord(p),fe=this._convertToXCellCoord(C),Oe=this._convertToYCellCoord(w);for(let Ye=ie;Ye<=fe;Ye++)for(let $e=de;$e<=Oe;$e++)if(I.call(this,u,p,C,w,this.xCellCount*$e+Ye,R,j,Q))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,p,C,w,I,R){const j=w-u,Q=I-p,ie=C+R;return ie*ie>j*j+Q*Q}_circleAndRectCollide(u,p,C,w,I,R,j){const Q=(R-w)/2,ie=Math.abs(u-(w+Q));if(ie>Q+C)return!1;const de=(j-I)/2,fe=Math.abs(p-(I+de));if(fe>de+C)return!1;if(ie<=Q||fe<=de)return!0;const Oe=ie-Q,Ye=fe-de;return Oe*Oe+Ye*Ye<=C*C}}function Pr(O,u,p,C,w){const I=s.F();return u?(s.J(I,I,[1/w,1/w,1]),p||s.ad(I,I,C.angle)):s.K(I,C.labelPlaneMatrix,O),I}function nr(O,u,p,C,w){if(u){const I=s.ae(O);return s.J(I,I,[w,w,1]),p||s.ad(I,I,-C.angle),I}return C.glCoordMatrix}function Pe(O,u,p){let C;p?(C=[O.x,O.y,p(O.x,O.y),1],s.af(C,C,u)):(C=[O.x,O.y,0,1],Bn(C,C,u));const w=C[3];return{point:new s.P(C[0]/w,C[1]/w),signedDistanceFromCamera:w}}function ce(O,u){return .5+O/u*.5}function Ce(O,u){const p=O[0]/O[3],C=O[1]/O[3];return p>=-u[0]&&p<=u[0]&&C>=-u[1]&&C<=u[1]}function ke(O,u,p,C,w,I,R,j,Q,ie){const de=C?O.textSizeData:O.iconSizeData,fe=s.ag(de,p.transform.zoom),Oe=[256/p.width*2+1,256/p.height*2+1],Ye=C?O.text.dynamicLayoutVertexArray:O.icon.dynamicLayoutVertexArray;Ye.clear();const $e=O.lineVertexArray,He=C?O.text.placedSymbolArray:O.icon.placedSymbolArray,We=p.transform.width/p.transform.height;let ht=!1;for(let Ft=0;Ft<He.length;Ft++){const tt=He.get(Ft);if(tt.hidden||tt.writingMode===s.ah.vertical&&!ht){Fn(tt.numGlyphs,Ye);continue}let bt;if(ht=!1,ie?(bt=[tt.anchorX,tt.anchorY,ie(tt.anchorX,tt.anchorY),1],s.af(bt,bt,u)):(bt=[tt.anchorX,tt.anchorY,0,1],Bn(bt,bt,u)),!Ce(bt,Oe)){Fn(tt.numGlyphs,Ye);continue}const Pt=ce(p.transform.cameraToCenterDistance,bt[3]),Ut=s.ai(de,fe,tt),Zt=R?Ut/Pt:Ut*Pt,dn=new s.P(tt.anchorX,tt.anchorY),un=Pe(dn,w,ie).point,pn={projections:{},offsets:{}},$n=st(tt,Zt,!1,j,u,w,I,O.glyphOffsetArray,$e,Ye,un,dn,pn,We,Q,ie);ht=$n.useVertical,($n.notEnoughRoom||ht||$n.needsFlipping&&st(tt,Zt,!0,j,u,w,I,O.glyphOffsetArray,$e,Ye,un,dn,pn,We,Q,ie).notEnoughRoom)&&Fn(tt.numGlyphs,Ye)}C?O.text.dynamicLayoutVertexBuffer.updateData(Ye):O.icon.dynamicLayoutVertexBuffer.updateData(Ye)}function ze(O,u,p,C,w,I,R,j,Q,ie,de,fe,Oe){const Ye=j.glyphStartIndex+j.numGlyphs,$e=j.lineStartIndex,He=j.lineStartIndex+j.lineLength,We=u.getoffsetX(j.glyphStartIndex),ht=u.getoffsetX(Ye-1),Ft=qt(O*We,p,C,w,I,R,j.segment,$e,He,Q,ie,de,fe,Oe);if(!Ft)return null;const tt=qt(O*ht,p,C,w,I,R,j.segment,$e,He,Q,ie,de,fe,Oe);return tt?{first:Ft,last:tt}:null}function rt(O,u,p,C){return O===s.ah.horizontal&&Math.abs(p.y-u.y)>Math.abs(p.x-u.x)*C?{useVertical:!0}:(O===s.ah.vertical?u.y<p.y:u.x>p.x)?{needsFlipping:!0}:null}function st(O,u,p,C,w,I,R,j,Q,ie,de,fe,Oe,Ye,$e,He){const We=u/24,ht=O.lineOffsetX*We,Ft=O.lineOffsetY*We;let tt;if(O.numGlyphs>1){const bt=O.glyphStartIndex+O.numGlyphs,Pt=O.lineStartIndex,Ut=O.lineStartIndex+O.lineLength,Zt=ze(We,j,ht,Ft,p,de,fe,O,Q,I,Oe,$e,He);if(!Zt)return{notEnoughRoom:!0};const dn=Pe(Zt.first.point,R,He).point,un=Pe(Zt.last.point,R,He).point;if(C&&!p){const pn=rt(O.writingMode,dn,un,Ye);if(pn)return pn}tt=[Zt.first];for(let pn=O.glyphStartIndex+1;pn<bt-1;pn++)tt.push(qt(We*j.getoffsetX(pn),ht,Ft,p,de,fe,O.segment,Pt,Ut,Q,I,Oe,$e,He));tt.push(Zt.last)}else{if(C&&!p){const Pt=Pe(fe,w,He).point,Ut=O.lineStartIndex+O.segment+1,Zt=new s.P(Q.getx(Ut),Q.gety(Ut)),dn=Pe(Zt,w,He),un=dn.signedDistanceFromCamera>0?dn.point:ft(fe,Zt,Pt,1,w,He),pn=rt(O.writingMode,Pt,un,Ye);if(pn)return pn}const bt=qt(We*j.getoffsetX(O.glyphStartIndex),ht,Ft,p,de,fe,O.segment,O.lineStartIndex,O.lineStartIndex+O.lineLength,Q,I,Oe,$e,He);if(!bt)return{notEnoughRoom:!0};tt=[bt]}for(const bt of tt)s.aj(ie,bt.point,bt.angle);return{}}function ft(O,u,p,C,w,I){const R=Pe(O.add(O.sub(u)._unit()),w,I).point,j=p.sub(R);return p.add(j._mult(C/j.mag()))}function et(O,u){const{projectionCache:p,lineVertexArray:C,labelPlaneMatrix:w,tileAnchorPoint:I,distanceFromAnchor:R,getElevation:j,previousVertex:Q,direction:ie,absOffsetX:de}=u;if(p.projections[O])return p.projections[O];const fe=new s.P(C.getx(O),C.gety(O)),Oe=Pe(fe,w,j);if(Oe.signedDistanceFromCamera>0)return p.projections[O]=Oe.point,Oe.point;const Ye=O-ie;return ft(R===0?I:new s.P(C.getx(Ye),C.gety(Ye)),fe,Q,de-R+1,w,j)}function wt(O,u,p){return O._unit()._perp()._mult(u*p)}function tn(O,u,p,C,w,I,R,j){const{projectionCache:Q,direction:ie}=j;if(Q.offsets[O])return Q.offsets[O];const de=p.add(u);if(O+ie<C||O+ie>=w)return Q.offsets[O]=de,de;const fe=et(O+ie,j),Oe=wt(fe.sub(p),R,ie),Ye=p.add(Oe),$e=fe.add(Oe);return Q.offsets[O]=s.ak(I,de,Ye,$e)||de,Q.offsets[O]}function qt(O,u,p,C,w,I,R,j,Q,ie,de,fe,Oe,Ye){const $e=C?O-u:O+u;let He=$e>0?1:-1,We=0;C&&(He*=-1,We=Math.PI),He<0&&(We+=Math.PI);let ht,Ft,tt=He>0?j+R:j+R+1,bt=w,Pt=w,Ut=0,Zt=0;const dn=Math.abs($e),un=[];let pn;for(;Ut+Zt<=dn;){if(tt+=He,tt<j||tt>=Q)return null;Ut+=Zt,Pt=bt,Ft=ht;const kn={projectionCache:fe,lineVertexArray:ie,labelPlaneMatrix:de,tileAnchorPoint:I,distanceFromAnchor:Ut,getElevation:Ye,previousVertex:Pt,direction:He,absOffsetX:dn};if(bt=et(tt,kn),p===0)un.push(Pt),pn=bt.sub(Pt);else{let vr;const di=bt.sub(Pt);vr=di.mag()===0?wt(et(tt+He,kn).sub(bt),p,He):wt(di,p,He),Ft||(Ft=Pt.add(vr)),ht=tn(tt,vr,bt,j,Q,Ft,p,kn),un.push(Ft),pn=ht.sub(Ft)}Zt=pn.mag()}const $n=pn._mult((dn-Ut)/Zt)._add(Ft||Pt),qr=We+Math.atan2(bt.y-Pt.y,bt.x-Pt.x);return un.push($n),{point:$n,angle:Oe?qr:0,path:un}}const en=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Fn(O,u){for(let p=0;p<O;p++){const C=u.length;u.resize(C+4),u.float32.set(en,3*C)}}function Bn(O,u,p){const C=u[0],w=u[1];return O[0]=p[0]*C+p[4]*w+p[12],O[1]=p[1]*C+p[5]*w+p[13],O[3]=p[3]*C+p[7]*w+p[15],O}const qn=100;class Sr{constructor(u,p=new Kt(u.width+200,u.height+200,25),C=new Kt(u.width+200,u.height+200,25)){this.transform=u,this.grid=p,this.ignoredGrid=C,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+qn,this.screenBottomBoundary=u.height+qn,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,p,C,w,I,R){const j=this.projectAndGetPerspectiveRatio(w,u.anchorPointX,u.anchorPointY,R),Q=C*j.perspectiveRatio,ie=u.x1*Q+j.point.x,de=u.y1*Q+j.point.y,fe=u.x2*Q+j.point.x,Oe=u.y2*Q+j.point.y;return!this.isInsideGrid(ie,de,fe,Oe)||p!=="always"&&this.grid.hitTest(ie,de,fe,Oe,p,I)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[ie,de,fe,Oe],offscreen:this.isOffscreen(ie,de,fe,Oe)}}placeCollisionCircles(u,p,C,w,I,R,j,Q,ie,de,fe,Oe,Ye,$e){const He=[],We=new s.P(p.anchorX,p.anchorY),ht=Pe(We,R,$e),Ft=ce(this.transform.cameraToCenterDistance,ht.signedDistanceFromCamera),tt=(de?I/Ft:I*Ft)/s.ao,bt=Pe(We,j,$e).point,Pt=ze(tt,w,p.lineOffsetX*tt,p.lineOffsetY*tt,!1,bt,We,p,C,j,{projections:{},offsets:{}},!1,$e);let Ut=!1,Zt=!1,dn=!0;if(Pt){const un=.5*Oe*Ft+Ye,pn=new s.P(-100,-100),$n=new s.P(this.screenRightBoundary,this.screenBottomBoundary),qr=new On,kn=Pt.first,vr=Pt.last;let di=[];for(let ei=kn.path.length-1;ei>=1;ei--)di.push(kn.path[ei]);for(let ei=1;ei<vr.path.length;ei++)di.push(vr.path[ei]);const Ti=2.5*un;if(Q){const ei=di.map(Nr=>Pe(Nr,Q,$e));di=ei.some(Nr=>Nr.signedDistanceFromCamera<=0)?[]:ei.map(Nr=>Nr.point)}let Hr=[];if(di.length>0){const ei=di[0].clone(),Nr=di[0].clone();for(let Ho=1;Ho<di.length;Ho++)ei.x=Math.min(ei.x,di[Ho].x),ei.y=Math.min(ei.y,di[Ho].y),Nr.x=Math.max(Nr.x,di[Ho].x),Nr.y=Math.max(Nr.y,di[Ho].y);Hr=ei.x>=pn.x&&Nr.x<=$n.x&&ei.y>=pn.y&&Nr.y<=$n.y?[di]:Nr.x<pn.x||ei.x>$n.x||Nr.y<pn.y||ei.y>$n.y?[]:s.al([di],pn.x,pn.y,$n.x,$n.y)}for(const ei of Hr){qr.reset(ei,.25*un);let Nr=0;Nr=qr.length<=.5*un?1:Math.ceil(qr.paddedLength/Ti)+1;for(let Ho=0;Ho<Nr;Ho++){const Lo=Ho/Math.max(Nr-1,1),Us=qr.lerp(Lo),Pa=Us.x+qn,mo=Us.y+qn;He.push(Pa,mo,un,0);const so=Pa-un,Zs=mo-un,su=Pa+un,ws=mo+un;if(dn=dn&&this.isOffscreen(so,Zs,su,ws),Zt=Zt||this.isInsideGrid(so,Zs,su,ws),u!=="always"&&this.grid.hitTestCircle(Pa,mo,un,u,fe)&&(Ut=!0,!ie))return{circles:[],offscreen:!1,collisionDetected:Ut}}}}return{circles:!ie&&Ut||!Zt||Ft<this.perspectiveRatioCutoff?[]:He,offscreen:dn,collisionDetected:Ut}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let C=1/0,w=1/0,I=-1/0,R=-1/0;for(const de of u){const fe=new s.P(de.x+qn,de.y+qn);C=Math.min(C,fe.x),w=Math.min(w,fe.y),I=Math.max(I,fe.x),R=Math.max(R,fe.y),p.push(fe)}const j=this.grid.query(C,w,I,R).concat(this.ignoredGrid.query(C,w,I,R)),Q={},ie={};for(const de of j){const fe=de.key;if(Q[fe.bucketInstanceId]===void 0&&(Q[fe.bucketInstanceId]={}),Q[fe.bucketInstanceId][fe.featureIndex])continue;const Oe=[new s.P(de.x1,de.y1),new s.P(de.x2,de.y1),new s.P(de.x2,de.y2),new s.P(de.x1,de.y2)];s.am(p,Oe)&&(Q[fe.bucketInstanceId][fe.featureIndex]=!0,ie[fe.bucketInstanceId]===void 0&&(ie[fe.bucketInstanceId]=[]),ie[fe.bucketInstanceId].push(fe.featureIndex))}return ie}insertCollisionBox(u,p,C,w,I,R){(C?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:I,collisionGroupID:R,overlapMode:p},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,p,C,w,I,R){const j=C?this.ignoredGrid:this.grid,Q={bucketInstanceId:w,featureIndex:I,collisionGroupID:R,overlapMode:p};for(let ie=0;ie<u.length;ie+=4)j.insertCircle(Q,u[ie],u[ie+1],u[ie+2])}projectAndGetPerspectiveRatio(u,p,C,w){let I;return w?(I=[p,C,w(p,C),1],s.af(I,I,u)):(I=[p,C,0,1],Bn(I,I,u)),{point:new s.P((I[0]/I[3]+1)/2*this.transform.width+qn,(-I[1]/I[3]+1)/2*this.transform.height+qn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/I[3]*.5}}isOffscreen(u,p,C,w){return C<qn||u>=this.screenRightBoundary||w<qn||p>this.screenBottomBoundary}isInsideGrid(u,p,C,w){return C>=0&&u<this.gridRightBoundary&&w>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const u=s.an([]);return s.H(u,u,[-100,-100,0]),u}}function lr(O,u,p){return u*(s.W/(O.tileSize*Math.pow(2,p-O.tileID.overscaledZ)))}class $r{constructor(u,p,C,w){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?p:-p))):w&&C?1:0,this.placed=C}isHidden(){return this.opacity===0&&!this.placed}}class Or{constructor(u,p,C,w,I){this.text=new $r(u?u.text:null,p,C,I),this.icon=new $r(u?u.icon:null,p,w,I)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Lr{constructor(u,p,C){this.text=u,this.icon=p,this.skipFade=C}}class or{constructor(){this.invProjMatrix=s.F(),this.viewportMatrix=s.F(),this.circles=[]}}class ci{constructor(u,p,C,w,I){this.bucketInstanceId=u,this.featureIndex=p,this.sourceLayerIndex=C,this.bucketIndex=w,this.tileID=I}}class Li{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const p=++this.maxGroupID;this.collisionGroups[u]={ID:p,predicate:C=>C.collisionGroupID===p}}return this.collisionGroups[u]}}function to(O,u,p,C,w){const{horizontalAlign:I,verticalAlign:R}=s.at(O);return new s.P(-(I-.5)*u+C[0]*w,-(R-.5)*p+C[1]*w)}function ho(O,u,p,C,w,I){const{x1:R,x2:j,y1:Q,y2:ie,anchorPointX:de,anchorPointY:fe}=O,Oe=new s.P(u,p);return C&&Oe._rotate(w?I:-I),{x1:R+Oe.x,y1:Q+Oe.y,x2:j+Oe.x,y2:ie+Oe.y,anchorPointX:de,anchorPointY:fe}}class ai{constructor(u,p,C,w,I){this.transform=u.clone(),this.terrain=p,this.collisionIndex=new Sr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=C,this.retainedQueryData={},this.collisionGroups=new Li(w),this.collisionCircleArrays={},this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,p,C,w){const I=C.getBucket(p),R=C.latestFeatureIndex;if(!I||!R||p.id!==I.layerIds[0])return;const j=C.collisionBoxArray,Q=I.layers[0].layout,ie=Math.pow(2,this.transform.zoom-C.tileID.overscaledZ),de=C.tileSize/s.W,fe=this.transform.calculatePosMatrix(C.tileID.toUnwrapped()),Oe=Q.get("text-pitch-alignment")==="map",Ye=Q.get("text-rotation-alignment")==="map",$e=lr(C,1,this.transform.zoom),He=Pr(fe,Oe,Ye,this.transform,$e);let We=null;if(Oe){const Ft=nr(fe,Oe,Ye,this.transform,$e);We=s.K([],this.transform.labelPlaneMatrix,Ft)}this.retainedQueryData[I.bucketInstanceId]=new ci(I.bucketInstanceId,R,I.sourceLayerIndex,I.index,C.tileID);const ht={bucket:I,layout:Q,posMatrix:fe,textLabelPlaneMatrix:He,labelToScreenMatrix:We,scale:ie,textPixelRatio:de,holdingForFade:C.holdingForFade(),collisionBoxArray:j,partiallyEvaluatedTextSize:s.ag(I.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(I.sourceID)};if(w)for(const Ft of I.sortKeyRanges){const{sortKey:tt,symbolInstanceStart:bt,symbolInstanceEnd:Pt}=Ft;u.push({sortKey:tt,symbolInstanceStart:bt,symbolInstanceEnd:Pt,parameters:ht})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:ht})}attemptAnchorPlacement(u,p,C,w,I,R,j,Q,ie,de,fe,Oe,Ye,$e,He,We){const ht=s.ap[u.textAnchor],Ft=[u.textOffset0,u.textOffset1],tt=to(ht,C,w,Ft,I),bt=this.collisionIndex.placeCollisionBox(ho(p,tt.x,tt.y,R,j,this.transform.angle),fe,Q,ie,de.predicate,We);if((!He||this.collisionIndex.placeCollisionBox(ho(He,tt.x,tt.y,R,j,this.transform.angle),fe,Q,ie,de.predicate,We).box.length!==0)&&bt.box.length>0){let Pt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Oe.crossTileID]&&this.prevPlacement.placements[Oe.crossTileID]&&this.prevPlacement.placements[Oe.crossTileID].text&&(Pt=this.prevPlacement.variableOffsets[Oe.crossTileID].anchor),Oe.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Oe.crossTileID]={textOffset:Ft,width:C,height:w,anchor:ht,textBoxScale:I,prevAnchor:Pt},this.markUsedJustification(Ye,ht,Oe,$e),Ye.allowVerticalPlacement&&(this.markUsedOrientation(Ye,$e,Oe),this.placedOrientations[Oe.crossTileID]=$e),{shift:tt,placedGlyphBoxes:bt}}}placeLayerBucketPart(u,p,C){const{bucket:w,layout:I,posMatrix:R,textLabelPlaneMatrix:j,labelToScreenMatrix:Q,textPixelRatio:ie,holdingForFade:de,collisionBoxArray:fe,partiallyEvaluatedTextSize:Oe,collisionGroup:Ye}=u.parameters,$e=I.get("text-optional"),He=I.get("icon-optional"),We=s.aq(I,"text-overlap","text-allow-overlap"),ht=We==="always",Ft=s.aq(I,"icon-overlap","icon-allow-overlap"),tt=Ft==="always",bt=I.get("text-rotation-alignment")==="map",Pt=I.get("text-pitch-alignment")==="map",Ut=I.get("icon-text-fit")!=="none",Zt=I.get("symbol-z-order")==="viewport-y",dn=ht&&(tt||!w.hasIconData()||He),un=tt&&(ht||!w.hasTextData()||$e);!w.collisionArrays&&fe&&w.deserializeCollisionBoxes(fe);const pn=this.retainedQueryData[w.bucketInstanceId].tileID,$n=this.terrain?(kn,vr)=>this.terrain.getElevation(pn,kn,vr):null,qr=(kn,vr)=>{var di,Ti;if(p[kn.crossTileID])return;if(de)return void(this.placements[kn.crossTileID]=new Lr(!1,!1,!1));let Hr=!1,ei=!1,Nr=!0,Ho=null,Lo={box:null,offscreen:null},Us={box:null,offscreen:null},Pa=null,mo=null,so=null,Zs=0,su=0,ws=0;vr.textFeatureIndex?Zs=vr.textFeatureIndex:kn.useRuntimeCollisionCircles&&(Zs=kn.featureIndex),vr.verticalTextFeatureIndex&&(su=vr.verticalTextFeatureIndex);const nA=vr.textBox;if(nA){const Ri=Vo=>{let va=s.ah.horizontal;if(w.allowVerticalPlacement&&!Vo&&this.prevPlacement){const Ss=this.prevPlacement.placedOrientations[kn.crossTileID];Ss&&(this.placedOrientations[kn.crossTileID]=Ss,va=Ss,this.markUsedOrientation(w,va,kn))}return va},Ei=(Vo,va)=>{if(w.allowVerticalPlacement&&kn.numVerticalGlyphVertices>0&&vr.verticalTextBox){for(const Ss of w.writingModes)if(Ss===s.ah.vertical?(Lo=va(),Us=Lo):Lo=Vo(),Lo&&Lo.box&&Lo.box.length)break}else Lo=Vo()},ra=kn.textAnchorOffsetStartIndex,Pc=kn.textAnchorOffsetEndIndex;if(Pc===ra){const Vo=(va,Ss)=>{const Ki=this.collisionIndex.placeCollisionBox(va,We,ie,R,Ye.predicate,$n);return Ki&&Ki.box&&Ki.box.length&&(this.markUsedOrientation(w,Ss,kn),this.placedOrientations[kn.crossTileID]=Ss),Ki};Ei(()=>Vo(nA,s.ah.horizontal),()=>{const va=vr.verticalTextBox;return w.allowVerticalPlacement&&kn.numVerticalGlyphVertices>0&&va?Vo(va,s.ah.vertical):{box:null,offscreen:null}}),Ri(Lo&&Lo.box&&Lo.box.length)}else{let Vo=s.ap[(Ti=(di=this.prevPlacement)===null||di===void 0?void 0:di.variableOffsets[kn.crossTileID])===null||Ti===void 0?void 0:Ti.anchor];const va=(Ki,oc,Gh)=>{const lu=Ki.x2-Ki.x1,ac=Ki.y2-Ki.y1,Bu=kn.textBoxScale,Qh=Ut&&Ft==="never"?oc:null;let ku={box:[],offscreen:!1},$h=We==="never"?1:2,SA="never";Vo&&$h++;for(let np=0;np<$h;np++){for(let hd=ra;hd<Pc;hd++){const rp=w.textAnchorOffsets.get(hd);if(Vo&&rp.textAnchor!==Vo)continue;const rA=this.attemptAnchorPlacement(rp,Ki,lu,ac,Bu,bt,Pt,ie,R,Ye,SA,kn,w,Gh,Qh,$n);if(rA&&(ku=rA.placedGlyphBoxes,ku&&ku.box&&ku.box.length))return Hr=!0,Ho=rA.shift,ku}Vo?Vo=null:SA=We}return ku};Ei(()=>va(nA,vr.iconBox,s.ah.horizontal),()=>{const Ki=vr.verticalTextBox;return w.allowVerticalPlacement&&!(Lo&&Lo.box&&Lo.box.length)&&kn.numVerticalGlyphVertices>0&&Ki?va(Ki,vr.verticalIconBox,s.ah.vertical):{box:null,offscreen:null}}),Lo&&(Hr=Lo.box,Nr=Lo.offscreen);const Ss=Ri(Lo&&Lo.box);if(!Hr&&this.prevPlacement){const Ki=this.prevPlacement.variableOffsets[kn.crossTileID];Ki&&(this.variableOffsets[kn.crossTileID]=Ki,this.markUsedJustification(w,Ki.anchor,kn,Ss))}}}if(Pa=Lo,Hr=Pa&&Pa.box&&Pa.box.length>0,Nr=Pa&&Pa.offscreen,kn.useRuntimeCollisionCircles){const Ri=w.text.placedSymbolArray.get(kn.centerJustifiedTextSymbolIndex),Ei=s.ai(w.textSizeData,Oe,Ri),ra=I.get("text-padding");mo=this.collisionIndex.placeCollisionCircles(We,Ri,w.lineVertexArray,w.glyphOffsetArray,Ei,R,j,Q,C,Pt,Ye.predicate,kn.collisionCircleDiameter,ra,$n),mo.circles.length&&mo.collisionDetected&&!C&&s.w("Collisions detected, but collision boxes are not shown"),Hr=ht||mo.circles.length>0&&!mo.collisionDetected,Nr=Nr&&mo.offscreen}if(vr.iconFeatureIndex&&(ws=vr.iconFeatureIndex),vr.iconBox){const Ri=Ei=>{const ra=Ut&&Ho?ho(Ei,Ho.x,Ho.y,bt,Pt,this.transform.angle):Ei;return this.collisionIndex.placeCollisionBox(ra,Ft,ie,R,Ye.predicate,$n)};Us&&Us.box&&Us.box.length&&vr.verticalIconBox?(so=Ri(vr.verticalIconBox),ei=so.box.length>0):(so=Ri(vr.iconBox),ei=so.box.length>0),Nr=Nr&&so.offscreen}const jl=$e||kn.numHorizontalGlyphVertices===0&&kn.numVerticalGlyphVertices===0,Ms=He||kn.numIconVertices===0;if(jl||Ms?Ms?jl||(ei=ei&&Hr):Hr=ei&&Hr:ei=Hr=ei&&Hr,Hr&&Pa&&Pa.box&&this.collisionIndex.insertCollisionBox(Pa.box,We,I.get("text-ignore-placement"),w.bucketInstanceId,Us&&Us.box&&su?su:Zs,Ye.ID),ei&&so&&this.collisionIndex.insertCollisionBox(so.box,Ft,I.get("icon-ignore-placement"),w.bucketInstanceId,ws,Ye.ID),mo&&(Hr&&this.collisionIndex.insertCollisionCircles(mo.circles,We,I.get("text-ignore-placement"),w.bucketInstanceId,Zs,Ye.ID),C)){const Ri=w.bucketInstanceId;let Ei=this.collisionCircleArrays[Ri];Ei===void 0&&(Ei=this.collisionCircleArrays[Ri]=new or);for(let ra=0;ra<mo.circles.length;ra+=4)Ei.circles.push(mo.circles[ra+0]),Ei.circles.push(mo.circles[ra+1]),Ei.circles.push(mo.circles[ra+2]),Ei.circles.push(mo.collisionDetected?1:0)}if(kn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(w.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[kn.crossTileID]=new Lr(Hr||dn,ei||un,Nr||w.justReloaded),p[kn.crossTileID]=!0};if(Zt){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const kn=w.getSortedSymbolIndexes(this.transform.angle);for(let vr=kn.length-1;vr>=0;--vr){const di=kn[vr];qr(w.symbolInstances.get(di),w.collisionArrays[di])}}else for(let kn=u.symbolInstanceStart;kn<u.symbolInstanceEnd;kn++)qr(w.symbolInstances.get(kn),w.collisionArrays[kn]);if(C&&w.bucketInstanceId in this.collisionCircleArrays){const kn=this.collisionCircleArrays[w.bucketInstanceId];s.ar(kn.invProjMatrix,R),kn.viewportMatrix=this.collisionIndex.getViewportMatrix()}w.justReloaded=!1}markUsedJustification(u,p,C,w){let I;I=w===s.ah.vertical?C.verticalPlacedTextSymbolIndex:{left:C.leftJustifiedTextSymbolIndex,center:C.centerJustifiedTextSymbolIndex,right:C.rightJustifiedTextSymbolIndex}[s.as(p)];const R=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex,C.verticalPlacedTextSymbolIndex];for(const j of R)j>=0&&(u.text.placedSymbolArray.get(j).crossTileID=I>=0&&j!==I?0:C.crossTileID)}markUsedOrientation(u,p,C){const w=p===s.ah.horizontal||p===s.ah.horizontalOnly?p:0,I=p===s.ah.vertical?p:0,R=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex];for(const j of R)u.text.placedSymbolArray.get(j).placedOrientation=w;C.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(C.verticalPlacedTextSymbolIndex).placedOrientation=I)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let C=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const w=p?p.symbolFadeChange(u):1,I=p?p.opacities:{},R=p?p.variableOffsets:{},j=p?p.placedOrientations:{};for(const Q in this.placements){const ie=this.placements[Q],de=I[Q];de?(this.opacities[Q]=new Or(de,w,ie.text,ie.icon),C=C||ie.text!==de.text.placed||ie.icon!==de.icon.placed):(this.opacities[Q]=new Or(null,w,ie.text,ie.icon,ie.skipFade),C=C||ie.text||ie.icon)}for(const Q in I){const ie=I[Q];if(!this.opacities[Q]){const de=new Or(ie,w,!1,!1);de.isHidden()||(this.opacities[Q]=de,C=C||ie.text.placed||ie.icon.placed)}}for(const Q in R)this.variableOffsets[Q]||!this.opacities[Q]||this.opacities[Q].isHidden()||(this.variableOffsets[Q]=R[Q]);for(const Q in j)this.placedOrientations[Q]||!this.opacities[Q]||this.opacities[Q].isHidden()||(this.placedOrientations[Q]=j[Q]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");C?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:u)}updateLayerOpacities(u,p){const C={};for(const w of p){const I=w.getBucket(u);I&&w.latestFeatureIndex&&u.id===I.layerIds[0]&&this.updateBucketOpacities(I,C,w.collisionBoxArray)}}updateBucketOpacities(u,p,C){u.hasTextData()&&(u.text.opacityVertexArray.clear(),u.text.hasVisibleVertices=!1),u.hasIconData()&&(u.icon.opacityVertexArray.clear(),u.icon.hasVisibleVertices=!1),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const w=u.layers[0],I=w.layout,R=new Or(null,0,!1,!1,!0),j=I.get("text-allow-overlap"),Q=I.get("icon-allow-overlap"),ie=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),de=I.get("text-rotation-alignment")==="map",fe=I.get("text-pitch-alignment")==="map",Oe=I.get("icon-text-fit")!=="none",Ye=new Or(null,0,j&&(Q||!u.hasIconData()||I.get("icon-optional")),Q&&(j||!u.hasTextData()||I.get("text-optional")),!0);!u.collisionArrays&&C&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(C);const $e=(He,We,ht)=>{for(let Ft=0;Ft<We/4;Ft++)He.opacityVertexArray.emplaceBack(ht);He.hasVisibleVertices=He.hasVisibleVertices||ht!==Ui};for(let He=0;He<u.symbolInstances.length;He++){const We=u.symbolInstances.get(He),{numHorizontalGlyphVertices:ht,numVerticalGlyphVertices:Ft,crossTileID:tt}=We;let bt=this.opacities[tt];p[tt]?bt=R:bt||(bt=Ye,this.opacities[tt]=bt),p[tt]=!0;const Pt=We.numIconVertices>0,Ut=this.placedOrientations[We.crossTileID],Zt=Ut===s.ah.vertical,dn=Ut===s.ah.horizontal||Ut===s.ah.horizontalOnly;if(ht>0||Ft>0){const un=_o(bt.text);$e(u.text,ht,Zt?Ui:un),$e(u.text,Ft,dn?Ui:un);const pn=bt.text.isHidden();[We.rightJustifiedTextSymbolIndex,We.centerJustifiedTextSymbolIndex,We.leftJustifiedTextSymbolIndex].forEach(kn=>{kn>=0&&(u.text.placedSymbolArray.get(kn).hidden=pn||Zt?1:0)}),We.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(We.verticalPlacedTextSymbolIndex).hidden=pn||dn?1:0);const $n=this.variableOffsets[We.crossTileID];$n&&this.markUsedJustification(u,$n.anchor,We,Ut);const qr=this.placedOrientations[We.crossTileID];qr&&(this.markUsedJustification(u,"left",We,qr),this.markUsedOrientation(u,qr,We))}if(Pt){const un=_o(bt.icon),pn=!(Oe&&We.verticalPlacedIconSymbolIndex&&Zt);We.placedIconSymbolIndex>=0&&($e(u.icon,We.numIconVertices,pn?un:Ui),u.icon.placedSymbolArray.get(We.placedIconSymbolIndex).hidden=bt.icon.isHidden()),We.verticalPlacedIconSymbolIndex>=0&&($e(u.icon,We.numVerticalIconVertices,pn?Ui:un),u.icon.placedSymbolArray.get(We.verticalPlacedIconSymbolIndex).hidden=bt.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const un=u.collisionArrays[He];if(un){let pn=new s.P(0,0);if(un.textBox||un.verticalTextBox){let qr=!0;if(ie){const kn=this.variableOffsets[tt];kn?(pn=to(kn.anchor,kn.width,kn.height,kn.textOffset,kn.textBoxScale),de&&pn._rotate(fe?this.transform.angle:-this.transform.angle)):qr=!1}un.textBox&&fo(u.textCollisionBox.collisionVertexArray,bt.text.placed,!qr||Zt,pn.x,pn.y),un.verticalTextBox&&fo(u.textCollisionBox.collisionVertexArray,bt.text.placed,!qr||dn,pn.x,pn.y)}const $n=!!(!dn&&un.verticalIconBox);un.iconBox&&fo(u.iconCollisionBox.collisionVertexArray,bt.icon.placed,$n,Oe?pn.x:0,Oe?pn.y:0),un.verticalIconBox&&fo(u.iconCollisionBox.collisionVertexArray,bt.icon.placed,!$n,Oe?pn.x:0,Oe?pn.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const He=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=He.invProjMatrix,u.placementViewportMatrix=He.viewportMatrix,u.collisionCircleArray=He.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,p){const C=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*C>u}setStale(){this.stale=!0}}function fo(O,u,p,C,w){O.emplaceBack(u?1:0,p?1:0,C||0,w||0),O.emplaceBack(u?1:0,p?1:0,C||0,w||0),O.emplaceBack(u?1:0,p?1:0,C||0,w||0),O.emplaceBack(u?1:0,p?1:0,C||0,w||0)}const ja=Math.pow(2,25),Ba=Math.pow(2,24),Mi=Math.pow(2,17),is=Math.pow(2,16),gi=Math.pow(2,9),Wn=Math.pow(2,8),ro=Math.pow(2,1);function _o(O){if(O.opacity===0&&!O.placed)return 0;if(O.opacity===1&&O.placed)return 4294967295;const u=O.placed?1:0,p=Math.floor(127*O.opacity);return p*ja+u*Ba+p*Mi+u*is+p*gi+u*Wn+p*ro+u}const Ui=0;class ve{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,p,C,w,I){const R=this._bucketParts;for(;this._currentTileIndex<u.length;)if(p.getBucketParts(R,w,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,I())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((j,Q)=>j.sortKey-Q.sortKey));this._currentPartIndex<R.length;)if(p.placeLayerBucketPart(R[this._currentPartIndex],this._seenCrossTileIDs,C),this._currentPartIndex++,I())return!0;return!1}}class Je{constructor(u,p,C,w,I,R,j,Q){this.placement=new ai(u,p,R,j,Q),this._currentPlacementIndex=C.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(u,p,C){const w=B.now(),I=()=>!this._forceFullPlacement&&B.now()-w>2;for(;this._currentPlacementIndex>=0;){const R=p[u[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=j)&&(!R.maxzoom||R.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new ve(R)),this._inProgressLayer.continuePlacement(C[R.source],this.placement,this._showCollisionBoxes,R,I))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const Vt=512/s.W/2;class sn{constructor(u,p,C){this.tileID=u,this.bucketInstanceId=C,this._symbolsByKey={};const w=new Map;for(let I=0;I<p.length;I++){const R=p.get(I),j=R.key,Q=w.get(j);Q?Q.push(R):w.set(j,[R])}for(const[I,R]of w){const j={positions:R.map(Q=>({x:Math.floor(Q.anchorX*Vt),y:Math.floor(Q.anchorY*Vt)})),crossTileIDs:R.map(Q=>Q.crossTileID)};if(j.positions.length>128){const Q=new s.au(j.positions.length,16,Uint16Array);for(const{x:ie,y:de}of j.positions)Q.add(ie,de);Q.finish(),delete j.positions,j.index=Q}this._symbolsByKey[I]=j}}getScaledCoordinates(u,p){const{x:C,y:w,z:I}=this.tileID.canonical,{x:R,y:j,z:Q}=p.canonical,ie=Vt/Math.pow(2,Q-I),de=(j*s.W+u.anchorY)*ie,fe=w*s.W*Vt;return{x:Math.floor((R*s.W+u.anchorX)*ie-C*s.W*Vt),y:Math.floor(de-fe)}}findMatches(u,p,C){const w=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let I=0;I<u.length;I++){const R=u.get(I);if(R.crossTileID)continue;const j=this._symbolsByKey[R.key];if(!j)continue;const Q=this.getScaledCoordinates(R,p);if(j.index){const ie=j.index.range(Q.x-w,Q.y-w,Q.x+w,Q.y+w).sort();for(const de of ie){const fe=j.crossTileIDs[de];if(!C[fe]){C[fe]=!0,R.crossTileID=fe;break}}}else if(j.positions)for(let ie=0;ie<j.positions.length;ie++){const de=j.positions[ie],fe=j.crossTileIDs[ie];if(Math.abs(de.x-Q.x)<=w&&Math.abs(de.y-Q.y)<=w&&!C[fe]){C[fe]=!0,R.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:u})=>u)}}class Lt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class wn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const p=Math.round((u-this.lng)/360);if(p!==0)for(const C in this.indexes){const w=this.indexes[C],I={};for(const R in w){const j=w[R];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+p),I[j.tileID.key]=j}this.indexes[C]=I}this.lng=u}addBucket(u,p,C){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let I=0;I<p.symbolInstances.length;I++)p.symbolInstances.get(I).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const w=this.usedCrossTileIDs[u.overscaledZ];for(const I in this.indexes){const R=this.indexes[I];if(Number(I)>u.overscaledZ)for(const j in R){const Q=R[j];Q.tileID.isChildOf(u)&&Q.findMatches(p.symbolInstances,u,w)}else{const j=R[u.scaledTo(Number(I)).key];j&&j.findMatches(p.symbolInstances,u,w)}}for(let I=0;I<p.symbolInstances.length;I++){const R=p.symbolInstances.get(I);R.crossTileID||(R.crossTileID=C.generate(),w[R.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new sn(u,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(u,p){for(const C of p.getCrossTileIDsLists())for(const w of C)delete this.usedCrossTileIDs[u][w]}removeStaleBuckets(u){let p=!1;for(const C in this.indexes){const w=this.indexes[C];for(const I in w)u[w[I].bucketInstanceId]||(this.removeBucketCrossTileIDs(C,w[I]),delete w[I],p=!0)}return p}}class dr{constructor(){this.layerIndexes={},this.crossTileIDs=new Lt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,p,C){let w=this.layerIndexes[u.id];w===void 0&&(w=this.layerIndexes[u.id]=new wn);let I=!1;const R={};w.handleWrapJump(C);for(const j of p){const Q=j.getBucket(u);Q&&u.id===Q.layerIds[0]&&(Q.bucketInstanceId||(Q.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(j.tileID,Q,this.crossTileIDs)&&(I=!0),R[Q.bucketInstanceId]=!0)}return w.removeStaleBuckets(R)&&(I=!0),I}pruneUnusedLayers(u){const p={};u.forEach(C=>{p[C]=!0});for(const C in this.layerIndexes)p[C]||delete this.layerIndexes[C]}}const ri=(O,u)=>s.t(O,u&&u.filter(p=>p.identifier!=="source.canvas")),si=s.av();class Xo extends s.E{constructor(u,p={}){super(),this._rtlPluginLoaded=()=>{for(const C in this.sourceCaches){const w=this.sourceCaches[C].getSource().type;w!=="vector"&&w!=="geojson"||this.sourceCaches[C].reload()}},this.map=u,this.dispatcher=new pe(Ie(),u._getMapId()),this.dispatcher.registerMessageHandler("getGlyphs",(C,w)=>this.getGlyphs(C,w)),this.dispatcher.registerMessageHandler("getImages",(C,w)=>this.getImages(C,w)),this.imageManager=new qe,this.imageManager.setEventedParent(this),this.glyphManager=new dt(u._requestManager,p.localIdeographFontFamily),this.lineAtlas=new Xe(256,512),this.crossTileSymbolIndex=new dr,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.aw,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.ax()),Te().on(Ee,this._rtlPluginLoaded),this.on("data",C=>{if(C.dataType!=="source"||C.sourceDataType!=="metadata")return;const w=this.sourceCaches[C.sourceId];if(!w)return;const I=w.getSource();if(I&&I.vectorLayerIds)for(const R in this._layers){const j=this._layers[R];j.source===I.id&&this._validateLayer(j)}})}loadURL(u,p={},C){this.fire(new s.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const w=this.map._requestManager.transformRequest(u,ue.Style);this._loadStyleRequest=new AbortController,s.h(w,this._loadStyleRequest).then(I=>{this._loadStyleRequest=null,this._load(I.data,p,C)}).catch(I=>{this._loadStyleRequest=null,I&&this.fire(new s.j(I))})}loadJSON(u,p={},C){this.fire(new s.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,B.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(u,p,C)}).catch(()=>{})}loadEmpty(){this.fire(new s.k("dataloading",{dataType:"style"})),this._load(si,{validate:!1})}_load(u,p,C){var w;const I=p.transformStyle?p.transformStyle(C,u):u;if(!p.validate||!ri(this,s.x(I))){this._loaded=!0,this.stylesheet=I;for(const R in I.sources)this.addSource(R,I.sources[R],{validate:!1});I.sprite?this._loadSprite(I.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(I.glyphs),this._createLayers(),this.light=new Ve(this.stylesheet.light),this.map.setTerrain((w=this.stylesheet.terrain)!==null&&w!==void 0?w:null),this.fire(new s.k("data",{dataType:"style"})),this.fire(new s.k("style.load"))}}_createLayers(){const u=s.ay(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",u),this._order=u.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of u){const C=s.az(p);C.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=C}}_loadSprite(u,p=!1,C=void 0){let w;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(I,R,j,Q){return s._(this,void 0,void 0,function*(){const ie=De(I),de=j>1?"@2x":"",fe={},Oe={};for(const{id:Ye,url:$e}of ie){const He=R.transformRequest(R.normalizeSpriteURL($e,de,".json"),ue.SpriteJSON);fe[Ye]=s.h(He,Q);const We=R.transformRequest(R.normalizeSpriteURL($e,de,".png"),ue.SpriteImage);Oe[Ye]=Z.getImage(We,Q)}return yield Promise.all([...Object.values(fe),...Object.values(Oe)]),function(Ye,$e){return s._(this,void 0,void 0,function*(){const He={};for(const We in Ye){He[We]={};const ht=B.getImageCanvasContext((yield $e[We]).data),Ft=(yield Ye[We]).data;for(const tt in Ft){const{width:bt,height:Pt,x:Ut,y:Zt,sdf:dn,pixelRatio:un,stretchX:pn,stretchY:$n,content:qr}=Ft[tt];He[We][tt]={data:null,pixelRatio:un,sdf:dn,stretchX:pn,stretchY:$n,content:qr,spriteData:{width:bt,height:Pt,x:Ut,y:Zt,context:ht}}}}return He})}(fe,Oe)})}(u,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(I=>{if(this._spriteRequest=null,I)for(const R in I){this._spritesImagesIds[R]=[];const j=this._spritesImagesIds[R]?this._spritesImagesIds[R].filter(Q=>!(Q in I)):[];for(const Q of j)this.imageManager.removeImage(Q),this._changedImages[Q]=!0;for(const Q in I[R]){const ie=R==="default"?Q:`${R}:${Q}`;this._spritesImagesIds[R].push(ie),ie in this.imageManager.images?this.imageManager.updateImage(ie,I[R][Q],!1):this.imageManager.addImage(ie,I[R][Q]),p&&(this._changedImages[ie]=!0)}}}).catch(I=>{this._spriteRequest=null,w=I,this.fire(new s.j(w))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"})),C&&C(w)})}_unloadSprite(){for(const u of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(u),this._changedImages[u]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}_validateLayer(u){const p=this.sourceCaches[u.source];if(!p)return;const C=u.sourceLayer;if(!C)return;const w=p.getSource();(w.type==="geojson"||w.vectorLayerIds&&w.vectorLayerIds.indexOf(C)===-1)&&this.fire(new s.j(new Error(`Source layer "${C}" does not exist on source "${w.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(u){const p=this._serializedAllLayers();if(!u||u.length===0)return Object.values(p);const C=[];for(const w of u)p[w]&&C.push(p[w]);return C}_serializedAllLayers(){let u=this._serializedLayers;if(u)return u;u=this._serializedLayers={};const p=Object.keys(this._layers);for(const C of p){const w=this._layers[C];w.type!=="custom"&&(u[C]=w.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const p=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),I=Object.keys(this._removedLayers);(w.length||I.length)&&this._updateWorkerLayers(w,I);for(const R in this._updatedSources){const j=this._updatedSources[R];if(j==="reload")this._reloadSource(R);else{if(j!=="clear")throw new Error(`Invalid action ${j}`);this._clearSource(R)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const R in this._updatedPaintProps)this._layers[R].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const C={};for(const w in this.sourceCaches){const I=this.sourceCaches[w];C[w]=I.used,I.used=!1}for(const w of this._order){const I=this._layers[w];I.recalculate(u,this._availableImages),!I.isHidden(u.zoom)&&I.source&&(this.sourceCaches[I.source].used=!0)}for(const w in C){const I=this.sourceCaches[w];C[w]!==I.used&&I.fire(new s.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:w}))}this.light.recalculate(u),this.z=u.zoom,p&&this.fire(new s.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(u,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(u),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(u,p={}){var C;this._checkLoaded();const w=this.serialize();if(u=p.transformStyle?p.transformStyle(w,u):u,((C=p.validate)===null||C===void 0||C)&&ri(this,s.x(u)))return!1;(u=s.aA(u)).layers=s.ay(u.layers);const I=s.aB(w,u),R=this._getOperationsToPerform(I);if(R.unimplemented.length>0)throw new Error(`Unimplemented: ${R.unimplemented.join(", ")}.`);if(R.operations.length===0)return!1;for(const j of R.operations)j();return this.stylesheet=u,this._serializedLayers=null,!0}_getOperationsToPerform(u){const p=[],C=[];for(const w of u)switch(w.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,w.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,w.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,w.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,w.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,w.args));break;case"addSource":p.push(()=>this.addSource.apply(this,w.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,w.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,w.args));break;case"setLight":p.push(()=>this.setLight.apply(this,w.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,w.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,w.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,w.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,w.args));break;case"setTransition":p.push(()=>{});break;default:C.push(w.command)}return{operations:p,unimplemented:C}}addImage(u,p){if(this.getImage(u))return this.fire(new s.j(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,p),this._afterImageUpdated(u)}updateImage(u,p){this.imageManager.updateImage(u,p)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new s.j(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,p,C={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.x.source,`sources.${u}`,p,null,C))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const w=this.sourceCaches[u]=new Dt(u,p,this.dispatcher);w.style=this,w.setEventedParent(this,()=>({isSourceLoaded:w.loaded(),source:w.serialize(),sourceId:u})),w.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const C in this._layers)if(this._layers[C].source===u)return this.fire(new s.j(new Error(`Source "${u}" cannot be removed while layer "${C}" is using it.`)));const p=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],p.fire(new s.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,p){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const C=this.sourceCaches[u].getSource();if(C.type!=="geojson")throw new Error(`geojsonSource.type is ${C.type}, which is !== 'geojson`);C.setData(p),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,p,C={}){this._checkLoaded();const w=u.id;if(this.getLayer(w))return void this.fire(new s.j(new Error(`Layer "${w}" already exists on this map.`)));let I;if(u.type==="custom"){if(ri(this,s.aC(u)))return;I=s.az(u)}else{if("source"in u&&typeof u.source=="object"&&(this.addSource(w,u.source),u=s.aA(u),u=s.e(u,{source:w})),this._validate(s.x.layer,`layers.${w}`,u,{arrayIndex:-1},C))return;I=s.az(u),this._validateLayer(I),I.setEventedParent(this,{layer:{id:w}})}const R=p?this._order.indexOf(p):this._order.length;if(p&&R===-1)this.fire(new s.j(new Error(`Cannot add layer "${w}" before non-existing layer "${p}".`)));else{if(this._order.splice(R,0,w),this._layerOrderChanged=!0,this._layers[w]=I,this._removedLayers[w]&&I.source&&I.type!=="custom"){const j=this._removedLayers[w];delete this._removedLayers[w],j.type!==I.type?this._updatedSources[I.source]="clear":(this._updatedSources[I.source]="reload",this.sourceCaches[I.source].pause())}this._updateLayer(I),I.onAdd&&I.onAdd(this.map)}}moveLayer(u,p){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new s.j(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===p)return;const C=this._order.indexOf(u);this._order.splice(C,1);const w=p?this._order.indexOf(p):this._order.length;p&&w===-1?this.fire(new s.j(new Error(`Cannot move layer "${u}" before non-existing layer "${p}".`))):(this._order.splice(w,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const p=this._layers[u];if(!p)return void this.fire(new s.j(new Error(`Cannot remove non-existing layer "${u}".`)));p.setEventedParent(null);const C=this._order.indexOf(u);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=p,delete this._layers[u],this._serializedLayers&&delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],p.onRemove&&p.onRemove(this.map)}getLayer(u){return this._layers[u]}getLayersOrder(){return[...this._order]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,p,C){this._checkLoaded();const w=this.getLayer(u);w?w.minzoom===p&&w.maxzoom===C||(p!=null&&(w.minzoom=p),C!=null&&(w.maxzoom=C),this._updateLayer(w)):this.fire(new s.j(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,p,C={}){this._checkLoaded();const w=this.getLayer(u);if(w){if(!s.aD(w.filter,p))return p==null?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(s.x.filter,`layers.${w.id}.filter`,p,null,C)||(w.filter=s.aA(p),this._updateLayer(w)))}else this.fire(new s.j(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return s.aA(this.getLayer(u).filter)}setLayoutProperty(u,p,C,w={}){this._checkLoaded();const I=this.getLayer(u);I?s.aD(I.getLayoutProperty(p),C)||(I.setLayoutProperty(p,C,w),this._updateLayer(I)):this.fire(new s.j(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,p){const C=this.getLayer(u);if(C)return C.getLayoutProperty(p);this.fire(new s.j(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,p,C,w={}){this._checkLoaded();const I=this.getLayer(u);I?s.aD(I.getPaintProperty(p),C)||(I.setPaintProperty(p,C,w)&&this._updateLayer(I),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new s.j(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,p){return this.getLayer(u).getPaintProperty(p)}setFeatureState(u,p){this._checkLoaded();const C=u.source,w=u.sourceLayer,I=this.sourceCaches[C];if(I===void 0)return void this.fire(new s.j(new Error(`The source '${C}' does not exist in the map's style.`)));const R=I.getSource().type;R==="geojson"&&w?this.fire(new s.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):R!=="vector"||w?(u.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),I.setFeatureState(w,u.id,p)):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,p){this._checkLoaded();const C=u.source,w=this.sourceCaches[C];if(w===void 0)return void this.fire(new s.j(new Error(`The source '${C}' does not exist in the map's style.`)));const I=w.getSource().type,R=I==="vector"?u.sourceLayer:void 0;I!=="vector"||R?p&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new s.j(new Error("A feature id is required to remove its specific state property."))):w.removeFeatureState(R,u.id,p):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const p=u.source,C=u.sourceLayer,w=this.sourceCaches[p];if(w!==void 0)return w.getSource().type!=="vector"||C?(u.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),w.getFeatureState(C,u.id)):void this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const u=s.aE(this.sourceCaches,I=>I.serialize()),p=this._serializeByIds(this._order),C=this.map.getTerrain()||void 0,w=this.stylesheet;return s.aF({version:w.version,name:w.name,metadata:w.metadata,light:w.light,center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch,sprite:w.sprite,glyphs:w.glyphs,transition:w.transition,sources:u,layers:p,terrain:C},I=>I!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(u){const p=R=>this._layers[R].type==="fill-extrusion",C={},w=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j)){C[j]=R;for(const Q of u){const ie=Q[j];if(ie)for(const de of ie)w.push(de)}}}w.sort((R,j)=>j.intersectionZ-R.intersectionZ);const I=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j))for(let Q=w.length-1;Q>=0;Q--){const ie=w[Q].feature;if(C[ie.layer.id]<R)break;I.push(ie),w.pop()}else for(const Q of u){const ie=Q[j];if(ie)for(const de of ie)I.push(de.feature)}}return I}queryRenderedFeatures(u,p,C){p&&p.filter&&this._validate(s.x.filter,"queryRenderedFeatures.filter",p.filter,null,p);const w={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.j(new Error("parameters.layers must be an Array."))),[];for(const j of p.layers){const Q=this._layers[j];if(!Q)return this.fire(new s.j(new Error(`The layer '${j}' does not exist in the map's style and cannot be queried for features.`))),[];w[Q.source]=!0}}const I=[];p.availableImages=this._availableImages;const R=this._serializedAllLayers();for(const j in this.sourceCaches)p.layers&&!w[j]||I.push(it(this.sourceCaches[j],this._layers,R,u,p,C));return this.placement&&I.push(function(j,Q,ie,de,fe,Oe,Ye){const $e={},He=Oe.queryRenderedSymbols(de),We=[];for(const ht of Object.keys(He).map(Number))We.push(Ye[ht]);We.sort(ot);for(const ht of We){const Ft=ht.featureIndex.lookupSymbolFeatures(He[ht.bucketInstanceId],Q,ht.bucketIndex,ht.sourceLayerIndex,fe.filter,fe.layers,fe.availableImages,j);for(const tt in Ft){const bt=$e[tt]=$e[tt]||[],Pt=Ft[tt];Pt.sort((Ut,Zt)=>{const dn=ht.featureSortOrder;if(dn){const un=dn.indexOf(Ut.featureIndex);return dn.indexOf(Zt.featureIndex)-un}return Zt.featureIndex-Ut.featureIndex});for(const Ut of Pt)bt.push(Ut)}}for(const ht in $e)$e[ht].forEach(Ft=>{const tt=Ft.feature,bt=ie[j[ht].source].getFeatureState(tt.layer["source-layer"],tt.id);tt.source=tt.layer.source,tt.layer["source-layer"]&&(tt.sourceLayer=tt.layer["source-layer"]),tt.state=bt});return $e}(this._layers,R,this.sourceCaches,u,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(I)}querySourceFeatures(u,p){p&&p.filter&&this._validate(s.x.filter,"querySourceFeatures.filter",p.filter,null,p);const C=this.sourceCaches[u];return C?function(w,I){const R=w.getRenderableIds().map(ie=>w.getTileByID(ie)),j=[],Q={};for(let ie=0;ie<R.length;ie++){const de=R[ie],fe=de.tileID.canonical.key;Q[fe]||(Q[fe]=!0,de.querySourceFeatures(j,I))}return j}(C,p):[]}getLight(){return this.light.getLight()}setLight(u,p={}){this._checkLoaded();const C=this.light.getLight();let w=!1;for(const R in u)if(!s.aD(u[R],C[R])){w=!0;break}if(!w)return;const I={now:B.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,p),this.light.updateTransitions(I)}_validate(u,p,C,w,I={}){return(!I||I.validate!==!1)&&ri(this,u.call(s.x,s.e({key:p,style:this.serialize(),value:C,styleSpec:s.v},w)))}_remove(u=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Te().off(Ee,this._rtlPluginLoaded);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const C=this.sourceCaches[p];C.setEventedParent(null),C.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),u&&this.dispatcher.broadcast("removeMap",void 0),this.dispatcher.remove(u)}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const p in this.sourceCaches)this.sourceCaches[p].update(u,this.map.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,p,C,w,I=!1){let R=!1,j=!1;const Q={};for(const ie of this._order){const de=this._layers[ie];if(de.type!=="symbol")continue;if(!Q[de.source]){const Oe=this.sourceCaches[de.source];Q[de.source]=Oe.getRenderableIds(!0).map(Ye=>Oe.getTileByID(Ye)).sort((Ye,$e)=>$e.tileID.overscaledZ-Ye.tileID.overscaledZ||(Ye.tileID.isLessThan($e.tileID)?-1:1))}const fe=this.crossTileSymbolIndex.addLayer(de,Q[de.source],u.center.lng);R=R||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((I=I||this._layerOrderChanged||C===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(B.now(),u.zoom))&&(this.pauseablePlacement=new Je(u,this.map.terrain,this._order,I,p,C,w,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Q),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(B.now()),j=!0),R&&this.pauseablePlacement.placement.setStale()),j||R)for(const ie of this._order){const de=this._layers[ie];de.type==="symbol"&&this.placement.updateLayerOpacities(de,Q[de.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(B.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,p){return s._(this,void 0,void 0,function*(){const C=yield this.imageManager.getImages(p.icons);this._updateTilesForChangedImages();const w=this.sourceCaches[p.source];return w&&w.setDependencies(p.tileID.key,p.type,p.icons),C})}getGlyphs(u,p){return s._(this,void 0,void 0,function*(){const C=yield this.glyphManager.getGlyphs(p.stacks),w=this.sourceCaches[p.source];return w&&w.setDependencies(p.tileID.key,p.type,[""]),C})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(u,p={}){this._checkLoaded(),u&&this._validate(s.x.glyphs,"glyphs",u,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=u,this.glyphManager.entries={},this.glyphManager.setURL(u))}addSprite(u,p,C={},w){this._checkLoaded();const I=[{id:u,url:p}],R=[...De(this.stylesheet.sprite),...I];this._validate(s.x.sprite,"sprite",R,null,C)||(this.stylesheet.sprite=R,this._loadSprite(I,!0,w))}removeSprite(u){this._checkLoaded();const p=De(this.stylesheet.sprite);if(p.find(C=>C.id===u)){if(this._spritesImagesIds[u])for(const C of this._spritesImagesIds[u])this.imageManager.removeImage(C),this._changedImages[C]=!0;p.splice(p.findIndex(C=>C.id===u),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[u],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}else this.fire(new s.j(new Error(`Sprite "${u}" doesn't exists on this map.`)))}getSprite(){return De(this.stylesheet.sprite)}setSprite(u,p={},C){this._checkLoaded(),u&&this._validate(s.x.sprite,"sprite",u,null,p)||(this.stylesheet.sprite=u,u?this._loadSprite(u,!0,C):(this._unloadSprite(),C&&C(null)))}}var Ta=s.X([{name:"a_pos",type:"Int16",components:2}]),Fr="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Wa={prelude:yi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:yi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:yi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:yi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:yi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:yi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:yi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:yi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:yi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:yi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:yi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:yi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:yi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:yi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:yi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:yi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:yi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:yi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:yi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:yi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:yi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:yi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Fr),terrainDepth:yi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Fr),terrainCoords:yi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Fr)};function yi(O,u){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=u.match(/attribute ([\w]+) ([\w]+)/g),w=O.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),I=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),R=I?I.concat(w):w,j={};return{fragmentSource:O=O.replace(p,(Q,ie,de,fe,Oe)=>(j[Oe]=!0,ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
varying ${de} ${fe} ${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`)),vertexSource:u=u.replace(p,(Q,ie,de,fe,Oe)=>{const Ye=fe==="float"?"vec2":"vec4",$e=Oe.match(/color/)?"color":Ye;return j[Oe]?ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
uniform lowp float u_${Oe}_t;
attribute ${de} ${Ye} a_${Oe};
varying ${de} ${fe} ${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Oe}
    ${Oe} = a_${Oe};
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Oe}
    ${Oe} = unpack_mix_${$e}(a_${Oe}, u_${Oe}_t);
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
uniform lowp float u_${Oe}_t;
attribute ${de} ${Ye} a_${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:$e==="vec4"?`
#ifndef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = a_${Oe};
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = unpack_mix_${$e}(a_${Oe}, u_${Oe}_t);
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`}),staticAttributes:C,staticUniforms:R}}class Na{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,p,C,w,I,R,j,Q,ie){this.context=u;let de=this.boundPaintVertexBuffers.length!==w.length;for(let fe=0;!de&&fe<w.length;fe++)this.boundPaintVertexBuffers[fe]!==w[fe]&&(de=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==C||de||this.boundIndexBuffer!==I||this.boundVertexOffset!==R||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==Q||this.boundDynamicVertexBuffer3!==ie?this.freshBind(p,C,w,I,R,j,Q,ie):(u.bindVertexArray.set(this.vao),j&&j.bind(),I&&I.dynamicDraw&&I.bind(),Q&&Q.bind(),ie&&ie.bind())}freshBind(u,p,C,w,I,R,j,Q){const ie=u.numAttributes,de=this.context,fe=de.gl;this.vao&&this.destroy(),this.vao=de.createVertexArray(),de.bindVertexArray.set(this.vao),this.boundProgram=u,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=C,this.boundIndexBuffer=w,this.boundVertexOffset=I,this.boundDynamicVertexBuffer=R,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=Q,p.enableAttributes(fe,u);for(const Oe of C)Oe.enableAttributes(fe,u);R&&R.enableAttributes(fe,u),j&&j.enableAttributes(fe,u),Q&&Q.enableAttributes(fe,u),p.bind(),p.setVertexAttribPointers(fe,u,I);for(const Oe of C)Oe.bind(),Oe.setVertexAttribPointers(fe,u,I);R&&(R.bind(),R.setVertexAttribPointers(fe,u,I)),w&&w.bind(),j&&(j.bind(),j.setVertexAttribPointers(fe,u,I)),Q&&(Q.bind(),Q.setVertexAttribPointers(fe,u,I)),de.currentNumAttributes=ie}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Jo(O){const u=[];for(let p=0;p<O.length;p++){if(O[p]===null)continue;const C=O[p].split(" ");u.push(C.pop())}return u}class Cu{constructor(u,p,C,w,I,R){const j=u.gl;this.program=j.createProgram();const Q=Jo(p.staticAttributes),ie=C?C.getBinderAttributes():[],de=Q.concat(ie),fe=Wa.prelude.staticUniforms?Jo(Wa.prelude.staticUniforms):[],Oe=p.staticUniforms?Jo(p.staticUniforms):[],Ye=C?C.getBinderUniforms():[],$e=fe.concat(Oe).concat(Ye),He=[];for(const Ut of $e)He.indexOf(Ut)<0&&He.push(Ut);const We=C?C.defines():[];I&&We.push("#define OVERDRAW_INSPECTOR;"),R&&We.push("#define TERRAIN3D;");const ht=We.concat(Wa.prelude.fragmentSource,p.fragmentSource).join(`
`),Ft=We.concat(Wa.prelude.vertexSource,p.vertexSource).join(`
`),tt=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(tt,ht),j.compileShader(tt),!j.getShaderParameter(tt,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(tt)}`);j.attachShader(this.program,tt);const bt=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(bt,Ft),j.compileShader(bt),!j.getShaderParameter(bt,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(bt)}`);j.attachShader(this.program,bt),this.attributes={};const Pt={};this.numAttributes=de.length;for(let Ut=0;Ut<this.numAttributes;Ut++)de[Ut]&&(j.bindAttribLocation(this.program,Ut,de[Ut]),this.attributes[de[Ut]]=Ut);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(bt),j.deleteShader(tt);for(let Ut=0;Ut<He.length;Ut++){const Zt=He[Ut];if(Zt&&!Pt[Zt]){const dn=j.getUniformLocation(this.program,Zt);dn&&(Pt[Zt]=dn)}}this.fixedUniforms=w(u,Pt),this.terrainUniforms=((Ut,Zt)=>({u_depth:new s.aG(Ut,Zt.u_depth),u_terrain:new s.aG(Ut,Zt.u_terrain),u_terrain_dim:new s.aH(Ut,Zt.u_terrain_dim),u_terrain_matrix:new s.aI(Ut,Zt.u_terrain_matrix),u_terrain_unpack:new s.aJ(Ut,Zt.u_terrain_unpack),u_terrain_exaggeration:new s.aH(Ut,Zt.u_terrain_exaggeration)}))(u,Pt),this.binderUniforms=C?C.getUniforms(u,Pt):[]}draw(u,p,C,w,I,R,j,Q,ie,de,fe,Oe,Ye,$e,He,We,ht,Ft){const tt=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(C),u.setStencilMode(w),u.setColorMode(I),u.setCullFace(R),Q){u.activeTexture.set(tt.TEXTURE2),tt.bindTexture(tt.TEXTURE_2D,Q.depthTexture),u.activeTexture.set(tt.TEXTURE3),tt.bindTexture(tt.TEXTURE_2D,Q.texture);for(const Pt in this.terrainUniforms)this.terrainUniforms[Pt].set(Q[Pt])}for(const Pt in this.fixedUniforms)this.fixedUniforms[Pt].set(j[Pt]);He&&He.setUniforms(u,this.binderUniforms,Ye,{zoom:$e});let bt=0;switch(p){case tt.LINES:bt=2;break;case tt.TRIANGLES:bt=3;break;case tt.LINE_STRIP:bt=1}for(const Pt of Oe.get()){const Ut=Pt.vaos||(Pt.vaos={});(Ut[ie]||(Ut[ie]=new Na)).bind(u,this,de,He?He.getPaintVertexBuffers():[],fe,Pt.vertexOffset,We,ht,Ft),tt.drawElements(p,Pt.primitiveLength*bt,tt.UNSIGNED_SHORT,Pt.primitiveOffset*bt*2)}}}function os(O,u,p){const C=1/lr(p,1,u.transform.tileZoom),w=Math.pow(2,p.tileID.overscaledZ),I=p.tileSize*Math.pow(2,u.transform.tileZoom)/w,R=I*(p.tileID.canonical.x+p.tileID.wrap*w),j=I*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[C,O.fromScale,O.toScale],u_fade:O.t,u_pixel_coord_upper:[R>>16,j>>16],u_pixel_coord_lower:[65535&R,65535&j]}}const ea=(O,u,p,C)=>{const w=u.style.light,I=w.properties.get("position"),R=[I.x,I.y,I.z],j=function(){var ie=new s.A(9);return s.A!=Float32Array&&(ie[1]=0,ie[2]=0,ie[3]=0,ie[5]=0,ie[6]=0,ie[7]=0),ie[0]=1,ie[4]=1,ie[8]=1,ie}();w.properties.get("anchor")==="viewport"&&function(ie,de){var fe=Math.sin(de),Oe=Math.cos(de);ie[0]=Oe,ie[1]=fe,ie[2]=0,ie[3]=-fe,ie[4]=Oe,ie[5]=0,ie[6]=0,ie[7]=0,ie[8]=1}(j,-u.transform.angle),function(ie,de,fe){var Oe=de[0],Ye=de[1],$e=de[2];ie[0]=Oe*fe[0]+Ye*fe[3]+$e*fe[6],ie[1]=Oe*fe[1]+Ye*fe[4]+$e*fe[7],ie[2]=Oe*fe[2]+Ye*fe[5]+$e*fe[8]}(R,R,j);const Q=w.properties.get("color");return{u_matrix:O,u_lightpos:R,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[Q.r,Q.g,Q.b],u_vertical_gradient:+p,u_opacity:C}},ta=(O,u,p,C,w,I,R)=>s.e(ea(O,u,p,C),os(I,u,R),{u_height_factor:-Math.pow(2,w.overscaledZ)/R.tileSize/8}),Cs=O=>({u_matrix:O}),bu=(O,u,p,C)=>s.e(Cs(O),os(p,u,C)),fa=(O,u)=>({u_matrix:O,u_world:u}),gA=(O,u,p,C,w)=>s.e(bu(O,u,p,C),{u_world:w}),ju=(O,u,p,C)=>{const w=O.transform;let I,R;if(C.paint.get("circle-pitch-alignment")==="map"){const j=lr(p,1,w.zoom);I=!0,R=[j,j]}else I=!1,R=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(C.paint.get("circle-pitch-scale")==="map"),u_matrix:O.translatePosMatrix(u.posMatrix,p,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_pitch_with_map:+I,u_device_pixel_ratio:O.pixelRatio,u_extrude_scale:R}},yA=(O,u,p)=>{const C=lr(p,1,u.zoom),w=Math.pow(2,u.zoom-p.tileID.overscaledZ),I=p.tileID.overscaleFactor();return{u_matrix:O,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:C,u_extrude_scale:[u.pixelsToGLUnits[0]/(C*w),u.pixelsToGLUnits[1]/(C*w)],u_overscale_factor:I}},xu=(O,u,p=1)=>({u_matrix:O,u_color:u,u_overlay:0,u_overlay_scale:p}),Wu=O=>({u_matrix:O}),Wo=(O,u,p,C)=>({u_matrix:O,u_extrude_scale:lr(u,1,p),u_intensity:C});function bs(O,u){const p=Math.pow(2,u.canonical.z),C=u.canonical.y;return[new s.Y(0,C/p).toLngLat().lat,new s.Y(0,(C+1)/p).toLngLat().lat]}const Jl=(O,u,p,C)=>{const w=O.transform;return{u_matrix:ll(O,u,p,C),u_ratio:1/lr(u,1,w.zoom),u_device_pixel_ratio:O.pixelRatio,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},as=(O,u,p,C,w)=>s.e(Jl(O,u,p,w),{u_image:0,u_image_height:C}),sl=(O,u,p,C,w)=>{const I=O.transform,R=wu(u,I);return{u_matrix:ll(O,u,p,w),u_texsize:u.imageAtlasTexture.size,u_ratio:1/lr(u,1,I.zoom),u_device_pixel_ratio:O.pixelRatio,u_image:0,u_scale:[R,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]]}},No=(O,u,p,C,w,I)=>{const R=O.lineAtlas,j=wu(u,O.transform),Q=p.layout.get("line-cap")==="round",ie=R.getDash(C.from,Q),de=R.getDash(C.to,Q),fe=ie.width*w.fromScale,Oe=de.width*w.toScale;return s.e(Jl(O,u,p,I),{u_patternscale_a:[j/fe,-ie.height/2],u_patternscale_b:[j/Oe,-de.height/2],u_sdfgamma:R.width/(256*Math.min(fe,Oe)*O.pixelRatio)/2,u_image:0,u_tex_y_a:ie.y,u_tex_y_b:de.y,u_mix:w.t})};function wu(O,u){return 1/lr(O,1,u.tileZoom)}function ll(O,u,p,C){return O.translatePosMatrix(C?C.posMatrix:u.tileID.posMatrix,u,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const bl=(O,u,p,C,w)=>{return{u_matrix:O,u_tl_parent:u,u_scale_parent:p,u_buffer_scale:1,u_fade_t:C.mix,u_opacity:C.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(R=w.paint.get("raster-saturation"),R>0?1-1/(1.001-R):-R),u_contrast_factor:(I=w.paint.get("raster-contrast"),I>0?1/(1-I):1+I),u_spin_weights:eu(w.paint.get("raster-hue-rotate"))};var I,R};function eu(O){O*=Math.PI/180;const u=Math.sin(O),p=Math.cos(O);return[(2*p+1)/3,(-Math.sqrt(3)*u-p+1)/3,(Math.sqrt(3)*u-p+1)/3]}const sa=(O,u,p,C,w,I,R,j,Q,ie)=>{const de=w.transform;return{u_is_size_zoom_constant:+(O==="constant"||O==="source"),u_is_size_feature_constant:+(O==="constant"||O==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:de.cameraToCenterDistance,u_pitch:de.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:de.width/de.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:I,u_label_plane_matrix:R,u_coord_matrix:j,u_is_text:+Q,u_pitch_with_map:+C,u_texsize:ie,u_texture:0}},ul=(O,u,p,C,w,I,R,j,Q,ie,de)=>{const fe=w.transform;return s.e(sa(O,u,p,C,w,I,R,j,Q,ie),{u_gamma_scale:C?Math.cos(fe._pitch)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:+de})},vA=(O,u,p,C,w,I,R,j,Q,ie)=>s.e(ul(O,u,p,C,w,I,R,j,!0,Q,!0),{u_texsize_icon:ie,u_texture_icon:1}),vo=(O,u,p)=>({u_matrix:O,u_opacity:u,u_color:p}),io=(O,u,p,C,w,I)=>s.e(function(R,j,Q,ie){const de=Q.imageManager.getPattern(R.from.toString()),fe=Q.imageManager.getPattern(R.to.toString()),{width:Oe,height:Ye}=Q.imageManager.getPixelSize(),$e=Math.pow(2,ie.tileID.overscaledZ),He=ie.tileSize*Math.pow(2,Q.transform.tileZoom)/$e,We=He*(ie.tileID.canonical.x+ie.tileID.wrap*$e),ht=He*ie.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:fe.tl,u_pattern_br_b:fe.br,u_texsize:[Oe,Ye],u_mix:j.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:fe.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/lr(ie,1,Q.transform.tileZoom),u_pixel_coord_upper:[We>>16,ht>>16],u_pixel_coord_lower:[65535&We,65535&ht]}}(C,I,p,w),{u_matrix:O,u_opacity:u}),z={fillExtrusion:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_lightpos:new s.aK(O,u.u_lightpos),u_lightintensity:new s.aH(O,u.u_lightintensity),u_lightcolor:new s.aK(O,u.u_lightcolor),u_vertical_gradient:new s.aH(O,u.u_vertical_gradient),u_opacity:new s.aH(O,u.u_opacity)}),fillExtrusionPattern:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_lightpos:new s.aK(O,u.u_lightpos),u_lightintensity:new s.aH(O,u.u_lightintensity),u_lightcolor:new s.aK(O,u.u_lightcolor),u_vertical_gradient:new s.aH(O,u.u_vertical_gradient),u_height_factor:new s.aH(O,u.u_height_factor),u_image:new s.aG(O,u.u_image),u_texsize:new s.aL(O,u.u_texsize),u_pixel_coord_upper:new s.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(O,u.u_pixel_coord_lower),u_scale:new s.aK(O,u.u_scale),u_fade:new s.aH(O,u.u_fade),u_opacity:new s.aH(O,u.u_opacity)}),fill:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix)}),fillPattern:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_image:new s.aG(O,u.u_image),u_texsize:new s.aL(O,u.u_texsize),u_pixel_coord_upper:new s.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(O,u.u_pixel_coord_lower),u_scale:new s.aK(O,u.u_scale),u_fade:new s.aH(O,u.u_fade)}),fillOutline:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_world:new s.aL(O,u.u_world)}),fillOutlinePattern:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_world:new s.aL(O,u.u_world),u_image:new s.aG(O,u.u_image),u_texsize:new s.aL(O,u.u_texsize),u_pixel_coord_upper:new s.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(O,u.u_pixel_coord_lower),u_scale:new s.aK(O,u.u_scale),u_fade:new s.aH(O,u.u_fade)}),circle:(O,u)=>({u_camera_to_center_distance:new s.aH(O,u.u_camera_to_center_distance),u_scale_with_map:new s.aG(O,u.u_scale_with_map),u_pitch_with_map:new s.aG(O,u.u_pitch_with_map),u_extrude_scale:new s.aL(O,u.u_extrude_scale),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_matrix:new s.aI(O,u.u_matrix)}),collisionBox:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_camera_to_center_distance:new s.aH(O,u.u_camera_to_center_distance),u_pixels_to_tile_units:new s.aH(O,u.u_pixels_to_tile_units),u_extrude_scale:new s.aL(O,u.u_extrude_scale),u_overscale_factor:new s.aH(O,u.u_overscale_factor)}),collisionCircle:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_inv_matrix:new s.aI(O,u.u_inv_matrix),u_camera_to_center_distance:new s.aH(O,u.u_camera_to_center_distance),u_viewport_size:new s.aL(O,u.u_viewport_size)}),debug:(O,u)=>({u_color:new s.aM(O,u.u_color),u_matrix:new s.aI(O,u.u_matrix),u_overlay:new s.aG(O,u.u_overlay),u_overlay_scale:new s.aH(O,u.u_overlay_scale)}),clippingMask:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix)}),heatmap:(O,u)=>({u_extrude_scale:new s.aH(O,u.u_extrude_scale),u_intensity:new s.aH(O,u.u_intensity),u_matrix:new s.aI(O,u.u_matrix)}),heatmapTexture:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_world:new s.aL(O,u.u_world),u_image:new s.aG(O,u.u_image),u_color_ramp:new s.aG(O,u.u_color_ramp),u_opacity:new s.aH(O,u.u_opacity)}),hillshade:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_image:new s.aG(O,u.u_image),u_latrange:new s.aL(O,u.u_latrange),u_light:new s.aL(O,u.u_light),u_shadow:new s.aM(O,u.u_shadow),u_highlight:new s.aM(O,u.u_highlight),u_accent:new s.aM(O,u.u_accent)}),hillshadePrepare:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_image:new s.aG(O,u.u_image),u_dimension:new s.aL(O,u.u_dimension),u_zoom:new s.aH(O,u.u_zoom),u_unpack:new s.aJ(O,u.u_unpack)}),line:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_ratio:new s.aH(O,u.u_ratio),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(O,u.u_units_to_pixels)}),lineGradient:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_ratio:new s.aH(O,u.u_ratio),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(O,u.u_units_to_pixels),u_image:new s.aG(O,u.u_image),u_image_height:new s.aH(O,u.u_image_height)}),linePattern:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_texsize:new s.aL(O,u.u_texsize),u_ratio:new s.aH(O,u.u_ratio),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_image:new s.aG(O,u.u_image),u_units_to_pixels:new s.aL(O,u.u_units_to_pixels),u_scale:new s.aK(O,u.u_scale),u_fade:new s.aH(O,u.u_fade)}),lineSDF:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_ratio:new s.aH(O,u.u_ratio),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(O,u.u_units_to_pixels),u_patternscale_a:new s.aL(O,u.u_patternscale_a),u_patternscale_b:new s.aL(O,u.u_patternscale_b),u_sdfgamma:new s.aH(O,u.u_sdfgamma),u_image:new s.aG(O,u.u_image),u_tex_y_a:new s.aH(O,u.u_tex_y_a),u_tex_y_b:new s.aH(O,u.u_tex_y_b),u_mix:new s.aH(O,u.u_mix)}),raster:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_tl_parent:new s.aL(O,u.u_tl_parent),u_scale_parent:new s.aH(O,u.u_scale_parent),u_buffer_scale:new s.aH(O,u.u_buffer_scale),u_fade_t:new s.aH(O,u.u_fade_t),u_opacity:new s.aH(O,u.u_opacity),u_image0:new s.aG(O,u.u_image0),u_image1:new s.aG(O,u.u_image1),u_brightness_low:new s.aH(O,u.u_brightness_low),u_brightness_high:new s.aH(O,u.u_brightness_high),u_saturation_factor:new s.aH(O,u.u_saturation_factor),u_contrast_factor:new s.aH(O,u.u_contrast_factor),u_spin_weights:new s.aK(O,u.u_spin_weights)}),symbolIcon:(O,u)=>({u_is_size_zoom_constant:new s.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(O,u.u_is_size_feature_constant),u_size_t:new s.aH(O,u.u_size_t),u_size:new s.aH(O,u.u_size),u_camera_to_center_distance:new s.aH(O,u.u_camera_to_center_distance),u_pitch:new s.aH(O,u.u_pitch),u_rotate_symbol:new s.aG(O,u.u_rotate_symbol),u_aspect_ratio:new s.aH(O,u.u_aspect_ratio),u_fade_change:new s.aH(O,u.u_fade_change),u_matrix:new s.aI(O,u.u_matrix),u_label_plane_matrix:new s.aI(O,u.u_label_plane_matrix),u_coord_matrix:new s.aI(O,u.u_coord_matrix),u_is_text:new s.aG(O,u.u_is_text),u_pitch_with_map:new s.aG(O,u.u_pitch_with_map),u_texsize:new s.aL(O,u.u_texsize),u_texture:new s.aG(O,u.u_texture)}),symbolSDF:(O,u)=>({u_is_size_zoom_constant:new s.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(O,u.u_is_size_feature_constant),u_size_t:new s.aH(O,u.u_size_t),u_size:new s.aH(O,u.u_size),u_camera_to_center_distance:new s.aH(O,u.u_camera_to_center_distance),u_pitch:new s.aH(O,u.u_pitch),u_rotate_symbol:new s.aG(O,u.u_rotate_symbol),u_aspect_ratio:new s.aH(O,u.u_aspect_ratio),u_fade_change:new s.aH(O,u.u_fade_change),u_matrix:new s.aI(O,u.u_matrix),u_label_plane_matrix:new s.aI(O,u.u_label_plane_matrix),u_coord_matrix:new s.aI(O,u.u_coord_matrix),u_is_text:new s.aG(O,u.u_is_text),u_pitch_with_map:new s.aG(O,u.u_pitch_with_map),u_texsize:new s.aL(O,u.u_texsize),u_texture:new s.aG(O,u.u_texture),u_gamma_scale:new s.aH(O,u.u_gamma_scale),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_is_halo:new s.aG(O,u.u_is_halo)}),symbolTextAndIcon:(O,u)=>({u_is_size_zoom_constant:new s.aG(O,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(O,u.u_is_size_feature_constant),u_size_t:new s.aH(O,u.u_size_t),u_size:new s.aH(O,u.u_size),u_camera_to_center_distance:new s.aH(O,u.u_camera_to_center_distance),u_pitch:new s.aH(O,u.u_pitch),u_rotate_symbol:new s.aG(O,u.u_rotate_symbol),u_aspect_ratio:new s.aH(O,u.u_aspect_ratio),u_fade_change:new s.aH(O,u.u_fade_change),u_matrix:new s.aI(O,u.u_matrix),u_label_plane_matrix:new s.aI(O,u.u_label_plane_matrix),u_coord_matrix:new s.aI(O,u.u_coord_matrix),u_is_text:new s.aG(O,u.u_is_text),u_pitch_with_map:new s.aG(O,u.u_pitch_with_map),u_texsize:new s.aL(O,u.u_texsize),u_texsize_icon:new s.aL(O,u.u_texsize_icon),u_texture:new s.aG(O,u.u_texture),u_texture_icon:new s.aG(O,u.u_texture_icon),u_gamma_scale:new s.aH(O,u.u_gamma_scale),u_device_pixel_ratio:new s.aH(O,u.u_device_pixel_ratio),u_is_halo:new s.aG(O,u.u_is_halo)}),background:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_opacity:new s.aH(O,u.u_opacity),u_color:new s.aM(O,u.u_color)}),backgroundPattern:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_opacity:new s.aH(O,u.u_opacity),u_image:new s.aG(O,u.u_image),u_pattern_tl_a:new s.aL(O,u.u_pattern_tl_a),u_pattern_br_a:new s.aL(O,u.u_pattern_br_a),u_pattern_tl_b:new s.aL(O,u.u_pattern_tl_b),u_pattern_br_b:new s.aL(O,u.u_pattern_br_b),u_texsize:new s.aL(O,u.u_texsize),u_mix:new s.aH(O,u.u_mix),u_pattern_size_a:new s.aL(O,u.u_pattern_size_a),u_pattern_size_b:new s.aL(O,u.u_pattern_size_b),u_scale_a:new s.aH(O,u.u_scale_a),u_scale_b:new s.aH(O,u.u_scale_b),u_pixel_coord_upper:new s.aL(O,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(O,u.u_pixel_coord_lower),u_tile_units_to_pixels:new s.aH(O,u.u_tile_units_to_pixels)}),terrain:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_texture:new s.aG(O,u.u_texture),u_ele_delta:new s.aH(O,u.u_ele_delta)}),terrainDepth:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_ele_delta:new s.aH(O,u.u_ele_delta)}),terrainCoords:(O,u)=>({u_matrix:new s.aI(O,u.u_matrix),u_texture:new s.aG(O,u.u_texture),u_terrain_coords_id:new s.aH(O,u.u_terrain_coords_id),u_ele_delta:new s.aH(O,u.u_ele_delta)})};class ae{constructor(u,p,C){this.context=u;const w=u.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!C,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ue={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class gt{constructor(u,p,C,w){this.length=p.length,this.attributes=C,this.itemSize=p.bytesPerElement,this.dynamicDraw=w,this.context=u;const I=u.gl;this.buffer=I.createBuffer(),u.bindVertexBuffer.set(this.buffer),I.bufferData(I.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,p){for(let C=0;C<this.attributes.length;C++){const w=p.attributes[this.attributes[C].name];w!==void 0&&u.enableVertexAttribArray(w)}}setVertexAttribPointers(u,p,C){for(let w=0;w<this.attributes.length;w++){const I=this.attributes[w],R=p.attributes[I.name];R!==void 0&&u.vertexAttribPointer(R,I.components,u[Ue[I.type]],!1,this.itemSize,I.offset+this.itemSize*(C||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Nn=new WeakMap;function vn(O){var u;if(Nn.has(O))return Nn.get(O);{const p=(u=O.getParameter(O.VERSION))===null||u===void 0?void 0:u.startsWith("WebGL 2.0");return Nn.set(O,p),p}}class Kn{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ur extends Kn{getDefault(){return s.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class yr extends Kn{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class Ir extends Kn{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class ki extends Kn{getDefault(){return[!0,!0,!0,!0]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class po extends Kn{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class Si extends Kn{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class Zr extends Kn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const p=this.current;(u.func!==p.func||u.ref!==p.ref||u.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Hi extends Kn{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class Bo extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=u,this.dirty=!1}}class xo extends Kn{getDefault(){return[0,1]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class Ga extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=u,this.dirty=!1}}class Pl extends Kn{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class tu extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.BLEND):p.disable(p.BLEND),this.current=u,this.dirty=!1}}class pa extends Kn{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class p0 extends Kn{getDefault(){return s.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class nu extends Kn{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class Kh extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=u,this.dirty=!1}}class rd extends Kn{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class Nu extends Kn{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class id extends Kn{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class NA extends Kn{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class na extends Kn{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Gu extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class Gd extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class GA extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class Ec extends Kn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class Mu extends Kn{getDefault(){return null}set(u){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class od extends Kn{getDefault(){return null}set(u){var p;if(u===this.current&&!this.dirty)return;const C=this.gl;vn(C)?C.bindVertexArray(u):(p=C.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(u),this.current=u,this.dirty=!1}}class Hp extends Kn{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Ph extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class Ii extends Kn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class ko extends Kn{constructor(u,p){super(u),this.context=u,this.parent=p}getDefault(){return null}}class m0 extends ko{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Fh extends ko{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Qu extends ko{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class $f{constructor(u,p,C,w,I){this.context=u,this.width=p,this.height=C;const R=u.gl,j=this.framebuffer=R.createFramebuffer();if(this.colorAttachment=new m0(u,j),w)this.depthAttachment=I?new Qu(u,j):new Fh(u,j);else if(I)throw new Error("Stencil cannot be set without depth");if(R.checkFramebufferStatus(R.FRAMEBUFFER)!==R.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,p=this.colorAttachment.get();if(p&&u.deleteTexture(p),this.depthAttachment){const C=this.depthAttachment.get();C&&u.deleteRenderbuffer(C)}u.deleteFramebuffer(this.framebuffer)}}class la{constructor(u,p,C){this.blendFunction=u,this.blendColor=p,this.mask=C}}la.Replace=[1,0],la.disabled=new la(la.Replace,s.aO.transparent,[!1,!1,!1,!1]),la.unblended=new la(la.Replace,s.aO.transparent,[!0,!0,!0,!0]),la.alphaBlended=new la([1,771],s.aO.transparent,[!0,!0,!0,!0]);class Yf{constructor(u){var p,C;if(this.gl=u,this.clearColor=new Ur(this),this.clearDepth=new yr(this),this.clearStencil=new Ir(this),this.colorMask=new ki(this),this.depthMask=new po(this),this.stencilMask=new Si(this),this.stencilFunc=new Zr(this),this.stencilOp=new Hi(this),this.stencilTest=new Bo(this),this.depthRange=new xo(this),this.depthTest=new Ga(this),this.depthFunc=new Pl(this),this.blend=new tu(this),this.blendFunc=new pa(this),this.blendColor=new p0(this),this.blendEquation=new nu(this),this.cullFace=new Kh(this),this.cullFaceSide=new rd(this),this.frontFace=new Nu(this),this.program=new id(this),this.activeTexture=new NA(this),this.viewport=new na(this),this.bindFramebuffer=new Gu(this),this.bindRenderbuffer=new Gd(this),this.bindTexture=new GA(this),this.bindVertexBuffer=new Ec(this),this.bindElementBuffer=new Mu(this),this.bindVertexArray=new od(this),this.pixelStoreUnpack=new Hp(this),this.pixelStoreUnpackPremultiplyAlpha=new Ph(this),this.pixelStoreUnpackFlipY=new Ii(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),vn(u)){this.HALF_FLOAT=u.HALF_FLOAT;const w=u.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=u.RGBA16F)!==null&&p!==void 0?p:w==null?void 0:w.RGBA16F_EXT,this.RGB16F=(C=u.RGB16F)!==null&&C!==void 0?C:w==null?void 0:w.RGB16F_EXT,u.getExtension("EXT_color_buffer_float")}else{u.getExtension("EXT_color_buffer_half_float"),u.getExtension("OES_texture_half_float_linear");const w=u.getExtension("OES_texture_half_float");this.HALF_FLOAT=w==null?void 0:w.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,p){return new ae(this,u,p)}createVertexBuffer(u,p,C){return new gt(this,u,p,C)}createRenderbuffer(u,p,C){const w=this.gl,I=w.createRenderbuffer();return this.bindRenderbuffer.set(I),w.renderbufferStorage(w.RENDERBUFFER,u,p,C),this.bindRenderbuffer.set(null),I}createFramebuffer(u,p,C,w){return new $f(this,u,p,C,w)}clear({color:u,depth:p,stencil:C}){const w=this.gl;let I=0;u&&(I|=w.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(I|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),C!==void 0&&(I|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(C),this.stencilMask.set(255)),w.clear(I)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){s.aD(u.blendFunction,la.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}createVertexArray(){var u;return vn(this.gl)?this.gl.createVertexArray():(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.createVertexArrayOES()}deleteVertexArray(u){var p;return vn(this.gl)?this.gl.deleteVertexArray(u):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(u)}unbindVAO(){this.bindVertexArray.set(null)}}class Wi{constructor(u,p,C){this.func=u,this.mask=p,this.range=C}}Wi.ReadOnly=!1,Wi.ReadWrite=!0,Wi.disabled=new Wi(519,Wi.ReadOnly,[0,1]);const QA=7680;class Io{constructor(u,p,C,w,I,R){this.test=u,this.ref=p,this.mask=C,this.fail=w,this.depthFail=I,this.pass=R}}Io.disabled=new Io({func:519,mask:0},0,0,QA,QA,QA);class Do{constructor(u,p,C){this.enable=u,this.mode=p,this.frontFace=C}}let $A;function Ls(O,u,p,C,w,I,R){const j=O.context,Q=j.gl,ie=O.useProgram("collisionBox"),de=[];let fe=0,Oe=0;for(let tt=0;tt<C.length;tt++){const bt=C[tt],Pt=u.getTile(bt),Ut=Pt.getBucket(p);if(!Ut)continue;let Zt=bt.posMatrix;w[0]===0&&w[1]===0||(Zt=O.translatePosMatrix(bt.posMatrix,Pt,w,I));const dn=R?Ut.textCollisionBox:Ut.iconCollisionBox,un=Ut.collisionCircleArray;if(un.length>0){const pn=s.F(),$n=Zt;s.aP(pn,Ut.placementInvProjMatrix,O.transform.glCoordMatrix),s.aP(pn,pn,Ut.placementViewportMatrix),de.push({circleArray:un,circleOffset:Oe,transform:$n,invTransform:pn,coord:bt}),fe+=un.length/4,Oe=fe}dn&&ie.draw(j,Q.LINES,Wi.disabled,Io.disabled,O.colorModeForRenderPass(),Do.disabled,yA(Zt,O.transform,Pt),O.style.map.terrain&&O.style.map.terrain.getTerrainData(bt),p.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,O.transform.zoom,null,null,dn.collisionVertexBuffer)}if(!R||!de.length)return;const Ye=O.useProgram("collisionCircle"),$e=new s.aQ;$e.resize(4*fe),$e._trim();let He=0;for(const tt of de)for(let bt=0;bt<tt.circleArray.length/4;bt++){const Pt=4*bt,Ut=tt.circleArray[Pt+0],Zt=tt.circleArray[Pt+1],dn=tt.circleArray[Pt+2],un=tt.circleArray[Pt+3];$e.emplace(He++,Ut,Zt,dn,un,0),$e.emplace(He++,Ut,Zt,dn,un,1),$e.emplace(He++,Ut,Zt,dn,un,2),$e.emplace(He++,Ut,Zt,dn,un,3)}(!$A||$A.length<2*fe)&&($A=function(tt){const bt=2*tt,Pt=new s.aS;Pt.resize(bt),Pt._trim();for(let Ut=0;Ut<bt;Ut++){const Zt=6*Ut;Pt.uint16[Zt+0]=4*Ut+0,Pt.uint16[Zt+1]=4*Ut+1,Pt.uint16[Zt+2]=4*Ut+2,Pt.uint16[Zt+3]=4*Ut+2,Pt.uint16[Zt+4]=4*Ut+3,Pt.uint16[Zt+5]=4*Ut+0}return Pt}(fe));const We=j.createIndexBuffer($A,!0),ht=j.createVertexBuffer($e,s.aR.members,!0);for(const tt of de){const bt={u_matrix:tt.transform,u_inv_matrix:tt.invTransform,u_camera_to_center_distance:(Ft=O.transform).cameraToCenterDistance,u_viewport_size:[Ft.width,Ft.height]};Ye.draw(j,Q.TRIANGLES,Wi.disabled,Io.disabled,O.colorModeForRenderPass(),Do.disabled,bt,O.style.map.terrain&&O.style.map.terrain.getTerrainData(tt.coord),p.id,ht,We,s.$.simpleSegment(0,2*tt.circleOffset,tt.circleArray.length,tt.circleArray.length/2),null,O.transform.zoom,null,null,null)}var Ft;ht.destroy(),We.destroy()}Do.disabled=new Do(!1,1029,2305),Do.backCCW=new Do(!0,1029,2305);const Dh=s.an(new Float32Array(16));function ru(O,u,p,C,w,I){const{horizontalAlign:R,verticalAlign:j}=s.at(O);return new s.P((-(R-.5)*u/w+C[0])*I,(-(j-.5)*p/w+C[1])*I)}function Fl(O,u,p,C,w,I,R,j,Q,ie,de){const fe=O.text.placedSymbolArray,Oe=O.text.dynamicLayoutVertexArray,Ye=O.icon.dynamicLayoutVertexArray,$e={};Oe.clear();for(let He=0;He<fe.length;He++){const We=fe.get(He),ht=We.hidden||!We.crossTileID||O.allowVerticalPlacement&&!We.placedOrientation?null:C[We.crossTileID];if(ht){const Ft=new s.P(We.anchorX,We.anchorY),tt=Pe(Ft,p?R:I,de),bt=ce(w.cameraToCenterDistance,tt.signedDistanceFromCamera);let Pt=s.ai(O.textSizeData,Q,We)*bt/s.ao;p&&(Pt*=O.tilePixelRatio/j);const{width:Ut,height:Zt,anchor:dn,textOffset:un,textBoxScale:pn}=ht,$n=ru(dn,Ut,Zt,un,pn,Pt),qr=p?Pe(Ft.add($n),I,de).point:tt.point.add(u?$n.rotate(-w.angle):$n),kn=O.allowVerticalPlacement&&We.placedOrientation===s.ah.vertical?Math.PI/2:0;for(let vr=0;vr<We.numGlyphs;vr++)s.aj(Oe,qr,kn);ie&&We.associatedIconIndex>=0&&($e[We.associatedIconIndex]={shiftedAnchor:qr,angle:kn})}else Fn(We.numGlyphs,Oe)}if(ie){Ye.clear();const He=O.icon.placedSymbolArray;for(let We=0;We<He.length;We++){const ht=He.get(We);if(ht.hidden)Fn(ht.numGlyphs,Ye);else{const Ft=$e[We];if(Ft)for(let tt=0;tt<ht.numGlyphs;tt++)s.aj(Ye,Ft.shiftedAnchor,Ft.angle);else Fn(ht.numGlyphs,Ye)}}O.icon.dynamicLayoutVertexBuffer.updateData(Ye)}O.text.dynamicLayoutVertexBuffer.updateData(Oe)}function Oc(O,u,p){return p.iconsInText&&u?"symbolTextAndIcon":O?"symbolSDF":"symbolIcon"}function Lh(O,u,p,C,w,I,R,j,Q,ie,de,fe){const Oe=O.context,Ye=Oe.gl,$e=O.transform,He=j==="map",We=Q==="map",ht=j!=="viewport"&&p.layout.get("symbol-placement")!=="point",Ft=He&&!We&&!ht,tt=!p.layout.get("symbol-sort-key").isConstant();let bt=!1;const Pt=O.depthModeForSublayer(0,Wi.ReadOnly),Ut=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Zt=[];for(const dn of C){const un=u.getTile(dn),pn=un.getBucket(p);if(!pn)continue;const $n=w?pn.text:pn.icon;if(!$n||!$n.segments.get().length||!$n.hasVisibleVertices)continue;const qr=$n.programConfigurations.get(p.id),kn=w||pn.sdfIcons,vr=w?pn.textSizeData:pn.iconSizeData,di=We||$e.pitch!==0,Ti=O.useProgram(Oc(kn,w,pn),qr),Hr=s.ag(vr,$e.zoom),ei=O.style.map.terrain&&O.style.map.terrain.getTerrainData(dn);let Nr,Ho,Lo,Us,Pa=[0,0],mo=null;if(w)Ho=un.glyphAtlasTexture,Lo=Ye.LINEAR,Nr=un.glyphAtlasTexture.size,pn.iconsInText&&(Pa=un.imageAtlasTexture.size,mo=un.imageAtlasTexture,Us=di||O.options.rotating||O.options.zooming||vr.kind==="composite"||vr.kind==="camera"?Ye.LINEAR:Ye.NEAREST);else{const Vo=p.layout.get("icon-size").constantOr(0)!==1||pn.iconsNeedLinear;Ho=un.imageAtlasTexture,Lo=kn||O.options.rotating||O.options.zooming||Vo||di?Ye.LINEAR:Ye.NEAREST,Nr=un.imageAtlasTexture.size}const so=lr(un,1,O.transform.zoom),Zs=Pr(dn.posMatrix,We,He,O.transform,so),su=nr(dn.posMatrix,We,He,O.transform,so),ws=Ut&&pn.hasTextData(),nA=p.layout.get("icon-text-fit")!=="none"&&ws&&pn.hasIconData();if(ht){const Vo=O.style.map.terrain?(Ss,Ki)=>O.style.map.terrain.getElevation(dn,Ss,Ki):null,va=p.layout.get("text-rotation-alignment")==="map";ke(pn,dn.posMatrix,O,w,Zs,su,We,ie,va,Vo)}const jl=O.translatePosMatrix(dn.posMatrix,un,I,R),Ms=ht||w&&Ut||nA?Dh:Zs,Ri=O.translatePosMatrix(su,un,I,R,!0),Ei=kn&&p.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ra;ra=kn?pn.iconsInText?vA(vr.kind,Hr,Ft,We,O,jl,Ms,Ri,Nr,Pa):ul(vr.kind,Hr,Ft,We,O,jl,Ms,Ri,w,Nr,!0):sa(vr.kind,Hr,Ft,We,O,jl,Ms,Ri,w,Nr);const Pc={program:Ti,buffers:$n,uniformValues:ra,atlasTexture:Ho,atlasTextureIcon:mo,atlasInterpolation:Lo,atlasInterpolationIcon:Us,isSDF:kn,hasHalo:Ei};if(tt&&pn.canOverlap){bt=!0;const Vo=$n.segments.get();for(const va of Vo)Zt.push({segments:new s.$([va]),sortKey:va.sortKey,state:Pc,terrainData:ei})}else Zt.push({segments:$n.segments,sortKey:0,state:Pc,terrainData:ei})}bt&&Zt.sort((dn,un)=>dn.sortKey-un.sortKey);for(const dn of Zt){const un=dn.state;if(Oe.activeTexture.set(Ye.TEXTURE0),un.atlasTexture.bind(un.atlasInterpolation,Ye.CLAMP_TO_EDGE),un.atlasTextureIcon&&(Oe.activeTexture.set(Ye.TEXTURE1),un.atlasTextureIcon&&un.atlasTextureIcon.bind(un.atlasInterpolationIcon,Ye.CLAMP_TO_EDGE)),un.isSDF){const pn=un.uniformValues;un.hasHalo&&(pn.u_is_halo=1,Qd(un.buffers,dn.segments,p,O,un.program,Pt,de,fe,pn,dn.terrainData)),pn.u_is_halo=0}Qd(un.buffers,dn.segments,p,O,un.program,Pt,de,fe,un.uniformValues,dn.terrainData)}}function Qd(O,u,p,C,w,I,R,j,Q,ie){const de=C.context;w.draw(de,de.gl.TRIANGLES,I,R,j,Do.disabled,Q,ie,p.id,O.layoutVertexBuffer,O.indexBuffer,u,p.paint,C.transform.zoom,O.programConfigurations.get(p.id),O.dynamicLayoutVertexBuffer,O.opacityVertexBuffer)}function Su(O,u,p,C,w){if(!p||!C||!C.imageAtlas)return;const I=C.imageAtlas.patternPositions;let R=I[p.to.toString()],j=I[p.from.toString()];if(!R&&j&&(R=j),!j&&R&&(j=R),!R||!j){const Q=w.getPaintProperty(u);R=I[Q],j=I[Q]}R&&j&&O.setConstantPatternPositions(R,j)}function _A(O,u,p,C,w,I,R){const j=O.context.gl,Q="fill-pattern",ie=p.paint.get(Q),de=ie&&ie.constantOr(1),fe=p.getCrossfadeParameters();let Oe,Ye,$e,He,We;R?(Ye=de&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Oe=j.LINES):(Ye=de?"fillPattern":"fill",Oe=j.TRIANGLES);const ht=ie.constantOr(null);for(const Ft of C){const tt=u.getTile(Ft);if(de&&!tt.patternsLoaded())continue;const bt=tt.getBucket(p);if(!bt)continue;const Pt=bt.programConfigurations.get(p.id),Ut=O.useProgram(Ye,Pt),Zt=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Ft);de&&(O.context.activeTexture.set(j.TEXTURE0),tt.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Pt.updatePaintBuffers(fe)),Su(Pt,Q,ht,tt,p);const dn=Zt?Ft:null,un=O.translatePosMatrix(dn?dn.posMatrix:Ft.posMatrix,tt,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(R){He=bt.indexBuffer2,We=bt.segments2;const pn=[j.drawingBufferWidth,j.drawingBufferHeight];$e=Ye==="fillOutlinePattern"&&de?gA(un,O,fe,tt,pn):fa(un,pn)}else He=bt.indexBuffer,We=bt.segments,$e=de?bu(un,O,fe,tt):Cs(un);Ut.draw(O.context,Oe,w,O.stencilModeForClipping(Ft),I,Do.disabled,$e,Zt,p.id,bt.layoutVertexBuffer,He,We,p.paint,O.transform.zoom,Pt)}}function YA(O,u,p,C,w,I,R){const j=O.context,Q=j.gl,ie="fill-extrusion-pattern",de=p.paint.get(ie),fe=de.constantOr(1),Oe=p.getCrossfadeParameters(),Ye=p.paint.get("fill-extrusion-opacity"),$e=de.constantOr(null);for(const He of C){const We=u.getTile(He),ht=We.getBucket(p);if(!ht)continue;const Ft=O.style.map.terrain&&O.style.map.terrain.getTerrainData(He),tt=ht.programConfigurations.get(p.id),bt=O.useProgram(fe?"fillExtrusionPattern":"fillExtrusion",tt);fe&&(O.context.activeTexture.set(Q.TEXTURE0),We.imageAtlasTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),tt.updatePaintBuffers(Oe)),Su(tt,ie,$e,We,p);const Pt=O.translatePosMatrix(He.posMatrix,We,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ut=p.paint.get("fill-extrusion-vertical-gradient"),Zt=fe?ta(Pt,O,Ut,Ye,He,Oe,We):ea(Pt,O,Ut,Ye);bt.draw(j,j.gl.TRIANGLES,w,I,R,Do.backCCW,Zt,Ft,p.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,p.paint,O.transform.zoom,tt,O.style.map.terrain&&ht.centroidVertexBuffer)}}function qA(O,u,p,C,w,I,R){const j=O.context,Q=j.gl,ie=p.fbo;if(!ie)return;const de=O.useProgram("hillshade"),fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(u);j.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,ie.colorAttachment.get()),de.draw(j,Q.TRIANGLES,w,I,R,Do.disabled,((Oe,Ye,$e,He)=>{const We=$e.paint.get("hillshade-shadow-color"),ht=$e.paint.get("hillshade-highlight-color"),Ft=$e.paint.get("hillshade-accent-color");let tt=$e.paint.get("hillshade-illumination-direction")*(Math.PI/180);$e.paint.get("hillshade-illumination-anchor")==="viewport"&&(tt-=Oe.transform.angle);const bt=!Oe.options.moving;return{u_matrix:He?He.posMatrix:Oe.transform.calculatePosMatrix(Ye.tileID.toUnwrapped(),bt),u_image:0,u_latrange:bs(0,Ye.tileID),u_light:[$e.paint.get("hillshade-exaggeration"),tt],u_shadow:We,u_highlight:ht,u_accent:Ft}})(O,p,C,fe?u:null),fe,C.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments)}function qf(O,u,p,C,w,I){const R=O.context,j=R.gl,Q=u.dem;if(Q&&Q.data){const ie=Q.dim,de=Q.stride,fe=Q.getPixels();if(R.activeTexture.set(j.TEXTURE1),R.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||O.getTileTexture(de),u.demTexture){const Ye=u.demTexture;Ye.update(fe,{premultiply:!1}),Ye.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else u.demTexture=new Le(R,fe,j.RGBA,{premultiply:!1}),u.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);R.activeTexture.set(j.TEXTURE0);let Oe=u.fbo;if(!Oe){const Ye=new Le(R,{width:ie,height:ie,data:null},j.RGBA);Ye.bind(j.LINEAR,j.CLAMP_TO_EDGE),Oe=u.fbo=R.createFramebuffer(ie,ie,!0,!1),Oe.colorAttachment.set(Ye.texture)}R.bindFramebuffer.set(Oe.framebuffer),R.viewport.set([0,0,ie,ie]),O.useProgram("hillshadePrepare").draw(R,j.TRIANGLES,C,w,I,Do.disabled,((Ye,$e)=>{const He=$e.stride,We=s.F();return s.aN(We,0,s.W,-s.W,0,0,1),s.H(We,We,[0,-s.W,0]),{u_matrix:We,u_image:1,u_dimension:[He,He],u_zoom:Ye.overscaledZ,u_unpack:$e.getUnpackVector()}})(u.tileID,Q),null,p.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function Vp(O,u,p,C,w,I){const R=C.paint.get("raster-fade-duration");if(!I&&R>0){const j=B.now(),Q=(j-O.timeAdded)/R,ie=u?(j-u.timeAdded)/R:-1,de=p.getSource(),fe=w.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),Oe=!u||Math.abs(u.tileID.overscaledZ-fe)>Math.abs(O.tileID.overscaledZ-fe),Ye=Oe&&O.refreshedUponExpiration?1:s.ac(Oe?Q:1-ie,0,1);return O.refreshedUponExpiration&&Q>=1&&(O.refreshedUponExpiration=!1),u?{opacity:1,mix:1-Ye}:{opacity:Ye,mix:0}}return{opacity:1,mix:0}}const Bc=new s.aO(1,0,0,1),ad=new s.aO(0,1,0,1),Dl=new s.aO(0,0,1,1),xl=new s.aO(1,0,1,1),ma=new s.aO(0,1,1,1);function CA(O,u,p,C){Eu(O,0,u+p/2,O.transform.width,p,C)}function Ll(O,u,p,C){Eu(O,u-p/2,0,p,O.transform.height,C)}function Eu(O,u,p,C,w,I){const R=O.context,j=R.gl;j.enable(j.SCISSOR_TEST),j.scissor(u*O.pixelRatio,p*O.pixelRatio,C*O.pixelRatio,w*O.pixelRatio),R.clear({color:I}),j.disable(j.SCISSOR_TEST)}function Ul(O,u,p){const C=O.context,w=C.gl,I=p.posMatrix,R=O.useProgram("debug"),j=Wi.disabled,Q=Io.disabled,ie=O.colorModeForRenderPass(),de="$debug",fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(p);C.activeTexture.set(w.TEXTURE0);const Oe=u.getTileByID(p.key).latestRawTileData,Ye=Math.floor((Oe&&Oe.byteLength||0)/1024),$e=u.getTile(p).tileSize,He=512/Math.min($e,512)*(p.overscaledZ/O.transform.zoom)*.5;let We=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(We+=` => ${p.overscaledZ}`),function(ht,Ft){ht.initDebugOverlayCanvas();const tt=ht.debugOverlayCanvas,bt=ht.context.gl,Pt=ht.debugOverlayCanvas.getContext("2d");Pt.clearRect(0,0,tt.width,tt.height),Pt.shadowColor="white",Pt.shadowBlur=2,Pt.lineWidth=1.5,Pt.strokeStyle="white",Pt.textBaseline="top",Pt.font="bold 36px Open Sans, sans-serif",Pt.fillText(Ft,5,5),Pt.strokeText(Ft,5,5),ht.debugOverlayTexture.update(tt),ht.debugOverlayTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE)}(O,`${We} ${Ye}kB`),R.draw(C,w.TRIANGLES,j,Q,la.alphaBlended,Do.disabled,xu(I,s.aO.transparent,He),null,de,O.debugBuffer,O.quadTriangleIndexBuffer,O.debugSegments),R.draw(C,w.LINE_STRIP,j,Q,ie,Do.disabled,xu(I,s.aO.red),fe,de,O.debugBuffer,O.tileBorderIndexBuffer,O.debugSegments)}function $d(O,u,p){const C=O.context,w=C.gl,I=O.colorModeForRenderPass(),R=new Wi(w.LEQUAL,Wi.ReadWrite,O.depthRangeFor3D),j=O.useProgram("terrain"),Q=u.getTerrainMesh();C.bindFramebuffer.set(null),C.viewport.set([0,0,O.width,O.height]);for(const ie of p){const de=O.renderToTexture.getTexture(ie),fe=u.getTerrainData(ie.tileID);C.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,de.texture);const Oe={u_matrix:O.transform.calculatePosMatrix(ie.tileID.toUnwrapped()),u_texture:0,u_ele_delta:u.getMeshFrameDelta(O.transform.zoom)};j.draw(C,w.TRIANGLES,R,Io.disabled,I,Do.backCCW,Oe,fe,"terrain",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}class kc{constructor(u,p){this.context=new Yf(u),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Dt.maxUnderzooming+Dt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new dr}resize(u,p,C){if(this.width=Math.floor(u*C),this.height=Math.floor(p*C),this.pixelRatio=C,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style._order)this.style._layers[w].resize()}setup(){const u=this.context,p=new s.aV;p.emplaceBack(0,0),p.emplaceBack(s.W,0),p.emplaceBack(0,s.W),p.emplaceBack(s.W,s.W),this.tileExtentBuffer=u.createVertexBuffer(p,Ta.members),this.tileExtentSegments=s.$.simpleSegment(0,0,4,2);const C=new s.aV;C.emplaceBack(0,0),C.emplaceBack(s.W,0),C.emplaceBack(0,s.W),C.emplaceBack(s.W,s.W),this.debugBuffer=u.createVertexBuffer(C,Ta.members),this.debugSegments=s.$.simpleSegment(0,0,4,5);const w=new s.Z;w.emplaceBack(0,0,0,0),w.emplaceBack(s.W,0,s.W,0),w.emplaceBack(0,s.W,0,s.W),w.emplaceBack(s.W,s.W,s.W,s.W),this.rasterBoundsBuffer=u.createVertexBuffer(w,er.members),this.rasterBoundsSegments=s.$.simpleSegment(0,0,4,2);const I=new s.aV;I.emplaceBack(0,0),I.emplaceBack(1,0),I.emplaceBack(0,1),I.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(I,Ta.members),this.viewportSegments=s.$.simpleSegment(0,0,4,2);const R=new s.aW;R.emplaceBack(0),R.emplaceBack(1),R.emplaceBack(3),R.emplaceBack(2),R.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(R);const j=new s.aX;j.emplaceBack(0,1,2),j.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(j);const Q=this.context.gl;this.stencilClearMode=new Io({func:Q.ALWAYS,mask:0},0,255,Q.ZERO,Q.ZERO,Q.ZERO)}clearStencil(){const u=this.context,p=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const C=s.F();s.aN(C,0,this.width,this.height,0,0,1),s.J(C,C,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,p.TRIANGLES,Wi.disabled,this.stencilClearMode,la.disabled,Do.disabled,Wu(C),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,p){if(this.currentStencilSource===u.source||!u.isTileClipped()||!p||!p.length)return;this.currentStencilSource=u.source;const C=this.context,w=C.gl;this.nextStencilID+p.length>256&&this.clearStencil(),C.setColorMode(la.disabled),C.setDepthMode(Wi.disabled);const I=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of p){const j=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,Q=this.style.map.terrain&&this.style.map.terrain.getTerrainData(R);I.draw(C,w.TRIANGLES,Wi.disabled,new Io({func:w.ALWAYS,mask:0},j,255,w.KEEP,w.KEEP,w.REPLACE),la.disabled,Do.disabled,Wu(R.posMatrix),Q,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,p=this.context.gl;return new Io({func:p.NOTEQUAL,mask:255},u,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(u){const p=this.context.gl;return new Io({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(u){const p=this.context.gl,C=u.sort((R,j)=>j.overscaledZ-R.overscaledZ),w=C[C.length-1].overscaledZ,I=C[0].overscaledZ-w+1;if(I>1){this.currentStencilSource=void 0,this.nextStencilID+I>256&&this.clearStencil();const R={};for(let j=0;j<I;j++)R[j+w]=new Io({func:p.GEQUAL,mask:255},j+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=I,[R,C]}return[{[w]:Io.disabled},C]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new la([u.CONSTANT_COLOR,u.ONE],new s.aO(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?la.unblended:la.alphaBlended}depthModeForSublayer(u,p,C){if(!this.opaquePassEnabledForLayer())return Wi.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Wi(C||this.context.gl.LEQUAL,p,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,p){this.style=u,this.options=p,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(B.now()),this.imageManager.beginFrame();const C=this.style._order,w=this.style.sourceCaches,I={},R={},j={};for(const Q in w){const ie=w[Q];ie.used&&ie.prepare(this.context),I[Q]=ie.getVisibleCoordinates(),R[Q]=I[Q].slice().reverse(),j[Q]=ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Q=0;Q<C.length;Q++)if(this.style._layers[C[Q]].is3D()){this.opaquePassCutoff=Q;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Q of C){const ie=this.style._layers[Q];if(!ie.hasOffscreenPass()||ie.isHidden(this.transform.zoom))continue;const de=R[ie.source];(ie.type==="custom"||de.length)&&this.renderLayer(this,w[ie.source],ie,de)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?s.aO.black:s.aO.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const Q=this.style._layers[C[this.currentLayer]],ie=w[Q.source],de=I[Q.source];this._renderTileClippingMasks(Q,de),this.renderLayer(this,ie,Q,de)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const Q=this.style._layers[C[this.currentLayer]],ie=w[Q.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Q))continue;const de=(Q.type==="symbol"?j:R)[Q.source];this._renderTileClippingMasks(Q,I[Q.source]),this.renderLayer(this,ie,Q,de)}if(this.options.showTileBoundaries){const Q=function(ie,de){let fe=null;const Oe=Object.values(ie._layers).flatMap(We=>We.source&&!We.isHidden(de)?[ie.sourceCaches[We.source]]:[]),Ye=Oe.filter(We=>We.getSource().type==="vector"),$e=Oe.filter(We=>We.getSource().type!=="vector"),He=We=>{(!fe||fe.getSource().maxzoom<We.getSource().maxzoom)&&(fe=We)};return Ye.forEach(We=>He(We)),fe||$e.forEach(We=>He(We)),fe}(this.style,this.transform.zoom);Q&&function(ie,de,fe){for(let Oe=0;Oe<fe.length;Oe++)Ul(ie,de,fe[Oe])}(this,Q,Q.getVisibleCoordinates())}this.options.showPadding&&function(Q){const ie=Q.transform.padding;CA(Q,Q.transform.height-(ie.top||0),3,Bc),CA(Q,ie.bottom||0,3,ad),Ll(Q,ie.left||0,3,Dl),Ll(Q,Q.transform.width-(ie.right||0),3,xl);const de=Q.transform.centerPoint;(function(fe,Oe,Ye,$e){Eu(fe,Oe-1,Ye-10,2,20,$e),Eu(fe,Oe-10,Ye-1,20,2,$e)})(Q,de.x,Q.transform.height-de.y,ma)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(u){if(!this.style||!this.style.map||!this.style.map.terrain)return;const p=this.terrainFacilitator.matrix,C=this.transform.projMatrix;let w=this.terrainFacilitator.dirty;w||(w=u?!s.aY(p,C):!s.aZ(p,C)),w||(w=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),w&&(s.a_(p,C),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(I,R){const j=I.context,Q=j.gl,ie=la.unblended,de=new Wi(Q.LEQUAL,Wi.ReadWrite,[0,1]),fe=R.getTerrainMesh(),Oe=R.sourceCache.getRenderableTiles(),Ye=I.useProgram("terrainDepth");j.bindFramebuffer.set(R.getFramebuffer("depth").framebuffer),j.viewport.set([0,0,I.width/devicePixelRatio,I.height/devicePixelRatio]),j.clear({color:s.aO.transparent,depth:1});for(const $e of Oe){const He=R.getTerrainData($e.tileID),We={u_matrix:I.transform.calculatePosMatrix($e.tileID.toUnwrapped()),u_ele_delta:R.getMeshFrameDelta(I.transform.zoom)};Ye.draw(j,Q.TRIANGLES,de,Io.disabled,ie,Do.backCCW,We,He,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}j.bindFramebuffer.set(null),j.viewport.set([0,0,I.width,I.height])}(this,this.style.map.terrain),function(I,R){const j=I.context,Q=j.gl,ie=la.unblended,de=new Wi(Q.LEQUAL,Wi.ReadWrite,[0,1]),fe=R.getTerrainMesh(),Oe=R.getCoordsTexture(),Ye=R.sourceCache.getRenderableTiles(),$e=I.useProgram("terrainCoords");j.bindFramebuffer.set(R.getFramebuffer("coords").framebuffer),j.viewport.set([0,0,I.width/devicePixelRatio,I.height/devicePixelRatio]),j.clear({color:s.aO.transparent,depth:1}),R.coordsIndex=[];for(const He of Ye){const We=R.getTerrainData(He.tileID);j.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,Oe.texture);const ht={u_matrix:I.transform.calculatePosMatrix(He.tileID.toUnwrapped()),u_terrain_coords_id:(255-R.coordsIndex.length)/255,u_texture:0,u_ele_delta:R.getMeshFrameDelta(I.transform.zoom)};$e.draw(j,Q.TRIANGLES,de,Io.disabled,ie,Do.backCCW,ht,We,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),R.coordsIndex.push(He.tileID.key)}j.bindFramebuffer.set(null),j.viewport.set([0,0,I.width,I.height])}(this,this.style.map.terrain))}renderLayer(u,p,C,w){if(!C.isHidden(this.transform.zoom)&&(C.type==="background"||C.type==="custom"||(w||[]).length))switch(this.id=C.id,C.type){case"symbol":(function(I,R,j,Q,ie){if(I.renderPass!=="translucent")return;const de=Io.disabled,fe=I.colorModeForRenderPass();(j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Oe,Ye,$e,He,We,ht,Ft){const tt=Ye.transform,bt=We==="map",Pt=ht==="map";for(const Ut of Oe){const Zt=He.getTile(Ut),dn=Zt.getBucket($e);if(!dn||!dn.text||!dn.text.segments.get().length)continue;const un=s.ag(dn.textSizeData,tt.zoom),pn=lr(Zt,1,Ye.transform.zoom),$n=Pr(Ut.posMatrix,Pt,bt,Ye.transform,pn),qr=$e.layout.get("icon-text-fit")!=="none"&&dn.hasIconData();if(un){const kn=Math.pow(2,tt.zoom-Zt.tileID.overscaledZ);Fl(dn,bt,Pt,Ft,tt,$n,Ut.posMatrix,kn,un,qr,Ye.style.map.terrain?(vr,di)=>Ye.style.map.terrain.getElevation(Ut,vr,di):null)}}}(Q,I,j,R,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),ie),j.paint.get("icon-opacity").constantOr(1)!==0&&Lh(I,R,j,Q,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),de,fe),j.paint.get("text-opacity").constantOr(1)!==0&&Lh(I,R,j,Q,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),de,fe),R.map.showCollisionBoxes&&(Ls(I,R,j,Q,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),Ls(I,R,j,Q,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))})(u,p,C,w,this.style.placement.variableOffsets);break;case"circle":(function(I,R,j,Q){if(I.renderPass!=="translucent")return;const ie=j.paint.get("circle-opacity"),de=j.paint.get("circle-stroke-width"),fe=j.paint.get("circle-stroke-opacity"),Oe=!j.layout.get("circle-sort-key").isConstant();if(ie.constantOr(1)===0&&(de.constantOr(1)===0||fe.constantOr(1)===0))return;const Ye=I.context,$e=Ye.gl,He=I.depthModeForSublayer(0,Wi.ReadOnly),We=Io.disabled,ht=I.colorModeForRenderPass(),Ft=[];for(let tt=0;tt<Q.length;tt++){const bt=Q[tt],Pt=R.getTile(bt),Ut=Pt.getBucket(j);if(!Ut)continue;const Zt=Ut.programConfigurations.get(j.id),dn=I.useProgram("circle",Zt),un=Ut.layoutVertexBuffer,pn=Ut.indexBuffer,$n=I.style.map.terrain&&I.style.map.terrain.getTerrainData(bt),qr={programConfiguration:Zt,program:dn,layoutVertexBuffer:un,indexBuffer:pn,uniformValues:ju(I,bt,Pt,j),terrainData:$n};if(Oe){const kn=Ut.segments.get();for(const vr of kn)Ft.push({segments:new s.$([vr]),sortKey:vr.sortKey,state:qr})}else Ft.push({segments:Ut.segments,sortKey:0,state:qr})}Oe&&Ft.sort((tt,bt)=>tt.sortKey-bt.sortKey);for(const tt of Ft){const{programConfiguration:bt,program:Pt,layoutVertexBuffer:Ut,indexBuffer:Zt,uniformValues:dn,terrainData:un}=tt.state;Pt.draw(Ye,$e.TRIANGLES,He,We,ht,Do.disabled,dn,un,j.id,Ut,Zt,tt.segments,j.paint,I.transform.zoom,bt)}})(u,p,C,w);break;case"heatmap":(function(I,R,j,Q){if(j.paint.get("heatmap-opacity")!==0)if(I.renderPass==="offscreen"){const ie=I.context,de=ie.gl,fe=Io.disabled,Oe=new la([de.ONE,de.ONE],s.aO.transparent,[!0,!0,!0,!0]);(function(Ye,$e,He){const We=Ye.gl;Ye.activeTexture.set(We.TEXTURE1),Ye.viewport.set([0,0,$e.width/4,$e.height/4]);let ht=He.heatmapFbo;if(ht)We.bindTexture(We.TEXTURE_2D,ht.colorAttachment.get()),Ye.bindFramebuffer.set(ht.framebuffer);else{const Ft=We.createTexture();We.bindTexture(We.TEXTURE_2D,Ft),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_WRAP_S,We.CLAMP_TO_EDGE),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_WRAP_T,We.CLAMP_TO_EDGE),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_MIN_FILTER,We.LINEAR),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_MAG_FILTER,We.LINEAR),ht=He.heatmapFbo=Ye.createFramebuffer($e.width/4,$e.height/4,!1,!1),function(tt,bt,Pt,Ut){var Zt,dn;const un=tt.gl,pn=(Zt=tt.HALF_FLOAT)!==null&&Zt!==void 0?Zt:un.UNSIGNED_BYTE,$n=(dn=tt.RGBA16F)!==null&&dn!==void 0?dn:un.RGBA;un.texImage2D(un.TEXTURE_2D,0,$n,bt.width/4,bt.height/4,0,un.RGBA,pn,null),Ut.colorAttachment.set(Pt)}(Ye,$e,Ft,ht)}})(ie,I,j),ie.clear({color:s.aO.transparent});for(let Ye=0;Ye<Q.length;Ye++){const $e=Q[Ye];if(R.hasRenderableParent($e))continue;const He=R.getTile($e),We=He.getBucket(j);if(!We)continue;const ht=We.programConfigurations.get(j.id),Ft=I.useProgram("heatmap",ht),{zoom:tt}=I.transform;Ft.draw(ie,de.TRIANGLES,Wi.disabled,fe,Oe,Do.disabled,Wo($e.posMatrix,He,tt,j.paint.get("heatmap-intensity")),null,j.id,We.layoutVertexBuffer,We.indexBuffer,We.segments,j.paint,I.transform.zoom,ht)}ie.viewport.set([0,0,I.width,I.height])}else I.renderPass==="translucent"&&(I.context.setColorMode(I.colorModeForRenderPass()),function(ie,de){const fe=ie.context,Oe=fe.gl,Ye=de.heatmapFbo;if(!Ye)return;fe.activeTexture.set(Oe.TEXTURE0),Oe.bindTexture(Oe.TEXTURE_2D,Ye.colorAttachment.get()),fe.activeTexture.set(Oe.TEXTURE1);let $e=de.colorRampTexture;$e||($e=de.colorRampTexture=new Le(fe,de.colorRamp,Oe.RGBA)),$e.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(fe,Oe.TRIANGLES,Wi.disabled,Io.disabled,ie.colorModeForRenderPass(),Do.disabled,((He,We,ht,Ft)=>{const tt=s.F();s.aN(tt,0,He.width,He.height,0,0,1);const bt=He.context.gl;return{u_matrix:tt,u_world:[bt.drawingBufferWidth,bt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:We.paint.get("heatmap-opacity")}})(ie,de),null,de.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,de.paint,ie.transform.zoom)}(I,j))})(u,p,C,w);break;case"line":(function(I,R,j,Q){if(I.renderPass!=="translucent")return;const ie=j.paint.get("line-opacity"),de=j.paint.get("line-width");if(ie.constantOr(1)===0||de.constantOr(1)===0)return;const fe=I.depthModeForSublayer(0,Wi.ReadOnly),Oe=I.colorModeForRenderPass(),Ye=j.paint.get("line-dasharray"),$e=j.paint.get("line-pattern"),He=$e.constantOr(1),We=j.paint.get("line-gradient"),ht=j.getCrossfadeParameters(),Ft=He?"linePattern":Ye?"lineSDF":We?"lineGradient":"line",tt=I.context,bt=tt.gl;let Pt=!0;for(const Ut of Q){const Zt=R.getTile(Ut);if(He&&!Zt.patternsLoaded())continue;const dn=Zt.getBucket(j);if(!dn)continue;const un=dn.programConfigurations.get(j.id),pn=I.context.program.get(),$n=I.useProgram(Ft,un),qr=Pt||$n.program!==pn,kn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ut),vr=$e.constantOr(null);if(vr&&Zt.imageAtlas){const Hr=Zt.imageAtlas,ei=Hr.patternPositions[vr.to.toString()],Nr=Hr.patternPositions[vr.from.toString()];ei&&Nr&&un.setConstantPatternPositions(ei,Nr)}const di=kn?Ut:null,Ti=He?sl(I,Zt,j,ht,di):Ye?No(I,Zt,j,Ye,ht,di):We?as(I,Zt,j,dn.lineClipsArray.length,di):Jl(I,Zt,j,di);if(He)tt.activeTexture.set(bt.TEXTURE0),Zt.imageAtlasTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE),un.updatePaintBuffers(ht);else if(Ye&&(qr||I.lineAtlas.dirty))tt.activeTexture.set(bt.TEXTURE0),I.lineAtlas.bind(tt);else if(We){const Hr=dn.gradients[j.id];let ei=Hr.texture;if(j.gradientVersion!==Hr.version){let Nr=256;if(j.stepInterpolant){const Ho=R.getSource().maxzoom,Lo=Ut.canonical.z===Ho?Math.ceil(1<<I.transform.maxZoom-Ut.canonical.z):1;Nr=s.ac(s.aT(dn.maxLineLength/s.W*1024*Lo),256,tt.maxTextureSize)}Hr.gradient=s.aU({expression:j.gradientExpression(),evaluationKey:"lineProgress",resolution:Nr,image:Hr.gradient||void 0,clips:dn.lineClipsArray}),Hr.texture?Hr.texture.update(Hr.gradient):Hr.texture=new Le(tt,Hr.gradient,bt.RGBA),Hr.version=j.gradientVersion,ei=Hr.texture}tt.activeTexture.set(bt.TEXTURE0),ei.bind(j.stepInterpolant?bt.NEAREST:bt.LINEAR,bt.CLAMP_TO_EDGE)}$n.draw(tt,bt.TRIANGLES,fe,I.stencilModeForClipping(Ut),Oe,Do.disabled,Ti,kn,j.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,j.paint,I.transform.zoom,un,dn.layoutVertexBuffer2),Pt=!1}})(u,p,C,w);break;case"fill":(function(I,R,j,Q){const ie=j.paint.get("fill-color"),de=j.paint.get("fill-opacity");if(de.constantOr(1)===0)return;const fe=I.colorModeForRenderPass(),Oe=j.paint.get("fill-pattern"),Ye=I.opaquePassEnabledForLayer()&&!Oe.constantOr(1)&&ie.constantOr(s.aO.transparent).a===1&&de.constantOr(0)===1?"opaque":"translucent";if(I.renderPass===Ye){const $e=I.depthModeForSublayer(1,I.renderPass==="opaque"?Wi.ReadWrite:Wi.ReadOnly);_A(I,R,j,Q,$e,fe,!1)}if(I.renderPass==="translucent"&&j.paint.get("fill-antialias")){const $e=I.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,Wi.ReadOnly);_A(I,R,j,Q,$e,fe,!0)}})(u,p,C,w);break;case"fill-extrusion":(function(I,R,j,Q){const ie=j.paint.get("fill-extrusion-opacity");if(ie!==0&&I.renderPass==="translucent"){const de=new Wi(I.context.gl.LEQUAL,Wi.ReadWrite,I.depthRangeFor3D);if(ie!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))YA(I,R,j,Q,de,Io.disabled,la.disabled),YA(I,R,j,Q,de,I.stencilModeFor3D(),I.colorModeForRenderPass());else{const fe=I.colorModeForRenderPass();YA(I,R,j,Q,de,Io.disabled,fe)}}})(u,p,C,w);break;case"hillshade":(function(I,R,j,Q){if(I.renderPass!=="offscreen"&&I.renderPass!=="translucent")return;const ie=I.context,de=I.depthModeForSublayer(0,Wi.ReadOnly),fe=I.colorModeForRenderPass(),[Oe,Ye]=I.renderPass==="translucent"?I.stencilConfigForOverlap(Q):[{},Q];for(const $e of Ye){const He=R.getTile($e);He.needsHillshadePrepare!==void 0&&He.needsHillshadePrepare&&I.renderPass==="offscreen"?qf(I,He,j,de,Io.disabled,fe):I.renderPass==="translucent"&&qA(I,$e,He,j,de,Oe[$e.overscaledZ],fe)}ie.viewport.set([0,0,I.width,I.height])})(u,p,C,w);break;case"raster":(function(I,R,j,Q){if(I.renderPass!=="translucent"||j.paint.get("raster-opacity")===0||!Q.length)return;const ie=I.context,de=ie.gl,fe=R.getSource(),Oe=I.useProgram("raster"),Ye=I.colorModeForRenderPass(),[$e,He]=fe instanceof Ar?[{},Q]:I.stencilConfigForOverlap(Q),We=He[He.length-1].overscaledZ,ht=!I.options.moving;for(const Ft of He){const tt=I.depthModeForSublayer(Ft.overscaledZ-We,j.paint.get("raster-opacity")===1?Wi.ReadWrite:Wi.ReadOnly,de.LESS),bt=R.getTile(Ft);bt.registerFadeDuration(j.paint.get("raster-fade-duration"));const Pt=R.findLoadedParent(Ft,0),Ut=Vp(bt,Pt,R,j,I.transform,I.style.map.terrain);let Zt,dn;const un=j.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;ie.activeTexture.set(de.TEXTURE0),bt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),ie.activeTexture.set(de.TEXTURE1),Pt?(Pt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),Zt=Math.pow(2,Pt.tileID.overscaledZ-bt.tileID.overscaledZ),dn=[bt.tileID.canonical.x*Zt%1,bt.tileID.canonical.y*Zt%1]):bt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST);const pn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ft),$n=pn?Ft:null,qr=$n?$n.posMatrix:I.transform.calculatePosMatrix(Ft.toUnwrapped(),ht),kn=bl(qr,dn||[0,0],Zt||1,Ut,j);fe instanceof Ar?Oe.draw(ie,de.TRIANGLES,tt,Io.disabled,Ye,Do.disabled,kn,pn,j.id,fe.boundsBuffer,I.quadTriangleIndexBuffer,fe.boundsSegments):Oe.draw(ie,de.TRIANGLES,tt,$e[Ft.overscaledZ],Ye,Do.disabled,kn,pn,j.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}})(u,p,C,w);break;case"background":(function(I,R,j,Q){const ie=j.paint.get("background-color"),de=j.paint.get("background-opacity");if(de===0)return;const fe=I.context,Oe=fe.gl,Ye=I.transform,$e=Ye.tileSize,He=j.paint.get("background-pattern");if(I.isPatternMissing(He))return;const We=!He&&ie.a===1&&de===1&&I.opaquePassEnabledForLayer()?"opaque":"translucent";if(I.renderPass!==We)return;const ht=Io.disabled,Ft=I.depthModeForSublayer(0,We==="opaque"?Wi.ReadWrite:Wi.ReadOnly),tt=I.colorModeForRenderPass(),bt=I.useProgram(He?"backgroundPattern":"background"),Pt=Q||Ye.coveringTiles({tileSize:$e,terrain:I.style.map.terrain});He&&(fe.activeTexture.set(Oe.TEXTURE0),I.imageManager.bind(I.context));const Ut=j.getCrossfadeParameters();for(const Zt of Pt){const dn=Q?Zt.posMatrix:I.transform.calculatePosMatrix(Zt.toUnwrapped()),un=He?io(dn,de,I,He,{tileID:Zt,tileSize:$e},Ut):vo(dn,de,ie),pn=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Zt);bt.draw(fe,Oe.TRIANGLES,Ft,ht,tt,Do.disabled,un,pn,j.id,I.tileExtentBuffer,I.quadTriangleIndexBuffer,I.tileExtentSegments)}})(u,0,C,w);break;case"custom":(function(I,R,j){const Q=I.context,ie=j.implementation;if(I.renderPass==="offscreen"){const de=ie.prerender;de&&(I.setCustomLayerDefaults(),Q.setColorMode(I.colorModeForRenderPass()),de.call(ie,Q.gl,I.transform.customLayerMatrix()),Q.setDirty(),I.setBaseState())}else if(I.renderPass==="translucent"){I.setCustomLayerDefaults(),Q.setColorMode(I.colorModeForRenderPass()),Q.setStencilMode(Io.disabled);const de=ie.renderingMode==="3d"?new Wi(I.context.gl.LEQUAL,Wi.ReadWrite,I.depthRangeFor3D):I.depthModeForSublayer(0,Wi.ReadOnly);Q.setDepthMode(de),ie.render(Q.gl,I.transform.customLayerMatrix()),Q.setDirty(),I.setBaseState(),Q.bindFramebuffer.set(null)}})(u,0,C)}}translatePosMatrix(u,p,C,w,I){if(!C[0]&&!C[1])return u;const R=I?w==="map"?this.transform.angle:0:w==="viewport"?-this.transform.angle:0;if(R){const ie=Math.sin(R),de=Math.cos(R);C=[C[0]*de-C[1]*ie,C[0]*ie+C[1]*de]}const j=[I?C[0]:lr(p,C[0],this.transform.zoom),I?C[1]:lr(p,C[1],this.transform.zoom),0],Q=new Float32Array(16);return s.H(Q,u,j),Q}saveTileTexture(u){const p=this._tileTextures[u.size[0]];p?p.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const p=this._tileTextures[u];return p&&p.length>0?p.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const p=this.imageManager.getPattern(u.from.toString()),C=this.imageManager.getPattern(u.to.toString());return!p||!C}useProgram(u,p){this.cache=this.cache||{};const C=u+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[C]||(this.cache[C]=new Cu(this.context,Wa[u],p,z[u],this._showOverdrawInspector,this.style.map.terrain)),this.cache[C]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Le(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:u,drawingBufferHeight:p}=this.context.gl;return this.width!==u||this.height!==p}}class Ou{constructor(u,p){this.points=u,this.planes=p}static fromInvProjectionMatrix(u,p,C){const w=Math.pow(2,C),I=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const Q=1/(j=s.af([],j,u))[3]/p*w;return s.a$(j,j,[Q,Q,1/j[3],Q])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const Q=function(Oe,Ye){var $e=Ye[0],He=Ye[1],We=Ye[2],ht=$e*$e+He*He+We*We;return ht>0&&(ht=1/Math.sqrt(ht)),Oe[0]=Ye[0]*ht,Oe[1]=Ye[1]*ht,Oe[2]=Ye[2]*ht,Oe}([],function(Oe,Ye,$e){var He=Ye[0],We=Ye[1],ht=Ye[2],Ft=$e[0],tt=$e[1],bt=$e[2];return Oe[0]=We*bt-ht*tt,Oe[1]=ht*Ft-He*bt,Oe[2]=He*tt-We*Ft,Oe}([],xe([],I[j[0]],I[j[1]]),xe([],I[j[2]],I[j[1]]))),ie=-((de=Q)[0]*(fe=I[j[1]])[0]+de[1]*fe[1]+de[2]*fe[2]);var de,fe;return Q.concat(ie)});return new Ou(I,R)}}class Ic{constructor(u,p){this.min=u,this.max=p,this.center=function(C,w,I){return C[0]=.5*w[0],C[1]=.5*w[1],C[2]=.5*w[2],C}([],function(C,w,I){return C[0]=w[0]+I[0],C[1]=w[1]+I[1],C[2]=w[2]+I[2],C}([],this.min,this.max))}quadrant(u){const p=[u%2==0,u<2],C=J(this.min),w=J(this.max);for(let I=0;I<p.length;I++)C[I]=p[I]?this.min[I]:this.center[I],w[I]=p[I]?this.center[I]:this.max[I];return w[2]=this.max[2],new Ic(C,w)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let C=!0;for(let w=0;w<u.planes.length;w++){const I=u.planes[w];let R=0;for(let j=0;j<p.length;j++)s.b0(I,p[j])>=0&&R++;if(R===0)return 0;R!==p.length&&(C=!1)}if(C)return 2;for(let w=0;w<3;w++){let I=Number.MAX_VALUE,R=-Number.MAX_VALUE;for(let j=0;j<u.points.length;j++){const Q=u.points[j][w]-this.min[w];I=Math.min(I,Q),R=Math.max(R,Q)}if(R<0||I>this.max[w]-this.min[w])return 0}return 1}}class sd{constructor(u=0,p=0,C=0,w=0){if(isNaN(u)||u<0||isNaN(p)||p<0||isNaN(C)||C<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=p,this.left=C,this.right=w}interpolate(u,p,C){return p.top!=null&&u.top!=null&&(this.top=s.z.number(u.top,p.top,C)),p.bottom!=null&&u.bottom!=null&&(this.bottom=s.z.number(u.bottom,p.bottom,C)),p.left!=null&&u.left!=null&&(this.left=s.z.number(u.left,p.left,C)),p.right!=null&&u.right!=null&&(this.right=s.z.number(u.right,p.right,C)),this}getCenter(u,p){const C=s.ac((this.left+u-this.right)/2,0,u),w=s.ac((this.top+p-this.bottom)/2,0,p);return new s.P(C,w)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new sd(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Yd=85.051129;class iu{constructor(u,p,C,w,I){this.tileSize=512,this._renderWorldCopies=I===void 0||!!I,this._minZoom=u||0,this._maxZoom=p||22,this._minPitch=C??0,this._maxPitch=w??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new sd,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const u=new iu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.apply(this),u}apply(u){this.tileSize=u.tileSize,this.latRange=u.latRange,this.width=u.width,this.height=u.height,this._center=u._center,this._elevation=u._elevation,this.minElevationForCurrentTile=u.minElevationForCurrentTile,this.zoom=u.zoom,this.angle=u.angle,this._fov=u._fov,this._pitch=u._pitch,this._unmodified=u._unmodified,this._edgeInsets=u._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const p=-s.b1(u,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var C=new s.A(4);return s.A!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C}(),function(C,w,I){var R=w[0],j=w[1],Q=w[2],ie=w[3],de=Math.sin(I),fe=Math.cos(I);C[0]=R*fe+Q*de,C[1]=j*fe+ie*de,C[2]=R*-de+Q*fe,C[3]=j*-de+ie*fe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const p=s.ac(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const p=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,p,C){this._unmodified=!1,this._edgeInsets.interpolate(u,p,C),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const p=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(u){const p=[new s.b2(0,u)];if(this._renderWorldCopies){const C=this.pointCoordinate(new s.P(0,0)),w=this.pointCoordinate(new s.P(this.width,0)),I=this.pointCoordinate(new s.P(this.width,this.height)),R=this.pointCoordinate(new s.P(0,this.height)),j=Math.floor(Math.min(C.x,w.x,I.x,R.x)),Q=Math.floor(Math.max(C.x,w.x,I.x,R.x)),ie=1;for(let de=j-ie;de<=Q+ie;de++)de!==0&&p.push(new s.b2(de,u))}return p}coveringTiles(u){var p,C;let w=this.coveringZoomLevel(u);const I=w;if(u.minzoom!==void 0&&w<u.minzoom)return[];u.maxzoom!==void 0&&w>u.maxzoom&&(w=u.maxzoom);const R=this.pointCoordinate(this.getCameraPoint()),j=s.Y.fromLngLat(this.center),Q=Math.pow(2,w),ie=[Q*R.x,Q*R.y,0],de=[Q*j.x,Q*j.y,0],fe=Ou.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,w);let Oe=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Oe=w);const Ye=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,$e=tt=>({aabb:new Ic([tt*Q,0,0],[(tt+1)*Q,Q,0]),zoom:0,x:0,y:0,wrap:tt,fullyVisible:!1}),He=[],We=[],ht=w,Ft=u.reparseOverscaled?I:w;if(this._renderWorldCopies)for(let tt=1;tt<=3;tt++)He.push($e(-tt)),He.push($e(tt));for(He.push($e(0));He.length>0;){const tt=He.pop(),bt=tt.x,Pt=tt.y;let Ut=tt.fullyVisible;if(!Ut){const $n=tt.aabb.intersects(fe);if($n===0)continue;Ut=$n===2}const Zt=u.terrain?ie:de,dn=tt.aabb.distanceX(Zt),un=tt.aabb.distanceY(Zt),pn=Math.max(Math.abs(dn),Math.abs(un));if(tt.zoom===ht||pn>Ye+(1<<ht-tt.zoom)-2&&tt.zoom>=Oe){const $n=ht-tt.zoom,qr=ie[0]-.5-(bt<<$n),kn=ie[1]-.5-(Pt<<$n);We.push({tileID:new s.Q(tt.zoom===ht?Ft:tt.zoom,tt.wrap,tt.zoom,bt,Pt),distanceSq:Se([de[0]-.5-bt,de[1]-.5-Pt]),tileDistanceToCamera:Math.sqrt(qr*qr+kn*kn)})}else for(let $n=0;$n<4;$n++){const qr=(bt<<1)+$n%2,kn=(Pt<<1)+($n>>1),vr=tt.zoom+1;let di=tt.aabb.quadrant($n);if(u.terrain){const Ti=new s.Q(vr,tt.wrap,vr,qr,kn),Hr=u.terrain.getMinMaxElevation(Ti),ei=(p=Hr.minElevation)!==null&&p!==void 0?p:this.elevation,Nr=(C=Hr.maxElevation)!==null&&C!==void 0?C:this.elevation;di=new Ic([di.min[0],di.min[1],ei],[di.max[0],di.max[1],Nr])}He.push({aabb:di,zoom:vr,x:qr,y:kn,wrap:tt.wrap,fullyVisible:Ut})}}return We.sort((tt,bt)=>tt.distanceSq-bt.distanceSq).map(tt=>tt.tileID)}resize(u,p){this.width=u,this.height=p,this.pixelsToGLUnits=[2/u,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const p=s.ac(u.lat,-85.051129,Yd);return new s.P(s.N(u.lng)*this.worldSize,s.O(p)*this.worldSize)}unproject(u){return new s.Y(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const p=this.elevation,C=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,w=this.pointLocation(this.centerPoint,u),I=u.getElevationForLngLatZoom(w,this.tileZoom);if(!(this.elevation-I))return;const R=C+p-I,j=Math.cos(this._pitch)*this.cameraToCenterDistance/R/s.b3(1,w.lat),Q=this.scaleZoom(j/this.tileSize);this._elevation=I,this._center=w,this.zoom=Q}setLocationAtPoint(u,p){const C=this.pointCoordinate(p),w=this.pointCoordinate(this.centerPoint),I=this.locationCoordinate(u),R=new s.Y(I.x-(C.x-w.x),I.y-(C.y-w.y));this.center=this.coordinateLocation(R),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,p){return p?this.coordinatePoint(this.locationCoordinate(u),p.getElevationForLngLatZoom(u,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,p){return this.coordinateLocation(this.pointCoordinate(u,p))}locationCoordinate(u){return s.Y.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,p){if(p){const Oe=p.pointCoordinate(u);if(Oe!=null)return Oe}const C=[u.x,u.y,0,1],w=[u.x,u.y,1,1];s.af(C,C,this.pixelMatrixInverse),s.af(w,w,this.pixelMatrixInverse);const I=C[3],R=w[3],j=C[1]/I,Q=w[1]/R,ie=C[2]/I,de=w[2]/R,fe=ie===de?0:(0-ie)/(de-ie);return new s.Y(s.z.number(C[0]/I,w[0]/R,fe)/this.worldSize,s.z.number(j,Q,fe)/this.worldSize)}coordinatePoint(u,p=0,C=this.pixelMatrix){const w=[u.x*this.worldSize,u.y*this.worldSize,p,1];return s.af(w,w,C),new s.P(w[0]/w[3],w[1]/w[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new Rt().extend(this.pointLocation(new s.P(0,u))).extend(this.pointLocation(new s.P(this.width,u))).extend(this.pointLocation(new s.P(this.width,this.height))).extend(this.pointLocation(new s.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Rt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Yd])}calculatePosMatrix(u,p=!1){const C=u.key,w=p?this._alignedPosMatrixCache:this._posMatrixCache;if(w[C])return w[C];const I=u.canonical,R=this.worldSize/this.zoomScale(I.z),j=I.x+Math.pow(2,I.z)*u.wrap,Q=s.an(new Float64Array(16));return s.H(Q,Q,[j*R,I.y*R,0]),s.J(Q,Q,[R/s.W,R/s.W,1]),s.K(Q,p?this.alignedProjMatrix:this.projMatrix,Q),w[C]=new Float32Array(Q),w[C]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(u,p){p=s.ac(+p,this.minZoom,this.maxZoom);const C={center:new s.M(u.lng,u.lat),zoom:p};let w=this.lngRange;if(!this._renderWorldCopies&&w===null){const tt=179.9999999999;w=[-tt,tt]}const I=this.tileSize*this.zoomScale(C.zoom);let R=0,j=I,Q=0,ie=I,de=0,fe=0;const{x:Oe,y:Ye}=this.size;if(this.latRange){const tt=this.latRange;R=s.O(tt[1])*I,j=s.O(tt[0])*I,j-R<Ye&&(de=Ye/(j-R))}w&&(Q=s.b1(s.N(w[0])*I,0,I),ie=s.b1(s.N(w[1])*I,0,I),ie<Q&&(ie+=I),ie-Q<Oe&&(fe=Oe/(ie-Q)));const{x:$e,y:He}=this.project.call({worldSize:I},u);let We,ht;const Ft=Math.max(fe||0,de||0);if(Ft){const tt=new s.P(fe?(ie+Q)/2:$e,de?(j+R)/2:He);return C.center=this.unproject.call({worldSize:I},tt).wrap(),C.zoom+=this.scaleZoom(Ft),C}if(this.latRange){const tt=Ye/2;He-tt<R&&(ht=R+tt),He+tt>j&&(ht=j-tt)}if(w){const tt=(Q+ie)/2;let bt=$e;this._renderWorldCopies&&(bt=s.b1($e,tt-I/2,tt+I/2));const Pt=Oe/2;bt-Pt<Q&&(We=Q+Pt),bt+Pt>ie&&(We=ie-Pt)}if(We!==void 0||ht!==void 0){const tt=new s.P(We??$e,ht??He);C.center=this.unproject.call({worldSize:I},tt).wrap()}return C}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const u=this._unmodified,{center:p,zoom:C}=this.getConstrained(this.center,this.zoom);this.center=p,this.zoom=C,this._unmodified=u,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,p=this.point.x,C=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.b3(1,this.center.lat)*this.worldSize;let w=s.an(new Float64Array(16));s.J(w,w,[this.width/2,-this.height/2,1]),s.H(w,w,[1,-1,0]),this.labelPlaneMatrix=w,w=s.an(new Float64Array(16)),s.J(w,w,[1,-1,1]),s.H(w,w,[-1,-1,0]),s.J(w,w,[2/this.width,2/this.height,1]),this.glCoordMatrix=w;const I=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),R=Math.min(this.elevation,this.minElevationForCurrentTile),j=I-R*this._pixelPerMeter/Math.cos(this._pitch),Q=R<0?j:I,ie=Math.PI/2+this._pitch,de=this._fov*(.5+u.y/this.height),fe=Math.sin(de)*Q/Math.sin(s.ac(Math.PI-ie-de,.01,Math.PI-.01)),Oe=this.getHorizon(),Ye=2*Math.atan(Oe/this.cameraToCenterDistance)*(.5+u.y/(2*Oe)),$e=Math.sin(Ye)*Q/Math.sin(s.ac(Math.PI-ie-Ye,.01,Math.PI-.01)),He=Math.min(fe,$e),We=1.01*(Math.cos(Math.PI/2-this._pitch)*He+Q),ht=this.height/50;w=new Float64Array(16),s.b4(w,this._fov,this.width/this.height,ht,We),w[8]=2*-u.x/this.width,w[9]=2*u.y/this.height,s.J(w,w,[1,-1,1]),s.H(w,w,[0,0,-this.cameraToCenterDistance]),s.b5(w,w,this._pitch),s.ad(w,w,this.angle),s.H(w,w,[-p,-C,0]),this.mercatorMatrix=s.J([],w,[this.worldSize,this.worldSize,this.worldSize]),s.J(w,w,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.K(new Float64Array(16),this.labelPlaneMatrix,w),s.H(w,w,[0,0,-this.elevation]),this.projMatrix=w,this.invProjMatrix=s.ar([],w),this.pixelMatrix3D=s.K(new Float64Array(16),this.labelPlaneMatrix,w);const Ft=this.width%2/2,tt=this.height%2/2,bt=Math.cos(this.angle),Pt=Math.sin(this.angle),Ut=p-Math.round(p)+bt*Ft+Pt*tt,Zt=C-Math.round(C)+bt*tt+Pt*Ft,dn=new Float64Array(w);if(s.H(dn,dn,[Ut>.5?Ut-1:Ut,Zt>.5?Zt-1:Zt,0]),this.alignedProjMatrix=dn,w=s.ar(new Float64Array(16),this.pixelMatrix),!w)throw new Error("failed to invert matrix");this.pixelMatrixInverse=w,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new s.P(0,0)),p=[u.x*this.worldSize,u.y*this.worldSize,0,1];return s.af(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(0,u))}getCameraQueryGeometry(u){const p=this.getCameraPoint();if(u.length===1)return[u[0],p];{let C=p.x,w=p.y,I=p.x,R=p.y;for(const j of u)C=Math.min(C,j.x),w=Math.min(w,j.y),I=Math.max(I,j.x),R=Math.max(R,j.y);return[new s.P(C,w),new s.P(I,w),new s.P(I,R),new s.P(C,R),new s.P(C,w)]}}lngLatToCameraDepth(u,p){const C=this.locationCoordinate(u),w=[C.x*this.worldSize,C.y*this.worldSize,p,1];return s.af(w,w,this.projMatrix),w[2]/w[3]}}function Et(O,u){let p,C=!1,w=null,I=null;const R=()=>{w=null,C&&(O.apply(I,p),w=setTimeout(R,u),C=!1)};return(...j)=>(C=!0,I=this,p=j,w||R(),w)}class an{constructor(u){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let C;return p.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(C=w)}),(C&&C[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(C=>isNaN(C))){const C=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:C,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Et(this._updateHashUnthrottled,300),this._hashName=u&&encodeURIComponent(u)}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const p=this._map.getCenter(),C=Math.round(100*this._map.getZoom())/100,w=Math.ceil((C*Math.LN2+Math.log(512/360/.5))/Math.LN10),I=Math.pow(10,w),R=Math.round(p.lng*I)/I,j=Math.round(p.lat*I)/I,Q=this._map.getBearing(),ie=this._map.getPitch();let de="";if(de+=u?`/${R}/${j}/${C}`:`${C}/${j}/${R}`,(Q||ie)&&(de+="/"+Math.round(10*Q)/10),ie&&(de+=`/${Math.round(ie)}`),this._hashName){const fe=this._hashName;let Oe=!1;const Ye=window.location.hash.slice(1).split("&").map($e=>{const He=$e.split("=")[0];return He===fe?(Oe=!0,`${He}=${de}`):$e}).filter($e=>$e);return Oe||Ye.push(`${fe}=${de}`),`#${Ye.join("&")}`}return`#${de}`}}const jt={linearity:.3,easing:s.b6(0,0,.3,1)},hr=s.e({deceleration:2500,maxSpeed:1400},jt),li=s.e({deceleration:20,maxSpeed:1400},jt),oo=s.e({deceleration:1e3,maxSpeed:360},jt),Ka=s.e({deceleration:1e3,maxSpeed:90},jt);class To{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:B.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,p=B.now();for(;u.length>0&&p-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:I}of this._inertiaBuffer)p.zoom+=I.zoomDelta||0,p.bearing+=I.bearingDelta||0,p.pitch+=I.pitchDelta||0,I.panDelta&&p.pan._add(I.panDelta),I.around&&(p.around=I.around),I.pinchAround&&(p.pinchAround=I.pinchAround);const C=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(p.pan.mag()){const I=qd(p.pan.mag(),C,s.e({},hr,u||{}));w.offset=p.pan.mult(I.amount/p.pan.mag()),w.center=this._map.transform.center,bA(w,I)}if(p.zoom){const I=qd(p.zoom,C,li);w.zoom=this._map.transform.zoom+I.amount,bA(w,I)}if(p.bearing){const I=qd(p.bearing,C,oo);w.bearing=this._map.transform.bearing+s.ac(I.amount,-179,179),bA(w,I)}if(p.pitch){const I=qd(p.pitch,C,Ka);w.pitch=this._map.transform.pitch+I.amount,bA(w,I)}if(w.zoom||w.bearing){const I=p.pinchAround===void 0?p.around:p.pinchAround;w.around=I?this._map.unproject(I):this._map.getCenter()}return this.clear(),s.e(w,{noMoveStart:!0})}}function bA(O,u){(!O.duration||O.duration<u.duration)&&(O.duration=u.duration,O.easing=u.easing)}function qd(O,u,p){const{maxSpeed:C,linearity:w,deceleration:I}=p,R=s.ac(O*w/(u/1e3),-C,C),j=Math.abs(R)/(I*w);return{easing:p.easing,duration:1e3*j,amount:R*(j/2)}}class Ko extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,C,w={}){const I=k.mousePos(p.getCanvas(),C),R=p.unproject(I);super(u,s.e({point:I,lngLat:R,originalEvent:C},w)),this._defaultPrevented=!1,this.target=p}}class xA extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,C){const w=u==="touchend"?C.changedTouches:C.touches,I=k.touchPos(p.getCanvasContainer(),w),R=I.map(Q=>p.unproject(Q)),j=I.reduce((Q,ie,de,fe)=>Q.add(ie.div(fe.length)),new s.P(0,0));super(u,{points:I,point:j,lngLats:R,lngLat:p.unproject(j),originalEvent:C}),this._defaultPrevented=!1}}class xs extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,C){super(u,{originalEvent:C}),this._defaultPrevented=!1}}class Qa{constructor(u,p){this._map=u,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new xs(u.type,this._map,u))}mousedown(u,p){return this._mousedownPos=p,this._firePreventable(new Ko(u.type,this._map,u))}mouseup(u){this._map.fire(new Ko(u.type,this._map,u))}click(u,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Ko(u.type,this._map,u))}dblclick(u){return this._firePreventable(new Ko(u.type,this._map,u))}mouseover(u){this._map.fire(new Ko(u.type,this._map,u))}mouseout(u){this._map.fire(new Ko(u.type,this._map,u))}touchstart(u){return this._firePreventable(new xA(u.type,this._map,u))}touchmove(u){this._map.fire(new xA(u.type,this._map,u))}touchend(u){this._map.fire(new xA(u.type,this._map,u))}touchcancel(u){this._map.fire(new xA(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class $u{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new Ko(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ko("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new Ko(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ss{constructor(u){this._map=u}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(u){return this.transform.pointLocation(s.P.convert(u),this._map.terrain)}}class Vi{constructor(u,p){this._map=u,this._tr=new ss(u),this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,p){this.isEnabled()&&u.shiftKey&&u.button===0&&(k.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(u,p){if(!this._active)return;const C=p;if(this._lastPos.equals(C)||!this._box&&C.dist(this._startPos)<this._clickTolerance)return;const w=this._startPos;this._lastPos=C,this._box||(this._box=k.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",u));const I=Math.min(w.x,C.x),R=Math.max(w.x,C.x),j=Math.min(w.y,C.y),Q=Math.max(w.y,C.y);k.setTransform(this._box,`translate(${I}px,${j}px)`),this._box.style.width=R-I+"px",this._box.style.height=Q-j+"px"}mouseupWindow(u,p){if(!this._active||u.button!==0)return;const C=this._startPos,w=p;if(this.reset(),k.suppressClick(),C.x!==w.x||C.y!==w.y)return this._map.fire(new s.k("boxzoomend",{originalEvent:u})),{cameraAnimation:I=>I.fitScreenCoordinates(C,w,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(k.remove(this._box),this._box=null),k.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,p){return this._map.fire(new s.k(u,{originalEvent:p}))}}function Uh(O,u){if(O.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${O.length}, points ${u.length}`);const p={};for(let C=0;C<O.length;C++)p[O[C].identifier]=u[C];return p}class Rh{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,p,C){(this.centroid||C.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),C.length===this.numTouches&&(this.centroid=function(w){const I=new s.P(0,0);for(const R of w)I._add(R);return I.div(w.length)}(p),this.touches=Uh(C,p)))}touchmove(u,p,C){if(this.aborted||!this.centroid)return;const w=Uh(C,p);for(const I in this.touches){const R=w[I];(!R||R.dist(this.touches[I])>30)&&(this.aborted=!0)}}touchend(u,p,C){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),C.length===0){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class ou{constructor(u){this.singleTap=new Rh(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,p,C){this.singleTap.touchstart(u,p,C)}touchmove(u,p,C){this.singleTap.touchmove(u,p,C)}touchend(u,p,C){const w=this.singleTap.touchend(u,p,C);if(w){const I=u.timeStamp-this.lastTime<500,R=!this.lastTap||this.lastTap.dist(w)<30;if(I&&R||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class HA{constructor(u){this._tr=new ss(u),this._zoomIn=new ou({numTouches:1,numTaps:2}),this._zoomOut=new ou({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,p,C){this._zoomIn.touchstart(u,p,C),this._zoomOut.touchstart(u,p,C)}touchmove(u,p,C){this._zoomIn.touchmove(u,p,C),this._zoomOut.touchmove(u,p,C)}touchend(u,p,C){const w=this._zoomIn.touchend(u,p,C),I=this._zoomOut.touchend(u,p,C),R=this._tr;return w?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom+1,around:R.unproject(w)},{originalEvent:u})}):I?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom-1,around:R.unproject(I)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ga{constructor(u){this._enabled=!!u.enable,this._moveStateManager=u.moveStateManager,this._clickTolerance=u.clickTolerance||1,this._moveFunction=u.move,this._activateOnStart=!!u.activateOnStart,u.assignEvents(this),this.reset()}reset(u){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(u)}_move(...u){const p=this._moveFunction(...u);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(u,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(u)&&(this._moveStateManager.startMove(u),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(u,p){if(!this.isEnabled())return;const C=this._lastPoint;if(!C)return;if(u.preventDefault(),!this._moveStateManager.isValidMoveEvent(u))return void this.reset(u);const w=p.length?p[0]:p;return!this._moved&&w.dist(C)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=w,this._move(C,w))}dragEnd(u){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(u)&&(this._moved&&k.suppressClick(),this.reset(u))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Al={0:1,2:2};class Gn{constructor(u){this._correctEvent=u.checkCorrectEvent}startMove(u){const p=k.mouseButton(u);this._eventButton=p}endMove(u){delete this._eventButton}isValidStartEvent(u){return this._correctEvent(u)}isValidMoveEvent(u){return!function(p,C){const w=Al[C];return p.buttons===void 0||(p.buttons&w)!==w}(u,this._eventButton)}isValidEndEvent(u){return k.mouseButton(u)===this._eventButton}}class Rl{constructor(){this._firstTouch=void 0}_isOneFingerTouch(u){return u.targetTouches.length===1}_isSameTouchEvent(u){return u.targetTouches[0].identifier===this._firstTouch}startMove(u){this._firstTouch=u.targetTouches[0].identifier}endMove(u){delete this._firstTouch}isValidStartEvent(u){return this._isOneFingerTouch(u)}isValidMoveEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}isValidEndEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}}const Yu=O=>{O.mousedown=O.dragStart,O.mousemoveWindow=O.dragMove,O.mouseup=O.dragEnd,O.contextmenu=function(u){u.preventDefault()}},VA=({enable:O,clickTolerance:u,bearingDegreesPerPixelMoved:p=.8})=>{const C=new Gn({checkCorrectEvent:w=>k.mouseButton(w)===0&&w.ctrlKey||k.mouseButton(w)===2});return new ga({clickTolerance:u,move:(w,I)=>({bearingDelta:(I.x-w.x)*p}),moveStateManager:C,enable:O,assignEvents:Yu})},qu=({enable:O,clickTolerance:u,pitchDegreesPerPixelMoved:p=-.5})=>{const C=new Gn({checkCorrectEvent:w=>k.mouseButton(w)===0&&w.ctrlKey||k.mouseButton(w)===2});return new ga({clickTolerance:u,move:(w,I)=>({pitchDelta:(I.y-w.y)*p}),moveStateManager:C,enable:O,assignEvents:Yu})};class Vn{constructor(u,p){this._clickTolerance=u.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(u,p,C){return this._calculateTransform(u,p,C)}touchmove(u,p,C){if(this._active&&!(C.length<this.minTouchs()))return u.preventDefault(),this._calculateTransform(u,p,C)}touchend(u,p,C){this._calculateTransform(u,p,C),this._active&&C.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,p,C){C.length>0&&(this._active=!0);const w=Uh(C,p),I=new s.P(0,0),R=new s.P(0,0);let j=0;for(const ie in w){const de=w[ie],fe=this._touches[ie];fe&&(I._add(de),R._add(de.sub(fe)),j++,w[ie]=de)}if(this._touches=w,j<this.minTouchs()||!R.mag())return;const Q=R.div(j);return this._sum._add(Q),this._sum.mag()<this._clickTolerance?void 0:{around:I.div(j),panDelta:Q}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ZA{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(u,p,C){this._firstTwoTouches||C.length<2||(this._firstTwoTouches=[C[0].identifier,C[1].identifier],this._start([p[0],p[1]]))}touchmove(u,p,C){if(!this._firstTwoTouches)return;u.preventDefault();const[w,I]=this._firstTwoTouches,R=Hu(C,p,w),j=Hu(C,p,I);if(!R||!j)return;const Q=this._aroundCenter?null:R.add(j).div(2);return this._move([R,j],Q,u)}touchend(u,p,C){if(!this._firstTwoTouches)return;const[w,I]=this._firstTwoTouches,R=Hu(C,p,w),j=Hu(C,p,I);R&&j||(this._active&&k.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Hu(O,u,p){for(let C=0;C<O.length;C++)if(O[C].identifier===p)return u[C]}function Hf(O,u){return Math.log(O/u)/Math.LN2}class Vu extends ZA{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,p){const C=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(Hf(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Hf(this._distance,C),pinchAround:p}}}function Zu(O,u){return 180*O.angleWith(u)/Math.PI}class XA extends ZA{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,p,C){const w=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Zu(this._vector,w),pinchAround:p}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const p=25/(Math.PI*this._minDiameter)*360,C=Zu(u,this._startVector);return Math.abs(C)<p}}function Hd(O){return Math.abs(O.y)>Math.abs(O.x)}class Tc extends ZA{constructor(u){super(),this._currentTouchCount=0,this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,p,C){super.touchstart(u,p,C),this._currentTouchCount=C.length}_start(u){this._lastPoints=u,Hd(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,p,C){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const w=u[0].sub(this._lastPoints[0]),I=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(w,I,C.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(w.y+I.y)/2*-.5}):void 0}gestureBeginsVertically(u,p,C){if(this._valid!==void 0)return this._valid;const w=u.mag()>=2,I=p.mag()>=2;if(!w&&!I)return;if(!w||!I)return this._firstMove===void 0&&(this._firstMove=C),C-this._firstMove<100&&void 0;const R=u.y>0==p.y>0;return Hd(u)&&Hd(p)&&R}}const Xu={panStep:100,bearingStep:15,pitchStep:10};class wo{constructor(u){this._tr=new ss(u);const p=Xu;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let p=0,C=0,w=0,I=0,R=0;switch(u.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:u.shiftKey?C=-1:(u.preventDefault(),I=-1);break;case 39:u.shiftKey?C=1:(u.preventDefault(),I=1);break;case 38:u.shiftKey?w=1:(u.preventDefault(),R=-1);break;case 40:u.shiftKey?w=-1:(u.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(C=0,w=0),{cameraAnimation:j=>{const Q=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:Ju,zoom:p?Math.round(Q.zoom)+p*(u.shiftKey?2:1):Q.zoom,bearing:Q.bearing+C*this._bearingStep,pitch:Q.pitch+w*this._pitchStep,offset:[-I*this._panStep,-R*this._panStep],center:Q.center},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ju(O){return O*(2-O)}const ld=4.000244140625;class Vf{constructor(u,p){this._onTimeout=C=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(C)},this._map=u,this._tr=new ss(u),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!u[this._map.cooperativeGestures._bypassKey])return;let p=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const C=B.now(),w=C-(this._lastWheelEventTime||0);this._lastWheelEventTime=C,p!==0&&p%ld==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(w*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),u.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=u,this._delta-=p,this._active||this._start(u)),u.preventDefault()}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=k.mousePos(this._map.getCanvas(),u),C=this._tr;this._around=p.y>C.transform.height/2-C.transform.getHorizon()?s.M.convert(this._aroundCenter?C.center:C.unproject(p)):s.M.convert(C.center),this._aroundPoint=C.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._tr.transform;if(this._delta!==0){const j=this._type==="wheel"&&Math.abs(this._delta)>ld?this._wheelZoomRate:this._defaultZoomRate;let Q=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&Q!==0&&(Q=1/Q);const ie=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(ie*Q))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,C=this._startZoom,w=this._easing;let I,R=!1;if(this._type==="wheel"&&C&&w){const j=Math.min((B.now()-this._lastWheelEventTime)/200,1),Q=w(j);I=s.z.number(C,p,Q),j<1?this._frameId||(this._frameId=!0):R=!0}else I=p,R=!0;return this._active=!0,R&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!R,zoomDelta:I-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let p=s.b7;if(this._prevEase){const C=this._prevEase,w=(B.now()-C.start)/C.duration,I=C.easing(w+.01)-C.easing(w),R=.27/Math.sqrt(I*I+1e-4)*.01,j=Math.sqrt(.0729-R*R);p=s.b6(R,j,.25,1)}return this._prevEase={start:B.now(),duration:u,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class zh{constructor(u,p){this._clickZoom=u,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class jh{constructor(u){this._tr=new ss(u),this.reset()}reset(){this._active=!1}dblclick(u,p){return u.preventDefault(),{cameraAnimation:C=>{C.easeTo({duration:300,zoom:this._tr.zoom+(u.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Zf{constructor(){this._tap=new ou({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(u,p,C){if(!this._swipePoint)if(this._tapTime){const w=p[0],I=u.timeStamp-this._tapTime<500,R=this._tapPoint.dist(w)<30;I&&R?C.length>0&&(this._swipePoint=w,this._swipeTouch=C[0].identifier):this.reset()}else this._tap.touchstart(u,p,C)}touchmove(u,p,C){if(this._tapTime){if(this._swipePoint){if(C[0].identifier!==this._swipeTouch)return;const w=p[0],I=w.y-this._swipePoint.y;return this._swipePoint=w,u.preventDefault(),this._active=!0,{zoomDelta:I/128}}}else this._tap.touchmove(u,p,C)}touchend(u,p,C){if(this._tapTime)this._swipePoint&&C.length===0&&this.reset();else{const w=this._tap.touchend(u,p,C);w&&(this._tapTime=u.timeStamp,this._tapPoint=w)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ao{constructor(u,p,C){this._el=u,this._mousePan=p,this._touchPan=C}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ua{constructor(u,p,C){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=p,this._mousePitch=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class br{constructor(u,p,C,w){this._el=u,this._touchZoom=p,this._touchRotate=C,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Br{constructor(u,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=u,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const u=this._map.getCanvasContainer();u.classList.add("maplibregl-cooperative-gestures"),this._container=k.create("div","maplibregl-cooperative-gesture-screen",u);let p=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(p=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const C=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),w=document.createElement("div");w.className="maplibregl-desktop-message",w.textContent=p,this._container.appendChild(w);const I=document.createElement("div");I.className="maplibregl-mobile-message",I.textContent=C,this._container.appendChild(I),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(k.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(u){this._onCooperativeGesture(u.touches.length===1)}wheel(u){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!u[this._bypassKey])}_onCooperativeGesture(u){this._enabled&&u&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const wA=O=>O.zoom||O.drag||O.pitch||O.rotate;class Kc extends s.k{}function JA(O){return O.panDelta&&O.panDelta.mag()||O.zoomDelta||O.bearingDelta||O.pitchDelta}class Aa{constructor(u,p){this.handleWindowEvent=w=>{this.handleEvent(w,`${w.type}Window`)},this.handleEvent=(w,I)=>{if(w.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const R=w.type==="renderFrame"?void 0:w,j={needsRenderFrame:!1},Q={},ie={},de=w.touches,fe=de?this._getMapTouches(de):void 0,Oe=fe?k.touchPos(this._map.getCanvas(),fe):k.mousePos(this._map.getCanvas(),w);for(const{handlerName:He,handler:We,allowed:ht}of this._handlers){if(!We.isEnabled())continue;let Ft;this._blockedByActive(ie,ht,He)?We.reset():We[I||w.type]&&(Ft=We[I||w.type](w,Oe,fe),this.mergeHandlerResult(j,Q,Ft,He,R),Ft&&Ft.needsRenderFrame&&this._triggerRenderFrame()),(Ft||We.isActive())&&(ie[He]=We)}const Ye={};for(const He in this._previousActiveHandlers)ie[He]||(Ye[He]=R);this._previousActiveHandlers=ie,(Object.keys(Ye).length||JA(j))&&(this._changes.push([j,Q,Ye]),this._triggerRenderFrame()),(Object.keys(ie).length||JA(j))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:$e}=j;$e&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],$e(this._map))},this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new To(u),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const C=this._el;this._listeners=[[C,"touchstart",{passive:!0}],[C,"touchmove",{passive:!1}],[C,"touchend",void 0],[C,"touchcancel",void 0],[C,"mousedown",void 0],[C,"mousemove",void 0],[C,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[C,"mouseover",void 0],[C,"mouseout",void 0],[C,"dblclick",void 0],[C,"click",void 0],[C,"keydown",{capture:!1}],[C,"keyup",void 0],[C,"wheel",{passive:!1}],[C,"contextmenu",void 0],[window,"blur",void 0]];for(const[w,I,R]of this._listeners)k.addEventListener(w,I,w===document?this.handleWindowEvent:this.handleEvent,R)}destroy(){for(const[u,p,C]of this._listeners)k.removeEventListener(u,p,u===document?this.handleWindowEvent:this.handleEvent,C)}_addDefaultHandlers(u){const p=this._map,C=p.getCanvasContainer();this._add("mapEvent",new Qa(p,u));const w=p.boxZoom=new Vi(p,u);this._add("boxZoom",w),u.interactive&&u.boxZoom&&w.enable();const I=p.cooperativeGestures=new Br(p,u.cooperativeGestures);this._add("cooperativeGestures",I),u.cooperativeGestures&&I.enable();const R=new HA(p),j=new jh(p);p.doubleClickZoom=new zh(j,R),this._add("tapZoom",R),this._add("clickZoom",j),u.interactive&&u.doubleClickZoom&&p.doubleClickZoom.enable();const Q=new Zf;this._add("tapDragZoom",Q);const ie=p.touchPitch=new Tc(p);this._add("touchPitch",ie),u.interactive&&u.touchPitch&&p.touchPitch.enable(u.touchPitch);const de=VA(u),fe=qu(u);p.dragRotate=new ua(u,de,fe),this._add("mouseRotate",de,["mousePitch"]),this._add("mousePitch",fe,["mouseRotate"]),u.interactive&&u.dragRotate&&p.dragRotate.enable();const Oe=(({enable:Ft,clickTolerance:tt})=>{const bt=new Gn({checkCorrectEvent:Pt=>k.mouseButton(Pt)===0&&!Pt.ctrlKey});return new ga({clickTolerance:tt,move:(Pt,Ut)=>({around:Ut,panDelta:Ut.sub(Pt)}),activateOnStart:!0,moveStateManager:bt,enable:Ft,assignEvents:Yu})})(u),Ye=new Vn(u,p);p.dragPan=new ao(C,Oe,Ye),this._add("mousePan",Oe),this._add("touchPan",Ye,["touchZoom","touchRotate"]),u.interactive&&u.dragPan&&p.dragPan.enable(u.dragPan);const $e=new XA,He=new Vu;p.touchZoomRotate=new br(C,He,$e,Q),this._add("touchRotate",$e,["touchPan","touchZoom"]),this._add("touchZoom",He,["touchPan","touchRotate"]),u.interactive&&u.touchZoomRotate&&p.touchZoomRotate.enable(u.touchZoomRotate);const We=p.scrollZoom=new Vf(p,()=>this._triggerRenderFrame());this._add("scrollZoom",We,["mousePan"]),u.interactive&&u.scrollZoom&&p.scrollZoom.enable(u.scrollZoom);const ht=p.keyboard=new wo(p);this._add("keyboard",ht),u.interactive&&u.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new $u(p))}_add(u,p,C){this._handlers.push({handlerName:u,handler:p,allowed:C}),this._handlersById[u]=p}stop(u){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!wA(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,p,C){for(const w in u)if(w!==C&&(!p||p.indexOf(w)<0))return!0;return!1}_getMapTouches(u){const p=[];for(const C of u)this._el.contains(C.target)&&p.push(C);return p}mergeHandlerResult(u,p,C,w,I){if(!C)return;s.e(u,C);const R={handlerName:w,originalEvent:C.originalEvent||I};C.zoomDelta!==void 0&&(p.zoom=R),C.panDelta!==void 0&&(p.drag=R),C.pitchDelta!==void 0&&(p.pitch=R),C.bearingDelta!==void 0&&(p.rotate=R)}_applyChanges(){const u={},p={},C={};for(const[w,I,R]of this._changes)w.panDelta&&(u.panDelta=(u.panDelta||new s.P(0,0))._add(w.panDelta)),w.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+w.pitchDelta),w.around!==void 0&&(u.around=w.around),w.pinchAround!==void 0&&(u.pinchAround=w.pinchAround),w.noInertia&&(u.noInertia=w.noInertia),s.e(p,I),s.e(C,R);this._updateMapTransform(u,p,C),this._changes=[]}_updateMapTransform(u,p,C){const w=this._map,I=w._getTransformForUpdate(),R=w.terrain;if(!(JA(u)||R&&this._terrainMovement))return this._fireEvents(p,C,!0);let{panDelta:j,zoomDelta:Q,bearingDelta:ie,pitchDelta:de,around:fe,pinchAround:Oe}=u;Oe!==void 0&&(fe=Oe),w._stop(!0),fe=fe||w.transform.centerPoint;const Ye=I.pointLocation(j?fe.sub(j):fe);ie&&(I.bearing+=ie),de&&(I.pitch+=de),Q&&(I.zoom+=Q),R?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?I.center=I.pointLocation(I.centerPoint.sub(j)):I.setLocationAtPoint(Ye,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,I.setLocationAtPoint(Ye,fe),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,I.recalculateZoom(w.terrain)})):I.setLocationAtPoint(Ye,fe),w._applyUpdatedTransform(I),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(p,C,!0)}_fireEvents(u,p,C){const w=wA(this._eventsInProgress),I=wA(u),R={};for(const de in u){const{originalEvent:fe}=u[de];this._eventsInProgress[de]||(R[`${de}start`]=fe),this._eventsInProgress[de]=u[de]}!w&&I&&this._fireEvent("movestart",I.originalEvent);for(const de in R)this._fireEvent(de,R[de]);I&&this._fireEvent("move",I.originalEvent);for(const de in u){const{originalEvent:fe}=u[de];this._fireEvent(de,fe)}const j={};let Q;for(const de in this._eventsInProgress){const{handlerName:fe,originalEvent:Oe}=this._eventsInProgress[de];this._handlersById[fe].isActive()||(delete this._eventsInProgress[de],Q=p[fe]||Oe,j[`${de}end`]=Q)}for(const de in j)this._fireEvent(de,j[de]);const ie=wA(this._eventsInProgress);if(C&&(w||I)&&!ie){this._updatingCamera=!0;const de=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),fe=Oe=>Oe!==0&&-this._bearingSnap<Oe&&Oe<this._bearingSnap;!de||!de.essential&&B.prefersReducedMotion?(this._map.fire(new s.k("moveend",{originalEvent:Q})),fe(this._map.getBearing())&&this._map.resetNorth()):(fe(de.bearing||this._map.getBearing())&&(de.bearing=0),de.freezeElevation=!0,this._map.easeTo(de,{originalEvent:Q})),this._updatingCamera=!1}}_fireEvent(u,p){this._map.fire(new s.k(u,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new Kc("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class ec extends s.E{constructor(u,p){super(),this._renderFrameCallback=()=>{const C=Math.min((B.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(C)),C<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new s.M(this.transform.center.lng,this.transform.center.lat)}setCenter(u,p){return this.jumpTo({center:u},p)}panBy(u,p,C){return u=s.P.convert(u).mult(-1),this.panTo(this.transform.center,s.e({offset:u},p),C)}panTo(u,p,C){return this.easeTo(s.e({center:u},p),C)}getZoom(){return this.transform.zoom}setZoom(u,p){return this.jumpTo({zoom:u},p),this}zoomTo(u,p,C){return this.easeTo(s.e({zoom:u},p),C)}zoomIn(u,p){return this.zoomTo(this.getZoom()+1,u,p),this}zoomOut(u,p){return this.zoomTo(this.getZoom()-1,u,p),this}getBearing(){return this.transform.bearing}setBearing(u,p){return this.jumpTo({bearing:u},p),this}getPadding(){return this.transform.padding}setPadding(u,p){return this.jumpTo({padding:u},p),this}rotateTo(u,p,C){return this.easeTo(s.e({bearing:u},p),C)}resetNorth(u,p){return this.rotateTo(0,s.e({duration:1e3},u),p),this}resetNorthPitch(u,p){return this.easeTo(s.e({bearing:0,pitch:0,duration:1e3},u),p),this}snapToNorth(u,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,p):this}getPitch(){return this.transform.pitch}setPitch(u,p){return this.jumpTo({pitch:u},p),this}cameraForBounds(u,p){u=Rt.convert(u);const C=p&&p.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),C,p)}_cameraForBoxAndBearing(u,p,C,w){const I={top:0,bottom:0,right:0,left:0};if(typeof(w=s.e({padding:I,offset:[0,0],maxZoom:this.transform.maxZoom},w)).padding=="number"){const $n=w.padding;w.padding={top:$n,bottom:$n,right:$n,left:$n}}w.padding=s.e(I,w.padding);const R=this.transform,j=R.padding,Q=new Rt(u,p),ie=R.project(Q.getNorthWest()),de=R.project(Q.getNorthEast()),fe=R.project(Q.getSouthEast()),Oe=R.project(Q.getSouthWest()),Ye=s.b8(-C),$e=ie.rotate(Ye),He=de.rotate(Ye),We=fe.rotate(Ye),ht=Oe.rotate(Ye),Ft=new s.P(Math.max($e.x,He.x,ht.x,We.x),Math.max($e.y,He.y,ht.y,We.y)),tt=new s.P(Math.min($e.x,He.x,ht.x,We.x),Math.min($e.y,He.y,ht.y,We.y)),bt=Ft.sub(tt),Pt=(R.width-(j.left+j.right+w.padding.left+w.padding.right))/bt.x,Ut=(R.height-(j.top+j.bottom+w.padding.top+w.padding.bottom))/bt.y;if(Ut<0||Pt<0)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Zt=Math.min(R.scaleZoom(R.scale*Math.min(Pt,Ut)),w.maxZoom),dn=s.P.convert(w.offset),un=new s.P((w.padding.left-w.padding.right)/2,(w.padding.top-w.padding.bottom)/2).rotate(s.b8(C)),pn=dn.add(un).mult(R.scale/R.zoomScale(Zt));return{center:R.unproject(ie.add(fe).div(2).sub(pn)),zoom:Zt,bearing:C}}fitBounds(u,p,C){return this._fitInternal(this.cameraForBounds(u,p),p,C)}fitScreenCoordinates(u,p,C,w,I){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.P.convert(u)),this.transform.pointLocation(s.P.convert(p)),C,w),w,I)}_fitInternal(u,p,C){return u?(delete(p=s.e(u,p)).padding,p.linear?this.easeTo(p,C):this.flyTo(p,C)):this}jumpTo(u,p){this.stop();const C=this._getTransformForUpdate();let w=!1,I=!1,R=!1;return"zoom"in u&&C.zoom!==+u.zoom&&(w=!0,C.zoom=+u.zoom),u.center!==void 0&&(C.center=s.M.convert(u.center)),"bearing"in u&&C.bearing!==+u.bearing&&(I=!0,C.bearing=+u.bearing),"pitch"in u&&C.pitch!==+u.pitch&&(R=!0,C.pitch=+u.pitch),u.padding==null||C.isPaddingEqual(u.padding)||(C.padding=u.padding),this._applyUpdatedTransform(C),this.fire(new s.k("movestart",p)).fire(new s.k("move",p)),w&&this.fire(new s.k("zoomstart",p)).fire(new s.k("zoom",p)).fire(new s.k("zoomend",p)),I&&this.fire(new s.k("rotatestart",p)).fire(new s.k("rotate",p)).fire(new s.k("rotateend",p)),R&&this.fire(new s.k("pitchstart",p)).fire(new s.k("pitch",p)).fire(new s.k("pitchend",p)),this.fire(new s.k("moveend",p))}calculateCameraOptionsFromTo(u,p,C,w=0){const I=s.Y.fromLngLat(u,p),R=s.Y.fromLngLat(C,w),j=R.x-I.x,Q=R.y-I.y,ie=R.z-I.z,de=Math.hypot(j,Q,ie);if(de===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(j,Q),Oe=this.transform.scaleZoom(this.transform.cameraToCenterDistance/de/this.transform.tileSize),Ye=180*Math.atan2(j,-Q)/Math.PI;let $e=180*Math.acos(fe/de)/Math.PI;return $e=ie<0?90-$e:90+$e,{center:R.toLngLat(),zoom:Oe,pitch:$e,bearing:Ye}}easeTo(u,p){var C;this._stop(!1,u.easeId),((u=s.e({offset:[0,0],duration:500,easing:s.b7},u)).animate===!1||!u.essential&&B.prefersReducedMotion)&&(u.duration=0);const w=this._getTransformForUpdate(),I=this.getZoom(),R=this.getBearing(),j=this.getPitch(),Q=this.getPadding(),ie="bearing"in u?this._normalizeBearing(u.bearing,R):R,de="pitch"in u?+u.pitch:j,fe="padding"in u?u.padding:w.padding,Oe=s.P.convert(u.offset);let Ye=w.centerPoint.add(Oe);const $e=w.pointLocation(Ye),{center:He,zoom:We}=w.getConstrained(s.M.convert(u.center||$e),(C=u.zoom)!==null&&C!==void 0?C:I);this._normalizeCenter(He);const ht=w.project($e),Ft=w.project(He).sub(ht),tt=w.zoomScale(We-I);let bt,Pt;u.around&&(bt=s.M.convert(u.around),Pt=w.locationPoint(bt));const Ut={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||We!==I,this._rotating=this._rotating||R!==ie,this._pitching=this._pitching||de!==j,this._padding=!w.isPaddingEqual(fe),this._easeId=u.easeId,this._prepareEase(p,u.noMoveStart,Ut),this.terrain&&this._prepareElevation(He),this._ease(Zt=>{if(this._zooming&&(w.zoom=s.z.number(I,We,Zt)),this._rotating&&(w.bearing=s.z.number(R,ie,Zt)),this._pitching&&(w.pitch=s.z.number(j,de,Zt)),this._padding&&(w.interpolatePadding(Q,fe,Zt),Ye=w.centerPoint.add(Oe)),this.terrain&&!u.freezeElevation&&this._updateElevation(Zt),bt)w.setLocationAtPoint(bt,Pt);else{const dn=w.zoomScale(w.zoom-I),un=We>I?Math.min(2,tt):Math.max(.5,tt),pn=Math.pow(un,1-Zt),$n=w.unproject(ht.add(Ft.mult(Zt*pn)).mult(dn));w.setLocationAtPoint(w.renderWorldCopies?$n.wrap():$n,Ye)}this._applyUpdatedTransform(w),this._fireMoveEvents(p)},Zt=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Zt)},u),this}_prepareEase(u,p,C={}){this._moving=!0,p||C.moving||this.fire(new s.k("movestart",u)),this._zooming&&!C.zooming&&this.fire(new s.k("zoomstart",u)),this._rotating&&!C.rotating&&this.fire(new s.k("rotatestart",u)),this._pitching&&!C.pitching&&this.fire(new s.k("pitchstart",u))}_prepareElevation(u){this._elevationCenter=u,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(u){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(u<1&&p!==this._elevationTarget){const C=this._elevationTarget-this._elevationStart;this._elevationStart+=u*(C-(p-(C*u+this._elevationStart))/(1-u)),this._elevationTarget=p}this.transform.elevation=s.z.number(this._elevationStart,this._elevationTarget,u)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(u){if(!this.transformCameraUpdate)return;const p=u.clone(),{center:C,zoom:w,pitch:I,bearing:R,elevation:j}=this.transformCameraUpdate(p);C&&(p.center=C),w!==void 0&&(p.zoom=w),I!==void 0&&(p.pitch=I),R!==void 0&&(p.bearing=R),j!==void 0&&(p.elevation=j),this.transform.apply(p)}_fireMoveEvents(u){this.fire(new s.k("move",u)),this._zooming&&this.fire(new s.k("zoom",u)),this._rotating&&this.fire(new s.k("rotate",u)),this._pitching&&this.fire(new s.k("pitch",u))}_afterEase(u,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const C=this._zooming,w=this._rotating,I=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new s.k("zoomend",u)),w&&this.fire(new s.k("rotateend",u)),I&&this.fire(new s.k("pitchend",u)),this.fire(new s.k("moveend",u))}flyTo(u,p){var C;if(!u.essential&&B.prefersReducedMotion){const Ti=s.L(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ti,p)}this.stop(),u=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.b7},u);const w=this._getTransformForUpdate(),I=this.getZoom(),R=this.getBearing(),j=this.getPitch(),Q=this.getPadding(),ie="bearing"in u?this._normalizeBearing(u.bearing,R):R,de="pitch"in u?+u.pitch:j,fe="padding"in u?u.padding:w.padding,Oe=s.P.convert(u.offset);let Ye=w.centerPoint.add(Oe);const $e=w.pointLocation(Ye),{center:He,zoom:We}=w.getConstrained(s.M.convert(u.center||$e),(C=u.zoom)!==null&&C!==void 0?C:I);this._normalizeCenter(He);const ht=w.zoomScale(We-I),Ft=w.project($e),tt=w.project(He).sub(Ft);let bt=u.curve;const Pt=Math.max(w.width,w.height),Ut=Pt/ht,Zt=tt.mag();if("minZoom"in u){const Ti=s.ac(Math.min(u.minZoom,I,We),w.minZoom,w.maxZoom),Hr=Pt/w.zoomScale(Ti-I);bt=Math.sqrt(Hr/Zt*2)}const dn=bt*bt;function un(Ti){const Hr=(Ut*Ut-Pt*Pt+(Ti?-1:1)*dn*dn*Zt*Zt)/(2*(Ti?Ut:Pt)*dn*Zt);return Math.log(Math.sqrt(Hr*Hr+1)-Hr)}function pn(Ti){return(Math.exp(Ti)-Math.exp(-Ti))/2}function $n(Ti){return(Math.exp(Ti)+Math.exp(-Ti))/2}const qr=un(!1);let kn=function(Ti){return $n(qr)/$n(qr+bt*Ti)},vr=function(Ti){return Pt*(($n(qr)*(pn(Hr=qr+bt*Ti)/$n(Hr))-pn(qr))/dn)/Zt;var Hr},di=(un(!0)-qr)/bt;if(Math.abs(Zt)<1e-6||!isFinite(di)){if(Math.abs(Pt-Ut)<1e-6)return this.easeTo(u,p);const Ti=Ut<Pt?-1:1;di=Math.abs(Math.log(Ut/Pt))/bt,vr=function(){return 0},kn=function(Hr){return Math.exp(Ti*bt*Hr)}}return u.duration="duration"in u?+u.duration:1e3*di/("screenSpeed"in u?+u.screenSpeed/bt:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=R!==ie,this._pitching=de!==j,this._padding=!w.isPaddingEqual(fe),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(He),this._ease(Ti=>{const Hr=Ti*di,ei=1/kn(Hr);w.zoom=Ti===1?We:I+w.scaleZoom(ei),this._rotating&&(w.bearing=s.z.number(R,ie,Ti)),this._pitching&&(w.pitch=s.z.number(j,de,Ti)),this._padding&&(w.interpolatePadding(Q,fe,Ti),Ye=w.centerPoint.add(Oe)),this.terrain&&!u.freezeElevation&&this._updateElevation(Ti);const Nr=Ti===1?He:w.unproject(Ft.add(tt.mult(vr(Hr))).mult(ei));w.setLocationAtPoint(w.renderWorldCopies?Nr.wrap():Nr,Ye),this._applyUpdatedTransform(w),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,p)}if(!u){const C=this.handlers;C&&C.stop(!1)}return this}_ease(u,p,C){C.animate===!1||C.duration===0?(u(1),p()):(this._easeStart=B.now(),this._easeOptions=C,this._onEaseFrame=u,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(u,p){u=s.b1(u,-180,180);const C=Math.abs(u-p);return Math.abs(u-360-p)<C&&(u-=360),Math.abs(u+360-p)<C&&(u+=360),u}_normalizeCenter(u){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const C=u.lng-p.center.lng;u.lng+=C>180?-360:C<-180?360:0}queryTerrainElevation(u){return this.terrain?this.terrain.getElevationForLngLatZoom(s.M.convert(u),this.transform.tileZoom)-this.transform.elevation:null}}const ka={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class eA{constructor(u=ka){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=u}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options.compact,this._container=k.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=k.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=k.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){k.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,p){const C=this._map._getUIString(`AttributionControl.${p}`);u.title=C,u.setAttribute("aria-label",C)}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(w=>typeof w!="string"?"":w)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const p=this._map.style.sourceCaches;for(const w in p){const I=p[w];if(I.used||I.usedForTerrain){const R=I.getSource();R.attribution&&u.indexOf(R.attribution)<0&&u.push(R.attribution)}}u=u.filter(w=>String(w).trim()),u.sort((w,I)=>w.length-I.length),u=u.filter((w,I)=>{for(let R=I+1;R<u.length;R++)if(u[R].indexOf(w)>=0)return!1;return!0});const C=u.join(" | ");C!==this._attribHTML&&(this._attribHTML=C,u.length?(this._innerContainer.innerHTML=C,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class cl{constructor(u={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const C=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&C.classList.add("maplibregl-compact"):C.classList.remove("maplibregl-compact")}},this.options=u}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=k.create("div","maplibregl-ctrl");const p=k.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){k.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Go{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const p=++this._id;return this._queue.push({callback:u,id:p,cancelled:!1}),p}remove(u){const p=this._currentlyRunning,C=p?this._queue.concat(p):this._queue;for(const w of C)if(w.id===u)return void(w.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const C of p)if(!C.cancelled&&(C.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Qo=s.X([{name:"a_pos3d",type:"Int16",components:3}]);class Xf extends s.E{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(u,p){this.sourceCache.update(u,p),this._renderableTilesKeys=[];const C={};for(const w of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))C[w.key]=!0,this._renderableTilesKeys.push(w.key),this._tiles[w.key]||(w.posMatrix=new Float64Array(16),s.aN(w.posMatrix,0,s.W,0,s.W,0,1),this._tiles[w.key]=new ut(w,this.tileSize));for(const w in this._tiles)C[w]||delete this._tiles[w]}freeRtt(u){for(const p in this._tiles){const C=this._tiles[p];(!u||C.tileID.equals(u)||C.tileID.isChildOf(u)||u.isChildOf(C.tileID))&&(C.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const p={};for(const C of this._renderableTilesKeys){const w=this._tiles[C].tileID;if(w.canonical.equals(u.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16),s.aN(I.posMatrix,0,s.W,0,s.W,0,1),p[C]=I}else if(w.canonical.isChildOf(u.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16);const R=w.canonical.z-u.canonical.z,j=w.canonical.x-(w.canonical.x>>R<<R),Q=w.canonical.y-(w.canonical.y>>R<<R),ie=s.W>>R;s.aN(I.posMatrix,0,ie,0,ie,0,1),s.H(I.posMatrix,I.posMatrix,[-j*ie,-Q*ie,0]),p[C]=I}else if(u.canonical.isChildOf(w.canonical)){const I=u.clone();I.posMatrix=new Float64Array(16);const R=u.canonical.z-w.canonical.z,j=u.canonical.x-(u.canonical.x>>R<<R),Q=u.canonical.y-(u.canonical.y>>R<<R),ie=s.W>>R;s.aN(I.posMatrix,0,s.W,0,s.W,0,1),s.H(I.posMatrix,I.posMatrix,[j*ie,Q*ie,0]),s.J(I.posMatrix,I.posMatrix,[1/2**R,1/2**R,0]),p[C]=I}}return p}getSourceTile(u,p){const C=this.sourceCache._source;let w=u.overscaledZ-this.deltaZoom;if(w>C.maxzoom&&(w=C.maxzoom),w<C.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(w).key);let I=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!I||!I.dem)&&p)for(;w>=C.minzoom&&(!I||!I.dem);)I=this.sourceCache.getTileByID(u.scaledTo(w--).key);return I}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=u)}}class Vd{constructor(u,p,C){this.painter=u,this.sourceCache=new Xf(p),this.options=C,this.exaggeration=typeof C.exaggeration=="number"?C.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(u,p,C,w=s.W){var I;if(!(p>=0&&p<w&&C>=0&&C<w))return 0;const R=this.getTerrainData(u),j=(I=R.tile)===null||I===void 0?void 0:I.dem;if(!j)return 0;const Q=function($e,He,We){var ht=He[0],Ft=He[1];return $e[0]=We[0]*ht+We[4]*Ft+We[12],$e[1]=We[1]*ht+We[5]*Ft+We[13],$e}([],[p/w*s.W,C/w*s.W],R.u_terrain_matrix),ie=[Q[0]*j.dim,Q[1]*j.dim],de=Math.floor(ie[0]),fe=Math.floor(ie[1]),Oe=ie[0]-de,Ye=ie[1]-fe;return j.get(de,fe)*(1-Oe)*(1-Ye)+j.get(de+1,fe)*Oe*(1-Ye)+j.get(de,fe+1)*(1-Oe)*Ye+j.get(de+1,fe+1)*Oe*Ye}getElevationForLngLatZoom(u,p){const{tileID:C,mercatorX:w,mercatorY:I}=this._getOverscaledTileIDFromLngLatZoom(u,p);return this.getElevation(C,w%s.W,I%s.W,s.W)}getElevation(u,p,C,w=s.W){return this.getDEMElevation(u,p,C,w)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const w=this.painter.context,I=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Le(w,I,w.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Le(w,new s.R({width:1,height:1}),w.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.an([])}const p=this.sourceCache.getSourceTile(u,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const w=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new Le(w,p.dem.getPixels(),w.gl.RGBA,{premultiply:!1}),p.demTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const C=p&&p+p.tileID.key+u.key;if(C&&!this._demMatrixCache[C]){const w=this.sourceCache.sourceCache._source.maxzoom;let I=u.canonical.z-p.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=w?I=u.canonical.z-w:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const R=u.canonical.x-(u.canonical.x>>I<<I),j=u.canonical.y-(u.canonical.y>>I<<I),Q=s.b9(new Float64Array(16),[1/(s.W<<I),1/(s.W<<I),0]);s.H(Q,Q,[R*s.W,j*s.W,0]),this._demMatrixCache[u.key]={matrix:Q,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:C?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(u){const p=this.painter,C=p.width/devicePixelRatio,w=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===C&&this._fbo.height===w||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Le(p.context,{width:C,height:w,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Le(p.context,{width:C,height:w,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(C,w,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,C,w))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let I=0,R=0;I<this._coordsTextureSize;I++)for(let j=0;j<this._coordsTextureSize;j++,R+=4)p[R+0]=255&j,p[R+1]=255&I,p[R+2]=j>>8<<4|I>>8,p[R+3]=0;const C=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),w=new Le(u,C,u.gl.RGBA,{premultiply:!1});return w.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=w,w}pointCoordinate(u){this.painter.maybeDrawDepthAndCoords(!0);const p=new Uint8Array(4),C=this.painter.context,w=C.gl;C.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),w.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,p),C.bindFramebuffer.set(null);const I=p[0]+(p[2]>>4<<8),R=p[1]+((15&p[2])<<8),j=this.coordsIndex[255-p[3]],Q=j&&this.sourceCache.getTileByID(j);if(!Q)return null;const ie=this._coordsTextureSize,de=(1<<Q.tileID.canonical.z)*ie;return new s.Y((Q.tileID.canonical.x*ie+I)/de+Q.tileID.wrap,(Q.tileID.canonical.y*ie+R)/de,this.getElevation(Q.tileID,I,R,ie))}depthAtPoint(u){const p=new Uint8Array(4),C=this.painter.context,w=C.gl;return C.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),w.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,p),C.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.painter.context,p=new s.ba,C=new s.aX,w=this.meshSize,I=s.W/w,R=w*w;for(let fe=0;fe<=w;fe++)for(let Oe=0;Oe<=w;Oe++)p.emplaceBack(Oe*I,fe*I,0);for(let fe=0;fe<R;fe+=w+1)for(let Oe=0;Oe<w;Oe++)C.emplaceBack(Oe+fe,w+Oe+fe+1,w+Oe+fe+2),C.emplaceBack(Oe+fe,w+Oe+fe+2,Oe+fe+1);const j=p.length,Q=j+2*(w+1);for(const fe of[0,1])for(let Oe=0;Oe<=w;Oe++)for(const Ye of[0,1])p.emplaceBack(Oe*I,fe*s.W,Ye);for(let fe=0;fe<2*w;fe+=2)C.emplaceBack(Q+fe,Q+fe+1,Q+fe+3),C.emplaceBack(Q+fe,Q+fe+3,Q+fe+2),C.emplaceBack(j+fe,j+fe+3,j+fe+1),C.emplaceBack(j+fe,j+fe+2,j+fe+3);const ie=p.length,de=ie+2*(w+1);for(const fe of[0,1])for(let Oe=0;Oe<=w;Oe++)for(const Ye of[0,1])p.emplaceBack(fe*s.W,Oe*I,Ye);for(let fe=0;fe<2*w;fe+=2)C.emplaceBack(ie+fe,ie+fe+1,ie+fe+3),C.emplaceBack(ie+fe,ie+fe+3,ie+fe+2),C.emplaceBack(de+fe,de+fe+3,de+fe+1),C.emplaceBack(de+fe,de+fe+2,de+fe+3);return this._mesh={indexBuffer:u.createIndexBuffer(C),vertexBuffer:u.createVertexBuffer(p,Qo.members),segments:s.$.simpleSegment(0,0,p.length,C.length)},this._mesh}getMeshFrameDelta(u){return 2*Math.PI*s.bb/Math.pow(2,u)/5}getMinTileElevationForLngLatZoom(u,p){var C;const{tileID:w}=this._getOverscaledTileIDFromLngLatZoom(u,p);return(C=this.getMinMaxElevation(w).minElevation)!==null&&C!==void 0?C:0}getMinMaxElevation(u){const p=this.getTerrainData(u).tile,C={minElevation:null,maxElevation:null};return p&&p.dem&&(C.minElevation=p.dem.min*this.exaggeration,C.maxElevation=p.dem.max*this.exaggeration),C}_getOverscaledTileIDFromLngLatZoom(u,p){const C=s.Y.fromLngLat(u.wrap()),w=(1<<p)*s.W,I=C.x*w,R=C.y*w,j=Math.floor(I/s.W),Q=Math.floor(R/s.W);return{tileID:new s.Q(p,0,p,j,Q),mercatorX:I,mercatorY:R}}}class tA{constructor(u,p,C){this._context=u,this._size=p,this._tileSize=C,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const u of this._objects)u.texture.destroy(),u.fbo.destroy()}_createObject(u){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),C=new Le(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return C.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(C.texture),{id:u,fbo:p,texture:C,stamp:-1,inUse:!1}}getObjectForId(u){return this._objects[u]}useObject(u){u.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>u.id!==p),this._recentlyUsed.push(u.id)}stampObject(u){u.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const u=this._createObject(this._objects.length);return this._objects.push(u),u}freeObject(u){u.inUse=!1}freeAllObjects(){for(const u of this._objects)this.freeObject(u)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(u=>!u.inUse)===!1}}const wl={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Jf{constructor(u,p){this.painter=u,this.terrain=p,this.pool=new tA(u.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(u){return this.pool.getObjectForId(u.rtt[this._stacks.length-1].id).texture}prepareForRender(u,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=u._order.filter(C=>!u._layers[C].isHidden(p)),this._coordsDescendingInv={};for(const C in u.sourceCaches){this._coordsDescendingInv[C]={};const w=u.sourceCaches[C].getVisibleCoordinates();for(const I of w){const R=this.terrain.sourceCache.getTerrainCoords(I);for(const j in R)this._coordsDescendingInv[C][j]||(this._coordsDescendingInv[C][j]=[]),this._coordsDescendingInv[C][j].push(R[j])}}this._coordsDescendingInvStr={};for(const C of u._order){const w=u._layers[C],I=w.source;if(wl[w.type]&&!this._coordsDescendingInvStr[I]){this._coordsDescendingInvStr[I]={};for(const R in this._coordsDescendingInv[I])this._coordsDescendingInvStr[I][R]=this._coordsDescendingInv[I][R].map(j=>j.key).sort().join()}}for(const C of this._renderableTiles)for(const w in this._coordsDescendingInvStr){const I=this._coordsDescendingInvStr[w][C.tileID.key];I&&I!==C.rttCoords[w]&&(C.rtt=[])}}renderLayer(u){if(u.isHidden(this.painter.transform.zoom))return!1;const p=u.type,C=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===u.id;if(wl[p]&&(this._prevType&&wl[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(u.id),!w))return!0;if(wl[this._prevType]||wl[p]&&w){this._prevType=p;const I=this._stacks.length-1,R=this._stacks[I]||[];for(const j of this._renderableTiles){if(this.pool.isFull()&&($d(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(j),j.rtt[I]){const ie=this.pool.getObjectForId(j.rtt[I].id);if(ie.stamp===j.rtt[I].stamp){this.pool.useObject(ie);continue}}const Q=this.pool.getOrCreateFreeObject();this.pool.useObject(Q),this.pool.stampObject(Q),j.rtt[I]={id:Q.id,stamp:Q.stamp},C.context.bindFramebuffer.set(Q.fbo.framebuffer),C.context.clear({color:s.aO.transparent,stencil:0}),C.currentStencilSource=void 0;for(let ie=0;ie<R.length;ie++){const de=C.style._layers[R[ie]],fe=de.source?this._coordsDescendingInv[de.source][j.tileID.key]:[j.tileID];C.context.viewport.set([0,0,Q.fbo.width,Q.fbo.height]),C._renderTileClippingMasks(de,fe),C.renderLayer(C,C.style.sourceCaches[de.source],de,fe),de.source&&(j.rttCoords[de.source]=this._coordsDescendingInvStr[de.source][j.tileID.key])}}return $d(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),wl[p]}return!1}}const ud={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},MA=h,Wh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:ka,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Fe=O=>{O.touchstart=O.dragStart,O.touchmoveWindow=O.dragMove,O.touchend=O.dragEnd},tc={showCompass:!0,showZoom:!0,visualizePitch:!1};class ls{constructor(u,p,C=!1){this.mousedown=R=>{this.startMouse(s.e({},R,{ctrlKey:!0,preventDefault:()=>R.preventDefault()}),k.mousePos(this.element,R)),k.addEventListener(window,"mousemove",this.mousemove),k.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=R=>{this.moveMouse(R,k.mousePos(this.element,R))},this.mouseup=R=>{this.mouseRotate.dragEnd(R),this.mousePitch&&this.mousePitch.dragEnd(R),this.offTemp()},this.touchstart=R=>{R.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=k.touchPos(this.element,R.targetTouches)[0],this.startTouch(R,this._startPos),k.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.addEventListener(window,"touchend",this.touchend))},this.touchmove=R=>{R.targetTouches.length!==1?this.reset():(this._lastPos=k.touchPos(this.element,R.targetTouches)[0],this.moveTouch(R,this._lastPos))},this.touchend=R=>{R.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const w=u.dragRotate._mouseRotate.getClickTolerance(),I=u.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=VA({clickTolerance:w,enable:!0}),this.touchRotate=(({enable:R,clickTolerance:j,bearingDegreesPerPixelMoved:Q=.8})=>{const ie=new Rl;return new ga({clickTolerance:j,move:(de,fe)=>({bearingDelta:(fe.x-de.x)*Q}),moveStateManager:ie,enable:R,assignEvents:Fe})})({clickTolerance:w,enable:!0}),this.map=u,C&&(this.mousePitch=qu({clickTolerance:I,enable:!0}),this.touchPitch=(({enable:R,clickTolerance:j,pitchDegreesPerPixelMoved:Q=-.5})=>{const ie=new Rl;return new ga({clickTolerance:j,move:(de,fe)=>({pitchDelta:(fe.y-de.y)*Q}),moveStateManager:ie,enable:R,assignEvents:Fe})})({clickTolerance:I,enable:!0})),k.addEventListener(p,"mousedown",this.mousedown),k.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),k.addEventListener(p,"touchcancel",this.reset)}startMouse(u,p){this.mouseRotate.dragStart(u,p),this.mousePitch&&this.mousePitch.dragStart(u,p),k.disableDrag()}startTouch(u,p){this.touchRotate.dragStart(u,p),this.touchPitch&&this.touchPitch.dragStart(u,p),k.disableDrag()}moveMouse(u,p){const C=this.map,{bearingDelta:w}=this.mouseRotate.dragMove(u,p)||{};if(w&&C.setBearing(C.getBearing()+w),this.mousePitch){const{pitchDelta:I}=this.mousePitch.dragMove(u,p)||{};I&&C.setPitch(C.getPitch()+I)}}moveTouch(u,p){const C=this.map,{bearingDelta:w}=this.touchRotate.dragMove(u,p)||{};if(w&&C.setBearing(C.getBearing()+w),this.touchPitch){const{pitchDelta:I}=this.touchPitch.dragMove(u,p)||{};I&&C.setPitch(C.getPitch()+I)}}off(){const u=this.element;k.removeEventListener(u,"mousedown",this.mousedown),k.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),k.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.removeEventListener(window,"touchend",this.touchend),k.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){k.enableDrag(),k.removeEventListener(window,"mousemove",this.mousemove),k.removeEventListener(window,"mouseup",this.mouseup),k.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),k.removeEventListener(window,"touchend",this.touchend)}}let Qi;function Yr(O,u,p){const C=new s.M(O.lng,O.lat);if(O=new s.M(O.lng,O.lat),u){const w=new s.M(O.lng-360,O.lat),I=new s.M(O.lng+360,O.lat),R=p.locationPoint(O).distSqr(u);p.locationPoint(w).distSqr(u)<R?O=w:p.locationPoint(I).distSqr(u)<R&&(O=I)}for(;Math.abs(O.lng-p.center.lng)>180;){const w=p.locationPoint(O);if(w.x>=0&&w.y>=0&&w.x<=p.width&&w.y<=p.height)break;O.lng>p.center.lng?O.lng-=360:O.lng+=360}return O.lng!==C.lng&&p.locationPoint(O).y>p.height/2-p.getHorizon()?O:C}const ya={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function nc(O,u,p){const C=O.classList;for(const w in ya)C.remove(`maplibregl-${p}-anchor-${w}`);C.add(`maplibregl-${p}-anchor-${u}`)}class Ad extends s.E{constructor(u){if(super(),this._onKeyPress=p=>{const C=p.code,w=p.charCode||p.keyCode;C!=="Space"&&C!=="Enter"&&w!==32&&w!==13||this.togglePopup()},this._onMapClick=p=>{const C=p.originalEvent.target,w=this._element;this._popup&&(C===w||w.contains(C))&&this.togglePopup()},this._update=p=>{var C;if(!this._map)return;const w=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!w)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Yr(this._lngLat,this._flatPos,this._map.transform):(C=this._lngLat)===null||C===void 0?void 0:C.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let I="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?I=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(I=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let R="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?R="rotateX(0deg)":this._pitchAlignment==="map"&&(R=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),k.setTransform(this._element,`${ya[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${R} ${I}`),B.frameAsync(new AbortController).then(()=>{this._updateOpacity(p&&p.type==="moveend")}).catch(()=>{})},this._onMove=p=>{if(!this._isDragging){const C=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=C}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.k("dragstart"))),this.fire(new s.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(u==null?void 0:u.opacity,u==null?void 0:u.opacityWhenCovered),u&&u.element)this._element=u.element,this._offset=s.P.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=k.create("div"),this._element.setAttribute("aria-label","Map marker");const p=k.createNS("http://www.w3.org/2000/svg","svg"),C=41,w=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${C}px`),p.setAttributeNS(null,"width",`${w}px`),p.setAttributeNS(null,"viewBox",`0 0 ${w} ${C}`);const I=k.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"stroke","none"),I.setAttributeNS(null,"stroke-width","1"),I.setAttributeNS(null,"fill","none"),I.setAttributeNS(null,"fill-rule","evenodd");const R=k.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill-rule","nonzero");const j=k.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");const Q=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ht of Q){const Ft=k.createNS("http://www.w3.org/2000/svg","ellipse");Ft.setAttributeNS(null,"opacity","0.04"),Ft.setAttributeNS(null,"cx","10.5"),Ft.setAttributeNS(null,"cy","5.80029008"),Ft.setAttributeNS(null,"rx",ht.rx),Ft.setAttributeNS(null,"ry",ht.ry),j.appendChild(Ft)}const ie=k.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill",this._color);const de=k.createNS("http://www.w3.org/2000/svg","path");de.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ie.appendChild(de);const fe=k.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const Oe=k.createNS("http://www.w3.org/2000/svg","path");Oe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(Oe);const Ye=k.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ye.setAttributeNS(null,"fill","#FFFFFF");const $e=k.createNS("http://www.w3.org/2000/svg","g");$e.setAttributeNS(null,"transform","translate(8.0, 8.0)");const He=k.createNS("http://www.w3.org/2000/svg","circle");He.setAttributeNS(null,"fill","#000000"),He.setAttributeNS(null,"opacity","0.25"),He.setAttributeNS(null,"cx","5.5"),He.setAttributeNS(null,"cy","5.5"),He.setAttributeNS(null,"r","5.4999962");const We=k.createNS("http://www.w3.org/2000/svg","circle");We.setAttributeNS(null,"fill","#FFFFFF"),We.setAttributeNS(null,"cx","5.5"),We.setAttributeNS(null,"cy","5.5"),We.setAttributeNS(null,"r","5.4999962"),$e.appendChild(He),$e.appendChild(We),R.appendChild(j),R.appendChild(ie),R.appendChild(fe),R.appendChild(Ye),R.appendChild($e),p.appendChild(R),p.setAttributeNS(null,"height",C*this._scale+"px"),p.setAttributeNS(null,"width",w*this._scale+"px"),this._element.appendChild(p),this._offset=s.P.convert(u&&u.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),nc(this._element,this._anchor,"marker"),u&&u.className)for(const p of u.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),u.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),k.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=s.M.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const w=Math.abs(13.5)/Math.SQRT2;u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(38.1-13.5+w)],"bottom-right":[-w,-1*(38.1-13.5+w)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const u=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:u?(u.isOpen()?u.remove():(u.setLngLat(this._lngLat),u.addTo(this._map)),this):this}_updateOpacity(u=!1){var p,C;if(!(!((p=this._map)===null||p===void 0)&&p.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(u)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const w=this._map,I=w.terrain.depthAtPoint(this._pos),R=w.terrain.getElevationForLngLatZoom(this._lngLat,w.transform.tileZoom);if(w.transform.lngLatToCameraDepth(this._lngLat,R)-I<.006)return void(this._element.style.opacity=this._opacity);const j=-this._offset.y/w.transform._pixelPerMeter,Q=Math.sin(w.getPitch()*Math.PI/180)*j,ie=w.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),de=w.transform.lngLatToCameraDepth(this._lngLat,R+Q)-ie>.006;!((C=this._popup)===null||C===void 0)&&C.isOpen()&&de&&this._popup.remove(),this._element.style.opacity=de?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(u){return this._offset=s.P.convert(u),this._update(),this}addClassName(u){this._element.classList.add(u)}removeClassName(u){this._element.classList.remove(u)}toggleClassName(u){return this._element.classList.toggle(u)}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(u,p){return u===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),u!==void 0&&(this._opacity=u),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}const au={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let cd=0,rc=!1;const ep={maxWidth:100,unit:"metric"};function dd(O,u,p){const C=p&&p.maxWidth||100,w=O._container.clientHeight/2,I=O.unproject([0,w]),R=O.unproject([C,w]),j=I.distanceTo(R);if(p&&p.unit==="imperial"){const Q=3.2808*j;Q>5280?ic(u,C,Q/5280,O._getUIString("ScaleControl.Miles")):ic(u,C,Q,O._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?ic(u,C,j/1852,O._getUIString("ScaleControl.NauticalMiles")):j>=1e3?ic(u,C,j/1e3,O._getUIString("ScaleControl.Kilometers")):ic(u,C,j,O._getUIString("ScaleControl.Meters"))}function ic(O,u,p,C){const w=function(I){const R=Math.pow(10,`${Math.floor(I)}`.length-1);let j=I/R;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(Q){const ie=Math.pow(10,Math.ceil(-Math.log(Q)/Math.LN10));return Math.round(Q*ie)/ie}(j),R*j}(p);O.style.width=u*(w/p)+"px",O.innerHTML=`${w}&nbsp;${C}`}const zl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},tp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Zd(O){if(O){if(typeof O=="number"){const u=Math.round(Math.abs(O)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,O),"top-left":new s.P(u,u),"top-right":new s.P(-u,u),bottom:new s.P(0,-O),"bottom-left":new s.P(u,-u),"bottom-right":new s.P(-u,-u),left:new s.P(O,0),right:new s.P(-O,0)}}if(O instanceof s.P||Array.isArray(O)){const u=s.P.convert(O);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:s.P.convert(O.center||[0,0]),top:s.P.convert(O.top||[0,0]),"top-left":s.P.convert(O["top-left"]||[0,0]),"top-right":s.P.convert(O["top-right"]||[0,0]),bottom:s.P.convert(O.bottom||[0,0]),"bottom-left":s.P.convert(O["bottom-left"]||[0,0]),"bottom-right":s.P.convert(O["bottom-right"]||[0,0]),left:s.P.convert(O.left||[0,0]),right:s.P.convert(O.right||[0,0])}}return Zd(new s.P(0,0))}const Nh=h;a.AJAXError=s.be,a.Evented=s.E,a.LngLat=s.M,a.MercatorCoordinate=s.Y,a.Point=s.P,a.addProtocol=s.bf,a.config=s.a,a.removeProtocol=s.bg,a.AttributionControl=eA,a.BoxZoomHandler=Vi,a.CanvasSource=Wr,a.CooperativeGesturesHandler=Br,a.DoubleClickZoomHandler=zh,a.DragPanHandler=ao,a.DragRotateHandler=ua,a.EdgeInsets=sd,a.FullscreenControl=class extends s.E{constructor(O={}){super(),this._onFullscreenChange=()=>{var u;let p=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((u=p==null?void 0:p.shadowRoot)===null||u===void 0)&&u.fullscreenElement;)p=p.shadowRoot.fullscreenElement;p===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,O&&O.container&&(O.container instanceof HTMLElement?this._container=O.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(O){return this._map=O,this._container||(this._container=this._map.getContainer()),this._controlContainer=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){k.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const O=this._fullscreenButton=k.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);k.create("span","maplibregl-ctrl-icon",O).setAttribute("aria-hidden","true"),O.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const O=this._getTitle();this._fullscreenButton.setAttribute("aria-label",O),this._fullscreenButton.title=O}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},a.GeoJSONSource=yn,a.GeolocateControl=class extends s.E{constructor(O){super(),this._onSuccess=u=>{if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new s.k("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.k("geolocate",u)),this._finish()}},this._updateCamera=u=>{const p=new s.M(u.coords.longitude,u.coords.latitude),C=u.coords.accuracy,w=this._map.getBearing(),I=s.e({bearing:w},this.options.fitBoundsOptions),R=Rt.fromLngLat(p,C);this._map.fitBounds(R,I,{geolocateSource:!0})},this._updateMarker=u=>{if(u){const p=new s.M(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=u.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=u=>{if(this._map){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&rc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.k("error",u)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=u=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=k.create("button","maplibregl-ctrl-geolocate",this._container),k.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",u===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=k.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ad({element:this._dotElement}),this._circleElement=k.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ad({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.k("trackuserlocationend")))})}},this.options=s.e({},au,O)}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return s._(this,arguments,void 0,function*(u=!1){if(Qi!==void 0&&!u)return Qi;if(window.navigator.permissions===void 0)return Qi=!!window.navigator.geolocation,Qi;try{Qi=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Qi=!!window.navigator.geolocation}return Qi})}().then(u=>this._setupUI(u)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),k.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,cd=0,rc=!1}_isOutOfMapMaxBounds(O){const u=this._map.getMaxBounds(),p=O.coords;return u&&(p.longitude<u.getWest()||p.longitude>u.getEast()||p.latitude<u.getSouth()||p.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const O=this._map.getBounds(),u=O.getSouthEast(),p=O.getNorthEast(),C=u.distanceTo(p),w=Math.ceil(this._accuracy/(C/this._map._container.clientHeight)*2);this._circleElement.style.width=`${w}px`,this._circleElement.style.height=`${w}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":cd--,rc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let O;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),cd++,cd>1?(O={maximumAge:6e5,timeout:0},rc=!0):(O=this.options.positionOptions,rc=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,O)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},a.Hash=an,a.ImageSource=Ar,a.KeyboardHandler=wo,a.LngLatBounds=Rt,a.LogoControl=cl,a.Map=class extends ec{constructor(O){if(s.bc.mark(s.bd.create),(O=s.e({},Wh,O)).minZoom!=null&&O.maxZoom!=null&&O.minZoom>O.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(O.minPitch!=null&&O.maxPitch!=null&&O.minPitch>O.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(O.minPitch!=null&&O.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(O.maxPitch!=null&&O.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new iu(O.minZoom,O.maxZoom,O.minPitch,O.maxPitch,O.renderWorldCopies),{bearingSnap:O.bearingSnap}),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=O.interactive,this._maxTileCacheSize=O.maxTileCacheSize,this._maxTileCacheZoomLevels=O.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=O.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=O.preserveDrawingBuffer,this._antialias=O.antialias,this._trackResize=O.trackResize,this._bearingSnap=O.bearingSnap,this._refreshExpiredTiles=O.refreshExpiredTiles,this._fadeDuration=O.fadeDuration,this._crossSourceCollisions=O.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=O.collectResourceTiming,this._renderTaskQueue=new Go,this._controls=[],this._mapId=s.a3(),this._locale=s.e({},ud,O.locale),this._clickTolerance=O.clickTolerance,this._overridePixelRatio=O.pixelRatio,this._maxCanvasSize=O.maxCanvasSize,this.transformCameraUpdate=O.transformCameraUpdate,this._imageQueueHandle=Z.addThrottleControl(()=>this.isMoving()),this._requestManager=new ye(O.transformRequest),typeof O.container=="string"){if(this._container=document.getElementById(O.container),!this._container)throw new Error(`Container '${O.container}' not found.`)}else{if(!(O.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=O.container}if(O.maxBounds&&this.setMaxBounds(O.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const p=Et(C=>{this._trackResize&&!this._removed&&this.resize(C)._update()},50);this._resizeObserver=new ResizeObserver(C=>{u?p(C):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Aa(this,O),this._hash=O.hash&&new an(typeof O.hash=="string"&&O.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:O.center,zoom:O.zoom,bearing:O.bearing,pitch:O.pitch}),O.bounds&&(this.resize(),this.fitBounds(O.bounds,s.e({},O.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=O.localIdeographFontFamily,this._validateStyle=O.validateStyle,O.style&&this.setStyle(O.style,{localIdeographFontFamily:O.localIdeographFontFamily}),O.attributionControl&&this.addControl(new eA(typeof O.attributionControl=="boolean"?void 0:O.attributionControl)),O.maplibreLogo&&this.addControl(new cl,O.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new s.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new s.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new s.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(O,u){if(u===void 0&&(u=O.getDefaultPosition?O.getDefaultPosition():"top-right"),!O||!O.onAdd)return this.fire(new s.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=O.onAdd(this);this._controls.push(O);const C=this._controlPositions[u];return u.indexOf("bottom")!==-1?C.insertBefore(p,C.firstChild):C.appendChild(p),this}removeControl(O){if(!O||!O.onRemove)return this.fire(new s.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(O);return u>-1&&this._controls.splice(u,1),O.onRemove(this),this}hasControl(O){return this._controls.indexOf(O)>-1}calculateCameraOptionsFromTo(O,u,p,C){return C==null&&this.terrain&&(C=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(O,u,p,C)}resize(O){var u;const p=this._containerDimensions(),C=p[0],w=p[1],I=this._getClampedPixelRatio(C,w);if(this._resizeCanvas(C,w,I),this.painter.resize(C,w,I),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const Q=this._getClampedPixelRatio(C,w);this._resizeCanvas(C,w,Q),this.painter.resize(C,w,Q)}this.transform.resize(C,w),(u=this._requestedCameraState)===null||u===void 0||u.resize(C,w);const R=!this._moving;return R&&(this.stop(),this.fire(new s.k("movestart",O)).fire(new s.k("move",O))),this.fire(new s.k("resize",O)),R&&this.fire(new s.k("moveend",O)),this}_getClampedPixelRatio(O,u){const{0:p,1:C}=this._maxCanvasSize,w=this.getPixelRatio(),I=O*w,R=u*w;return Math.min(I>p?p/I:1,R>C?C/R:1)*w}getPixelRatio(){var O;return(O=this._overridePixelRatio)!==null&&O!==void 0?O:devicePixelRatio}setPixelRatio(O){this._overridePixelRatio=O,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(O){return this.transform.setMaxBounds(Rt.convert(O)),this._update()}setMinZoom(O){if((O=O??-2)>=-2&&O<=this.transform.maxZoom)return this.transform.minZoom=O,this._update(),this.getZoom()<O&&this.setZoom(O),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(O){if((O=O??22)>=this.transform.minZoom)return this.transform.maxZoom=O,this._update(),this.getZoom()>O&&this.setZoom(O),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(O){if((O=O??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(O>=0&&O<=this.transform.maxPitch)return this.transform.minPitch=O,this._update(),this.getPitch()<O&&this.setPitch(O),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(O){if((O=O??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(O>=this.transform.minPitch)return this.transform.maxPitch=O,this._update(),this.getPitch()>O&&this.setPitch(O),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(O){return this.transform.renderWorldCopies=O,this._update()}project(O){return this.transform.locationPoint(s.M.convert(O),this.style&&this.terrain)}unproject(O){return this.transform.pointLocation(s.P.convert(O),this.terrain)}isMoving(){var O;return this._moving||((O=this.handlers)===null||O===void 0?void 0:O.isMoving())}isZooming(){var O;return this._zooming||((O=this.handlers)===null||O===void 0?void 0:O.isZooming())}isRotating(){var O;return this._rotating||((O=this.handlers)===null||O===void 0?void 0:O.isRotating())}_createDelegatedListener(O,u,p){if(O==="mouseenter"||O==="mouseover"){let C=!1;return{layer:u,listener:p,delegates:{mousemove:I=>{const R=this.getLayer(u)?this.queryRenderedFeatures(I.point,{layers:[u]}):[];R.length?C||(C=!0,p.call(this,new Ko(O,this,I.originalEvent,{features:R}))):C=!1},mouseout:()=>{C=!1}}}}if(O==="mouseleave"||O==="mouseout"){let C=!1;return{layer:u,listener:p,delegates:{mousemove:R=>{(this.getLayer(u)?this.queryRenderedFeatures(R.point,{layers:[u]}):[]).length?C=!0:C&&(C=!1,p.call(this,new Ko(O,this,R.originalEvent)))},mouseout:R=>{C&&(C=!1,p.call(this,new Ko(O,this,R.originalEvent)))}}}}{const C=w=>{const I=this.getLayer(u)?this.queryRenderedFeatures(w.point,{layers:[u]}):[];I.length&&(w.features=I,p.call(this,w),delete w.features)};return{layer:u,listener:p,delegates:{[O]:C}}}}on(O,u,p){if(p===void 0)return super.on(O,u);const C=this._createDelegatedListener(O,u,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[O]=this._delegatedListeners[O]||[],this._delegatedListeners[O].push(C);for(const w in C.delegates)this.on(w,C.delegates[w]);return this}once(O,u,p){if(p===void 0)return super.once(O,u);const C=this._createDelegatedListener(O,u,p);for(const w in C.delegates)this.once(w,C.delegates[w]);return this}off(O,u,p){return p===void 0?super.off(O,u):(this._delegatedListeners&&this._delegatedListeners[O]&&(C=>{const w=this._delegatedListeners[O];for(let I=0;I<w.length;I++){const R=w[I];if(R.layer===u&&R.listener===p){for(const j in R.delegates)this.off(j,R.delegates[j]);return w.splice(I,1),this}}})(),this)}queryRenderedFeatures(O,u){if(!this.style)return[];let p;const C=O instanceof s.P||Array.isArray(O),w=C?O:[[0,0],[this.transform.width,this.transform.height]];if(u=u||(C?{}:O)||{},w instanceof s.P||typeof w[0]=="number")p=[s.P.convert(w)];else{const I=s.P.convert(w[0]),R=s.P.convert(w[1]);p=[I,new s.P(R.x,I.y),R,new s.P(I.x,R.y),I]}return this.style.queryRenderedFeatures(p,u,this.transform)}querySourceFeatures(O,u){return this.style.querySourceFeatures(O,u)}setStyle(O,u){return(u=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&O?(this._diffStyle(O,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(O,u))}setTransformRequest(O){return this._requestManager.setTransformRequest(O),this}_getUIString(O){const u=this._locale[O];if(u==null)throw new Error(`Missing UI string '${O}'`);return u}_updateStyle(O,u){if(u.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(O,u));const p=this.style&&u.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!O)),O?(this.style=new Xo(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof O=="string"?this.style.loadURL(O,u,p):this.style.loadJSON(O,u,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Xo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(O,u){if(typeof O=="string"){const p=this._requestManager.transformRequest(O,ue.Style);s.h(p,new AbortController).then(C=>{this._updateDiff(C.data,u)}).catch(C=>{C&&this.fire(new s.j(C))})}else typeof O=="object"&&this._updateDiff(O,u)}_updateDiff(O,u){try{this.style.setState(O,u)&&this._update(!0)}catch(p){s.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(O,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(O,u){return this._lazyInitEmptyStyle(),this.style.addSource(O,u),this._update(!0)}isSourceLoaded(O){const u=this.style&&this.style.sourceCaches[O];if(u!==void 0)return u.loaded();this.fire(new s.j(new Error(`There is no source with ID '${O}'`)))}setTerrain(O){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),O){const u=this.style.sourceCaches[O.source];if(!u)throw new Error(`cannot load terrain, because there exists no source with ID: ${O.source}`);this.terrain===null&&u.reload();for(const p in this.style._layers){const C=this.style._layers[p];C.type==="hillshade"&&C.source===O.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Vd(this.painter,u,O),this.painter.renderToTexture=new Jf(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==O.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new s.k("terrain",{terrain:O})),this}getTerrain(){var O,u;return(u=(O=this.terrain)===null||O===void 0?void 0:O.options)!==null&&u!==void 0?u:null}areTilesLoaded(){const O=this.style&&this.style.sourceCaches;for(const u in O){const p=O[u]._tiles;for(const C in p){const w=p[C];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}removeSource(O){return this.style.removeSource(O),this._update(!0)}getSource(O){return this.style.getSource(O)}addImage(O,u,p={}){const{pixelRatio:C=1,sdf:w=!1,stretchX:I,stretchY:R,content:j}=p;if(this._lazyInitEmptyStyle(),!(u instanceof HTMLImageElement||s.b(u))){if(u.width===void 0||u.height===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:Q,height:ie,data:de}=u,fe=u;return this.style.addImage(O,{data:new s.R({width:Q,height:ie},new Uint8Array(de)),pixelRatio:C,stretchX:I,stretchY:R,content:j,sdf:w,version:0,userImage:fe}),fe.onAdd&&fe.onAdd(this,O),this}}{const{width:Q,height:ie,data:de}=B.getImageData(u);this.style.addImage(O,{data:new s.R({width:Q,height:ie},de),pixelRatio:C,stretchX:I,stretchY:R,content:j,sdf:w,version:0})}}updateImage(O,u){const p=this.style.getImage(O);if(!p)return this.fire(new s.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const C=u instanceof HTMLImageElement||s.b(u)?B.getImageData(u):u,{width:w,height:I,data:R}=C;if(w===void 0||I===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==p.data.width||I!==p.data.height)return this.fire(new s.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const j=!(u instanceof HTMLImageElement||s.b(u));return p.data.replace(R,j),this.style.updateImage(O,p),this}getImage(O){return this.style.getImage(O)}hasImage(O){return O?!!this.style.getImage(O):(this.fire(new s.j(new Error("Missing required image id"))),!1)}removeImage(O){this.style.removeImage(O)}loadImage(O){return Z.getImage(this._requestManager.transformRequest(O,ue.Image),new AbortController)}listImages(){return this.style.listImages()}addLayer(O,u){return this._lazyInitEmptyStyle(),this.style.addLayer(O,u),this._update(!0)}moveLayer(O,u){return this.style.moveLayer(O,u),this._update(!0)}removeLayer(O){return this.style.removeLayer(O),this._update(!0)}getLayer(O){return this.style.getLayer(O)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(O,u,p){return this.style.setLayerZoomRange(O,u,p),this._update(!0)}setFilter(O,u,p={}){return this.style.setFilter(O,u,p),this._update(!0)}getFilter(O){return this.style.getFilter(O)}setPaintProperty(O,u,p,C={}){return this.style.setPaintProperty(O,u,p,C),this._update(!0)}getPaintProperty(O,u){return this.style.getPaintProperty(O,u)}setLayoutProperty(O,u,p,C={}){return this.style.setLayoutProperty(O,u,p,C),this._update(!0)}getLayoutProperty(O,u){return this.style.getLayoutProperty(O,u)}setGlyphs(O,u={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(O,u),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(O,u,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(O,u,p,C=>{C||this._update(!0)}),this}removeSprite(O){return this._lazyInitEmptyStyle(),this.style.removeSprite(O),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(O,u={}){return this._lazyInitEmptyStyle(),this.style.setSprite(O,u,p=>{p||this._update(!0)}),this}setLight(O,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(O,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(O,u){return this.style.setFeatureState(O,u),this._update()}removeFeatureState(O,u){return this.style.removeFeatureState(O,u),this._update()}getFeatureState(O){return this.style.getFeatureState(O)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let O=0,u=0;return this._container&&(O=this._container.clientWidth||400,u=this._container.clientHeight||300),[O,u]}_setupContainer(){const O=this._container;O.classList.add("maplibregl-map");const u=this._canvasContainer=k.create("div","maplibregl-canvas-container",O);this._interactive&&u.classList.add("maplibregl-interactive"),this._canvas=k.create("canvas","maplibregl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),C=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],C);const w=this._controlContainer=k.create("div","maplibregl-control-container",O),I=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(R=>{I[R]=k.create("div",`maplibregl-ctrl-${R} `,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(O,u,p){this._canvas.width=Math.floor(p*O),this._canvas.height=Math.floor(p*u),this._canvas.style.width=`${O}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const O={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let u=null;this._canvas.addEventListener("webglcontextcreationerror",C=>{u={requestedAttributes:O},C&&(u.statusMessage=C.statusMessage,u.type=C.type)},{once:!0});const p=this._canvas.getContext("webgl2",O)||this._canvas.getContext("webgl",O);if(!p){const C="Failed to initialize WebGL";throw u?(u.message=C,new Error(JSON.stringify(u))):new Error(C)}this.painter=new kc(p,this.transform),P.testSupport(p)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(O){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||O,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(O){return this._update(),this._renderTaskQueue.add(O)}_cancelRenderFrame(O){this._renderTaskQueue.remove(O)}_render(O){const u=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(O),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,I=B.now();this.style.zoomHistory.update(w,I);const R=new s.a8(w,{now:I,fadeDuration:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=R.crossFadingFactor();j===1&&j===this._crossFadingFactor||(p=!0,this._crossFadingFactor=j),this.style.update(R)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,u,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:u,showPadding:this.showPadding}),this.fire(new s.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.bc.mark(s.bd.load),this.fire(new s.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const C=this._sourcesDirty||this._styleDirty||this._placementDirty;return C||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.k("idle")),!this._loaded||this._fullyLoaded||C||(this._fullyLoaded=!0,s.bc.mark(s.bd.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var O;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Z.removeThrottleControl(this._imageQueueHandle),(O=this._resizeObserver)===null||O===void 0||O.disconnect();const u=this.painter.context.gl.getExtension("WEBGL_lose_context");u&&u.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),k.remove(this._canvasContainer),k.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),s.bc.clearMetrics(),this._removed=!0,this.fire(new s.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,B.frameAsync(this._frameRequest).then(O=>{s.bc.frame(O),this._frameRequest=null,this._render(O)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(O){this._showTileBoundaries!==O&&(this._showTileBoundaries=O,this._update())}get showPadding(){return!!this._showPadding}set showPadding(O){this._showPadding!==O&&(this._showPadding=O,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(O){this._showCollisionBoxes!==O&&(this._showCollisionBoxes=O,O?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(O){this._showOverdrawInspector!==O&&(this._showOverdrawInspector=O,this._update())}get repaint(){return!!this._repaint}set repaint(O){this._repaint!==O&&(this._repaint=O,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(O){this._vertices=O,this._update()}get version(){return MA}getCameraTargetElevation(){return this.transform.elevation}},a.MapMouseEvent=Ko,a.MapTouchEvent=xA,a.MapWheelEvent=xs,a.Marker=Ad,a.NavigationControl=class{constructor(O){this._updateZoomButtons=()=>{const u=this._map.getZoom(),p=u===this._map.getMaxZoom(),C=u===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=C,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",C.toString())},this._rotateCompassArrow=()=>{const u=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=u},this._setButtonTitle=(u,p)=>{const C=this._map._getUIString(`NavigationControl.${p}`);u.title=C,u.setAttribute("aria-label",C)},this.options=s.e({},tc,O),this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),k.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),k.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=k.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(O){return this._map=O,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ls(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){k.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(O,u){const p=k.create("button",O,this._container);return p.type="button",p.addEventListener("click",u),p}},a.Popup=class extends s.E{constructor(O){super(),this.remove=()=>(this._content&&k.remove(this._content),this._container&&(k.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.k("close"))),this),this._onMouseUp=u=>{this._update(u.point)},this._onMouseMove=u=>{this._update(u.point)},this._onDrag=u=>{this._update(u.point)},this._update=u=>{var p;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=k.create("div","maplibregl-popup",this._map.getContainer()),this._tip=k.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const j of this.options.className.split(" "))this._container.classList.add(j);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Yr(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._trackPointer&&!u)return;const C=this._flatPos=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&u?u:this._map.transform.locationPoint(this._lngLat));let w=this.options.anchor;const I=Zd(this.options.offset);if(!w){const j=this._container.offsetWidth,Q=this._container.offsetHeight;let ie;ie=C.y+I.bottom.y<Q?["top"]:C.y>this._map.transform.height-Q?["bottom"]:[],C.x<j/2?ie.push("left"):C.x>this._map.transform.width-j/2&&ie.push("right"),w=ie.length===0?"bottom":ie.join("-")}let R=C.add(I[w]);this.options.subpixelPositioning||(R=R.round()),k.setTransform(this._container,`${ya[w]} translate(${R.x}px,${R.y}px)`),nc(this._container,w,"popup")},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(zl),O)}addTo(O){return this._map&&this.remove(),this._map=O,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(O){return this._lngLat=s.M.convert(O),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(O){return this.setDOMContent(document.createTextNode(O))}setHTML(O){const u=document.createDocumentFragment(),p=document.createElement("body");let C;for(p.innerHTML=O;C=p.firstChild,C;)u.appendChild(C);return this.setDOMContent(u)}getMaxWidth(){var O;return(O=this._container)===null||O===void 0?void 0:O.style.maxWidth}setMaxWidth(O){return this.options.maxWidth=O,this._update(),this}setDOMContent(O){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=k.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(O),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(O){this._container&&this._container.classList.add(O)}removeClassName(O){this._container&&this._container.classList.remove(O)}setOffset(O){return this.options.offset=O,this._update(),this}toggleClassName(O){if(this._container)return this._container.classList.toggle(O)}setSubpixelPositioning(O){this.options.subpixelPositioning=O}_createCloseButton(){this.options.closeButton&&(this._closeButton=k.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const O=this._container.querySelector(tp);O&&O.focus()}},a.RasterDEMTileSource=gn,a.RasterTileSource=ir,a.ScaleControl=class{constructor(O){this._onMove=()=>{dd(this._map,this._container,this.options)},this.setUnit=u=>{this.options.unit=u,dd(this._map,this._container,this.options)},this.options=s.e({},ep,O)}getDefaultPosition(){return"bottom-left"}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-scale",O.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){k.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},a.ScrollZoomHandler=Vf,a.Style=Xo,a.TerrainControl=class{constructor(O){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=O}onAdd(O){return this._map=O,this._container=k.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=k.create("button","maplibregl-ctrl-terrain",this._container),k.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){k.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},a.TwoFingersTouchPitchHandler=Tc,a.TwoFingersTouchRotateHandler=XA,a.TwoFingersTouchZoomHandler=Vu,a.TwoFingersTouchZoomRotateHandler=br,a.VectorTileSource=pt,a.VideoSource=Mr,a.addSourceType=(O,u)=>s._(void 0,void 0,void 0,function*(){if(_i(O))throw new Error(`A source type called "${O}" already exists.`);((p,C)=>{gr[p]=C})(O,u)}),a.clearPrewarmedResources=function(){const O=Qt;O&&(O.isPreloaded()&&O.numActive()===1?(O.release(Jt),Qt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},a.getRTLTextPluginStatus=function(){return Te().getRTLTextPluginStatus()},a.getVersion=function(){return Nh},a.getWorkerCount=function(){return Ht.workerCount},a.getWorkerUrl=function(){return s.a.WORKER_URL},a.importScriptInWorkers=function(O){return Me().broadcast("importScript",O)},a.prewarm=function(){Ie().acquire(Jt)},a.setMaxParallelImageRequests=function(O){s.a.MAX_PARALLEL_IMAGE_REQUESTS=O},a.setRTLTextPlugin=function(O,u){return Te().setRTLTextPlugin(O,u)},a.setWorkerCount=function(O){Ht.workerCount=O},a.setWorkerUrl=function(O){s.a.WORKER_URL=O}});var o=n;return o})})(VR);var bee=VR.exports;const K_=Oa(bee);var P_=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function XR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G3={exports:{}};G3.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",h="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",B="[object Date]",k="[object Error]",P="[object Function]",F="[object GeneratorFunction]",q="[object Map]",ee="[object Number]",H="[object Null]",N="[object Object]",Z="[object Promise]",ue="[object Proxy]",ye="[object RegExp]",be="[object Set]",J="[object String]",se="[object Symbol]",xe="[object Undefined]",Se="[object WeakMap]",De="[object ArrayBuffer]",Le="[object DataView]",he="[object Float32Array]",qe="[object Float64Array]",ge="[object Int8Array]",_t="[object Int16Array]",Mt="[object Int32Array]",dt="[object Uint8Array]",mt="[object Uint8ClampedArray]",je="[object Uint16Array]",Ve="[object Uint32Array]",Xe=/[\\^$.*+?()[\]{}|]/g,Jt=/^\[object .+?Constructor\]$/,Ht=/^(?:0|[1-9]\d*)$/,Ct={};Ct[he]=Ct[qe]=Ct[ge]=Ct[_t]=Ct[Mt]=Ct[dt]=Ct[mt]=Ct[je]=Ct[Ve]=!0,Ct[s]=Ct[h]=Ct[De]=Ct[_]=Ct[Le]=Ct[B]=Ct[k]=Ct[P]=Ct[q]=Ct[ee]=Ct[N]=Ct[ye]=Ct[be]=Ct[J]=Ct[Se]=!1;var Qt=typeof P_=="object"&&P_&&P_.Object===Object&&P_,$t=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Qt||$t||Function("return this")(),pe=t&&!t.nodeType&&t,Me=pe&&!0&&e&&!e.nodeType&&e,Re=Me&&Me.exports===pe,it=Re&&Qt.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),St=ot&&ot.isTypedArray;function Rt(z,ae){for(var Ue=-1,gt=z==null?0:z.length,Nn=0,vn=[];++Ue<gt;){var Kn=z[Ue];ae(Kn,Ue,z)&&(vn[Nn++]=Kn)}return vn}function zt(z,ae){for(var Ue=-1,gt=ae.length,Nn=z.length;++Ue<gt;)z[Nn+Ue]=ae[Ue];return z}function pt(z,ae){for(var Ue=-1,gt=z==null?0:z.length;++Ue<gt;)if(ae(z[Ue],Ue,z))return!0;return!1}function ir(z,ae){for(var Ue=-1,gt=Array(z);++Ue<z;)gt[Ue]=ae(Ue);return gt}function gn(z){return function(ae){return z(ae)}}function yn(z,ae){return z.has(ae)}function er(z,ae){return z==null?void 0:z[ae]}function Ar(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt,Nn){Ue[++ae]=[Nn,gt]}),Ue}function Mr(z,ae){return function(Ue){return z(ae(Ue))}}function Wr(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt){Ue[++ae]=gt}),Ue}var gr=Array.prototype,_i=Function.prototype,Ee=Object.prototype,X=Ie["__core-js_shared__"],Y=_i.toString,Te=Ee.hasOwnProperty,ut=function(){var z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Bt=Ee.toString,It=RegExp("^"+Y.call(Te).replace(Xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Re?Ie.Buffer:void 0,fn=Ie.Symbol,Pn=Ie.Uint8Array,On=Ee.propertyIsEnumerable,m=gr.splice,Kt=fn?fn.toStringTag:void 0,Pr=Object.getOwnPropertySymbols,nr=Dt?Dt.isBuffer:void 0,Pe=Mr(Object.keys,Object),ce=ta(Ie,"DataView"),Ce=ta(Ie,"Map"),ke=ta(Ie,"Promise"),ze=ta(Ie,"Set"),rt=ta(Ie,"WeakMap"),st=ta(Object,"create"),ft=Wo(ce),et=Wo(Ce),wt=Wo(ke),tn=Wo(ze),qt=Wo(rt),en=fn?fn.prototype:void 0,Fn=en?en.valueOf:void 0;function Bn(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function qn(){this.__data__=st?st(null):{},this.size=0}function Sr(z){var ae=this.has(z)&&delete this.__data__[z];return this.size-=ae?1:0,ae}function lr(z){var ae=this.__data__;if(st){var Ue=ae[z];return Ue===r?void 0:Ue}return Te.call(ae,z)?ae[z]:void 0}function $r(z){var ae=this.__data__;return st?ae[z]!==void 0:Te.call(ae,z)}function Or(z,ae){var Ue=this.__data__;return this.size+=this.has(z)?0:1,Ue[z]=st&&ae===void 0?r:ae,this}Bn.prototype.clear=qn,Bn.prototype.delete=Sr,Bn.prototype.get=lr,Bn.prototype.has=$r,Bn.prototype.set=Or;function Lr(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function or(){this.__data__=[],this.size=0}function ci(z){var ae=this.__data__,Ue=wn(ae,z);if(Ue<0)return!1;var gt=ae.length-1;return Ue==gt?ae.pop():m.call(ae,Ue,1),--this.size,!0}function Li(z){var ae=this.__data__,Ue=wn(ae,z);return Ue<0?void 0:ae[Ue][1]}function to(z){return wn(this.__data__,z)>-1}function ho(z,ae){var Ue=this.__data__,gt=wn(Ue,z);return gt<0?(++this.size,Ue.push([z,ae])):Ue[gt][1]=ae,this}Lr.prototype.clear=or,Lr.prototype.delete=ci,Lr.prototype.get=Li,Lr.prototype.has=to,Lr.prototype.set=ho;function ai(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function fo(){this.size=0,this.__data__={hash:new Bn,map:new(Ce||Lr),string:new Bn}}function ja(z){var ae=ea(this,z).delete(z);return this.size-=ae?1:0,ae}function Ba(z){return ea(this,z).get(z)}function Mi(z){return ea(this,z).has(z)}function is(z,ae){var Ue=ea(this,z),gt=Ue.size;return Ue.set(z,ae),this.size+=Ue.size==gt?0:1,this}ai.prototype.clear=fo,ai.prototype.delete=ja,ai.prototype.get=Ba,ai.prototype.has=Mi,ai.prototype.set=is;function gi(z){var ae=-1,Ue=z==null?0:z.length;for(this.__data__=new ai;++ae<Ue;)this.add(z[ae])}function Wn(z){return this.__data__.set(z,r),this}function ro(z){return this.__data__.has(z)}gi.prototype.add=gi.prototype.push=Wn,gi.prototype.has=ro;function _o(z){var ae=this.__data__=new Lr(z);this.size=ae.size}function Ui(){this.__data__=new Lr,this.size=0}function ve(z){var ae=this.__data__,Ue=ae.delete(z);return this.size=ae.size,Ue}function Je(z){return this.__data__.get(z)}function Vt(z){return this.__data__.has(z)}function sn(z,ae){var Ue=this.__data__;if(Ue instanceof Lr){var gt=Ue.__data__;if(!Ce||gt.length<n-1)return gt.push([z,ae]),this.size=++Ue.size,this;Ue=this.__data__=new ai(gt)}return Ue.set(z,ae),this.size=Ue.size,this}_o.prototype.clear=Ui,_o.prototype.delete=ve,_o.prototype.get=Je,_o.prototype.has=Vt,_o.prototype.set=sn;function Lt(z,ae){var Ue=as(z),gt=!Ue&&Jl(z),Nn=!Ue&&!gt&&No(z),vn=!Ue&&!gt&&!Nn&&ul(z),Kn=Ue||gt||Nn||vn,Ur=Kn?ir(z.length,String):[],yr=Ur.length;for(var Ir in z)(ae||Te.call(z,Ir))&&!(Kn&&(Ir=="length"||Nn&&(Ir=="offset"||Ir=="parent")||vn&&(Ir=="buffer"||Ir=="byteLength"||Ir=="byteOffset")||gA(Ir,yr)))&&Ur.push(Ir);return Ur}function wn(z,ae){for(var Ue=z.length;Ue--;)if(bs(z[Ue][0],ae))return Ue;return-1}function dr(z,ae,Ue){var gt=ae(z);return as(z)?gt:zt(gt,Ue(z))}function ri(z){return z==null?z===void 0?xe:H:Kt&&Kt in Object(z)?Cs(z):Wu(z)}function si(z){return sa(z)&&ri(z)==s}function Xo(z,ae,Ue,gt,Nn){return z===ae?!0:z==null||ae==null||!sa(z)&&!sa(ae)?z!==z&&ae!==ae:Ta(z,ae,Ue,gt,Xo,Nn)}function Ta(z,ae,Ue,gt,Nn,vn){var Kn=as(z),Ur=as(ae),yr=Kn?h:fa(z),Ir=Ur?h:fa(ae);yr=yr==s?N:yr,Ir=Ir==s?N:Ir;var ki=yr==N,po=Ir==N,Si=yr==Ir;if(Si&&No(z)){if(!No(ae))return!1;Kn=!0,ki=!1}if(Si&&!ki)return vn||(vn=new _o),Kn||ul(z)?Na(z,ae,Ue,gt,Nn,vn):Jo(z,ae,yr,Ue,gt,Nn,vn);if(!(Ue&i)){var Zr=ki&&Te.call(z,"__wrapped__"),Hi=po&&Te.call(ae,"__wrapped__");if(Zr||Hi){var Bo=Zr?z.value():z,xo=Hi?ae.value():ae;return vn||(vn=new _o),Nn(Bo,xo,Ue,gt,vn)}}return Si?(vn||(vn=new _o),Cu(z,ae,Ue,gt,Nn,vn)):!1}function Fr(z){if(!eu(z)||yA(z))return!1;var ae=ll(z)?It:Jt;return ae.test(Wo(z))}function Wa(z){return sa(z)&&bl(z.length)&&!!Ct[ri(z)]}function yi(z){if(!xu(z))return Pe(z);var ae=[];for(var Ue in Object(z))Te.call(z,Ue)&&Ue!="constructor"&&ae.push(Ue);return ae}function Na(z,ae,Ue,gt,Nn,vn){var Kn=Ue&i,Ur=z.length,yr=ae.length;if(Ur!=yr&&!(Kn&&yr>Ur))return!1;var Ir=vn.get(z);if(Ir&&vn.get(ae))return Ir==ae;var ki=-1,po=!0,Si=Ue&o?new gi:void 0;for(vn.set(z,ae),vn.set(ae,z);++ki<Ur;){var Zr=z[ki],Hi=ae[ki];if(gt)var Bo=Kn?gt(Hi,Zr,ki,ae,z,vn):gt(Zr,Hi,ki,z,ae,vn);if(Bo!==void 0){if(Bo)continue;po=!1;break}if(Si){if(!pt(ae,function(xo,Ga){if(!yn(Si,Ga)&&(Zr===xo||Nn(Zr,xo,Ue,gt,vn)))return Si.push(Ga)})){po=!1;break}}else if(!(Zr===Hi||Nn(Zr,Hi,Ue,gt,vn))){po=!1;break}}return vn.delete(z),vn.delete(ae),po}function Jo(z,ae,Ue,gt,Nn,vn,Kn){switch(Ue){case Le:if(z.byteLength!=ae.byteLength||z.byteOffset!=ae.byteOffset)return!1;z=z.buffer,ae=ae.buffer;case De:return!(z.byteLength!=ae.byteLength||!vn(new Pn(z),new Pn(ae)));case _:case B:case ee:return bs(+z,+ae);case k:return z.name==ae.name&&z.message==ae.message;case ye:case J:return z==ae+"";case q:var Ur=Ar;case be:var yr=gt&i;if(Ur||(Ur=Wr),z.size!=ae.size&&!yr)return!1;var Ir=Kn.get(z);if(Ir)return Ir==ae;gt|=o,Kn.set(z,ae);var ki=Na(Ur(z),Ur(ae),gt,Nn,vn,Kn);return Kn.delete(z),ki;case se:if(Fn)return Fn.call(z)==Fn.call(ae)}return!1}function Cu(z,ae,Ue,gt,Nn,vn){var Kn=Ue&i,Ur=os(z),yr=Ur.length,Ir=os(ae),ki=Ir.length;if(yr!=ki&&!Kn)return!1;for(var po=yr;po--;){var Si=Ur[po];if(!(Kn?Si in ae:Te.call(ae,Si)))return!1}var Zr=vn.get(z);if(Zr&&vn.get(ae))return Zr==ae;var Hi=!0;vn.set(z,ae),vn.set(ae,z);for(var Bo=Kn;++po<yr;){Si=Ur[po];var xo=z[Si],Ga=ae[Si];if(gt)var Pl=Kn?gt(Ga,xo,Si,ae,z,vn):gt(xo,Ga,Si,z,ae,vn);if(!(Pl===void 0?xo===Ga||Nn(xo,Ga,Ue,gt,vn):Pl)){Hi=!1;break}Bo||(Bo=Si=="constructor")}if(Hi&&!Bo){var tu=z.constructor,pa=ae.constructor;tu!=pa&&"constructor"in z&&"constructor"in ae&&!(typeof tu=="function"&&tu instanceof tu&&typeof pa=="function"&&pa instanceof pa)&&(Hi=!1)}return vn.delete(z),vn.delete(ae),Hi}function os(z){return dr(z,vA,bu)}function ea(z,ae){var Ue=z.__data__;return ju(ae)?Ue[typeof ae=="string"?"string":"hash"]:Ue.map}function ta(z,ae){var Ue=er(z,ae);return Fr(Ue)?Ue:void 0}function Cs(z){var ae=Te.call(z,Kt),Ue=z[Kt];try{z[Kt]=void 0;var gt=!0}catch{}var Nn=Bt.call(z);return gt&&(ae?z[Kt]=Ue:delete z[Kt]),Nn}var bu=Pr?function(z){return z==null?[]:(z=Object(z),Rt(Pr(z),function(ae){return On.call(z,ae)}))}:vo,fa=ri;(ce&&fa(new ce(new ArrayBuffer(1)))!=Le||Ce&&fa(new Ce)!=q||ke&&fa(ke.resolve())!=Z||ze&&fa(new ze)!=be||rt&&fa(new rt)!=Se)&&(fa=function(z){var ae=ri(z),Ue=ae==N?z.constructor:void 0,gt=Ue?Wo(Ue):"";if(gt)switch(gt){case ft:return Le;case et:return q;case wt:return Z;case tn:return be;case qt:return Se}return ae});function gA(z,ae){return ae=ae??a,!!ae&&(typeof z=="number"||Ht.test(z))&&z>-1&&z%1==0&&z<ae}function ju(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function yA(z){return!!ut&&ut in z}function xu(z){var ae=z&&z.constructor,Ue=typeof ae=="function"&&ae.prototype||Ee;return z===Ue}function Wu(z){return Bt.call(z)}function Wo(z){if(z!=null){try{return Y.call(z)}catch{}try{return z+""}catch{}}return""}function bs(z,ae){return z===ae||z!==z&&ae!==ae}var Jl=si(function(){return arguments}())?si:function(z){return sa(z)&&Te.call(z,"callee")&&!On.call(z,"callee")},as=Array.isArray;function sl(z){return z!=null&&bl(z.length)&&!ll(z)}var No=nr||io;function wu(z,ae){return Xo(z,ae)}function ll(z){if(!eu(z))return!1;var ae=ri(z);return ae==P||ae==F||ae==g||ae==ue}function bl(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function eu(z){var ae=typeof z;return z!=null&&(ae=="object"||ae=="function")}function sa(z){return z!=null&&typeof z=="object"}var ul=St?gn(St):Wa;function vA(z){return sl(z)?Lt(z):yi(z)}function vo(){return[]}function io(){return!1}e.exports=wu})(G3,G3.exports);var xee=G3.exports,wee=XR(xee);function kE(e,t,n){const r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function IE(e,t,n,r){const i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function TE(e,t,n){const r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}function Mee(e,t){const n=[],r=[],i=[];function o(a){return{circle:t(a,.8),line:t(a,.6),polygon:t(a,.3),polygonOutline:t(a,.6),default:t(a,1)}}return Object.keys(e).forEach(a=>{const s=e[a];if(!s||s.length===0){const h=o(a);r.push(kE(h.circle,a)),i.push(TE(h.line,a)),n.push(IE(h.polygon,h.polygonOutline,a))}else s.forEach(h=>{const g=o(h);r.push(kE(g.circle,a,h)),i.push(TE(g.line,a,h)),n.push(IE(g.polygon,g.polygonOutline,a,h))})}),n.concat(i).concat(r)}function See(e,t,n){n=Object.assign({backgroundColor:"#fff"},n);const r={id:"background",type:"background",paint:{"background-color":n.backgroundColor}},i={};return Object.keys(e.sources).forEach(o=>{const a=e.sources[o];(a.type==="vector"||a.type==="geojson")&&(i[o]=a)}),Object.assign(e,{layers:[r].concat(t),sources:i})}var tT={polygonLayer:IE,lineLayer:TE,circleLayer:kE,generateInspectStyle:See,generateColoredLayers:Mee};class Eee{constructor(t){t=Object.assign({show:!0,onToggle(){}},t),this._btn=this.createButton(),this._btn.onclick=t.onToggle,this.elem=this.createContainer(this._btn,t.show)}createButton(){const t=document.createElement("button");return t.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",t.type="button",t.setAttribute("aria-label","Inspect"),t}createContainer(t,n){const r=document.createElement("div");return r.className="maplibregl-ctrl maplibregl-ctrl-group",r.appendChild(t),n||(r.style.display="none"),r}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function Oee(e){return typeof e>"u"||e===null?e:e instanceof Date?e.toLocaleString():typeof e=="object"||typeof e=="number"||typeof e=="string"?e.toString():e}function nT(e,t){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${e}</div><div class="maplibregl-inspect_property-value">${Oee(t)}</div></div>`}function Bee(e){return`<div class="maplibregl-inspect_layer">${e}</div>`}function kee(e){const t=Bee(e.layer["source-layer"]||e.layer.source),n=nT("$type",e.geometry.type),r=Object.keys(e.properties).map(i=>nT(i,e.properties[i]));return[t,n].concat(r).join("")}function Iee(e){return e.map(t=>`<div class="maplibregl-inspect_feature">${kee(t)}</div>`).join("")}function Tee(e){return`<div class="maplibregl-inspect_popup">${Iee(e)}</div>`}var KE={exports:{}};(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(P_,function(){var n=null,r={};H();var i=[],o=function(J){if(J=J||{},J.seed!==void 0&&J.seed!==null&&J.seed===parseInt(J.seed,10))n=J.seed;else if(typeof J.seed=="string")n=ye(J.seed);else{if(J.seed!==void 0&&J.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var se,xe,Se;if(J.count!==null&&J.count!==void 0){for(var De=J.count,Le=[],he=0;he<J.count;he++)i.push(!1);for(J.count=null;De>Le.length;){var qe=o(J);n!==null&&(J.seed=n),Le.push(qe)}return J.count=De,Le}return se=a(J),xe=s(se,J),Se=h(se,xe,J),g([se,xe,Se],J)};function a(J){if(i.length>0){var se=be(J.hue),xe=F(se),Se=(se[1]-se[0])/i.length,De=parseInt((xe-se[0])/Se);i[De]===!0?De=(De+2)%i.length:i[De]=!0;var Le=(se[0]+De*Se)%359,he=(se[0]+(De+1)*Se)%359;return se=[Le,he],xe=F(se),xe<0&&(xe=360+xe),xe}else{var se=B(J.hue);return xe=F(se),xe<0&&(xe=360+xe),xe}}function s(J,se){if(se.hue==="monochrome")return 0;if(se.luminosity==="random")return F([0,100]);var xe=k(J),Se=xe[0],De=xe[1];switch(se.luminosity){case"bright":Se=55;break;case"dark":Se=De-10;break;case"light":De=55;break}return F([Se,De])}function h(J,se,xe){var Se=_(J,se),De=100;switch(xe.luminosity){case"dark":De=Se+20;break;case"light":Se=(De+Se)/2;break;case"random":Se=0,De=100;break}return F([Se,De])}function g(J,se){switch(se.format){case"hsvArray":return J;case"hslArray":return ue(J);case"hsl":var xe=ue(J);return"hsl("+xe[0]+", "+xe[1]+"%, "+xe[2]+"%)";case"hsla":var Se=ue(J),he=se.alpha||Math.random();return"hsla("+Se[0]+", "+Se[1]+"%, "+Se[2]+"%, "+he+")";case"rgbArray":return N(J);case"rgb":var De=N(J);return"rgb("+De.join(", ")+")";case"rgba":var Le=N(J),he=se.alpha||Math.random();return"rgba("+Le.join(", ")+", "+he+")";default:return q(J)}}function _(J,se){for(var xe=P(J).lowerBounds,Se=0;Se<xe.length-1;Se++){var De=xe[Se][0],Le=xe[Se][1],he=xe[Se+1][0],qe=xe[Se+1][1];if(se>=De&&se<=he){var ge=(qe-Le)/(he-De),_t=Le-ge*De;return ge*se+_t}}return 0}function B(J){if(typeof parseInt(J)=="number"){var se=parseInt(J);if(se<360&&se>0)return[se,se]}if(typeof J=="string"){if(r[J]){var xe=r[J];if(xe.hueRange)return xe.hueRange}else if(J.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var Se=Z(J)[0];return[Se,Se]}}return[0,360]}function k(J){return P(J).saturationRange}function P(J){J>=334&&J<=360&&(J-=360);for(var se in r){var xe=r[se];if(xe.hueRange&&J>=xe.hueRange[0]&&J<=xe.hueRange[1])return r[se]}return"Color not found"}function F(J){if(n===null){var se=.618033988749895,xe=Math.random();return xe+=se,xe%=1,Math.floor(J[0]+xe*(J[1]+1-J[0]))}else{var Se=J[1]||1,De=J[0]||0;n=(n*9301+49297)%233280;var Le=n/233280;return Math.floor(De+Le*(Se-De))}}function q(J){var se=N(J);function xe(De){var Le=De.toString(16);return Le.length==1?"0"+Le:Le}var Se="#"+xe(se[0])+xe(se[1])+xe(se[2]);return Se}function ee(J,se,xe){var Se=xe[0][0],De=xe[xe.length-1][0],Le=xe[xe.length-1][1],he=xe[0][1];r[J]={hueRange:se,lowerBounds:xe,saturationRange:[Se,De],brightnessRange:[Le,he]}}function H(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function N(J){var se=J[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var xe=J[1]/100,Se=J[2]/100,De=Math.floor(se*6),Le=se*6-De,he=Se*(1-xe),qe=Se*(1-Le*xe),ge=Se*(1-(1-Le)*xe),_t=256,Mt=256,dt=256;switch(De){case 0:_t=Se,Mt=ge,dt=he;break;case 1:_t=qe,Mt=Se,dt=he;break;case 2:_t=he,Mt=Se,dt=ge;break;case 3:_t=he,Mt=qe,dt=Se;break;case 4:_t=ge,Mt=he,dt=Se;break;case 5:_t=Se,Mt=he,dt=qe;break}var mt=[Math.floor(_t*255),Math.floor(Mt*255),Math.floor(dt*255)];return mt}function Z(J){J=J.replace(/^#/,""),J=J.length===3?J.replace(/(.)/g,"$1$1"):J;var se=parseInt(J.substr(0,2),16)/255,xe=parseInt(J.substr(2,2),16)/255,Se=parseInt(J.substr(4,2),16)/255,De=Math.max(se,xe,Se),Le=De-Math.min(se,xe,Se),he=De?Le/De:0;switch(De){case se:return[60*((xe-Se)/Le%6)||0,he,De];case xe:return[60*((Se-se)/Le+2)||0,he,De];case Se:return[60*((se-xe)/Le+4)||0,he,De]}}function ue(J){var se=J[0],xe=J[1]/100,Se=J[2]/100,De=(2-xe)*Se;return[se,Math.round(xe*Se/(De<1?De:2-De)*1e4)/100,De/2*100]}function ye(J){for(var se=0,xe=0;xe!==J.length&&!(se>=Number.MAX_SAFE_INTEGER);xe++)se+=J.charCodeAt(xe);return se}function be(J){if(isNaN(J)){if(typeof J=="string"){if(r[J]){var xe=r[J];if(xe.hueRange)return xe.hueRange}else if(J.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var Se=Z(J)[0];return P(Se).hueRange}}}else{var se=parseInt(J);if(se<360&&se>0)return P(J).hueRange}return[0,360]}return o})})(KE,KE.exports);var Kee=KE.exports,Pee=XR(Kee);function Fee(e,t){let n="bright",r;return/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport|streets/.test(e)&&(r="orange"),/contour|building|earth/.test(e)&&(r="monochrome"),/building/.test(e)&&(n="dark"),/earth/.test(e)&&(n="light"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(e)&&(r="green"),`rgba(${Pee({luminosity:n,hue:r,seed:e,format:"rgbArray"}).join(", ")}, ${t||"1"})`}var Dee={brightColor:Fee};function Lee(e){return e.metadata&&e.metadata["maplibregl-inspect:inspect"]}function Uee(e){return Object.assign(e,{metadata:Object.assign({},e.metadata,{"maplibregl-inspect:inspect":!0})})}class D7{constructor(t){if(this._onSourceChange=r=>{if(r.sourceDataType==="visibility"||!r.isSourceLoaded)return;const i=Object.assign({},this.sources);this._setSourcesFromMap(),!wee(i,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const r=this._map.getStyle();Lee(r)||(this._originalStyle=r)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=r=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||r.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;r.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||r.type==="mousemove"&&!this.options.showMapPopupOnHover)return;r.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let i;this.options.selectThreshold===0?i=r.point:i=[[r.point.x-this.options.selectThreshold,r.point.y+this.options.selectThreshold],[r.point.x+this.options.selectThreshold,r.point.y-this.options.selectThreshold]];const o=this._map.queryRenderedFeatures(i,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=o.length?"pointer":"",!o.length)this._popup.remove();else{this._popup.setLngLat(r.lngLat);const a=this.options.renderPopup(o);typeof a=="string"?this._popup.setHTML(a):this._popup.setDOMContent(a),this._popup.addTo(this._map)}}},!(this instanceof D7))throw new Error("MaplibreInspect needs to be called with the new keyword");let n=null;window.maplibregl?n=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):t.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:Dee.brightColor,buildInspectStyle:tT.generateInspectStyle,renderPopup:Tee,popup:n,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},t),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new Eee({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const t=tT.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),t,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(Uee(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const t=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(n=>{const r=this._map.style.sourceCaches[n]||{_source:{}},i=r._source.vectorLayerIds;i?this.sources[n]=i:r._source.type==="geojson"&&(this.sources[n]=[])}),Object.keys(this.sources).forEach(n=>{t.indexOf(n)===-1&&delete this.sources[n]})}setOriginalStyle(t){this._originalStyle=t,this._setSourcesFromMap()}onAdd(t){return this._map=t,Object.keys(this.sources).length===0&&(t.on("tiledata",this._onSourceChange),t.on("sourcedata",this._onSourceChange)),t.on("styledata",this._onStyleChange),t.on("load",this._onStyleChange),t.on("mousemove",this._onMousemove),t.on("click",this._onMousemove),t.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0}}var PE={exports:{}};(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(Bh,function(){var n=null,r={};H();var i=[],o=function(J){if(J=J||{},J.seed!==void 0&&J.seed!==null&&J.seed===parseInt(J.seed,10))n=J.seed;else if(typeof J.seed=="string")n=ye(J.seed);else{if(J.seed!==void 0&&J.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var se,xe,Se;if(J.count!==null&&J.count!==void 0){for(var De=J.count,Le=[],he=0;he<J.count;he++)i.push(!1);for(J.count=null;De>Le.length;){var qe=o(J);n!==null&&(J.seed=n),Le.push(qe)}return J.count=De,Le}return se=a(J),xe=s(se,J),Se=h(se,xe,J),g([se,xe,Se],J)};function a(J){if(i.length>0){var se=be(J.hue),xe=F(se),Se=(se[1]-se[0])/i.length,De=parseInt((xe-se[0])/Se);i[De]===!0?De=(De+2)%i.length:i[De]=!0;var Le=(se[0]+De*Se)%359,he=(se[0]+(De+1)*Se)%359;return se=[Le,he],xe=F(se),xe<0&&(xe=360+xe),xe}else{var se=B(J.hue);return xe=F(se),xe<0&&(xe=360+xe),xe}}function s(J,se){if(se.hue==="monochrome")return 0;if(se.luminosity==="random")return F([0,100]);var xe=k(J),Se=xe[0],De=xe[1];switch(se.luminosity){case"bright":Se=55;break;case"dark":Se=De-10;break;case"light":De=55;break}return F([Se,De])}function h(J,se,xe){var Se=_(J,se),De=100;switch(xe.luminosity){case"dark":De=Se+20;break;case"light":Se=(De+Se)/2;break;case"random":Se=0,De=100;break}return F([Se,De])}function g(J,se){switch(se.format){case"hsvArray":return J;case"hslArray":return ue(J);case"hsl":var xe=ue(J);return"hsl("+xe[0]+", "+xe[1]+"%, "+xe[2]+"%)";case"hsla":var Se=ue(J),he=se.alpha||Math.random();return"hsla("+Se[0]+", "+Se[1]+"%, "+Se[2]+"%, "+he+")";case"rgbArray":return N(J);case"rgb":var De=N(J);return"rgb("+De.join(", ")+")";case"rgba":var Le=N(J),he=se.alpha||Math.random();return"rgba("+Le.join(", ")+", "+he+")";default:return q(J)}}function _(J,se){for(var xe=P(J).lowerBounds,Se=0;Se<xe.length-1;Se++){var De=xe[Se][0],Le=xe[Se][1],he=xe[Se+1][0],qe=xe[Se+1][1];if(se>=De&&se<=he){var ge=(qe-Le)/(he-De),_t=Le-ge*De;return ge*se+_t}}return 0}function B(J){if(typeof parseInt(J)=="number"){var se=parseInt(J);if(se<360&&se>0)return[se,se]}if(typeof J=="string"){if(r[J]){var xe=r[J];if(xe.hueRange)return xe.hueRange}else if(J.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var Se=Z(J)[0];return[Se,Se]}}return[0,360]}function k(J){return P(J).saturationRange}function P(J){J>=334&&J<=360&&(J-=360);for(var se in r){var xe=r[se];if(xe.hueRange&&J>=xe.hueRange[0]&&J<=xe.hueRange[1])return r[se]}return"Color not found"}function F(J){if(n===null){var se=.618033988749895,xe=Math.random();return xe+=se,xe%=1,Math.floor(J[0]+xe*(J[1]+1-J[0]))}else{var Se=J[1]||1,De=J[0]||0;n=(n*9301+49297)%233280;var Le=n/233280;return Math.floor(De+Le*(Se-De))}}function q(J){var se=N(J);function xe(De){var Le=De.toString(16);return Le.length==1?"0"+Le:Le}var Se="#"+xe(se[0])+xe(se[1])+xe(se[2]);return Se}function ee(J,se,xe){var Se=xe[0][0],De=xe[xe.length-1][0],Le=xe[xe.length-1][1],he=xe[0][1];r[J]={hueRange:se,lowerBounds:xe,saturationRange:[Se,De],brightnessRange:[Le,he]}}function H(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function N(J){var se=J[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var xe=J[1]/100,Se=J[2]/100,De=Math.floor(se*6),Le=se*6-De,he=Se*(1-xe),qe=Se*(1-Le*xe),ge=Se*(1-(1-Le)*xe),_t=256,Mt=256,dt=256;switch(De){case 0:_t=Se,Mt=ge,dt=he;break;case 1:_t=qe,Mt=Se,dt=he;break;case 2:_t=he,Mt=Se,dt=ge;break;case 3:_t=he,Mt=qe,dt=Se;break;case 4:_t=ge,Mt=he,dt=Se;break;case 5:_t=Se,Mt=he,dt=qe;break}var mt=[Math.floor(_t*255),Math.floor(Mt*255),Math.floor(dt*255)];return mt}function Z(J){J=J.replace(/^#/,""),J=J.length===3?J.replace(/(.)/g,"$1$1"):J;var se=parseInt(J.substr(0,2),16)/255,xe=parseInt(J.substr(2,2),16)/255,Se=parseInt(J.substr(4,2),16)/255,De=Math.max(se,xe,Se),Le=De-Math.min(se,xe,Se),he=De?Le/De:0;switch(De){case se:return[60*((xe-Se)/Le%6)||0,he,De];case xe:return[60*((Se-se)/Le+2)||0,he,De];case Se:return[60*((se-xe)/Le+4)||0,he,De]}}function ue(J){var se=J[0],xe=J[1]/100,Se=J[2]/100,De=(2-xe)*Se;return[se,Math.round(xe*Se/(De<1?De:2-De)*1e4)/100,De/2*100]}function ye(J){for(var se=0,xe=0;xe!==J.length&&!(se>=Number.MAX_SAFE_INTEGER);xe++)se+=J.charCodeAt(xe);return se}function be(J){if(isNaN(J)){if(typeof J=="string"){if(r[J]){var xe=r[J];if(xe.hueRange)return xe.hueRange}else if(J.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var Se=Z(J)[0];return P(Se).hueRange}}}else{var se=parseInt(J);if(se<360&&se>0)return P(J).hueRange}return[0,360]}return o})})(PE,PE.exports);var Ree=PE.exports;const zee=Oa(Ree);function jee(e,t){let n="bright",r;return/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport|streets/.test(e)&&(r="orange"),/contour|building|earth/.test(e)&&(r="monochrome"),/building/.test(e)&&(n="dark"),/earth/.test(e)&&(n="light"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(e)&&(r="green"),`rgba(${zee({luminosity:n,hue:r,seed:e,format:"rgbArray"}).join(", ")}, ${t||"1"})`}const JR={brightColor:jee};var ez={exports:{}},Wee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nee=Wee,Gee=Nee;function tz(){}function nz(){}nz.resetWarningCache=tz;var Qee=function(){function e(r,i,o,a,s,h){if(h!==Gee){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nz,resetWarningCache:tz};return n.PropTypes=n,n};ez.exports=Qee();var kh=ez.exports;const Rr=Oa(kh);var rT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function $ee(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var a0=function(t,n){var r=t.children,i=t.color,o=t.size,a=t.style,s=t.width,h=t.height,g=$ee(t,["children","color","size","style","width","height"]),_=n.reactIconBase,B=_===void 0?{}:_,k=o||B.size||"1em";return Mn.createElement("svg",rT({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:h||k,width:s||k},B,g,{style:rT({verticalAlign:"middle",color:i||B.color},B.style||{},a)}))};a0.propTypes={color:Rr.string,size:Rr.oneOfType([Rr.string,Rr.number]),width:Rr.oneOfType([Rr.string,Rr.number]),height:Rr.oneOfType([Rr.string,Rr.number]),style:Rr.object};a0.contextTypes={reactIconBase:Rr.shape(a0.propTypes)};function Q3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",t="ace6118dd0ae83e2ceb20b70664ae2267741d924",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ace6118dd0ae83e2ceb20b70664ae2267741d924"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Q3=function(){return a},a}Q3();class Yee extends Mn.Component{render(){return Q3().f[0]++,Q3().s[0]++,G.jsx(a0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function $3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",t="8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return $3=function(){return a},a}$3();class n2 extends Mn.Component{render(){return $3().f[0]++,$3().s[0]++,G.jsx(a0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function Y3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",t="6ac2e596376f8b8c2e117c4345e33d1afb8f583b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ac2e596376f8b8c2e117c4345e33d1afb8f583b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Y3=function(){return a},a}Y3();class qee extends Mn.Component{render(){return Y3().f[0]++,Y3().s[0]++,G.jsx(a0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:G.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function q3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",t="f8813cd7d4a9138ff3fc7253bc195b86370ed6cf",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8813cd7d4a9138ff3fc7253bc195b86370ed6cf"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return q3=function(){return a},a}q3();class iT extends Mn.Component{render(){return q3().f[0]++,q3().s[0]++,G.jsx(a0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function H3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",t="35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return H3=function(){return a},a}H3();class Hee extends Mn.Component{render(){return H3().f[0]++,H3().s[0]++,G.jsx(a0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function mv(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function Vee(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(e)}function Zee(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(e)}function Xee(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function Jee(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function ete(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(e)}function tte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)}function nte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(e)}function rte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(e)}function rz(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function ite(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(e)}function ote(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(e)}function ate(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(e)}function ste(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(e)}function FE(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"},child:[]}]})(e)}function lte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(e)}function ute(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(e)}function Ate(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}function cte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(e)}function dte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function hte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function fte(e){return al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(e)}function V3(){var e="/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",t="90c8ed80956547e1dbbdff164a42850c33eed62e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90c8ed80956547e1dbbdff164a42850c33eed62e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return V3=function(){return a},a}V3();class pte extends Mn.Component{render(){return V3().f[0]++,V3().s[0]++,G.jsx(fte,{...this.props})}}function ps(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",t="89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ps=function(){return a},a}ps();class iz extends Mn.Component{render(){ps().f[0]++;const t=(ps().s[0]++,{style:this.props.style});switch(ps().s[1]++,this.props.type){case"fill-extrusion":return ps().b[0][0]++,ps().s[2]++,G.jsx(iT,{...t});case"raster":return ps().b[0][1]++,ps().s[3]++,G.jsx(n2,{...t});case"hillshade":return ps().b[0][2]++,ps().s[4]++,G.jsx(n2,{...t});case"heatmap":return ps().b[0][3]++,ps().s[5]++,G.jsx(n2,{...t});case"fill":return ps().b[0][4]++,ps().s[6]++,G.jsx(n2,{...t});case"background":return ps().b[0][5]++,ps().s[7]++,G.jsx(iT,{...t});case"line":return ps().b[0][6]++,ps().s[8]++,G.jsx(Yee,{...t});case"symbol":return ps().b[0][7]++,ps().s[9]++,G.jsx(qee,{...t});case"circle":return ps().b[0][8]++,ps().s[10]++,G.jsx(Hee,{...t});default:return ps().b[0][9]++,ps().s[11]++,G.jsx(pte,{...t})}}}function xr(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",t="ea1e9940e142b9a2a1c672f6983f6f5748c841e6",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea1e9940e142b9a2a1c672f6983f6f5748c841e6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return xr=function(){return a},a}xr();function mte(e){xr().f[0]++;const t=(xr().s[0]++,{}),n=(xr().s[1]++,{});return xr().s[2]++,e.forEach(r=>{xr().f[1]++;const i=(xr().s[3]++,r.layer["source-layer"]);if(xr().s[4]++,Object.prototype.hasOwnProperty.call(n,r.layer.id)){xr().b[0][0]++,xr().s[5]++,n[r.layer.id]++;const o=(xr().s[6]++,t[i].find(a=>(xr().f[2]++,xr().s[7]++,a.layer.id===r.layer.id)));xr().s[8]++,o.counter=n[r.layer.id]}else xr().b[0][1]++,xr().s[9]++,t[i]=(xr().b[1][0]++,t[i]||(xr().b[1][1]++,[])),xr().s[10]++,t[i].push(r),xr().s[11]++,n[r.layer.id]=1}),xr().s[12]++,t}class oz extends Mn.Component{_getFeatureColor(t,n){if(xr().f[3]++,xr().s[13]++,t.layer.paint)xr().b[2][1]++;else{xr().b[2][0]++,xr().s[14]++;return}xr().s[15]++;try{const r=(xr().s[16]++,t.layer.paint);return xr().s[17]++,xr().b[4][0]++,"text-color"in r&&(xr().b[4][1]++,r["text-color"])?(xr().b[3][0]++,xr().s[18]++,String(r["text-color"])):(xr().b[3][1]++,xr().s[19]++,xr().b[6][0]++,"fill-color"in r&&(xr().b[6][1]++,r["fill-color"])?(xr().b[5][0]++,xr().s[20]++,String(r["fill-color"])):(xr().b[5][1]++,xr().s[21]++,xr().b[8][0]++,"line-color"in r&&(xr().b[8][1]++,r["line-color"])?(xr().b[7][0]++,xr().s[22]++,String(r["line-color"])):(xr().b[7][1]++,xr().s[23]++,xr().b[10][0]++,"fill-extrusion-color"in r&&(xr().b[10][1]++,r["fill-extrusion-color"])?(xr().b[9][0]++,xr().s[24]++,String(r["fill-extrusion-color"])):(xr().b[9][1]++,xr().s[25]++,"black"))))}catch(r){return xr().s[26]++,console.warn("Unable to get feature color, error:",r),xr().s[27]++,"black"}}render(){xr().f[4]++;const t=(xr().s[28]++,mte(this.props.features)),n=(xr().s[29]++,Object.keys(t).map(r=>{xr().f[5]++;const i=(xr().s[30]++,t[r].map((o,a)=>{xr().f[6]++;const s=(xr().s[31]++,this._getFeatureColor(o,this.props.zoom));return xr().s[32]++,G.jsxs("div",{className:"maputnik-popup-layer",children:[G.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:s}}),G.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{xr().f[7]++,xr().s[33]++,this.props.onLayerSelect(o.layer.id)},children:[(xr().b[11][0]++,o.layer.type&&(xr().b[11][1]++,G.jsx(iz,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(xr().b[12][0]++,o.counter&&(xr().b[12][1]++,G.jsxs("span",{children:[" × ",o.counter]})))]})]},a)}));return xr().s[34]++,G.jsxs("div",{children:[G.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return xr().s[35]++,G.jsx("div",{className:"maputnik-feature-layer-popup",children:n})}}function mi(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",t="5f5bcb15b740e85b8bed2fa7ce2308584d19f10e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:5,column:17}},1:{start:{line:5,column:4},end:{line:5,column:17}},2:{start:{line:6,column:2},end:{line:7,column:34}},3:{start:{line:7,column:4},end:{line:7,column:34}},4:{start:{line:8,column:2},end:{line:9,column:28}},5:{start:{line:9,column:4},end:{line:9,column:28}},6:{start:{line:10,column:2},end:{line:10,column:15}},7:{start:{line:13,column:2},end:{line:16,column:12}},8:{start:{line:19,column:2},end:{line:35,column:12}},9:{start:{line:32,column:23},end:{line:32,column:55}},10:{start:{line:33,column:6},end:{line:33,column:74}},11:{start:{line:38,column:25},end:{line:38,column:27}},12:{start:{line:39,column:2},end:{line:52,column:5}},13:{start:{line:40,column:25},end:{line:42,column:6}},14:{start:{line:41,column:6},end:{line:41,column:156}},15:{start:{line:43,column:4},end:{line:51,column:5}},16:{start:{line:44,column:6},end:{line:44,column:35}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:58}},19:{start:{line:49,column:8},end:{line:49,column:60}},20:{start:{line:53,column:2},end:{line:53,column:24}},21:{start:{line:57,column:21},end:{line:57,column:66}},22:{start:{line:58,column:4},end:{line:58,column:250}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:11,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:44},end:{line:17,column:1}},line:12},2:{name:"renderFeature",decl:{start:{line:18,column:9},end:{line:18,column:22}},loc:{start:{line:18,column:37},end:{line:36,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:31,column:40},end:{line:31,column:41}},loc:{start:{line:31,column:58},end:{line:34,column:5}},line:31},4:{name:"removeDuplicatedFeatures",decl:{start:{line:37,column:9},end:{line:37,column:33}},loc:{start:{line:37,column:44},end:{line:54,column:1}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:39,column:19},end:{line:39,column:20}},loc:{start:{line:39,column:32},end:{line:52,column:3}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:40,column:50},end:{line:40,column:51}},loc:{start:{line:40,column:64},end:{line:42,column:5}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:11},end:{line:59,column:3}},line:56}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:5,column:17}},type:"if",locations:[{start:{line:4,column:2},end:{line:5,column:17}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:6,column:2},end:{line:7,column:34}},type:"if",locations:[{start:{line:6,column:2},end:{line:7,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},3:{loc:{start:{line:8,column:2},end:{line:9,column:28}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},4:{loc:{start:{line:8,column:6},end:{line:8,column:89}},type:"binary-expr",locations:[{start:{line:8,column:6},end:{line:8,column:31}},{start:{line:8,column:35},end:{line:8,column:60}},{start:{line:8,column:64},end:{line:8,column:89}}],line:8},5:{loc:{start:{line:24,column:6},end:{line:27,column:10}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:32}},{start:{line:24,column:52},end:{line:27,column:10}}],line:24},6:{loc:{start:{line:41,column:13},end:{line:41,column:155}},type:"binary-expr",locations:[{start:{line:41,column:13},end:{line:41,column:77}},{start:{line:41,column:81},end:{line:41,column:155}}],line:41},7:{loc:{start:{line:43,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:51,column:5}},{start:{line:45,column:11},end:{line:51,column:5}}],line:43},8:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU;AAAM,WAAO;AAC3D,MAAI,iBAAiB;AAAM,WAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU;AAAU,WAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,OAAO,aAAa,QAAQ,EAAE,CAAC;AAAA,IACtD,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACpB,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f5bcb15b740e85b8bed2fa7ce2308584d19f10e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return mi=function(){return a},a}mi();function oT(e){return mi().f[0]++,mi().s[0]++,mi().b[1][0]++,typeof e>"u"||(mi().b[1][1]++,e===null)?(mi().b[0][0]++,mi().s[1]++,e):(mi().b[0][1]++,mi().s[2]++,e instanceof Date?(mi().b[2][0]++,mi().s[3]++,e.toLocaleString()):(mi().b[2][1]++,mi().s[4]++,mi().b[4][0]++,typeof e=="object"||(mi().b[4][1]++,typeof e=="number")||(mi().b[4][2]++,typeof e=="string")?(mi().b[3][0]++,mi().s[5]++,e.toString()):(mi().b[3][1]++,mi().s[6]++,e)))}function iS(e,t){return mi().f[1]++,mi().s[7]++,G.jsxs("tr",{children:[G.jsx("td",{className:"maputnik-popup-table-cell",children:e}),G.jsx("td",{className:"maputnik-popup-table-cell",children:t})]},e)}function gte(e,t){return mi().f[2]++,mi().s[8]++,G.jsxs(Mn.Fragment,{children:[G.jsx("tr",{children:G.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[e.layer.source,": ",e.layer["source-layer"],(mi().b[5][0]++,e.inspectModeCounter&&(mi().b[5][1]++,G.jsxs("span",{children:[" × ",e.inspectModeCounter]})))]})}),iS("$type",e.geometry.type),iS("$id",oT(e.id)),Object.keys(e.properties).map(n=>{mi().f[3]++;const r=(mi().s[9]++,e.properties[n]);return mi().s[10]++,iS(n,oT(r))})]},t)}function yte(e){mi().f[4]++;const t=(mi().s[11]++,[]);return mi().s[12]++,e.forEach(n=>{mi().f[5]++;const r=(mi().s[13]++,t.findIndex(i=>(mi().f[6]++,mi().s[14]++,mi().b[6][0]++,n.layer["source-layer"]===i.layer["source-layer"]&&(mi().b[6][1]++,JSON.stringify(n.properties)===JSON.stringify(i.properties)))));mi().s[15]++,r===-1?(mi().b[7][0]++,mi().s[16]++,t.push(n)):(mi().b[7][1]++,mi().s[17]++,"inspectModeCounter"in t[r]?(mi().b[8][0]++,mi().s[18]++,t[r].inspectModeCounter++):(mi().b[8][1]++,mi().s[19]++,t[r].inspectModeCounter=2))}),mi().s[20]++,t}class vte extends Mn.Component{render(){mi().f[7]++;const t=(mi().s[21]++,yte(this.props.features));return mi().s[22]++,G.jsx("div",{className:"maputnik-feature-property-popup",children:G.jsx("table",{className:"maputnik-popup-table",children:G.jsx("tbody",{children:t.map(gte)})})})}}var az={exports:{}},sz={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},lz={exports:{}},_te=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Cte=_te,bte=Array.prototype.concat,xte=Array.prototype.slice,aT=lz.exports=function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];Cte(o)?n=bte.call(n,xte.call(o)):n.push(o)}return n};aT.wrap=function(e){return function(){return e(aT(arguments))}};var wte=lz.exports,nC=sz,vb=wte,uz=Object.hasOwnProperty,Az=Object.create(null);for(var oS in nC)uz.call(nC,oS)&&(Az[nC[oS]]=oS);var Hc=az.exports={to:{},get:{}};Hc.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=Hc.get.hsl(e),r="hsl";break;case"hwb":n=Hc.get.hwb(e),r="hwb";break;default:n=Hc.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null};Hc.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,a=[0,0,0,1],s,h,g;if(s=e.match(n)){for(g=s[2],s=s[1],h=0;h<3;h++){var _=h*2;a[h]=parseInt(s.slice(_,_+2),16)}g&&(a[3]=parseInt(g,16)/255)}else if(s=e.match(t)){for(s=s[1],g=s[3],h=0;h<3;h++)a[h]=parseInt(s[h]+s[h],16);g&&(a[3]=parseInt(g+g,16)/255)}else if(s=e.match(r)){for(h=0;h<3;h++)a[h]=parseInt(s[h+1],0);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else if(s=e.match(i)){for(h=0;h<3;h++)a[h]=Math.round(parseFloat(s[h+1])*2.55);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else return(s=e.match(o))?s[1]==="transparent"?[0,0,0,0]:uz.call(nC,s[1])?(a=nC[s[1]],a[3]=1,a):null:null;for(h=0;h<3;h++)a[h]=Jm(a[h],0,255);return a[3]=Jm(a[3],0,1),a};Hc.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=Jm(parseFloat(n[2]),0,100),a=Jm(parseFloat(n[3]),0,100),s=Jm(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null};Hc.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=Jm(parseFloat(n[2]),0,100),a=Jm(parseFloat(n[3]),0,100),s=Jm(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null};Hc.to.hex=function(){var e=vb(arguments);return"#"+r2(e[0])+r2(e[1])+r2(e[2])+(e[3]<1?r2(Math.round(e[3]*255)):"")};Hc.to.rgb=function(){var e=vb(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Hc.to.rgb.percent=function(){var e=vb(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"};Hc.to.hsl=function(){var e=vb(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Hc.to.hwb=function(){var e=vb(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Hc.to.keyword=function(e){return Az[e.slice(0,3)]};function Jm(e,t,n){return Math.min(Math.max(t,e),n)}function r2(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var Mte=az.exports;const jC=sz,cz={};for(const e of Object.keys(jC))cz[jC[e]]=e;const Qr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var dz=Qr;for(const e of Object.keys(Qr)){if(!("channels"in Qr[e]))throw new Error("missing channels property: "+e);if(!("labels"in Qr[e]))throw new Error("missing channel labels property: "+e);if(Qr[e].labels.length!==Qr[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=Qr[e];delete Qr[e].channels,delete Qr[e].labels,Object.defineProperty(Qr[e],"channels",{value:t}),Object.defineProperty(Qr[e],"labels",{value:n})}Qr.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=o-i;let s,h;o===i?s=0:t===o?s=(n-r)/a:n===o?s=2+(r-t)/a:r===o&&(s=4+(t-n)/a),s=Math.min(s*60,360),s<0&&(s+=360);const g=(i+o)/2;return o===i?h=0:g<=.5?h=a/(o+i):h=a/(2-o-i),[s,h*100,g*100]};Qr.rgb.hsv=function(e){let t,n,r,i,o;const a=e[0]/255,s=e[1]/255,h=e[2]/255,g=Math.max(a,s,h),_=g-Math.min(a,s,h),B=function(k){return(g-k)/6/_+1/2};return _===0?(i=0,o=0):(o=_/g,t=B(a),n=B(s),r=B(h),a===g?i=r-n:s===g?i=1/3+t-r:h===g&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,g*100]};Qr.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=Qr.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,o*100,r*100]};Qr.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r),o=(1-t-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,s=(1-r-i)/(1-i)||0;return[o*100,a*100,s*100,i*100]};function Ste(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}Qr.rgb.keyword=function(e){const t=cz[e];if(t)return t;let n=1/0,r;for(const i of Object.keys(jC)){const o=jC[i],a=Ste(e,o);a<n&&(n=a,r=i)}return r};Qr.keyword.rgb=function(e){return jC[e]};Qr.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=t*.4124+n*.3576+r*.1805,o=t*.2126+n*.7152+r*.0722,a=t*.0193+n*.1192+r*.9505;return[i*100,o*100,a*100]};Qr.rgb.lab=function(e){const t=Qr.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,a=500*(n-r),s=200*(r-i);return[o,a,s]};Qr.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;const s=2*r-i,h=[0,0,0];for(let g=0;g<3;g++)o=t+1/3*-(g-1),o<0&&o++,o>1&&o--,6*o<1?a=s+(i-s)*6*o:2*o<1?a=i:3*o<2?a=s+(i-s)*(2/3-o)*6:a=s,h[g]=a*255;return h};Qr.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;const a=(r+n)/2,s=r===0?2*i/(o+i):2*n/(r+n);return[t,s*100,a*100]};Qr.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),h=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,h,a];case 1:return[s,r,a];case 2:return[a,r,h];case 3:return[a,s,r];case 4:return[h,a,r];case 5:return[r,a,s]}};Qr.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,a;a=(2-n)*r;const s=(2-n)*i;return o=n*i,o/=s<=1?s:2-s,o=o||0,a/=2,[t,o*100,a*100]};Qr.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const a=Math.floor(6*t),s=1-r;o=6*t-a,a&1&&(o=1-o);const h=n+o*(s-n);let g,_,B;switch(a){default:case 6:case 0:g=s,_=h,B=n;break;case 1:g=h,_=s,B=n;break;case 2:g=n,_=s,B=h;break;case 3:g=n,_=h,B=s;break;case 4:g=h,_=n,B=s;break;case 5:g=s,_=n,B=h;break}return[g*255,_*255,B*255]};Qr.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,r*(1-i)+i);return[o*255,a*255,s*255]};Qr.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,a;return i=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,a=t*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[i*255,o*255,a*255]};Qr.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,o=500*(t-n),a=200*(n-r);return[i,o,a]};Qr.lab.xyz=function(e){const t=e[0],n=e[1],r=e[2];let i,o,a;o=(t+16)/116,i=n/500+o,a=o-r/200;const s=o**3,h=i**3,g=a**3;return o=s>.008856?s:(o-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,a=g>.008856?g:(a-16/116)/7.787,i*=95.047,o*=100,a*=108.883,[i,o,a]};Qr.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const a=Math.sqrt(n*n+r*r);return[t,a,i]};Qr.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI,o=n*Math.cos(i),a=n*Math.sin(i);return[t,o,a]};Qr.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let o=t===null?Qr.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return o===2&&(a+=60),a};Qr.hsv.ansi16=function(e){return Qr.rgb.ansi16(Qr.hsv.rgb(e),e[2])};Qr.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};Qr.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,r=(t&1)*n*255,i=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return[r,i,o]};Qr.ansi256.rgb=function(e){if(e>=232){const o=(e-232)*10+8;return[o,o,o]}e-=16;let t;const n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[n,r,i]};Qr.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};Qr.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(s=>s+s).join(""));const r=parseInt(n,16),i=r>>16&255,o=r>>8&255,a=r&255;return[i,o,a]};Qr.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),a=i-o;let s,h;return a<1?s=o/(1-a):s=0,a<=0?h=0:i===t?h=(n-r)/a%6:i===n?h=2+(r-t)/a:h=4+(t-n)/a,h/=6,h%=1,[h*360,a*100,s*100]};Qr.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],r*100,i*100]};Qr.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],r*100,i*100]};Qr.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],o=t%1*6,a=o%1,s=1-a;let h=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return h=(1-n)*r,[(n*i[0]+h)*255,(n*i[1]+h)*255,(n*i[2]+h)*255]};Qr.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);let i=0;return r>0&&(i=t/r),[e[0],i*100,r*100]};Qr.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],i*100,r*100]};Qr.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]};Qr.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,i=r-t;let o=0;return i<1&&(o=(r-i)/(1-i)),[e[0],i*100,o*100]};Qr.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Qr.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Qr.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Qr.gray.hsl=function(e){return[0,0,e[0]]};Qr.gray.hsv=Qr.gray.hsl;Qr.gray.hwb=function(e){return[0,100,e[0]]};Qr.gray.cmyk=function(e){return[0,0,0,e[0]]};Qr.gray.lab=function(e){return[e[0],0,0]};Qr.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r};Qr.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Z3=dz;function Ete(){const e={},t=Object.keys(Z3);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function Ote(e){const t=Ete(),n=[e];for(t[e].distance=0;n.length;){const r=n.pop(),i=Object.keys(Z3[r]);for(let o=i.length,a=0;a<o;a++){const s=i[a],h=t[s];h.distance===-1&&(h.distance=t[r].distance+1,h.parent=r,n.unshift(s))}}return t}function Bte(e,t){return function(n){return t(e(n))}}function kte(e,t){const n=[t[e].parent,e];let r=Z3[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=Bte(Z3[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}var Ite=function(e){const t=Ote(e),n={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const a=r[o];t[a].parent!==null&&(n[a]=kte(a,t))}return n};const DE=dz,Tte=Ite,Wg={},Kte=Object.keys(DE);function Pte(e){const t=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function Fte(e){const t=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=e(n);if(typeof i=="object")for(let o=i.length,a=0;a<o;a++)i[a]=Math.round(i[a]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Kte.forEach(e=>{Wg[e]={},Object.defineProperty(Wg[e],"channels",{value:DE[e].channels}),Object.defineProperty(Wg[e],"labels",{value:DE[e].labels});const t=Tte(e);Object.keys(t).forEach(r=>{const i=t[r];Wg[e][r]=Fte(i),Wg[e][r].raw=Pte(i)})});var Dte=Wg;const Ng=Mte,$c=Dte,hz=["keyword","gray","hex"],LE={};for(const e of Object.keys($c))LE[[...$c[e].labels].sort().join("")]=e;const X3={};function vu(e,t){if(!(this instanceof vu))return new vu(e,t);if(t&&t in hz&&(t=null),t&&!(t in $c))throw new Error("Unknown model: "+t);let n,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof vu)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=Ng.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=$c[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=$c[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=UE(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const o=i.sort().join("");if(!(o in LE))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=LE[o];const{labels:a}=$c[this.model],s=[];for(n=0;n<a.length;n++)s.push(e[a[n]]);this.color=UE(s)}if(X3[this.model])for(r=$c[this.model].channels,n=0;n<r;n++){const i=X3[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}vu.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Ng.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return Ng.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return Ng.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=$c[this.model],{labels:n}=$c[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new vu([...this.color.map(Ute(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new vu([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:tl("rgb",0,Gl(255)),green:tl("rgb",1,Gl(255)),blue:tl("rgb",2,Gl(255)),hue:tl(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:tl("hsl",1,Gl(100)),lightness:tl("hsl",2,Gl(100)),saturationv:tl("hsv",1,Gl(100)),value:tl("hsv",2,Gl(100)),chroma:tl("hcg",1,Gl(100)),gray:tl("hcg",2,Gl(100)),white:tl("hwb",1,Gl(100)),wblack:tl("hwb",2,Gl(100)),cyan:tl("cmyk",0,Gl(100)),magenta:tl("cmyk",1,Gl(100)),yellow:tl("cmyk",2,Gl(100)),black:tl("cmyk",3,Gl(100)),x:tl("xyz",0,Gl(95.047)),y:tl("xyz",1,Gl(100)),z:tl("xyz",2,Gl(108.833)),l:tl("lab",0,Gl(100)),a:tl("lab",1),b:tl("lab",2),keyword(e){return e!==void 0?new vu(e):$c[this.model].keyword(this.color)},hex(e){return e!==void 0?new vu(e):Ng.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new vu(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),Ng.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const i=r/255;t[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return vu.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=t===void 0?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,h=1-s;return vu.rgb(s*n.red()+h*r.red(),s*n.green()+h*r.green(),s*n.blue()+h*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys($c)){if(hz.includes(e))continue;const{channels:t}=$c[e];vu.prototype[e]=function(...n){return this.model===e?new vu(this):n.length>0?new vu(n,e):new vu([...Rte($c[this.model][e].raw(this.color)),this.valpha],e)},vu[e]=function(...n){let r=n[0];return typeof r=="number"&&(r=UE(n,t)),new vu(r,e)}}function Lte(e,t){return Number(e.toFixed(t))}function Ute(e){return function(t){return Lte(t,e)}}function tl(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(X3[r]||(X3[r]=[]))[t]=n;return e=e[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function Gl(e){return function(t){return Math.max(0,Math.min(e,t))}}function Rte(e){return Array.isArray(e)?e:[e]}function UE(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var zte=vu;const RE=Oa(zte);function ba(){var e="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",t="bc6e1b88794b9d2c3dff41979be33bc1153f4814",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:6,column:4},end:{line:6,column:20}},4:{start:{line:7,column:4},end:{line:7,column:52}},5:{start:{line:8,column:4},end:{line:8,column:93}},6:{start:{line:9,column:4},end:{line:9,column:70}},7:{start:{line:10,column:4},end:{line:12,column:6}},8:{start:{line:13,column:4},end:{line:13,column:57}},9:{start:{line:14,column:4},end:{line:14,column:29}},10:{start:{line:15,column:4},end:{line:15,column:27}},11:{start:{line:18,column:4},end:{line:18,column:60}},12:{start:{line:21,column:4},end:{line:21,column:57}},13:{start:{line:21,column:33},end:{line:21,column:55}},14:{start:{line:22,column:4},end:{line:22,column:57}},15:{start:{line:22,column:33},end:{line:22,column:55}},16:{start:{line:23,column:4},end:{line:23,column:58}},17:{start:{line:23,column:34},end:{line:23,column:56}},18:{start:{line:26,column:4},end:{line:26,column:60}},19:{start:{line:27,column:4},end:{line:27,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:13},end:{line:16,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:20},end:{line:19,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:33},end:{line:21,column:55}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:22,column:27},end:{line:22,column:28}},loc:{start:{line:22,column:33},end:{line:22,column:55}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:28},end:{line:23,column:29}},loc:{start:{line:23,column:34},end:{line:23,column:56}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:28,column:3}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,WAAW,YAAY;AAAA;AAAA;AAG5B,SAAK,UAAU,KAAK,WAAW,cAAc,MAAM;AAEnD,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bc6e1b88794b9d2c3dff41979be33bc1153f4814"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ba=function(){return a},a}ba();class jte{constructor(){on(this,"_map",(ba().s[0]++,void 0));on(this,"_container",(ba().s[1]++,void 0));on(this,"_textEl",(ba().s[2]++,null))}onAdd(t){return ba().f[0]++,ba().s[3]++,this._map=t,ba().s[4]++,this._container=document.createElement("div"),ba().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",ba().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),ba().s[7]++,this._container.innerHTML=`
      Zoom: <span></span>
    `,ba().s[8]++,this._textEl=this._container.querySelector("span"),ba().s[9]++,this.addEventListeners(),ba().s[10]++,this._container}updateZoomLevel(){ba().f[1]++,ba().s[11]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}addEventListeners(){ba().f[2]++,ba().s[12]++,this._map.on("render",()=>(ba().f[3]++,ba().s[13]++,this.updateZoomLevel())),ba().s[14]++,this._map.on("zoomIn",()=>(ba().f[4]++,ba().s[15]++,this.updateZoomLevel())),ba().s[16]++,this._map.on("zoomOut",()=>(ba().f[5]++,ba().s[17]++,this.updateZoomLevel()))}onRemove(){ba().f[6]++,ba().s[18]++,this._container.parentNode.removeChild(this._container),ba().s[19]++,this._map=void 0}}function zE(e,t,n){const r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function jE(e,t,n,r){const i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function WE(e,t,n){const r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}function Wte(e,t){const n=[],r=[],i=[];function o(a){return{circle:t(a,.8),line:t(a,.6),polygon:t(a,.3),polygonOutline:t(a,.6),default:t(a,1)}}return Object.keys(e).forEach(a=>{const s=e[a];if(!s||s.length===0){const h=o(a);r.push(zE(h.circle,a)),i.push(WE(h.line,a)),n.push(jE(h.polygon,h.polygonOutline,a))}else s.forEach(h=>{const g=o(h);r.push(zE(g.circle,a,h)),i.push(WE(g.line,a,h)),n.push(jE(g.polygon,g.polygonOutline,a,h))})}),n.concat(i).concat(r)}function Nte(e,t,n){n=Object.assign({backgroundColor:"#fff"},n);const r={id:"background",type:"background",paint:{"background-color":n.backgroundColor}},i={};return Object.keys(e.sources).forEach(o=>{const a=e.sources[o];(a.type==="vector"||a.type==="geojson")&&(i[o]=a)}),Object.assign(e,{layers:[r].concat(t),sources:i})}const aS={polygonLayer:jE,lineLayer:WE,circleLayer:zE,generateInspectStyle:Nte,generateColoredLayers:Wte};function Fi(){var e="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",t="c6691b5ca8d2cfebe44cf9e3718b8a44b922cf42",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:19,column:16}},10:{start:{line:19,column:4},end:{line:19,column:16}},11:{start:{line:20,column:24},end:{line:20,column:51}},12:{start:{line:21,column:16},end:{line:21,column:52}},13:{start:{line:22,column:2},end:{line:24,column:3}},14:{start:{line:23,column:4},end:{line:23,column:104}},15:{start:{line:25,column:2},end:{line:27,column:3}},16:{start:{line:26,column:4},end:{line:26,column:96}},17:{start:{line:28,column:2},end:{line:30,column:3}},18:{start:{line:29,column:4},end:{line:29,column:94}},19:{start:{line:31,column:2},end:{line:31,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:32,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:19,column:16}},type:"if",locations:[{start:{line:18,column:2},end:{line:19,column:16}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:20,column:24},end:{line:20,column:51}},type:"binary-expr",locations:[{start:{line:20,column:24},end:{line:20,column:45}},{start:{line:20,column:49},end:{line:20,column:51}}],line:20},6:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},7:{loc:{start:{line:22,column:6},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:27}},{start:{line:22,column:31},end:{line:22,column:62}}],line:22},8:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},9:{loc:{start:{line:25,column:6},end:{line:25,column:56}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:56}}],line:25},10:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS;AAAU,WAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c6691b5ca8d2cfebe44cf9e3718b8a44b922cf42"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fi=function(){return a},a}Fi();function sS(e,t){return Fi().f[0]++,Fi().s[0]++,e.type==="circle"?(Fi().b[0][0]++,Fi().s[1]++,e.paint["circle-radius"]=3):(Fi().b[0][1]++,Fi().s[2]++,e.type==="line"?(Fi().b[1][0]++,Fi().s[3]++,e.paint["line-width"]=2):Fi().b[1][1]++),Fi().s[4]++,"filter"in t?(Fi().b[2][0]++,Fi().s[5]++,e.filter=t.filter):(Fi().b[2][1]++,Fi().s[6]++,delete e.filter),Fi().s[7]++,e.id=e.id+"_highlight",Fi().s[8]++,e}function Gte(e){if(Fi().f[1]++,Fi().s[9]++,Fi().b[4][0]++,!e||(Fi().b[4][1]++,e.type==="background")||(Fi().b[4][2]++,e.type==="raster"))return Fi().b[3][0]++,Fi().s[10]++,null;Fi().b[3][1]++;const t=(Fi().s[11]++,Fi().b[5][0]++,e["source-layer"]||(Fi().b[5][1]++,"")),n=(Fi().s[12]++,JR.brightColor(t,1));return Fi().s[13]++,Fi().b[7][0]++,e.type==="fill"||(Fi().b[7][1]++,e.type==="fill-extrusion")?(Fi().b[6][0]++,Fi().s[14]++,sS(aS.polygonLayer(n,n,e.source,e["source-layer"]),e)):(Fi().b[6][1]++,Fi().s[15]++,Fi().b[9][0]++,e.type==="symbol"||(Fi().b[9][1]++,e.type==="circle")?(Fi().b[8][0]++,Fi().s[16]++,sS(aS.circleLayer(n,e.source,e["source-layer"]),e)):(Fi().b[8][1]++,Fi().s[17]++,e.type==="line"?(Fi().b[10][0]++,Fi().s[18]++,sS(aS.lineLayer(n,e.source,e["source-layer"]),e)):(Fi().b[10][1]++,Fi().s[19]++,null)))}function L7(){var e="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",t="a9dc98f82c73787713de0672aff7a601bfeb069d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return L7=function(){return a},a}L7();L7().s[0]++;K_.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);var fz=$te,Qte=Object.prototype.hasOwnProperty;function $te(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)Qte.call(n,r)&&(e[r]=n[r])}return e}var pz={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,i){return i.filter(function(o){return n.test(r,o)})},n.test=function(r,i){return n.match(r,i)!==null},n.match=function(r,i,o){o=o||{};var a=0,s=[],h=i.length,g=0,_=0,B=o.pre||"",k=o.post||"",P=o.caseSensitive&&i||i.toLowerCase(),F;r=o.caseSensitive&&r||r.toLowerCase();for(var q=0;q<h;q++)F=i[q],P[q]===r[a]?(F=B+F+k,a+=1,_+=1+_):_=0,g+=_,s[s.length]=F;return a===r.length?(g=P===r?1/0:g,{rendered:s.join(""),score:g}):null},n.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(a,s,h,g){var _=s;o.extract&&(_=o.extract(s));var B=n.match(r,_,o);return B!=null&&(a[a.length]={string:B.rendered,score:B.score,index:h,original:s}),a},[]).sort(function(a,s){var h=s.score-a.score;return h||a.index-s.index}))}})()})(pz);var Yte=pz.exports,Sc=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};Sc.prototype.show=function(){this.element.style.display="block"};Sc.prototype.hide=function(){this.element.style.display="none"};Sc.prototype.add=function(e){this.items.push(e)};Sc.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0};Sc.prototype.isEmpty=function(){return!this.items.length};Sc.prototype.isVisible=function(){return this.element.style.display==="block"};Sc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};Sc.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};Sc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};Sc.prototype.move=function(e){this.active=e,this.draw()};Sc.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)};Sc.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)};Sc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var qte=Sc,Hte=fz,Vte=Yte,Zte=qte,mA=function(e,t,n){return n=n||{},this.options=Hte({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},n),this.el=e,this.data=t||[],this.list=new Zte(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode,r)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};mA.prototype.handleKeyUp=function(e,t){if(!(e===40||e===38||e===27||e===9)){if(e===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),t.stopPropagation());return}this.handleInputChange(this.el.value)}};mA.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};mA.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};mA.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};mA.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var n=0;n<t.length&&(this.list.add(t[n]),n!==this.options.limit-1);n++);this.list.draw()}).bind(this))};mA.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};mA.prototype.update=function(e){this.data=e,this.handleKeyUp()};mA.prototype.clear=function(){this.data=[],this.list.clear()};mA.prototype.normalize=function(e){return e=e.toLowerCase(),e};mA.prototype.match=function(e,t){return e.indexOf(t)>-1};mA.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e||{place_name:this.query}),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};mA.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},n;this.options.filter?(n=Vte.filter(this.query,this.data,t),n=n.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):n=this.data.map((function(r){var i=this.render(r);return{original:r,string:i}}).bind(this)),e(n)};mA.prototype.getItemValue=function(e){return e};mA.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;n=n.slice(0,i)+"<strong>"+n.slice(i,o)+"</strong>"+n.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return n};mA.prototype.renderError=function(e){this.list.drawError(e)};var Xte=mA,mz=Xte,Jte=mz;typeof window<"u"&&(window.Suggestions=mz);var ene="Expected a function",sT=NaN,tne="[object Symbol]",nne=/^\s+|\s+$/g,rne=/^[-+]0x[0-9a-f]+$/i,ine=/^0b[01]+$/i,one=/^0o[0-7]+$/i,ane=parseInt,sne=typeof window=="object"&&window&&window.Object===Object&&window,lne=typeof self=="object"&&self&&self.Object===Object&&self,une=sne||lne||Function("return this")(),Ane=Object.prototype,cne=Ane.toString,dne=Math.max,hne=Math.min,lS=function(){return une.Date.now()};function fne(e,t,n){var r,i,o,a,s,h,g=0,_=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(ene);t=lT(t)||0,NE(n)&&(_=!!n.leading,B="maxWait"in n,o=B?dne(lT(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k);function P(be){var J=r,se=i;return r=i=void 0,g=be,a=e.apply(se,J),a}function F(be){return g=be,s=setTimeout(H,t),_?P(be):a}function q(be){var J=be-h,se=be-g,xe=t-J;return B?hne(xe,o-se):xe}function ee(be){var J=be-h,se=be-g;return h===void 0||J>=t||J<0||B&&se>=o}function H(){var be=lS();if(ee(be))return N(be);s=setTimeout(H,q(be))}function N(be){return s=void 0,k&&r?P(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),g=0,r=h=i=s=void 0}function ue(){return s===void 0?a:N(lS())}function ye(){var be=lS(),J=ee(be);if(r=arguments,i=this,h=be,J){if(s===void 0)return F(h);if(B)return s=setTimeout(H,t),P(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}function NE(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function pne(e){return!!e&&typeof e=="object"}function mne(e){return typeof e=="symbol"||pne(e)&&cne.call(e)==tne}function lT(e){if(typeof e=="number")return e;if(mne(e))return sT;if(NE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=NE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(nne,"");var n=ine.test(e);return n||one.test(e)?ane(e.slice(2),n?2:8):rne.test(e)?sT:+e}var gne=fne,U7={exports:{}},By=typeof Reflect=="object"?Reflect:null,uT=By&&typeof By.apply=="function"?By.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},J2;By&&typeof By.ownKeys=="function"?J2=By.ownKeys:Object.getOwnPropertySymbols?J2=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:J2=function(t){return Object.getOwnPropertyNames(t)};function yne(e){console&&console.warn&&console.warn(e)}var gz=Number.isNaN||function(t){return t!==t};function Ia(){Ia.init.call(this)}U7.exports=Ia;U7.exports.once=bne;Ia.EventEmitter=Ia;Ia.prototype._events=void 0;Ia.prototype._eventsCount=0;Ia.prototype._maxListeners=void 0;var AT=10;function W5(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ia,"defaultMaxListeners",{enumerable:!0,get:function(){return AT},set:function(e){if(typeof e!="number"||e<0||gz(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");AT=e}});Ia.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ia.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||gz(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function yz(e){return e._maxListeners===void 0?Ia.defaultMaxListeners:e._maxListeners}Ia.prototype.getMaxListeners=function(){return yz(this)};Ia.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var h=o[t];if(h===void 0)return!1;if(typeof h=="function")uT(h,this,n);else for(var g=h.length,_=xz(h,g),r=0;r<g;++r)uT(_[r],this,n);return!0};function vz(e,t,n,r){var i,o,a;if(W5(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=yz(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,yne(s)}return e}Ia.prototype.addListener=function(t,n){return vz(this,t,n,!1)};Ia.prototype.on=Ia.prototype.addListener;Ia.prototype.prependListener=function(t,n){return vz(this,t,n,!0)};function vne(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _z(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=vne.bind(r);return i.listener=n,r.wrapFn=i,i}Ia.prototype.once=function(t,n){return W5(n),this.on(t,_z(this,t,n)),this};Ia.prototype.prependOnceListener=function(t,n){return W5(n),this.prependListener(t,_z(this,t,n)),this};Ia.prototype.removeListener=function(t,n){var r,i,o,a,s;if(W5(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():_ne(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Ia.prototype.off=Ia.prototype.removeListener;Ia.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function Cz(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Cne(i):xz(i,i.length)}Ia.prototype.listeners=function(t){return Cz(this,t,!0)};Ia.prototype.rawListeners=function(t){return Cz(this,t,!1)};Ia.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):bz.call(e,t)};Ia.prototype.listenerCount=bz;function bz(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ia.prototype.eventNames=function(){return this._eventsCount>0?J2(this._events):[]};function xz(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _ne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Cne(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function bne(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}wz(e,t,o,{once:!0}),t!=="error"&&xne(e,i,{once:!0})})}function xne(e,t,n){typeof e.on=="function"&&wz(e,"error",t,n)}function wz(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var wne=U7.exports,Mne={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},Sne={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},Ene={placeholder:Sne},Mz={exports:{}};(function(e){(function(t,n,r){e.exports?e.exports=r():t[n]=r()})(Bh,"subtag",function(){var t="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(h){return h.match(n)||[]}function i(h){return r(h).filter(function(g,_){return g&&_})}function o(h){return h=r(h),{language:h[1]||t,extlang:h[2]||t,script:h[3]||t,region:h[4]||t}}function a(h,g,_){Object.defineProperty(h,g,{value:_,enumerable:!0})}function s(h,g,_){function B(k){return r(k)[h]||t}a(B,"pattern",g),a(o,_,B)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),a(o,"split",i),o})})(Mz);var One=Mz.exports,Bne=Jte,kne=gne,Wc=fz,Ine=wne.EventEmitter,cT=Mne,Tne=Ene,Kne=One;function Sz(e,t){this._eventEmitter=new Ine,this.options=Wc({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}Sz.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return e.text!==void 0?e.text:e.place_name},render:function(e){if(e.geometry){var s=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">'+s[0]+'</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">'+s.splice(1,s.length).join(",")+"</div></div></div>"}else{var t=e.text,n=t.toLowerCase().indexOf(this.query.toLowerCase()),r=this.query.length,i=t.substring(0,n),o=t.substring(n,n+r),a=t.substring(n+r);return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">'+i+'<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">'+o+"</span>"+a+"</div></div></div>"}},popupRender:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},addTo:function(e){function t(r,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var o=r.onAdd();i.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){var n=document.querySelectorAll(e);if(n.length===0)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",kne(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right","maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";var i=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(i),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(r),this._typeahead=new Bne(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e+" maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=t;else{var r=document.createElement("div");r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";var i=r.firstChild,o=i.firstChild;n.appendChild(o)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,i=r?r.value:"";if(!i)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[n,t,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(r.value);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(r.value,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}r.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(r.value)}},_showButton:function(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){var t;if(this._removeResultMarkers(),e.properties&&cT[e.properties.short_code])t=Wc({},this.options.flyTo),this._map&&this._map.fitBounds(cT[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=Wc({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var r={zoom:this.options.zoom};t=Wc({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}},_getConfigForRequest:function(){var e=["bbox","limit","proximity","countries","types","language","reverseMode"],t=this,n=e.reduce(function(r,i){return t.options[i]&&(["countries","types","language"].indexOf(i)>-1?r[i]=t.options[i].split(/[\s,]+/):r[i]=t.options[i],i==="proximity"&&t.options[i]&&typeof t.options[i].longitude=="number"&&typeof t.options[i].latitude=="number"&&(r[i]=[t.options[i].longitude,t.options[i].latitude])),r},{});return n},_geocode:function(e,t,n){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var r=null,i=this._getConfigForRequest(),o;if(this.options.localGeocoderOnly)o=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var a=e.split(/[\s(,)?]+/).map(function(g){return parseFloat(g,10)}).reverse();i.types&&i.types[0],i=Wc(i,{query:a,limit:1}),"proximity"in i&&delete i.proximity,o=this.geocoderApi.reverseGeocode(i)}else i=Wc(i,{query:e}),this.geocoderApi.getSuggestions?t?this.geocoderApi.searchByPlaceId&&n?o=this.geocoderApi.searchByPlaceId(i):o=this.geocoderApi.forwardGeocode(i):o=this.geocoderApi.getSuggestions(i):o=this.geocoderApi.forwardGeocode(i);var s=[];this.options.localGeocoder&&(s=this.options.localGeocoder(e),s||(s=[]));var h=[];return o.catch((function(g){r=g}).bind(this)).then((function(g){this._loadingEl.style.display="none";var _={};return g?_=g:_={type:"FeatureCollection",features:[]},_.config=i,this.fresh&&(this.fresh=!1),_.features=_.features?s.concat(_.features):s,this.options.externalGeocoder?(h=this.options.externalGeocoder(e,_.features,i)||[],h.then(function(B){return _.features=_.features?B.concat(_.features):B,_},function(){return _})):_}).bind(this)).then((function(g){if(r)throw r;this.options.filter&&g.features.length&&(g.features=g.features.filter(this.options.filter));var _=[];g.suggestions?_=g.suggestions:g.place?_=[g.place]:_=g.features,_.length?(this._clearEl.style.display="block",this._typeahead.update(_),(!this.options.showResultsWhileTyping||t)&&this.options.showResultMarkers&&(g.features.length>0||g.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",g)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",g))}).bind(this)).catch((function(g){this._loadingEl.style.display="none",s.length&&this.options.localGeocoder||h.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:s}),this._eventEmitter.emit("error",{error:g})}).bind(this)),o},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=Kne.language(e),n=Tne.placeholder[t];if(n)return n}return"Search"},_fitBoundsForMarkers:function(){if(!(this._typeahead.data.length<1)){var e=this._typeahead.data.filter(function(i){return typeof i!="string"}).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){var t={padding:100},n=Wc({},t,this.options.flyTo),r=new this._maplibregl.LngLatBounds;e.forEach(function(i){r.extend(i.geometry.coordinates)}),this._map.fitBounds(r.toArray(),n)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setGeocoderApi:function(e){return this.geocoderApi=e,this},getGeocoderApi:function(){return this.geocoderApi},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},n=Wc({},t,this.options.marker);this.mapMarker=new this._maplibregl.Marker(n);var r;if(this.options.popup){var i={},o=Wc({},i,this.options.popup);r=new this._maplibregl.Popup(o).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},_handleResultMarkers:function(e){if(this._map){this._removeResultMarkers();var t={color:"#4668F2"},n=Wc({},t,this.options.showResultMarkers);return e.forEach((function(r){if(this.options.showResultMarkers&&this.options.showResultMarkers.element){var i=this.options.showResultMarkers.element.cloneNode(!0);n=Wc(n,{element:i})}var o=new this._maplibregl.Marker(Wc({},n,{element:i})),a;if(this.options.popup){var s={},h=Wc({},s,this.options.popup);a=new this._maplibregl.Popup(h).setHTML(this.options.popupRender(r))}r.center?(o.setLngLat(r.center).addTo(this._map),this.options.popup&&o.setPopup(a)):r.geometry&&r.geometry.type&&r.geometry.type==="Point"&&r.geometry.coordinates&&(o.setLngLat(r.geometry.coordinates).addTo(this._map),this.options.popup&&o.setPopup(a)),this.resultMarkers.push(o)}).bind(this)),this}},_removeResultMarkers:function(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this}};var Pne=Sz;const Fne=Oa(Pne);function rn(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",t="f078e5392b4eea66e37c3f0daf3a606ef88b8aed",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:18,column:36}},1:{start:{line:19,column:2},end:{line:19,column:19}},2:{start:{line:22,column:26},end:{line:28,column:3}},3:{start:{line:29,column:16},end:{line:29,column:55}},4:{start:{line:30,column:2},end:{line:32,column:3}},5:{start:{line:31,column:4},end:{line:31,column:30}},6:{start:{line:33,column:18},end:{line:33,column:20}},7:{start:{line:34,column:2},end:{line:39,column:5}},8:{start:{line:35,column:19},end:{line:35,column:53}},9:{start:{line:36,column:4},end:{line:38,column:5}},10:{start:{line:37,column:6},end:{line:37,column:33}},11:{start:{line:40,column:23},end:{line:44,column:3}},12:{start:{line:45,column:2},end:{line:45,column:22}},13:{start:{line:48,column:24},end:{line:58,column:3}},14:{start:{line:59,column:14},end:{line:59,column:18}},15:{start:{line:61,column:4},end:{line:61,column:17}},16:{start:{line:62,column:4},end:{line:65,column:6}},17:{start:{line:68,column:17},end:{line:68,column:22}},18:{start:{line:69,column:4},end:{line:72,column:5}},19:{start:{line:70,column:6},end:{line:70,column:132}},20:{start:{line:73,column:4},end:{line:73,column:18}},21:{start:{line:76,column:16},end:{line:76,column:30}},22:{start:{line:77,column:28},end:{line:77,column:79}},23:{start:{line:78,column:4},end:{line:83,column:5}},24:{start:{line:79,column:6},end:{line:79,column:52}},25:{start:{line:80,column:6},end:{line:80,column:70}},26:{start:{line:81,column:6},end:{line:81,column:70}},27:{start:{line:82,column:6},end:{line:82,column:76}},28:{start:{line:84,column:4},end:{line:86,column:5}},29:{start:{line:85,column:6},end:{line:85,column:43}},30:{start:{line:87,column:4},end:{line:92,column:5}},31:{start:{line:88,column:6},end:{line:88,column:59}},32:{start:{line:89,column:6},end:{line:91,column:14}},33:{start:{line:90,column:8},end:{line:90,column:36}},34:{start:{line:95,column:20},end:{line:104,column:5}},35:{start:{line:105,column:16},end:{line:105,column:43}},36:{start:{line:106,column:26},end:{line:110,column:5}},37:{start:{line:107,column:21},end:{line:107,column:36}},38:{start:{line:108,column:19},end:{line:108,column:32}},39:{start:{line:109,column:6},end:{line:109,column:44}},40:{start:{line:111,column:4},end:{line:111,column:20}},41:{start:{line:112,column:4},end:{line:112,column:56}},42:{start:{line:113,column:4},end:{line:113,column:56}},43:{start:{line:114,column:4},end:{line:114,column:62}},44:{start:{line:115,column:4},end:{line:115,column:27}},45:{start:{line:116,column:24},end:{line:116,column:41}},46:{start:{line:117,column:4},end:{line:117,column:45}},47:{start:{line:118,column:16},end:{line:118,column:74}},48:{start:{line:119,column:4},end:{line:119,column:37}},49:{start:{line:120,column:20},end:{line:120,column:49}},50:{start:{line:121,column:20},end:{line:141,column:6}},51:{start:{line:131,column:8},end:{line:131,column:82}},52:{start:{line:133,column:62},end:{line:133,column:141}},53:{start:{line:135,column:8},end:{line:139,column:9}},54:{start:{line:136,column:10},end:{line:136,column:108}},55:{start:{line:138,column:10},end:{line:138,column:160}},56:{start:{line:142,column:4},end:{line:142,column:28}},57:{start:{line:143,column:4},end:{line:149,column:7}},58:{start:{line:144,column:6},end:{line:148,column:9}},59:{start:{line:150,column:4},end:{line:156,column:7}},60:{start:{line:151,column:6},end:{line:152,column:15}},61:{start:{line:152,column:8},end:{line:152,column:15}},62:{start:{line:153,column:6},end:{line:155,column:9}},63:{start:{line:157,column:4},end:{line:159,column:7}},64:{start:{line:158,column:6},end:{line:158,column:30}},65:{start:{line:160,column:4},end:{line:164,column:7}},66:{start:{line:161,column:6},end:{line:163,column:9}},67:{start:{line:165,column:4},end:{line:165,column:37}},68:{start:{line:166,column:4},end:{line:166,column:37}},69:{start:{line:168,column:22},end:{line:171,column:3}},70:{start:{line:169,column:18},end:{line:169,column:82}},71:{start:{line:169,column:66},end:{line:169,column:81}},72:{start:{line:170,column:4},end:{line:170,column:36}},73:{start:{line:173,column:27},end:{line:206,column:5}},74:{start:{line:175,column:25},end:{line:175,column:27}},75:{start:{line:176,column:8},end:{line:201,column:9}},76:{start:{line:177,column:26},end:{line:177,column:138}},77:{start:{line:178,column:27},end:{line:178,column:47}},78:{start:{line:179,column:26},end:{line:179,column:47}},79:{start:{line:180,column:10},end:{line:198,column:11}},80:{start:{line:181,column:27},end:{line:184,column:13}},81:{start:{line:185,column:26},end:{line:196,column:13}},82:{start:{line:197,column:12},end:{line:197,column:33}},83:{start:{line:200,column:10},end:{line:200,column:69}},84:{start:{line:202,column:8},end:{line:204,column:10}},85:{start:{line:207,column:21},end:{line:207,column:85}},86:{start:{line:208,column:4},end:{line:208,column:41}},87:{start:{line:211,column:4},end:{line:220,column:6}},88:{start:{line:217,column:20},end:{line:217,column:38}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:17,column:9},end:{line:17,column:20}},loc:{start:{line:17,column:39},end:{line:20,column:1}},line:17},1:{name:"buildInspectStyle",decl:{start:{line:21,column:9},end:{line:21,column:26}},loc:{start:{line:21,column:78},end:{line:46,column:1}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:34,column:48},end:{line:34,column:49}},loc:{start:{line:34,column:62},end:{line:39,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:49,column:17},end:{line:49,column:18}},loc:{start:{line:49,column:23},end:{line:50,column:5}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:51,column:18},end:{line:51,column:19}},loc:{start:{line:51,column:24},end:{line:52,column:5}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:53,column:19},end:{line:53,column:20}},loc:{start:{line:53,column:25},end:{line:54,column:5}},line:53},6:{name:"(anonymous_6)",decl:{start:{line:55,column:14},end:{line:55,column:15}},loc:{start:{line:55,column:20},end:{line:56,column:5}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:21},end:{line:66,column:3}},line:60},8:{name:"(anonymous_8)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:46},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:23},end:{line:93,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:89,column:17},end:{line:89,column:18}},loc:{start:{line:89,column:23},end:{line:91,column:7}},line:89},11:{name:"(anonymous_11)",decl:{start:{line:94,column:2},end:{line:94,column:3}},loc:{start:{line:94,column:22},end:{line:167,column:3}},line:94},12:{name:"(anonymous_12)",decl:{start:{line:106,column:26},end:{line:106,column:27}},loc:{start:{line:106,column:32},end:{line:110,column:5}},line:106},13:{name:"(anonymous_13)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:44},end:{line:132,column:7}},line:130},14:{name:"(anonymous_14)",decl:{start:{line:133,column:25},end:{line:133,column:26}},loc:{start:{line:133,column:62},end:{line:133,column:141}},line:133},15:{name:"(anonymous_15)",decl:{start:{line:134,column:19},end:{line:134,column:20}},loc:{start:{line:134,column:33},end:{line:140,column:7}},line:134},16:{name:"(anonymous_16)",decl:{start:{line:143,column:25},end:{line:143,column:26}},loc:{start:{line:143,column:31},end:{line:149,column:5}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:150,column:19},end:{line:150,column:20}},loc:{start:{line:150,column:26},end:{line:156,column:5}},line:150},18:{name:"(anonymous_18)",decl:{start:{line:157,column:20},end:{line:157,column:21}},loc:{start:{line:157,column:27},end:{line:159,column:5}},line:157},19:{name:"(anonymous_19)",decl:{start:{line:160,column:19},end:{line:160,column:20}},loc:{start:{line:160,column:27},end:{line:164,column:5}},line:160},20:{name:"(anonymous_20)",decl:{start:{line:168,column:22},end:{line:168,column:23}},loc:{start:{line:168,column:30},end:{line:171,column:3}},line:168},21:{name:"(anonymous_21)",decl:{start:{line:169,column:55},end:{line:169,column:56}},loc:{start:{line:169,column:66},end:{line:169,column:81}},line:169},22:{name:"(anonymous_22)",decl:{start:{line:172,column:2},end:{line:172,column:3}},loc:{start:{line:172,column:20},end:{line:209,column:3}},line:172},23:{name:"(anonymous_23)",decl:{start:{line:174,column:22},end:{line:174,column:23}},loc:{start:{line:174,column:40},end:{line:205,column:7}},line:174},24:{name:"(anonymous_24)",decl:{start:{line:210,column:2},end:{line:210,column:3}},loc:{start:{line:210,column:11},end:{line:221,column:3}},line:210},25:{name:"(anonymous_25)",decl:{start:{line:217,column:13},end:{line:217,column:14}},loc:{start:{line:217,column:20},end:{line:217,column:38}},line:217}},branchMap:{0:{loc:{start:{line:30,column:2},end:{line:32,column:3}},type:"if",locations:[{start:{line:30,column:2},end:{line:32,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},1:{loc:{start:{line:36,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:38,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:36,column:8},end:{line:36,column:64}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:32}},{start:{line:36,column:36},end:{line:36,column:64}}],line:36},3:{loc:{start:{line:70,column:15},end:{line:70,column:131}},type:"binary-expr",locations:[{start:{line:70,column:15},end:{line:70,column:71}},{start:{line:70,column:75},end:{line:70,column:131}}],line:70},4:{loc:{start:{line:78,column:4},end:{line:83,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:83,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},5:{loc:{start:{line:84,column:4},end:{line:86,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:86,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},6:{loc:{start:{line:84,column:8},end:{line:84,column:98}},type:"binary-expr",locations:[{start:{line:84,column:8},end:{line:84,column:26}},{start:{line:84,column:30},end:{line:84,column:98}}],line:84},7:{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87},8:{loc:{start:{line:87,column:8},end:{line:87,column:59}},type:"binary-expr",locations:[{start:{line:87,column:8},end:{line:87,column:26}},{start:{line:87,column:30},end:{line:87,column:59}}],line:87},9:{loc:{start:{line:135,column:8},end:{line:139,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:139,column:9}},{start:{line:137,column:15},end:{line:139,column:9}}],line:135},10:{loc:{start:{line:151,column:6},end:{line:152,column:15}},type:"if",locations:[{start:{line:151,column:6},end:{line:152,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:151}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AAmL6B;AAnL7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAC/G,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AAEP,OAAO,sBAAsB;AAC7B,OAAO;AAEP,SAAS,YAAY,OAAoB,WAA4C;AACnF,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAuBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAGA,sBAAsB,WAA+B,WAA+B;AAClF,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,SAAK,aAAa,GAAG;AAErB,UAAM,cAAc,IAAI;AACxB,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa;AAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAA8D;AACnF,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB,EAAC,YAAY,WAAU,CAAC;AAC9E,QAAI,WAAW,UAAU,UAAU;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f078e5392b4eea66e37c3f0daf3a606ef88b8aed"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return rn=function(){return a},a}rn();function dT(e,t){return rn().f[0]++,rn().s[0]++,dV.render(e,t),rn().s[1]++,t}function Dne(e,t,n){rn().f[1]++;const r=(rn().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(rn().s[3]++,Gte(n));rn().s[4]++,i?(rn().b[0][0]++,rn().s[5]++,t.push(i)):rn().b[0][1]++;const o=(rn().s[6]++,{});rn().s[7]++,Object.keys(e.sources).forEach(s=>{rn().f[2]++;const h=(rn().s[8]++,e.sources[s]);rn().s[9]++,rn().b[2][0]++,h.type!=="raster"&&(rn().b[2][1]++,h.type!=="raster-dem")?(rn().b[1][0]++,rn().s[10]++,o[s]=h):rn().b[1][1]++});const a=(rn().s[11]++,{...e,sources:o,layers:[r].concat(t)});return rn().s[12]++,a}class Ez extends Mn.Component{constructor(n){rn().f[7]++,rn().s[15]++;super(n);on(this,"container",(rn().s[14]++,null));on(this,"onLayerSelectById",(rn().s[69]++,n=>{rn().f[20]++;const r=(rn().s[70]++,this.props.mapStyle.layers.findIndex(i=>(rn().f[21]++,rn().s[71]++,i.id===n)));rn().s[72]++,this.props.onLayerSelect(r)}));rn().s[16]++,this.state={map:null,inspect:null}}shouldComponentUpdate(n,r){rn().f[8]++;let i=(rn().s[17]++,!1);rn().s[18]++;try{rn().s[19]++,i=(rn().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(n)||(rn().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return rn().s[20]++,i}componentDidUpdate(){var i,o,a;rn().f[9]++;const n=(rn().s[21]++,this.state.map),r=(rn().s[22]++,this.props.replaceAccessTokens(this.props.mapStyle));rn().s[23]++,n?(rn().b[4][0]++,rn().s[24]++,n.setStyle(r,{diff:!0}),rn().s[25]++,n.showTileBoundaries=(i=this.props.options)==null?void 0:i.showTileBoundaries,rn().s[26]++,n.showCollisionBoxes=(o=this.props.options)==null?void 0:o.showCollisionBoxes,rn().s[27]++,n.showOverdrawInspector=(a=this.props.options)==null?void 0:a.showOverdrawInspector):rn().b[4][1]++,rn().s[28]++,rn().b[6][0]++,this.state.inspect&&(rn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(rn().b[5][0]++,rn().s[29]++,this.state.inspect.toggleInspector()):rn().b[5][1]++,rn().s[30]++,rn().b[8][0]++,this.state.inspect&&(rn().b[8][1]++,this.props.inspectModeEnabled)?(rn().b[7][0]++,rn().s[31]++,this.state.inspect.setOriginalStyle(r),rn().s[32]++,setTimeout(()=>{rn().f[10]++,rn().s[33]++,this.state.inspect.render()},500)):rn().b[7][1]++}componentDidMount(){rn().f[11]++;const n=(rn().s[34]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1}),r=(rn().s[35]++,new K_.Map(n));rn().s[36]++;const i=()=>{rn().f[12]++;const g=(rn().s[37]++,r.getCenter()),_=(rn().s[38]++,r.getZoom());rn().s[39]++,this.props.onChange({center:g,zoom:_})};rn().s[40]++,i(),rn().s[41]++,r.showTileBoundaries=n.showTileBoundaries,rn().s[42]++,r.showCollisionBoxes=n.showCollisionBoxes,rn().s[43]++,r.showOverdrawInspector=n.showOverdrawInspector,rn().s[44]++,this.initGeocoder(r);const o=(rn().s[45]++,new jte);rn().s[46]++,r.addControl(o,"top-right");const a=(rn().s[47]++,new K_.NavigationControl({visualizePitch:!0}));rn().s[48]++,r.addControl(a,"top-right");const s=(rn().s[49]++,document.createElement("div")),h=(rn().s[50]++,new D7({popup:new K_.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(g,_)=>(rn().f[13]++,rn().s[51]++,RE(JR.brightColor(g,_)).desaturate(.5).string()),buildInspectStyle:(g,_)=>(rn().f[14]++,rn().s[52]++,Dne(g,_,this.props.highlightedLayer)),renderPopup:g=>(rn().f[15]++,rn().s[53]++,this.props.inspectModeEnabled?(rn().b[9][0]++,rn().s[54]++,dT(G.jsx(vte,{features:g}),s)):(rn().b[9][1]++,rn().s[55]++,dT(G.jsx(oz,{features:g,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),s)))}));rn().s[56]++,r.addControl(h),rn().s[57]++,r.on("style.load",()=>{rn().f[16]++,rn().s[58]++,this.setState({map:r,inspect:h,zoom:r.getZoom()})}),rn().s[59]++,r.on("data",g=>{if(rn().f[17]++,rn().s[60]++,g.dataType!=="tile"){rn().b[10][0]++,rn().s[61]++;return}else rn().b[10][1]++;rn().s[62]++,this.props.onDataChange({map:this.state.map})}),rn().s[63]++,r.on("error",g=>{rn().f[18]++,rn().s[64]++,console.log("ERROR",g)}),rn().s[65]++,r.on("zoom",g=>{rn().f[19]++,rn().s[66]++,this.setState({zoom:r.getZoom()})}),rn().s[67]++,r.on("dragend",i),rn().s[68]++,r.on("zoomend",i)}initGeocoder(n){rn().f[22]++;const r=(rn().s[73]++,{forwardGeocode:async o=>{rn().f[23]++;const a=(rn().s[74]++,[]);rn().s[75]++;try{const s=(rn().s[76]++,`https://nominatim.openstreetmap.org/search?q=${o.query}&format=geojson&polygon_geojson=1&addressdetails=1`),h=(rn().s[77]++,await fetch(s)),g=(rn().s[78]++,await h.json());rn().s[79]++;for(const _ of g.features){const B=(rn().s[80]++,[_.bbox[0]+(_.bbox[2]-_.bbox[0])/2,_.bbox[1]+(_.bbox[3]-_.bbox[1])/2]),k=(rn().s[81]++,{type:"Feature",geometry:{type:"Point",coordinates:B},place_name:_.properties.display_name,properties:_.properties,text:_.properties.display_name,place_type:["place"],center:B});rn().s[82]++,a.push(k)}}catch(s){rn().s[83]++,console.error(`Failed to forwardGeocode with error: ${s}`)}return rn().s[84]++,{features:a}}}),i=(rn().s[85]++,new Fne(r,{maplibregl:K_}));rn().s[86]++,n.addControl(i,"top-left")}render(){return rn().f[24]++,rn().s[87]++,G.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:n=>(rn().f[25]++,rn().s[88]++,this.container=n),"data-wd-key":"maplibre:map"})}}on(Ez,"defaultProps",(rn().s[13]++,{onMapLoaded:()=>{rn().f[3]++},onDataChange:()=>{rn().f[4]++},onLayerSelect:()=>{rn().f[5]++},onChange:()=>{rn().f[6]++},options:{}}));var Yp=function(){function e(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();const Jy={PROPERTYCHANGE:"propertychange"};var Lne=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();const R7=Lne;function Une(e,t,n){for(var r,i,o=n||k1,a=0,s=e.length,h=!1;a<s;)r=a+(s-a>>1),i=+o(e[r],t),i<0?a=r+1:(s=r,h=!i);return h?a:~a}function k1(e,t){return e>t?1:e<t?-1:0}function z7(e,t,n){var r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(e[i]<t)return i-1}else if(n<0){for(i=1;i<r;++i)if(e[i]<=t)return i}else for(i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return typeof n=="function"?n(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return r-1}function Rne(e,t,n){for(;t<n;){var r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Pf(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,i=0;i<r;i++)e[e.length]=n[i]}function j1(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zne(e,t,n){var r=t||k1;return e.every(function(i,o){if(o===0)return!0;var a=r(e[o-1],i);return!(a>0||n&&a===0)})}function ky(){return!0}function N5(){return!1}function I1(){}function jne(e){var t=!1,n,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!j1(o,r))&&(t=!0,i=this,r=o,n=e.apply(this,arguments)),n}}var _l=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function _b(e){for(var t in e)delete e[t]}var Oz=typeof Object.values=="function"?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t};function T1(e){var t;for(t in e)return!1;return!t}var Wne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nne=function(e){Wne(t,e);function t(n){var r=e.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return t.prototype.addEventListener=function(n,r){if(!(!n||!r)){var i=this.listeners_||(this.listeners_={}),o=i[n]||(i[n]=[]);o.indexOf(r)===-1&&o.push(r)}},t.prototype.dispatchEvent=function(n){var r=typeof n=="string",i=r?n:n.type,o=this.listeners_&&this.listeners_[i];if(o){var a=r?new Yp(n):n;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,h[i]=0),++s[i];for(var g,_=0,B=o.length;_<B;++_)if("handleEvent"in o[_]?g=o[_].handleEvent(a):g=o[_].call(this,a),g===!1||a.propagationStopped){g=!1;break}if(--s[i]===0){var k=h[i];for(delete h[i];k--;)this.removeEventListener(i,I1);delete s[i]}return g}},t.prototype.disposeInternal=function(){this.listeners_&&_b(this.listeners_)},t.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},t.prototype.hasListener=function(n){return this.listeners_?n?n in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[o]=I1,++this.pendingRemovals_[n]):(i.splice(o,1),i.length===0&&delete this.listeners_[n]))}},t}(R7);const gv=Nne,ji={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Eo(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){var o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}var a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function J3(e,t,n,r){return Eo(e,t,n,r,!0)}function rs(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),_b(e))}var Gne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),G5=function(e){Gne(t,e);function t(){var n=e.call(this)||this;return n.on=n.onInternal,n.once=n.onceInternal,n.un=n.unInternal,n.revision_=0,n}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(ji.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(n,r){if(Array.isArray(n)){for(var i=n.length,o=new Array(i),a=0;a<i;++a)o[a]=Eo(this,n[a],r);return o}else return Eo(this,n,r)},t.prototype.onceInternal=function(n,r){var i;if(Array.isArray(n)){var o=n.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=J3(this,n[a],r)}else i=J3(this,n,r);return r.ol_key=i,i},t.prototype.unInternal=function(n,r){var i=r.ol_key;if(i)WC(i);else if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)this.removeEventListener(n[o],r);else this.removeEventListener(n,r)},t}(gv);G5.prototype.on;G5.prototype.once;G5.prototype.un;function WC(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)rs(e[t]);else rs(e)}const Bz=G5;function vi(){return function(){throw new Error("Unimplemented abstract method.")}()}var Qne=0;function qi(e){return e.ol_uid||(e.ol_uid=String(++Qne))}var $ne="6.15.1",kz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hT=function(e){kz(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.key=r,o.oldValue=i,o}return t}(Yp),Ih=function(e){kz(t,e);function t(n){var r=e.call(this)||this;return r.on,r.once,r.un,qi(r),r.values_=null,n!==void 0&&r.setProperties(n),r}return t.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&_l({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(n,r){var i;i="change:".concat(n),this.hasListener(i)&&this.dispatchEvent(new hT(i,n,r)),i=Jy.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new hT(i,n,r))},t.prototype.addChangeListener=function(n,r){this.addEventListener("change:".concat(n),r)},t.prototype.removeChangeListener=function(n,r){this.removeEventListener("change:".concat(n),r)},t.prototype.set=function(n,r,i){var o=this.values_||(this.values_={});if(i)o[n]=r;else{var a=o[n];o[n]=r,a!==r&&this.notify(n,a)}},t.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},t.prototype.applyProperties=function(n){n.values_&&_l(this.values_||(this.values_={}),n.values_)},t.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],T1(this.values_)&&(this.values_=null),r||this.notify(n,i)}},t}(Bz),Yne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qne=function(e){Yne(t,e);function t(n){var r=this,i="v"+$ne.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+n+" for details.";return r=e.call(this,o)||this,r.code=n,r.name="AssertionError",r.message=o,r}return t}(Error);const Iz=qne;function co(e,t){if(!e)throw new Iz(t)}var Hne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vne=function(e){Hne(t,e);function t(n){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),n)if(typeof n.getSimplifiedGeometry=="function"){var i=n;r.setGeometry(i)}else{var o=n;r.setProperties(o)}return r}return t.prototype.clone=function(){var n=new t(this.hasProperties()?this.getProperties():null);n.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&n.setGeometry(r.clone());var i=this.getStyle();return i&&n.setStyle(i),n},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(rs(this.geometryChangeKey_),this.geometryChangeKey_=null);var n=this.getGeometry();n&&(this.geometryChangeKey_=Eo(n,ji.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(n){this.set(this.geometryName_,n)},t.prototype.setStyle=function(n){this.style_=n,this.styleFunction_=n?Zne(n):void 0,this.changed()},t.prototype.setId=function(n){this.id_=n,this.changed()},t.prototype.setGeometryName=function(n){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=n,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(Ih);function Zne(e){if(typeof e=="function")return e;var t;if(Array.isArray(e))t=e;else{co(typeof e.getZIndex=="function",41);var n=e;t=[n]}return function(){return t}}var zA={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Df={};Df[zA.RADIANS]=6370997/(2*Math.PI);Df[zA.DEGREES]=2*Math.PI*6370997/360;Df[zA.FEET]=.3048;Df[zA.METERS]=1;Df[zA.USFEET]=1200/3937;var s0=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Xne=s0.indexOf("firefox")!==-1,Jne=s0.indexOf("safari")!==-1&&s0.indexOf("chrom")==-1;Jne&&(s0.indexOf("version/15.4")>=0||s0.match(/cpu (os|iphone os) 15_4 like mac os x/));var ere=s0.indexOf("webkit")!==-1&&s0.indexOf("edge")==-1,tre=s0.indexOf("macintosh")!==-1,Tz=typeof devicePixelRatio<"u"?devicePixelRatio:1,Q5=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,nre=typeof Image<"u"&&Image.prototype.decode,Kz=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}(),Pz=new Array(6);function Dd(){return[1,0,0,1,0,0]}function fT(e){return $5(e,1,0,0,1,0,0)}function j7(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=t[0],g=t[1],_=t[2],B=t[3],k=t[4],P=t[5];return e[0]=n*h+i*g,e[1]=r*h+o*g,e[2]=n*_+i*B,e[3]=r*_+o*B,e[4]=n*k+i*P+a,e[5]=r*k+o*P+s,e}function $5(e,t,n,r,i,o,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e}function rre(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function gl(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function uS(e,t,n){return j7(e,$5(Pz,t,0,0,n,0,0))}function ire(e,t,n){return $5(e,t,0,0,n,0,0)}function ore(e,t,n){return j7(e,$5(Pz,1,0,0,1,t,n))}function Lf(e,t,n,r,i,o,a,s){var h=Math.sin(o),g=Math.cos(o);return e[0]=r*g,e[1]=i*h,e[2]=-r*h,e[3]=i*g,e[4]=a*r*g-s*r*h+t,e[5]=a*i*h+s*i*g+n,e}function W7(e,t){var n=are(t);co(n!==0,32);var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5];return e[0]=a/n,e[1]=-i/n,e[2]=-o/n,e[3]=r/n,e[4]=(o*h-a*s)/n,e[5]=-(r*h-i*s)/n,e}function are(e){return e[0]*e[3]-e[1]*e[2]}var pT;function Fz(e){var t="matrix("+e.join(", ")+")";if(Q5)return t;var n=pT||(pT=document.createElement("div"));return n.style.transform=t,n.style.transform}const gu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function GE(e){for(var t=zd(),n=0,r=e.length;n<r;++n)rC(t,e[n]);return t}function sre(e,t,n){var r=Math.min.apply(null,e),i=Math.min.apply(null,t),o=Math.max.apply(null,e),a=Math.max.apply(null,t);return Uf(r,i,o,a,n)}function e0(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Dz(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function W1(e,t,n){var r,i;return t<e[0]?r=e[0]-t:e[2]<t?r=t-e[2]:r=0,n<e[1]?i=e[1]-n:e[3]<n?i=n-e[3]:i=0,r*r+i*i}function Cb(e,t){return N7(e,t[0],t[1])}function Um(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function N7(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function QE(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],h=gu.UNKNOWN;return a<n?h=h|gu.LEFT:a>i&&(h=h|gu.RIGHT),s<r?h=h|gu.BELOW:s>o&&(h=h|gu.ABOVE),h===gu.UNKNOWN&&(h=gu.INTERSECTING),h}function zd(){return[1/0,1/0,-1/0,-1/0]}function Uf(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function bb(e){return Uf(1/0,1/0,-1/0,-1/0,e)}function Lz(e,t){var n=e[0],r=e[1];return Uf(n,r,n,r,t)}function G7(e,t,n,r,i){var o=bb(i);return Rz(o,e,t,n,r)}function ev(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Uz(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function rC(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Rz(e,t,n,r,i){for(;n<r;n+=i)lre(e,t[n],t[n+1]);return e}function lre(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function zz(e,t){var n;return n=t(Y5(e)),n||(n=t(q5(e)),n)||(n=t(H5(e)),n)||(n=t(h0(e)),n)?n:!1}function $E(e){var t=0;return Q7(e)||(t=vs(e)*xc(e)),t}function Y5(e){return[e[0],e[1]]}function q5(e){return[e[2],e[1]]}function l0(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function ure(e,t){var n;return t==="bottom-left"?n=Y5(e):t==="bottom-right"?n=q5(e):t==="top-left"?n=h0(e):t==="top-right"?n=H5(e):co(!1,13),n}function YE(e,t,n,r,i){var o=qE(e,t,n,r),a=o[0],s=o[1],h=o[2],g=o[3],_=o[4],B=o[5],k=o[6],P=o[7];return Uf(Math.min(a,h,_,k),Math.min(s,g,B,P),Math.max(a,h,_,k),Math.max(s,g,B,P),i)}function qE(e,t,n,r){var i=t*r[0]/2,o=t*r[1]/2,a=Math.cos(n),s=Math.sin(n),h=i*a,g=i*s,_=o*a,B=o*s,k=e[0],P=e[1];return[k-h+B,P-g-_,k-h-B,P-g+_,k+h-B,P+g+_,k+h+B,P+g-_,k-h+B,P-g-_]}function xc(e){return e[3]-e[1]}function m1(e,t,n){var r=n||zd();return vl(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):bb(r),r}function h0(e){return[e[0],e[3]]}function H5(e){return[e[2],e[3]]}function vs(e){return e[2]-e[0]}function vl(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Q7(e){return e[2]<e[0]||e[3]<e[1]}function Are(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function cre(e,t,n){var r=!1,i=QE(e,t),o=QE(e,n);if(i===gu.INTERSECTING||o===gu.INTERSECTING)r=!0;else{var a=e[0],s=e[1],h=e[2],g=e[3],_=t[0],B=t[1],k=n[0],P=n[1],F=(P-B)/(k-_),q=void 0,ee=void 0;o&gu.ABOVE&&!(i&gu.ABOVE)&&(q=k-(P-g)/F,r=q>=a&&q<=h),!r&&o&gu.RIGHT&&!(i&gu.RIGHT)&&(ee=P-(k-h)*F,r=ee>=s&&ee<=g),!r&&o&gu.BELOW&&!(i&gu.BELOW)&&(q=k-(P-s)/F,r=q>=a&&q<=h),!r&&o&gu.LEFT&&!(i&gu.LEFT)&&(ee=P-(k-a)*F,r=ee>=s&&ee<=g)}return r}function dre(e,t,n,r){var i=[];if(r>1)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<r;++s)i.push(e[0]+o*s/r,e[1],e[2],e[1]+a*s/r,e[2]-o*s/r,e[3],e[0],e[3]-a*s/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var h=[],g=[],s=0,_=i.length;s<_;s+=2)h.push(i[s]),g.push(i[s+1]);return sre(h,g,n)}function jz(e,t){var n=t.getExtent(),r=l0(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=vs(n),o=Math.floor((r[0]-n[0])/i),a=o*i;e[0]-=a,e[2]-=a}return e}function hre(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];jz(e,t);var r=vs(n);if(vs(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}var fre=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Df[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();const $7=fre;function Kl(e,t,n){return Math.min(Math.max(e,t),n)}var pre=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(t){var n=Math.exp(t);return(n+1/n)/2},e}(),mre=function(){var e;return"log2"in Math?e=Math.log2:e=function(t){return Math.log(t)*Math.LOG2E},e}();function gre(e,t,n,r,i,o){var a=i-n,s=o-r;if(a!==0||s!==0){var h=((e-n)*a+(t-r)*s)/(a*a+s*s);h>1?(n=i,r=o):h>0&&(n+=a*h,r+=s*h)}return g1(e,t,n,r)}function g1(e,t,n,r){var i=n-e,o=r-t;return i*i+o*o}function yre(e){for(var t=e.length,n=0;n<t;n++){for(var r=n,i=Math.abs(e[n][n]),o=n+1;o<t;o++){var a=Math.abs(e[o][n]);a>i&&(i=a,r=o)}if(i===0)return null;var s=e[r];e[r]=e[n],e[n]=s;for(var h=n+1;h<t;h++)for(var g=-e[h][n]/e[n][n],_=n;_<t+1;_++)n==_?e[h][_]=0:e[h][_]+=g*e[n][_]}for(var B=new Array(t),k=t-1;k>=0;k--){B[k]=e[k][t]/e[k][k];for(var P=k-1;P>=0;P--)e[P][t]-=e[P][k]*B[k]}return B}function e3(e){return e*Math.PI/180}function y1(e,t){var n=e%t;return n*t<0?n+t:n}function Bp(e,t,n){return e+n*(t-e)}function Wz(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function i2(e,t){return Math.floor(Wz(e,t))}function o2(e,t){return Math.ceil(Wz(e,t))}var vre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xb=6378137,uy=Math.PI*xb,_re=[-uy,-uy,uy,uy],Cre=[-180,-85,180,85],a2=xb*Math.log(Math.tan(Math.PI/2)),Eg=function(e){vre(t,e);function t(n){return e.call(this,{code:n,units:zA.METERS,extent:_re,global:!0,worldExtent:Cre,getPointResolution:function(r,i){return r/pre(i[1]/xb)}})||this}return t}($7),mT=[new Eg("EPSG:3857"),new Eg("EPSG:102100"),new Eg("EPSG:102113"),new Eg("EPSG:900913"),new Eg("http://www.opengis.net/def/crs/EPSG/0/3857"),new Eg("http://www.opengis.net/gml/srs/epsg.xml#3857")];function bre(e,t,n){var r=e.length,i=n>1?n:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var a=0;a<r;a+=i){o[a]=uy*e[a]/180;var s=xb*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>a2?s=a2:s<-a2&&(s=-a2),o[a+1]=s}return o}function xre(e,t,n){var r=e.length,i=n>1?n:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var a=0;a<r;a+=i)o[a]=180*e[a]/uy,o[a+1]=360*Math.atan(Math.exp(e[a+1]/xb))/Math.PI-90;return o}var wre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mre=6378137,gT=[-180,-90,180,90],Sre=Math.PI*Mre/180,L0=function(e){wre(t,e);function t(n,r){return e.call(this,{code:n,units:zA.DEGREES,extent:gT,axisOrientation:r,global:!0,metersPerUnit:Sre,worldExtent:gT})||this}return t}($7),yT=[new L0("CRS:84"),new L0("EPSG:4326","neu"),new L0("urn:ogc:def:crs:OGC:1.3:CRS84"),new L0("urn:ogc:def:crs:OGC:2:84"),new L0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new L0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new L0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],HE={};function Ere(e){return HE[e]||HE[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Ore(e,t){HE[e]=t}var Iy={};function e4(e,t,n){var r=e.getCode(),i=t.getCode();r in Iy||(Iy[r]={}),Iy[r][i]=n}function Bre(e,t){var n;return e in Iy&&t in Iy[e]&&(n=Iy[e][t]),n}function kre(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function t4(e,t){for(var n=!0,r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function Y7(e,t){var n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,o=e[1]*n+e[0]*r;return e[0]=i,e[1]=o,e}function Ire(e,t){return e[0]*=t,e[1]*=t,e}function q7(e,t){if(t.canWrapX()){var n=vs(t.getExtent()),r=Tre(e,t,n);r&&(e[0]-=r*n)}return e}function Tre(e,t,n){var r=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=n||vs(r);i=Math.floor((e[0]-r[0])/o)}return i}var Kre=63710088e-1;function vT(e,t,n){var r=n||Kre,i=e3(e[1]),o=e3(t[1]),a=(o-i)/2,s=e3(t[0]-e[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}var VE=!0;function Nz(e){var t=e===void 0?!0:e;VE=!t}function H7(e,t,n){var r;if(t!==void 0){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];r=t}else r=e.slice();return r}function Gz(e,t,n){if(t!==void 0&&e!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];e=t}return e}function Pre(e){Ore(e.getCode(),e),e4(e,e,H7)}function Fre(e){e.forEach(Pre)}function qs(e){return typeof e=="string"?Ere(e):e||null}function _T(e,t,n,r){e=qs(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(t,n),r&&r!==e.getUnits()){var a=e.getMetersPerUnit();a&&(i=i*a/Df[r])}}else{var s=e.getUnits();if(s==zA.DEGREES&&!r||r==zA.DEGREES)i=t;else{var h=V5(e,qs("EPSG:4326"));if(h===Gz&&s!==zA.DEGREES)i=t*e.getMetersPerUnit();else{var g=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];g=h(g,g,2);var _=vT(g.slice(0,2),g.slice(2,4)),B=vT(g.slice(4,6),g.slice(6,8));i=(_+B)/2}var a=r?Df[r]:e.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function CT(e){Fre(e),e.forEach(function(t){e.forEach(function(n){t!==n&&e4(t,n,H7)})})}function Dre(e,t,n,r){e.forEach(function(i){t.forEach(function(o){e4(i,o,n),e4(o,i,r)})})}function V7(e,t){return e?typeof e=="string"?qs(e):e:qs(t)}function ZE(e,t){return Nz(),Z7(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function AS(e,t){var n=Z7(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=y1(r+180,360)-180),n}function X0(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;var r=V5(e,t);return r===H7&&n}function V5(e,t){var n=e.getCode(),r=t.getCode(),i=Bre(n,r);return i||(i=Gz),i}function n4(e,t){var n=qs(e),r=qs(t);return V5(n,r)}function Z7(e,t,n){var r=n4(t,n);return r(e,void 0,e.length)}var Lre=null;function Ure(){return Lre}function XE(e,t){return e}function Cp(e,t){return VE&&!t4(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(VE=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Qz(e,t){return e}function s1(e,t){return e}function Rre(){CT(mT),CT(yT),Dre(yT,mT,bre,xre)}Rre();function t0(e,t,n,r,i,o){for(var a=o||[],s=0,h=t;h<n;h+=r){var g=e[h],_=e[h+1];a[s++]=i[0]*g+i[2]*_+i[4],a[s++]=i[1]*g+i[3]*_+i[5]}return o&&a.length!=s&&(a.length=s),a}function $z(e,t,n,r,i,o,a){for(var s=a||[],h=Math.cos(i),g=Math.sin(i),_=o[0],B=o[1],k=0,P=t;P<n;P+=r){var F=e[P]-_,q=e[P+1]-B;s[k++]=_+F*h-q*g,s[k++]=B+F*g+q*h;for(var ee=P+2;ee<P+r;++ee)s[k++]=e[ee]}return a&&s.length!=k&&(s.length=k),s}function zre(e,t,n,r,i,o,a,s){for(var h=s||[],g=a[0],_=a[1],B=0,k=t;k<n;k+=r){var P=e[k]-g,F=e[k+1]-_;h[B++]=g+i*P,h[B++]=_+o*F;for(var q=k+2;q<k+r;++q)h[B++]=e[q]}return s&&h.length!=B&&(h.length=B),h}function jre(e,t,n,r,i,o,a){for(var s=a||[],h=0,g=t;g<n;g+=r){s[h++]=e[g]+i,s[h++]=e[g+1]+o;for(var _=g+2;_<g+r;++_)s[h++]=e[_]}return a&&s.length!=h&&(s.length=h),s}var Wre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bT=Dd(),Nre=function(e){Wre(t,e);function t(){var n=e.call(this)||this;return n.extent_=zd(),n.extentRevision_=-1,n.simplifiedGeometryMaxMinSquaredTolerance=0,n.simplifiedGeometryRevision=0,n.simplifyTransformedInternal=jne(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),n}return t.prototype.simplifyTransformed=function(n,r){return this.simplifyTransformedInternal(this.getRevision(),n,r)},t.prototype.clone=function(){return vi()},t.prototype.closestPointXY=function(n,r,i,o){return vi()},t.prototype.containsXY=function(n,r){var i=this.getClosestPoint([n,r]);return i[0]===n&&i[1]===r},t.prototype.getClosestPoint=function(n,r){var i=r||[NaN,NaN];return this.closestPointXY(n[0],n[1],i,1/0),i},t.prototype.intersectsCoordinate=function(n){return this.containsXY(n[0],n[1])},t.prototype.computeExtent=function(n){return vi()},t.prototype.getExtent=function(n){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&bb(r),this.extentRevision_=this.getRevision()}return Are(this.extent_,n)},t.prototype.rotate=function(n,r){vi()},t.prototype.scale=function(n,r,i){vi()},t.prototype.simplify=function(n){return this.getSimplifiedGeometry(n*n)},t.prototype.getSimplifiedGeometry=function(n){return vi()},t.prototype.getType=function(){return vi()},t.prototype.applyTransform=function(n){vi()},t.prototype.intersectsExtent=function(n){return vi()},t.prototype.translate=function(n,r){vi()},t.prototype.transform=function(n,r){var i=qs(n),o=i.getUnits()==zA.TILE_PIXELS?function(a,s,h){var g=i.getExtent(),_=i.getWorldExtent(),B=xc(_)/xc(g);return Lf(bT,_[0],_[3],B,-B,0,0,0),t0(a,0,a.length,h,bT,s),n4(i,r)(a,s,h)}:n4(i,r);return this.applyTransform(o),this},t}(Ih);const Yz=Nre;var Gre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qre=function(e){Gre(t,e);function t(n){var r=e.call(this)||this;return r.geometries_=n||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(rs),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var n=0,r=this.geometries_.length;n<r;++n)this.changeEventsKeys_.push(Eo(this.geometries_[n],ji.CHANGE,this.changed,this))},t.prototype.clone=function(){var n=new t(null);return n.setGeometries(this.geometries_),n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){if(o<W1(this.getExtent(),n,r))return o;for(var a=this.geometries_,s=0,h=a.length;s<h;++s)o=a[s].closestPointXY(n,r,i,o);return o},t.prototype.containsXY=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)if(i[o].containsXY(n,r))return!0;return!1},t.prototype.computeExtent=function(n){bb(n);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)Uz(n,r[i].getExtent());return n},t.prototype.getGeometries=function(){return xT(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var n=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?n=n.concat(r[i].getGeometriesArrayRecursive()):n.push(r[i]);return n},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&n<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,a=0,s=i.length;a<s;++a){var h=i[a],g=h.getSimplifiedGeometry(n);r.push(g),g!==h&&(o=!0)}if(o){var _=new t(null);return _.setGeometriesArray(r),_}else return this.simplifiedGeometryMaxMinSquaredTolerance=n,this},t.prototype.getType=function(){return"GeometryCollection"},t.prototype.intersectsExtent=function(n){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(n))return!0;return!1},t.prototype.isEmpty=function(){return this.geometries_.length===0},t.prototype.rotate=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].rotate(n,r);this.changed()},t.prototype.scale=function(n,r,i){var o=i;o||(o=l0(this.getExtent()));for(var a=this.geometries_,s=0,h=a.length;s<h;++s)a[s].scale(n,r,o);this.changed()},t.prototype.setGeometries=function(n){this.setGeometriesArray(xT(n))},t.prototype.setGeometriesArray=function(n){this.unlistenGeometriesChange_(),this.geometries_=n,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(n){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(n);this.changed()},t.prototype.translate=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].translate(n,r);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(Yz);function xT(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const $re=Qre;var qz=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(t,n){var r;if(n){var i=n.dataProjection?qs(n.dataProjection):this.readProjection(t);n.extent&&i&&i.getUnits()===zA.TILE_PIXELS&&(i=qs(i),i.setWorldExtent(n.extent)),r={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(t){return _l({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},e.prototype.getType=function(){return vi()},e.prototype.readFeature=function(t,n){return vi()},e.prototype.readFeatures=function(t,n){return vi()},e.prototype.readGeometry=function(t,n){return vi()},e.prototype.readProjection=function(t){return vi()},e.prototype.writeFeature=function(t,n){return vi()},e.prototype.writeFeatures=function(t,n){return vi()},e.prototype.writeGeometry=function(t,n){return vi()},e}();function X7(e,t,n){var r=n?qs(n.featureProjection):null,i=n?qs(n.dataProjection):null,o;if(r&&i&&!X0(r,i)?o=(t?e.clone():e).transform(t?r:i,t?i:r):o=e,t&&n&&n.decimals!==void 0){var a=Math.pow(10,n.decimals),s=function(h){for(var g=0,_=h.length;g<_;++g)h[g]=Math.round(h[g]*a)/a;return h};o===e&&(o=e.clone()),o.applyTransform(s)}return o}var Yre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qre=function(e){Yre(t,e);function t(){return e.call(this)||this}return t.prototype.getType=function(){return"json"},t.prototype.readFeature=function(n,r){return this.readFeatureFromObject(s2(n),this.getReadOptions(n,r))},t.prototype.readFeatures=function(n,r){return this.readFeaturesFromObject(s2(n),this.getReadOptions(n,r))},t.prototype.readFeatureFromObject=function(n,r){return vi()},t.prototype.readFeaturesFromObject=function(n,r){return vi()},t.prototype.readGeometry=function(n,r){return this.readGeometryFromObject(s2(n),this.getReadOptions(n,r))},t.prototype.readGeometryFromObject=function(n,r){return vi()},t.prototype.readProjection=function(n){return this.readProjectionFromObject(s2(n))},t.prototype.readProjectionFromObject=function(n){return vi()},t.prototype.writeFeature=function(n,r){return JSON.stringify(this.writeFeatureObject(n,r))},t.prototype.writeFeatureObject=function(n,r){return vi()},t.prototype.writeFeatures=function(n,r){return JSON.stringify(this.writeFeaturesObject(n,r))},t.prototype.writeFeaturesObject=function(n,r){return vi()},t.prototype.writeGeometry=function(n,r){return JSON.stringify(this.writeGeometryObject(n,r))},t.prototype.writeGeometryObject=function(n,r){return vi()},t}(qz);function s2(e){if(typeof e=="string"){var t=JSON.parse(e);return t||null}else return e!==null?e:null}const Hre=qre,Ra={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var Vre=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zre=function(e){Vre(t,e);function t(){var n=e.call(this)||this;return n.layout=Ra.XY,n.stride=2,n.flatCoordinates=null,n}return t.prototype.computeExtent=function(n){return G7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinates=function(){return vi()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(n),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)},t.prototype.getSimplifiedGeometryInternal=function(n){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(n,r){this.stride=wT(n),this.layout=n,this.flatCoordinates=r},t.prototype.setCoordinates=function(n,r){vi()},t.prototype.setLayout=function(n,r,i){var o;if(n)o=wT(n);else{for(var a=0;a<i;++a)if(r.length===0){this.layout=Ra.XY,this.stride=2;return}else r=r[0];o=r.length,n=Xre(o)}this.layout=n,this.stride=o},t.prototype.applyTransform=function(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();$z(i,0,i.length,o,n,r,i),this.changed()}},t.prototype.scale=function(n,r,i){var o=r;o===void 0&&(o=n);var a=i;a||(a=l0(this.getExtent()));var s=this.getFlatCoordinates();if(s){var h=this.getStride();zre(s,0,s.length,h,n,o,a,s),this.changed()}},t.prototype.translate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();jre(i,0,i.length,o,n,r,i),this.changed()}},t}(Yz);function Xre(e){var t;return e==2?t=Ra.XY:e==3?t=Ra.XYZ:e==4&&(t=Ra.XYZM),t}function wT(e){var t;return e==Ra.XY?t=2:e==Ra.XYZ||e==Ra.XYM?t=3:e==Ra.XYZM&&(t=4),t}function Jre(e,t,n){var r=e.getFlatCoordinates();if(r){var i=e.getStride();return t0(r,0,r.length,i,t,n)}else return null}const N1=Zre;function MT(e,t,n,r,i,o,a){var s=e[t],h=e[t+1],g=e[n]-s,_=e[n+1]-h,B;if(g===0&&_===0)B=t;else{var k=((i-s)*g+(o-h)*_)/(g*g+_*_);if(k>1)B=n;else if(k>0){for(var P=0;P<r;++P)a[P]=Bp(e[t+P],e[n+P],k);a.length=r;return}else B=t}for(var P=0;P<r;++P)a[P]=e[B+P];a.length=r}function J7(e,t,n,r,i){var o=e[t],a=e[t+1];for(t+=r;t<n;t+=r){var s=e[t],h=e[t+1],g=g1(o,a,s,h);g>i&&(i=g),o=s,a=h}return i}function e8(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=J7(e,t,s,r,i),t=s}return i}function eie(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=e8(e,t,s,r,i),t=s[s.length-1]}return i}function t8(e,t,n,r,i,o,a,s,h,g,_){if(t==n)return g;var B,k;if(i===0)if(k=g1(a,s,e[t],e[t+1]),k<g){for(B=0;B<r;++B)h[B]=e[t+B];return h.length=r,k}else return g;for(var P=_||[NaN,NaN],F=t+r;F<n;)if(MT(e,F-r,F,r,a,s,P),k=g1(a,s,P[0],P[1]),k<g){for(g=k,B=0;B<r;++B)h[B]=P[B];h.length=r,F+=r}else F+=r*Math.max((Math.sqrt(k)-Math.sqrt(g))/i|0,1);if(o&&(MT(e,n-r,t,r,a,s,P),k=g1(a,s,P[0],P[1]),k<g)){for(g=k,B=0;B<r;++B)h[B]=P[B];h.length=r}return g}function n8(e,t,n,r,i,o,a,s,h,g,_){for(var B=_||[NaN,NaN],k=0,P=n.length;k<P;++k){var F=n[k];g=t8(e,t,F,r,i,o,a,s,h,g,B),t=F}return g}function tie(e,t,n,r,i,o,a,s,h,g,_){for(var B=_||[NaN,NaN],k=0,P=n.length;k<P;++k){var F=n[k];g=n8(e,t,F,r,i,o,a,s,h,g,B),t=F[F.length-1]}return g}function nie(e,t,n,r){for(var i=0,o=n.length;i<o;++i)e[t++]=n[i];return t}function Z5(e,t,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)e[t++]=a[s];return t}function r8(e,t,n,r,i){for(var o=i||[],a=0,s=0,h=n.length;s<h;++s){var g=Z5(e,t,n[s],r);o[a++]=g,t=g}return o.length=a,o}function rie(e,t,n,r,i){for(var o=i||[],a=0,s=0,h=n.length;s<h;++s){var g=r8(e,t,n[s],r,o[a]);o[a++]=g,t=g[g.length-1]}return o.length=a,o}function i8(e,t,n,r,i,o,a){var s=(n-t)/r;if(s<3){for(;t<n;t+=r)o[a++]=e[t],o[a++]=e[t+1];return a}var h=new Array(s);h[0]=1,h[s-1]=1;for(var g=[t,n-r],_=0;g.length>0;){for(var B=g.pop(),k=g.pop(),P=0,F=e[k],q=e[k+1],ee=e[B],H=e[B+1],N=k+r;N<B;N+=r){var Z=e[N],ue=e[N+1],ye=gre(Z,ue,F,q,ee,H);ye>P&&(_=N,P=ye)}P>i&&(h[(_-t)/r]=1,k+r<_&&g.push(k,_),_+r<B&&g.push(_,B))}for(var N=0;N<s;++N)h[N]&&(o[a++]=e[t+N*r],o[a++]=e[t+N*r+1]);return a}function iie(e,t,n,r,i,o,a,s){for(var h=0,g=n.length;h<g;++h){var _=n[h];a=i8(e,t,_,r,i,o,a),s.push(a),t=_}return a}function Y0(e,t){return t*Math.round(e/t)}function oie(e,t,n,r,i,o,a){if(t==n)return a;var s=Y0(e[t],i),h=Y0(e[t+1],i);t+=r,o[a++]=s,o[a++]=h;var g,_;do if(g=Y0(e[t],i),_=Y0(e[t+1],i),t+=r,t==n)return o[a++]=g,o[a++]=_,a;while(g==s&&_==h);for(;t<n;){var B=Y0(e[t],i),k=Y0(e[t+1],i);if(t+=r,!(B==g&&k==_)){var P=g-s,F=_-h,q=B-s,ee=k-h;if(P*ee==F*q&&(P<0&&q<P||P==q||P>0&&q>P)&&(F<0&&ee<F||F==ee||F>0&&ee>F)){g=B,_=k;continue}o[a++]=g,o[a++]=_,s=g,h=_,g=B,_=k}}return o[a++]=g,o[a++]=_,a}function Hz(e,t,n,r,i,o,a,s){for(var h=0,g=n.length;h<g;++h){var _=n[h];a=oie(e,t,_,r,i,o,a),s.push(a),t=_}return a}function aie(e,t,n,r,i,o,a,s){for(var h=0,g=n.length;h<g;++h){var _=n[h],B=[];a=Hz(e,t,_,r,i,o,a,B),s.push(B),t=_[_.length-1]}return a}function Vz(e,t,n,r,i){var o;for(t+=r;t<n;t+=r)if(o=i(e.slice(t-r,t),e.slice(t,t+r)),o)return o;return!1}function Rm(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=t;s<n;s+=r)o[a++]=e.slice(s,s+r);return o.length=a,o}function NC(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=0,h=n.length;s<h;++s){var g=n[s];o[a++]=Rm(e,t,g,r,o[a]),t=g}return o.length=a,o}function JE(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=0,h=n.length;s<h;++s){var g=n[s];o[a++]=NC(e,t,g,r,o[a]),t=g[g.length-1]}return o.length=a,o}function r4(e,t,n,r,i,o,a){var s,h,g=(n-t)/r;if(g===1)s=t;else if(g===2)s=t,h=i;else if(g!==0){for(var _=e[t],B=e[t+1],k=0,P=[0],F=t+r;F<n;F+=r){var q=e[F],ee=e[F+1];k+=Math.sqrt((q-_)*(q-_)+(ee-B)*(ee-B)),P.push(k),_=q,B=ee}var H=i*k,N=Une(P,H);N<0?(h=(H-P[-N-2])/(P[-N-1]-P[-N-2]),s=t+(-N-2)*r):s=t+N*r}for(var Z=a>1?a:2,ue=o||new Array(Z),F=0;F<Z;++F)ue[F]=s===void 0?NaN:h===void 0?e[s+F]:Bp(e[s+F],e[s+r+F],h);return ue}function eO(e,t,n,r,i,o){if(n==t)return null;var a;if(i<e[t+r-1])return o?(a=e.slice(t,t+r),a[r-1]=i,a):null;if(e[n-1]<i)return o?(a=e.slice(n-r,n),a[r-1]=i,a):null;if(i==e[t+r-1])return e.slice(t,t+r);for(var s=t/r,h=n/r;s<h;){var g=s+h>>1;i<e[(g+1)*r-1]?h=g:s=g+1}var _=e[s*r-1];if(i==_)return e.slice((s-1)*r,(s-1)*r+r);var B=e[(s+1)*r-1],k=(i-_)/(B-_);a=[];for(var P=0;P<r-1;++P)a.push(Bp(e[(s-1)*r+P],e[s*r+P],k));return a.push(i),a}function sie(e,t,n,r,i,o,a){if(a)return eO(e,t,n[n.length-1],r,i,o);var s;if(i<e[r-1])return o?(s=e.slice(0,r),s[r-1]=i,s):null;if(e[e.length-1]<i)return o?(s=e.slice(e.length-r),s[r-1]=i,s):null;for(var h=0,g=n.length;h<g;++h){var _=n[h];if(t!=_){if(i<e[t+r-1])return null;if(i<=e[_-1])return eO(e,t,_,r,i,!1);t=_}}return null}function lie(e,t,n,r,i){var o=zz(i,function(a){return!l1(e,t,n,r,a[0],a[1])});return!o}function l1(e,t,n,r,i,o){for(var a=0,s=e[n-r],h=e[n-r+1];t<n;t+=r){var g=e[t],_=e[t+1];h<=o?_>o&&(g-s)*(o-h)-(i-s)*(_-h)>0&&a++:_<=o&&(g-s)*(o-h)-(i-s)*(_-h)<0&&a--,s=g,h=_}return a!==0}function o8(e,t,n,r,i,o){if(n.length===0||!l1(e,t,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(l1(e,n[a-1],n[a],r,i,o))return!1;return!0}function uie(e,t,n,r,i,o){if(n.length===0)return!1;for(var a=0,s=n.length;a<s;++a){var h=n[a];if(o8(e,t,h,r,i,o))return!0;t=h[h.length-1]}return!1}function X5(e,t,n,r,i){var o=Rz(zd(),e,t,n,r);return vl(i,o)?Um(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:Vz(e,t,n,r,function(a,s){return cre(i,a,s)}):!1}function Aie(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){if(X5(e,t,n[o],r,i))return!0;t=n[o]}return!1}function Zz(e,t,n,r,i){return!!(X5(e,t,n,r,i)||l1(e,t,n,r,i[0],i[1])||l1(e,t,n,r,i[0],i[3])||l1(e,t,n,r,i[2],i[1])||l1(e,t,n,r,i[2],i[3]))}function Xz(e,t,n,r,i){if(!Zz(e,t,n[0],r,i))return!1;if(n.length===1)return!0;for(var o=1,a=n.length;o<a;++o)if(lie(e,n[o-1],n[o],r,i)&&!X5(e,n[o-1],n[o],r,i))return!1;return!0}function cie(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(Xz(e,t,s,r,i))return!0;t=s[s.length-1]}return!1}function Jz(e,t,n,r){for(var i=e[t],o=e[t+1],a=0,s=t+r;s<n;s+=r){var h=e[s],g=e[s+1];a+=Math.sqrt((h-i)*(h-i)+(g-o)*(g-o)),i=h,o=g}return a}var die=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hie=function(e){die(t,e);function t(n,r){var i=e.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.appendCoordinate=function(n){this.flatCoordinates?Pf(this.flatCoordinates,n):this.flatCoordinates=n.slice(),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<W1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(J7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),t8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,n,r,i,o))},t.prototype.forEachSegment=function(n){return Vz(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinateAtM=function(n,r){if(this.layout!=Ra.XYM&&this.layout!=Ra.XYZM)return null;var i=r!==void 0?r:!1;return eO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,i)},t.prototype.getCoordinates=function(){return Rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(n,r){return r4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,this.stride)},t.prototype.getLength=function(){return Jz(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=i8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,Ra.XY)},t.prototype.getType=function(){return"LineString"},t.prototype.intersectsExtent=function(n){return X5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Z5(this.flatCoordinates,0,n,this.stride),this.changed()},t}(N1);const i4=hie;var fie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pie=function(e){fie(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(n[0]))o.setCoordinates(n,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,n),o.ends_=i;else{for(var a=o.getLayout(),s=n,h=[],g=[],_=0,B=s.length;_<B;++_){var k=s[_];_===0&&(a=k.getLayout()),Pf(h,k.getFlatCoordinates()),g.push(h.length)}o.setFlatCoordinates(a,h),o.ends_=g}return o}return t.prototype.appendLineString=function(n){this.flatCoordinates?Pf(this.flatCoordinates,n.getFlatCoordinates().slice()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<W1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(e8(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),n8(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,n,r,i,o))},t.prototype.getCoordinateAtM=function(n,r,i){if(this.layout!=Ra.XYM&&this.layout!=Ra.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,a=i!==void 0?i:!1;return sie(this.flatCoordinates,0,this.ends_,this.stride,n,o,a)},t.prototype.getCoordinates=function(){return NC(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(n){return n<0||this.ends_.length<=n?null:new i4(this.flatCoordinates.slice(n===0?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLineStrings=function(){for(var n=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],a=0,s=0,h=r.length;s<h;++s){var g=r[s],_=new i4(n.slice(a,g),i);o.push(_),a=g}return o},t.prototype.getFlatMidpoints=function(){for(var n=[],r=this.flatCoordinates,i=0,o=this.ends_,a=this.stride,s=0,h=o.length;s<h;++s){var g=o[s],_=r4(r,i,g,a,.5);Pf(n,_),i=g}return n},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=iie(this.flatCoordinates,0,this.ends_,this.stride,n,r,0,i),new t(r,Ra.XY,i)},t.prototype.getType=function(){return"MultiLineString"},t.prototype.intersectsExtent=function(n){return Aie(this.flatCoordinates,0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=r8(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(N1);const ej=pie;var mie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gie=function(e){mie(t,e);function t(n,r){var i=e.call(this)||this;return i.setCoordinates(n,r),i}return t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){var a=this.flatCoordinates,s=g1(n,r,a[0],a[1]);if(s<o){for(var h=this.stride,g=0;g<h;++g)i[g]=a[g];return i.length=h,s}else return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(n){return Lz(this.flatCoordinates,n)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(n){return N7(n,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nie(this.flatCoordinates,0,n,this.stride),this.changed()},t}(N1);const GC=gie;var yie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vie=function(e){yie(t,e);function t(n,r){var i=e.call(this)||this;return r&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.appendPoint=function(n){this.flatCoordinates?Pf(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){if(o<W1(this.getExtent(),n,r))return o;for(var a=this.flatCoordinates,s=this.stride,h=0,g=a.length;h<g;h+=s){var _=g1(n,r,a[h],a[h+1]);if(_<o){o=_;for(var B=0;B<s;++B)i[B]=a[h+B];i.length=s}}return o},t.prototype.getCoordinates=function(){return Rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(n){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return n<0||r<=n?null:new GC(this.flatCoordinates.slice(n*this.stride,(n+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var n=this.flatCoordinates,r=this.layout,i=this.stride,o=[],a=0,s=n.length;a<s;a+=i){var h=new GC(n.slice(a,a+i),r);o.push(h)}return o},t.prototype.getType=function(){return"MultiPoint"},t.prototype.intersectsExtent=function(n){for(var r=this.flatCoordinates,i=this.stride,o=0,a=r.length;o<a;o+=i){var s=r[o],h=r[o+1];if(N7(n,s,h))return!0}return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Z5(this.flatCoordinates,0,n,this.stride),this.changed()},t}(N1);const a8=vie;function tj(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],h=e[t+1];i+=a*s-o*h,o=s,a=h}return i/2}function nj(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=tj(e,t,s,r),t=s}return i}function _ie(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=nj(e,t,s,r),t=s[s.length-1]}return i}var Cie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bie=function(e){Cie(t,e);function t(n,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(n,r,i,o){return o<W1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(J7(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),t8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.getArea=function(){return tj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=i8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,Ra.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(n){return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Z5(this.flatCoordinates,0,n,this.stride),this.changed()},t}(N1);const ST=bie;function s8(e,t,n,r,i,o,a){for(var s,h,g,_,B,k,P,F=i[o+1],q=[],ee=0,H=n.length;ee<H;++ee){var N=n[ee];for(_=e[N-r],k=e[N-r+1],s=t;s<N;s+=r)B=e[s],P=e[s+1],(F<=k&&P<=F||k<=F&&F<=P)&&(g=(F-k)/(P-k)*(B-_)+_,q.push(g)),_=B,k=P}var Z=NaN,ue=-1/0;for(q.sort(k1),_=q[0],s=1,h=q.length;s<h;++s){B=q[s];var ye=Math.abs(B-_);ye>ue&&(g=(_+B)/2,o8(e,t,n,r,g,F)&&(Z=g,ue=ye)),_=B}return isNaN(Z)&&(Z=i[o]),a?(a.push(Z,F,ue),a):[Z,F,ue]}function rj(e,t,n,r,i){for(var o=[],a=0,s=n.length;a<s;++a){var h=n[a];o=s8(e,t,h,r,i,2*a,o),t=h[h.length-1]}return o}function xie(e,t,n,r){for(;t<n-r;){for(var i=0;i<r;++i){var o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function l8(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],h=e[t+1];i+=(s-o)*(h+a),o=s,a=h}return i===0?void 0:i>0}function ij(e,t,n,r,i){for(var o=i!==void 0?i:!1,a=0,s=n.length;a<s;++a){var h=n[a],g=l8(e,t,h,r);if(a===0){if(o&&g||!o&&!g)return!1}else if(o&&!g||!o&&g)return!1;t=h}return!0}function wie(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!ij(e,t,s,r,i))return!1;s.length&&(t=s[s.length-1])}return!0}function tO(e,t,n,r,i){for(var o=i!==void 0?i:!1,a=0,s=n.length;a<s;++a){var h=n[a],g=l8(e,t,h,r),_=a===0?o&&g||!o&&!g:o&&!g||!o&&g;_&&xie(e,t,h,r),t=h}return t}function ET(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o)t=tO(e,t,n[o],r,i);return t}function Mie(e,t){for(var n=[],r=0,i=0,o=0,a=t.length;o<a;++o){var s=t[o];if(!l8(e,r,s,2))n.push(t.slice(i,o+1));else{if(n.length===0)continue;n[n.length-1].push(t[i])}i=o+1,r=s}return n}var Sie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oj=function(e){Sie(t,e);function t(n,r,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,n),o.ends_=i):o.setCoordinates(n,r),o}return t.prototype.appendLinearRing=function(n){this.flatCoordinates?Pf(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<W1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(e8(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),n8(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return o8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,r)},t.prototype.getArea=function(){return nj(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(n){var r;return n!==void 0?(r=this.getOrientedFlatCoordinates().slice(),tO(r,0,this.ends_,this.stride,n)):r=this.flatCoordinates,NC(r,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var n=l0(this.getExtent());this.flatInteriorPoint_=s8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new GC(this.getFlatInteriorPoint(),Ra.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(n){return n<0||this.ends_.length<=n?null:new ST(this.flatCoordinates.slice(n===0?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLinearRings=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,h=i.length;s<h;++s){var g=i[s],_=new ST(r.slice(a,g),n);o.push(_),a=g}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;ij(n,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=tO(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=Hz(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),r,0,i),new t(r,Ra.XY,i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(n){return Xz(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=r8(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(N1);const QC=oj;function OT(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new oj(o,Ra.XY,[o.length])}function aj(e,t,n,r){for(var i=[],o=zd(),a=0,s=n.length;a<s;++a){var h=n[a];o=G7(e,t,h[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=h[h.length-1]}return i}var Eie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oie=function(e){Eie(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(n[0])){for(var a=o.getLayout(),s=n,h=[],g=[],_=0,B=s.length;_<B;++_){var k=s[_];_===0&&(a=k.getLayout());for(var P=h.length,F=k.getEnds(),q=0,ee=F.length;q<ee;++q)F[q]+=P;Pf(h,k.getFlatCoordinates()),g.push(F)}r=a,n=h,i=g}return r!==void 0&&i?(o.setFlatCoordinates(r,n),o.endss_=i):o.setCoordinates(n,r),o}return t.prototype.appendPolygon=function(n){var r;if(!this.flatCoordinates)this.flatCoordinates=n.getFlatCoordinates().slice(),r=n.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Pf(this.flatCoordinates,n.getFlatCoordinates()),r=n.getEnds().slice();for(var o=0,a=r.length;o<a;++o)r[o]+=i}this.endss_.push(r),this.changed()},t.prototype.clone=function(){for(var n=this.endss_.length,r=new Array(n),i=0;i<n;++i)r[i]=this.endss_[i].slice();var o=new t(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},t.prototype.closestPointXY=function(n,r,i,o){return o<W1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eie(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return uie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n,r)},t.prototype.getArea=function(){return _ie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(n){var r;return n!==void 0?(r=this.getOrientedFlatCoordinates().slice(),ET(r,0,this.endss_,this.stride,n)):r=this.flatCoordinates,JE(r,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var n=aj(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=rj(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new a8(this.getFlatInteriorPoints().slice(),Ra.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;wie(n,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=ET(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=aie(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(n),r,0,i),new t(r,Ra.XY,i)},t.prototype.getPolygon=function(n){if(n<0||this.endss_.length<=n)return null;var r;if(n===0)r=0;else{var i=this.endss_[n-1];r=i[i.length-1]}var o=this.endss_[n].slice(),a=o[o.length-1];if(r!==0)for(var s=0,h=o.length;s<h;++s)o[s]-=r;return new QC(this.flatCoordinates.slice(r,a),this.layout,o)},t.prototype.getPolygons=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],a=0,s=0,h=i.length;s<h;++s){var g=i[s].slice(),_=g[g.length-1];if(a!==0)for(var B=0,k=g.length;B<k;++B)g[B]-=a;var P=new QC(r.slice(a,_),n,g);o.push(P),a=_}return o},t.prototype.getType=function(){return"MultiPolygon"},t.prototype.intersectsExtent=function(n){return cie(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=rie(this.flatCoordinates,0,n,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},t}(N1);const sj=Oie;var Bie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kie=function(e){Bie(t,e);function t(n){var r=this,i=n||{};return r=e.call(this)||this,r.dataProjection=qs(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=qs(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return t.prototype.readFeatureFromObject=function(n,r){var i=null;n.type==="Feature"?i=n:i={type:"Feature",geometry:n,properties:null};var o=nO(i.geometry,r),a=new Vne;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(o),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a},t.prototype.readFeaturesFromObject=function(n,r){var i=n,o=null;if(i.type==="FeatureCollection"){var a=n;o=[];for(var s=a.features,h=0,g=s.length;h<g;++h)o.push(this.readFeatureFromObject(s[h],r))}else o=[this.readFeatureFromObject(n,r)];return o},t.prototype.readGeometryFromObject=function(n,r){return nO(n,r)},t.prototype.readProjectionFromObject=function(n){var r=n.crs,i;return r?r.type=="name"?i=qs(r.properties.name):r.type==="EPSG"?i=qs("EPSG:"+r.properties.code):co(!1,36):i=this.dataProjection,i},t.prototype.writeFeatureObject=function(n,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=n.getId();if(o!==void 0&&(i.id=o),!n.hasProperties())return i;var a=n.getProperties(),s=n.getGeometry();return s&&(i.geometry=rO(s,r),delete a[n.getGeometryName()]),T1(a)||(i.properties=a),i},t.prototype.writeFeaturesObject=function(n,r){r=this.adaptOptions(r);for(var i=[],o=0,a=n.length;o<a;++o)i.push(this.writeFeatureObject(n[o],r));return{type:"FeatureCollection",features:i}},t.prototype.writeGeometryObject=function(n,r){return rO(n,this.adaptOptions(r))},t}(Hre);function nO(e,t){if(!e)return null;var n;switch(e.type){case"Point":{n=Tie(e);break}case"LineString":{n=Kie(e);break}case"Polygon":{n=Lie(e);break}case"MultiPoint":{n=Fie(e);break}case"MultiLineString":{n=Pie(e);break}case"MultiPolygon":{n=Die(e);break}case"GeometryCollection":{n=Iie(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return X7(n,!1,t)}function Iie(e,t){var n=e.geometries.map(function(r){return nO(r,t)});return new $re(n)}function Tie(e){return new GC(e.coordinates)}function Kie(e){return new i4(e.coordinates)}function Pie(e){return new ej(e.coordinates)}function Fie(e){return new a8(e.coordinates)}function Die(e){return new sj(e.coordinates)}function Lie(e){return new QC(e.coordinates)}function rO(e,t){e=X7(e,!0,t);var n=e.getType(),r;switch(n){case"Point":{r=Nie(e);break}case"LineString":{r=Rie(e);break}case"Polygon":{r=Gie(e,t);break}case"MultiPoint":{r=jie(e);break}case"MultiLineString":{r=zie(e);break}case"MultiPolygon":{r=Wie(e,t);break}case"GeometryCollection":{r=Uie(e,t);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function Uie(e,t){var n=e.getGeometriesArray().map(function(r){var i=_l({},t);return delete i.featureProjection,rO(r,i)});return{type:"GeometryCollection",geometries:n}}function Rie(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function zie(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function jie(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function Wie(e,t){var n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function Nie(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function Gie(e,t){var n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}var Qie=oa,l2=B5;function oa(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}oa.Varint=0;oa.Fixed64=1;oa.Bytes=2;oa.Fixed32=5;var iO=65536*65536,BT=1/iO,$ie=12,lj=typeof TextDecoder>"u"?null:new TextDecoder("utf8");oa.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=u2(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=IT(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=u2(this.buf,this.pos)+u2(this.buf,this.pos+4)*iO;return this.pos+=8,e},readSFixed64:function(){var e=u2(this.buf,this.pos)+IT(this.buf,this.pos+4)*iO;return this.pos+=8,e},readFloat:function(){var e=l2.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=l2.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,Yie(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=$ie&&lj?soe(this.buf,t,e):aoe(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==oa.Bytes)return e.push(this.readVarint(t));var n=mp(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==oa.Bytes)return e.push(this.readSVarint());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==oa.Bytes)return e.push(this.readBoolean());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==oa.Bytes)return e.push(this.readFloat());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==oa.Bytes)return e.push(this.readDouble());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==oa.Bytes)return e.push(this.readFixed32());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==oa.Bytes)return e.push(this.readSFixed32());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==oa.Bytes)return e.push(this.readFixed64());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==oa.Bytes)return e.push(this.readSFixed64());var t=mp(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===oa.Varint)for(;this.buf[this.pos++]>127;);else if(t===oa.Bytes)this.pos=this.readVarint()+this.pos;else if(t===oa.Fixed32)this.pos+=4;else if(t===oa.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Bg(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Bg(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Bg(this.buf,e&-1,this.pos),Bg(this.buf,Math.floor(e*BT),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Bg(this.buf,e&-1,this.pos),Bg(this.buf,Math.floor(e*BT),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){qie(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=loe(this.buf,e,this.pos);var n=this.pos-t;n>=128&&kT(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),l2.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),l2.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&kT(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,oa.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Zie,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Xie,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,toe,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Jie,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,eoe,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,noe,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,roe,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,ioe,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,ooe,t)},writeBytesField:function(e,t){this.writeTag(e,oa.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,oa.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,oa.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,oa.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,oa.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,oa.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,oa.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,oa.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,oa.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,oa.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};function Yie(e,t,n){var r=n.buf,i,o;if(o=r[n.pos++],i=(o&112)>>4,o<128||(o=r[n.pos++],i|=(o&127)<<3,o<128)||(o=r[n.pos++],i|=(o&127)<<10,o<128)||(o=r[n.pos++],i|=(o&127)<<17,o<128)||(o=r[n.pos++],i|=(o&127)<<24,o<128)||(o=r[n.pos++],i|=(o&1)<<31,o<128))return Og(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function mp(e){return e.type===oa.Bytes?e.readVarint()+e.pos:e.pos+1}function Og(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function qie(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),Hie(n,r,t),Vie(r,t)}function Hie(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function Vie(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function kT(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function Zie(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Xie(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Jie(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function eoe(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function toe(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function noe(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function roe(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function ioe(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function ooe(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function u2(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function Bg(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function IT(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function aoe(e,t,n){for(var r="",i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var h,g,_;s===1?o<128&&(a=o):s===2?(h=e[i+1],(h&192)===128&&(a=(o&31)<<6|h&63,a<=127&&(a=null))):s===3?(h=e[i+1],g=e[i+2],(h&192)===128&&(g&192)===128&&(a=(o&15)<<12|(h&63)<<6|g&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):s===4&&(h=e[i+1],g=e[i+2],_=e[i+3],(h&192)===128&&(g&192)===128&&(_&192)===128&&(a=(o&15)<<18|(h&63)<<12|(g&63)<<6|_&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),r+=String.fromCharCode(a),i+=s}return r}function soe(e,t,n){return lj.decode(e.subarray(t,n))}function loe(e,t,n){for(var r=0,i,o;r<t.length;r++){if(i=t.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):o=i;continue}else o&&(e[n++]=239,e[n++]=191,e[n++]=189,o=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=i&63|128)}return n}const uoe=Oa(Qie);var TT=Dd(),$C=function(){function e(t,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return e.prototype.get=function(t){return this.properties_[t]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?Lz(this.flatCoordinates_):G7(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=l0(this.getExtent());this.flatInteriorPoints_=s8(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=aj(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=rj(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=r4(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,n=0,r=this.ends_,i=0,o=r.length;i<o;++i){var a=r[i],s=r4(t,n,a,2,.5);Pf(this.flatMidpoints_,s),n=a}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(t){return this},e.prototype.simplifyTransformed=function(t,n){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){return this.styleFunction},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(t){t=qs(t);var n=t.getExtent(),r=t.getWorldExtent();if(n&&r){var i=xc(r)/xc(n);Lf(TT,r[0],r[3],i,-i,0,0,0),t0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,TT,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();$C.prototype.getEndss=$C.prototype.getEnds;$C.prototype.getFlatCoordinates=$C.prototype.getOrientedFlatCoordinates;const oO=$C;var Aoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),coe=function(e){Aoe(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.dataProjection=new $7({code:"",units:zA.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:oO,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return t.prototype.readRawGeometry_=function(n,r,i,o){n.pos=r.geometry;for(var a=n.readVarint()+n.pos,s=1,h=0,g=0,_=0,B=0,k=0;n.pos<a;){if(!h){var P=n.readVarint();s=P&7,h=P>>3}h--,s===1||s===2?(g+=n.readSVarint(),_+=n.readSVarint(),s===1&&B>k&&(o.push(B),k=B),i.push(g,_),B+=2):s===7?B>k&&(i.push(i[k],i[k+1]),B+=2):co(!1,59)}B>k&&(o.push(B),k=B)},t.prototype.createFeature_=function(n,r,i){var o=r.type;if(o===0)return null;var a,s=r.properties,h;this.idProperty_?(h=s[this.idProperty_],delete s[this.idProperty_]):h=r.id,s[this.layerName_]=r.layer.name;var g=[],_=[];this.readRawGeometry_(n,r,g,_);var B=moe(o,_.length);if(this.featureClass_===oO)a=new this.featureClass_(B,g,_,s,h),a.transform(i.dataProjection);else{var k=void 0;if(B=="Polygon"){var P=Mie(g,_);k=P.length>1?new sj(g,Ra.XY,P):new QC(g,Ra.XY,_)}else k=B==="Point"?new GC(g,Ra.XY):B==="LineString"?new i4(g,Ra.XY):B==="MultiPoint"?new a8(g,Ra.XY):B==="MultiLineString"?new ej(g,Ra.XY,_):null;var F=this.featureClass_;a=new F,this.geometryName_&&a.setGeometryName(this.geometryName_);var q=X7(k,!1,i);a.setGeometry(q),h!==void 0&&a.setId(h),a.setProperties(s,!0)}return a},t.prototype.getType=function(){return"arraybuffer"},t.prototype.readFeatures=function(n,r){var i=this.layers_,o=this.adaptOptions(r),a=qs(o.dataProjection);a.setWorldExtent(o.extent),o.dataProjection=a;var s=new uoe(n),h=s.readFields(doe,{}),g=[];for(var _ in h)if(!(i&&i.indexOf(_)==-1)){var B=h[_],k=B?[0,0,B.extent,B.extent]:null;a.setExtent(k);for(var P=0,F=B.length;P<F;++P){var q=poe(s,B,P),ee=this.createFeature_(s,q,o);ee!==null&&g.push(ee)}}return g},t.prototype.readProjection=function(n){return this.dataProjection},t.prototype.setLayers=function(n){this.layers_=n},t}(qz);function doe(e,t,n){if(e===3){var r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(hoe,r,i),r.length=r.features.length,r.length&&(t[r.name]=r)}}function hoe(e,t,n){if(e===15)t.version=n.readVarint();else if(e===1)t.name=n.readString();else if(e===5)t.extent=n.readVarint();else if(e===2)t.features.push(n.pos);else if(e===3)t.keys.push(n.readString());else if(e===4){for(var r=null,i=n.readVarint()+n.pos;n.pos<i;)e=n.readVarint()>>3,r=e===1?n.readString():e===2?n.readFloat():e===3?n.readDouble():e===4?n.readVarint64():e===5?n.readVarint():e===6?n.readSVarint():e===7?n.readBoolean():null;t.values.push(r)}}function foe(e,t,n){if(e==1)t.id=n.readVarint();else if(e==2)for(var r=n.readVarint()+n.pos;n.pos<r;){var i=t.layer.keys[n.readVarint()],o=t.layer.values[n.readVarint()];t.properties[i]=o}else e==3?t.type=n.readVarint():e==4&&(t.geometry=n.pos)}function poe(e,t,n){e.pos=t.features[n];var r=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(foe,i,r),i}function moe(e,t){var n;return e===1?n=t===1?"Point":"MultiPoint":e===2?n=t===1?"LineString":"MultiLineString":e===3&&(n="Polygon"),n}const goe=coe;var yoe=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,voe=/^([a-z]*)$|^hsla?\(.*\)$/i;function uj(e){return typeof e=="string"?e:Aj(e)}function _oe(e){var t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}else return""}var Coe=function(){var e=1024,t={},n=0;return function(r){var i;if(t.hasOwnProperty(r))i=t[r];else{if(n>=e){var o=0;for(var a in t)o++&3||(delete t[a],--n)}i=boe(r),t[r]=i,++n}return i}}();function o4(e){return Array.isArray(e)?e:Coe(e)}function boe(e){var t,n,r,i,o;if(voe.exec(e)&&(e=_oe(e)),yoe.exec(e)){var a=e.length-1,s=void 0;a<=4?s=1:s=2;var h=a===4||a===8;t=parseInt(e.substr(1+0*s,s),16),n=parseInt(e.substr(1+1*s,s),16),r=parseInt(e.substr(1+2*s,s),16),h?i=parseInt(e.substr(1+3*s,s),16):i=255,s==1&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,h&&(i=(i<<4)+i)),o=[t,n,r,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),KT(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),KT(o)):co(!1,14);return o}function KT(e){return e[0]=Kl(e[0]+.5|0,0,255),e[1]=Kl(e[1]+.5|0,0,255),e[2]=Kl(e[2]+.5|0,0,255),e[3]=Kl(e[3],0,1),e}function Aj(e){var t=e[0];t!=(t|0)&&(t=t+.5|0);var n=e[1];n!=(n|0)&&(n=n+.5|0);var r=e[2];r!=(r|0)&&(r=r+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+n+","+r+","+i+")"}var xoe=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var n in this.cache_){var r=this.cache_[n];!(t++&3)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}},e.prototype.get=function(t,n,r){var i=PT(t,n,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(t,n,r,i){var o=PT(t,n,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}();function PT(e,t,n){var r=n?uj(n):"null";return t+":"+e+":"+r}var a4=new xoe;const wa={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var woe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Moe=function(e){woe(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=n.background;var i=_l({},n);return typeof n.properties=="object"&&(delete i.properties,_l(i,n.properties)),i[wa.OPACITY]=n.opacity!==void 0?n.opacity:1,co(typeof i[wa.OPACITY]=="number",64),i[wa.VISIBLE]=n.visible!==void 0?n.visible:!0,i[wa.Z_INDEX]=n.zIndex,i[wa.MAX_RESOLUTION]=n.maxResolution!==void 0?n.maxResolution:1/0,i[wa.MIN_RESOLUTION]=n.minResolution!==void 0?n.minResolution:0,i[wa.MIN_ZOOM]=n.minZoom!==void 0?n.minZoom:-1/0,i[wa.MAX_ZOOM]=n.maxZoom!==void 0?n.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(n){var r=this.state_||{layer:this,managed:n===void 0?!0:n},i=this.getZIndex();return r.opacity=Kl(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},t.prototype.getLayersArray=function(n){return vi()},t.prototype.getLayerStatesArray=function(n){return vi()},t.prototype.getExtent=function(){return this.get(wa.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(wa.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(wa.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(wa.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(wa.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(wa.OPACITY)},t.prototype.getSourceState=function(){return vi()},t.prototype.getVisible=function(){return this.get(wa.VISIBLE)},t.prototype.getZIndex=function(){return this.get(wa.Z_INDEX)},t.prototype.setBackground=function(n){this.background_=n,this.changed()},t.prototype.setExtent=function(n){this.set(wa.EXTENT,n)},t.prototype.setMaxResolution=function(n){this.set(wa.MAX_RESOLUTION,n)},t.prototype.setMinResolution=function(n){this.set(wa.MIN_RESOLUTION,n)},t.prototype.setMaxZoom=function(n){this.set(wa.MAX_ZOOM,n)},t.prototype.setMinZoom=function(n){this.set(wa.MIN_ZOOM,n)},t.prototype.setOpacity=function(n){co(typeof n=="number",64),this.set(wa.OPACITY,n)},t.prototype.setVisible=function(n){this.set(wa.VISIBLE,n)},t.prototype.setZIndex=function(n){this.set(wa.Z_INDEX,n)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(Ih);const cj=Moe,n0={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var Soe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),J5=function(e){Soe(t,e);function t(n){var r=this,i=_l({},n);delete i.source,r=e.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,n.render&&(r.render=n.render),n.map&&r.setMap(n.map),r.addChangeListener(wa.SOURCE,r.handleSourcePropertyChange_);var o=n.source?n.source:null;return r.setSource(o),r}return t.prototype.getLayersArray=function(n){var r=n||[];return r.push(this),r},t.prototype.getLayerStatesArray=function(n){var r=n||[];return r.push(this.getLayerState()),r},t.prototype.getSource=function(){return this.get(wa.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var n=this.getSource();return n?n.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(rs(this.sourceChangeKey_),this.sourceChangeKey_=null);var n=this.getSource();n&&(this.sourceChangeKey_=Eo(n,ji.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(n){return this.renderer_?this.renderer_.getFeatures(n):new Promise(function(r){return r([])})},t.prototype.getData=function(n){return!this.renderer_||!this.rendered?null:this.renderer_.getData(n)},t.prototype.render=function(n,r){var i=this.getRenderer();if(i.prepareFrame(n))return this.rendered=!0,i.renderFrame(n,r)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(n){n||this.unrender(),this.set(wa.MAP,n)},t.prototype.getMapInternal=function(){return this.get(wa.MAP)},t.prototype.setMap=function(n){this.mapPrecomposeKey_&&(rs(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),n||this.changed(),this.mapRenderKey_&&(rs(this.mapRenderKey_),this.mapRenderKey_=null),n&&(this.mapPrecomposeKey_=Eo(n,n0.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);co(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Eo(this,ji.CHANGE,n.render,n),this.changed())},t.prototype.setSource=function(n){this.set(wa.SOURCE,n)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(cj);function s4(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}var Eoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ooe=function(e){Eoe(t,e);function t(n){var r=e.call(this)||this;return r.map_=n,r}return t.prototype.dispatchRenderEvent=function(n,r){vi()},t.prototype.calculateMatrices2D=function(n){var r=n.viewState,i=n.coordinateToPixelTransform,o=n.pixelToCoordinateTransform;Lf(i,n.size[0]/2,n.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),W7(o,i)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a,s,h,g){var _,B=r.viewState;function k(ge,_t,Mt,dt){return a.call(s,_t,ge?Mt:null,dt)}var P=B.projection,F=q7(n.slice(),P),q=[[0,0]];if(P.canWrapX()&&o){var ee=P.getExtent(),H=vs(ee);q.push([-H,0],[H,0])}for(var N=r.layerStatesArray,Z=N.length,ue=[],ye=[],be=0;be<q.length;be++)for(var J=Z-1;J>=0;--J){var se=N[J],xe=se.layer;if(xe.hasRenderer()&&s4(se,B)&&h.call(g,xe)){var Se=xe.getRenderer(),De=xe.getSource();if(Se&&De){var Le=De.getWrapX()?F:n,he=k.bind(null,se.managed);ye[0]=Le[0]+q[be][0],ye[1]=Le[1]+q[be][1],_=Se.forEachFeatureAtCoordinate(ye,r,i,he,ue)}if(_)return _}}if(ue.length!==0){var qe=1/ue.length;return ue.forEach(function(ge,_t){return ge.distanceSq+=_t*qe}),ue.sort(function(ge,_t){return ge.distanceSq-_t.distanceSq}),ue.some(function(ge){return _=ge.callback(ge.feature,ge.layer,ge.geometry)}),_}},t.prototype.forEachLayerAtPixel=function(n,r,i,o,a){return vi()},t.prototype.hasFeatureAtCoordinate=function(n,r,i,o,a,s){var h=this.forEachFeatureAtCoordinate(n,r,i,o,ky,this,a,s);return h!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(n){vi()},t.prototype.scheduleExpireIconCache=function(n){a4.canExpireCache()&&n.postRenderFunctions.push(Boe)},t}(R7);function Boe(e,t){a4.expire()}const koe=Ooe;var Ioe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dj=function(e){Ioe(t,e);function t(n,r,i,o){var a=e.call(this,n)||this;return a.inversePixelTransform=r,a.frameState=i,a.context=o,a}return t}(Yp),A2="ol-hidden",Toe="ol-selectable",ew="ol-unselectable",u8="ol-control",FT="ol-collapsed",Koe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),DT=["style","variant","weight","size","lineHeight","family"],hj=function(e){var t=e.match(Koe);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=DT.length;r<i;++r){var o=t[r+1];o!==void 0&&(n[DT[r]]=o)}return n.families=n.family.split(/,\s?/),n};function wc(e,t,n,r){var i;return n&&n.length?i=n.shift():Q5?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function A8(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Poe(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function Foe(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function LT(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function l4(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function fj(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function Doe(e,t){for(var n=e.childNodes,r=0;;++r){var i=n[r],o=t[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}}var pj="10px sans-serif",Up="#000",u4="round",YC=[],qC=0,tv="round",HC=10,VC="#000",ZC="center",A4="middle",u1=[0,0,0,0],XC=1,bp=new Ih,aO=new gv;aO.setSize=function(){console.warn("labelCache is deprecated.")};var Gg=null,sO,lO={},Loe=function(){var e=100,t="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10",o,a;function s(g,_,B){for(var k=!0,P=0;P<r;++P){var F=n[P];if(a=c4(g+" "+_+" "+t+F,i),B!=F){var q=c4(g+" "+_+" "+t+B+","+F,i);k=k&&q!=a}}return!!k}function h(){for(var g=!0,_=bp.getKeys(),B=0,k=_.length;B<k;++B){var P=_[B];bp.get(P)<e&&(s.apply(this,P.split(`
`))?(_b(lO),Gg=null,sO=void 0,bp.set(P,e)):(bp.set(P,bp.get(P)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){var _=hj(g);if(_)for(var B=_.families,k=0,P=B.length;k<P;++k){var F=B[k],q=_.style+`
`+_.weight+`
`+F;bp.get(q)===void 0&&(bp.set(q,e,!0),s(_.style,_.weight,F)||(bp.set(q,0,!0),o===void 0&&(o=setInterval(h,32))))}}}(),Uoe=function(){var e;return function(t){var n=lO[t];if(n==null){if(Q5){var r=hj(t),i=mj(t,"Žg"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);n=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);lO[t]=n}return n}}();function mj(e,t){return Gg||(Gg=wc(1,1)),e!=sO&&(Gg.font=e,sO=Gg.font),Gg.measureText(t)}function c4(e,t){return mj(e,t).width}function UT(e,t,n){if(t in n)return n[t];var r=t.split(`
`).reduce(function(i,o){return Math.max(i,c4(e,o))},0);return n[t]=r,r}function Roe(e,t){for(var n=[],r=[],i=[],o=0,a=0,s=0,h=0,g=0,_=t.length;g<=_;g+=2){var B=t[g];if(B===`
`||g===_){o=Math.max(o,a),i.push(a),a=0,s+=h;continue}var k=t[g+1]||e.font,P=c4(k,B);n.push(P),a+=P;var F=Uoe(k);r.push(F),h=Math.max(h,F)}return{width:o,height:s,widths:n,heights:r,lineWidths:i}}function zoe(e,t,n,r,i,o,a,s,h,g,_){e.save(),n!==1&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),r.contextInstructions?(e.translate(h,g),e.scale(_[0],_[1]),joe(r,e)):_[0]<0||_[1]<0?(e.translate(h,g),e.scale(_[0],_[1]),e.drawImage(r,i,o,a,s,0,0,a,s)):e.drawImage(r,i,o,a,s,h,g,a*_[0],s*_[1]),e.restore()}function joe(e,t){for(var n=e.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}var Woe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Noe=function(e){Woe(t,e);function t(n){var r=e.call(this,n)||this;r.fontChangeListenerKey_=Eo(bp,Jy.PROPERTYCHANGE,n.redrawText.bind(n)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=ew+" ol-layers";var o=n.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return t.prototype.dispatchRenderEvent=function(n,r){var i=this.getMap();if(i.hasListener(n)){var o=new dj(n,void 0,r);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){rs(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(n){if(!n){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(n),this.dispatchRenderEvent(n0.PRECOMPOSE,n);var r=n.layerStatesArray.sort(function(P,F){return P.zIndex-F.zIndex}),i=n.viewState;this.children_.length=0;for(var o=[],a=null,s=0,h=r.length;s<h;++s){var g=r[s];n.layerIndex=s;var _=g.layer,B=_.getSourceState();if(!s4(g,i)||B!="ready"&&B!="undefined"){_.unrender();continue}var k=_.render(n,a);k&&(k!==a&&(this.children_.push(k),a=k),"getDeclutter"in _&&o.push(_))}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(n);Doe(this.element_,this.children_),this.dispatchRenderEvent(n0.POSTCOMPOSE,n),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(n)},t.prototype.forEachLayerAtPixel=function(n,r,i,o,a){for(var s=r.viewState,h=r.layerStatesArray,g=h.length,_=g-1;_>=0;--_){var B=h[_],k=B.layer;if(k.hasRenderer()&&s4(B,s)&&a(k)){var P=k.getRenderer(),F=P.getDataAtPixel(n,r,i);if(F){var q=o(k,F);if(q)return q}}}},t}(koe);const Goe=Noe,yc={ADD:"add",REMOVE:"remove"};var gj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RT={LENGTH:"length"},c2=function(e){gj(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.element=r,o.index=i,o}return t}(Yp),Pd=function(e){gj(t,e);function t(n,r){var i=e.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=n||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},t.prototype.forEach=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(n){return this.array_[n]},t.prototype.getLength=function(){return this.get(RT.LENGTH)},t.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new c2(yc.ADD,r,n))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},t.prototype.remove=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===n)return this.removeAt(i)},t.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new c2(yc.REMOVE,r,n)),r},t.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var o=this.array_[n];this.array_[n]=r,this.dispatchEvent(new c2(yc.REMOVE,o,n)),this.dispatchEvent(new c2(yc.ADD,r,n))}else{for(var a=i;a<n;++a)this.insertAt(a,void 0);this.insertAt(n,r)}},t.prototype.updateLength_=function(){this.set(RT.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(n,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===n&&i!==r)throw new Iz(58)},t}(Ih),yj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sm=function(e){yj(t,e);function t(n,r){var i=e.call(this,n)||this;return i.layer=r,i}return t}(Yp),cS={LAYERS:"layers"},Qoe=function(e){yj(t,e);function t(n){var r=this,i=n||{},o=_l({},i);delete o.layers;var a=i.layers;return r=e.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(cS.LAYERS,r.handleLayersChanged_),a?Array.isArray(a)?a=new Pd(a.slice(),{unique:!0}):co(typeof a.getArray=="function",43):a=new Pd(void 0,{unique:!0}),r.setLayers(a),r}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(rs),this.layersListenerKeys_.length=0;var n=this.getLayers();this.layersListenerKeys_.push(Eo(n,yc.ADD,this.handleLayersAdd_,this),Eo(n,yc.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(rs);_b(this.listenerKeys_);for(var i=n.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new Sm("addlayer",s))}this.changed()},t.prototype.registerLayerListeners_=function(n){var r=[Eo(n,Jy.PROPERTYCHANGE,this.handleLayerChange_,this),Eo(n,ji.CHANGE,this.handleLayerChange_,this)];n instanceof t&&r.push(Eo(n,"addlayer",this.handleLayerGroupAdd_,this),Eo(n,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[qi(n)]=r},t.prototype.handleLayerGroupAdd_=function(n){this.dispatchEvent(new Sm("addlayer",n.layer))},t.prototype.handleLayerGroupRemove_=function(n){this.dispatchEvent(new Sm("removelayer",n.layer))},t.prototype.handleLayersAdd_=function(n){var r=n.element;this.registerLayerListeners_(r),this.dispatchEvent(new Sm("addlayer",r)),this.changed()},t.prototype.handleLayersRemove_=function(n){var r=n.element,i=qi(r);this.listenerKeys_[i].forEach(rs),delete this.listenerKeys_[i],this.dispatchEvent(new Sm("removelayer",r)),this.changed()},t.prototype.getLayers=function(){return this.get(cS.LAYERS)},t.prototype.setLayers=function(n){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new Sm("removelayer",i[o]));this.set(cS.LAYERS,n)},t.prototype.getLayersArray=function(n){var r=n!==void 0?n:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},t.prototype.getLayerStatesArray=function(n){var r=n!==void 0?n:[],i=r.length;this.getLayers().forEach(function(_){_.getLayerStatesArray(r)});var o=this.getLayerState(),a=o.zIndex;!n&&o.zIndex===void 0&&(a=0);for(var s=i,h=r.length;s<h;s++){var g=r[s];g.opacity*=o.opacity,g.visible=g.visible&&o.visible,g.maxResolution=Math.min(g.maxResolution,o.maxResolution),g.minResolution=Math.max(g.minResolution,o.minResolution),g.minZoom=Math.max(g.minZoom,o.minZoom),g.maxZoom=Math.min(g.maxZoom,o.maxZoom),o.extent!==void 0&&(g.extent!==void 0?g.extent=m1(g.extent,o.extent):g.extent=o.extent),g.zIndex===void 0&&(g.zIndex=a)}return r},t.prototype.getSourceState=function(){return"ready"},t}(cj);const tw=Qoe;var $oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qg=function(e){$oe(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return t}(Yp),Yoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bm=function(e){Yoe(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,a)||this;return h.originalEvent=i,h.pixel_=null,h.coordinate_=null,h.dragging=o!==void 0?o:!1,h.activePointers=s,h}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(Qg);const nl={SINGLECLICK:"singleclick",CLICK:ji.CLICK,DBLCLICK:ji.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},uO={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var qoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hoe=function(e){qoe(t,e);function t(n,r){var i=e.call(this,n)||this;i.map_=n,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Eo(o,uO.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Eo(o,uO.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(ji.TOUCHMOVE,i.boundHandleTouchMove_,Kz?{passive:!1}:!1),i}return t.prototype.emulateClick_=function(n){var r=new bm(nl.CLICK,this.map_,n);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new bm(nl.DBLCLICK,this.map_,n),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new bm(nl.SINGLECLICK,this.map_,n);this.dispatchEvent(i)}).bind(this),250)},t.prototype.updateActivePointers_=function(n){var r=n,i=r.pointerId;if(r.type==nl.POINTERUP||r.type==nl.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==nl.POINTERDOWN||r.type==nl.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=Oz(this.trackedTouches_)},t.prototype.handlePointerUp_=function(n){this.updateActivePointers_(n);var r=new bm(nl.POINTERUP,this.map_,n,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(n)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(rs),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(n){return n.button===0},t.prototype.handlePointerDown_=function(n){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(n);var r=new bm(nl.POINTERDOWN,this.map_,n,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in n){var o=n[i];this.down_[i]=typeof o=="function"?I1:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Eo(a,nl.POINTERMOVE,this.handlePointerMove_,this),Eo(a,nl.POINTERUP,this.handlePointerUp_,this),Eo(this.element_,nl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Eo(this.element_.getRootNode(),nl.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(n){if(this.isMoving_(n)){this.updateActivePointers_(n),this.dragging_=!0;var r=new bm(nl.POINTERDRAG,this.map_,n,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},t.prototype.relayMoveEvent_=function(n){this.originalPointerMoveEvent_=n;var r=!!(this.down_&&this.isMoving_(n));this.dispatchEvent(new bm(nl.POINTERMOVE,this.map_,n,r))},t.prototype.handleTouchMove_=function(n){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof n.cancelable!="boolean"||n.cancelable===!0)&&n.preventDefault()},t.prototype.isMoving_=function(n){return this.dragging_||Math.abs(n.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(n.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(rs(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ji.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(rs(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(rs),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(gv);const Voe=Hoe,wp={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},dA={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var d4=1/0,Zoe=function(){function e(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,_b(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,n=this.priorities_,r=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(t){co(!(this.keyFunction_(t)in this.queuedElements_),31);var n=this.priorityFunction_(t);return n!=d4?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return t*2+1},e.prototype.getRightChildIndex_=function(t){return t*2+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var n=this.elements_,r=this.priorities_,i=n.length,o=n[t],a=r[t],s=t;t<i>>1;){var h=this.getLeftChildIndex_(t),g=this.getRightChildIndex_(t),_=g<i&&r[g]<r[h]?g:h;n[t]=n[_],r[t]=r[_],t=_}n[t]=o,r[t]=a,this.siftDown_(s,t)},e.prototype.siftDown_=function(t,n){for(var r=this.elements_,i=this.priorities_,o=r[n],a=i[n];n>t;){var s=this.getParentIndex_(n);if(i[s]>a)r[n]=r[s],i[n]=i[s],n=s;else break}r[n]=o,i[n]=a},e.prototype.reprioritize=function(){var t=this.priorityFunction_,n=this.elements_,r=this.priorities_,i=0,o=n.length,a,s,h;for(s=0;s<o;++s)a=n[s],h=t(a),h==d4?delete this.queuedElements_[this.keyFunction_(a)]:(r[i]=h,n[i++]=a);n.length=i,r.length=i,this.heapify_()},e}();const Xoe=Zoe,mr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Joe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eae=function(e){Joe(t,e);function t(n,r){var i=e.call(this,function(o){return n.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t.prototype.enqueue=function(n){var r=e.prototype.enqueue.call(this,n);if(r){var i=n[0];i.addEventListener(ji.CHANGE,this.boundHandleTileChange_)}return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(n){var r=n.target,i=r.getState();if(i===mr.LOADED||i===mr.ERROR||i===mr.EMPTY){r.removeEventListener(ji.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(n,r){for(var i=0,o,a,s;this.tilesLoading_<n&&i<r&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===mr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},t}(Xoe);const tae=eae;function nae(e,t,n,r,i){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return d4;var o=e.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}const il={ANIMATING:0,INTERACTING:1},gh={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var vj=42,c8=256;function zT(e,t,n){return function(r,i,o,a,s){if(r){if(!i&&!t)return r;var h=t?0:o[0]*i,g=t?0:o[1]*i,_=s?s[0]:0,B=s?s[1]:0,k=e[0]+h/2+_,P=e[2]-h/2+_,F=e[1]+g/2+B,q=e[3]-g/2+B;k>P&&(k=(P+k)/2,P=k),F>q&&(F=(q+F)/2,q=F);var ee=Kl(r[0],k,P),H=Kl(r[1],F,q);if(a&&n&&i){var N=30*i;ee+=-N*Math.log(1+Math.max(0,k-r[0])/N)+N*Math.log(1+Math.max(0,r[0]-P)/N),H+=-N*Math.log(1+Math.max(0,F-r[1])/N)+N*Math.log(1+Math.max(0,r[1]-q)/N)}return[ee,H]}}}function rae(e){return e}function d8(e,t,n,r){var i=vs(t)/n[0],o=xc(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function h8(e,t,n){var r=Math.min(e,t),i=50;return r*=Math.log(1+i*Math.max(0,e/t-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/e-1))/i+1),Kl(r,n/2,t*2)}function iae(e,t,n,r){return function(i,o,a,s){if(i!==void 0){var h=e[0],g=e[e.length-1],_=n?d8(h,n,a,r):h;if(s){var B=t!==void 0?t:!0;return B?h8(i,_,g):Kl(i,g,_)}var k=Math.min(_,i),P=Math.floor(z7(e,k,o));return e[P]>_&&P<e.length-1?e[P+1]:e[P]}else return}}function oae(e,t,n,r,i,o){return function(a,s,h,g){if(a!==void 0){var _=i?d8(t,i,h,o):t,B=n!==void 0?n:0;if(g){var k=r!==void 0?r:!0;return k?h8(a,_,B):Kl(a,B,_)}var P=1e-9,F=Math.ceil(Math.log(t/_)/Math.log(e)-P),q=-s*(.5-P)+.5,ee=Math.min(_,a),H=Math.floor(Math.log(t/ee)/Math.log(e)+q),N=Math.max(F,H),Z=t/Math.pow(e,N);return Kl(Z,B,_)}else return}}function jT(e,t,n,r,i){return function(o,a,s,h){if(o!==void 0){var g=r?d8(e,r,s,i):e,_=n!==void 0?n:!0;return!_||!h?Kl(o,t,g):h8(o,g,t)}else return}}function f8(e){if(e!==void 0)return 0}function WT(e){if(e!==void 0)return e}function aae(e){var t=2*Math.PI/e;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function sae(e){var t=e||e3(5);return function(n,r){if(r)return n;if(n!==void 0)return Math.abs(n)<=t?0:n}}function _j(e){return Math.pow(e,3)}function yv(e){return 1-_j(1-e)}function lae(e){return 3*e*e-2*e*e*e}function uae(e){return e}var Aae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dS=0,Tp=function(e){Aae(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=_l({},n);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=V7(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&Nz(),i.center&&(i.center=Cp(i.center,r.projection_)),i.extent&&(i.extent=s1(i.extent,r.projection_)),r.applyOptions_(i),r}return t.prototype.applyOptions_=function(n){var r=_l({},n);for(var i in gh)delete r[i];this.setProperties(r,!0);var o=dae(n);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=n.resolutions,this.padding_=n.padding,this.minZoom_=o.minZoom;var a=cae(n),s=o.constraint,h=hae(n);this.constraints_={center:a,resolution:s,rotation:h},this.setRotation(n.rotation!==void 0?n.rotation:0),this.setCenterInternal(n.center!==void 0?n.center:null),n.resolution!==void 0?this.setResolution(n.resolution):n.zoom!==void 0&&this.setZoom(n.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(n){var r=this.padding_;this.padding_=n;var i=this.getCenter();if(i){var o=n||[0,0,0,0];r=r||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-r[3]+r[1]-o[1]),h=a/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-h])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(n){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),_l({},r,n)},t.prototype.animate=function(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=_l({},o),o.center=Cp(o.center,this.getProjection())),o.anchor&&(o=_l({},o),o.anchor=Cp(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},t.prototype.animateInternal=function(n){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===r){i&&d2(i,!0);return}for(var s=Date.now(),h=this.targetCenter_.slice(),g=this.targetResolution_,_=this.targetRotation_,B=[];o<r;++o){var k=arguments[o],P={start:s,complete:!1,anchor:k.anchor,duration:k.duration!==void 0?k.duration:1e3,easing:k.easing||lae,callback:i};if(k.center&&(P.sourceCenter=h,P.targetCenter=k.center.slice(),h=P.targetCenter),k.zoom!==void 0?(P.sourceResolution=g,P.targetResolution=this.getResolutionForZoom(k.zoom),g=P.targetResolution):k.resolution&&(P.sourceResolution=g,P.targetResolution=k.resolution,g=P.targetResolution),k.rotation!==void 0){P.sourceRotation=_;var F=y1(k.rotation-_+Math.PI,2*Math.PI)-Math.PI;P.targetRotation=_+F,_=P.targetRotation}fae(P)?P.complete=!0:s+=P.duration,B.push(P)}this.animations_.push(B),this.setHint(il.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[il.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[il.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(il.ANIMATING,-this.hints_[il.ANIMATING]);for(var n,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&d2(o[0].callback,!1),!n)for(var a=0,s=o.length;a<s;++a){var h=o[a];if(!h.complete){n=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var n=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,h=o.length;s<h;++s){var g=o[s];if(!g.complete){var _=n-g.start,B=g.duration>0?_/g.duration:1;B>=1?(g.complete=!0,B=1):a=!1;var k=g.easing(B);if(g.sourceCenter){var P=g.sourceCenter[0],F=g.sourceCenter[1],q=g.targetCenter[0],ee=g.targetCenter[1];this.nextCenter_=g.targetCenter;var H=P+k*(q-P),N=F+k*(ee-F);this.targetCenter_=[H,N]}if(g.sourceResolution&&g.targetResolution){var Z=k===1?g.targetResolution:g.sourceResolution+k*(g.targetResolution-g.sourceResolution);if(g.anchor){var ue=this.getViewportSize_(this.getRotation()),ye=this.constraints_.resolution(Z,0,ue,!0);this.targetCenter_=this.calculateCenterZoom(ye,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=Z,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){var be=k===1?y1(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+k*(g.targetRotation-g.sourceRotation);if(g.anchor){var J=this.constraints_.rotation(be,!0);this.targetCenter_=this.calculateCenterRotate(J,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=be}if(this.applyTargetState_(!0),r=!0,!g.complete)break}}if(a){this.animations_[i]=null,this.setHint(il.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var se=o[0].callback;se&&d2(se,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(n,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],Y7(i,n-this.getRotation()),kre(i,r)),i},t.prototype.calculateCenterZoom=function(n,r){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=r[0]-n*(r[0]-o[0])/a,h=r[1]-n*(r[1]-o[1])/a;i=[s,h]}return i},t.prototype.getViewportSize_=function(n){var r=this.viewportSize_;if(n){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(n))+Math.abs(o*Math.sin(n)),Math.abs(i*Math.sin(n))+Math.abs(o*Math.cos(n))]}else return r},t.prototype.setViewportSize=function(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var n=this.getCenterInternal();return n&&XE(n,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(gh.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(n){return n!==void 0?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()},t.prototype.calculateExtent=function(n){var r=this.calculateExtentInternal(n);return Qz(r,this.getProjection())},t.prototype.calculateExtentInternal=function(n){var r=n||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();co(i,1);var o=this.getResolution();co(o!==void 0,2);var a=this.getRotation();return co(a!==void 0,3),YE(i,o,a,r)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))},t.prototype.setConstrainResolution=function(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(gh.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(n,r){return this.getResolutionForExtentInternal(s1(n,this.getProjection()),r)},t.prototype.getResolutionForExtentInternal=function(n,r){var i=r||this.getViewportSizeMinusPadding_(),o=vs(n)/i[0],a=xc(n)/i[1];return Math.max(o,a)},t.prototype.getResolutionForValueFunction=function(n){var r=n||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(r);return function(s){var h=i/Math.pow(r,s*a);return h}},t.prototype.getRotation=function(){return this.get(gh.ROTATION)},t.prototype.getValueForResolutionFunction=function(n){var r=Math.log(n||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/r;return function(s){var h=Math.log(i/s)/r/a;return h}},t.prototype.getViewportSizeMinusPadding_=function(n){var r=this.getViewportSize_(n),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},t.prototype.getState=function(){var n=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=hS(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],r,i)}return{center:o.slice(0),projection:n!==void 0?n:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var n,r=this.getResolution();return r!==void 0&&(n=this.getZoomForResolution(r)),n},t.prototype.getZoomForResolution=function(n){var r=this.minZoom_||0,i,o;if(this.resolutions_){var a=z7(this.resolutions_,n,1);r=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/n)/Math.log(o)},t.prototype.getResolutionForZoom=function(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Kl(Math.floor(n),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,Kl(n-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)},t.prototype.fit=function(n,r){var i;if(co(Array.isArray(n)||typeof n.getSimplifiedGeometry=="function",24),Array.isArray(n)){co(!Q7(n),25);var o=s1(n,this.getProjection());i=OT(o)}else if(n.getType()==="Circle"){var o=s1(n.getExtent(),this.getProjection());i=OT(o),i.rotate(this.getRotation(),l0(o))}else{var a=Ure();a?i=n.clone().transform(a,this.getProjection()):i=n}this.fitInternal(i,r)},t.prototype.rotatedExtentForGeometry=function(n){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),a=n.getFlatCoordinates(),s=n.getStride(),h=1/0,g=1/0,_=-1/0,B=-1/0,k=0,P=a.length;k<P;k+=s){var F=a[k]*i-a[k+1]*o,q=a[k]*o+a[k+1]*i;h=Math.min(h,F),g=Math.min(g,q),_=Math.max(_,F),B=Math.max(B,q)}return[h,g,_,B]},t.prototype.fitInternal=function(n,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,h;i.minResolution!==void 0?h=i.minResolution:i.maxZoom!==void 0?h=this.getResolutionForZoom(i.maxZoom):h=0;var g=this.rotatedExtentForGeometry(n),_=this.getResolutionForExtentInternal(g,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);_=isNaN(_)?h:Math.max(_,h),_=this.getConstrainedResolution(_,s?0:1);var B=this.getRotation(),k=Math.sin(B),P=Math.cos(B),F=l0(g);F[0]+=(a[1]-a[3])/2*_,F[1]+=(a[0]-a[2])/2*_;var q=F[0]*P-F[1]*k,ee=F[1]*P+F[0]*k,H=this.getConstrainedCenter([q,ee],_),N=i.callback?i.callback:I1;i.duration!==void 0?this.animateInternal({resolution:_,center:H,duration:i.duration,easing:i.easing},N):(this.targetResolution_=_,this.targetCenter_=H,this.applyTargetState_(!1,!0),d2(N,!0))},t.prototype.centerOn=function(n,r,i){this.centerOnInternal(Cp(n,this.getProjection()),r,i)},t.prototype.centerOnInternal=function(n,r,i){this.setCenterInternal(hS(n,r,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(n,r,i,o){var a,s=this.padding_;if(s&&n){var h=this.getViewportSizeMinusPadding_(-i),g=hS(n,o,[h[0]/2+s[3],h[1]/2+s[0]],r,i);a=[n[0]-g[0],n[1]-g[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(n){var r=XE(this.targetCenter_,this.getProjection());this.setCenter([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustCenterInternal=function(n){var r=this.targetCenter_;this.setCenterInternal([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustResolution=function(n,r){var i=r&&Cp(r,this.getProjection());this.adjustResolutionInternal(n,i)},t.prototype.adjustResolutionInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*n,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(a,r)),this.targetResolution_*=n,this.applyTargetState_()},t.prototype.adjustZoom=function(n,r){this.adjustResolution(Math.pow(this.zoomFactor_,-n),r)},t.prototype.adjustRotation=function(n,r){r&&(r=Cp(r,this.getProjection())),this.adjustRotationInternal(n,r)},t.prototype.adjustRotationInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+n,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=n,this.applyTargetState_()},t.prototype.setCenter=function(n){this.setCenterInternal(n&&Cp(n,this.getProjection()))},t.prototype.setCenterInternal=function(n){this.targetCenter_=n,this.applyTargetState_()},t.prototype.setHint=function(n,r){return this.hints_[n]+=r,this.changed(),this.hints_[n]},t.prototype.setResolution=function(n){this.targetResolution_=n,this.applyTargetState_()},t.prototype.setRotation=function(n){this.targetRotation_=n,this.applyTargetState_()},t.prototype.setZoom=function(n){this.setResolution(this.getResolutionForZoom(n))},t.prototype.applyTargetState_=function(n,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),h=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(gh.ROTATION)!==o&&this.set(gh.ROTATION,o),this.get(gh.RESOLUTION)!==s&&(this.set(gh.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(gh.CENTER)||!t4(this.get(gh.CENTER),h))&&this.set(gh.CENTER,h),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(n,r,i){var o=n!==void 0?n:200,a=r||0,s=this.constraints_.rotation(this.targetRotation_),h=this.getViewportSize_(s),g=this.constraints_.resolution(this.targetResolution_,a,h),_=this.constraints_.center(this.targetCenter_,g,h,!1,this.calculateCenterShift(this.targetCenter_,g,s,h));if(o===0&&!this.cancelAnchor_){this.targetResolution_=g,this.targetRotation_=s,this.targetCenter_=_,this.applyTargetState_();return}var B=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==g||this.getRotation()!==s||!this.getCenterInternal()||!t4(this.getCenterInternal(),_))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:_,resolution:g,duration:o,easing:yv,anchor:B}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(il.INTERACTING,1)},t.prototype.endInteraction=function(n,r,i){var o=i&&Cp(i,this.getProjection());this.endInteractionInternal(n,r,o)},t.prototype.endInteractionInternal=function(n,r,i){this.setHint(il.INTERACTING,-1),this.resolveConstraints(n,r,i)},t.prototype.getConstrainedCenter=function(n,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,r||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(n,r){var i=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},t.prototype.getConstrainedResolution=function(n,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,o)},t}(Ih);function d2(e,t){setTimeout(function(){e(t)},0)}function cae(e){if(e.extent!==void 0){var t=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return zT(e.extent,e.constrainOnlyCenter,t)}var n=V7(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,zT(r,!1,!1)}return rae}function dae(e){var t,n,r,i=28,o=2,a=e.minZoom!==void 0?e.minZoom:dS,s=e.maxZoom!==void 0?e.maxZoom:i,h=e.zoomFactor!==void 0?e.zoomFactor:o,g=e.multiWorld!==void 0?e.multiWorld:!1,_=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,B=e.showFullExtent!==void 0?e.showFullExtent:!1,k=V7(e.projection,"EPSG:3857"),P=k.getExtent(),F=e.constrainOnlyCenter,q=e.extent;if(!g&&!q&&k.isGlobal()&&(F=!1,q=P),e.resolutions!==void 0){var ee=e.resolutions;n=ee[a],r=ee[s]!==void 0?ee[s]:ee[ee.length-1],e.constrainResolution?t=iae(ee,_,!F&&q,B):t=jT(n,r,_,!F&&q,B)}else{var H=P?Math.max(vs(P),xc(P)):360*Df[zA.DEGREES]/k.getMetersPerUnit(),N=H/c8/Math.pow(o,dS),Z=N/Math.pow(o,i-dS);n=e.maxResolution,n!==void 0?a=0:n=N/Math.pow(h,a),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=n/Math.pow(h,s):r=N/Math.pow(h,s):r=Z),s=a+Math.floor(Math.log(n/r)/Math.log(h)),r=n/Math.pow(h,s-a),e.constrainResolution?t=oae(h,n,r,_,!F&&q,B):t=jT(n,r,_,!F&&q,B)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:h}}function hae(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var n=e.constrainRotation;return n===void 0||n===!0?sae():n===!1?WT:typeof n=="number"?aae(n):WT}else return f8}function fae(e){return!(e.sourceCenter&&e.targetCenter&&!t4(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function hS(e,t,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=e[0]*o-e[1]*a,h=e[1]*o+e[0]*a;s+=(t[0]/2-n[0])*r,h+=(n[1]-t[1]/2)*r,a=-a;var g=s*o-h*a,_=h*o+s*a;return[g,_]}function NT(e){return e[0]>0&&e[1]>0}function pae(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function LA(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var mae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function Cj(e){if(e instanceof J5){e.setMapInternal(null);return}e instanceof tw&&e.getLayers().forEach(Cj)}function bj(e,t){if(e instanceof J5){e.setMapInternal(t);return}if(e instanceof tw)for(var n=e.getLayers().getArray(),r=0,i=n.length;r<i;++r)bj(n[r],t)}var gae=function(e){mae(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=yae(n);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=n.maxTilesLoading!==void 0?n.maxTilesLoading:16,r.pixelRatio_=n.pixelRatio!==void 0?n.pixelRatio:Tz,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=Dd(),r.pixelToCoordinateTransform_=Dd(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=n.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new Pd,r.interactions=i.interactions||new Pd,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new tae(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(dA.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(dA.VIEW,r.handleViewChanged_),r.addChangeListener(dA.SIZE,r.handleSizeChanged_),r.addChangeListener(dA.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return n.view&&!(n.view instanceof Tp)&&n.view.then(function(a){o.setView(new Tp(a))}),r.controls.addEventListener(yc.ADD,(function(a){a.element.setMap(this)}).bind(r)),r.controls.addEventListener(yc.REMOVE,(function(a){a.element.setMap(null)}).bind(r)),r.interactions.addEventListener(yc.ADD,(function(a){a.element.setMap(this)}).bind(r)),r.interactions.addEventListener(yc.REMOVE,(function(a){a.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(yc.ADD,(function(a){this.addOverlayInternal_(a.element)}).bind(r)),r.overlays_.addEventListener(yc.REMOVE,(function(a){var s=a.element,h=s.getId();h!==void 0&&delete this.overlayIdIndex_[h.toString()],a.element.setMap(null)}).bind(r)),r.controls.forEach((function(a){a.setMap(this)}).bind(r)),r.interactions.forEach((function(a){a.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(n){this.getControls().push(n)},t.prototype.addInteraction=function(n){this.getInteractions().push(n)},t.prototype.addLayer=function(n){var r=this.getLayerGroup().getLayers();r.push(n)},t.prototype.handleLayerAdd_=function(n){bj(n.layer,this)},t.prototype.addOverlay=function(n){this.getOverlays().push(n)},t.prototype.addOverlayInternal_=function(n){var r=n.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=n),n.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(n,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(n);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:ky,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,h,r,null,s,null)}},t.prototype.getFeaturesAtPixel=function(n,r){var i=[];return this.forEachFeatureAtPixel(n,function(o){i.push(o)},r),i},t.prototype.getAllLayers=function(){var n=[];function r(i){i.forEach(function(o){o instanceof tw?r(o.getLayers()):n.push(o)})}return r(this.getLayers()),n},t.prototype.forEachLayerAtPixel=function(n,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||ky;return this.renderer_.forEachLayerAtPixel(n,this.frameState_,a,r,s)}},t.prototype.hasFeatureAtPixel=function(n,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(n);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:ky,a=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},t.prototype.getEventCoordinate=function(n){return this.getCoordinateFromPixel(this.getEventPixel(n))},t.prototype.getEventCoordinateInternal=function(n){return this.getCoordinateFromPixelInternal(this.getEventPixel(n))},t.prototype.getEventPixel=function(n){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in n?n.changedTouches[0]:n;return[i.clientX-r.left,i.clientY-r.top]},t.prototype.getTarget=function(){return this.get(dA.TARGET)},t.prototype.getTargetElement=function(){var n=this.getTarget();return n!==void 0?typeof n=="string"?document.getElementById(n):n:null},t.prototype.getCoordinateFromPixel=function(n){return XE(this.getCoordinateFromPixelInternal(n),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(n){var r=this.frameState_;return r?gl(r.pixelToCoordinateTransform,n.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(n){var r=this.overlayIdIndex_[n.toString()];return r!==void 0?r:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(dA.LAYERGROUP)},t.prototype.setLayers=function(n){var r=this.getLayerGroup();if(n instanceof Pd){r.setLayers(n);return}var i=r.getLayers();i.clear(),i.extend(n)},t.prototype.getLayers=function(){var n=this.getLayerGroup().getLayers();return n},t.prototype.getLoadingOrNotReady=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r];if(o.visible){var a=o.layer.getRenderer();if(a&&!a.ready)return!0;var s=o.layer.getSource();if(s&&s.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(n){var r=Cp(n,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},t.prototype.getPixelFromCoordinateInternal=function(n){var r=this.frameState_;return r?gl(r.coordinateToPixelTransform,n.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(dA.SIZE)},t.prototype.getView=function(){return this.get(dA.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var n=this.getTargetElement();return n?n.ownerDocument:document},t.prototype.getTilePriority=function(n,r,i,o){return nae(this.frameState_,n,r,i,o)},t.prototype.handleBrowserEvent=function(n,r){var i=r||n.type,o=new bm(i,this,n);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(n){if(this.frameState_){var r=n.originalEvent,i=r.type;if(i===uO.POINTERDOWN||i===ji.WHEEL||i===ji.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=r.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(n.frameState=this.frameState_,this.dispatchEvent(n)!==!1)for(var h=this.getInteractions().getArray().slice(),g=h.length-1;g>=0;g--){var _=h[g];if(!(_.getMap()!==this||!_.getActive()||!this.getTargetElement())){var B=_.handleEvent(n);if(!B||n.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var n=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(n){var a=n.viewHints;if(a[il.ANIMATING]||a[il.INTERACTING]){var s=Date.now()-n.time>8;i=s?0:8,o=s?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}n&&this.renderer_&&!n.animate&&(this.renderComplete_===!0?(this.hasListener(n0.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(n0.RENDERCOMPLETE,n),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Qg(wp.LOADEND,this,n)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Qg(wp.LOADSTART,this,n))));for(var h=this.postRenderFunctions_,g=0,_=h.length;g<_;++g)h[g](this,n);h.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)rs(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ji.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ji.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,l4(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Voe(this,this.moveTolerance_);for(var o in nl)this.mapBrowserEventHandler_.addEventListener(nl[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ji.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ji.WHEEL,this.boundHandleBrowserEvent_,Kz?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Eo(s,ji.KEYDOWN,this.handleBrowserEvent,this),Eo(s,ji.KEYPRESS,this.handleBrowserEvent,this),Eo(a,ji.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(rs(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(rs(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var n=this.getView();n&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Eo(n,Jy.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Eo(n,ji.CHANGE,this.handleViewPropertyChanged_,this),n.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(rs),this.layerGroupPropertyListenerKeys_=null);var n=this.getLayerGroup();n&&(this.handleLayerAdd_(new Sm("addlayer",n)),this.layerGroupPropertyListenerKeys_=[Eo(n,Jy.PROPERTYCHANGE,this.render,this),Eo(n,ji.CHANGE,this.render,this),Eo(n,"addlayer",this.handleLayerAdd_,this),Eo(n,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(n){return this.getControls().remove(n)},t.prototype.removeInteraction=function(n){return this.getInteractions().remove(n)},t.prototype.removeLayer=function(n){var r=this.getLayerGroup().getLayers();return r.remove(n)},t.prototype.handleLayerRemove_=function(n){Cj(n.layer)},t.prototype.removeOverlay=function(n){return this.getOverlays().remove(n)},t.prototype.renderFrame_=function(n){var r=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&NT(i)&&o&&o.isDef()){var h=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:YE(g.center,g.resolution,g.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:n,usedTiles:{},viewState:g,viewHints:h,wantedTiles:{},mapId:qi(this),renderTargets:{}},g.nextCenter&&g.nextResolution){var _=isNaN(g.nextRotation)?g.rotation:g.nextRotation;s.nextExtent=YE(g.nextCenter,g.nextResolution,_,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var B=!this.previousExtent_||!Q7(this.previousExtent_)&&!ev(s.extent,this.previousExtent_);B&&(this.dispatchEvent(new Qg(wp.MOVESTART,this,a)),this.previousExtent_=bb(this.previousExtent_))}var k=this.previousExtent_&&!s.viewHints[il.ANIMATING]&&!s.viewHints[il.INTERACTING]&&!ev(s.extent,this.previousExtent_);k&&(this.dispatchEvent(new Qg(wp.MOVEEND,this,s)),Dz(s.extent,this.previousExtent_))}this.dispatchEvent(new Qg(wp.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(wp.LOADSTART)||this.hasListener(wp.LOADEND)||this.hasListener(n0.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},t.prototype.setLayerGroup=function(n){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new Sm("removelayer",r)),this.set(dA.LAYERGROUP,n)},t.prototype.setSize=function(n){this.set(dA.SIZE,n)},t.prototype.setTarget=function(n){this.set(dA.TARGET,n)},t.prototype.setView=function(n){if(!n||n instanceof Tp){this.set(dA.VIEW,n);return}this.set(dA.VIEW,new Tp);var r=this;n.then(function(i){r.setView(new Tp(i))})},t.prototype.updateSize=function(){var n=this.getTargetElement(),r=void 0;if(n){var i=getComputedStyle(n),o=n.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=n.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(r=[o,a],!NT(r)&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var n=this.getView();if(n){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),n.setViewportSize(r)}},t}(Ih);function yae(e){var t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new tw({layers:e.layers});n[dA.LAYERGROUP]=r,n[dA.TARGET]=e.target,n[dA.VIEW]=e.view instanceof Tp?e.view:new Tp;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Pd(e.controls.slice()):(co(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new Pd(e.interactions.slice()):(co(typeof e.interactions.getArray=="function",48),o=e.interactions));var a;return e.overlays!==void 0?Array.isArray(e.overlays)?a=new Pd(e.overlays.slice()):(co(typeof e.overlays.getArray=="function",49),a=e.overlays):a=new Pd,{controls:i,interactions:o,keyboardEventTarget:t,overlays:a,values:n}}const vae=gae;var _ae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cae=function(e){_ae(t,e);function t(n){var r=e.call(this)||this,i=n.element;return i&&!n.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],n.render&&(r.render=n.render),n.target&&r.setTarget(n.target),r}return t.prototype.disposeInternal=function(){l4(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(n){this.map_&&l4(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)rs(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=n,n){var o=this.target_?this.target_:n.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==I1&&this.listenerKeys.push(Eo(n,wp.POSTRENDER,this.render,this)),n.render()}},t.prototype.render=function(n){},t.prototype.setTarget=function(n){this.target_=typeof n=="string"?document.getElementById(n):n},t}(Ih);const p8=Cae;var bae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xae=function(e){bae(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",h=i.collapseLabel!==void 0?i.collapseLabel:"›",g=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof h=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=h,r.collapseLabel_.className=g):r.collapseLabel_=h;var _=i.label!==void 0?i.label:"i";typeof _=="string"?(r.label_=document.createElement("span"),r.label_.textContent=_,r.label_.className=s):r.label_=_;var B=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=a,r.toggleButton_.appendChild(B),r.toggleButton_.addEventListener(ji.CLICK,r.handleClick_.bind(r),!1);var k=o+" "+ew+" "+u8+(r.collapsed_&&r.collapsible_?" "+FT:"")+(r.collapsible_?"":" ol-uncollapsible"),P=r.element;return P.className=k,P.appendChild(r.toggleButton_),P.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return t.prototype.collectSourceAttributions_=function(n){for(var r={},i=[],o=!0,a=n.layerStatesArray,s=0,h=a.length;s<h;++s){var g=a[s];if(s4(g,n.viewState)){var _=g.layer.getSource();if(_){var B=_.getAttributions();if(B){var k=B(n);if(k)if(o=o&&_.getAttributionsCollapsible()!==!1,Array.isArray(k))for(var P=0,F=k.length;P<F;++P)k[P]in r||(i.push(k[P]),r[k[P]]=!0);else k in r||(i.push(k),r[k]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(n){if(!n){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(n),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!j1(r,this.renderedAttributions_)){fj(this.ulElement_);for(var o=0,a=r.length;o<a;++o){var s=document.createElement("li");s.innerHTML=r[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=r}},t.prototype.handleClick_=function(n){n.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(FT),this.collapsed_?LT(this.collapseLabel_,this.label_):LT(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(n){this.collapsible_!==n&&(this.collapsible_=n,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(n){this.userCollapsed_=n,!(!this.collapsible_||this.collapsed_===n)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(n){this.updateElement_(n.frameState)},t}(p8);const wae=xae;var Mae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sae=function(e){Mae(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"⇧",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof a=="string"?(r.label_=document.createElement("span"),r.label_.className=s,r.label_.textContent=a):(r.label_=a,r.label_.classList.add(s));var h=i.tipLabel?i.tipLabel:"Reset rotation",g=document.createElement("button");g.className=o+"-reset",g.setAttribute("type","button"),g.title=h,g.appendChild(r.label_),g.addEventListener(ji.CLICK,r.handleClick_.bind(r),!1);var _=o+" "+ew+" "+u8,B=r.element;return B.className=_,B.appendChild(g),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(A2),r}return t.prototype.handleClick_=function(n){n.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var n=this.getMap(),r=n.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:yv}):r.setRotation(0))}},t.prototype.render=function(n){var r=n.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(A2);!a&&i===0?this.element.classList.add(A2):a&&i!==0&&this.element.classList.remove(A2)}this.label_.style.transform=o}this.rotation_=i}},t}(p8);const Eae=Sae;var Oae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bae=function(e){Oae(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",h=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",g=i.zoomInLabel!==void 0?i.zoomInLabel:"+",_=i.zoomOutLabel!==void 0?i.zoomOutLabel:"–",B=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",k=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",P=document.createElement("button");P.className=s,P.setAttribute("type","button"),P.title=B,P.appendChild(typeof g=="string"?document.createTextNode(g):g),P.addEventListener(ji.CLICK,r.handleClick_.bind(r,a),!1);var F=document.createElement("button");F.className=h,F.setAttribute("type","button"),F.title=k,F.appendChild(typeof _=="string"?document.createTextNode(_):_),F.addEventListener(ji.CLICK,r.handleClick_.bind(r,-a),!1);var q=o+" "+ew+" "+u8,ee=r.element;return ee.className=q,ee.appendChild(P),ee.appendChild(F),r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleClick_=function(n,r){r.preventDefault(),this.zoomByDelta_(n)},t.prototype.zoomByDelta_=function(n){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+n);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:yv})):i.setZoom(a)}}},t}(p8);const kae=Bae;var Iae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cA={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Tae=function(e){Iae(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un,r.options=n,r.id=n.id,r.insertFirst=n.insertFirst!==void 0?n.insertFirst:!0,r.stopEvent=n.stopEvent!==void 0?n.stopEvent:!0,r.element=document.createElement("div"),r.element.className=n.className!==void 0?n.className:"ol-overlay-container "+Toe,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=n.autoPan;return i&&typeof i!="object"&&(i={animation:n.autoPanAnimation,margin:n.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(cA.ELEMENT,r.handleElementChanged),r.addChangeListener(cA.MAP,r.handleMapChanged),r.addChangeListener(cA.OFFSET,r.handleOffsetChanged),r.addChangeListener(cA.POSITION,r.handlePositionChanged),r.addChangeListener(cA.POSITIONING,r.handlePositioningChanged),n.element!==void 0&&r.setElement(n.element),r.setOffset(n.offset!==void 0?n.offset:[0,0]),r.setPositioning(n.positioning||"top-left"),n.position!==void 0&&r.setPosition(n.position),r}return t.prototype.getElement=function(){return this.get(cA.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(cA.MAP)||null},t.prototype.getOffset=function(){return this.get(cA.OFFSET)},t.prototype.getPosition=function(){return this.get(cA.POSITION)},t.prototype.getPositioning=function(){return this.get(cA.POSITIONING)},t.prototype.handleElementChanged=function(){fj(this.element);var n=this.getElement();n&&this.element.appendChild(n)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(l4(this.element),rs(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var n=this.getMap();if(n){this.mapPostrenderListenerKey=Eo(n,wp.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?n.getOverlayContainerStopEvent():n.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(n){this.set(cA.ELEMENT,n)},t.prototype.setMap=function(n){this.set(cA.MAP,n)},t.prototype.setOffset=function(n){this.set(cA.OFFSET,n)},t.prototype.setPosition=function(n){this.set(cA.POSITION,n)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(n){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(cA.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),a=this.getRect(o,[Poe(o),Foe(o)]),s=n||{},h=s.margin===void 0?20:s.margin;if(!Um(i,a)){var g=a[0]-i[0],_=i[2]-a[2],B=a[1]-i[1],k=i[3]-a[3],P=[0,0];if(g<0?P[0]=g-h:_<0&&(P[0]=Math.abs(_)+h),B<0?P[1]=B-h:k<0&&(P[1]=Math.abs(k)+h),P[0]!==0||P[1]!==0){var F=r.getView().getCenterInternal(),q=r.getPixelFromCoordinateInternal(F);if(!q)return;var ee=[q[0]+P[0],q[1]+P[1]],H=s.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(ee),duration:H.duration,easing:H.easing})}}}},t.prototype.getRect=function(n,r){var i=n.getBoundingClientRect(),o=i.left+window.pageXOffset,a=i.top+window.pageYOffset;return[o,a,o+r[0],a+r[1]]},t.prototype.setPositioning=function(n){this.set(cA.POSITIONING,n)},t.prototype.setVisible=function(n){this.rendered.visible!==n&&(this.element.style.display=n?"":"none",this.rendered.visible=n)},t.prototype.updatePixelPosition=function(){var n=this.getMap(),r=this.getPosition();if(!n||!n.isRendered()||!r){this.setVisible(!1);return}var i=n.getPixelFromCoordinate(r),o=n.getSize();this.updateRenderedPosition(i,o)},t.prototype.updateRenderedPosition=function(n,r){var i=this.element.style,o=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(n[0]+o[0])+"px",h=Math.round(n[1]+o[1])+"px",g="0%",_="0%";a=="bottom-right"||a=="center-right"||a=="top-right"?g="-100%":(a=="bottom-center"||a=="center-center"||a=="top-center")&&(g="-50%"),a=="bottom-left"||a=="bottom-center"||a=="bottom-right"?_="-100%":(a=="center-left"||a=="center-center"||a=="center-right")&&(_="-50%");var B="translate(".concat(g,", ").concat(_,") translate(").concat(s,", ").concat(h,")");this.rendered.transform_!=B&&(this.rendered.transform_=B,i.transform=B,i.msTransform=B)},t.prototype.getOptions=function(){return this.options},t}(Ih);function Kae(e){var t=e||{},n=new Pd,r=t.zoom!==void 0?t.zoom:!0;r&&n.push(new kae(t.zoomOptions));var i=t.rotate!==void 0?t.rotate:!0;i&&n.push(new Eae(t.rotateOptions));var o=t.attribution!==void 0?t.attribution:!0;return o&&n.push(new wae(t.attributionOptions)),n}const GT={ACTIVE:"active"};var Pae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fae=function(e){Pae(t,e);function t(n){var r=e.call(this)||this;return r.on,r.once,r.un,n&&n.handleEvent&&(r.handleEvent=n.handleEvent),r.map_=null,r.setActive(!0),r}return t.prototype.getActive=function(){return this.get(GT.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(n){return!0},t.prototype.setActive=function(n){this.set(GT.ACTIVE,n)},t.prototype.setMap=function(n){this.map_=n},t}(Ih);function Dae(e,t,n){var r=e.getCenterInternal();if(r){var i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:uae,center:e.getConstrainedCenter(i)})}}function m8(e,t,n,r){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:r!==void 0?r:250,easing:yv})}}const wb=Fae;var Lae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uae=function(e){Lae(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==nl.DBLCLICK){var i=n.originalEvent,o=n.map,a=n.coordinate,s=i.shiftKey?-this.delta_:this.delta_,h=o.getView();m8(h,s,a,this.duration_),i.preventDefault(),r=!0}return!r},t}(wb);const Rae=Uae;var zae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jae=function(e){zae(t,e);function t(n){var r=this,i=n||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(n){return!1},t.prototype.handleDragEvent=function(n){},t.prototype.handleEvent=function(n){if(!n.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(n),this.handlingDownUpSequence){if(n.type==nl.POINTERDRAG)this.handleDragEvent(n),n.originalEvent.preventDefault();else if(n.type==nl.POINTERUP){var i=this.handleUpEvent(n);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(n.type==nl.POINTERDOWN){var o=this.handleDownEvent(n);this.handlingDownUpSequence=o,r=this.stopDown(o)}else n.type==nl.POINTERMOVE&&this.handleMoveEvent(n);return!r},t.prototype.handleMoveEvent=function(n){},t.prototype.handleUpEvent=function(n){return!1},t.prototype.stopDown=function(n){return n},t.prototype.updateTrackedPointers_=function(n){n.activePointers&&(this.targetPointers=n.activePointers)},t}(wb);function g8(e){for(var t=e.length,n=0,r=0,i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return[n/t,r/t]}const Mb=jae;function AO(e){var t=arguments;return function(n){for(var r=!0,i=0,o=t.length;i<o&&(r=r&&t[i](n),!!r);++i);return r}}var Wae=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Nae=function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},xj=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?Nae(e):!0},Gae=ky,wj=function(e){var t=e.originalEvent;return t.button==0&&!(ere&&tre&&t.ctrlKey)},Mj=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Qae=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Sj=function(e){var t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},fS=function(e){var t=e.originalEvent;return co(t!==void 0,56),t.pointerType=="mouse"},$ae=function(e){var t=e.originalEvent;return co(t!==void 0,56),t.isPrimary&&t.button===0},Yae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qae=function(e){Yae(t,e);function t(n){var r=e.call(this,{stopDown:N5})||this,i=n||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:AO(Mj,$ae);return r.condition_=i.onFocusOnly?AO(xj,o):o,r.noKinetic_=!1,r}return t.prototype.handleDragEvent=function(n){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=g8(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=n.map,s=a.getView();Ire(o,s.getResolution()),Y7(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,n.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(n){var r=n.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),h=r.getPixelFromCoordinateInternal(s),g=r.getCoordinateFromPixelInternal([h[0]-o*Math.cos(a),h[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(g),duration:500,easing:yv})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>0&&this.condition_(n)){var r=n.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(Mb);const Hae=qae;var Vae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zae=function(e){Vae(t,e);function t(n){var r=this,i=n||{};return r=e.call(this,{stopDown:N5})||this,r.condition_=i.condition?i.condition:Wae,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(n){if(fS(n)){var r=n.map,i=r.getView();if(i.getConstraints().rotation!==f8){var o=r.getSize(),a=n.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var h=s-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=s}}},t.prototype.handleUpEvent=function(n){if(!fS(n))return!0;var r=n.map,i=r.getView();return i.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(n){if(!fS(n))return!1;if(wj(n)&&this.condition_(n)){var r=n.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(Mb),Xae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jae=function(e){Xae(t,e);function t(n){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+n,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var n=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(n[0],r[0])+i,o.top=Math.min(n[1],r[1])+i,o.width=Math.abs(r[0]-n[0])+i,o.height=Math.abs(r[1]-n[1])+i},t.prototype.setMap=function(n){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=n,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(n,r){this.startPixel_=n,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var n=this.startPixel_,r=this.endPixel_,i=[n,[n[0],r[1]],r,[r[0],n[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new QC([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(R7);const ese=Jae;var Ej=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),h2={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},pS=function(e){Ej(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return t}(Yp),tse=function(e){Ej(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=n||{};return r.box_=new ese(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:wj,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return t.prototype.defaultBoxEndCondition=function(n,r,i){var o=i[0]-r[0],a=i[1]-r[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(n){this.box_.setPixels(this.startPixel_,n.pixel),this.dispatchEvent(new pS(h2.BOXDRAG,n.coordinate,n))},t.prototype.handleUpEvent=function(n){this.box_.setMap(null);var r=this.boxEndCondition_(n,this.startPixel_,n.pixel);return r&&this.onBoxEnd(n),this.dispatchEvent(new pS(r?h2.BOXEND:h2.BOXCANCEL,n.coordinate,n)),!1},t.prototype.handleDownEvent=function(n){return this.condition_(n)?(this.startPixel_=n.pixel,this.box_.setMap(n.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new pS(h2.BOXSTART,n.coordinate,n)),!0):!1},t.prototype.onBoxEnd=function(n){},t}(Mb);const nse=tse;var rse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ise=function(e){rse(t,e);function t(n){var r=this,i=n||{},o=i.condition?i.condition:Qae;return r=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return t.prototype.onBoxEnd=function(n){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),h=i.getResolution()/s;o=o.clone(),o.scale(h*h)}i.fitInternal(o,{duration:this.duration_,easing:yv})},t}(nse);const ose=ise,U0={LEFT:37,UP:38,RIGHT:39,DOWN:40};var ase=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sse=function(e){ase(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.defaultCondition_=function(o){return Mj(o)&&Sj(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==ji.KEYDOWN){var i=n.originalEvent,o=i.keyCode;if(this.condition_(n)&&(o==U0.DOWN||o==U0.LEFT||o==U0.RIGHT||o==U0.UP)){var a=n.map,s=a.getView(),h=s.getResolution()*this.pixelDelta_,g=0,_=0;o==U0.DOWN?_=-h:o==U0.LEFT?g=-h:o==U0.RIGHT?g=h:_=h;var B=[g,_];Y7(B,s.getRotation()),Dae(s,B,this.duration_),i.preventDefault(),r=!0}}return!r},t}(wb),lse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),use=function(e){lse(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.condition_=i.condition?i.condition:Sj,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==ji.KEYDOWN||n.type==ji.KEYPRESS){var i=n.originalEvent,o=i.charCode;if(this.condition_(n)&&(o==43||o==45)){var a=n.map,s=o==43?this.delta_:-this.delta_,h=a.getView();m8(h,s,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},t}(wb);const Ase=use;var cse=function(){function e(t,n,r){this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,n){this.points_.push(t,n,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;for(var r=n-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[n]-this.points_[r],a=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),dse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mS={TRACKPAD:"trackpad",WHEEL:"wheel"},hse=function(e){dse(t,e);function t(n){var r=this,i=n||{};r=e.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:Gae;return r.condition_=i.onFocusOnly?AO(xj,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var n=this.getMap();if(n){var r=n.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},t.prototype.handleEvent=function(n){if(!this.condition_(n))return!0;var r=n.type;if(r!==ji.WHEEL)return!0;var i=n.map,o=n.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=n.coordinate);var a;if(n.type==ji.WHEEL&&(a=o.deltaY,Xne&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Tz),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?mS.TRACKPAD:mS.WHEEL);var h=i.getView();if(this.mode_===mS.TRACKPAD&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var g=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),g),!1},t.prototype.handleWheelZoom_=function(n){var r=n.getView();r.getAnimating()&&r.cancelAnimations();var i=-Kl(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),m8(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(n){this.useAnchor_=n,n||(this.lastAnchor_=null)},t}(wb);const fse=hse;var pse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mse=function(e){pse(t,e);function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=N5),r=e.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(n){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=s}this.lastAngle_=a;var h=n.map,g=h.getView();if(g.getConstraints().rotation!==f8){var _=h.getViewport().getBoundingClientRect(),B=g8(this.targetPointers);B[0]-=_.left,B[1]-=_.top,this.anchor_=h.getCoordinateFromPixelInternal(B),this.rotating_&&(h.render(),g.adjustRotationInternal(r,this.anchor_))}},t.prototype.handleUpEvent=function(n){if(this.targetPointers.length<2){var r=n.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(Mb),gse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yse=function(e){gse(t,e);function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=N5),r=e.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return t.prototype.handleDragEvent=function(n){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,h=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(r=this.lastDistance_/h),this.lastDistance_=h;var g=n.map,_=g.getView();r!=1&&(this.lastScaleDelta_=r);var B=g.getViewport().getBoundingClientRect(),k=g8(this.targetPointers);k[0]-=B.left,k[1]-=B.top,this.anchor_=g.getCoordinateFromPixelInternal(k),g.render(),_.adjustResolutionInternal(r,this.anchor_)},t.prototype.handleUpEvent=function(n){if(this.targetPointers.length<2){var r=n.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(Mb);const vse=yse;function _se(e,t,n,r,i){Oj(e,t,n||0,r||e.length-1,i||Cse)}function Oj(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),h=.5*Math.exp(2*s/3),g=.5*Math.sqrt(s*h*(o-h)/o)*(a-o/2<0?-1:1),_=Math.max(n,Math.floor(t-a*h/o+g)),B=Math.min(r,Math.floor(t+(o-a)*h/o+g));Oj(e,t,_,B,i)}var k=e[t],P=n,F=r;for(p_(e,n,t),i(e[r],k)>0&&p_(e,n,r);P<F;){for(p_(e,P,F),P++,F--;i(e[P],k)<0;)P++;for(;i(e[F],k)>0;)F--}i(e[n],k)===0?p_(e,n,F):(F++,p_(e,F,r)),F<=t&&(n=F+1),t<=F&&(r=F-1)}}function p_(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Cse(e,t){return e<t?-1:e>t?1:0}let Bj=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!p2(t,n))return r;const i=this.toBBox,o=[];for(;n;){for(let a=0;a<n.children.length;a++){const s=n.children[a],h=n.leaf?i(s):s;p2(t,h)&&(n.leaf?r.push(s):yS(t,h)?this._all(s,r):o.push(s))}n=o.pop()}return r}collides(t){let n=this.data;if(!p2(t,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const o=n.children[i],a=n.leaf?this.toBBox(o):o;if(p2(t,a)){if(n.leaf||yS(t,a))return!0;r.push(o)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=$g([]),this}remove(t,n){if(!t)return this;let r=this.data;const i=this.toBBox(t),o=[],a=[];let s,h,g;for(;r||o.length;){if(r||(r=o.pop(),h=o[o.length-1],s=a.pop(),g=!0),r.leaf){const _=bse(t,r.children,n);if(_!==-1)return r.children.splice(_,1),o.push(r),this._condense(o),this}!g&&!r.leaf&&yS(r,i)?(o.push(r),a.push(s),s=0,h=r,r=r.children[0]):h?(s++,r=h.children[s],g=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,i){const o=r-n+1;let a=this._maxEntries,s;if(o<=a)return s=$g(t.slice(n,r+1)),kg(s,this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=$g([]),s.leaf=!1,s.height=i;const h=Math.ceil(o/a),g=h*Math.ceil(Math.sqrt(a));QT(t,n,r,g,this.compareMinX);for(let _=n;_<=r;_+=g){const B=Math.min(_+g-1,r);QT(t,_,B,h,this.compareMinY);for(let k=_;k<=B;k+=h){const P=Math.min(k+h-1,B);s.children.push(this._build(t,k,P,i-1))}}return kg(s,this.toBBox),s}_chooseSubtree(t,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let o=1/0,a=1/0,s;for(let h=0;h<n.children.length;h++){const g=n.children[h],_=gS(g),B=Mse(t,g)-_;B<a?(a=B,o=_<o?_:o,s=g):B===a&&_<o&&(o=_,s=g)}n=s||n.children[0]}return n}_insert(t,n,r){const i=r?t:this.toBBox(t),o=[],a=this._chooseSubtree(i,this.data,n,o);for(a.children.push(t),D_(a,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)}_split(t,n){const r=t[n],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const a=this._chooseSplitIndex(r,o,i),s=$g(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,kg(r,this.toBBox),kg(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(r,s)}_splitRoot(t,n){this.data=$g([t,n]),this.data.height=t.height+1,this.data.leaf=!1,kg(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let i,o=1/0,a=1/0;for(let s=n;s<=r-n;s++){const h=F_(t,0,s,this.toBBox),g=F_(t,s,r,this.toBBox),_=Sse(h,g),B=gS(h)+gS(g);_<o?(o=_,i=s,a=B<a?B:a):_===o&&B<a&&(a=B,i=s)}return i||r-n}_chooseSplitAxis(t,n,r){const i=t.leaf?this.compareMinX:xse,o=t.leaf?this.compareMinY:wse,a=this._allDistMargin(t,n,r,i),s=this._allDistMargin(t,n,r,o);a<s&&t.children.sort(i)}_allDistMargin(t,n,r,i){t.children.sort(i);const o=this.toBBox,a=F_(t,0,n,o),s=F_(t,r-n,r,o);let h=f2(a)+f2(s);for(let g=n;g<r-n;g++){const _=t.children[g];D_(a,t.leaf?o(_):_),h+=f2(a)}for(let g=r-n-1;g>=n;g--){const _=t.children[g];D_(s,t.leaf?o(_):_),h+=f2(s)}return h}_adjustParentBBoxes(t,n,r){for(let i=r;i>=0;i--)D_(n[i],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():kg(t[n],this.toBBox)}};function bse(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function kg(e,t){F_(e,0,e.children.length,t,e)}function F_(e,t,n,r,i){i||(i=$g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<n;o++){const a=e.children[o];D_(i,e.leaf?r(a):a)}return i}function D_(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function xse(e,t){return e.minX-t.minX}function wse(e,t){return e.minY-t.minY}function gS(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f2(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Mse(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Sse(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function yS(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p2(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function $g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function QT(e,t,n,r,i){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=r)continue;const a=t+Math.ceil((n-t)/r/2)*r;_se(e,a,t,n,i),o.push(t,a,a,n)}}const ts={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Ese=function(){function e(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=LA(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return vi()},e.prototype.getImage=function(t){return vi()},e.prototype.getHitDetectionImage=function(){return vi()},e.prototype.getPixelRatio=function(t){return 1},e.prototype.getImageState=function(){return vi()},e.prototype.getImageSize=function(){return vi()},e.prototype.getOrigin=function(){return vi()},e.prototype.getSize=function(){return vi()},e.prototype.setDisplacement=function(t){this.displacement_=t},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=LA(t)},e.prototype.listenImageChange=function(t){vi()},e.prototype.load=function(){vi()},e.prototype.unlistenImageChange=function(t){vi()},e}();const kj=Ese;function Bf(e){return Array.isArray(e)?Aj(e):e}var Ose=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bse=function(e){Ose(t,e);function t(n){var r=this,i=n.rotateWithView!==void 0?n.rotateWithView:!1;return r=e.call(this,{opacity:1,rotateWithView:i,rotation:n.rotation!==void 0?n.rotation:0,scale:n.scale!==void 0?n.scale:1,displacement:n.displacement!==void 0?n.displacement:[0,0],declutterMode:n.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=n.fill!==void 0?n.fill:null,r.origin_=[0,0],r.points_=n.points,r.radius_=n.radius!==void 0?n.radius:n.radius1,r.radius2_=n.radius2,r.angle_=n.angle!==void 0?n.angle:0,r.stroke_=n.stroke!==void 0?n.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return t.prototype.clone=function(){var n=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.getAnchor=function(){var n=this.size_;if(!n)return null;var r=this.getDisplacement();return[n[0]/2-r[0],n[1]/2+r[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(n){this.fill_=n,this.render()},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(n){var r=this.canvas_[n];if(!r){var i=this.renderOptions_,o=wc(i.size*n,i.size*n);this.draw_(i,o,n),r=o.canvas,this.canvas_[n]=r}return r},t.prototype.getPixelRatio=function(n){return n},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return ts.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(n){this.stroke_=n,this.render()},t.prototype.listenImageChange=function(n){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(n){},t.prototype.calculateLineJoinSize_=function(n,r,i){if(r===0||this.points_===1/0||n!=="bevel"&&n!=="miter")return r;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var h=this.radius2_===void 0?this.points_:this.points_*2,g=2*Math.PI/h,_=a*Math.sin(g),B=Math.sqrt(a*a-_*_),k=o-B,P=Math.sqrt(_*_+k*k),F=P/_;if(n==="miter"&&F<=i)return F*r;var q=r/2/F,ee=r/2*(k/P),H=Math.sqrt((o+q)*(o+q)+ee*ee),N=H-o;if(this.radius2_===void 0||n==="bevel")return N*2;var Z=o*Math.sin(g),ue=Math.sqrt(o*o-Z*Z),ye=a-ue,be=Math.sqrt(Z*Z+ye*ye),J=be/Z;if(J<=i){var se=J*r/2-a-o;return 2*Math.max(N,se)}return N*2},t.prototype.createRenderOptions=function(){var n=tv,r=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=VC),a=Bf(a),s=this.stroke_.getWidth(),s===void 0&&(s=XC),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),n=this.stroke_.getLineJoin(),n===void 0&&(n=tv),r=this.stroke_.getMiterLimit(),r===void 0&&(r=HC));var h=this.calculateLineJoinSize_(n,s,r),g=Math.max(this.radius_,this.radius2_||0),_=Math.ceil(2*g+h);return{strokeStyle:a,strokeWidth:s,size:_,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var n=this.renderOptions_.size;this.canvas_={},this.size_=[n,n]},t.prototype.draw_=function(n,r,i){if(r.scale(i,i),r.translate(n.size/2,n.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=Up),r.fillStyle=Bf(o),r.fill()}this.stroke_&&(r.strokeStyle=n.strokeStyle,r.lineWidth=n.strokeWidth,r.setLineDash&&n.lineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit,r.stroke())},t.prototype.createHitDetectionCanvas_=function(n){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=o4(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=wc(n.size,n.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(n,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(n){var r=this.points_,i=this.radius_;if(r===1/0)n.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/r,h=0;h<r;h++){var g=a+h*s,_=h%2===0?i:o;n.lineTo(_*Math.cos(g),_*Math.sin(g))}n.closePath()}},t.prototype.drawHitDetectionCanvas_=function(n,r){r.translate(n.size/2,n.size/2),this.createPath_(r),r.fillStyle=Up,r.fill(),this.stroke_&&(r.strokeStyle=n.strokeStyle,r.lineWidth=n.strokeWidth,n.lineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit,r.stroke())},t}(kj);const kse=Bse;var Ise=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ij=function(e){Ise(t,e);function t(n){var r=n||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return t.prototype.clone=function(){var n=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.setRadius=function(n){this.radius_=n,this.render()},t}(kse),Ay=function(){function e(t){var n=t||{};this.color_=n.color!==void 0?n.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(t){this.color_=t},e}(),L_=function(){function e(t){var n=t||{};this.color_=n.color!==void 0?n.color:null,this.lineCap_=n.lineCap,this.lineDash_=n.lineDash!==void 0?n.lineDash:null,this.lineDashOffset_=n.lineDashOffset,this.lineJoin_=n.lineJoin,this.miterLimit_=n.miterLimit,this.width_=n.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(t){this.color_=t},e.prototype.setLineCap=function(t){this.lineCap_=t},e.prototype.setLineDash=function(t){this.lineDash_=t},e.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},e.prototype.setLineJoin=function(t){this.lineJoin_=t},e.prototype.setMiterLimit=function(t){this.miterLimit_=t},e.prototype.setWidth=function(t){this.width_=t},e}(),q0=function(){function e(t){var n=t||{};this.geometry_=null,this.geometryFunction_=$T,n.geometry!==void 0&&this.setGeometry(n.geometry),this.fill_=n.fill!==void 0?n.fill:null,this.image_=n.image!==void 0?n.image:null,this.renderer_=n.renderer!==void 0?n.renderer:null,this.hitDetectionRenderer_=n.hitDetectionRenderer!==void 0?n.hitDetectionRenderer:null,this.stroke_=n.stroke!==void 0?n.stroke:null,this.text_=n.text!==void 0?n.text:null,this.zIndex_=n.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(t){this.renderer_=t},e.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(t){this.text_=t},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=$T,this.geometry_=t},e.prototype.setZIndex=function(t){this.zIndex_=t},e}();function Tse(e){var t;if(typeof e=="function")t=e;else{var n;if(Array.isArray(e))n=e;else{co(typeof e.getZIndex=="function",41);var r=e;n=[r]}t=function(){return n}}return t}var vS=null;function Kse(e,t){if(!vS){var n=new Ay({color:"rgba(255,255,255,0.4)"}),r=new L_({color:"#3399CC",width:1.25});vS=[new q0({image:new Ij({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return vS}function $T(e){return e.getGeometry()}var Pse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),YT={RENDER_ORDER:"renderOrder"},Fse=function(e){Pse(t,e);function t(n){var r=this,i=n||{},o=_l({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=e.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(n){return e.prototype.getFeatures.call(this,n)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(YT.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(n){n.declutterTree||(n.declutterTree=new Bj(9)),this.getRenderer().renderDeclutter(n)},t.prototype.setRenderOrder=function(n){this.set(YT.RENDER_ORDER,n)},t.prototype.setStyle=function(n){this.style_=n!==void 0?n:Kse,this.styleFunction_=n===null?void 0:Tse(this.style_),this.changed()},t}(J5);const Tj=Fse;var Ai={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},m2=[Ai.FILL],zm=[Ai.STROKE],A1=[Ai.BEGIN_PATH],qT=[Ai.CLOSE_PATH],Dse=function(){function e(){}return e.prototype.drawCustom=function(t,n,r,i){},e.prototype.drawGeometry=function(t){},e.prototype.setStyle=function(t){},e.prototype.drawCircle=function(t,n){},e.prototype.drawFeature=function(t,n){},e.prototype.drawGeometryCollection=function(t,n){},e.prototype.drawLineString=function(t,n){},e.prototype.drawMultiLineString=function(t,n){},e.prototype.drawMultiPoint=function(t,n){},e.prototype.drawMultiPolygon=function(t,n){},e.prototype.drawPoint=function(t,n){},e.prototype.drawPolygon=function(t,n){},e.prototype.drawText=function(t,n){},e.prototype.setFillStrokeStyle=function(t,n){},e.prototype.setImageStyle=function(t,n){},e.prototype.setTextStyle=function(t,n){},e}();const Kj=Dse;var Lse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Use=function(e){Lse(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.tolerance=n,a.maxExtent=r,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return t.prototype.applyPixelRatio=function(n){var r=this.pixelRatio;return r==1?n:n.map(function(i){return i*r})},t.prototype.appendFlatPointCoordinates=function(n,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,h=0,g=n.length;h<g;h+=r)o[0]=n[h],o[1]=n[h+1],Cb(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},t.prototype.appendFlatLineCoordinates=function(n,r,i,o,a,s){var h=this.coordinates,g=h.length,_=this.getBufferedMaxExtent();s&&(r+=o);var B=n[r],k=n[r+1],P=this.tmpCoordinate_,F=!0,q,ee,H;for(q=r+o;q<i;q+=o)P[0]=n[q],P[1]=n[q+1],H=QE(_,P),H!==ee?(F&&(h[g++]=B,h[g++]=k,F=!1),h[g++]=P[0],h[g++]=P[1]):H===gu.INTERSECTING?(h[g++]=P[0],h[g++]=P[1],F=!1):F=!0,B=P[0],k=P[1],ee=H;return(a&&F||q===r+o)&&(h[g++]=B,h[g++]=k),g},t.prototype.drawCustomCoordinates_=function(n,r,i,o,a){for(var s=0,h=i.length;s<h;++s){var g=i[s],_=this.appendFlatLineCoordinates(n,r,g,o,!1,!1);a.push(_),r=g}return r},t.prototype.drawCustom=function(n,r,i,o){this.beginGeometry(n,r);var a=n.getType(),s=n.getStride(),h=this.coordinates.length,g,_,B,k,P;switch(a){case"MultiPolygon":g=n.getOrientedFlatCoordinates(),k=[];var F=n.getEndss();P=0;for(var q=0,ee=F.length;q<ee;++q){var H=[];P=this.drawCustomCoordinates_(g,P,F[q],s,H),k.push(H)}this.instructions.push([Ai.CUSTOM,h,k,n,i,JE]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,k,n,o||i,JE]);break;case"Polygon":case"MultiLineString":B=[],g=a=="Polygon"?n.getOrientedFlatCoordinates():n.getFlatCoordinates(),P=this.drawCustomCoordinates_(g,0,n.getEnds(),s,B),this.instructions.push([Ai.CUSTOM,h,B,n,i,NC]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,B,n,o||i,NC]);break;case"LineString":case"Circle":g=n.getFlatCoordinates(),_=this.appendFlatLineCoordinates(g,0,g.length,s,!1,!1),this.instructions.push([Ai.CUSTOM,h,_,n,i,Rm]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,_,n,o||i,Rm]);break;case"MultiPoint":g=n.getFlatCoordinates(),_=this.appendFlatPointCoordinates(g,s),_>h&&(this.instructions.push([Ai.CUSTOM,h,_,n,i,Rm]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,_,n,o||i,Rm]));break;case"Point":g=n.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),_=this.coordinates.length,this.instructions.push([Ai.CUSTOM,h,_,n,i]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,_,n,o||i]);break}this.endGeometry(r)},t.prototype.beginGeometry=function(n,r){this.beginGeometryInstruction1_=[Ai.BEGIN_GEOMETRY,r,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ai.BEGIN_GEOMETRY,r,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var n=this.hitDetectionInstructions;n.reverse();var r,i=n.length,o,a,s=-1;for(r=0;r<i;++r)o=n[r],a=o[0],a==Ai.END_GEOMETRY?s=r:a==Ai.BEGIN_GEOMETRY&&(o[2]=r,Rne(this.hitDetectionInstructions,s,r),s=-1)},t.prototype.setFillStrokeStyle=function(n,r){var i=this.state;if(n){var o=n.getColor();i.fillStyle=Bf(o||Up)}else i.fillStyle=void 0;if(r){var a=r.getColor();i.strokeStyle=Bf(a||VC);var s=r.getLineCap();i.lineCap=s!==void 0?s:u4;var h=r.getLineDash();i.lineDash=h?h.slice():YC;var g=r.getLineDashOffset();i.lineDashOffset=g||qC;var _=r.getLineJoin();i.lineJoin=_!==void 0?_:tv;var B=r.getWidth();i.lineWidth=B!==void 0?B:XC;var k=r.getMiterLimit();i.miterLimit=k!==void 0?k:HC,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},t.prototype.createFill=function(n){var r=n.fillStyle,i=[Ai.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},t.prototype.applyStroke=function(n){this.instructions.push(this.createStroke(n))},t.prototype.createStroke=function(n){return[Ai.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth*this.pixelRatio,n.lineCap,n.lineJoin,n.miterLimit,this.applyPixelRatio(n.lineDash),n.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(n,r){var i=n.fillStyle;(typeof i!="string"||n.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,n)),n.currentFillStyle=i)},t.prototype.updateStrokeStyle=function(n,r){var i=n.strokeStyle,o=n.lineCap,a=n.lineDash,s=n.lineDashOffset,h=n.lineJoin,g=n.lineWidth,_=n.miterLimit;(n.currentStrokeStyle!=i||n.currentLineCap!=o||a!=n.currentLineDash&&!j1(n.currentLineDash,a)||n.currentLineDashOffset!=s||n.currentLineJoin!=h||n.currentLineWidth!=g||n.currentMiterLimit!=_)&&(i!==void 0&&r.call(this,n),n.currentStrokeStyle=i,n.currentLineCap=o,n.currentLineDash=a,n.currentLineDashOffset=s,n.currentLineJoin=h,n.currentLineWidth=g,n.currentMiterLimit=_)},t.prototype.endGeometry=function(n){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[Ai.END_GEOMETRY,n];this.instructions.push(r),this.hitDetectionInstructions.push(r)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Dz(this.maxExtent),this.maxLineWidth>0)){var n=this.resolution*(this.maxLineWidth+1)/2;e0(this.bufferedMaxExtent_,n,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(Kj);const Sb=Use;var Rse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zse=function(e){Rse(t,e);function t(n,r,i,o){var a=e.call(this,n,r,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterMode_=void 0,a.declutterImageWithText_=void 0,a}return t.prototype.drawPoint=function(n,r){if(this.image_){this.beginGeometry(n,r);var i=n.getFlatCoordinates(),o=n.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ai.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.drawMultiPoint=function(n,r){if(this.image_){this.beginGeometry(n,r);var i=n.getFlatCoordinates(),o=n.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ai.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(n,r){var i=n.getAnchor(),o=n.getSize(),a=n.getOrigin();this.imagePixelRatio_=n.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=n.getHitDetectionImage(),this.image_=n.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=n.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=n.getRotateWithView(),this.rotation_=n.getRotation(),this.scale_=n.getScaleArray(),this.width_=o[0],this.declutterMode_=n.getDeclutterMode(),this.declutterImageWithText_=r},t}(Sb);const jse=zse;var Wse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nse=function(e){Wse(t,e);function t(n,r,i,o){return e.call(this,n,r,i,o)||this}return t.prototype.drawFlatCoordinates_=function(n,r,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(n,r,i,o,!1,!1),h=[Ai.MOVE_TO_LINE_TO,a,s];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i},t.prototype.drawLineString=function(n,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(n,r),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,YC,qC],A1);var s=n.getFlatCoordinates(),h=n.getStride();this.drawFlatCoordinates_(s,0,s.length,h),this.hitDetectionInstructions.push(zm),this.endGeometry(r)}},t.prototype.drawMultiLineString=function(n,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(n,r),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],A1);for(var s=n.getEnds(),h=n.getFlatCoordinates(),g=n.getStride(),_=0,B=0,k=s.length;B<k;++B)_=this.drawFlatCoordinates_(h,_,s[B],g);this.hitDetectionInstructions.push(zm),this.endGeometry(r)}},t.prototype.finish=function(){var n=this.state;return n.lastStroke!=null&&n.lastStroke!=this.coordinates.length&&this.instructions.push(zm),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(n){n.lastStroke!=null&&n.lastStroke!=this.coordinates.length&&(this.instructions.push(zm),n.lastStroke=this.coordinates.length),n.lastStroke=0,e.prototype.applyStroke.call(this,n),this.instructions.push(A1)},t}(Sb);const Gse=Nse;var Qse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$se=function(e){Qse(t,e);function t(n,r,i,o){return e.call(this,n,r,i,o)||this}return t.prototype.drawFlatCoordinatess_=function(n,r,i,o){var a=this.state,s=a.fillStyle!==void 0,h=a.strokeStyle!==void 0,g=i.length;this.instructions.push(A1),this.hitDetectionInstructions.push(A1);for(var _=0;_<g;++_){var B=i[_],k=this.coordinates.length,P=this.appendFlatLineCoordinates(n,r,B,o,!0,!h),F=[Ai.MOVE_TO_LINE_TO,k,P];this.instructions.push(F),this.hitDetectionInstructions.push(F),h&&(this.instructions.push(qT),this.hitDetectionInstructions.push(qT)),r=B}return s&&(this.instructions.push(m2),this.hitDetectionInstructions.push(m2)),h&&(this.instructions.push(zm),this.hitDetectionInstructions.push(zm)),r},t.prototype.drawCircle=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,Up]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=n.getFlatCoordinates(),h=n.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,h,!1,!1);var _=[Ai.CIRCLE,g];this.instructions.push(A1,_),this.hitDetectionInstructions.push(A1,_),i.fillStyle!==void 0&&(this.instructions.push(m2),this.hitDetectionInstructions.push(m2)),i.strokeStyle!==void 0&&(this.instructions.push(zm),this.hitDetectionInstructions.push(zm)),this.endGeometry(r)}},t.prototype.drawPolygon=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,Up]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=n.getEnds(),h=n.getOrientedFlatCoordinates(),g=n.getStride();this.drawFlatCoordinatess_(h,0,s,g),this.endGeometry(r)}},t.prototype.drawMultiPolygon=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,Up]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=n.getEndss(),h=n.getOrientedFlatCoordinates(),g=n.getStride(),_=0,B=0,k=s.length;B<k;++B)_=this.drawFlatCoordinatess_(h,_,s[B],g);this.endGeometry(r)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var n=this.tolerance;if(n!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=Y0(r[i],n);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var n=this.state,r=n.fillStyle;r!==void 0&&this.updateFillStyle(n,this.createFill),n.strokeStyle!==void 0&&this.updateStrokeStyle(n,this.applyStroke)},t}(Sb);const HT=$se,Pj={POINT:"point",LINE:"line"};function Yse(e,t,n,r,i){var o=n,a=n,s=0,h=0,g=n,_,B,k,P,F,q,ee,H,N,Z;for(B=n;B<r;B+=i){var ue=t[B],ye=t[B+1];F!==void 0&&(N=ue-F,Z=ye-q,P=Math.sqrt(N*N+Z*Z),ee!==void 0&&(h+=k,_=Math.acos((ee*N+H*Z)/(k*P)),_>e&&(h>s&&(s=h,o=g,a=B),h=0,g=B-i)),k=P,ee=N,H=Z),F=ue,q=ye}return h+=P,h>s?[g,B]:[o,a]}var qse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iC={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Hse=function(e){qse(t,e);function t(n,r,i,o){var a=e.call(this,n,r,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return t.prototype.finish=function(){var n=e.prototype.finish.call(this);return n.textStates=this.textStates,n.fillStates=this.fillStates,n.strokeStates=this.strokeStates,n},t.prototype.drawText=function(n,r){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,h=s.length,g=n.getType(),_=null,B=n.getStride();if(a.placement===Pj.LINE&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!vl(this.getBufferedMaxExtent(),n.getExtent()))return;var k=void 0;if(_=n.getFlatCoordinates(),g=="LineString")k=[_.length];else if(g=="MultiLineString")k=n.getEnds();else if(g=="Polygon")k=n.getEnds().slice(0,1);else if(g=="MultiPolygon"){var P=n.getEndss();k=[];for(var F=0,q=P.length;F<q;++F)k.push(P[F][0])}this.beginGeometry(n,r);for(var ee=a.textAlign,H=0,N=void 0,Z=0,ue=k.length;Z<ue;++Z){if(ee==null){var ye=Yse(a.maxAngle,_,H,k[Z],B);H=ye[0],N=ye[1]}else N=k[Z];for(var F=H;F<N;F+=B)s.push(_[F],_[F+1]);var be=s.length;H=k[Z],this.drawChars_(h,be),h=be}this.endGeometry(r)}else{var J=a.overflow?null:[];switch(g){case"Point":case"MultiPoint":_=n.getFlatCoordinates();break;case"LineString":_=n.getFlatMidpoint();break;case"Circle":_=n.getCenter();break;case"MultiLineString":_=n.getFlatMidpoints(),B=2;break;case"Polygon":_=n.getFlatInteriorPoint(),a.overflow||J.push(_[2]/this.resolution),B=3;break;case"MultiPolygon":var se=n.getFlatInteriorPoints();_=[];for(var F=0,q=se.length;F<q;F+=3)a.overflow||J.push(se[F+2]/this.resolution),_.push(se[F],se[F+1]);if(_.length===0)return;B=2;break}var be=this.appendFlatPointCoordinates(_,B);if(be===h)return;if(J&&(be-h)/2!==_.length/B){var xe=h/2;J=J.filter(function(dt,mt){var je=s[(xe+mt)*2]===_[mt*B]&&s[(xe+mt)*2+1]===_[mt*B+1];return je||--xe,je})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(n,r);var Se=a.padding;if(Se!=u1&&(a.scale[0]<0||a.scale[1]<0)){var De=a.padding[0],Le=a.padding[1],he=a.padding[2],qe=a.padding[3];a.scale[0]<0&&(Le=-Le,qe=-qe),a.scale[1]<0&&(De=-De,he=-he),Se=[De,Le,he,qe]}var ge=this.pixelRatio;this.instructions.push([Ai.DRAW_IMAGE,h,be,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,Se==u1?u1:Se.map(function(dt){return dt*ge}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,J]);var _t=1/ge;this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,h,be,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[_t,_t],NaN,void 0,this.declutterImageWithText_,Se,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,J]),this.endGeometry(r)}}},t.prototype.saveTextStates_=function(){var n=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;n&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:r.font,textAlign:r.textAlign||ZC,justify:r.justify,textBaseline:r.textBaseline||A4,scale:r.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},t.prototype.drawChars_=function(n,r){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,h=this.fillKey_;this.saveTextStates_();var g=this.pixelRatio,_=iC[o.textBaseline],B=this.textOffsetY_*g,k=this.text_,P=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Ai.DRAW_CHARS,n,r,_,o.overflow,h,o.maxAngle,g,B,a,P*g,k,s,1]),this.hitDetectionInstructions.push([Ai.DRAW_CHARS,n,r,_,o.overflow,h,o.maxAngle,1,B,a,P,k,s,1/g])},t.prototype.setTextStyle=function(n,r){var i,o,a;if(!n)this.text_="";else{var s=n.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Bf(s.getColor()||Up)):(o=null,this.textFillState_=o);var h=n.getStroke();if(!h)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var g=h.getLineDash(),_=h.getLineDashOffset(),B=h.getWidth(),k=h.getMiterLimit();a.lineCap=h.getLineCap()||u4,a.lineDash=g?g.slice():YC,a.lineDashOffset=_===void 0?qC:_,a.lineJoin=h.getLineJoin()||tv,a.lineWidth=B===void 0?XC:B,a.miterLimit=k===void 0?HC:k,a.strokeStyle=Bf(h.getColor()||VC)}i=this.textState_;var P=n.getFont()||pj;Loe(P);var F=n.getScaleArray();i.overflow=n.getOverflow(),i.font=P,i.maxAngle=n.getMaxAngle(),i.placement=n.getPlacement(),i.textAlign=n.getTextAlign(),i.justify=n.getJustify(),i.textBaseline=n.getTextBaseline()||A4,i.backgroundFill=n.getBackgroundFill(),i.backgroundStroke=n.getBackgroundStroke(),i.padding=n.getPadding()||u1,i.scale=F===void 0?[1,1]:F;var q=n.getOffsetX(),ee=n.getOffsetY(),H=n.getRotateWithView(),N=n.getRotation();this.text_=n.getText()||"",this.textOffsetX_=q===void 0?0:q,this.textOffsetY_=ee===void 0?0:ee,this.textRotateWithView_=H===void 0?!1:H,this.textRotation_=N===void 0?0:N,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:qi(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+qi(o.fillStyle):""}this.declutterImageWithText_=r},t}(Sb),Vse={Circle:HT,Default:Sb,Image:jse,LineString:Gse,Polygon:HT,Text:Hse},h4=function(){function e(t,n,r,i){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var t={};for(var n in this.buildersByZIndex_){t[n]=t[n]||{};var r=this.buildersByZIndex_[n];for(var i in r){var o=r[i].finish();t[n][i]=o}}return t},e.prototype.getBuilder=function(t,n){var r=t!==void 0?t.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[n];if(o===void 0){var a=Vse[n];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=o}return o},e}(),Zse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xse=function(e){Zse(t,e);function t(n){var r=e.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=n,r.declutterExecutorGroup=null,r}return t.prototype.getFeatures=function(n){return vi()},t.prototype.getData=function(n){return null},t.prototype.prepareFrame=function(n){return vi()},t.prototype.renderFrame=function(n,r){return vi()},t.prototype.loadedTileCallback=function(n,r,i){n[r]||(n[r]={}),n[r][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(n,r,i){return(function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return n.forEachLoadedTile(r,o,a,s)}).bind(this)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){},t.prototype.getDataAtPixel=function(n,r,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(n){var r=n.target;r.getState()===ts.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(n){var r=n.getState();return r!=ts.LOADED&&r!=ts.ERROR&&n.addEventListener(ji.CHANGE,this.boundHandleImageChange_),r==ts.IDLE&&(n.load(),r=n.getState()),r==ts.LOADED},t.prototype.renderIfReadyAndVisible=function(){var n=this.getLayer();n&&n.getVisible()&&n.getSourceState()==="ready"&&n.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(Bz);const Jse=Xse;var ele=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VT=[],Yg=null;function tle(){var e=document.createElement("canvas");e.width=1,e.height=1,Yg=e.getContext("2d")}var nle=function(e){ele(t,e);function t(n){var r=e.call(this,n)||this;return r.container=null,r.renderedResolution,r.tempTransform=Dd(),r.pixelTransform=Dd(),r.inversePixelTransform=Dd(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return t.prototype.getImageData=function(n,r,i){Yg||tle(),Yg.clearRect(0,0,1,1);var o;try{Yg.drawImage(n,r,i,1,1,0,0,1,1),o=Yg.getImageData(0,0,1,1).data}catch{return Yg=null,null}return o},t.prototype.getBackground=function(n){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(n.viewState.resolution)),i||void 0},t.prototype.useContainer=function(n,r,i){var o=this.getLayer().getClassName(),a,s;if(n&&n.className===o&&(!i||n&&n.style.backgroundColor&&j1(o4(n.style.backgroundColor),o4(i)))){var h=n.firstElementChild;h instanceof HTMLCanvasElement&&(s=h.getContext("2d"))}if(s&&s.canvas.style.transform===r?(this.container=n,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){a=document.createElement("div"),a.className=o;var g=a.style;g.position="absolute",g.width="100%",g.height="100%",s=wc();var h=s.canvas;a.appendChild(h),g=h.style,g.position="absolute",g.left="0",g.transformOrigin="top left",this.container=a,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},t.prototype.clipUnrotated=function(n,r,i){var o=h0(i),a=H5(i),s=q5(i),h=Y5(i);gl(r.coordinateToPixelTransform,o),gl(r.coordinateToPixelTransform,a),gl(r.coordinateToPixelTransform,s),gl(r.coordinateToPixelTransform,h);var g=this.inversePixelTransform;gl(g,o),gl(g,a),gl(g,s),gl(g,h),n.save(),n.beginPath(),n.moveTo(Math.round(o[0]),Math.round(o[1])),n.lineTo(Math.round(a[0]),Math.round(a[1])),n.lineTo(Math.round(s[0]),Math.round(s[1])),n.lineTo(Math.round(h[0]),Math.round(h[1])),n.clip()},t.prototype.dispatchRenderEvent_=function(n,r,i){var o=this.getLayer();if(o.hasListener(n)){var a=new dj(n,this.inversePixelTransform,i,r);o.dispatchEvent(a)}},t.prototype.preRender=function(n,r){this.frameState=r,this.dispatchRenderEvent_(n0.PRERENDER,n,r)},t.prototype.postRender=function(n,r){this.dispatchRenderEvent_(n0.POSTRENDER,n,r)},t.prototype.getRenderTransform=function(n,r,i,o,a,s,h){var g=a/2,_=s/2,B=o/r,k=-B,P=-n[0]+h,F=-n[1];return Lf(this.tempTransform,g,_,B,k,-i,P,F)},t.prototype.getDataAtPixel=function(n,r,i){var o=gl(this.inversePixelTransform,n.slice()),a=this.context,s=this.getLayer(),h=s.getExtent();if(h){var g=gl(r.pixelToCoordinateTransform,n.slice());if(!Cb(h,g))return null}var _=Math.round(o[0]),B=Math.round(o[1]),k=this.pixelContext_;if(!k){var P=document.createElement("canvas");P.width=1,P.height=1,k=P.getContext("2d"),this.pixelContext_=k}k.clearRect(0,0,1,1);var F;try{k.drawImage(a.canvas,_,B,1,1,0,0,1,1),F=k.getImageData(0,0,1,1).data}catch(q){return q.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):F}return F[3]===0?null:F},t.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},t}(Jse);const Fj=nle;function rle(e,t,n,r,i,o,a,s,h,g,_,B){var k=e[t],P=e[t+1],F=0,q=0,ee=0,H=0;function N(){F=k,q=P,t+=r,k=e[t],P=e[t+1],H+=ee,ee=Math.sqrt((k-F)*(k-F)+(P-q)*(P-q))}do N();while(t<n-r&&H+ee<o);for(var Z=ee===0?0:(o-H)/ee,ue=Bp(F,k,Z),ye=Bp(q,P,Z),be=t-r,J=H,se=o+s*h(g,i,_);t<n-r&&H+ee<se;)N();Z=ee===0?0:(se-H)/ee;var xe=Bp(F,k,Z),Se=Bp(q,P,Z),De;if(B){var Le=[ue,ye,xe,Se];$z(Le,0,4,2,B,Le,Le),De=Le[0]>Le[2]}else De=ue>xe;var he=Math.PI,qe=[],ge=be+r===t;t=be,ee=0,H=J,k=e[t],P=e[t+1];var _t;if(ge){N(),_t=Math.atan2(P-q,k-F),De&&(_t+=_t>0?-he:he);var Mt=(xe+ue)/2,dt=(Se+ye)/2;return qe[0]=[Mt,dt,(se-o)/2,_t,i],qe}i=i.replace(/\n/g," ");for(var mt=0,je=i.length;mt<je;){N();var Ve=Math.atan2(P-q,k-F);if(De&&(Ve+=Ve>0?-he:he),_t!==void 0){var Xe=Ve-_t;if(Xe+=Xe>he?-2*he:Xe<-he?2*he:0,Math.abs(Xe)>a)return null}_t=Ve;for(var Jt=mt,Ht=0;mt<je;++mt){var Ct=De?je-mt-1:mt,Qt=s*h(g,i[Ct],_);if(t+r<n&&H+ee<o+Ht+Qt/2)break;Ht+=Qt}if(mt!==Jt){var $t=De?i.substring(je-Jt,je-mt):i.substring(Jt,mt);Z=ee===0?0:(o+Ht/2-H)/ee;var Mt=Bp(F,k,Z),dt=Bp(q,P,Z);qe.push([Mt,dt,Ht/2,Ve,$t]),o+=Ht}}return qe}var Ig=zd(),mm=[],gp=[],yp=[],gm=[];function ZT(e){return e[3].declutterBox}var ile=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function XT(e,t){return(t==="start"||t==="end")&&!ile.test(e)&&(t=t==="start"?"left":"right"),iC[t]}function ole(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}var ale=function(){function e(t,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Dd(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(t,n,r,i){var o=t+n+r+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=r?this.fillStates[r]:null,h=this.textStates[n],g=this.pixelRatio,_=[h.scale[0]*g,h.scale[1]*g],B=Array.isArray(t),k=h.justify?iC[h.justify]:XT(Array.isArray(t)?t[0]:t,h.textAlign||ZC),P=i&&a.lineWidth?a.lineWidth:0,F=B?t:t.split(`
`).reduce(ole,[]),q=Roe(h,F),ee=q.width,H=q.height,N=q.widths,Z=q.heights,ue=q.lineWidths,ye=ee+P,be=[],J=(ye+2)*_[0],se=(H+P)*_[1],xe={width:J<0?Math.floor(J):Math.ceil(J),height:se<0?Math.floor(se):Math.ceil(se),contextInstructions:be};if((_[0]!=1||_[1]!=1)&&be.push("scale",_),i){be.push("strokeStyle",a.strokeStyle),be.push("lineWidth",P),be.push("lineCap",a.lineCap),be.push("lineJoin",a.lineJoin),be.push("miterLimit",a.miterLimit);var Se=Q5?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Se.prototype.setLineDash&&(be.push("setLineDash",[a.lineDash]),be.push("lineDashOffset",a.lineDashOffset))}r&&be.push("fillStyle",s.fillStyle),be.push("textBaseline","middle"),be.push("textAlign","center");for(var De=.5-k,Le=k*ye+De*P,he=[],qe=[],ge=0,_t=0,Mt=0,dt=0,mt,je=0,Ve=F.length;je<Ve;je+=2){var Xe=F[je];if(Xe===`
`){_t+=ge,ge=0,Le=k*ye+De*P,++dt;continue}var Jt=F[je+1]||h.font;Jt!==mt&&(i&&he.push("font",Jt),r&&qe.push("font",Jt),mt=Jt),ge=Math.max(ge,Z[Mt]);var Ht=[Xe,Le+De*N[Mt]+k*(N[Mt]-ue[dt]),.5*(P+ge)+_t];Le+=N[Mt],i&&he.push("strokeText",Ht),r&&qe.push("fillText",Ht),++Mt}return Array.prototype.push.apply(be,he),Array.prototype.push.apply(be,qe),this.labels_[o]=xe,xe},e.prototype.replayTextBackground_=function(t,n,r,i,o,a,s){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,n),a&&(this.alignFill_=a[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(t,n,r,i,o,a,s,h,g,_,B,k,P,F,q,ee){s*=k[0],h*=k[1];var H=r-s,N=i-h,Z=o+g>t?t-g:o,ue=a+_>n?n-_:a,ye=F[3]+Z*k[0]+F[1],be=F[0]+ue*k[1]+F[2],J=H-F[3],se=N-F[0];(q||B!==0)&&(mm[0]=J,gm[0]=J,mm[1]=se,gp[1]=se,gp[0]=J+ye,yp[0]=gp[0],yp[1]=se+be,gm[1]=yp[1]);var xe;return B!==0?(xe=Lf(Dd(),r,i,1,1,B,-r,-i),gl(xe,mm),gl(xe,gp),gl(xe,yp),gl(xe,gm),Uf(Math.min(mm[0],gp[0],yp[0],gm[0]),Math.min(mm[1],gp[1],yp[1],gm[1]),Math.max(mm[0],gp[0],yp[0],gm[0]),Math.max(mm[1],gp[1],yp[1],gm[1]),Ig)):Uf(Math.min(J,J+ye),Math.min(se,se+be),Math.max(J,J+ye),Math.max(se,se+be),Ig),P&&(H=Math.round(H),N=Math.round(N)),{drawImageX:H,drawImageY:N,drawImageW:Z,drawImageH:ue,originX:g,originY:_,declutterBox:{minX:Ig[0],minY:Ig[1],maxX:Ig[2],maxY:Ig[3],value:ee},canvasTransform:xe,scale:k}},e.prototype.replayImageOrLabel_=function(t,n,r,i,o,a,s){var h=!!(a||s),g=i.declutterBox,_=t.canvas,B=s?s[2]*i.scale[0]/2:0,k=g.minX-B<=_.width/n&&g.maxX+B>=0&&g.minY-B<=_.height/n&&g.maxY+B>=0;return k&&(h&&this.replayTextBackground_(t,mm,gp,yp,gm,a,s),zoe(t,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},e.prototype.fill_=function(t){if(this.alignFill_){var n=gl(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.setLineDash&&(t.lineDashOffset=n[7],t.setLineDash(n[6]))},e.prototype.drawLabelWithPointPlacement_=function(t,n,r,i){var o=this.textStates[n],a=this.createLabel(t,n,i,r),s=this.strokeStates[r],h=this.pixelRatio,g=XT(Array.isArray(t)?t[0]:t,o.textAlign||ZC),_=iC[o.textBaseline||A4],B=s&&s.lineWidth?s.lineWidth:0,k=a.width/h-2*o.scale[0],P=g*k+2*(.5-g)*B,F=_*a.height/h+2*(.5-_)*B;return{label:a,anchorX:P,anchorY:F}},e.prototype.execute_=function(t,n,r,i,o,a,s,h){var g;this.pixelCoordinates_&&j1(r,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=t0(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),rre(this.renderedTransform_,r));for(var _=0,B=i.length,k=0,P,F,q,ee,H,N,Z,ue,ye,be,J,se,xe=0,Se=0,De=null,Le=null,he=this.coordinateCache_,qe=this.viewRotation_,ge=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,_t={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:qe},Mt=this.instructions!=i||this.overlaps?0:200,dt,mt,je,Ve;_<B;){var Xe=i[_],Jt=Xe[0];switch(Jt){case Ai.BEGIN_GEOMETRY:dt=Xe[1],Ve=Xe[3],dt.getGeometry()?s!==void 0&&!vl(s,Ve.getExtent())?_=Xe[2]+1:++_:_=Xe[2];break;case Ai.BEGIN_PATH:xe>Mt&&(this.fill_(t),xe=0),Se>Mt&&(t.stroke(),Se=0),!xe&&!Se&&(t.beginPath(),ee=NaN,H=NaN),++_;break;case Ai.CIRCLE:k=Xe[1];var Ht=g[k],Ct=g[k+1],Qt=g[k+2],$t=g[k+3],Ie=Qt-Ht,pe=$t-Ct,Me=Math.sqrt(Ie*Ie+pe*pe);t.moveTo(Ht+Me,Ct),t.arc(Ht,Ct,Me,0,2*Math.PI,!0),++_;break;case Ai.CLOSE_PATH:t.closePath(),++_;break;case Ai.CUSTOM:k=Xe[1],P=Xe[2];var Re=Xe[3],it=Xe[4],ot=Xe.length==6?Xe[5]:void 0;_t.geometry=Re,_t.feature=dt,_ in he||(he[_]=[]);var St=he[_];ot?ot(g,k,P,2,St):(St[0]=g[k],St[1]=g[k+1],St.length=2),it(St,_t),++_;break;case Ai.DRAW_IMAGE:k=Xe[1],P=Xe[2],ue=Xe[3],F=Xe[4],q=Xe[5];var Rt=Xe[6],zt=Xe[7],pt=Xe[8],ir=Xe[9],gn=Xe[10],yn=Xe[11],er=Xe[12],Ar=Xe[13],Mr=Xe[14],Wr=Xe[15];if(!ue&&Xe.length>=20){ye=Xe[19],be=Xe[20],J=Xe[21],se=Xe[22];var gr=this.drawLabelWithPointPlacement_(ye,be,J,se);ue=gr.label,Xe[3]=ue;var _i=Xe[23];F=(gr.anchorX-_i)*this.pixelRatio,Xe[4]=F;var Ee=Xe[24];q=(gr.anchorY-Ee)*this.pixelRatio,Xe[5]=q,Rt=ue.height,Xe[6]=Rt,Ar=ue.width,Xe[13]=Ar}var X=void 0;Xe.length>25&&(X=Xe[25]);var Y=void 0,Te=void 0,ut=void 0;Xe.length>17?(Y=Xe[16],Te=Xe[17],ut=Xe[18]):(Y=u1,Te=!1,ut=!1),gn&&ge?yn+=qe:!gn&&!ge&&(yn-=qe);for(var Bt=0;k<P;k+=2)if(!(X&&X[Bt++]<Ar/this.pixelRatio)){var It=this.calculateImageOrLabelDimensions_(ue.width,ue.height,g[k],g[k+1],Ar,Rt,F,q,pt,ir,yn,er,o,Y,Te||ut,dt),Dt=[t,n,ue,It,zt,Te?De:null,ut?Le:null];if(h){if(Mr==="none")continue;if(Mr==="obstacle"){h.insert(It.declutterBox);continue}else{var fn=void 0,Pn=void 0;if(Wr){var On=P-k;if(!Wr[On]){Wr[On]=Dt;continue}if(fn=Wr[On],delete Wr[On],Pn=ZT(fn),h.collides(Pn))continue}if(h.collides(It.declutterBox))continue;fn&&(h.insert(Pn),this.replayImageOrLabel_.apply(this,fn)),h.insert(It.declutterBox)}}this.replayImageOrLabel_.apply(this,Dt)}++_;break;case Ai.DRAW_CHARS:var m=Xe[1],Kt=Xe[2],Pr=Xe[3],nr=Xe[4];se=Xe[5];var Pe=Xe[6],ce=Xe[7],Ce=Xe[8];J=Xe[9];var ke=Xe[10];ye=Xe[11],be=Xe[12];var ze=[Xe[13],Xe[13]],rt=this.textStates[be],st=rt.font,ft=[rt.scale[0]*ce,rt.scale[1]*ce],et=void 0;st in this.widths_?et=this.widths_[st]:(et={},this.widths_[st]=et);var wt=Jz(g,m,Kt,2),tn=Math.abs(ft[0])*UT(st,ye,et);if(nr||tn<=wt){var qt=this.textStates[be].textAlign,en=(wt-tn)*iC[qt],Fn=rle(g,m,Kt,2,ye,en,Pe,Math.abs(ft[0]),UT,st,et,ge?0:this.viewRotation_);e:if(Fn){var Bn=[],qn=void 0,Sr=void 0,lr=void 0,$r=void 0,Or=void 0;if(J)for(qn=0,Sr=Fn.length;qn<Sr;++qn){Or=Fn[qn],lr=Or[4],$r=this.createLabel(lr,be,"",J),F=Or[2]+(ft[0]<0?-ke:ke),q=Pr*$r.height+(.5-Pr)*2*ke*ft[1]/ft[0]-Ce;var It=this.calculateImageOrLabelDimensions_($r.width,$r.height,Or[0],Or[1],$r.width,$r.height,F,q,0,0,Or[3],ze,!1,u1,!1,dt);if(h&&h.collides(It.declutterBox))break e;Bn.push([t,n,$r,It,1,null,null])}if(se)for(qn=0,Sr=Fn.length;qn<Sr;++qn){Or=Fn[qn],lr=Or[4],$r=this.createLabel(lr,be,se,""),F=Or[2],q=Pr*$r.height-Ce;var It=this.calculateImageOrLabelDimensions_($r.width,$r.height,Or[0],Or[1],$r.width,$r.height,F,q,0,0,Or[3],ze,!1,u1,!1,dt);if(h&&h.collides(It.declutterBox))break e;Bn.push([t,n,$r,It,1,null,null])}h&&h.load(Bn.map(ZT));for(var Lr=0,or=Bn.length;Lr<or;++Lr)this.replayImageOrLabel_.apply(this,Bn[Lr])}}++_;break;case Ai.END_GEOMETRY:if(a!==void 0){dt=Xe[1];var ci=a(dt,Ve);if(ci)return ci}++_;break;case Ai.FILL:Mt?xe++:this.fill_(t),++_;break;case Ai.MOVE_TO_LINE_TO:for(k=Xe[1],P=Xe[2],mt=g[k],je=g[k+1],N=mt+.5|0,Z=je+.5|0,(N!==ee||Z!==H)&&(t.moveTo(mt,je),ee=N,H=Z),k+=2;k<P;k+=2)mt=g[k],je=g[k+1],N=mt+.5|0,Z=je+.5|0,(k==P-2||N!==ee||Z!==H)&&(t.lineTo(mt,je),ee=N,H=Z);++_;break;case Ai.SET_FILL_STYLE:De=Xe,this.alignFill_=Xe[2],xe&&(this.fill_(t),xe=0,Se&&(t.stroke(),Se=0)),t.fillStyle=Xe[1],++_;break;case Ai.SET_STROKE_STYLE:Le=Xe,Se&&(t.stroke(),Se=0),this.setStrokeStyle_(t,Xe),++_;break;case Ai.STROKE:Mt?Se++:t.stroke(),++_;break;default:++_;break}}xe&&this.fill_(t),Se&&t.stroke()},e.prototype.execute=function(t,n,r,i,o,a){this.viewRotation_=i,this.execute_(t,n,r,this.instructions,o,void 0,void 0,a)},e.prototype.executeHitDetection=function(t,n,r,i,o){return this.viewRotation_=r,this.execute_(t,1,n,this.hitDetectionInstructions,!0,i,o)},e}();const sle=ale;var _S=["Polygon","Circle","LineString","Image","Text","Default"],lle=function(){function e(t,n,r,i,o,a){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Dd(),this.createExecutors_(o)}return e.prototype.clip=function(t,n){var r=this.getClipCoords(n);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var n in t){var r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);var i=t[n];for(var o in i){var a=i[o];r[o]=new sle(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},e.prototype.hasExecutors=function(t){for(var n in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[n],i=0,o=t.length;i<o;++i)if(t[i]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,n,r,i,o,a){i=Math.round(i);var s=i*2+1,h=Lf(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=wc(s,s));var _=this.hitDetectionContext_;_.canvas.width!==s||_.canvas.height!==s?(_.canvas.width=s,_.canvas.height=s):g||_.clearRect(0,0,s,s);var B;this.renderBuffer_!==void 0&&(B=zd(),rC(B,t),e0(B,n*(this.renderBuffer_+i),B));var k=ule(i),P;function F(be,J){for(var se=_.getImageData(0,0,s,s).data,xe=0,Se=k.length;xe<Se;xe++)if(se[k[xe]]>0){if(!a||P!=="Image"&&P!=="Text"||a.indexOf(be)!==-1){var De=(k[xe]-3)/4,Le=i-De%s,he=i-(De/s|0),qe=o(be,J,Le*Le+he*he);if(qe)return qe}_.clearRect(0,0,s,s);break}}var q=Object.keys(this.executorsByZIndex_).map(Number);q.sort(k1);var ee,H,N,Z,ue;for(ee=q.length-1;ee>=0;--ee){var ye=q[ee].toString();for(N=this.executorsByZIndex_[ye],H=_S.length-1;H>=0;--H)if(P=_S[H],Z=N[P],Z!==void 0&&(ue=Z.executeHitDetection(_,h,r,F,B),ue))return ue}},e.prototype.getClipCoords=function(t){var n=this.maxExtent_;if(!n)return null;var r=n[0],i=n[1],o=n[2],a=n[3],s=[r,i,r,a,o,a,o,i];return t0(s,0,8,2,t,s),s},e.prototype.isEmpty=function(){return T1(this.executorsByZIndex_)},e.prototype.execute=function(t,n,r,i,o,a,s){var h=Object.keys(this.executorsByZIndex_).map(Number);h.sort(k1),this.maxExtent_&&(t.save(),this.clip(t,r));var g=a||_S,_,B,k,P,F,q;for(s&&h.reverse(),_=0,B=h.length;_<B;++_){var ee=h[_].toString();for(F=this.executorsByZIndex_[ee],k=0,P=g.length;k<P;++k){var H=g[k];q=F[H],q!==void 0&&q.execute(t,n,r,i,o,s)}}this.maxExtent_&&t.restore()},e}(),CS={};function ule(e){if(CS[e]!==void 0)return CS[e];for(var t=e*2+1,n=e*e,r=new Array(n+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(((e+i)*t+(e+o))*4+3),i>0&&s.push(((e-i)*t+(e+o))*4+3),o>0&&(s.push(((e+i)*t+(e-o))*4+3),i>0&&s.push(((e-i)*t+(e-o))*4+3))}for(var h=[],i=0,g=r.length;i<g;++i)r[i]&&h.push.apply(h,r[i]);return CS[e]=h,h}const f4=lle;var Ale=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cle=function(e){Ale(t,e);function t(n,r,i,o,a,s,h){var g=e.call(this)||this;return g.context_=n,g.pixelRatio_=r,g.extent_=i,g.transform_=o,g.viewRotation_=a,g.squaredTolerance_=s,g.userTransform_=h,g.contextFillState_=null,g.contextStrokeState_=null,g.contextTextState_=null,g.fillState_=null,g.strokeState_=null,g.image_=null,g.imageAnchorX_=0,g.imageAnchorY_=0,g.imageHeight_=0,g.imageOpacity_=0,g.imageOriginX_=0,g.imageOriginY_=0,g.imageRotateWithView_=!1,g.imageRotation_=0,g.imageScale_=[0,0],g.imageWidth_=0,g.text_="",g.textOffsetX_=0,g.textOffsetY_=0,g.textRotateWithView_=!1,g.textRotation_=0,g.textScale_=[0,0],g.textFillState_=null,g.textStrokeState_=null,g.textState_=null,g.pixelCoordinates_=[],g.tmpLocalTransform_=Dd(),g}return t.prototype.drawImages_=function(n,r,i,o){if(this.image_){var a=t0(n,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,h=this.tmpLocalTransform_,g=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=g*this.imageOpacity_);var _=this.imageRotation_;this.imageRotateWithView_&&(_+=this.viewRotation_);for(var B=0,k=a.length;B<k;B+=2){var P=a[B]-this.imageAnchorX_,F=a[B+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var q=P+this.imageAnchorX_,ee=F+this.imageAnchorY_;Lf(h,q,ee,1,1,_,-q,-ee),s.setTransform.apply(s,h),s.translate(q,ee),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,P,F,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=g)}},t.prototype.drawText_=function(n,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=t0(n,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,h=this.textRotation_;for(this.textRotateWithView_&&(h+=this.viewRotation_);r<i;r+=o){var g=a[r]+this.textOffsetX_,_=a[r+1]+this.textOffsetY_;if(h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var B=Lf(this.tmpLocalTransform_,g,_,1,1,h,-g,-_);s.setTransform.apply(s,B),s.translate(g,_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,g,_),this.textFillState_&&s.fillText(this.text_,g,_)}}},t.prototype.moveToLineTo_=function(n,r,i,o,a){var s=this.context_,h=t0(n,r,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(h[0],h[1]);var g=h.length;a&&(g-=2);for(var _=2;_<g;_+=2)s.lineTo(h[_],h[_+1]);return a&&s.closePath(),i},t.prototype.drawRings_=function(n,r,i,o){for(var a=0,s=i.length;a<s;++a)r=this.moveToLineTo_(n,r,i[a],o,!0);return r},t.prototype.drawCircle=function(n){if(vl(this.extent_,n.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Jre(n,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(r[0],r[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(n.getCenter(),0,2,2)}},t.prototype.setStyle=function(n){this.setFillStrokeStyle(n.getFill(),n.getStroke()),this.setImageStyle(n.getImage()),this.setTextStyle(n.getText())},t.prototype.setTransform=function(n){this.transform_=n},t.prototype.drawGeometry=function(n){var r=n.getType();switch(r){case"Point":this.drawPoint(n);break;case"LineString":this.drawLineString(n);break;case"Polygon":this.drawPolygon(n);break;case"MultiPoint":this.drawMultiPoint(n);break;case"MultiLineString":this.drawMultiLineString(n);break;case"MultiPolygon":this.drawMultiPolygon(n);break;case"GeometryCollection":this.drawGeometryCollection(n);break;case"Circle":this.drawCircle(n);break}},t.prototype.drawFeature=function(n,r){var i=r.getGeometryFunction()(n);!i||!vl(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},t.prototype.drawGeometryCollection=function(n){for(var r=n.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},t.prototype.drawPoint=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getFlatCoordinates(),i=n.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawMultiPoint=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getFlatCoordinates(),i=n.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawLineString=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vl(this.extent_,n.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=n.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,n.getStride(),!1),r.stroke()}if(this.text_!==""){var o=n.getFlatMidpoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiLineString=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getExtent();if(vl(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=n.getFlatCoordinates(),a=0,s=n.getEnds(),h=n.getStride();i.beginPath();for(var g=0,_=s.length;g<_;++g)a=this.moveToLineTo_(o,a,s[g],h,!1);i.stroke()}if(this.text_!==""){var B=n.getFlatMidpoints();this.drawText_(B,0,B.length,2)}}},t.prototype.drawPolygon=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vl(this.extent_,n.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(n.getOrientedFlatCoordinates(),0,n.getEnds(),n.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=n.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiPolygon=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vl(this.extent_,n.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=n.getOrientedFlatCoordinates(),o=0,a=n.getEndss(),s=n.getStride();r.beginPath();for(var h=0,g=a.length;h<g;++h){var _=a[h];o=this.drawRings_(i,o,_,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var B=n.getFlatInteriorPoints();this.drawText_(B,0,B.length,2)}}},t.prototype.setContextFillState_=function(n){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=n.fillStyle&&(i.fillStyle=n.fillStyle,r.fillStyle=n.fillStyle):(r.fillStyle=n.fillStyle,this.contextFillState_={fillStyle:n.fillStyle})},t.prototype.setContextStrokeState_=function(n){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=n.lineCap&&(i.lineCap=n.lineCap,r.lineCap=n.lineCap),r.setLineDash&&(j1(i.lineDash,n.lineDash)||r.setLineDash(i.lineDash=n.lineDash),i.lineDashOffset!=n.lineDashOffset&&(i.lineDashOffset=n.lineDashOffset,r.lineDashOffset=n.lineDashOffset)),i.lineJoin!=n.lineJoin&&(i.lineJoin=n.lineJoin,r.lineJoin=n.lineJoin),i.lineWidth!=n.lineWidth&&(i.lineWidth=n.lineWidth,r.lineWidth=n.lineWidth),i.miterLimit!=n.miterLimit&&(i.miterLimit=n.miterLimit,r.miterLimit=n.miterLimit),i.strokeStyle!=n.strokeStyle&&(i.strokeStyle=n.strokeStyle,r.strokeStyle=n.strokeStyle)):(r.lineCap=n.lineCap,r.setLineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.lineWidth=n.lineWidth,r.miterLimit=n.miterLimit,r.strokeStyle=n.strokeStyle,this.contextStrokeState_={lineCap:n.lineCap,lineDash:n.lineDash,lineDashOffset:n.lineDashOffset,lineJoin:n.lineJoin,lineWidth:n.lineWidth,miterLimit:n.miterLimit,strokeStyle:n.strokeStyle})},t.prototype.setContextTextState_=function(n){var r=this.context_,i=this.contextTextState_,o=n.textAlign?n.textAlign:ZC;i?(i.font!=n.font&&(i.font=n.font,r.font=n.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=n.textBaseline&&(i.textBaseline=n.textBaseline,r.textBaseline=n.textBaseline)):(r.font=n.font,r.textAlign=o,r.textBaseline=n.textBaseline,this.contextTextState_={font:n.font,textAlign:o,textBaseline:n.textBaseline})},t.prototype.setFillStrokeStyle=function(n,r){var i=this;if(!n)this.fillState_=null;else{var o=n.getColor();this.fillState_={fillStyle:Bf(o||Up)}}if(!r)this.strokeState_=null;else{var a=r.getColor(),s=r.getLineCap(),h=r.getLineDash(),g=r.getLineDashOffset(),_=r.getLineJoin(),B=r.getWidth(),k=r.getMiterLimit(),P=h||YC;this.strokeState_={lineCap:s!==void 0?s:u4,lineDash:this.pixelRatio_===1?P:P.map(function(F){return F*i.pixelRatio_}),lineDashOffset:(g||qC)*this.pixelRatio_,lineJoin:_!==void 0?_:tv,lineWidth:(B!==void 0?B:XC)*this.pixelRatio_,miterLimit:k!==void 0?k:HC,strokeStyle:Bf(a||VC)}}},t.prototype.setImageStyle=function(n){var r;if(!n||!(r=n.getSize())){this.image_=null;return}var i=n.getAnchor(),o=n.getOrigin();this.image_=n.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=n.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=n.getRotateWithView(),this.imageRotation_=n.getRotation(),this.imageScale_=n.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},t.prototype.setTextStyle=function(n){if(!n)this.text_="";else{var r=n.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:Bf(i||Up)}}var o=n.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),h=o.getLineDash(),g=o.getLineDashOffset(),_=o.getLineJoin(),B=o.getWidth(),k=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:u4,lineDash:h||YC,lineDashOffset:g||qC,lineJoin:_!==void 0?_:tv,lineWidth:B!==void 0?B:XC,miterLimit:k!==void 0?k:HC,strokeStyle:Bf(a||VC)}}var P=n.getFont(),F=n.getOffsetX(),q=n.getOffsetY(),ee=n.getRotateWithView(),H=n.getRotation(),N=n.getScaleArray(),Z=n.getText(),ue=n.getTextAlign(),ye=n.getTextBaseline();this.textState_={font:P!==void 0?P:pj,textAlign:ue!==void 0?ue:ZC,textBaseline:ye!==void 0?ye:A4},this.text_=Z!==void 0?Array.isArray(Z)?Z.reduce(function(be,J,se){return be+=se%2?" ":J},""):Z:"",this.textOffsetX_=F!==void 0?this.pixelRatio_*F:0,this.textOffsetY_=q!==void 0?this.pixelRatio_*q:0,this.textRotateWithView_=ee!==void 0?ee:!1,this.textRotation_=H!==void 0?H:0,this.textScale_=[this.pixelRatio_*N[0],this.pixelRatio_*N[1]]}},t}(Kj);const Em={FRACTION:"fraction",PIXELS:"pixels"},wd={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var dle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hle=function(e){dle(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.extent=n,a.pixelRatio_=i,a.resolution=r,a.state=o,a}return t.prototype.changed=function(){this.dispatchEvent(ji.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return vi()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){vi()},t}(gv);const fle=hle;var ple=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){ple(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,i,ts.IDLE)||this;return h.src_=o,h.image_=new Image,a!==null&&(h.image_.crossOrigin=a),h.unlisten_=null,h.state=ts.IDLE,h.imageLoadFunction_=s,h}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=ts.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=xc(this.extent)/this.image_.height),this.state=ts.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==ts.IDLE||this.state==ts.ERROR)&&(this.state=ts.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=y8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(n){this.image_=n,this.resolution=xc(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t})(fle);function y8(e,t,n){var r=e,i=!0,o=!1,a=!1,s=[J3(r,ji.LOAD,function(){a=!0,o||t()})];return r.src&&nre?(o=!0,r.decode().then(function(){i&&t()}).catch(function(h){i&&(a?t():n())})):s.push(J3(r,ji.ERROR,n)),function(){i=!1,s.forEach(rs)}}var mle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),m_=null,gle=function(e){mle(t,e);function t(n,r,i,o,a,s){var h=e.call(this)||this;return h.hitDetectionImage_=null,h.image_=n||new Image,o!==null&&(h.image_.crossOrigin=o),h.canvas_={},h.color_=s,h.unlisten_=null,h.imageState_=a,h.size_=i,h.src_=r,h.tainted_,h}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ts.LOADED){m_||(m_=wc(1,1)),m_.drawImage(this.image_,0,0);try{m_.getImageData(0,0,1,1),this.tainted_=!1}catch{m_=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ji.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=ts.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=ts.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(n){return this.replaceColor_(n),this.canvas_[n]?this.canvas_[n]:this.image_},t.prototype.getPixelRatio=function(n){return this.replaceColor_(n),this.canvas_[n]?n:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var n=this.size_[0],r=this.size_[1],i=wc(n,r);i.fillRect(0,0,n,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==ts.IDLE){this.imageState_=ts.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=y8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(n){if(!(!this.color_||this.canvas_[n]||this.imageState_!==ts.LOADED)){var r=document.createElement("canvas");this.canvas_[n]=r,r.width=Math.ceil(this.image_.width*n),r.height=Math.ceil(this.image_.height*n);var i=r.getContext("2d");if(i.scale(n,n),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=uj(this.color_),i.fillRect(0,0,r.width/n,r.height/n),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),a=o.data,s=this.color_[0]/255,h=this.color_[1]/255,g=this.color_[2]/255,_=this.color_[3],B=0,k=a.length;B<k;B+=4)a[B]*=s,a[B+1]*=h,a[B+2]*=g,a[B+3]*=_;i.putImageData(o,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(gv);function yle(e,t,n,r,i,o){var a=a4.get(t,r,o);return a||(a=new gle(e,t,n,r,i,o),a4.set(t,r,o,a)),a}var vle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_le=function(e){vle(t,e);function t(n){var r=this,i=n||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,h=i.rotateWithView!==void 0?i.rotateWithView:!1;r=e.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:h,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:wd.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Em.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Em.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var g=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var _=i.src;co(!(_!==void 0&&g),4),co(!g||g&&r.imgSize_,5),(_===void 0||_.length===0)&&g&&(_=g.src||qi(g)),co(_!==void 0&&_.length>0,6);var B=i.src!==void 0?ts.IDLE:ts.LOADED;return r.color_=i.color!==void 0?o4(i.color):null,r.iconImage_=yle(g,_,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,B,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:wd.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return t.prototype.clone=function(){var n=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(n)?n.slice():n,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getAnchor=function(){var n=this.normalizedAnchor_;if(!n){n=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==Em.FRACTION||this.anchorYUnits_==Em.FRACTION){if(!r)return null;n=this.anchor_.slice(),this.anchorXUnits_==Em.FRACTION&&(n[0]*=r[0]),this.anchorYUnits_==Em.FRACTION&&(n[1]*=r[1])}if(this.anchorOrigin_!=wd.TOP_LEFT){if(!r)return null;n===this.anchor_&&(n=this.anchor_.slice()),(this.anchorOrigin_==wd.TOP_RIGHT||this.anchorOrigin_==wd.BOTTOM_RIGHT)&&(n[0]=-n[0]+r[0]),(this.anchorOrigin_==wd.BOTTOM_LEFT||this.anchorOrigin_==wd.BOTTOM_RIGHT)&&(n[1]=-n[1]+r[1])}this.normalizedAnchor_=n}var i=this.getDisplacement();return[n[0]-i[0],n[1]+i[1]]},t.prototype.setAnchor=function(n){this.anchor_=n,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(n){return this.iconImage_.getImage(n)},t.prototype.getPixelRatio=function(n){return this.iconImage_.getPixelRatio(n)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var n=this.offset_;if(this.offsetOrigin_!=wd.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;n=n.slice(),(this.offsetOrigin_==wd.TOP_RIGHT||this.offsetOrigin_==wd.BOTTOM_RIGHT)&&(n[0]=i[0]-r[0]-n[0]),(this.offsetOrigin_==wd.BOTTOM_LEFT||this.offsetOrigin_==wd.BOTTOM_RIGHT)&&(n[1]=i[1]-r[1]-n[1])}return this.origin_=n,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(n){this.iconImage_.addEventListener(ji.CHANGE,n)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(n){this.iconImage_.removeEventListener(ji.CHANGE,n)},t}(kj);const Dj=_le;var Cle="#333",ble=function(){function e(t){var n=t||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.scaleArray_=LA(n.scale!==void 0?n.scale:1),this.text_=n.text,this.textAlign_=n.textAlign,this.justify_=n.justify,this.textBaseline_=n.textBaseline,this.fill_=n.fill!==void 0?n.fill:new Ay({color:Cle}),this.maxAngle_=n.maxAngle!==void 0?n.maxAngle:Math.PI/4,this.placement_=n.placement!==void 0?n.placement:Pj.POINT,this.overflow_=!!n.overflow,this.stroke_=n.stroke!==void 0?n.stroke:null,this.offsetX_=n.offsetX!==void 0?n.offsetX:0,this.offsetY_=n.offsetY!==void 0?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=n.padding===void 0?null:n.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(t){this.overflow_=t},e.prototype.setFont=function(t){this.font_=t},e.prototype.setMaxAngle=function(t){this.maxAngle_=t},e.prototype.setOffsetX=function(t){this.offsetX_=t},e.prototype.setOffsetY=function(t){this.offsetY_=t},e.prototype.setPlacement=function(t){this.placement_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setFill=function(t){this.fill_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=LA(t!==void 0?t:1)},e.prototype.setStroke=function(t){this.stroke_=t},e.prototype.setText=function(t){this.text_=t},e.prototype.setTextAlign=function(t){this.textAlign_=t},e.prototype.setJustify=function(t){this.justify_=t},e.prototype.setTextBaseline=function(t){this.textBaseline_=t},e.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},e.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},e.prototype.setPadding=function(t){this.padding_=t},e}(),Yc=.5;function Lj(e,t,n,r,i,o,a){var s=e[0]*Yc,h=e[1]*Yc,g=wc(s,h);g.imageSmoothingEnabled=!1;for(var _=g.canvas,B=new cle(g,Yc,i,null,a),k=n.length,P=Math.floor((256*256*256-1)/k),F={},q=1;q<=k;++q){var ee=n[q-1],H=ee.getStyleFunction()||r;if(r){var N=H(ee,o);if(N){Array.isArray(N)||(N=[N]);for(var Z=q*P,ue="#"+("000000"+Z.toString(16)).slice(-6),ye=0,be=N.length;ye<be;++ye){var J=N[ye],se=J.getGeometryFunction()(ee);if(!(!se||!vl(i,se.getExtent()))){var xe=J.clone(),Se=xe.getFill();Se&&Se.setColor(ue);var De=xe.getStroke();De&&(De.setColor(ue),De.setLineDash(null)),xe.setText(void 0);var Le=J.getImage();if(Le&&Le.getOpacity()!==0){var he=Le.getImageSize();if(!he)continue;var qe=wc(he[0],he[1],void 0,{alpha:!1}),ge=qe.canvas;qe.fillStyle=ue,qe.fillRect(0,0,ge.width,ge.height),xe.setImage(new Dj({img:ge,imgSize:he,anchor:Le.getAnchor(),anchorXUnits:Em.PIXELS,anchorYUnits:Em.PIXELS,offset:Le.getOrigin(),opacity:1,size:Le.getSize(),scale:Le.getScale(),rotation:Le.getRotation(),rotateWithView:Le.getRotateWithView()}))}var _t=xe.getZIndex()||0,Mt=F[_t];Mt||(Mt={},F[_t]=Mt,Mt.Polygon=[],Mt.Circle=[],Mt.LineString=[],Mt.Point=[]),Mt[se.getType().replace("Multi","")].push(se,xe)}}}}}for(var dt=Object.keys(F).map(Number).sort(k1),q=0,mt=dt.length;q<mt;++q){var Mt=F[dt[q]];for(var je in Mt)for(var Ve=Mt[je],ye=0,be=Ve.length;ye<be;ye+=2){B.setStyle(Ve[ye+1]);for(var Xe=0,Jt=t.length;Xe<Jt;++Xe)B.setTransform(t[Xe]),B.drawGeometry(Ve[ye])}}return g.getImageData(0,0,_.width,_.height)}function Uj(e,t,n){var r=[];if(n){var i=Math.floor(Math.round(e[0])*Yc),o=Math.floor(Math.round(e[1])*Yc),a=(Kl(i,0,n.width-1)+Kl(o,0,n.height-1)*n.width)*4,s=n.data[a],h=n.data[a+1],g=n.data[a+2],_=g+256*(h+256*s),B=Math.floor((256*256*256-1)/t.length);_&&_%B===0&&r.push(t[_/B-1])}return r}var xle=.5,Rj={Point:Ile,LineString:Ole,Polygon:Kle,MultiPoint:Tle,MultiLineString:Ble,MultiPolygon:kle,GeometryCollection:Ele,Circle:Mle};function wle(e,t){return parseInt(qi(e),10)-parseInt(qi(t),10)}function zj(e,t){var n=cO(e,t);return n*n}function cO(e,t){return xle*e/t}function Mle(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(t,r)}var h=n.getText();if(h&&h.getText()){var g=(i||e).getBuilder(n.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,r)}}function p4(e,t,n,r,i,o,a){var s=!1,h=n.getImage();if(h){var g=h.getImageState();g==ts.LOADED||g==ts.ERROR?h.unlistenImageChange(i):(g==ts.IDLE&&h.load(),h.listenImageChange(i),s=!0)}return Sle(e,t,n,r,o,a),s}function Sle(e,t,n,r,i,o){var a=n.getGeometryFunction()(t);if(a){var s=a.simplifyTransformed(r,i),h=n.getRenderer();if(h)jj(e,s,n,t);else{var g=Rj[s.getType()];g(e,s,n,t,o)}}}function jj(e,t,n,r){if(t.getType()=="GeometryCollection"){for(var i=t.getGeometries(),o=0,a=i.length;o<a;++o)jj(e,i[o],n,r);return}var s=e.getBuilder(n.getZIndex(),"Default");s.drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer())}function Ele(e,t,n,r,i){var o=t.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var h=Rj[o[a].getType()];h(e,o[a],n,r,i)}}function Ole(e,t,n,r,i){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,r)}var s=n.getText();if(s&&s.getText()){var h=(i||e).getBuilder(n.getZIndex(),"Text");h.setTextStyle(s),h.drawText(t,r)}}function Ble(e,t,n,r,i){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,r)}var s=n.getText();if(s&&s.getText()){var h=(i||e).getBuilder(n.getZIndex(),"Text");h.setTextStyle(s),h.drawText(t,r)}}function kle(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,r)}var h=n.getText();if(h&&h.getText()){var g=(i||e).getBuilder(n.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,r)}}function Ile(e,t,n,r,i){var o=n.getImage(),a=n.getText(),s;if(o){if(o.getImageState()!=ts.LOADED)return;var h=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(h=i,g==="obstacle"){var _=e.getBuilder(n.getZIndex(),"Image");_.setImageStyle(o,s),_.drawPoint(t,r)}else a&&a.getText()&&(s={})}var B=h.getBuilder(n.getZIndex(),"Image");B.setImageStyle(o,s),B.drawPoint(t,r)}if(a&&a.getText()){var k=e;i&&(k=i);var P=k.getBuilder(n.getZIndex(),"Text");P.setTextStyle(a,s),P.drawText(t,r)}}function Tle(e,t,n,r,i){var o=n.getImage(),a=n.getText(),s;if(o){if(o.getImageState()!=ts.LOADED)return;var h=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(h=i,g==="obstacle"){var _=e.getBuilder(n.getZIndex(),"Image");_.setImageStyle(o,s),_.drawMultiPoint(t,r)}else a&&a.getText()&&(s={})}var B=h.getBuilder(n.getZIndex(),"Image");B.setImageStyle(o,s),B.drawMultiPoint(t,r)}if(a&&a.getText()){var k=e;i&&(k=i);var P=k.getBuilder(n.getZIndex(),"Text");P.setTextStyle(a,s),P.drawText(t,r)}}function Kle(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(t,r)}var h=n.getText();if(h&&h.getText()){var g=(i||e).getBuilder(n.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,r)}}var Ple=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fle=function(e){Ple(t,e);function t(n){var r=e.call(this,n)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=zd(),r.wrappedRenderedExtent_=zd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return t.prototype.renderWorlds=function(n,r,i){var o=r.extent,a=r.viewState,s=a.center,h=a.resolution,g=a.projection,_=a.rotation,B=g.getExtent(),k=this.getLayer().getSource(),P=r.pixelRatio,F=r.viewHints,q=!(F[il.ANIMATING]||F[il.INTERACTING]),ee=this.compositionContext_,H=Math.round(r.size[0]*P),N=Math.round(r.size[1]*P),Z=k.getWrapX()&&g.canWrapX(),ue=Z?vs(B):null,ye=Z?Math.ceil((o[2]-B[2])/ue)+1:1,be=Z?Math.floor((o[0]-B[0])/ue):0;do{var J=this.getRenderTransform(s,h,_,P,H,N,be*ue);n.execute(ee,1,J,_,q,void 0,i)}while(++be<ye)},t.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var n=wc(this.context.canvas.width,this.context.canvas.height,VT);this.compositionContext_=n}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var n=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=n,A8(this.compositionContext_),VT.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(n,r){var i=n.pixelRatio,o=n.layerStatesArray[n.layerIndex];ire(this.pixelTransform,1/i,1/i),W7(this.inversePixelTransform,this.pixelTransform);var a=Fz(this.pixelTransform);this.useContainer(r,a,this.getBackground(n));var s=this.context,h=s.canvas,g=this.replayGroup_,_=this.declutterExecutorGroup;if((!g||g.isEmpty())&&(!_||_.isEmpty()))return null;var B=Math.round(n.size[0]*i),k=Math.round(n.size[1]*i);h.width!=B||h.height!=k?(h.width=B,h.height=k,h.style.transform!==a&&(h.style.transform=a)):this.containerReused||s.clearRect(0,0,B,k),this.preRender(s,n);var P=n.viewState;P.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var F=!1,q=!0;if(o.extent&&this.clipping){var ee=s1(o.extent);q=vl(ee,n.extent),F=q&&!Um(ee,n.extent),F&&this.clipUnrotated(this.compositionContext_,n,ee)}return q&&this.renderWorlds(g,n),F&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,n),this.renderedRotation_!==P.rotation&&(this.renderedRotation_=P.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(n){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];gl(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,h=this.renderedProjection_,g=this.wrappedRenderedExtent_,_=this.getLayer(),B=[],k=i[0]*Yc,P=i[1]*Yc;B.push(this.getRenderTransform(o,a,s,Yc,k,P,0).slice());var F=_.getSource(),q=h.getExtent();if(F.getWrapX()&&h.canWrapX()&&!Um(q,g)){for(var ee=g[0],H=vs(q),N=0,Z=void 0;ee<q[0];)--N,Z=H*N,B.push(this.getRenderTransform(o,a,s,Yc,k,P,Z).slice()),ee+=H;for(N=0,ee=g[2];ee>q[2];)++N,Z=H*N,B.push(this.getRenderTransform(o,a,s,Yc,k,P,Z).slice()),ee-=H}this.hitDetectionImageData_=Lj(i,B,this.renderedFeatures_,_.getStyleFunction(),g,a,s)}r(Uj(n,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){var s=this;if(this.replayGroup_){var h=r.viewState.resolution,g=r.viewState.rotation,_=this.getLayer(),B={},k=function(q,ee,H){var N=qi(q),Z=B[N];if(Z){if(Z!==!0&&H<Z.distanceSq){if(H===0)return B[N]=!0,a.splice(a.lastIndexOf(Z),1),o(q,_,ee);Z.geometry=ee,Z.distanceSq=H}}else{if(H===0)return B[N]=!0,o(q,_,ee);a.push(B[N]={feature:q,layer:_,geometry:ee,distanceSq:H,callback:o})}},P,F=[this.replayGroup_];return this.declutterExecutorGroup&&F.push(this.declutterExecutorGroup),F.some(function(q){return P=q.forEachFeatureAtCoordinate(n,h,g,i,k,q===s.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(ee){return ee.value}):null)}),P}},t.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()},t.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(n){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=n.viewHints[il.ANIMATING],a=n.viewHints[il.INTERACTING],s=r.getUpdateWhileAnimating(),h=r.getUpdateWhileInteracting();if(this.ready&&!s&&o||!h&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=n.extent,_=n.viewState,B=_.projection,k=_.resolution,P=n.pixelRatio,F=r.getRevision(),q=r.getRenderBuffer(),ee=r.getRenderOrder();ee===void 0&&(ee=wle);var H=_.center.slice(),N=e0(g,q*k),Z=N.slice(),ue=[N.slice()],ye=B.getExtent();if(i.getWrapX()&&B.canWrapX()&&!Um(ye,n.extent)){var be=vs(ye),J=Math.max(vs(N)/2,be);N[0]=ye[0]-J,N[2]=ye[2]+J,q7(H,B);var se=jz(ue[0],B);se[0]<ye[0]&&se[2]<ye[2]?ue.push([se[0]+be,se[1],se[2]+be,se[3]]):se[0]>ye[0]&&se[2]>ye[2]&&ue.push([se[0]-be,se[1],se[2]-be,se[3]])}if(this.ready&&this.renderedResolution_==k&&this.renderedRevision_==F&&this.renderedRenderOrder_==ee&&Um(this.wrappedRenderedExtent_,N))return j1(this.renderedExtent_,Z)||(this.hitDetectionImageData_=null,this.renderedExtent_=Z),this.renderedCenter_=H,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var xe=new h4(cO(k,P),N,k,P),Se;this.getLayer().getDeclutter()&&(Se=new h4(cO(k,P),N,k,P));for(var De,Le,he,Le=0,he=ue.length;Le<he;++Le)i.loadFeatures(ue[Le],k,B);var qe=zj(k,P),ge=!0,_t=(function(Ve){var Xe,Jt=Ve.getStyleFunction()||r.getStyleFunction();if(Jt&&(Xe=Jt(Ve,k)),Xe){var Ht=this.renderFeature(Ve,qe,Xe,xe,De,Se);ge=ge&&!Ht}}).bind(this),Mt=Qz(N),dt=i.getFeaturesInExtent(Mt);ee&&dt.sort(ee);for(var Le=0,he=dt.length;Le<he;++Le)_t(dt[Le]);this.renderedFeatures_=dt,this.ready=ge;var mt=xe.finish(),je=new f4(N,k,P,i.getOverlaps(),mt,r.getRenderBuffer());return Se&&(this.declutterExecutorGroup=new f4(N,k,P,i.getOverlaps(),Se.finish(),r.getRenderBuffer())),this.renderedResolution_=k,this.renderedRevision_=F,this.renderedRenderOrder_=ee,this.renderedExtent_=Z,this.wrappedRenderedExtent_=N,this.renderedCenter_=H,this.renderedProjection_=B,this.replayGroup_=je,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(n,r,i,o,a,s){if(!i)return!1;var h=!1;if(Array.isArray(i))for(var g=0,_=i.length;g<_;++g)h=p4(o,n,i[g],r,this.boundHandleStyleImageChange_,a,s)||h;else h=p4(o,n,i,r,this.boundHandleStyleImageChange_,a,s);return h},t}(Fj);const Dle=Fle;var Lle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ule=function(e){Lle(t,e);function t(n){return e.call(this,n)||this}return t.prototype.createRenderer=function(){return new Dle(this)},t}(Tj);const Wj=Ule;var JT=function(){function e(t){this.rbush_=new Bj(t),this.items_={}}return e.prototype.insert=function(t,n){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(r),this.items_[qi(n)]=r},e.prototype.load=function(t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var a=t[i],s=n[i],h={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=h,this.items_[qi(s)]=h}this.rbush_.load(r)},e.prototype.remove=function(t){var n=qi(t),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null},e.prototype.update=function(t,n){var r=this.items_[qi(n)],i=[r.minX,r.minY,r.maxX,r.maxY];ev(i,t)||(this.remove(n),this.insert(t,n))},e.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(n){return n.value})},e.prototype.getInExtent=function(t){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},r=this.rbush_.search(n);return r.map(function(i){return i.value})},e.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},e.prototype.forEachInExtent=function(t,n){return this.forEach_(this.getInExtent(t),n)},e.prototype.forEach_=function(t,n){for(var r,i=0,o=t.length;i<o;i++)if(r=n(t[i]),r)return r;return r},e.prototype.isEmpty=function(){return T1(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(t){var n=this.rbush_.toJSON();return Uf(n.minX,n.minY,n.maxX,n.maxY,t)},e.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var n in t.items_)this.items_[n]=t.items_[n]},e}(),Rle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zle=function(e){Rle(t,e);function t(n){var r=e.call(this)||this;r.projection=qs(n.projection),r.attributions_=eK(n.attributions),r.attributionsCollapsible_=n.attributionsCollapsible!==void 0?n.attributionsCollapsible:!0,r.loading=!1,r.state_=n.state!==void 0?n.state:"ready",r.wrapX_=n.wrapX!==void 0?n.wrapX:!1,r.interpolate_=!!n.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),r}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return vi()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(n){this.attributions_=eK(n),this.changed()},t.prototype.setState=function(n){this.state_=n,this.changed()},t}(Ih);function eK(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const Nj=zle,yh={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function jle(e,t){return[[-1/0,-1/0,1/0,1/0]]}var Wle=!1;function Gj(e,t,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof e=="function"?e(n,r,i):e,!0),t.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=Wle,s.onload=function(h){if(!s.status||s.status>=200&&s.status<300){var g=t.getType(),_=void 0;g=="json"||g=="text"?_=s.responseText:g=="xml"?(_=s.responseXML,_||(_=new DOMParser().parseFromString(s.responseText,"application/xml"))):g=="arraybuffer"&&(_=s.response),_?o(t.readFeatures(_,{extent:n,featureProjection:i}),t.readProjection(_)):a()}else a()},s.onerror=a,s.send()}function tK(e,t){return function(n,r,i,o,a){var s=this;Gj(e,t,n,r,i,function(h,g){s.addFeatures(h),o!==void 0&&o(h)},a||I1)}}var Qj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ym=function(e){Qj(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.feature=r,o.features=i,o}return t}(Yp),Nle=function(e){Qj(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=I1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(co(r.format_,7),r.loader_=tK(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:jle;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new JT:null,r.loadedExtentsRtree_=new JT,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new Pd(s)),s!==void 0&&r.addFeaturesInternal(s),a!==void 0&&r.bindFeaturesCollection_(a),r}return t.prototype.addFeature=function(n){this.addFeatureInternal(n),this.changed()},t.prototype.addFeatureInternal=function(n){var r=qi(n);if(!this.addToIndex_(r,n)){this.featuresCollection_&&this.featuresCollection_.remove(n);return}this.setupChangeEvents_(r,n);var i=n.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,n)}else this.nullGeometryFeatures_[r]=n;this.dispatchEvent(new ym(yh.ADDFEATURE,n))},t.prototype.setupChangeEvents_=function(n,r){this.featureChangeKeys_[n]=[Eo(r,ji.CHANGE,this.handleFeatureChange_,this),Eo(r,Jy.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(n,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(co(!(n in this.uidIndex_),30),this.uidIndex_[n]=r),i},t.prototype.addFeatures=function(n){this.addFeaturesInternal(n),this.changed()},t.prototype.addFeaturesInternal=function(n){for(var r=[],i=[],o=[],a=0,s=n.length;a<s;a++){var h=n[a],g=qi(h);this.addToIndex_(g,h)&&i.push(h)}for(var a=0,_=i.length;a<_;a++){var h=i[a],g=qi(h);this.setupChangeEvents_(g,h);var B=h.getGeometry();if(B){var k=B.getExtent();r.push(k),o.push(h)}else this.nullGeometryFeatures_[g]=h}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(yh.ADDFEATURE))for(var a=0,P=i.length;a<P;a++)this.dispatchEvent(new ym(yh.ADDFEATURE,i[a]))},t.prototype.bindFeaturesCollection_=function(n){var r=!1;this.addEventListener(yh.ADDFEATURE,function(i){r||(r=!0,n.push(i.feature),r=!1)}),this.addEventListener(yh.REMOVEFEATURE,function(i){r||(r=!0,n.remove(i.feature),r=!1)}),n.addEventListener(yc.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),n.addEventListener(yc.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=n},t.prototype.clear=function(n){if(n){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(rs)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(h){this.removeFeatureInternal(h)}).bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new ym(yh.CLEAR);this.dispatchEvent(s),this.changed()},t.prototype.forEachFeature=function(n){if(this.featuresRtree_)return this.featuresRtree_.forEach(n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},t.prototype.forEachFeatureAtCoordinateDirect=function(n,r){var i=[n[0],n[1],n[0],n[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(n))return r(o)})},t.prototype.forEachFeatureInExtent=function(n,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(n,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},t.prototype.forEachFeatureIntersectingExtent=function(n,r){return this.forEachFeatureInExtent(n,function(i){var o=i.getGeometry();if(o.intersectsExtent(n)){var a=r(i);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var n;return this.featuresCollection_?n=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(n=this.featuresRtree_.getAll(),T1(this.nullGeometryFeatures_)||Pf(n,Oz(this.nullGeometryFeatures_))),n},t.prototype.getFeaturesAtCoordinate=function(n){var r=[];return this.forEachFeatureAtCoordinateDirect(n,function(i){r.push(i)}),r},t.prototype.getFeaturesInExtent=function(n,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(n);var a=hre(n,r);return[].concat.apply([],a.map(function(s){return i.featuresRtree_.getInExtent(s)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(n,r){var i=n[0],o=n[1],a=null,s=[NaN,NaN],h=1/0,g=[-1/0,-1/0,1/0,1/0],_=r||ky;return this.featuresRtree_.forEachInExtent(g,function(B){if(_(B)){var k=B.getGeometry(),P=h;if(h=k.closestPointXY(i,o,s,h),h<P){a=B;var F=Math.sqrt(h);g[0]=i-F,g[1]=o-F,g[2]=i+F,g[3]=o+F}}}),a},t.prototype.getExtent=function(n){return this.featuresRtree_.getExtent(n)},t.prototype.getFeatureById=function(n){var r=this.idIndex_[n.toString()];return r!==void 0?r:null},t.prototype.getFeatureByUid=function(n){var r=this.uidIndex_[n];return r!==void 0?r:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(n){var r=n.target,i=qi(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,r)):this.featuresRtree_&&this.featuresRtree_.update(a,r)}var s=r.getId();if(s!==void 0){var h=s.toString();this.idIndex_[h]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[h]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new ym(yh.CHANGEFEATURE,r))},t.prototype.hasFeature=function(n){var r=n.getId();return r!==void 0?r in this.idIndex_:qi(n)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&T1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},t.prototype.loadFeatures=function(n,r,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(n,r,i),s=function(B,k){var P=a[B],F=o.forEachInExtent(P,function(q){return Um(q.extent,P)});F||(++h.loadingExtentsCount_,h.dispatchEvent(new ym(yh.FEATURESLOADSTART)),h.loader_.call(h,P,r,i,(function(q){--this.loadingExtentsCount_,this.dispatchEvent(new ym(yh.FEATURESLOADEND,void 0,q))}).bind(h),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new ym(yh.FEATURESLOADERROR))}).bind(h)),o.insert(P,{extent:P.slice()}))},h=this,g=0,_=a.length;g<_;++g)s(g);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(n){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(n,function(o){if(ev(o.extent,n))return i=o,!0}),i&&r.remove(i)},t.prototype.removeFeature=function(n){if(n){var r=qi(n);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(n);var i=this.removeFeatureInternal(n);i&&this.changed()}},t.prototype.removeFeatureInternal=function(n){var r=qi(n),i=this.featureChangeKeys_[r];if(i){i.forEach(rs),delete this.featureChangeKeys_[r];var o=n.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new ym(yh.REMOVEFEATURE,n)),n}},t.prototype.removeFromIdIndex_=function(n){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===n){delete this.idIndex_[i],r=!0;break}return r},t.prototype.setLoader=function(n){this.loader_=n},t.prototype.setUrl=function(n){co(this.format_,7),this.url_=n,this.setLoader(tK(n,this.format_))},t}(Nj);const $j=Nle;function Gle(e){var t=e||{},n=new Pd,r=new cse(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;i&&n.push(new Zae);var o=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;o&&n.push(new Rae({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&n.push(new Hae({onFocusOnly:t.onFocusOnly,kinetic:r}));var s=t.pinchRotate!==void 0?t.pinchRotate:!0;s&&n.push(new mse);var h=t.pinchZoom!==void 0?t.pinchZoom:!0;h&&n.push(new vse({duration:t.zoomDuration}));var g=t.keyboard!==void 0?t.keyboard:!0;g&&(n.push(new sse),n.push(new Ase({delta:t.zoomDelta,duration:t.zoomDuration})));var _=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;_&&n.push(new fse({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var B=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return B&&n.push(new ose({duration:t.zoomDuration})),n}var Qle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),v8=function(e){Qle(t,e);function t(n){return n=_l({},n),n.controls||(n.controls=Kae()),n.interactions||(n.interactions=Gle({onFocusOnly:!0})),e.call(this,n)||this}return t.prototype.createRenderer=function(){return new Goe(this)},t}(vae),Yj=function(){function e(t,n,r,i){this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function Tg(e,t,n,r,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new Yj(e,t,n,r)}const qj=Yj;function nK(e,t,n,r){return r!==void 0?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function vv(e,t,n){return e+"/"+t+"/"+n}function Hj(e){return vv(e[0],e[1],e[2])}function $le(e){var t=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),n=t[0],r=t[1],i=t[2];return vv(n,r,i)}function Vj(e){return e.split("/").map(Number)}function Yle(e){return(e[1]<<e[0])+e[2]}function qle(e,t){var n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var o=t.getFullTileRange(n);return o?o.containsXY(r,i):!0}var Hle=[0,0,0],vm=5,Vle=function(){function e(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,co(zne(this.resolutions_,function(a,s){return s-a},!0),17);var n;if(!t.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,co(this.origins_.length==this.resolutions_.length,20));var o=t.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=h0(o)),co(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,co(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:c8,co(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,s){var h=new qj(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var g=this.getTileRangeForExtentAndZ(o,s);h.minX=Math.max(g.minX,h.minX),h.maxX=Math.min(g.maxX,h.maxX),h.minY=Math.max(g.minY,h.minY),h.maxY=Math.min(g.maxY,h.maxY)}return h},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(t,n,r){for(var i=this.getTileRangeForExtentAndZ(t,n),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,h=i.maxY;s<=h;++s)r([n,o,s])},e.prototype.forEachTileCoordParentTileRange=function(t,n,r,i){var o,a,s,h=null,g=t[0]-1;for(this.zoomFactor_===2?(a=t[1],s=t[2]):h=this.getTileCoordExtent(t,i);g>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Tg(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(h,g,r),n(g,o))return!0;--g}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,n,r){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var i=t[1]*2,o=t[2]*2;return Tg(i,i+1,o,o+1,n)}var a=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,n)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(t,n,r){if(n>this.maxZoom||n<this.minZoom)return null;var i=t[0],o=t[1],a=t[2];if(n===i)return Tg(o,a,o,a,r);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,n-i),h=Math.floor(o*s),g=Math.floor(a*s);if(n<i)return Tg(h,h,g,g,r);var _=Math.floor(s*(o+1))-1,B=Math.floor(s*(a+1))-1;return Tg(h,_,g,B,r)}var k=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(k,n,r)},e.prototype.getTileRangeExtent=function(t,n,r){var i=this.getOrigin(t),o=this.getResolution(t),a=LA(this.getTileSize(t),this.tmpSize_),s=i[0]+n.minX*a[0]*o,h=i[0]+(n.maxX+1)*a[0]*o,g=i[1]+n.minY*a[1]*o,_=i[1]+(n.maxY+1)*a[1]*o;return Uf(s,g,h,_,r)},e.prototype.getTileRangeForExtentAndZ=function(t,n,r){var i=Hle;this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,i),Tg(o,i[1],a,i[2],r)},e.prototype.getTileCoordCenter=function(t){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=LA(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*i[0]*r,n[1]-(t[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(t,n){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=LA(this.getTileSize(t[0]),this.tmpSize_),a=r[0]+t[1]*o[0]*i,s=r[1]-(t[2]+1)*o[1]*i,h=a+o[0]*i,g=s+o[1]*i;return Uf(a,s,h,g,n)},e.prototype.getTileCoordForCoordAndResolution=function(t,n,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(t,n,r,i,o){var a=this.getZForResolution(r),s=r/this.getResolution(a),h=this.getOrigin(a),g=LA(this.getTileSize(a),this.tmpSize_),_=s*(t-h[0])/r/g[0],B=s*(h[1]-n)/r/g[1];return i?(_=o2(_,vm)-1,B=o2(B,vm)-1):(_=i2(_,vm),B=i2(B,vm)),nK(a,_,B,o)},e.prototype.getTileCoordForXYAndZ_=function(t,n,r,i,o){var a=this.getOrigin(r),s=this.getResolution(r),h=LA(this.getTileSize(r),this.tmpSize_),g=(t-a[0])/s/h[0],_=(a[1]-n)/s/h[1];return i?(g=o2(g,vm)-1,_=o2(_,vm)-1):(g=i2(g,vm),_=i2(_,vm)),nK(r,g,_,o)},e.prototype.getTileCoordForCoordAndZ=function(t,n,r){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,n){var r=z7(this.resolutions_,t,n||0);return Kl(r,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(t,n){return Zz(n,0,n.length,2,this.getTileCoordExtent(t))},e.prototype.calculateTileRanges_=function(t){for(var n=this.resolutions_.length,r=new Array(n),i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r},e}();const Eb=Vle;var Zle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xle=function(e){Zle(t,e);function t(n,r,i){var o=e.call(this)||this,a=i||{};return o.tileCoord=n,o.state=r,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return t.prototype.changed=function(){this.dispatchEvent(ji.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var n=this.interimTile;do{if(n.getState()==mr.LOADED)return this.transition_=0,n;n=n.interimTile}while(n);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var n=this.interimTile,r=this;do{if(n.getState()==mr.LOADED){n.interimTile=null;break}else n.getState()==mr.LOADING?r=n:n.getState()==mr.IDLE?r.interimTile=n.interimTile:r=n;n=r.interimTile}while(n)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(n){if(this.state!==mr.ERROR&&this.state>n)throw new Error("Tile load sequence violation");this.state=n,this.changed()},t.prototype.load=function(){vi()},t.prototype.getAlpha=function(n,r){if(!this.transition_)return 1;var i=this.transitionStarts_[n];if(!i)i=r,this.transitionStarts_[n]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:_j(o/this.transition_)},t.prototype.inTransition=function(n){return this.transition_?this.transitionStarts_[n]!==-1:!1},t.prototype.endTransition=function(n){this.transition_&&(this.transitionStarts_[n]=-1)},t}(gv);const nw=Xle;var Jle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eue=function(e){Jle(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,s)||this;return h.crossOrigin_=o,h.src_=i,h.key=i,h.image_=new Image,o!==null&&(h.image_.crossOrigin=o),h.unlisten_=null,h.tileLoadFunction_=a,h}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(n){this.image_=n,this.state=mr.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=mr.ERROR,this.unlistenImage_(),this.image_=tue(),this.changed()},t.prototype.handleImageLoad_=function(){var n=this.image_;n.naturalWidth&&n.naturalHeight?this.state=mr.LOADED:this.state=mr.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==mr.ERROR&&(this.state=mr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==mr.IDLE&&(this.state=mr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=y8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(nw);function tue(){var e=wc(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const Zj=eue;var nue=.5,rue=10,rK=.25,iue=function(){function e(t,n,r,i,o,a){this.sourceProj_=t,this.targetProj_=n;var s={},h=n4(this.targetProj_,this.sourceProj_);this.transformInv_=function(Z){var ue=Z[0]+"/"+Z[1];return s[ue]||(s[ue]=h(Z)),s[ue]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&vs(i)==vs(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?vs(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?vs(this.targetProj_.getExtent()):null;var g=h0(r),_=H5(r),B=q5(r),k=Y5(r),P=this.transformInv_(g),F=this.transformInv_(_),q=this.transformInv_(B),ee=this.transformInv_(k),H=rue+(a?Math.max(0,Math.ceil(mre($E(r)/(a*a*256*256)))):0);if(this.addQuad_(g,_,B,k,P,F,q,ee,H),this.wrapsXInSource_){var N=1/0;this.triangles_.forEach(function(Z,ue,ye){N=Math.min(N,Z.source[0][0],Z.source[1][0],Z.source[2][0])}),this.triangles_.forEach((function(Z){if(Math.max(Z.source[0][0],Z.source[1][0],Z.source[2][0])-N>this.sourceWorldWidth_/2){var ue=[[Z.source[0][0],Z.source[0][1]],[Z.source[1][0],Z.source[1][1]],[Z.source[2][0],Z.source[2][1]]];ue[0][0]-N>this.sourceWorldWidth_/2&&(ue[0][0]-=this.sourceWorldWidth_),ue[1][0]-N>this.sourceWorldWidth_/2&&(ue[1][0]-=this.sourceWorldWidth_),ue[2][0]-N>this.sourceWorldWidth_/2&&(ue[2][0]-=this.sourceWorldWidth_);var ye=Math.min(ue[0][0],ue[1][0],ue[2][0]),be=Math.max(ue[0][0],ue[1][0],ue[2][0]);be-ye<this.sourceWorldWidth_/2&&(Z.source=ue)}}).bind(this))}s={}}return e.prototype.addTriangle_=function(t,n,r,i,o,a){this.triangles_.push({source:[i,o,a],target:[t,n,r]})},e.prototype.addQuad_=function(t,n,r,i,o,a,s,h,g){var _=GE([o,a,s,h]),B=this.sourceWorldWidth_?vs(_)/this.sourceWorldWidth_:null,k=this.sourceWorldWidth_,P=this.sourceProj_.canWrapX()&&B>.5&&B<1,F=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var q=GE([t,n,r,i]),ee=vs(q)/this.targetWorldWidth_;F=ee>rK||F}!P&&this.sourceProj_.isGlobal()&&B&&(F=B>rK||F)}if(!(!F&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!vl(_,this.maxSourceExtent_))){var H=0;if(!F&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(h[0])||!isFinite(h[1]))){if(g>0)F=!0;else if(H=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(h[0])||!isFinite(h[1])?1:0),H!=1&&H!=2&&H!=4&&H!=8)return}if(g>0){if(!F){var N=[(t[0]+r[0])/2,(t[1]+r[1])/2],Z=this.transformInv_(N),ue=void 0;if(P){var ye=(y1(o[0],k)+y1(s[0],k))/2;ue=ye-y1(Z[0],k)}else ue=(o[0]+s[0])/2-Z[0];var be=(o[1]+s[1])/2-Z[1],J=ue*ue+be*be;F=J>this.errorThresholdSquared_}if(F){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var se=[(n[0]+r[0])/2,(n[1]+r[1])/2],xe=this.transformInv_(se),Se=[(i[0]+t[0])/2,(i[1]+t[1])/2],De=this.transformInv_(Se);this.addQuad_(t,n,se,Se,o,a,xe,De,g-1),this.addQuad_(Se,se,r,i,De,xe,s,h,g-1)}else{var Le=[(t[0]+n[0])/2,(t[1]+n[1])/2],he=this.transformInv_(Le),qe=[(r[0]+i[0])/2,(r[1]+i[1])/2],ge=this.transformInv_(qe);this.addQuad_(t,Le,qe,i,o,he,ge,h,g-1),this.addQuad_(Le,n,r,qe,he,a,s,ge,g-1)}return}}if(P){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}H&11||this.addTriangle_(t,r,i,o,s,h),H&14||this.addTriangle_(t,r,n,o,s,a),H&&(H&13||this.addTriangle_(n,i,t,a,h,o),H&7||this.addTriangle_(n,i,r,a,h,s))}},e.prototype.calculateSourceExtent=function(){var t=zd();return this.triangles_.forEach(function(n,r,i){var o=n.source;rC(t,o[0]),rC(t,o[1]),rC(t,o[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}(),dO={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},oue={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},bS,Xj=[];function iK(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function xS(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function aue(){if(bS===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",iK(e,4,5,4,0),iK(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;bS=xS(t,0)||xS(t,4)||xS(t,8)}return bS}function oK(e,t,n,r){var i=Z7(n,t,e),o=_T(t,r,n),a=t.getMetersPerUnit();a!==void 0&&(o*=a);var s=e.getMetersPerUnit();s!==void 0&&(o/=s);var h=e.getExtent();if(!h||Cb(h,i)){var g=_T(e,o,i)/o;isFinite(g)&&g>0&&(o/=g)}return o}function sue(e,t,n,r){var i=l0(n),o=oK(e,t,i,r);return(!isFinite(o)||o<=0)&&zz(n,function(a){return o=oK(e,t,a,r),isFinite(o)&&o>0}),o}function lue(e,t,n,r,i,o,a,s,h,g,_,B){var k=wc(Math.round(n*e),Math.round(n*t),Xj);if(B||_l(k,dO),h.length===0)return k.canvas;k.scale(n,n);function P(ue){return Math.round(ue*n)/n}k.globalCompositeOperation="lighter";var F=zd();h.forEach(function(ue,ye,be){Uz(F,ue.extent)});var q=vs(F),ee=xc(F),H=wc(Math.round(n*q/r),Math.round(n*ee/r));B||_l(H,dO);var N=n/r;h.forEach(function(ue,ye,be){var J=ue.extent[0]-F[0],se=-(ue.extent[3]-F[3]),xe=vs(ue.extent),Se=xc(ue.extent);ue.image.width>0&&ue.image.height>0&&H.drawImage(ue.image,g,g,ue.image.width-2*g,ue.image.height-2*g,J*N,se*N,xe*N,Se*N)});var Z=h0(a);return s.getTriangles().forEach(function(ue,ye,be){var J=ue.source,se=ue.target,xe=J[0][0],Se=J[0][1],De=J[1][0],Le=J[1][1],he=J[2][0],qe=J[2][1],ge=P((se[0][0]-Z[0])/o),_t=P(-(se[0][1]-Z[1])/o),Mt=P((se[1][0]-Z[0])/o),dt=P(-(se[1][1]-Z[1])/o),mt=P((se[2][0]-Z[0])/o),je=P(-(se[2][1]-Z[1])/o),Ve=xe,Xe=Se;xe=0,Se=0,De-=Ve,Le-=Xe,he-=Ve,qe-=Xe;var Jt=[[De,Le,0,0,Mt-ge],[he,qe,0,0,mt-ge],[0,0,De,Le,dt-_t],[0,0,he,qe,je-_t]],Ht=yre(Jt);if(Ht){if(k.save(),k.beginPath(),aue()||!B){k.moveTo(Mt,dt);for(var Ct=4,Qt=ge-Mt,$t=_t-dt,Ie=0;Ie<Ct;Ie++)k.lineTo(Mt+P((Ie+1)*Qt/Ct),dt+P(Ie*$t/(Ct-1))),Ie!=Ct-1&&k.lineTo(Mt+P((Ie+1)*Qt/Ct),dt+P((Ie+1)*$t/(Ct-1)));k.lineTo(mt,je)}else k.moveTo(Mt,dt),k.lineTo(ge,_t),k.lineTo(mt,je);k.clip(),k.transform(Ht[0],Ht[2],Ht[1],Ht[3],ge,_t),k.translate(F[0]-Ve,F[3]-Xe),k.scale(r/n,-r/n),k.drawImage(H.canvas,0,0),k.restore()}}),_&&(k.save(),k.globalCompositeOperation="source-over",k.strokeStyle="black",k.lineWidth=1,s.getTriangles().forEach(function(ue,ye,be){var J=ue.target,se=(J[0][0]-Z[0])/o,xe=-(J[0][1]-Z[1])/o,Se=(J[1][0]-Z[0])/o,De=-(J[1][1]-Z[1])/o,Le=(J[2][0]-Z[0])/o,he=-(J[2][1]-Z[1])/o;k.beginPath(),k.moveTo(Se,De),k.lineTo(se,xe),k.lineTo(Le,he),k.closePath(),k.stroke()}),k.restore()),k.canvas}var uue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Aue=function(e){uue(t,e);function t(n,r,i,o,a,s,h,g,_,B,k,P){var F=e.call(this,a,mr.IDLE,{interpolate:!!P})||this;F.renderEdges_=k!==void 0?k:!1,F.pixelRatio_=h,F.gutter_=g,F.canvas_=null,F.sourceTileGrid_=r,F.targetTileGrid_=o,F.wrappedTileCoord_=s||a,F.sourceTiles_=[],F.sourcesListenerKeys_=null,F.sourceZ_=0;var q=o.getTileCoordExtent(F.wrappedTileCoord_),ee=F.targetTileGrid_.getExtent(),H=F.sourceTileGrid_.getExtent(),N=ee?m1(q,ee):q;if($E(N)===0)return F.state=mr.EMPTY,F;var Z=n.getExtent();Z&&(H?H=m1(H,Z):H=Z);var ue=o.getResolution(F.wrappedTileCoord_[0]),ye=sue(n,i,N,ue);if(!isFinite(ye)||ye<=0)return F.state=mr.EMPTY,F;var be=B!==void 0?B:nue;if(F.triangulation_=new iue(n,i,N,H,ye*be,ue),F.triangulation_.getTriangles().length===0)return F.state=mr.EMPTY,F;F.sourceZ_=r.getZForResolution(ye);var J=F.triangulation_.calculateSourceExtent();if(H&&(n.canWrapX()?(J[1]=Kl(J[1],H[1],H[3]),J[3]=Kl(J[3],H[1],H[3])):J=m1(J,H)),!$E(J))F.state=mr.EMPTY;else{for(var se=r.getTileRangeForExtentAndZ(J,F.sourceZ_),xe=se.minX;xe<=se.maxX;xe++)for(var Se=se.minY;Se<=se.maxY;Se++){var De=_(F.sourceZ_,xe,Se,h);De&&F.sourceTiles_.push(De)}F.sourceTiles_.length===0&&(F.state=mr.EMPTY)}return F}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var n=[];if(this.sourceTiles_.forEach((function(_,B,k){_&&_.getState()==mr.LOADED&&n.push({extent:this.sourceTileGrid_.getTileCoordExtent(_.tileCoord),image:_.getImage()})}).bind(this)),this.sourceTiles_.length=0,n.length===0)this.state=mr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(r),h=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=lue(o,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),s,g,this.triangulation_,n,this.gutter_,this.renderEdges_,this.interpolate),this.state=mr.LOADED}this.changed()},t.prototype.load=function(){if(this.state==mr.IDLE){this.state=mr.LOADING,this.changed();var n=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var a=r.getState();if(a==mr.IDLE||a==mr.LOADING){n++;var s=Eo(r,ji.CHANGE,function(h){var g=r.getState();(g==mr.LOADED||g==mr.ERROR||g==mr.EMPTY)&&(rs(s),n--,n===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}).bind(this)),n===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var a=r.getState();a==mr.IDLE&&r.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(rs),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(A8(this.canvas_.getContext("2d")),Xj.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(nw);const Jj=Aue;var cue=function(){function e(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var n=this.oldest_;n;)t(n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t,n){var r=this.entries_[t];return co(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(t){var n=this.entries_[t];return co(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.key_;return t},e.prototype.getValues=function(){var t=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,n){this.get(t),this.entries_[t].value_=n},e.prototype.set=function(t,n){co(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}();const due=cue;var hue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fue=function(e){hue(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.expireCache=function(n){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in n)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var n=this.peekFirstKey(),r=Vj(n),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(Hj(o.tileCoord)),o.release())}).bind(this))}},t}(due);const _8=fue,wS={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function eW(e){var t=e.getDefaultTileGrid();return t||(t=gue(e),e.setDefaultTileGrid(t)),t}function pue(e,t,n){var r=t[0],i=e.getTileCoordCenter(t),o=rw(n);if(Cb(o,i))return t;var a=vs(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,e.getTileCoordForCoordAndZ(i,r)}function mue(e,t,n,r){var i=r!==void 0?r:"top-left",o=tW(e,t,n);return new Eb({extent:e,origin:ure(e,i),resolutions:o,tileSize:n})}function C8(e){var t=e||{},n=t.extent||qs("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:tW(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Eb(r)}function tW(e,t,n,r){for(var i=t!==void 0?t:vj,o=xc(e),a=vs(e),s=LA(n!==void 0?n:c8),h=r>0?r:Math.max(a/s[0],o/s[1]),g=i+1,_=new Array(g),B=0;B<g;++B)_[B]=h/Math.pow(2,B);return _}function gue(e,t,n,r){var i=rw(e);return mue(i,t,n,r)}function rw(e){e=qs(e);var t=e.getExtent();if(!t){var n=180*Df[zA.DEGREES]/e.getMetersPerUnit();t=Uf(-n,-n,n,n)}return t}var nW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yue=function(e){nW(t,e);function t(n){var r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,projection:n.projection,state:n.state,wrapX:n.wrapX,interpolate:n.interpolate})||this;r.on,r.once,r.un,r.opaque_=n.opaque!==void 0?n.opaque:!1,r.tilePixelRatio_=n.tilePixelRatio!==void 0?n.tilePixelRatio:1,r.tileGrid=n.tileGrid!==void 0?n.tileGrid:null;var i=[256,256];return r.tileGrid&&LA(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new _8(n.cacheSize||0),r.tmpSize=[0,0],r.key_=n.key||"",r.tileOptions={transition:n.transition,interpolate:n.interpolate},r.zDirection=n.zDirection?n.zDirection:0,r}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);i&&i.expireCache(r)},t.prototype.forEachLoadedTile=function(n,r,i,o){var a=this.getTileCacheForProjection(n);if(!a)return!1;for(var s=!0,h,g,_,B=i.minX;B<=i.maxX;++B)for(var k=i.minY;k<=i.maxY;++k)g=vv(r,B,k),_=!1,a.containsKey(g)&&(h=a.get(g),_=h.getState()===mr.LOADED,_&&(_=o(h)!==!1)),_||(s=!1);return s},t.prototype.getGutterForProjection=function(n){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(n){this.key_!==n&&(this.key_=n,this.changed())},t.prototype.getOpaque=function(n){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(n,r,i,o,a){return vi()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(n){return this.tileGrid?this.tileGrid:eW(n)},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();return co(r===null||X0(r,n),68),this.tileCache},t.prototype.getTilePixelRatio=function(n){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(r),s=LA(o.getTileSize(n),this.tmpSize);return a==1?s:pae(s,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(n,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(n=pue(o,n,i)),qle(n,o)?n:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(n,r){var i=this.getTileCacheForProjection(r);n>i.highWaterMark&&(i.highWaterMark=n)},t.prototype.useTile=function(n,r,i,o){},t}(Nj),vue=function(e){nW(t,e);function t(n,r){var i=e.call(this,n)||this;return i.tile=r,i}return t}(Yp);const _ue=yue;function Cue(e,t){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,h){if(a)return e.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var g=a[0],_=t.getFullTileRange(g);co(_,55);var B=_.getHeight()-a[2]-1;return B.toString()})}}function rW(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=Cue(e[i],t);return bue(r)}function bue(e){return e.length===1?e[0]:function(t,n,r){if(t){var i=Yle(t),o=y1(i,e.length);return e[o](t,n,r)}else return}}function xue(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}var wue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mue=function(e){wue(t,e);function t(n){var r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===t.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(n){var r=n.target,i=qi(r),o=r.getState(),a;o==mr.LOADING?(this.tileLoadingKeys_[i]=!0,a=wS.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==mr.ERROR?wS.TILELOADERROR:o==mr.LOADED?wS.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new vue(a,r))},t.prototype.setTileLoadFunction=function(n){this.tileCache.clear(),this.tileLoadFunction=n,this.changed()},t.prototype.setTileUrlFunction=function(n,r){this.tileUrlFunction=n,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},t.prototype.setUrl=function(n){var r=xue(n);this.urls=r,this.setUrls(r)},t.prototype.setUrls=function(n){this.urls=n;var r=n.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(rW(n,this.tileGrid),r):this.setKey(r)},t.prototype.tileUrlFunction=function(n,r,i){},t.prototype.useTile=function(n,r,i){var o=vv(n,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(_ue);const iW=Mue;var Sue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eue=function(e){Sue(t,e);function t(n){var r=this,i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;return n.interpolate!==void 0&&(i=n.interpolate),r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:Oue,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX,transition:n.transition,interpolate:i,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this,r.crossOrigin=n.crossOrigin!==void 0?n.crossOrigin:null,r.tileClass=n.tileClass!==void 0?n.tileClass:Zj,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=n.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var n in this.tileCacheForProjection)if(this.tileCacheForProjection[n].canExpireCache())return!0;return!1},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?r:{})}},t.prototype.getGutterForProjection=function(n){return this.getProjection()&&n&&!X0(this.getProjection(),n)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var n=e.prototype.getKey.call(this);return this.getInterpolate()||(n+=":disable-interpolation"),n},t.prototype.getOpaque=function(n){return this.getProjection()&&n&&!X0(this.getProjection(),n)?!1:e.prototype.getOpaque.call(this,n)},t.prototype.getTileGridForProjection=function(n){var r=this.getProjection();if(this.tileGrid&&(!r||X0(r,n)))return this.tileGrid;var i=qi(n);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=eW(n)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();if(!r||X0(r,n))return this.tileCache;var i=qi(n);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new _8(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(n,r,i,o,a,s){var h=[n,r,i],g=this.getTileCoordForTileUrlFunction(h,a),_=g?this.tileUrlFunction(g,o,a):void 0,B=new this.tileClass(h,_!==void 0?mr.IDLE:mr.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return B.key=s,B.addEventListener(ji.CHANGE,this.handleTileChange.bind(this)),B},t.prototype.getTile=function(n,r,i,o,a){var s=this.getProjection();if(!s||!a||X0(s,a))return this.getTileInternal(n,r,i,o,s||a);var h=this.getTileCacheForProjection(a),g=[n,r,i],_=void 0,B=Hj(g);h.containsKey(B)&&(_=h.get(B));var k=this.getKey();if(_&&_.key==k)return _;var P=this.getTileGridForProjection(s),F=this.getTileGridForProjection(a),q=this.getTileCoordForTileUrlFunction(g,a),ee=new Jj(s,P,a,F,g,q,this.getTilePixelRatio(o),this.getGutter(),(function(H,N,Z,ue){return this.getTileInternal(H,N,Z,ue,s)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return ee.key=k,_?(ee.interimTile=_,ee.refreshInterimChain(),h.replace(B,ee)):h.set(B,ee),ee},t.prototype.getTileInternal=function(n,r,i,o,a){var s=null,h=vv(n,r,i),g=this.getKey();if(!this.tileCache.containsKey(h))s=this.createTile_(n,r,i,o,a,g),this.tileCache.set(h,s);else if(s=this.tileCache.get(h),s.key!=g){var _=s;s=this.createTile_(n,r,i,o,a,g),_.getState()==mr.IDLE?s.interimTile=_.interimTile:s.interimTile=_,s.refreshInterimChain(),this.tileCache.replace(h,s)}return s},t.prototype.setRenderReprojectionEdges=function(n){if(this.renderReprojectionEdges_!=n){this.renderReprojectionEdges_=n;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},t.prototype.setTileGridForProjection=function(n,r){{var i=qs(n);if(i){var o=qi(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},t}(iW);function Oue(e,t){e.getImage().src=t}const Bue=Eue;var oW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function kue(e,t,n,r){var i=document.createElement("script"),o="olc_"+qi(t);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+o;var s=setTimeout(function(){a(),n&&n()},1e4);window[o]=function(h){clearTimeout(s),a(),t(h)},document.head.appendChild(i)}(function(e){oW(t,e);function t(n){var r=this,i="Unexpected response status: "+n.status;return r=e.call(this,i)||this,r.name="ResponseError",r.response=n,r}return t})(Error);(function(e){oW(t,e);function t(n){var r=e.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=n,r}return t})(Error);var Iue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tue=function(e){Iue(t,e);function t(n){var r=this,i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;if(n.interpolate!==void 0&&(i=n.interpolate),r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:i,projection:qs("EPSG:3857"),reprojectionErrorThreshold:n.reprojectionErrorThreshold,state:"loading",tileLoadFunction:n.tileLoadFunction,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection})||this,r.tileJSON_=null,r.tileSize_=n.tileSize,n.url)if(n.jsonp)kue(n.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",n.url),o.send()}else n.tileJSON?r.handleTileJSONResponse(n.tileJSON):co(!1,51);return r}return t.prototype.onXHRLoad_=function(n){var r=n.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(n){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(n){var r=qs("EPSG:4326"),i=this.getProjection(),o;if(n.bounds!==void 0){var a=V5(r,i);o=dre(n.bounds,a)}var s=rw(i),h=n.minzoom||0,g=n.maxzoom||22,_=C8({extent:s,maxZoom:g,minZoom:h,tileSize:this.tileSize_});if(this.tileGrid=_,this.tileUrlFunction=rW(n.tiles,_),n.attribution!==void 0&&!this.getAttributions()){var B=o!==void 0?o:s;this.setAttributions(function(k){return vl(B,k.extent)?[n.attribution]:null})}this.tileJSON_=n,this.setState("ready")},t.prototype.handleTileJSONError=function(){this.setState("error")},t}(Bue);const aW=Tue,jm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var Kue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pue=function(e){Kue(t,e);function t(n){var r=this,i=n||{},o=_l({},i);return delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return t.prototype.getPreload=function(){return this.get(jm.PRELOAD)},t.prototype.setPreload=function(n){this.set(jm.PRELOAD,n)},t.prototype.getUseInterimTilesOnError=function(){return this.get(jm.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(n){this.set(jm.USE_INTERIM_TILES_ON_ERROR,n)},t.prototype.getData=function(n){return e.prototype.getData.call(this,n)},t}(J5);const Fue=Pue;var Due=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lue=function(e){Due(t,e);function t(n){var r=e.call(this,n)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=zd(),r.tmpTileRange_=new qj(0,0,0,0),r}return t.prototype.isDrawableTile=function(n){var r=this.getLayer(),i=n.getState(),o=r.getUseInterimTilesOnError();return i==mr.LOADED||i==mr.EMPTY||i==mr.ERROR&&!o},t.prototype.getTile=function(n,r,i,o){var a=o.pixelRatio,s=o.viewState.projection,h=this.getLayer(),g=h.getSource(),_=g.getTile(n,r,i,a,s);return _.getState()==mr.ERROR&&(h.getUseInterimTilesOnError()?h.getPreload()>0&&(this.newTiles_=!0):_.setState(mr.LOADED)),this.isDrawableTile(_)||(_=_.getInterimTile()),_},t.prototype.getData=function(n){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=gl(r.pixelToCoordinateTransform,n.slice()),a=i.getExtent();if(a&&!Cb(a,o))return null;for(var s=r.pixelRatio,h=r.viewState.projection,g=r.viewState,_=i.getRenderSource(),B=_.getTileGridForProjection(g.projection),k=_.getTilePixelRatio(r.pixelRatio),P=B.getZForResolution(g.resolution);P>=B.getMinZoom();--P){var F=B.getTileCoordForCoordAndZ(o,P),q=_.getTile(P,F[1],F[2],s,h);if(!(q instanceof Zj||q instanceof Jj))return null;if(q.getState()===mr.LOADED){var ee=B.getOrigin(P),H=LA(B.getTileSize(P)),N=B.getResolution(P),Z=Math.floor(k*((o[0]-ee[0])/N-F[1]*H[0])),ue=Math.floor(k*((ee[1]-o[1])/N-F[2]*H[1])),ye=Math.round(k*_.getGutterForProjection(g.projection));return this.getImageData(q.getImage(),Z+ye,ue+ye)}}return null},t.prototype.loadedTileCallback=function(n,r,i){return this.isDrawableTile(i)?e.prototype.loadedTileCallback.call(this,n,r,i):!1},t.prototype.prepareFrame=function(n){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(n,r){var i=n.layerStatesArray[n.layerIndex],o=n.viewState,a=o.projection,s=o.resolution,h=o.center,g=o.rotation,_=n.pixelRatio,B=this.getLayer(),k=B.getSource(),P=k.getRevision(),F=k.getTileGridForProjection(a),q=F.getZForResolution(s,k.zDirection),ee=F.getResolution(q),H=n.extent,N=n.viewState.resolution,Z=k.getTilePixelRatio(_),ue=Math.round(vs(H)/N*_),ye=Math.round(xc(H)/N*_),be=i.extent&&s1(i.extent);be&&(H=m1(H,s1(i.extent)));var J=ee*ue/2/Z,se=ee*ye/2/Z,xe=[h[0]-J,h[1]-se,h[0]+J,h[1]+se],Se=F.getTileRangeForExtentAndZ(H,q),De={};De[q]={};var Le=this.createLoadedTileFinder(k,a,De),he=this.tmpExtent,qe=this.tmpTileRange_;this.newTiles_=!1;for(var ge=g?qE(o.center,N,g,n.size):void 0,_t=Se.minX;_t<=Se.maxX;++_t)for(var Mt=Se.minY;Mt<=Se.maxY;++Mt)if(!(g&&!F.tileCoordIntersectsViewport([q,_t,Mt],ge))){var dt=this.getTile(q,_t,Mt,n);if(this.isDrawableTile(dt)){var mt=qi(this);if(dt.getState()==mr.LOADED){De[q][dt.tileCoord.toString()]=dt;var je=dt.inTransition(mt);je&&i.opacity!==1&&(dt.endTransition(mt),je=!1),!this.newTiles_&&(je||this.renderedTiles.indexOf(dt)===-1)&&(this.newTiles_=!0)}if(dt.getAlpha(mt,n.time)===1)continue}var Ve=F.getTileCoordChildTileRange(dt.tileCoord,qe,he),Xe=!1;Ve&&(Xe=Le(q+1,Ve)),Xe||F.forEachTileCoordParentTileRange(dt.tileCoord,Le,qe,he)}var Jt=ee/s*_/Z;Lf(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/_,1/_,g,-ue/2,-ye/2);var Ht=Fz(this.pixelTransform);this.useContainer(r,Ht,this.getBackground(n));var Ct=this.context,Qt=Ct.canvas;W7(this.inversePixelTransform,this.pixelTransform),Lf(this.tempTransform,ue/2,ye/2,Jt,Jt,0,-ue/2,-ye/2),Qt.width!=ue||Qt.height!=ye?(Qt.width=ue,Qt.height=ye):this.containerReused||Ct.clearRect(0,0,ue,ye),be&&this.clipUnrotated(Ct,n,be),k.getInterpolate()||_l(Ct,dO),this.preRender(Ct,n),this.renderedTiles.length=0;var $t=Object.keys(De).map(Number);$t.sort(k1);var Ie,pe,Me;i.opacity===1&&(!this.containerReused||k.getOpaque(n.viewState.projection))?$t=$t.reverse():(Ie=[],pe=[]);for(var Re=$t.length-1;Re>=0;--Re){var it=$t[Re],ot=k.getTilePixelSize(it,_,a),St=F.getResolution(it),Rt=St/ee,zt=ot[0]*Rt*Jt,pt=ot[1]*Rt*Jt,ir=F.getTileCoordForCoordAndZ(h0(xe),it),gn=F.getTileCoordExtent(ir),yn=gl(this.tempTransform,[Z*(gn[0]-xe[0])/ee,Z*(xe[3]-gn[3])/ee]),er=Z*k.getGutterForProjection(a),Ar=De[it];for(var Mr in Ar){var dt=Ar[Mr],Wr=dt.tileCoord,gr=ir[1]-Wr[1],_i=Math.round(yn[0]-(gr-1)*zt),Ee=ir[2]-Wr[2],X=Math.round(yn[1]-(Ee-1)*pt),_t=Math.round(yn[0]-gr*zt),Mt=Math.round(yn[1]-Ee*pt),Y=_i-_t,Te=X-Mt,ut=q===it,je=ut&&dt.getAlpha(qi(this),n.time)!==1,Bt=!1;if(!je)if(Ie){Me=[_t,Mt,_t+Y,Mt,_t+Y,Mt+Te,_t,Mt+Te];for(var It=0,Dt=Ie.length;It<Dt;++It)if(q!==it&&it<pe[It]){var fn=Ie[It];vl([_t,Mt,_t+Y,Mt+Te],[fn[0],fn[3],fn[4],fn[7]])&&(Bt||(Ct.save(),Bt=!0),Ct.beginPath(),Ct.moveTo(Me[0],Me[1]),Ct.lineTo(Me[2],Me[3]),Ct.lineTo(Me[4],Me[5]),Ct.lineTo(Me[6],Me[7]),Ct.moveTo(fn[6],fn[7]),Ct.lineTo(fn[4],fn[5]),Ct.lineTo(fn[2],fn[3]),Ct.lineTo(fn[0],fn[1]),Ct.clip())}Ie.push(Me),pe.push(it)}else Ct.clearRect(_t,Mt,Y,Te);this.drawTileImage(dt,n,_t,Mt,Y,Te,er,ut),Ie&&!je?(Bt&&Ct.restore(),this.renderedTiles.unshift(dt)):this.renderedTiles.push(dt),this.updateUsedTiles(n.usedTiles,k,dt)}}return this.renderedRevision=P,this.renderedResolution=ee,this.extentChanged=!this.renderedExtent_||!ev(this.renderedExtent_,xe),this.renderedExtent_=xe,this.renderedPixelRatio=_,this.renderedProjection=a,this.manageTilePyramid(n,k,F,_,a,H,q,B.getPreload()),this.scheduleExpireCache(n,k),this.postRender(Ct,n),i.extent&&Ct.restore(),_l(Ct,oue),Ht!==Qt.style.transform&&(Qt.style.transform=Ht),this.container},t.prototype.drawTileImage=function(n,r,i,o,a,s,h,g){var _=this.getTileImage(n);if(_){var B=qi(this),k=r.layerStatesArray[r.layerIndex],P=k.opacity*(g?n.getAlpha(B,r.time):1),F=P!==this.context.globalAlpha;F&&(this.context.save(),this.context.globalAlpha=P),this.context.drawImage(_,h,h,_.width-2*h,_.height-2*h,i,o,a,s),F&&this.context.restore(),P!==k.opacity?r.animate=!0:g&&n.endTransition(B)}},t.prototype.getImage=function(){var n=this.context;return n?n.canvas:null},t.prototype.getTileImage=function(n){return n.getImage()},t.prototype.scheduleExpireCache=function(n,r){if(r.canExpireCache()){var i=(function(o,a,s){var h=qi(o);h in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[h])}).bind(null,r);n.postRenderFunctions.push(i)}},t.prototype.updateUsedTiles=function(n,r,i){var o=qi(r);o in n||(n[o]={}),n[o][i.getKey()]=!0},t.prototype.manageTilePyramid=function(n,r,i,o,a,s,h,g,_){var B=qi(r);B in n.wantedTiles||(n.wantedTiles[B]={});var k=n.wantedTiles[B],P=n.tileQueue,F=i.getMinZoom(),q=n.viewState.rotation,ee=q?qE(n.viewState.center,n.viewState.resolution,q,n.size):void 0,H=0,N,Z,ue,ye,be,J;for(J=F;J<=h;++J)for(Z=i.getTileRangeForExtentAndZ(s,J,Z),ue=i.getResolution(J),ye=Z.minX;ye<=Z.maxX;++ye)for(be=Z.minY;be<=Z.maxY;++be)q&&!i.tileCoordIntersectsViewport([J,ye,be],ee)||(h-J<=g?(++H,N=r.getTile(J,ye,be,o,a),N.getState()==mr.IDLE&&(k[N.getKey()]=!0,P.isKeyQueued(N.getKey())||P.enqueue([N,B,i.getTileCoordCenter(N.tileCoord),ue])),_!==void 0&&_(N)):r.useTile(J,ye,be,a));r.updateCacheSize(H,a)},t}(Fj);const sW=Lue;var Uue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rue=function(e){Uue(t,e);function t(n){return e.call(this,n)||this}return t.prototype.createRenderer=function(){return new sW(this)},t}(Fue);const Wm={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var zue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jue={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Wue={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},Nue=function(e){zue(t,e);function t(n){var r=e.call(this,n)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=Dd(),r}return t.prototype.prepareTile=function(n,r,i){var o,a=n.getState();return(a===mr.LOADED||a===mr.ERROR)&&(this.updateExecutorGroup_(n,r,i),this.tileImageNeedsRender_(n)&&(o=!0)),o},t.prototype.getTile=function(n,r,i,o){var a=o.pixelRatio,s=o.viewState,h=s.resolution,g=s.projection,_=this.getLayer(),B=_.getSource().getTile(n,r,i,a,g),k=o.viewHints,P=!(k[il.ANIMATING]||k[il.INTERACTING]);(P||!B.wantedResolution)&&(B.wantedResolution=h);var F=this.prepareTile(B,a,g);return F&&(P||Date.now()-o.time<8)&&_.getRenderMode()!==Wm.VECTOR&&this.renderTileImage_(B,o),e.prototype.getTile.call(this,n,r,i,o)},t.prototype.isDrawableTile=function(n){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,n)&&(r.getRenderMode()===Wm.VECTOR?qi(r)in n.executorGroups:n.hasContext(r))},t.prototype.getTileImage=function(n){return n.getImage(this.getLayer())},t.prototype.prepareFrame=function(n){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),e.prototype.prepareFrame.call(this,n)},t.prototype.updateExecutorGroup_=function(n,r,i){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,h=n.wantedResolution,g=n.getReplayState(o);if(!(!g.dirty&&g.renderedResolution===h&&g.renderedRevision==a&&g.renderedRenderOrder==s)){var _=o.getSource(),B=o.getDeclutter(),k=_.getTileGrid(),P=_.getTileGridForProjection(i),F=P.getTileCoordExtent(n.wrappedTileCoord),q=_.getSourceTiles(r,i,n),ee=qi(o);delete n.hitDetectionImageData[ee],n.executorGroups[ee]=[],B&&(n.declutterExecutorGroups[ee]=[]),g.dirty=!1;for(var H=function(ye,be){var J=q[ye];if(J.getState()!=mr.LOADED)return"continue";var se=J.tileCoord,xe=k.getTileCoordExtent(se),Se=m1(F,xe),De=e0(Se,o.getRenderBuffer()*h,N.tmpExtent),Le=ev(xe,Se)?null:De,he=new h4(0,De,h,r),qe=B?new h4(0,Se,h,r):void 0,ge=zj(h,r),_t=function(Ct){var Qt,$t=Ct.getStyleFunction()||o.getStyleFunction();if($t&&(Qt=$t(Ct,h)),Qt){var Ie=this.renderFeature(Ct,ge,Qt,he,qe);g.dirty=g.dirty||Ie}},Mt=J.getFeatures();s&&s!==g.renderedRenderOrder&&Mt.sort(s);for(var dt=0,mt=Mt.length;dt<mt;++dt){var je=Mt[dt];(!Le||vl(Le,je.getGeometry().getExtent()))&&_t.call(N,je)}var Ve=he.finish(),Xe=o.getRenderMode()!==Wm.VECTOR&&B&&q.length===1?null:Se,Jt=new f4(Xe,h,r,_.getOverlaps(),Ve,o.getRenderBuffer());if(n.executorGroups[ee].push(Jt),qe){var Ht=new f4(null,h,r,_.getOverlaps(),qe.finish(),o.getRenderBuffer());n.declutterExecutorGroups[ee].push(Ht)}},N=this,Z=0,ue=q.length;Z<ue;++Z)H(Z);g.renderedRevision=a,g.renderedRenderOrder=s,g.renderedResolution=h}},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){var s=r.viewState.resolution,h=r.viewState.rotation;i=i??0;var g=this.getLayer(),_=g.getSource(),B=_.getTileGridForProjection(r.viewState.projection),k=GE([n]);e0(k,s*i,k);for(var P={},F=function(ue,ye,be){var J=ue.getId();J===void 0&&(J=qi(ue));var se=P[J];if(se){if(se!==!0&&be<se.distanceSq){if(be===0)return P[J]=!0,a.splice(a.lastIndexOf(se),1),o(ue,g,ye);se.geometry=ye,se.distanceSq=be}}else{if(be===0)return P[J]=!0,o(ue,g,ye);a.push(P[J]={feature:ue,layer:g,geometry:ye,distanceSq:be,callback:o})}},q=this.renderedTiles,ee,H=function(ue,ye){var be=q[ue],J=B.getTileCoordExtent(be.wrappedTileCoord);if(!vl(J,k))return"continue";var se=qi(g),xe=[be.executorGroups[se]],Se=be.declutterExecutorGroups[se];Se&&xe.push(Se),xe.some(function(De){for(var Le=De===Se?r.declutterTree.all().map(function(_t){return _t.value}):null,he=0,qe=De.length;he<qe;++he){var ge=De[he];if(ee=ge.forEachFeatureAtCoordinate(n,s,h,i,F,Le),ee)return!0}})},N=0,Z=q.length;!ee&&N<Z;++N)H(N);return ee},t.prototype.getFeatures=function(n){return new Promise((function(r,i){for(var o=this.getLayer(),a=qi(o),s=o.getSource(),h=this.renderedProjection,g=h.getExtent(),_=this.renderedResolution,B=s.getTileGridForProjection(h),k=gl(this.renderedPixelToCoordinateTransform_,n.slice()),P=B.getTileCoordForCoordAndResolution(k,_),F,q=0,ee=this.renderedTiles.length;q<ee;++q)if(P.toString()===this.renderedTiles[q].tileCoord.toString()){if(F=this.renderedTiles[q],F.getState()===mr.LOADED){var H=B.getTileCoordExtent(F.tileCoord);s.getWrapX()&&h.canWrapX()&&!Um(g,H)&&q7(k,h);break}F=void 0}if(!F||F.loadingSourceTiles>0){r([]);return}var N=B.getTileCoordExtent(F.wrappedTileCoord),Z=h0(N),ue=[(k[0]-Z[0])/_,(Z[1]-k[1])/_],ye=F.getSourceTiles().reduce(function(Se,De){return Se.concat(De.getFeatures())},[]),be=F.hitDetectionImageData[a];if(!be&&!this.animatingOrInteracting_){var J=LA(B.getTileSize(B.getZForResolution(_,s.zDirection))),se=this.renderedRotation_,xe=[this.getRenderTransform(B.getTileCoordCenter(F.wrappedTileCoord),_,0,Yc,J[0]*Yc,J[1]*Yc,0)];be=Lj(J,xe,ye,o.getStyleFunction(),B.getTileCoordExtent(F.wrappedTileCoord),F.getReplayState(o).renderedResolution,se),F.hitDetectionImageData[a]=be}r(Uj(ue,ye,be))}).bind(this))},t.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.renderedLayerRevision_!==void 0&&n.changed()},t.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()},t.prototype.renderDeclutter=function(n){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=n.viewHints,a=!(o[il.ANIMATING]||o[il.INTERACTING]),s=this.renderedTiles,h=0,g=s.length;h<g;++h){var _=s[h],B=_.declutterExecutorGroups[qi(this.getLayer())];if(B)for(var k=B.length-1;k>=0;--k)B[k].execute(this.context,1,this.getTileRenderTransform(_,n),n.viewState.rotation,a,void 0,n.declutterTree)}r.globalAlpha=i},t.prototype.getTileRenderTransform=function(n,r){var i=r.pixelRatio,o=r.viewState,a=o.center,s=o.resolution,h=o.rotation,g=r.size,_=Math.round(g[0]*i),B=Math.round(g[1]*i),k=this.getLayer().getSource(),P=k.getTileGridForProjection(r.viewState.projection),F=n.tileCoord,q=P.getTileCoordExtent(n.wrappedTileCoord),ee=P.getTileCoordExtent(F,this.tmpExtent)[0]-q[0],H=j7(uS(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(a,s,h,i,_,B,ee));return H},t.prototype.renderFrame=function(n,r){var i=n.viewHints,o=!(i[il.ANIMATING]||i[il.INTERACTING]);e.prototype.renderFrame.call(this,n,r),this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode(),h=this.context,g=h.globalAlpha;h.globalAlpha=a.getOpacity();for(var _=Wue[s],B=n.viewState,k=B.rotation,P=a.getSource(),F=P.getTileGridForProjection(B.projection),q=F.getZForResolution(B.resolution,P.zDirection),ee=this.renderedTiles,H=[],N=[],Z=!0,ue=ee.length-1;ue>=0;--ue){var ye=ee[ue];Z=Z&&!ye.getReplayState(a).dirty;var be=ye.executorGroups[qi(a)].filter(function(Mt){return Mt.hasExecutors(_)});if(be.length!==0){var J=this.getTileRenderTransform(ye,n),se=ye.tileCoord[0],xe=!1,Se=be[0].getClipCoords(J);if(Se){for(var De=0,Le=H.length;De<Le;++De)if(q!==se&&se<N[De]){var he=H[De];vl([Se[0],Se[3],Se[4],Se[7]],[he[0],he[3],he[4],he[7]])&&(xe||(h.save(),xe=!0),h.beginPath(),h.moveTo(Se[0],Se[1]),h.lineTo(Se[2],Se[3]),h.lineTo(Se[4],Se[5]),h.lineTo(Se[6],Se[7]),h.moveTo(he[6],he[7]),h.lineTo(he[4],he[5]),h.lineTo(he[2],he[3]),h.lineTo(he[0],he[1]),h.clip())}H.push(Se),N.push(se)}for(var qe=0,ge=be.length;qe<ge;++qe){var _t=be[qe];_t.execute(h,1,J,k,o,_)}xe&&h.restore()}}return h.globalAlpha=g,this.ready=Z,this.container},t.prototype.renderFeature=function(n,r,i,o,a){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var h=0,g=i.length;h<g;++h)s=p4(o,n,i[h],r,this.boundHandleStyleImageChange_,void 0,a)||s;else s=p4(o,n,i,r,this.boundHandleStyleImageChange_,void 0,a);return s},t.prototype.tileImageNeedsRender_=function(n){var r=this.getLayer();if(r.getRenderMode()===Wm.VECTOR)return!1;var i=n.getReplayState(r),o=r.getRevision(),a=n.wantedResolution;return i.renderedTileResolution!==a||i.renderedTileRevision!==o},t.prototype.renderTileImage_=function(n,r){var i=this.getLayer(),o=n.getReplayState(i),a=i.getRevision(),s=n.executorGroups[qi(i)];o.renderedTileRevision=a;var h=n.wrappedTileCoord,g=h[0],_=i.getSource(),B=r.pixelRatio,k=r.viewState,P=k.projection,F=_.getTileGridForProjection(P),q=F.getResolution(n.tileCoord[0]),ee=r.pixelRatio/n.wantedResolution*q,H=F.getResolution(g),N=n.getContext(i);B=Math.round(Math.max(B,ee/B));var Z=_.getTilePixelSize(g,B,P);N.canvas.width=Z[0],N.canvas.height=Z[1];var ue=B/ee;if(ue!==1){var ye=fT(this.tmpTransform_);uS(ye,ue,ue),N.setTransform.apply(N,ye)}var be=F.getTileCoordExtent(h,this.tmpExtent),J=ee/H,se=fT(this.tmpTransform_);uS(se,J,-J),ore(se,-be[0],-be[3]);for(var xe=0,Se=s.length;xe<Se;++xe){var De=s[xe];De.execute(N,ue,se,0,!0,jue[i.getRenderMode()])}o.renderedTileResolution=n.wantedResolution},t}(sW);const Gue=Nue;var Que=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lW=function(e){Que(t,e);function t(n){var r=this,i=n||{},o=_l({},i);delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,i.renderMode===Wm.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var a=i.renderMode||Wm.HYBRID;return co(a==Wm.HYBRID||a==Wm.VECTOR,28),r.renderMode_=a,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return t.prototype.createRenderer=function(){return new Gue(this)},t.prototype.getFeatures=function(n){return e.prototype.getFeatures.call(this,n)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(jm.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(jm.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(n){this.set(jm.PRELOAD,n)},t.prototype.setUseInterimTilesOnError=function(n){this.set(jm.USE_INTERIM_TILES_ON_ERROR,n)},t}(Tj),$ue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yue=function(e){$ue(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,s)||this;return h.extent=null,h.format_=o,h.features_=null,h.loader_,h.projection=null,h.resolution,h.tileLoadFunction_=a,h.url_=i,h.key=i,h}return t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.load=function(){this.state==mr.IDLE&&(this.setState(mr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(n,r){this.setFeatures(n)},t.prototype.onError=function(){this.setState(mr.ERROR)},t.prototype.setFeatures=function(n){this.features_=n,this.setState(mr.LOADED)},t.prototype.setLoader=function(n){this.loader_=n},t}(nw);const que=Yue;var Hue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aK=[],Vue=function(e){Hue(t,e);function t(n,r,i,o){var a=e.call(this,n,r,{transition:0})||this;return a.context_={},a.executorGroups={},a.declutterExecutorGroups={},a.loadingSourceTiles=0,a.hitDetectionImageData={},a.replayState_={},a.sourceTiles=[],a.errorTileKeys={},a.wantedResolution,a.getSourceTiles=o.bind(void 0,a),a.wrappedTileCoord=i,a}return t.prototype.getContext=function(n){var r=qi(n);return r in this.context_||(this.context_[r]=wc(1,1,aK)),this.context_[r]},t.prototype.hasContext=function(n){return qi(n)in this.context_},t.prototype.getImage=function(n){return this.hasContext(n)?this.getContext(n).canvas:null},t.prototype.getReplayState=function(n){var r=qi(n);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},t.prototype.load=function(){this.getSourceTiles()},t.prototype.release=function(){for(var n in this.context_){var r=this.context_[n];A8(r),aK.push(r.canvas),delete this.context_[n]}e.prototype.release.call(this)},t}(nw);const Zue=Vue;var Xue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jue=function(e){Xue(t,e);function t(n){var r=this,i=n.projection||"EPSG:3857",o=n.extent||rw(i),a=n.tileGrid||C8({extent:o,maxResolution:n.maxResolution,maxZoom:n.maxZoom!==void 0?n.maxZoom:22,minZoom:n.minZoom,tileSize:n.tileSize||512});return r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,interpolate:!0,opaque:!1,projection:i,state:n.state,tileGrid:a,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:eAe,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX===void 0?!0:n.wrapX,transition:n.transition,zDirection:n.zDirection===void 0?1:n.zDirection})||this,r.format_=n.format?n.format:null,r.sourceTileCache=new _8(r.tileCache.highWaterMark),r.overlaps_=n.overlaps==null?!0:n.overlaps,r.tileClass=n.tileClass?n.tileClass:que,r.tileGrids_={},r}return t.prototype.getFeaturesInExtent=function(n){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=Vj(i.peekFirstKey())[0],a=this.tileGrid;return i.forEach(function(s){if(!(s.tileCoord[0]!==o||s.getState()!==mr.LOADED))for(var h=s.getSourceTiles(),g=0,_=h.length;g<_;++g){var B=h[g],k=B.tileCoord;if(vl(n,a.getTileCoordExtent(k))){var P=B.getFeatures();if(P)for(var F=0,q=P.length;F<q;++F){var ee=P[F],H=ee.getGeometry();vl(n,H.getExtent())&&r.push(ee)}}}}),r},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n),o=Object.keys(r).reduce(function(a,s){var h=$le(s),g=i.peek(h);if(g)for(var _=g.sourceTiles,B=0,k=_.length;B<k;++B)a[_[B].getKey()]=!0;return a},{});e.prototype.expireCache.call(this,n,r),this.sourceTileCache.expireCache(o)},t.prototype.getSourceTiles=function(n,r,i){var o=this;if(i.getState()===mr.IDLE){i.setState(mr.LOADING);var a=i.wrappedTileCoord,s=this.getTileGridForProjection(r),h=s.getTileCoordExtent(a),g=a[0],_=s.getResolution(g);e0(h,-_,h);var B=this.tileGrid,k=B.getExtent();k&&m1(h,k,h);var P=B.getZForResolution(_,this.zDirection);B.forEachTileCoord(h,P,function(F){var q=o.tileUrlFunction(F,n,r),ee=o.sourceTileCache.containsKey(q)?o.sourceTileCache.get(q):new o.tileClass(F,q?mr.IDLE:mr.EMPTY,q,o.format_,o.tileLoadFunction);i.sourceTiles.push(ee);var H=ee.getState();if(H<mr.LOADED){var N=function(Z){o.handleTileChange(Z);var ue=ee.getState();if(ue===mr.LOADED||ue===mr.ERROR){var ye=ee.getKey();ye in i.errorTileKeys?ee.getState()===mr.LOADED&&delete i.errorTileKeys[ye]:i.loadingSourceTiles--,ue===mr.ERROR?i.errorTileKeys[ye]=!0:ee.removeEventListener(ji.CHANGE,N),i.loadingSourceTiles===0&&i.setState(T1(i.errorTileKeys)?mr.LOADED:mr.ERROR)}};ee.addEventListener(ji.CHANGE,N),i.loadingSourceTiles++}H===mr.IDLE&&(ee.extent=B.getTileCoordExtent(F),ee.projection=r,ee.resolution=B.getResolution(F[0]),o.sourceTileCache.set(q,ee),ee.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(F){return F.getState()===mr.ERROR})?mr.ERROR:mr.LOADED)}return i.sourceTiles},t.prototype.getTile=function(n,r,i,o,a){var s=vv(n,r,i),h=this.getKey(),g;if(this.tileCache.containsKey(s)&&(g=this.tileCache.get(s),g.key===h))return g;var _=[n,r,i],B=this.getTileCoordForTileUrlFunction(_,a),k=this.getTileGrid().getExtent(),P=this.getTileGridForProjection(a);if(B&&k){var F=P.getTileCoordExtent(B);e0(F,-P.getResolution(n),F),vl(k,F)||(B=null)}var q=!0;if(B!==null){var ee=this.tileGrid,H=P.getResolution(n),N=ee.getZForResolution(H,1),Z=P.getTileCoordExtent(B);e0(Z,-H,Z),ee.forEachTileCoord(Z,N,(function(ye){q=q&&!this.tileUrlFunction(ye,o,a)}).bind(this))}var ue=new Zue(_,q?mr.EMPTY:mr.IDLE,B,this.getSourceTiles.bind(this,o,a));return ue.key=h,g?(ue.interimTile=g,ue.refreshInterimChain(),this.tileCache.replace(s,ue)):this.tileCache.set(s,ue),ue},t.prototype.getTileGridForProjection=function(n){var r=n.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,a=o.getResolutions().slice(),s=a.map(function(B,k){return o.getOrigin(k)}),h=a.map(function(B,k){return o.getTileSize(k)}),g=vj+1,_=a.length;_<g;++_)a.push(a[_-1]/2),s.push(s[_-1]),h.push(h[_-1]);i=new Eb({extent:o.getExtent(),origins:s,resolutions:a,tileSizes:h}),this.tileGrids_[r]=i}return i},t.prototype.getTilePixelRatio=function(n){return n},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),a=LA(o.getTileSize(n),this.tmpSize);return[Math.round(a[0]*r),Math.round(a[1]*r)]},t.prototype.updateCacheSize=function(n,r){e.prototype.updateCacheSize.call(this,n*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},t}(iW);const uW=Jue;function eAe(e,t){e.setLoader(function(n,r,i){Gj(t,e.getFormat(),n,r,i,e.onLoad.bind(e),e.onError.bind(e))})}var sK={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},g_=" ",lK=/(italic|oblique)$/i,uK={},tAe=function(e,t,n){var r=uK[e];if(!r){Array.isArray(e)||(e=[e]);for(var i=400,o="normal",a=[],s,h,g=0,_=e.length;g<_;++g){var B=e[g],k=B.split(" "),P=k[k.length-1].toLowerCase();P=="normal"||P=="italic"||P=="oblique"?(o=h?o:P,h=!0,k.pop(),P=k[k.length-1].toLowerCase()):lK.test(P)&&(P=P.replace(lK,""),o=h?o:k[k.length-1].replace(P,""),h=!0);for(var F in sK){var q=k.length>1?k[k.length-2].toLowerCase():"";if(P==F||P==F.replace("-","")||q+"-"+P==F){i=s?i:sK[F],k.pop(),q&&F.startsWith(q)&&k.pop();break}}!s&&typeof P=="number"&&(i=P,s=!0);var ee=k.join(g_).replace("Klokantech Noto Sans","Noto Sans");ee.indexOf(g_)!==-1&&(ee='"'+ee+'"'),a.push(ee)}r=uK[e]=[o,i,a]}return r[0]+g_+r[1]+g_+t+"px"+(n?"/"+n:"")+g_+r[2]};const hO=Oa(tAe);var nAe=8,rAe={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},iAe={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},oAe=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],aAe={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},sAe={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},lAe={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},uAe={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},AAe={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},cAe={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},dAe={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},hAe=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],fAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},pAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},mAe={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},gAe={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},yAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},vAe={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},_Ae={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},CAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},bAe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},xAe={type:"array",value:"*",doc:"A filter selects specific features from a layer."},wAe={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},MAe={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},SAe={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},EAe={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},OAe={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},BAe={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},kAe={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},IAe={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},TAe={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},KAe={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},PAe={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},FAe={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},DAe={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carrée projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},LAe={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},UAe=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],RAe={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},zAe={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},jAe={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},WAe={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},NAe={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},GAe={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},QAe={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},$Ae={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},YAe={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0° is directly above, at zenith, and 90° at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0° is directly above, at zenith, and 90° at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},qAe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},HAe={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},AW={$version:nAe,$root:rAe,sources:iAe,source:oAe,source_vector:aAe,source_raster:sAe,source_raster_dem:lAe,source_geojson:uAe,source_video:AAe,source_image:cAe,layer:dAe,layout:hAe,layout_background:fAe,layout_sky:pAe,layout_fill:mAe,layout_circle:gAe,layout_heatmap:yAe,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:vAe,layout_symbol:_Ae,layout_raster:CAe,layout_hillshade:bAe,filter:xAe,filter_symbol:wAe,filter_fill:MAe,filter_line:SAe,filter_circle:EAe,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:OAe,filter_operator:BAe,geometry_type:kAe,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:IAe,expression:TAe,expression_name:KAe,fog:PAe,light:FAe,projection:DAe,terrain:LAe,paint:UAe,paint_fill:RAe,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:zAe,paint_circle:jAe,paint_heatmap:WAe,paint_symbol:NAe,paint_raster:GAe,paint_hillshade:QAe,paint_background:$Ae,paint_sky:YAe,transition:qAe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:HAe},MS=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},fO={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof MS=="object"&&MS;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,h=36,g=1,_=26,B=38,k=700,P=72,F=128,q="-",ee=/^xn--/,H=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=h-g,ye=Math.floor,be=String.fromCharCode,J;function se(je){throw RangeError(Z[je])}function xe(je,Ve){for(var Xe=je.length,Jt=[];Xe--;)Jt[Xe]=Ve(je[Xe]);return Jt}function Se(je,Ve){var Xe=je.split("@"),Jt="";Xe.length>1&&(Jt=Xe[0]+"@",je=Xe[1]),je=je.replace(N,".");var Ht=je.split("."),Ct=xe(Ht,Ve).join(".");return Jt+Ct}function De(je){for(var Ve=[],Xe=0,Jt=je.length,Ht,Ct;Xe<Jt;)Ht=je.charCodeAt(Xe++),Ht>=55296&&Ht<=56319&&Xe<Jt?(Ct=je.charCodeAt(Xe++),(Ct&64512)==56320?Ve.push(((Ht&1023)<<10)+(Ct&1023)+65536):(Ve.push(Ht),Xe--)):Ve.push(Ht);return Ve}function Le(je){return xe(je,function(Ve){var Xe="";return Ve>65535&&(Ve-=65536,Xe+=be(Ve>>>10&1023|55296),Ve=56320|Ve&1023),Xe+=be(Ve),Xe}).join("")}function he(je){return je-48<10?je-22:je-65<26?je-65:je-97<26?je-97:h}function qe(je,Ve){return je+22+75*(je<26)-((Ve!=0)<<5)}function ge(je,Ve,Xe){var Jt=0;for(je=Xe?ye(je/k):je>>1,je+=ye(je/Ve);je>ue*_>>1;Jt+=h)je=ye(je/ue);return ye(Jt+(ue+1)*je/(je+B))}function _t(je){var Ve=[],Xe=je.length,Jt,Ht=0,Ct=F,Qt=P,$t,Ie,pe,Me,Re,it,ot,St,Rt;for($t=je.lastIndexOf(q),$t<0&&($t=0),Ie=0;Ie<$t;++Ie)je.charCodeAt(Ie)>=128&&se("not-basic"),Ve.push(je.charCodeAt(Ie));for(pe=$t>0?$t+1:0;pe<Xe;){for(Me=Ht,Re=1,it=h;pe>=Xe&&se("invalid-input"),ot=he(je.charCodeAt(pe++)),(ot>=h||ot>ye((s-Ht)/Re))&&se("overflow"),Ht+=ot*Re,St=it<=Qt?g:it>=Qt+_?_:it-Qt,!(ot<St);it+=h)Rt=h-St,Re>ye(s/Rt)&&se("overflow"),Re*=Rt;Jt=Ve.length+1,Qt=ge(Ht-Me,Jt,Me==0),ye(Ht/Jt)>s-Ct&&se("overflow"),Ct+=ye(Ht/Jt),Ht%=Jt,Ve.splice(Ht++,0,Ct)}return Le(Ve)}function Mt(je){var Ve,Xe,Jt,Ht,Ct,Qt,$t,Ie,pe,Me,Re,it=[],ot,St,Rt,zt;for(je=De(je),ot=je.length,Ve=F,Xe=0,Ct=P,Qt=0;Qt<ot;++Qt)Re=je[Qt],Re<128&&it.push(be(Re));for(Jt=Ht=it.length,Ht&&it.push(q);Jt<ot;){for($t=s,Qt=0;Qt<ot;++Qt)Re=je[Qt],Re>=Ve&&Re<$t&&($t=Re);for(St=Jt+1,$t-Ve>ye((s-Xe)/St)&&se("overflow"),Xe+=($t-Ve)*St,Ve=$t,Qt=0;Qt<ot;++Qt)if(Re=je[Qt],Re<Ve&&++Xe>s&&se("overflow"),Re==Ve){for(Ie=Xe,pe=h;Me=pe<=Ct?g:pe>=Ct+_?_:pe-Ct,!(Ie<Me);pe+=h)zt=Ie-Me,Rt=h-Me,it.push(be(qe(Me+zt%Rt,0))),Ie=ye(zt/Rt);it.push(be(qe(Ie,0))),Ct=ge(Xe,St,Jt==Ht),Xe=0,++Jt}++Xe,++Ve}return it.join("")}function dt(je){return Se(je,function(Ve){return ee.test(Ve)?_t(Ve.slice(4).toLowerCase()):Ve})}function mt(je){return Se(je,function(Ve){return H.test(Ve)?"xn--"+Mt(Ve):Ve})}if(a={version:"1.3.2",ucs2:{decode:De,encode:Le},decode:_t,encode:Mt,toASCII:mt,toUnicode:dt},r&&i)if(e.exports==r)i.exports=a;else for(J in a)a.hasOwnProperty(J)&&(r[J]=a[J]);else n.punycode=a})(MS)})(fO,fO.exports);var VAe={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},JC={};function ZAe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var XAe=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&typeof r.maxKeys=="number"&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var h=0;h<s;++h){var g=e[h].replace(o,"%20"),_=g.indexOf(n),B,k,P,F;_>=0?(B=g.substr(0,_),k=g.substr(_+1)):(B=g,k=""),P=decodeURIComponent(B),F=decodeURIComponent(k),ZAe(i,P)?Array.isArray(i[P])?i[P].push(F):i[P]=[i[P],F]:i[P]=F}return i},y_=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},JAe=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(y_(i))+n;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(y_(a))}).join(t):o+encodeURIComponent(y_(e[i]))}).join(t):r?encodeURIComponent(y_(r))+n+encodeURIComponent(y_(e)):""};JC.decode=JC.parse=XAe;JC.encode=JC.stringify=JAe;var ece=fO.exports,kp=VAe;function Rp(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var tce=/^([a-z0-9.+-]+:)/i,nce=/:[0-9]*$/,rce=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ice=["<",">",'"',"`"," ","\r",`
`,"	"],oce=["{","}","|","\\","^","`"].concat(ice),pO=["'"].concat(oce),AK=["%","/","?",";","#"].concat(pO),cK=["/","?","#"],ace=255,dK=/^[+a-z0-9A-Z_-]{0,63}$/,sce=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,lce={javascript:!0,"javascript:":!0},mO={javascript:!0,"javascript:":!0},Ty={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},gO=JC;function uce(e,t,n){if(e&&kp.isObject(e)&&e instanceof Rp)return e;var r=new Rp;return r.parse(e,t,n),r}Rp.prototype.parse=function(e,t,n){if(!kp.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var h=rce.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=gO.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var g=tce.exec(s);if(g){g=g[0];var _=g.toLowerCase();this.protocol=_,s=s.substr(g.length)}if(n||g||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var B=s.substr(0,2)==="//";B&&!(g&&mO[g])&&(s=s.substr(2),this.slashes=!0)}if(!mO[g]&&(B||g&&!Ty[g])){for(var k=-1,P=0;P<cK.length;P++){var F=s.indexOf(cK[P]);F!==-1&&(k===-1||F<k)&&(k=F)}var q,ee;k===-1?ee=s.lastIndexOf("@"):ee=s.lastIndexOf("@",k),ee!==-1&&(q=s.slice(0,ee),s=s.slice(ee+1),this.auth=decodeURIComponent(q)),k=-1;for(var P=0;P<AK.length;P++){var F=s.indexOf(AK[P]);F!==-1&&(k===-1||F<k)&&(k=F)}k===-1&&(k=s.length),this.host=s.slice(0,k),s=s.slice(k),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var N=this.hostname.split(/\./),P=0,Z=N.length;P<Z;P++){var ue=N[P];if(ue&&!ue.match(dK)){for(var ye="",be=0,J=ue.length;be<J;be++)ue.charCodeAt(be)>127?ye+="x":ye+=ue[be];if(!ye.match(dK)){var se=N.slice(0,P),xe=N.slice(P+1),Se=ue.match(sce);Se&&(se.push(Se[1]),xe.unshift(Se[2])),xe.length&&(s="/"+xe.join(".")+s),this.hostname=se.join(".");break}}}this.hostname.length>ace?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=ece.toASCII(this.hostname));var De=this.port?":"+this.port:"",Le=this.hostname||"";this.host=Le+De,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!lce[_])for(var P=0,Z=pO.length;P<Z;P++){var he=pO[P];if(s.indexOf(he)!==-1){var qe=encodeURIComponent(he);qe===he&&(qe=escape(he)),s=s.split(he).join(qe)}}var ge=s.indexOf("#");ge!==-1&&(this.hash=s.substr(ge),s=s.slice(0,ge));var _t=s.indexOf("?");if(_t!==-1?(this.search=s.substr(_t),this.query=s.substr(_t+1),t&&(this.query=gO.parse(this.query)),s=s.slice(0,_t)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Ty[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",Mt=this.search||"";this.path=De+Mt}return this.href=this.format(),this};Rp.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&kp.isObject(this.query)&&Object.keys(this.query).length&&(o=gO.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ty[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};Rp.prototype.resolve=function(e){return this.resolveObject(uce(e,!1,!0)).format()};Rp.prototype.resolveObject=function(e){if(kp.isString(e)){var t=new Rp;t.parse(e,!1,!0),e=t}for(var n=new Rp,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var h=a[s];h!=="protocol"&&(n[h]=e[h])}return Ty[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Ty[e.protocol]){for(var g=Object.keys(e),_=0;_<g.length;_++){var B=g[_];n[B]=e[B]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!mO[e.protocol]){for(var Z=(e.pathname||"").split("/");Z.length&&!(e.host=Z.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),n.pathname=Z.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var k=n.pathname||"",P=n.search||"";n.path=k+P}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var F=n.pathname&&n.pathname.charAt(0)==="/",q=e.host||e.pathname&&e.pathname.charAt(0)==="/",ee=q||F||n.host&&e.pathname,H=ee,N=n.pathname&&n.pathname.split("/")||[],Z=e.pathname&&e.pathname.split("/")||[],ue=n.protocol&&!Ty[n.protocol];if(ue&&(n.hostname="",n.port=null,n.host&&(N[0]===""?N[0]=n.host:N.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(Z[0]===""?Z[0]=e.host:Z.unshift(e.host)),e.host=null),ee=ee&&(Z[0]===""||N[0]==="")),q)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,N=Z;else if(Z.length)N||(N=[]),N.pop(),N=N.concat(Z),n.search=e.search,n.query=e.query;else if(!kp.isNullOrUndefined(e.search)){if(ue){n.hostname=n.host=N.shift();var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.host=n.hostname=ye.shift())}return n.search=e.search,n.query=e.query,(!kp.isNull(n.pathname)||!kp.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!N.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var be=N.slice(-1)[0],J=(n.host||e.host||N.length>1)&&(be==="."||be==="..")||be==="",se=0,xe=N.length;xe>=0;xe--)be=N[xe],be==="."?N.splice(xe,1):be===".."?(N.splice(xe,1),se++):se&&(N.splice(xe,1),se--);if(!ee&&!H)for(;se--;se)N.unshift("..");ee&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),J&&N.join("/").substr(-1)!=="/"&&N.push("");var Se=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(ue){n.hostname=n.host=Se?"":N.length?N.shift():"";var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.host=n.hostname=ye.shift())}return ee=ee||n.host&&N.length,ee&&!Se&&N.unshift(""),N.length?n.pathname=N.join("/"):(n.pathname=null,n.path=null),(!kp.isNull(n.pathname)||!kp.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};Rp.prototype.parseHost=function(){var e=this.host,t=nce.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function cW(e,...t){for(const n of t)for(const r in n)e[r]=n[r];return e}class Ace extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}var Of=Ace;class b8{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[r,i]of n)this.bindings[r]=i}concat(t){return new b8(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}}var cce=b8;const iw={kind:"null"},tr={kind:"number"},Ao={kind:"string"},Xi={kind:"boolean"},zp={kind:"color"},Ky={kind:"object"},eo={kind:"value"},dce={kind:"error"},ow={kind:"collator"},aw={kind:"formatted"},Ob={kind:"resolvedImage"};function Id(e,t){return{kind:"array",itemType:e,N:t}}function Ps(e){if(e.kind==="array"){const t=Ps(e.itemType);return typeof e.N=="number"?`array<${t}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${t}>`}else return e.kind}const hce=[iw,tr,Ao,Xi,zp,aw,Ky,Id(eo),Ob];function eb(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!eb(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(const n of hce)if(!eb(n,t))return null}}return`Expected ${Ps(e)} but found ${Ps(t)} instead.`}function x8(e,t){return t.some(n=>n.kind===e.kind)}function tb(e,t){return t.some(n=>n==="null"?e===null:n==="array"?Array.isArray(e):n==="object"?e&&!Array.isArray(e)&&typeof e=="object":n===typeof e)}var fce={},dW,hK={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function oC(e){return e=Math.round(e),e<0?0:e>255?255:e}function fK(e){return e<0?0:e>1?1:e}function SS(e){return e[e.length-1]==="%"?oC(parseFloat(e)/100*255):oC(parseInt(e))}function g2(e){return e[e.length-1]==="%"?fK(parseFloat(e)/100):fK(parseFloat(e))}function ES(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function pce(e){var t=e.replace(/ /g,"").toLowerCase();if(t in hK)return hK[t].slice();if(t[0]==="#"){if(t.length===4){var n=parseInt(t.substr(1),16);return n>=0&&n<=4095?[(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,1]:null}else if(t.length===7){var n=parseInt(t.substr(1),16);return n>=0&&n<=16777215?[(n&16711680)>>16,(n&65280)>>8,n&255,1]:null}return null}var r=t.indexOf("("),i=t.indexOf(")");if(r!==-1&&i+1===t.length){var o=t.substr(0,r),a=t.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(a.length!==4)return null;s=g2(a.pop());case"rgb":return a.length!==3?null:[SS(a[0]),SS(a[1]),SS(a[2]),s];case"hsla":if(a.length!==4)return null;s=g2(a.pop());case"hsl":if(a.length!==3)return null;var h=(parseFloat(a[0])%360+360)%360/360,g=g2(a[1]),_=g2(a[2]),B=_<=.5?_*(g+1):_+g-_*g,k=_*2-B;return[oC(ES(k,B,h+1/3)*255),oC(ES(k,B,h)*255),oC(ES(k,B,h-1/3)*255),s];default:return null}}return null}try{dW=fce.parseCSSColor=pce}catch{}class Mc{constructor(t,n,r,i=1){this.r=t,this.g=n,this.b=r,this.a=i}static parse(t){if(!t)return;if(t instanceof Mc)return t;if(typeof t!="string")return;const n=dW(t);if(n)return new Mc(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3])}toString(){const[t,n,r,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(n)},${Math.round(r)},${i})`}toArray(){const{r:t,g:n,b:r,a:i}=this;return i===0?[0,0,0,0]:[t*255/i,n*255/i,r*255/i,i]}toArray01(){const{r:t,g:n,b:r,a:i}=this;return i===0?[0,0,0,0]:[t/i,n/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:t,g:n,b:r,a:i}=this;return[t,n,r,i]}}Mc.black=new Mc(0,0,0,1);Mc.white=new Mc(1,1,1,1);Mc.transparent=new Mc(0,0,0,0);Mc.red=new Mc(1,0,0,1);Mc.blue=new Mc(0,0,1,1);var Xl=Mc;class w8{constructor(t,n,r){t?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class yO{constructor(t,n,r,i,o){this.text=t.normalize?t.normalize():t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o}}class Eh{constructor(t){this.sections=t}static fromString(t){return new Eh([new yO(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Eh?t:Eh.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const n of this.sections){if(n.image){t.push(["image",n.image.name]);continue}t.push(n.text);const r={};n.fontStack&&(r["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(r["font-scale"]=n.scale),n.textColor&&(r["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(r)}return t}}class qp{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new qp({name:t,available:!1}):null}serialize(){return["image",this.name]}}function hW(e,t,n,r){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function m4(e){if(e===null)return!0;if(typeof e=="string")return!0;if(typeof e=="boolean")return!0;if(typeof e=="number")return!0;if(e instanceof Xl)return!0;if(e instanceof w8)return!0;if(e instanceof Eh)return!0;if(e instanceof qp)return!0;if(Array.isArray(e)){for(const t of e)if(!m4(t))return!1;return!0}else if(typeof e=="object"){for(const t in e)if(!m4(e[t]))return!1;return!0}else return!1}function Zl(e){if(e===null)return iw;if(typeof e=="string")return Ao;if(typeof e=="boolean")return Xi;if(typeof e=="number")return tr;if(e instanceof Xl)return zp;if(e instanceof w8)return ow;if(e instanceof Eh)return aw;if(e instanceof qp)return Ob;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const i=Zl(r);if(!n)n=i;else{if(n===i)continue;n=eo;break}}return Id(n||eo,t)}else return Ky}function aC(e){const t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof Xl||e instanceof Eh||e instanceof qp?e.toString():JSON.stringify(e)}class M8{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!m4(t[1]))return n.error("invalid value");const r=t[1];let i=Zl(r);const o=n.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new M8(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Xl?["rgba"].concat(this.value.toArray()):this.value instanceof Eh?this.value.serialize():this.value}}var g4=M8;class mce{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}var Ru=mce;const OS={string:Ao,number:tr,boolean:Xi,object:Ky};class S8{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let r=1,i;const o=t[0];if(o==="array"){let s;if(t.length>2){const g=t[1];if(typeof g!="string"||!(g in OS)||g==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);s=OS[g],r++}else s=eo;let h;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);h=t[2],r++}i=Id(s,h)}else i=OS[o];const a=[];for(;r<t.length;r++){const s=n.parse(t[r],r,eo);if(!s)return null;a.push(s)}return new S8(i,a)}evaluate(t){for(let n=0;n<this.args.length;n++){const r=this.args[n].evaluate(t);if(eb(this.type,Zl(r))){if(n===this.args.length-1)throw new Ru(`Expected value to be of type ${Ps(this.type)}, but found ${Ps(Zl(r))} instead.`)}else return r}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,n=[t.kind];if(t.kind==="array"){const r=t.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){n.push(r.kind);const i=t.N;(typeof i=="number"||this.args.length>1)&&n.push(i)}}return n.concat(this.args.map(r=>r.serialize()))}}var Kp=S8;class sw{constructor(t){this.type=aw,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=t.length-1;++a){const s=t[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let h=null;if(s["font-scale"]&&(h=n.parse(s["font-scale"],1,tr),!h))return null;let g=null;if(s["text-font"]&&(g=n.parse(s["text-font"],1,Id(Ao)),!g))return null;let _=null;if(s["text-color"]&&(_=n.parse(s["text-color"],1,zp),!_))return null;const B=i[i.length-1];B.scale=h,B.font=g,B.textColor=_}else{const h=n.parse(t[a],1,eo);if(!h)return null;const g=h.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new sw(i)}evaluate(t){const n=r=>{const i=r.content.evaluate(t);return Zl(i)===Ob?new yO("",i,null,null,null):new yO(aC(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)};return new Eh(this.sections.map(n))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const n of this.sections){t.push(n.content.serialize());const r={};n.scale&&(r["font-scale"]=n.scale.serialize()),n.font&&(r["text-font"]=n.font.serialize()),n.textColor&&(r["text-color"]=n.textColor.serialize()),t.push(r)}return t}}class lw{constructor(t){this.type=Ob,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const r=n.parse(t[1],1,Ao);return r?new lw(r):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),r=qp.fromString(n);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(n)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const gce={"to-boolean":Xi,"to-color":zp,"to-number":tr,"to-string":Ao};class E8{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[0];if((r==="to-boolean"||r==="to-string")&&t.length!==2)return n.error("Expected one argument.");const i=gce[r],o=[];for(let a=1;a<t.length;a++){const s=n.parse(t[a],a,eo);if(!s)return null;o.push(s)}return new E8(i,o)}evaluate(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){let n,r;for(const i of this.args){if(n=i.evaluate(t),r=null,n instanceof Xl)return n;if(typeof n=="string"){const o=t.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r=`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:r=hW(n[0],n[1],n[2],n[3]),!r))return new Xl(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Ru(r||`Could not parse color from value '${typeof n=="string"?n:String(JSON.stringify(n))}'`)}else if(this.type.kind==="number"){let n=null;for(const r of this.args){if(n=r.evaluate(t),n===null)return 0;const i=Number(n);if(!isNaN(i))return i}throw new Ru(`Could not convert ${JSON.stringify(n)} to number.`)}else return this.type.kind==="formatted"?Eh.fromString(aC(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?qp.fromString(aC(this.args[0].evaluate(t))):aC(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new sw([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new lw(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(n=>{t.push(n.serialize())}),t}}var cy=E8;const yce=["Unknown","Point","LineString","Polygon"];class vce{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?yce[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*n-t[0],a=i*n-t[1],s=this.featureDistanceData.bearing[0],h=this.featureDistanceData.bearing[1];return s*o+h*a}return 0}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=Xl.parse(t)),n}}var fW=vce;class dy{constructor(t,n,r,i){this.name=t,this.type=n,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,n){const r=t[0],i=dy.definitions[r];if(!i)return n.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([g])=>!Array.isArray(g)||g.length===t.length-1);let h=null;for(const[g,_]of s){h=new vW(n.registry,n.path,null,n.scope);const B=[];let k=!1;for(let P=1;P<t.length;P++){const F=t[P],q=Array.isArray(g)?g[P-1]:g.type,ee=h.parse(F,1+B.length,q);if(!ee){k=!0;break}B.push(ee)}if(!k){if(Array.isArray(g)&&g.length!==B.length){h.error(`Expected ${g.length} arguments, but found ${B.length} instead.`);continue}for(let P=0;P<B.length;P++){const F=Array.isArray(g)?g[P]:g.type,q=B[P];h.concat(P+1).checkSubtype(F,q.type)}if(h.errors.length===0)return new dy(r,o,_,B)}}if(s.length===1)n.errors.push(...h.errors);else{const _=(s.length?s:a).map(([k])=>_ce(k)).join(" | "),B=[];for(let k=1;k<t.length;k++){const P=n.parse(t[k],1+B.length);if(!P)return null;B.push(Ps(P.type))}n.error(`Expected arguments of type ${_}, but found (${B.join(", ")}) instead.`)}return null}static register(t,n){dy.definitions=n;for(const r in n)t[r]=dy}}function _ce(e){return Array.isArray(e)?`(${e.map(Ps).join(", ")})`:`(${Ps(e.type)}...)`}var _v=dy;class uw{constructor(t,n,r){this.type=ow,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const r=t[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");const i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Xi);if(!i)return null;const o=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Xi);if(!o)return null;let a=null;return r.locale&&(a=n.parse(r.locale,1,Ao),!a)?null:new uw(i,o,a)}evaluate(t){return new w8(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const r0=8192;function O8(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Cce(e){return(180+e)/360}function bce(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function y4(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function xce(e,t){const n=Cce(e[0]),r=bce(e[1]),i=Math.pow(2,t.z);return[Math.round(n*i*r0),Math.round(r*i*r0)]}function wce(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i===0&&r*o<=0&&i*a<=0}function Mce(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function B8(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const o=t[r];for(let a=0,s=o.length;a<s-1;a++){if(wce(e,o[a],o[a+1]))return!1;Mce(e,o[a],o[a+1])&&(n=!n)}}return n}function Sce(e,t){for(let n=0;n<t.length;n++)if(B8(e,t[n]))return!0;return!1}function Ece(e,t){return e[0]*t[1]-e[1]*t[0]}function pK(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],h=r[0]-n[0],g=r[1]-n[1],_=i*g-h*o,B=a*g-h*s;return _>0&&B<0||_<0&&B>0}function Oce(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return Ece(o,i)===0?!1:!!(pK(e,t,n,r)&&pK(n,r,e,t))}function Bce(e,t,n){for(const r of n)for(let i=0;i<r.length-1;++i)if(Oce(e,t,r[i],r[i+1]))return!0;return!1}function pW(e,t){for(let n=0;n<e.length;++n)if(!B8(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(Bce(e[n],e[n+1],t))return!1;return!0}function kce(e,t){for(let n=0;n<t.length;n++)if(pW(e,t[n]))return!0;return!1}function k8(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let a=0;a<e[i].length;a++){const s=xce(e[i][a],n);O8(t,s),o.push(s)}r.push(o)}return r}function mW(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=k8(e[i],t,n);r.push(o)}return r}function gW(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const i=r*.5;let o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;o===0&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}O8(t,e)}function Ice(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function mK(e,t,n,r){const i=Math.pow(2,r.z)*r0,o=[r.x*r0,r.y*r0],a=[];if(!e)return a;for(const s of e)for(const h of s){const g=[h.x+o[0],h.y+o[1]];gW(g,t,n,i),a.push(g)}return a}function gK(e,t,n,r){const i=Math.pow(2,r.z)*r0,o=[r.x*r0,r.y*r0],a=[];if(!e)return a;for(const s of e){const h=[];for(const g of s){const _=[g.x+o[0],g.y+o[1]];O8(t,_),h.push(_)}a.push(h)}if(t[2]-t[0]<=i/2){Ice(t);for(const s of a)for(const h of s)gW(h,t,n,i)}return a}function Tce(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(t.type==="Polygon"){const o=k8(t.coordinates,r,i),a=mK(e.geometry(),n,r,i);if(!y4(n,r))return!1;for(const s of a)if(!B8(s,o))return!1}if(t.type==="MultiPolygon"){const o=mW(t.coordinates,r,i),a=mK(e.geometry(),n,r,i);if(!y4(n,r))return!1;for(const s of a)if(!Sce(s,o))return!1}return!0}function Kce(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(t.type==="Polygon"){const o=k8(t.coordinates,r,i),a=gK(e.geometry(),n,r,i);if(!y4(n,r))return!1;for(const s of a)if(!pW(s,o))return!1}if(t.type==="MultiPolygon"){const o=mW(t.coordinates,r,i),a=gK(e.geometry(),n,r,i);if(!y4(n,r))return!1;for(const s of a)if(!kce(s,o))return!1}return!0}class sC{constructor(t,n){this.type=Xi,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(m4(t[1])){const r=t[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new sC(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new sC(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new sC(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return Tce(t,this.geometries);if(t.geometryType()==="LineString")return Kce(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var I8=sC;function Aw(e){if(e instanceof _v){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof I8)return!1;let t=!0;return e.eachChild(n=>{t&&!Aw(n)&&(t=!1)}),t}function T8(e){if(e instanceof _v&&e.name==="feature-state")return!1;let t=!0;return e.eachChild(n=>{t&&!T8(n)&&(t=!1)}),t}function K8(e,t){if(e instanceof _v&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(r=>{n&&!K8(r,t)&&(n=!1)}),n}class P8{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const r=t[1];return n.scope.has(r)?new P8(r,n.scope.get(r)):n.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var yW=P8;class F8{constructor(t,n=[],r,i=new cce,o=[]){this.registry=t,this.path=n,this.key=n.map(a=>`[${a}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(t,n,r,i,o={}){return n?this.concat(n,r,i)._parse(t,o):this._parse(t,o)}_parse(t,n){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function r(i,o,a){return a==="assert"?new Kp(o,[i]):a==="coerce"?new cy(o,[i]):i}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(t,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,h=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&h.kind==="value")a=r(a,s,n.typeAnnotation||"assert");else if((s.kind==="color"||s.kind==="formatted"||s.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))a=r(a,s,n.typeAnnotation||"coerce");else if(this.checkSubtype(s,h))return null}if(!(a instanceof g4)&&a.type.kind!=="resolvedImage"&&vO(a)){const s=new fW;try{a=new g4(a.type,a.evaluate(s))}catch(h){return this.error(h.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,n,r){const i=typeof t=="number"?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new F8(this.registry,i,n||null,o,this.errors)}error(t,...n){const r=`${this.key}${n.map(i=>`[${i}]`).join("")}`;this.errors.push(new Of(r,t))}checkSubtype(t,n){const r=eb(t,n);return r&&this.error(r),r}}var vW=F8;function vO(e){if(e instanceof yW)return vO(e.boundExpression);if(e instanceof _v&&e.name==="error")return!1;if(e instanceof uw)return!1;if(e instanceof I8)return!1;const t=e instanceof cy||e instanceof Kp;let n=!0;return e.eachChild(r=>{t?n=n&&vO(r):n=n&&r instanceof g4}),n?Aw(e)&&K8(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function cw(e,t){const n=e.length-1;let r=0,i=n,o=0,a,s;for(;r<=i;)if(o=Math.floor((r+i)/2),a=e[o],s=e[o+1],a<=t){if(o===n||t<s)return o;r=o+1}else if(a>t)i=o-1;else throw new Ru("Input is not a number.");return 0}class D8{constructor(t,n,r){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");const r=n.parse(t[1],1,tr);if(!r)return null;const i=[];let o=null;n.expectedType&&n.expectedType.kind!=="value"&&(o=n.expectedType);for(let a=1;a<t.length;a+=2){const s=a===1?-1/0:t[a],h=t[a+1],g=a,_=a+1;if(typeof s!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const B=n.parse(h,_,o);if(!B)return null;o=o||B.type,i.push([s,B])}return new D8(o,r,i)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=cw(n,i);return r[a].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let n=0;n<this.labels.length;n++)n>0&&t.push(this.labels[n]),t.push(this.outputs[n].serialize());return t}}var _W=D8,Pce=CW;function CW(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}CW.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n=n-i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};function Vc(e,t,n){return e*(1-n)+t*n}function Fce(e,t,n){return new Xl(Vc(e.r,t.r,n),Vc(e.g,t.g,n),Vc(e.b,t.b,n),Vc(e.a,t.a,n))}function Dce(e,t,n){return e.map((r,i)=>Vc(r,t[i],n))}var bW=Object.freeze({__proto__:null,number:Vc,color:Fce,array:Dce});const xW=.95047,wW=1,MW=1.08883,SW=4/29,Py=6/29,EW=3*Py*Py,Lce=Py*Py*Py,Uce=Math.PI/180,Rce=180/Math.PI;function BS(e){return e>Lce?Math.pow(e,1/3):e/EW+SW}function kS(e){return e>Py?e*e*e:EW*(e-SW)}function IS(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function TS(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function OW(e){const t=TS(e.r),n=TS(e.g),r=TS(e.b),i=BS((.4124564*t+.3575761*n+.1804375*r)/xW),o=BS((.2126729*t+.7151522*n+.072175*r)/wW),a=BS((.0193339*t+.119192*n+.9503041*r)/MW);return{l:116*o-16,a:500*(i-o),b:200*(o-a),alpha:e.a}}function BW(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=wW*kS(t),n=xW*kS(n),r=MW*kS(r),new Xl(IS(3.2404542*n-1.5371385*t-.4985314*r),IS(-.969266*n+1.8760108*t+.041556*r),IS(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function zce(e,t,n){return{l:Vc(e.l,t.l,n),a:Vc(e.a,t.a,n),b:Vc(e.b,t.b,n),alpha:Vc(e.alpha,t.alpha,n)}}function jce(e){const{l:t,a:n,b:r}=OW(e),i=Math.atan2(r,n)*Rce;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}}function Wce(e){const t=e.h*Uce,n=e.c,r=e.l;return BW({l:r,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})}function Nce(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function Gce(e,t,n){return{h:Nce(e.h,t.h,n),c:Vc(e.c,t.c,n),l:Vc(e.l,t.l,n),alpha:Vc(e.alpha,t.alpha,n)}}const U_={forward:OW,reverse:BW,interpolate:zce},R_={forward:jce,reverse:Wce,interpolate:Gce};var kW=Object.freeze({__proto__:null,lab:U_,hcl:R_});class v4{constructor(t,n,r,i,o){this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(t,n,r,i){let o=0;if(t.name==="exponential")o=KS(n,t.base,r,i);else if(t.name==="linear")o=KS(n,1,r,i);else if(t.name==="cubic-bezier"){const a=t.controlPoints;o=new Pce(a[0],a[1],a[2],a[3]).solve(KS(n,1,r,i))}return o}static parse(t,n){let[r,i,o,...a]=t;if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(_=>typeof _!="number"||_<0||_>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return n.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(o=n.parse(o,2,tr),!o)return null;const s=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=zp:n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);for(let g=0;g<a.length;g+=2){const _=a[g],B=a[g+1],k=g+3,P=g+4;if(typeof _!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(s.length&&s[s.length-1][0]>=_)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);const F=n.parse(B,P,h);if(!F)return null;h=h||F.type,s.push([_,F])}return h.kind!=="number"&&h.kind!=="color"&&!(h.kind==="array"&&h.itemType.kind==="number"&&typeof h.N=="number")?n.error(`Type ${Ps(h)} is not interpolatable.`):new v4(h,r,i,o,s)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=cw(n,i),s=n[a],h=n[a+1],g=v4.interpolationFactor(this.interpolation,i,s,h),_=r[a].evaluate(t),B=r[a+1].evaluate(t);return this.operator==="interpolate"?bW[this.type.kind.toLowerCase()](_,B,g):this.operator==="interpolate-hcl"?R_.reverse(R_.interpolate(R_.forward(_),R_.forward(B),g)):U_.reverse(U_.interpolate(U_.forward(_),U_.forward(B),g))}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;this.interpolation.name==="linear"?t=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?t=["linear"]:t=["exponential",this.interpolation.base]:t=["cubic-bezier"].concat(this.interpolation.controlPoints);const n=[this.operator,t,this.input.serialize()];for(let r=0;r<this.labels.length;r++)n.push(this.labels[r],this.outputs[r].serialize());return n}}function KS(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var jp=v4;class _4{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let r=null;const i=n.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const s of t.slice(1)){const h=n.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}return i&&o.some(s=>eb(i,s.type))?new _4(eo,o):new _4(r,o)}evaluate(t){let n=null,r=0,i;for(const o of this.args){if(r++,n=o.evaluate(t),n&&n instanceof qp&&!n.available&&(i||(i=n),n=null,r===this.args.length))return i;if(n!==null)break}return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var IW=_4;class L8{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let o=1;o<t.length-1;o+=2){const a=t[o];if(typeof a!="string")return n.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=n.parse(t[o+1],o+1);if(!s)return null;r.push([a,s])}const i=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return i?new L8(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[n,r]of this.bindings)t.push(n,r.serialize());return t.push(this.result.serialize()),t}}var TW=L8;class U8{constructor(t,n,r){this.type=t,this.index=n,this.input=r}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,tr),i=n.parse(t[2],2,Id(n.expectedType||eo));if(!r||!i)return null;const o=i.type;return new U8(o.itemType,r,i)}evaluate(t){const n=this.index.evaluate(t),r=this.input.evaluate(t);if(n<0)throw new Ru(`Array index out of bounds: ${n} < 0.`);if(n>=r.length)throw new Ru(`Array index out of bounds: ${n} > ${r.length-1}.`);if(n!==Math.floor(n))throw new Ru(`Array index must be an integer, but found ${n} instead.`);return r[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Qce=U8;class R8{constructor(t,n){this.type=Xi,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,eo),i=n.parse(t[2],2,eo);return!r||!i?null:x8(r.type,[Xi,Ao,tr,iw,eo])?new R8(r,i):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(r.type)} instead`)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(r==null)return!1;if(!tb(n,["boolean","string","number","null"]))throw new Ru(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(Zl(n))} instead.`);if(!tb(r,["string","array"]))throw new Ru(`Expected second argument to be of type array or string, but found ${Ps(Zl(r))} instead.`);return r.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var $ce=R8;class C4{constructor(t,n,r){this.type=tr,this.needle=t,this.haystack=n,this.fromIndex=r}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,eo),i=n.parse(t[2],2,eo);if(!r||!i)return null;if(!x8(r.type,[Xi,Ao,tr,iw,eo]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,tr);return o?new C4(r,i,o):null}else return new C4(r,i)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!tb(n,["boolean","string","number","null"]))throw new Ru(`Expected first argument to be of type boolean, string, number or null, but found ${Ps(Zl(n))} instead.`);if(!tb(r,["string","array"]))throw new Ru(`Expected second argument to be of type array or string, but found ${Ps(Zl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(n,i)}return r.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Yce=C4;class z8{constructor(t,n,r,i,o,a){this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return n.error("Expected an even number of arguments.");let r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);const o={},a=[];for(let g=2;g<t.length-1;g+=2){let _=t[g];const B=t[g+1];Array.isArray(_)||(_=[_]);const k=n.concat(g);if(_.length===0)return k.error("Expected at least one branch label.");for(const F of _){if(typeof F!="number"&&typeof F!="string")return k.error("Branch labels must be numbers or strings.");if(typeof F=="number"&&Math.abs(F)>Number.MAX_SAFE_INTEGER)return k.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof F=="number"&&Math.floor(F)!==F)return k.error("Numeric branch labels must be integer values.");if(!r)r=Zl(F);else if(k.checkSubtype(r,Zl(F)))return null;if(typeof o[String(F)]<"u")return k.error("Branch labels must be unique.");o[String(F)]=a.length}const P=n.parse(B,g,i);if(!P)return null;i=i||P.type,a.push(P)}const s=n.parse(t[1],1,eo);if(!s)return null;const h=n.parse(t[t.length-1],t.length-1,i);return!h||s.type.kind!=="value"&&n.concat(1).checkSubtype(r,s.type)?null:new z8(r,i,s,o,a,h)}evaluate(t){const n=this.input.evaluate(t);return(Zl(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),r=[],i={};for(const a of n){const s=i[this.cases[a]];s===void 0?(i[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[s][1].push(a)}const o=a=>this.inputType.kind==="number"?Number(a):a;for(const[a,s]of r)s.length===1?t.push(o(s[0])):t.push(s.map(o)),t.push(this.outputs[a].serialize());return t.push(this.otherwise.serialize()),t}}var qce=z8;class j8{constructor(t,n,r){this.type=t,this.branches=n,this.otherwise=r}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return n.error("Expected an odd number of arguments.");let r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);const i=[];for(let a=1;a<t.length-1;a+=2){const s=n.parse(t[a],a,Xi);if(!s)return null;const h=n.parse(t[a+1],a+1,r);if(!h)return null;i.push([s,h]),r=r||h.type}const o=n.parse(t[t.length-1],t.length-1,r);return o?new j8(r,i,o):null}evaluate(t){for(const[n,r]of this.branches)if(n.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,r]of this.branches)t(n),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var Hce=j8;class b4{constructor(t,n,r,i){this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,eo),i=n.parse(t[2],2,tr);if(!r||!i)return null;if(!x8(r.type,[Id(eo),Ao,eo]))return n.error(`Expected first argument to be of type array or string, but found ${Ps(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,tr);return o?new b4(r.type,r,i,o):null}else return new b4(r.type,r,i)}evaluate(t){const n=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!tb(n,["string","array"]))throw new Ru(`Expected first argument to be of type array or string, but found ${Ps(Zl(n))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return n.slice(r,i)}return n.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Vce=b4;function yK(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Zce(e,t,n){return t===n}function Xce(e,t,n){return t!==n}function Jce(e,t,n){return t<n}function ede(e,t,n){return t>n}function tde(e,t,n){return t<=n}function nde(e,t,n){return t>=n}function KW(e,t,n,r){return r.compare(t,n)===0}function rde(e,t,n,r){return!KW(e,t,n,r)}function ide(e,t,n,r){return r.compare(t,n)<0}function ode(e,t,n,r){return r.compare(t,n)>0}function ade(e,t,n,r){return r.compare(t,n)<=0}function sde(e,t,n,r){return r.compare(t,n)>=0}function Cv(e,t,n){const r=e!=="=="&&e!=="!=";return class PW{constructor(o,a,s){this.type=Xi,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let h=a.parse(o[1],1,eo);if(!h)return null;if(!yK(s,h.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Ps(h.type)}'.`);let g=a.parse(o[2],2,eo);if(!g)return null;if(!yK(s,g.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Ps(g.type)}'.`);if(h.type.kind!==g.type.kind&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error(`Cannot compare types '${Ps(h.type)}' and '${Ps(g.type)}'.`);r&&(h.type.kind==="value"&&g.type.kind!=="value"?h=new Kp(g.type,[h]):h.type.kind!=="value"&&g.type.kind==="value"&&(g=new Kp(h.type,[g])));let _=null;if(o.length===4){if(h.type.kind!=="string"&&g.type.kind!=="string"&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(_=a.parse(o[3],3,ow),!_)return null}return new PW(h,g,_)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=Zl(a),g=Zl(s);if(h.kind!==g.kind||!(h.kind==="string"||h.kind==="number"))throw new Ru(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=Zl(a),g=Zl(s);if(h.kind!=="string"||g.kind!=="string")return t(o,a,s)}return this.collator?n(o,a,s,this.collator.evaluate(o)):t(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[e];return this.eachChild(a=>{o.push(a.serialize())}),o}}}const lde=Cv("==",Zce,KW),ude=Cv("!=",Xce,rde),Ade=Cv("<",Jce,ide),cde=Cv(">",ede,ode),dde=Cv("<=",tde,ade),hde=Cv(">=",nde,sde);class W8{constructor(t,n,r,i,o,a){this.type=Ao,this.number=t,this.locale=n,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=a}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const r=n.parse(t[1],1,tr);if(!r)return null;const i=t[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=n.parse(i.locale,1,Ao),!o))return null;let a=null;if(i.currency&&(a=n.parse(i.currency,1,Ao),!a))return null;let s=null;if(i.unit&&(s=n.parse(i.unit,1,Ao),!s))return null;let h=null;if(i["min-fraction-digits"]&&(h=n.parse(i["min-fraction-digits"],1,tr),!h))return null;let g=null;return i["max-fraction-digits"]&&(g=n.parse(i["max-fraction-digits"],1,tr),!g)?null:new W8(r,o,a,s,h,g)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class N8{constructor(t){this.type=tr,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=n.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${Ps(r.type)} instead.`):new N8(r):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new Ru(`Expected value to be of type string or array, but found ${Ps(Zl(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var fde=N8;const FW={"==":lde,"!=":ude,">":cde,"<":Ade,">=":hde,"<=":dde,array:Kp,at:Qce,boolean:Kp,case:Hce,coalesce:IW,collator:uw,format:sw,image:lw,in:$ce,"index-of":Yce,interpolate:jp,"interpolate-hcl":jp,"interpolate-lab":jp,length:fde,let:TW,literal:g4,match:qce,number:Kp,"number-format":W8,object:Kp,slice:Vce,step:_W,string:Kp,"to-boolean":cy,"to-color":cy,"to-number":cy,"to-string":cy,var:yW,within:I8};function vK(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=hW(t,n,r,o);if(a)throw new Ru(a);return new Xl(t/255*o,n/255*o,r/255*o,o)}function _K(e,t){return e in t}function PS(e,t){const n=t[e];return typeof n>"u"?null:n}function pde(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function R0(e){return{type:e}}_v.register(FW,{error:[dce,[Ao],(e,[t])=>{throw new Ru(t.evaluate(e))}],typeof:[Ao,[eo],(e,[t])=>Ps(Zl(t.evaluate(e)))],"to-rgba":[Id(tr,4),[zp],(e,[t])=>t.evaluate(e).toArray()],rgb:[zp,[tr,tr,tr],vK],rgba:[zp,[tr,tr,tr,tr],vK],has:{type:Xi,overloads:[[[Ao],(e,[t])=>_K(t.evaluate(e),e.properties())],[[Ao,Ky],(e,[t,n])=>_K(t.evaluate(e),n.evaluate(e))]]},get:{type:eo,overloads:[[[Ao],(e,[t])=>PS(t.evaluate(e),e.properties())],[[Ao,Ky],(e,[t,n])=>PS(t.evaluate(e),n.evaluate(e))]]},"feature-state":[eo,[Ao],(e,[t])=>PS(t.evaluate(e),e.featureState||{})],properties:[Ky,[],e=>e.properties()],"geometry-type":[Ao,[],e=>e.geometryType()],id:[eo,[],e=>e.id()],zoom:[tr,[],e=>e.globals.zoom],pitch:[tr,[],e=>e.globals.pitch||0],"distance-from-center":[tr,[],e=>e.distanceFromCenter()],"heatmap-density":[tr,[],e=>e.globals.heatmapDensity||0],"line-progress":[tr,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[tr,[],e=>e.globals.skyRadialProgress||0],accumulated:[eo,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[tr,R0(tr),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[tr,R0(tr),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:tr,overloads:[[[tr,tr],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[tr],(e,[t])=>-t.evaluate(e)]]},"/":[tr,[tr,tr],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[tr,[tr,tr],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[tr,[],()=>Math.LN2],pi:[tr,[],()=>Math.PI],e:[tr,[],()=>Math.E],"^":[tr,[tr,tr],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[tr,[tr],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[tr,[tr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[tr,[tr],(e,[t])=>Math.log(t.evaluate(e))],log2:[tr,[tr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[tr,[tr],(e,[t])=>Math.sin(t.evaluate(e))],cos:[tr,[tr],(e,[t])=>Math.cos(t.evaluate(e))],tan:[tr,[tr],(e,[t])=>Math.tan(t.evaluate(e))],asin:[tr,[tr],(e,[t])=>Math.asin(t.evaluate(e))],acos:[tr,[tr],(e,[t])=>Math.acos(t.evaluate(e))],atan:[tr,[tr],(e,[t])=>Math.atan(t.evaluate(e))],min:[tr,R0(tr),(e,t)=>Math.min(...t.map(n=>n.evaluate(e)))],max:[tr,R0(tr),(e,t)=>Math.max(...t.map(n=>n.evaluate(e)))],abs:[tr,[tr],(e,[t])=>Math.abs(t.evaluate(e))],round:[tr,[tr],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[tr,[tr],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[tr,[tr],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Xi,[Ao,eo],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Xi,[eo],(e,[t])=>e.id()===t.value],"filter-type-==":[Xi,[Ao],(e,[t])=>e.geometryType()===t.value],"filter-<":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[Xi,[eo],(e,[t])=>t.value in e.properties()],"filter-has-id":[Xi,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Xi,[Id(Ao)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Xi,[Id(eo)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Xi,[Ao,Id(eo)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Xi,[Ao,Id(eo)],(e,[t,n])=>pde(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Xi,overloads:[[[Xi,Xi],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[R0(Xi),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Xi,overloads:[[[Xi,Xi],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[R0(Xi),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Xi,[Xi],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Xi,[Ao],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return n?n(t.evaluate(e)):!0}],upcase:[Ao,[Ao],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Ao,[Ao],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Ao,R0(eo),(e,t)=>t.map(n=>aC(n.evaluate(e))).join("")],"resolved-locale":[Ao,[ow],(e,[t])=>t.evaluate(e).resolvedLocale()]});var DW=FW;function _O(e){return{result:"success",value:e}}function qg(e){return{result:"error",value:e}}function mde(e){return e["property-type"]==="data-driven"}function gde(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function LW(e){return!!e.expression&&e.expression.interpolated}function G8(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function Q8(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function yde(e){return e}function $8(e,t){const n=t.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,a=e.type||(LW(t)?"exponential":"interval");if(n&&(e=cW({},e),e.stops&&(e.stops=e.stops.map(_=>[_[0],Xl.parse(_[1])])),e.default?e.default=Xl.parse(e.default):e.default=Xl.parse(t.default)),e.colorSpace&&e.colorSpace!=="rgb"&&!kW[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let s,h,g;if(a==="exponential")s=CK;else if(a==="interval")s=_de;else if(a==="categorical"){s=vde,h=Object.create(null);for(const _ of e.stops)h[_[0]]=_[1];g=typeof e.stops[0][0]}else if(a==="identity")s=Cde;else throw new Error(`Unknown function type "${a}"`);if(r){const _={},B=[];for(let F=0;F<e.stops.length;F++){const q=e.stops[F],ee=q[0].zoom;_[ee]===void 0&&(_[ee]={zoom:ee,type:e.type,property:e.property,default:e.default,stops:[]},B.push(ee)),_[ee].stops.push([q[0].value,q[1]])}const k=[];for(const F of B)k.push([_[F].zoom,$8(_[F],t)]);const P={name:"linear"};return{kind:"composite",interpolationType:P,interpolationFactor:jp.interpolationFactor.bind(void 0,P),zoomStops:k.map(F=>F[0]),evaluate({zoom:F},q){return CK({stops:k,base:e.base},t,F).evaluate(F,q)}}}else if(o){const _=a==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:jp.interpolationFactor.bind(void 0,_),zoomStops:e.stops.map(B=>B[0]),evaluate:({zoom:B})=>s(e,t,B,h,g)}}else return{kind:"source",evaluate(_,B){const k=B&&B.properties?B.properties[e.property]:void 0;return k===void 0?Bb(e.default,t.default):s(e,t,k,h,g)}}}function Bb(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function vde(e,t,n,r,i){const o=typeof n===i?r[n]:void 0;return Bb(o,e.default,t.default)}function _de(e,t,n){if(G8(n)!=="number")return Bb(e.default,t.default);const r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=cw(e.stops.map(o=>o[0]),n);return e.stops[i][1]}function CK(e,t,n){const r=e.base!==void 0?e.base:1;if(G8(n)!=="number")return Bb(e.default,t.default);const i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=cw(e.stops.map(_=>_[0]),n),a=bde(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],h=e.stops[o+1][1];let g=bW[t.type]||yde;if(e.colorSpace&&e.colorSpace!=="rgb"){const _=kW[e.colorSpace];g=(B,k)=>_.reverse(_.interpolate(_.forward(B),_.forward(k),a))}return typeof s.evaluate=="function"?{evaluate(..._){const B=s.evaluate.apply(void 0,_),k=h.evaluate.apply(void 0,_);if(!(B===void 0||k===void 0))return g(B,k,a)}}:g(s,h,a)}function Cde(e,t,n){return t.type==="color"?n=Xl.parse(n):t.type==="formatted"?n=Eh.fromString(n.toString()):t.type==="resolvedImage"?n=qp.fromString(n.toString()):G8(n)!==t.type&&(t.type!=="enum"||!t.values[n])&&(n=void 0),Bb(n,e.default,t.default)}function bde(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class UW{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new fW,this._defaultValue=n?Mde(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,r,i,o,a,s,h){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=h||null,this.expression.evaluate(this._evaluator)}evaluate(t,n,r,i,o,a,s,h){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=h||null;try{const g=this.expression.evaluate(this._evaluator);if(g==null||typeof g=="number"&&g!==g)return this._defaultValue;if(this._enumValues&&!(g in this._enumValues))throw new Ru(`Expected value to be one of ${Object.keys(this._enumValues).map(_=>JSON.stringify(_)).join(", ")}, but found ${JSON.stringify(g)} instead.`);return g}catch(g){return this._warningHistory[g.message]||(this._warningHistory[g.message]=!0,typeof console<"u"&&console.warn(g.message)),this._defaultValue}}}function RW(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in DW}function x4(e,t){const n=new vW(DW,[],t?wde(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?_O(new UW(r,t)):qg(n.errors)}class CO{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!T8(n.expression)}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}}class bO{constructor(t,n,r,i){this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!T8(n.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}interpolationFactor(t,n,r){return this.interpolationType?jp.interpolationFactor(this.interpolationType,t,n,r):0}}function zW(e,t){if(e=x4(e,t),e.result==="error")return e;const n=e.value.expression,r=Aw(n);if(!r&&!mde(t))return qg([new Of("","data expressions not supported")]);const i=K8(n,["zoom","pitch","distance-from-center"]);if(!i&&!gde(t))return qg([new Of("","zoom expressions not supported")]);const o=t3(n);if(!o&&!i)return qg([new Of("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Of)return qg([o]);if(o instanceof jp&&!LW(t))return qg([new Of("",'"interpolate" expressions cannot be used with this property')]);if(!o)return _O(r?new CO("constant",e.value):new CO("source",e.value));const a=o instanceof jp?o.interpolation:void 0;return _O(r?new bO("camera",e.value,o.labels,a):new bO("composite",e.value,o.labels,a))}class dw{constructor(t,n){this._parameters=t,this._specification=n,cW(this,$8(this._parameters,this._specification))}static deserialize(t){return new dw(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function xde(e,t){if(Q8(e))return new dw(e,t);if(RW(e)){const n=zW(e,t);if(n.result==="error")throw new Error(n.value.map(r=>`${r.key}: ${r.message}`).join(", "));return n.value}else{let n=e;return typeof e=="string"&&t.type==="color"&&(n=Xl.parse(e)),{kind:"constant",evaluate:()=>n}}}function t3(e){let t=null;if(e instanceof TW)t=t3(e.result);else if(e instanceof IW){for(const n of e.args)if(t=t3(n),t)break}else(e instanceof _W||e instanceof jp)&&e.input instanceof _v&&e.input.name==="zoom"&&(t=e);return t instanceof Of||e.eachChild(n=>{const r=t3(n);r instanceof Of?t=r:!t&&r?t=new Of("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new Of("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function wde(e){const t={color:zp,string:Ao,number:tr,enum:Ao,boolean:Xi,formatted:aw,resolvedImage:Ob};return e.type==="array"?Id(t[e.value]||eo,e.length):t[e.type]}function Mde(e){return e.type==="color"&&(Q8(e.default)||Array.isArray(e.default))?new Xl(0,0,0,0):e.type==="color"?Xl.parse(e.default)||null:e.default===void 0?null:e.default}function nb(e){return typeof e=="object"?["literal",e]:e}function Sde(e,t){let n=e.stops;if(!n)return Ede(e,t);const r=n&&typeof n[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return n=n.map(a=>!i&&t.tokens&&typeof a[1]=="string"?[a[0],Ide(a[1])]:[a[0],nb(a[1])]),r?Ode(e,t,n):o?kde(e,t,n):xO(e,t,n)}function Ede(e,t){const n=["get",e.property];if(e.default===void 0)return t.type==="string"?["string",n]:n;if(t.type==="enum")return["match",n,Object.keys(t.values),n,e.default];{const r=[t.type==="color"?"to-color":t.type,n,nb(e.default)];return t.type==="array"&&r.splice(1,0,t.value,t.length||null),r}}function Y8(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Ode(e,t,n){const r={},i={},o=[];for(let s=0;s<n.length;s++){const h=n[s],g=h[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([h[0].value,h[1]])}if(H8({},t)==="exponential"){const s=[Y8(e),["linear"],["zoom"]];for(const h of o){const g=xO(r[h],t,i[h]);Fy(s,h,g,!1)}return s}else{const s=["step",["zoom"]];for(const h of o){const g=xO(r[h],t,i[h]);Fy(s,h,g,!0)}return q8(s),s}}function Bde(e,t){if(e!==void 0)return e;if(t!==void 0)return t}function bK(e,t){const n=nb(Bde(e.default,t.default));return n===void 0&&t.type==="resolvedImage"?"":n}function xO(e,t,n){const r=H8(e,t),i=["get",e.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){const o=["case"];for(const a of n)o.push(["==",i,a[0]],a[1]);return o.push(bK(e,t)),o}else if(r==="categorical"){const o=["match",i];for(const a of n)Fy(o,a[0],a[1],!1);return o.push(bK(e,t)),o}else if(r==="interval"){const o=["step",["number",i]];for(const a of n)Fy(o,a[0],a[1],!0);return q8(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,nb(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,a=[Y8(e),o===1?["linear"]:["exponential",o],["number",i]];for(const s of n)Fy(a,s[0],s[1],!1);return e.default===void 0?a:["case",["==",["typeof",i],"number"],a,nb(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function kde(e,t,n,r=["zoom"]){const i=H8(e,t);let o,a=!1;if(i==="interval")o=["step",r],a=!0;else if(i==="exponential"){const s=e.base!==void 0?e.base:1;o=[Y8(e),s===1?["linear"]:["exponential",s],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of n)Fy(o,s[0],s[1],a);return q8(o),o}function q8(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function Fy(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&e.length===2||e.push(t),e.push(n))}function H8(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function Ide(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);i!==null;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(t.length===1)return e;if(r<e.length)t.push(e.slice(r));else if(t.length===2)return["to-string",t[1]];return t}function Tde(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function wO(e){if(Array.isArray(e))return e.map(wO);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=wO(e[n]);return t}return Tde(e)}function V8(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!V8(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function Kde(e,t="fill"){if(e==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};V8(e)||(e=w4(e));const n=e;let r=!0;try{r=Pde(n)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(n,null,2)}
        `)}const i=AW[`filter_${t}`],o=x4(r,i);let a=null;if(o.result==="error")throw new Error(o.value.map(_=>`${_.key}: ${_.message}`).join(", "));a=(_,B,k)=>o.value.evaluate(_,B,{},k);let s=null,h=null;if(r!==n){const _=x4(n,i);if(_.result==="error")throw new Error(_.value.map(B=>`${B.key}: ${B.message}`).join(", "));s=(B,k,P,F,q)=>_.value.evaluate(B,k,{},P,void 0,void 0,F,q),h=!Aw(_.value.expression)}a=a;const g=NW(r);return{filter:a,dynamicFilter:s||void 0,needGeometry:g,needFeature:!!h}}function Pde(e){if(!Dy(e))return e;let t=wO(e);return WW(t),t=jW(t),t}function jW(e){if(!Array.isArray(e))return e;const t=Lde(e);return t===!0?t:t.map(n=>jW(n))}function WW(e){let t=!1;const n=[];if(e[0]==="case"){for(let r=1;r<e.length-1;r+=2)t=t||Dy(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if(e[0]==="match"){t=t||Dy(e[1]);for(let r=2;r<e.length-1;r+=2)n.push(e[r+1]);n.push(e[e.length-1])}else if(e[0]==="step"){t=t||Dy(e[1]);for(let r=1;r<e.length-1;r+=2)n.push(e[r+1])}t&&(e.length=0,e.push("any",...n));for(let r=1;r<e.length;r++)WW(e[r])}function Dy(e){if(!Array.isArray(e))return!1;if(Fde(e[0]))return!0;for(let t=1;t<e.length;t++){const n=e[t];if(Dy(n))return!0}return!1}function Fde(e){return e==="pitch"||e==="distance-from-center"}const Dde=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Lde(e){if(Dde.has(e[0]))for(let t=1;t<e.length;t++){const n=e[t];if(Dy(n))return!0}return e}function Ude(e,t){return e<t?-1:e>t?1:0}function NW(e){if(!Array.isArray(e))return!1;if(e[0]==="within")return!0;for(let t=1;t<e.length;t++)if(NW(e[t]))return!0;return!1}function w4(e){if(!e)return!0;const t=e[0];return e.length<=1?t!=="any":t==="=="?FS(e[1],e[2],"=="):t==="!="?y2(FS(e[1],e[2],"==")):t==="<"||t===">"||t==="<="||t===">="?FS(e[1],e[2],t):t==="any"?Rde(e.slice(1)):t==="all"?["all"].concat(e.slice(1).map(w4)):t==="none"?["all"].concat(e.slice(1).map(w4).map(y2)):t==="in"?xK(e[1],e.slice(2)):t==="!in"?y2(xK(e[1],e.slice(2))):t==="has"?wK(e[1]):t==="!has"?y2(wK(e[1])):t==="within"?e:!0}function FS(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function Rde(e){return["any"].concat(e.map(w4))}function xK(e,t){if(t.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(n=>typeof n!=typeof t[0])?["filter-in-large",e,["literal",t.sort(Ude)]]:["filter-in-small",e,["literal",t]]}}function wK(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function y2(e){return["!",e]}var zde=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function jde(e,t){const n={};for(const r in e)r!=="ref"&&(n[r]=e[r]);return zde.forEach(r=>{r in t&&(n[r]=t[r])}),n}function Wde(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=jde(e[n],t[e[n].ref]));return e}function Nde(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gde={};(function(e){var t=function(){var n=function(ee,H,N,Z){for(N=N||{},Z=ee.length;Z--;N[ee[Z]]=H);return N},r=[1,12],i=[1,13],o=[1,9],a=[1,10],s=[1,11],h=[1,14],g=[1,15],_=[14,18,22,24],B=[18,22],k=[22,24],P={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(H,N,Z,ue,ye,be,J){var se=be.length-1;switch(ye){case 1:this.$=new String(H.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(H),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=be[se-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=be[se-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[be[se-2],be[se]];break;case 16:this.$={},this.$[be[se][0]]=be[se][1];break;case 17:this.$=be[se-2],be[se-2][be[se][0]]=be[se][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[be[se]];break;case 21:this.$=be[se-2],be[se-2].push(be[se]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,12:1,13:2,15:7,16:8,17:h,23:g},{1:[3]},{14:[1,16]},n(_,[2,7]),n(_,[2,8]),n(_,[2,9]),n(_,[2,10]),n(_,[2,11]),n(_,[2,12]),n(_,[2,3]),n(_,[2,4]),n(_,[2,5]),n([14,18,21,22,24],[2,1]),n(_,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:23,15:7,16:8,17:h,23:g,24:[1,21],25:22},{1:[2,6]},n(_,[2,13]),{18:[1,24],22:[1,25]},n(B,[2,16]),{21:[1,26]},n(_,[2,18]),{22:[1,28],24:[1,27]},n(k,[2,20]),n(_,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:30,15:7,16:8,17:h,23:g},n(_,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:31,15:7,16:8,17:h,23:g},n(B,[2,17]),n(B,[2,15]),n(k,[2,21])],defaultActions:{16:[2,6]},parseError:function(H,N){if(N.recoverable)this.trace(H);else throw new Error(H)},parse:function(H){var N=this,Z=[0],ue=[null],ye=[],be=this.table,J="",se=0,xe=0,Se=2,De=1,Le=ye.slice.call(arguments,1),he=Object.create(this.lexer),qe={yy:{}};for(var ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ge)&&(qe.yy[ge]=this.yy[ge]);he.setInput(H,qe.yy),qe.yy.lexer=he,qe.yy.parser=this,typeof he.yylloc>"u"&&(he.yylloc={});var _t=he.yylloc;ye.push(_t);var Mt=he.options&&he.options.ranges;typeof qe.yy.parseError=="function"?this.parseError=qe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function dt(){var pe;return pe=he.lex()||De,typeof pe!="number"&&(pe=N.symbols_[pe]||pe),pe}for(var mt,je,Ve,Xe,Jt={},Ht,Ct,Qt,$t;;){if(je=Z[Z.length-1],this.defaultActions[je]?Ve=this.defaultActions[je]:((mt===null||typeof mt>"u")&&(mt=dt()),Ve=be[je]&&be[je][mt]),typeof Ve>"u"||!Ve.length||!Ve[0]){var Ie="";$t=[];for(Ht in be[je])this.terminals_[Ht]&&Ht>Se&&$t.push("'"+this.terminals_[Ht]+"'");he.showPosition?Ie="Parse error on line "+(se+1)+`:
`+he.showPosition()+`
Expecting `+$t.join(", ")+", got '"+(this.terminals_[mt]||mt)+"'":Ie="Parse error on line "+(se+1)+": Unexpected "+(mt==De?"end of input":"'"+(this.terminals_[mt]||mt)+"'"),this.parseError(Ie,{text:he.match,token:this.terminals_[mt]||mt,line:he.yylineno,loc:_t,expected:$t})}if(Ve[0]instanceof Array&&Ve.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+mt);switch(Ve[0]){case 1:Z.push(mt),ue.push(he.yytext),ye.push(he.yylloc),Z.push(Ve[1]),mt=null,xe=he.yyleng,J=he.yytext,se=he.yylineno,_t=he.yylloc;break;case 2:if(Ct=this.productions_[Ve[1]][1],Jt.$=ue[ue.length-Ct],Jt._$={first_line:ye[ye.length-(Ct||1)].first_line,last_line:ye[ye.length-1].last_line,first_column:ye[ye.length-(Ct||1)].first_column,last_column:ye[ye.length-1].last_column},Mt&&(Jt._$.range=[ye[ye.length-(Ct||1)].range[0],ye[ye.length-1].range[1]]),Xe=this.performAction.apply(Jt,[J,xe,se,qe.yy,Ve[1],ue,ye].concat(Le)),typeof Xe<"u")return Xe;Ct&&(Z=Z.slice(0,-1*Ct*2),ue=ue.slice(0,-1*Ct),ye=ye.slice(0,-1*Ct)),Z.push(this.productions_[Ve[1]][0]),ue.push(Jt.$),ye.push(Jt._$),Qt=be[Z[Z.length-2]][Z[Z.length-1]],Z.push(Qt);break;case 3:return!0}}return!0}},F=function(){var ee={EOF:1,parseError:function(N,Z){if(this.yy.parser)this.yy.parser.parseError(N,Z);else throw new Error(N)},setInput:function(H,N){return this.yy=N||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var N=H.match(/(?:\r\n?|\n).*/g);return N?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var N=H.length,Z=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var ue=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Z.length-1&&(this.yylineno-=Z.length-1);var ye=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Z?(Z.length===ue.length?this.yylloc.first_column:0)+ue[ue.length-Z.length].length-Z[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[ye[0],ye[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),N=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+N+"^"},test_match:function(H,N){var Z,ue,ye;if(this.options.backtrack_lexer&&(ye={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ye.yylloc.range=this.yylloc.range.slice(0))),ue=H[0].match(/(?:\r\n?|\n).*/g),ue&&(this.yylineno+=ue.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ue?ue[ue.length-1].length-ue[ue.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],Z=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Z)return Z;if(this._backtrack){for(var be in ye)this[be]=ye[be];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,N,Z,ue;this._more||(this.yytext="",this.match="");for(var ye=this._currentRules(),be=0;be<ye.length;be++)if(Z=this._input.match(this.rules[ye[be]]),Z&&(!N||Z[0].length>N[0].length)){if(N=Z,ue=be,this.options.backtrack_lexer){if(H=this.test_match(Z,ye[be]),H!==!1)return H;if(this._backtrack){N=!1;continue}else return!1}else if(!this.options.flex)break}return N?(H=this.test_match(N,ye[ue]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var N=this.next();return N||this.lex()},begin:function(N){this.conditionStack.push(N)},popState:function(){var N=this.conditionStack.length-1;return N>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(N){return N=this.conditionStack.length-1-Math.abs(N||0),N>=0?this.conditionStack[N]:"INITIAL"},pushState:function(N){this.begin(N)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(N,Z,ue,ye){switch(ue){case 0:break;case 1:return 6;case 2:return Z.yytext=Z.yytext.substr(1,Z.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return ee}();P.lexer=F;function q(){this.yy={}}return q.prototype=P,P.Parser=q,new q}();typeof Nde<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(Gde);const GW={StyleExpression:UW,isExpression:RW,isExpressionFilter:V8,createExpression:x4,createPropertyExpression:zW,normalizePropertyExpression:xde,ZoomConstantExpression:CO,ZoomDependentExpression:bO,StylePropertyFunction:dw},QW={convertFunction:Sde,createFunction:$8,isFunction:Q8};var $W=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function DS(e){return e*Math.PI/180}var nv=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function YW(e,t){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(e,t);var n=document.createElement("canvas");return n.width=e,n.height=t,n}function Qde(e,t){for(var n=0,r=t.length;n<r;++n){var i=t[n];if(i<e&&n+1<r){var o=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(o)}}return r-1}var $de=Array(256).join(" ");function MO(e,t){if(t>=.05){for(var n="",r=e.split(`
`),i=$de.slice(0,Math.round(t/.1)),o=0,a=r.length;o<a;++o)o>0&&(n+=`
`),n+=r[o].split("").join(i);return n}return e}var LS;function qW(){return LS||(LS=YW(1,1).getContext("2d")),LS}function z0(e,t){return qW().measureText(e).width+(e.length-1)*t}var SO={};aO&&Eo(aO,ji.CLEAR,function(){SO={}});function EO(e,t,n,r){if(e.indexOf(`
`)!==-1){for(var i=e.split(`
`),o=[],a=0,s=i.length;a<s;++a)o.push(EO(i[a],t,n,r));return o.join(`
`)}var h=n+","+t+","+e+","+r,g=SO[h];if(!g){var _=e.split(" ");if(_.length>1){var B=qW();B.font=t;for(var k=B.measureText("M").width,P=k*n,F="",o=[],a=0,s=_.length;a<s;++a){var q=_[a],ee=F+(F?" ":"")+q;z0(ee,r)<=P?F=ee:(F&&o.push(F),F=q)}F&&o.push(F);for(var a=0,s=o.length;a<s&&s>1;++a){var H=o[a];if(z0(H,r)<P*.35){var N=a>0?z0(o[a-1],r):1/0,Z=a<s-1?z0(o[a+1],r):1/0;o.splice(a,1),s-=1,N<Z?(o[a-1]+=" "+H,a-=1):o[a]=H+" "+o[a]}}for(var a=0,s=o.length-1;a<s;++a){var ue=o[a],ye=o[a+1];if(z0(ue,r)>P*.7&&z0(ye,r)<P*.6){var be=ue.split(" "),J=be.pop();z0(J,r)<P*.2&&(o[a]=be.join(" "),o[a+1]=J+" "+ye),s-=1}}g=o.join(`
`)}else g=e;g=MO(g,r),SO[h]=g}return g}var Yde=QW.isFunction,qde=QW.convertFunction,Hde=GW.isExpression,Vde=GW.createPropertyExpression,Zde={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Xde={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Jde=function(e,t){var n=Vde(e,t);if(n.result==="error")throw new Error(n.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return n.value},OO={},M4={zoom:0},v2,US;function Pi(e,t,n,r,i,o){var a=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});var s=o[a];if(!s[n]){var h=(e[t]||OO)[n],g=AW["".concat(t,"_").concat(e.type)][n];h===void 0&&(h=g.default);var _=Hde(h);if(!_&&Yde(h)&&(h=qde(h,g),_=!0),_){var B=Jde(h,g);s[n]=B.evaluate.bind(B)}else g.type=="color"&&(h=Xl.parse(h)),s[n]=function(){return h}}return M4.zoom=r,s[n](M4,i)}function ehe(e,t,n,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=Kde(t).filter),M4.zoom=r,i[e](M4,n)}function xm(e,t){if(e){if(e.a===0||t===0)return;var n=e.a;return t=t===void 0?1:t,n===0?"transparent":"rgba("+Math.round(e.r*255/n)+","+Math.round(e.g*255/n)+","+Math.round(e.b*255/n)+","+n*t+")"}return e}var the=/^([^]*)\{(.*)\}([^]*)$/;function RS(e,t){var n;do if(n=e.match(the),n){var r=t[n[2]]||"";e=n[1]+r+n[3]}while(n);return e}function nhe(e,t,n,r,i,o,a){if(r===void 0&&(r=nv),typeof t=="string"&&(t=JSON.parse(t)),t.version!=8)throw new Error("glStyle version 8 required.");var s,h;if(o){if(typeof Image<"u"){var g=new Image;g.crossOrigin="anonymous",g.onload=function(){s=g,h=[g.width,g.height],e.changed(),g.onload=null},g.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var _=self;_.postMessage({action:"loadImage",src:o}),_.addEventListener("message",function(_t){_t.data.action==="imageLoaded"&&_t.data.src===o&&(s=_t.data.image,h=[s.width,s.height])})}}for(var B=Wde(t.layers),k={},P=[],F={},q={},ee={},H={},N,Z=0,ue=B.length;Z<ue;++Z){var ye=B[Z],be=ye.id;if(typeof n=="string"&&ye.source==n||n.indexOf(be)!==-1){var J=ye["source-layer"];if(!N){N=ye.source;var se=t.sources[N];if(!se)throw new Error('Source "'.concat(N,'" is not defined'));var xe=se.type;if(xe!=="vector"&&xe!=="geojson")throw new Error('Source "'.concat(N,'" is not of type "vector" or "geojson", but "').concat(xe,'"'))}var Se=k[J];Se||(Se=[],k[J]=Se),Se.push({layer:ye,index:Z}),P.push(be)}}var De=new L_,Le=new Ay,he=[],qe=function(ge,_t){var Mt=ge.getProperties(),dt=k[Mt.layer];if(dt){var mt=r.indexOf(_t);mt==-1&&(mt=Qde(_t,r));for(var je=Zde[ge.getGeometry().getType()],Ve={properties:Mt,type:je},Xe=-1,Jt=function(Qt,$t){var Ie=dt[Qt],pe=Ie.layer,Me=pe.id,Re=pe.layout||OO,it=pe.paint||OO;if(Re.visibility==="none"||"minzoom"in pe&&mt<pe.minzoom||"maxzoom"in pe&&mt>=pe.maxzoom)return"continue";var ot=pe.filter;if(!ot||ehe(Me,ot,Ve,mt,H)){var St=void 0,Rt=void 0,zt=void 0,pt=void 0,ir=void 0,gn=void 0,yn=Ie.index;if(je==3&&(pe.type=="fill"||pe.type=="fill-extrusion"))if(Rt=Pi(pe,"paint",pe.type+"-opacity",mt,Ve,ee),pe.type+"-pattern"in it){var er=Pi(pe,"paint",pe.type+"-pattern",mt,Ve,ee);if(er){var Ar=typeof er=="string"?RS(er,Mt):er.toString();if(s&&i&&i[Ar]){++Xe,gn=he[Xe],(!gn||!gn.getFill()||gn.getStroke()||gn.getText())&&(gn=new q0({fill:new Ay}),he[Xe]=gn),zt=gn.getFill(),gn.setZIndex(yn);var Mr=Ar+"."+Rt,Wr=q[Mr];if(!Wr){var gr=i[Ar],_i=YW(gr.width,gr.height),Ee=_i.getContext("2d");Ee.globalAlpha=Rt,Ee.drawImage(s,gr.x,gr.y,gr.width,gr.height,0,0,gr.width,gr.height),Wr=Ee.createPattern(_i,"repeat"),q[Mr]=Wr}zt.setColor(Wr)}}}else St=xm(Pi(pe,"paint",pe.type+"-color",mt,Ve,ee),Rt),pe.type+"-outline-color"in it&&(ir=xm(Pi(pe,"paint",pe.type+"-outline-color",mt,Ve,ee),Rt)),ir||(ir=St),(St||ir)&&(++Xe,gn=he[Xe],(!gn||St&&!gn.getFill()||!St&&gn.getFill()||ir&&!gn.getStroke()||!ir&&gn.getStroke()||gn.getText())&&(gn=new q0({fill:St?new Ay:void 0,stroke:ir?new L_:void 0}),he[Xe]=gn),St&&(zt=gn.getFill(),zt.setColor(St)),ir&&(pt=gn.getStroke(),pt.setColor(ir),pt.setWidth(.5)),gn.setZIndex(yn));if(je!=1&&pe.type=="line"){St=!("line-pattern"in it)&&"line-color"in it?xm(Pi(pe,"paint","line-color",mt,Ve,ee),Pi(pe,"paint","line-opacity",mt,Ve,ee)):void 0;var X=Pi(pe,"paint","line-width",mt,Ve,ee);St&&X>0&&(++Xe,gn=he[Xe],(!gn||!gn.getStroke()||gn.getFill()||gn.getText())&&(gn=new q0({stroke:new L_}),he[Xe]=gn),pt=gn.getStroke(),pt.setLineCap(Pi(pe,"layout","line-cap",mt,Ve,ee)),pt.setLineJoin(Pi(pe,"layout","line-join",mt,Ve,ee)),pt.setMiterLimit(Pi(pe,"layout","line-miter-limit",mt,Ve,ee)),pt.setColor(St),pt.setWidth(X),pt.setLineDash(it["line-dasharray"]?Pi(pe,"paint","line-dasharray",mt,Ve,ee).map(function(ri){return ri*X}):null),gn.setZIndex(yn))}var Y=!1,Te=null,ut=0,Bt=void 0,It=void 0,Dt=void 0;if((je==1||je==2)&&"icon-image"in Re){var fn=Pi(pe,"layout","icon-image",mt,Ve,ee);if(fn){Bt=typeof fn=="string"?RS(fn,Mt):fn.toString();var Pn=void 0;if(s&&i&&i[Bt]){var On=Pi(pe,"layout","icon-rotation-alignment",mt,Ve,ee);if(je==2){var m=ge.getGeometry();if(m.getFlatMidpoint||m.getFlatMidpoints){var Kt=m.getExtent(),Pr=Math.sqrt(Math.max(Math.pow((Kt[2]-Kt[0])/_t,2),Math.pow((Kt[3]-Kt[1])/_t,2)));if(Pr>150){var nr=m.getType()==="MultiLineString"?m.getFlatMidpoints():m.getFlatMidpoint();US||(v2=[NaN,NaN],US=new oO("Point",v2,[],{},null)),Pn=US,v2[0]=nr[0],v2[1]=nr[1];var Pe=Pi(pe,"layout","symbol-placement",mt,Ve,ee);if(Pe==="line"&&On==="map")for(var ce=m.getStride(),Ce=m.getFlatCoordinates(),ke=0,ze=Ce.length-ce;ke<ze;ke+=ce){var rt=Ce[ke],st=Ce[ke+1],ft=Ce[ke+ce],et=Ce[ke+ce+1],wt=Math.min(rt,ft),tn=Math.min(st,et),qt=Math.max(rt,ft),en=Math.max(st,et);if(nr[0]>=wt&&nr[0]<=qt&&nr[1]>=tn&&nr[1]<=en){ut=Math.atan2(st-et,ft-rt);break}}}}}if(je!==2||Pn){var Fn=Pi(pe,"layout","icon-size",mt,Ve,ee),Bn=it["icon-color"]!==void 0?Pi(pe,"paint","icon-color",mt,Ve,ee):null;if(!Bn||Bn.a!==0){var Mr=Bt+"."+Fn;if(Bn!==null&&(Mr+="."+Bn),It=F[Mr],!It){var qn=i[Bt];It=new Dj({color:Bn?[Bn.r*255,Bn.g*255,Bn.b*255,Bn.a]:void 0,img:s,imgSize:h,size:[qn.width,qn.height],offset:[qn.x,qn.y],rotateWithView:On==="map",scale:Fn/qn.pixelRatio,displacement:"icon-offset"in Re?Pi(pe,"layout","icon-offset",mt,Ve,ee).map(function(si){return-si*qn.pixelRatio}):void 0}),F[Mr]=It}}It&&(++Xe,gn=he[Xe],(!gn||!gn.getImage()||gn.getFill()||gn.getStroke())&&(gn=new q0,he[Xe]=gn),gn.setGeometry(Pn),It.setRotation(ut+DS(Pi(pe,"layout","icon-rotate",mt,Ve,ee))),It.setOpacity(Pi(pe,"paint","icon-opacity",mt,Ve,ee)),It.setAnchor(Xde[Pi(pe,"layout","icon-anchor",mt,Ve,ee)]),gn.setImage(It),Te=gn.getText(),gn.setText(void 0),gn.setZIndex(yn),Y=!0,Dt=!1)}else Dt=!0}}}if(je==1&&pe.type==="circle"){++Xe,gn=he[Xe],(!gn||!gn.getImage()||gn.getFill()||gn.getStroke())&&(gn=new q0,he[Xe]=gn);var Sr="circle-radius"in it?Pi(pe,"paint","circle-radius",mt,Ve,ee):5,lr=xm(Pi(pe,"paint","circle-stroke-color",mt,Ve,ee),Pi(pe,"paint","circle-stroke-opacity",mt,Ve,ee)),$r=xm(Pi(pe,"paint","circle-color",mt,Ve,ee),Pi(pe,"paint","circle-opacity",mt,Ve,ee)),Or=Pi(pe,"paint","circle-stroke-width",mt,Ve,ee),Lr=Sr+"."+lr+"."+$r+"."+Or;It=F[Lr],It||(It=new Ij({radius:Sr,stroke:lr&&Or>0?new L_({width:Or,color:lr}):void 0,fill:$r?new Ay({color:$r}):void 0}),F[Lr]=It),gn.setImage(It),Te=gn.getText(),gn.setText(void 0),gn.setGeometry(void 0),gn.setZIndex(yn),Y=!0}var or=void 0,ci=void 0,Li,to,ho,ai;if("text-field"in Re){to=Math.round(Pi(pe,"layout","text-size",mt,Ve,ee));var fo=Pi(pe,"layout","text-font",mt,Ve,ee);Li=Pi(pe,"layout","text-line-height",mt,Ve,ee),ci=hO(a?a(fo):fo,to,Li),ho=Pi(pe,"layout","text-letter-spacing",mt,Ve,ee),ai=Pi(pe,"layout","text-max-width",mt,Ve,ee);var ja=Pi(pe,"layout","text-field",mt,Ve,ee);typeof ja=="object"&&ja.sections?ja.sections.length===1?or=ja.toString():or=ja.sections.reduce(function(ri,si,Xo){var Ta=si.fontStack?si.fontStack.split(","):fo,Fr=hO(a?a(Ta):Ta,to*(si.scale||1),Li),Wa=si.text;if(Wa===`
`)return ri.push(`
`,""),ri;if(je==2){ri.push(MO(Wa,ho),Fr);return}Wa=EO(Wa,Fr,ai,ho).split(`
`);for(var yi=0,Na=Wa.length;yi<Na;++yi)yi>0&&ri.push(`
`,""),ri.push(Wa[yi],Fr);return ri},[]):or=RS(ja,Mt).trim(),Rt=Pi(pe,"paint","text-opacity",mt,Ve,ee)}if(or&&Rt&&!Dt){Y||(++Xe,gn=he[Xe],(!gn||!gn.getText()||gn.getFill()||gn.getStroke())&&(gn=new q0,he[Xe]=gn),gn.setImage(void 0),gn.setGeometry(void 0)),gn.getText()||gn.setText(Te||new ble({padding:[2,2,2,2]})),Te=gn.getText();var Ba=Re["text-transform"];Ba=="uppercase"?or=Array.isArray(or)?or.map(function(si,Xo){return Xo%2?si:si.toUpperCase()}):or.toUpperCase():Ba=="lowercase"&&(or=Array.isArray(or)?or.map(function(si,Xo){return Xo%2?si:si.toLowerCase()}):or.toLowerCase());var Mi=Array.isArray(or)?or:je==2?MO(or,ho):EO(or,ci,ai,ho);Te.setText(Mi),Te.setFont(ci),Te.setRotation(DS(Pi(pe,"layout","text-rotate",mt,Ve,ee)));var is=Pi(pe,"layout","text-anchor",mt,Ve,ee),Pe=Y||je==1?"point":Pi(pe,"layout","symbol-placement",mt,Ve,ee);Te.setPlacement(Pe),Te.setOverflow(Pe==="point");var gi=Pi(pe,"paint","text-halo-width",mt,Ve,ee),Wn=Pi(pe,"layout","text-offset",mt,Ve,ee),ro=Pi(pe,"paint","text-translate",mt,Ve,ee),_o=0,Ui=0;if(Pe=="point"){var ve="center";is.indexOf("left")!==-1?(ve="left",Ui=gi):is.indexOf("right")!==-1&&(ve="right",Ui=-gi),Te.setTextAlign(ve);var Je=Pi(pe,"layout","text-rotation-alignment",mt,Ve,ee);Te.setRotateWithView(Je=="map")}else Te.setMaxAngle(DS(Pi(pe,"layout","text-max-angle",mt,Ve,ee))*or.length/Mi.length),Te.setTextAlign(),Te.setRotateWithView(!1);var Vt="middle";is.indexOf("bottom")==0?(Vt="bottom",_o=-gi-.5*(Li-1)*to):is.indexOf("top")==0&&(Vt="top",_o=gi+.5*(Li-1)*to),Te.setTextBaseline(Vt),Te.setOffsetX(Wn[0]*to+Ui+ro[0]),Te.setOffsetY(Wn[1]*to+_o+ro[1]),Le.setColor(xm(Pi(pe,"paint","text-color",mt,Ve,ee),Rt)),Te.setFill(Le);var sn=xm(Pi(pe,"paint","text-halo-color",mt,Ve,ee),Rt);if(sn){De.setColor(sn),gi*=2;var Lt=.5*to;De.setWidth(gi<=Lt?gi:Lt),Te.setStroke(De)}else Te.setStroke(void 0);var wn=Pi(pe,"layout","text-padding",mt,Ve,ee),dr=Te.getPadding();wn!==dr[0]&&(dr[0]=wn,dr[1]=wn,dr[2]=wn,dr[3]=wn),gn.setZIndex(yn)}}},Ht=0,Ct=dt.length;Ht<Ct;++Ht)Jt(Ht);if(Xe>-1)return he.length=Xe+1,he}};return e.setStyle(qe),e.set("mapbox-source",N),e.set("mapbox-layers",P),qe}var HW={exports:{}};(function(){var e;HW.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(t){return"https://fonts.google.com/specimen/"+t.replace(/( )/g,"+")},normalizeName:function(t){return t}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(Bh);var rhe=HW.exports;const ihe=Oa(rhe);var MK={},ohe=/font-family: ?([^;]*);/,ahe=/("|')/g,_2;function she(e){if(!_2){_2={};for(var t=document.styleSheets,n=0,r=t.length;n<r;++n){var i=t[n];try{var o=i.rules||i.cssRules;if(o)for(var a=0,s=o.length;a<s;++a){var h=o[a];if(h.type==5){var g=h.cssText.match(ohe);_2[g[1].replace(ahe,"")]=!0}}}catch{}}}return e in _2}var SK={},lhe=ihe.getNames();function uhe(e){var t=e.toString();if(t in SK)return e;for(var n=e.map(function(g){var _=hO(g,1).split(" ");return[_.slice(3).join(" ").replace(/"/g,""),_[1]+_[0]]}),r=0,i=n.length;r<i;++r){var o=n[r],a=o[0];if(!she(a)&&lhe.indexOf(a)!==-1){var s="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+s+'"]')){var h=document.createElement("link");h.href=s,h.rel="stylesheet",document.head.appendChild(h)}}}return SK[t]=!0,e}var VW=/^(.*)(\?.*)$/;function S4(e,t){return t&&e.indexOf(".")===0&&(e=t+e),e}function zS(e,t,n){e=S4(e,t);var r=e.match(VW);return r?r[1]+n+(r.length>2?r[2]:""):e+n}function Ahe(e,t,n,r,i){return new Promise(function(o,a){if(typeof t!="object"&&(t=JSON.parse(t)),t.version!=8)return a(new Error("glStyle version 8 required."));if(!(e instanceof Wj||e instanceof lW))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,h,g,_;function B(){!_&&(!t.sprite||h)?(_=nhe(e,t,n,i,h,g,uhe),e.getStyle()?o():a(new Error("Nothing to show for source [".concat(n,"]")))):_?(e.setStyle(_),o()):a(new Error("Something went wrong trying to apply style."))}if(t.sprite){s=window.devicePixelRatio>=1.5?.5:1;var k=s==.5?"@2x":"",P=zS(t.sprite,r,k+".json");fetch(P,{credentials:"same-origin"}).then(function(F){return!F.ok&&k!==""?(P=zS(t.sprite,r,".json"),fetch(P,{credentials:"same-origin"})):F}).then(function(F){if(F.ok)return F.json();a(new Error("Problem fetching sprite from ".concat(P,": ").concat(F.statusText)))}).then(function(F){if(F===void 0)return a(new Error("No sprites found."));h=F,g=zS(t.sprite,r,k+".png"),B()}).catch(function(F){a(new Error("Sprites cannot be loaded: ".concat(P,": ").concat(F.message)))})}else B()})}var BO={};function che(e,t){var n={id:t.id,type:t.type},r={};function i(o){var a=t.layout||{},s=t.paint||{};n.paint=s;var h=typeof e.getSource=="function"?e.getSource().getTileGrid().getZForResolution(o):e.getView().getZoom(),g=typeof e.getTargetElement=="function"?e.getTargetElement():void 0,_,B;if(s["background-color"]!==void 0&&(_=Pi(n,"paint","background-color",h,BO,r),g&&(g.style.background=Xl.parse(_).toString())),s["background-opacity"]!==void 0&&(B=Pi(n,"paint","background-opacity",h,BO,r),g&&(g.style.opacity=B)),a.visibility=="none"){g&&(g.style.backgroundColor="",g.style.opacity="");return}return xm(_,B)}if(typeof e.getTargetElement=="function")e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else if(typeof e.setBackground=="function")e.setBackground(i);else throw new Error("Unable to apply background.")}function dhe(e,t){var n;return e.some(function(r){if(r.id==t)return n=r.source,!0}),n}function ZW(e){var t=e.bounds;if(t){var n=ZE([t[0],t[1]]),r=ZE([t[2],t[3]]);return[n[0],n[1],r[0],r[1]]}}function hhe(e,t){e=$W({},e);var n=[t,JSON.stringify(e)].toString(),r=MK[n];return r||(r=new aW({url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0}),MK[n]=r),new Promise(function(i){var o=r.on("change",function(){var a=r.getState();if(a==="ready"){var s=r.getTileJSON(),h=Array.isArray(s.tiles)?s.tiles:[s.tiles];if(t)for(var g=0,_=h.length;g<_;++g)h[g]=decodeURI(new URL(h[g],t).href);var B=r.getTileGrid(),k=ZW(s),P=s.minzoom||0,F=s.maxzoom||22,q=r.get("ol-source");q===void 0&&(q=new uW({attributions:r.getAttributions(),format:new goe,tileGrid:new Eb({origin:B.getOrigin(0),extent:k||B.getExtent(),minZoom:P,resolutions:nv.slice(0,F+1),tileSize:512}),urls:h}),r.set("ol-source",q)),WC(o),i(q)}else a==="error"&&(r.set("ol-source",null),WC(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function fhe(e,t){var n=new lW({declutter:!0,visible:!1});return hhe(e,t).then(function(r){n.setSource(r)}),n}function phe(e,t){var n=new Rue,r=new aW({transition:0,url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){WC(i);var a=r.getTileJSON(),s=ZW(a),h=r.getTileGrid(),g=e.tileSize||a.tileSize||512,_=a.minzoom||0,B=a.maxzoom||22;r.tileGrid=new Eb({origin:h.getOrigin(0),extent:s||h.getExtent(),minZoom:_,resolutions:C8({maxZoom:B,tileSize:g}).getResolutions(),tileSize:g}),n.setSource(r)}else o==="error"&&(WC(i),n.setSource(void 0))});return r.setTileLoadFunction(function(o,a){if(a.indexOf("{bbox-epsg-3857}")!=-1){var s=r.getTileGrid().getTileCoordExtent(o.getTileCoord());a=a.replace("{bbox-epsg-3857}",s.toString())}var h=o.getImage();h.src=a}),n}var EK=new kie;function mhe(e,t){var n=e.data,r,i;return typeof n=="string"?i=S4(n,t):r=EK.readFeatures(n,{featureProjection:"EPSG:3857"}),new Wj({declutter:!0,source:new $j({attributions:e.attribution,features:r,format:EK,url:i}),visible:!1})}function OK(e,t,n,r){var i=n.getZoom(),o=Pi(e,"paint","raster-opacity",i,BO,r);t.setOpacity(o)}function BK(e,t,n,r,i,o){o===void 0&&(o="");var a=[],s=t.getView();!s.isDef()&&!s.getRotation()&&!s.getResolutions()&&(s=new Tp($W(s.getProperties(),{maxResolution:nv[0]})),t.setView(s)),"center"in e&&!s.getCenter()&&s.setCenter(ZE(e.center)),"zoom"in e&&s.getZoom()===void 0&&s.setResolution(nv[0]/Math.pow(2,e.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:t.getSize()}),e.sprite&&(e.sprite.indexOf("mapbox://")==0?e.sprite=n+"/sprite"+o:e.sprite.indexOf("http")!=0&&(e.sprite=(r?r+i:"")+e.sprite+o));for(var h=e.layers,g=[],_,B,k,P,F,q,ee=function(ue,ye){_=h[ue];var be=_.type;if(!(be=="heatmap"||be=="hillshade"))if(be=="background")che(t,_);else{if(P=_.source||dhe(h,_.ref),P!=k){if(g.length&&(a.push(kK(F,g,e,i,t)),g=[]),B=e.sources[P],q=B.url,q)if(q=S4(q,i),q.indexOf("mapbox://")==0){var J=q.replace("mapbox://","");B.tiles=["a","b","c","d"].map(function(xe){return"https://"+xe+".tiles.mapbox.com/v4/"+J+"/{z}/{x}/{y}."+(B.type=="vector"?"vector.pbf":"png")+o})}else q.indexOf("/")===0&&r.indexOf("http")===0&&(q=r+q);if(B.tiles&&(B.tiles=B.tiles.map(function(xe){return S4(xe,i)})),B.type=="vector")F=fhe(B,q);else if(B.type=="raster"){F=phe(B,q),F.setVisible(_.layout?_.layout.visibility!=="none":!0);var se={};s.on("change:resolution",OK.bind(H,_,F,s,se)),OK(_,F,s,se)}else B.type=="geojson"&&(F=mhe(B,i));k=P,F&&F.set("mapbox-source",k)}g.push(_.id)}},H=this,N=0,Z=h.length;N<Z;++N)ee(N);return a.push(kK(F,g,e,i,t)),t.set("mapbox-style",e),Promise.all(a)}function ghe(e,t){var n,r="",i="",o="",a="";if((typeof e=="string"||e instanceof HTMLElement)&&(e=new v8({target:e})),typeof t=="string"){var s=t.match(VW);s&&(i=s[1],r=s.length>2?s[2]:""),n=new Promise(function(h,g){fetch(t,{credentials:"same-origin"}).then(function(_){return _.json()}).then(function(_){var B=document.createElement("A");B.href=t;var k=B.href;a=B.pathname.split("/").slice(0,-1).join("/")+"/",o=k.substr(0,k.indexOf(a)),BK(_,e,i,o,a,r).then(function(){h(e)}).catch(g)}).catch(function(_){g(new Error("Could not load ".concat(t,": ").concat(_.message)))})})}else n=new Promise(function(h,g){BK(t,e).then(function(){h(e)}).catch(g)});return n}function yhe(e,t){return(typeof e=="string"||e instanceof HTMLElement)&&(e=new v8({target:e})),setTimeout(function(){ghe(e,t)},0),e}function kK(e,t,n,r,i){for(var o=24,a=0,s=n.layers,h=0,g=s.length;h<g;++h){var _=s[h];t.indexOf(_.id)!==-1&&(o=Math.min("minzoom"in _?_.minzoom:0,o),a=Math.max("maxzoom"in _?_.maxzoom:24,a))}return new Promise(function(B,k){var P=function(){var F=e.getSource();if(!F||F.getState()==="error"){k(new Error("Error accessing data for source "+e.get("mapbox-source")));return}if("getTileGrid"in F){var q=F.getTileGrid();if(q){var ee=q.getMinZoom();(o>0||ee>0)&&e.setMaxResolution(Math.min(nv[o],q.getResolution(ee))+1e-9),a<24&&e.setMinResolution(nv[a]+1e-9)}}F instanceof $j||F instanceof uW?Ahe(e,n,t,r).then(function(){e.setVisible(!0),B()},function(H){k(H)}):B()};e.set("mapbox-layers",t),i.getLayers().getArray().indexOf(e)===-1&&i.addLayer(e),e.getSource()?P():e.once("change:source",P)})}function Er(){var e="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",t="289072bd1575a4d391f262cdf75fcdafa8679c23",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:14,column:3}},1:{start:{line:11,column:4},end:{line:11,column:16}},2:{start:{line:13,column:4},end:{line:13,column:149}},3:{start:{line:13,column:103},end:{line:13,column:133}},4:{start:{line:17,column:24},end:{line:24,column:3}},5:{start:{line:27,column:14},end:{line:27,column:18}},6:{start:{line:29,column:19},end:{line:29,column:23}},7:{start:{line:31,column:4},end:{line:31,column:17}},8:{start:{line:32,column:4},end:{line:37,column:6}},9:{start:{line:38,column:4},end:{line:38,column:67}},10:{start:{line:41,column:4},end:{line:42,column:13}},11:{start:{line:42,column:6},end:{line:42,column:13}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:4},end:{line:169,column:9}},36:{start:{line:116,column:22},end:{line:116,column:45}},37:{start:{line:161,column:22},end:{line:161,column:40}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:30},end:{line:15,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:92},end:{line:13,column:93}},loc:{start:{line:13,column:103},end:{line:13,column:133}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:23},end:{line:19,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:24},end:{line:21,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:25},end:{line:23,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:21},end:{line:39,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:28},end:{line:45,column:3}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:170,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:116,column:15},end:{line:116,column:16}},loc:{start:{line:116,column:22},end:{line:116,column:45}},line:116},15:{name:"(anonymous_15)",decl:{start:{line:161,column:15},end:{line:161,column:16}},loc:{start:{line:161,column:22},end:{line:161,column:40}},line:161}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:14,column:3}},{start:{line:12,column:9},end:{line:14,column:3}}],line:10},1:{loc:{start:{line:10,column:6},end:{line:10,column:34}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:13}},{start:{line:10,column:17},end:{line:10,column:34}}],line:10},2:{loc:{start:{line:41,column:4},end:{line:42,column:13}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:132,column:26},end:{line:132,column:59}},type:"binary-expr",locations:[{start:{line:132,column:26},end:{line:132,column:53}},{start:{line:132,column:57},end:{line:132,column:59}}],line:132},5:{loc:{start:{line:143,column:6},end:{line:156,column:10}},type:"binary-expr",locations:[{start:{line:143,column:6},end:{line:143,column:29}},{start:{line:143,column:49},end:{line:156,column:10}}],line:143}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAmBW,cAuIL,YAvIK;AAnBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AAEvB,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK;AAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAA+B;AAChD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAW;AAAA,gBACZ;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBAAmB;AAAA;AAAA,QACzB,KAAK,MAAM;AAAA,SACpB;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,wBAAU;AAAA,UACjB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAW;AAAA,UACX,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"289072bd1575a4d391f262cdf75fcdafa8679c23"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Er=function(){return a},a}Er();function IK(e){return Er().f[0]++,Er().s[0]++,Er().b[1][0]++,!e||(Er().b[1][1]++,e.length<2)?(Er().b[0][0]++,Er().s[1]++,null):(Er().b[0][1]++,Er().s[2]++,G.jsx("span",{className:"maputnik-coords",children:e.map(t=>(Er().f[1]++,Er().s[3]++,String(t).padStart(7," "))).join(", ")}))}class XW extends Mn.Component{constructor(n){Er().f[5]++,Er().s[7]++;super(n);on(this,"updateStyle");on(this,"map");on(this,"container",(Er().s[5]++,null));on(this,"overlay");on(this,"popupContainer",(Er().s[6]++,null));on(this,"closeOverlay",(Er().s[32]++,n=>{Er().f[12]++,Er().s[33]++,n.target.blur(),Er().s[34]++,this.overlay.setPosition(void 0)}));Er().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Er().s[9]++,this.updateStyle=T5.throttle(this._updateStyle.bind(this),200)}_updateStyle(n){if(Er().f[6]++,Er().s[10]++,this.map)Er().b[2][1]++;else{Er().b[2][0]++,Er().s[11]++;return}Er().s[12]++,this.map.getLayers().clear(),Er().s[13]++,yhe(this.map,n)}componentDidUpdate(n){Er().f[7]++,Er().s[14]++,this.props.mapStyle!==n.mapStyle?(Er().b[3][0]++,Er().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Er().b[3][1]++}componentDidMount(){Er().f[8]++,Er().s[16]++,this.overlay=new Tae({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const n=(Er().s[17]++,new v8({target:this.container,overlays:[this.overlay],view:new Tp({zoom:1,center:[180,-90]})}));Er().s[18]++,n.on("pointermove",i=>{Er().f[9]++;const o=(Er().s[19]++,AS(i.coordinate));Er().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Er().s[21]++;const r=()=>{Er().f[10]++;const i=(Er().s[22]++,n.getView().getZoom()),o=(Er().s[23]++,AS(n.getView().getCenter()));Er().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Er().s[25]++,r(),Er().s[26]++,n.on("moveend",r),Er().s[27]++,n.on("postrender",i=>{Er().f[11]++;const o=(Er().s[28]++,AS(n.getView().getCenter()));Er().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:n.getView().getRotation().toFixed(2),zoom:n.getView().getZoom().toFixed(2)})}),Er().s[30]++,this.map=n,Er().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){return Er().f[13]++,Er().s[35]++,G.jsxs("div",{className:"maputnik-ol-container",children:[G.jsxs("div",{ref:n=>(Er().f[14]++,Er().s[36]++,this.popupContainer=n),style:{background:"black"},className:"maputnik-popup",children:[G.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup",children:"×"}),G.jsx(oz,{features:(Er().b[4][0]++,this.state.selectedFeatures||(Er().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),G.jsxs("div",{className:"maputnik-ol-zoom",children:["Zoom: ",this.state.zoom]}),(Er().b[5][0]++,this.props.debugToolbox&&(Er().b[5][1]++,G.jsxs("div",{className:"maputnik-ol-debug",children:[G.jsxs("div",{children:[G.jsx("label",{children:"cursor: "}),G.jsx("span",{children:IK(this.state.cursor)})]}),G.jsxs("div",{children:[G.jsx("label",{children:"center: "}),G.jsx("span",{children:IK(this.state.center)})]}),G.jsxs("div",{children:[G.jsx("label",{children:"rotation: "}),G.jsx("span",{children:this.state.rotation})]})]}))),G.jsx("div",{className:"maputnik-ol",ref:n=>(Er().f[15]++,Er().s[37]++,this.container=n),role:"region","aria-label":"Map view",style:{...this.props.style}})]})}}on(XW,"defaultProps",(Er().s[4]++,{onMapLoaded:()=>{Er().f[2]++},onDataChange:()=>{Er().f[3]++},onLayerSelect:()=>{Er().f[4]++}}));var JW={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(JW);var vhe=JW.exports;const Rf=Oa(vhe);function J0(){var e="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",t="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return J0=function(){return a},a}J0();class _he extends Mn.Component{render(){J0().f[0]++;const t=(J0().s[0]++,{width:20,height:20,...this.props.style});return J0().s[1]++,this.props.isCollapsed?(J0().b[0][0]++,G.jsx(cte,{style:t})):(J0().b[0][1]++,G.jsx(Ate,{style:t}))}}function hy(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",t="b04bfec534013c327fd210571832bbd2813a944a",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return hy=function(){return a},a}hy();class Che extends Mn.Component{render(){return hy().f[0]++,hy().s[0]++,G.jsx("li",{className:"maputnik-layer-list-group",children:G.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:t=>(hy().f[1]++,hy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[G.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),G.jsx("span",{className:"maputnik-space"}),G.jsx(_he,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(this,arguments)}function bhe(e){if(Array.isArray(e))return e}function xhe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],h=!0,g=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);h=!0);}catch(_){g=!0,i=_}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(g)throw i}}return s}}function kO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eN(e,t){if(e){if(typeof e=="string")return kO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kO(e,t)}}function whe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tN(e,t){return bhe(e)||xhe(e,t)||eN(e,t)||whe()}function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function Mhe(e,t){if(rv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nN(e){var t=Mhe(e,"string");return rv(t)=="symbol"?t:t+""}function Ma(e,t,n){return t=nN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.forEach(function(i){Ma(e,i,n[i])})}return e}function kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nN(r.key),r)}}function Ib(e,t,n){return t&&TK(e.prototype,t),n&&TK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function go(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z8(e,t){if(t&&(rv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ib(e)}function IO(e,t){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IO(e,t)}function X8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IO(e,t)}var She=function(e,t,n,r,i,o,a,s){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[n,r,i,o,a,s],_=0;h=new Error(t.replace(/%s/g,function(){return g[_++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}},Ehe=She;const K1=Oa(Ehe);function Ohe(e){if(Array.isArray(e))return kO(e)}function Bhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function khe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(e){return Ohe(e)||Bhe(e)||eN(e)||khe()}var The=function(){function e(){kb(this,e),Ma(this,"refs",{})}return Ib(e,[{key:"add",value:function(n,r){this.refs[n]||(this.refs[n]=[]),this.refs[n].push(r)}},{key:"remove",value:function(n,r){var i=this.getIndex(n,r);i!==-1&&this.refs[n].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var n=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==n.active.index})}},{key:"getIndex",value:function(n,r){return this.refs[n].indexOf(r)}},{key:"getOrderedRefs",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[n].sort(Khe)}}]),e}();function Khe(e,t){var n=e.node.sortableInfo.index,r=t.node.sortableInfo.index;return n-r}function rN(e,t){return Object.keys(e).reduce(function(n,r){return t.indexOf(r)===-1&&(n[r]=e[r]),n},{})}var Kg={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},iN=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function C2(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}function b2(e,t){e.style["".concat(iN,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function WS(e,t){e.style["".concat(iN,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function z_(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function KK(e,t,n){return Math.max(e,Math.min(n,t))}function fy(e){return e.substr(-2)==="px"?parseFloat(e):0}function Phe(e){var t=window.getComputedStyle(e);return{bottom:fy(t.marginBottom),left:fy(t.marginLeft),right:fy(t.marginRight),top:fy(t.marginTop)}}function J8(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function NS(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function v_(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Fhe(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function n3(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:n3(e.parentNode,t,r)}}function Dhe(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function PK(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if(typeof t=="string"){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);K1(s!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return K1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),a==="%"&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function Lhe(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];K1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=tN(i,2),a=o[0],s=o[1];return[PK({height:t,lockOffset:a,width:n}),PK({height:t,lockOffset:s,width:n})]}function Uhe(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return n.test(t[i])})}function oN(e){return e instanceof HTMLElement?Uhe(e)?e:oN(e.parentNode):null}function Rhe(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:fy(t.gridColumnGap),y:fy(t.gridRowGap)}:{x:0,y:0}}var j0={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},e1={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function zhe(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0),i=Ihe(r.querySelectorAll(t));return i.forEach(function(o,a){if(o.type!=="file"&&(o.value=n[a].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===e1.Canvas&&n[a].width>0&&n[a].height>0){var s=o.getContext("2d");s.drawImage(n[a],0,0)}}),r}function jhe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){X8(o,i);function o(){var a,s;kb(this,o);for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];return s=Z8(this,(a=ib(o)).call.apply(a,[this].concat(g))),Ma(go(go(s)),"wrappedInstance",kr.createRef()),s}return Ib(o,[{key:"componentDidMount",value:function(){var s=d0.findDOMNode(this);s.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return K1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return kr.createElement(e,rb({ref:s},this.props))}}]),o}(kr.Component),Ma(t,"displayName",J8("sortableHandle",e)),n}function FK(e){return e.sortableHandle!=null}var Whe=function(){function e(t,n){kb(this,e),this.container=t,this.onScrollCallback=n}return Ib(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(n){var r=this,i=n.translate,o=n.minTranslate,a=n.maxTranslate,s=n.width,h=n.height,g={x:0,y:0},_={x:1,y:1},B={x:10,y:10},k=this.container,P=k.scrollTop,F=k.scrollLeft,q=k.scrollHeight,ee=k.scrollWidth,H=k.clientHeight,N=k.clientWidth,Z=P===0,ue=q-P-H===0,ye=F===0,be=ee-F-N===0;i.y>=a.y-h/2&&!ue?(g.y=1,_.y=B.y*Math.abs((a.y-h/2-i.y)/h)):i.x>=a.x-s/2&&!be?(g.x=1,_.x=B.x*Math.abs((a.x-s/2-i.x)/s)):i.y<=o.y+h/2&&!Z?(g.y=-1,_.y=B.y*Math.abs((i.y-h/2-o.y)/h)):i.x<=o.x+s/2&&!ye&&(g.x=-1,_.x=B.x*Math.abs((i.x-s/2-o.x)/s)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(g.x!==0||g.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var J={left:_.x*g.x,top:_.y*g.y};r.container.scrollTop+=J.top,r.container.scrollLeft+=J.left,r.onScrollCallback(J)},5))}}]),e}();function Nhe(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function Ghe(e){var t=[e1.Input,e1.Textarea,e1.Select,e1.Option,e1.Button];return!!(t.indexOf(e.target.tagName)!==-1||z_(e.target,function(n){return n.contentEditable==="true"}))}var aN={axis:Rr.oneOf(["x","y","xy"]),contentWindow:Rr.any,disableAutoscroll:Rr.bool,distance:Rr.number,getContainer:Rr.func,getHelperDimensions:Rr.func,helperClass:Rr.string,helperContainer:Rr.oneOfType([Rr.func,typeof HTMLElement>"u"?Rr.any:Rr.instanceOf(HTMLElement)]),hideSortableGhost:Rr.bool,keyboardSortingTransitionDuration:Rr.number,lockAxis:Rr.string,lockOffset:Rr.oneOfType([Rr.number,Rr.string,Rr.arrayOf(Rr.oneOfType([Rr.number,Rr.string]))]),lockToContainerEdges:Rr.bool,onSortEnd:Rr.func,onSortMove:Rr.func,onSortOver:Rr.func,onSortStart:Rr.func,pressDelay:Rr.number,pressThreshold:Rr.number,keyCodes:Rr.shape({lift:Rr.arrayOf(Rr.number),drop:Rr.arrayOf(Rr.number),cancel:Rr.arrayOf(Rr.number),up:Rr.arrayOf(Rr.number),down:Rr.arrayOf(Rr.number)}),shouldCancelStart:Rr.func,transitionDuration:Rr.number,updateBeforeSortStart:Rr.func,useDragHandle:Rr.bool,useWindowAsScrollContainer:Rr.bool},sN={lift:[j0.SPACE],drop:[j0.SPACE],cancel:[j0.ESC],up:[j0.UP,j0.LEFT],down:[j0.DOWN,j0.RIGHT]},Qhe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:Nhe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:sN,shouldCancelStart:Ghe,transitionDuration:300,useWindowAsScrollContainer:!1},$he=Object.keys(aN);function Yhe(e){K1(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function qhe(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var lN=kr.createContext({manager:{}});function Hhe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){X8(o,i);function o(a){var s;kb(this,o),s=Z8(this,ib(o).call(this,a)),Ma(go(go(s)),"state",{}),Ma(go(go(s)),"handleStart",function(g){var _=s.props,B=_.distance,k=_.shouldCancelStart;if(!(g.button===2||k(g))){s.touched=!0,s.position=v_(g);var P=z_(g.target,function(Z){return Z.sortableInfo!=null});if(P&&P.sortableInfo&&s.nodeIsChild(P)&&!s.state.sorting){var F=s.props.useDragHandle,q=P.sortableInfo,ee=q.index,H=q.collection,N=q.disabled;if(N||F&&!z_(g.target,FK))return;s.manager.active={collection:H,index:ee},!Fhe(g)&&g.target.tagName===e1.Anchor&&g.preventDefault(),B||(s.props.pressDelay===0?s.handlePress(g):s.pressTimer=setTimeout(function(){return s.handlePress(g)},s.props.pressDelay))}}}),Ma(go(go(s)),"nodeIsChild",function(g){return g.sortableInfo.manager===s.manager}),Ma(go(go(s)),"handleMove",function(g){var _=s.props,B=_.distance,k=_.pressThreshold;if(!s.state.sorting&&s.touched&&!s._awaitingUpdateBeforeSortStart){var P=v_(g),F={x:s.position.x-P.x,y:s.position.y-P.y},q=Math.abs(F.x)+Math.abs(F.y);s.delta=F,!B&&(!k||q>=k)?(clearTimeout(s.cancelTimer),s.cancelTimer=setTimeout(s.cancel,0)):B&&q>=B&&s.manager.isActive()&&s.handlePress(g)}}),Ma(go(go(s)),"handleEnd",function(){s.touched=!1,s.cancel()}),Ma(go(go(s)),"cancel",function(){var g=s.props.distance,_=s.state.sorting;_||(g||clearTimeout(s.pressTimer),s.manager.active=null)}),Ma(go(go(s)),"handlePress",function(g){try{var _=s.manager.getActive(),B=function(){if(_){var k=function(){var Se=ye.sortableInfo.index,De=Phe(ye),Le=Rhe(s.container),he=s.scrollContainer.getBoundingClientRect(),qe=q({index:Se,node:ye,collection:be});if(s.node=ye,s.margin=De,s.gridGap=Le,s.width=qe.width,s.height=qe.height,s.marginOffset={x:s.margin.left+s.margin.right+s.gridGap.x,y:Math.max(s.margin.top,s.margin.bottom,s.gridGap.y)},s.boundingClientRect=ye.getBoundingClientRect(),s.containerBoundingRect=he,s.index=Se,s.newIndex=Se,s.axis={x:F.indexOf("x")>=0,y:F.indexOf("y")>=0},s.offsetEdge=n3(ye,s.container),J?s.initialOffset=v_(jS({},g,{pageX:s.boundingClientRect.left,pageY:s.boundingClientRect.top})):s.initialOffset=v_(g),s.initialScroll={left:s.scrollContainer.scrollLeft,top:s.scrollContainer.scrollTop},s.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},s.helper=s.helperContainer.appendChild(zhe(ye)),C2(s.helper,{boxSizing:"border-box",height:"".concat(s.height,"px"),left:"".concat(s.boundingClientRect.left-De.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(s.boundingClientRect.top-De.top,"px"),width:"".concat(s.width,"px")}),J&&s.helper.focus(),H&&(s.sortableGhost=ye,C2(ye,{opacity:0,visibility:"hidden"})),s.minTranslate={},s.maxTranslate={},J){var ge=ue?{top:0,left:0,width:s.contentWindow.innerWidth,height:s.contentWindow.innerHeight}:s.containerBoundingRect,_t=ge.top,Mt=ge.left,dt=ge.width,mt=ge.height,je=_t+mt,Ve=Mt+dt;s.axis.x&&(s.minTranslate.x=Mt-s.boundingClientRect.left,s.maxTranslate.x=Ve-(s.boundingClientRect.left+s.width)),s.axis.y&&(s.minTranslate.y=_t-s.boundingClientRect.top,s.maxTranslate.y=je-(s.boundingClientRect.top+s.height))}else s.axis.x&&(s.minTranslate.x=(ue?0:he.left)-s.boundingClientRect.left-s.width/2,s.maxTranslate.x=(ue?s.contentWindow.innerWidth:he.left+he.width)-s.boundingClientRect.left-s.width/2),s.axis.y&&(s.minTranslate.y=(ue?0:he.top)-s.boundingClientRect.top-s.height/2,s.maxTranslate.y=(ue?s.contentWindow.innerHeight:he.top+he.height)-s.boundingClientRect.top-s.height/2);ee&&ee.split(" ").forEach(function(Xe){return s.helper.classList.add(Xe)}),s.listenerNode=g.touches?g.target:s.contentWindow,J?(s.listenerNode.addEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.addEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.addEventListener("keydown",s.handleKeyDown)):(Kg.move.forEach(function(Xe){return s.listenerNode.addEventListener(Xe,s.handleSortMove,!1)}),Kg.end.forEach(function(Xe){return s.listenerNode.addEventListener(Xe,s.handleSortEnd,!1)})),s.setState({sorting:!0,sortingIndex:Se}),Z&&Z({node:ye,index:Se,collection:be,isKeySorting:J,nodes:s.manager.getOrderedRefs(),helper:s.helper},g),J&&s.keyMove(0)},P=s.props,F=P.axis,q=P.getHelperDimensions,ee=P.helperClass,H=P.hideSortableGhost,N=P.updateBeforeSortStart,Z=P.onSortStart,ue=P.useWindowAsScrollContainer,ye=_.node,be=_.collection,J=s.manager.isKeySorting,se=function(){if(typeof N=="function"){s._awaitingUpdateBeforeSortStart=!0;var xe=qhe(function(){var Se=ye.sortableInfo.index;return Promise.resolve(N({collection:be,index:Se,node:ye,isKeySorting:J},g)).then(function(){})},function(Se,De){if(s._awaitingUpdateBeforeSortStart=!1,Se)throw De;return De});if(xe&&xe.then)return xe.then(function(){})}}();return se&&se.then?se.then(k):k(se)}}();return Promise.resolve(B&&B.then?B.then(function(){}):void 0)}catch(k){return Promise.reject(k)}}),Ma(go(go(s)),"handleSortMove",function(g){var _=s.props.onSortMove;typeof g.preventDefault=="function"&&g.cancelable&&g.preventDefault(),s.updateHelperPosition(g),s.animateNodes(),s.autoscroll(),_&&_(g)}),Ma(go(go(s)),"handleSortEnd",function(g){var _=s.props,B=_.hideSortableGhost,k=_.onSortEnd,P=s.manager,F=P.active.collection,q=P.isKeySorting,ee=s.manager.getOrderedRefs();s.listenerNode&&(q?(s.listenerNode.removeEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("keydown",s.handleKeyDown)):(Kg.move.forEach(function(ye){return s.listenerNode.removeEventListener(ye,s.handleSortMove)}),Kg.end.forEach(function(ye){return s.listenerNode.removeEventListener(ye,s.handleSortEnd)}))),s.helper.parentNode.removeChild(s.helper),B&&s.sortableGhost&&C2(s.sortableGhost,{opacity:"",visibility:""});for(var H=0,N=ee.length;H<N;H++){var Z=ee[H],ue=Z.node;Z.edgeOffset=null,Z.boundingClientRect=null,b2(ue,null),WS(ue,null),Z.translate=null}s.autoScroller.clear(),s.manager.active=null,s.manager.isKeySorting=!1,s.setState({sorting:!1,sortingIndex:null}),typeof k=="function"&&k({collection:F,newIndex:s.newIndex,oldIndex:s.index,isKeySorting:q,nodes:ee},g),s.touched=!1}),Ma(go(go(s)),"autoscroll",function(){var g=s.props.disableAutoscroll,_=s.manager.isKeySorting;if(g){s.autoScroller.clear();return}if(_){var B=jS({},s.translate),k=0,P=0;s.axis.x&&(B.x=Math.min(s.maxTranslate.x,Math.max(s.minTranslate.x,s.translate.x)),k=s.translate.x-B.x),s.axis.y&&(B.y=Math.min(s.maxTranslate.y,Math.max(s.minTranslate.y,s.translate.y)),P=s.translate.y-B.y),s.translate=B,b2(s.helper,s.translate),s.scrollContainer.scrollLeft+=k,s.scrollContainer.scrollTop+=P;return}s.autoScroller.update({height:s.height,maxTranslate:s.maxTranslate,minTranslate:s.minTranslate,translate:s.translate,width:s.width})}),Ma(go(go(s)),"onAutoScroll",function(g){s.translate.x+=g.left,s.translate.y+=g.top,s.animateNodes()}),Ma(go(go(s)),"handleKeyDown",function(g){var _=g.keyCode,B=s.props,k=B.shouldCancelStart,P=B.keyCodes,F=P===void 0?{}:P,q=jS({},sN,F);s.manager.active&&!s.manager.isKeySorting||!s.manager.active&&(!q.lift.includes(_)||k(g)||!s.isValidSortingTarget(g))||(g.stopPropagation(),g.preventDefault(),q.lift.includes(_)&&!s.manager.active?s.keyLift(g):q.drop.includes(_)&&s.manager.active?s.keyDrop(g):q.cancel.includes(_)?(s.newIndex=s.manager.active.index,s.keyDrop(g)):q.up.includes(_)?s.keyMove(-1):q.down.includes(_)&&s.keyMove(1))}),Ma(go(go(s)),"keyLift",function(g){var _=g.target,B=z_(_,function(q){return q.sortableInfo!=null}),k=B.sortableInfo,P=k.index,F=k.collection;s.initialFocusedNode=_,s.manager.isKeySorting=!0,s.manager.active={index:P,collection:F},s.handlePress(g)}),Ma(go(go(s)),"keyMove",function(g){var _=s.manager.getOrderedRefs(),B=_[_.length-1].node.sortableInfo.index,k=s.newIndex+g,P=s.newIndex;if(!(k<0||k>B)){s.prevIndex=P,s.newIndex=k;var F=Dhe(s.newIndex,s.prevIndex,s.index),q=_.find(function(J){var se=J.node;return se.sortableInfo.index===F}),ee=q.node,H=s.containerScrollDelta,N=q.boundingClientRect||NS(ee,H),Z=q.translate||{x:0,y:0},ue={top:N.top+Z.y-H.top,left:N.left+Z.x-H.left},ye=P<k,be={x:ye&&s.axis.x?ee.offsetWidth-s.width:0,y:ye&&s.axis.y?ee.offsetHeight-s.height:0};s.handleSortMove({pageX:ue.left+be.x,pageY:ue.top+be.y,ignoreTransition:g===0})}}),Ma(go(go(s)),"keyDrop",function(g){s.handleSortEnd(g),s.initialFocusedNode&&s.initialFocusedNode.focus()}),Ma(go(go(s)),"handleKeyEnd",function(g){s.manager.active&&s.keyDrop(g)}),Ma(go(go(s)),"isValidSortingTarget",function(g){var _=s.props.useDragHandle,B=g.target,k=z_(B,function(P){return P.sortableInfo!=null});return k&&k.sortableInfo&&!k.sortableInfo.disabled&&(_?FK(B):B.sortableInfo)});var h=new The;return Yhe(a),s.manager=h,s.wrappedInstance=kr.createRef(),s.sortableContextValue={manager:h},s.events={end:s.handleEnd,move:s.handleMove,start:s.handleStart},s}return Ib(o,[{key:"componentDidMount",value:function(){var s=this,h=this.props.useWindowAsScrollContainer,g=this.getContainer();Promise.resolve(g).then(function(_){s.container=_,s.document=s.container.ownerDocument||document;var B=s.props.contentWindow||s.document.defaultView||window;s.contentWindow=typeof B=="function"?B():B,s.scrollContainer=h?s.document.scrollingElement||s.document.documentElement:oN(s.container)||s.container,s.autoScroller=new Whe(s.scrollContainer,s.onAutoScroll),Object.keys(s.events).forEach(function(k){return Kg[k].forEach(function(P){return s.container.addEventListener(P,s.events[k],!1)})}),s.container.addEventListener("keydown",s.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var s=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(h){return Kg[h].forEach(function(g){return s.container.removeEventListener(g,s.events[h])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(s){var h=this.props,g=h.lockAxis,_=h.lockOffset,B=h.lockToContainerEdges,k=h.transitionDuration,P=h.keyboardSortingTransitionDuration,F=P===void 0?k:P,q=this.manager.isKeySorting,ee=s.ignoreTransition,H=v_(s),N={x:H.x-this.initialOffset.x,y:H.y-this.initialOffset.y};if(N.y-=window.pageYOffset-this.initialWindowScroll.top,N.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=N,B){var Z=Lhe({height:this.height,lockOffset:_,width:this.width}),ue=tN(Z,2),ye=ue[0],be=ue[1],J={x:this.width/2-ye.x,y:this.height/2-ye.y},se={x:this.width/2-be.x,y:this.height/2-be.y};N.x=KK(this.minTranslate.x+J.x,this.maxTranslate.x-se.x,N.x),N.y=KK(this.minTranslate.y+J.y,this.maxTranslate.y-se.y,N.y)}g==="x"?N.y=0:g==="y"&&(N.x=0),q&&F&&!ee&&WS(this.helper,F),b2(this.helper,N)}},{key:"animateNodes",value:function(){var s=this.props,h=s.transitionDuration,g=s.hideSortableGhost,_=s.onSortOver,B=this.containerScrollDelta,k=this.windowScrollDelta,P=this.manager.getOrderedRefs(),F={left:this.offsetEdge.left+this.translate.x+B.left,top:this.offsetEdge.top+this.translate.y+B.top},q=this.manager.isKeySorting,ee=this.newIndex;this.newIndex=null;for(var H=0,N=P.length;H<N;H++){var Z=P[H].node,ue=Z.sortableInfo.index,ye=Z.offsetWidth,be=Z.offsetHeight,J={height:this.height>be?be/2:this.height/2,width:this.width>ye?ye/2:this.width/2},se=q&&ue>this.index&&ue<=ee,xe=q&&ue<this.index&&ue>=ee,Se={x:0,y:0},De=P[H].edgeOffset;De||(De=n3(Z,this.container),P[H].edgeOffset=De,q&&(P[H].boundingClientRect=NS(Z,B)));var Le=H<P.length-1&&P[H+1],he=H>0&&P[H-1];if(Le&&!Le.edgeOffset&&(Le.edgeOffset=n3(Le.node,this.container),q&&(Le.boundingClientRect=NS(Le.node,B))),ue===this.index){g&&(this.sortableGhost=Z,C2(Z,{opacity:0,visibility:"hidden"}));continue}h&&WS(Z,h),this.axis.x?this.axis.y?xe||ue<this.index&&(F.left+k.left-J.width<=De.left&&F.top+k.top<=De.top+J.height||F.top+k.top+J.height<=De.top)?(Se.x=this.width+this.marginOffset.x,De.left+Se.x>this.containerBoundingRect.width-J.width&&Le&&(Se.x=Le.edgeOffset.left-De.left,Se.y=Le.edgeOffset.top-De.top),this.newIndex===null&&(this.newIndex=ue)):(se||ue>this.index&&(F.left+k.left+J.width>=De.left&&F.top+k.top+J.height>=De.top||F.top+k.top+J.height>=De.top+be))&&(Se.x=-(this.width+this.marginOffset.x),De.left+Se.x<this.containerBoundingRect.left+J.width&&he&&(Se.x=he.edgeOffset.left-De.left,Se.y=he.edgeOffset.top-De.top),this.newIndex=ue):se||ue>this.index&&F.left+k.left+J.width>=De.left?(Se.x=-(this.width+this.marginOffset.x),this.newIndex=ue):(xe||ue<this.index&&F.left+k.left<=De.left+J.width)&&(Se.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=ue)):this.axis.y&&(se||ue>this.index&&F.top+k.top+J.height>=De.top?(Se.y=-(this.height+this.marginOffset.y),this.newIndex=ue):(xe||ue<this.index&&F.top+k.top<=De.top+J.height)&&(Se.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=ue))),b2(Z,Se),P[H].translate=Se}this.newIndex==null&&(this.newIndex=this.index),q&&(this.newIndex=ee);var qe=q?this.prevIndex:ee;_&&this.newIndex!==qe&&_({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:qe,isKeySorting:q,nodes:P,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return K1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var s=this.props.getContainer;return typeof s!="function"?d0.findDOMNode(this):s(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return kr.createElement(lN.Provider,{value:this.sortableContextValue},kr.createElement(e,rb({ref:s},rN(this.props,$he))))}},{key:"helperContainer",get:function(){var s=this.props.helperContainer;return typeof s=="function"?s():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var s=this.props.useWindowAsScrollContainer;return s?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(kr.Component),Ma(t,"displayName",J8("sortableList",e)),Ma(t,"defaultProps",Qhe),Ma(t,"propTypes",aN),n}var uN={index:Rr.number.isRequired,collection:Rr.oneOfType([Rr.number,Rr.string]),disabled:Rr.bool},Vhe=Object.keys(uN);function Zhe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){X8(o,i);function o(){var a,s;kb(this,o);for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];return s=Z8(this,(a=ib(o)).call.apply(a,[this].concat(g))),Ma(go(go(s)),"wrappedInstance",kr.createRef()),s}return Ib(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(s){this.node&&(s.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),s.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),s.collection!==this.props.collection&&(this.unregister(s.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var s=this.props,h=s.collection,g=s.disabled,_=s.index,B=d0.findDOMNode(this);B.sortableInfo={collection:h,disabled:g,index:_,manager:this.context.manager},this.node=B,this.ref={node:B},this.context.manager.add(h,this.ref)}},{key:"unregister",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(s,this.ref)}},{key:"getWrappedInstance",value:function(){return K1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return kr.createElement(e,rb({ref:s},rN(this.props,Vhe)))}}]),o}(kr.Component),Ma(t,"displayName",J8("sortableElement",e)),Ma(t,"contextType",lN),Ma(t,"propTypes",uN),Ma(t,"defaultProps",{collection:0}),n}function wi(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",t="c4894131c5d7f6ef28da960f43f4c830425a38cb",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAoC,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAE7H,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4894131c5d7f6ef28da960f43f4c830425a38cb"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wi=function(){return a},a}wi();const Xhe=(wi().s[0]++,jhe(e=>(wi().f[0]++,wi().s[1]++,G.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[G.jsx(iz,{className:"layer-handle__icon",type:e.layerType}),G.jsx("button",{className:"maputnik-layer-list-item-id",children:e.layerId})]}))));class GS extends Mn.Component{renderIcon(){switch(wi().f[1]++,wi().s[2]++,this.props.action){case"duplicate":return wi().b[0][0]++,wi().s[3]++,G.jsx(ite,{});case"show":return wi().b[0][1]++,wi().s[4]++,G.jsx(rte,{});case"hide":return wi().b[0][2]++,wi().s[5]++,G.jsx(nte,{});case"delete":return wi().b[0][3]++,wi().s[6]++,G.jsx(mv,{})}}render(){wi().f[2]++;const{classBlockName:t,classBlockModifier:n}=(wi().s[7]++,this.props);let r=(wi().s[8]++,"");return wi().s[9]++,t?(wi().b[1][0]++,wi().s[10]++,r=`maputnik-layer-list-icon-action__${t}`,wi().s[11]++,n?(wi().b[2][0]++,wi().s[12]++,r+=` maputnik-layer-list-icon-action__${t}--${n}`):wi().b[2][1]++):wi().b[1][1]++,wi().s[13]++,G.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class TO extends Mn.Component{getChildContext(){return wi().f[6]++,wi().s[16]++,{reactIconBase:{size:14}}}render(){wi().f[7]++;const t=(wi().s[17]++,this.props.visibility==="visible"?(wi().b[3][0]++,"show"):(wi().b[3][1]++,"hide"));return wi().s[18]++,G.jsxs("li",{id:this.props.id,onClick:n=>(wi().f[8]++,wi().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:Rf({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[G.jsx(Xhe,{...this.props}),G.jsx("span",{style:{flexGrow:1}}),G.jsx(GS,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:n=>(wi().f[9]++,wi().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),G.jsx(GS,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:n=>(wi().f[10]++,wi().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),G.jsx(GS,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:t,classBlockName:"visibility",classBlockModifier:t,onClick:n=>(wi().f[11]++,wi().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}on(TO,"defaultProps",(wi().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{wi().f[3]++},onLayerDestroy:()=>{wi().f[4]++},onLayerVisibilityToggle:()=>{wi().f[5]++}})),on(TO,"childContextTypes",(wi().s[15]++,{reactIconBase:Rr.object}));const Jhe=(wi().s[23]++,Zhe(e=>(wi().f[12]++,wi().s[24]++,G.jsx(TO,{...e}))));function E4(){var e="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",t="522bfc6b8aacbfd03b55d947af2897dc69beb570",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return E4=function(){return a},a}E4();class za extends Mn.Component{render(){return E4().f[0]++,E4().s[0]++,G.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:Rf("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var AN=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],O4=AN.join(","),cN=typeof Element>"u",P1=cN?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,B4=!cN&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},k4=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},efe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},dN=function(t,n,r){if(k4(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(O4));return n&&P1.call(t,O4)&&i.unshift(t),i=i.filter(r),i},hN=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!k4(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),h=s.length?s:a.children,g=e(h,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:a,candidates:g})}else{var _=P1.call(a,O4);_&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var B=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),k=!k4(B,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(B&&k){var P=e(B===!0?a.children:B.children,!0,r);r.flatten?i.push.apply(i,P):i.push({scopeParent:a,candidates:P})}else o.unshift.apply(o,a.children)}}return i},fN=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Pm=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||efe(t))&&!fN(t)?0:t.tabIndex},tfe=function(t,n){var r=Pm(t);return r<0&&n&&!fN(t)?0:r},nfe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},pN=function(t){return t.tagName==="INPUT"},rfe=function(t){return pN(t)&&t.type==="hidden"},ife=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},ofe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},afe=function(t){if(!t.name)return!0;var n=t.form||B4(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=ofe(i,t.form);return!o||o===t},sfe=function(t){return pN(t)&&t.type==="radio"},lfe=function(t){return sfe(t)&&!afe(t)},ufe=function(t){var n,r=t&&B4(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,h;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!o&&i;){var g,_,B;r=B4(i),i=(g=r)===null||g===void 0?void 0:g.host,o=!!((_=i)!==null&&_!==void 0&&(B=_.ownerDocument)!==null&&B!==void 0&&B.contains(i))}}return o},DK=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Afe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=P1.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(P1.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var h=t.parentElement,g=B4(t);if(h&&!h.shadowRoot&&i(h)===!0)return DK(t);t.assignedSlot?t=t.assignedSlot:!h&&g!==t.ownerDocument?t=g.host:t=h}t=s}if(ufe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return DK(t);return!1},cfe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return P1.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},I4=function(t,n){return!(n.disabled||k4(n)||rfe(n)||Afe(n,t)||ife(n)||cfe(n))},KO=function(t,n){return!(lfe(n)||Pm(n)<0||!I4(t,n))},dfe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},hfe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,h=tfe(s,a),g=a?e(i.candidates):s;h===0?a?n.push.apply(n,g):n.push(s):r.push({documentOrder:o,tabIndex:h,item:i,isScope:a,content:g})}),r.sort(nfe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},mN=function(t,n){n=n||{};var r;return n.getShadowRoot?r=hN([t],n.includeContainer,{filter:KO.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:dfe}):r=dN(t,n.includeContainer,KO.bind(null,n)),hfe(r)},gN=function(t,n){n=n||{};var r;return n.getShadowRoot?r=hN([t],n.includeContainer,{filter:I4.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=dN(t,n.includeContainer,I4.bind(null,n)),r},H0=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return P1.call(t,O4)===!1?!1:KO(n,t)},ffe=AN.concat("iframe").join(","),r3=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return P1.call(t,ffe)===!1?!1:I4(n,t)};const pfe=Object.freeze(Object.defineProperty({__proto__:null,focusable:gN,getTabIndex:Pm,isFocusable:r3,isTabbable:H0,tabbable:mN},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function LK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LK(Object(n),!0).forEach(function(r){mfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mfe(e,t,n){return t=yfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gfe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yfe(e){var t=gfe(e,"string");return typeof t=="symbol"?t:String(t)}var RK={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}},vfe=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},_fe=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},lC=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Cfe=function(t){return lC(t)&&!t.shiftKey},bfe=function(t){return lC(t)&&t.shiftKey},zK=function(t){return setTimeout(t,0)},jK=function(t,n){var r=-1;return t.every(function(i,o){return n(i)?(r=o,!1):!0}),r},__=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},x2=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},xfe=[],wfe=function(t,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||xfe,o=UK({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Cfe,isKeyBackward:bfe},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,h=function(Le,he,qe){return Le&&Le[he]!==void 0?Le[he]:o[qe||he]},g=function(Le,he){var qe=typeof(he==null?void 0:he.composedPath)=="function"?he.composedPath():void 0;return a.containerGroups.findIndex(function(ge){var _t=ge.container,Mt=ge.tabbableNodes;return _t.contains(Le)||(qe==null?void 0:qe.includes(_t))||Mt.find(function(dt){return dt===Le})})},_=function(Le){var he=o[Le];if(typeof he=="function"){for(var qe=arguments.length,ge=new Array(qe>1?qe-1:0),_t=1;_t<qe;_t++)ge[_t-1]=arguments[_t];he=he.apply(void 0,ge)}if(he===!0&&(he=void 0),!he){if(he===void 0||he===!1)return he;throw new Error("`".concat(Le,"` was specified but was not a node, or did not return a node"))}var Mt=he;if(typeof he=="string"&&(Mt=r.querySelector(he),!Mt))throw new Error("`".concat(Le,"` as selector refers to no known node"));return Mt},B=function(){var Le=_("initialFocus");if(Le===!1)return!1;if(Le===void 0||!r3(Le,o.tabbableOptions))if(g(r.activeElement)>=0)Le=r.activeElement;else{var he=a.tabbableGroups[0],qe=he&&he.firstTabbableNode;Le=qe||_("fallbackFocus")}if(!Le)throw new Error("Your focus-trap needs to have at least one focusable element");return Le},k=function(){if(a.containerGroups=a.containers.map(function(Le){var he=mN(Le,o.tabbableOptions),qe=gN(Le,o.tabbableOptions),ge=he.length>0?he[0]:void 0,_t=he.length>0?he[he.length-1]:void 0,Mt=qe.find(function(je){return H0(je)}),dt=qe.slice().reverse().find(function(je){return H0(je)}),mt=!!he.find(function(je){return Pm(je)>0});return{container:Le,tabbableNodes:he,focusableNodes:qe,posTabIndexesFound:mt,firstTabbableNode:ge,lastTabbableNode:_t,firstDomTabbableNode:Mt,lastDomTabbableNode:dt,nextTabbableNode:function(Ve){var Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Jt=he.indexOf(Ve);return Jt<0?Xe?qe.slice(qe.indexOf(Ve)+1).find(function(Ht){return H0(Ht)}):qe.slice(0,qe.indexOf(Ve)).reverse().find(function(Ht){return H0(Ht)}):he[Jt+(Xe?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(Le){return Le.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!_("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(Le){return Le.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},P=function De(Le){var he=Le.activeElement;if(he)return he.shadowRoot&&he.shadowRoot.activeElement!==null?De(he.shadowRoot):he},F=function De(Le){if(Le!==!1&&Le!==P(document)){if(!Le||!Le.focus){De(B());return}Le.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=Le,vfe(Le)&&Le.select()}},q=function(Le){var he=_("setReturnFocus",Le);return he||(he===!1?!1:Le)},ee=function(Le){var he=Le.target,qe=Le.event,ge=Le.isBackward,_t=ge===void 0?!1:ge;he=he||x2(qe),k();var Mt=null;if(a.tabbableGroups.length>0){var dt=g(he,qe),mt=dt>=0?a.containerGroups[dt]:void 0;if(dt<0)_t?Mt=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:Mt=a.tabbableGroups[0].firstTabbableNode;else if(_t){var je=jK(a.tabbableGroups,function(Qt){var $t=Qt.firstTabbableNode;return he===$t});if(je<0&&(mt.container===he||r3(he,o.tabbableOptions)&&!H0(he,o.tabbableOptions)&&!mt.nextTabbableNode(he,!1))&&(je=dt),je>=0){var Ve=je===0?a.tabbableGroups.length-1:je-1,Xe=a.tabbableGroups[Ve];Mt=Pm(he)>=0?Xe.lastTabbableNode:Xe.lastDomTabbableNode}else lC(qe)||(Mt=mt.nextTabbableNode(he,!1))}else{var Jt=jK(a.tabbableGroups,function(Qt){var $t=Qt.lastTabbableNode;return he===$t});if(Jt<0&&(mt.container===he||r3(he,o.tabbableOptions)&&!H0(he,o.tabbableOptions)&&!mt.nextTabbableNode(he))&&(Jt=dt),Jt>=0){var Ht=Jt===a.tabbableGroups.length-1?0:Jt+1,Ct=a.tabbableGroups[Ht];Mt=Pm(he)>=0?Ct.firstTabbableNode:Ct.firstDomTabbableNode}else lC(qe)||(Mt=mt.nextTabbableNode(he))}}else Mt=_("fallbackFocus");return Mt},H=function(Le){var he=x2(Le);if(!(g(he,Le)>=0)){if(__(o.clickOutsideDeactivates,Le)){s.deactivate({returnFocus:o.returnFocusOnDeactivate});return}__(o.allowOutsideClick,Le)||Le.preventDefault()}},N=function(Le){var he=x2(Le),qe=g(he,Le)>=0;if(qe||he instanceof Document)qe&&(a.mostRecentlyFocusedNode=he);else{Le.stopImmediatePropagation();var ge,_t=!0;if(a.mostRecentlyFocusedNode)if(Pm(a.mostRecentlyFocusedNode)>0){var Mt=g(a.mostRecentlyFocusedNode),dt=a.containerGroups[Mt].tabbableNodes;if(dt.length>0){var mt=dt.findIndex(function(je){return je===a.mostRecentlyFocusedNode});mt>=0&&(o.isKeyForward(a.recentNavEvent)?mt+1<dt.length&&(ge=dt[mt+1],_t=!1):mt-1>=0&&(ge=dt[mt-1],_t=!1))}}else a.containerGroups.some(function(je){return je.tabbableNodes.some(function(Ve){return Pm(Ve)>0})})||(_t=!1);else _t=!1;_t&&(ge=ee({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),F(ge||a.mostRecentlyFocusedNode||B())}a.recentNavEvent=void 0},Z=function(Le){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=Le;var qe=ee({event:Le,isBackward:he});qe&&(lC(Le)&&Le.preventDefault(),F(qe))},ue=function(Le){if(_fe(Le)&&__(o.escapeDeactivates,Le)!==!1){Le.preventDefault(),s.deactivate();return}(o.isKeyForward(Le)||o.isKeyBackward(Le))&&Z(Le,o.isKeyBackward(Le))},ye=function(Le){var he=x2(Le);g(he,Le)>=0||__(o.clickOutsideDeactivates,Le)||__(o.allowOutsideClick,Le)||(Le.preventDefault(),Le.stopImmediatePropagation())},be=function(){if(a.active)return RK.activateTrap(i,s),a.delayInitialFocusTimer=o.delayInitialFocus?zK(function(){F(B())}):F(B()),r.addEventListener("focusin",N,!0),r.addEventListener("mousedown",H,{capture:!0,passive:!1}),r.addEventListener("touchstart",H,{capture:!0,passive:!1}),r.addEventListener("click",ye,{capture:!0,passive:!1}),r.addEventListener("keydown",ue,{capture:!0,passive:!1}),s},J=function(){if(a.active)return r.removeEventListener("focusin",N,!0),r.removeEventListener("mousedown",H,!0),r.removeEventListener("touchstart",H,!0),r.removeEventListener("click",ye,!0),r.removeEventListener("keydown",ue,!0),s},se=function(Le){var he=Le.some(function(qe){var ge=Array.from(qe.removedNodes);return ge.some(function(_t){return _t===a.mostRecentlyFocusedNode})});he&&F(B())},xe=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(se):void 0,Se=function(){xe&&(xe.disconnect(),a.active&&!a.paused&&a.containers.map(function(Le){xe.observe(Le,{subtree:!0,childList:!0})}))};return s={get active(){return a.active},get paused(){return a.paused},activate:function(Le){if(a.active)return this;var he=h(Le,"onActivate"),qe=h(Le,"onPostActivate"),ge=h(Le,"checkCanFocusTrap");ge||k(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,he==null||he();var _t=function(){ge&&k(),be(),Se(),qe==null||qe()};return ge?(ge(a.containers.concat()).then(_t,_t),this):(_t(),this)},deactivate:function(Le){if(!a.active)return this;var he=UK({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Le);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,J(),a.active=!1,a.paused=!1,Se(),RK.deactivateTrap(i,s);var qe=h(he,"onDeactivate"),ge=h(he,"onPostDeactivate"),_t=h(he,"checkCanReturnFocus"),Mt=h(he,"returnFocus","returnFocusOnDeactivate");qe==null||qe();var dt=function(){zK(function(){Mt&&F(q(a.nodeFocusedBeforeActivation)),ge==null||ge()})};return Mt&&_t?(_t(q(a.nodeFocusedBeforeActivation)).then(dt,dt),this):(dt(),this)},pause:function(Le){if(a.paused||!a.active)return this;var he=h(Le,"onPause"),qe=h(Le,"onPostPause");return a.paused=!0,he==null||he(),J(),Se(),qe==null||qe(),this},unpause:function(Le){if(!a.paused||!a.active)return this;var he=h(Le,"onUnpause"),qe=h(Le,"onPostUnpause");return a.paused=!1,he==null||he(),k(),be(),Se(),qe==null||qe(),this},updateContainerElements:function(Le){var he=[].concat(Le).filter(Boolean);return a.containers=he.map(function(qe){return typeof qe=="string"?r.querySelector(qe):qe}),a.active&&k(),Se(),this}},s.updateContainerElements(t),s};const Mfe=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:wfe},Symbol.toStringTag,{value:"Module"})),Sfe=vB(Mfe),Efe=vB(pfe);function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function Ofe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yN(r.key),r)}}function Bfe(e,t,n){return t&&WK(e.prototype,t),n&&WK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PO(e,t)}function Ife(e){var t=Kfe();return function(){var r=T4(e),i;if(t){var o=T4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tfe(this,i)}}function Tfe(e,t){if(t&&(iv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j_(e)}function j_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T4(e){return T4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T4(e)}function Pfe(e,t,n){return t=yN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yN(e){var t=Ffe(e,"string");return iv(t)==="symbol"?t:String(t)}function Ffe(e,t){if(iv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(iv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w2=kr,pi=kh,Dfe=Sfe,Lfe=Dfe.createFocusTrap,Ufe=Efe,Rfe=Ufe.isFocusable,ek=function(e){kfe(n,e);var t=Ife(n);function n(r){var i;Ofe(this,n),i=t.call(this,r),Pfe(j_(i),"getNodeForOption",function(s){var h,g=(h=this.internalOptions[s])!==null&&h!==void 0?h:this.originalOptions[s];if(typeof g=="function"){for(var _=arguments.length,B=new Array(_>1?_-1:0),k=1;k<_;k++)B[k-1]=arguments[k];g=g.apply(void 0,B)}if(g===!0&&(g=void 0),!g){if(g===void 0||g===!1)return g;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var P=g;if(typeof g=="string"){var F;if(P=(F=this.getDocument())===null||F===void 0?void 0:F.querySelector(g),!P)throw new Error("`".concat(s,"` as selector refers to no known node"))}return P}),i.handleDeactivate=i.handleDeactivate.bind(j_(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(j_(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(j_(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){if(a==="returnFocusOnDeactivate"||a==="onDeactivate"||a==="onPostDeactivate"||a==="checkCanReturnFocus"||a==="clickOutsideDeactivates"){i.originalOptions[a]=o[a];continue}i.internalOptions[a]=o[a]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return Bfe(n,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var s=i.getReturnFocusNode(),h=!!(i.originalOptions.returnFocusOnDeactivate&&s!==null&&s!==void 0&&s.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!Rfe(i.outsideClick.target,i.internalOptions.tabbableOptions))),g=i.internalOptions.preventScroll,_=g===void 0?!1:g;h&&s.focus({preventScroll:_}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var i=this.focusTrapElements.some(Boolean);i&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,a=i.active&&!this.props.active,s=!i.paused&&this.props.paused,h=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),a){this.deactivateTrap();return}s&&this.focusTrap.pause(),h&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?w2.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===w2.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var a=function(g){var _=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(g):o.ref&&(o.ref.current=g)),i.focusTrapElements=_||[g]},s=w2.cloneElement(o,{ref:a});return s}return null}}]),n}(w2.Component),C_=typeof Element>"u"?Function:Element;ek.propTypes={active:pi.bool,paused:pi.bool,focusTrapOptions:pi.shape({document:pi.object,onActivate:pi.func,onPostActivate:pi.func,checkCanFocusTrap:pi.func,onPause:pi.func,onPostPause:pi.func,onUnpause:pi.func,onPostUnpause:pi.func,onDeactivate:pi.func,onPostDeactivate:pi.func,checkCanReturnFocus:pi.func,initialFocus:pi.oneOfType([pi.instanceOf(C_),pi.string,pi.bool,pi.func]),fallbackFocus:pi.oneOfType([pi.instanceOf(C_),pi.string,pi.func]),escapeDeactivates:pi.oneOfType([pi.bool,pi.func]),clickOutsideDeactivates:pi.oneOfType([pi.bool,pi.func]),returnFocusOnDeactivate:pi.bool,setReturnFocus:pi.oneOfType([pi.instanceOf(C_),pi.string,pi.bool,pi.func]),allowOutsideClick:pi.oneOfType([pi.bool,pi.func]),preventScroll:pi.bool,tabbableOptions:pi.shape({displayCheck:pi.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:pi.oneOfType([pi.bool,pi.func])}),trapStack:pi.array,isKeyForward:pi.func,isKeyBackward:pi.func}),containerElements:pi.arrayOf(pi.instanceOf(C_)),children:pi.oneOfType([pi.element,pi.instanceOf(C_)])};ek.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Lfe};var zfe=ek,vN={exports:{}};(function(e){(function(t){var n=!1,r,i;function o(){if(typeof r<"u")return r;var B=document.documentElement,k=document.createElement("div");return k.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),B.appendChild(k),r=k.offsetWidth-k.clientWidth,B.removeChild(k),r}function a(){return document.documentElement.scrollHeight>window.innerHeight}function s(B){if(!(typeof document>"u"||n)){var k=document.documentElement;i=window.pageYOffset,a()?k.style.width="calc(100% - "+o()+"px)":k.style.width="100%",k.style.position="fixed",k.style.top=-i+"px",k.style.overflow="hidden",n=!0}}function h(){if(!(typeof document>"u"||!n)){var B=document.documentElement;B.style.width="",B.style.position="",B.style.top="",B.style.overflow="",window.scroll(0,i),n=!1}}function g(){if(n){h();return}s()}var _={on:s,off:h,toggle:g};e.exports=_})()})(vN);var jfe=vN.exports;function FO(e){"@babel/helpers - typeof";return FO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FO(e)}function _N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function CN(e,t,n){return t&&NK(e.prototype,t),n&&NK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DO(e,t)}function DO(e,t){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DO(e,t)}function xN(e){var t=Nfe();return function(){var r=K4(e),i;if(t){var o=K4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Wfe(this,i)}}function Wfe(e,t){if(t&&(FO(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return py(e)}function py(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K4(e){return K4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K4(e)}function c1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t1=kr,Gfe=d0,Qfe=zfe,M2=jfe,tk=function(e){bN(n,e);var t=xN(n);function n(r){var i;if(_N(this,n),i=t.call(this,r),c1(py(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),c1(py(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),c1(py(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),c1(py(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return CN(n,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&M2.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?M2.off():!i.scrollDisabled&&this.props.scrollDisabled&&M2.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&M2.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var a in i.underlayStyle)i.underlayStyle.hasOwnProperty(a)&&(o[a]=i.underlayStyle[a]);var s={className:i.underlayClass,style:o};i.underlayClickExits&&(s.onMouseDown=this.checkUnderlayClick);for(var h in this.props.underlayProps)s[h]=this.props.underlayProps[h];var g={};i.includeDefaultStyles&&(g={display:"inline-block",height:"100%",verticalAlign:"middle"});var _={key:"a",style:g},B={};if(i.includeDefaultStyles&&(B={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(B.verticalAlign="middle",B.top=0)),i.dialogStyle)for(var k in i.dialogStyle)i.dialogStyle.hasOwnProperty(k)&&(B[k]=i.dialogStyle[k]);var P={key:"b",ref:(function(H){this.dialogNode=H}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:B};i.titleId?P["aria-labelledby"]=i.titleId:i.titleText&&(P["aria-label"]=i.titleText),i.focusDialog&&(P.tabIndex="-1");for(var F in i)/^(data-|aria-)/.test(F)&&(P[F]=i[F]);var q=[t1.createElement("div",P,i.children)];i.verticallyCenter&&q.unshift(t1.createElement("div",_));var ee=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(ee.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),ee.escapeDeactivates=i.escapeExits,t1.createElement(Qfe,{focusTrapOptions:ee,paused:i.focusTrapPaused},t1.createElement("div",s,q))}}]),n}(t1.Component);c1(tk,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function wN(e,t){if(!window.document)return function(){return null};t=t||{};var n=function(r){bN(o,r);var i=xN(o);function o(){var a;_N(this,o);for(var s=arguments.length,h=new Array(s),g=0;g<s;g++)h[g]=arguments[g];return a=i.call.apply(i,[this].concat(h)),c1(py(a),"container",null),a}return CN(o,[{key:"componentDidMount",value:function(){t.renderTo?this.container=typeof t.renderTo=="string"?document.querySelector(t.renderTo):t.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){t.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:Gfe.createPortal(t1.createElement(e,this.props,this.props.children),this.container)}}]),o}(t1.Component);return c1(n,"defaultProps",{mounted:!0}),n}var MN=wN(tk);MN.renderTo=function(e){return wN(tk,{renderTo:e})};var $fe=MN;const Yfe=Oa($fe);function pu(){var e="/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",t="053200cbafe04fe608a2b8b1c36f9187849e6580",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:12},end:{line:18,column:3}},2:{start:{line:12,column:4},end:{line:14,column:5}},3:{start:{line:13,column:6},end:{line:13,column:36}},4:{start:{line:15,column:4},end:{line:17,column:10}},5:{start:{line:16,column:6},end:{line:16,column:37}},6:{start:{line:20,column:4},end:{line:58,column:5}},7:{start:{line:21,column:6},end:{line:55,column:8}},8:{start:{line:57,column:6},end:{line:57,column:19}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:18,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:15},end:{line:15,column:16}},loc:{start:{line:15,column:21},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:11},end:{line:59,column:3}},line:19}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:20,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Modal.tsx"],names:[],mappings:"AA+CU,SACE,KADF;AA/CV,OAAO,WAAkC;AACzC,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAcvB,qBAAqB,cAAc,MAAM,UAAsB;AAAA,EAC7D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAM;AAAA,sBACN,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"053200cbafe04fe608a2b8b1c36f9187849e6580"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return pu=function(){return a},a}pu();class Gf extends Mn.Component{constructor(){super(...arguments);on(this,"onClose",(pu().s[1]++,()=>{pu().f[0]++,pu().s[2]++,document.activeElement?(pu().b[0][0]++,pu().s[3]++,document.activeElement.blur()):pu().b[0][1]++,pu().s[4]++,setTimeout(()=>{pu().f[1]++,pu().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){return pu().f[2]++,pu().s[6]++,this.props.isOpen?(pu().b[1][0]++,pu().s[7]++,G.jsx(Yfe,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:G.jsxs("div",{className:Rf("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[G.jsxs("header",{className:"maputnik-modal-header",children:[G.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),G.jsx("span",{className:"maputnik-modal-header-space"}),G.jsx("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:G.jsx(dte,{})})]}),G.jsx("div",{className:"maputnik-modal-scroller",children:G.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(pu().b[1][1]++,pu().s[8]++,!1)}}on(Gf,"defaultProps",(pu().s[0]++,{underlayClickExits:!0}));const qfe=8,Hfe={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration.",example:{"sky-color":"#199EF3","fog-color":"#00ff00","horizon-blend":.5,"fog-blend":.6}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"coastline",source:"maplibre","source-layer":"contries",type:"line",paint:{"line-color":"#198EC8"}}]}},Vfe={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Zfe=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Xfe={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Jfe={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},epe={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default."},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},tpe={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js-docs/api/sources/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},npe={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},rpe={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},ipe={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},ope=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],ape={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},spe={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},lpe={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},upe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Ape={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},cpe={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions. Values are declared using CSS margin shorthand syntax: a single value applies to all four sides; two values apply to [top/bottom, left/right]; three values apply to [top, left/right, bottom]; four values apply to [top, right, bottom, left]. For backwards compatibility, a single bare number is accepted, and treated the same as a one-element array - padding applied to all sides.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0"},"data-driven styling":{js:"3.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},dpe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},hpe={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},fpe={type:"array",value:"*",doc:"A filter selects specific features from a layer."},ppe={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},mpe={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},gpe={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},ype={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},vpe={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",ios:"6.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",ios:"6.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},_pe={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},Cpe={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog."},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. A value between 0 and 1. Where 0 is the map center and 1 is the horizon"},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog and sky color at the horizon. A value between 0 and 1. Where 0 is the horizon and 1 is map-height / 2"}},bpe={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},xpe=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],wpe={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Mpe={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Spe={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Epe={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ope={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Bpe={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},kpe={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ipe={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Tpe={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},Kpe={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},no={$version:qfe,$root:Hfe,sources:Vfe,source:Zfe,source_vector:Xfe,source_raster:Jfe,source_raster_dem:epe,source_geojson:tpe,source_video:npe,source_image:rpe,layer:ipe,layout:ope,layout_background:ape,layout_fill:spe,layout_circle:lpe,layout_heatmap:upe,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:Ape,layout_symbol:cpe,layout_raster:dpe,layout_hillshade:hpe,filter:fpe,filter_operator:ppe,geometry_type:mpe,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:gpe,expression:ype,expression_name:vpe,light:_pe,sky:Cpe,terrain:bpe,paint:xpe,paint_fill:wpe,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Mpe,paint_circle:Spe,paint_heatmap:Epe,paint_symbol:Ope,paint_raster:Bpe,paint_hillshade:kpe,paint_background:Ipe,transition:Tpe,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:Kpe};function Fo(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",t="3158bd93bbefd1bd0e63d26617da070781685c25",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3158bd93bbefd1bd0e63d26617da070781685c25"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fo=function(){return a},a}Fo();class nk extends Mn.Component{constructor(n){Fo().f[0]++,Fo().s[0]++;super(n);on(this,"onToggleDoc",(Fo().s[2]++,n=>{Fo().f[1]++,Fo().s[3]++,this.setState({open:n},()=>{Fo().f[2]++,Fo().s[4]++,this.props.onToggleDoc?(Fo().b[0][0]++,Fo().s[5]++,this.props.onToggleDoc(this.state.open)):Fo().b[0][1]++})}));Fo().s[1]++,this.state={open:!1}}render(){Fo().f[3]++;const{label:n,fieldSpec:r}=(Fo().s[6]++,this.props),{doc:i}=(Fo().s[7]++,Fo().b[1][0]++,r||(Fo().b[1][1]++,{}));if(Fo().s[8]++,i)return Fo().b[2][0]++,Fo().s[9]++,G.jsx("label",{className:"maputnik-doc-wrapper",children:G.jsxs("div",{className:"maputnik-doc-target",children:[n," ",G.jsx("button",{"aria-label":this.state.open?(Fo().b[3][0]++,"close property documentation"):(Fo().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Fo().b[4][0]++,"open"):(Fo().b[4][1]++,"closed")}`,onClick:()=>(Fo().f[4]++,Fo().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+n,children:this.state.open?(Fo().b[5][0]++,G.jsx(Xee,{})):(Fo().b[5][1]++,G.jsx(Jee,{}))})]})});if(Fo().b[2][1]++,Fo().s[11]++,n)return Fo().b[6][0]++,Fo().s[12]++,G.jsx("label",{className:"maputnik-doc-wrapper",children:G.jsx("div",{className:"maputnik-doc-target",children:n})});Fo().b[6][1]++,Fo().s[13]++}}function xa(){var e="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",t="17184511a0ae3c272ec6d16762ac334920d5242e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:28},end:{line:12,column:37}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:47,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAsCM,mBAGM,KAKQ,YARd;AAtCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAgBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,OAAM,IAAI;AACtB,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17184511a0ae3c272ec6d16762ac334920d5242e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return xa=function(){return a},a}xa();const GK=(xa().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class rk extends Mn.Component{render(){xa().f[0]++;const{fieldSpec:t}=(xa().s[1]++,this.props),{doc:n,values:r}=(xa().s[2]++,t),i=(xa().s[3]++,t["sdk-support"]),o=(xa().s[4]++,xa().b[0][0]++,!!r&&(xa().b[0][1]++,!Array.isArray(r)));return xa().s[5]++,G.jsxs(G.Fragment,{children:[(xa().b[1][0]++,n&&(xa().b[1][1]++,G.jsxs("div",{className:"SpecDoc",children:[G.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:n}),(xa().b[2][0]++,o&&(xa().b[2][1]++,G.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([a,s])=>(xa().f[1]++,xa().s[6]++,G.jsxs("li",{children:[G.jsx("code",{children:JSON.stringify(a)}),G.jsx("div",{children:s.doc})]},a)))})))]}))),(xa().b[3][0]++,i&&(xa().b[3][1]++,G.jsx("div",{className:"SpecDoc__sdk-support",children:G.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{}),Object.values(GK).map(a=>(xa().f[2]++,xa().s[7]++,G.jsx("th",{children:a},a)))]})}),G.jsx("tbody",{children:Object.entries(i).map(([a,s])=>(xa().f[3]++,xa().s[8]++,G.jsxs("tr",{children:[G.jsx("td",{children:a}),Object.keys(GK).map(h=>(xa().f[4]++,xa().s[9]++,Object.prototype.hasOwnProperty.call(s,h)?(xa().b[4][0]++,xa().s[10]++,G.jsx("td",{children:s[h]},h)):(xa().b[4][1]++,xa().s[11]++,G.jsx("td",{children:"no"},h))))]},a)))})]})})))]})}}function uo(){var e="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",t="48ac53a19fbb7fbd4fa4e9374748c221d8264cc9",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:38,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:37,column:27}},14:{start:{line:40,column:4},end:{line:73,column:6}},15:{start:{line:62,column:95},end:{line:62,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:38,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:11},end:{line:74,column:3}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:62,column:87},end:{line:62,column:88}},loc:{start:{line:62,column:95},end:{line:62,column:113}},line:62}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:52,column:10},end:{line:59,column:14}},type:"binary-expr",locations:[{start:{line:52,column:10},end:{line:52,column:30}},{start:{line:52,column:50},end:{line:59,column:14}}],line:52},5:{loc:{start:{line:60,column:10},end:{line:60,column:134}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:31}},{start:{line:60,column:51},end:{line:60,column:134}}],line:60},6:{loc:{start:{line:63,column:10},end:{line:70,column:11}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:30}},{start:{line:63,column:50},end:{line:70,column:11}}],line:63},7:{loc:{start:{line:67,column:32},end:{line:67,column:64}},type:"cond-expr",locations:[{start:{line:67,column:53},end:{line:67,column:55}},{start:{line:67,column:58},end:{line:67,column:64}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AA8DW,SAWD,KAXC;AA9DX,OAAO,WAAgD;AACvD,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,UAAM,eAAe;AAAA,EACvB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"48ac53a19fbb7fbd4fa4e9374748c221d8264cc9"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return uo=function(){return a},a}uo();class aa extends Mn.Component{constructor(n){uo().f[0]++,uo().s[1]++;super(n);on(this,"_blockEl",(uo().s[0]++,null));on(this,"onToggleDoc",(uo().s[6]++,n=>{uo().f[2]++,uo().s[7]++,this.setState({showDoc:n})}));on(this,"onLabelClick",(uo().s[8]++,n=>{var o;uo().f[3]++;const r=(uo().s[9]++,n.nativeEvent.target),i=(uo().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));uo().s[11]++,uo().b[3][0]++,n.nativeEvent.target.nodeName!=="INPUT"&&(uo().b[3][1]++,!i)?(uo().b[2][0]++,uo().s[12]++,n.stopPropagation()):uo().b[2][1]++,uo().s[13]++,n.preventDefault()}));uo().s[2]++,this.state={showDoc:!1}}onChange(n){uo().f[1]++;const r=(uo().s[3]++,n.target.value);if(uo().s[4]++,this.props.onChange)return uo().b[0][0]++,uo().s[5]++,this.props.onChange(r===""?(uo().b[1][0]++,void 0):(uo().b[1][1]++,r));uo().b[0][1]++}render(){return uo().f[4]++,uo().s[14]++,G.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:Rf({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(uo().b[4][0]++,this.props.fieldSpec&&(uo().b[4][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:G.jsx(nk,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(uo().b[5][0]++,!this.props.fieldSpec&&(uo().b[5][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),G.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),G.jsx("div",{className:"maputnik-input-block-content",ref:n=>(uo().f[5]++,uo().s[15]++,this._blockEl=n),children:this.props.children}),(uo().b[6][0]++,this.props.fieldSpec&&(uo().b[6][1]++,G.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(uo().b[7][0]++,""):(uo().b[7][1]++,"none")},children:G.jsx(rk,{fieldSpec:this.props.fieldSpec})})))]})}}function Fu(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",t="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fu=function(){return a},a}Fu();class G1 extends Mn.Component{render(){Fu().f[0]++;let t=(Fu().s[0]++,this.props.options);return Fu().s[1]++,Fu().b[1][0]++,t.length>0&&(Fu().b[1][1]++,!Array.isArray(t[0]))?(Fu().b[0][0]++,Fu().s[2]++,t=t.map(n=>(Fu().f[1]++,Fu().s[3]++,[n,n]))):Fu().b[0][1]++,Fu().s[4]++,G.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:n=>(Fu().f[2]++,Fu().s[5]++,this.props.onChange(n.target.value)),"aria-label":this.props["aria-label"],children:t.map(([n,r])=>(Fu().f[3]++,Fu().s[6]++,G.jsx("option",{value:n,children:r},n)))})}}function ti(){var e="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",t="7edd0434d5570710fce0bf88d87716b3e75434c4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:72,column:7}},14:{start:{line:51,column:8},end:{line:57,column:11}},15:{start:{line:55,column:10},end:{line:56,column:49}},16:{start:{line:56,column:12},end:{line:56,column:49}},17:{start:{line:60,column:8},end:{line:64,column:9}},18:{start:{line:61,column:10},end:{line:61,column:44}},19:{start:{line:62,column:10},end:{line:63,column:50}},20:{start:{line:63,column:12},end:{line:63,column:50}},21:{start:{line:67,column:8},end:{line:69,column:9}},22:{start:{line:68,column:10},end:{line:68,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:73,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:58,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:57,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:14},end:{line:59,column:15}},loc:{start:{line:59,column:20},end:{line:65,column:7}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:17},end:{line:66,column:18}},loc:{start:{line:66,column:24},end:{line:70,column:7}},line:66}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:56,column:49}},type:"if",locations:[{start:{line:55,column:10},end:{line:56,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:60,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:64,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:62,column:10},end:{line:63,column:50}},type:"if",locations:[{start:{line:62,column:10},end:{line:63,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},10:{loc:{start:{line:67,column:12},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM;AAAS,iBAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM;AAAU,iBAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7edd0434d5570710fce0bf88d87716b3e75434c4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ti=function(){return a},a}ti();class jd extends Mn.Component{constructor(t){ti().f[1]++,ti().s[1]++,super(t),ti().s[2]++,this.state={editing:!1,value:(ti().b[0][0]++,t.value||(ti().b[0][1]++,""))}}static getDerivedStateFromProps(t,n){if(ti().f[2]++,ti().s[3]++,n.editing)ti().b[1][1]++;else return ti().b[1][0]++,ti().s[4]++,{value:t.value};return ti().s[5]++,{}}render(){ti().f[3]++;let t,n;return ti().s[6]++,this.props.multi?(ti().b[2][0]++,ti().s[7]++,t="textarea",ti().s[8]++,n=["maputnik-string","maputnik-string--multi"]):(ti().b[2][1]++,ti().s[9]++,t="input",ti().s[10]++,n=["maputnik-string"]),ti().s[11]++,this.props.disabled?(ti().b[3][0]++,ti().s[12]++,n.push("maputnik-string--disabled")):ti().b[3][1]++,ti().s[13]++,Mn.createElement(t,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(ti().b[4][0]++,this.props.spellCheck):(ti().b[4][1]++,t!=="input"),disabled:this.props.disabled,className:n.join(" "),style:this.props.style,value:this.state.value===void 0?(ti().b[5][0]++,""):(ti().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{ti().f[4]++,ti().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{ti().f[5]++,ti().s[15]++,this.props.onInput?(ti().b[6][0]++,ti().s[16]++,this.props.onInput(this.state.value)):ti().b[6][1]++})},onBlur:()=>{ti().f[6]++,ti().s[17]++,this.state.value!==this.props.value?(ti().b[7][0]++,ti().s[18]++,this.setState({editing:!1}),ti().s[19]++,this.props.onChange?(ti().b[8][0]++,ti().s[20]++,this.props.onChange(this.state.value)):ti().b[8][1]++):ti().b[7][1]++},onKeyDown:r=>{ti().f[7]++,ti().s[21]++,ti().b[10][0]++,r.keyCode===13&&(ti().b[10][1]++,this.props.onChange)?(ti().b[9][0]++,ti().s[22]++,this.props.onChange(this.state.value)):ti().b[9][1]++},required:this.props.required})}}on(jd,"defaultProps",(ti().s[0]++,{onInput:()=>{ti().f[0]++}}));function Mp(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",t="1b7060ffc75823b83956b34c84f8d7f711912270",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:4},end:{line:48,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:49,column:3}},line:11}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:26,column:11}},type:"binary-expr",locations:[{start:{line:20,column:10},end:{line:20,column:29}},{start:{line:20,column:49},end:{line:26,column:11}}],line:20},1:{loc:{start:{line:27,column:10},end:{line:45,column:11}},type:"binary-expr",locations:[{start:{line:27,column:10},end:{line:27,column:30}},{start:{line:27,column:50},end:{line:45,column:11}}],line:27}},s:{0:0,1:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAqBW,SAKH,KALG;AArBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAUxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAQ,WAAW,OAAO,MAAM;AAAA,QACnD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b7060ffc75823b83956b34c84f8d7f711912270"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Mp=function(){return a},a}Mp();class ik extends Mn.Component{render(){return Mp().f[0]++,Mp().s[1]++,G.jsxs(aa,{label:"Type",fieldSpec:no.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(Mp().b[0][0]++,this.props.disabled&&(Mp().b[0][1]++,G.jsx(jd,{value:this.props.value,disabled:!0}))),(Mp().b[1][0]++,!this.props.disabled&&(Mp().b[1][1]++,G.jsx(G1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}on(ik,"defaultProps",(Mp().s[0]++,{disabled:!1}));function P4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",t="a7d93cb2f79962c714e16c8b482f49de057b0cb8",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAmBM;AAnBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAM,WAAW,OAAO,MAAM;AAAA,QACjD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7d93cb2f79962c714e16c8b482f49de057b0cb8"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return P4=function(){return a},a}P4();class SN extends Mn.Component{render(){return P4().f[0]++,P4().s[0]++,G.jsx(aa,{label:"ID",fieldSpec:no.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:G.jsx(jd,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var EN={exports:{}},Ppe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function Fpe(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function ON(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function LO(e){return ON(e)}function UO(e){return ON(e,!0)}function BN(e){var t=Fpe(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=LO(r),t.top+=UO(r),t}function Dpe(e,t,n){var r="",i=e.ownerDocument;return(n=n||i.defaultView.getComputedStyle(e,null))&&(r=n.getPropertyValue(t)||n[t]),r}var Lpe=new RegExp("^("+Ppe+")(?!px)[a-z%]+$","i"),Upe=/^(top|right|bottom|left)$/,QS="currentStyle",$S="runtimeStyle",W0="left",Rpe="px";function zpe(e,t){var n=e[QS]&&e[QS][t];if(Lpe.test(n)&&!Upe.test(t)){var r=e.style,i=r[W0],o=e[$S][W0];e[$S][W0]=e[QS][W0],r[W0]=t==="fontSize"?"1em":n||0,n=r.pixelLeft+Rpe,r[W0]=i,e[$S][W0]=o}return n===""?"auto":n}var F1;typeof window<"u"&&(F1=window.getComputedStyle?Dpe:zpe);function jpe(e,t){Ly(e,"position")==="static"&&(e.style.position="relative");var n=BN(e),r={},i,o;for(o in t)i=parseFloat(Ly(e,o))||0,r[o]=i+t[o]-n[o];Ly(e,r)}function ok(e,t){for(var n=0;n<e.length;n++)t(e[n])}function kN(e){return F1(e,"boxSizing")==="border-box"}var Wpe=["margin","border","padding"],RO=-1,Npe=2,zO=1,Gpe=0;function Qpe(e,t,n){var r={},i=e.style,o;for(o in t)r[o]=i[o],i[o]=t[o];n.call(e);for(o in t)i[o]=r[o]}function W_(e,t,n){var r=0,i,o,a;for(o=0;o<t.length;o++)if(i=t[o],i)for(a=0;a<n.length;a++){var s;i==="border"?s=i+n[a]+"Width":s=i+n[a],r+=parseFloat(F1(e,s))||0}return r}function i3(e){return e!=null&&e==e.window}var kf={};ok(["Width","Height"],function(e){kf["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],kf["viewport"+e](n))},kf["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement,a=o[n];return r.compatMode==="CSS1Compat"&&a||i&&i[n]||a}});function QK(e,t,n){if(i3(e))return t==="width"?kf.viewportWidth(e):kf.viewportHeight(e);if(e.nodeType===9)return t==="width"?kf.docWidth(e):kf.docHeight(e);var r=t==="width"?["Left","Right"]:["Top","Bottom"],i=t==="width"?e.offsetWidth:e.offsetHeight;F1(e);var o=kN(e),a=0;(i==null||i<=0)&&(i=void 0,a=F1(e,t),(a==null||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),n===void 0&&(n=o?zO:RO);var s=i!==void 0||o,h=i||a;return n===RO?s?h-W_(e,["border","padding"],r):a:s?h+(n===zO?0:n===Npe?-W_(e,["border"],r):W_(e,["margin"],r)):a+W_(e,Wpe.slice(n),r)}var $pe={position:"absolute",visibility:"hidden",display:"block"};function $K(e){var t,n=arguments;return e.offsetWidth!==0?t=QK.apply(void 0,n):Qpe(e,$pe,function(){t=QK.apply(void 0,n)}),t}ok(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);kf["outer"+t]=function(r,i){return r&&$K(r,e,i?Gpe:zO)};var n=e==="width"?["Left","Right"]:["Top","Bottom"];kf[e]=function(r,i){if(i!==void 0){if(r){F1(r);var o=kN(r);return o&&(i+=W_(r,["padding","border"],n)),Ly(r,e,i)}return}return r&&$K(r,e,RO)}});function Ly(e,t,n){if(typeof t=="object"){for(var r in t)Ly(e,r,t[r]);return}if(typeof n<"u")typeof n=="number"&&(n=n+"px"),e.style[t]=n;else return F1(e,t)}function IN(e,t){for(var n in t)e[n]=t[n];return e}var TN=EN.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(typeof t<"u")jpe(e,t);else return BN(e)},isWindow:i3,each:ok,css:Ly,clone:function(e){var t={};for(var n in e)t[n]=e[n];var r=e.overflow;if(r)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:IN,scrollLeft:function(e,t){if(i3(e)){if(t===void 0)return LO(e);window.scrollTo(t,UO(e))}else{if(t===void 0)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(i3(e)){if(t===void 0)return UO(e);window.scrollTo(LO(e),t)}else{if(t===void 0)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)TN.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};IN(TN,kf);var Ype=EN.exports,Va=Ype;function qpe(e,t,n){n=n||{},t.nodeType===9&&(t=Va.getWindow(t));var r=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,o=n.alignWithTop,a=n.alignWithLeft;r=r===void 0?!0:r;var s=Va.isWindow(t),h=Va.offset(e),g=Va.outerHeight(e),_=Va.outerWidth(e),B,k,P,F,q,ee,H,N,Z,ue;s?(H=t,ue=Va.height(H),Z=Va.width(H),N={left:Va.scrollLeft(H),top:Va.scrollTop(H)},q={left:h.left-N.left,top:h.top-N.top},ee={left:h.left+_-(N.left+Z),top:h.top+g-(N.top+ue)},F=N):(B=Va.offset(t),k=t.clientHeight,P=t.clientWidth,F={left:t.scrollLeft,top:t.scrollTop},q={left:h.left-(B.left+(parseFloat(Va.css(t,"borderLeftWidth"))||0)),top:h.top-(B.top+(parseFloat(Va.css(t,"borderTopWidth"))||0))},ee={left:h.left+_-(B.left+P+(parseFloat(Va.css(t,"borderRightWidth"))||0)),top:h.top+g-(B.top+k+(parseFloat(Va.css(t,"borderBottomWidth"))||0))}),q.top<0||ee.top>0?o===!0?Va.scrollTop(t,F.top+q.top):o===!1?Va.scrollTop(t,F.top+ee.top):q.top<0?Va.scrollTop(t,F.top+q.top):Va.scrollTop(t,F.top+ee.top):i||(o=o===void 0?!0:!!o,o?Va.scrollTop(t,F.top+q.top):Va.scrollTop(t,F.top+ee.top)),r&&(q.left<0||ee.left>0?a===!0?Va.scrollLeft(t,F.left+q.left):a===!1?Va.scrollLeft(t,F.left+ee.left):q.left<0?Va.scrollLeft(t,F.left+q.left):Va.scrollLeft(t,F.left+ee.left):i||(a=a===void 0?!0:!!a,a?Va.scrollLeft(t,F.left+q.left):Va.scrollLeft(t,F.left+ee.left)))}var Hpe=qpe,Vpe=Hpe,o3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zpe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Xpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jpe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n1=kr,kl=kh,tme=d0,YK=tme.findDOMNode,nme=Vpe,rme=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function ime(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var hw=function(e){eme(t,e);function t(n){Xpe(this,t);var r=Jpe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return Zpe(t,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,rme.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;nme(YK(r),YK(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){t.keyDownHandlers[r.key]?t.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,a){return r.sortItems(o,a,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,a=i.value,s=i.getItemValue,h=o===null?0:o,g=this.getFilteredItems(i),_=0;_<g.length&&!i.isItemSelectable(g[h]);_++)h=(h+1)%g.length;var B=g[h]&&i.isItemSelectable(g[h])?g[h]:null;if(a!==""&&B){var k=s(B),P=k.toLowerCase().indexOf(a.toLowerCase())===0;if(P)return{highlightedIndex:h}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),a=parseInt(o.marginBottom,10)||0,s=parseInt(o.marginLeft,10)||0,h=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+a,menuLeft:i.left+s,menuWidth:i.width+s+h})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(s,h){var g=r.props.renderItem(s,r.state.highlightedIndex===h,{cursor:"default"});return n1.cloneElement(g,{onMouseEnter:r.props.isItemSelectable(s)?function(){return r.highlightItemFromMouse(h)}:null,onClick:r.props.isItemSelectable(s)?function(){return r.selectItemFromMouse(s)}:null,ref:function(B){return r.refs["item-"+h]=B}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},a=this.props.renderMenu(i,this.props.value,o);return n1.cloneElement(a,{ref:function(h){return r.refs.menu=h},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=ime(),this.refs.input.focus();return}var o=void 0,a=this.state.highlightedIndex;if(this.props.selectOnBlur&&a!==null){var s=this.getFilteredItems(this.props),h=s[a],g=this.props.getItemValue(h);o=function(){return i.props.onSelect(g,h)}}this.setState({isOpen:!1,highlightedIndex:null},o);var _=this.props.inputProps.onBlur;_&&_(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,a=o.x,s=o.y;this._scrollOffset=null,window.scrollTo(a,s),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(a,s)},0);return}this.setState({isOpen:!0});var h=this.props.inputProps.onFocus;h&&h(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return n1.createElement("div",o3({style:o3({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(o3({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&n1.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),t}(n1.Component);hw.propTypes={items:kl.array.isRequired,value:kl.any,onChange:kl.func,onSelect:kl.func,shouldItemRender:kl.func,isItemSelectable:kl.func,sortItems:kl.func,getItemValue:kl.func.isRequired,renderItem:kl.func.isRequired,renderMenu:kl.func,menuStyle:kl.object,renderInput:kl.func,inputProps:kl.object,wrapperProps:kl.object,wrapperStyle:kl.object,autoHighlight:kl.bool,selectOnBlur:kl.bool,onMenuVisibilityChange:kl.func,open:kl.bool,debug:kl.bool};hw.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(t){return n1.createElement("input",t)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(t,n,r){return n1.createElement("div",{style:o3({},r,this.menuStyle),children:t})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};hw.keyDownHandlers={ArrowDown:function(t){t.preventDefault();var n=this.getFilteredItems(this.props);if(n.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<n.length;o++){var a=(i+o+1)%n.length;if(this.props.isItemSelectable(n[a])){i=a;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(t){t.preventDefault();var n=this.getFilteredItems(this.props);if(n.length){for(var r=this.state.highlightedIndex,i=r===null?n.length:r,o=0;o<n.length;o++){var a=(i-(1+o)+n.length)%n.length;if(this.props.isItemSelectable(n[a])){i=a;break}}i!==n.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(t){var n=this;if(t.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){n.refs.input.select()});else{t.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){n.refs.input.setSelectionRange(i.length,i.length),n.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var ome=hw;const ame=Oa(ome);function Yi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",t="6ef9facf9aeabdae687b5aca973710969d826d60",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ef9facf9aeabdae687b5aca973710969d826d60"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Yi=function(){return a},a}Yi();const qK=(Yi().s[0]++,140);class bv extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Yi().s[1]++,{maxHeight:qK}));on(this,"autocompleteMenuEl",(Yi().s[2]++,null))}calcMaxHeight(){if(Yi().f[1]++,Yi().s[4]++,this.props.keepMenuWithinWindowBounds){Yi().b[0][0]++;const n=(Yi().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Yi().s[6]++,Math.min(n,qK));Yi().s[7]++,r!=this.state.maxHeight?(Yi().b[1][0]++,Yi().s[8]++,this.setState({maxHeight:r})):Yi().b[1][1]++}else Yi().b[0][1]++}componentDidMount(){Yi().f[2]++,Yi().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Yi().f[3]++,Yi().s[10]++,this.calcMaxHeight()}onChange(n){Yi().f[4]++,Yi().s[11]++,this.props.onChange(n===""?(Yi().b[2][0]++,void 0):(Yi().b[2][1]++,n))}render(){return Yi().f[5]++,Yi().s[12]++,G.jsx("div",{ref:n=>{Yi().f[6]++,Yi().s[13]++,this.autocompleteMenuEl=n},children:G.jsx(ame,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:n=>(Yi().f[7]++,Yi().s[14]++,n[0]),onSelect:n=>(Yi().f[8]++,Yi().s[15]++,this.onChange(n)),onChange:(n,r)=>(Yi().f[9]++,Yi().s[16]++,this.onChange(r)),shouldItemRender:(n,r=(Yi().b[3][0]++,""))=>(Yi().f[10]++,Yi().s[17]++,typeof r=="string"?(Yi().b[4][0]++,Yi().s[18]++,n[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Yi().b[4][1]++,Yi().s[19]++,!1)),renderItem:(n,r)=>(Yi().f[11]++,Yi().s[20]++,G.jsx("div",{className:Rf({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:n[1]},n[0]))})})}}on(bv,"defaultProps",(Yi().s[3]++,{onChange:()=>{Yi().f[0]++},options:[]}));function Om(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",t="44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:11,column:3}},1:{start:{line:13,column:4},end:{line:29,column:6}},2:{start:{line:25,column:56},end:{line:25,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:30,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:56},end:{line:25,column:66}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA2BM;AA3BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Om=function(){return a},a}Om();class ak extends Mn.Component{render(){var t;return Om().f[1]++,Om().s[1]++,G.jsx(aa,{label:"Source",fieldSpec:no.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:G.jsx(bv,{value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceIds)==null?void 0:t.map(n=>(Om().f[2]++,Om().s[2]++,[n,n]))})})}}on(ak,"defaultProps",(Om().s[0]++,{onChange:()=>{Om().f[0]++},sourceIds:[]}));function Bm(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",t="f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:12,column:3}},1:{start:{line:14,column:4},end:{line:31,column:6}},2:{start:{line:27,column:59},end:{line:27,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:52},end:{line:27,column:53}},loc:{start:{line:27,column:59},end:{line:27,column:65}},line:27}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA5BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Bm=function(){return a},a}Bm();class sk extends Mn.Component{render(){var t;return Bm().f[1]++,Bm().s[1]++,G.jsx(aa,{label:"Source Layer",fieldSpec:Sa.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:G.jsx(bv,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceLayerIds)==null?void 0:t.map(n=>(Bm().f[2]++,Bm().s[2]++,[n,n]))})})}}on(sk,"defaultProps",(Bm().s[0]++,{onChange:()=>{Bm().f[0]++},sourceLayerIds:[],isFixed:!1}));function cr(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",t="a7785e30671066cb83402b9013479a4548583811",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:10,column:13},end:{line:25,column:3}},1:{start:{line:11,column:26},end:{line:11,column:52}},2:{start:{line:12,column:18},end:{line:15,column:5}},3:{start:{line:16,column:4},end:{line:21,column:5}},4:{start:{line:17,column:6},end:{line:17,column:39}},5:{start:{line:18,column:6},end:{line:20,column:7}},6:{start:{line:19,column:8},end:{line:19,column:59}},7:{start:{line:22,column:4},end:{line:22,column:30}},8:{start:{line:23,column:4},end:{line:23,column:45}},9:{start:{line:24,column:4},end:{line:24,column:35}},10:{start:{line:27,column:4},end:{line:27,column:17}},11:{start:{line:28,column:18},end:{line:31,column:5}},12:{start:{line:32,column:4},end:{line:35,column:5}},13:{start:{line:33,column:6},end:{line:33,column:56}},14:{start:{line:34,column:6},end:{line:34,column:66}},15:{start:{line:36,column:4},end:{line:36,column:23}},16:{start:{line:39,column:20},end:{line:39,column:34}},17:{start:{line:40,column:20},end:{line:40,column:35}},18:{start:{line:41,column:32},end:{line:41,column:56}},19:{start:{line:42,column:32},end:{line:42,column:56}},20:{start:{line:43,column:4},end:{line:50,column:5}},21:{start:{line:47,column:6},end:{line:49,column:9}},22:{start:{line:53,column:22},end:{line:53,column:54}},23:{start:{line:54,column:4},end:{line:54,column:34}},24:{start:{line:57,column:20},end:{line:57,column:22}},25:{start:{line:58,column:18},end:{line:78,column:5}},26:{start:{line:79,column:4},end:{line:84,column:5}},27:{start:{line:80,column:22},end:{line:80,column:30}},28:{start:{line:81,column:6},end:{line:83,column:7}},29:{start:{line:82,column:8},end:{line:82,column:26}},30:{start:{line:85,column:4},end:{line:85,column:19}},31:{start:{line:88,column:20},end:{line:88,column:52}},32:{start:{line:89,column:19},end:{line:89,column:61}},33:{start:{line:90,column:4},end:{line:146,column:6}},34:{start:{line:105,column:16},end:{line:105,column:41}},35:{start:{line:114,column:31},end:{line:114,column:57}},36:{start:{line:123,column:31},end:{line:123,column:59}},37:{start:{line:132,column:31},end:{line:132,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:13},end:{line:10,column:14}},loc:{start:{line:10,column:19},end:{line:25,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:21},end:{line:37,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:44},end:{line:51,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:29},end:{line:55,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:19},end:{line:86,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:11},end:{line:147,column:3}},line:87},6:{name:"(anonymous_6)",decl:{start:{line:104,column:24},end:{line:104,column:25}},loc:{start:{line:104,column:31},end:{line:106,column:15}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:31},end:{line:114,column:57}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:31},end:{line:123,column:59}},line:123},9:{name:"(anonymous_9)",decl:{start:{line:132,column:24},end:{line:132,column:25}},loc:{start:{line:132,column:31},end:{line:132,column:67}},line:132}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:18,column:10},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:10},end:{line:18,column:38}},{start:{line:18,column:42},end:{line:18,column:68}}],line:18},3:{loc:{start:{line:32,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:35,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},4:{loc:{start:{line:43,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},5:{loc:{start:{line:45,column:6},end:{line:45,column:160}},type:"binary-expr",locations:[{start:{line:45,column:6},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:106}},{start:{line:45,column:110},end:{line:45,column:160}}],line:45},6:{loc:{start:{line:53,column:22},end:{line:53,column:54}},type:"binary-expr",locations:[{start:{line:53,column:22},end:{line:53,column:48}},{start:{line:53,column:52},end:{line:53,column:54}}],line:53},7:{loc:{start:{line:54,column:11},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:11},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},8:{loc:{start:{line:81,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:83,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},9:{loc:{start:{line:81,column:10},end:{line:81,column:61}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:24}},{start:{line:81,column:28},end:{line:81,column:61}}],line:81},10:{loc:{start:{line:117,column:10},end:{line:125,column:11}},type:"binary-expr",locations:[{start:{line:117,column:10},end:{line:117,column:42}},{start:{line:117,column:62},end:{line:125,column:11}}],line:117},11:{loc:{start:{line:126,column:10},end:{line:134,column:11}},type:"binary-expr",locations:[{start:{line:126,column:10},end:{line:126,column:87}},{start:{line:126,column:107},end:{line:134,column:11}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AAyIM,SACE,KADF;AAzIN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAmB7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAAsB;AAChC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAwC,EAAE,CAAC;AAAA,IAC9F;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAA2B,WAA0B;AAEtE,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cACb;AAAA;AAAA,UAED;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7785e30671066cb83402b9013479a4548583811"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return cr=function(){return a},a}cr();class sme extends Mn.Component{constructor(n){cr().f[1]++,cr().s[10]++;super(n);on(this,"addLayer",(cr().s[0]++,()=>{cr().f[0]++;const n=(cr().s[1]++,this.props.layers.slice(0)),r=(cr().s[2]++,{id:this.state.id,type:this.state.type});cr().s[3]++,this.state.type!=="background"?(cr().b[0][0]++,cr().s[4]++,r.source=this.state.source,cr().s[5]++,cr().b[2][0]++,this.state.type!=="raster"&&(cr().b[2][1]++,this.state["source-layer"])?(cr().b[1][0]++,cr().s[6]++,r["source-layer"]=this.state["source-layer"]):cr().b[1][1]++):cr().b[0][1]++,cr().s[7]++,n.push(r),cr().s[8]++,this.props.onLayersChange(n),cr().s[9]++,this.props.onOpenToggle(!1)}));const r=(cr().s[11]++,{type:"fill",id:""});cr().s[12]++,n.sources.length>0?(cr().b[3][0]++,cr().s[13]++,r.source=Object.keys(this.props.sources)[0],cr().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):cr().b[3][1]++,cr().s[15]++,this.state=r}componentDidUpdate(n,r){cr().f[2]++;const i=(cr().s[16]++,r.type),o=(cr().s[17]++,this.state.type),a=(cr().s[18]++,this.getSources(i)),s=(cr().s[19]++,this.getSources(o));cr().s[20]++,cr().b[5][0]++,i!==o&&(cr().b[5][1]++,r.source!=="")&&(cr().b[5][2]++,a.indexOf(r.source)>-1)&&(cr().b[5][3]++,s.indexOf(this.state.source)<0)?(cr().b[4][0]++,cr().s[21]++,this.setState({source:""})):cr().b[4][1]++}getLayersForSource(n){cr().f[3]++;const r=(cr().s[22]++,cr().b[6][0]++,this.props.sources[n]||(cr().b[6][1]++,{}));return cr().s[23]++,cr().b[7][0]++,r.layers||(cr().b[7][1]++,[])}getSources(n){cr().f[4]++;const r=(cr().s[24]++,[]),i=(cr().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});cr().s[26]++;for(const[o,a]of Object.entries(this.props.sources)){const s=(cr().s[27]++,a.type);cr().s[28]++,cr().b[9][0]++,i[s]&&(cr().b[9][1]++,i[s].indexOf(n)>-1)?(cr().b[8][0]++,cr().s[29]++,r.push(o)):cr().b[8][1]++}return cr().s[30]++,r}render(){cr().f[5]++;const n=(cr().s[31]++,this.getSources(this.state.type)),r=(cr().s[32]++,this.getLayersForSource(this.state.source));return cr().s[33]++,G.jsx(Gf,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:G.jsxs("div",{className:"maputnik-add-layer",children:[G.jsx(SN,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:i=>{cr().f[6]++,cr().s[34]++,this.setState({id:i})}}),G.jsx(ik,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:i=>(cr().f[7]++,cr().s[35]++,this.setState({type:i}))}),(cr().b[10][0]++,this.state.type!=="background"&&(cr().b[10][1]++,G.jsx(ak,{sourceIds:n,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:i=>(cr().f[8]++,cr().s[36]++,this.setState({source:i}))}))),(cr().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(cr().b[11][1]++,G.jsx(sk,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:i=>(cr().f[9]++,cr().s[37]++,this.setState({"source-layer":i}))}))),G.jsx(za,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:"Add Layer"})]})})}}function d1(){var e="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",t="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return d1=function(){return a},a}d1();let HK=(d1().s[0]++,0);function ov(e=(d1().b[0][0]++,"")){return d1().f[0]++,d1().s[1]++,HK++,d1().s[2]++,e+HK}function oi(){var e="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",t="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return oi=function(){return a},a}oi();function lme(e,t){oi().f[0]++;const n=(oi().s[0]++,{...e.paint});oi().s[1]++,Object.keys(n).forEach(i=>{oi().f[1]++,oi().s[2]++,i in Sa["paint_"+t]?oi().b[0][1]++:(oi().b[0][0]++,oi().s[3]++,delete n[i])});const r=(oi().s[4]++,{...e.layout});return oi().s[5]++,Object.keys(r).forEach(i=>{oi().f[2]++,oi().s[6]++,i in Sa["layout_"+t]?oi().b[1][1]++:(oi().b[1][0]++,oi().s[7]++,delete r[i])}),oi().s[8]++,{...e,paint:n,layout:r,type:t}}function ume(e,t,n,r){if(oi().f[3]++,oi().s[9]++,r===void 0)if(oi().b[2][0]++,oi().s[10]++,t){oi().b[3][0]++;const i=(oi().s[11]++,{...e,[t]:{...e[t]}});return oi().s[12]++,delete i[t][n],oi().s[13]++,Object.keys(i[t]).length<1?(oi().b[4][0]++,oi().s[14]++,delete i[t]):oi().b[4][1]++,oi().s[15]++,i}else{oi().b[3][1]++;const i=(oi().s[16]++,{...e});return oi().s[17]++,delete i[n],oi().s[18]++,i}else return oi().b[2][1]++,oi().s[19]++,t?(oi().b[5][0]++,oi().s[20]++,{...e,[t]:{...e[t],[n]:r}}):(oi().b[5][1]++,oi().s[21]++,{...e,[n]:r})}function my(e){return oi().f[4]++,oi().s[22]++,e.replace(" ","-").replace("_","-").split("-")[0]}function Ame(e,t){oi().f[5]++;const n=(oi().s[23]++,my(e[t].id));let r=(oi().s[24]++,t);oi().s[25]++;for(let i=(oi().s[26]++,t);i>0;i--){const o=(oi().s[27]++,my(e[i-1].id));if(oi().s[28]++,o===n)oi().b[6][0]++,oi().s[29]++,r=i-1;else return oi().b[6][1]++,oi().s[30]++,r}return oi().s[31]++,r}function Yt(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",t="a7cd6405e81ca6260ef85d5394a18c33340b5775",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:12,column:24},end:{line:15,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:20,column:45}},3:{start:{line:21,column:4},end:{line:21,column:48}},4:{start:{line:22,column:4},end:{line:31,column:6}},5:{start:{line:34,column:4},end:{line:43,column:7}},6:{start:{line:45,column:17},end:{line:62,column:3}},7:{start:{line:46,column:14},end:{line:46,column:15}},8:{start:{line:47,column:22},end:{line:47,column:24}},9:{start:{line:48,column:4},end:{line:57,column:7}},10:{start:{line:49,column:26},end:{line:49,column:51}},11:{start:{line:50,column:24},end:{line:50,column:52}},12:{start:{line:51,column:6},end:{line:53,column:7}},13:{start:{line:52,column:8},end:{line:52,column:63}},14:{start:{line:54,column:6},end:{line:56,column:9}},15:{start:{line:55,column:8},end:{line:55,column:17}},16:{start:{line:58,column:4},end:{line:61,column:7}},17:{start:{line:64,column:19},end:{line:64,column:21}},18:{start:{line:65,column:41},end:{line:65,column:50}},19:{start:{line:66,column:4},end:{line:83,column:5}},20:{start:{line:66,column:17},end:{line:66,column:18}},21:{start:{line:67,column:24},end:{line:67,column:44}},22:{start:{line:68,column:28},end:{line:68,column:52}},23:{start:{line:69,column:6},end:{line:72,column:8}},24:{start:{line:73,column:20},end:{line:76,column:7}},25:{start:{line:77,column:6},end:{line:82,column:7}},26:{start:{line:78,column:26},end:{line:78,column:51}},27:{start:{line:79,column:8},end:{line:79,column:30}},28:{start:{line:81,column:8},end:{line:81,column:29}},29:{start:{line:84,column:4},end:{line:84,column:18}},30:{start:{line:87,column:22},end:{line:87,column:50}},31:{start:{line:88,column:22},end:{line:88,column:55}},32:{start:{line:89,column:4},end:{line:93,column:5}},33:{start:{line:90,column:6},end:{line:90,column:68}},34:{start:{line:92,column:6},end:{line:92,column:35}},35:{start:{line:94,column:4},end:{line:96,column:7}},36:{start:{line:99,column:22},end:{line:99,column:78}},37:{start:{line:100,column:4},end:{line:100,column:51}},38:{start:{line:103,column:4},end:{line:105,column:5}},39:{start:{line:104,column:6},end:{line:104,column:18}},40:{start:{line:107,column:18},end:{line:109,column:7}},41:{start:{line:110,column:6},end:{line:114,column:7}},42:{start:{line:111,column:8},end:{line:113,column:10}},43:{start:{line:115,column:6},end:{line:115,column:17}},44:{start:{line:117,column:24},end:{line:120,column:5}},45:{start:{line:122,column:18},end:{line:124,column:7}},46:{start:{line:125,column:6},end:{line:125,column:27}},47:{start:{line:126,column:6},end:{line:126,column:17}},48:{start:{line:128,column:23},end:{line:131,column:5}},49:{start:{line:132,column:25},end:{line:132,column:53}},50:{start:{line:133,column:4},end:{line:133,column:24}},51:{start:{line:136,column:4},end:{line:152,column:5}},52:{start:{line:137,column:31},end:{line:137,column:59}},53:{start:{line:138,column:6},end:{line:151,column:7}},54:{start:{line:139,column:23},end:{line:139,column:44}},55:{start:{line:140,column:24},end:{line:143,column:9}},56:{start:{line:144,column:25},end:{line:149,column:19}},57:{start:{line:145,column:10},end:{line:145,column:37}},58:{start:{line:146,column:10},end:{line:148,column:11}},59:{start:{line:147,column:12},end:{line:147,column:36}},60:{start:{line:150,column:8},end:{line:150,column:33}},61:{start:{line:155,column:22},end:{line:155,column:24}},62:{start:{line:156,column:14},end:{line:156,column:15}},63:{start:{line:157,column:26},end:{line:157,column:46}},64:{start:{line:158,column:4},end:{line:209,column:7}},65:{start:{line:159,column:26},end:{line:159,column:51}},66:{start:{line:160,column:6},end:{line:173,column:7}},67:{start:{line:161,column:36},end:{line:171,column:9}},68:{start:{line:165,column:47},end:{line:165,column:52}},69:{start:{line:172,column:8},end:{line:172,column:28}},70:{start:{line:174,column:6},end:{line:208,column:9}},71:{start:{line:175,column:25},end:{line:175,column:72}},72:{start:{line:176,column:27},end:{line:178,column:10}},73:{start:{line:177,column:10},end:{line:177,column:97}},74:{start:{line:179,column:32},end:{line:179,column:34}},75:{start:{line:180,column:8},end:{line:182,column:9}},76:{start:{line:181,column:10},end:{line:181,column:53}},77:{start:{line:183,column:41},end:{line:205,column:9}},78:{start:{line:206,column:8},end:{line:206,column:33}},79:{start:{line:207,column:8},end:{line:207,column:17}},80:{start:{line:210,column:4},end:{line:262,column:6}},81:{start:{line:265,column:35},end:{line:265,column:118}},82:{start:{line:265,column:80},end:{line:265,column:117}},83:{start:{line:268,column:4},end:{line:277,column:6}},84:{start:{line:275,column:33},end:{line:275,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:25},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:32,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:44,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:17},end:{line:45,column:18}},loc:{start:{line:45,column:23},end:{line:62,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:48,column:33},end:{line:48,column:34}},loc:{start:{line:48,column:45},end:{line:57,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:54,column:21},end:{line:54,column:22}},loc:{start:{line:54,column:33},end:{line:56,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:85,column:3}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:37},end:{line:97,column:3}},line:86},8:{name:"(anonymous_8)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:32},end:{line:101,column:3}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:46},end:{line:134,column:3}},line:102},10:{name:"getRequiredProps",decl:{start:{line:106,column:13},end:{line:106,column:29}},loc:{start:{line:106,column:37},end:{line:116,column:5}},line:106},11:{name:"withoutLayers",decl:{start:{line:121,column:13},end:{line:121,column:26}},loc:{start:{line:121,column:34},end:{line:127,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:32},end:{line:153,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:144,column:50},end:{line:144,column:51}},loc:{start:{line:144,column:63},end:{line:149,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:11},end:{line:263,column:3}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:158,column:26},end:{line:158,column:27}},loc:{start:{line:158,column:38},end:{line:209,column:5}},line:158},16:{name:"(anonymous_16)",decl:{start:{line:165,column:40},end:{line:165,column:41}},loc:{start:{line:165,column:47},end:{line:165,column:52}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:174,column:21},end:{line:174,column:22}},loc:{start:{line:174,column:44},end:{line:208,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:176,column:50},end:{line:176,column:51}},loc:{start:{line:176,column:61},end:{line:178,column:9}},line:176},19:{name:"(anonymous_19)",decl:{start:{line:265,column:53},end:{line:265,column:54}},loc:{start:{line:265,column:80},end:{line:265,column:117}},line:265},20:{name:"(anonymous_20)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:11},end:{line:278,column:3}},line:267},21:{name:"(anonymous_21)",decl:{start:{line:275,column:27},end:{line:275,column:28}},loc:{start:{line:275,column:33},end:{line:275,column:38}},line:275}},branchMap:{0:{loc:{start:{line:51,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},1:{loc:{start:{line:71,column:8},end:{line:71,column:79}},type:"cond-expr",locations:[{start:{line:71,column:41},end:{line:71,column:75}},{start:{line:71,column:78},end:{line:71,column:79}}],line:71},2:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:80,column:13},end:{line:82,column:7}}],line:77},3:{loc:{start:{line:77,column:10},end:{line:77,column:81}},type:"binary-expr",locations:[{start:{line:77,column:10},end:{line:77,column:23}},{start:{line:77,column:27},end:{line:77,column:81}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:89},5:{loc:{start:{line:100,column:11},end:{line:100,column:50}},type:"cond-expr",locations:[{start:{line:100,column:34},end:{line:100,column:38}},{start:{line:100,column:41},end:{line:100,column:50}}],line:100},6:{loc:{start:{line:103,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:103},7:{loc:{start:{line:110,column:6},end:{line:114,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:114,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:110},8:{loc:{start:{line:132,column:27},end:{line:132,column:52}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:38}},{start:{line:132,column:42},end:{line:132,column:52}}],line:132},9:{loc:{start:{line:136,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:136,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},10:{loc:{start:{line:138,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},11:{loc:{start:{line:138,column:10},end:{line:138,column:51}},type:"binary-expr",locations:[{start:{line:138,column:10},end:{line:138,column:26}},{start:{line:138,column:30},end:{line:138,column:51}}],line:138},12:{loc:{start:{line:146,column:10},end:{line:148,column:11}},type:"if",locations:[{start:{line:146,column:10},end:{line:148,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},13:{loc:{start:{line:146,column:14},end:{line:146,column:68}},type:"binary-expr",locations:[{start:{line:146,column:14},end:{line:146,column:32}},{start:{line:146,column:36},end:{line:146,column:68}}],line:146},14:{loc:{start:{line:160,column:6},end:{line:173,column:7}},type:"if",locations:[{start:{line:160,column:6},end:{line:173,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},15:{loc:{start:{line:167,column:22},end:{line:167,column:98}},type:"binary-expr",locations:[{start:{line:167,column:22},end:{line:167,column:57}},{start:{line:167,column:61},end:{line:167,column:98}}],line:167},16:{loc:{start:{line:177,column:17},end:{line:177,column:96}},type:"binary-expr",locations:[{start:{line:177,column:17},end:{line:177,column:29}},{start:{line:177,column:33},end:{line:177,column:62}},{start:{line:177,column:66},end:{line:177,column:96}}],line:177},17:{loc:{start:{line:180,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:180,column:8},end:{line:182,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:180},18:{loc:{start:{line:187,column:52},end:{line:187,column:153}},type:"binary-expr",locations:[{start:{line:187,column:52},end:{line:187,column:69}},{start:{line:187,column:73},end:{line:187,column:112}},{start:{line:187,column:116},end:{line:187,column:153}}],line:187},19:{loc:{start:{line:188,column:53},end:{line:188,column:105}},type:"binary-expr",locations:[{start:{line:188,column:53},end:{line:188,column:84}},{start:{line:188,column:88},end:{line:188,column:105}}],line:188},20:{loc:{start:{line:196,column:25},end:{line:196,column:43}},type:"binary-expr",locations:[{start:{line:196,column:25},end:{line:196,column:37}},{start:{line:196,column:41},end:{line:196,column:43}}],line:196},21:{loc:{start:{line:239,column:26},end:{line:239,column:90}},type:"cond-expr",locations:[{start:{line:239,column:69},end:{line:239,column:79}},{start:{line:239,column:82},end:{line:239,column:90}}],line:239}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAiNoB,cAkEd,YAlEc;AAjNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AAsBrD,MAAM,2BAA2B,MAAM,UAA4D;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAgC;AAC1C,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAmC,oBAAM;AAAA,YACzD,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OAAO,aAAa;AAAA;AAAA,YAC3D,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBAA2C;AAAA;AAAA,YAEvD,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAW;AAAA,cAEX,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAGA,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7cd6405e81ca6260ef85d5394a18c33340b5775"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Yt=function(){return a},a}Yt();class KN extends Mn.Component{constructor(n){Yt().f[1]++,Yt().s[1]++;super(n);on(this,"selectedItemRef");on(this,"scrollContainerRef");on(this,"toggleLayers",(Yt().s[6]++,()=>{Yt().f[3]++;let n=(Yt().s[7]++,0);const r=(Yt().s[8]++,{});Yt().s[9]++,this.groupedLayers().forEach(i=>{Yt().f[4]++;const o=(Yt().s[10]++,my(i[0].id)),a=(Yt().s[11]++,[o,n].join("-"));Yt().s[12]++,i.length>1?(Yt().b[0][0]++,Yt().s[13]++,r[a]=this.state.areAllGroupsExpanded):Yt().b[0][1]++,Yt().s[14]++,i.forEach(s=>{Yt().f[5]++,Yt().s[15]++,n+=1})}),Yt().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));Yt().s[2]++,this.selectedItemRef=Mn.createRef(),Yt().s[3]++,this.scrollContainerRef=Mn.createRef(),Yt().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+ov()},isOpen:{add:!1}}}toggleModal(n){Yt().f[2]++,Yt().s[5]++,this.setState({keys:{...this.state.keys,[n]:+ov()},isOpen:{...this.state.isOpen,[n]:!this.state.isOpen[n]}})}groupedLayers(){Yt().f[6]++;const n=(Yt().s[17]++,[]),r=(Yt().s[18]++,new Map);Yt().s[19]++;for(let i=(Yt().s[20]++,0);i<this.props.layers.length;i++){const o=(Yt().s[21]++,this.props.layers[i]),a=(Yt().s[22]++,this.props.layers[i-1]);Yt().s[23]++,r.set(o.id,r.has(o.id)?(Yt().b[1][0]++,r.get(o.id)+1):(Yt().b[1][1]++,0));const s=(Yt().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if(Yt().s[25]++,Yt().b[3][0]++,a&&(Yt().b[3][1]++,my(a.id)==my(s.id))){Yt().b[2][0]++;const h=(Yt().s[26]++,n[n.length-1]);Yt().s[27]++,h.push(s)}else Yt().b[2][1]++,Yt().s[28]++,n.push([s])}return Yt().s[29]++,n}toggleLayerGroup(n,r){Yt().f[7]++;const i=(Yt().s[30]++,[n,r].join("-")),o=(Yt().s[31]++,{...this.state.collapsedGroups});Yt().s[32]++,i in this.state.collapsedGroups?(Yt().b[4][0]++,Yt().s[33]++,o[i]=!this.state.collapsedGroups[i]):(Yt().b[4][1]++,Yt().s[34]++,o[i]=!1),Yt().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(n,r){Yt().f[8]++;const i=(Yt().s[36]++,this.state.collapsedGroups[[n,r].join("-")]);return Yt().s[37]++,i===void 0?(Yt().b[5][0]++,!0):(Yt().b[5][1]++,i)}shouldComponentUpdate(n,r){if(Yt().f[9]++,Yt().s[38]++,this.state!==r)return Yt().b[6][0]++,Yt().s[39]++,!0;Yt().b[6][1]++;function i(g){Yt().f[10]++;const _=(Yt().s[40]++,{id:g.id});return Yt().s[41]++,g.layout?(Yt().b[7][0]++,Yt().s[42]++,_.layout={visibility:g.layout.visibility}):Yt().b[7][1]++,Yt().s[43]++,_}const o=(Yt().s[44]++,yE.isEqual(n.layers.map(i),this.props.layers.map(i)));function a(g){Yt().f[11]++;const _=(Yt().s[45]++,{...g});return Yt().s[46]++,delete _.layers,Yt().s[47]++,_}const s=(Yt().s[48]++,yE.isEqual(a(this.props),a(n))),h=(Yt().s[49]++,Yt().b[8][0]++,!(o&&(Yt().b[8][1]++,s)));return Yt().s[50]++,h}componentDidUpdate(n){if(Yt().f[12]++,Yt().s[51]++,n.selectedLayerIndex!==this.props.selectedLayerIndex){Yt().b[9][0]++;const r=(Yt().s[52]++,this.selectedItemRef.current);if(Yt().s[53]++,Yt().b[11][0]++,r&&(Yt().b[11][1]++,r.node)){Yt().b[10][0]++;const i=(Yt().s[54]++,r.node),o=(Yt().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),a=(Yt().s[56]++,new IntersectionObserver(s=>{Yt().f[13]++,Yt().s[57]++,a.unobserve(i),Yt().s[58]++,Yt().b[13][0]++,s.length>0&&(Yt().b[13][1]++,s[0].intersectionRatio<1)?(Yt().b[12][0]++,Yt().s[59]++,i.scrollIntoView()):Yt().b[12][1]++},o));Yt().s[60]++,a.observe(i)}else Yt().b[10][1]++}else Yt().b[9][1]++}render(){Yt().f[14]++;const n=(Yt().s[61]++,[]);let r=(Yt().s[62]++,0);const i=(Yt().s[63]++,this.groupedLayers());return Yt().s[64]++,i.forEach(o=>{Yt().f[15]++;const a=(Yt().s[65]++,my(o[0].id));if(Yt().s[66]++,o.length>1){Yt().b[14][0]++;const s=(Yt().s[67]++,G.jsx(Che,{"data-wd-key":[a,r].join("-"),"aria-controls":o.map(h=>(Yt().f[16]++,Yt().s[68]++,h.key)).join(" "),title:a,isActive:(Yt().b[15][0]++,!this.isCollapsed(a,r)||(Yt().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,a,r)},`group-${a}-${r}`));Yt().s[69]++,n.push(s)}else Yt().b[14][1]++;Yt().s[70]++,o.forEach((s,h)=>{var P;Yt().f[17]++;const g=(Yt().s[71]++,Ame(this.props.layers,r)),_=(Yt().s[72]++,this.props.errors.find(F=>(Yt().f[18]++,Yt().s[73]++,Yt().b[16][0]++,F.parsed&&(Yt().b[16][1]++,F.parsed.type==="layer")&&(Yt().b[16][2]++,F.parsed.data.index==r)))),B=(Yt().s[74]++,{});Yt().s[75]++,r===this.props.selectedLayerIndex?(Yt().b[17][0]++,Yt().s[76]++,B.ref=this.selectedItemRef):Yt().b[17][1]++;const k=(Yt().s[77]++,G.jsx(Jhe,{className:Rf({"maputnik-layer-list-item-collapsed":(Yt().b[18][0]++,o.length>1&&(Yt().b[18][1]++,this.isCollapsed(a,g))&&(Yt().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(Yt().b[19][0]++,h==o.length-1&&(Yt().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!_}),index:r,id:s.key,layerId:s.id,layerIndex:r,layerType:s.type,visibility:(Yt().b[20][0]++,s.layout||(Yt().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(P=this.props.onLayerDestroy)==null?void 0:P.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...B},s.key));Yt().s[78]++,n.push(k),Yt().s[79]++,r+=1})}),Yt().s[80]++,G.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef,children:[G.jsx(sme,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),G.jsxs("header",{className:"maputnik-layer-list-header",children:[G.jsx("span",{className:"maputnik-layer-list-header-title",children:"Layers"}),G.jsx("span",{className:"maputnik-space"}),G.jsx("div",{className:"maputnik-default-property",children:G.jsx("div",{className:"maputnik-multibutton",children:G.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(Yt().b[21][0]++,"Collapse"):(Yt().b[21][1]++,"Expand")})})}),G.jsx("div",{className:"maputnik-default-property",children:G.jsx("div",{className:"maputnik-multibutton",children:G.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:"Add Layer"})})})]}),G.jsx("div",{role:"navigation","aria-label":"Layers list",children:G.jsx("ul",{className:"maputnik-layer-list-container",children:n})})]})}}on(KN,"defaultProps",(Yt().s[0]++,{onLayerSelect:()=>{Yt().f[0]++}}));const cme=(Yt().s[81]++,Hhe(e=>(Yt().f[19]++,Yt().s[82]++,G.jsx(KN,{...e}))));class dme extends Mn.Component{render(){return Yt().f[20]++,Yt().s[83]++,G.jsx(cme,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>(Yt().f[21]++,Yt().s[84]++,!1)})}}var fw={},PN="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function hme(e,t){fw[e]=t}function fme(e){delete fw[e]}function pme(e,t){var n=fw[e];if(!n)throw new Error("Cannot open "+PN);n.openMenu(t)}function mme(e,t){var n=fw[e];if(!n)throw new Error("Cannot close "+PN);n.closeMenu(t)}var FN={registerManager:hme,unregisterManager:fme,openMenu:pme,closeMenu:mme};function Ds(e){e=e||{};var t=e.keybindings||{};this._settings={keybindings:{next:t.next||{keyCode:40},prev:t.prev||{keyCode:38},first:t.first,last:t.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var n,r;for(n in this._settings.keybindings)r=this._settings.keybindings[n],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:n,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}Ds.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};Ds.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};Ds.prototype._handleKeydownEvent=function(e){var t=this._getActiveElementIndex();if(t!==-1){var n=!1;this._keybindingsLookup.forEach((function(r){if(gme(r.eventMatcher,e))switch(n=!0,e.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),n||this._handleUnboundKey(e)}};Ds.prototype.moveFocusForward=function(){var e=this._getActiveElementIndex(),t;return e<this._members.length-1?t=e+1:this._settings.wrap?t=0:t=e,this.focusNodeAtIndex(t),t};Ds.prototype.moveFocusBack=function(){var e=this._getActiveElementIndex(),t;return e>0?t=e-1:this._settings.wrap?t=this._members.length-1:t=e,this.focusNodeAtIndex(t),t};Ds.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};Ds.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};Ds.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){if(this._searchString!==""&&(e.key===" "||e.keyCode===32))return e.preventDefault(),-1;if(!yme(e.keyCode)||e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}};Ds.prototype._clearSearchString=function(){this._searchString=""};Ds.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()};Ds.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){e._clearSearchString()},this._settings.stringSearchDelay)};Ds.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};Ds.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};Ds.prototype.moveFocusByString=function(e){for(var t,n=0,r=this._members.length;n<r;n++)if(t=this._members[n],!!t.text&&t.text.indexOf(e)===0)return DN(t.node)};Ds.prototype._findIndexOfNode=function(e){for(var t=0,n=this._members.length;t<n;t++)if(this._members[t].node===e)return t;return-1};Ds.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};Ds.prototype.focusNodeAtIndex=function(e){var t=this._members[e];return t&&DN(t.node),this};Ds.prototype.addMember=function(e,t){var n=e.node||e,r=e.text||n.getAttribute("data-focus-group-text")||n.textContent||"";this._checkNode(n);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:n,text:i};return t!=null?this._members.splice(t,0,o):this._members.push(o),this};Ds.prototype.removeMember=function(e){var t=typeof e=="number"?e:this._findIndexOfNode(e);if(t!==-1)return this._members.splice(t,1),this};Ds.prototype.clearMembers=function(){return this._members=[],this};Ds.prototype.setMembers=function(e){this.clearMembers();for(var t=0,n=e.length;t<n;t++)this.addMember(e[t]);return this};Ds.prototype.getMembers=function(){return this._members};Ds.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e};function gme(e,t){for(var n in e)if(t[n]!==void 0&&e[n]!==t[n])return!1;return!0}function yme(e){return e>=65&&e<=90}function DN(e){!e||!e.focus||(e.focus(),e.tagName.toLowerCase()==="input"&&e.select())}var vme=function(t){return new Ds(t)},_me=vme,VK=FN,Cme={wrap:!0,stringSearch:!0},bme={init:function(t){this.updateOptions(t),this.handleBlur=xme.bind(this),this.handleSelection=wme.bind(this),this.handleMenuKey=Mme.bind(this),this.focusGroup=_me(Cme),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(t){var n=this.options;this.options=t||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&VK.registerManager(this.options.id,this),n&&n.id&&n.id!==this.options.id&&VK.unregisterManager(this.options.id,this)},focusItem:function(t){this.focusGroup.focusNodeAtIndex(t)},addItem:function(t){this.focusGroup.addMember(t)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(t){this.focusGroup._handleUnboundKey(t)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(t){if(!this.isOpen&&(t=t||{},t.focusMenu===void 0&&(t.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),t.focusMenu)){var n=this;this.moveFocusTimer=setTimeout(function(){n.focusItem(0)},0)}},closeMenu:function(t){this.isOpen&&(t=t||{},this.isOpen=!1,this.update(),t.focusButton&&this.button.ref.current.focus())},toggleMenu:function(t,n){t=t||{},n=n||{},this.isOpen?this.closeMenu(t):this.openMenu(n)}};function xme(){var e=this;e.blurTimer=setTimeout(function(){if(e.button){var t=e.button.ref.current;if(t){var n=t.ownerDocument.activeElement;if(!(t&&n===t)){var r=e.menu.ref.current;if(r===n){e.focusItem(0);return}r&&r.contains(n)||e.isOpen&&e.closeMenu({focusButton:!1})}}}},0)}function wme(e,t){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(e,t)}function Mme(e){if(this.isOpen)switch(e.key){case"Escape":e.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":e.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":e.preventDefault(),this.focusGroup.moveFocusToLast();break}}var Sme=function(e){var t=Object.create(bme);return t.init(e),t},Eme=kr,Ome=Eme.createContext(),pw=Ome,S2=kh,mw={refType:S2.oneOfType([S2.func,S2.shape({current:S2.elementType})])},gw=function(e,t,n){n=n||{};for(var r in t)t.hasOwnProperty(r)&&(n[r]||(e[r]=t[r]))};function Bme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ime(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var uC=kr,Pg=kh,Tme=Sme,Kme=pw,Pme=mw,Fme=Pme.refType,jO=gw,F4={children:Pg.node.isRequired,forwardedRef:Fme,onMenuToggle:Pg.func,onSelection:Pg.func,closeOnSelection:Pg.bool,closeOnBlur:Pg.bool,tag:Pg.string},ZK=function(t){return{onMenuToggle:t.onMenuToggle,onSelection:t.onSelection,closeOnSelection:t.closeOnSelection,closeOnBlur:t.closeOnBlur,id:t.id}},lk=function(e){Ime(t,e);function t(n){Bme(this,t);var r=kme(this,e.call(this,n));return r.manager=Tme(ZK(n)),r}return t.prototype.componentDidUpdate=function(){this.manager.updateOptions(ZK(this.props))},t.prototype.render=function(){var r={};return jO(r,this.props,F4),uC.createElement(Kme.Provider,{value:this.manager},uC.createElement(this.props.tag,r,this.props.children))},t}(uC.Component);lk.propTypes=F4;lk.defaultProps={tag:"div"};var Dme=uC.forwardRef(function(e,t){var n={forwardedRef:t};return jO(n,e,{children:F4.children,forwardedRef:F4.forwardedRef}),jO(n,{forwardedRef:t}),uC.createElement(lk,n,e.children)});function Lme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ume(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Uy=kr,E2=kh,Rme=pw,zme=mw,jme=zme.refType,a3=gw,AC={ambManager:E2.object.isRequired,children:E2.node.isRequired,disabled:E2.bool,forwardedRef:jme,tag:E2.string},Wme=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},uk=function(e){Ume(t,e);function t(){var n,r,i;Lme(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=XK(this,e.call.apply(e,[this].concat(a))),r),r.ref=Uy.createRef(),r.handleKeyDown=function(h){if(!r.props.disabled){var g=r.props.ambManager;switch(h.key){case"ArrowDown":h.preventDefault(),g.isOpen?g.focusItem(0):g.openMenu();break;case"Enter":case" ":h.preventDefault(),g.toggleMenu();break;case"Escape":g.handleMenuKey(h);break;default:g.handleButtonNonArrowKey(h)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),XK(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.button=this},t.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},t.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},a={};return a3(a,AC),Wme().indexOf(r.tag)>=0&&delete a.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),a3(o,r,a),a3(o,{ref:this.setRef}),Uy.createElement(r.tag,o,r.children)},t}(Uy.Component);uk.propTypes=AC;uk.defaultProps={tag:"span"};var Nme=Uy.forwardRef(function(e,t){return Uy.createElement(Rme.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return a3(r,e,{ambManager:AC.ambManager,children:AC.children,forwardedRef:AC.forwardedRef}),Uy.createElement(uk,r,e.children)})}),Gme=function(t,n,r){var i=0,o=0,a=!1,s=!1,h=!1;t.addEventListener("click",g,r),t.addEventListener("touchstart",_,r);function g(ee){h||n(ee)}function _(ee){h=!0,!a&&(a=!0,t.addEventListener("touchmove",B,r),t.addEventListener("touchend",k,r),t.addEventListener("touchcancel",P,r),s=!1,i=ee.touches[0].clientX,o=ee.touches[0].clientY)}function B(ee){s||Math.abs(ee.touches[0].clientX-i)<=10&&Math.abs(ee.touches[0].clientY-o)<=10||(s=!0)}function k(ee){a=!1,F(),s||n(ee)}function P(){a=!1,s=!1,i=0,o=0}function F(){t.removeEventListener("touchmove",B,r),t.removeEventListener("touchend",k,r),t.removeEventListener("touchcancel",P,r)}function q(){t.removeEventListener("click",g,r),t.removeEventListener("touchstart",_,r),F()}return{remove:q}};function Qme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ry=kr,b_=kh,Yme=Gme,qme=pw,Hme=mw,Vme=Hme.refType,WO=gw,cC={ambManager:b_.object.isRequired,children:b_.oneOfType([b_.func,b_.node]).isRequired,forwardedRef:Vme,tag:b_.string},Ak=function(e){$me(t,e);function t(){var n,r,i;Qme(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=JK(this,e.call.apply(e,[this].concat(a))),r),r.ref=Ry.createRef(),r.addTapListener=function(){var h=r.ref.current;if(h){var g=h.ownerDocument;g&&(r.tapListener=Yme(g.documentElement,r.handleTap))}},r.handleTap=function(h){r.ref.current.contains(h.target)||r.props.ambManager.button.ref.current.contains(h.target)||r.props.ambManager.closeMenu()},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),JK(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.menu=this},t.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},t.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},t.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var a={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(a.onBlur=i.handleBlur),WO(a,r,cC),WO(a,{ref:this.setRef}),Ry.createElement(r.tag,a,o)},t}(Ry.Component);Ak.propTypes=cC;Ak.defaultProps={tag:"div"};var Zme=Ry.forwardRef(function(e,t){return Ry.createElement(qme.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return WO(r,e,{ambManager:cC.ambManager,children:cC.children,forwardedRef:cC.forwardedRef}),Ry.createElement(Ak,r,e.children)})});function Xme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Jme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zy=kr,x_=kh,e0e=pw,t0e=mw,n0e=t0e.refType,LN=gw,dC={ambManager:x_.object.isRequired,children:x_.node.isRequired,forwardedRef:n0e,tag:x_.string,text:x_.string,value:x_.any},ck=function(e){Jme(t,e);function t(){var n,r,i;Xme(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=eP(this,e.call.apply(e,[this].concat(a))),r),r.ref=zy.createRef(),r.handleKeyDown=function(h){h.key!=="Enter"&&h.key!==" "||r.props.tag==="a"&&r.props.href||(h.preventDefault(),r.selectItem(h))},r.selectItem=function(h){var g=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(g,h)},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),eP(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},t.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return LN(r,this.props,dC),zy.createElement(this.props.tag,r,this.props.children)},t}(zy.Component);ck.propTypes=dC;ck.defaultProps={tag:"div"};var r0e=zy.forwardRef(function(e,t){return zy.createElement(e0e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return LN(r,e,{ambManager:dC.ambManager,children:dC.children,forwardedRef:dC.forwardedRef}),zy.createElement(ck,r,e.children)})}),tP=FN,O2={Wrapper:Dme,Button:Nme,Menu:Zme,MenuItem:r0e,openMenu:tP.openMenu,closeMenu:tP.closeMenu};function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){ys(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vw(e,t,n){return t&&rP(e.prototype,t),n&&rP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zf(){return zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(this,arguments)}function dk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GO(e,t)}function D4(e){return D4=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},D4(e)}function GO(e,t){return GO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},GO(e,t)}function i0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o0e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _w(e,t){if(e==null)return{};var n=o0e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a0e(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function hk(e){var t=i0e();return function(){var r=D4(e),i;if(t){var o=D4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return a0e(this,i)}}function s0e(e,t){return A0e(e)||d0e(e,t)||UN(e,t)||f0e()}function l0e(e){return u0e(e)||c0e(e)||UN(e)||h0e()}function u0e(e){if(Array.isArray(e))return QO(e)}function A0e(e){if(Array.isArray(e))return e}function c0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(h){o=!0,s=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function UN(e,t){if(e){if(typeof e=="string")return QO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(e,t)}}function QO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p0e=vw(function e(t){var n=this,r=t.expanded,i=r===void 0?[]:r,o=t.allowMultipleExpanded,a=o===void 0?!1:o,s=t.allowZeroExpanded,h=s===void 0?!1:s;yw(this,e),ys(this,"expanded",void 0),ys(this,"allowMultipleExpanded",void 0),ys(this,"allowZeroExpanded",void 0),ys(this,"toggleExpanded",function(g){if(n.isItemDisabled(g))return n;var _=n.isItemExpanded(g);return _?n.augment({expanded:n.expanded.filter(function(B){return B!==g})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(l0e(n.expanded),[g]):[g]})}),ys(this,"isItemDisabled",function(g){var _=n.isItemExpanded(g),B=n.expanded.length===1;return!!(_&&!n.allowZeroExpanded&&B)}),ys(this,"isItemExpanded",function(g){return n.expanded.indexOf(g)!==-1}),ys(this,"getPanelAttributes",function(g,_){var B=_??n.isItemExpanded(g);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!B:void 0,"aria-labelledby":n.getButtonId(g),id:n.getPanelId(g),hidden:B?void 0:!0}}),ys(this,"getHeadingAttributes",function(){return{role:"heading"}}),ys(this,"getButtonAttributes",function(g,_){var B=_??n.isItemExpanded(g),k=n.isItemDisabled(g);return{id:n.getButtonId(g),"aria-disabled":k,"aria-expanded":B,"aria-controls":n.getPanelId(g),role:"button",tabIndex:0}}),ys(this,"getPanelId",function(g){return"accordion__panel-".concat(g)}),ys(this,"getButtonId",function(g){return"accordion__heading-".concat(g)}),ys(this,"augment",function(g){return new e(NO({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},g))}),this.expanded=i,this.allowMultipleExpanded=a,this.allowZeroExpanded=h}),RN=kr.createContext(null),zN=function(e){dk(n,e);var t=hk(n);function n(){var r;yw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),ys(bh(r),"state",new p0e({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),ys(bh(r),"toggleExpanded",function(s){r.setState(function(h){return h.toggleExpanded(s)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),ys(bh(r),"isItemDisabled",function(s){return r.state.isItemDisabled(s)}),ys(bh(r),"isItemExpanded",function(s){return r.state.isItemExpanded(s)}),ys(bh(r),"getPanelAttributes",function(s,h){return r.state.getPanelAttributes(s,h)}),ys(bh(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),ys(bh(r),"getButtonAttributes",function(s,h){return r.state.getButtonAttributes(s,h)}),r}return vw(n,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,a=i.allowMultipleExpanded;return kr.createElement(RN.Provider,{value:{allowMultipleExpanded:a,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(kr.PureComponent);ys(zN,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var jN=function(e){dk(n,e);var t=hk(n);function n(){var r;yw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),ys(bh(r),"renderChildren",function(s){return s?r.props.children(s):null}),r}return vw(n,[{key:"render",value:function(){return kr.createElement(RN.Consumer,null,this.renderChildren)}}]),n}(kr.PureComponent),m0e=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],g0e=function(t){var n=t.className,r=n===void 0?"accordion":n,i=t.allowMultipleExpanded,o=t.allowZeroExpanded,a=t.onChange,s=t.preExpanded,h=_w(t,m0e);return kr.createElement(zN,{preExpanded:s,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:a},kr.createElement("div",zf({"data-accordion-component":"Accordion",className:r},h)))},$O;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})($O||($O={}));var WN=$O,YS=0;function y0e(){var e=YS;return YS=YS+1,"raa-".concat(e)}var v0e=kr.useId||y0e,_0e=/[\u0009\u000a\u000c\u000d\u0020]/g;function ob(e){return e===""||_0e.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var NN=kr.createContext(null),C0e=function(t){var n=t.children,r=t.uuid,i=t.accordionContext,o=t.dangerouslySetExpanded,a=function(){i.toggleExpanded(r)},s=function(g){var _=o??g.isItemExpanded(r),B=g.isItemDisabled(r),k=g.getPanelAttributes(r,o),P=g.getHeadingAttributes(r),F=g.getButtonAttributes(r,o);return kr.createElement(NN.Provider,{value:{uuid:r,expanded:_,disabled:B,toggleExpanded:a,panelAttributes:k,headingAttributes:P,buttonAttributes:F}},n)};return kr.createElement(jN,null,s)},b0e=function(t){return kr.createElement(jN,null,function(n){return kr.createElement(C0e,zf({},t,{accordionContext:n}))})},Cw=function(t){var n=t.children,r=function(o){return o?n(o):null};return kr.createElement(NN.Consumer,null,r)},x0e=["uuid","dangerouslySetExpanded","className","activeClassName"],GN=function(t){var n=t.uuid,r=t.dangerouslySetExpanded,i=t.className,o=i===void 0?"accordion__item":i,a=t.activeClassName,s=_w(t,x0e),h=kr.useState(v0e()),g=s0e(h,1),_=g[0],B=n??_,k=function(F){var q=F.expanded,ee=q&&a?a:o;return kr.createElement("div",zf({"data-accordion-component":"AccordionItem",className:ee},s))};return ob(B.toString()),s.id&&ob(s.id),kr.createElement(b0e,{uuid:B,dangerouslySetExpanded:r},kr.createElement(Cw,null,k))};GN.displayName=WN.AccordionItem;function QN(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:QN(e.parentElement))}function bw(e){var t=QN(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function w0e(e){var t=bw(e)||[],n=t[0];n&&n.focus()}function M0e(e){var t=bw(e)||[],n=t[t.length-1];n&&n.focus()}function S0e(e){var t=bw(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n+1];r&&r.focus()}}function E0e(e){var t=bw(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n-1];r&&r.focus()}}var vp={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},O0e=["toggleExpanded","className"],B0e=function(t){var n=t.toggleExpanded,r=t.className,i=r===void 0?"accordion__button":r,o=_w(t,O0e),a=function(h){var g=h.key;if((g===vp.ENTER||g===vp.SPACE||g===vp.SPACE_DEPRECATED)&&(h.preventDefault(),n()),h.target instanceof HTMLElement)switch(g){case vp.HOME:{h.preventDefault(),w0e(h.target);break}case vp.END:{h.preventDefault(),M0e(h.target);break}case vp.LEFT:case vp.UP:{h.preventDefault(),E0e(h.target);break}case vp.RIGHT:case vp.DOWN:{h.preventDefault(),S0e(h.target);break}}};return o.id&&ob(o.id),kr.createElement("div",zf({className:i},o,{role:"button",tabIndex:0,onClick:n,onKeyDown:a,"data-accordion-component":"AccordionItemButton"}))},k0e=function(t){return kr.createElement(Cw,null,function(n){var r=n.toggleExpanded,i=n.buttonAttributes;return kr.createElement(B0e,zf({toggleExpanded:r},t,i))})},I0e={className:"accordion__heading","aria-level":3},T0e=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,$N=function(e){dk(n,e);var t=hk(n);function n(){var r;yw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),ys(bh(r),"ref",void 0),ys(bh(r),"setRef",function(s){r.ref=s}),r}return vw(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return kr.createElement("div",zf({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(T0e)}}]),n}(kr.PureComponent);ys($N,"defaultProps",I0e);var YN=function(t){return kr.createElement(Cw,null,function(n){var r=n.headingAttributes;return t.id&&ob(t.id),kr.createElement($N,zf({},t,r))})};YN.displayName=WN.AccordionItemHeading;var K0e=["className","region","id"],P0e=function(t){var n=t.className,r=n===void 0?"accordion__panel":n,i=t.region,o=t.id,a=_w(t,K0e),s=function(g){var _=g.panelAttributes;o&&ob(o);var B=NO(NO({},_),{},{"aria-labelledby":i?_["aria-labelledby"]:void 0});return kr.createElement("div",zf({"data-accordion-component":"AccordionItemPanel",className:r},a,B,{role:i?"region":void 0}))};return kr.createElement(Cw,null,s)},qS={exports:{}},iP;function xw(){return iP||(iP=1,function(e,t){(function(n,r){e.exports=r()})(Bh,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),s=/Edge\/(\d+)/.exec(n),h=o||a||s,g=h&&(o?document.documentMode||6:+(s||a)[1]),_=!s&&/WebKit\//.test(n),B=_&&/Qt\/\d+\.\d+/.test(n),k=!s&&/Chrome\/(\d+)/.exec(n),P=k&&+k[1],F=/Opera\//.test(n),q=/Apple Computer/.test(navigator.vendor),ee=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),H=/PhantomJS/.test(n),N=q&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),Z=/Android/.test(n),ue=N||Z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),ye=N||/Mac/.test(r),be=/\bCrOS\b/.test(n),J=/win/i.test(r),se=F&&n.match(/Version\/(\d*\.\d*)/);se&&(se=Number(se[1])),se&&se>=15&&(F=!1,_=!0);var xe=ye&&(B||F&&(se==null||se<12.11)),Se=i||h&&g>=9;function De(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var Le=function(A,f){var x=A.className,b=De(f).exec(x);if(b){var E=x.slice(b.index+b[0].length);A.className=x.slice(0,b.index)+(E?b[1]+E:"")}};function he(A){for(var f=A.childNodes.length;f>0;--f)A.removeChild(A.firstChild);return A}function qe(A,f){return he(A).appendChild(f)}function ge(A,f,x,b){var E=document.createElement(A);if(x&&(E.className=x),b&&(E.style.cssText=b),typeof f=="string")E.appendChild(document.createTextNode(f));else if(f)for(var U=0;U<f.length;++U)E.appendChild(f[U]);return E}function _t(A,f,x,b){var E=ge(A,f,x,b);return E.setAttribute("role","presentation"),E}var Mt;document.createRange?Mt=function(A,f,x,b){var E=document.createRange();return E.setEnd(b||A,x),E.setStart(A,f),E}:Mt=function(A,f,x){var b=document.body.createTextRange();try{b.moveToElementText(A.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",x),b.moveStart("character",f),b};function dt(A,f){if(f.nodeType==3&&(f=f.parentNode),A.contains)return A.contains(f);do if(f.nodeType==11&&(f=f.host),f==A)return!0;while(f=f.parentNode)}function mt(A){var f=A.ownerDocument||A,x;try{x=A.activeElement}catch{x=f.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function je(A,f){var x=A.className;De(f).test(x)||(A.className+=(x?" ":"")+f)}function Ve(A,f){for(var x=A.split(" "),b=0;b<x.length;b++)x[b]&&!De(x[b]).test(f)&&(f+=" "+x[b]);return f}var Xe=function(A){A.select()};N?Xe=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:h&&(Xe=function(A){try{A.select()}catch{}});function Jt(A){return A.display.wrapper.ownerDocument}function Ht(A){return Ct(A.display.wrapper)}function Ct(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function Qt(A){return Jt(A).defaultView}function $t(A){var f=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,f)}}function Ie(A,f,x){f||(f={});for(var b in A)A.hasOwnProperty(b)&&(x!==!1||!f.hasOwnProperty(b))&&(f[b]=A[b]);return f}function pe(A,f,x,b,E){f==null&&(f=A.search(/[^\s\u00a0]/),f==-1&&(f=A.length));for(var U=b||0,$=E||0;;){var ne=A.indexOf("	",U);if(ne<0||ne>=f)return $+(f-U);$+=ne-U,$+=x-$%x,U=ne+1}}var Me=function(){this.id=null,this.f=null,this.time=0,this.handler=$t(this.onTimeout,this)};Me.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Me.prototype.set=function(A,f){this.f=f;var x=+new Date+A;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=x)};function Re(A,f){for(var x=0;x<A.length;++x)if(A[x]==f)return x;return-1}var it=50,ot={toString:function(){return"CodeMirror.Pass"}},St={scroll:!1},Rt={origin:"*mouse"},zt={origin:"+move"};function pt(A,f,x){for(var b=0,E=0;;){var U=A.indexOf("	",b);U==-1&&(U=A.length);var $=U-b;if(U==A.length||E+$>=f)return b+Math.min($,f-E);if(E+=U-b,E+=x-E%x,b=U+1,E>=f)return b}}var ir=[""];function gn(A){for(;ir.length<=A;)ir.push(yn(ir)+" ");return ir[A]}function yn(A){return A[A.length-1]}function er(A,f){for(var x=[],b=0;b<A.length;b++)x[b]=f(A[b],b);return x}function Ar(A,f,x){for(var b=0,E=x(f);b<A.length&&x(A[b])<=E;)b++;A.splice(b,0,f)}function Mr(){}function Wr(A,f){var x;return Object.create?x=Object.create(A):(Mr.prototype=A,x=new Mr),f&&Ie(f,x),x}var gr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function _i(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||gr.test(A))}function Ee(A,f){return f?f.source.indexOf("\\w")>-1&&_i(A)?!0:f.test(A):_i(A)}function X(A){for(var f in A)if(A.hasOwnProperty(f)&&A[f])return!1;return!0}var Y=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Te(A){return A.charCodeAt(0)>=768&&Y.test(A)}function ut(A,f,x){for(;(x<0?f>0:f<A.length)&&Te(A.charAt(f));)f+=x;return f}function Bt(A,f,x){for(var b=f>x?-1:1;;){if(f==x)return f;var E=(f+x)/2,U=b<0?Math.ceil(E):Math.floor(E);if(U==f)return A(U)?f:x;A(U)?x=U:f=U+b}}function It(A,f,x,b){if(!A)return b(f,x,"ltr",0);for(var E=!1,U=0;U<A.length;++U){var $=A[U];($.from<x&&$.to>f||f==x&&$.to==f)&&(b(Math.max($.from,f),Math.min($.to,x),$.level==1?"rtl":"ltr",U),E=!0)}E||b(f,x,"ltr")}var Dt=null;function fn(A,f,x){var b;Dt=null;for(var E=0;E<A.length;++E){var U=A[E];if(U.from<f&&U.to>f)return E;U.to==f&&(U.from!=U.to&&x=="before"?b=E:Dt=E),U.from==f&&(U.from!=U.to&&x!="before"?b=E:Dt=E)}return b??Dt}var Pn=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(me){return me<=247?A.charAt(me):1424<=me&&me<=1524?"R":1536<=me&&me<=1785?f.charAt(me-1536):1774<=me&&me<=2220?"r":8192<=me&&me<=8203?"w":me==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,E=/[stwN]/,U=/[LRr]/,$=/[Lb1n]/,ne=/[1n]/;function le(me,Qe,nt){this.level=me,this.from=Qe,this.to=nt}return function(me,Qe){var nt=Qe=="ltr"?"L":"R";if(me.length==0||Qe=="ltr"&&!b.test(me))return!1;for(var Ot=me.length,yt=[],Wt=0;Wt<Ot;++Wt)yt.push(x(me.charCodeAt(Wt)));for(var cn=0,In=nt;cn<Ot;++cn){var Yn=yt[cn];Yn=="m"?yt[cn]=In:In=Yn}for(var bn=0,Ln=nt;bn<Ot;++bn){var ar=yt[bn];ar=="1"&&Ln=="r"?yt[bn]="n":U.test(ar)&&(Ln=ar,ar=="r"&&(yt[bn]="R"))}for(var Tr=1,_r=yt[0];Tr<Ot-1;++Tr){var hi=yt[Tr];hi=="+"&&_r=="1"&&yt[Tr+1]=="1"?yt[Tr]="1":hi==","&&_r==yt[Tr+1]&&(_r=="1"||_r=="n")&&(yt[Tr]=_r),_r=hi}for(var Uo=0;Uo<Ot;++Uo){var Ya=yt[Uo];if(Ya==",")yt[Uo]="N";else if(Ya=="%"){var Ca=void 0;for(Ca=Uo+1;Ca<Ot&&yt[Ca]=="%";++Ca);for(var Da=Uo&&yt[Uo-1]=="!"||Ca<Ot&&yt[Ca]=="1"?"1":"N",us=Uo;us<Ca;++us)yt[us]=Da;Uo=Ca-1}}for(var As=0,Ml=nt;As<Ot;++As){var Js=yt[As];Ml=="L"&&Js=="1"?yt[As]="L":U.test(Js)&&(Ml=Js)}for(var Os=0;Os<Ot;++Os)if(E.test(yt[Os])){var cs=void 0;for(cs=Os+1;cs<Ot&&E.test(yt[cs]);++cs);for(var ca=(Os?yt[Os-1]:nt)=="L",Bs=(cs<Ot?yt[cs]:nt)=="L",uh=ca==Bs?ca?"L":"R":nt,lc=Os;lc<cs;++lc)yt[lc]=uh;Os=cs-1}for(var zs=[],uc,js=0;js<Ot;)if($.test(yt[js])){var B0=js;for(++js;js<Ot&&$.test(yt[js]);++js);zs.push(new le(0,B0,js))}else{var OA=js,Uc=zs.length,qa=Qe=="rtl"?1:0;for(++js;js<Ot&&yt[js]!="L";++js);for(var el=OA;el<js;)if(ne.test(yt[el])){OA<el&&(zs.splice(Uc,0,new le(1,OA,el)),Uc+=qa);var Ah=el;for(++el;el<js&&ne.test(yt[el]);++el);zs.splice(Uc,0,new le(2,Ah,el)),Uc+=qa,OA=el}else++el;OA<js&&zs.splice(Uc,0,new le(1,OA,js))}return Qe=="ltr"&&(zs[0].level==1&&(uc=me.match(/^\s+/))&&(zs[0].from=uc[0].length,zs.unshift(new le(0,0,uc[0].length))),yn(zs).level==1&&(uc=me.match(/\s+$/))&&(yn(zs).to-=uc[0].length,zs.push(new le(0,Ot-uc[0].length,Ot)))),Qe=="rtl"?zs.reverse():zs}}();function On(A,f){var x=A.order;return x==null&&(x=A.order=Pn(A.text,f)),x}var m=[],Kt=function(A,f,x){if(A.addEventListener)A.addEventListener(f,x,!1);else if(A.attachEvent)A.attachEvent("on"+f,x);else{var b=A._handlers||(A._handlers={});b[f]=(b[f]||m).concat(x)}};function Pr(A,f){return A._handlers&&A._handlers[f]||m}function nr(A,f,x){if(A.removeEventListener)A.removeEventListener(f,x,!1);else if(A.detachEvent)A.detachEvent("on"+f,x);else{var b=A._handlers,E=b&&b[f];if(E){var U=Re(E,x);U>-1&&(b[f]=E.slice(0,U).concat(E.slice(U+1)))}}}function Pe(A,f){var x=Pr(A,f);if(x.length)for(var b=Array.prototype.slice.call(arguments,2),E=0;E<x.length;++E)x[E].apply(null,b)}function ce(A,f,x){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Pe(A,x||f.type,A,f),ft(f)||f.codemirrorIgnore}function Ce(A){var f=A._handlers&&A._handlers.cursorActivity;if(f)for(var x=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),b=0;b<f.length;++b)Re(x,f[b])==-1&&x.push(f[b])}function ke(A,f){return Pr(A,f).length>0}function ze(A){A.prototype.on=function(f,x){Kt(this,f,x)},A.prototype.off=function(f,x){nr(this,f,x)}}function rt(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function st(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function ft(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function et(A){rt(A),st(A)}function wt(A){return A.target||A.srcElement}function tn(A){var f=A.which;return f==null&&(A.button&1?f=1:A.button&2?f=3:A.button&4&&(f=2)),ye&&A.ctrlKey&&f==1&&(f=3),f}var qt=function(){if(h&&g<9)return!1;var A=ge("div");return"draggable"in A||"dragDrop"in A}(),en;function Fn(A){if(en==null){var f=ge("span","​");qe(A,ge("span",[f,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(en=f.offsetWidth<=1&&f.offsetHeight>2&&!(h&&g<8))}var x=en?ge("span","​"):ge("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var Bn;function qn(A){if(Bn!=null)return Bn;var f=qe(A,document.createTextNode("AخA")),x=Mt(f,0,1).getBoundingClientRect(),b=Mt(f,1,2).getBoundingClientRect();return he(A),!x||x.left==x.right?!1:Bn=b.right-x.right<3}var Sr=`

b`.split(/\n/).length!=3?function(A){for(var f=0,x=[],b=A.length;f<=b;){var E=A.indexOf(`
`,f);E==-1&&(E=A.length);var U=A.slice(f,A.charAt(E-1)=="\r"?E-1:E),$=U.indexOf("\r");$!=-1?(x.push(U.slice(0,$)),f+=$+1):(x.push(U),f=E+1)}return x}:function(A){return A.split(/\r\n?|\n/)},lr=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var f;try{f=A.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=A?!1:f.compareEndPoints("StartToEnd",f)!=0},$r=function(){var A=ge("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),Or=null;function Lr(A){if(Or!=null)return Or;var f=qe(A,ge("span","x")),x=f.getBoundingClientRect(),b=Mt(f,0,1).getBoundingClientRect();return Or=Math.abs(x.left-b.left)>1}var or={},ci={};function Li(A,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),or[A]=f}function to(A,f){ci[A]=f}function ho(A){if(typeof A=="string"&&ci.hasOwnProperty(A))A=ci[A];else if(A&&typeof A.name=="string"&&ci.hasOwnProperty(A.name)){var f=ci[A.name];typeof f=="string"&&(f={name:f}),A=Wr(f,A),A.name=f.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return ho("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return ho("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function ai(A,f){f=ho(f);var x=or[f.name];if(!x)return ai(A,"text/plain");var b=x(A,f);if(fo.hasOwnProperty(f.name)){var E=fo[f.name];for(var U in E)E.hasOwnProperty(U)&&(b.hasOwnProperty(U)&&(b["_"+U]=b[U]),b[U]=E[U])}if(b.name=f.name,f.helperType&&(b.helperType=f.helperType),f.modeProps)for(var $ in f.modeProps)b[$]=f.modeProps[$];return b}var fo={};function ja(A,f){var x=fo.hasOwnProperty(A)?fo[A]:fo[A]={};Ie(f,x)}function Ba(A,f){if(f===!0)return f;if(A.copyState)return A.copyState(f);var x={};for(var b in f){var E=f[b];E instanceof Array&&(E=E.concat([])),x[b]=E}return x}function Mi(A,f){for(var x;A.innerMode&&(x=A.innerMode(f),!(!x||x.mode==A));)f=x.state,A=x.mode;return x||{mode:A,state:f}}function is(A,f,x){return A.startState?A.startState(f,x):!0}var gi=function(A,f,x){this.pos=this.start=0,this.string=A,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};gi.prototype.eol=function(){return this.pos>=this.string.length},gi.prototype.sol=function(){return this.pos==this.lineStart},gi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},gi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},gi.prototype.eat=function(A){var f=this.string.charAt(this.pos),x;if(typeof A=="string"?x=f==A:x=f&&(A.test?A.test(f):A(f)),x)return++this.pos,f},gi.prototype.eatWhile=function(A){for(var f=this.pos;this.eat(A););return this.pos>f},gi.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},gi.prototype.skipToEnd=function(){this.pos=this.string.length},gi.prototype.skipTo=function(A){var f=this.string.indexOf(A,this.pos);if(f>-1)return this.pos=f,!0},gi.prototype.backUp=function(A){this.pos-=A},gi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?pe(this.string,this.lineStart,this.tabSize):0)},gi.prototype.indentation=function(){return pe(this.string,null,this.tabSize)-(this.lineStart?pe(this.string,this.lineStart,this.tabSize):0)},gi.prototype.match=function(A,f,x){if(typeof A=="string"){var b=function($){return x?$.toLowerCase():$},E=this.string.substr(this.pos,A.length);if(b(E)==b(A))return f!==!1&&(this.pos+=A.length),!0}else{var U=this.string.slice(this.pos).match(A);return U&&U.index>0?null:(U&&f!==!1&&(this.pos+=U[0].length),U)}},gi.prototype.current=function(){return this.string.slice(this.start,this.pos)},gi.prototype.hideFirstChars=function(A,f){this.lineStart+=A;try{return f()}finally{this.lineStart-=A}},gi.prototype.lookAhead=function(A){var f=this.lineOracle;return f&&f.lookAhead(A)},gi.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function Wn(A,f){if(f-=A.first,f<0||f>=A.size)throw new Error("There is no line "+(f+A.first)+" in the document.");for(var x=A;!x.lines;)for(var b=0;;++b){var E=x.children[b],U=E.chunkSize();if(f<U){x=E;break}f-=U}return x.lines[f]}function ro(A,f,x){var b=[],E=f.line;return A.iter(f.line,x.line+1,function(U){var $=U.text;E==x.line&&($=$.slice(0,x.ch)),E==f.line&&($=$.slice(f.ch)),b.push($),++E}),b}function _o(A,f,x){var b=[];return A.iter(f,x,function(E){b.push(E.text)}),b}function Ui(A,f){var x=f-A.height;if(x)for(var b=A;b;b=b.parent)b.height+=x}function ve(A){if(A.parent==null)return null;for(var f=A.parent,x=Re(f.lines,A),b=f.parent;b;f=b,b=b.parent)for(var E=0;b.children[E]!=f;++E)x+=b.children[E].chunkSize();return x+f.first}function Je(A,f){var x=A.first;e:do{for(var b=0;b<A.children.length;++b){var E=A.children[b],U=E.height;if(f<U){A=E;continue e}f-=U,x+=E.chunkSize()}return x}while(!A.lines);for(var $=0;$<A.lines.length;++$){var ne=A.lines[$],le=ne.height;if(f<le)break;f-=le}return x+$}function Vt(A,f){return f>=A.first&&f<A.first+A.size}function sn(A,f){return String(A.lineNumberFormatter(f+A.firstLineNumber))}function Lt(A,f,x){if(x===void 0&&(x=null),!(this instanceof Lt))return new Lt(A,f,x);this.line=A,this.ch=f,this.sticky=x}function wn(A,f){return A.line-f.line||A.ch-f.ch}function dr(A,f){return A.sticky==f.sticky&&wn(A,f)==0}function ri(A){return Lt(A.line,A.ch)}function si(A,f){return wn(A,f)<0?f:A}function Xo(A,f){return wn(A,f)<0?A:f}function Ta(A,f){return Math.max(A.first,Math.min(f,A.first+A.size-1))}function Fr(A,f){if(f.line<A.first)return Lt(A.first,0);var x=A.first+A.size-1;return f.line>x?Lt(x,Wn(A,x).text.length):Wa(f,Wn(A,f.line).text.length)}function Wa(A,f){var x=A.ch;return x==null||x>f?Lt(A.line,f):x<0?Lt(A.line,0):A}function yi(A,f){for(var x=[],b=0;b<f.length;b++)x[b]=Fr(A,f[b]);return x}var Na=function(A,f){this.state=A,this.lookAhead=f},Jo=function(A,f,x,b){this.state=f,this.doc=A,this.line=x,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};Jo.prototype.lookAhead=function(A){var f=this.doc.getLine(this.line+A);return f!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),f},Jo.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},Jo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Jo.fromSaved=function(A,f,x){return f instanceof Na?new Jo(A,Ba(A.mode,f.state),x,f.lookAhead):new Jo(A,Ba(A.mode,f),x)},Jo.prototype.save=function(A){var f=A!==!1?Ba(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Na(f,this.maxLookAhead):f};function Cu(A,f,x,b){var E=[A.state.modeGen],U={};yA(A,f.text,A.doc.mode,x,function(me,Qe){return E.push(me,Qe)},U,b);for(var $=x.state,ne=function(me){x.baseTokens=E;var Qe=A.state.overlays[me],nt=1,Ot=0;x.state=!0,yA(A,f.text,Qe.mode,x,function(yt,Wt){for(var cn=nt;Ot<yt;){var In=E[nt];In>yt&&E.splice(nt,1,yt,E[nt+1],In),nt+=2,Ot=Math.min(yt,In)}if(Wt)if(Qe.opaque)E.splice(cn,nt-cn,yt,"overlay "+Wt),nt=cn+2;else for(;cn<nt;cn+=2){var Yn=E[cn+1];E[cn+1]=(Yn?Yn+" ":"")+"overlay "+Wt}},U),x.state=$,x.baseTokens=null,x.baseTokenPos=1},le=0;le<A.state.overlays.length;++le)ne(le);return{styles:E,classes:U.bgClass||U.textClass?U:null}}function os(A,f,x){if(!f.styles||f.styles[0]!=A.state.modeGen){var b=ea(A,ve(f)),E=f.text.length>A.options.maxHighlightLength&&Ba(A.doc.mode,b.state),U=Cu(A,f,b);E&&(b.state=E),f.stateAfter=b.save(!E),f.styles=U.styles,U.classes?f.styleClasses=U.classes:f.styleClasses&&(f.styleClasses=null),x===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return f.styles}function ea(A,f,x){var b=A.doc,E=A.display;if(!b.mode.startState)return new Jo(b,!0,f);var U=xu(A,f,x),$=U>b.first&&Wn(b,U-1).stateAfter,ne=$?Jo.fromSaved(b,$,U):new Jo(b,is(b.mode),U);return b.iter(U,f,function(le){ta(A,le.text,ne);var me=ne.line;le.stateAfter=me==f-1||me%5==0||me>=E.viewFrom&&me<E.viewTo?ne.save():null,ne.nextLine()}),x&&(b.modeFrontier=ne.line),ne}function ta(A,f,x,b){var E=A.doc.mode,U=new gi(f,A.options.tabSize,x);for(U.start=U.pos=b||0,f==""&&Cs(E,x.state);!U.eol();)bu(E,U,x.state),U.start=U.pos}function Cs(A,f){if(A.blankLine)return A.blankLine(f);if(A.innerMode){var x=Mi(A,f);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function bu(A,f,x,b){for(var E=0;E<10;E++){b&&(b[0]=Mi(A,x).mode);var U=A.token(f,x);if(f.pos>f.start)return U}throw new Error("Mode "+A.name+" failed to advance stream.")}var fa=function(A,f,x){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=f||null,this.state=x};function gA(A,f,x,b){var E=A.doc,U=E.mode,$;f=Fr(E,f);var ne=Wn(E,f.line),le=ea(A,f.line,x),me=new gi(ne.text,A.options.tabSize,le),Qe;for(b&&(Qe=[]);(b||me.pos<f.ch)&&!me.eol();)me.start=me.pos,$=bu(U,me,le.state),b&&Qe.push(new fa(me,$,Ba(E.mode,le.state)));return b?Qe:new fa(me,$,le.state)}function ju(A,f){if(A)for(;;){var x=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;A=A.slice(0,x.index)+A.slice(x.index+x[0].length);var b=x[1]?"bgClass":"textClass";f[b]==null?f[b]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(f[b])||(f[b]+=" "+x[2])}return A}function yA(A,f,x,b,E,U,$){var ne=x.flattenSpans;ne==null&&(ne=A.options.flattenSpans);var le=0,me=null,Qe=new gi(f,A.options.tabSize,b),nt,Ot=A.options.addModeClass&&[null];for(f==""&&ju(Cs(x,b.state),U);!Qe.eol();){if(Qe.pos>A.options.maxHighlightLength?(ne=!1,$&&ta(A,f,b,Qe.pos),Qe.pos=f.length,nt=null):nt=ju(bu(x,Qe,b.state,Ot),U),Ot){var yt=Ot[0].name;yt&&(nt="m-"+(nt?yt+" "+nt:yt))}if(!ne||me!=nt){for(;le<Qe.start;)le=Math.min(Qe.start,le+5e3),E(le,me);me=nt}Qe.start=Qe.pos}for(;le<Qe.pos;){var Wt=Math.min(Qe.pos,le+5e3);E(Wt,me),le=Wt}}function xu(A,f,x){for(var b,E,U=A.doc,$=x?-1:f-(A.doc.mode.innerMode?1e3:100),ne=f;ne>$;--ne){if(ne<=U.first)return U.first;var le=Wn(U,ne-1),me=le.stateAfter;if(me&&(!x||ne+(me instanceof Na?me.lookAhead:0)<=U.modeFrontier))return ne;var Qe=pe(le.text,null,A.options.tabSize);(E==null||b>Qe)&&(E=ne-1,b=Qe)}return E}function Wu(A,f){if(A.modeFrontier=Math.min(A.modeFrontier,f),!(A.highlightFrontier<f-10)){for(var x=A.first,b=f-1;b>x;b--){var E=Wn(A,b).stateAfter;if(E&&(!(E instanceof Na)||b+E.lookAhead<f)){x=b+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,x)}}var Wo=!1,bs=!1;function Jl(){Wo=!0}function as(){bs=!0}function sl(A,f,x){this.marker=A,this.from=f,this.to=x}function No(A,f){if(A)for(var x=0;x<A.length;++x){var b=A[x];if(b.marker==f)return b}}function wu(A,f){for(var x,b=0;b<A.length;++b)A[b]!=f&&(x||(x=[])).push(A[b]);return x}function ll(A,f,x){var b=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));b&&A.markedSpans&&b.has(A.markedSpans)?A.markedSpans.push(f):(A.markedSpans=A.markedSpans?A.markedSpans.concat([f]):[f],b&&b.add(A.markedSpans)),f.marker.attachLine(A)}function bl(A,f,x){var b;if(A)for(var E=0;E<A.length;++E){var U=A[E],$=U.marker,ne=U.from==null||($.inclusiveLeft?U.from<=f:U.from<f);if(ne||U.from==f&&$.type=="bookmark"&&(!x||!U.marker.insertLeft)){var le=U.to==null||($.inclusiveRight?U.to>=f:U.to>f);(b||(b=[])).push(new sl($,U.from,le?null:U.to))}}return b}function eu(A,f,x){var b;if(A)for(var E=0;E<A.length;++E){var U=A[E],$=U.marker,ne=U.to==null||($.inclusiveRight?U.to>=f:U.to>f);if(ne||U.from==f&&$.type=="bookmark"&&(!x||U.marker.insertLeft)){var le=U.from==null||($.inclusiveLeft?U.from<=f:U.from<f);(b||(b=[])).push(new sl($,le?null:U.from-f,U.to==null?null:U.to-f))}}return b}function sa(A,f){if(f.full)return null;var x=Vt(A,f.from.line)&&Wn(A,f.from.line).markedSpans,b=Vt(A,f.to.line)&&Wn(A,f.to.line).markedSpans;if(!x&&!b)return null;var E=f.from.ch,U=f.to.ch,$=wn(f.from,f.to)==0,ne=bl(x,E,$),le=eu(b,U,$),me=f.text.length==1,Qe=yn(f.text).length+(me?E:0);if(ne)for(var nt=0;nt<ne.length;++nt){var Ot=ne[nt];if(Ot.to==null){var yt=No(le,Ot.marker);yt?me&&(Ot.to=yt.to==null?null:yt.to+Qe):Ot.to=E}}if(le)for(var Wt=0;Wt<le.length;++Wt){var cn=le[Wt];if(cn.to!=null&&(cn.to+=Qe),cn.from==null){var In=No(ne,cn.marker);In||(cn.from=Qe,me&&(ne||(ne=[])).push(cn))}else cn.from+=Qe,me&&(ne||(ne=[])).push(cn)}ne&&(ne=ul(ne)),le&&le!=ne&&(le=ul(le));var Yn=[ne];if(!me){var bn=f.text.length-2,Ln;if(bn>0&&ne)for(var ar=0;ar<ne.length;++ar)ne[ar].to==null&&(Ln||(Ln=[])).push(new sl(ne[ar].marker,null,null));for(var Tr=0;Tr<bn;++Tr)Yn.push(Ln);Yn.push(le)}return Yn}function ul(A){for(var f=0;f<A.length;++f){var x=A[f];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&A.splice(f--,1)}return A.length?A:null}function vA(A,f,x){var b=null;if(A.iter(f.line,x.line+1,function(yt){if(yt.markedSpans)for(var Wt=0;Wt<yt.markedSpans.length;++Wt){var cn=yt.markedSpans[Wt].marker;cn.readOnly&&(!b||Re(b,cn)==-1)&&(b||(b=[])).push(cn)}}),!b)return null;for(var E=[{from:f,to:x}],U=0;U<b.length;++U)for(var $=b[U],ne=$.find(0),le=0;le<E.length;++le){var me=E[le];if(!(wn(me.to,ne.from)<0||wn(me.from,ne.to)>0)){var Qe=[le,1],nt=wn(me.from,ne.from),Ot=wn(me.to,ne.to);(nt<0||!$.inclusiveLeft&&!nt)&&Qe.push({from:me.from,to:ne.from}),(Ot>0||!$.inclusiveRight&&!Ot)&&Qe.push({from:ne.to,to:me.to}),E.splice.apply(E,Qe),le+=Qe.length-3}}return E}function vo(A){var f=A.markedSpans;if(f){for(var x=0;x<f.length;++x)f[x].marker.detachLine(A);A.markedSpans=null}}function io(A,f){if(f){for(var x=0;x<f.length;++x)f[x].marker.attachLine(A);A.markedSpans=f}}function z(A){return A.inclusiveLeft?-1:0}function ae(A){return A.inclusiveRight?1:0}function Ue(A,f){var x=A.lines.length-f.lines.length;if(x!=0)return x;var b=A.find(),E=f.find(),U=wn(b.from,E.from)||z(A)-z(f);if(U)return-U;var $=wn(b.to,E.to)||ae(A)-ae(f);return $||f.id-A.id}function gt(A,f){var x=bs&&A.markedSpans,b;if(x)for(var E=void 0,U=0;U<x.length;++U)E=x[U],E.marker.collapsed&&(f?E.from:E.to)==null&&(!b||Ue(b,E.marker)<0)&&(b=E.marker);return b}function Nn(A){return gt(A,!0)}function vn(A){return gt(A,!1)}function Kn(A,f){var x=bs&&A.markedSpans,b;if(x)for(var E=0;E<x.length;++E){var U=x[E];U.marker.collapsed&&(U.from==null||U.from<f)&&(U.to==null||U.to>f)&&(!b||Ue(b,U.marker)<0)&&(b=U.marker)}return b}function Ur(A,f,x,b,E){var U=Wn(A,f),$=bs&&U.markedSpans;if($)for(var ne=0;ne<$.length;++ne){var le=$[ne];if(le.marker.collapsed){var me=le.marker.find(0),Qe=wn(me.from,x)||z(le.marker)-z(E),nt=wn(me.to,b)||ae(le.marker)-ae(E);if(!(Qe>=0&&nt<=0||Qe<=0&&nt>=0)&&(Qe<=0&&(le.marker.inclusiveRight&&E.inclusiveLeft?wn(me.to,x)>=0:wn(me.to,x)>0)||Qe>=0&&(le.marker.inclusiveRight&&E.inclusiveLeft?wn(me.from,b)<=0:wn(me.from,b)<0)))return!0}}}function yr(A){for(var f;f=Nn(A);)A=f.find(-1,!0).line;return A}function Ir(A){for(var f;f=vn(A);)A=f.find(1,!0).line;return A}function ki(A){for(var f,x;f=vn(A);)A=f.find(1,!0).line,(x||(x=[])).push(A);return x}function po(A,f){var x=Wn(A,f),b=yr(x);return x==b?f:ve(b)}function Si(A,f){if(f>A.lastLine())return f;var x=Wn(A,f),b;if(!Zr(A,x))return f;for(;b=vn(x);)x=b.find(1,!0).line;return ve(x)+1}function Zr(A,f){var x=bs&&f.markedSpans;if(x){for(var b=void 0,E=0;E<x.length;++E)if(b=x[E],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&Hi(A,f,b))return!0}}}function Hi(A,f,x){if(x.to==null){var b=x.marker.find(1,!0);return Hi(A,b.line,No(b.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==f.text.length)return!0;for(var E=void 0,U=0;U<f.markedSpans.length;++U)if(E=f.markedSpans[U],E.marker.collapsed&&!E.marker.widgetNode&&E.from==x.to&&(E.to==null||E.to!=x.from)&&(E.marker.inclusiveLeft||x.marker.inclusiveRight)&&Hi(A,f,E))return!0}function Bo(A){A=yr(A);for(var f=0,x=A.parent,b=0;b<x.lines.length;++b){var E=x.lines[b];if(E==A)break;f+=E.height}for(var U=x.parent;U;x=U,U=x.parent)for(var $=0;$<U.children.length;++$){var ne=U.children[$];if(ne==x)break;f+=ne.height}return f}function xo(A){if(A.height==0)return 0;for(var f=A.text.length,x,b=A;x=Nn(b);){var E=x.find(0,!0);b=E.from.line,f+=E.from.ch-E.to.ch}for(b=A;x=vn(b);){var U=x.find(0,!0);f-=b.text.length-U.from.ch,b=U.to.line,f+=b.text.length-U.to.ch}return f}function Ga(A){var f=A.display,x=A.doc;f.maxLine=Wn(x,x.first),f.maxLineLength=xo(f.maxLine),f.maxLineChanged=!0,x.iter(function(b){var E=xo(b);E>f.maxLineLength&&(f.maxLineLength=E,f.maxLine=b)})}var Pl=function(A,f,x){this.text=A,io(this,f),this.height=x?x(this):1};Pl.prototype.lineNo=function(){return ve(this)},ze(Pl);function tu(A,f,x,b){A.text=f,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),vo(A),io(A,x);var E=b?b(A):1;E!=A.height&&Ui(A,E)}function pa(A){A.parent=null,vo(A)}var p0={},nu={};function Kh(A,f){if(!A||/^\s*$/.test(A))return null;var x=f.addModeClass?nu:p0;return x[A]||(x[A]=A.replace(/\S+/g,"cm-$&"))}function rd(A,f){var x=_t("span",null,null,_?"padding-right: .1px":null),b={pre:_t("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};f.measure={};for(var E=0;E<=(f.rest?f.rest.length:0);E++){var U=E?f.rest[E-1]:f.line,$=void 0;b.pos=0,b.addToken=id,qn(A.display.measure)&&($=On(U,A.doc.direction))&&(b.addToken=na(b.addToken,$)),b.map=[];var ne=f!=A.display.externalMeasured&&ve(U);Gd(U,b,os(A,U,ne)),U.styleClasses&&(U.styleClasses.bgClass&&(b.bgClass=Ve(U.styleClasses.bgClass,b.bgClass||"")),U.styleClasses.textClass&&(b.textClass=Ve(U.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Fn(A.display.measure))),E==0?(f.measure.map=b.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(b.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(_){var le=b.content.lastChild;(/\bcm-tab\b/.test(le.className)||le.querySelector&&le.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return Pe(A,"renderLine",A,f.line,b.pre),b.pre.className&&(b.textClass=Ve(b.pre.className,b.textClass||"")),b}function Nu(A){var f=ge("span","•","cm-invalidchar");return f.title="\\u"+A.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function id(A,f,x,b,E,U,$){if(f){var ne=A.splitSpaces?NA(f,A.trailingSpace):f,le=A.cm.state.specialChars,me=!1,Qe;if(!le.test(f))A.col+=f.length,Qe=document.createTextNode(ne),A.map.push(A.pos,A.pos+f.length,Qe),h&&g<9&&(me=!0),A.pos+=f.length;else{Qe=document.createDocumentFragment();for(var nt=0;;){le.lastIndex=nt;var Ot=le.exec(f),yt=Ot?Ot.index-nt:f.length-nt;if(yt){var Wt=document.createTextNode(ne.slice(nt,nt+yt));h&&g<9?Qe.appendChild(ge("span",[Wt])):Qe.appendChild(Wt),A.map.push(A.pos,A.pos+yt,Wt),A.col+=yt,A.pos+=yt}if(!Ot)break;nt+=yt+1;var cn=void 0;if(Ot[0]=="	"){var In=A.cm.options.tabSize,Yn=In-A.col%In;cn=Qe.appendChild(ge("span",gn(Yn),"cm-tab")),cn.setAttribute("role","presentation"),cn.setAttribute("cm-text","	"),A.col+=Yn}else Ot[0]=="\r"||Ot[0]==`
`?(cn=Qe.appendChild(ge("span",Ot[0]=="\r"?"␍":"␤","cm-invalidchar")),cn.setAttribute("cm-text",Ot[0]),A.col+=1):(cn=A.cm.options.specialCharPlaceholder(Ot[0]),cn.setAttribute("cm-text",Ot[0]),h&&g<9?Qe.appendChild(ge("span",[cn])):Qe.appendChild(cn),A.col+=1);A.map.push(A.pos,A.pos+1,cn),A.pos++}}if(A.trailingSpace=ne.charCodeAt(f.length-1)==32,x||b||E||me||U||$){var bn=x||"";b&&(bn+=b),E&&(bn+=E);var Ln=ge("span",[Qe],bn,U);if($)for(var ar in $)$.hasOwnProperty(ar)&&ar!="style"&&ar!="class"&&Ln.setAttribute(ar,$[ar]);return A.content.appendChild(Ln)}A.content.appendChild(Qe)}}function NA(A,f){if(A.length>1&&!/  /.test(A))return A;for(var x=f,b="",E=0;E<A.length;E++){var U=A.charAt(E);U==" "&&x&&(E==A.length-1||A.charCodeAt(E+1)==32)&&(U=" "),b+=U,x=U==" "}return b}function na(A,f){return function(x,b,E,U,$,ne,le){E=E?E+" cm-force-border":"cm-force-border";for(var me=x.pos,Qe=me+b.length;;){for(var nt=void 0,Ot=0;Ot<f.length&&(nt=f[Ot],!(nt.to>me&&nt.from<=me));Ot++);if(nt.to>=Qe)return A(x,b,E,U,$,ne,le);A(x,b.slice(0,nt.to-me),E,U,null,ne,le),U=null,b=b.slice(nt.to-me),me=nt.to}}}function Gu(A,f,x,b){var E=!b&&x.widgetNode;E&&A.map.push(A.pos,A.pos+f,E),!b&&A.cm.display.input.needsContentAttribute&&(E||(E=A.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",x.id)),E&&(A.cm.display.input.setUneditable(E),A.content.appendChild(E)),A.pos+=f,A.trailingSpace=!1}function Gd(A,f,x){var b=A.markedSpans,E=A.text,U=0;if(!b){for(var $=1;$<x.length;$+=2)f.addToken(f,E.slice(U,U=x[$]),Kh(x[$+1],f.cm.options));return}for(var ne=E.length,le=0,me=1,Qe="",nt,Ot,yt=0,Wt,cn,In,Yn,bn;;){if(yt==le){Wt=cn=In=Ot="",bn=null,Yn=null,yt=1/0;for(var Ln=[],ar=void 0,Tr=0;Tr<b.length;++Tr){var _r=b[Tr],hi=_r.marker;if(hi.type=="bookmark"&&_r.from==le&&hi.widgetNode)Ln.push(hi);else if(_r.from<=le&&(_r.to==null||_r.to>le||hi.collapsed&&_r.to==le&&_r.from==le)){if(_r.to!=null&&_r.to!=le&&yt>_r.to&&(yt=_r.to,cn=""),hi.className&&(Wt+=" "+hi.className),hi.css&&(Ot=(Ot?Ot+";":"")+hi.css),hi.startStyle&&_r.from==le&&(In+=" "+hi.startStyle),hi.endStyle&&_r.to==yt&&(ar||(ar=[])).push(hi.endStyle,_r.to),hi.title&&((bn||(bn={})).title=hi.title),hi.attributes)for(var Uo in hi.attributes)(bn||(bn={}))[Uo]=hi.attributes[Uo];hi.collapsed&&(!Yn||Ue(Yn.marker,hi)<0)&&(Yn=_r)}else _r.from>le&&yt>_r.from&&(yt=_r.from)}if(ar)for(var Ya=0;Ya<ar.length;Ya+=2)ar[Ya+1]==yt&&(cn+=" "+ar[Ya]);if(!Yn||Yn.from==le)for(var Ca=0;Ca<Ln.length;++Ca)Gu(f,0,Ln[Ca]);if(Yn&&(Yn.from||0)==le){if(Gu(f,(Yn.to==null?ne+1:Yn.to)-le,Yn.marker,Yn.from==null),Yn.to==null)return;Yn.to==le&&(Yn=!1)}}if(le>=ne)break;for(var Da=Math.min(ne,yt);;){if(Qe){var us=le+Qe.length;if(!Yn){var As=us>Da?Qe.slice(0,Da-le):Qe;f.addToken(f,As,nt?nt+Wt:Wt,In,le+As.length==yt?cn:"",Ot,bn)}if(us>=Da){Qe=Qe.slice(Da-le),le=Da;break}le=us,In=""}Qe=E.slice(U,U=x[me++]),nt=Kh(x[me++],f.cm.options)}}}function GA(A,f,x){this.line=f,this.rest=ki(f),this.size=this.rest?ve(yn(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Zr(A,f)}function Ec(A,f,x){for(var b=[],E,U=f;U<x;U=E){var $=new GA(A.doc,Wn(A.doc,U),U);E=U+$.size,b.push($)}return b}var Mu=null;function od(A){Mu?Mu.ops.push(A):A.ownsGroup=Mu={ops:[A],delayedCallbacks:[]}}function Hp(A){var f=A.delayedCallbacks,x=0;do{for(;x<f.length;x++)f[x].call(null);for(var b=0;b<A.ops.length;b++){var E=A.ops[b];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(x<f.length)}function Ph(A,f){var x=A.ownsGroup;if(x)try{Hp(x)}finally{Mu=null,f(x)}}var Ii=null;function ko(A,f){var x=Pr(A,f);if(x.length){var b=Array.prototype.slice.call(arguments,2),E;Mu?E=Mu.delayedCallbacks:Ii?E=Ii:(E=Ii=[],setTimeout(m0,0));for(var U=function(ne){E.push(function(){return x[ne].apply(null,b)})},$=0;$<x.length;++$)U($)}}function m0(){var A=Ii;Ii=null;for(var f=0;f<A.length;++f)A[f]()}function Fh(A,f,x,b){for(var E=0;E<f.changes.length;E++){var U=f.changes[E];U=="text"?Yf(A,f):U=="gutter"?QA(A,f,x,b):U=="class"?Wi(A,f):U=="widget"&&Io(A,f,b)}f.changes=null}function Qu(A){return A.node==A.text&&(A.node=ge("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),h&&g<8&&(A.node.style.zIndex=2)),A.node}function $f(A,f){var x=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),f.background)x?f.background.className=x:(f.background.parentNode.removeChild(f.background),f.background=null);else if(x){var b=Qu(f);f.background=b.insertBefore(ge("div",null,x),b.firstChild),A.display.input.setUneditable(f.background)}}function la(A,f){var x=A.display.externalMeasured;return x&&x.line==f.line?(A.display.externalMeasured=null,f.measure=x.measure,x.built):rd(A,f)}function Yf(A,f){var x=f.text.className,b=la(A,f);f.text==f.node&&(f.node=b.pre),f.text.parentNode.replaceChild(b.pre,f.text),f.text=b.pre,b.bgClass!=f.bgClass||b.textClass!=f.textClass?(f.bgClass=b.bgClass,f.textClass=b.textClass,Wi(A,f)):x&&(f.text.className=x)}function Wi(A,f){$f(A,f),f.line.wrapClass?Qu(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var x=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=x||""}function QA(A,f,x,b){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var E=Qu(f);f.gutterBackground=ge("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),A.display.input.setUneditable(f.gutterBackground),E.insertBefore(f.gutterBackground,f.text)}var U=f.line.gutterMarkers;if(A.options.lineNumbers||U){var $=Qu(f),ne=f.gutter=ge("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(ne.setAttribute("aria-hidden","true"),A.display.input.setUneditable(ne),$.insertBefore(ne,f.text),f.line.gutterClass&&(ne.className+=" "+f.line.gutterClass),A.options.lineNumbers&&(!U||!U["CodeMirror-linenumbers"])&&(f.lineNumber=ne.appendChild(ge("div",sn(A.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),U)for(var le=0;le<A.display.gutterSpecs.length;++le){var me=A.display.gutterSpecs[le].className,Qe=U.hasOwnProperty(me)&&U[me];Qe&&ne.appendChild(ge("div",[Qe],"CodeMirror-gutter-elt","left: "+b.gutterLeft[me]+"px; width: "+b.gutterWidth[me]+"px"))}}}function Io(A,f,x){f.alignable&&(f.alignable=null);for(var b=De("CodeMirror-linewidget"),E=f.node.firstChild,U=void 0;E;E=U)U=E.nextSibling,b.test(E.className)&&f.node.removeChild(E);$A(A,f,x)}function Do(A,f,x,b){var E=la(A,f);return f.text=f.node=E.pre,E.bgClass&&(f.bgClass=E.bgClass),E.textClass&&(f.textClass=E.textClass),Wi(A,f),QA(A,f,x,b),$A(A,f,b),f.node}function $A(A,f,x){if(Ls(A,f.line,f,x,!0),f.rest)for(var b=0;b<f.rest.length;b++)Ls(A,f.rest[b],f,x,!1)}function Ls(A,f,x,b,E){if(f.widgets)for(var U=Qu(x),$=0,ne=f.widgets;$<ne.length;++$){var le=ne[$],me=ge("div",[le.node],"CodeMirror-linewidget"+(le.className?" "+le.className:""));le.handleMouseEvents||me.setAttribute("cm-ignore-events","true"),Dh(le,me,x,b),A.display.input.setUneditable(me),E&&le.above?U.insertBefore(me,x.gutter||x.text):U.appendChild(me),ko(le,"redraw")}}function Dh(A,f,x,b){if(A.noHScroll){(x.alignable||(x.alignable=[])).push(f);var E=b.wrapperWidth;f.style.left=b.fixedPos+"px",A.coverGutter||(E-=b.gutterTotalWidth,f.style.paddingLeft=b.gutterTotalWidth+"px"),f.style.width=E+"px"}A.coverGutter&&(f.style.zIndex=5,f.style.position="relative",A.noHScroll||(f.style.marginLeft=-b.gutterTotalWidth+"px"))}function ru(A){if(A.height!=null)return A.height;var f=A.doc.cm;if(!f)return 0;if(!dt(document.body,A.node)){var x="position: relative;";A.coverGutter&&(x+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),A.noHScroll&&(x+="width: "+f.display.wrapper.clientWidth+"px;"),qe(f.display.measure,ge("div",[A.node],null,x))}return A.height=A.node.parentNode.offsetHeight}function Fl(A,f){for(var x=wt(f);x!=A.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==A.sizer&&x!=A.mover)return!0}function Oc(A){return A.lineSpace.offsetTop}function Lh(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Qd(A){if(A.cachedPaddingH)return A.cachedPaddingH;var f=qe(A.measure,ge("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,b={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(A.cachedPaddingH=b),b}function Su(A){return it-A.display.nativeBarWidth}function _A(A){return A.display.scroller.clientWidth-Su(A)-A.display.barWidth}function YA(A){return A.display.scroller.clientHeight-Su(A)-A.display.barHeight}function qA(A,f,x){var b=A.options.lineWrapping,E=b&&_A(A);if(!f.measure.heights||b&&f.measure.width!=E){var U=f.measure.heights=[];if(b){f.measure.width=E;for(var $=f.text.firstChild.getClientRects(),ne=0;ne<$.length-1;ne++){var le=$[ne],me=$[ne+1];Math.abs(le.bottom-me.bottom)>2&&U.push((le.bottom+me.top)/2-x.top)}}U.push(x.bottom-x.top)}}function qf(A,f,x){if(A.line==f)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var b=0;b<A.rest.length;b++)if(A.rest[b]==f)return{map:A.measure.maps[b],cache:A.measure.caches[b]};for(var E=0;E<A.rest.length;E++)if(ve(A.rest[E])>x)return{map:A.measure.maps[E],cache:A.measure.caches[E],before:!0}}}function Vp(A,f){f=yr(f);var x=ve(f),b=A.display.externalMeasured=new GA(A.doc,f,x);b.lineN=x;var E=b.built=rd(A,b);return b.text=E.pre,qe(A.display.lineMeasure,E.pre),b}function Bc(A,f,x,b){return xl(A,Dl(A,f),x,b)}function ad(A,f){if(f>=A.display.viewFrom&&f<A.display.viewTo)return A.display.view[HA(A,f)];var x=A.display.externalMeasured;if(x&&f>=x.lineN&&f<x.lineN+x.size)return x}function Dl(A,f){var x=ve(f),b=ad(A,x);b&&!b.text?b=null:b&&b.changes&&(Fh(A,b,x,ss(A)),A.curOp.forceUpdate=!0),b||(b=Vp(A,f));var E=qf(b,f,x);return{line:f,view:b,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function xl(A,f,x,b,E){f.before&&(x=-1);var U=x+(b||""),$;return f.cache.hasOwnProperty(U)?$=f.cache[U]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(qA(A,f.view,f.rect),f.hasHeights=!0),$=Eu(A,f,x,b),$.bogus||(f.cache[U]=$)),{left:$.left,right:$.right,top:E?$.rtop:$.top,bottom:E?$.rbottom:$.bottom}}var ma={left:0,right:0,top:0,bottom:0};function CA(A,f,x){for(var b,E,U,$,ne,le,me=0;me<A.length;me+=3)if(ne=A[me],le=A[me+1],f<ne?(E=0,U=1,$="left"):f<le?(E=f-ne,U=E+1):(me==A.length-3||f==le&&A[me+3]>f)&&(U=le-ne,E=U-1,f>=le&&($="right")),E!=null){if(b=A[me+2],ne==le&&x==(b.insertLeft?"left":"right")&&($=x),x=="left"&&E==0)for(;me&&A[me-2]==A[me-3]&&A[me-1].insertLeft;)b=A[(me-=3)+2],$="left";if(x=="right"&&E==le-ne)for(;me<A.length-3&&A[me+3]==A[me+4]&&!A[me+5].insertLeft;)b=A[(me+=3)+2],$="right";break}return{node:b,start:E,end:U,collapse:$,coverStart:ne,coverEnd:le}}function Ll(A,f){var x=ma;if(f=="left")for(var b=0;b<A.length&&(x=A[b]).left==x.right;b++);else for(var E=A.length-1;E>=0&&(x=A[E]).left==x.right;E--);return x}function Eu(A,f,x,b){var E=CA(f.map,x,b),U=E.node,$=E.start,ne=E.end,le=E.collapse,me;if(U.nodeType==3){for(var Qe=0;Qe<4;Qe++){for(;$&&Te(f.line.text.charAt(E.coverStart+$));)--$;for(;E.coverStart+ne<E.coverEnd&&Te(f.line.text.charAt(E.coverStart+ne));)++ne;if(h&&g<9&&$==0&&ne==E.coverEnd-E.coverStart?me=U.parentNode.getBoundingClientRect():me=Ll(Mt(U,$,ne).getClientRects(),b),me.left||me.right||$==0)break;ne=$,$=$-1,le="right"}h&&g<11&&(me=Ul(A.display.measure,me))}else{$>0&&(le=b="right");var nt;A.options.lineWrapping&&(nt=U.getClientRects()).length>1?me=nt[b=="right"?nt.length-1:0]:me=U.getBoundingClientRect()}if(h&&g<9&&!$&&(!me||!me.left&&!me.right)){var Ot=U.parentNode.getClientRects()[0];Ot?me={left:Ot.left,right:Ot.left+$u(A.display),top:Ot.top,bottom:Ot.bottom}:me=ma}for(var yt=me.top-f.rect.top,Wt=me.bottom-f.rect.top,cn=(yt+Wt)/2,In=f.view.measure.heights,Yn=0;Yn<In.length-1&&!(cn<In[Yn]);Yn++);var bn=Yn?In[Yn-1]:0,Ln=In[Yn],ar={left:(le=="right"?me.right:me.left)-f.rect.left,right:(le=="left"?me.left:me.right)-f.rect.left,top:bn,bottom:Ln};return!me.left&&!me.right&&(ar.bogus=!0),A.options.singleCursorHeightPerLine||(ar.rtop=yt,ar.rbottom=Wt),ar}function Ul(A,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Lr(A))return f;var x=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*x,right:f.right*x,top:f.top*b,bottom:f.bottom*b}}function $d(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var f=0;f<A.rest.length;f++)A.measure.caches[f]={}}function kc(A){A.display.externalMeasure=null,he(A.display.lineMeasure);for(var f=0;f<A.display.view.length;f++)$d(A.display.view[f])}function Ou(A){kc(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Ic(A){return k&&Z?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function sd(A){return k&&Z?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Yd(A){var f=yr(A),x=f.widgets,b=0;if(x)for(var E=0;E<x.length;++E)x[E].above&&(b+=ru(x[E]));return b}function iu(A,f,x,b,E){if(!E){var U=Yd(f);x.top+=U,x.bottom+=U}if(b=="line")return x;b||(b="local");var $=Bo(f);if(b=="local"?$+=Oc(A.display):$-=A.display.viewOffset,b=="page"||b=="window"){var ne=A.display.lineSpace.getBoundingClientRect();$+=ne.top+(b=="window"?0:sd(Jt(A)));var le=ne.left+(b=="window"?0:Ic(Jt(A)));x.left+=le,x.right+=le}return x.top+=$,x.bottom+=$,x}function Et(A,f,x){if(x=="div")return f;var b=f.left,E=f.top;if(x=="page")b-=Ic(Jt(A)),E-=sd(Jt(A));else if(x=="local"||!x){var U=A.display.sizer.getBoundingClientRect();b+=U.left,E+=U.top}var $=A.display.lineSpace.getBoundingClientRect();return{left:b-$.left,top:E-$.top}}function an(A,f,x,b,E){return b||(b=Wn(A.doc,f.line)),iu(A,b,Bc(A,b,f.ch,E),x)}function jt(A,f,x,b,E,U){b=b||Wn(A.doc,f.line),E||(E=Dl(A,b));function $(Wt,cn){var In=xl(A,E,Wt,cn?"right":"left",U);return cn?In.left=In.right:In.right=In.left,iu(A,b,In,x)}var ne=On(b,A.doc.direction),le=f.ch,me=f.sticky;if(le>=b.text.length?(le=b.text.length,me="before"):le<=0&&(le=0,me="after"),!ne)return $(me=="before"?le-1:le,me=="before");function Qe(Wt,cn,In){var Yn=ne[cn],bn=Yn.level==1;return $(In?Wt-1:Wt,bn!=In)}var nt=fn(ne,le,me),Ot=Dt,yt=Qe(le,nt,me=="before");return Ot!=null&&(yt.other=Qe(le,Ot,me!="before")),yt}function hr(A,f){var x=0;f=Fr(A.doc,f),A.options.lineWrapping||(x=$u(A.display)*f.ch);var b=Wn(A.doc,f.line),E=Bo(b)+Oc(A.display);return{left:x,right:x,top:E,bottom:E+b.height}}function li(A,f,x,b,E){var U=Lt(A,f,x);return U.xRel=E,b&&(U.outside=b),U}function oo(A,f,x){var b=A.doc;if(x+=A.display.viewOffset,x<0)return li(b.first,0,null,-1,-1);var E=Je(b,x),U=b.first+b.size-1;if(E>U)return li(b.first+b.size-1,Wn(b,U).text.length,null,1,1);f<0&&(f=0);for(var $=Wn(b,E);;){var ne=qd(A,$,E,f,x),le=Kn($,ne.ch+(ne.xRel>0||ne.outside>0?1:0));if(!le)return ne;var me=le.find(1);if(me.line==E)return me;$=Wn(b,E=me.line)}}function Ka(A,f,x,b){b-=Yd(f);var E=f.text.length,U=Bt(function($){return xl(A,x,$-1).bottom<=b},E,0);return E=Bt(function($){return xl(A,x,$).top>b},U,E),{begin:U,end:E}}function To(A,f,x,b){x||(x=Dl(A,f));var E=iu(A,f,xl(A,x,b),"line").top;return Ka(A,f,x,E)}function bA(A,f,x,b){return A.bottom<=x?!1:A.top>x?!0:(b?A.left:A.right)>f}function qd(A,f,x,b,E){E-=Bo(f);var U=Dl(A,f),$=Yd(f),ne=0,le=f.text.length,me=!0,Qe=On(f,A.doc.direction);if(Qe){var nt=(A.options.lineWrapping?xA:Ko)(A,f,x,U,Qe,b,E);me=nt.level!=1,ne=me?nt.from:nt.to-1,le=me?nt.to:nt.from-1}var Ot=null,yt=null,Wt=Bt(function(Tr){var _r=xl(A,U,Tr);return _r.top+=$,_r.bottom+=$,bA(_r,b,E,!1)?(_r.top<=E&&_r.left<=b&&(Ot=Tr,yt=_r),!0):!1},ne,le),cn,In,Yn=!1;if(yt){var bn=b-yt.left<yt.right-b,Ln=bn==me;Wt=Ot+(Ln?0:1),In=Ln?"after":"before",cn=bn?yt.left:yt.right}else{!me&&(Wt==le||Wt==ne)&&Wt++,In=Wt==0?"after":Wt==f.text.length?"before":xl(A,U,Wt-(me?1:0)).bottom+$<=E==me?"after":"before";var ar=jt(A,Lt(x,Wt,In),"line",f,U);cn=ar.left,Yn=E<ar.top?-1:E>=ar.bottom?1:0}return Wt=ut(f.text,Wt,1),li(x,Wt,In,Yn,b-cn)}function Ko(A,f,x,b,E,U,$){var ne=Bt(function(nt){var Ot=E[nt],yt=Ot.level!=1;return bA(jt(A,Lt(x,yt?Ot.to:Ot.from,yt?"before":"after"),"line",f,b),U,$,!0)},0,E.length-1),le=E[ne];if(ne>0){var me=le.level!=1,Qe=jt(A,Lt(x,me?le.from:le.to,me?"after":"before"),"line",f,b);bA(Qe,U,$,!0)&&Qe.top>$&&(le=E[ne-1])}return le}function xA(A,f,x,b,E,U,$){var ne=Ka(A,f,b,$),le=ne.begin,me=ne.end;/\s/.test(f.text.charAt(me-1))&&me--;for(var Qe=null,nt=null,Ot=0;Ot<E.length;Ot++){var yt=E[Ot];if(!(yt.from>=me||yt.to<=le)){var Wt=yt.level!=1,cn=xl(A,b,Wt?Math.min(me,yt.to)-1:Math.max(le,yt.from)).right,In=cn<U?U-cn+1e9:cn-U;(!Qe||nt>In)&&(Qe=yt,nt=In)}}return Qe||(Qe=E[E.length-1]),Qe.from<le&&(Qe={from:le,to:Qe.to,level:Qe.level}),Qe.to>me&&(Qe={from:Qe.from,to:me,level:Qe.level}),Qe}var xs;function Qa(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(xs==null){xs=ge("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)xs.appendChild(document.createTextNode("x")),xs.appendChild(ge("br"));xs.appendChild(document.createTextNode("x"))}qe(A.measure,xs);var x=xs.offsetHeight/50;return x>3&&(A.cachedTextHeight=x),he(A.measure),x||1}function $u(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var f=ge("span","xxxxxxxxxx"),x=ge("pre",[f],"CodeMirror-line-like");qe(A.measure,x);var b=f.getBoundingClientRect(),E=(b.right-b.left)/10;return E>2&&(A.cachedCharWidth=E),E||10}function ss(A){for(var f=A.display,x={},b={},E=f.gutters.clientLeft,U=f.gutters.firstChild,$=0;U;U=U.nextSibling,++$){var ne=A.display.gutterSpecs[$].className;x[ne]=U.offsetLeft+U.clientLeft+E,b[ne]=U.clientWidth}return{fixedPos:Vi(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:x,gutterWidth:b,wrapperWidth:f.wrapper.clientWidth}}function Vi(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function Uh(A){var f=Qa(A.display),x=A.options.lineWrapping,b=x&&Math.max(5,A.display.scroller.clientWidth/$u(A.display)-3);return function(E){if(Zr(A.doc,E))return 0;var U=0;if(E.widgets)for(var $=0;$<E.widgets.length;$++)E.widgets[$].height&&(U+=E.widgets[$].height);return x?U+(Math.ceil(E.text.length/b)||1)*f:U+f}}function Rh(A){var f=A.doc,x=Uh(A);f.iter(function(b){var E=x(b);E!=b.height&&Ui(b,E)})}function ou(A,f,x,b){var E=A.display;if(!x&&wt(f).getAttribute("cm-not-content")=="true")return null;var U,$,ne=E.lineSpace.getBoundingClientRect();try{U=f.clientX-ne.left,$=f.clientY-ne.top}catch{return null}var le=oo(A,U,$),me;if(b&&le.xRel>0&&(me=Wn(A.doc,le.line).text).length==le.ch){var Qe=pe(me,me.length,A.options.tabSize)-me.length;le=Lt(le.line,Math.max(0,Math.round((U-Qd(A.display).left)/$u(A.display))-Qe))}return le}function HA(A,f){if(f>=A.display.viewTo||(f-=A.display.viewFrom,f<0))return null;for(var x=A.display.view,b=0;b<x.length;b++)if(f-=x[b].size,f<0)return b}function ga(A,f,x,b){f==null&&(f=A.doc.first),x==null&&(x=A.doc.first+A.doc.size),b||(b=0);var E=A.display;if(b&&x<E.viewTo&&(E.updateLineNumbers==null||E.updateLineNumbers>f)&&(E.updateLineNumbers=f),A.curOp.viewChanged=!0,f>=E.viewTo)bs&&po(A.doc,f)<E.viewTo&&Gn(A);else if(x<=E.viewFrom)bs&&Si(A.doc,x+b)>E.viewFrom?Gn(A):(E.viewFrom+=b,E.viewTo+=b);else if(f<=E.viewFrom&&x>=E.viewTo)Gn(A);else if(f<=E.viewFrom){var U=Rl(A,x,x+b,1);U?(E.view=E.view.slice(U.index),E.viewFrom=U.lineN,E.viewTo+=b):Gn(A)}else if(x>=E.viewTo){var $=Rl(A,f,f,-1);$?(E.view=E.view.slice(0,$.index),E.viewTo=$.lineN):Gn(A)}else{var ne=Rl(A,f,f,-1),le=Rl(A,x,x+b,1);ne&&le?(E.view=E.view.slice(0,ne.index).concat(Ec(A,ne.lineN,le.lineN)).concat(E.view.slice(le.index)),E.viewTo+=b):Gn(A)}var me=E.externalMeasured;me&&(x<me.lineN?me.lineN+=b:f<me.lineN+me.size&&(E.externalMeasured=null))}function Al(A,f,x){A.curOp.viewChanged=!0;var b=A.display,E=A.display.externalMeasured;if(E&&f>=E.lineN&&f<E.lineN+E.size&&(b.externalMeasured=null),!(f<b.viewFrom||f>=b.viewTo)){var U=b.view[HA(A,f)];if(U.node!=null){var $=U.changes||(U.changes=[]);Re($,x)==-1&&$.push(x)}}}function Gn(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Rl(A,f,x,b){var E=HA(A,f),U,$=A.display.view;if(!bs||x==A.doc.first+A.doc.size)return{index:E,lineN:x};for(var ne=A.display.viewFrom,le=0;le<E;le++)ne+=$[le].size;if(ne!=f){if(b>0){if(E==$.length-1)return null;U=ne+$[E].size-f,E++}else U=ne-f;f+=U,x+=U}for(;po(A.doc,x)!=x;){if(E==(b<0?0:$.length-1))return null;x+=b*$[E-(b<0?1:0)].size,E+=b}return{index:E,lineN:x}}function Yu(A,f,x){var b=A.display,E=b.view;E.length==0||f>=b.viewTo||x<=b.viewFrom?(b.view=Ec(A,f,x),b.viewFrom=f):(b.viewFrom>f?b.view=Ec(A,f,b.viewFrom).concat(b.view):b.viewFrom<f&&(b.view=b.view.slice(HA(A,f))),b.viewFrom=f,b.viewTo<x?b.view=b.view.concat(Ec(A,b.viewTo,x)):b.viewTo>x&&(b.view=b.view.slice(0,HA(A,x)))),b.viewTo=x}function VA(A){for(var f=A.display.view,x=0,b=0;b<f.length;b++){var E=f[b];!E.hidden&&(!E.node||E.changes)&&++x}return x}function qu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Vn(A,f){f===void 0&&(f=!0);var x=A.doc,b={},E=b.cursors=document.createDocumentFragment(),U=b.selection=document.createDocumentFragment(),$=A.options.$customCursor;$&&(f=!0);for(var ne=0;ne<x.sel.ranges.length;ne++)if(!(!f&&ne==x.sel.primIndex)){var le=x.sel.ranges[ne];if(!(le.from().line>=A.display.viewTo||le.to().line<A.display.viewFrom)){var me=le.empty();if($){var Qe=$(A,le);Qe&&ZA(A,Qe,E)}else(me||A.options.showCursorWhenSelecting)&&ZA(A,le.head,E);me||Hf(A,le,U)}}return b}function ZA(A,f,x){var b=jt(A,f,"div",null,null,!A.options.singleCursorHeightPerLine),E=x.appendChild(ge("div"," ","CodeMirror-cursor"));if(E.style.left=b.left+"px",E.style.top=b.top+"px",E.style.height=Math.max(0,b.bottom-b.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var U=an(A,f,"div",null,null),$=U.right-U.left;E.style.width=($>0?$:A.defaultCharWidth())+"px"}if(b.other){var ne=x.appendChild(ge("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));ne.style.display="",ne.style.left=b.other.left+"px",ne.style.top=b.other.top+"px",ne.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function Hu(A,f){return A.top-f.top||A.left-f.left}function Hf(A,f,x){var b=A.display,E=A.doc,U=document.createDocumentFragment(),$=Qd(A.display),ne=$.left,le=Math.max(b.sizerWidth,_A(A)-b.sizer.offsetLeft)-$.right,me=E.direction=="ltr";function Qe(Ln,ar,Tr,_r){ar<0&&(ar=0),ar=Math.round(ar),_r=Math.round(_r),U.appendChild(ge("div",null,"CodeMirror-selected","position: absolute; left: "+Ln+`px;
                             top: `+ar+"px; width: "+(Tr??le-Ln)+`px;
                             height: `+(_r-ar)+"px"))}function nt(Ln,ar,Tr){var _r=Wn(E,Ln),hi=_r.text.length,Uo,Ya;function Ca(As,Ml){return an(A,Lt(Ln,As),"div",_r,Ml)}function Da(As,Ml,Js){var Os=To(A,_r,null,As),cs=Ml=="ltr"==(Js=="after")?"left":"right",ca=Js=="after"?Os.begin:Os.end-(/\s/.test(_r.text.charAt(Os.end-1))?2:1);return Ca(ca,cs)[cs]}var us=On(_r,E.direction);return It(us,ar||0,Tr??hi,function(As,Ml,Js,Os){var cs=Js=="ltr",ca=Ca(As,cs?"left":"right"),Bs=Ca(Ml-1,cs?"right":"left"),uh=ar==null&&As==0,lc=Tr==null&&Ml==hi,zs=Os==0,uc=!us||Os==us.length-1;if(Bs.top-ca.top<=3){var js=(me?uh:lc)&&zs,B0=(me?lc:uh)&&uc,OA=js?ne:(cs?ca:Bs).left,Uc=B0?le:(cs?Bs:ca).right;Qe(OA,ca.top,Uc-OA,ca.bottom)}else{var qa,el,Ah,Ac;cs?(qa=me&&uh&&zs?ne:ca.left,el=me?le:Da(As,Js,"before"),Ah=me?ne:Da(Ml,Js,"after"),Ac=me&&lc&&uc?le:Bs.right):(qa=me?Da(As,Js,"before"):ne,el=!me&&uh&&zs?le:ca.right,Ah=!me&&lc&&uc?ne:Bs.left,Ac=me?Da(Ml,Js,"after"):le),Qe(qa,ca.top,el-qa,ca.bottom),ca.bottom<Bs.top&&Qe(ne,ca.bottom,null,Bs.top),Qe(Ah,Bs.top,Ac-Ah,Bs.bottom)}(!Uo||Hu(ca,Uo)<0)&&(Uo=ca),Hu(Bs,Uo)<0&&(Uo=Bs),(!Ya||Hu(ca,Ya)<0)&&(Ya=ca),Hu(Bs,Ya)<0&&(Ya=Bs)}),{start:Uo,end:Ya}}var Ot=f.from(),yt=f.to();if(Ot.line==yt.line)nt(Ot.line,Ot.ch,yt.ch);else{var Wt=Wn(E,Ot.line),cn=Wn(E,yt.line),In=yr(Wt)==yr(cn),Yn=nt(Ot.line,Ot.ch,In?Wt.text.length+1:null).end,bn=nt(yt.line,In?0:null,yt.ch).start;In&&(Yn.top<bn.top-2?(Qe(Yn.right,Yn.top,null,Yn.bottom),Qe(ne,bn.top,bn.left,bn.bottom)):Qe(Yn.right,Yn.top,bn.left-Yn.right,Yn.bottom)),Yn.bottom<bn.top&&Qe(ne,Yn.bottom,null,bn.top)}x.appendChild(U)}function Vu(A){if(A.state.focused){var f=A.display;clearInterval(f.blinker);var x=!0;f.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?f.blinker=setInterval(function(){A.hasFocus()||Tc(A),f.cursorDiv.style.visibility=(x=!x)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function Zu(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||Hd(A))}function XA(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&Tc(A))},100)}function Hd(A,f){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(Pe(A,"focus",A,f),A.state.focused=!0,je(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),_&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),Vu(A))}function Tc(A,f){A.state.delayingBlurEvent||(A.state.focused&&(Pe(A,"blur",A,f),A.state.focused=!1,Le(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function Xu(A){for(var f=A.display,x=f.lineDiv.offsetTop,b=Math.max(0,f.scroller.getBoundingClientRect().top),E=f.lineDiv.getBoundingClientRect().top,U=0,$=0;$<f.view.length;$++){var ne=f.view[$],le=A.options.lineWrapping,me=void 0,Qe=0;if(!ne.hidden){if(E+=ne.line.height,h&&g<8){var nt=ne.node.offsetTop+ne.node.offsetHeight;me=nt-x,x=nt}else{var Ot=ne.node.getBoundingClientRect();me=Ot.bottom-Ot.top,!le&&ne.text.firstChild&&(Qe=ne.text.firstChild.getBoundingClientRect().right-Ot.left-1)}var yt=ne.line.height-me;if((yt>.005||yt<-.005)&&(E<b&&(U-=yt),Ui(ne.line,me),wo(ne.line),ne.rest))for(var Wt=0;Wt<ne.rest.length;Wt++)wo(ne.rest[Wt]);if(Qe>A.display.sizerWidth){var cn=Math.ceil(Qe/$u(A.display));cn>A.display.maxLineLength&&(A.display.maxLineLength=cn,A.display.maxLine=ne.line,A.display.maxLineChanged=!0)}}}Math.abs(U)>2&&(f.scroller.scrollTop+=U)}function wo(A){if(A.widgets)for(var f=0;f<A.widgets.length;++f){var x=A.widgets[f],b=x.node.parentNode;b&&(x.height=b.offsetHeight)}}function Ju(A,f,x){var b=x&&x.top!=null?Math.max(0,x.top):A.scroller.scrollTop;b=Math.floor(b-Oc(A));var E=x&&x.bottom!=null?x.bottom:b+A.wrapper.clientHeight,U=Je(f,b),$=Je(f,E);if(x&&x.ensure){var ne=x.ensure.from.line,le=x.ensure.to.line;ne<U?(U=ne,$=Je(f,Bo(Wn(f,ne))+A.wrapper.clientHeight)):Math.min(le,f.lastLine())>=$&&(U=Je(f,Bo(Wn(f,le))-A.wrapper.clientHeight),$=le)}return{from:U,to:Math.max($,U+1)}}function ld(A,f){if(!ce(A,"scrollCursorIntoView")){var x=A.display,b=x.sizer.getBoundingClientRect(),E=null,U=x.wrapper.ownerDocument;if(f.top+b.top<0?E=!0:f.bottom+b.top>(U.defaultView.innerHeight||U.documentElement.clientHeight)&&(E=!1),E!=null&&!H){var $=ge("div","​",null,`position: absolute;
                         top: `+(f.top-x.viewOffset-Oc(A.display))+`px;
                         height: `+(f.bottom-f.top+Su(A)+x.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");A.display.lineSpace.appendChild($),$.scrollIntoView(E),A.display.lineSpace.removeChild($)}}}function Vf(A,f,x,b){b==null&&(b=0);var E;!A.options.lineWrapping&&f==x&&(x=f.sticky=="before"?Lt(f.line,f.ch+1,"before"):f,f=f.ch?Lt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var U=0;U<5;U++){var $=!1,ne=jt(A,f),le=!x||x==f?ne:jt(A,x);E={left:Math.min(ne.left,le.left),top:Math.min(ne.top,le.top)-b,right:Math.max(ne.left,le.left),bottom:Math.max(ne.bottom,le.bottom)+b};var me=jh(A,E),Qe=A.doc.scrollTop,nt=A.doc.scrollLeft;if(me.scrollTop!=null&&(Kc(A,me.scrollTop),Math.abs(A.doc.scrollTop-Qe)>1&&($=!0)),me.scrollLeft!=null&&(Aa(A,me.scrollLeft),Math.abs(A.doc.scrollLeft-nt)>1&&($=!0)),!$)break}return E}function zh(A,f){var x=jh(A,f);x.scrollTop!=null&&Kc(A,x.scrollTop),x.scrollLeft!=null&&Aa(A,x.scrollLeft)}function jh(A,f){var x=A.display,b=Qa(A.display);f.top<0&&(f.top=0);var E=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:x.scroller.scrollTop,U=YA(A),$={};f.bottom-f.top>U&&(f.bottom=f.top+U);var ne=A.doc.height+Lh(x),le=f.top<b,me=f.bottom>ne-b;if(f.top<E)$.scrollTop=le?0:f.top;else if(f.bottom>E+U){var Qe=Math.min(f.top,(me?ne:f.bottom)-U);Qe!=E&&($.scrollTop=Qe)}var nt=A.options.fixedGutter?0:x.gutters.offsetWidth,Ot=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:x.scroller.scrollLeft-nt,yt=_A(A)-x.gutters.offsetWidth,Wt=f.right-f.left>yt;return Wt&&(f.right=f.left+yt),f.left<10?$.scrollLeft=0:f.left<Ot?$.scrollLeft=Math.max(0,f.left+nt-(Wt?0:10)):f.right>yt+Ot-3&&($.scrollLeft=f.right+(Wt?0:10)-yt),$}function Zf(A,f){f!=null&&(Br(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+f)}function ao(A){Br(A);var f=A.getCursor();A.curOp.scrollToPos={from:f,to:f,margin:A.options.cursorScrollMargin}}function ua(A,f,x){(f!=null||x!=null)&&Br(A),f!=null&&(A.curOp.scrollLeft=f),x!=null&&(A.curOp.scrollTop=x)}function br(A,f){Br(A),A.curOp.scrollToPos=f}function Br(A){var f=A.curOp.scrollToPos;if(f){A.curOp.scrollToPos=null;var x=hr(A,f.from),b=hr(A,f.to);wA(A,x,b,f.margin)}}function wA(A,f,x,b){var E=jh(A,{left:Math.min(f.left,x.left),top:Math.min(f.top,x.top)-b,right:Math.max(f.right,x.right),bottom:Math.max(f.bottom,x.bottom)+b});ua(A,E.scrollLeft,E.scrollTop)}function Kc(A,f){Math.abs(A.doc.scrollTop-f)<2||(i||zl(A,{top:f}),JA(A,f,!0),i&&zl(A),nc(A,100))}function JA(A,f,x){f=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,f)),!(A.display.scroller.scrollTop==f&&!x)&&(A.doc.scrollTop=f,A.display.scrollbars.setScrollTop(f),A.display.scroller.scrollTop!=f&&(A.display.scroller.scrollTop=f))}function Aa(A,f,x,b){f=Math.max(0,Math.min(f,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((x?f==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-f)<2)&&!b)&&(A.doc.scrollLeft=f,O(A),A.display.scroller.scrollLeft!=f&&(A.display.scroller.scrollLeft=f),A.display.scrollbars.setScrollLeft(f))}function ec(A){var f=A.display,x=f.gutters.offsetWidth,b=Math.round(A.doc.height+Lh(A.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:A.options.fixedGutter?x:0,docHeight:b,scrollHeight:b+Su(A)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:x}}var ka=function(A,f,x){this.cm=x;var b=this.vert=ge("div",[ge("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=ge("div",[ge("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=E.tabIndex=-1,A(b),A(E),Kt(b,"scroll",function(){b.clientHeight&&f(b.scrollTop,"vertical")}),Kt(E,"scroll",function(){E.clientWidth&&f(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ka.prototype.update=function(A){var f=A.scrollWidth>A.clientWidth+1,x=A.scrollHeight>A.clientHeight+1,b=A.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=f?b+"px":"0";var E=A.viewHeight-(f?b:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+E)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=x?b+"px":"0",this.horiz.style.left=A.barLeft+"px";var U=A.viewWidth-A.barLeft-(x?b:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+U)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?b:0,bottom:f?b:0}},ka.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ka.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ka.prototype.zeroWidthHack=function(){var A=ye&&!ee?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Me,this.disableVert=new Me},ka.prototype.enableZeroWidthBar=function(A,f,x){A.style.visibility="";function b(){var E=A.getBoundingClientRect(),U=x=="vert"?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1);U!=A?A.style.visibility="hidden":f.set(1e3,b)}f.set(1e3,b)},ka.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var eA=function(){};eA.prototype.update=function(){return{bottom:0,right:0}},eA.prototype.setScrollLeft=function(){},eA.prototype.setScrollTop=function(){},eA.prototype.clear=function(){};function cl(A,f){f||(f=ec(A));var x=A.display.barWidth,b=A.display.barHeight;Go(A,f);for(var E=0;E<4&&x!=A.display.barWidth||b!=A.display.barHeight;E++)x!=A.display.barWidth&&A.options.lineWrapping&&Xu(A),Go(A,ec(A)),x=A.display.barWidth,b=A.display.barHeight}function Go(A,f){var x=A.display,b=x.scrollbars.update(f);x.sizer.style.paddingRight=(x.barWidth=b.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=b.bottom)+"px",x.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=b.bottom+"px",x.scrollbarFiller.style.width=b.right+"px"):x.scrollbarFiller.style.display="",b.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=b.bottom+"px",x.gutterFiller.style.width=f.gutterWidth+"px"):x.gutterFiller.style.display=""}var Qo={native:ka,null:eA};function Xf(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&Le(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new Qo[A.options.scrollbarStyle](function(f){A.display.wrapper.insertBefore(f,A.display.scrollbarFiller),Kt(f,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,x){x=="horizontal"?Aa(A,f):Kc(A,f)},A),A.display.scrollbars.addClass&&je(A.display.wrapper,A.display.scrollbars.addClass)}var Vd=0;function tA(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vd,markArrays:null},od(A.curOp)}function wl(A){var f=A.curOp;f&&Ph(f,function(x){for(var b=0;b<x.ops.length;b++)x.ops[b].cm.curOp=null;Jf(x)})}function Jf(A){for(var f=A.ops,x=0;x<f.length;x++)ud(f[x]);for(var b=0;b<f.length;b++)MA(f[b]);for(var E=0;E<f.length;E++)Wh(f[E]);for(var U=0;U<f.length;U++)Fe(f[U]);for(var $=0;$<f.length;$++)tc(f[$])}function ud(A){var f=A.cm,x=f.display;cd(f),A.updateMaxLine&&Ga(f),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<x.viewFrom||A.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&f.options.lineWrapping,A.update=A.mustUpdate&&new au(f,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function MA(A){A.updatedDisplay=A.mustUpdate&&dd(A.cm,A.update)}function Wh(A){var f=A.cm,x=f.display;A.updatedDisplay&&Xu(f),A.barMeasure=ec(f),x.maxLineChanged&&!f.options.lineWrapping&&(A.adjustWidthTo=Bc(f,x.maxLine,x.maxLine.text.length).left+3,f.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+A.adjustWidthTo+Su(f)+f.display.barWidth),A.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+A.adjustWidthTo-_A(f))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=x.input.prepareSelection())}function Fe(A){var f=A.cm;A.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<f.doc.scrollLeft&&Aa(f,Math.min(f.display.scroller.scrollLeft,A.maxScrollLeft),!0),f.display.maxLineChanged=!1);var x=A.focus&&A.focus==mt(Ht(f));A.preparedSelection&&f.display.input.showSelection(A.preparedSelection,x),(A.updatedDisplay||A.startHeight!=f.doc.height)&&cl(f,A.barMeasure),A.updatedDisplay&&Nh(f,A.barMeasure),A.selectionChanged&&Vu(f),f.state.focused&&A.updateInput&&f.display.input.reset(A.typing),x&&Zu(A.cm)}function tc(A){var f=A.cm,x=f.display,b=f.doc;if(A.updatedDisplay&&ic(f,A.update),x.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),A.scrollTop!=null&&JA(f,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&Aa(f,A.scrollLeft,!0,!0),A.scrollToPos){var E=Vf(f,Fr(b,A.scrollToPos.from),Fr(b,A.scrollToPos.to),A.scrollToPos.margin);ld(f,E)}var U=A.maybeHiddenMarkers,$=A.maybeUnhiddenMarkers;if(U)for(var ne=0;ne<U.length;++ne)U[ne].lines.length||Pe(U[ne],"hide");if($)for(var le=0;le<$.length;++le)$[le].lines.length&&Pe($[le],"unhide");x.wrapper.offsetHeight&&(b.scrollTop=f.display.scroller.scrollTop),A.changeObjs&&Pe(f,"changes",f,A.changeObjs),A.update&&A.update.finish()}function ls(A,f){if(A.curOp)return f();tA(A);try{return f()}finally{wl(A)}}function Qi(A,f){return function(){if(A.curOp)return f.apply(A,arguments);tA(A);try{return f.apply(A,arguments)}finally{wl(A)}}}function Yr(A){return function(){if(this.curOp)return A.apply(this,arguments);tA(this);try{return A.apply(this,arguments)}finally{wl(this)}}}function ya(A){return function(){var f=this.cm;if(!f||f.curOp)return A.apply(this,arguments);tA(f);try{return A.apply(this,arguments)}finally{wl(f)}}}function nc(A,f){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(f,$t(Ad,A))}function Ad(A){var f=A.doc;if(!(f.highlightFrontier>=A.display.viewTo)){var x=+new Date+A.options.workTime,b=ea(A,f.highlightFrontier),E=[];f.iter(b.line,Math.min(f.first+f.size,A.display.viewTo+500),function(U){if(b.line>=A.display.viewFrom){var $=U.styles,ne=U.text.length>A.options.maxHighlightLength?Ba(f.mode,b.state):null,le=Cu(A,U,b,!0);ne&&(b.state=ne),U.styles=le.styles;var me=U.styleClasses,Qe=le.classes;Qe?U.styleClasses=Qe:me&&(U.styleClasses=null);for(var nt=!$||$.length!=U.styles.length||me!=Qe&&(!me||!Qe||me.bgClass!=Qe.bgClass||me.textClass!=Qe.textClass),Ot=0;!nt&&Ot<$.length;++Ot)nt=$[Ot]!=U.styles[Ot];nt&&E.push(b.line),U.stateAfter=b.save(),b.nextLine()}else U.text.length<=A.options.maxHighlightLength&&ta(A,U.text,b),U.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>x)return nc(A,A.options.workDelay),!0}),f.highlightFrontier=b.line,f.modeFrontier=Math.max(f.modeFrontier,b.line),E.length&&ls(A,function(){for(var U=0;U<E.length;U++)Al(A,E[U],"text")})}}var au=function(A,f,x){var b=A.display;this.viewport=f,this.visible=Ju(b,A.doc,f),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=_A(A),this.force=x,this.dims=ss(A),this.events=[]};au.prototype.signal=function(A,f){ke(A,f)&&this.events.push(arguments)},au.prototype.finish=function(){for(var A=0;A<this.events.length;A++)Pe.apply(null,this.events[A])};function cd(A){var f=A.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=Su(A)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=Su(A)+"px",f.scrollbarsClipped=!0)}function rc(A){if(A.hasFocus())return null;var f=mt(Ht(A));if(!f||!dt(A.display.lineDiv,f))return null;var x={activeElt:f};if(window.getSelection){var b=Qt(A).getSelection();b.anchorNode&&b.extend&&dt(A.display.lineDiv,b.anchorNode)&&(x.anchorNode=b.anchorNode,x.anchorOffset=b.anchorOffset,x.focusNode=b.focusNode,x.focusOffset=b.focusOffset)}return x}function ep(A){if(!(!A||!A.activeElt||A.activeElt==mt(Ct(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&dt(document.body,A.anchorNode)&&dt(document.body,A.focusNode))){var f=A.activeElt.ownerDocument,x=f.defaultView.getSelection(),b=f.createRange();b.setEnd(A.anchorNode,A.anchorOffset),b.collapse(!1),x.removeAllRanges(),x.addRange(b),x.extend(A.focusNode,A.focusOffset)}}function dd(A,f){var x=A.display,b=A.doc;if(f.editorIsHidden)return Gn(A),!1;if(!f.force&&f.visible.from>=x.viewFrom&&f.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&VA(A)==0)return!1;u(A)&&(Gn(A),f.dims=ss(A));var E=b.first+b.size,U=Math.max(f.visible.from-A.options.viewportMargin,b.first),$=Math.min(E,f.visible.to+A.options.viewportMargin);x.viewFrom<U&&U-x.viewFrom<20&&(U=Math.max(b.first,x.viewFrom)),x.viewTo>$&&x.viewTo-$<20&&($=Math.min(E,x.viewTo)),bs&&(U=po(A.doc,U),$=Si(A.doc,$));var ne=U!=x.viewFrom||$!=x.viewTo||x.lastWrapHeight!=f.wrapperHeight||x.lastWrapWidth!=f.wrapperWidth;Yu(A,U,$),x.viewOffset=Bo(Wn(A.doc,x.viewFrom)),A.display.mover.style.top=x.viewOffset+"px";var le=VA(A);if(!ne&&le==0&&!f.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var me=rc(A);return le>4&&(x.lineDiv.style.display="none"),tp(A,x.updateLineNumbers,f.dims),le>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,ep(me),he(x.cursorDiv),he(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,ne&&(x.lastWrapHeight=f.wrapperHeight,x.lastWrapWidth=f.wrapperWidth,nc(A,400)),x.updateLineNumbers=null,!0}function ic(A,f){for(var x=f.viewport,b=!0;;b=!1){if(!b||!A.options.lineWrapping||f.oldDisplayWidth==_A(A)){if(x&&x.top!=null&&(x={top:Math.min(A.doc.height+Lh(A.display)-YA(A),x.top)}),f.visible=Ju(A.display,A.doc,x),f.visible.from>=A.display.viewFrom&&f.visible.to<=A.display.viewTo)break}else b&&(f.visible=Ju(A.display,A.doc,x));if(!dd(A,f))break;Xu(A);var E=ec(A);qu(A),cl(A,E),Nh(A,E),f.force=!1}f.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(f.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function zl(A,f){var x=new au(A,f);if(dd(A,x)){Xu(A),ic(A,x);var b=ec(A);qu(A),cl(A,b),Nh(A,b),x.finish()}}function tp(A,f,x){var b=A.display,E=A.options.lineNumbers,U=b.lineDiv,$=U.firstChild;function ne(Wt){var cn=Wt.nextSibling;return _&&ye&&A.display.currentWheelTarget==Wt?Wt.style.display="none":Wt.parentNode.removeChild(Wt),cn}for(var le=b.view,me=b.viewFrom,Qe=0;Qe<le.length;Qe++){var nt=le[Qe];if(!nt.hidden)if(!nt.node||nt.node.parentNode!=U){var Ot=Do(A,nt,me,x);U.insertBefore(Ot,$)}else{for(;$!=nt.node;)$=ne($);var yt=E&&f!=null&&f<=me&&nt.lineNumber;nt.changes&&(Re(nt.changes,"gutter")>-1&&(yt=!1),Fh(A,nt,me,x)),yt&&(he(nt.lineNumber),nt.lineNumber.appendChild(document.createTextNode(sn(A.options,me)))),$=nt.node.nextSibling}me+=nt.size}for(;$;)$=ne($)}function Zd(A){var f=A.gutters.offsetWidth;A.sizer.style.marginLeft=f+"px",ko(A,"gutterChanged",A)}function Nh(A,f){A.display.sizer.style.minHeight=f.docHeight+"px",A.display.heightForcer.style.top=f.docHeight+"px",A.display.gutters.style.height=f.docHeight+A.display.barHeight+Su(A)+"px"}function O(A){var f=A.display,x=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!A.options.fixedGutter))){for(var b=Vi(f)-f.scroller.scrollLeft+A.doc.scrollLeft,E=f.gutters.offsetWidth,U=b+"px",$=0;$<x.length;$++)if(!x[$].hidden){A.options.fixedGutter&&(x[$].gutter&&(x[$].gutter.style.left=U),x[$].gutterBackground&&(x[$].gutterBackground.style.left=U));var ne=x[$].alignable;if(ne)for(var le=0;le<ne.length;le++)ne[le].style.left=U}A.options.fixedGutter&&(f.gutters.style.left=b+E+"px")}}function u(A){if(!A.options.lineNumbers)return!1;var f=A.doc,x=sn(A.options,f.first+f.size-1),b=A.display;if(x.length!=b.lineNumChars){var E=b.measure.appendChild(ge("div",[ge("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),U=E.firstChild.offsetWidth,$=E.offsetWidth-U;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(U,b.lineGutter.offsetWidth-$)+1,b.lineNumWidth=b.lineNumInnerWidth+$,b.lineNumChars=b.lineNumInnerWidth?x.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",Zd(A.display),!0}return!1}function p(A,f){for(var x=[],b=!1,E=0;E<A.length;E++){var U=A[E],$=null;if(typeof U!="string"&&($=U.style,U=U.className),U=="CodeMirror-linenumbers")if(f)b=!0;else continue;x.push({className:U,style:$})}return f&&!b&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function C(A){var f=A.gutters,x=A.gutterSpecs;he(f),A.lineGutter=null;for(var b=0;b<x.length;++b){var E=x[b],U=E.className,$=E.style,ne=f.appendChild(ge("div",null,"CodeMirror-gutter "+U));$&&(ne.style.cssText=$),U=="CodeMirror-linenumbers"&&(A.lineGutter=ne,ne.style.width=(A.lineNumWidth||1)+"px")}f.style.display=x.length?"":"none",Zd(A)}function w(A){C(A.display),ga(A),O(A)}function I(A,f,x,b){var E=this;this.input=x,E.scrollbarFiller=ge("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=ge("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=_t("div",null,"CodeMirror-code"),E.selectionDiv=ge("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=ge("div",null,"CodeMirror-cursors"),E.measure=ge("div",null,"CodeMirror-measure"),E.lineMeasure=ge("div",null,"CodeMirror-measure"),E.lineSpace=_t("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var U=_t("div",[E.lineSpace],"CodeMirror-lines");E.mover=ge("div",[U],null,"position: relative"),E.sizer=ge("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=ge("div",null,null,"position: absolute; height: "+it+"px; width: 1px;"),E.gutters=ge("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=ge("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=ge("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),k&&P>=105&&(E.wrapper.style.clipPath="inset(0px)"),E.wrapper.setAttribute("translate","no"),h&&g<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),!_&&!(i&&ue)&&(E.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(E.wrapper):A(E.wrapper)),E.viewFrom=E.viewTo=f.first,E.reportedViewFrom=E.reportedViewTo=f.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=p(b.gutters,b.lineNumbers),C(E),x.init(E)}var R=0,j=null;h?j=-.53:i?j=15:k?j=-.7:q&&(j=-1/3);function Q(A){var f=A.wheelDeltaX,x=A.wheelDeltaY;return f==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(f=A.detail),x==null&&A.detail&&A.axis==A.VERTICAL_AXIS?x=A.detail:x==null&&(x=A.wheelDelta),{x:f,y:x}}function ie(A){var f=Q(A);return f.x*=j,f.y*=j,f}function de(A,f){k&&P==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var x=Q(f),b=x.x,E=x.y,U=j;f.deltaMode===0&&(b=f.deltaX,E=f.deltaY,U=1);var $=A.display,ne=$.scroller,le=ne.scrollWidth>ne.clientWidth,me=ne.scrollHeight>ne.clientHeight;if(b&&le||E&&me){if(E&&ye&&_){e:for(var Qe=f.target,nt=$.view;Qe!=ne;Qe=Qe.parentNode)for(var Ot=0;Ot<nt.length;Ot++)if(nt[Ot].node==Qe){A.display.currentWheelTarget=Qe;break e}}if(b&&!i&&!F&&U!=null){E&&me&&Kc(A,Math.max(0,ne.scrollTop+E*U)),Aa(A,Math.max(0,ne.scrollLeft+b*U)),(!E||E&&me)&&rt(f),$.wheelStartX=null;return}if(E&&U!=null){var yt=E*U,Wt=A.doc.scrollTop,cn=Wt+$.wrapper.clientHeight;yt<0?Wt=Math.max(0,Wt+yt-50):cn=Math.min(A.doc.height,cn+yt+50),zl(A,{top:Wt,bottom:cn})}R<20&&f.deltaMode!==0&&($.wheelStartX==null?($.wheelStartX=ne.scrollLeft,$.wheelStartY=ne.scrollTop,$.wheelDX=b,$.wheelDY=E,setTimeout(function(){if($.wheelStartX!=null){var In=ne.scrollLeft-$.wheelStartX,Yn=ne.scrollTop-$.wheelStartY,bn=Yn&&$.wheelDY&&Yn/$.wheelDY||In&&$.wheelDX&&In/$.wheelDX;$.wheelStartX=$.wheelStartY=null,bn&&(j=(j*R+bn)/(R+1),++R)}},200)):($.wheelDX+=b,$.wheelDY+=E))}}var fe=function(A,f){this.ranges=A,this.primIndex=f};fe.prototype.primary=function(){return this.ranges[this.primIndex]},fe.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var x=this.ranges[f],b=A.ranges[f];if(!dr(x.anchor,b.anchor)||!dr(x.head,b.head))return!1}return!0},fe.prototype.deepCopy=function(){for(var A=[],f=0;f<this.ranges.length;f++)A[f]=new Oe(ri(this.ranges[f].anchor),ri(this.ranges[f].head));return new fe(A,this.primIndex)},fe.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},fe.prototype.contains=function(A,f){f||(f=A);for(var x=0;x<this.ranges.length;x++){var b=this.ranges[x];if(wn(f,b.from())>=0&&wn(A,b.to())<=0)return x}return-1};var Oe=function(A,f){this.anchor=A,this.head=f};Oe.prototype.from=function(){return Xo(this.anchor,this.head)},Oe.prototype.to=function(){return si(this.anchor,this.head)},Oe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ye(A,f,x){var b=A&&A.options.selectionsMayTouch,E=f[x];f.sort(function(Ot,yt){return wn(Ot.from(),yt.from())}),x=Re(f,E);for(var U=1;U<f.length;U++){var $=f[U],ne=f[U-1],le=wn(ne.to(),$.from());if(b&&!$.empty()?le>0:le>=0){var me=Xo(ne.from(),$.from()),Qe=si(ne.to(),$.to()),nt=ne.empty()?$.from()==$.head:ne.from()==ne.head;U<=x&&--x,f.splice(--U,2,new Oe(nt?Qe:me,nt?me:Qe))}}return new fe(f,x)}function $e(A,f){return new fe([new Oe(A,f||A)],0)}function He(A){return A.text?Lt(A.from.line+A.text.length-1,yn(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function We(A,f){if(wn(A,f.from)<0)return A;if(wn(A,f.to)<=0)return He(f);var x=A.line+f.text.length-(f.to.line-f.from.line)-1,b=A.ch;return A.line==f.to.line&&(b+=He(f).ch-f.to.ch),Lt(x,b)}function ht(A,f){for(var x=[],b=0;b<A.sel.ranges.length;b++){var E=A.sel.ranges[b];x.push(new Oe(We(E.anchor,f),We(E.head,f)))}return Ye(A.cm,x,A.sel.primIndex)}function Ft(A,f,x){return A.line==f.line?Lt(x.line,A.ch-f.ch+x.ch):Lt(x.line+(A.line-f.line),A.ch)}function tt(A,f,x){for(var b=[],E=Lt(A.first,0),U=E,$=0;$<f.length;$++){var ne=f[$],le=Ft(ne.from,E,U),me=Ft(He(ne),E,U);if(E=ne.to,U=me,x=="around"){var Qe=A.sel.ranges[$],nt=wn(Qe.head,Qe.anchor)<0;b[$]=new Oe(nt?me:le,nt?le:me)}else b[$]=new Oe(le,le)}return new fe(b,A.sel.primIndex)}function bt(A){A.doc.mode=ai(A.options,A.doc.modeOption),Pt(A)}function Pt(A){A.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,nc(A,100),A.state.modeGen++,A.curOp&&ga(A)}function Ut(A,f){return f.from.ch==0&&f.to.ch==0&&yn(f.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function Zt(A,f,x,b){function E(bn){return x?x[bn]:null}function U(bn,Ln,ar){tu(bn,Ln,ar,b),ko(bn,"change",bn,f)}function $(bn,Ln){for(var ar=[],Tr=bn;Tr<Ln;++Tr)ar.push(new Pl(me[Tr],E(Tr),b));return ar}var ne=f.from,le=f.to,me=f.text,Qe=Wn(A,ne.line),nt=Wn(A,le.line),Ot=yn(me),yt=E(me.length-1),Wt=le.line-ne.line;if(f.full)A.insert(0,$(0,me.length)),A.remove(me.length,A.size-me.length);else if(Ut(A,f)){var cn=$(0,me.length-1);U(nt,nt.text,yt),Wt&&A.remove(ne.line,Wt),cn.length&&A.insert(ne.line,cn)}else if(Qe==nt)if(me.length==1)U(Qe,Qe.text.slice(0,ne.ch)+Ot+Qe.text.slice(le.ch),yt);else{var In=$(1,me.length-1);In.push(new Pl(Ot+Qe.text.slice(le.ch),yt,b)),U(Qe,Qe.text.slice(0,ne.ch)+me[0],E(0)),A.insert(ne.line+1,In)}else if(me.length==1)U(Qe,Qe.text.slice(0,ne.ch)+me[0]+nt.text.slice(le.ch),E(0)),A.remove(ne.line+1,Wt);else{U(Qe,Qe.text.slice(0,ne.ch)+me[0],E(0)),U(nt,Ot+nt.text.slice(le.ch),yt);var Yn=$(1,me.length-1);Wt>1&&A.remove(ne.line+1,Wt-1),A.insert(ne.line+1,Yn)}ko(A,"change",A,f)}function dn(A,f,x){function b(E,U,$){if(E.linked)for(var ne=0;ne<E.linked.length;++ne){var le=E.linked[ne];if(le.doc!=U){var me=$&&le.sharedHist;x&&!me||(f(le.doc,me),b(le.doc,E,me))}}}b(A,null,!0)}function un(A,f){if(f.cm)throw new Error("This document is already in use.");A.doc=f,f.cm=A,Rh(A),bt(A),pn(A),A.options.direction=f.direction,A.options.lineWrapping||Ga(A),A.options.mode=f.modeOption,ga(A)}function pn(A){(A.doc.direction=="rtl"?je:Le)(A.display.lineDiv,"CodeMirror-rtl")}function $n(A){ls(A,function(){pn(A),ga(A)})}function qr(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function kn(A,f){var x={from:ri(f.from),to:He(f),text:ro(A,f.from,f.to)};return Ho(A,x,f.from.line,f.to.line+1),dn(A,function(b){return Ho(b,x,f.from.line,f.to.line+1)},!0),x}function vr(A){for(;A.length;){var f=yn(A);if(f.ranges)A.pop();else break}}function di(A,f){if(f)return vr(A.done),yn(A.done);if(A.done.length&&!yn(A.done).ranges)return yn(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),yn(A.done)}function Ti(A,f,x,b){var E=A.history;E.undone.length=0;var U=+new Date,$,ne;if((E.lastOp==b||E.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&E.lastModTime>U-(A.cm?A.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&($=di(E,E.lastOp==b)))ne=yn($.changes),wn(f.from,f.to)==0&&wn(f.from,ne.to)==0?ne.to=He(f):$.changes.push(kn(A,f));else{var le=yn(E.done);for((!le||!le.ranges)&&Nr(A.sel,E.done),$={changes:[kn(A,f)],generation:E.generation},E.done.push($);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(x),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=U,E.lastOp=E.lastSelOp=b,E.lastOrigin=E.lastSelOrigin=f.origin,ne||Pe(A,"historyAdded")}function Hr(A,f,x,b){var E=f.charAt(0);return E=="*"||E=="+"&&x.ranges.length==b.ranges.length&&x.somethingSelected()==b.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function ei(A,f,x,b){var E=A.history,U=b&&b.origin;x==E.lastSelOp||U&&E.lastSelOrigin==U&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==U||Hr(A,U,yn(E.done),f))?E.done[E.done.length-1]=f:Nr(f,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=U,E.lastSelOp=x,b&&b.clearRedo!==!1&&vr(E.undone)}function Nr(A,f){var x=yn(f);x&&x.ranges&&x.equals(A)||f.push(A)}function Ho(A,f,x,b){var E=f["spans_"+A.id],U=0;A.iter(Math.max(A.first,x),Math.min(A.first+A.size,b),function($){$.markedSpans&&((E||(E=f["spans_"+A.id]={}))[U]=$.markedSpans),++U})}function Lo(A){if(!A)return null;for(var f,x=0;x<A.length;++x)A[x].marker.explicitlyCleared?f||(f=A.slice(0,x)):f&&f.push(A[x]);return f?f.length?f:null:A}function Us(A,f){var x=f["spans_"+A.id];if(!x)return null;for(var b=[],E=0;E<f.text.length;++E)b.push(Lo(x[E]));return b}function Pa(A,f){var x=Us(A,f),b=sa(A,f);if(!x)return b;if(!b)return x;for(var E=0;E<x.length;++E){var U=x[E],$=b[E];if(U&&$)e:for(var ne=0;ne<$.length;++ne){for(var le=$[ne],me=0;me<U.length;++me)if(U[me].marker==le.marker)continue e;U.push(le)}else $&&(x[E]=$)}return x}function mo(A,f,x){for(var b=[],E=0;E<A.length;++E){var U=A[E];if(U.ranges){b.push(x?fe.prototype.deepCopy.call(U):U);continue}var $=U.changes,ne=[];b.push({changes:ne});for(var le=0;le<$.length;++le){var me=$[le],Qe=void 0;if(ne.push({from:me.from,to:me.to,text:me.text}),f)for(var nt in me)(Qe=nt.match(/^spans_(\d+)$/))&&Re(f,Number(Qe[1]))>-1&&(yn(ne)[nt]=me[nt],delete me[nt])}}return b}function so(A,f,x,b){if(b){var E=A.anchor;if(x){var U=wn(f,E)<0;U!=wn(x,E)<0?(E=f,f=x):U!=wn(f,x)<0&&(f=x)}return new Oe(E,f)}else return new Oe(x||f,f)}function Zs(A,f,x,b,E){E==null&&(E=A.cm&&(A.cm.display.shift||A.extend)),Ri(A,new fe([so(A.sel.primary(),f,x,E)],0),b)}function su(A,f,x){for(var b=[],E=A.cm&&(A.cm.display.shift||A.extend),U=0;U<A.sel.ranges.length;U++)b[U]=so(A.sel.ranges[U],f[U],null,E);var $=Ye(A.cm,b,A.sel.primIndex);Ri(A,$,x)}function ws(A,f,x,b){var E=A.sel.ranges.slice(0);E[f]=x,Ri(A,Ye(A.cm,E,A.sel.primIndex),b)}function nA(A,f,x,b){Ri(A,$e(f,x),b)}function jl(A,f,x){var b={ranges:f.ranges,update:function(E){this.ranges=[];for(var U=0;U<E.length;U++)this.ranges[U]=new Oe(Fr(A,E[U].anchor),Fr(A,E[U].head))},origin:x&&x.origin};return Pe(A,"beforeSelectionChange",A,b),A.cm&&Pe(A.cm,"beforeSelectionChange",A.cm,b),b.ranges!=f.ranges?Ye(A.cm,b.ranges,b.ranges.length-1):f}function Ms(A,f,x){var b=A.history.done,E=yn(b);E&&E.ranges?(b[b.length-1]=f,Ei(A,f,x)):Ri(A,f,x)}function Ri(A,f,x){Ei(A,f,x),ei(A,A.sel,A.cm?A.cm.curOp.id:NaN,x)}function Ei(A,f,x){(ke(A,"beforeSelectionChange")||A.cm&&ke(A.cm,"beforeSelectionChange"))&&(f=jl(A,f,x));var b=x&&x.bias||(wn(f.primary().head,A.sel.primary().head)<0?-1:1);ra(A,Vo(A,f,b,!0)),!(x&&x.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&ao(A.cm)}function ra(A,f){f.equals(A.sel)||(A.sel=f,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,Ce(A.cm)),ko(A,"cursorActivity",A))}function Pc(A){ra(A,Vo(A,A.sel,null,!1))}function Vo(A,f,x,b){for(var E,U=0;U<f.ranges.length;U++){var $=f.ranges[U],ne=f.ranges.length==A.sel.ranges.length&&A.sel.ranges[U],le=Ss(A,$.anchor,ne&&ne.anchor,x,b),me=$.head==$.anchor?le:Ss(A,$.head,ne&&ne.head,x,b);(E||le!=$.anchor||me!=$.head)&&(E||(E=f.ranges.slice(0,U)),E[U]=new Oe(le,me))}return E?Ye(A.cm,E,f.primIndex):f}function va(A,f,x,b,E){var U=Wn(A,f.line);if(U.markedSpans)for(var $=0;$<U.markedSpans.length;++$){var ne=U.markedSpans[$],le=ne.marker,me="selectLeft"in le?!le.selectLeft:le.inclusiveLeft,Qe="selectRight"in le?!le.selectRight:le.inclusiveRight;if((ne.from==null||(me?ne.from<=f.ch:ne.from<f.ch))&&(ne.to==null||(Qe?ne.to>=f.ch:ne.to>f.ch))){if(E&&(Pe(le,"beforeCursorEnter"),le.explicitlyCleared))if(U.markedSpans){--$;continue}else break;if(!le.atomic)continue;if(x){var nt=le.find(b<0?1:-1),Ot=void 0;if((b<0?Qe:me)&&(nt=Ki(A,nt,-b,nt&&nt.line==f.line?U:null)),nt&&nt.line==f.line&&(Ot=wn(nt,x))&&(b<0?Ot<0:Ot>0))return va(A,nt,f,b,E)}var yt=le.find(b<0?-1:1);return(b<0?me:Qe)&&(yt=Ki(A,yt,b,yt.line==f.line?U:null)),yt?va(A,yt,f,b,E):null}}return f}function Ss(A,f,x,b,E){var U=b||1,$=va(A,f,x,U,E)||!E&&va(A,f,x,U,!0)||va(A,f,x,-U,E)||!E&&va(A,f,x,-U,!0);return $||(A.cantEdit=!0,Lt(A.first,0))}function Ki(A,f,x,b){return x<0&&f.ch==0?f.line>A.first?Fr(A,Lt(f.line-1)):null:x>0&&f.ch==(b||Wn(A,f.line)).text.length?f.line<A.first+A.size-1?Lt(f.line+1,0):null:new Lt(f.line,f.ch+x)}function oc(A){A.setSelection(Lt(A.firstLine(),0),Lt(A.lastLine()),St)}function Gh(A,f,x){var b={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return b.canceled=!0}};return x&&(b.update=function(E,U,$,ne){E&&(b.from=Fr(A,E)),U&&(b.to=Fr(A,U)),$&&(b.text=$),ne!==void 0&&(b.origin=ne)}),Pe(A,"beforeChange",A,b),A.cm&&Pe(A.cm,"beforeChange",A.cm,b),b.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function lu(A,f,x){if(A.cm){if(!A.cm.curOp)return Qi(A.cm,lu)(A,f,x);if(A.cm.state.suppressEdits)return}if(!((ke(A,"beforeChange")||A.cm&&ke(A.cm,"beforeChange"))&&(f=Gh(A,f,!0),!f))){var b=Wo&&!x&&vA(A,f.from,f.to);if(b)for(var E=b.length-1;E>=0;--E)ac(A,{from:b[E].from,to:b[E].to,text:E?[""]:f.text,origin:f.origin});else ac(A,f)}}function ac(A,f){if(!(f.text.length==1&&f.text[0]==""&&wn(f.from,f.to)==0)){var x=ht(A,f);Ti(A,f,x,A.cm?A.cm.curOp.id:NaN),ku(A,f,x,sa(A,f));var b=[];dn(A,function(E,U){!U&&Re(b,E.history)==-1&&(rp(E.history,f),b.push(E.history)),ku(E,f,null,sa(E,f))})}}function Bu(A,f,x){var b=A.cm&&A.cm.state.suppressEdits;if(!(b&&!x)){for(var E=A.history,U,$=A.sel,ne=f=="undo"?E.done:E.undone,le=f=="undo"?E.undone:E.done,me=0;me<ne.length&&(U=ne[me],!(x?U.ranges&&!U.equals(A.sel):!U.ranges));me++);if(me!=ne.length){for(E.lastOrigin=E.lastSelOrigin=null;;)if(U=ne.pop(),U.ranges){if(Nr(U,le),x&&!U.equals(A.sel)){Ri(A,U,{clearRedo:!1});return}$=U}else if(b){ne.push(U);return}else break;var Qe=[];Nr($,le),le.push({changes:Qe,generation:E.generation}),E.generation=U.generation||++E.maxGeneration;for(var nt=ke(A,"beforeChange")||A.cm&&ke(A.cm,"beforeChange"),Ot=function(cn){var In=U.changes[cn];if(In.origin=f,nt&&!Gh(A,In,!1))return ne.length=0,{};Qe.push(kn(A,In));var Yn=cn?ht(A,In):yn(ne);ku(A,In,Yn,Pa(A,In)),!cn&&A.cm&&A.cm.scrollIntoView({from:In.from,to:He(In)});var bn=[];dn(A,function(Ln,ar){!ar&&Re(bn,Ln.history)==-1&&(rp(Ln.history,In),bn.push(Ln.history)),ku(Ln,In,null,Pa(Ln,In))})},yt=U.changes.length-1;yt>=0;--yt){var Wt=Ot(yt);if(Wt)return Wt.v}}}}function Qh(A,f){if(f!=0&&(A.first+=f,A.sel=new fe(er(A.sel.ranges,function(E){return new Oe(Lt(E.anchor.line+f,E.anchor.ch),Lt(E.head.line+f,E.head.ch))}),A.sel.primIndex),A.cm)){ga(A.cm,A.first,A.first-f,f);for(var x=A.cm.display,b=x.viewFrom;b<x.viewTo;b++)Al(A.cm,b,"gutter")}}function ku(A,f,x,b){if(A.cm&&!A.cm.curOp)return Qi(A.cm,ku)(A,f,x,b);if(f.to.line<A.first){Qh(A,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>A.lastLine())){if(f.from.line<A.first){var E=f.text.length-1-(A.first-f.from.line);Qh(A,E),f={from:Lt(A.first,0),to:Lt(f.to.line+E,f.to.ch),text:[yn(f.text)],origin:f.origin}}var U=A.lastLine();f.to.line>U&&(f={from:f.from,to:Lt(U,Wn(A,U).text.length),text:[f.text[0]],origin:f.origin}),f.removed=ro(A,f.from,f.to),x||(x=ht(A,f)),A.cm?$h(A.cm,f,b):Zt(A,f,b),Ei(A,x,St),A.cantEdit&&Ss(A,Lt(A.firstLine(),0))&&(A.cantEdit=!1)}}function $h(A,f,x){var b=A.doc,E=A.display,U=f.from,$=f.to,ne=!1,le=U.line;A.options.lineWrapping||(le=ve(yr(Wn(b,U.line))),b.iter(le,$.line+1,function(yt){if(yt==E.maxLine)return ne=!0,!0})),b.sel.contains(f.from,f.to)>-1&&Ce(A),Zt(b,f,x,Uh(A)),A.options.lineWrapping||(b.iter(le,U.line+f.text.length,function(yt){var Wt=xo(yt);Wt>E.maxLineLength&&(E.maxLine=yt,E.maxLineLength=Wt,E.maxLineChanged=!0,ne=!1)}),ne&&(A.curOp.updateMaxLine=!0)),Wu(b,U.line),nc(A,400);var me=f.text.length-($.line-U.line)-1;f.full?ga(A):U.line==$.line&&f.text.length==1&&!Ut(A.doc,f)?Al(A,U.line,"text"):ga(A,U.line,$.line+1,me);var Qe=ke(A,"changes"),nt=ke(A,"change");if(nt||Qe){var Ot={from:U,to:$,text:f.text,removed:f.removed,origin:f.origin};nt&&ko(A,"change",A,Ot),Qe&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(Ot)}A.display.selForContextMenu=null}function SA(A,f,x,b,E){var U;b||(b=x),wn(b,x)<0&&(U=[b,x],x=U[0],b=U[1]),typeof f=="string"&&(f=A.splitLines(f)),lu(A,{from:x,to:b,text:f,origin:E})}function np(A,f,x,b){x<A.line?A.line+=b:f<A.line&&(A.line=f,A.ch=0)}function hd(A,f,x,b){for(var E=0;E<A.length;++E){var U=A[E],$=!0;if(U.ranges){U.copied||(U=A[E]=U.deepCopy(),U.copied=!0);for(var ne=0;ne<U.ranges.length;ne++)np(U.ranges[ne].anchor,f,x,b),np(U.ranges[ne].head,f,x,b);continue}for(var le=0;le<U.changes.length;++le){var me=U.changes[le];if(x<me.from.line)me.from=Lt(me.from.line+b,me.from.ch),me.to=Lt(me.to.line+b,me.to.ch);else if(f<=me.to.line){$=!1;break}}$||(A.splice(0,E+1),E=0)}}function rp(A,f){var x=f.from.line,b=f.to.line,E=f.text.length-(b-x)-1;hd(A.done,x,b,E),hd(A.undone,x,b,E)}function rA(A,f,x,b){var E=f,U=f;return typeof f=="number"?U=Wn(A,Ta(A,f)):E=ve(f),E==null?null:(b(U,E)&&A.cm&&Al(A.cm,E,x),U)}function fd(A){this.lines=A,this.parent=null;for(var f=0,x=0;x<A.length;++x)A[x].parent=this,f+=A[x].height;this.height=f}fd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,f){for(var x=A,b=A+f;x<b;++x){var E=this.lines[x];this.height-=E.height,pa(E),ko(E,"delete")}this.lines.splice(A,f)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,f,x){this.height+=x,this.lines=this.lines.slice(0,A).concat(f).concat(this.lines.slice(A));for(var b=0;b<f.length;++b)f[b].parent=this},iterN:function(A,f,x){for(var b=A+f;A<b;++A)if(x(this.lines[A]))return!0}};function Yh(A){this.children=A;for(var f=0,x=0,b=0;b<A.length;++b){var E=A[b];f+=E.chunkSize(),x+=E.height,E.parent=this}this.size=f,this.height=x,this.parent=null}Yh.prototype={chunkSize:function(){return this.size},removeInner:function(A,f){this.size-=f;for(var x=0;x<this.children.length;++x){var b=this.children[x],E=b.chunkSize();if(A<E){var U=Math.min(f,E-A),$=b.height;if(b.removeInner(A,U),this.height-=$-b.height,E==U&&(this.children.splice(x--,1),b.parent=null),(f-=U)==0)break;A=0}else A-=E}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof fd))){var ne=[];this.collapse(ne),this.children=[new fd(ne)],this.children[0].parent=this}},collapse:function(A){for(var f=0;f<this.children.length;++f)this.children[f].collapse(A)},insertInner:function(A,f,x){this.size+=f.length,this.height+=x;for(var b=0;b<this.children.length;++b){var E=this.children[b],U=E.chunkSize();if(A<=U){if(E.insertInner(A,f,x),E.lines&&E.lines.length>50){for(var $=E.lines.length%25+25,ne=$;ne<E.lines.length;){var le=new fd(E.lines.slice(ne,ne+=25));E.height-=le.height,this.children.splice(++b,0,le),le.parent=this}E.lines=E.lines.slice(0,$),this.maybeSpill()}break}A-=U}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var f=A.children.splice(A.children.length-5,5),x=new Yh(f);if(A.parent){A.size-=x.size,A.height-=x.height;var E=Re(A.parent.children,A);A.parent.children.splice(E+1,0,x)}else{var b=new Yh(A.children);b.parent=A,A.children=[b,x],A=b}x.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,f,x){for(var b=0;b<this.children.length;++b){var E=this.children[b],U=E.chunkSize();if(A<U){var $=Math.min(f,U-A);if(E.iterN(A,$,x))return!0;if((f-=$)==0)break;A=0}else A-=U}}};var iA=function(A,f,x){if(x)for(var b in x)x.hasOwnProperty(b)&&(this[b]=x[b]);this.doc=A,this.node=f};iA.prototype.clear=function(){var A=this.doc.cm,f=this.line.widgets,x=this.line,b=ve(x);if(!(b==null||!f)){for(var E=0;E<f.length;++E)f[E]==this&&f.splice(E--,1);f.length||(x.widgets=null);var U=ru(this);Ui(x,Math.max(0,x.height-U)),A&&(ls(A,function(){g0(A,x,-U),Al(A,b,"widget")}),ko(A,"lineWidgetCleared",A,this,b))}},iA.prototype.changed=function(){var A=this,f=this.height,x=this.doc.cm,b=this.line;this.height=null;var E=ru(this)-f;E&&(Zr(this.doc,b)||Ui(b,b.height+E),x&&ls(x,function(){x.curOp.forceUpdate=!0,g0(x,b,E),ko(x,"lineWidgetChanged",x,A,ve(b))}))},ze(iA);function g0(A,f,x){Bo(f)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&Zf(A,x)}function qh(A,f,x,b){var E=new iA(A,x,b),U=A.cm;return U&&E.noHScroll&&(U.display.alignWidgets=!0),rA(A,f,"widget",function($){var ne=$.widgets||($.widgets=[]);if(E.insertAt==null?ne.push(E):ne.splice(Math.min(ne.length,Math.max(0,E.insertAt)),0,E),E.line=$,U&&!Zr(A,$)){var le=Bo($)<A.scrollTop;Ui($,$.height+ru(E)),le&&Zf(U,E.height),U.curOp.forceUpdate=!0}return!0}),U&&ko(U,"lineWidgetAdded",U,E,typeof f=="number"?f:ve(f)),E}var Hh=0,uu=function(A,f){this.lines=[],this.type=f,this.doc=A,this.id=++Hh};uu.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,f=A&&!A.curOp;if(f&&tA(A),ke(this,"clear")){var x=this.find();x&&ko(this,"clear",x.from,x.to)}for(var b=null,E=null,U=0;U<this.lines.length;++U){var $=this.lines[U],ne=No($.markedSpans,this);A&&!this.collapsed?Al(A,ve($),"text"):A&&(ne.to!=null&&(E=ve($)),ne.from!=null&&(b=ve($))),$.markedSpans=wu($.markedSpans,ne),ne.from==null&&this.collapsed&&!Zr(this.doc,$)&&A&&Ui($,Qa(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var le=0;le<this.lines.length;++le){var me=yr(this.lines[le]),Qe=xo(me);Qe>A.display.maxLineLength&&(A.display.maxLine=me,A.display.maxLineLength=Qe,A.display.maxLineChanged=!0)}b!=null&&A&&this.collapsed&&ga(A,b,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Pc(A.doc)),A&&ko(A,"markerCleared",A,this,b,E),f&&wl(A),this.parent&&this.parent.clear()}},uu.prototype.find=function(A,f){A==null&&this.type=="bookmark"&&(A=1);for(var x,b,E=0;E<this.lines.length;++E){var U=this.lines[E],$=No(U.markedSpans,this);if($.from!=null&&(x=Lt(f?U:ve(U),$.from),A==-1))return x;if($.to!=null&&(b=Lt(f?U:ve(U),$.to),A==1))return b}return x&&{from:x,to:b}},uu.prototype.changed=function(){var A=this,f=this.find(-1,!0),x=this,b=this.doc.cm;!f||!b||ls(b,function(){var E=f.line,U=ve(f.line),$=ad(b,U);if($&&($d($),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!Zr(x.doc,E)&&x.height!=null){var ne=x.height;x.height=null;var le=ru(x)-ne;le&&Ui(E,E.height+le)}ko(b,"markerChanged",b,A)})},uu.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Re(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},uu.prototype.detachLine=function(A){if(this.lines.splice(Re(this.lines,A),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},ze(uu);function Xd(A,f,x,b,E){if(b&&b.shared)return H1(A,f,x,b,E);if(A.cm&&!A.cm.curOp)return Qi(A.cm,Xd)(A,f,x,b,E);var U=new uu(A,E),$=wn(f,x);if(b&&Ie(b,U,!1),$>0||$==0&&U.clearWhenEmpty!==!1)return U;if(U.replacedWith&&(U.collapsed=!0,U.widgetNode=_t("span",[U.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||U.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(U.widgetNode.insertLeft=!0)),U.collapsed){if(Ur(A,f.line,f,x,U)||f.line!=x.line&&Ur(A,x.line,f,x,U))throw new Error("Inserting collapsed marker partially overlapping an existing one");as()}U.addToHistory&&Ti(A,{from:f,to:x,origin:"markText"},A.sel,NaN);var ne=f.line,le=A.cm,me;if(A.iter(ne,x.line+1,function(nt){le&&U.collapsed&&!le.options.lineWrapping&&yr(nt)==le.display.maxLine&&(me=!0),U.collapsed&&ne!=f.line&&Ui(nt,0),ll(nt,new sl(U,ne==f.line?f.ch:null,ne==x.line?x.ch:null),A.cm&&A.cm.curOp),++ne}),U.collapsed&&A.iter(f.line,x.line+1,function(nt){Zr(A,nt)&&Ui(nt,0)}),U.clearOnEnter&&Kt(U,"beforeCursorEnter",function(){return U.clear()}),U.readOnly&&(Jl(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),U.collapsed&&(U.id=++Hh,U.atomic=!0),le){if(me&&(le.curOp.updateMaxLine=!0),U.collapsed)ga(le,f.line,x.line+1);else if(U.className||U.startStyle||U.endStyle||U.css||U.attributes||U.title)for(var Qe=f.line;Qe<=x.line;Qe++)Al(le,Qe,"text");U.atomic&&Pc(le.doc),ko(le,"markerAdded",le,U)}return U}var Jd=function(A,f){this.markers=A,this.primary=f;for(var x=0;x<A.length;++x)A[x].parent=this};Jd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();ko(this,"clear")}},Jd.prototype.find=function(A,f){return this.primary.find(A,f)},ze(Jd);function H1(A,f,x,b,E){b=Ie(b),b.shared=!1;var U=[Xd(A,f,x,b,E)],$=U[0],ne=b.widgetNode;return dn(A,function(le){ne&&(b.widgetNode=ne.cloneNode(!0)),U.push(Xd(le,Fr(le,f),Fr(le,x),b,E));for(var me=0;me<le.linked.length;++me)if(le.linked[me].isParent)return;$=yn(U)}),new Jd(U,$)}function dl(A){return A.findMarks(Lt(A.first,0),A.clipPos(Lt(A.lastLine())),function(f){return f.parent})}function eh(A,f){for(var x=0;x<f.length;x++){var b=f[x],E=b.find(),U=A.clipPos(E.from),$=A.clipPos(E.to);if(wn(U,$)){var ne=Xd(A,U,$,b.primary,b.primary.type);b.markers.push(ne),ne.parent=b}}}function y0(A){for(var f=function(b){var E=A[b],U=[E.primary.doc];dn(E.primary.doc,function(le){return U.push(le)});for(var $=0;$<E.markers.length;$++){var ne=E.markers[$];Re(U,ne.doc)==-1&&(ne.parent=null,E.markers.splice($--,1))}},x=0;x<A.length;x++)f(x)}var Zp=0,Es=function(A,f,x,b,E){if(!(this instanceof Es))return new Es(A,f,x,b,E);x==null&&(x=0),Yh.call(this,[new fd([new Pl("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var U=Lt(x,0);this.sel=$e(U),this.history=new qr(null),this.id=++Zp,this.modeOption=f,this.lineSep=b,this.direction=E=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),Zt(this,{from:U,to:U,text:A}),Ri(this,$e(U),St)};Es.prototype=Wr(Yh.prototype,{constructor:Es,iter:function(A,f,x){x?this.iterN(A-this.first,f-A,x):this.iterN(this.first,this.first+this.size,A)},insert:function(A,f){for(var x=0,b=0;b<f.length;++b)x+=f[b].height;this.insertInner(A-this.first,f,x)},remove:function(A,f){this.removeInner(A-this.first,f)},getValue:function(A){var f=_o(this,this.first,this.first+this.size);return A===!1?f:f.join(A||this.lineSeparator())},setValue:ya(function(A){var f=Lt(this.first,0),x=this.first+this.size-1;lu(this,{from:f,to:Lt(x,Wn(this,x).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&ua(this.cm,0,0),Ri(this,$e(f),St)}),replaceRange:function(A,f,x,b){f=Fr(this,f),x=x?Fr(this,x):f,SA(this,A,f,x,b)},getRange:function(A,f,x){var b=ro(this,Fr(this,A),Fr(this,f));return x===!1?b:x===""?b.join(""):b.join(x||this.lineSeparator())},getLine:function(A){var f=this.getLineHandle(A);return f&&f.text},getLineHandle:function(A){if(Vt(this,A))return Wn(this,A)},getLineNumber:function(A){return ve(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=Wn(this,A)),yr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Fr(this,A)},getCursor:function(A){var f=this.sel.primary(),x;return A==null||A=="head"?x=f.head:A=="anchor"?x=f.anchor:A=="end"||A=="to"||A===!1?x=f.to():x=f.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ya(function(A,f,x){nA(this,Fr(this,typeof A=="number"?Lt(A,f||0):A),null,x)}),setSelection:ya(function(A,f,x){nA(this,Fr(this,A),Fr(this,f||A),x)}),extendSelection:ya(function(A,f,x){Zs(this,Fr(this,A),f&&Fr(this,f),x)}),extendSelections:ya(function(A,f){su(this,yi(this,A),f)}),extendSelectionsBy:ya(function(A,f){var x=er(this.sel.ranges,A);su(this,yi(this,x),f)}),setSelections:ya(function(A,f,x){if(A.length){for(var b=[],E=0;E<A.length;E++)b[E]=new Oe(Fr(this,A[E].anchor),Fr(this,A[E].head||A[E].anchor));f==null&&(f=Math.min(A.length-1,this.sel.primIndex)),Ri(this,Ye(this.cm,b,f),x)}}),addSelection:ya(function(A,f,x){var b=this.sel.ranges.slice(0);b.push(new Oe(Fr(this,A),Fr(this,f||A))),Ri(this,Ye(this.cm,b,b.length-1),x)}),getSelection:function(A){for(var f=this.sel.ranges,x,b=0;b<f.length;b++){var E=ro(this,f[b].from(),f[b].to());x=x?x.concat(E):E}return A===!1?x:x.join(A||this.lineSeparator())},getSelections:function(A){for(var f=[],x=this.sel.ranges,b=0;b<x.length;b++){var E=ro(this,x[b].from(),x[b].to());A!==!1&&(E=E.join(A||this.lineSeparator())),f[b]=E}return f},replaceSelection:function(A,f,x){for(var b=[],E=0;E<this.sel.ranges.length;E++)b[E]=A;this.replaceSelections(b,f,x||"+input")},replaceSelections:ya(function(A,f,x){for(var b=[],E=this.sel,U=0;U<E.ranges.length;U++){var $=E.ranges[U];b[U]={from:$.from(),to:$.to(),text:this.splitLines(A[U]),origin:x}}for(var ne=f&&f!="end"&&tt(this,b,f),le=b.length-1;le>=0;le--)lu(this,b[le]);ne?Ms(this,ne):this.cm&&ao(this.cm)}),undo:ya(function(){Bu(this,"undo")}),redo:ya(function(){Bu(this,"redo")}),undoSelection:ya(function(){Bu(this,"undo",!0)}),redoSelection:ya(function(){Bu(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,f=0,x=0,b=0;b<A.done.length;b++)A.done[b].ranges||++f;for(var E=0;E<A.undone.length;E++)A.undone[E].ranges||++x;return{undo:f,redo:x}},clearHistory:function(){var A=this;this.history=new qr(this.history),dn(this,function(f){return f.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:mo(this.history.done),undone:mo(this.history.undone)}},setHistory:function(A){var f=this.history=new qr(this.history);f.done=mo(A.done.slice(0),null,!0),f.undone=mo(A.undone.slice(0),null,!0)},setGutterMarker:ya(function(A,f,x){return rA(this,A,"gutter",function(b){var E=b.gutterMarkers||(b.gutterMarkers={});return E[f]=x,!x&&X(E)&&(b.gutterMarkers=null),!0})}),clearGutter:ya(function(A){var f=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[A]&&rA(f,x,"gutter",function(){return x.gutterMarkers[A]=null,X(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(A){var f;if(typeof A=="number"){if(!Vt(this,A)||(f=A,A=Wn(this,A),!A))return null}else if(f=ve(A),f==null)return null;return{line:f,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:ya(function(A,f,x){return rA(this,A,f=="gutter"?"gutter":"class",function(b){var E=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!b[E])b[E]=x;else{if(De(x).test(b[E]))return!1;b[E]+=" "+x}return!0})}),removeLineClass:ya(function(A,f,x){return rA(this,A,f=="gutter"?"gutter":"class",function(b){var E=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",U=b[E];if(U)if(x==null)b[E]=null;else{var $=U.match(De(x));if(!$)return!1;var ne=$.index+$[0].length;b[E]=U.slice(0,$.index)+(!$.index||ne==U.length?"":" ")+U.slice(ne)||null}else return!1;return!0})}),addLineWidget:ya(function(A,f,x){return qh(this,A,f,x)}),removeLineWidget:function(A){A.clear()},markText:function(A,f,x){return Xd(this,Fr(this,A),Fr(this,f),x,x&&x.type||"range")},setBookmark:function(A,f){var x={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return A=Fr(this,A),Xd(this,A,A,x,"bookmark")},findMarksAt:function(A){A=Fr(this,A);var f=[],x=Wn(this,A.line).markedSpans;if(x)for(var b=0;b<x.length;++b){var E=x[b];(E.from==null||E.from<=A.ch)&&(E.to==null||E.to>=A.ch)&&f.push(E.marker.parent||E.marker)}return f},findMarks:function(A,f,x){A=Fr(this,A),f=Fr(this,f);var b=[],E=A.line;return this.iter(A.line,f.line+1,function(U){var $=U.markedSpans;if($)for(var ne=0;ne<$.length;ne++){var le=$[ne];!(le.to!=null&&E==A.line&&A.ch>=le.to||le.from==null&&E!=A.line||le.from!=null&&E==f.line&&le.from>=f.ch)&&(!x||x(le.marker))&&b.push(le.marker.parent||le.marker)}++E}),b},getAllMarks:function(){var A=[];return this.iter(function(f){var x=f.markedSpans;if(x)for(var b=0;b<x.length;++b)x[b].from!=null&&A.push(x[b].marker)}),A},posFromIndex:function(A){var f,x=this.first,b=this.lineSeparator().length;return this.iter(function(E){var U=E.text.length+b;if(U>A)return f=A,!0;A-=U,++x}),Fr(this,Lt(x,f))},indexFromPos:function(A){A=Fr(this,A);var f=A.ch;if(A.line<this.first||A.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,A.line,function(b){f+=b.text.length+x}),f},copy:function(A){var f=new Es(_o(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,A&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(A){A||(A={});var f=this.first,x=this.first+this.size;A.from!=null&&A.from>f&&(f=A.from),A.to!=null&&A.to<x&&(x=A.to);var b=new Es(_o(this,f,x),A.mode||this.modeOption,f,this.lineSep,this.direction);return A.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:A.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],eh(b,dl(this)),b},unlinkDoc:function(A){if(A instanceof Co&&(A=A.doc),this.linked)for(var f=0;f<this.linked.length;++f){var x=this.linked[f];if(x.doc==A){this.linked.splice(f,1),A.unlinkDoc(this),y0(dl(this));break}}if(A.history==this.history){var b=[A.id];dn(A,function(E){return b.push(E.id)},!0),A.history=new qr(null),A.history.done=mo(this.history.done,b),A.history.undone=mo(this.history.undone,b)}},iterLinkedDocs:function(A){dn(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Sr(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ya(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(f){return f.order=null}),this.cm&&$n(this.cm))})}),Es.prototype.eachLine=Es.prototype.iter;var Xp=0;function Jp(A){var f=this;if(_0(f),!(ce(f,A)||Fl(f.display,A))){rt(A),h&&(Xp=+new Date);var x=ou(f,A,!0),b=A.dataTransfer.files;if(!(!x||f.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var E=b.length,U=Array(E),$=0,ne=function(){++$==E&&Qi(f,function(){x=Fr(f.doc,x);var yt={from:x,to:x,text:f.doc.splitLines(U.filter(function(Wt){return Wt!=null}).join(f.doc.lineSeparator())),origin:"paste"};lu(f.doc,yt),Ms(f.doc,$e(Fr(f.doc,x),Fr(f.doc,He(yt))))})()},le=function(yt,Wt){if(f.options.allowDropFileTypes&&Re(f.options.allowDropFileTypes,yt.type)==-1){ne();return}var cn=new FileReader;cn.onerror=function(){return ne()},cn.onload=function(){var In=cn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(In)){ne();return}U[Wt]=In,ne()},cn.readAsText(yt)},me=0;me<b.length;me++)le(b[me],me);else{if(f.state.draggingText&&f.doc.sel.contains(x)>-1){f.state.draggingText(A),setTimeout(function(){return f.display.input.focus()},20);return}try{var Qe=A.dataTransfer.getData("Text");if(Qe){var nt;if(f.state.draggingText&&!f.state.draggingText.copy&&(nt=f.listSelections()),Ei(f.doc,$e(x,x)),nt)for(var Ot=0;Ot<nt.length;++Ot)SA(f.doc,"",nt[Ot].anchor,nt[Ot].head,"drag");f.replaceSelection(Qe,"around","paste"),f.display.input.focus()}}catch{}}}}function v0(A,f){if(h&&(!A.state.draggingText||+new Date-Xp<100)){et(f);return}if(!(ce(A,f)||Fl(A.display,f))&&(f.dataTransfer.setData("Text",A.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!q)){var x=ge("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F&&(x.width=x.height=1,A.display.wrapper.appendChild(x),x._top=x.offsetTop),f.dataTransfer.setDragImage(x,0,0),F&&x.parentNode.removeChild(x)}}function $i(A,f){var x=ou(A,f);if(x){var b=document.createDocumentFragment();ZA(A,x,b),A.display.dragCursor||(A.display.dragCursor=ge("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),qe(A.display.dragCursor,b)}}function _0(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function C0(A){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),x=[],b=0;b<f.length;b++){var E=f[b].CodeMirror;E&&x.push(E)}x.length&&x[0].operation(function(){for(var U=0;U<x.length;U++)A(x[U])})}}var Vh=!1;function em(){Vh||(V1(),Vh=!0)}function V1(){var A;Kt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,C0(b0)},100))}),Kt(window,"blur",function(){return C0(Tc)})}function b0(A){var f=A.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,A.setSize()}for(var Fa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},hl=0;hl<10;hl++)Fa[hl+48]=Fa[hl+96]=String(hl);for(var pd=65;pd<=90;pd++)Fa[pd]=String.fromCharCode(pd);for(var th=1;th<=12;th++)Fa[th+111]=Fa[th+63235]="F"+th;var EA={};EA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},EA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},EA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},EA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},EA.default=ye?EA.macDefault:EA.pcDefault;function Z1(A){var f=A.split(/-(?!$)/);A=f[f.length-1];for(var x,b,E,U,$=0;$<f.length-1;$++){var ne=f[$];if(/^(cmd|meta|m)$/i.test(ne))U=!0;else if(/^a(lt)?$/i.test(ne))x=!0;else if(/^(c|ctrl|control)$/i.test(ne))b=!0;else if(/^s(hift)?$/i.test(ne))E=!0;else throw new Error("Unrecognized modifier name: "+ne)}return x&&(A="Alt-"+A),b&&(A="Ctrl-"+A),U&&(A="Cmd-"+A),E&&(A="Shift-"+A),A}function Iu(A){var f={};for(var x in A)if(A.hasOwnProperty(x)){var b=A[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(b=="..."){delete A[x];continue}for(var E=er(x.split(" "),Z1),U=0;U<E.length;U++){var $=void 0,ne=void 0;U==E.length-1?(ne=E.join(" "),$=b):(ne=E.slice(0,U+1).join(" "),$="...");var le=f[ne];if(!le)f[ne]=$;else if(le!=$)throw new Error("Inconsistent bindings for "+ne)}delete A[x]}for(var me in f)A[me]=f[me];return A}function Tu(A,f,x,b){f=Zh(f);var E=f.call?f.call(A,b):f[A];if(E===!1)return"nothing";if(E==="...")return"multi";if(E!=null&&x(E))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Tu(A,f.fallthrough,x,b);for(var U=0;U<f.fallthrough.length;U++){var $=Tu(A,f.fallthrough[U],x,b);if($)return $}}}function tm(A){var f=typeof A=="string"?A:Fa[A.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function ip(A,f,x){var b=A;return f.altKey&&b!="Alt"&&(A="Alt-"+A),(xe?f.metaKey:f.ctrlKey)&&b!="Ctrl"&&(A="Ctrl-"+A),(xe?f.ctrlKey:f.metaKey)&&b!="Mod"&&(A="Cmd-"+A),!x&&f.shiftKey&&b!="Shift"&&(A="Shift-"+A),A}function md(A,f){if(F&&A.keyCode==34&&A.char)return!1;var x=Fa[A.keyCode];return x==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(x=A.code),ip(x,A,f))}function Zh(A){return typeof A=="string"?EA[A]:A}function Au(A,f){for(var x=A.doc.sel.ranges,b=[],E=0;E<x.length;E++){for(var U=f(x[E]);b.length&&wn(U.from,yn(b).to)<=0;){var $=b.pop();if(wn($.from,U.from)<0){U.from=$.from;break}}b.push(U)}ls(A,function(){for(var ne=b.length-1;ne>=0;ne--)SA(A.doc,"",b[ne].from,b[ne].to,"+delete");ao(A)})}function gd(A,f,x){var b=ut(A.text,f+x,x);return b<0||b>A.text.length?null:b}function op(A,f,x){var b=gd(A,f.ch,x);return b==null?null:new Lt(f.line,b,x<0?"after":"before")}function ap(A,f,x,b,E){if(A){f.doc.direction=="rtl"&&(E=-E);var U=On(x,f.doc.direction);if(U){var $=E<0?yn(U):U[0],ne=E<0==($.level==1),le=ne?"after":"before",me;if($.level>0||f.doc.direction=="rtl"){var Qe=Dl(f,x);me=E<0?x.text.length-1:0;var nt=xl(f,Qe,me).top;me=Bt(function(Ot){return xl(f,Qe,Ot).top==nt},E<0==($.level==1)?$.from:$.to-1,me),le=="before"&&(me=gd(x,me,1))}else me=E<0?$.to:$.from;return new Lt(b,me,le)}}return new Lt(b,E<0?x.text.length:0,E<0?"before":"after")}function yd(A,f,x,b){var E=On(f,A.doc.direction);if(!E)return op(f,x,b);x.ch>=f.text.length?(x.ch=f.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var U=fn(E,x.ch,x.sticky),$=E[U];if(A.doc.direction=="ltr"&&$.level%2==0&&(b>0?$.to>x.ch:$.from<x.ch))return op(f,x,b);var ne=function(Yn,bn){return gd(f,Yn instanceof Lt?Yn.ch:Yn,bn)},le,me=function(Yn){return A.options.lineWrapping?(le=le||Dl(A,f),To(A,f,le,Yn)):{begin:0,end:f.text.length}},Qe=me(x.sticky=="before"?ne(x,-1):x.ch);if(A.doc.direction=="rtl"||$.level==1){var nt=$.level==1==b<0,Ot=ne(x,nt?1:-1);if(Ot!=null&&(nt?Ot<=$.to&&Ot<=Qe.end:Ot>=$.from&&Ot>=Qe.begin)){var yt=nt?"before":"after";return new Lt(x.line,Ot,yt)}}var Wt=function(Yn,bn,Ln){for(var ar=function(Uo,Ya){return Ya?new Lt(x.line,ne(Uo,1),"before"):new Lt(x.line,Uo,"after")};Yn>=0&&Yn<E.length;Yn+=bn){var Tr=E[Yn],_r=bn>0==(Tr.level!=1),hi=_r?Ln.begin:ne(Ln.end,-1);if(Tr.from<=hi&&hi<Tr.to||(hi=_r?Tr.from:ne(Tr.to,-1),Ln.begin<=hi&&hi<Ln.end))return ar(hi,_r)}},cn=Wt(U+b,b,Qe);if(cn)return cn;var In=b>0?Qe.end:ne(Qe.begin,-1);return In!=null&&!(b>0&&In==f.text.length)&&(cn=Wt(b>0?0:E.length-1,b,me(In)),cn)?cn:null}var sp={selectAll:oc,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),St)},killLine:function(A){return Au(A,function(f){if(f.empty()){var x=Wn(A.doc,f.head.line).text.length;return f.head.ch==x&&f.head.line<A.lastLine()?{from:f.head,to:Lt(f.head.line+1,0)}:{from:f.head,to:Lt(f.head.line,x)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(A){return Au(A,function(f){return{from:Lt(f.from().line,0),to:Fr(A.doc,Lt(f.to().line+1,0))}})},delLineLeft:function(A){return Au(A,function(f){return{from:Lt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(A){return Au(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return{from:b,to:f.from()}})},delWrappedLineRight:function(A){return Au(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div");return{from:f.from(),to:b}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Lt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Lt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(f){return Fc(A,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(f){return x0(A,f.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(f){return X1(A,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div")},zt)},goLineLeft:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:0,top:x},"div")},zt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return b.ch<A.getLine(b.line).search(/\S/)?x0(A,f.head):b},zt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var f=[],x=A.listSelections(),b=A.options.tabSize,E=0;E<x.length;E++){var U=x[E].from(),$=pe(A.getLine(U.line),U.ch,b);f.push(gn(b-$%b))}A.replaceSelections(f)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return ls(A,function(){for(var f=A.listSelections(),x=[],b=0;b<f.length;b++)if(f[b].empty()){var E=f[b].head,U=Wn(A.doc,E.line).text;if(U){if(E.ch==U.length&&(E=new Lt(E.line,E.ch-1)),E.ch>0)E=new Lt(E.line,E.ch+1),A.replaceRange(U.charAt(E.ch-1)+U.charAt(E.ch-2),Lt(E.line,E.ch-2),E,"+transpose");else if(E.line>A.doc.first){var $=Wn(A.doc,E.line-1).text;$&&(E=new Lt(E.line,1),A.replaceRange(U.charAt(0)+A.doc.lineSeparator()+$.charAt($.length-1),Lt(E.line-1,$.length-1),E,"+transpose"))}}x.push(new Oe(E,E))}A.setSelections(x)})},newlineAndIndent:function(A){return ls(A,function(){for(var f=A.listSelections(),x=f.length-1;x>=0;x--)A.replaceRange(A.doc.lineSeparator(),f[x].anchor,f[x].head,"+input");f=A.listSelections();for(var b=0;b<f.length;b++)A.indentLine(f[b].from().line,null,!0);ao(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function Fc(A,f){var x=Wn(A.doc,f),b=yr(x);return b!=x&&(f=ve(b)),ap(!0,A,b,f,1)}function X1(A,f){var x=Wn(A.doc,f),b=Ir(x);return b!=x&&(f=ve(b)),ap(!0,A,x,f,-1)}function x0(A,f){var x=Fc(A,f.line),b=Wn(A.doc,x.line),E=On(b,A.doc.direction);if(!E||E[0].level==0){var U=Math.max(x.ch,b.text.search(/\S/)),$=f.line==x.line&&f.ch<=U&&f.ch;return Lt(x.line,$?0:U,x.sticky)}return x}function vd(A,f,x){if(typeof f=="string"&&(f=sp[f],!f))return!1;A.display.input.ensurePolled();var b=A.display.shift,E=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),x&&(A.display.shift=!1),E=f(A)!=ot}finally{A.display.shift=b,A.state.suppressEdits=!1}return E}function Tv(A,f,x){for(var b=0;b<A.state.keyMaps.length;b++){var E=Tu(f,A.state.keyMaps[b],x,A);if(E)return E}return A.options.extraKeys&&Tu(f,A.options.extraKeys,x,A)||Tu(f,A.options.keyMap,x,A)}var Xh=new Me;function lp(A,f,x,b){var E=A.state.keySeq;if(E){if(tm(f))return"handled";if(/\'$/.test(f)?A.state.keySeq=null:Xh.set(50,function(){A.state.keySeq==E&&(A.state.keySeq=null,A.display.input.reset())}),_a(A,E+" "+f,x,b))return!0}return _a(A,f,x,b)}function _a(A,f,x,b){var E=Tv(A,f,b);return E=="multi"&&(A.state.keySeq=f),E=="handled"&&ko(A,"keyHandled",A,f,x),(E=="handled"||E=="multi")&&(rt(x),Vu(A)),!!E}function Jh(A,f){var x=md(f,!0);return x?f.shiftKey&&!A.state.keySeq?lp(A,"Shift-"+x,f,function(b){return vd(A,b,!0)})||lp(A,x,f,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return vd(A,b)}):lp(A,x,f,function(b){return vd(A,b)}):!1}function J1(A,f,x){return lp(A,"'"+x+"'",f,function(b){return vd(A,b,!0)})}var nh=null;function ef(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&(f.curOp.focus=mt(Ht(f)),!ce(f,A))){h&&g<11&&A.keyCode==27&&(A.returnValue=!1);var x=A.keyCode;f.display.shift=x==16||A.shiftKey;var b=Jh(f,A);F&&(nh=b?x:null,!b&&x==88&&!$r&&(ye?A.metaKey:A.ctrlKey)&&f.replaceSelection("",null,"cut")),i&&!ye&&!b&&x==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&Xs(f)}}function Xs(A){var f=A.display.lineDiv;je(f,"CodeMirror-crosshair");function x(b){(b.keyCode==18||!b.altKey)&&(Le(f,"CodeMirror-crosshair"),nr(document,"keyup",x),nr(document,"mouseover",x))}Kt(document,"keyup",x),Kt(document,"mouseover",x)}function oA(A){A.keyCode==16&&(this.doc.sel.shift=!1),ce(this,A)}function w0(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&!(Fl(f.display,A)||ce(f,A)||A.ctrlKey&&!A.altKey||ye&&A.metaKey)){var x=A.keyCode,b=A.charCode;if(F&&x==nh){nh=null,rt(A);return}if(!(F&&(!A.which||A.which<10)&&Jh(f,A))){var E=String.fromCharCode(b??x);E!="\b"&&(J1(f,A,E)||f.display.input.onKeyPress(A))}}}var up=400,_d=function(A,f,x){this.time=A,this.pos=f,this.button=x};_d.prototype.compare=function(A,f,x){return this.time+up>A&&wn(f,this.pos)==0&&x==this.button};var aA,rh;function eg(A,f){var x=+new Date;return rh&&rh.compare(x,A,f)?(aA=rh=null,"triple"):aA&&aA.compare(x,A,f)?(rh=new _d(x,A,f),aA=null,"double"):(aA=new _d(x,A,f),rh=null,"single")}function M0(A){var f=this,x=f.display;if(!(ce(f,A)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=A.shiftKey,Fl(x,A)){_||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!oh(f,A)){var b=ou(f,A),E=tn(A),U=b?eg(b,E):"single";Qt(f).focus(),E==1&&f.state.selectingText&&f.state.selectingText(A),!(b&&tf(f,E,b,U,A))&&(E==1?b?ih(f,b,U,A):wt(A)==x.scroller&&rt(A):E==2?(b&&Zs(f.doc,b),setTimeout(function(){return x.input.focus()},20)):E==3&&(Se?f.display.input.onContextMenu(A):XA(f)))}}}function tf(A,f,x,b,E){var U="Click";return b=="double"?U="Double"+U:b=="triple"&&(U="Triple"+U),U=(f==1?"Left":f==2?"Middle":"Right")+U,lp(A,ip(U,E),E,function($){if(typeof $=="string"&&($=sp[$]),!$)return!1;var ne=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),ne=$(A,x)!=ot}finally{A.state.suppressEdits=!1}return ne})}function nf(A,f,x){var b=A.getOption("configureMouse"),E=b?b(A,f,x):{};if(E.unit==null){var U=be?x.shiftKey&&x.metaKey:x.altKey;E.unit=U?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(E.extend==null||A.doc.extend)&&(E.extend=A.doc.extend||x.shiftKey),E.addNew==null&&(E.addNew=ye?x.metaKey:x.ctrlKey),E.moveOnDrag==null&&(E.moveOnDrag=!(ye?x.altKey:x.ctrlKey)),E}function ih(A,f,x,b){h?setTimeout($t(Zu,A),0):A.curOp.focus=mt(Ht(A));var E=nf(A,x,b),U=A.doc.sel,$;A.options.dragDrop&&qt&&!A.isReadOnly()&&x=="single"&&($=U.contains(f))>-1&&(wn(($=U.ranges[$]).from(),f)<0||f.xRel>0)&&(wn($.to(),f)>0||f.xRel<0)?Kv(A,b,f,E):nm(A,b,f,E)}function Kv(A,f,x,b){var E=A.display,U=!1,$=Qi(A,function(me){_&&(E.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:XA(A)),nr(E.wrapper.ownerDocument,"mouseup",$),nr(E.wrapper.ownerDocument,"mousemove",ne),nr(E.scroller,"dragstart",le),nr(E.scroller,"drop",$),U||(rt(me),b.addNew||Zs(A.doc,x,null,null,b.extend),_&&!q||h&&g==9?setTimeout(function(){E.wrapper.ownerDocument.body.focus({preventScroll:!0}),E.input.focus()},20):E.input.focus())}),ne=function(me){U=U||Math.abs(f.clientX-me.clientX)+Math.abs(f.clientY-me.clientY)>=10},le=function(){return U=!0};_&&(E.scroller.draggable=!0),A.state.draggingText=$,$.copy=!b.moveOnDrag,Kt(E.wrapper.ownerDocument,"mouseup",$),Kt(E.wrapper.ownerDocument,"mousemove",ne),Kt(E.scroller,"dragstart",le),Kt(E.scroller,"drop",$),A.state.delayingBlurEvent=!0,setTimeout(function(){return E.input.focus()},20),E.scroller.dragDrop&&E.scroller.dragDrop()}function Ap(A,f,x){if(x=="char")return new Oe(f,f);if(x=="word")return A.findWordAt(f);if(x=="line")return new Oe(Lt(f.line,0),Fr(A.doc,Lt(f.line+1,0)));var b=x(A,f);return new Oe(b.from,b.to)}function nm(A,f,x,b){h&&XA(A);var E=A.display,U=A.doc;rt(f);var $,ne,le=U.sel,me=le.ranges;if(b.addNew&&!b.extend?(ne=U.sel.contains(x),ne>-1?$=me[ne]:$=new Oe(x,x)):($=U.sel.primary(),ne=U.sel.primIndex),b.unit=="rectangle")b.addNew||($=new Oe(x,x)),x=ou(A,f,!0,!0),ne=-1;else{var Qe=Ap(A,x,b.unit);b.extend?$=so($,Qe.anchor,Qe.head,b.extend):$=Qe}b.addNew?ne==-1?(ne=me.length,Ri(U,Ye(A,me.concat([$]),ne),{scroll:!1,origin:"*mouse"})):me.length>1&&me[ne].empty()&&b.unit=="char"&&!b.extend?(Ri(U,Ye(A,me.slice(0,ne).concat(me.slice(ne+1)),0),{scroll:!1,origin:"*mouse"}),le=U.sel):ws(U,ne,$,Rt):(ne=0,Ri(U,new fe([$],0),Rt),le=U.sel);var nt=x;function Ot(Ln){if(wn(nt,Ln)!=0)if(nt=Ln,b.unit=="rectangle"){for(var ar=[],Tr=A.options.tabSize,_r=pe(Wn(U,x.line).text,x.ch,Tr),hi=pe(Wn(U,Ln.line).text,Ln.ch,Tr),Uo=Math.min(_r,hi),Ya=Math.max(_r,hi),Ca=Math.min(x.line,Ln.line),Da=Math.min(A.lastLine(),Math.max(x.line,Ln.line));Ca<=Da;Ca++){var us=Wn(U,Ca).text,As=pt(us,Uo,Tr);Uo==Ya?ar.push(new Oe(Lt(Ca,As),Lt(Ca,As))):us.length>As&&ar.push(new Oe(Lt(Ca,As),Lt(Ca,pt(us,Ya,Tr))))}ar.length||ar.push(new Oe(x,x)),Ri(U,Ye(A,le.ranges.slice(0,ne).concat(ar),ne),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Ln)}else{var Ml=$,Js=Ap(A,Ln,b.unit),Os=Ml.anchor,cs;wn(Js.anchor,Os)>0?(cs=Js.head,Os=Xo(Ml.from(),Js.anchor)):(cs=Js.anchor,Os=si(Ml.to(),Js.head));var ca=le.ranges.slice(0);ca[ne]=rf(A,new Oe(Fr(U,Os),cs)),Ri(U,Ye(A,ca,ne),Rt)}}var yt=E.wrapper.getBoundingClientRect(),Wt=0;function cn(Ln){var ar=++Wt,Tr=ou(A,Ln,!0,b.unit=="rectangle");if(Tr)if(wn(Tr,nt)!=0){A.curOp.focus=mt(Ht(A)),Ot(Tr);var _r=Ju(E,U);(Tr.line>=_r.to||Tr.line<_r.from)&&setTimeout(Qi(A,function(){Wt==ar&&cn(Ln)}),150)}else{var hi=Ln.clientY<yt.top?-20:Ln.clientY>yt.bottom?20:0;hi&&setTimeout(Qi(A,function(){Wt==ar&&(E.scroller.scrollTop+=hi,cn(Ln))}),50)}}function In(Ln){A.state.selectingText=!1,Wt=1/0,Ln&&(rt(Ln),E.input.focus()),nr(E.wrapper.ownerDocument,"mousemove",Yn),nr(E.wrapper.ownerDocument,"mouseup",bn),U.history.lastSelOrigin=null}var Yn=Qi(A,function(Ln){Ln.buttons===0||!tn(Ln)?In(Ln):cn(Ln)}),bn=Qi(A,In);A.state.selectingText=bn,Kt(E.wrapper.ownerDocument,"mousemove",Yn),Kt(E.wrapper.ownerDocument,"mouseup",bn)}function rf(A,f){var x=f.anchor,b=f.head,E=Wn(A.doc,x.line);if(wn(x,b)==0&&x.sticky==b.sticky)return f;var U=On(E);if(!U)return f;var $=fn(U,x.ch,x.sticky),ne=U[$];if(ne.from!=x.ch&&ne.to!=x.ch)return f;var le=$+(ne.from==x.ch==(ne.level!=1)?0:1);if(le==0||le==U.length)return f;var me;if(b.line!=x.line)me=(b.line-x.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var Qe=fn(U,b.ch,b.sticky),nt=Qe-$||(b.ch-x.ch)*(ne.level==1?-1:1);Qe==le-1||Qe==le?me=nt<0:me=nt>0}var Ot=U[le+(me?-1:0)],yt=me==(Ot.level==1),Wt=yt?Ot.from:Ot.to,cn=yt?"after":"before";return x.ch==Wt&&x.sticky==cn?f:new Oe(new Lt(x.line,Wt,cn),b)}function rm(A,f,x,b){var E,U;if(f.touches)E=f.touches[0].clientX,U=f.touches[0].clientY;else try{E=f.clientX,U=f.clientY}catch{return!1}if(E>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;b&&rt(f);var $=A.display,ne=$.lineDiv.getBoundingClientRect();if(U>ne.bottom||!ke(A,x))return ft(f);U-=ne.top-$.viewOffset;for(var le=0;le<A.display.gutterSpecs.length;++le){var me=$.gutters.childNodes[le];if(me&&me.getBoundingClientRect().right>=E){var Qe=Je(A.doc,U),nt=A.display.gutterSpecs[le];return Pe(A,x,A,Qe,nt.className,f),ft(f)}}}function oh(A,f){return rm(A,f,"gutterClick",!0)}function im(A,f){Fl(A.display,f)||om(A,f)||ce(A,f,"contextmenu")||Se||A.display.input.onContextMenu(f)}function om(A,f){return ke(A,"gutterContextMenu")?rm(A,f,"gutterContextMenu",!1):!1}function tg(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ou(A)}var ah={toString:function(){return"CodeMirror.Init"}},cp={},sA={};function S0(A){var f=A.optionHandlers;function x(b,E,U,$){A.defaults[b]=E,U&&(f[b]=$?function(ne,le,me){me!=ah&&U(ne,le,me)}:U)}A.defineOption=x,A.Init=ah,x("value","",function(b,E){return b.setValue(E)},!0),x("mode",null,function(b,E){b.doc.modeOption=E,bt(b)},!0),x("indentUnit",2,bt,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(b){Pt(b),Ou(b),ga(b)},!0),x("lineSeparator",null,function(b,E){if(b.doc.lineSep=E,!!E){var U=[],$=b.doc.first;b.doc.iter(function(le){for(var me=0;;){var Qe=le.text.indexOf(E,me);if(Qe==-1)break;me=Qe+E.length,U.push(Lt($,Qe))}$++});for(var ne=U.length-1;ne>=0;ne--)SA(b.doc,E,U[ne],Lt(U[ne].line,U[ne].ch+E.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,E,U){b.state.specialChars=new RegExp(E.source+(E.test("	")?"":"|	"),"g"),U!=ah&&b.refresh()}),x("specialCharPlaceholder",Nu,function(b){return b.refresh()},!0),x("electricChars",!0),x("inputStyle",ue?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(b,E){return b.getInputField().spellcheck=E},!0),x("autocorrect",!1,function(b,E){return b.getInputField().autocorrect=E},!0),x("autocapitalize",!1,function(b,E){return b.getInputField().autocapitalize=E},!0),x("rtlMoveVisually",!J),x("wholeLineUpdateBefore",!0),x("theme","default",function(b){tg(b),w(b)},!0),x("keyMap","default",function(b,E,U){var $=Zh(E),ne=U!=ah&&Zh(U);ne&&ne.detach&&ne.detach(b,$),$.attach&&$.attach(b,ne||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,sh,!0),x("gutters",[],function(b,E){b.display.gutterSpecs=p(E,b.options.lineNumbers),w(b)},!0),x("fixedGutter",!0,function(b,E){b.display.gutters.style.left=E?Vi(b.display)+"px":"0",b.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(b){return cl(b)},!0),x("scrollbarStyle","native",function(b){Xf(b),cl(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),x("lineNumbers",!1,function(b,E){b.display.gutterSpecs=p(b.options.gutters,E),w(b)},!0),x("firstLineNumber",1,w,!0),x("lineNumberFormatter",function(b){return b},w,!0),x("showCursorWhenSelecting",!1,qu,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(b,E){E=="nocursor"&&(Tc(b),b.display.input.blur()),b.display.input.readOnlyChanged(E)}),x("screenReaderLabel",null,function(b,E){E=E===""?null:E,b.display.input.screenReaderLabelChanged(E)}),x("disableInput",!1,function(b,E){E||b.display.input.reset()},!0),x("dragDrop",!0,ng),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,qu,!0),x("singleCursorHeightPerLine",!0,qu,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,Pt,!0),x("addModeClass",!1,Pt,!0),x("pollInterval",100),x("undoDepth",200,function(b,E){return b.doc.history.undoDepth=E}),x("historyEventDelay",1250),x("viewportMargin",10,function(b){return b.refresh()},!0),x("maxHighlightLength",1e4,Pt,!0),x("moveInputWithCursor",!0,function(b,E){E||b.display.input.resetPosition()}),x("tabindex",null,function(b,E){return b.display.input.getField().tabIndex=E||""}),x("autofocus",null),x("direction","ltr",function(b,E){return b.doc.setDirection(E)},!0),x("phrases",null)}function ng(A,f,x){var b=x&&x!=ah;if(!f!=!b){var E=A.display.dragFunctions,U=f?Kt:nr;U(A.display.scroller,"dragstart",E.start),U(A.display.scroller,"dragenter",E.enter),U(A.display.scroller,"dragover",E.over),U(A.display.scroller,"dragleave",E.leave),U(A.display.scroller,"drop",E.drop)}}function sh(A){A.options.lineWrapping?(je(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(Le(A.display.wrapper,"CodeMirror-wrap"),Ga(A)),Rh(A),ga(A),Ou(A),setTimeout(function(){return cl(A)},100)}function Co(A,f){var x=this;if(!(this instanceof Co))return new Co(A,f);this.options=f=f?Ie(f):{},Ie(cp,f,!1);var b=f.value;typeof b=="string"?b=new Es(b,f.mode,null,f.lineSeparator,f.direction):f.mode&&(b.modeOption=f.mode),this.doc=b;var E=new Co.inputStyles[f.inputStyle](this),U=this.display=new I(A,b,E,f);U.wrapper.CodeMirror=this,tg(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Me,keySeq:null,specialChars:null},f.autofocus&&!ue&&U.input.focus(),h&&g<11&&setTimeout(function(){return x.display.input.reset(!0)},20),rg(this),em(),tA(this),this.curOp.forceUpdate=!0,un(this,b),f.autofocus&&!ue||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&Hd(x)},20):Tc(this);for(var $ in sA)sA.hasOwnProperty($)&&sA[$](this,f[$],ah);u(this),f.finishInit&&f.finishInit(this);for(var ne=0;ne<am.length;++ne)am[ne](this);wl(this),_&&f.lineWrapping&&getComputedStyle(U.lineDiv).textRendering=="optimizelegibility"&&(U.lineDiv.style.textRendering="auto")}Co.defaults=cp,Co.optionHandlers=sA;function rg(A){var f=A.display;Kt(f.scroller,"mousedown",Qi(A,M0)),h&&g<11?Kt(f.scroller,"dblclick",Qi(A,function(le){if(!ce(A,le)){var me=ou(A,le);if(!(!me||oh(A,le)||Fl(A.display,le))){rt(le);var Qe=A.findWordAt(me);Zs(A.doc,Qe.anchor,Qe.head)}}})):Kt(f.scroller,"dblclick",function(le){return ce(A,le)||rt(le)}),Kt(f.scroller,"contextmenu",function(le){return im(A,le)}),Kt(f.input.getField(),"contextmenu",function(le){f.scroller.contains(le.target)||im(A,le)});var x,b={end:0};function E(){f.activeTouch&&(x=setTimeout(function(){return f.activeTouch=null},1e3),b=f.activeTouch,b.end=+new Date)}function U(le){if(le.touches.length!=1)return!1;var me=le.touches[0];return me.radiusX<=1&&me.radiusY<=1}function $(le,me){if(me.left==null)return!0;var Qe=me.left-le.left,nt=me.top-le.top;return Qe*Qe+nt*nt>20*20}Kt(f.scroller,"touchstart",function(le){if(!ce(A,le)&&!U(le)&&!oh(A,le)){f.input.ensurePolled(),clearTimeout(x);var me=+new Date;f.activeTouch={start:me,moved:!1,prev:me-b.end<=300?b:null},le.touches.length==1&&(f.activeTouch.left=le.touches[0].pageX,f.activeTouch.top=le.touches[0].pageY)}}),Kt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Kt(f.scroller,"touchend",function(le){var me=f.activeTouch;if(me&&!Fl(f,le)&&me.left!=null&&!me.moved&&new Date-me.start<300){var Qe=A.coordsChar(f.activeTouch,"page"),nt;!me.prev||$(me,me.prev)?nt=new Oe(Qe,Qe):!me.prev.prev||$(me,me.prev.prev)?nt=A.findWordAt(Qe):nt=new Oe(Lt(Qe.line,0),Fr(A.doc,Lt(Qe.line+1,0))),A.setSelection(nt.anchor,nt.head),A.focus(),rt(le)}E()}),Kt(f.scroller,"touchcancel",E),Kt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Kc(A,f.scroller.scrollTop),Aa(A,f.scroller.scrollLeft,!0),Pe(A,"scroll",A))}),Kt(f.scroller,"mousewheel",function(le){return de(A,le)}),Kt(f.scroller,"DOMMouseScroll",function(le){return de(A,le)}),Kt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(le){ce(A,le)||et(le)},over:function(le){ce(A,le)||($i(A,le),et(le))},start:function(le){return v0(A,le)},drop:Qi(A,Jp),leave:function(le){ce(A,le)||_0(A)}};var ne=f.input.getField();Kt(ne,"keyup",function(le){return oA.call(A,le)}),Kt(ne,"keydown",Qi(A,ef)),Kt(ne,"keypress",Qi(A,w0)),Kt(ne,"focus",function(le){return Hd(A,le)}),Kt(ne,"blur",function(le){return Tc(A,le)})}var am=[];Co.defineInitHook=function(A){return am.push(A)};function of(A,f,x,b){var E=A.doc,U;x==null&&(x="add"),x=="smart"&&(E.mode.indent?U=ea(A,f).state:x="prev");var $=A.options.tabSize,ne=Wn(E,f),le=pe(ne.text,null,$);ne.stateAfter&&(ne.stateAfter=null);var me=ne.text.match(/^\s*/)[0],Qe;if(!b&&!/\S/.test(ne.text))Qe=0,x="not";else if(x=="smart"&&(Qe=E.mode.indent(U,ne.text.slice(me.length),ne.text),Qe==ot||Qe>150)){if(!b)return;x="prev"}x=="prev"?f>E.first?Qe=pe(Wn(E,f-1).text,null,$):Qe=0:x=="add"?Qe=le+A.options.indentUnit:x=="subtract"?Qe=le-A.options.indentUnit:typeof x=="number"&&(Qe=le+x),Qe=Math.max(0,Qe);var nt="",Ot=0;if(A.options.indentWithTabs)for(var yt=Math.floor(Qe/$);yt;--yt)Ot+=$,nt+="	";if(Ot<Qe&&(nt+=gn(Qe-Ot)),nt!=me)return SA(E,nt,Lt(f,0),Lt(f,me.length),"+input"),ne.stateAfter=null,!0;for(var Wt=0;Wt<E.sel.ranges.length;Wt++){var cn=E.sel.ranges[Wt];if(cn.head.line==f&&cn.head.ch<me.length){var In=Lt(f,me.length);ws(E,Wt,new Oe(In,In));break}}}var Ku=null;function sm(A){Ku=A}function E0(A,f,x,b,E){var U=A.doc;A.display.shift=!1,b||(b=U.sel);var $=+new Date-200,ne=E=="paste"||A.state.pasteIncoming>$,le=Sr(f),me=null;if(ne&&b.ranges.length>1)if(Ku&&Ku.text.join(`
`)==f){if(b.ranges.length%Ku.text.length==0){me=[];for(var Qe=0;Qe<Ku.text.length;Qe++)me.push(U.splitLines(Ku.text[Qe]))}}else le.length==b.ranges.length&&A.options.pasteLinesPerSelection&&(me=er(le,function(Yn){return[Yn]}));for(var nt=A.curOp.updateInput,Ot=b.ranges.length-1;Ot>=0;Ot--){var yt=b.ranges[Ot],Wt=yt.from(),cn=yt.to();yt.empty()&&(x&&x>0?Wt=Lt(Wt.line,Wt.ch-x):A.state.overwrite&&!ne?cn=Lt(cn.line,Math.min(Wn(U,cn.line).text.length,cn.ch+yn(le).length)):ne&&Ku&&Ku.lineWise&&Ku.text.join(`
`)==le.join(`
`)&&(Wt=cn=Lt(Wt.line,0)));var In={from:Wt,to:cn,text:me?me[Ot%me.length]:le,origin:E||(ne?"paste":A.state.cutIncoming>$?"cut":"+input")};lu(A.doc,In),ko(A,"inputRead",A,In)}f&&!ne&&lm(A,f),ao(A),A.curOp.updateInput<2&&(A.curOp.updateInput=nt),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function sc(A,f){var x=A.clipboardData&&A.clipboardData.getData("Text");if(x)return A.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&f.hasFocus()&&ls(f,function(){return E0(f,x,0,null,"paste")}),!0}function lm(A,f){if(!(!A.options.electricChars||!A.options.smartIndent))for(var x=A.doc.sel,b=x.ranges.length-1;b>=0;b--){var E=x.ranges[b];if(!(E.head.ch>100||b&&x.ranges[b-1].head.line==E.head.line)){var U=A.getModeAt(E.head),$=!1;if(U.electricChars){for(var ne=0;ne<U.electricChars.length;ne++)if(f.indexOf(U.electricChars.charAt(ne))>-1){$=of(A,E.head.line,"smart");break}}else U.electricInput&&U.electricInput.test(Wn(A.doc,E.head.line).text.slice(0,E.head.ch))&&($=of(A,E.head.line,"smart"));$&&ko(A,"electricInput",A,E.head.line)}}}function af(A){for(var f=[],x=[],b=0;b<A.doc.sel.ranges.length;b++){var E=A.doc.sel.ranges[b].head.line,U={anchor:Lt(E,0),head:Lt(E+1,0)};x.push(U),f.push(A.getRange(U.anchor,U.head))}return{text:f,ranges:x}}function Dc(A,f,x,b){A.setAttribute("autocorrect",x?"on":"off"),A.setAttribute("autocapitalize",b?"on":"off"),A.setAttribute("spellcheck",!!f)}function lh(){var A=ge("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),f=ge("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _?A.style.width="1000px":A.setAttribute("wrap","off"),N&&(A.style.border="1px solid black"),f}function sf(A){var f=A.optionHandlers,x=A.helpers={};A.prototype={constructor:A,focus:function(){Qt(this).focus(),this.display.input.focus()},setOption:function(b,E){var U=this.options,$=U[b];U[b]==E&&b!="mode"||(U[b]=E,f.hasOwnProperty(b)&&Qi(this,f[b])(this,E,$),Pe(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,E){this.state.keyMaps[E?"push":"unshift"](Zh(b))},removeKeyMap:function(b){for(var E=this.state.keyMaps,U=0;U<E.length;++U)if(E[U]==b||E[U].name==b)return E.splice(U,1),!0},addOverlay:Yr(function(b,E){var U=b.token?b:A.getMode(this.options,b);if(U.startState)throw new Error("Overlays may not be stateful.");Ar(this.state.overlays,{mode:U,modeSpec:b,opaque:E&&E.opaque,priority:E&&E.priority||0},function($){return $.priority}),this.state.modeGen++,ga(this)}),removeOverlay:Yr(function(b){for(var E=this.state.overlays,U=0;U<E.length;++U){var $=E[U].modeSpec;if($==b||typeof b=="string"&&$.name==b){E.splice(U,1),this.state.modeGen++,ga(this);return}}}),indentLine:Yr(function(b,E,U){typeof E!="string"&&typeof E!="number"&&(E==null?E=this.options.smartIndent?"smart":"prev":E=E?"add":"subtract"),Vt(this.doc,b)&&of(this,b,E,U)}),indentSelection:Yr(function(b){for(var E=this.doc.sel.ranges,U=-1,$=0;$<E.length;$++){var ne=E[$];if(ne.empty())ne.head.line>U&&(of(this,ne.head.line,b,!0),U=ne.head.line,$==this.doc.sel.primIndex&&ao(this));else{var le=ne.from(),me=ne.to(),Qe=Math.max(U,le.line);U=Math.min(this.lastLine(),me.line-(me.ch?0:1))+1;for(var nt=Qe;nt<U;++nt)of(this,nt,b);var Ot=this.doc.sel.ranges;le.ch==0&&E.length==Ot.length&&Ot[$].from().ch>0&&ws(this.doc,$,new Oe(le,Ot[$].to()),St)}}}),getTokenAt:function(b,E){return gA(this,b,E)},getLineTokens:function(b,E){return gA(this,Lt(b),E,!0)},getTokenTypeAt:function(b){b=Fr(this.doc,b);var E=os(this,Wn(this.doc,b.line)),U=0,$=(E.length-1)/2,ne=b.ch,le;if(ne==0)le=E[2];else for(;;){var me=U+$>>1;if((me?E[me*2-1]:0)>=ne)$=me;else if(E[me*2+1]<ne)U=me+1;else{le=E[me*2+2];break}}var Qe=le?le.indexOf("overlay "):-1;return Qe<0?le:Qe==0?null:le.slice(0,Qe-1)},getModeAt:function(b){var E=this.doc.mode;return E.innerMode?A.innerMode(E,this.getTokenAt(b).state).mode:E},getHelper:function(b,E){return this.getHelpers(b,E)[0]},getHelpers:function(b,E){var U=[];if(!x.hasOwnProperty(E))return U;var $=x[E],ne=this.getModeAt(b);if(typeof ne[E]=="string")$[ne[E]]&&U.push($[ne[E]]);else if(ne[E])for(var le=0;le<ne[E].length;le++){var me=$[ne[E][le]];me&&U.push(me)}else ne.helperType&&$[ne.helperType]?U.push($[ne.helperType]):$[ne.name]&&U.push($[ne.name]);for(var Qe=0;Qe<$._global.length;Qe++){var nt=$._global[Qe];nt.pred(ne,this)&&Re(U,nt.val)==-1&&U.push(nt.val)}return U},getStateAfter:function(b,E){var U=this.doc;return b=Ta(U,b??U.first+U.size-1),ea(this,b+1,E).state},cursorCoords:function(b,E){var U,$=this.doc.sel.primary();return b==null?U=$.head:typeof b=="object"?U=Fr(this.doc,b):U=b?$.from():$.to(),jt(this,U,E||"page")},charCoords:function(b,E){return an(this,Fr(this.doc,b),E||"page")},coordsChar:function(b,E){return b=Et(this,b,E||"page"),oo(this,b.left,b.top)},lineAtHeight:function(b,E){return b=Et(this,{top:b,left:0},E||"page").top,Je(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,E,U){var $=!1,ne;if(typeof b=="number"){var le=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>le&&(b=le,$=!0),ne=Wn(this.doc,b)}else ne=b;return iu(this,ne,{top:0,left:0},E||"page",U||$).top+($?this.doc.height-Bo(ne):0)},defaultTextHeight:function(){return Qa(this.display)},defaultCharWidth:function(){return $u(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,E,U,$,ne){var le=this.display;b=jt(this,Fr(this.doc,b));var me=b.bottom,Qe=b.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),le.sizer.appendChild(E),$=="over")me=b.top;else if($=="above"||$=="near"){var nt=Math.max(le.wrapper.clientHeight,this.doc.height),Ot=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);($=="above"||b.bottom+E.offsetHeight>nt)&&b.top>E.offsetHeight?me=b.top-E.offsetHeight:b.bottom+E.offsetHeight<=nt&&(me=b.bottom),Qe+E.offsetWidth>Ot&&(Qe=Ot-E.offsetWidth)}E.style.top=me+"px",E.style.left=E.style.right="",ne=="right"?(Qe=le.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):(ne=="left"?Qe=0:ne=="middle"&&(Qe=(le.sizer.clientWidth-E.offsetWidth)/2),E.style.left=Qe+"px"),U&&zh(this,{left:Qe,top:me,right:Qe+E.offsetWidth,bottom:me+E.offsetHeight})},triggerOnKeyDown:Yr(ef),triggerOnKeyPress:Yr(w0),triggerOnKeyUp:oA,triggerOnMouseDown:Yr(M0),execCommand:function(b){if(sp.hasOwnProperty(b))return sp[b].call(null,this)},triggerElectric:Yr(function(b){lm(this,b)}),findPosH:function(b,E,U,$){var ne=1;E<0&&(ne=-1,E=-E);for(var le=Fr(this.doc,b),me=0;me<E&&(le=Xr(this.doc,le,ne,U,$),!le.hitSide);++me);return le},moveH:Yr(function(b,E){var U=this;this.extendSelectionsBy(function($){return U.display.shift||U.doc.extend||$.empty()?Xr(U.doc,$.head,b,E,U.options.rtlMoveVisually):b<0?$.from():$.to()},zt)}),deleteH:Yr(function(b,E){var U=this.doc.sel,$=this.doc;U.somethingSelected()?$.replaceSelection("",null,"+delete"):Au(this,function(ne){var le=Xr($,ne.head,b,E,!1);return b<0?{from:le,to:ne.head}:{from:ne.head,to:le}})}),findPosV:function(b,E,U,$){var ne=1,le=$;E<0&&(ne=-1,E=-E);for(var me=Fr(this.doc,b),Qe=0;Qe<E;++Qe){var nt=jt(this,me,"div");if(le==null?le=nt.left:nt.left=le,me=lf(this,nt,ne,U),me.hitSide)break}return me},moveV:Yr(function(b,E){var U=this,$=this.doc,ne=[],le=!this.display.shift&&!$.extend&&$.sel.somethingSelected();if($.extendSelectionsBy(function(Qe){if(le)return b<0?Qe.from():Qe.to();var nt=jt(U,Qe.head,"div");Qe.goalColumn!=null&&(nt.left=Qe.goalColumn),ne.push(nt.left);var Ot=lf(U,nt,b,E);return E=="page"&&Qe==$.sel.primary()&&Zf(U,an(U,Ot,"div").top-nt.top),Ot},zt),ne.length)for(var me=0;me<$.sel.ranges.length;me++)$.sel.ranges[me].goalColumn=ne[me]}),findWordAt:function(b){var E=this.doc,U=Wn(E,b.line).text,$=b.ch,ne=b.ch;if(U){var le=this.getHelper(b,"wordChars");(b.sticky=="before"||ne==U.length)&&$?--$:++ne;for(var me=U.charAt($),Qe=Ee(me,le)?function(nt){return Ee(nt,le)}:/\s/.test(me)?function(nt){return/\s/.test(nt)}:function(nt){return!/\s/.test(nt)&&!Ee(nt)};$>0&&Qe(U.charAt($-1));)--$;for(;ne<U.length&&Qe(U.charAt(ne));)++ne}return new Oe(Lt(b.line,$),Lt(b.line,ne))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?je(this.display.cursorDiv,"CodeMirror-overwrite"):Le(this.display.cursorDiv,"CodeMirror-overwrite"),Pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Ht(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Yr(function(b,E){ua(this,b,E)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-Su(this)-this.display.barHeight,width:b.scrollWidth-Su(this)-this.display.barWidth,clientHeight:YA(this),clientWidth:_A(this)}},scrollIntoView:Yr(function(b,E){b==null?(b={from:this.doc.sel.primary().head,to:null},E==null&&(E=this.options.cursorScrollMargin)):typeof b=="number"?b={from:Lt(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=E||0,b.from.line!=null?br(this,b):wA(this,b.from,b.to,b.margin)}),setSize:Yr(function(b,E){var U=this,$=function(le){return typeof le=="number"||/^\d+$/.test(String(le))?le+"px":le};b!=null&&(this.display.wrapper.style.width=$(b)),E!=null&&(this.display.wrapper.style.height=$(E)),this.options.lineWrapping&&kc(this);var ne=this.display.viewFrom;this.doc.iter(ne,this.display.viewTo,function(le){if(le.widgets){for(var me=0;me<le.widgets.length;me++)if(le.widgets[me].noHScroll){Al(U,ne,"widget");break}}++ne}),this.curOp.forceUpdate=!0,Pe(this,"refresh",this)}),operation:function(b){return ls(this,b)},startOperation:function(){return tA(this)},endOperation:function(){return wl(this)},refresh:Yr(function(){var b=this.display.cachedTextHeight;ga(this),this.curOp.forceUpdate=!0,Ou(this),ua(this,this.doc.scrollLeft,this.doc.scrollTop),Zd(this.display),(b==null||Math.abs(b-Qa(this.display))>.5||this.options.lineWrapping)&&Rh(this),Pe(this,"refresh",this)}),swapDoc:Yr(function(b){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),un(this,b),Ou(this),this.display.input.reset(),ua(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,ko(this,"swapDoc",this,E),E}),phrase:function(b){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,b)?E[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ze(A),A.registerHelper=function(b,E,U){x.hasOwnProperty(b)||(x[b]=A[b]={_global:[]}),x[b][E]=U},A.registerGlobalHelper=function(b,E,U,$){A.registerHelper(b,E,$),x[b]._global.push({pred:U,val:$})}}function Xr(A,f,x,b,E){var U=f,$=x,ne=Wn(A,f.line),le=E&&A.direction=="rtl"?-x:x;function me(){var bn=f.line+le;return bn<A.first||bn>=A.first+A.size?!1:(f=new Lt(bn,f.ch,f.sticky),ne=Wn(A,bn))}function Qe(bn){var Ln;if(b=="codepoint"){var ar=ne.text.charCodeAt(f.ch+(x>0?0:-1));if(isNaN(ar))Ln=null;else{var Tr=x>0?ar>=55296&&ar<56320:ar>=56320&&ar<57343;Ln=new Lt(f.line,Math.max(0,Math.min(ne.text.length,f.ch+x*(Tr?2:1))),-x)}}else E?Ln=yd(A.cm,ne,f,x):Ln=op(ne,f,x);if(Ln==null)if(!bn&&me())f=ap(E,A.cm,ne,f.line,le);else return!1;else f=Ln;return!0}if(b=="char"||b=="codepoint")Qe();else if(b=="column")Qe(!0);else if(b=="word"||b=="group")for(var nt=null,Ot=b=="group",yt=A.cm&&A.cm.getHelper(f,"wordChars"),Wt=!0;!(x<0&&!Qe(!Wt));Wt=!1){var cn=ne.text.charAt(f.ch)||`
`,In=Ee(cn,yt)?"w":Ot&&cn==`
`?"n":!Ot||/\s/.test(cn)?null:"p";if(Ot&&!Wt&&!In&&(In="s"),nt&&nt!=In){x<0&&(x=1,Qe(),f.sticky="after");break}if(In&&(nt=In),x>0&&!Qe(!Wt))break}var Yn=Ss(A,f,U,$,!0);return dr(U,Yn)&&(Yn.hitSide=!0),Yn}function lf(A,f,x,b){var E=A.doc,U=f.left,$;if(b=="page"){var ne=Math.min(A.display.wrapper.clientHeight,Qt(A).innerHeight||E(A).documentElement.clientHeight),le=Math.max(ne-.5*Qa(A.display),3);$=(x>0?f.bottom:f.top)+x*le}else b=="line"&&($=x>0?f.bottom+3:f.top-3);for(var me;me=oo(A,U,$),!!me.outside;){if(x<0?$<=0:$>=E.height){me.hitSide=!0;break}$+=x*5}return me}var Mo=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Me,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Mo.prototype.init=function(A){var f=this,x=this,b=x.cm,E=x.div=A.lineDiv;E.contentEditable=!0,Dc(E,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function U(ne){for(var le=ne.target;le;le=le.parentNode){if(le==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(le.className))break}return!1}Kt(E,"paste",function(ne){!U(ne)||ce(b,ne)||sc(ne,b)||g<=11&&setTimeout(Qi(b,function(){return f.updateFromDOM()}),20)}),Kt(E,"compositionstart",function(ne){f.composing={data:ne.data,done:!1}}),Kt(E,"compositionupdate",function(ne){f.composing||(f.composing={data:ne.data,done:!1})}),Kt(E,"compositionend",function(ne){f.composing&&(ne.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Kt(E,"touchstart",function(){return x.forceCompositionEnd()}),Kt(E,"input",function(){f.composing||f.readFromDOMSoon()});function $(ne){if(!(!U(ne)||ce(b,ne))){if(b.somethingSelected())sm({lineWise:!1,text:b.getSelections()}),ne.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var le=af(b);sm({lineWise:!0,text:le.text}),ne.type=="cut"&&b.operation(function(){b.setSelections(le.ranges,0,St),b.replaceSelection("",null,"cut")})}else return;if(ne.clipboardData){ne.clipboardData.clearData();var me=Ku.text.join(`
`);if(ne.clipboardData.setData("Text",me),ne.clipboardData.getData("Text")==me){ne.preventDefault();return}}var Qe=lh(),nt=Qe.firstChild;Dc(nt),b.display.lineSpace.insertBefore(Qe,b.display.lineSpace.firstChild),nt.value=Ku.text.join(`
`);var Ot=mt(Ct(E));Xe(nt),setTimeout(function(){b.display.lineSpace.removeChild(Qe),Ot.focus(),Ot==E&&x.showPrimarySelection()},50)}}Kt(E,"copy",$),Kt(E,"cut",$)},Mo.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Mo.prototype.prepareSelection=function(){var A=Vn(this.cm,!1);return A.focus=mt(Ct(this.div))==this.div,A},Mo.prototype.showSelection=function(A,f){!A||!this.cm.display.view.length||((A.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Mo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Mo.prototype.showPrimarySelection=function(){var A=this.getSelection(),f=this.cm,x=f.doc.sel.primary(),b=x.from(),E=x.to();if(f.display.viewTo==f.display.viewFrom||b.line>=f.display.viewTo||E.line<f.display.viewFrom){A.removeAllRanges();return}var U=Rs(f,A.anchorNode,A.anchorOffset),$=Rs(f,A.focusNode,A.focusOffset);if(!(U&&!U.bad&&$&&!$.bad&&wn(Xo(U,$),b)==0&&wn(si(U,$),E)==0)){var ne=f.display.view,le=b.line>=f.display.viewFrom&&Cd(f,b)||{node:ne[0].measure.map[2],offset:0},me=E.line<f.display.viewTo&&Cd(f,E);if(!me){var Qe=ne[ne.length-1].measure,nt=Qe.maps?Qe.maps[Qe.maps.length-1]:Qe.map;me={node:nt[nt.length-1],offset:nt[nt.length-2]-nt[nt.length-3]}}if(!le||!me){A.removeAllRanges();return}var Ot=A.rangeCount&&A.getRangeAt(0),yt;try{yt=Mt(le.node,le.offset,me.offset,me.node)}catch{}yt&&(!i&&f.state.focused?(A.collapse(le.node,le.offset),yt.collapsed||(A.removeAllRanges(),A.addRange(yt))):(A.removeAllRanges(),A.addRange(yt)),Ot&&A.anchorNode==null?A.addRange(Ot):i&&this.startGracePeriod()),this.rememberSelection()}},Mo.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Mo.prototype.showMultipleSelections=function(A){qe(this.cm.display.cursorDiv,A.cursors),qe(this.cm.display.selectionDiv,A.selection)},Mo.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Mo.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var f=A.getRangeAt(0).commonAncestorContainer;return dt(this.div,f)},Mo.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(Ct(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Mo.prototype.blur=function(){this.div.blur()},Mo.prototype.getField=function(){return this.div},Mo.prototype.supportsTouch=function(){return!0},Mo.prototype.receivedFocus=function(){var A=this,f=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):ls(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function x(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},Mo.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Mo.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),f=this.cm;if(Z&&k&&this.cm.display.gutterSpecs.length&&dp(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=Rs(f,A.anchorNode,A.anchorOffset),b=Rs(f,A.focusNode,A.focusOffset);x&&b&&ls(f,function(){Ri(f.doc,$e(x,b),St),(x.bad||b.bad)&&(f.curOp.selectionChanged=!0)})}}},Mo.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,f=A.display,x=A.doc.sel.primary(),b=x.from(),E=x.to();if(b.ch==0&&b.line>A.firstLine()&&(b=Lt(b.line-1,Wn(A.doc,b.line-1).length)),E.ch==Wn(A.doc,E.line).text.length&&E.line<A.lastLine()&&(E=Lt(E.line+1,0)),b.line<f.viewFrom||E.line>f.viewTo-1)return!1;var U,$,ne;b.line==f.viewFrom||(U=HA(A,b.line))==0?($=ve(f.view[0].line),ne=f.view[0].node):($=ve(f.view[U].line),ne=f.view[U-1].node.nextSibling);var le=HA(A,E.line),me,Qe;if(le==f.view.length-1?(me=f.viewTo-1,Qe=f.lineDiv.lastChild):(me=ve(f.view[le+1].line)-1,Qe=f.view[le+1].node.previousSibling),!ne)return!1;for(var nt=A.doc.splitLines(ig(A,ne,Qe,$,me)),Ot=ro(A.doc,Lt($,0),Lt(me,Wn(A.doc,me).text.length));nt.length>1&&Ot.length>1;)if(yn(nt)==yn(Ot))nt.pop(),Ot.pop(),me--;else if(nt[0]==Ot[0])nt.shift(),Ot.shift(),$++;else break;for(var yt=0,Wt=0,cn=nt[0],In=Ot[0],Yn=Math.min(cn.length,In.length);yt<Yn&&cn.charCodeAt(yt)==In.charCodeAt(yt);)++yt;for(var bn=yn(nt),Ln=yn(Ot),ar=Math.min(bn.length-(nt.length==1?yt:0),Ln.length-(Ot.length==1?yt:0));Wt<ar&&bn.charCodeAt(bn.length-Wt-1)==Ln.charCodeAt(Ln.length-Wt-1);)++Wt;if(nt.length==1&&Ot.length==1&&$==b.line)for(;yt&&yt>b.ch&&bn.charCodeAt(bn.length-Wt-1)==Ln.charCodeAt(Ln.length-Wt-1);)yt--,Wt++;nt[nt.length-1]=bn.slice(0,bn.length-Wt).replace(/^\u200b+/,""),nt[0]=nt[0].slice(yt).replace(/\u200b+$/,"");var Tr=Lt($,yt),_r=Lt(me,Ot.length?yn(Ot).length-Wt:0);if(nt.length>1||nt[0]||wn(Tr,_r))return SA(A.doc,nt,Tr,_r,"+input"),!0},Mo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Mo.prototype.reset=function(){this.forceCompositionEnd()},Mo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Mo.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Mo.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&ls(this.cm,function(){return ga(A.cm)})},Mo.prototype.setUneditable=function(A){A.contentEditable="false"},Mo.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||Qi(this.cm,E0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Mo.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Mo.prototype.onContextMenu=function(){},Mo.prototype.resetPosition=function(){},Mo.prototype.needsContentAttribute=!0;function Cd(A,f){var x=ad(A,f.line);if(!x||x.hidden)return null;var b=Wn(A.doc,f.line),E=qf(x,b,f.line),U=On(b,A.doc.direction),$="left";if(U){var ne=fn(U,f.ch);$=ne%2?"right":"left"}var le=CA(E.map,f.ch,$);return le.offset=le.collapse=="right"?le.end:le.start,le}function dp(A){for(var f=A;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function Lc(A,f){return f&&(A.bad=!0),A}function ig(A,f,x,b,E){var U="",$=!1,ne=A.doc.lineSeparator(),le=!1;function me(yt){return function(Wt){return Wt.id==yt}}function Qe(){$&&(U+=ne,le&&(U+=ne),$=le=!1)}function nt(yt){yt&&(Qe(),U+=yt)}function Ot(yt){if(yt.nodeType==1){var Wt=yt.getAttribute("cm-text");if(Wt){nt(Wt);return}var cn=yt.getAttribute("cm-marker"),In;if(cn){var Yn=A.findMarks(Lt(b,0),Lt(E+1,0),me(+cn));Yn.length&&(In=Yn[0].find(0))&&nt(ro(A.doc,In.from,In.to).join(ne));return}if(yt.getAttribute("contenteditable")=="false")return;var bn=/^(pre|div|p|li|table|br)$/i.test(yt.nodeName);if(!/^br$/i.test(yt.nodeName)&&yt.textContent.length==0)return;bn&&Qe();for(var Ln=0;Ln<yt.childNodes.length;Ln++)Ot(yt.childNodes[Ln]);/^(pre|p)$/i.test(yt.nodeName)&&(le=!0),bn&&($=!0)}else yt.nodeType==3&&nt(yt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ot(f),f!=x;)f=f.nextSibling,le=!1;return U}function Rs(A,f,x){var b;if(f==A.display.lineDiv){if(b=A.display.lineDiv.childNodes[x],!b)return Lc(A.clipPos(Lt(A.display.viewTo-1)),!0);f=null,x=0}else for(b=f;;b=b.parentNode){if(!b||b==A.display.lineDiv)return null;if(b.parentNode&&b.parentNode==A.display.lineDiv)break}for(var E=0;E<A.display.view.length;E++){var U=A.display.view[E];if(U.node==b)return Pv(U,f,x)}}function Pv(A,f,x){var b=A.text.firstChild,E=!1;if(!f||!dt(b,f))return Lc(Lt(ve(A.line),0),!0);if(f==b&&(E=!0,f=b.childNodes[x],x=0,!f)){var U=A.rest?yn(A.rest):A.line;return Lc(Lt(ve(U),U.text.length),E)}var $=f.nodeType==3?f:null,ne=f;for(!$&&f.childNodes.length==1&&f.firstChild.nodeType==3&&($=f.firstChild,x&&(x=$.nodeValue.length));ne.parentNode!=b;)ne=ne.parentNode;var le=A.measure,me=le.maps;function Qe(In,Yn,bn){for(var Ln=-1;Ln<(me?me.length:0);Ln++)for(var ar=Ln<0?le.map:me[Ln],Tr=0;Tr<ar.length;Tr+=3){var _r=ar[Tr+2];if(_r==In||_r==Yn){var hi=ve(Ln<0?A.line:A.rest[Ln]),Uo=ar[Tr]+bn;return(bn<0||_r!=In)&&(Uo=ar[Tr+(bn?1:0)]),Lt(hi,Uo)}}}var nt=Qe($,ne,x);if(nt)return Lc(nt,E);for(var Ot=ne.nextSibling,yt=$?$.nodeValue.length-x:0;Ot;Ot=Ot.nextSibling){if(nt=Qe(Ot,Ot.firstChild,0),nt)return Lc(Lt(nt.line,nt.ch-yt),E);yt+=Ot.textContent.length}for(var Wt=ne.previousSibling,cn=x;Wt;Wt=Wt.previousSibling){if(nt=Qe(Wt,Wt.firstChild,-1),nt)return Lc(Lt(nt.line,nt.ch+cn),E);cn+=Wt.textContent.length}}var $a=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Me,this.hasSelection=!1,this.composing=null,this.resetting=!1};$a.prototype.init=function(A){var f=this,x=this,b=this.cm;this.createField(A);var E=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),N&&(E.style.width="0px"),Kt(E,"input",function(){h&&g>=9&&f.hasSelection&&(f.hasSelection=null),x.poll()}),Kt(E,"paste",function($){ce(b,$)||sc($,b)||(b.state.pasteIncoming=+new Date,x.fastPoll())});function U($){if(!ce(b,$)){if(b.somethingSelected())sm({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var ne=af(b);sm({lineWise:!0,text:ne.text}),$.type=="cut"?b.setSelections(ne.ranges,null,St):(x.prevInput="",E.value=ne.text.join(`
`),Xe(E))}else return;$.type=="cut"&&(b.state.cutIncoming=+new Date)}}Kt(E,"cut",U),Kt(E,"copy",U),Kt(A.scroller,"paste",function($){if(!(Fl(A,$)||ce(b,$))){if(!E.dispatchEvent){b.state.pasteIncoming=+new Date,x.focus();return}var ne=new Event("paste");ne.clipboardData=$.clipboardData,E.dispatchEvent(ne)}}),Kt(A.lineSpace,"selectstart",function($){Fl(A,$)||rt($)}),Kt(E,"compositionstart",function(){var $=b.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:$,range:b.markText($,b.getCursor("to"),{className:"CodeMirror-composing"})}}),Kt(E,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},$a.prototype.createField=function(A){this.wrapper=lh(),this.textarea=this.wrapper.firstChild;var f=this.cm.options;Dc(this.textarea,f.spellcheck,f.autocorrect,f.autocapitalize)},$a.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},$a.prototype.prepareSelection=function(){var A=this.cm,f=A.display,x=A.doc,b=Vn(A);if(A.options.moveInputWithCursor){var E=jt(A,x.sel.primary().head,"div"),U=f.wrapper.getBoundingClientRect(),$=f.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,E.top+$.top-U.top)),b.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,E.left+$.left-U.left))}return b},$a.prototype.showSelection=function(A){var f=this.cm,x=f.display;qe(x.cursorDiv,A.cursors),qe(x.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},$a.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var f=this.cm;if(this.resetting=!0,f.somethingSelected()){this.prevInput="";var x=f.getSelection();this.textarea.value=x,f.state.focused&&Xe(this.textarea),h&&g>=9&&(this.hasSelection=x)}else A||(this.prevInput=this.textarea.value="",h&&g>=9&&(this.hasSelection=null));this.resetting=!1}},$a.prototype.getField=function(){return this.textarea},$a.prototype.supportsTouch=function(){return!1},$a.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ue||mt(Ct(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},$a.prototype.blur=function(){this.textarea.blur()},$a.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},$a.prototype.receivedFocus=function(){this.slowPoll()},$a.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},$a.prototype.fastPoll=function(){var A=!1,f=this;f.pollingFast=!0;function x(){var b=f.poll();!b&&!A?(A=!0,f.polling.set(60,x)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,x)},$a.prototype.poll=function(){var A=this,f=this.cm,x=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!f.state.focused||lr(x)&&!b&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var E=x.value;if(E==b&&!f.somethingSelected())return!1;if(h&&g>=9&&this.hasSelection===E||ye&&/[\uf700-\uf7ff]/.test(E))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var U=E.charCodeAt(0);if(U==8203&&!b&&(b="​"),U==8666)return this.reset(),this.cm.execCommand("undo")}for(var $=0,ne=Math.min(b.length,E.length);$<ne&&b.charCodeAt($)==E.charCodeAt($);)++$;return ls(f,function(){E0(f,E.slice($),b.length-$,null,A.composing?"*compose":null),E.length>1e3||E.indexOf(`
`)>-1?x.value=A.prevInput="":A.prevInput=E,A.composing&&(A.composing.range.clear(),A.composing.range=f.markText(A.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},$a.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},$a.prototype.onKeyPress=function(){h&&g>=9&&(this.hasSelection=null),this.fastPoll()},$a.prototype.onContextMenu=function(A){var f=this,x=f.cm,b=x.display,E=f.textarea;f.contextMenuPending&&f.contextMenuPending();var U=ou(x,A),$=b.scroller.scrollTop;if(!U||F)return;var ne=x.options.resetSelectionOnContextMenu;ne&&x.doc.sel.contains(U)==-1&&Qi(x,Ri)(x.doc,$e(U),St);var le=E.style.cssText,me=f.wrapper.style.cssText,Qe=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",E.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-Qe.top-5)+"px; left: "+(A.clientX-Qe.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var nt;_&&(nt=E.ownerDocument.defaultView.scrollY),b.input.focus(),_&&E.ownerDocument.defaultView.scrollTo(null,nt),b.input.reset(),x.somethingSelected()||(E.value=f.prevInput=" "),f.contextMenuPending=yt,b.selForContextMenu=x.doc.sel,clearTimeout(b.detectingSelectAll);function Ot(){if(E.selectionStart!=null){var cn=x.somethingSelected(),In="​"+(cn?E.value:"");E.value="⇚",E.value=In,f.prevInput=cn?"":"​",E.selectionStart=1,E.selectionEnd=In.length,b.selForContextMenu=x.doc.sel}}function yt(){if(f.contextMenuPending==yt&&(f.contextMenuPending=!1,f.wrapper.style.cssText=me,E.style.cssText=le,h&&g<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=$),E.selectionStart!=null)){(!h||h&&g<9)&&Ot();var cn=0,In=function(){b.selForContextMenu==x.doc.sel&&E.selectionStart==0&&E.selectionEnd>0&&f.prevInput=="​"?Qi(x,oc)(x):cn++<10?b.detectingSelectAll=setTimeout(In,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(In,200)}}if(h&&g>=9&&Ot(),Se){et(A);var Wt=function(){nr(window,"mouseup",Wt),setTimeout(yt,20)};Kt(window,"mouseup",Wt)}else setTimeout(yt,50)},$a.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},$a.prototype.setUneditable=function(){},$a.prototype.needsContentAttribute=!1;function og(A,f){if(f=f?Ie(f):{},f.value=A.value,!f.tabindex&&A.tabIndex&&(f.tabindex=A.tabIndex),!f.placeholder&&A.placeholder&&(f.placeholder=A.placeholder),f.autofocus==null){var x=mt(Ct(A));f.autofocus=x==A||A.getAttribute("autofocus")!=null&&x==document.body}function b(){A.value=ne.getValue()}var E;if(A.form&&(Kt(A.form,"submit",b),!f.leaveSubmitMethodAlone)){var U=A.form;E=U.submit;try{var $=U.submit=function(){b(),U.submit=E,U.submit(),U.submit=$}}catch{}}f.finishInit=function(le){le.save=b,le.getTextArea=function(){return A},le.toTextArea=function(){le.toTextArea=isNaN,b(),A.parentNode.removeChild(le.getWrapperElement()),A.style.display="",A.form&&(nr(A.form,"submit",b),!f.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=E))}},A.style.display="none";var ne=Co(function(le){return A.parentNode.insertBefore(le,A.nextSibling)},f);return ne}function Fv(A){A.off=nr,A.on=Kt,A.wheelEventPixels=ie,A.Doc=Es,A.splitLines=Sr,A.countColumn=pe,A.findColumn=pt,A.isWordChar=_i,A.Pass=ot,A.signal=Pe,A.Line=Pl,A.changeEnd=He,A.scrollbarModel=Qo,A.Pos=Lt,A.cmpPos=wn,A.modes=or,A.mimeModes=ci,A.resolveMode=ho,A.getMode=ai,A.modeExtensions=fo,A.extendMode=ja,A.copyState=Ba,A.startState=is,A.innerMode=Mi,A.commands=sp,A.keyMap=EA,A.keyName=md,A.isModifierKey=tm,A.lookupKey=Tu,A.normalizeKeyMap=Iu,A.StringStream=gi,A.SharedTextMarker=Jd,A.TextMarker=uu,A.LineWidget=iA,A.e_preventDefault=rt,A.e_stopPropagation=st,A.e_stop=et,A.addClass=je,A.contains=dt,A.rmClass=Le,A.keyNames=Fa}S0(Co),sf(Co);var O0="iter insert remove copy getEditor constructor".split(" ");for(var uf in Es.prototype)Es.prototype.hasOwnProperty(uf)&&Re(O0,uf)<0&&(Co.prototype[uf]=function(A){return function(){return A.apply(this.doc,arguments)}}(Es.prototype[uf]));return ze(Es),Co.inputStyles={textarea:$a,contenteditable:Mo},Co.defineMode=function(A){!Co.defaults.mode&&A!="null"&&(Co.defaults.mode=A),Li.apply(this,arguments)},Co.defineMIME=to,Co.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),Co.defineMIME("text/plain","null"),Co.defineExtension=function(A,f){Co.prototype[A]=f},Co.defineDocExtension=function(A,f){Es.prototype[A]=f},Co.fromTextArea=og,Fv(Co),Co.version="5.65.16",Co})}(qS)),qS.exports}var F0e=xw();const Gc=Oa(F0e);(function(e,t){(function(n){n(xw())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,a=i.statementIndent,s=i.jsonld,h=i.json||s,g=i.trackScope!==!1,_=i.typescript,B=i.wordCharacters||/[\w$\xa1-\uffff]/,k=function(){function ve(ri){return{type:ri,style:"keyword"}}var Je=ve("keyword a"),Vt=ve("keyword b"),sn=ve("keyword c"),Lt=ve("keyword d"),wn=ve("operator"),dr={type:"atom",style:"atom"};return{if:ve("if"),while:Je,with:Je,else:Vt,do:Vt,try:Vt,finally:Vt,return:Lt,break:Lt,continue:Lt,new:ve("new"),delete:sn,void:sn,throw:sn,debugger:ve("debugger"),var:ve("var"),const:ve("var"),let:ve("var"),function:ve("function"),catch:ve("catch"),for:ve("for"),switch:ve("switch"),case:ve("case"),default:ve("default"),in:wn,typeof:wn,instanceof:wn,true:dr,false:dr,null:dr,undefined:dr,NaN:dr,Infinity:dr,this:ve("this"),class:ve("class"),super:ve("atom"),yield:sn,export:ve("export"),import:ve("import"),extends:sn,await:sn}}(),P=/[+\-*&%=<>!?|~^@]/,F=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function q(ve){for(var Je=!1,Vt,sn=!1;(Vt=ve.next())!=null;){if(!Je){if(Vt=="/"&&!sn)return;Vt=="["?sn=!0:sn&&Vt=="]"&&(sn=!1)}Je=!Je&&Vt=="\\"}}var ee,H;function N(ve,Je,Vt){return ee=ve,H=Vt,Je}function Z(ve,Je){var Vt=ve.next();if(Vt=='"'||Vt=="'")return Je.tokenize=ue(Vt),Je.tokenize(ve,Je);if(Vt=="."&&ve.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(Vt=="."&&ve.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Vt))return N(Vt);if(Vt=="="&&ve.eat(">"))return N("=>","operator");if(Vt=="0"&&ve.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(Vt))return ve.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(Vt=="/")return ve.eat("*")?(Je.tokenize=ye,ye(ve,Je)):ve.eat("/")?(ve.skipToEnd(),N("comment","comment")):Ui(ve,Je,1)?(q(ve),ve.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(ve.eat("="),N("operator","operator",ve.current()));if(Vt=="`")return Je.tokenize=be,be(ve,Je);if(Vt=="#"&&ve.peek()=="!")return ve.skipToEnd(),N("meta","meta");if(Vt=="#"&&ve.eatWhile(B))return N("variable","property");if(Vt=="<"&&ve.match("!--")||Vt=="-"&&ve.match("->")&&!/\S/.test(ve.string.slice(0,ve.start)))return ve.skipToEnd(),N("comment","comment");if(P.test(Vt))return(Vt!=">"||!Je.lexical||Je.lexical.type!=">")&&(ve.eat("=")?(Vt=="!"||Vt=="=")&&ve.eat("="):/[<>*+\-|&?]/.test(Vt)&&(ve.eat(Vt),Vt==">"&&ve.eat(Vt))),Vt=="?"&&ve.eat(".")?N("."):N("operator","operator",ve.current());if(B.test(Vt)){ve.eatWhile(B);var sn=ve.current();if(Je.lastType!="."){if(k.propertyIsEnumerable(sn)){var Lt=k[sn];return N(Lt.type,Lt.style,sn)}if(sn=="async"&&ve.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",sn)}return N("variable","variable",sn)}}function ue(ve){return function(Je,Vt){var sn=!1,Lt;if(s&&Je.peek()=="@"&&Je.match(F))return Vt.tokenize=Z,N("jsonld-keyword","meta");for(;(Lt=Je.next())!=null&&!(Lt==ve&&!sn);)sn=!sn&&Lt=="\\";return sn||(Vt.tokenize=Z),N("string","string")}}function ye(ve,Je){for(var Vt=!1,sn;sn=ve.next();){if(sn=="/"&&Vt){Je.tokenize=Z;break}Vt=sn=="*"}return N("comment","comment")}function be(ve,Je){for(var Vt=!1,sn;(sn=ve.next())!=null;){if(!Vt&&(sn=="`"||sn=="$"&&ve.eat("{"))){Je.tokenize=Z;break}Vt=!Vt&&sn=="\\"}return N("quasi","string-2",ve.current())}var J="([{}])";function se(ve,Je){Je.fatArrowAt&&(Je.fatArrowAt=null);var Vt=ve.string.indexOf("=>",ve.start);if(!(Vt<0)){if(_){var sn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ve.string.slice(ve.start,Vt));sn&&(Vt=sn.index)}for(var Lt=0,wn=!1,dr=Vt-1;dr>=0;--dr){var ri=ve.string.charAt(dr),si=J.indexOf(ri);if(si>=0&&si<3){if(!Lt){++dr;break}if(--Lt==0){ri=="("&&(wn=!0);break}}else if(si>=3&&si<6)++Lt;else if(B.test(ri))wn=!0;else if(/["'\/`]/.test(ri))for(;;--dr){if(dr==0)return;var Xo=ve.string.charAt(dr-1);if(Xo==ri&&ve.string.charAt(dr-2)!="\\"){dr--;break}}else if(wn&&!Lt){++dr;break}}wn&&!Lt&&(Je.fatArrowAt=dr)}}var xe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Se(ve,Je,Vt,sn,Lt,wn){this.indented=ve,this.column=Je,this.type=Vt,this.prev=Lt,this.info=wn,sn!=null&&(this.align=sn)}function De(ve,Je){if(!g)return!1;for(var Vt=ve.localVars;Vt;Vt=Vt.next)if(Vt.name==Je)return!0;for(var sn=ve.context;sn;sn=sn.prev)for(var Vt=sn.vars;Vt;Vt=Vt.next)if(Vt.name==Je)return!0}function Le(ve,Je,Vt,sn,Lt){var wn=ve.cc;for(he.state=ve,he.stream=Lt,he.marked=null,he.cc=wn,he.style=Je,ve.lexical.hasOwnProperty("align")||(ve.lexical.align=!0);;){var dr=wn.length?wn.pop():h?Re:pe;if(dr(Vt,sn)){for(;wn.length&&wn[wn.length-1].lex;)wn.pop()();return he.marked?he.marked:Vt=="variable"&&De(ve,sn)?"variable-2":Je}}}var he={state:null,column:null,marked:null,cc:null};function qe(){for(var ve=arguments.length-1;ve>=0;ve--)he.cc.push(arguments[ve])}function ge(){return qe.apply(null,arguments),!0}function _t(ve,Je){for(var Vt=Je;Vt;Vt=Vt.next)if(Vt.name==ve)return!0;return!1}function Mt(ve){var Je=he.state;if(he.marked="def",!!g){if(Je.context){if(Je.lexical.info=="var"&&Je.context&&Je.context.block){var Vt=dt(ve,Je.context);if(Vt!=null){Je.context=Vt;return}}else if(!_t(ve,Je.localVars)){Je.localVars=new Ve(ve,Je.localVars);return}}i.globalVars&&!_t(ve,Je.globalVars)&&(Je.globalVars=new Ve(ve,Je.globalVars))}}function dt(ve,Je){if(Je)if(Je.block){var Vt=dt(ve,Je.prev);return Vt?Vt==Je.prev?Je:new je(Vt,Je.vars,!0):null}else return _t(ve,Je.vars)?Je:new je(Je.prev,new Ve(ve,Je.vars),!1);else return null}function mt(ve){return ve=="public"||ve=="private"||ve=="protected"||ve=="abstract"||ve=="readonly"}function je(ve,Je,Vt){this.prev=ve,this.vars=Je,this.block=Vt}function Ve(ve,Je){this.name=ve,this.next=Je}var Xe=new Ve("this",new Ve("arguments",null));function Jt(){he.state.context=new je(he.state.context,he.state.localVars,!1),he.state.localVars=Xe}function Ht(){he.state.context=new je(he.state.context,he.state.localVars,!0),he.state.localVars=null}Jt.lex=Ht.lex=!0;function Ct(){he.state.localVars=he.state.context.vars,he.state.context=he.state.context.prev}Ct.lex=!0;function Qt(ve,Je){var Vt=function(){var sn=he.state,Lt=sn.indented;if(sn.lexical.type=="stat")Lt=sn.lexical.indented;else for(var wn=sn.lexical;wn&&wn.type==")"&&wn.align;wn=wn.prev)Lt=wn.indented;sn.lexical=new Se(Lt,he.stream.column(),ve,null,sn.lexical,Je)};return Vt.lex=!0,Vt}function $t(){var ve=he.state;ve.lexical.prev&&(ve.lexical.type==")"&&(ve.indented=ve.lexical.indented),ve.lexical=ve.lexical.prev)}$t.lex=!0;function Ie(ve){function Je(Vt){return Vt==ve?ge():ve==";"||Vt=="}"||Vt==")"||Vt=="]"?qe():ge(Je)}return Je}function pe(ve,Je){return ve=="var"?ge(Qt("vardef",Je),st,Ie(";"),$t):ve=="keyword a"?ge(Qt("form"),ot,pe,$t):ve=="keyword b"?ge(Qt("form"),pe,$t):ve=="keyword d"?he.stream.match(/^\s*$/,!1)?ge():ge(Qt("stat"),Rt,Ie(";"),$t):ve=="debugger"?ge(Ie(";")):ve=="{"?ge(Qt("}"),Ht,Bt,$t,Ct):ve==";"?ge():ve=="if"?(he.state.lexical.info=="else"&&he.state.cc[he.state.cc.length-1]==$t&&he.state.cc.pop()(),ge(Qt("form"),ot,pe,$t,en)):ve=="function"?ge(Sr):ve=="for"?ge(Qt("form"),Ht,Fn,pe,Ct,$t):ve=="class"||_&&Je=="interface"?(he.marked="keyword",ge(Qt("form",ve=="class"?ve:Je),or,$t)):ve=="variable"?_&&Je=="declare"?(he.marked="keyword",ge(pe)):_&&(Je=="module"||Je=="enum"||Je=="type")&&he.stream.match(/^\s*\w/,!1)?(he.marked="keyword",Je=="enum"?ge(Wn):Je=="type"?ge($r,Ie("operator"),On,Ie(";")):ge(Qt("form"),ft,Ie("{"),Qt("}"),Bt,$t,$t)):_&&Je=="namespace"?(he.marked="keyword",ge(Qt("form"),Re,pe,$t)):_&&Je=="abstract"?(he.marked="keyword",ge(pe)):ge(Qt("stat"),gr):ve=="switch"?ge(Qt("form"),ot,Ie("{"),Qt("}","switch"),Ht,Bt,$t,$t,Ct):ve=="case"?ge(Re,Ie(":")):ve=="default"?ge(Ie(":")):ve=="catch"?ge(Qt("form"),Jt,Me,pe,$t,Ct):ve=="export"?ge(Qt("stat"),ho,$t):ve=="import"?ge(Qt("stat"),fo,$t):ve=="async"?ge(pe):Je=="@"?ge(Re,pe):qe(Qt("stat"),Re,Ie(";"),$t)}function Me(ve){if(ve=="(")return ge(Or,Ie(")"))}function Re(ve,Je){return St(ve,Je,!1)}function it(ve,Je){return St(ve,Je,!0)}function ot(ve){return ve!="("?qe():ge(Qt(")"),Rt,Ie(")"),$t)}function St(ve,Je,Vt){if(he.state.fatArrowAt==he.stream.start){var sn=Vt?er:yn;if(ve=="(")return ge(Jt,Qt(")"),Te(Or,")"),$t,Ie("=>"),sn,Ct);if(ve=="variable")return qe(Jt,ft,Ie("=>"),sn,Ct)}var Lt=Vt?pt:zt;return xe.hasOwnProperty(ve)?ge(Lt):ve=="function"?ge(Sr,Lt):ve=="class"||_&&Je=="interface"?(he.marked="keyword",ge(Qt("form"),Lr,$t)):ve=="keyword c"||ve=="async"?ge(Vt?it:Re):ve=="("?ge(Qt(")"),Rt,Ie(")"),$t,Lt):ve=="operator"||ve=="spread"?ge(Vt?it:Re):ve=="["?ge(Qt("]"),gi,$t,Lt):ve=="{"?ut(Ee,"}",null,Lt):ve=="quasi"?qe(ir,Lt):ve=="new"?ge(Ar(Vt)):ge()}function Rt(ve){return ve.match(/[;\}\)\],]/)?qe():qe(Re)}function zt(ve,Je){return ve==","?ge(Rt):pt(ve,Je,!1)}function pt(ve,Je,Vt){var sn=Vt==!1?zt:pt,Lt=Vt==!1?Re:it;if(ve=="=>")return ge(Jt,Vt?er:yn,Ct);if(ve=="operator")return/\+\+|--/.test(Je)||_&&Je=="!"?ge(sn):_&&Je=="<"&&he.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?ge(Qt(">"),Te(On,">"),$t,sn):Je=="?"?ge(Re,Ie(":"),Lt):ge(Lt);if(ve=="quasi")return qe(ir,sn);if(ve!=";"){if(ve=="(")return ut(it,")","call",sn);if(ve==".")return ge(_i,sn);if(ve=="[")return ge(Qt("]"),Rt,Ie("]"),$t,sn);if(_&&Je=="as")return he.marked="keyword",ge(On,sn);if(ve=="regexp")return he.state.lastType=he.marked="operator",he.stream.backUp(he.stream.pos-he.stream.start-1),ge(Lt)}}function ir(ve,Je){return ve!="quasi"?qe():Je.slice(Je.length-2)!="${"?ge(ir):ge(Rt,gn)}function gn(ve){if(ve=="}")return he.marked="string-2",he.state.tokenize=be,ge(ir)}function yn(ve){return se(he.stream,he.state),qe(ve=="{"?pe:Re)}function er(ve){return se(he.stream,he.state),qe(ve=="{"?pe:it)}function Ar(ve){return function(Je){return Je=="."?ge(ve?Wr:Mr):Je=="variable"&&_?ge(ke,ve?pt:zt):qe(ve?it:Re)}}function Mr(ve,Je){if(Je=="target")return he.marked="keyword",ge(zt)}function Wr(ve,Je){if(Je=="target")return he.marked="keyword",ge(pt)}function gr(ve){return ve==":"?ge($t,pe):qe(zt,Ie(";"),$t)}function _i(ve){if(ve=="variable")return he.marked="property",ge()}function Ee(ve,Je){if(ve=="async")return he.marked="property",ge(Ee);if(ve=="variable"||he.style=="keyword"){if(he.marked="property",Je=="get"||Je=="set")return ge(X);var Vt;return _&&he.state.fatArrowAt==he.stream.start&&(Vt=he.stream.match(/^\s*:\s*/,!1))&&(he.state.fatArrowAt=he.stream.pos+Vt[0].length),ge(Y)}else{if(ve=="number"||ve=="string")return he.marked=s?"property":he.style+" property",ge(Y);if(ve=="jsonld-keyword")return ge(Y);if(_&&mt(Je))return he.marked="keyword",ge(Ee);if(ve=="[")return ge(Re,It,Ie("]"),Y);if(ve=="spread")return ge(it,Y);if(Je=="*")return he.marked="keyword",ge(Ee);if(ve==":")return qe(Y)}}function X(ve){return ve!="variable"?qe(Y):(he.marked="property",ge(Sr))}function Y(ve){if(ve==":")return ge(it);if(ve=="(")return qe(Sr)}function Te(ve,Je,Vt){function sn(Lt,wn){if(Vt?Vt.indexOf(Lt)>-1:Lt==","){var dr=he.state.lexical;return dr.info=="call"&&(dr.pos=(dr.pos||0)+1),ge(function(ri,si){return ri==Je||si==Je?qe():qe(ve)},sn)}return Lt==Je||wn==Je?ge():Vt&&Vt.indexOf(";")>-1?qe(ve):ge(Ie(Je))}return function(Lt,wn){return Lt==Je||wn==Je?ge():qe(ve,sn)}}function ut(ve,Je,Vt){for(var sn=3;sn<arguments.length;sn++)he.cc.push(arguments[sn]);return ge(Qt(Je,Vt),Te(ve,Je),$t)}function Bt(ve){return ve=="}"?ge():qe(pe,Bt)}function It(ve,Je){if(_){if(ve==":")return ge(On);if(Je=="?")return ge(It)}}function Dt(ve,Je){if(_&&(ve==":"||Je=="in"))return ge(On)}function fn(ve){if(_&&ve==":")return he.stream.match(/^\s*\w+\s+is\b/,!1)?ge(Re,Pn,On):ge(On)}function Pn(ve,Je){if(Je=="is")return he.marked="keyword",ge()}function On(ve,Je){if(Je=="keyof"||Je=="typeof"||Je=="infer"||Je=="readonly")return he.marked="keyword",ge(Je=="typeof"?it:On);if(ve=="variable"||Je=="void")return he.marked="type",ge(Ce);if(Je=="|"||Je=="&")return ge(On);if(ve=="string"||ve=="number"||ve=="atom")return ge(Ce);if(ve=="[")return ge(Qt("]"),Te(On,"]",","),$t,Ce);if(ve=="{")return ge(Qt("}"),Kt,$t,Ce);if(ve=="(")return ge(Te(ce,")"),m,Ce);if(ve=="<")return ge(Te(On,">"),On);if(ve=="quasi")return qe(nr,Ce)}function m(ve){if(ve=="=>")return ge(On)}function Kt(ve){return ve.match(/[\}\)\]]/)?ge():ve==","||ve==";"?ge(Kt):qe(Pr,Kt)}function Pr(ve,Je){if(ve=="variable"||he.style=="keyword")return he.marked="property",ge(Pr);if(Je=="?"||ve=="number"||ve=="string")return ge(Pr);if(ve==":")return ge(On);if(ve=="[")return ge(Ie("variable"),Dt,Ie("]"),Pr);if(ve=="(")return qe(lr,Pr);if(!ve.match(/[;\}\)\],]/))return ge()}function nr(ve,Je){return ve!="quasi"?qe():Je.slice(Je.length-2)!="${"?ge(nr):ge(On,Pe)}function Pe(ve){if(ve=="}")return he.marked="string-2",he.state.tokenize=be,ge(nr)}function ce(ve,Je){return ve=="variable"&&he.stream.match(/^\s*[?:]/,!1)||Je=="?"?ge(ce):ve==":"?ge(On):ve=="spread"?ge(ce):qe(On)}function Ce(ve,Je){if(Je=="<")return ge(Qt(">"),Te(On,">"),$t,Ce);if(Je=="|"||ve=="."||Je=="&")return ge(On);if(ve=="[")return ge(On,Ie("]"),Ce);if(Je=="extends"||Je=="implements")return he.marked="keyword",ge(On);if(Je=="?")return ge(On,Ie(":"),On)}function ke(ve,Je){if(Je=="<")return ge(Qt(">"),Te(On,">"),$t,Ce)}function ze(){return qe(On,rt)}function rt(ve,Je){if(Je=="=")return ge(On)}function st(ve,Je){return Je=="enum"?(he.marked="keyword",ge(Wn)):qe(ft,It,tn,qt)}function ft(ve,Je){if(_&&mt(Je))return he.marked="keyword",ge(ft);if(ve=="variable")return Mt(Je),ge();if(ve=="spread")return ge(ft);if(ve=="[")return ut(wt,"]");if(ve=="{")return ut(et,"}")}function et(ve,Je){return ve=="variable"&&!he.stream.match(/^\s*:/,!1)?(Mt(Je),ge(tn)):(ve=="variable"&&(he.marked="property"),ve=="spread"?ge(ft):ve=="}"?qe():ve=="["?ge(Re,Ie("]"),Ie(":"),et):ge(Ie(":"),ft,tn))}function wt(){return qe(ft,tn)}function tn(ve,Je){if(Je=="=")return ge(it)}function qt(ve){if(ve==",")return ge(st)}function en(ve,Je){if(ve=="keyword b"&&Je=="else")return ge(Qt("form","else"),pe,$t)}function Fn(ve,Je){if(Je=="await")return ge(Fn);if(ve=="(")return ge(Qt(")"),Bn,$t)}function Bn(ve){return ve=="var"?ge(st,qn):ve=="variable"?ge(qn):qe(qn)}function qn(ve,Je){return ve==")"?ge():ve==";"?ge(qn):Je=="in"||Je=="of"?(he.marked="keyword",ge(Re,qn)):qe(Re,qn)}function Sr(ve,Je){if(Je=="*")return he.marked="keyword",ge(Sr);if(ve=="variable")return Mt(Je),ge(Sr);if(ve=="(")return ge(Jt,Qt(")"),Te(Or,")"),$t,fn,pe,Ct);if(_&&Je=="<")return ge(Qt(">"),Te(ze,">"),$t,Sr)}function lr(ve,Je){if(Je=="*")return he.marked="keyword",ge(lr);if(ve=="variable")return Mt(Je),ge(lr);if(ve=="(")return ge(Jt,Qt(")"),Te(Or,")"),$t,fn,Ct);if(_&&Je=="<")return ge(Qt(">"),Te(ze,">"),$t,lr)}function $r(ve,Je){if(ve=="keyword"||ve=="variable")return he.marked="type",ge($r);if(Je=="<")return ge(Qt(">"),Te(ze,">"),$t)}function Or(ve,Je){return Je=="@"&&ge(Re,Or),ve=="spread"?ge(Or):_&&mt(Je)?(he.marked="keyword",ge(Or)):_&&ve=="this"?ge(It,tn):qe(ft,It,tn)}function Lr(ve,Je){return ve=="variable"?or(ve,Je):ci(ve,Je)}function or(ve,Je){if(ve=="variable")return Mt(Je),ge(ci)}function ci(ve,Je){if(Je=="<")return ge(Qt(">"),Te(ze,">"),$t,ci);if(Je=="extends"||Je=="implements"||_&&ve==",")return Je=="implements"&&(he.marked="keyword"),ge(_?On:Re,ci);if(ve=="{")return ge(Qt("}"),Li,$t)}function Li(ve,Je){if(ve=="async"||ve=="variable"&&(Je=="static"||Je=="get"||Je=="set"||_&&mt(Je))&&he.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return he.marked="keyword",ge(Li);if(ve=="variable"||he.style=="keyword")return he.marked="property",ge(to,Li);if(ve=="number"||ve=="string")return ge(to,Li);if(ve=="[")return ge(Re,It,Ie("]"),to,Li);if(Je=="*")return he.marked="keyword",ge(Li);if(_&&ve=="(")return qe(lr,Li);if(ve==";"||ve==",")return ge(Li);if(ve=="}")return ge();if(Je=="@")return ge(Re,Li)}function to(ve,Je){if(Je=="!"||Je=="?")return ge(to);if(ve==":")return ge(On,tn);if(Je=="=")return ge(it);var Vt=he.state.lexical.prev,sn=Vt&&Vt.info=="interface";return qe(sn?lr:Sr)}function ho(ve,Je){return Je=="*"?(he.marked="keyword",ge(is,Ie(";"))):Je=="default"?(he.marked="keyword",ge(Re,Ie(";"))):ve=="{"?ge(Te(ai,"}"),is,Ie(";")):qe(pe)}function ai(ve,Je){if(Je=="as")return he.marked="keyword",ge(Ie("variable"));if(ve=="variable")return qe(it,ai)}function fo(ve){return ve=="string"?ge():ve=="("?qe(Re):ve=="."?qe(zt):qe(ja,Ba,is)}function ja(ve,Je){return ve=="{"?ut(ja,"}"):(ve=="variable"&&Mt(Je),Je=="*"&&(he.marked="keyword"),ge(Mi))}function Ba(ve){if(ve==",")return ge(ja,Ba)}function Mi(ve,Je){if(Je=="as")return he.marked="keyword",ge(ja)}function is(ve,Je){if(Je=="from")return he.marked="keyword",ge(Re)}function gi(ve){return ve=="]"?ge():qe(Te(it,"]"))}function Wn(){return qe(Qt("form"),ft,Ie("{"),Qt("}"),Te(ro,"}"),$t,$t)}function ro(){return qe(ft,tn)}function _o(ve,Je){return ve.lastType=="operator"||ve.lastType==","||P.test(Je.charAt(0))||/[,.]/.test(Je.charAt(0))}function Ui(ve,Je,Vt){return Je.tokenize==Z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Je.lastType)||Je.lastType=="quasi"&&/\{\s*$/.test(ve.string.slice(0,ve.pos-(Vt||0)))}return{startState:function(ve){var Je={tokenize:Z,lastType:"sof",cc:[],lexical:new Se((ve||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new je(null,null,!1),indented:ve||0};return i.globalVars&&typeof i.globalVars=="object"&&(Je.globalVars=i.globalVars),Je},token:function(ve,Je){if(ve.sol()&&(Je.lexical.hasOwnProperty("align")||(Je.lexical.align=!1),Je.indented=ve.indentation(),se(ve,Je)),Je.tokenize!=ye&&ve.eatSpace())return null;var Vt=Je.tokenize(ve,Je);return ee=="comment"?Vt:(Je.lastType=ee=="operator"&&(H=="++"||H=="--")?"incdec":ee,Le(Je,Vt,ee,H,ve))},indent:function(ve,Je){if(ve.tokenize==ye||ve.tokenize==be)return n.Pass;if(ve.tokenize!=Z)return 0;var Vt=Je&&Je.charAt(0),sn=ve.lexical,Lt;if(!/^\s*else\b/.test(Je))for(var wn=ve.cc.length-1;wn>=0;--wn){var dr=ve.cc[wn];if(dr==$t)sn=sn.prev;else if(dr!=en&&dr!=Ct)break}for(;(sn.type=="stat"||sn.type=="form")&&(Vt=="}"||(Lt=ve.cc[ve.cc.length-1])&&(Lt==zt||Lt==pt)&&!/^[,\.=+\-*:?[\(]/.test(Je));)sn=sn.prev;a&&sn.type==")"&&sn.prev.type=="stat"&&(sn=sn.prev);var ri=sn.type,si=Vt==ri;return ri=="vardef"?sn.indented+(ve.lastType=="operator"||ve.lastType==","?sn.info.length+1:0):ri=="form"&&Vt=="{"?sn.indented:ri=="form"?sn.indented+o:ri=="stat"?sn.indented+(_o(ve,Je)?a||o:0):sn.info=="switch"&&!si&&i.doubleIndentSwitch!=!1?sn.indented+(/^(?:case|default)\b/.test(Je)?o:2*o):sn.align?sn.column+(si?0:1):sn.indented+(si?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:h?null:"/*",blockCommentEnd:h?null:"*/",blockCommentContinue:h?null:" * ",lineComment:h?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:h?"json":"javascript",jsonldMode:s,jsonMode:h,expressionAllowed:Ui,skipExpression:function(ve){Le(ve,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,t){(function(n){n(xw())})(function(n){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(J,se,xe){var Se=document.createElement("div");Se.className="CodeMirror-lint-tooltip cm-s-"+J.options.theme,Se.appendChild(xe.cloneNode(!0)),J.state.lint.options.selfContain?J.getWrapperElement().appendChild(Se):document.body.appendChild(Se);function De(Le){if(!Se.parentNode)return n.off(document,"mousemove",De);var he=Math.max(0,Le.clientY-Se.offsetHeight-5),qe=Math.max(0,Math.min(Le.clientX+5,Se.ownerDocument.defaultView.innerWidth-Se.offsetWidth));Se.style.top=he+"px",Se.style.left=qe+"px"}return n.on(document,"mousemove",De),De(se),Se.style.opacity!=null&&(Se.style.opacity=1),Se}function a(J){J.parentNode&&J.parentNode.removeChild(J)}function s(J){J.parentNode&&(J.style.opacity==null&&a(J),J.style.opacity=0,setTimeout(function(){a(J)},600))}function h(J,se,xe,Se){var De=o(J,se,xe);function Le(){n.off(Se,"mouseout",Le),De&&(s(De),De=null)}var he=setInterval(function(){if(De)for(var qe=Se;;qe=qe.parentNode){if(qe&&qe.nodeType==11&&(qe=qe.host),qe==document.body)return;if(!qe){Le();break}}if(!De)return clearInterval(he)},400);n.on(Se,"mouseout",Le)}function g(J,se,xe){this.marked=[],se instanceof Function&&(se={getAnnotations:se}),(!se||se===!0)&&(se={}),this.options={},this.linterOptions=se.options||{};for(var Se in _)this.options[Se]=_[Se];for(var Se in se)_.hasOwnProperty(Se)?se[Se]!=null&&(this.options[Se]=se[Se]):se.options||(this.linterOptions[Se]=se[Se]);this.timeout=null,this.hasGutter=xe,this.onMouseOver=function(De){be(J,De)},this.waitingFor=0}var _={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function B(J){var se=J.state.lint;se.hasGutter&&J.clearGutter(r),se.options.highlightLines&&k(J);for(var xe=0;xe<se.marked.length;++xe)se.marked[xe].clear();se.marked.length=0}function k(J){J.eachLine(function(se){var xe=se.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(se.wrapClass);xe&&J.removeLineClass(se,"wrap",xe[0])})}function P(J,se,xe,Se,De){var Le=document.createElement("div"),he=Le;return Le.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+xe,Se&&(he=Le.appendChild(document.createElement("div")),he.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),De!=!1&&n.on(he,"mouseover",function(qe){h(J,qe,se,he)}),Le}function F(J,se){return J=="error"?J:se}function q(J){for(var se=[],xe=0;xe<J.length;++xe){var Se=J[xe],De=Se.from.line;(se[De]||(se[De]=[])).push(Se)}return se}function ee(J){var se=J.severity;se||(se="error");var xe=document.createElement("div");return xe.className="CodeMirror-lint-message CodeMirror-lint-message-"+se,typeof J.messageHTML<"u"?xe.innerHTML=J.messageHTML:xe.appendChild(document.createTextNode(J.message)),xe}function H(J,se){var xe=J.state.lint,Se=++xe.waitingFor;function De(){Se=-1,J.off("change",De)}J.on("change",De),se(J.getValue(),function(Le,he){J.off("change",De),xe.waitingFor==Se&&(he&&Le instanceof n&&(Le=he),J.operation(function(){Z(J,Le)}))},xe.linterOptions,J)}function N(J){var se=J.state.lint;if(se){var xe=se.options,Se=xe.getAnnotations||J.getHelper(n.Pos(0,0),"lint");if(Se)if(xe.async||Se.async)H(J,Se);else{var De=Se(J.getValue(),se.linterOptions,J);if(!De)return;De.then?De.then(function(Le){J.operation(function(){Z(J,Le)})}):J.operation(function(){Z(J,De)})}}}function Z(J,se){var xe=J.state.lint;if(xe){var Se=xe.options;B(J);for(var De=q(se),Le=0;Le<De.length;++Le){var he=De[Le];if(he){for(var qe=null,ge=xe.hasGutter&&document.createDocumentFragment(),_t=0;_t<he.length;++_t){var Mt=he[_t],dt=Mt.severity;dt||(dt="error"),qe=F(qe,dt),Se.formatAnnotation&&(Mt=Se.formatAnnotation(Mt)),xe.hasGutter&&ge.appendChild(ee(Mt)),Mt.to&&xe.marked.push(J.markText(Mt.from,Mt.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+dt,__annotation:Mt}))}xe.hasGutter&&J.setGutterMarker(Le,r,P(J,ge,qe,he.length>1,Se.tooltips)),Se.highlightLines&&J.addLineClass(Le,"wrap",i+qe)}}Se.onUpdateLinting&&Se.onUpdateLinting(se,De,J)}}function ue(J){var se=J.state.lint;se&&(clearTimeout(se.timeout),se.timeout=setTimeout(function(){N(J)},se.options.delay))}function ye(J,se,xe){for(var Se=xe.target||xe.srcElement,De=document.createDocumentFragment(),Le=0;Le<se.length;Le++){var he=se[Le];De.appendChild(ee(he))}h(J,xe,De,Se)}function be(J,se){var xe=se.target||se.srcElement;if(/\bCodeMirror-lint-mark-/.test(xe.className)){for(var Se=xe.getBoundingClientRect(),De=(Se.left+Se.right)/2,Le=(Se.top+Se.bottom)/2,he=J.findMarksAt(J.coordsChar({left:De,top:Le},"client")),qe=[],ge=0;ge<he.length;++ge){var _t=he[ge].__annotation;_t&&qe.push(_t)}qe.length&&ye(J,qe,se)}}n.defineOption("lint",!1,function(J,se,xe){if(xe&&xe!=n.Init&&(B(J),J.state.lint.options.lintOnChange!==!1&&J.off("change",ue),n.off(J.getWrapperElement(),"mouseover",J.state.lint.onMouseOver),clearTimeout(J.state.lint.timeout),delete J.state.lint),se){for(var Se=J.getOption("gutters"),De=!1,Le=0;Le<Se.length;++Le)Se[Le]==r&&(De=!0);var he=J.state.lint=new g(J,se,De);he.options.lintOnChange&&J.on("change",ue),he.options.tooltips!=!1&&he.options.tooltips!="gutter"&&n.on(J.getWrapperElement(),"mouseover",he.onMouseOver),N(J)}}),n.defineExtension("performLint",function(){N(this)})})})();(function(e,t){(function(n){n(xw())})(function(n){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=n.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(k){return k&&k.bracketRegex||/[(){}[\]]/}function s(k,P,F){var q=k.getLineHandle(P.line),ee=P.ch-1,H=F&&F.afterCursor;H==null&&(H=/(^| )cm-fat-cursor($| )/.test(k.getWrapperElement().className));var N=a(F),Z=!H&&ee>=0&&N.test(q.text.charAt(ee))&&o[q.text.charAt(ee)]||N.test(q.text.charAt(ee+1))&&o[q.text.charAt(++ee)];if(!Z)return null;var ue=Z.charAt(1)==">"?1:-1;if(F&&F.strict&&ue>0!=(ee==P.ch))return null;var ye=k.getTokenTypeAt(i(P.line,ee+1)),be=h(k,i(P.line,ee+(ue>0?1:0)),ue,ye,F);return be==null?null:{from:i(P.line,ee),to:be&&be.pos,match:be&&be.ch==Z.charAt(0),forward:ue>0}}function h(k,P,F,q,ee){for(var H=ee&&ee.maxScanLineLength||1e4,N=ee&&ee.maxScanLines||1e3,Z=[],ue=a(ee),ye=F>0?Math.min(P.line+N,k.lastLine()+1):Math.max(k.firstLine()-1,P.line-N),be=P.line;be!=ye;be+=F){var J=k.getLine(be);if(J){var se=F>0?0:J.length-1,xe=F>0?J.length:-1;if(!(J.length>H))for(be==P.line&&(se=P.ch-(F<0?1:0));se!=xe;se+=F){var Se=J.charAt(se);if(ue.test(Se)&&(q===void 0||(k.getTokenTypeAt(i(be,se+1))||"")==(q||""))){var De=o[Se];if(De&&De.charAt(1)==">"==F>0)Z.push(Se);else if(Z.length)Z.pop();else return{pos:i(be,se),ch:Se}}}}}return be-F==(F>0?k.lastLine():k.firstLine())?!1:null}function g(k,P,F){for(var q=k.state.matchBrackets.maxHighlightLineLength||1e3,ee=F&&F.highlightNonMatching,H=[],N=k.listSelections(),Z=0;Z<N.length;Z++){var ue=N[Z].empty()&&s(k,N[Z].head,F);if(ue&&(ue.match||ee!==!1)&&k.getLine(ue.from.line).length<=q){var ye=ue.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(k.markText(ue.from,i(ue.from.line,ue.from.ch+1),{className:ye})),ue.to&&k.getLine(ue.to.line).length<=q&&H.push(k.markText(ue.to,i(ue.to.line,ue.to.ch+1),{className:ye}))}}if(H.length){r&&k.state.focused&&k.focus();var be=function(){k.operation(function(){for(var J=0;J<H.length;J++)H[J].clear()})};if(P)setTimeout(be,800);else return be}}function _(k){k.operation(function(){k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null),k.state.matchBrackets.currentlyHighlighted=g(k,!1,k.state.matchBrackets)})}function B(k){k.state.matchBrackets&&k.state.matchBrackets.currentlyHighlighted&&(k.state.matchBrackets.currentlyHighlighted(),k.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(k,P,F){F&&F!=n.Init&&(k.off("cursorActivity",_),k.off("focus",_),k.off("blur",B),B(k)),P&&(k.state.matchBrackets=typeof P=="object"?P:{},k.on("cursorActivity",_),k.on("focus",_),k.on("blur",B))}),n.defineExtension("matchBrackets",function(){g(this,!0)}),n.defineExtension("findMatchingBracket",function(k,P,F){return(F||typeof P=="boolean")&&(F?(F.strict=P,P=F):P=P?{strict:!0}:null),s(this,k,P)}),n.defineExtension("scanForBracket",function(k,P,F,q){return h(this,k,P,F,q)})})})();const D0e=/("(?:[^\\"]|\\.)*")|[:,]/g;function qN(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,h){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const g=JSON.stringify(a,i);if(g===void 0)return g;const _=r-s.length-h;if(g.length<=_){const B=g.replace(D0e,(k,P)=>P||`${k} `);if(B.length<=_)return B}if(i!=null&&(a=JSON.parse(g),i=void 0),typeof a=="object"&&a!==null){const B=s+n,k=[];let P=0,F,q;if(Array.isArray(a)){F="[",q="]";const{length:ee}=a;for(;P<ee;P++)k.push(o(a[P],B,P===ee-1?0:1)||"null")}else{F="{",q="}";const ee=Object.keys(a),{length:H}=ee;for(;P<H;P++){const N=ee[P],Z=`${JSON.stringify(N)}: `,ue=o(a[N],B,Z.length+(P===H-1?0:1));ue!==void 0&&k.push(Z+ue)}}if(k.length>0)return[F,n+k.join(`,
${B}`),q].join(`
${s}`)}return g}(e,"",0)}function L0e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var HN={};(function(e){var t=function(){var n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,a,s,h,g,_,B){var k=_.length-1;switch(g){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=_[k-1];case 13:this.$={};break;case 14:this.$=_[k-1];break;case 15:this.$=[_[k-2],_[k]];break;case 16:this.$={},this.$[_[k][0]]=_[k][1];break;case 17:this.$=_[k-2],_[k-2][_[k][0]]=_[k][1];break;case 18:this.$=[];break;case 19:this.$=_[k-1];break;case 20:this.$=[_[k]];break;case 21:this.$=_[k-2],_[k-2].push(_[k]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,a){throw new Error(o)},parse:function(o){var a=this,s=[0],h=[null],g=[],_=this.table,B="",k=0,P=0,F=0,q=2,ee=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;g.push(H),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function N(ge){s.length=s.length-2*ge,h.length=h.length-ge,g.length=g.length-ge}function Z(){var ge;return ge=a.lexer.lex()||1,typeof ge!="number"&&(ge=a.symbols_[ge]||ge),ge}for(var ue,ye,be,J,se,xe={},Se,De,Le,he;;){if(be=s[s.length-1],this.defaultActions[be]?J=this.defaultActions[be]:(ue==null&&(ue=Z()),J=_[be]&&_[be][ue]),typeof J>"u"||!J.length||!J[0]){if(!F){he=[];for(Se in _[be])this.terminals_[Se]&&Se>2&&he.push("'"+this.terminals_[Se]+"'");var qe="";this.lexer.showPosition?qe="Parse error on line "+(k+1)+`:
`+this.lexer.showPosition()+`
Expecting `+he.join(", ")+", got '"+this.terminals_[ue]+"'":qe="Parse error on line "+(k+1)+": Unexpected "+(ue==1?"end of input":"'"+(this.terminals_[ue]||ue)+"'"),this.parseError(qe,{text:this.lexer.match,token:this.terminals_[ue]||ue,line:this.lexer.yylineno,loc:H,expected:he})}if(F==3){if(ue==ee)throw new Error(qe||"Parsing halted.");P=this.lexer.yyleng,B=this.lexer.yytext,k=this.lexer.yylineno,H=this.lexer.yylloc,ue=Z()}for(;!(q.toString()in _[be]);){if(be==0)throw new Error(qe||"Parsing halted.");N(1),be=s[s.length-1]}ye=ue,ue=q,be=s[s.length-1],J=_[be]&&_[be][q],F=3}if(J[0]instanceof Array&&J.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+ue);switch(J[0]){case 1:s.push(ue),h.push(this.lexer.yytext),g.push(this.lexer.yylloc),s.push(J[1]),ue=null,ye?(ue=ye,ye=null):(P=this.lexer.yyleng,B=this.lexer.yytext,k=this.lexer.yylineno,H=this.lexer.yylloc,F>0&&F--);break;case 2:if(De=this.productions_[J[1]][1],xe.$=h[h.length-De],xe._$={first_line:g[g.length-(De||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(De||1)].first_column,last_column:g[g.length-1].last_column},se=this.performAction.call(xe,B,P,k,this.yy,J[1],h,g),typeof se<"u")return se;De&&(s=s.slice(0,-1*De*2),h=h.slice(0,-1*De),g=g.slice(0,-1*De)),s.push(this.productions_[J[1]][0]),h.push(xe.$),g.push(xe._$),Le=_[s[s.length-2]][s[s.length-1]],s.push(Le);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(a,s){if(this.yy.parseError)this.yy.parseError(a,s);else throw new Error(a)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var a=o.match(/\n/);return a&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),a=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+a+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,a,s,h,g;this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),B=0;B<_.length&&(s=this._input.match(this.rules[_[B]]),!(s&&(!a||s[0].length>a[0].length)&&(a=s,h=B,!this.options.flex)));B++);if(a)return g=a[0].match(/\n.*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-1:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],o=this.performAction.call(this,this.yy,this,_[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a<"u"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return i.options={},i.performAction=function(a,s,h,g){switch(h){case 0:break;case 1:return 6;case 2:return s.yytext=s.yytext.substr(1,s.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return n.lexer=r,n}();typeof L0e<"u"&&(e.parser=t,e.parse=t.parse.bind(t))})(HN);const YO=Oa(HN);var VN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Bh,function(){var n=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(pe,Me){return Me={exports:{}},pe(Me,Me.exports),Me.exports}var i=r(function(pe){function Me(){var Re=0,it=1,ot=2,St=3,Rt=4,zt=5,pt=6,ir=7,gn=8,yn=9,er=10,Ar=11,Mr=12,Wr=13,gr=14,_i=15,Ee=16,X=17,Y=0,Te=1,ut=2,Bt=3,It=4;function Dt(m,Kt){return 55296<=m.charCodeAt(Kt)&&m.charCodeAt(Kt)<=56319&&56320<=m.charCodeAt(Kt+1)&&m.charCodeAt(Kt+1)<=57343}function fn(m,Kt){Kt===void 0&&(Kt=0);var Pr=m.charCodeAt(Kt);if(55296<=Pr&&Pr<=56319&&Kt<m.length-1){var nr=Pr,Pe=m.charCodeAt(Kt+1);return 56320<=Pe&&Pe<=57343?(nr-55296)*1024+(Pe-56320)+65536:nr}if(56320<=Pr&&Pr<=57343&&Kt>=1){var nr=m.charCodeAt(Kt-1),Pe=Pr;return 55296<=nr&&nr<=56319?(nr-55296)*1024+(Pe-56320)+65536:Pe}return Pr}function Pn(m,Kt,Pr){var nr=[m].concat(Kt).concat([Pr]),Pe=nr[nr.length-2],ce=Pr,Ce=nr.lastIndexOf(gr);if(Ce>1&&nr.slice(1,Ce).every(function(rt){return rt==St})&&[St,Wr,X].indexOf(m)==-1)return ut;var ke=nr.lastIndexOf(Rt);if(ke>0&&nr.slice(1,ke).every(function(rt){return rt==Rt})&&[Mr,Rt].indexOf(Pe)==-1)return nr.filter(function(rt){return rt==Rt}).length%2==1?Bt:It;if(Pe==Re&&ce==it)return Y;if(Pe==ot||Pe==Re||Pe==it)return ce==gr&&Kt.every(function(rt){return rt==St})?ut:Te;if(ce==ot||ce==Re||ce==it)return Te;if(Pe==pt&&(ce==pt||ce==ir||ce==yn||ce==er))return Y;if((Pe==yn||Pe==ir)&&(ce==ir||ce==gn))return Y;if((Pe==er||Pe==gn)&&ce==gn)return Y;if(ce==St||ce==_i)return Y;if(ce==zt)return Y;if(Pe==Mr)return Y;var ze=nr.indexOf(St)!=-1?nr.lastIndexOf(St)-1:nr.length-2;return[Wr,X].indexOf(nr[ze])!=-1&&nr.slice(ze+1,-1).every(function(rt){return rt==St})&&ce==gr||Pe==_i&&[Ee,X].indexOf(ce)!=-1?Y:Kt.indexOf(Rt)!=-1?ut:Pe==Rt&&ce==Rt?Y:Te}this.nextBreak=function(m,Kt){if(Kt===void 0&&(Kt=0),Kt<0)return 0;if(Kt>=m.length-1)return m.length;for(var Pr=On(fn(m,Kt)),nr=[],Pe=Kt+1;Pe<m.length;Pe++)if(!Dt(m,Pe-1)){var ce=On(fn(m,Pe));if(Pn(Pr,nr,ce))return Pe;nr.push(ce)}return m.length},this.splitGraphemes=function(m){for(var Kt=[],Pr=0,nr;(nr=this.nextBreak(m,Pr))<m.length;)Kt.push(m.slice(Pr,nr)),Pr=nr;return Pr<m.length&&Kt.push(m.slice(Pr)),Kt},this.iterateGraphemes=function(m){var Kt=0,Pr={next:(function(){var nr,Pe;return(Pe=this.nextBreak(m,Kt))<m.length?(nr=m.slice(Kt,Pe),Kt=Pe,{value:nr,done:!1}):Kt<m.length?(nr=m.slice(Kt),Kt=m.length,{value:nr,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(Pr[Symbol.iterator]=function(){return Pr}),Pr},this.countGraphemes=function(m){for(var Kt=0,Pr=0,nr;(nr=this.nextBreak(m,Pr))<m.length;)Pr=nr,Kt++;return Pr<m.length&&Kt++,Kt};function On(m){return 1536<=m&&m<=1541||m==1757||m==1807||m==2274||m==3406||m==69821||70082<=m&&m<=70083||m==72250||72326<=m&&m<=72329||m==73030?Mr:m==13?Re:m==10?it:0<=m&&m<=9||11<=m&&m<=12||14<=m&&m<=31||127<=m&&m<=159||m==173||m==1564||m==6158||m==8203||8206<=m&&m<=8207||m==8232||m==8233||8234<=m&&m<=8238||8288<=m&&m<=8292||m==8293||8294<=m&&m<=8303||55296<=m&&m<=57343||m==65279||65520<=m&&m<=65528||65529<=m&&m<=65531||113824<=m&&m<=113827||119155<=m&&m<=119162||m==917504||m==917505||917506<=m&&m<=917535||917632<=m&&m<=917759||918e3<=m&&m<=921599?ot:768<=m&&m<=879||1155<=m&&m<=1159||1160<=m&&m<=1161||1425<=m&&m<=1469||m==1471||1473<=m&&m<=1474||1476<=m&&m<=1477||m==1479||1552<=m&&m<=1562||1611<=m&&m<=1631||m==1648||1750<=m&&m<=1756||1759<=m&&m<=1764||1767<=m&&m<=1768||1770<=m&&m<=1773||m==1809||1840<=m&&m<=1866||1958<=m&&m<=1968||2027<=m&&m<=2035||2070<=m&&m<=2073||2075<=m&&m<=2083||2085<=m&&m<=2087||2089<=m&&m<=2093||2137<=m&&m<=2139||2260<=m&&m<=2273||2275<=m&&m<=2306||m==2362||m==2364||2369<=m&&m<=2376||m==2381||2385<=m&&m<=2391||2402<=m&&m<=2403||m==2433||m==2492||m==2494||2497<=m&&m<=2500||m==2509||m==2519||2530<=m&&m<=2531||2561<=m&&m<=2562||m==2620||2625<=m&&m<=2626||2631<=m&&m<=2632||2635<=m&&m<=2637||m==2641||2672<=m&&m<=2673||m==2677||2689<=m&&m<=2690||m==2748||2753<=m&&m<=2757||2759<=m&&m<=2760||m==2765||2786<=m&&m<=2787||2810<=m&&m<=2815||m==2817||m==2876||m==2878||m==2879||2881<=m&&m<=2884||m==2893||m==2902||m==2903||2914<=m&&m<=2915||m==2946||m==3006||m==3008||m==3021||m==3031||m==3072||3134<=m&&m<=3136||3142<=m&&m<=3144||3146<=m&&m<=3149||3157<=m&&m<=3158||3170<=m&&m<=3171||m==3201||m==3260||m==3263||m==3266||m==3270||3276<=m&&m<=3277||3285<=m&&m<=3286||3298<=m&&m<=3299||3328<=m&&m<=3329||3387<=m&&m<=3388||m==3390||3393<=m&&m<=3396||m==3405||m==3415||3426<=m&&m<=3427||m==3530||m==3535||3538<=m&&m<=3540||m==3542||m==3551||m==3633||3636<=m&&m<=3642||3655<=m&&m<=3662||m==3761||3764<=m&&m<=3769||3771<=m&&m<=3772||3784<=m&&m<=3789||3864<=m&&m<=3865||m==3893||m==3895||m==3897||3953<=m&&m<=3966||3968<=m&&m<=3972||3974<=m&&m<=3975||3981<=m&&m<=3991||3993<=m&&m<=4028||m==4038||4141<=m&&m<=4144||4146<=m&&m<=4151||4153<=m&&m<=4154||4157<=m&&m<=4158||4184<=m&&m<=4185||4190<=m&&m<=4192||4209<=m&&m<=4212||m==4226||4229<=m&&m<=4230||m==4237||m==4253||4957<=m&&m<=4959||5906<=m&&m<=5908||5938<=m&&m<=5940||5970<=m&&m<=5971||6002<=m&&m<=6003||6068<=m&&m<=6069||6071<=m&&m<=6077||m==6086||6089<=m&&m<=6099||m==6109||6155<=m&&m<=6157||6277<=m&&m<=6278||m==6313||6432<=m&&m<=6434||6439<=m&&m<=6440||m==6450||6457<=m&&m<=6459||6679<=m&&m<=6680||m==6683||m==6742||6744<=m&&m<=6750||m==6752||m==6754||6757<=m&&m<=6764||6771<=m&&m<=6780||m==6783||6832<=m&&m<=6845||m==6846||6912<=m&&m<=6915||m==6964||6966<=m&&m<=6970||m==6972||m==6978||7019<=m&&m<=7027||7040<=m&&m<=7041||7074<=m&&m<=7077||7080<=m&&m<=7081||7083<=m&&m<=7085||m==7142||7144<=m&&m<=7145||m==7149||7151<=m&&m<=7153||7212<=m&&m<=7219||7222<=m&&m<=7223||7376<=m&&m<=7378||7380<=m&&m<=7392||7394<=m&&m<=7400||m==7405||m==7412||7416<=m&&m<=7417||7616<=m&&m<=7673||7675<=m&&m<=7679||m==8204||8400<=m&&m<=8412||8413<=m&&m<=8416||m==8417||8418<=m&&m<=8420||8421<=m&&m<=8432||11503<=m&&m<=11505||m==11647||11744<=m&&m<=11775||12330<=m&&m<=12333||12334<=m&&m<=12335||12441<=m&&m<=12442||m==42607||42608<=m&&m<=42610||42612<=m&&m<=42621||42654<=m&&m<=42655||42736<=m&&m<=42737||m==43010||m==43014||m==43019||43045<=m&&m<=43046||43204<=m&&m<=43205||43232<=m&&m<=43249||43302<=m&&m<=43309||43335<=m&&m<=43345||43392<=m&&m<=43394||m==43443||43446<=m&&m<=43449||m==43452||m==43493||43561<=m&&m<=43566||43569<=m&&m<=43570||43573<=m&&m<=43574||m==43587||m==43596||m==43644||m==43696||43698<=m&&m<=43700||43703<=m&&m<=43704||43710<=m&&m<=43711||m==43713||43756<=m&&m<=43757||m==43766||m==44005||m==44008||m==44013||m==64286||65024<=m&&m<=65039||65056<=m&&m<=65071||65438<=m&&m<=65439||m==66045||m==66272||66422<=m&&m<=66426||68097<=m&&m<=68099||68101<=m&&m<=68102||68108<=m&&m<=68111||68152<=m&&m<=68154||m==68159||68325<=m&&m<=68326||m==69633||69688<=m&&m<=69702||69759<=m&&m<=69761||69811<=m&&m<=69814||69817<=m&&m<=69818||69888<=m&&m<=69890||69927<=m&&m<=69931||69933<=m&&m<=69940||m==70003||70016<=m&&m<=70017||70070<=m&&m<=70078||70090<=m&&m<=70092||70191<=m&&m<=70193||m==70196||70198<=m&&m<=70199||m==70206||m==70367||70371<=m&&m<=70378||70400<=m&&m<=70401||m==70460||m==70462||m==70464||m==70487||70502<=m&&m<=70508||70512<=m&&m<=70516||70712<=m&&m<=70719||70722<=m&&m<=70724||m==70726||m==70832||70835<=m&&m<=70840||m==70842||m==70845||70847<=m&&m<=70848||70850<=m&&m<=70851||m==71087||71090<=m&&m<=71093||71100<=m&&m<=71101||71103<=m&&m<=71104||71132<=m&&m<=71133||71219<=m&&m<=71226||m==71229||71231<=m&&m<=71232||m==71339||m==71341||71344<=m&&m<=71349||m==71351||71453<=m&&m<=71455||71458<=m&&m<=71461||71463<=m&&m<=71467||72193<=m&&m<=72198||72201<=m&&m<=72202||72243<=m&&m<=72248||72251<=m&&m<=72254||m==72263||72273<=m&&m<=72278||72281<=m&&m<=72283||72330<=m&&m<=72342||72344<=m&&m<=72345||72752<=m&&m<=72758||72760<=m&&m<=72765||m==72767||72850<=m&&m<=72871||72874<=m&&m<=72880||72882<=m&&m<=72883||72885<=m&&m<=72886||73009<=m&&m<=73014||m==73018||73020<=m&&m<=73021||73023<=m&&m<=73029||m==73031||92912<=m&&m<=92916||92976<=m&&m<=92982||94095<=m&&m<=94098||113821<=m&&m<=113822||m==119141||119143<=m&&m<=119145||119150<=m&&m<=119154||119163<=m&&m<=119170||119173<=m&&m<=119179||119210<=m&&m<=119213||119362<=m&&m<=119364||121344<=m&&m<=121398||121403<=m&&m<=121452||m==121461||m==121476||121499<=m&&m<=121503||121505<=m&&m<=121519||122880<=m&&m<=122886||122888<=m&&m<=122904||122907<=m&&m<=122913||122915<=m&&m<=122916||122918<=m&&m<=122922||125136<=m&&m<=125142||125252<=m&&m<=125258||917536<=m&&m<=917631||917760<=m&&m<=917999?St:127462<=m&&m<=127487?Rt:m==2307||m==2363||2366<=m&&m<=2368||2377<=m&&m<=2380||2382<=m&&m<=2383||2434<=m&&m<=2435||2495<=m&&m<=2496||2503<=m&&m<=2504||2507<=m&&m<=2508||m==2563||2622<=m&&m<=2624||m==2691||2750<=m&&m<=2752||m==2761||2763<=m&&m<=2764||2818<=m&&m<=2819||m==2880||2887<=m&&m<=2888||2891<=m&&m<=2892||m==3007||3009<=m&&m<=3010||3014<=m&&m<=3016||3018<=m&&m<=3020||3073<=m&&m<=3075||3137<=m&&m<=3140||3202<=m&&m<=3203||m==3262||3264<=m&&m<=3265||3267<=m&&m<=3268||3271<=m&&m<=3272||3274<=m&&m<=3275||3330<=m&&m<=3331||3391<=m&&m<=3392||3398<=m&&m<=3400||3402<=m&&m<=3404||3458<=m&&m<=3459||3536<=m&&m<=3537||3544<=m&&m<=3550||3570<=m&&m<=3571||m==3635||m==3763||3902<=m&&m<=3903||m==3967||m==4145||4155<=m&&m<=4156||4182<=m&&m<=4183||m==4228||m==6070||6078<=m&&m<=6085||6087<=m&&m<=6088||6435<=m&&m<=6438||6441<=m&&m<=6443||6448<=m&&m<=6449||6451<=m&&m<=6456||6681<=m&&m<=6682||m==6741||m==6743||6765<=m&&m<=6770||m==6916||m==6965||m==6971||6973<=m&&m<=6977||6979<=m&&m<=6980||m==7042||m==7073||7078<=m&&m<=7079||m==7082||m==7143||7146<=m&&m<=7148||m==7150||7154<=m&&m<=7155||7204<=m&&m<=7211||7220<=m&&m<=7221||m==7393||7410<=m&&m<=7411||m==7415||43043<=m&&m<=43044||m==43047||43136<=m&&m<=43137||43188<=m&&m<=43203||43346<=m&&m<=43347||m==43395||43444<=m&&m<=43445||43450<=m&&m<=43451||43453<=m&&m<=43456||43567<=m&&m<=43568||43571<=m&&m<=43572||m==43597||m==43755||43758<=m&&m<=43759||m==43765||44003<=m&&m<=44004||44006<=m&&m<=44007||44009<=m&&m<=44010||m==44012||m==69632||m==69634||m==69762||69808<=m&&m<=69810||69815<=m&&m<=69816||m==69932||m==70018||70067<=m&&m<=70069||70079<=m&&m<=70080||70188<=m&&m<=70190||70194<=m&&m<=70195||m==70197||70368<=m&&m<=70370||70402<=m&&m<=70403||m==70463||70465<=m&&m<=70468||70471<=m&&m<=70472||70475<=m&&m<=70477||70498<=m&&m<=70499||70709<=m&&m<=70711||70720<=m&&m<=70721||m==70725||70833<=m&&m<=70834||m==70841||70843<=m&&m<=70844||m==70846||m==70849||71088<=m&&m<=71089||71096<=m&&m<=71099||m==71102||71216<=m&&m<=71218||71227<=m&&m<=71228||m==71230||m==71340||71342<=m&&m<=71343||m==71350||71456<=m&&m<=71457||m==71462||72199<=m&&m<=72200||m==72249||72279<=m&&m<=72280||m==72343||m==72751||m==72766||m==72873||m==72881||m==72884||94033<=m&&m<=94078||m==119142||m==119149?zt:4352<=m&&m<=4447||43360<=m&&m<=43388?pt:4448<=m&&m<=4519||55216<=m&&m<=55238?ir:4520<=m&&m<=4607||55243<=m&&m<=55291?gn:m==44032||m==44060||m==44088||m==44116||m==44144||m==44172||m==44200||m==44228||m==44256||m==44284||m==44312||m==44340||m==44368||m==44396||m==44424||m==44452||m==44480||m==44508||m==44536||m==44564||m==44592||m==44620||m==44648||m==44676||m==44704||m==44732||m==44760||m==44788||m==44816||m==44844||m==44872||m==44900||m==44928||m==44956||m==44984||m==45012||m==45040||m==45068||m==45096||m==45124||m==45152||m==45180||m==45208||m==45236||m==45264||m==45292||m==45320||m==45348||m==45376||m==45404||m==45432||m==45460||m==45488||m==45516||m==45544||m==45572||m==45600||m==45628||m==45656||m==45684||m==45712||m==45740||m==45768||m==45796||m==45824||m==45852||m==45880||m==45908||m==45936||m==45964||m==45992||m==46020||m==46048||m==46076||m==46104||m==46132||m==46160||m==46188||m==46216||m==46244||m==46272||m==46300||m==46328||m==46356||m==46384||m==46412||m==46440||m==46468||m==46496||m==46524||m==46552||m==46580||m==46608||m==46636||m==46664||m==46692||m==46720||m==46748||m==46776||m==46804||m==46832||m==46860||m==46888||m==46916||m==46944||m==46972||m==47e3||m==47028||m==47056||m==47084||m==47112||m==47140||m==47168||m==47196||m==47224||m==47252||m==47280||m==47308||m==47336||m==47364||m==47392||m==47420||m==47448||m==47476||m==47504||m==47532||m==47560||m==47588||m==47616||m==47644||m==47672||m==47700||m==47728||m==47756||m==47784||m==47812||m==47840||m==47868||m==47896||m==47924||m==47952||m==47980||m==48008||m==48036||m==48064||m==48092||m==48120||m==48148||m==48176||m==48204||m==48232||m==48260||m==48288||m==48316||m==48344||m==48372||m==48400||m==48428||m==48456||m==48484||m==48512||m==48540||m==48568||m==48596||m==48624||m==48652||m==48680||m==48708||m==48736||m==48764||m==48792||m==48820||m==48848||m==48876||m==48904||m==48932||m==48960||m==48988||m==49016||m==49044||m==49072||m==49100||m==49128||m==49156||m==49184||m==49212||m==49240||m==49268||m==49296||m==49324||m==49352||m==49380||m==49408||m==49436||m==49464||m==49492||m==49520||m==49548||m==49576||m==49604||m==49632||m==49660||m==49688||m==49716||m==49744||m==49772||m==49800||m==49828||m==49856||m==49884||m==49912||m==49940||m==49968||m==49996||m==50024||m==50052||m==50080||m==50108||m==50136||m==50164||m==50192||m==50220||m==50248||m==50276||m==50304||m==50332||m==50360||m==50388||m==50416||m==50444||m==50472||m==50500||m==50528||m==50556||m==50584||m==50612||m==50640||m==50668||m==50696||m==50724||m==50752||m==50780||m==50808||m==50836||m==50864||m==50892||m==50920||m==50948||m==50976||m==51004||m==51032||m==51060||m==51088||m==51116||m==51144||m==51172||m==51200||m==51228||m==51256||m==51284||m==51312||m==51340||m==51368||m==51396||m==51424||m==51452||m==51480||m==51508||m==51536||m==51564||m==51592||m==51620||m==51648||m==51676||m==51704||m==51732||m==51760||m==51788||m==51816||m==51844||m==51872||m==51900||m==51928||m==51956||m==51984||m==52012||m==52040||m==52068||m==52096||m==52124||m==52152||m==52180||m==52208||m==52236||m==52264||m==52292||m==52320||m==52348||m==52376||m==52404||m==52432||m==52460||m==52488||m==52516||m==52544||m==52572||m==52600||m==52628||m==52656||m==52684||m==52712||m==52740||m==52768||m==52796||m==52824||m==52852||m==52880||m==52908||m==52936||m==52964||m==52992||m==53020||m==53048||m==53076||m==53104||m==53132||m==53160||m==53188||m==53216||m==53244||m==53272||m==53300||m==53328||m==53356||m==53384||m==53412||m==53440||m==53468||m==53496||m==53524||m==53552||m==53580||m==53608||m==53636||m==53664||m==53692||m==53720||m==53748||m==53776||m==53804||m==53832||m==53860||m==53888||m==53916||m==53944||m==53972||m==54e3||m==54028||m==54056||m==54084||m==54112||m==54140||m==54168||m==54196||m==54224||m==54252||m==54280||m==54308||m==54336||m==54364||m==54392||m==54420||m==54448||m==54476||m==54504||m==54532||m==54560||m==54588||m==54616||m==54644||m==54672||m==54700||m==54728||m==54756||m==54784||m==54812||m==54840||m==54868||m==54896||m==54924||m==54952||m==54980||m==55008||m==55036||m==55064||m==55092||m==55120||m==55148||m==55176?yn:44033<=m&&m<=44059||44061<=m&&m<=44087||44089<=m&&m<=44115||44117<=m&&m<=44143||44145<=m&&m<=44171||44173<=m&&m<=44199||44201<=m&&m<=44227||44229<=m&&m<=44255||44257<=m&&m<=44283||44285<=m&&m<=44311||44313<=m&&m<=44339||44341<=m&&m<=44367||44369<=m&&m<=44395||44397<=m&&m<=44423||44425<=m&&m<=44451||44453<=m&&m<=44479||44481<=m&&m<=44507||44509<=m&&m<=44535||44537<=m&&m<=44563||44565<=m&&m<=44591||44593<=m&&m<=44619||44621<=m&&m<=44647||44649<=m&&m<=44675||44677<=m&&m<=44703||44705<=m&&m<=44731||44733<=m&&m<=44759||44761<=m&&m<=44787||44789<=m&&m<=44815||44817<=m&&m<=44843||44845<=m&&m<=44871||44873<=m&&m<=44899||44901<=m&&m<=44927||44929<=m&&m<=44955||44957<=m&&m<=44983||44985<=m&&m<=45011||45013<=m&&m<=45039||45041<=m&&m<=45067||45069<=m&&m<=45095||45097<=m&&m<=45123||45125<=m&&m<=45151||45153<=m&&m<=45179||45181<=m&&m<=45207||45209<=m&&m<=45235||45237<=m&&m<=45263||45265<=m&&m<=45291||45293<=m&&m<=45319||45321<=m&&m<=45347||45349<=m&&m<=45375||45377<=m&&m<=45403||45405<=m&&m<=45431||45433<=m&&m<=45459||45461<=m&&m<=45487||45489<=m&&m<=45515||45517<=m&&m<=45543||45545<=m&&m<=45571||45573<=m&&m<=45599||45601<=m&&m<=45627||45629<=m&&m<=45655||45657<=m&&m<=45683||45685<=m&&m<=45711||45713<=m&&m<=45739||45741<=m&&m<=45767||45769<=m&&m<=45795||45797<=m&&m<=45823||45825<=m&&m<=45851||45853<=m&&m<=45879||45881<=m&&m<=45907||45909<=m&&m<=45935||45937<=m&&m<=45963||45965<=m&&m<=45991||45993<=m&&m<=46019||46021<=m&&m<=46047||46049<=m&&m<=46075||46077<=m&&m<=46103||46105<=m&&m<=46131||46133<=m&&m<=46159||46161<=m&&m<=46187||46189<=m&&m<=46215||46217<=m&&m<=46243||46245<=m&&m<=46271||46273<=m&&m<=46299||46301<=m&&m<=46327||46329<=m&&m<=46355||46357<=m&&m<=46383||46385<=m&&m<=46411||46413<=m&&m<=46439||46441<=m&&m<=46467||46469<=m&&m<=46495||46497<=m&&m<=46523||46525<=m&&m<=46551||46553<=m&&m<=46579||46581<=m&&m<=46607||46609<=m&&m<=46635||46637<=m&&m<=46663||46665<=m&&m<=46691||46693<=m&&m<=46719||46721<=m&&m<=46747||46749<=m&&m<=46775||46777<=m&&m<=46803||46805<=m&&m<=46831||46833<=m&&m<=46859||46861<=m&&m<=46887||46889<=m&&m<=46915||46917<=m&&m<=46943||46945<=m&&m<=46971||46973<=m&&m<=46999||47001<=m&&m<=47027||47029<=m&&m<=47055||47057<=m&&m<=47083||47085<=m&&m<=47111||47113<=m&&m<=47139||47141<=m&&m<=47167||47169<=m&&m<=47195||47197<=m&&m<=47223||47225<=m&&m<=47251||47253<=m&&m<=47279||47281<=m&&m<=47307||47309<=m&&m<=47335||47337<=m&&m<=47363||47365<=m&&m<=47391||47393<=m&&m<=47419||47421<=m&&m<=47447||47449<=m&&m<=47475||47477<=m&&m<=47503||47505<=m&&m<=47531||47533<=m&&m<=47559||47561<=m&&m<=47587||47589<=m&&m<=47615||47617<=m&&m<=47643||47645<=m&&m<=47671||47673<=m&&m<=47699||47701<=m&&m<=47727||47729<=m&&m<=47755||47757<=m&&m<=47783||47785<=m&&m<=47811||47813<=m&&m<=47839||47841<=m&&m<=47867||47869<=m&&m<=47895||47897<=m&&m<=47923||47925<=m&&m<=47951||47953<=m&&m<=47979||47981<=m&&m<=48007||48009<=m&&m<=48035||48037<=m&&m<=48063||48065<=m&&m<=48091||48093<=m&&m<=48119||48121<=m&&m<=48147||48149<=m&&m<=48175||48177<=m&&m<=48203||48205<=m&&m<=48231||48233<=m&&m<=48259||48261<=m&&m<=48287||48289<=m&&m<=48315||48317<=m&&m<=48343||48345<=m&&m<=48371||48373<=m&&m<=48399||48401<=m&&m<=48427||48429<=m&&m<=48455||48457<=m&&m<=48483||48485<=m&&m<=48511||48513<=m&&m<=48539||48541<=m&&m<=48567||48569<=m&&m<=48595||48597<=m&&m<=48623||48625<=m&&m<=48651||48653<=m&&m<=48679||48681<=m&&m<=48707||48709<=m&&m<=48735||48737<=m&&m<=48763||48765<=m&&m<=48791||48793<=m&&m<=48819||48821<=m&&m<=48847||48849<=m&&m<=48875||48877<=m&&m<=48903||48905<=m&&m<=48931||48933<=m&&m<=48959||48961<=m&&m<=48987||48989<=m&&m<=49015||49017<=m&&m<=49043||49045<=m&&m<=49071||49073<=m&&m<=49099||49101<=m&&m<=49127||49129<=m&&m<=49155||49157<=m&&m<=49183||49185<=m&&m<=49211||49213<=m&&m<=49239||49241<=m&&m<=49267||49269<=m&&m<=49295||49297<=m&&m<=49323||49325<=m&&m<=49351||49353<=m&&m<=49379||49381<=m&&m<=49407||49409<=m&&m<=49435||49437<=m&&m<=49463||49465<=m&&m<=49491||49493<=m&&m<=49519||49521<=m&&m<=49547||49549<=m&&m<=49575||49577<=m&&m<=49603||49605<=m&&m<=49631||49633<=m&&m<=49659||49661<=m&&m<=49687||49689<=m&&m<=49715||49717<=m&&m<=49743||49745<=m&&m<=49771||49773<=m&&m<=49799||49801<=m&&m<=49827||49829<=m&&m<=49855||49857<=m&&m<=49883||49885<=m&&m<=49911||49913<=m&&m<=49939||49941<=m&&m<=49967||49969<=m&&m<=49995||49997<=m&&m<=50023||50025<=m&&m<=50051||50053<=m&&m<=50079||50081<=m&&m<=50107||50109<=m&&m<=50135||50137<=m&&m<=50163||50165<=m&&m<=50191||50193<=m&&m<=50219||50221<=m&&m<=50247||50249<=m&&m<=50275||50277<=m&&m<=50303||50305<=m&&m<=50331||50333<=m&&m<=50359||50361<=m&&m<=50387||50389<=m&&m<=50415||50417<=m&&m<=50443||50445<=m&&m<=50471||50473<=m&&m<=50499||50501<=m&&m<=50527||50529<=m&&m<=50555||50557<=m&&m<=50583||50585<=m&&m<=50611||50613<=m&&m<=50639||50641<=m&&m<=50667||50669<=m&&m<=50695||50697<=m&&m<=50723||50725<=m&&m<=50751||50753<=m&&m<=50779||50781<=m&&m<=50807||50809<=m&&m<=50835||50837<=m&&m<=50863||50865<=m&&m<=50891||50893<=m&&m<=50919||50921<=m&&m<=50947||50949<=m&&m<=50975||50977<=m&&m<=51003||51005<=m&&m<=51031||51033<=m&&m<=51059||51061<=m&&m<=51087||51089<=m&&m<=51115||51117<=m&&m<=51143||51145<=m&&m<=51171||51173<=m&&m<=51199||51201<=m&&m<=51227||51229<=m&&m<=51255||51257<=m&&m<=51283||51285<=m&&m<=51311||51313<=m&&m<=51339||51341<=m&&m<=51367||51369<=m&&m<=51395||51397<=m&&m<=51423||51425<=m&&m<=51451||51453<=m&&m<=51479||51481<=m&&m<=51507||51509<=m&&m<=51535||51537<=m&&m<=51563||51565<=m&&m<=51591||51593<=m&&m<=51619||51621<=m&&m<=51647||51649<=m&&m<=51675||51677<=m&&m<=51703||51705<=m&&m<=51731||51733<=m&&m<=51759||51761<=m&&m<=51787||51789<=m&&m<=51815||51817<=m&&m<=51843||51845<=m&&m<=51871||51873<=m&&m<=51899||51901<=m&&m<=51927||51929<=m&&m<=51955||51957<=m&&m<=51983||51985<=m&&m<=52011||52013<=m&&m<=52039||52041<=m&&m<=52067||52069<=m&&m<=52095||52097<=m&&m<=52123||52125<=m&&m<=52151||52153<=m&&m<=52179||52181<=m&&m<=52207||52209<=m&&m<=52235||52237<=m&&m<=52263||52265<=m&&m<=52291||52293<=m&&m<=52319||52321<=m&&m<=52347||52349<=m&&m<=52375||52377<=m&&m<=52403||52405<=m&&m<=52431||52433<=m&&m<=52459||52461<=m&&m<=52487||52489<=m&&m<=52515||52517<=m&&m<=52543||52545<=m&&m<=52571||52573<=m&&m<=52599||52601<=m&&m<=52627||52629<=m&&m<=52655||52657<=m&&m<=52683||52685<=m&&m<=52711||52713<=m&&m<=52739||52741<=m&&m<=52767||52769<=m&&m<=52795||52797<=m&&m<=52823||52825<=m&&m<=52851||52853<=m&&m<=52879||52881<=m&&m<=52907||52909<=m&&m<=52935||52937<=m&&m<=52963||52965<=m&&m<=52991||52993<=m&&m<=53019||53021<=m&&m<=53047||53049<=m&&m<=53075||53077<=m&&m<=53103||53105<=m&&m<=53131||53133<=m&&m<=53159||53161<=m&&m<=53187||53189<=m&&m<=53215||53217<=m&&m<=53243||53245<=m&&m<=53271||53273<=m&&m<=53299||53301<=m&&m<=53327||53329<=m&&m<=53355||53357<=m&&m<=53383||53385<=m&&m<=53411||53413<=m&&m<=53439||53441<=m&&m<=53467||53469<=m&&m<=53495||53497<=m&&m<=53523||53525<=m&&m<=53551||53553<=m&&m<=53579||53581<=m&&m<=53607||53609<=m&&m<=53635||53637<=m&&m<=53663||53665<=m&&m<=53691||53693<=m&&m<=53719||53721<=m&&m<=53747||53749<=m&&m<=53775||53777<=m&&m<=53803||53805<=m&&m<=53831||53833<=m&&m<=53859||53861<=m&&m<=53887||53889<=m&&m<=53915||53917<=m&&m<=53943||53945<=m&&m<=53971||53973<=m&&m<=53999||54001<=m&&m<=54027||54029<=m&&m<=54055||54057<=m&&m<=54083||54085<=m&&m<=54111||54113<=m&&m<=54139||54141<=m&&m<=54167||54169<=m&&m<=54195||54197<=m&&m<=54223||54225<=m&&m<=54251||54253<=m&&m<=54279||54281<=m&&m<=54307||54309<=m&&m<=54335||54337<=m&&m<=54363||54365<=m&&m<=54391||54393<=m&&m<=54419||54421<=m&&m<=54447||54449<=m&&m<=54475||54477<=m&&m<=54503||54505<=m&&m<=54531||54533<=m&&m<=54559||54561<=m&&m<=54587||54589<=m&&m<=54615||54617<=m&&m<=54643||54645<=m&&m<=54671||54673<=m&&m<=54699||54701<=m&&m<=54727||54729<=m&&m<=54755||54757<=m&&m<=54783||54785<=m&&m<=54811||54813<=m&&m<=54839||54841<=m&&m<=54867||54869<=m&&m<=54895||54897<=m&&m<=54923||54925<=m&&m<=54951||54953<=m&&m<=54979||54981<=m&&m<=55007||55009<=m&&m<=55035||55037<=m&&m<=55063||55065<=m&&m<=55091||55093<=m&&m<=55119||55121<=m&&m<=55147||55149<=m&&m<=55175||55177<=m&&m<=55203?er:m==9757||m==9977||9994<=m&&m<=9997||m==127877||127938<=m&&m<=127940||m==127943||127946<=m&&m<=127948||128066<=m&&m<=128067||128070<=m&&m<=128080||m==128110||128112<=m&&m<=128120||m==128124||128129<=m&&m<=128131||128133<=m&&m<=128135||m==128170||128372<=m&&m<=128373||m==128378||m==128400||128405<=m&&m<=128406||128581<=m&&m<=128583||128587<=m&&m<=128591||m==128675||128692<=m&&m<=128694||m==128704||m==128716||129304<=m&&m<=129308||129310<=m&&m<=129311||m==129318||129328<=m&&m<=129337||129341<=m&&m<=129342||129489<=m&&m<=129501?Wr:127995<=m&&m<=127999?gr:m==8205?_i:m==9792||m==9794||9877<=m&&m<=9878||m==9992||m==10084||m==127752||m==127806||m==127859||m==127891||m==127908||m==127912||m==127979||m==127981||m==128139||128187<=m&&m<=128188||m==128295||m==128300||m==128488||m==128640||m==128658?Ee:128102<=m&&m<=128105?X:Ar}return this}pe.exports&&(pe.exports=Me)}),o=new i,a=function(Me,Re,it){for(var ot=o.iterateGraphemes(Me.substring(Re)),St="",Rt=0;Rt<it-Re;Rt++){var zt=ot.next();if(St+=zt.value,zt.done)break}return St},s=function(pe,Me,Re,it,ot,St,Rt){return{start:{line:pe,column:Me,offset:Re},end:{line:it,column:ot,offset:St},source:Rt||null}},h=r(function(pe,Me){(function(Re,it){pe.exports=it()})(n,function(){var Re="",it,ot=St;function St(er,Ar){if(typeof er!="string")throw new TypeError("expected a string");if(Ar===1)return er;if(Ar===2)return er+er;var Mr=er.length*Ar;if(it!==er||typeof it>"u")it=er,Re="";else if(Re.length>=Mr)return Re.substr(0,Mr);for(;Mr>Re.length&&Ar>1;)Ar&1&&(Re+=er),Ar>>=1,er+=er;return Re+=er,Re=Re.substr(0,Mr),Re}var Rt=function(Ar,Mr,Wr){if(Ar==null||Mr==null)return Ar;var gr=String(Ar),_i=typeof Mr=="number"?Mr:parseInt(Mr,10);if(isNaN(_i)||!isFinite(_i))return gr;var Ee=gr.length;if(Ee>=_i)return gr;var X=Wr==null?"":String(Wr);X===""&&(X=" ");for(var Y=_i-Ee;X.length<Y;)X+=X;var Te=X.length>Y?X.substr(0,Y):X;return Te+gr},zt=Object.assign||function(er){for(var Ar=1;Ar<arguments.length;Ar++){var Mr=arguments[Ar];for(var Wr in Mr)Object.prototype.hasOwnProperty.call(Mr,Wr)&&(er[Wr]=Mr[Wr])}return er};function pt(er,Ar,Mr,Wr){var gr=String(Ar),_i=Rt(gr,Mr," "),Ee=ot(" ",Wr.tabSize);return _i+" | "+er.replace(/\t/g,Ee)}function ir(er,Ar,Mr,Wr,gr){return er.slice(Ar,Mr).map(function(_i,Ee){return pt(_i,Ar+Ee+1,Wr,gr)}).join(`
`)}var gn={extraLines:2,tabSize:4},yn=function(Ar,Mr,Wr,gr){gr=zt({},gn,gr);var _i=Ar.split(/\r\n?|\n|\f/),Ee=Math.max(1,Mr-gr.extraLines)-1,X=Math.min(Mr+gr.extraLines,_i.length),Y=String(X).length,Te=ir(_i,Ee,Mr,Y,gr),ut=pt(_i[Mr-1].substring(0,Wr-1),Mr,Y,gr),Bt=ot(" ",ut.length)+"^",It=ir(_i,Mr,X,Y,gr);return[Te,Bt,It].filter(Boolean).join(`
`)};return yn})}),g=new Error().stack,_=function(pe){var Me=Object.create(SyntaxError.prototype);return Object.assign(Me,pe,{name:"SyntaxError"}),Object.defineProperty(Me,"stack",{get:function(){return g?g.replace(/^(.+\n){1,3}/,String(Me)+`
`):""}}),Me},B=function(pe,Me,Re,it,ot){throw _({message:it?pe+`
`+h(Me,it,ot):pe,rawMessage:pe,source:Re,line:it,column:ot})},k={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(Me){for(var Re=arguments.length,it=Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)it[ot-1]=arguments[ot];return"Unexpected token <"+Me+"> at "+it.filter(Boolean).join(":")}},P={unexpectedSymbol:function(Me){for(var Re=arguments.length,it=Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)it[ot-1]=arguments[ot];return"Unexpected symbol <"+Me+"> at "+it.filter(Boolean).join(":")}},F={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},q={"{":F.LEFT_BRACE,"}":F.RIGHT_BRACE,"[":F.LEFT_BRACKET,"]":F.RIGHT_BRACKET,":":F.COLON,",":F.COMMA},ee={true:F.TRUE,false:F.FALSE,null:F.NULL},H={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},N={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},Z={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ue(pe){return pe>="1"&&pe<="9"}function ye(pe){return pe>="0"&&pe<="9"}function be(pe){return ye(pe)||pe>="a"&&pe<="f"||pe>="A"&&pe<="F"}function J(pe){return pe==="e"||pe==="E"}function se(pe,Me,Re,it){var ot=pe.charAt(Me);if(ot==="\r")Me++,Re++,it=1,pe.charAt(Me)===`
`&&Me++;else if(ot===`
`)Me++,Re++,it=1;else if(ot==="	"||ot===" ")Me++,it++;else return null;return{index:Me,line:Re,column:it}}function xe(pe,Me,Re,it){var ot=pe.charAt(Me);return ot in q?{type:q[ot],line:Re,column:it+1,index:Me+1,value:null}:null}function Se(pe,Me,Re,it){for(var ot in ee)if(ee.hasOwnProperty(ot)&&pe.substr(Me,ot.length)===ot)return{type:ee[ot],line:Re,column:it+ot.length,index:Me+ot.length,value:ot};return null}function De(pe,Me,Re,it){for(var ot=Me,St=H._START_;Me<pe.length;){var Rt=pe.charAt(Me);switch(St){case H._START_:{if(Rt==='"')Me++,St=H.START_QUOTE_OR_CHAR;else return null;break}case H.START_QUOTE_OR_CHAR:{if(Rt==="\\")Me++,St=H.ESCAPE;else{if(Rt==='"')return Me++,{type:F.STRING,line:Re,column:it+Me-ot,index:Me,value:pe.slice(ot,Me)};Me++}break}case H.ESCAPE:{if(Rt in N){if(Me++,Rt==="u")for(var zt=0;zt<4;zt++){var pt=pe.charAt(Me);if(pt&&be(pt))Me++;else return null}St=H.START_QUOTE_OR_CHAR}else return null;break}}}}function Le(pe,Me,Re,it){var ot=Me,St=Me,Rt=Z._START_;e:for(;Me<pe.length;){var zt=pe.charAt(Me);switch(Rt){case Z._START_:{if(zt==="-")Rt=Z.MINUS;else if(zt==="0")St=Me+1,Rt=Z.ZERO;else if(ue(zt))St=Me+1,Rt=Z.DIGIT;else return null;break}case Z.MINUS:{if(zt==="0")St=Me+1,Rt=Z.ZERO;else if(ue(zt))St=Me+1,Rt=Z.DIGIT;else return null;break}case Z.ZERO:{if(zt===".")Rt=Z.POINT;else if(J(zt))Rt=Z.EXP;else break e;break}case Z.DIGIT:{if(ye(zt))St=Me+1;else if(zt===".")Rt=Z.POINT;else if(J(zt))Rt=Z.EXP;else break e;break}case Z.POINT:{if(ye(zt))St=Me+1,Rt=Z.DIGIT_FRACTION;else break e;break}case Z.DIGIT_FRACTION:{if(ye(zt))St=Me+1;else if(J(zt))Rt=Z.EXP;else break e;break}case Z.EXP:{if(zt==="+"||zt==="-")Rt=Z.EXP_DIGIT_OR_SIGN;else if(ye(zt))St=Me+1,Rt=Z.EXP_DIGIT_OR_SIGN;else break e;break}case Z.EXP_DIGIT_OR_SIGN:{if(ye(zt))St=Me+1;else break e;break}}Me++}return St>0?{type:F.NUMBER,line:Re,column:it+St-ot,index:St,value:pe.slice(ot,St)}:null}var he=function(Me,Re){for(var it=1,ot=1,St=0,Rt=[];St<Me.length;){var zt=[Me,St,it,ot],pt=se.apply(void 0,zt);if(pt){St=pt.index,it=pt.line,ot=pt.column;continue}var ir=xe.apply(void 0,zt)||Se.apply(void 0,zt)||De.apply(void 0,zt)||Le.apply(void 0,zt);if(ir){var gn={type:ir.type,value:ir.value,loc:s(it,ot,St,ir.line,ir.column,ir.index,Re.source)};Rt.push(gn),St=ir.index,it=ir.line,ot=ir.column}else B(P.unexpectedSymbol(a(Me,St,St+1),Re.source,it,ot),Me,Re.source,it,ot)}return Rt},qe={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},ge={_START_:0,KEY:1,COLON:2},_t={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},Mt={loc:!0,source:null};function dt(pe,Me,Re){var it=Me.length>0?Me[Me.length-1].loc.end:{line:1,column:1};B(k.unexpectedEnd(),pe,Re.source,it.line,it.column)}function mt(pe){for(var Me=0,Re=0;Re<4;Re++)Me=Me*16+parseInt(pe[Re],16);return String.fromCharCode(Me)}var je={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Ve=['"',"\\","/"];function Xe(pe){for(var Me="",Re=0;Re<pe.length;Re++){var it=pe.charAt(Re);if(it==="\\"){Re++;var ot=pe.charAt(Re);if(ot==="u")Me+=mt(pe.substr(Re+1,4)),Re+=4;else if(Ve.indexOf(ot)!==-1)Me+=ot;else if(ot in je)Me+=je[ot];else break}else Me+=it}return Me}function Jt(pe,Me,Re,it){for(var ot=void 0,St={type:"Object",children:[]},Rt=qe._START_;Re<Me.length;){var zt=Me[Re];switch(Rt){case qe._START_:{if(zt.type===F.LEFT_BRACE)ot=zt,Rt=qe.OPEN_OBJECT,Re++;else return null;break}case qe.OPEN_OBJECT:{if(zt.type===F.RIGHT_BRACE)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};var pt=Ht(pe,Me,Re,it);St.children.push(pt.value),Rt=qe.PROPERTY,Re=pt.index;break}case qe.PROPERTY:{if(zt.type===F.RIGHT_BRACE)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};zt.type===F.COMMA?(Rt=qe.COMMA,Re++):B(k.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case qe.COMMA:{var ir=Ht(pe,Me,Re,it);ir?(Re=ir.index,St.children.push(ir.value),Rt=qe.PROPERTY):B(k.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}}}dt(pe,Me,it)}function Ht(pe,Me,Re,it){for(var ot=void 0,St={type:"Property",key:null,value:null},Rt=ge._START_;Re<Me.length;){var zt=Me[Re];switch(Rt){case ge._START_:{if(zt.type===F.STRING){var pt={type:"Identifier",value:Xe(pe.slice(zt.loc.start.offset+1,zt.loc.end.offset-1)),raw:zt.value};it.loc&&(pt.loc=zt.loc),ot=zt,St.key=pt,Rt=ge.KEY,Re++}else return null;break}case ge.KEY:{zt.type===F.COLON?(Rt=ge.COLON,Re++):B(k.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case ge.COLON:{var ir=$t(pe,Me,Re,it);return St.value=ir.value,it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,ir.value.loc.end.line,ir.value.loc.end.column,ir.value.loc.end.offset,it.source)),{value:St,index:ir.index}}}}}function Ct(pe,Me,Re,it){for(var ot=void 0,St={type:"Array",children:[]},Rt=_t._START_,zt=void 0;Re<Me.length;)switch(zt=Me[Re],Rt){case _t._START_:{if(zt.type===F.LEFT_BRACKET)ot=zt,Rt=_t.OPEN_ARRAY,Re++;else return null;break}case _t.OPEN_ARRAY:{if(zt.type===F.RIGHT_BRACKET)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};var pt=$t(pe,Me,Re,it);Re=pt.index,St.children.push(pt.value),Rt=_t.VALUE;break}case _t.VALUE:{if(zt.type===F.RIGHT_BRACKET)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};zt.type===F.COMMA?(Rt=_t.COMMA,Re++):B(k.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case _t.COMMA:{var ir=$t(pe,Me,Re,it);Re=ir.index,St.children.push(ir.value),Rt=_t.VALUE;break}}dt(pe,Me,it)}function Qt(pe,Me,Re,it){var ot=Me[Re],St=null;switch(ot.type){case F.STRING:{St=Xe(pe.slice(ot.loc.start.offset+1,ot.loc.end.offset-1));break}case F.NUMBER:{St=Number(ot.value);break}case F.TRUE:{St=!0;break}case F.FALSE:{St=!1;break}case F.NULL:{St=null;break}default:return null}var Rt={type:"Literal",value:St,raw:ot.value};return it.loc&&(Rt.loc=ot.loc),{value:Rt,index:Re+1}}function $t(pe,Me,Re,it){var ot=Me[Re],St=Qt.apply(void 0,arguments)||Jt.apply(void 0,arguments)||Ct.apply(void 0,arguments);if(St)return St;B(k.unexpectedToken(a(pe,ot.loc.start.offset,ot.loc.end.offset),it.source,ot.loc.start.line,ot.loc.start.column),pe,it.source,ot.loc.start.line,ot.loc.start.column)}var Ie=function(pe,Me){Me=Object.assign({},Mt,Me);var Re=he(pe,Me);Re.length===0&&dt(pe,Re,Me);var it=$t(pe,Re,0,Me);if(it.index===Re.length)return it.value;var ot=Re[it.index];B(k.unexpectedToken(a(pe,ot.loc.start.offset,ot.loc.end.offset),Me.source,ot.loc.start.line,ot.loc.start.column),pe,Me.source,ot.loc.start.line,ot.loc.start.column)};return Ie})})(VN);var U0e=VN.exports;const R0e=Oa(U0e);function En(){var e="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",t="a994e12e3e6547813b669a430e6cb42da5d99bba",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a994e12e3e6547813b669a430e6cb42da5d99bba"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return En=function(){return a},a}En();En().s[0]++;Gc.defineMode("mgl",(e,t)=>(En().f[0]++,En().s[1]++,Gc.modes.javascript({...e,json:!0},t)));En().s[2]++;Gc.registerHelper("lint","json",e=>{En().f[1]++;const t=(En().s[3]++,[]);En().s[4]++,YO.parser.parseError=(n,r)=>{En().f[2]++;const i=(En().s[5]++,r.loc);En().s[6]++,t.push({from:Gc.Pos(i.first_line-1,i.first_column),to:Gc.Pos(i.last_line-1,i.last_column),message:n})},En().s[7]++;try{En().s[8]++,YO.parse(e)}catch{}return En().s[9]++,t});En().s[10]++;Gc.registerHelper("lint","mgl",(e,t,n)=>{En().f[3]++;const r=(En().s[11]++,[]),{parser:i}=(En().s[12]++,YO),{context:o}=(En().s[13]++,t);En().s[14]++,i.parseError=(_,B)=>{En().f[4]++;const k=(En().s[15]++,B.loc);En().s[16]++,r.push({from:Gc.Pos(k.first_line-1,k.first_column),to:Gc.Pos(k.last_line-1,k.last_column),message:_})},En().s[17]++;try{En().s[18]++,i.parse(e)}catch{}if(En().s[19]++,r.length>0)return En().b[0][0]++,En().s[20]++,r;En().b[0][1]++;const a=(En().s[21]++,R0e(e)),s=(En().s[22]++,JSON.parse(e));function h(_,B){if(En().f[5]++,En().s[23]++,_){if(En().b[1][1]++,En().s[25]++,B.length<1)return En().b[2][0]++,En().s[26]++,_;if(En().b[2][1]++,En().s[27]++,_.children){En().b[3][1]++;const k=(En().s[29]++,B[0]);let P;return En().s[30]++,k.match(/^[0-9]+$/)?(En().b[4][0]++,En().s[31]++,P=_.children[B[0]]):(En().b[4][1]++,En().s[32]++,P=_.children.find(F=>(En().f[6]++,En().s[33]++,En().b[5][0]++,F.key&&(En().b[5][1]++,F.key.type==="Identifier")&&(En().b[5][2]++,F.key.value===k))),En().s[34]++,P?(En().b[6][0]++,En().s[35]++,P=P.value):En().b[6][1]++),En().s[36]++,h(P,B.slice(1))}else{En().b[3][0]++,En().s[28]++;return}}else{En().b[1][0]++,En().s[24]++;return}}let g=(En().s[37]++,null);if(En().s[38]++,o==="layer"){En().b[7][0]++;const _=(En().s[39]++,Wd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[s]}));En().s[40]++,_?(En().b[8][0]++,En().s[41]++,g={result:"error",value:_.filter(B=>(En().f[7]++,En().s[42]++,!B.message.match(/^layers\[0\]: source ".*" not found$/))).map(B=>{En().f[8]++;const k=(En().s[43]++,B.message.replace(/^layers\[0\]./,"").split(":"));return En().s[44]++,{name:"",key:k[0],message:k[1]}})}):En().b[8][1]++}else if(En().b[7][1]++,En().s[45]++,o==="expression")En().b[9][0]++,En().s[46]++,g=_ee.createExpression(s,t.spec);else throw En().b[9][1]++,En().s[47]++,new Error(`Invalid context ${o}`);if(En().s[48]++,(g==null?void 0:g.result)==="error"){En().b[10][0]++;const _=(En().s[49]++,g.value);En().s[50]++,_.forEach(B=>{En().f[9]++;const{key:k,message:P}=(En().s[51]++,B);if(En().s[52]++,k)if(En().b[11][1]++,En().s[56]++,k){En().b[12][0]++;const F=(En().s[57]++,k.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),q=(En().s[58]++,h(a,F));if(En().s[59]++,q)En().b[13][1]++;else{En().b[13][0]++,En().s[60]++,console.warn("Something went wrong parsing error:",B),En().s[61]++;return}const{loc:ee}=(En().s[62]++,q),{start:H,end:N}=(En().s[63]++,ee);En().s[64]++,r.push({from:Gc.Pos(H.line-1,H.column),to:Gc.Pos(N.line-1,N.column),message:P})}else En().b[12][1]++;else{En().b[11][0]++;const F=(En().s[53]++,n.getLineHandle(n.lastLine())),q=(En().s[54]++,{from:Gc.Pos(n.firstLine(),0),to:Gc.Pos(n.lastLine(),F.text.length),message:P});En().s[55]++,r.push(q)}})}else En().b[10][1]++;return En().s[65]++,r});function Dn(){var e="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",t="73341c4954366276bd838a194b53fa026df00a42",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:28,column:3}},1:{start:{line:18,column:6},end:{line:18,column:65}},2:{start:{line:31,column:8},end:{line:31,column:12}},3:{start:{line:32,column:22},end:{line:32,column:27}},4:{start:{line:34,column:4},end:{line:34,column:17}},5:{start:{line:35,column:4},end:{line:35,column:32}},6:{start:{line:36,column:4},end:{line:40,column:6}},7:{start:{line:43,column:4},end:{line:59,column:7}},8:{start:{line:60,column:4},end:{line:60,column:42}},9:{start:{line:61,column:4},end:{line:61,column:40}},10:{start:{line:62,column:4},end:{line:62,column:38}},11:{start:{line:64,column:18},end:{line:66,column:3}},12:{start:{line:65,column:4},end:{line:65,column:31}},13:{start:{line:67,column:12},end:{line:74,column:3}},14:{start:{line:68,column:4},end:{line:69,column:27}},15:{start:{line:69,column:6},end:{line:69,column:27}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:83,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:78,column:26}},20:{start:{line:78,column:6},end:{line:78,column:26}},21:{start:{line:79,column:4},end:{line:82,column:7}},22:{start:{line:85,column:4},end:{line:85,column:43}},23:{start:{line:86,column:4},end:{line:86,column:41}},24:{start:{line:87,column:4},end:{line:87,column:39}},25:{start:{line:90,column:4},end:{line:95,column:5}},26:{start:{line:91,column:6},end:{line:91,column:36}},27:{start:{line:92,column:6},end:{line:94,column:8}},28:{start:{line:97,column:13},end:{line:126,column:3}},29:{start:{line:98,column:4},end:{line:104,column:5}},30:{start:{line:99,column:6},end:{line:99,column:37}},31:{start:{line:100,column:6},end:{line:102,column:9}},32:{start:{line:103,column:6},end:{line:103,column:13}},33:{start:{line:105,column:20},end:{line:105,column:40}},34:{start:{line:106,column:4},end:{line:122,column:5}},35:{start:{line:108,column:6},end:{line:113,column:7}},36:{start:{line:109,column:8},end:{line:109,column:42}},37:{start:{line:111,column:8},end:{line:111,column:19}},38:{start:{line:112,column:8},end:{line:112,column:27}},39:{start:{line:114,column:6},end:{line:121,column:7}},40:{start:{line:115,column:8},end:{line:115,column:35}},41:{start:{line:117,column:8},end:{line:118,column:43}},42:{start:{line:118,column:10},end:{line:118,column:43}},43:{start:{line:119,column:8},end:{line:120,column:35}},44:{start:{line:120,column:10},end:{line:120,column:35}},45:{start:{line:123,column:4},end:{line:125,column:7}},46:{start:{line:128,column:28},end:{line:128,column:38}},47:{start:{line:129,column:18},end:{line:129,column:20}},48:{start:{line:130,column:4},end:{line:132,column:5}},49:{start:{line:131,column:6},end:{line:131,column:45}},50:{start:{line:133,column:4},end:{line:147,column:9}},51:{start:{line:143,column:23},end:{line:143,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:24},end:{line:19,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:21,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:12},end:{line:22,column:13}},loc:{start:{line:22,column:18},end:{line:23,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:26,column:17},end:{line:26,column:18}},loc:{start:{line:26,column:23},end:{line:27,column:5}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:21},end:{line:41,column:3}},line:33},6:{name:"(anonymous_6)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:22},end:{line:63,column:3}},line:42},7:{name:"(anonymous_7)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:24},end:{line:66,column:3}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:12},end:{line:67,column:13}},loc:{start:{line:67,column:18},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:83,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:25},end:{line:88,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:32},end:{line:96,column:3}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:13},end:{line:97,column:14}},loc:{start:{line:97,column:21},end:{line:126,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:11},end:{line:148,column:3}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:143,column:15},end:{line:143,column:16}},loc:{start:{line:143,column:23},end:{line:143,column:36}},line:143}},branchMap:{0:{loc:{start:{line:45,column:12},end:{line:47,column:7}},type:"binary-expr",locations:[{start:{line:45,column:12},end:{line:45,column:27}},{start:{line:45,column:31},end:{line:47,column:7}}],line:45},1:{loc:{start:{line:53,column:12},end:{line:55,column:7}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:27}},{start:{line:53,column:31},end:{line:55,column:7}}],line:53},2:{loc:{start:{line:68,column:4},end:{line:69,column:27}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:27}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},3:{loc:{start:{line:77,column:4},end:{line:78,column:26}},type:"if",locations:[{start:{line:77,column:4},end:{line:78,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:90,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},5:{loc:{start:{line:90,column:8},end:{line:90,column:69}},type:"binary-expr",locations:[{start:{line:90,column:8},end:{line:90,column:29}},{start:{line:90,column:33},end:{line:90,column:69}}],line:90},6:{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},7:{loc:{start:{line:106,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:122,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106},8:{loc:{start:{line:114,column:6},end:{line:121,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:121,column:7}},{start:{line:116,column:13},end:{line:121,column:7}}],line:114},9:{loc:{start:{line:114,column:10},end:{line:114,column:41}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:13}},{start:{line:114,column:17},end:{line:114,column:41}}],line:114},10:{loc:{start:{line:117,column:8},end:{line:118,column:43}},type:"if",locations:[{start:{line:117,column:8},end:{line:118,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},11:{loc:{start:{line:119,column:8},end:{line:120,column:35}},type:"if",locations:[{start:{line:119,column:8},end:{line:120,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119},12:{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAqKM,SACQ,KADR;AArKN,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AAErC,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA0BP,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM;AAAQ,WAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM;AAAU,eAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM;AAAa,eAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,2BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GAAG;AAAA;AAAA,QACrF,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"73341c4954366276bd838a194b53fa026df00a42"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Dn=function(){return a},a}Dn();class ZN extends Mn.Component{constructor(n){Dn().f[5]++,Dn().s[4]++;super(n);on(this,"_keyEvent");on(this,"_doc");on(this,"_el",(Dn().s[2]++,null));on(this,"_cancelNextChange",(Dn().s[3]++,!1));on(this,"onPointerDown",(Dn().s[11]++,()=>{Dn().f[7]++,Dn().s[12]++,this._keyEvent="pointer"}));on(this,"onFocus",(Dn().s[13]++,()=>{Dn().f[8]++,Dn().s[14]++,this.props.onFocus?(Dn().b[2][0]++,Dn().s[15]++,this.props.onFocus()):Dn().b[2][1]++,Dn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));on(this,"onBlur",(Dn().s[17]++,()=>{Dn().f[9]++,Dn().s[18]++,this._keyEvent="keyboard",Dn().s[19]++,this.props.onBlur?(Dn().b[3][0]++,Dn().s[20]++,this.props.onBlur()):Dn().b[3][1]++,Dn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));on(this,"onChange",(Dn().s[28]++,n=>{if(Dn().f[12]++,Dn().s[29]++,this._cancelNextChange){Dn().b[6][0]++,Dn().s[30]++,this._cancelNextChange=!1,Dn().s[31]++,this.setState({prevValue:this._doc.getValue()}),Dn().s[32]++;return}else Dn().b[6][1]++;const r=(Dn().s[33]++,this._doc.getValue());if(Dn().s[34]++,this.state.prevValue!==r){Dn().b[7][0]++;let i,o;Dn().s[35]++;try{Dn().s[36]++,i=JSON.parse(r)}catch(a){Dn().s[37]++,o=a,Dn().s[38]++,console.warn(a)}Dn().s[39]++,Dn().b[9][0]++,o&&(Dn().b[9][1]++,this.props.onJSONInvalid)?(Dn().b[8][0]++,Dn().s[40]++,this.props.onJSONInvalid()):(Dn().b[8][1]++,Dn().s[41]++,this.props.onChange?(Dn().b[10][0]++,Dn().s[42]++,this.props.onChange(i)):Dn().b[10][1]++,Dn().s[43]++,this.props.onJSONValid?(Dn().b[11][0]++,Dn().s[44]++,this.props.onJSONValid()):Dn().b[11][1]++)}else Dn().b[7][1]++;Dn().s[45]++,this.setState({prevValue:r})}));Dn().s[5]++,this._keyEvent="keyboard",Dn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Dn().f[6]++,Dn().s[7]++,this._doc=Gc(this._el,{value:this.props.getValue(this.props.layer),mode:(Dn().b[0][0]++,this.props.mode||(Dn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Dn().b[1][0]++,this.props.lint||(Dn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Dn().s[8]++,this._doc.on("change",this.onChange),Dn().s[9]++,this._doc.on("focus",this.onFocus),Dn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Dn().f[10]++,Dn().s[22]++,this._doc.off("change",this.onChange),Dn().s[23]++,this._doc.off("focus",this.onFocus),Dn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(n){Dn().f[11]++,Dn().s[25]++,Dn().b[5][0]++,!this.state.isEditing&&(Dn().b[5][1]++,n.layer!==this.props.layer)?(Dn().b[4][0]++,Dn().s[26]++,this._cancelNextChange=!0,Dn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Dn().b[4][1]++}render(){Dn().f[13]++;const{showMessage:n}=(Dn().s[46]++,this.state),r=(Dn().s[47]++,{});return Dn().s[48]++,this.props.maxHeight?(Dn().b[12][0]++,Dn().s[49]++,r.maxHeight=this.props.maxHeight):Dn().b[12][1]++,Dn().s[50]++,G.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[G.jsxs("div",{className:Rf("JSONEditor__message",{"JSONEditor__message--on":n}),children:["Press ",G.jsx("kbd",{children:"ESC"})," to lose focus"]}),G.jsx("div",{className:Rf("codemirror-container",this.props.className),ref:i=>(Dn().f[14]++,Dn().s[51]++,this._el=i),style:r})]})}}on(ZN,"defaultProps",(Dn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:n=>(Dn().f[0]++,Dn().s[1]++,qN(n,{indent:2,maxLength:40})),onFocus:()=>{Dn().f[1]++},onBlur:()=>{Dn().f[2]++},onJSONInvalid:()=>{Dn().f[3]++},onJSONValid:()=>{Dn().f[4]++}}));function L4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",t="60f4cd40e505c4a9f8de1078b77716b10a4a4264",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f4cd40e505c4a9f8de1078b77716b10a4a4264"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return L4=function(){return a},a}L4();class fk extends Mn.Component{render(){return L4().f[0]++,L4().s[0]++,G.jsx(ZN,{...this.props})}}var ab="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",z0e="M7,10L12,15L17,10H7Z",j0e="M7,15L12,10L17,15H7Z",pk="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function v1(){var e="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",t="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return v1=function(){return a},a}v1();const mk=(v1().s[0]++,["all","any","none"]);v1().s[1]++;const W0e=(v1().s[2]++,Object.keys(no.filter_operator.values).filter(e=>(v1().f[0]++,v1().s[3]++,mk.indexOf(e)<0)));function Gr(){var e="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",t="3d8bcd70e58647712bf929f9e6ef3e13fde3cd73",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:9,column:13}},1:{start:{line:9,column:4},end:{line:9,column:13}},2:{start:{line:10,column:2},end:{line:11,column:13}},3:{start:{line:11,column:4},end:{line:11,column:13}},4:{start:{line:12,column:2},end:{line:12,column:23}},5:{start:{line:15,column:19},end:{line:15,column:40}},6:{start:{line:16,column:2},end:{line:18,column:3}},7:{start:{line:17,column:4},end:{line:17,column:13}},8:{start:{line:19,column:2},end:{line:25,column:3}},9:{start:{line:20,column:4},end:{line:20,column:16}},10:{start:{line:21,column:9},end:{line:25,column:3}},11:{start:{line:22,column:4},end:{line:22,column:17}},12:{start:{line:24,column:4},end:{line:24,column:13}},13:{start:{line:28,column:2},end:{line:28,column:21}},14:{start:{line:29,column:2},end:{line:29,column:22}},15:{start:{line:30,column:2},end:{line:30,column:11}},16:{start:{line:33,column:24},end:{line:35,column:3}},17:{start:{line:37,column:20},end:{line:37,column:76}},18:{start:{line:38,column:4},end:{line:42,column:5}},19:{start:{line:39,column:6},end:{line:39,column:43}},20:{start:{line:40,column:11},end:{line:42,column:5}},21:{start:{line:41,column:6},end:{line:41,column:47}},22:{start:{line:43,column:4},end:{line:43,column:35}},23:{start:{line:46,column:14},end:{line:46,column:31}},24:{start:{line:47,column:21},end:{line:47,column:25}},25:{start:{line:48,column:25},end:{line:48,column:29}},26:{start:{line:49,column:23},end:{line:49,column:33}},27:{start:{line:50,column:4},end:{line:77,column:9}},28:{start:{line:56,column:72},end:{line:56,column:92}},29:{start:{line:57,column:41},end:{line:57,column:104}},30:{start:{line:65,column:37},end:{line:65,column:100}},31:{start:{line:74,column:27},end:{line:74,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:13,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:14,column:9},end:{line:14,column:21}},loc:{start:{line:14,column:25},end:{line:26,column:1}},line:14},2:{name:"parseFilter",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:31,column:1}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:58},end:{line:44,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:78,column:3}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:58},end:{line:56,column:59}},loc:{start:{line:56,column:72},end:{line:56,column:92}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:57,column:20},end:{line:57,column:21}},loc:{start:{line:57,column:41},end:{line:57,column:104}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:37},end:{line:65,column:100}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:74,column:20},end:{line:74,column:21}},loc:{start:{line:74,column:27},end:{line:74,column:89}},line:74}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:9,column:13}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:11,column:13}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},2:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},3:{loc:{start:{line:19,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:25,column:3}},{start:{line:21,column:9},end:{line:25,column:3}}],line:19},4:{loc:{start:{line:21,column:9},end:{line:25,column:3}},type:"if",locations:[{start:{line:21,column:9},end:{line:25,column:3}},{start:{line:23,column:9},end:{line:25,column:3}}],line:21},5:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38},6:{loc:{start:{line:38,column:8},end:{line:38,column:49}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:26}},{start:{line:38,column:30},end:{line:38,column:49}}],line:38},7:{loc:{start:{line:40,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},8:{loc:{start:{line:69,column:6},end:{line:76,column:10}},type:"binary-expr",locations:[{start:{line:69,column:6},end:{line:69,column:27}},{start:{line:69,column:47},end:{line:76,column:10}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM;AAAI,WAAO;AACrB,MAAI,MAAM,CAAW;AAAG,WAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3d8bcd70e58647712bf929f9e6ef3e13fde3cd73"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gr=function(){return a},a}Gr();function N0e(e){return Gr().f[0]++,Gr().s[0]++,e===""?(Gr().b[0][0]++,Gr().s[1]++,e):(Gr().b[0][1]++,Gr().s[2]++,isNaN(e)?(Gr().b[1][0]++,Gr().s[3]++,e):(Gr().b[1][1]++,Gr().s[4]++,parseFloat(e)))}function G0e(e){Gr().f[1]++;const t=(Gr().s[5]++,typeof e=="string");if(Gr().s[6]++,t)Gr().b[2][1]++;else return Gr().b[2][0]++,Gr().s[7]++,e;return Gr().s[8]++,e.match(/^\s*true\s*$/)?(Gr().b[3][0]++,Gr().s[9]++,!0):(Gr().b[3][1]++,Gr().s[10]++,e.match(/^\s*false\s*$/)?(Gr().b[4][0]++,Gr().s[11]++,!1):(Gr().b[4][1]++,Gr().s[12]++,e))}function Q0e(e){return Gr().f[2]++,Gr().s[13]++,e=N0e(e),Gr().s[14]++,e=G0e(e),Gr().s[15]++,e}class XN extends Mn.Component{onFilterPartChanged(t,n,r){Gr().f[3]++;let i=(Gr().s[17]++,[t,n,...r.map(Q0e)]);Gr().s[18]++,Gr().b[6][0]++,t==="has"||(Gr().b[6][1]++,t==="!has")?(Gr().b[5][0]++,Gr().s[19]++,i=[t,n]):(Gr().b[5][1]++,Gr().s[20]++,r.length===0?(Gr().b[7][0]++,Gr().s[21]++,i=[t,n,""]):Gr().b[7][1]++),Gr().s[22]++,this.props.onChange(i)}render(){Gr().f[4]++;const t=(Gr().s[23]++,this.props.filter),n=(Gr().s[24]++,t[0]),r=(Gr().s[25]++,t[1]),i=(Gr().s[26]++,t.slice(2));return Gr().s[27]++,G.jsxs("div",{className:"maputnik-filter-editor-single",children:[G.jsx("div",{className:"maputnik-filter-editor-property",children:G.jsx(bv,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(Gr().f[5]++,Gr().s[28]++,[o,o])),onChange:o=>(Gr().f[6]++,Gr().s[29]++,this.onFilterPartChanged(n,o,i))})}),G.jsx("div",{className:"maputnik-filter-editor-operator",children:G.jsx(G1,{"aria-label":"function",value:n,onChange:o=>(Gr().f[7]++,Gr().s[30]++,this.onFilterPartChanged(o,r,i)),options:W0e})}),(Gr().b[8][0]++,i.length>0&&(Gr().b[8][1]++,G.jsx("div",{className:"maputnik-filter-editor-args",children:G.jsx(jd,{"aria-label":"value",value:i.join(","),onChange:o=>(Gr().f[8]++,Gr().s[31]++,this.onFilterPartChanged(n,r,o.split(",")))})})))]})}}on(XN,"defaultProps",(Gr().s[16]++,{properties:{}}));function U4(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",t="1cb8df3f9feb5c7adb79e90612df8d0101379bf4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:18,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:19,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAUW,SAOD,KAPC;AAVX,OAAO,WAAkC;AACzC,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAMvB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1cb8df3f9feb5c7adb79e90612df8d0101379bf4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return U4=function(){return a},a}U4();class $0e extends Mn.Component{render(){return U4().f[0]++,U4().s[0]++,G.jsxs("div",{className:"maputnik-filter-editor-block",children:[G.jsx("div",{className:"maputnik-filter-editor-block-action",children:G.jsx(za,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block",children:G.jsx(mv,{})})}),G.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}var Y0e=1/0,q0e="[object Symbol]",gk="\\ud800-\\udfff",JN="\\u0300-\\u036f\\ufe20-\\ufe23",eG="\\u20d0-\\u20f0",tG="\\ufe0e\\ufe0f",H0e="["+gk+"]",qO="["+JN+eG+"]",HO="\\ud83c[\\udffb-\\udfff]",V0e="(?:"+qO+"|"+HO+")",nG="[^"+gk+"]",rG="(?:\\ud83c[\\udde6-\\uddff]){2}",iG="[\\ud800-\\udbff][\\udc00-\\udfff]",oG="\\u200d",aG=V0e+"?",sG="["+tG+"]?",Z0e="(?:"+oG+"(?:"+[nG,rG,iG].join("|")+")"+sG+aG+")*",X0e=sG+aG+Z0e,J0e="(?:"+[nG+qO+"?",qO,rG,iG,H0e].join("|")+")",e1e=RegExp(HO+"(?="+HO+")|"+J0e+X0e,"g"),t1e=RegExp("["+oG+gk+JN+eG+tG+"]"),n1e=typeof window=="object"&&window&&window.Object===Object&&window,r1e=typeof self=="object"&&self&&self.Object===Object&&self,i1e=n1e||r1e||Function("return this")();function o1e(e){return e.split("")}function lG(e){return t1e.test(e)}function a1e(e){return lG(e)?s1e(e):o1e(e)}function s1e(e){return e.match(e1e)||[]}var l1e=Object.prototype,u1e=l1e.toString,oP=i1e.Symbol,aP=oP?oP.prototype:void 0,sP=aP?aP.toString:void 0;function A1e(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function c1e(e){if(typeof e=="string")return e;if(p1e(e))return sP?sP.call(e):"";var t=e+"";return t=="0"&&1/e==-Y0e?"-0":t}function d1e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:A1e(e,t,n)}function h1e(e){return function(t){t=uG(t);var n=lG(t)?a1e(t):void 0,r=n?n[0]:t.charAt(0),i=n?d1e(n,1).join(""):t.slice(1);return r[e]()+i}}function f1e(e){return!!e&&typeof e=="object"}function p1e(e){return typeof e=="symbol"||f1e(e)&&u1e.call(e)==q0e}function uG(e){return e==null?"":c1e(e)}function m1e(e){return g1e(uG(e).toLowerCase())}var g1e=h1e("toUpperCase"),y1e=m1e;const yk=Oa(y1e);function yf(){var e="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",t="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return yf=function(){return a},a}yf();function ww(e){yf().f[0]++;let t;const n=(yf().s[0]++,e.split("-"));return yf().s[1]++,n.length>1?(yf().b[0][0]++,yf().s[2]++,t=e.split("-").slice(1).join(" ")):(yf().b[0][1]++,yf().s[3]++,t=e),yf().s[4]++,yk(t)}function Ni(){var e="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",t="aa37ab38c9a5b53df0808e7895b75ac0976599a1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:10,column:24},end:{line:16,column:3}},1:{start:{line:18,column:4},end:{line:18,column:17}},2:{start:{line:19,column:4},end:{line:21,column:6}},3:{start:{line:23,column:18},end:{line:27,column:3}},4:{start:{line:24,column:4},end:{line:26,column:7}},5:{start:{line:28,column:16},end:{line:32,column:3}},6:{start:{line:29,column:4},end:{line:31,column:7}},7:{start:{line:34,column:61},end:{line:34,column:71}},8:{start:{line:35,column:26},end:{line:35,column:36}},9:{start:{line:36,column:25},end:{line:36,column:52}},10:{start:{line:37,column:42},end:{line:59,column:8}},11:{start:{line:60,column:21},end:{line:60,column:83}},12:{start:{line:61,column:23},end:{line:61,column:39}},13:{start:{line:62,column:26},end:{line:62,column:40}},14:{start:{line:63,column:24},end:{line:63,column:26}},15:{start:{line:65,column:6},end:{line:65,column:65}},16:{start:{line:67,column:4},end:{line:78,column:5}},17:{start:{line:68,column:6},end:{line:68,column:52}},18:{start:{line:70,column:6},end:{line:74,column:9}},19:{start:{line:71,column:8},end:{line:71,column:45}},20:{start:{line:73,column:8},end:{line:73,column:39}},21:{start:{line:75,column:6},end:{line:77,column:7}},22:{start:{line:76,column:8},end:{line:76,column:37}},23:{start:{line:79,column:4},end:{line:109,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:18},end:{line:15,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:21},end:{line:22,column:3}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:28},end:{line:27,column:3}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:22},end:{line:32,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:110,column:3}},line:33},6:{name:"getValue",decl:{start:{line:64,column:13},end:{line:64,column:21}},loc:{start:{line:64,column:28},end:{line:66,column:5}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:55},end:{line:72,column:7}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:36},end:{line:74,column:7}},line:72}},branchMap:{0:{loc:{start:{line:36,column:25},end:{line:36,column:52}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:45}},{start:{line:36,column:48},end:{line:36,column:52}}],line:36},1:{loc:{start:{line:38,column:6},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:38,column:6},end:{line:38,column:23}},{start:{line:38,column:43},end:{line:48,column:7}}],line:38},2:{loc:{start:{line:60,column:21},end:{line:60,column:83}},type:"cond-expr",locations:[{start:{line:60,column:44},end:{line:60,column:53}},{start:{line:60,column:56},end:{line:60,column:83}}],line:60},3:{loc:{start:{line:67,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:78,column:5}},{start:{line:69,column:11},end:{line:78,column:5}}],line:67},4:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA4DM,mBASM,KATN;AA5DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAE5B,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,qBAAqB,2BAA2B,MAAM,UAA4D;AAAA,EAChH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAa,OAA+B;AAC1C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC5D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aa37ab38c9a5b53df0808e7895b75ac0976599a1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ni=function(){return a},a}Ni();class vk extends Mn.Component{constructor(n){Ni().f[2]++,Ni().s[1]++;super(n);on(this,"onJSONInvalid",(Ni().s[3]++,n=>{Ni().f[3]++,Ni().s[4]++,this.setState({jsonError:!0})}));on(this,"onJSONValid",(Ni().s[5]++,()=>{Ni().f[4]++,Ni().s[6]++,this.setState({jsonError:!1})}));Ni().s[2]++,this.state={jsonError:!1}}render(){Ni().f[5]++;const{errors:n,fieldName:r,fieldType:i,value:o,canUndo:a}=(Ni().s[7]++,this.props),{jsonError:s}=(Ni().s[8]++,this.state),h=(Ni().s[9]++,a?(Ni().b[0][0]++,!a()):(Ni().b[0][1]++,!0)),g=(Ni().s[10]++,G.jsxs(G.Fragment,{children:[(Ni().b[1][0]++,this.props.onUndo&&(Ni().b[1][1]++,G.jsx(za,{onClick:this.props.onUndo,disabled:h,className:"maputnik-delete-stop",title:"Revert from expression",children:G.jsx(ote,{})},"undo_action"))),G.jsx(za,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression",children:G.jsx(mv,{})},"delete_action")]})),_=(Ni().s[11]++,i===void 0?(Ni().b[2][0]++,r):(Ni().b[2][1]++,`${i}.${r}`)),B=(Ni().s[12]++,n[_]),k=(Ni().s[13]++,`${_}[`),P=(Ni().s[14]++,[]);function F(q){return Ni().f[6]++,Ni().s[15]++,qN(q,{indent:2,maxLength:38})}return Ni().s[16]++,s?(Ni().b[3][0]++,Ni().s[17]++,P.push({message:"Invalid JSON"})):(Ni().b[3][1]++,Ni().s[18]++,Object.entries(n).filter(([q,ee])=>(Ni().f[7]++,Ni().s[19]++,q.startsWith(k))).forEach(([q,ee])=>(Ni().f[8]++,Ni().s[20]++,P.push(ee))),Ni().s[21]++,B?(Ni().b[4][0]++,Ni().s[22]++,P.push(B)):Ni().b[4][1]++),Ni().s[23]++,G.jsx(aa,{error:P,fieldSpec:this.props.fieldSpec,label:ww(this.props.fieldName),action:g,wideMode:!0,children:G.jsx(fk,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:F,onChange:this.props.onChange})})}}on(vk,"defaultProps",(Ni().s[0]++,{errors:{},onFocus:()=>{Ni().f[0]++},onBlur:()=>{Ni().f[1]++}}));function hn(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",t="539ebaafc62ae27a5559677295475532f297ca46",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:16,column:17},end:{line:16,column:40}},1:{start:{line:17,column:2},end:{line:19,column:3}},2:{start:{line:18,column:4},end:{line:18,column:18}},3:{start:{line:20,column:20},end:{line:20,column:29}},4:{start:{line:21,column:16},end:{line:21,column:31}},5:{start:{line:22,column:2},end:{line:25,column:3}},6:{start:{line:23,column:4},end:{line:23,column:24}},7:{start:{line:24,column:4},end:{line:24,column:32}},8:{start:{line:26,column:2},end:{line:26,column:35}},9:{start:{line:29,column:2},end:{line:29,column:65}},10:{start:{line:32,column:2},end:{line:53,column:4}},11:{start:{line:55,column:19},end:{line:59,column:1}},12:{start:{line:61,column:2},end:{line:63,column:3}},13:{start:{line:62,column:4},end:{line:62,column:16}},14:{start:{line:64,column:21},end:{line:64,column:42}},15:{start:{line:65,column:2},end:{line:65,column:38}},16:{start:{line:68,column:2},end:{line:68,column:52}},17:{start:{line:71,column:2},end:{line:73,column:3}},18:{start:{line:72,column:4},end:{line:72,column:97}},19:{start:{line:72,column:38},end:{line:72,column:59}},20:{start:{line:72,column:75},end:{line:72,column:84}},21:{start:{line:74,column:2},end:{line:74,column:15}},22:{start:{line:77,column:24},end:{line:79,column:3}},23:{start:{line:81,column:4},end:{line:81,column:17}},24:{start:{line:82,column:4},end:{line:85,column:6}},25:{start:{line:89,column:22},end:{line:89,column:58}},26:{start:{line:90,column:4},end:{line:90,column:35}},27:{start:{line:91,column:4},end:{line:91,column:35}},28:{start:{line:94,column:22},end:{line:94,column:58}},29:{start:{line:95,column:4},end:{line:95,column:39}},30:{start:{line:96,column:4},end:{line:96,column:35}},31:{start:{line:98,column:18},end:{line:102,column:3}},32:{start:{line:99,column:26},end:{line:99,column:62}},33:{start:{line:100,column:4},end:{line:100,column:43}},34:{start:{line:101,column:4},end:{line:101,column:39}},35:{start:{line:103,column:16},end:{line:107,column:3}},36:{start:{line:104,column:4},end:{line:106,column:7}},37:{start:{line:108,column:15},end:{line:112,column:3}},38:{start:{line:109,column:4},end:{line:111,column:7}},39:{start:{line:113,column:19},end:{line:119,column:3}},40:{start:{line:114,column:19},end:{line:114,column:46}},41:{start:{line:115,column:4},end:{line:115,column:47}},42:{start:{line:116,column:4},end:{line:118,column:7}},43:{start:{line:121,column:32},end:{line:121,column:75}},44:{start:{line:122,column:4},end:{line:135,column:5}},45:{start:{line:123,column:6},end:{line:126,column:8}},46:{start:{line:127,column:11},end:{line:135,column:5}},47:{start:{line:128,column:6},end:{line:130,column:8}},48:{start:{line:132,column:6},end:{line:134,column:8}},49:{start:{line:138,column:23},end:{line:138,column:33}},50:{start:{line:139,column:36},end:{line:139,column:46}},51:{start:{line:140,column:22},end:{line:142,column:5}},52:{start:{line:143,column:26},end:{line:143,column:33}},53:{start:{line:144,column:36},end:{line:144,column:112}},54:{start:{line:145,column:4},end:{line:265,column:5}},55:{start:{line:146,column:6},end:{line:159,column:11}},56:{start:{line:160,column:11},end:{line:265,column:5}},57:{start:{line:161,column:21},end:{line:161,column:48}},58:{start:{line:162,column:26},end:{line:162,column:35}},59:{start:{line:163,column:22},end:{line:163,column:37}},60:{start:{line:164,column:38},end:{line:172,column:10}},61:{start:{line:173,column:27},end:{line:186,column:8}},62:{start:{line:174,column:22},end:{line:174,column:50}},63:{start:{line:175,column:8},end:{line:185,column:29}},64:{start:{line:187,column:6},end:{line:234,column:11}},65:{start:{line:198,column:33},end:{line:198,column:63}},66:{start:{line:236,column:25},end:{line:236,column:35}},67:{start:{line:237,column:6},end:{line:264,column:11}},68:{start:{line:242,column:14},end:{line:242,column:59}},69:{start:{line:243,column:14},end:{line:243,column:49}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:15,column:9},end:{line:15,column:24}},loc:{start:{line:15,column:32},end:{line:27,column:1}},line:15},1:{name:"migrateFilter",decl:{start:{line:28,column:9},end:{line:28,column:22}},loc:{start:{line:28,column:31},end:{line:30,column:1}},line:28},2:{name:"createStyleFromFilter",decl:{start:{line:31,column:9},end:{line:31,column:30}},loc:{start:{line:31,column:39},end:{line:54,column:1}},line:31},3:{name:"checkIfSimpleFilter",decl:{start:{line:60,column:9},end:{line:60,column:28}},loc:{start:{line:60,column:37},end:{line:66,column:1}},line:60},4:{name:"hasCombiningFilter",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:36},end:{line:69,column:1}},line:67},5:{name:"hasNestedCombiningFilter",decl:{start:{line:70,column:9},end:{line:70,column:33}},loc:{start:{line:70,column:42},end:{line:75,column:1}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:72,column:31},end:{line:72,column:32}},loc:{start:{line:72,column:38},end:{line:72,column:59}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:72,column:68},end:{line:72,column:69}},loc:{start:{line:72,column:75},end:{line:72,column:84}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:21},end:{line:86,column:3}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:42},end:{line:92,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:30},end:{line:97,column:3}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:18},end:{line:98,column:19}},loc:{start:{line:98,column:24},end:{line:102,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:25},end:{line:107,column:3}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:108,column:15},end:{line:108,column:16}},loc:{start:{line:108,column:21},end:{line:112,column:3}},line:108},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:119,column:3}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:55},end:{line:136,column:3}},line:120},16:{name:"(anonymous_16)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:11},end:{line:266,column:3}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:173,column:39},end:{line:173,column:40}},loc:{start:{line:173,column:51},end:{line:186,column:7}},line:173},18:{name:"(anonymous_18)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:63}},line:198},19:{name:"(anonymous_19)",decl:{start:{line:241,column:22},end:{line:241,column:23}},loc:{start:{line:241,column:28},end:{line:244,column:13}},line:241}},branchMap:{0:{loc:{start:{line:16,column:17},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:17},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:40}}],line:16},1:{loc:{start:{line:17,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:19,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},2:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},4:{loc:{start:{line:61,column:6},end:{line:61,column:59}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:25}},{start:{line:61,column:29},end:{line:61,column:59}}],line:61},5:{loc:{start:{line:71,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:71,column:2},end:{line:73,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},6:{loc:{start:{line:122,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:135,column:5}},{start:{line:127,column:11},end:{line:135,column:5}}],line:122},7:{loc:{start:{line:122,column:8},end:{line:122,column:73}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:73}}],line:122},8:{loc:{start:{line:127,column:11},end:{line:135,column:5}},type:"if",locations:[{start:{line:127,column:11},end:{line:135,column:5}},{start:{line:131,column:11},end:{line:135,column:5}}],line:127},9:{loc:{start:{line:127,column:15},end:{line:127,column:80}},type:"binary-expr",locations:[{start:{line:127,column:15},end:{line:127,column:34}},{start:{line:127,column:38},end:{line:127,column:80}}],line:127},10:{loc:{start:{line:144,column:36},end:{line:144,column:112}},type:"binary-expr",locations:[{start:{line:144,column:36},end:{line:144,column:55}},{start:{line:144,column:59},end:{line:144,column:112}}],line:144},11:{loc:{start:{line:145,column:4},end:{line:265,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:265,column:5}},{start:{line:160,column:11},end:{line:265,column:5}}],line:145},12:{loc:{start:{line:160,column:11},end:{line:265,column:5}},type:"if",locations:[{start:{line:160,column:11},end:{line:265,column:5}},{start:{line:235,column:11},end:{line:265,column:5}}],line:160},13:{loc:{start:{line:184,column:10},end:{line:184,column:119}},type:"binary-expr",locations:[{start:{line:184,column:10},end:{line:184,column:15}},{start:{line:184,column:35},end:{line:184,column:119}}],line:184},14:{loc:{start:{line:229,column:30},end:{line:229,column:62}},type:"cond-expr",locations:[{start:{line:229,column:51},end:{line:229,column:53}},{start:{line:229,column:56},end:{line:229,column:62}}],line:229},15:{loc:{start:{line:252,column:8},end:{line:263,column:12}},type:"binary-expr",locations:[{start:{line:252,column:8},end:{line:252,column:38}},{start:{line:252,column:58},end:{line:263,column:12}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AA+LQ,SAsDA,UAtDA,KAGA,YAHA;AA/LR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAG/B,SAAS,gBAAgB,OAA+E;AACtG,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAA0B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA0B,cAAiC;AACzF,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,aAAa,wBAAwB,MAAM;AACrE,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,aAAa,wBAAwB,OAAO;AAC1E,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OAAE,+CAEH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAM;AAAA,YAEN;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cAAM;AAAA;AAAA;AAAA,QAER;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAM;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS,CAAC,CAAC,OAAO,sBAAsB,GAAG,CAAC,QAAQ,mBAAmB,GAAG,CAAC,OAAO,oBAAoB,CAAC;AAAA;AAAA,YACzG;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA;AAAA;AAAA,YACR;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBAAwB;AAAA;AAAA,UACG;AAAA,UACxC;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cACX;AAAA;AAAA,UAED;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"539ebaafc62ae27a5559677295475532f297ca46"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return hn=function(){return a},a}hn();function _m(e){hn().f[0]++;const t=(hn().s[0]++,hn().b[0][0]++,e.filter||(hn().b[0][1]++,["all"]));if(hn().s[1]++,Array.isArray(t))hn().b[1][1]++;else return hn().b[1][0]++,hn().s[2]++,t;let n=(hn().s[3]++,t[0]),r=(hn().s[4]++,t.slice(1));return hn().s[5]++,mk.indexOf(n)<0?(hn().b[2][0]++,hn().s[6]++,n="all",hn().s[7]++,r=[t.slice(0)]):hn().b[2][1]++,hn().s[8]++,[n,...r]}function v1e(e){return hn().f[1]++,hn().s[9]++,vee(_1e(e)).layers[0].filter}function _1e(e){return hn().f[2]++,hn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:e}]}}const C1e=(hn().s[11]++,["all","any","none"]);function lP(e){if(hn().f[3]++,hn().s[12]++,hn().b[4][0]++,e.length===1&&(hn().b[4][1]++,C1e.includes(e[0])))return hn().b[3][0]++,hn().s[13]++,!0;hn().b[3][1]++;const t=(hn().s[14]++,eC(e));return hn().s[15]++,!T5.isEqual(t,e)}function uP(e){return hn().f[4]++,hn().s[16]++,mk.indexOf(e[0])>=0}function b1e(e){return hn().f[5]++,hn().s[17]++,uP(e)?(hn().b[5][0]++,hn().s[18]++,e.slice(1).map(t=>(hn().f[6]++,hn().s[19]++,uP(t))).filter(t=>(hn().f[7]++,hn().s[20]++,t==!0)).length>0):(hn().b[5][1]++,hn().s[21]++,!1)}class AG extends Mn.Component{constructor(n){hn().f[8]++,hn().s[23]++;super(n);on(this,"addFilterItem",(hn().s[31]++,()=>{hn().f[11]++;const n=(hn().s[32]++,_m(this.props).slice(0));hn().s[33]++,n.push(["==","name",""]),hn().s[34]++,this.props.onChange(n)}));on(this,"onToggleDoc",(hn().s[35]++,n=>{hn().f[12]++,hn().s[36]++,this.setState({showDoc:n})}));on(this,"makeFilter",(hn().s[37]++,()=>{hn().f[13]++,hn().s[38]++,this.setState({displaySimpleFilter:!0})}));on(this,"makeExpression",(hn().s[39]++,()=>{hn().f[14]++;const n=(hn().s[40]++,_m(this.props));hn().s[41]++,this.props.onChange(v1e(n)),hn().s[42]++,this.setState({displaySimpleFilter:!1})}));hn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:lP(_m(n))}}onFilterPartChanged(n,r){hn().f[9]++;const i=(hn().s[25]++,_m(this.props).slice(0));hn().s[26]++,i[n]=r,hn().s[27]++,this.props.onChange(i)}deleteFilterItem(n){hn().f[10]++;const r=(hn().s[28]++,_m(this.props).slice(0));hn().s[29]++,r.splice(n+1,1),hn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(n,r){hn().f[15]++;const i=(hn().s[43]++,lP(_m(n)));return hn().s[44]++,hn().b[7][0]++,!i&&(hn().b[7][1]++,r.displaySimpleFilter===!0)?(hn().b[6][0]++,hn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(hn().b[6][1]++,hn().s[46]++,hn().b[9][0]++,i&&(hn().b[9][1]++,r.displaySimpleFilter===!1)?(hn().b[8][0]++,hn().s[47]++,{valueIsSimpleFilter:!0}):(hn().b[8][1]++,hn().s[48]++,{valueIsSimpleFilter:!1}))}render(){hn().f[16]++;const{errors:n}=(hn().s[49]++,this.props),{displaySimpleFilter:r}=(hn().s[50]++,this.state),i=(hn().s[51]++,{doc:Sa.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(hn().s[52]++,["all"]),a=(hn().s[53]++,hn().b[10][0]++,r&&(hn().b[10][1]++,b1e(_m(this.props))));if(hn().s[54]++,a)return hn().b[11][0]++,hn().s[55]++,G.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[G.jsx("p",{children:"Nested filters are not supported."}),G.jsxs(za,{onClick:this.makeExpression,title:"Convert to expression",children:[G.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:ab})}),"Upgrade to expression"]})]});if(hn().b[11][1]++,hn().s[56]++,r){hn().b[12][0]++;const s=(hn().s[57]++,_m(this.props)),h=(hn().s[58]++,s[0]),g=(hn().s[59]++,s.slice(1)),_=(hn().s[60]++,G.jsx("div",{children:G.jsx(za,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function",children:G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:ab})})})})),B=(hn().s[61]++,g.map((k,P)=>{hn().f[17]++;const F=(hn().s[62]++,n[`filter[${P+1}]`]);return hn().s[63]++,G.jsxs("div",{children:[G.jsx($0e,{onDelete:this.deleteFilterItem.bind(this,P),children:G.jsx(XN,{properties:this.props.properties,filter:k,onChange:this.onFilterPartChanged.bind(this,P+1)})},P),(hn().b[13][0]++,F&&(hn().b[13][1]++,G.jsx("div",{className:"maputnik-inline-error",children:F.message},"error")))]},`block-${P}`)}));return hn().s[64]++,G.jsxs(G.Fragment,{children:[G.jsx(aa,{fieldSpec:i,label:"Filter",action:_,children:G.jsx(G1,{value:h,onChange:k=>(hn().f[18]++,hn().s[65]++,this.onFilterPartChanged(0,k)),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})},"top"),B,G.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:G.jsxs(za,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:pk})})," Add filter"]})},"buttons"),G.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(hn().b[14][0]++,""):(hn().b[14][1]++,"none")},children:G.jsx(rk,{fieldSpec:i})},"doc")]})}else{hn().b[12][1]++;const{filter:s}=(hn().s[66]++,this.props);return hn().s[67]++,G.jsxs(G.Fragment,{children:[G.jsx(vk,{onDelete:()=>{hn().f[19]++,hn().s[68]++,this.setState({displaySimpleFilter:!0}),hn().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:i,value:s,errors:n,onChange:this.props.onChange}),(hn().b[15][0]++,this.state.valueIsSimpleFilter&&(hn().b[15][1]++,G.jsxs("div",{className:"maputnik-expr-infobox",children:["You've entered a old style filter,"," ",G.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:"switch to filter editor"})]})))]})}}}on(AG,"defaultProps",(hn().s[22]++,{filter:["all"]}));var Mw={},Ys={},Tb={},x1e=typeof window=="object"&&window&&window.Object===Object&&window,cG=x1e,w1e=cG,M1e=typeof self=="object"&&self&&self.Object===Object&&self,S1e=w1e||M1e||Function("return this")(),Th=S1e,E1e=Th,O1e=E1e.Symbol,Kb=O1e,AP=Kb,dG=Object.prototype,B1e=dG.hasOwnProperty,k1e=dG.toString,w_=AP?AP.toStringTag:void 0;function I1e(e){var t=B1e.call(e,w_),n=e[w_];try{e[w_]=void 0;var r=!0}catch{}var i=k1e.call(e);return r&&(t?e[w_]=n:delete e[w_]),i}var T1e=I1e,K1e=Object.prototype,P1e=K1e.toString;function F1e(e){return P1e.call(e)}var D1e=F1e,cP=Kb,L1e=T1e,U1e=D1e,R1e="[object Null]",z1e="[object Undefined]",dP=cP?cP.toStringTag:void 0;function j1e(e){return e==null?e===void 0?z1e:R1e:dP&&dP in Object(e)?L1e(e):U1e(e)}var Q1=j1e,W1e=Array.isArray,nd=W1e;function N1e(e){return e!=null&&typeof e=="object"}var Qf=N1e,G1e=Q1,Q1e=nd,$1e=Qf,Y1e="[object String]";function q1e(e){return typeof e=="string"||!Q1e(e)&&$1e(e)&&G1e(e)==Y1e}var H1e=q1e;function V1e(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var h=a[e?s:++i];if(n(o[h],h,o)===!1)break}return t}}var Z1e=V1e,X1e=Z1e,J1e=X1e(),hG=J1e;function ege(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var tge=ege,nge=Q1,rge=Qf,ige="[object Arguments]";function oge(e){return rge(e)&&nge(e)==ige}var age=oge,hP=age,sge=Qf,fG=Object.prototype,lge=fG.hasOwnProperty,uge=fG.propertyIsEnumerable,Age=hP(function(){return arguments}())?hP:function(e){return sge(e)&&lge.call(e,"callee")&&!uge.call(e,"callee")},_k=Age,R4={exports:{}};function cge(){return!1}var dge=cge;R4.exports;(function(e,t){var n=Th,r=dge,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,h=s?s.isBuffer:void 0,g=h||r;e.exports=g})(R4,R4.exports);var Sw=R4.exports,hge=9007199254740991,fge=/^(?:0|[1-9]\d*)$/;function pge(e,t){var n=typeof e;return t=t??hge,!!t&&(n=="number"||n!="symbol"&&fge.test(e))&&e>-1&&e%1==0&&e<t}var Ck=pge,mge=9007199254740991;function gge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mge}var bk=gge,yge=Q1,vge=bk,_ge=Qf,Cge="[object Arguments]",bge="[object Array]",xge="[object Boolean]",wge="[object Date]",Mge="[object Error]",Sge="[object Function]",Ege="[object Map]",Oge="[object Number]",Bge="[object Object]",kge="[object RegExp]",Ige="[object Set]",Tge="[object String]",Kge="[object WeakMap]",Pge="[object ArrayBuffer]",Fge="[object DataView]",Dge="[object Float32Array]",Lge="[object Float64Array]",Uge="[object Int8Array]",Rge="[object Int16Array]",zge="[object Int32Array]",jge="[object Uint8Array]",Wge="[object Uint8ClampedArray]",Nge="[object Uint16Array]",Gge="[object Uint32Array]",gs={};gs[Dge]=gs[Lge]=gs[Uge]=gs[Rge]=gs[zge]=gs[jge]=gs[Wge]=gs[Nge]=gs[Gge]=!0;gs[Cge]=gs[bge]=gs[Pge]=gs[xge]=gs[Fge]=gs[wge]=gs[Mge]=gs[Sge]=gs[Ege]=gs[Oge]=gs[Bge]=gs[kge]=gs[Ige]=gs[Tge]=gs[Kge]=!1;function Qge(e){return _ge(e)&&vge(e.length)&&!!gs[yge(e)]}var $ge=Qge;function Yge(e){return function(t){return e(t)}}var xk=Yge,z4={exports:{}};z4.exports;(function(e,t){var n=cG,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var h=i&&i.require&&i.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(z4,z4.exports);var wk=z4.exports,qge=$ge,Hge=xk,fP=wk,pP=fP&&fP.isTypedArray,Vge=pP?Hge(pP):qge,Mk=Vge,Zge=tge,Xge=_k,Jge=nd,eye=Sw,tye=Ck,nye=Mk,rye=Object.prototype,iye=rye.hasOwnProperty;function oye(e,t){var n=Jge(e),r=!n&&Xge(e),i=!n&&!r&&eye(e),o=!n&&!r&&!i&&nye(e),a=n||r||i||o,s=a?Zge(e.length,String):[],h=s.length;for(var g in e)(t||iye.call(e,g))&&!(a&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||tye(g,h)))&&s.push(g);return s}var pG=oye,aye=Object.prototype;function sye(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||aye;return e===n}var Sk=sye;function lye(e,t){return function(n){return e(t(n))}}var mG=lye,uye=mG,Aye=uye(Object.keys,Object),cye=Aye,dye=Sk,hye=cye,fye=Object.prototype,pye=fye.hasOwnProperty;function mye(e){if(!dye(e))return hye(e);var t=[];for(var n in Object(e))pye.call(e,n)&&n!="constructor"&&t.push(n);return t}var gye=mye;function yye(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nd=yye,vye=Q1,_ye=Nd,Cye="[object AsyncFunction]",bye="[object Function]",xye="[object GeneratorFunction]",wye="[object Proxy]";function Mye(e){if(!_ye(e))return!1;var t=vye(e);return t==bye||t==xye||t==Cye||t==wye}var Ek=Mye,Sye=Ek,Eye=bk;function Oye(e){return e!=null&&Eye(e.length)&&!Sye(e)}var xv=Oye,Bye=pG,kye=gye,Iye=xv;function Tye(e){return Iye(e)?Bye(e):kye(e)}var Pb=Tye,Kye=hG,Pye=Pb;function Fye(e,t){return e&&Kye(e,t,Pye)}var gG=Fye;function Dye(e){return e}var Ew=Dye,Lye=Ew;function Uye(e){return typeof e=="function"?e:Lye}var yG=Uye,Rye=gG,zye=yG;function jye(e,t){return e&&Rye(e,zye(t))}var Ok=jye,Wye=mG,Nye=Wye(Object.getPrototypeOf,Object),Bk=Nye,Gye=Q1,Qye=Bk,$ye=Qf,Yye="[object Object]",qye=Function.prototype,Hye=Object.prototype,vG=qye.toString,Vye=Hye.hasOwnProperty,Zye=vG.call(Object);function Xye(e){if(!$ye(e)||Gye(e)!=Yye)return!1;var t=Qye(e);if(t===null)return!0;var n=Vye.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&vG.call(n)==Zye}var _G=Xye;function Jye(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var CG=Jye;function eve(){this.__data__=[],this.size=0}var tve=eve;function nve(e,t){return e===t||e!==e&&t!==t}var Fb=nve,rve=Fb;function ive(e,t){for(var n=e.length;n--;)if(rve(e[n][0],t))return n;return-1}var Ow=ive,ove=Ow,ave=Array.prototype,sve=ave.splice;function lve(e){var t=this.__data__,n=ove(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():sve.call(t,n,1),--this.size,!0}var uve=lve,Ave=Ow;function cve(e){var t=this.__data__,n=Ave(t,e);return n<0?void 0:t[n][1]}var dve=cve,hve=Ow;function fve(e){return hve(this.__data__,e)>-1}var pve=fve,mve=Ow;function gve(e,t){var n=this.__data__,r=mve(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var yve=gve,vve=tve,_ve=uve,Cve=dve,bve=pve,xve=yve;function wv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wv.prototype.clear=vve;wv.prototype.delete=_ve;wv.prototype.get=Cve;wv.prototype.has=bve;wv.prototype.set=xve;var Bw=wv,wve=Bw;function Mve(){this.__data__=new wve,this.size=0}var Sve=Mve;function Eve(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Ove=Eve;function Bve(e){return this.__data__.get(e)}var kve=Bve;function Ive(e){return this.__data__.has(e)}var Tve=Ive,Kve=Th,Pve=Kve["__core-js_shared__"],Fve=Pve,HS=Fve,mP=function(){var e=/[^.]+$/.exec(HS&&HS.keys&&HS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dve(e){return!!mP&&mP in e}var Lve=Dve,Uve=Function.prototype,Rve=Uve.toString;function zve(e){if(e!=null){try{return Rve.call(e)}catch{}try{return e+""}catch{}}return""}var bG=zve,jve=Ek,Wve=Lve,Nve=Nd,Gve=bG,Qve=/[\\^$.*+?()[\]{}|]/g,$ve=/^\[object .+?Constructor\]$/,Yve=Function.prototype,qve=Object.prototype,Hve=Yve.toString,Vve=qve.hasOwnProperty,Zve=RegExp("^"+Hve.call(Vve).replace(Qve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xve(e){if(!Nve(e)||Wve(e))return!1;var t=jve(e)?Zve:$ve;return t.test(Gve(e))}var Jve=Xve;function e_e(e,t){return e==null?void 0:e[t]}var t_e=e_e,n_e=Jve,r_e=t_e;function i_e(e,t){var n=r_e(e,t);return n_e(n)?n:void 0}var $1=i_e,o_e=$1,a_e=Th,s_e=o_e(a_e,"Map"),kk=s_e,l_e=$1,u_e=l_e(Object,"create"),kw=u_e,gP=kw;function A_e(){this.__data__=gP?gP(null):{},this.size=0}var c_e=A_e;function d_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var h_e=d_e,f_e=kw,p_e="__lodash_hash_undefined__",m_e=Object.prototype,g_e=m_e.hasOwnProperty;function y_e(e){var t=this.__data__;if(f_e){var n=t[e];return n===p_e?void 0:n}return g_e.call(t,e)?t[e]:void 0}var v_e=y_e,__e=kw,C_e=Object.prototype,b_e=C_e.hasOwnProperty;function x_e(e){var t=this.__data__;return __e?t[e]!==void 0:b_e.call(t,e)}var w_e=x_e,M_e=kw,S_e="__lodash_hash_undefined__";function E_e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=M_e&&t===void 0?S_e:t,this}var O_e=E_e,B_e=c_e,k_e=h_e,I_e=v_e,T_e=w_e,K_e=O_e;function Mv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mv.prototype.clear=B_e;Mv.prototype.delete=k_e;Mv.prototype.get=I_e;Mv.prototype.has=T_e;Mv.prototype.set=K_e;var P_e=Mv,yP=P_e,F_e=Bw,D_e=kk;function L_e(){this.size=0,this.__data__={hash:new yP,map:new(D_e||F_e),string:new yP}}var U_e=L_e;function R_e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var z_e=R_e,j_e=z_e;function W_e(e,t){var n=e.__data__;return j_e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Iw=W_e,N_e=Iw;function G_e(e){var t=N_e(this,e).delete(e);return this.size-=t?1:0,t}var Q_e=G_e,$_e=Iw;function Y_e(e){return $_e(this,e).get(e)}var q_e=Y_e,H_e=Iw;function V_e(e){return H_e(this,e).has(e)}var Z_e=V_e,X_e=Iw;function J_e(e,t){var n=X_e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var eCe=J_e,tCe=U_e,nCe=Q_e,rCe=q_e,iCe=Z_e,oCe=eCe;function Sv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sv.prototype.clear=tCe;Sv.prototype.delete=nCe;Sv.prototype.get=rCe;Sv.prototype.has=iCe;Sv.prototype.set=oCe;var Ik=Sv,aCe=Bw,sCe=kk,lCe=Ik,uCe=200;function ACe(e,t){var n=this.__data__;if(n instanceof aCe){var r=n.__data__;if(!sCe||r.length<uCe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lCe(r)}return n.set(e,t),this.size=n.size,this}var cCe=ACe,dCe=Bw,hCe=Sve,fCe=Ove,pCe=kve,mCe=Tve,gCe=cCe;function Ev(e){var t=this.__data__=new dCe(e);this.size=t.size}Ev.prototype.clear=hCe;Ev.prototype.delete=fCe;Ev.prototype.get=pCe;Ev.prototype.has=mCe;Ev.prototype.set=gCe;var Tw=Ev,yCe="__lodash_hash_undefined__";function vCe(e){return this.__data__.set(e,yCe),this}var _Ce=vCe;function CCe(e){return this.__data__.has(e)}var bCe=CCe,xCe=Ik,wCe=_Ce,MCe=bCe;function j4(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new xCe;++t<n;)this.add(e[t])}j4.prototype.add=j4.prototype.push=wCe;j4.prototype.has=MCe;var SCe=j4;function ECe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var OCe=ECe;function BCe(e,t){return e.has(t)}var kCe=BCe,ICe=SCe,TCe=OCe,KCe=kCe,PCe=1,FCe=2;function DCe(e,t,n,r,i,o){var a=n&PCe,s=e.length,h=t.length;if(s!=h&&!(a&&h>s))return!1;var g=o.get(e),_=o.get(t);if(g&&_)return g==t&&_==e;var B=-1,k=!0,P=n&FCe?new ICe:void 0;for(o.set(e,t),o.set(t,e);++B<s;){var F=e[B],q=t[B];if(r)var ee=a?r(q,F,B,t,e,o):r(F,q,B,e,t,o);if(ee!==void 0){if(ee)continue;k=!1;break}if(P){if(!TCe(t,function(H,N){if(!KCe(P,N)&&(F===H||i(F,H,n,r,o)))return P.push(N)})){k=!1;break}}else if(!(F===q||i(F,q,n,r,o))){k=!1;break}}return o.delete(e),o.delete(t),k}var xG=DCe,LCe=Th,UCe=LCe.Uint8Array,wG=UCe;function RCe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var zCe=RCe;function jCe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var WCe=jCe,vP=Kb,_P=wG,NCe=Fb,GCe=xG,QCe=zCe,$Ce=WCe,YCe=1,qCe=2,HCe="[object Boolean]",VCe="[object Date]",ZCe="[object Error]",XCe="[object Map]",JCe="[object Number]",ebe="[object RegExp]",tbe="[object Set]",nbe="[object String]",rbe="[object Symbol]",ibe="[object ArrayBuffer]",obe="[object DataView]",CP=vP?vP.prototype:void 0,VS=CP?CP.valueOf:void 0;function abe(e,t,n,r,i,o,a){switch(n){case obe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ibe:return!(e.byteLength!=t.byteLength||!o(new _P(e),new _P(t)));case HCe:case VCe:case JCe:return NCe(+e,+t);case ZCe:return e.name==t.name&&e.message==t.message;case ebe:case nbe:return e==t+"";case XCe:var s=QCe;case tbe:var h=r&YCe;if(s||(s=$Ce),e.size!=t.size&&!h)return!1;var g=a.get(e);if(g)return g==t;r|=qCe,a.set(e,t);var _=GCe(s(e),s(t),r,i,o,a);return a.delete(e),_;case rbe:if(VS)return VS.call(e)==VS.call(t)}return!1}var sbe=abe;function lbe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var MG=lbe,ube=MG,Abe=nd;function cbe(e,t,n){var r=t(e);return Abe(e)?r:ube(r,n(e))}var SG=cbe;function dbe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var hbe=dbe;function fbe(){return[]}var EG=fbe,pbe=hbe,mbe=EG,gbe=Object.prototype,ybe=gbe.propertyIsEnumerable,bP=Object.getOwnPropertySymbols,vbe=bP?function(e){return e==null?[]:(e=Object(e),pbe(bP(e),function(t){return ybe.call(e,t)}))}:mbe,Tk=vbe,_be=SG,Cbe=Tk,bbe=Pb;function xbe(e){return _be(e,bbe,Cbe)}var OG=xbe,xP=OG,wbe=1,Mbe=Object.prototype,Sbe=Mbe.hasOwnProperty;function Ebe(e,t,n,r,i,o){var a=n&wbe,s=xP(e),h=s.length,g=xP(t),_=g.length;if(h!=_&&!a)return!1;for(var B=h;B--;){var k=s[B];if(!(a?k in t:Sbe.call(t,k)))return!1}var P=o.get(e),F=o.get(t);if(P&&F)return P==t&&F==e;var q=!0;o.set(e,t),o.set(t,e);for(var ee=a;++B<h;){k=s[B];var H=e[k],N=t[k];if(r)var Z=a?r(N,H,k,t,e,o):r(H,N,k,e,t,o);if(!(Z===void 0?H===N||i(H,N,n,r,o):Z)){q=!1;break}ee||(ee=k=="constructor")}if(q&&!ee){var ue=e.constructor,ye=t.constructor;ue!=ye&&"constructor"in e&&"constructor"in t&&!(typeof ue=="function"&&ue instanceof ue&&typeof ye=="function"&&ye instanceof ye)&&(q=!1)}return o.delete(e),o.delete(t),q}var Obe=Ebe,Bbe=$1,kbe=Th,Ibe=Bbe(kbe,"DataView"),Tbe=Ibe,Kbe=$1,Pbe=Th,Fbe=Kbe(Pbe,"Promise"),Dbe=Fbe,Lbe=$1,Ube=Th,Rbe=Lbe(Ube,"Set"),zbe=Rbe,jbe=$1,Wbe=Th,Nbe=jbe(Wbe,"WeakMap"),Gbe=Nbe,VO=Tbe,ZO=kk,XO=Dbe,JO=zbe,eB=Gbe,BG=Q1,Ov=bG,wP="[object Map]",Qbe="[object Object]",MP="[object Promise]",SP="[object Set]",EP="[object WeakMap]",OP="[object DataView]",$be=Ov(VO),Ybe=Ov(ZO),qbe=Ov(XO),Hbe=Ov(JO),Vbe=Ov(eB),V0=BG;(VO&&V0(new VO(new ArrayBuffer(1)))!=OP||ZO&&V0(new ZO)!=wP||XO&&V0(XO.resolve())!=MP||JO&&V0(new JO)!=SP||eB&&V0(new eB)!=EP)&&(V0=function(e){var t=BG(e),n=t==Qbe?e.constructor:void 0,r=n?Ov(n):"";if(r)switch(r){case $be:return OP;case Ybe:return wP;case qbe:return MP;case Hbe:return SP;case Vbe:return EP}return t});var Kw=V0,ZS=Tw,Zbe=xG,Xbe=sbe,Jbe=Obe,BP=Kw,kP=nd,IP=Sw,exe=Mk,txe=1,TP="[object Arguments]",KP="[object Array]",B2="[object Object]",nxe=Object.prototype,PP=nxe.hasOwnProperty;function rxe(e,t,n,r,i,o){var a=kP(e),s=kP(t),h=a?KP:BP(e),g=s?KP:BP(t);h=h==TP?B2:h,g=g==TP?B2:g;var _=h==B2,B=g==B2,k=h==g;if(k&&IP(e)){if(!IP(t))return!1;a=!0,_=!1}if(k&&!_)return o||(o=new ZS),a||exe(e)?Zbe(e,t,n,r,i,o):Xbe(e,t,h,n,r,i,o);if(!(n&txe)){var P=_&&PP.call(e,"__wrapped__"),F=B&&PP.call(t,"__wrapped__");if(P||F){var q=P?e.value():e,ee=F?t.value():t;return o||(o=new ZS),i(q,ee,n,r,o)}}return k?(o||(o=new ZS),Jbe(e,t,n,r,i,o)):!1}var ixe=rxe,oxe=ixe,FP=Qf;function kG(e,t,n,r,i){return e===t?!0:e==null||t==null||!FP(e)&&!FP(t)?e!==e&&t!==t:oxe(e,t,n,r,kG,i)}var IG=kG,axe=Tw,sxe=IG,lxe=1,uxe=2;function Axe(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var h=s[0],g=e[h],_=s[1];if(a&&s[2]){if(g===void 0&&!(h in e))return!1}else{var B=new axe;if(r)var k=r(g,_,h,e,t,B);if(!(k===void 0?sxe(_,g,lxe|uxe,r,B):k))return!1}}return!0}var cxe=Axe,dxe=Nd;function hxe(e){return e===e&&!dxe(e)}var TG=hxe,fxe=TG,pxe=Pb;function mxe(e){for(var t=pxe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fxe(i)]}return t}var gxe=mxe;function yxe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var KG=yxe,vxe=cxe,_xe=gxe,Cxe=KG;function bxe(e){var t=_xe(e);return t.length==1&&t[0][2]?Cxe(t[0][0],t[0][1]):function(n){return n===e||vxe(n,e,t)}}var xxe=bxe,wxe=Q1,Mxe=Qf,Sxe="[object Symbol]";function Exe(e){return typeof e=="symbol"||Mxe(e)&&wxe(e)==Sxe}var Pw=Exe,Oxe=nd,Bxe=Pw,kxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ixe=/^\w*$/;function Txe(e,t){if(Oxe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Bxe(e)?!0:Ixe.test(e)||!kxe.test(e)||t!=null&&e in Object(t)}var Kk=Txe,PG=Ik,Kxe="Expected a function";function Pk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Kxe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pk.Cache||PG),n}Pk.Cache=PG;var Pxe=Pk,Fxe=Pxe,Dxe=500;function Lxe(e){var t=Fxe(e,function(r){return n.size===Dxe&&n.clear(),r}),n=t.cache;return t}var Uxe=Lxe,Rxe=Uxe,zxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jxe=/\\(\\)?/g,Wxe=Rxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zxe,function(n,r,i,o){t.push(i?o.replace(jxe,"$1"):r||n)}),t}),Nxe=Wxe,DP=Kb,Gxe=CG,Qxe=nd,$xe=Pw,Yxe=1/0,LP=DP?DP.prototype:void 0,UP=LP?LP.toString:void 0;function FG(e){if(typeof e=="string")return e;if(Qxe(e))return Gxe(e,FG)+"";if($xe(e))return UP?UP.call(e):"";var t=e+"";return t=="0"&&1/e==-Yxe?"-0":t}var qxe=FG,Hxe=qxe;function Vxe(e){return e==null?"":Hxe(e)}var Zxe=Vxe,Xxe=nd,Jxe=Kk,e2e=Nxe,t2e=Zxe;function n2e(e,t){return Xxe(e)?e:Jxe(e,t)?[e]:e2e(t2e(e))}var DG=n2e,r2e=Pw,i2e=1/0;function o2e(e){if(typeof e=="string"||r2e(e))return e;var t=e+"";return t=="0"&&1/e==-i2e?"-0":t}var Fw=o2e,a2e=DG,s2e=Fw;function l2e(e,t){t=a2e(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[s2e(t[n++])];return n&&n==r?e:void 0}var LG=l2e,u2e=LG;function A2e(e,t,n){var r=e==null?void 0:u2e(e,t);return r===void 0?n:r}var c2e=A2e;function d2e(e,t){return e!=null&&t in Object(e)}var h2e=d2e,f2e=DG,p2e=_k,m2e=nd,g2e=Ck,y2e=bk,v2e=Fw;function _2e(e,t,n){t=f2e(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=v2e(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&y2e(i)&&g2e(a,i)&&(m2e(e)||p2e(e)))}var C2e=_2e,b2e=h2e,x2e=C2e;function w2e(e,t){return e!=null&&x2e(e,t,b2e)}var M2e=w2e,S2e=IG,E2e=c2e,O2e=M2e,B2e=Kk,k2e=TG,I2e=KG,T2e=Fw,K2e=1,P2e=2;function F2e(e,t){return B2e(e)&&k2e(t)?I2e(T2e(e),t):function(n){var r=E2e(n,e);return r===void 0&&r===t?O2e(n,e):S2e(t,r,K2e|P2e)}}var D2e=F2e;function L2e(e){return function(t){return t==null?void 0:t[e]}}var U2e=L2e,R2e=LG;function z2e(e){return function(t){return R2e(t,e)}}var j2e=z2e,W2e=U2e,N2e=j2e,G2e=Kk,Q2e=Fw;function $2e(e){return G2e(e)?W2e(Q2e(e)):N2e(e)}var Y2e=$2e,q2e=xxe,H2e=D2e,V2e=Ew,Z2e=nd,X2e=Y2e;function J2e(e){return typeof e=="function"?e:e==null?V2e:typeof e=="object"?Z2e(e)?H2e(e[0],e[1]):q2e(e):X2e(e)}var e3e=J2e,t3e=xv;function n3e(e,t){return function(n,r){if(n==null)return n;if(!t3e(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var r3e=n3e,i3e=gG,o3e=r3e,a3e=o3e(i3e),UG=a3e,s3e=UG,l3e=xv;function u3e(e,t){var n=-1,r=l3e(e)?Array(e.length):[];return s3e(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var A3e=u3e,c3e=CG,d3e=e3e,h3e=A3e,f3e=nd;function p3e(e,t){var n=f3e(e)?c3e:h3e;return n(e,d3e(t))}var m3e=p3e;Object.defineProperty(Tb,"__esModule",{value:!0});Tb.flattenNames=void 0;var g3e=H1e,y3e=Dw(g3e),v3e=Ok,_3e=Dw(v3e),C3e=_G,b3e=Dw(C3e),x3e=m3e,w3e=Dw(x3e);function Dw(e){return e&&e.__esModule?e:{default:e}}var M3e=Tb.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,w3e.default)(t,function(r){Array.isArray(r)?e(r).map(function(i){return n.push(i)}):(0,b3e.default)(r)?(0,_3e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,y3e.default)(r)&&n.push(r)}),n};Tb.default=M3e;var Db={};function S3e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var RG=S3e,E3e=$1,O3e=function(){try{var e=E3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zG=O3e,RP=zG;function B3e(e,t,n){t=="__proto__"&&RP?RP(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Fk=B3e,k3e=Fk,I3e=Fb,T3e=Object.prototype,K3e=T3e.hasOwnProperty;function P3e(e,t,n){var r=e[t];(!(K3e.call(e,t)&&I3e(r,n))||n===void 0&&!(t in e))&&k3e(e,t,n)}var jG=P3e,F3e=jG,D3e=Fk;function L3e(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],h=r?r(n[s],e[s],s,n,e):void 0;h===void 0&&(h=e[s]),i?D3e(n,s,h):F3e(n,s,h)}return n}var Lb=L3e,U3e=Lb,R3e=Pb;function z3e(e,t){return e&&U3e(t,R3e(t),e)}var j3e=z3e;function W3e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var N3e=W3e,G3e=Nd,Q3e=Sk,$3e=N3e,Y3e=Object.prototype,q3e=Y3e.hasOwnProperty;function H3e(e){if(!G3e(e))return $3e(e);var t=Q3e(e),n=[];for(var r in e)r=="constructor"&&(t||!q3e.call(e,r))||n.push(r);return n}var V3e=H3e,Z3e=pG,X3e=V3e,J3e=xv;function e4e(e){return J3e(e)?Z3e(e,!0):X3e(e)}var Ub=e4e,t4e=Lb,n4e=Ub;function r4e(e,t){return e&&t4e(t,n4e(t),e)}var i4e=r4e,W4={exports:{}};W4.exports;(function(e,t){var n=Th,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function h(g,_){if(_)return g.slice();var B=g.length,k=s?s(B):new g.constructor(B);return g.copy(k),k}e.exports=h})(W4,W4.exports);var WG=W4.exports;function o4e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var NG=o4e,a4e=Lb,s4e=Tk;function l4e(e,t){return a4e(e,s4e(e),t)}var u4e=l4e,A4e=MG,c4e=Bk,d4e=Tk,h4e=EG,f4e=Object.getOwnPropertySymbols,p4e=f4e?function(e){for(var t=[];e;)A4e(t,d4e(e)),e=c4e(e);return t}:h4e,GG=p4e,m4e=Lb,g4e=GG;function y4e(e,t){return m4e(e,g4e(e),t)}var v4e=y4e,_4e=SG,C4e=GG,b4e=Ub;function x4e(e){return _4e(e,b4e,C4e)}var w4e=x4e,M4e=Object.prototype,S4e=M4e.hasOwnProperty;function E4e(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&S4e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var O4e=E4e,zP=wG;function B4e(e){var t=new e.constructor(e.byteLength);return new zP(t).set(new zP(e)),t}var Dk=B4e,k4e=Dk;function I4e(e,t){var n=t?k4e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var T4e=I4e,K4e=/\w*$/;function P4e(e){var t=new e.constructor(e.source,K4e.exec(e));return t.lastIndex=e.lastIndex,t}var F4e=P4e,jP=Kb,WP=jP?jP.prototype:void 0,NP=WP?WP.valueOf:void 0;function D4e(e){return NP?Object(NP.call(e)):{}}var L4e=D4e,U4e=Dk;function R4e(e,t){var n=t?U4e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var QG=R4e,z4e=Dk,j4e=T4e,W4e=F4e,N4e=L4e,G4e=QG,Q4e="[object Boolean]",$4e="[object Date]",Y4e="[object Map]",q4e="[object Number]",H4e="[object RegExp]",V4e="[object Set]",Z4e="[object String]",X4e="[object Symbol]",J4e="[object ArrayBuffer]",e5e="[object DataView]",t5e="[object Float32Array]",n5e="[object Float64Array]",r5e="[object Int8Array]",i5e="[object Int16Array]",o5e="[object Int32Array]",a5e="[object Uint8Array]",s5e="[object Uint8ClampedArray]",l5e="[object Uint16Array]",u5e="[object Uint32Array]";function A5e(e,t,n){var r=e.constructor;switch(t){case J4e:return z4e(e);case Q4e:case $4e:return new r(+e);case e5e:return j4e(e,n);case t5e:case n5e:case r5e:case i5e:case o5e:case a5e:case s5e:case l5e:case u5e:return G4e(e,n);case Y4e:return new r;case q4e:case Z4e:return new r(e);case H4e:return W4e(e);case V4e:return new r;case X4e:return N4e(e)}}var c5e=A5e,d5e=Nd,GP=Object.create,h5e=function(){function e(){}return function(t){if(!d5e(t))return{};if(GP)return GP(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),f5e=h5e,p5e=f5e,m5e=Bk,g5e=Sk;function y5e(e){return typeof e.constructor=="function"&&!g5e(e)?p5e(m5e(e)):{}}var $G=y5e,v5e=Kw,_5e=Qf,C5e="[object Map]";function b5e(e){return _5e(e)&&v5e(e)==C5e}var x5e=b5e,w5e=x5e,M5e=xk,QP=wk,$P=QP&&QP.isMap,S5e=$P?M5e($P):w5e,E5e=S5e,O5e=Kw,B5e=Qf,k5e="[object Set]";function I5e(e){return B5e(e)&&O5e(e)==k5e}var T5e=I5e,K5e=T5e,P5e=xk,YP=wk,qP=YP&&YP.isSet,F5e=qP?P5e(qP):K5e,D5e=F5e,L5e=Tw,U5e=RG,R5e=jG,z5e=j3e,j5e=i4e,W5e=WG,N5e=NG,G5e=u4e,Q5e=v4e,$5e=OG,Y5e=w4e,q5e=Kw,H5e=O4e,V5e=c5e,Z5e=$G,X5e=nd,J5e=Sw,ewe=E5e,twe=Nd,nwe=D5e,rwe=Pb,iwe=Ub,owe=1,awe=2,swe=4,YG="[object Arguments]",lwe="[object Array]",uwe="[object Boolean]",Awe="[object Date]",cwe="[object Error]",qG="[object Function]",dwe="[object GeneratorFunction]",hwe="[object Map]",fwe="[object Number]",HG="[object Object]",pwe="[object RegExp]",mwe="[object Set]",gwe="[object String]",ywe="[object Symbol]",vwe="[object WeakMap]",_we="[object ArrayBuffer]",Cwe="[object DataView]",bwe="[object Float32Array]",xwe="[object Float64Array]",wwe="[object Int8Array]",Mwe="[object Int16Array]",Swe="[object Int32Array]",Ewe="[object Uint8Array]",Owe="[object Uint8ClampedArray]",Bwe="[object Uint16Array]",kwe="[object Uint32Array]",es={};es[YG]=es[lwe]=es[_we]=es[Cwe]=es[uwe]=es[Awe]=es[bwe]=es[xwe]=es[wwe]=es[Mwe]=es[Swe]=es[hwe]=es[fwe]=es[HG]=es[pwe]=es[mwe]=es[gwe]=es[ywe]=es[Ewe]=es[Owe]=es[Bwe]=es[kwe]=!0;es[cwe]=es[qG]=es[vwe]=!1;function s3(e,t,n,r,i,o){var a,s=t&owe,h=t&awe,g=t&swe;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!twe(e))return e;var _=X5e(e);if(_){if(a=H5e(e),!s)return N5e(e,a)}else{var B=q5e(e),k=B==qG||B==dwe;if(J5e(e))return W5e(e,s);if(B==HG||B==YG||k&&!i){if(a=h||k?{}:Z5e(e),!s)return h?Q5e(e,j5e(a,e)):G5e(e,z5e(a,e))}else{if(!es[B])return i?e:{};a=V5e(e,B,s)}}o||(o=new L5e);var P=o.get(e);if(P)return P;o.set(e,a),nwe(e)?e.forEach(function(ee){a.add(s3(ee,t,n,ee,e,o))}):ewe(e)&&e.forEach(function(ee,H){a.set(H,s3(ee,t,n,H,e,o))});var F=g?h?Y5e:$5e:h?iwe:rwe,q=_?void 0:F(e);return U5e(q||e,function(ee,H){q&&(H=ee,ee=e[H]),R5e(a,H,s3(ee,t,n,H,e,o))}),a}var Iwe=s3,Twe=Iwe,Kwe=1,Pwe=4;function Fwe(e){return Twe(e,Kwe|Pwe)}var Dwe=Fwe;Object.defineProperty(Db,"__esModule",{value:!0});Db.mergeClasses=void 0;var Lwe=Ok,Uwe=VG(Lwe),Rwe=Dwe,zwe=VG(Rwe),jwe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function VG(e){return e&&e.__esModule?e:{default:e}}var Wwe=Db.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,zwe.default)(t.default)||{};return n.map(function(i){var o=t[i];return o&&(0,Uwe.default)(o,function(a,s){r[s]||(r[s]={}),r[s]=jwe({},r[s],o[s])}),i}),r};Db.default=Wwe;var Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.autoprefix=void 0;var Nwe=Ok,HP=Qwe(Nwe),Gwe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Qwe(e){return e&&e.__esModule?e:{default:e}}var $we={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},Ywe=Rb.autoprefix=function(t){var n={};return(0,HP.default)(t,function(r,i){var o={};(0,HP.default)(r,function(a,s){var h=$we[s];h?o=Gwe({},o,h(a)):o[s]=a}),n[i]=o}),n};Rb.default=Ywe;var zb={};Object.defineProperty(zb,"__esModule",{value:!0});zb.hover=void 0;var qwe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hwe=kr,XS=Vwe(Hwe);function Vwe(e){return e&&e.__esModule?e:{default:e}}function Zwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Xwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Jwe=zb.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Xwe(i,r);function i(){var o,a,s,h;Zwe(this,i);for(var g=arguments.length,_=Array(g),B=0;B<g;B++)_[B]=arguments[B];return h=(a=(s=VP(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(_))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return XS.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},XS.default.createElement(t,qwe({},s.props,s.state)))},a),VP(s,h)}return i}(XS.default.Component)};zb.default=Jwe;var jb={};Object.defineProperty(jb,"__esModule",{value:!0});jb.active=void 0;var eMe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tMe=kr,JS=nMe(tMe);function nMe(e){return e&&e.__esModule?e:{default:e}}function rMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var oMe=jb.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){iMe(i,r);function i(){var o,a,s,h;rMe(this,i);for(var g=arguments.length,_=Array(g),B=0;B<g;B++)_[B]=arguments[B];return h=(a=(s=ZP(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(_))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return JS.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},JS.default.createElement(t,eMe({},s.props,s.state)))},a),ZP(s,h)}return i}(JS.default.Component)};jb.default=oMe;var Lk={};Object.defineProperty(Lk,"__esModule",{value:!0});var aMe=function(t,n){var r={},i=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=s};return t===0&&i("first-child"),t===n-1&&i("last-child"),(t===0||t%2===0)&&i("even"),Math.abs(t%2)===1&&i("odd"),i("nth-child",t),r};Lk.default=aMe;Object.defineProperty(Ys,"__esModule",{value:!0});Ys.ReactCSS=Ys.loop=Ys.handleActive=Ys.handleHover=Ys.hover=void 0;var sMe=Tb,lMe=Bv(sMe),uMe=Db,AMe=Bv(uMe),cMe=Rb,dMe=Bv(cMe),hMe=zb,ZG=Bv(hMe),fMe=jb,pMe=Bv(fMe),mMe=Lk,gMe=Bv(mMe);function Bv(e){return e&&e.__esModule?e:{default:e}}Ys.hover=ZG.default;Ys.handleHover=ZG.default;Ys.handleActive=pMe.default;Ys.loop=gMe.default;var yMe=Ys.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,lMe.default)(r),a=(0,AMe.default)(t,o);return(0,dMe.default)(a)};Ys.default=yMe;var vMe=Fk,_Me=Fb;function CMe(e,t,n){(n!==void 0&&!_Me(e[t],n)||n===void 0&&!(t in e))&&vMe(e,t,n)}var XG=CMe,bMe=xv,xMe=Qf;function wMe(e){return xMe(e)&&bMe(e)}var MMe=wMe;function SMe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var JG=SMe,EMe=Lb,OMe=Ub;function BMe(e){return EMe(e,OMe(e))}var kMe=BMe,XP=XG,IMe=WG,TMe=QG,KMe=NG,PMe=$G,JP=_k,eF=nd,FMe=MMe,DMe=Sw,LMe=Ek,UMe=Nd,RMe=_G,zMe=Mk,tF=JG,jMe=kMe;function WMe(e,t,n,r,i,o,a){var s=tF(e,n),h=tF(t,n),g=a.get(h);if(g){XP(e,n,g);return}var _=o?o(s,h,n+"",e,t,a):void 0,B=_===void 0;if(B){var k=eF(h),P=!k&&DMe(h),F=!k&&!P&&zMe(h);_=h,k||P||F?eF(s)?_=s:FMe(s)?_=KMe(s):P?(B=!1,_=IMe(h,!0)):F?(B=!1,_=TMe(h,!0)):_=[]:RMe(h)||JP(h)?(_=s,JP(s)?_=jMe(s):(!UMe(s)||LMe(s))&&(_=PMe(h))):B=!1}B&&(a.set(h,_),i(_,h,r,o,a),a.delete(h)),XP(e,n,_)}var NMe=WMe,GMe=Tw,QMe=XG,$Me=hG,YMe=NMe,qMe=Nd,HMe=Ub,VMe=JG;function eQ(e,t,n,r,i){e!==t&&$Me(t,function(o,a){if(i||(i=new GMe),qMe(o))YMe(e,t,a,n,eQ,r,i);else{var s=r?r(VMe(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),QMe(e,a,s)}},HMe)}var ZMe=eQ;function XMe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var JMe=XMe,eSe=JMe,nF=Math.max;function tSe(e,t,n){return t=nF(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=nF(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),eSe(e,this,s)}}var nSe=tSe;function rSe(e){return function(){return e}}var iSe=rSe,oSe=iSe,rF=zG,aSe=Ew,sSe=rF?function(e,t){return rF(e,"toString",{configurable:!0,enumerable:!1,value:oSe(t),writable:!0})}:aSe,lSe=sSe,uSe=800,ASe=16,cSe=Date.now;function dSe(e){var t=0,n=0;return function(){var r=cSe(),i=ASe-(r-n);if(n=r,i>0){if(++t>=uSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var hSe=dSe,fSe=lSe,pSe=hSe,mSe=pSe(fSe),gSe=mSe,ySe=Ew,vSe=nSe,_Se=gSe;function CSe(e,t){return _Se(vSe(e,t,ySe),e+"")}var bSe=CSe,xSe=Fb,wSe=xv,MSe=Ck,SSe=Nd;function ESe(e,t,n){if(!SSe(n))return!1;var r=typeof t;return(r=="number"?wSe(n)&&MSe(t,n.length):r=="string"&&t in n)?xSe(n[t],e):!1}var OSe=ESe,BSe=bSe,kSe=OSe;function ISe(e){return BSe(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&kSe(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}var TSe=ISe,KSe=ZMe,PSe=TSe,FSe=PSe(function(e,t,n){KSe(e,t,n)}),tQ=FSe,Uk={},Wb={},Rk={};Object.defineProperty(Rk,"__esModule",{value:!0});Rk.calculateChange=function(t,n,r,i,o){var a=o.clientWidth,s=o.clientHeight,h=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,_=h-(o.getBoundingClientRect().left+window.pageXOffset),B=g-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var k=void 0;if(B<0?k=0:B>s?k=1:k=Math.round(B*100/s)/100,n.a!==k)return{h:n.h,s:n.s,l:n.l,a:k,source:"rgb"}}else{var P=void 0;if(_<0?P=0:_>a?P=1:P=Math.round(_*100/a)/100,i!==P)return{h:n.h,s:n.s,l:n.l,a:P,source:"rgb"}}return null};var Y1={},Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});var e6={},DSe=Lw.render=function(t,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var a=o.getContext("2d");return a?(a.fillStyle=t,a.fillRect(0,0,o.width,o.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),o.toDataURL()):null};Lw.get=function(t,n,r,i){var o=t+"-"+n+"-"+r+(i?"-server":"");if(e6[o])return e6[o];var a=DSe(t,n,r,i);return e6[o]=a,a};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.Checkboard=void 0;var iF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nQ=kr,oF=rQ(nQ),LSe=Ys,USe=rQ(LSe),RSe=Lw,zSe=jSe(RSe);function jSe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function rQ(e){return e&&e.__esModule?e:{default:e}}var iQ=Y1.Checkboard=function(t){var n=t.white,r=t.grey,i=t.size,o=t.renderers,a=t.borderRadius,s=t.boxShadow,h=t.children,g=(0,USe.default)({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+zSe.get(n,r,i,o.canvas)+") center left"}}});return(0,nQ.isValidElement)(h)?oF.default.cloneElement(h,iF({},h.props,{style:iF({},h.props.style,g.grid)})):oF.default.createElement("div",{style:g.grid})};iQ.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};Y1.default=iQ;Object.defineProperty(Wb,"__esModule",{value:!0});Wb.Alpha=void 0;var WSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NSe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tB=kr,Cm=zk(tB),GSe=Ys,QSe=zk(GSe),$Se=Rk,YSe=VSe($Se),qSe=Y1,HSe=zk(qSe);function VSe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function zk(e){return e&&e.__esModule?e:{default:e}}function ZSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var JSe=Wb.Alpha=function(e){XSe(t,e);function t(){var n,r,i,o;ZSe(this,t);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];return o=(r=(i=aF(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),i),i.handleChange=function(g){var _=YSe.calculateChange(g,i.props.hsl,i.props.direction,i.props.a,i.container);_&&typeof i.props.onChange=="function"&&i.props.onChange(_,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),aF(i,o)}return NSe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,QSe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:WSe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Cm.default.createElement("div",{style:o.alpha},Cm.default.createElement("div",{style:o.checkboard},Cm.default.createElement(HSe.default,{renderers:this.props.renderers})),Cm.default.createElement("div",{style:o.gradient}),Cm.default.createElement("div",{style:o.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Cm.default.createElement("div",{style:o.pointer},this.props.pointer?Cm.default.createElement(this.props.pointer,this.props):Cm.default.createElement("div",{style:o.slider}))))}}]),t}(tB.PureComponent||tB.Component);Wb.default=JSe;var Nb={};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.EditableInput=void 0;var e6e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nB=kr,t6=oQ(nB),t6e=Ys,n6e=oQ(t6e);function oQ(e){return e&&e.__esModule?e:{default:e}}function r6e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function a6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s6e=1,aQ=38,l6e=40,u6e=[aQ,l6e],A6e=function(t){return u6e.indexOf(t)>-1},c6e=function(t){return Number(String(t).replace(/%/g,""))},d6e=1,h6e=Nb.EditableInput=function(e){a6e(t,e);function t(n){i6e(this,t);var r=o6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=c6e(i.target.value);if(!isNaN(o)&&A6e(i.keyCode)){var a=r.getArrowOffset(),s=i.keyCode===aQ?o+a:o-a;r.setUpdatedValue(s,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+d6e++,r}return e6e(t,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return r6e({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||s6e}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,n6e.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return t6.default.createElement("div",{style:i.wrap},t6.default.createElement("input",{id:this.inputId,style:i.input,ref:function(a){return r.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?t6.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(nB.PureComponent||nB.Component);Nb.default=h6e;var Gb={},jk={};Object.defineProperty(jk,"__esModule",{value:!0});jk.calculateChange=function(t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=s-(i.getBoundingClientRect().left+window.pageXOffset),_=h-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var B=void 0;if(_<0)B=359;else if(_>a)B=0;else{var k=-(_*100/a)+100;B=360*k/100}if(r.h!==B)return{h:B,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var P=void 0;if(g<0)P=0;else if(g>o)P=359;else{var F=g*100/o;P=360*F/100}if(r.h!==P)return{h:P,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(Gb,"__esModule",{value:!0});Gb.Hue=void 0;var f6e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rB=kr,Fg=sQ(rB),p6e=Ys,m6e=sQ(p6e),g6e=jk,y6e=v6e(g6e);function v6e(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function sQ(e){return e&&e.__esModule?e:{default:e}}function _6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function C6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b6e=Gb.Hue=function(e){C6e(t,e);function t(){var n,r,i,o;_6e(this,t);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];return o=(r=(i=sF(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),i),i.handleChange=function(g){var _=y6e.calculateChange(g,i.props.direction,i.props.hsl,i.container);_&&typeof i.props.onChange=="function"&&i.props.onChange(_,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),sF(i,o)}return f6e(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,a=(0,m6e.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return Fg.default.createElement("div",{style:a.hue},Fg.default.createElement("div",{className:"hue-"+o,style:a.container,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Fg.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Fg.default.createElement("div",{style:a.pointer},this.props.pointer?Fg.default.createElement(this.props.pointer,this.props):Fg.default.createElement("div",{style:a.slider}))))}}]),t}(rB.PureComponent||rB.Component);Gb.default=b6e;var Qb={};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.Raised=void 0;var x6e=kr,n6=Uw(x6e),w6e=kh,k2=Uw(w6e),M6e=Ys,S6e=Uw(M6e),E6e=tQ,O6e=Uw(E6e);function Uw(e){return e&&e.__esModule?e:{default:e}}var Wk=Qb.Raised=function(t){var n=t.zDepth,r=t.radius,i=t.background,o=t.children,a=t.styles,s=a===void 0?{}:a,h=(0,S6e.default)((0,O6e.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return n6.default.createElement("div",{style:h.wrap},n6.default.createElement("div",{style:h.bg}),n6.default.createElement("div",{style:h.content},o))};Wk.propTypes={background:k2.default.string,zDepth:k2.default.oneOf([0,1,2,3,4,5]),radius:k2.default.number,styles:k2.default.object};Wk.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};Qb.default=Wk;var $b={},B6e=Th,k6e=function(){return B6e.Date.now()},I6e=k6e,T6e=/\s/;function K6e(e){for(var t=e.length;t--&&T6e.test(e.charAt(t)););return t}var P6e=K6e,F6e=P6e,D6e=/^\s+/;function L6e(e){return e&&e.slice(0,F6e(e)+1).replace(D6e,"")}var U6e=L6e,R6e=U6e,lF=Nd,z6e=Pw,uF=NaN,j6e=/^[-+]0x[0-9a-f]+$/i,W6e=/^0b[01]+$/i,N6e=/^0o[0-7]+$/i,G6e=parseInt;function Q6e(e){if(typeof e=="number")return e;if(z6e(e))return uF;if(lF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=R6e(e);var n=W6e.test(e);return n||N6e.test(e)?G6e(e.slice(2),n?2:8):j6e.test(e)?uF:+e}var $6e=Q6e,Y6e=Nd,r6=I6e,AF=$6e,q6e="Expected a function",H6e=Math.max,V6e=Math.min;function Z6e(e,t,n){var r,i,o,a,s,h,g=0,_=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(q6e);t=AF(t)||0,Y6e(n)&&(_=!!n.leading,B="maxWait"in n,o=B?H6e(AF(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k);function P(be){var J=r,se=i;return r=i=void 0,g=be,a=e.apply(se,J),a}function F(be){return g=be,s=setTimeout(H,t),_?P(be):a}function q(be){var J=be-h,se=be-g,xe=t-J;return B?V6e(xe,o-se):xe}function ee(be){var J=be-h,se=be-g;return h===void 0||J>=t||J<0||B&&se>=o}function H(){var be=r6();if(ee(be))return N(be);s=setTimeout(H,q(be))}function N(be){return s=void 0,k&&r?P(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),g=0,r=h=i=s=void 0}function ue(){return s===void 0?a:N(r6())}function ye(){var be=r6(),J=ee(be);if(r=arguments,i=this,h=be,J){if(s===void 0)return F(h);if(B)return clearTimeout(s),s=setTimeout(H,t),P(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}var lQ=Z6e,X6e=lQ,J6e=Nd,eEe="Expected a function";function tEe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(eEe);return J6e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),X6e(e,t,{leading:r,maxWait:t,trailing:i})}var nEe=tEe,Nk={};Object.defineProperty(Nk,"__esModule",{value:!0});Nk.calculateChange=function(t,n,r){var i=r.getBoundingClientRect(),o=i.width,a=i.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=s-(r.getBoundingClientRect().left+window.pageXOffset),_=h-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>o&&(g=o),_<0?_=0:_>a&&(_=a);var B=g/o,k=1-_/a;return{h:n.h,s:B,v:k,a:n.a,source:"hsv"}};Object.defineProperty($b,"__esModule",{value:!0});$b.Saturation=void 0;var rEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),iB=kr,N0=Gk(iB),iEe=Ys,oEe=Gk(iEe),aEe=nEe,sEe=Gk(aEe),lEe=Nk,uEe=AEe(lEe);function AEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Gk(e){return e&&e.__esModule?e:{default:e}}function cEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dEe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fEe=$b.Saturation=function(e){hEe(t,e);function t(n){cEe(this,t);var r=dEe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,uEe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,sEe.default)(function(i,o,a){i(o,a)},50),r}return rEe(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,a=i.white,s=i.black,h=i.pointer,g=i.circle,_=(0,oEe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:a,black:s,pointer:h,circle:g}},{custom:!!this.props.style});return N0.default.createElement("div",{style:_.color,ref:function(k){return r.container=k},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N0.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),N0.default.createElement("div",{style:_.white,className:"saturation-white"},N0.default.createElement("div",{style:_.black,className:"saturation-black"}),N0.default.createElement("div",{style:_.pointer},this.props.pointer?N0.default.createElement(this.props.pointer,this.props):N0.default.createElement("div",{style:_.circle}))))}}]),t}(iB.PureComponent||iB.Component);$b.default=fEe;var Yb={},DA={},pEe=RG,mEe=UG,gEe=yG,yEe=nd;function vEe(e,t){var n=yEe(e)?pEe:mEe;return n(e,gEe(t))}var _Ee=vEe,CEe=_Ee,uQ={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Bh,function(){function n(Ie){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},n(Ie)}var r=/^\s+/,i=/\s+$/;function o(Ie,pe){if(Ie=Ie||"",pe=pe||{},Ie instanceof o)return Ie;if(!(this instanceof o))return new o(Ie,pe);var Me=a(Ie);this._originalInput=Ie,this._r=Me.r,this._g=Me.g,this._b=Me.b,this._a=Me.a,this._roundA=Math.round(100*this._a)/100,this._format=pe.format||Me.format,this._gradientType=pe.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Me.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var pe=this.toRgb();return(pe.r*299+pe.g*587+pe.b*114)/1e3},getLuminance:function(){var pe=this.toRgb(),Me,Re,it,ot,St,Rt;return Me=pe.r/255,Re=pe.g/255,it=pe.b/255,Me<=.03928?ot=Me/12.92:ot=Math.pow((Me+.055)/1.055,2.4),Re<=.03928?St=Re/12.92:St=Math.pow((Re+.055)/1.055,2.4),it<=.03928?Rt=it/12.92:Rt=Math.pow((it+.055)/1.055,2.4),.2126*ot+.7152*St+.0722*Rt},setAlpha:function(pe){return this._a=qe(pe),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var pe=_(this._r,this._g,this._b);return{h:pe.h*360,s:pe.s,v:pe.v,a:this._a}},toHsvString:function(){var pe=_(this._r,this._g,this._b),Me=Math.round(pe.h*360),Re=Math.round(pe.s*100),it=Math.round(pe.v*100);return this._a==1?"hsv("+Me+", "+Re+"%, "+it+"%)":"hsva("+Me+", "+Re+"%, "+it+"%, "+this._roundA+")"},toHsl:function(){var pe=h(this._r,this._g,this._b);return{h:pe.h*360,s:pe.s,l:pe.l,a:this._a}},toHslString:function(){var pe=h(this._r,this._g,this._b),Me=Math.round(pe.h*360),Re=Math.round(pe.s*100),it=Math.round(pe.l*100);return this._a==1?"hsl("+Me+", "+Re+"%, "+it+"%)":"hsla("+Me+", "+Re+"%, "+it+"%, "+this._roundA+")"},toHex:function(pe){return k(this._r,this._g,this._b,pe)},toHexString:function(pe){return"#"+this.toHex(pe)},toHex8:function(pe){return P(this._r,this._g,this._b,this._a,pe)},toHex8String:function(pe){return"#"+this.toHex8(pe)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ge(this._r,255)*100)+"%",g:Math.round(ge(this._g,255)*100)+"%",b:Math.round(ge(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%)":"rgba("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Le[k(this._r,this._g,this._b,!0)]||!1},toFilter:function(pe){var Me="#"+F(this._r,this._g,this._b,this._a),Re=Me,it=this._gradientType?"GradientType = 1, ":"";if(pe){var ot=o(pe);Re="#"+F(ot._r,ot._g,ot._b,ot._a)}return"progid:DXImageTransform.Microsoft.gradient("+it+"startColorstr="+Me+",endColorstr="+Re+")"},toString:function(pe){var Me=!!pe;pe=pe||this._format;var Re=!1,it=this._a<1&&this._a>=0,ot=!Me&&it&&(pe==="hex"||pe==="hex6"||pe==="hex3"||pe==="hex4"||pe==="hex8"||pe==="name");return ot?pe==="name"&&this._a===0?this.toName():this.toRgbString():(pe==="rgb"&&(Re=this.toRgbString()),pe==="prgb"&&(Re=this.toPercentageRgbString()),(pe==="hex"||pe==="hex6")&&(Re=this.toHexString()),pe==="hex3"&&(Re=this.toHexString(!0)),pe==="hex4"&&(Re=this.toHex8String(!0)),pe==="hex8"&&(Re=this.toHex8String()),pe==="name"&&(Re=this.toName()),pe==="hsl"&&(Re=this.toHslString()),pe==="hsv"&&(Re=this.toHsvString()),Re||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(pe,Me){var Re=pe.apply(null,[this].concat([].slice.call(Me)));return this._r=Re._r,this._g=Re._g,this._b=Re._b,this.setAlpha(Re._a),this},lighten:function(){return this._applyModification(N,arguments)},brighten:function(){return this._applyModification(Z,arguments)},darken:function(){return this._applyModification(ue,arguments)},desaturate:function(){return this._applyModification(q,arguments)},saturate:function(){return this._applyModification(ee,arguments)},greyscale:function(){return this._applyModification(H,arguments)},spin:function(){return this._applyModification(ye,arguments)},_applyCombination:function(pe,Me){return pe.apply(null,[this].concat([].slice.call(Me)))},analogous:function(){return this._applyCombination(xe,arguments)},complement:function(){return this._applyCombination(be,arguments)},monochromatic:function(){return this._applyCombination(Se,arguments)},splitcomplement:function(){return this._applyCombination(se,arguments)},triad:function(){return this._applyCombination(J,[3])},tetrad:function(){return this._applyCombination(J,[4])}},o.fromRatio=function(Ie,pe){if(n(Ie)=="object"){var Me={};for(var Re in Ie)Ie.hasOwnProperty(Re)&&(Re==="a"?Me[Re]=Ie[Re]:Me[Re]=Ve(Ie[Re]));Ie=Me}return o(Ie,pe)};function a(Ie){var pe={r:0,g:0,b:0},Me=1,Re=null,it=null,ot=null,St=!1,Rt=!1;return typeof Ie=="string"&&(Ie=Qt(Ie)),n(Ie)=="object"&&(Ct(Ie.r)&&Ct(Ie.g)&&Ct(Ie.b)?(pe=s(Ie.r,Ie.g,Ie.b),St=!0,Rt=String(Ie.r).substr(-1)==="%"?"prgb":"rgb"):Ct(Ie.h)&&Ct(Ie.s)&&Ct(Ie.v)?(Re=Ve(Ie.s),it=Ve(Ie.v),pe=B(Ie.h,Re,it),St=!0,Rt="hsv"):Ct(Ie.h)&&Ct(Ie.s)&&Ct(Ie.l)&&(Re=Ve(Ie.s),ot=Ve(Ie.l),pe=g(Ie.h,Re,ot),St=!0,Rt="hsl"),Ie.hasOwnProperty("a")&&(Me=Ie.a)),Me=qe(Me),{ok:St,format:Ie.format||Rt,r:Math.min(255,Math.max(pe.r,0)),g:Math.min(255,Math.max(pe.g,0)),b:Math.min(255,Math.max(pe.b,0)),a:Me}}function s(Ie,pe,Me){return{r:ge(Ie,255)*255,g:ge(pe,255)*255,b:ge(Me,255)*255}}function h(Ie,pe,Me){Ie=ge(Ie,255),pe=ge(pe,255),Me=ge(Me,255);var Re=Math.max(Ie,pe,Me),it=Math.min(Ie,pe,Me),ot,St,Rt=(Re+it)/2;if(Re==it)ot=St=0;else{var zt=Re-it;switch(St=Rt>.5?zt/(2-Re-it):zt/(Re+it),Re){case Ie:ot=(pe-Me)/zt+(pe<Me?6:0);break;case pe:ot=(Me-Ie)/zt+2;break;case Me:ot=(Ie-pe)/zt+4;break}ot/=6}return{h:ot,s:St,l:Rt}}function g(Ie,pe,Me){var Re,it,ot;Ie=ge(Ie,360),pe=ge(pe,100),Me=ge(Me,100);function St(pt,ir,gn){return gn<0&&(gn+=1),gn>1&&(gn-=1),gn<1/6?pt+(ir-pt)*6*gn:gn<1/2?ir:gn<2/3?pt+(ir-pt)*(2/3-gn)*6:pt}if(pe===0)Re=it=ot=Me;else{var Rt=Me<.5?Me*(1+pe):Me+pe-Me*pe,zt=2*Me-Rt;Re=St(zt,Rt,Ie+1/3),it=St(zt,Rt,Ie),ot=St(zt,Rt,Ie-1/3)}return{r:Re*255,g:it*255,b:ot*255}}function _(Ie,pe,Me){Ie=ge(Ie,255),pe=ge(pe,255),Me=ge(Me,255);var Re=Math.max(Ie,pe,Me),it=Math.min(Ie,pe,Me),ot,St,Rt=Re,zt=Re-it;if(St=Re===0?0:zt/Re,Re==it)ot=0;else{switch(Re){case Ie:ot=(pe-Me)/zt+(pe<Me?6:0);break;case pe:ot=(Me-Ie)/zt+2;break;case Me:ot=(Ie-pe)/zt+4;break}ot/=6}return{h:ot,s:St,v:Rt}}function B(Ie,pe,Me){Ie=ge(Ie,360)*6,pe=ge(pe,100),Me=ge(Me,100);var Re=Math.floor(Ie),it=Ie-Re,ot=Me*(1-pe),St=Me*(1-it*pe),Rt=Me*(1-(1-it)*pe),zt=Re%6,pt=[Me,St,ot,ot,Rt,Me][zt],ir=[Rt,Me,Me,St,ot,ot][zt],gn=[ot,ot,Rt,Me,Me,St][zt];return{r:pt*255,g:ir*255,b:gn*255}}function k(Ie,pe,Me,Re){var it=[je(Math.round(Ie).toString(16)),je(Math.round(pe).toString(16)),je(Math.round(Me).toString(16))];return Re&&it[0].charAt(0)==it[0].charAt(1)&&it[1].charAt(0)==it[1].charAt(1)&&it[2].charAt(0)==it[2].charAt(1)?it[0].charAt(0)+it[1].charAt(0)+it[2].charAt(0):it.join("")}function P(Ie,pe,Me,Re,it){var ot=[je(Math.round(Ie).toString(16)),je(Math.round(pe).toString(16)),je(Math.round(Me).toString(16)),je(Xe(Re))];return it&&ot[0].charAt(0)==ot[0].charAt(1)&&ot[1].charAt(0)==ot[1].charAt(1)&&ot[2].charAt(0)==ot[2].charAt(1)&&ot[3].charAt(0)==ot[3].charAt(1)?ot[0].charAt(0)+ot[1].charAt(0)+ot[2].charAt(0)+ot[3].charAt(0):ot.join("")}function F(Ie,pe,Me,Re){var it=[je(Xe(Re)),je(Math.round(Ie).toString(16)),je(Math.round(pe).toString(16)),je(Math.round(Me).toString(16))];return it.join("")}o.equals=function(Ie,pe){return!Ie||!pe?!1:o(Ie).toRgbString()==o(pe).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function q(Ie,pe){pe=pe===0?0:pe||10;var Me=o(Ie).toHsl();return Me.s-=pe/100,Me.s=_t(Me.s),o(Me)}function ee(Ie,pe){pe=pe===0?0:pe||10;var Me=o(Ie).toHsl();return Me.s+=pe/100,Me.s=_t(Me.s),o(Me)}function H(Ie){return o(Ie).desaturate(100)}function N(Ie,pe){pe=pe===0?0:pe||10;var Me=o(Ie).toHsl();return Me.l+=pe/100,Me.l=_t(Me.l),o(Me)}function Z(Ie,pe){pe=pe===0?0:pe||10;var Me=o(Ie).toRgb();return Me.r=Math.max(0,Math.min(255,Me.r-Math.round(255*-(pe/100)))),Me.g=Math.max(0,Math.min(255,Me.g-Math.round(255*-(pe/100)))),Me.b=Math.max(0,Math.min(255,Me.b-Math.round(255*-(pe/100)))),o(Me)}function ue(Ie,pe){pe=pe===0?0:pe||10;var Me=o(Ie).toHsl();return Me.l-=pe/100,Me.l=_t(Me.l),o(Me)}function ye(Ie,pe){var Me=o(Ie).toHsl(),Re=(Me.h+pe)%360;return Me.h=Re<0?360+Re:Re,o(Me)}function be(Ie){var pe=o(Ie).toHsl();return pe.h=(pe.h+180)%360,o(pe)}function J(Ie,pe){if(isNaN(pe)||pe<=0)throw new Error("Argument to polyad must be a positive number");for(var Me=o(Ie).toHsl(),Re=[o(Ie)],it=360/pe,ot=1;ot<pe;ot++)Re.push(o({h:(Me.h+ot*it)%360,s:Me.s,l:Me.l}));return Re}function se(Ie){var pe=o(Ie).toHsl(),Me=pe.h;return[o(Ie),o({h:(Me+72)%360,s:pe.s,l:pe.l}),o({h:(Me+216)%360,s:pe.s,l:pe.l})]}function xe(Ie,pe,Me){pe=pe||6,Me=Me||30;var Re=o(Ie).toHsl(),it=360/Me,ot=[o(Ie)];for(Re.h=(Re.h-(it*pe>>1)+720)%360;--pe;)Re.h=(Re.h+it)%360,ot.push(o(Re));return ot}function Se(Ie,pe){pe=pe||6;for(var Me=o(Ie).toHsv(),Re=Me.h,it=Me.s,ot=Me.v,St=[],Rt=1/pe;pe--;)St.push(o({h:Re,s:it,v:ot})),ot=(ot+Rt)%1;return St}o.mix=function(Ie,pe,Me){Me=Me===0?0:Me||50;var Re=o(Ie).toRgb(),it=o(pe).toRgb(),ot=Me/100,St={r:(it.r-Re.r)*ot+Re.r,g:(it.g-Re.g)*ot+Re.g,b:(it.b-Re.b)*ot+Re.b,a:(it.a-Re.a)*ot+Re.a};return o(St)},o.readability=function(Ie,pe){var Me=o(Ie),Re=o(pe);return(Math.max(Me.getLuminance(),Re.getLuminance())+.05)/(Math.min(Me.getLuminance(),Re.getLuminance())+.05)},o.isReadable=function(Ie,pe,Me){var Re=o.readability(Ie,pe),it,ot;switch(ot=!1,it=$t(Me),it.level+it.size){case"AAsmall":case"AAAlarge":ot=Re>=4.5;break;case"AAlarge":ot=Re>=3;break;case"AAAsmall":ot=Re>=7;break}return ot},o.mostReadable=function(Ie,pe,Me){var Re=null,it=0,ot,St,Rt,zt;Me=Me||{},St=Me.includeFallbackColors,Rt=Me.level,zt=Me.size;for(var pt=0;pt<pe.length;pt++)ot=o.readability(Ie,pe[pt]),ot>it&&(it=ot,Re=o(pe[pt]));return o.isReadable(Ie,Re,{level:Rt,size:zt})||!St?Re:(Me.includeFallbackColors=!1,o.mostReadable(Ie,["#fff","#000"],Me))};var De=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Le=o.hexNames=he(De);function he(Ie){var pe={};for(var Me in Ie)Ie.hasOwnProperty(Me)&&(pe[Ie[Me]]=Me);return pe}function qe(Ie){return Ie=parseFloat(Ie),(isNaN(Ie)||Ie<0||Ie>1)&&(Ie=1),Ie}function ge(Ie,pe){dt(Ie)&&(Ie="100%");var Me=mt(Ie);return Ie=Math.min(pe,Math.max(0,parseFloat(Ie))),Me&&(Ie=parseInt(Ie*pe,10)/100),Math.abs(Ie-pe)<1e-6?1:Ie%pe/parseFloat(pe)}function _t(Ie){return Math.min(1,Math.max(0,Ie))}function Mt(Ie){return parseInt(Ie,16)}function dt(Ie){return typeof Ie=="string"&&Ie.indexOf(".")!=-1&&parseFloat(Ie)===1}function mt(Ie){return typeof Ie=="string"&&Ie.indexOf("%")!=-1}function je(Ie){return Ie.length==1?"0"+Ie:""+Ie}function Ve(Ie){return Ie<=1&&(Ie=Ie*100+"%"),Ie}function Xe(Ie){return Math.round(parseFloat(Ie)*255).toString(16)}function Jt(Ie){return Mt(Ie)/255}var Ht=function(){var Ie="[-\\+]?\\d+%?",pe="[-\\+]?\\d*\\.\\d+%?",Me="(?:"+pe+")|(?:"+Ie+")",Re="[\\s|\\(]+("+Me+")[,|\\s]+("+Me+")[,|\\s]+("+Me+")\\s*\\)?",it="[\\s|\\(]+("+Me+")[,|\\s]+("+Me+")[,|\\s]+("+Me+")[,|\\s]+("+Me+")\\s*\\)?";return{CSS_UNIT:new RegExp(Me),rgb:new RegExp("rgb"+Re),rgba:new RegExp("rgba"+it),hsl:new RegExp("hsl"+Re),hsla:new RegExp("hsla"+it),hsv:new RegExp("hsv"+Re),hsva:new RegExp("hsva"+it),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ct(Ie){return!!Ht.CSS_UNIT.exec(Ie)}function Qt(Ie){Ie=Ie.replace(r,"").replace(i,"").toLowerCase();var pe=!1;if(De[Ie])Ie=De[Ie],pe=!0;else if(Ie=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Me;return(Me=Ht.rgb.exec(Ie))?{r:Me[1],g:Me[2],b:Me[3]}:(Me=Ht.rgba.exec(Ie))?{r:Me[1],g:Me[2],b:Me[3],a:Me[4]}:(Me=Ht.hsl.exec(Ie))?{h:Me[1],s:Me[2],l:Me[3]}:(Me=Ht.hsla.exec(Ie))?{h:Me[1],s:Me[2],l:Me[3],a:Me[4]}:(Me=Ht.hsv.exec(Ie))?{h:Me[1],s:Me[2],v:Me[3]}:(Me=Ht.hsva.exec(Ie))?{h:Me[1],s:Me[2],v:Me[3],a:Me[4]}:(Me=Ht.hex8.exec(Ie))?{r:Mt(Me[1]),g:Mt(Me[2]),b:Mt(Me[3]),a:Jt(Me[4]),format:pe?"name":"hex8"}:(Me=Ht.hex6.exec(Ie))?{r:Mt(Me[1]),g:Mt(Me[2]),b:Mt(Me[3]),format:pe?"name":"hex"}:(Me=Ht.hex4.exec(Ie))?{r:Mt(Me[1]+""+Me[1]),g:Mt(Me[2]+""+Me[2]),b:Mt(Me[3]+""+Me[3]),a:Jt(Me[4]+""+Me[4]),format:pe?"name":"hex8"}:(Me=Ht.hex3.exec(Ie))?{r:Mt(Me[1]+""+Me[1]),g:Mt(Me[2]+""+Me[2]),b:Mt(Me[3]+""+Me[3]),format:pe?"name":"hex"}:!1}function $t(Ie){var pe,Me;return Ie=Ie||{level:"AA",size:"small"},pe=(Ie.level||"AA").toUpperCase(),Me=(Ie.size||"small").toLowerCase(),pe!=="AA"&&pe!=="AAA"&&(pe="AA"),Me!=="small"&&Me!=="large"&&(Me="small"),{level:pe,size:Me}}return o})})(uQ);var bEe=uQ.exports;Object.defineProperty(DA,"__esModule",{value:!0});DA.isvalidColorString=DA.red=DA.getContrastingColor=DA.isValidHex=DA.toState=DA.simpleCheckForValidColor=void 0;var xEe=CEe,wEe=AQ(xEe),MEe=bEe,N4=AQ(MEe);function AQ(e){return e&&e.__esModule?e:{default:e}}DA.simpleCheckForValidColor=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,wEe.default)(n,function(o){if(t[o]&&(r+=1,isNaN(t[o])||(i+=1),o==="s"||o==="l")){var a=/^\d+%$/;a.test(t[o])&&(i+=1)}}),r===i?t:!1};var SEe=DA.toState=function(t,n){var r=t.hex?(0,N4.default)(t.hex):(0,N4.default)(t),i=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var h=s==="000000"&&a.a===0;return{hsl:i,hex:h?"transparent":"#"+s,rgb:a,hsv:o,oldHue:t.h||n||i.h,source:t.source}};DA.isValidHex=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&(0,N4.default)(t).isValid()};DA.getContrastingColor=function(t){if(!t)return"#fff";var n=SEe(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};DA.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};DA.isvalidColorString=function(t,n){var r=t.replace("°","");return(0,N4.default)(n+" ("+r+")")._ok};Object.defineProperty(Yb,"__esModule",{value:!0});Yb.ColorWrap=void 0;var M_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oB=kr,OEe=cQ(oB),BEe=lQ,kEe=cQ(BEe),IEe=DA,Dg=TEe(IEe);function TEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function cQ(e){return e&&e.__esModule?e:{default:e}}function KEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PEe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var DEe=Yb.ColorWrap=function(t){var n=function(r){FEe(i,r);function i(o){KEe(this,i);var a=PEe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.handleChange=function(s,h){var g=Dg.simpleCheckForValidColor(s);if(g){var _=Dg.toState(s,s.h||a.state.oldHue);a.setState(_),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,_,h),a.props.onChange&&a.props.onChange(_,h)}},a.handleSwatchHover=function(s,h){var g=Dg.simpleCheckForValidColor(s);if(g){var _=Dg.toState(s,s.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(_,h)}},a.state=M_({},Dg.toState(o.color,0)),a.debounce=(0,kEe.default)(function(s,h,g){s(h,g)},100),a}return EEe(i,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),OEe.default.createElement(t,M_({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return M_({},Dg.toState(a.color,s.oldHue))}}]),i}(oB.PureComponent||oB.Component);return n.propTypes=M_({},t.propTypes),n.defaultProps=M_({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};Yb.default=DEe;var qb={},Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.handleFocus=void 0;var LEe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),REe=kr,i6=zEe(REe);function zEe(e){return e&&e.__esModule?e:{default:e}}function jEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function WEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Rw.handleFocus=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){WEe(i,r);function i(){var o,a,s,h;jEe(this,i);for(var g=arguments.length,_=Array(g),B=0;B<g;B++)_[B]=arguments[B];return h=(a=(s=cF(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(_))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),cF(s,h)}return UEe(i,[{key:"render",value:function(){return i6.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},i6.default.createElement(t,LEe({},this.props,this.state)))}}]),i}(i6.default.Component)};Object.defineProperty(qb,"__esModule",{value:!0});qb.Swatch=void 0;var dF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NEe=kr,hF=Qk(NEe),GEe=Ys,QEe=Qk(GEe),$Ee=Rw,YEe=Y1,qEe=Qk(YEe);function Qk(e){return e&&e.__esModule?e:{default:e}}var HEe=13,VEe=qb.Swatch=function(t){var n=t.color,r=t.style,i=t.onClick,o=i===void 0?function(){}:i,a=t.onHover,s=t.title,h=s===void 0?n:s,g=t.children,_=t.focus,B=t.focusStyle,k=B===void 0?{}:B,P=n==="transparent",F=(0,QEe.default)({default:{swatch:dF({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,_?k:{})}}),q=function(ue){return o(n,ue)},ee=function(ue){return ue.keyCode===HEe&&o(n,ue)},H=function(ue){return a(n,ue)},N={};return a&&(N.onMouseOver=H),hF.default.createElement("div",dF({style:F.swatch,onClick:q,title:h,tabIndex:0,onKeyDown:ee},N),g,P&&hF.default.createElement(qEe.default,{borderRadius:F.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};qb.default=(0,$Ee.handleFocus)(VEe);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Wb;Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return g(t).default}});var n=Y1;Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return g(n).default}});var r=Nb;Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return g(r).default}});var i=Gb;Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return g(i).default}});var o=Qb;Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return g(o).default}});var a=$b;Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return g(a).default}});var s=Yb;Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return g(s).default}});var h=qb;Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return g(h).default}});function g(_){return _&&_.__esModule?_:{default:_}}})(Uk);var Hb={};function ZEe(e){return e===void 0}var XEe=ZEe,$k={};Object.defineProperty($k,"__esModule",{value:!0});var fF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JEe=kr,pF=eOe(JEe);function eOe(e){return e&&e.__esModule?e:{default:e}}function tOe(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var I2=24;$k.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,i=r===void 0?I2:r,o=e.height,a=o===void 0?I2:o,s=e.style,h=s===void 0?{}:s,g=tOe(e,["fill","width","height","style"]);return pF.default.createElement("svg",fF({viewBox:"0 0 "+I2+" "+I2,style:fF({fill:n,width:i,height:a},h)},g),pF.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(Hb,"__esModule",{value:!0});Hb.ChromeFields=void 0;var nOe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rOe=kr,Za=zw(rOe),iOe=Ys,oOe=zw(iOe),aOe=DA,sOe=cOe(aOe),lOe=XEe,mF=zw(lOe),_p=Uk,uOe=$k,AOe=zw(uOe);function cOe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function zw(e){return e&&e.__esModule?e:{default:e}}function dOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dQ=Hb.ChromeFields=function(e){fOe(t,e);function t(n){dOe(this,t);var r=hOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?sOe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,mF.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,mF.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return nOe(t,[{key:"render",value:function(){var r=this,i=(0,oOe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=Za.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=Za.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Za.default.createElement("div",{style:i.alpha},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=Za.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Za.default.createElement("div",{style:i.field},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Za.default.createElement("div",{style:i.alpha},Za.default.createElement(_p.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Za.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,Za.default.createElement("div",{style:i.toggle},Za.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},Za.default.createElement(AOe.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(Za.default.Component);dQ.defaultProps={view:"hex"};Hb.default=dQ;var Vb={};Object.defineProperty(Vb,"__esModule",{value:!0});Vb.ChromePointer=void 0;var pOe=kr,mOe=hQ(pOe),gOe=Ys,yOe=hQ(gOe);function hQ(e){return e&&e.__esModule?e:{default:e}}var vOe=Vb.ChromePointer=function(){var t=(0,yOe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return mOe.default.createElement("div",{style:t.picker})};Vb.default=vOe;var Zb={};Object.defineProperty(Zb,"__esModule",{value:!0});Zb.ChromePointerCircle=void 0;var _Oe=kr,COe=fQ(_Oe),bOe=Ys,xOe=fQ(bOe);function fQ(e){return e&&e.__esModule?e:{default:e}}var wOe=Zb.ChromePointerCircle=function(){var t=(0,xOe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return COe.default.createElement("div",{style:t.picker})};Zb.default=wOe;Object.defineProperty(Mw,"__esModule",{value:!0});Mw.Chrome=void 0;var MOe=kr,PA=q1(MOe),SOe=kh,Lg=q1(SOe),EOe=Ys,OOe=q1(EOe),BOe=tQ,kOe=q1(BOe),N_=Uk,IOe=Hb,TOe=q1(IOe),KOe=Vb,gF=q1(KOe),POe=Zb,FOe=q1(POe);function q1(e){return e&&e.__esModule?e:{default:e}}var Yk=Mw.Chrome=function(t){var n=t.width,r=t.onChange,i=t.disableAlpha,o=t.rgb,a=t.hsl,s=t.hsv,h=t.hex,g=t.renderers,_=t.styles,B=_===void 0?{}:_,k=t.className,P=k===void 0?"":k,F=t.defaultView,q=(0,OOe.default)((0,kOe.default)({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},B),{disableAlpha:i});return PA.default.createElement("div",{style:q.picker,className:"chrome-picker "+P},PA.default.createElement("div",{style:q.saturation},PA.default.createElement(N_.Saturation,{style:q.Saturation,hsl:a,hsv:s,pointer:FOe.default,onChange:r})),PA.default.createElement("div",{style:q.body},PA.default.createElement("div",{style:q.controls,className:"flexbox-fix"},PA.default.createElement("div",{style:q.color},PA.default.createElement("div",{style:q.swatch},PA.default.createElement("div",{style:q.active}),PA.default.createElement(N_.Checkboard,{renderers:g}))),PA.default.createElement("div",{style:q.toggles},PA.default.createElement("div",{style:q.hue},PA.default.createElement(N_.Hue,{style:q.Hue,hsl:a,pointer:gF.default,onChange:r})),PA.default.createElement("div",{style:q.alpha},PA.default.createElement(N_.Alpha,{style:q.Alpha,rgb:o,hsl:a,pointer:gF.default,renderers:g,onChange:r})))),PA.default.createElement(TOe.default,{rgb:o,hsl:a,hex:h,view:F,onChange:r,disableAlpha:i})))};Yk.propTypes={width:Lg.default.oneOfType([Lg.default.string,Lg.default.number]),disableAlpha:Lg.default.bool,styles:Lg.default.object,defaultView:Lg.default.oneOf(["hex","rgb","hsl"])};Yk.defaultProps={width:225,disableAlpha:!1,styles:{}};var DOe=Mw.default=(0,N_.ColorWrap)(Yk);function xi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",t="cb6d03ea084207ffce2f89af246bc26074c13af7",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cb6d03ea084207ffce2f89af246bc26074c13af7"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return xi=function(){return a},a}xi();function LOe(e){xi().f[0]++;const t=(xi().s[0]++,e.rgb);return xi().s[1]++,`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}class pQ extends Mn.Component{constructor(n){xi().f[1]++,xi().s[4]++;super(n);on(this,"state",(xi().s[2]++,{pickerOpened:!1}));on(this,"colorInput",(xi().s[3]++,null));on(this,"calcPickerOffset",(xi().s[7]++,()=>{xi().f[3]++;const n=(xi().s[8]++,this.colorInput);if(xi().s[9]++,n){xi().b[0][0]++;const r=(xi().s[10]++,n.getBoundingClientRect());return xi().s[11]++,{top:r.top,left:r.left+196}}else return xi().b[0][1]++,xi().s[12]++,{top:160,left:555}}));on(this,"togglePicker",(xi().s[13]++,()=>{xi().f[4]++,xi().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));xi().s[5]++,this.onChangeNoCheck=yE.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(n){xi().f[2]++,xi().s[6]++,this.props.onChange(n)}get color(){xi().f[5]++,xi().s[15]++;try{return xi().s[16]++,RE(this.props.value).rgb()}catch(n){return xi().s[17]++,console.warn("Error parsing color: ",n),xi().s[18]++,RE("rgb(255,255,255)")}}onChange(n){xi().f[6]++,xi().s[19]++,this.props.onChange(n===""?(xi().b[1][0]++,void 0):(xi().b[1][1]++,n))}render(){xi().f[7]++;const n=(xi().s[20]++,this.calcPickerOffset()),r=(xi().s[21]++,this.color.object()),i=(xi().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(xi().s[23]++,G.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:n.left,top:n.top},children:[G.jsx(DOe,{color:i,onChange:s=>(xi().f[8]++,xi().s[24]++,this.onChangeNoCheck(LOe(s)))}),G.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),a=(xi().s[25]++,{backgroundColor:this.props.value});return xi().s[26]++,G.jsxs("div",{className:"maputnik-color-wrapper",children:[(xi().b[2][0]++,this.state.pickerOpened&&(xi().b[2][1]++,o)),G.jsx("div",{className:"maputnik-color-swatch",style:a}),G.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:s=>(xi().f[9]++,xi().s[27]++,this.colorInput=s),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(xi().b[3][0]++,this.props.value):(xi().b[3][1]++,""),onChange:s=>(xi().f[10]++,xi().s[28]++,this.onChange(s.target.value))})]})}}function Nt(){var e="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",t="055427b59351edaed6ac0381ee689923477adaa1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:40,column:5}},10:{start:{line:31,column:6},end:{line:32,column:35}},11:{start:{line:32,column:8},end:{line:32,column:35}},12:{start:{line:33,column:6},end:{line:35,column:9}},13:{start:{line:36,column:11},end:{line:40,column:5}},14:{start:{line:37,column:6},end:{line:39,column:9}},15:{start:{line:41,column:4},end:{line:43,column:7}},16:{start:{line:46,column:4},end:{line:48,column:5}},17:{start:{line:47,column:6},end:{line:47,column:18}},18:{start:{line:49,column:18},end:{line:49,column:20}},19:{start:{line:50,column:4},end:{line:52,column:5}},20:{start:{line:51,column:6},end:{line:51,column:19}},21:{start:{line:53,column:4},end:{line:55,column:5}},22:{start:{line:54,column:6},end:{line:54,column:19}},23:{start:{line:56,column:4},end:{line:58,column:5}},24:{start:{line:57,column:6},end:{line:57,column:19}},25:{start:{line:59,column:4},end:{line:59,column:16}},26:{start:{line:61,column:15},end:{line:75,column:3}},27:{start:{line:62,column:4},end:{line:62,column:38}},28:{start:{line:63,column:4},end:{line:65,column:5}},29:{start:{line:64,column:6},end:{line:64,column:13}},30:{start:{line:66,column:4},end:{line:74,column:5}},31:{start:{line:67,column:6},end:{line:73,column:7}},32:{start:{line:68,column:8},end:{line:68,column:43}},33:{start:{line:69,column:8},end:{line:69,column:56}},34:{start:{line:71,column:8},end:{line:71,column:33}},35:{start:{line:72,column:8},end:{line:72,column:46}},36:{start:{line:76,column:18},end:{line:102,column:3}},37:{start:{line:77,column:16},end:{line:77,column:42}},38:{start:{line:78,column:17},end:{line:78,column:37}},39:{start:{line:79,column:21},end:{line:79,column:26}},40:{start:{line:80,column:4},end:{line:96,column:5}},41:{start:{line:81,column:19},end:{line:81,column:31}},42:{start:{line:82,column:6},end:{line:95,column:7}},43:{start:{line:83,column:8},end:{line:87,column:9}},44:{start:{line:84,column:10},end:{line:84,column:42}},45:{start:{line:86,column:10},end:{line:86,column:42}},46:{start:{line:88,column:8},end:{line:88,column:27}},47:{start:{line:90,column:8},end:{line:94,column:9}},48:{start:{line:91,column:10},end:{line:91,column:31}},49:{start:{line:93,column:10},end:{line:93,column:40}},50:{start:{line:97,column:4},end:{line:97,column:32}},51:{start:{line:98,column:4},end:{line:98,column:70}},52:{start:{line:99,column:4},end:{line:99,column:41}},53:{start:{line:100,column:4},end:{line:101,column:33}},54:{start:{line:101,column:6},end:{line:101,column:33}},55:{start:{line:104,column:4},end:{line:187,column:5}},56:{start:{line:105,column:20},end:{line:105,column:81}},57:{start:{line:106,column:27},end:{line:106,column:82}},58:{start:{line:108,column:6},end:{line:112,column:7}},59:{start:{line:109,column:8},end:{line:109,column:38}},60:{start:{line:111,column:8},end:{line:111,column:27}},61:{start:{line:113,column:6},end:{line:167,column:11}},62:{start:{line:126,column:14},end:{line:126,column:41}},63:{start:{line:129,column:14},end:{line:129,column:67}},64:{start:{line:132,column:14},end:{line:132,column:69}},65:{start:{line:135,column:14},end:{line:139,column:17}},66:{start:{line:154,column:14},end:{line:154,column:47}},67:{start:{line:157,column:14},end:{line:157,column:47}},68:{start:{line:160,column:14},end:{line:160,column:48}},69:{start:{line:161,column:14},end:{line:161,column:32}},70:{start:{line:169,column:20},end:{line:169,column:81}},71:{start:{line:170,column:6},end:{line:186,column:8}},72:{start:{line:178,column:27},end:{line:178,column:59}},73:{start:{line:180,column:12},end:{line:180,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:44,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:13},end:{line:60,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:21},end:{line:75,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:76,column:18},end:{line:76,column:19}},loc:{start:{line:76,column:25},end:{line:102,column:3}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:11},end:{line:188,column:3}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:125,column:23},end:{line:125,column:24}},loc:{start:{line:125,column:29},end:{line:127,column:13}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:33},end:{line:130,column:13}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:31},end:{line:133,column:13}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:140,column:13}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:21},end:{line:153,column:22}},loc:{start:{line:153,column:29},end:{line:155,column:13}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:156,column:22},end:{line:156,column:23}},loc:{start:{line:156,column:29},end:{line:158,column:13}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:159,column:20},end:{line:159,column:21}},loc:{start:{line:159,column:28},end:{line:162,column:13}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:178,column:20},end:{line:178,column:21}},loc:{start:{line:178,column:27},end:{line:178,column:59}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:179,column:19},end:{line:179,column:20}},loc:{start:{line:179,column:25},end:{line:181,column:11}},line:179}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:40,column:5}},{start:{line:36,column:11},end:{line:40,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:32,column:35}},type:"if",locations:[{start:{line:31,column:6},end:{line:32,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:36,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:36,column:15},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:35}},{start:{line:36,column:39},end:{line:36,column:49}}],line:36},9:{loc:{start:{line:42,column:18},end:{line:42,column:53}},type:"cond-expr",locations:[{start:{line:42,column:36},end:{line:42,column:42}},{start:{line:42,column:45},end:{line:42,column:53}}],line:42},10:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},11:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},12:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},13:{loc:{start:{line:53,column:8},end:{line:53,column:56}},type:"binary-expr",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:34},end:{line:53,column:56}}],line:53},14:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},15:{loc:{start:{line:56,column:8},end:{line:56,column:56}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:30}},{start:{line:56,column:34},end:{line:56,column:56}}],line:56},16:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},17:{loc:{start:{line:66,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},18:{loc:{start:{line:67,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:73,column:7}},{start:{line:70,column:13},end:{line:73,column:7}}],line:67},19:{loc:{start:{line:80,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},20:{loc:{start:{line:82,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:95,column:7}},{start:{line:89,column:13},end:{line:95,column:7}}],line:82},21:{loc:{start:{line:83,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:87,column:9}},{start:{line:85,column:15},end:{line:87,column:9}}],line:83},22:{loc:{start:{line:90,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:94,column:9}},{start:{line:92,column:15},end:{line:94,column:9}}],line:90},23:{loc:{start:{line:100,column:4},end:{line:101,column:33}},type:"if",locations:[{start:{line:100,column:4},end:{line:101,column:33}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},24:{loc:{start:{line:104,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:187,column:5}},{start:{line:168,column:11},end:{line:187,column:5}}],line:104},25:{loc:{start:{line:104,column:8},end:{line:104,column:205}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:63}},{start:{line:104,column:67},end:{line:104,column:122}},{start:{line:104,column:126},end:{line:104,column:151}},{start:{line:104,column:155},end:{line:104,column:180}},{start:{line:104,column:184},end:{line:104,column:205}}],line:104},26:{loc:{start:{line:105,column:20},end:{line:105,column:81}},type:"cond-expr",locations:[{start:{line:105,column:41},end:{line:105,column:62}},{start:{line:105,column:65},end:{line:105,column:81}}],line:105},27:{loc:{start:{line:106,column:27},end:{line:106,column:82}},type:"cond-expr",locations:[{start:{line:106,column:59},end:{line:106,column:61}},{start:{line:106,column:64},end:{line:106,column:82}}],line:106},28:{loc:{start:{line:108,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:112,column:7}},{start:{line:110,column:13},end:{line:112,column:7}}],line:108},29:{loc:{start:{line:123,column:19},end:{line:123,column:58}},type:"cond-expr",locations:[{start:{line:123,column:38},end:{line:123,column:50}},{start:{line:123,column:53},end:{line:123,column:58}}],line:123},30:{loc:{start:{line:152,column:19},end:{line:152,column:58}},type:"cond-expr",locations:[{start:{line:152,column:43},end:{line:152,column:45}},{start:{line:152,column:48},end:{line:152,column:58}}],line:152},31:{loc:{start:{line:169,column:20},end:{line:169,column:81}},type:"cond-expr",locations:[{start:{line:169,column:41},end:{line:169,column:62}},{start:{line:169,column:65},end:{line:169,column:81}}],line:169},32:{loc:{start:{line:177,column:17},end:{line:177,column:46}},type:"cond-expr",locations:[{start:{line:177,column:36},end:{line:177,column:38}},{start:{line:177,column:41},end:{line:177,column:46}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM;AAAU,aAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"055427b59351edaed6ac0381ee689923477adaa1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Nt=function(){return a},a}Nt();class jf extends Mn.Component{constructor(n){Nt().f[0]++,Nt().s[2]++;super(n);on(this,"_keyboardEvent",(Nt().s[1]++,!1));on(this,"resetValue",(Nt().s[26]++,()=>{if(Nt().f[4]++,Nt().s[27]++,this.setState({editing:!1}),Nt().s[28]++,this.state.value)Nt().b[16][1]++;else{Nt().b[16][0]++,Nt().s[29]++;return}Nt().s[30]++,this.isValid(this.state.value)?Nt().b[17][1]++:(Nt().b[17][0]++,Nt().s[31]++,this.isValid(this.props.value)?(Nt().b[18][0]++,Nt().s[32]++,this.changeValue(this.props.value),Nt().s[33]++,this.setState({dirtyValue:this.props.value})):(Nt().b[18][1]++,Nt().s[34]++,this.changeValue(void 0),Nt().s[35]++,this.setState({dirtyValue:void 0})))}));on(this,"onChangeRange",(Nt().s[36]++,n=>{Nt().f[5]++;let r=(Nt().s[37]++,parseFloat(n.target.value));const i=(Nt().s[38]++,this.props.rangeStep);let o=(Nt().s[39]++,r);if(Nt().s[40]++,i){Nt().b[19][0]++;const a=(Nt().s[41]++,r%i);Nt().s[42]++,this._keyboardEvent?(Nt().b[20][0]++,Nt().s[43]++,r<+this.state.dirtyValue?(Nt().b[21][0]++,Nt().s[44]++,r=this.state.value-i):(Nt().b[21][1]++,Nt().s[45]++,r=this.state.value+i),Nt().s[46]++,o=r):(Nt().b[20][1]++,Nt().s[47]++,a<i/2?(Nt().b[22][0]++,Nt().s[48]++,r=r-a):(Nt().b[22][1]++,Nt().s[49]++,r=r+(i-a)))}else Nt().b[19][1]++;Nt().s[50]++,this._keyboardEvent=!1,Nt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),Nt().s[52]++,this.setState({value:r,dirtyValue:o}),Nt().s[53]++,this.props.onChange?(Nt().b[23][0]++,Nt().s[54]++,this.props.onChange(r)):Nt().b[23][1]++}));Nt().s[3]++,this.state={uuid:+ov(),editing:!1,value:n.value,dirtyValue:n.value}}static getDerivedStateFromProps(n,r){return Nt().f[1]++,Nt().s[4]++,Nt().b[1][0]++,!r.editing&&(Nt().b[1][1]++,n.value!==r.value)?(Nt().b[0][0]++,Nt().s[5]++,{value:n.value,dirtyValue:n.value}):(Nt().b[0][1]++,Nt().s[6]++,null)}changeValue(n){Nt().f[2]++;const r=(Nt().s[7]++,Nt().b[3][0]++,n===""||(Nt().b[3][1]++,n===void 0)?(Nt().b[2][0]++,void 0):(Nt().b[2][1]++,+n)),i=(Nt().s[8]++,this.props.value!==r);Nt().s[9]++,Nt().b[5][0]++,this.isValid(r)&&(Nt().b[5][1]++,i)?(Nt().b[4][0]++,Nt().s[10]++,this.props.onChange?(Nt().b[6][0]++,Nt().s[11]++,this.props.onChange(r)):Nt().b[6][1]++,Nt().s[12]++,this.setState({value:r})):(Nt().b[4][1]++,Nt().s[13]++,Nt().b[8][0]++,!this.isValid(r)&&(Nt().b[8][1]++,i)?(Nt().b[7][0]++,Nt().s[14]++,this.setState({value:void 0})):Nt().b[7][1]++),Nt().s[15]++,this.setState({dirtyValue:n===""?(Nt().b[9][0]++,void 0):(Nt().b[9][1]++,n)})}isValid(n){if(Nt().f[3]++,Nt().s[16]++,n===void 0)return Nt().b[10][0]++,Nt().s[17]++,!0;Nt().b[10][1]++;const r=(Nt().s[18]++,+n);return Nt().s[19]++,isNaN(r)?(Nt().b[11][0]++,Nt().s[20]++,!1):(Nt().b[11][1]++,Nt().s[21]++,Nt().b[13][0]++,!isNaN(this.props.min)&&(Nt().b[13][1]++,r<this.props.min)?(Nt().b[12][0]++,Nt().s[22]++,!1):(Nt().b[12][1]++,Nt().s[23]++,Nt().b[15][0]++,!isNaN(this.props.max)&&(Nt().b[15][1]++,r>this.props.max)?(Nt().b[14][0]++,Nt().s[24]++,!1):(Nt().b[14][1]++,Nt().s[25]++,!0)))}render(){var n,r;if(Nt().f[6]++,Nt().s[55]++,Nt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(Nt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(Nt().b[25][2]++,this.props.min!==void 0)&&(Nt().b[25][3]++,this.props.max!==void 0)&&(Nt().b[25][4]++,this.props.allowRange)){Nt().b[24][0]++;const i=(Nt().s[56]++,this.state.editing?(Nt().b[26][0]++,this.state.dirtyValue):(Nt().b[26][1]++,this.state.value)),o=(Nt().s[57]++,this.props.default===void 0?(Nt().b[27][0]++,""):(Nt().b[27][1]++,this.props.default));let a;return Nt().s[58]++,this.state.editingRange?(Nt().b[28][0]++,Nt().s[59]++,a=this.state.value):(Nt().b[28][1]++,Nt().s[60]++,a=i),Nt().s[61]++,G.jsxs("div",{className:"maputnik-number-container",children:[G.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(Nt().b[29][0]++,o):(Nt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{Nt().f[7]++,Nt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{Nt().f[8]++,Nt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{Nt().f[9]++,Nt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{Nt().f[10]++,Nt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),G.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(n=this.props.default)==null?void 0:n.toString(),value:a===void 0?(Nt().b[30][0]++,""):(Nt().b[30][1]++,a),onFocus:s=>{Nt().f[11]++,Nt().s[66]++,this.setState({editing:!0})},onChange:s=>{Nt().f[12]++,Nt().s[67]++,this.changeValue(s.target.value)},onBlur:s=>{Nt().f[13]++,Nt().s[68]++,this.setState({editing:!1}),Nt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{Nt().b[24][1]++;const i=(Nt().s[70]++,this.state.editing?(Nt().b[31][0]++,this.state.dirtyValue):(Nt().b[31][1]++,this.state.value));return Nt().s[71]++,G.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(Nt().b[32][0]++,""):(Nt().b[32][1]++,i),onChange:o=>(Nt().f[14]++,Nt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{Nt().f[15]++,Nt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}on(jf,"defaultProps",(Nt().s[0]++,{rangeStep:1}));function vf(){var e="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",t="e85f7924976070cbab7795bce9cf0e191e4a6b5e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return vf=function(){return a},a}vf();class qk extends Mn.Component{constructor(){super(...arguments);on(this,"onChange",(vf().s[1]++,()=>{vf().f[0]++,vf().s[2]++,this.props.onChange(!this.props.value)}))}render(){return vf().f[1]++,vf().s[3]++,G.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[G.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),G.jsx("div",{className:"maputnik-checkbox-box",children:G.jsx("svg",{style:{display:this.props.value?(vf().b[0][0]++,"inline"):(vf().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:G.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}on(qk,"defaultProps",(vf().s[0]++,{value:!1}));function pr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",t="b22e3e5f460e97aba4bdc54843ce7e77423f5b07",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAwB,OAAwB;AAC9E,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b22e3e5f460e97aba4bdc54843ce7e77423f5b07"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return pr=function(){return a},a}pr();var b6;let mQ=(b6=class extends Mn.Component{constructor(t){pr().f[0]++,pr().s[1]++,super(t),pr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(t,n){pr().f[1]++;const r=(pr().s[3]++,[]),i=(pr().s[4]++,n.initialPropsValue.slice(0));return pr().s[5]++,Array(t.length).fill(null).map((o,a)=>{pr().f[2]++,pr().s[6]++,t.value[a]===n.initialPropsValue[a]?(pr().b[0][0]++,pr().s[7]++,r[a]=n.value[a]):(pr().b[0][1]++,pr().s[8]++,r[a]=n.value[a],pr().s[9]++,i[a]=n.value[a])}),pr().s[10]++,{value:r,initialPropsValue:i}}isComplete(t){return pr().f[3]++,pr().s[11]++,Array(this.props.length).fill(null).every((n,r)=>{pr().f[4]++;const i=(pr().s[12]++,t[r]);return pr().s[13]++,pr().b[1][0]++,!(i===void 0||(pr().b[1][1]++,i===""))})}changeValue(t,n){pr().f[5]++;const r=(pr().s[14]++,this.state.value.slice(0));pr().s[15]++,r[t]=n,pr().s[16]++,this.setState({value:r},()=>{pr().f[6]++,pr().s[17]++,pr().b[3][0]++,this.isComplete(r)&&(pr().b[3][1]++,this.props.onChange)?(pr().b[2][0]++,pr().s[18]++,this.props.onChange(r)):(pr().b[2][1]++,pr().s[19]++,this.props.onChange?(pr().b[4][0]++,pr().s[20]++,this.props.onChange(void 0)):pr().b[4][1]++)})}render(){pr().f[7]++;const{value:t}=(pr().s[21]++,this.state),n=(pr().s[22]++,pr().b[5][0]++,t.length>0&&(pr().b[5][1]++,!t.every(i=>(pr().f[8]++,pr().s[23]++,pr().b[6][0]++,i===""||(pr().b[6][1]++,i===void 0))))),r=(pr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(pr().f[9]++,pr().s[25]++,this.props.type==="number"?(pr().b[7][0]++,pr().s[26]++,G.jsx(jf,{default:(pr().b[9][0]++,n||(pr().b[9][1]++,!this.props.default)?(pr().b[8][0]++,void 0):(pr().b[8][1]++,this.props.default[o])),value:t[o],required:n?(pr().b[10][0]++,!0):(pr().b[10][1]++,!1),onChange:a=>(pr().f[10]++,pr().s[27]++,this.changeValue(o,a)),"aria-label":(pr().b[11][0]++,this.props["aria-label"]||(pr().b[11][1]++,this.props.label))},o)):(pr().b[7][1]++,pr().s[28]++,G.jsx(jd,{default:(pr().b[13][0]++,n||(pr().b[13][1]++,!this.props.default)?(pr().b[12][0]++,void 0):(pr().b[12][1]++,this.props.default[o])),value:t[o],required:n?(pr().b[14][0]++,!0):(pr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(pr().b[15][0]++,this.props["aria-label"]||(pr().b[15][1]++,this.props.label))},o)))));return pr().s[29]++,G.jsx("div",{className:"maputnik-array",children:r})}},on(b6,"defaultProps",(pr().s[0]++,{value:[],default:[]})),b6);function pl(){var e="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",t="c4660c9ecb80d9f1ce71e70441154e1e765b77ab",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4660c9ecb80d9f1ce71e70441154e1e765b77ab"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return pl=function(){return a},a}pl();class UOe extends Mn.Component{render(){pl().f[0]++;let t=(pl().s[0]++,this.props.options);pl().s[1]++,pl().b[1][0]++,t.length>0&&(pl().b[1][1]++,!Array.isArray(t[0]))?(pl().b[0][0]++,pl().s[2]++,t=t.map(i=>(pl().f[1]++,pl().s[3]++,[i,i]))):pl().b[0][1]++;const n=(pl().s[4]++,pl().b[2][0]++,this.props.value||(pl().b[2][1]++,t[0][0])),r=(pl().s[5]++,t.map(([i,o])=>(pl().f[2]++,pl().s[6]++,G.jsxs("label",{className:Rf("maputnik-radio-as-button",{"maputnik-button-selected":i===n}),children:[G.jsx("input",{type:"radio",name:this.props.name,onChange:a=>(pl().f[3]++,pl().s[7]++,this.props.onChange(i)),value:i,checked:i===n}),o]},i))));return pl().s[8]++,G.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function ms(){var e="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",t="d905b5da4422f2b84d44f87b04fda3de421542f5",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ms=function(){return a},a}ms();function ROe(e){ms().f[0]++;let t=(ms().s[0]++,0);return ms().s[1]++,e.forEach(([n,r])=>{ms().f[1]++,ms().s[2]++,t+=r.length}),ms().s[3]++,t}class Hk extends Mn.Component{render(){ms().f[2]++;const{options:t,value:n,onChange:r,name:i,label:o}=(ms().s[4]++,this.props);return ms().s[5]++,ms().b[1][0]++,t.length<=3&&(ms().b[1][1]++,ROe(t)<=20)?(ms().b[0][0]++,ms().s[6]++,G.jsx(UOe,{name:i,options:t,value:(ms().b[2][0]++,n||(ms().b[2][1]++,this.props.default)),onChange:r,"aria-label":(ms().b[3][0]++,this.props["aria-label"]||(ms().b[3][1]++,o))})):(ms().b[0][1]++,ms().s[7]++,G.jsx(G1,{options:t,value:(ms().b[4][0]++,n||(ms().b[4][1]++,this.props.default)),onChange:r,"aria-label":(ms().b[5][0]++,this.props["aria-label"]||(ms().b[5][1]++,o))}))}}function G4(){var e="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",t="74f20da146753d9876d7a8eb2810e9f5402ba306",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:9,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:10,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO;AAQP,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAU;AACR,WACE,qBAAC,SAAI,WAAU,cAAa;AAAA;AAAA,MAClB,KAAK,MAAM;AAAA,OACrB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"74f20da146753d9876d7a8eb2810e9f5402ba306"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return G4=function(){return a},a}G4();class yF extends Mn.Component{render(){return G4().f[0]++,G4().s[0]++,G.jsxs("div",{className:"SmallError",children:["Error: ",this.props.children]})}}function Di(){var e="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",t="a46ad84e5c054cc551de3c721f37ad4b7c2acd0b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:8,column:3}},1:{start:{line:7,column:4},end:{line:7,column:11}},2:{start:{line:10,column:22},end:{line:17,column:3}},3:{start:{line:11,column:4},end:{line:16,column:5}},4:{start:{line:12,column:21},end:{line:12,column:34}},5:{start:{line:13,column:6},end:{line:13,column:29}},6:{start:{line:15,column:6},end:{line:15,column:20}},7:{start:{line:18,column:19},end:{line:18,column:35}},8:{start:{line:19,column:16},end:{line:19,column:53}},9:{start:{line:20,column:2},end:{line:35,column:3}},10:{start:{line:21,column:4},end:{line:28,column:9}},11:{start:{line:29,column:9},end:{line:35,column:3}},12:{start:{line:30,column:4},end:{line:34,column:9}},13:{start:{line:36,column:2},end:{line:36,column:15}},14:{start:{line:39,column:24},end:{line:42,column:3}},15:{start:{line:44,column:4},end:{line:44,column:17}},16:{start:{line:45,column:4},end:{line:47,column:6}},17:{start:{line:49,column:12},end:{line:55,column:3}},18:{start:{line:50,column:4},end:{line:52,column:7}},19:{start:{line:53,column:4},end:{line:54,column:30}},20:{start:{line:54,column:6},end:{line:54,column:30}},21:{start:{line:56,column:13},end:{line:61,column:3}},22:{start:{line:57,column:4},end:{line:59,column:7}},23:{start:{line:60,column:4},end:{line:60,column:29}},24:{start:{line:63,column:4},end:{line:74,column:9}}},fnMap:{0:{name:"validate",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:23},end:{line:37,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:32},end:{line:17,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:19},end:{line:41,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:21},end:{line:48,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:21},end:{line:55,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:13},end:{line:56,column:14}},loc:{start:{line:56,column:22},end:{line:61,column:3}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:11},end:{line:75,column:3}},line:62}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:20,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:35,column:3}},{start:{line:29,column:9},end:{line:35,column:3}}],line:20},2:{loc:{start:{line:23,column:6},end:{line:27,column:10}},type:"cond-expr",locations:[{start:{line:23,column:30},end:{line:23,column:67}},{start:{line:23,column:86},end:{line:27,column:10}}],line:23},3:{loc:{start:{line:29,column:9},end:{line:35,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:35,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},4:{loc:{start:{line:29,column:13},end:{line:29,column:86}},type:"binary-expr",locations:[{start:{line:29,column:13},end:{line:29,column:21}},{start:{line:29,column:25},end:{line:29,column:45}},{start:{line:29,column:49},end:{line:29,column:86}}],line:29},5:{loc:{start:{line:53,column:4},end:{line:54,column:30}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4Bc,SACA,UADA,KACA,YADA;AA5Bd,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAGvB,SAAS,SAAS,KAAa;AAC7B,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,YACE,qBAAC,cAAW;AAAA;AAAA,MAER,QACI,oBAAC,UAAK,sBAAQ,IACd,iCAAE;AAAA,4BAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO;AAAA,OAEvD;AAAA,EAEJ,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,qBAAC,cAAW;AAAA;AAAA,MACyE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G;AAAA,EAEJ;AAEA,SAAO;AACT;AAoBA,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a46ad84e5c054cc551de3c721f37ad4b7c2acd0b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Di=function(){return a},a}Di();function o6(e){if(Di().f[0]++,Di().s[0]++,e===""){Di().b[0][0]++,Di().s[1]++;return}else Di().b[0][1]++;let t;Di().s[2]++;const n=o=>{Di().f[1]++,Di().s[3]++;try{const a=(Di().s[4]++,new URL(o));return Di().s[5]++,a.protocol}catch{Di().s[6]++;return}},r=(Di().s[7]++,n(e)),i=(Di().s[8]++,window.location.protocol==="https:");return Di().s[9]++,r?(Di().b[1][1]++,Di().s[11]++,Di().b[4][0]++,r&&(Di().b[4][1]++,r==="http:")&&(Di().b[4][2]++,window.location.protocol==="https:")?(Di().b[3][0]++,Di().s[12]++,t=G.jsxs(yF,{children:["CORS policy won't allow fetching resources served over http from https, use a ",G.jsx("code",{children:"https://"})," domain"]})):Di().b[3][1]++):(Di().b[1][0]++,Di().s[10]++,t=G.jsxs(yF,{children:["Must provide protocol ",i?(Di().b[2][0]++,G.jsx("code",{children:"https://"})):(Di().b[2][1]++,G.jsxs(G.Fragment,{children:[G.jsx("code",{children:"http://"})," or ",G.jsx("code",{children:"https://"})]}))]})),Di().s[13]++,t}var x6;let Vk=(x6=class extends Mn.Component{constructor(n){Di().f[3]++,Di().s[15]++;super(n);on(this,"onInput",(Di().s[17]++,n=>{Di().f[4]++,Di().s[18]++,this.setState({error:o6(n)}),Di().s[19]++,this.props.onInput?(Di().b[5][0]++,Di().s[20]++,this.props.onInput(n)):Di().b[5][1]++}));on(this,"onChange",(Di().s[21]++,n=>{Di().f[5]++,Di().s[22]++,this.setState({error:o6(n)}),Di().s[23]++,this.props.onChange(n)}));Di().s[16]++,this.state={error:o6(n.value)}}render(){return Di().f[6]++,Di().s[24]++,G.jsxs("div",{children:[G.jsx(jd,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}},on(x6,"defaultProps",(Di().s[14]++,{onInput:()=>{Di().f[2]++}})),x6);function ur(){var e="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",t="a9b629853605b137778e6e7df9c6ca743543c2f4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:13,column:19},end:{line:13,column:39}},1:{start:{line:14,column:4},end:{line:14,column:27}},2:{start:{line:15,column:4},end:{line:16,column:34}},3:{start:{line:16,column:6},end:{line:16,column:34}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:36,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:35,column:34}},17:{start:{line:35,column:6},end:{line:35,column:34}},18:{start:{line:38,column:19},end:{line:38,column:39}},19:{start:{line:39,column:4},end:{line:39,column:31}},20:{start:{line:40,column:4},end:{line:41,column:63}},21:{start:{line:41,column:6},end:{line:41,column:63}},22:{start:{line:44,column:19},end:{line:98,column:6}},23:{start:{line:45,column:45},end:{line:45,column:117}},24:{start:{line:47,column:6},end:{line:85,column:7}},25:{start:{line:48,column:8},end:{line:55,column:10}},26:{start:{line:56,column:13},end:{line:85,column:7}},27:{start:{line:57,column:8},end:{line:64,column:10}},28:{start:{line:65,column:13},end:{line:85,column:7}},29:{start:{line:66,column:24},end:{line:66,column:99}},30:{start:{line:66,column:78},end:{line:66,column:98}},31:{start:{line:67,column:8},end:{line:75,column:10}},32:{start:{line:77,column:8},end:{line:84,column:10}},33:{start:{line:86,column:6},end:{line:97,column:8}},34:{start:{line:99,column:4},end:{line:109,column:9}},35:{start:{line:114,column:4},end:{line:127,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:29},end:{line:17,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:36,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:24},end:{line:42,column:3}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:110,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:98,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:66,column:70},end:{line:66,column:71}},loc:{start:{line:66,column:78},end:{line:66,column:98}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:11},end:{line:128,column:3}},line:113}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:16,column:34}},type:"if",locations:[{start:{line:15,column:4},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:35,column:34}},type:"if",locations:[{start:{line:34,column:4},end:{line:35,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:40,column:4},end:{line:41,column:63}},type:"if",locations:[{start:{line:40,column:4},end:{line:41,column:63}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},7:{loc:{start:{line:41,column:26},end:{line:41,column:61}},type:"cond-expr",locations:[{start:{line:41,column:46},end:{line:41,column:52}},{start:{line:41,column:55},end:{line:41,column:61}}],line:41},8:{loc:{start:{line:47,column:6},end:{line:85,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:85,column:7}},{start:{line:56,column:13},end:{line:85,column:7}}],line:47},9:{loc:{start:{line:53,column:26},end:{line:53,column:70}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:50}},{start:{line:53,column:54},end:{line:53,column:70}}],line:53},10:{loc:{start:{line:56,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:56,column:13},end:{line:85,column:7}},{start:{line:65,column:13},end:{line:85,column:7}}],line:56},11:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},12:{loc:{start:{line:65,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:85,column:7}},{start:{line:76,column:13},end:{line:85,column:7}}],line:65},13:{loc:{start:{line:73,column:26},end:{line:73,column:70}},type:"binary-expr",locations:[{start:{line:73,column:26},end:{line:73,column:50}},{start:{line:73,column:54},end:{line:73,column:70}}],line:73},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAiE4B,cAiCf,YAjCe;AAjE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AAEvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAiBrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB,oBAAC,0BAAuB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC,GAAG;AACvF,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EAEJ;AACF;AAMA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAM;AAAA,QAEN;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9b629853605b137778e6e7df9c6ca743543c2f4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ur=function(){return a},a}ur();let gQ=class extends Mn.Component{constructor(){super(...arguments);on(this,"addValue",(ur().s[5]++,()=>{ur().f[2]++;const n=(ur().s[6]++,this.values.slice(0));if(ur().s[7]++,this.props.type==="number")ur().b[2][0]++,ur().s[8]++,n.push(0);else if(ur().b[2][1]++,ur().s[9]++,this.props.type==="url")ur().b[3][0]++,ur().s[10]++,n.push("");else if(ur().b[3][1]++,ur().s[11]++,this.props.type==="enum"){ur().b[4][0]++;const{fieldSpec:r}=(ur().s[12]++,this.props),i=(ur().s[13]++,Object.keys(r.values)[0]);ur().s[14]++,n.push(i)}else ur().b[4][1]++,ur().s[15]++,n.push("");ur().s[16]++,this.props.onChange?(ur().b[5][0]++,ur().s[17]++,this.props.onChange(n)):ur().b[5][1]++}))}changeValue(n,r){ur().f[0]++;const i=(ur().s[0]++,this.values.slice(0));ur().s[1]++,i[n]=r,ur().s[2]++,this.props.onChange?(ur().b[0][0]++,ur().s[3]++,this.props.onChange(i)):ur().b[0][1]++}get values(){return ur().f[1]++,ur().s[4]++,ur().b[1][0]++,this.props.value||(ur().b[1][1]++,this.props.default)||(ur().b[1][2]++,[])}deleteValue(n){ur().f[3]++;const r=(ur().s[18]++,this.values.slice(0));ur().s[19]++,r.splice(n,1),ur().s[20]++,this.props.onChange?(ur().b[6][0]++,ur().s[21]++,this.props.onChange(r.length>0?(ur().b[7][0]++,r):(ur().b[7][1]++,void 0))):ur().b[6][1]++}render(){ur().f[4]++;const n=(ur().s[22]++,this.values.map((r,i)=>{var s;ur().f[5]++;const o=(ur().s[23]++,G.jsx(zOe,{onClick:this.deleteValue.bind(this,i)}));let a;if(ur().s[24]++,this.props.type==="url")ur().b[8][0]++,ur().s[25]++,a=G.jsx(Vk,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[9][0]++,this.props["aria-label"]||(ur().b[9][1]++,this.props.label))});else if(ur().b[8][1]++,ur().s[26]++,this.props.type==="number")ur().b[10][0]++,ur().s[27]++,a=G.jsx(jf,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[11][0]++,this.props["aria-label"]||(ur().b[11][1]++,this.props.label))});else if(ur().b[10][1]++,ur().s[28]++,this.props.type==="enum"){ur().b[12][0]++;const h=(ur().s[29]++,Object.keys((s=this.props.fieldSpec)==null?void 0:s.values).map(g=>(ur().f[6]++,ur().s[30]++,[g,yk(g)])));ur().s[31]++,a=G.jsx(Hk,{options:h,value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[13][0]++,this.props["aria-label"]||(ur().b[13][1]++,this.props.label))})}else ur().b[12][1]++,ur().s[32]++,a=G.jsx(jd,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[14][0]++,this.props["aria-label"]||(ur().b[14][1]++,this.props.label))});return ur().s[33]++,G.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[G.jsx("div",{className:"maputnik-array-block-action",children:o}),G.jsx("div",{className:"maputnik-array-block-content",children:a})]},i)}));return ur().s[34]++,G.jsxs("div",{className:"maputnik-array",children:[n,G.jsx(za,{className:"maputnik-array-add-value",onClick:this.addValue,children:"Add value"})]})}};class zOe extends Mn.Component{render(){return ur().f[7]++,ur().s[35]++,G.jsx(za,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item",children:G.jsx(nk,{label:G.jsx(mv,{})})})}}function ia(){var e="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",t="cd16dc68fc42c219caf080518fd74984d4f8d81e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ia=function(){return a},a}ia();class yQ extends Mn.Component{get values(){ia().f[0]++;const t=(ia().s[1]++,ia().b[0][0]++,this.props.value||(ia().b[0][1]++,this.props.default)||(ia().b[0][2]++,[]));return ia().s[2]++,t[t.length-1]!==""?(ia().b[1][0]++,ia().s[3]++,t.concat("")):(ia().b[1][1]++,ia().s[4]++,t)}changeFont(t,n){ia().f[1]++;const r=(ia().s[5]++,this.values.slice(0));ia().s[6]++,r[t]=n;const i=(ia().s[7]++,r.filter(o=>(ia().f[2]++,ia().s[8]++,o!==void 0)).filter(o=>(ia().f[3]++,ia().s[9]++,o!=="")));ia().s[10]++,this.props.onChange(i)}render(){ia().f[4]++;const t=(ia().s[11]++,this.values.map((n,r)=>{var i;return ia().f[5]++,ia().s[12]++,G.jsx("li",{children:G.jsx(bv,{"aria-label":(ia().b[2][0]++,this.props["aria-label"]||(ia().b[2][1]++,this.props.name)),value:n,options:(i=this.props.fonts)==null?void 0:i.map(o=>(ia().f[6]++,ia().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return ia().s[14]++,G.jsx("ul",{className:"maputnik-font",children:t})}}on(yQ,"defaultProps",(ia().s[0]++,{fonts:[]}));function Oi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",t="8a7e9c26497bbcdc9141a7bf10d3ed50f729d679",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:115,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:114,column:20}},21:{start:{line:118,column:4},end:{line:118,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:116,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:117,column:2},end:{line:117,column:3}},loc:{start:{line:117,column:11},end:{line:119,column:3}},line:117}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:115,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:114,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAyDM;AAzDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8a7e9c26497bbcdc9141a7bf10d3ed50f729d679"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Oi=function(){return a},a}Oi();const jOe=(Oi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let jy=class extends Mn.Component{childNodes(){var n,r;Oi().f[0]++;const t=(Oi().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(n=this.props.fieldSpec)==null?void 0:n.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:i=>(Oi().f[1]++,Oi().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(Oi().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return Oi().b[0][0]++,Oi().s[4]++,G.jsx(jf,{...t,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":Oi().b[0][1]++;{const i=(Oi().s[5]++,Object.keys((Oi().b[1][0]++,this.props.fieldSpec.values||(Oi().b[1][1]++,[]))).map(o=>(Oi().f[2]++,Oi().s[6]++,[o,yk(o)])));return Oi().s[7]++,G.jsx(Hk,{...t,options:i})}case"resolvedImage":Oi().b[0][2]++;case"formatted":Oi().b[0][3]++;case"string":if(Oi().b[0][4]++,Oi().s[8]++,jOe.indexOf(this.props.fieldName)>=0){Oi().b[2][0]++;const i=(Oi().s[9]++,Oi().b[3][0]++,this.props.fieldSpec.values||(Oi().b[3][1]++,[]));return Oi().s[10]++,G.jsx(bv,{...t,options:i.map(o=>(Oi().f[3]++,Oi().s[11]++,[o,o]))})}else return Oi().b[2][1]++,Oi().s[12]++,G.jsx(jd,{...t});case"color":return Oi().b[0][5]++,Oi().s[13]++,G.jsx(pQ,{...t});case"boolean":return Oi().b[0][6]++,Oi().s[14]++,G.jsx(qk,{...t});case"array":return Oi().b[0][7]++,Oi().s[15]++,this.props.fieldName==="text-font"?(Oi().b[4][0]++,Oi().s[16]++,G.jsx(yQ,{...t,fonts:this.props.fieldSpec.values})):(Oi().b[4][1]++,Oi().s[17]++,this.props.fieldSpec.length?(Oi().b[5][0]++,Oi().s[18]++,G.jsx(mQ,{...t,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(Oi().b[5][1]++,Oi().s[19]++,G.jsx(gQ,{...t,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return Oi().b[0][8]++,Oi().s[20]++,null}}render(){return Oi().f[4]++,Oi().s[21]++,G.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function Ql(){var e="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",t="81a841bc0059d656029a86501c08aa823d58e2d6",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAAgD;AACvD,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81a841bc0059d656029a86501c08aa823d58e2d6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ql=function(){return a},a}Ql();class sb extends Mn.Component{constructor(n){Ql().f[0]++,Ql().s[0]++;super(n);on(this,"_labelId");on(this,"onToggleDoc",(Ql().s[3]++,n=>{Ql().f[1]++,Ql().s[4]++,this.setState({showDoc:n})}));Ql().s[1]++,this._labelId=ov("fieldset_label_"),Ql().s[2]++,this.state={showDoc:!1}}render(){return Ql().f[2]++,Ql().s[5]++,G.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(Ql().b[0][0]++,this.props.fieldSpec&&(Ql().b[0][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:G.jsx(nk,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Ql().b[1][0]++,!this.props.fieldSpec&&(Ql().b[1][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),G.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),G.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(Ql().b[2][0]++,this.props.fieldSpec&&(Ql().b[2][1]++,G.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Ql().b[3][0]++,""):(Ql().b[3][1]++,"none")},children:G.jsx(rk,{fieldSpec:this.props.fieldSpec})})))]})}}function $o(){var e="/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",t="adadf49dc291f98804cd53f74e320ed51f276886",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adadf49dc291f98804cd53f74e320ed51f276886"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return $o=function(){return a},a}$o();const WOe=($o().s[0]++,{color:()=>($o().f[0]++,$o().s[1]++,aa),enum:({fieldSpec:e})=>($o().f[1]++,$o().s[2]++,Object.keys(e.values).length<=3?($o().b[0][0]++,sb):($o().b[0][1]++,aa)),boolean:()=>($o().f[2]++,$o().s[3]++,aa),array:()=>($o().f[3]++,$o().s[4]++,sb),resolvedImage:()=>($o().f[4]++,$o().s[5]++,aa),number:()=>($o().f[5]++,$o().s[6]++,aa),string:()=>($o().f[6]++,$o().s[7]++,aa),formatted:()=>($o().f[7]++,$o().s[8]++,aa),padding:()=>($o().f[8]++,$o().s[9]++,aa)});class NOe extends Mn.Component{render(){var i;$o().f[9]++;const t=($o().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),n=($o().s[11]++,WOe[t]);let r;return $o().s[12]++,n?($o().b[1][0]++,$o().s[13]++,r=n(this.props)):($o().b[1][1]++,$o().s[14]++,console.warn("No such type for '%s'",t),$o().s[15]++,r=aa),$o().s[16]++,G.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:G.jsx(jy,{...this.props})})}}function pc(){var e="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",t="fb167a16b2bc613f08e633cf4dc0232cee30b68f",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:46,column:5}},1:{start:{line:10,column:6},end:{line:18,column:8}},2:{start:{line:19,column:6},end:{line:27,column:8}},3:{start:{line:28,column:6},end:{line:38,column:7}},4:{start:{line:29,column:8},end:{line:37,column:10}},5:{start:{line:39,column:6},end:{line:43,column:11}},6:{start:{line:45,column:6},end:{line:45,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:47,column:3}},line:7}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:46,column:5}},{start:{line:44,column:11},end:{line:46,column:5}}],line:9},1:{loc:{start:{line:28,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:38,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AAyBY,cAsBC,YAtBD;AAzBZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AASjC,qBAAqB,6BAA6B,MAAM,UAAqC;AAAA,EAC3F,SAAS;AACP,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAM;AAAA,YAEN,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb167a16b2bc613f08e633cf4dc0232cee30b68f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return pc=function(){return a},a}pc();class GOe extends Mn.Component{render(){pc().f[0]++;let t,n,r;return pc().s[0]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(pc().b[0][0]++,pc().s[1]++,r=G.jsx(za,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression",children:G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:ab})})}),pc().s[2]++,t=G.jsx(za,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function",children:G.jsx(ate,{})}),pc().s[3]++,this.props.fieldSpec["property-type"]==="data-driven"?(pc().b[1][0]++,pc().s[4]++,n=G.jsx(za,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function",children:G.jsx(ste,{})})):pc().b[1][1]++,pc().s[5]++,G.jsxs("div",{children:[r,n,t]})):(pc().b[0][1]++,pc().s[6]++,G.jsx("div",{children:r}))}}function _f(){var e="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",t="60f6f0f35f3e44d7e7f08e2966cfff09ee69557d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f6f0f35f3e44d7e7f08e2966cfff09ee69557d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return _f=function(){return a},a}_f();class vQ extends Mn.Component{render(){_f().f[0]++;const{errors:t,fieldName:n,fieldType:r}=(_f().s[1]++,this.props),i=(_f().s[2]++,G.jsx(GOe,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(_f().s[3]++,t[r+"."+n]);return _f().s[4]++,G.jsx(NOe,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:ww((_f().b[0][0]++,this.props.fieldName||(_f().b[0][1]++,""))),action:i})}}on(vQ,"defaultProps",(_f().s[0]++,{errors:{}}));function mc(){var e="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",t="e8906f642b33ab7d7a780fc0db870f7e4872d29c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return mc=function(){return a},a}mc();function _Q(e,t){mc().f[0]++;const n=(mc().s[0]++,+e),r=(mc().s[1]++,+t);return mc().s[2]++,n<r?(mc().b[0][0]++,mc().s[3]++,-1):(mc().b[0][1]++,mc().s[4]++,n>r?(mc().b[1][0]++,mc().s[5]++,1):(mc().b[1][1]++,mc().s[6]++,0))}function vh(){var e="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",t="2f98128f0f990b67a049c58486c1fab4310fbcfa",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return vh=function(){return a},a}vh();function Md(e){if(vh().f[0]++,vh().s[0]++,Object.prototype.hasOwnProperty.call(e,"default"))return vh().b[0][0]++,vh().s[1]++,e.default;vh().b[0][1]++;const t=(vh().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return vh().s[3]++,vh().b[1][0]++,t[e.type]||(vh().b[1][1]++,"")}function Q4(){var e="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",t="7dda8ab95b7fe1e03f2205def4590751728cfeac",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:15,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:16,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAQvB,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO;AAAA,QAEP,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7dda8ab95b7fe1e03f2205def4590751728cfeac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Q4=function(){return a},a}Q4();class CQ extends Mn.Component{render(){return Q4().f[0]++,Q4().s[0]++,G.jsx(za,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop",children:G.jsx(mv,{})})}}function Gt(){var e="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",t="232a59a4721428f6ea1780ae642f941986fcb93c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:27,column:3}},1:{start:{line:19,column:4},end:{line:26,column:7}},2:{start:{line:20,column:6},end:{line:25,column:7}},3:{start:{line:21,column:8},end:{line:23,column:9}},4:{start:{line:22,column:10},end:{line:22,column:33}},5:{start:{line:24,column:8},end:{line:24,column:39}},6:{start:{line:28,column:2},end:{line:28,column:17}},7:{start:{line:31,column:10},end:{line:33,column:3}},8:{start:{line:35,column:20},end:{line:35,column:55}},9:{start:{line:36,column:4},end:{line:40,column:5}},10:{start:{line:37,column:6},end:{line:39,column:9}},11:{start:{line:43,column:20},end:{line:43,column:45}},12:{start:{line:44,column:4},end:{line:48,column:5}},13:{start:{line:45,column:6},end:{line:47,column:8}},14:{start:{line:49,column:4},end:{line:49,column:16}},15:{start:{line:52,column:4},end:{line:54,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:4},end:{line:57,column:5}},18:{start:{line:56,column:6},end:{line:56,column:24}},19:{start:{line:58,column:4},end:{line:58,column:25}},20:{start:{line:61,column:4},end:{line:65,column:5}},21:{start:{line:62,column:6},end:{line:62,column:83}},22:{start:{line:64,column:6},end:{line:64,column:53}},23:{start:{line:69,column:26},end:{line:74,column:70}},24:{start:{line:70,column:6},end:{line:73,column:8}},25:{start:{line:74,column:22},end:{line:74,column:69}},26:{start:{line:75,column:20},end:{line:75,column:22}},27:{start:{line:76,column:4},end:{line:78,column:7}},28:{start:{line:77,column:6},end:{line:77,column:30}},29:{start:{line:79,column:4},end:{line:81,column:7}},30:{start:{line:82,column:4},end:{line:82,column:50}},31:{start:{line:82,column:39},end:{line:82,column:48}},32:{start:{line:84,column:13},end:{line:104,column:3}},33:{start:{line:85,column:4},end:{line:102,column:5}},34:{start:{line:86,column:6},end:{line:89,column:8}},35:{start:{line:91,column:24},end:{line:91,column:61}},36:{start:{line:92,column:6},end:{line:101,column:8}},37:{start:{line:103,column:4},end:{line:103,column:42}},38:{start:{line:106,column:18},end:{line:106,column:56}},39:{start:{line:107,column:4},end:{line:113,column:6}},40:{start:{line:114,column:25},end:{line:114,column:53}},41:{start:{line:115,column:25},end:{line:118,column:5}},42:{start:{line:119,column:4},end:{line:119,column:54}},43:{start:{line:122,column:25},end:{line:125,column:5}},44:{start:{line:126,column:4},end:{line:128,column:5}},45:{start:{line:127,column:6},end:{line:127,column:34}},46:{start:{line:129,column:4},end:{line:129,column:60}},47:{start:{line:132,column:4},end:{line:139,column:5}},48:{start:{line:133,column:6},end:{line:133,column:42}},49:{start:{line:135,column:6},end:{line:138,column:9}},50:{start:{line:142,column:4},end:{line:146,column:5}},51:{start:{line:143,column:6},end:{line:143,column:43}},52:{start:{line:145,column:6},end:{line:145,column:40}},53:{start:{line:147,column:4},end:{line:147,column:58}},54:{start:{line:150,column:4},end:{line:152,column:5}},55:{start:{line:151,column:6},end:{line:151,column:78}},56:{start:{line:154,column:4},end:{line:202,column:5}},57:{start:{line:155,column:6},end:{line:201,column:9}},58:{start:{line:156,column:26},end:{line:156,column:77}},59:{start:{line:157,column:20},end:{line:157,column:40}},60:{start:{line:158,column:26},end:{line:158,column:79}},61:{start:{line:159,column:22},end:{line:159,column:29}},62:{start:{line:160,column:46},end:{line:160,column:122}},63:{start:{line:161,column:26},end:{line:166,column:9}},64:{start:{line:165,column:33},end:{line:165,column:97}},65:{start:{line:168,column:8},end:{line:172,column:9}},66:{start:{line:169,column:10},end:{line:169,column:73}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:24},end:{line:173,column:28}},69:{start:{line:174,column:8},end:{line:185,column:9}},70:{start:{line:175,column:10},end:{line:184,column:15}},71:{start:{line:180,column:37},end:{line:180,column:101}},72:{start:{line:186,column:8},end:{line:200,column:18}},73:{start:{line:196,column:41},end:{line:196,column:110}},74:{start:{line:203,column:4},end:{line:303,column:12}},75:{start:{line:214,column:39},end:{line:214,column:67}},76:{start:{line:232,column:43},end:{line:232,column:68}},77:{start:{line:247,column:39},end:{line:247,column:83}},78:{start:{line:263,column:42},end:{line:263,column:85}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:29,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:26,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:22},end:{line:41,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:48},end:{line:50,column:3}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:34},end:{line:59,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:34},end:{line:66,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:26},end:{line:83,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:69,column:36},end:{line:69,column:37}},loc:{start:{line:69,column:51},end:{line:74,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:74,column:69}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:26},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:82,column:29},end:{line:82,column:30}},loc:{start:{line:82,column:39},end:{line:82,column:48}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:84,column:13},end:{line:84,column:14}},loc:{start:{line:84,column:35},end:{line:104,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:41},end:{line:120,column:3}},line:105},13:{name:"(anonymous_13)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:23},end:{line:130,column:3}},line:121},14:{name:"(anonymous_14)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:26},end:{line:140,column:3}},line:131},15:{name:"(anonymous_15)",decl:{start:{line:141,column:2},end:{line:141,column:3}},loc:{start:{line:141,column:40},end:{line:148,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:11},end:{line:304,column:3}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:155,column:46},end:{line:155,column:47}},loc:{start:{line:155,column:61},end:{line:201,column:7}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:33},end:{line:165,column:97}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:37},end:{line:180,column:101}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:24},end:{line:196,column:25}},loc:{start:{line:196,column:41},end:{line:196,column:110}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:39},end:{line:214,column:67}},line:214},22:{name:"(anonymous_22)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:43},end:{line:232,column:68}},line:232},23:{name:"(anonymous_23)",decl:{start:{line:247,column:26},end:{line:247,column:27}},loc:{start:{line:247,column:39},end:{line:247,column:83}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:42},end:{line:263,column:85}},line:263}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:25,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},5:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},6:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},9:{loc:{start:{line:85,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:102,column:5}},{start:{line:90,column:11},end:{line:102,column:5}}],line:85},10:{loc:{start:{line:91,column:24},end:{line:91,column:61}},type:"cond-expr",locations:[{start:{line:91,column:55},end:{line:91,column:57}},{start:{line:91,column:60},end:{line:91,column:61}}],line:91},11:{loc:{start:{line:106,column:18},end:{line:106,column:56}},type:"binary-expr",locations:[{start:{line:106,column:18},end:{line:106,column:50}},{start:{line:106,column:54},end:{line:106,column:56}}],line:106},12:{loc:{start:{line:110,column:14},end:{line:110,column:58}},type:"cond-expr",locations:[{start:{line:110,column:41},end:{line:110,column:42}},{start:{line:110,column:45},end:{line:110,column:58}}],line:110},13:{loc:{start:{line:126,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:126},14:{loc:{start:{line:132,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:139,column:5}},{start:{line:134,column:11},end:{line:139,column:5}}],line:132},15:{loc:{start:{line:132,column:8},end:{line:132,column:70}},type:"binary-expr",locations:[{start:{line:132,column:8},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:70}}],line:132},16:{loc:{start:{line:142,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:146,column:5}},{start:{line:144,column:11},end:{line:146,column:5}}],line:142},17:{loc:{start:{line:150,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},18:{loc:{start:{line:154,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:202,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154},19:{loc:{start:{line:156,column:26},end:{line:156,column:77}},type:"cond-expr",locations:[{start:{line:156,column:56},end:{line:156,column:68}},{start:{line:156,column:71},end:{line:156,column:77}}],line:156},20:{loc:{start:{line:158,column:26},end:{line:158,column:79}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:69}},{start:{line:158,column:72},end:{line:158,column:79}}],line:158},21:{loc:{start:{line:168,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:172,column:9}},{start:{line:170,column:15},end:{line:172,column:9}}],line:168},22:{loc:{start:{line:174,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:185,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},23:{loc:{start:{line:222,column:8},end:{line:237,column:9}},type:"binary-expr",locations:[{start:{line:222,column:8},end:{line:222,column:45}},{start:{line:222,column:65},end:{line:237,column:9}}],line:222},24:{loc:{start:{line:253,column:8},end:{line:268,column:9}},type:"binary-expr",locations:[{start:{line:253,column:8},end:{line:253,column:18}},{start:{line:253,column:38},end:{line:268,column:9}}],line:253},25:{loc:{start:{line:269,column:8},end:{line:277,column:15}},type:"binary-expr",locations:[{start:{line:269,column:8},end:{line:269,column:18}},{start:{line:269,column:38},end:{line:277,column:15}}],line:269},26:{loc:{start:{line:279,column:10},end:{line:289,column:11}},type:"binary-expr",locations:[{start:{line:279,column:10},end:{line:279,column:20}},{start:{line:279,column:40},end:{line:289,column:11}}],line:279}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAkO8B,cA8Bf,YA9Be;AAlO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAElC,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc;AAAA,UACd,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO;AAAA,gBACP,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,yBAAW;AAAA,YACf,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"232a59a4721428f6ea1780ae642f941986fcb93c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gt=function(){return a},a}Gt();function vF(e,t){Gt().f[0]++;let n;return Gt().s[0]++,Gt().b[1][0]++,e.value&&(Gt().b[1][1]++,e.value.stops)?(Gt().b[0][0]++,Gt().s[1]++,e.value.stops.forEach((r,i)=>{Gt().f[1]++,Gt().s[2]++,Object.prototype.hasOwnProperty.call(t.refs,i)?Gt().b[2][1]++:(Gt().b[2][0]++,Gt().s[3]++,n?Gt().b[3][1]++:(Gt().b[3][0]++,Gt().s[4]++,n={...t}),Gt().s[5]++,n[i]=ov("stop-"))})):Gt().b[0][1]++,Gt().s[6]++,n}class QOe extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Gt().s[7]++,{refs:{}}));on(this,"onChange",(Gt().s[32]++,(n,r)=>{if(Gt().f[11]++,Gt().s[33]++,r.type==="identity")Gt().b[9][0]++,Gt().s[34]++,r={type:r.type,property:r.property};else{Gt().b[9][1]++;const i=(Gt().s[35]++,r.type==="categorical"?(Gt().b[10][0]++,""):(Gt().b[10][1]++,0));Gt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},Md(this.props.fieldSpec)],[{zoom:10,value:i},Md(this.props.fieldSpec)]],...r}}Gt().s[37]++,this.props.onChange(n,r)}))}componentDidMount(){Gt().f[2]++;const n=(Gt().s[8]++,vF(this.props,this.state));Gt().s[9]++,n?(Gt().b[4][0]++,Gt().s[10]++,this.setState({refs:n})):Gt().b[4][1]++}static getDerivedStateFromProps(n,r){Gt().f[3]++;const i=(Gt().s[11]++,vF(n,r));return Gt().s[12]++,i?(Gt().b[5][0]++,Gt().s[13]++,{refs:i}):(Gt().b[5][1]++,Gt().s[14]++,null)}getFieldFunctionType(n){return Gt().f[4]++,Gt().s[15]++,n.expression.interpolated?(Gt().b[6][0]++,Gt().s[16]++,"exponential"):(Gt().b[6][1]++,Gt().s[17]++,n.type==="number"?(Gt().b[7][0]++,Gt().s[18]++,"interval"):(Gt().b[7][1]++,Gt().s[19]++,"categorical"))}getDataFunctionTypes(n){return Gt().f[5]++,Gt().s[20]++,n.expression.interpolated?(Gt().b[8][0]++,Gt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Gt().b[8][1]++,Gt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(n){Gt().f[6]++;const r=(Gt().s[23]++,n.map((o,a)=>(Gt().f[7]++,Gt().s[24]++,{ref:this.state.refs[a],data:o})).sort((o,a)=>(Gt().f[8]++,Gt().s[25]++,_Q(o.data[0].zoom,a.data[0].zoom)))),i=(Gt().s[26]++,{});return Gt().s[27]++,r.forEach((o,a)=>{Gt().f[9]++,Gt().s[28]++,i[a]=o.ref}),Gt().s[29]++,this.setState({refs:i}),Gt().s[30]++,r.map(o=>(Gt().f[10]++,Gt().s[31]++,o.data))}changeStop(n,r,i){var h;Gt().f[12]++;const o=(Gt().s[38]++,Gt().b[11][0]++,((h=this.props.value)==null?void 0:h.stops.slice(0))||(Gt().b[11][1]++,[]));Gt().s[39]++,o[n]=[{value:r.value,zoom:r.zoom===void 0?(Gt().b[12][0]++,0):(Gt().b[12][1]++,r.zoom)},i];const a=(Gt().s[40]++,this.orderStopsByZoom(o)),s=(Gt().s[41]++,{...this.props.value,stops:a});Gt().s[42]++,this.onChange(this.props.fieldName,s)}changeBase(n){Gt().f[13]++;const r=(Gt().s[43]++,{...this.props.value,base:n});Gt().s[44]++,r.base===void 0?(Gt().b[13][0]++,Gt().s[45]++,delete r.base):Gt().b[13][1]++,Gt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(n){Gt().f[14]++,Gt().s[47]++,Gt().b[15][0]++,n==="interpolate"&&(Gt().b[15][1]++,this.props.onChangeToZoomFunction)?(Gt().b[14][0]++,Gt().s[48]++,this.props.onChangeToZoomFunction()):(Gt().b[14][1]++,Gt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:n}))}changeDataProperty(n,r){Gt().f[15]++,Gt().s[50]++,r?(Gt().b[16][0]++,Gt().s[51]++,this.props.value[n]=r):(Gt().b[16][1]++,Gt().s[52]++,delete this.props.value[n]),Gt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var r,i,o,a,s,h,g,_;Gt().f[16]++,Gt().s[54]++,typeof((r=this.props.value)==null?void 0:r.type)>"u"?(Gt().b[17][0]++,Gt().s[55]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Gt().b[17][1]++;let n;return Gt().s[56]++,(i=this.props.value)!=null&&i.stops?(Gt().b[18][0]++,Gt().s[57]++,n=this.props.value.stops.map((B,k)=>{var ye,be;Gt().f[17]++;const P=(Gt().s[58]++,typeof B[0]=="object"?(Gt().b[19][0]++,B[0].zoom):(Gt().b[19][1]++,void 0)),F=(Gt().s[59]++,this.state.refs[k]),q=(Gt().s[60]++,typeof B[0]=="object"?(Gt().b[20][0]++,B[0].value):(Gt().b[20][1]++,B[0])),ee=(Gt().s[61]++,B[1]),H=(Gt().s[62]++,G.jsx(CQ,{onClick:(ye=this.props.onDeleteStop)==null?void 0:ye.bind(this,k)})),N=(Gt().s[63]++,{"aria-label":"Input value",label:"Data value",value:q,onChange:J=>(Gt().f[18]++,Gt().s[64]++,this.changeStop(k,{zoom:P,value:J},ee))});let Z;Gt().s[65]++,((be=this.props.value)==null?void 0:be.type)==="categorical"?(Gt().b[21][0]++,Gt().s[66]++,Z=G.jsx(jd,{...N})):(Gt().b[21][1]++,Gt().s[67]++,Z=G.jsx(jf,{...N}));let ue=(Gt().s[68]++,null);return Gt().s[69]++,P!==void 0?(Gt().b[22][0]++,Gt().s[70]++,ue=G.jsx("div",{children:G.jsx(jf,{"aria-label":"Zoom",value:P,onChange:J=>(Gt().f[19]++,Gt().s[71]++,this.changeStop(k,{zoom:J,value:q},ee)),min:0,max:22})})):Gt().b[22][1]++,Gt().s[72]++,G.jsxs("tr",{children:[G.jsx("td",{children:ue}),G.jsx("td",{children:Z}),G.jsx("td",{children:G.jsx(jy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:ee,onChange:(J,se)=>(Gt().f[20]++,Gt().s[73]++,this.changeStop(k,{zoom:P,value:q},se))})}),G.jsx("td",{children:H})]},F)})):Gt().b[18][1]++,Gt().s[74]++,G.jsx("div",{className:"maputnik-data-spec-block",children:G.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[G.jsx("legend",{children:ww(this.props.fieldName)}),G.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[G.jsx(aa,{label:"Function",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(G1,{value:this.props.value.type,onChange:B=>(Gt().f[21]++,Gt().s[75]++,this.changeDataType(B)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Gt().b[23][0]++,((o=this.props.value)==null?void 0:o.type)!=="identity"&&(Gt().b[23][1]++,G.jsx(aa,{label:"Base",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(jy,{fieldName:"base",fieldSpec:no.function.base,value:(a=this.props.value)==null?void 0:a.base,onChange:(B,k)=>(Gt().f[22]++,Gt().s[76]++,this.changeBase(k))})})},"base"))),G.jsx(aa,{label:"Property",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(jd,{value:(s=this.props.value)==null?void 0:s.property,title:"Input a data property to base styles off of.",onChange:B=>(Gt().f[23]++,Gt().s[77]++,this.changeDataProperty("property",B))})})},"property"),(Gt().b[24][0]++,n&&(Gt().b[24][1]++,G.jsx(aa,{label:"Default",children:G.jsx(jy,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(h=this.props.value)==null?void 0:h.default,onChange:(B,k)=>(Gt().f[24]++,Gt().s[78]++,this.changeDataProperty("default",k))})},"default"))),(Gt().b[25][0]++,n&&(Gt().b[25][1]++,G.jsx("div",{className:"maputnik-function-stop",children:G.jsxs("table",{className:"maputnik-function-stop-table",children:[G.jsx("caption",{children:"Stops"}),G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Zoom"}),G.jsx("th",{children:"Input value"}),G.jsx("th",{rowSpan:2,children:"Output value"})]})}),G.jsx("tbody",{children:n})]})}))),G.jsxs("div",{className:"maputnik-toolbox",children:[(Gt().b[26][0]++,n&&(Gt().b[26][1]++,G.jsxs(za,{className:"maputnik-add-stop",onClick:(g=this.props.onAddStop)==null?void 0:g.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:pk})})," Add stop"]}))),G.jsxs(za,{className:"maputnik-add-stop",onClick:(_=this.props.onExpressionClick)==null?void 0:_.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:ab})})," Convert to expression"]})]})]})]})})}}function zn(){var e="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",t="b293261b8db082101e4d8e26898ce3be8cd692d2",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:15,column:16},end:{line:15,column:18}},1:{start:{line:16,column:2},end:{line:27,column:3}},2:{start:{line:17,column:4},end:{line:26,column:7}},3:{start:{line:18,column:6},end:{line:25,column:7}},4:{start:{line:19,column:8},end:{line:21,column:9}},5:{start:{line:20,column:10},end:{line:20,column:33}},6:{start:{line:22,column:8},end:{line:22,column:39}},7:{start:{line:24,column:8},end:{line:24,column:39}},8:{start:{line:28,column:2},end:{line:28,column:17}},9:{start:{line:31,column:24},end:{line:33,column:3}},10:{start:{line:34,column:10},end:{line:36,column:3}},11:{start:{line:38,column:20},end:{line:38,column:55}},12:{start:{line:39,column:4},end:{line:43,column:5}},13:{start:{line:40,column:6},end:{line:42,column:9}},14:{start:{line:46,column:20},end:{line:46,column:45}},15:{start:{line:47,column:4},end:{line:51,column:5}},16:{start:{line:48,column:6},end:{line:50,column:8}},17:{start:{line:52,column:4},end:{line:52,column:16}},18:{start:{line:56,column:26},end:{line:61,column:60}},19:{start:{line:57,column:6},end:{line:60,column:8}},20:{start:{line:61,column:22},end:{line:61,column:59}},21:{start:{line:62,column:20},end:{line:62,column:22}},22:{start:{line:63,column:4},end:{line:65,column:7}},23:{start:{line:64,column:6},end:{line:64,column:30}},24:{start:{line:66,column:4},end:{line:68,column:7}},25:{start:{line:69,column:4},end:{line:69,column:50}},26:{start:{line:69,column:39},end:{line:69,column:48}},27:{start:{line:72,column:18},end:{line:72,column:49}},28:{start:{line:73,column:4},end:{line:73,column:41}},29:{start:{line:74,column:25},end:{line:74,column:53}},30:{start:{line:75,column:25},end:{line:78,column:5}},31:{start:{line:79,column:4},end:{line:79,column:60}},32:{start:{line:82,column:25},end:{line:85,column:5}},33:{start:{line:86,column:4},end:{line:88,column:5}},34:{start:{line:87,column:6},end:{line:87,column:34}},35:{start:{line:89,column:4},end:{line:89,column:60}},36:{start:{line:91,column:19},end:{line:95,column:3}},37:{start:{line:92,column:4},end:{line:94,column:5}},38:{start:{line:93,column:6},end:{line:93,column:46}},39:{start:{line:97,column:23},end:{line:131,column:6}},40:{start:{line:98,column:24},end:{line:98,column:31}},41:{start:{line:99,column:18},end:{line:99,column:38}},42:{start:{line:100,column:20},end:{line:100,column:27}},43:{start:{line:101,column:44},end:{line:101,column:120}},44:{start:{line:102,column:6},end:{line:130,column:8}},45:{start:{line:111,column:43},end:{line:111,column:87}},46:{start:{line:123,column:43},end:{line:123,column:88}},47:{start:{line:132,column:4},end:{line:198,column:12}},48:{start:{line:143,column:39},end:{line:143,column:67}},49:{start:{line:160,column:43},end:{line:160,column:68}},50:{start:{line:201,column:4},end:{line:205,column:5}},51:{start:{line:202,column:6},end:{line:202,column:83}},52:{start:{line:204,column:6},end:{line:204,column:29}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:14,column:9},end:{line:14,column:20}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:17,column:30},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:26,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:22},end:{line:44,column:3}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:48},end:{line:53,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:26},end:{line:70,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:36},end:{line:56,column:37}},loc:{start:{line:56,column:51},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:22},end:{line:61,column:59}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:41},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:39},end:{line:69,column:48}},line:69},9:{name:"(anonymous_9)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:45},end:{line:80,column:3}},line:71},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:90,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:91,column:19},end:{line:91,column:20}},loc:{start:{line:91,column:29},end:{line:95,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:11},end:{line:199,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:66},end:{line:131,column:5}},line:97},14:{name:"(anonymous_14)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:111,column:87}},line:111},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:43},end:{line:123,column:88}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:143,column:26},end:{line:143,column:27}},loc:{start:{line:143,column:39},end:{line:143,column:67}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:160,column:26},end:{line:160,column:27}},loc:{start:{line:160,column:43},end:{line:160,column:68}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:200,column:2},end:{line:200,column:3}},loc:{start:{line:200,column:34},end:{line:206,column:3}},line:200}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:16,column:6},end:{line:16,column:38}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:17}},{start:{line:16,column:21},end:{line:16,column:38}}],line:16},2:{loc:{start:{line:18,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:25,column:7}},{start:{line:23,column:13},end:{line:25,column:7}}],line:18},3:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},4:{loc:{start:{line:39,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},7:{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},8:{loc:{start:{line:92,column:8},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:30}},{start:{line:92,column:34},end:{line:92,column:67}}],line:92},9:{loc:{start:{line:201,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:205,column:5}},{start:{line:203,column:11},end:{line:205,column:5}}],line:201}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA8J2B,cACd,YADc;AA9J3B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAe,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC1F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK;AAAA,MAuBP;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b293261b8db082101e4d8e26898ce3be8cd692d2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zn=function(){return a},a}zn();function _F(e,t){zn().f[0]++;let n=(zn().s[0]++,{});return zn().s[1]++,zn().b[1][0]++,e.value&&(zn().b[1][1]++,e.value.stops)?(zn().b[0][0]++,zn().s[2]++,e.value.stops.forEach((r,i)=>{zn().f[1]++,zn().s[3]++,Object.prototype.hasOwnProperty.call(!t.refs,i)?(zn().b[2][0]++,zn().s[4]++,n?zn().b[3][1]++:(zn().b[3][0]++,zn().s[5]++,n={...t}),zn().s[6]++,n[i]=ov("stop-")):(zn().b[2][1]++,zn().s[7]++,n[i]=t.refs[i])})):zn().b[0][1]++,zn().s[8]++,n}class bQ extends Mn.Component{constructor(){super(...arguments);on(this,"state",(zn().s[10]++,{refs:{}}));on(this,"changeDataType",(zn().s[36]++,n=>{zn().f[11]++,zn().s[37]++,zn().b[8][0]++,n!=="interpolate"&&(zn().b[8][1]++,this.props.onChangeToDataFunction)?(zn().b[7][0]++,zn().s[38]++,this.props.onChangeToDataFunction(n)):zn().b[7][1]++}))}componentDidMount(){zn().f[2]++;const n=(zn().s[11]++,_F(this.props,this.state));zn().s[12]++,n?(zn().b[4][0]++,zn().s[13]++,this.setState({refs:n})):zn().b[4][1]++}static getDerivedStateFromProps(n,r){zn().f[3]++;const i=(zn().s[14]++,_F(n,r));return zn().s[15]++,i?(zn().b[5][0]++,zn().s[16]++,{refs:i}):(zn().b[5][1]++,zn().s[17]++,null)}orderStopsByZoom(n){zn().f[4]++;const r=(zn().s[18]++,n.map((o,a)=>(zn().f[5]++,zn().s[19]++,{ref:this.state.refs[a],data:o})).sort((o,a)=>(zn().f[6]++,zn().s[20]++,_Q(o.data[0],a.data[0])))),i=(zn().s[21]++,{});return zn().s[22]++,r.forEach((o,a)=>{zn().f[7]++,zn().s[23]++,i[a]=o.ref}),zn().s[24]++,this.setState({refs:i}),zn().s[25]++,r.map(o=>(zn().f[8]++,zn().s[26]++,o.data))}changeZoomStop(n,r,i){zn().f[9]++;const o=(zn().s[27]++,this.props.value.stops.slice(0));zn().s[28]++,o[n]=[r,i];const a=(zn().s[29]++,this.orderStopsByZoom(o)),s=(zn().s[30]++,{...this.props.value,stops:a});zn().s[31]++,this.props.onChange(this.props.fieldName,s)}changeBase(n){zn().f[10]++;const r=(zn().s[32]++,{...this.props.value,base:n});zn().s[33]++,r.base===void 0?(zn().b[6][0]++,zn().s[34]++,delete r.base):zn().b[6][1]++,zn().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var r,i,o,a;zn().f[12]++;const n=(zn().s[39]++,(r=this.props.value)==null?void 0:r.stops.map((s,h)=>{var P;zn().f[13]++;const g=(zn().s[40]++,s[0]),_=(zn().s[41]++,this.state.refs[h]),B=(zn().s[42]++,s[1]),k=(zn().s[43]++,G.jsx(CQ,{onClick:(P=this.props.onDeleteStop)==null?void 0:P.bind(this,h)}));return zn().s[44]++,G.jsxs("tr",{children:[G.jsx("td",{children:G.jsx(jf,{"aria-label":"Zoom",value:g,onChange:F=>(zn().f[14]++,zn().s[45]++,this.changeZoomStop(h,F,B)),min:0,max:22})}),G.jsx("td",{children:G.jsx(jy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:B,onChange:(F,q)=>(zn().f[15]++,zn().s[46]++,this.changeZoomStop(h,g,q))})}),G.jsx("td",{children:k})]},_)}));return zn().s[47]++,G.jsx("div",{className:"maputnik-data-spec-block",children:G.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[G.jsx("legend",{children:ww(this.props.fieldName)}),G.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[G.jsx(aa,{label:"Function",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(G1,{value:"interpolate",onChange:s=>(zn().f[16]++,zn().s[48]++,this.changeDataType(s)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),G.jsx(aa,{label:"Base",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(jy,{fieldName:"base",fieldSpec:no.function.base,value:(i=this.props.value)==null?void 0:i.base,onChange:(s,h)=>(zn().f[17]++,zn().s[49]++,this.changeBase(h))})})}),G.jsx("div",{className:"maputnik-function-stop",children:G.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[G.jsx("caption",{children:"Stops"}),G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Zoom"}),G.jsx("th",{rowSpan:2,children:"Output value"})]})}),G.jsx("tbody",{children:n})]})}),G.jsxs("div",{className:"maputnik-toolbox",children:[G.jsxs(za,{className:"maputnik-add-stop",onClick:(o=this.props.onAddStop)==null?void 0:o.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:pk})})," Add stop"]}),G.jsxs(za,{className:"maputnik-add-stop",onClick:(a=this.props.onExpressionClick)==null?void 0:a.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:ab})})," Convert to expression"]})]})]})]})})}getDataFunctionTypes(n){return zn().f[18]++,zn().s[50]++,n["property-type"]==="data-driven"?(zn().b[9][0]++,zn().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(zn().b[9][1]++,zn().s[52]++,["interpolate"])}}on(bQ,"defaultProps",(zn().s[9]++,{errors:{}}));function ct(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",t="435f90d980cace940b69ce8c0aa30d2fab175109",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA2B,OAA2B;AAEpF,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"435f90d980cace940b69ce8c0aa30d2fab175109"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ct=function(){return a},a}ct();function CF(e){return ct().f[0]++,ct().s[0]++,ct().b[0][0]++,Array.isArray(e)&&(ct().b[0][1]++,e.length===2)&&(ct().b[0][2]++,e[0]==="literal")}function bF(e){return ct().f[1]++,ct().s[1]++,ct().b[1][0]++,Array.isArray(e)&&(ct().b[1][1]++,e.length===2)&&(ct().b[1][2]++,e[0]==="get")}function $Oe(e){return ct().f[2]++,ct().s[2]++,ct().b[2][0]++,typeof e=="object"&&(ct().b[2][1]++,e.stops)&&(ct().b[2][2]++,typeof e.property>"u")&&(ct().b[2][3]++,Array.isArray(e.stops))&&(ct().b[2][4]++,e.stops.length>1)&&(ct().b[2][5]++,e.stops.every(t=>(ct().f[3]++,ct().s[3]++,ct().b[3][0]++,Array.isArray(t)&&(ct().b[3][1]++,t.length===2))))}function xQ(e){return ct().f[4]++,ct().s[4]++,ct().b[4][0]++,typeof e=="object"&&(ct().b[4][1]++,e.type==="identity")&&(ct().b[4][2]++,Object.prototype.hasOwnProperty.call(e,"property"))}function YOe(e){return ct().f[5]++,ct().s[5]++,ct().b[5][0]++,typeof e=="object"&&(ct().b[5][1]++,e.stops)&&(ct().b[5][2]++,typeof e.property<"u")&&(ct().b[5][3]++,e.stops.length>1)&&(ct().b[5][4]++,Array.isArray(e.stops))&&(ct().b[5][5]++,e.stops.every(t=>(ct().f[6]++,ct().s[6]++,ct().b[6][0]++,Array.isArray(t)&&(ct().b[6][1]++,t.length===2)&&(ct().b[6][2]++,typeof t[0]=="object"))))}function qOe(e){return ct().f[7]++,ct().s[7]++,ct().b[7][0]++,xQ(e)||(ct().b[7][1]++,YOe(e))}function Zk(e){ct().f[8]++;const t=(ct().s[8]++,["string","boolean","number"]);return ct().s[9]++,t.includes(typeof e)}function HOe(e){return ct().f[9]++,ct().s[10]++,Array.isArray(e)?(ct().b[8][0]++,ct().s[11]++,e.every(Zk)):(ct().b[8][1]++,ct().s[12]++,!1)}function xF(e,t=(ct().b[9][0]++,{})){return ct().f[10]++,ct().s[13]++,e===void 0?(ct().b[10][0]++,ct().s[14]++,"value"):(ct().b[10][1]++,ct().s[15]++,Zk(e)?(ct().b[11][0]++,ct().s[16]++,"value"):(ct().b[11][1]++,ct().s[17]++,ct().b[13][0]++,t.type==="array"&&(ct().b[13][1]++,HOe(e))?(ct().b[12][0]++,ct().s[18]++,"value"):(ct().b[12][1]++,ct().s[19]++,$Oe(e)?(ct().b[14][0]++,ct().s[20]++,"zoom_function"):(ct().b[14][1]++,ct().s[21]++,qOe(e)?(ct().b[15][0]++,ct().s[22]++,"data_function"):(ct().b[15][1]++,ct().s[23]++,"expression")))))}class VOe extends Mn.Component{constructor(n){ct().f[11]++,ct().s[24]++;super(n);on(this,"addStop",(ct().s[34]++,()=>{ct().f[14]++;const n=(ct().s[35]++,this.props.value.stops.slice(0)),r=(ct().s[36]++,n[n.length-1]);ct().s[37]++,typeof r[0]=="object"?(ct().b[19][0]++,ct().s[38]++,n.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(ct().b[19][1]++,ct().s[39]++,n.push([r[0]+1,r[1]]));const i=(ct().s[40]++,{...this.props.value,stops:n});ct().s[41]++,this.props.onChange(this.props.fieldName,i)}));on(this,"deleteExpression",(ct().s[42]++,()=>{ct().f[15]++;const{fieldSpec:n,fieldName:r}=(ct().s[43]++,this.props);ct().s[44]++,this.props.onChange(r,n.default),ct().s[45]++,this.setState({dataType:"value"})}));on(this,"deleteStop",(ct().s[46]++,n=>{ct().f[16]++;const r=(ct().s[47]++,this.props.value.stops.slice(0));ct().s[48]++,r.splice(n,1);let i=(ct().s[49]++,{...this.props.value,stops:r});ct().s[50]++,r.length===1?(ct().b[20][0]++,ct().s[51]++,i=r[0][1]):ct().b[20][1]++,ct().s[52]++,this.props.onChange(this.props.fieldName,i)}));on(this,"makeZoomFunction",(ct().s[53]++,()=>{ct().f[17]++;const{value:n}=(ct().s[54]++,this.props);let r;ct().s[55]++,typeof n=="object"?(ct().b[21][0]++,ct().s[56]++,n.stops?(ct().b[22][0]++,ct().s[57]++,r={base:n.base,stops:n.stops.map(i=>(ct().f[18]++,ct().s[58]++,[i[0].zoom,(ct().b[23][0]++,i[1]||(ct().b[23][1]++,Md(this.props.fieldSpec)))]))}):(ct().b[22][1]++,ct().s[59]++,r={base:n.base,stops:[[6,Md(this.props.fieldSpec)],[10,Md(this.props.fieldSpec)]]})):(ct().b[21][1]++,ct().s[60]++,r={stops:[[6,(ct().b[24][0]++,n||(ct().b[24][1]++,Md(this.props.fieldSpec)))],[10,(ct().b[25][0]++,n||(ct().b[25][1]++,Md(this.props.fieldSpec)))]]}),ct().s[61]++,this.props.onChange(this.props.fieldName,r)}));on(this,"undoExpression",(ct().s[62]++,()=>{ct().f[19]++;const{value:n,fieldName:r}=(ct().s[63]++,this.props);ct().s[64]++,bF(n)?(ct().b[26][0]++,ct().s[65]++,this.props.onChange(r,{type:"identity",property:n[1]}),ct().s[66]++,this.setState({dataType:"value"})):(ct().b[26][1]++,ct().s[67]++,CF(n)?(ct().b[27][0]++,ct().s[68]++,this.props.onChange(r,n[1]),ct().s[69]++,this.setState({dataType:"value"})):ct().b[27][1]++)}));on(this,"canUndo",(ct().s[70]++,()=>{ct().f[20]++;const{value:n,fieldSpec:r}=(ct().s[71]++,this.props);return ct().s[72]++,ct().b[28][0]++,bF(n)||(ct().b[28][1]++,CF(n))||(ct().b[28][2]++,Zk(n))||(ct().b[28][3]++,Array.isArray(n)&&(ct().b[28][4]++,r.type==="array"))}));on(this,"makeExpression",(ct().s[73]++,()=>{ct().f[21]++;const{value:n,fieldSpec:r}=(ct().s[74]++,this.props);let i;ct().s[75]++,ct().b[30][0]++,typeof n=="object"&&(ct().b[30][1]++,"stops"in n)?(ct().b[29][0]++,ct().s[76]++,i=Cee.convertFunction(n,r)):(ct().b[29][1]++,ct().s[77]++,xQ(n)?(ct().b[31][0]++,ct().s[78]++,i=["get",n.property]):(ct().b[31][1]++,ct().s[79]++,i=["literal",(ct().b[32][0]++,n||(ct().b[32][1]++,this.props.fieldSpec.default))])),ct().s[80]++,this.props.onChange(this.props.fieldName,i)}));on(this,"makeDataFunction",(ct().s[81]++,()=>{ct().f[22]++;const n=(ct().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(ct().s[83]++,n==="categorical"?(ct().b[33][0]++,""):(ct().b[33][1]++,0)),{value:i}=(ct().s[84]++,this.props);let o;ct().s[85]++,typeof i=="object"?(ct().b[34][0]++,ct().s[86]++,i.stops?(ct().b[35][0]++,ct().s[87]++,o={property:"",type:n,base:i.base,stops:i.stops.map(a=>(ct().f[23]++,ct().s[88]++,[{zoom:a[0],value:r},(ct().b[36][0]++,a[1]||(ct().b[36][1]++,Md(this.props.fieldSpec)))]))}):(ct().b[35][1]++,ct().s[89]++,o={property:"",type:n,base:i.base,stops:[[{zoom:6,value:r},Md(this.props.fieldSpec)],[{zoom:10,value:r},Md(this.props.fieldSpec)]]})):(ct().b[34][1]++,ct().s[90]++,o={property:"",type:n,base:i.base,stops:[[{zoom:6,value:r},(ct().b[37][0]++,this.props.value||(ct().b[37][1]++,Md(this.props.fieldSpec)))],[{zoom:10,value:r},(ct().b[38][0]++,this.props.value||(ct().b[38][1]++,Md(this.props.fieldSpec)))]]}),ct().s[91]++,this.props.onChange(this.props.fieldName,o)}));on(this,"onMarkEditing",(ct().s[92]++,()=>{ct().f[24]++,ct().s[93]++,this.setState({isEditing:!0})}));on(this,"onUnmarkEditing",(ct().s[94]++,()=>{ct().f[25]++,ct().s[95]++,this.setState({isEditing:!1})}));ct().s[25]++,this.state={dataType:xF(n.value,n.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(n,r){return ct().f[12]++,ct().s[26]++,r.isEditing?(ct().b[16][0]++,ct().s[27]++,{}):(ct().b[16][1]++,ct().s[28]++,{isEditing:!1,dataType:xF(n.value,n.fieldSpec)})}getFieldFunctionType(n){return ct().f[13]++,ct().s[29]++,n.expression.interpolated?(ct().b[17][0]++,ct().s[30]++,"exponential"):(ct().b[17][1]++,ct().s[31]++,n.type==="number"?(ct().b[18][0]++,ct().s[32]++,"interval"):(ct().b[18][1]++,ct().s[33]++,"categorical"))}render(){ct().f[26]++;const{dataType:n}=(ct().s[96]++,this.state),r=(ct().s[97]++,this.props.fieldSpec.default===this.props.value?(ct().b[39][0]++,"maputnik-default-property"):(ct().b[39][1]++,"maputnik-modified-property"));let i;return ct().s[98]++,n==="expression"?(ct().b[40][0]++,ct().s[99]++,i=G.jsx(vk,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(ct().b[40][1]++,ct().s[100]++,n==="zoom_function"?(ct().b[41][0]++,ct().s[101]++,i=G.jsx(bQ,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(ct().b[41][1]++,ct().s[102]++,n==="data_function"?(ct().b[42][0]++,ct().s[103]++,i=G.jsx(QOe,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(ct().b[42][1]++,ct().s[104]++,i=G.jsx(vQ,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),ct().s[105]++,G.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function Bi(){var e="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",t="411d3be261f729b266d6cb26884b34616b925c83",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"411d3be261f729b266d6cb26884b34616b925c83"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Bi=function(){return a},a}Bi();const ZOe=(Bi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function XOe(e,t,n){Bi().f[0]++;const r=(Bi().s[1]++,wQ(e,t,n)),i=(Bi().s[2]++,e[r+"_"+t]),o=(Bi().s[3]++,i[n]);return Bi().s[4]++,ZOe.indexOf(n)>=0?(Bi().b[0][0]++,Bi().s[5]++,{...o,values:e.$root.sprite.values}):(Bi().b[0][1]++,Bi().s[6]++,n==="text-font"?(Bi().b[1][0]++,Bi().s[7]++,{...o,values:e.$root.glyphs.values}):(Bi().b[1][1]++,Bi().s[8]++,o))}function wQ(e,t,n){Bi().f[1]++;const r=(Bi().s[9]++,Bi().b[2][0]++,e["paint_"+t]||(Bi().b[2][1]++,{}));return Bi().s[10]++,n in r?(Bi().b[3][0]++,Bi().s[11]++,"paint"):(Bi().b[3][1]++,Bi().s[12]++,"layout")}class JOe extends Mn.Component{constructor(){super(...arguments);on(this,"onPropertyChange",(Bi().s[13]++,(n,r)=>{Bi().f[2]++;const i=(Bi().s[14]++,wQ(this.props.spec,this.props.layer.type,n));Bi().s[15]++,this.props.onChange(i,n,r)}))}render(){Bi().f[3]++;const{errors:n}=(Bi().s[16]++,this.props),r=(Bi().s[17]++,this.props.groupFields.map(i=>{Bi().f[4]++;const o=(Bi().s[18]++,XOe(this.props.spec,this.props.layer.type,i)),a=(Bi().s[19]++,Bi().b[4][0]++,this.props.layer.paint||(Bi().b[4][1]++,{})),s=(Bi().s[20]++,Bi().b[5][0]++,this.props.layer.layout||(Bi().b[5][1]++,{})),h=(Bi().s[21]++,i in a?(Bi().b[6][0]++,a[i]):(Bi().b[6][1]++,s[i])),g=(Bi().s[22]++,i in a?(Bi().b[7][0]++,"paint"):(Bi().b[7][1]++,"layout"));return Bi().s[23]++,G.jsx(VOe,{errors:n,onChange:this.onPropertyChange,fieldName:i,value:h,fieldType:g,fieldSpec:o},i)}));return Bi().s[24]++,G.jsx("div",{className:"maputnik-property-group",children:r})}}var eBe=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var a in r)n.d(o,a,(function(s){return r[s]}).bind(null,a));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=2)}([function(e,t){e.exports=kh},function(e,t){e.exports=kr},function(e,t,n){n.r(t);var r=n(1),i=n(0),o=function(){return(o=Object.assign||function(F){for(var q,ee=1,H=arguments.length;ee<H;ee++)for(var N in q=arguments[ee])Object.prototype.hasOwnProperty.call(q,N)&&(F[N]=q[N]);return F}).apply(this,arguments)},a=function(F,q){var ee={};for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&q.indexOf(H)<0&&(ee[H]=F[H]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(H=Object.getOwnPropertySymbols(F);N<H.length;N++)q.indexOf(H[N])<0&&Object.prototype.propertyIsEnumerable.call(F,H[N])&&(ee[H[N]]=F[H[N]])}return ee},s=0,h=r.forwardRef(function(F,q){var ee=F.title,H=ee===void 0?null:ee,N=F.description,Z=N===void 0?null:N,ue=F.size,ye=ue===void 0?null:ue,be=F.color,J=be===void 0?"currentColor":be,se=F.horizontal,xe=se===void 0?null:se,Se=F.vertical,De=Se===void 0?null:Se,Le=F.rotate,he=Le===void 0?null:Le,qe=F.spin,ge=qe===void 0?null:qe,_t=F.style,Mt=_t===void 0?{}:_t,dt=F.children,mt=a(F,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);s++;var je,Ve=ge!==null&&ge,Xe=r.Children.map(dt,function(Qt){var $t=Qt;Ve!==!0&&(Ve=(ge===null?$t.props.spin:ge)===!0);var Ie=$t.props.size;typeof ye=="number"&&typeof $t.props.size=="number"&&(Ie=$t.props.size/ye);var pe={size:Ie,color:J===null?$t.props.color:J,horizontal:xe===null?$t.props.horizontal:xe,vertical:De===null?$t.props.vertical:De,rotate:he===null?$t.props.rotate:he,spin:ge===null?$t.props.spin:ge,inStack:!0};return r.cloneElement($t,pe)});ye!==null&&(Mt.width=typeof ye=="string"?ye:1.5*ye+"rem");var Jt,Ht="stack_labelledby_"+s,Ct="stack_describedby_"+s;if(H)je=Z?Ht+" "+Ct:Ht;else if(Jt="presentation",Z)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:q,viewBox:"0 0 24 24",style:Mt,role:Jt,"aria-labelledby":je},mt),H&&r.createElement("title",{id:Ht},H),Z&&r.createElement("desc",{id:Ct},Z),Ve&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),Xe)});h.displayName="Stack",h.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},h.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=h;n.d(t,"Icon",function(){return P}),n.d(t,"Stack",function(){return g});var _=function(){return(_=Object.assign||function(F){for(var q,ee=1,H=arguments.length;ee<H;ee++)for(var N in q=arguments[ee])Object.prototype.hasOwnProperty.call(q,N)&&(F[N]=q[N]);return F}).apply(this,arguments)},B=function(F,q){var ee={};for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&q.indexOf(H)<0&&(ee[H]=F[H]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(H=Object.getOwnPropertySymbols(F);N<H.length;N++)q.indexOf(H[N])<0&&Object.prototype.propertyIsEnumerable.call(F,H[N])&&(ee[H[N]]=F[H[N]])}return ee},k=0,P=r.forwardRef(function(F,q){var ee=F.path,H=F.id,N=H===void 0?++k:H,Z=F.title,ue=Z===void 0?null:Z,ye=F.description,be=ye===void 0?null:ye,J=F.size,se=J===void 0?null:J,xe=F.color,Se=xe===void 0?"currentColor":xe,De=F.horizontal,Le=De!==void 0&&De,he=F.vertical,qe=he!==void 0&&he,ge=F.rotate,_t=ge===void 0?0:ge,Mt=F.spin,dt=Mt!==void 0&&Mt,mt=F.style,je=mt===void 0?{}:mt,Ve=F.inStack,Xe=Ve!==void 0&&Ve,Jt=B(F,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),Ht={},Ct=[];se!==null&&(Xe?Ct.push("scale("+se+")"):(je.width=typeof se=="string"?se:1.5*se+"rem",je.height=je.width)),Le&&Ct.push("scaleX(-1)"),qe&&Ct.push("scaleY(-1)"),_t!==0&&Ct.push("rotate("+_t+"deg)"),Se!==null&&(Ht.fill=Se);var Qt=r.createElement("path",_({d:ee,style:Ht},Xe?Jt:{})),$t=Qt;Ct.length>0&&(je.transform=Ct.join(" "),je.transformOrigin="center",Xe&&($t=r.createElement("g",{style:je},Qt,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var Ie,pe=$t,Me=dt===!0||typeof dt!="number"?2:dt,Re=!Xe&&(Le||qe);if(Me<0&&(Re=!Re),dt&&(pe=r.createElement("g",{style:{animation:"spin"+(Re?"-inverse":"")+" linear "+Math.abs(Me)+"s infinite",transformOrigin:"center"}},$t,!(Le||qe||_t!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),Xe)return pe;var it,ot="icon_labelledby_"+N,St="icon_describedby_"+N;if(ue)Ie=be?ot+" "+St:ot;else if(it="presentation",be)throw new Error("title attribute required when description is set");return r.createElement("svg",_({ref:q,viewBox:"0 0 24 24",style:je,role:it,"aria-labelledby":Ie},Jt),ue&&r.createElement("title",{id:ot},ue),be&&r.createElement("desc",{id:St},be),!Xe&&dt&&(Re?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),pe)});P.displayName="Icon",P.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},P.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=P}]);const wF=Oa(eBe);function gy(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",t="2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return gy=function(){return a},a}gy();class tBe extends Mn.Component{render(){return gy().f[0]++,gy().s[0]++,G.jsxs(GN,{uuid:this.props.id,children:[G.jsx(YN,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:t=>(gy().f[1]++,gy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:G.jsxs(k0e,{className:"maputnik-layer-editor-group__button",children:[G.jsx("span",{style:{flexGrow:1},children:this.props.title}),G.jsx(wF,{path:j0e,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),G.jsx(wF,{path:z0e,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),G.jsx(P0e,{children:this.props.children})]})}}function $4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",t="1854bc9345eba3b5ee508193a6378533df537e7e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1854bc9345eba3b5ee508193a6378533df537e7e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return $4=function(){return a},a}$4();class nBe extends Mn.Component{render(){return $4().f[0]++,$4().s[0]++,G.jsx(aa,{label:"Min Zoom",fieldSpec:no.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:G.jsx(jf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:no.layer.minzoom.minimum,max:no.layer.minzoom.maximum,default:no.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}function Y4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",t="8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Y4=function(){return a},a}Y4();class rBe extends Mn.Component{render(){return Y4().f[0]++,Y4().s[0]++,G.jsx(aa,{label:"Max Zoom",fieldSpec:no.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:G.jsx(jf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:no.layer.maxzoom.minimum,max:no.layer.maxzoom.maximum,default:no.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}function hC(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",t="78f2f7c5d70fb12fc1126c8cf454a217776b6a18",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:7,column:22},end:{line:9,column:5}},1:{start:{line:10,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:29,column:3}},line:6}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAuBM;AAvBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,KAAK;AAAA,IACP;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAQ;AAAA,YACR,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"78f2f7c5d70fb12fc1126c8cf454a217776b6a18"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return hC=function(){return a},a}hC();class iBe extends Mn.Component{render(){hC().f[0]++;const t=(hC().s[0]++,{doc:"Comments for the current layer. This is non-standard and not in the spec."});return hC().s[1]++,G.jsx(aa,{label:"Comments",fieldSpec:t,"data-wd-key":"layer-comment",error:this.props.error,children:G.jsx(jd,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment...","data-wd-key":"layer-comment.input"})})}}const oBe={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},aBe={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},sBe={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},lBe={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},uBe={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},ABe={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},cBe={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},dBe={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},hBe={groups:[]},a6={line:oBe,background:aBe,fill:sBe,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:lBe,symbol:uBe,raster:ABe,hillshade:cBe,heatmap:dBe,invalid:hBe};function yy(){var e="/home/runner/work/maputnik/maputnik/src/libs/format.ts",t="c45fbfac66e994b59070a295e5a7f219cd5d66ac",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return yy=function(){return a},a}yy();function MQ(e){return yy().f[0]++,yy().s[0]++,e===""?(yy().b[0][0]++,"[empty_string]"):(yy().b[0][1]++,`'${e}'`)}function ln(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",t="13cf530347fd66324a92f0d1d210d94f3d2129c4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:54}},1:{start:{line:25,column:21},end:{line:28,column:3}},2:{start:{line:29,column:22},end:{line:32,column:3}},3:{start:{line:33,column:22},end:{line:36,column:3}},4:{start:{line:37,column:2},end:{line:37,column:100}},5:{start:{line:40,column:24},end:{line:47,column:3}},6:{start:{line:48,column:29},end:{line:50,column:3}},7:{start:{line:52,column:4},end:{line:52,column:17}},8:{start:{line:53,column:25},end:{line:53,column:27}},9:{start:{line:54,column:4},end:{line:56,column:7}},10:{start:{line:55,column:6},end:{line:55,column:39}},11:{start:{line:57,column:4},end:{line:57,column:34}},12:{start:{line:60,column:29},end:{line:60,column:54}},13:{start:{line:61,column:4},end:{line:65,column:7}},14:{start:{line:62,column:6},end:{line:64,column:7}},15:{start:{line:63,column:8},end:{line:63,column:45}},16:{start:{line:66,column:4},end:{line:68,column:6}},17:{start:{line:71,column:4},end:{line:76,column:6}},18:{start:{line:79,column:4},end:{line:82,column:6}},19:{start:{line:85,column:32},end:{line:88,column:5}},20:{start:{line:89,column:4},end:{line:91,column:7}},21:{start:{line:94,column:18},end:{line:94,column:20}},22:{start:{line:95,column:4},end:{line:97,column:5}},23:{start:{line:96,column:6},end:{line:96,column:62}},24:{start:{line:98,column:35},end:{line:98,column:45}},25:{start:{line:99,column:22},end:{line:99,column:24}},26:{start:{line:100,column:4},end:{line:106,column:7}},27:{start:{line:101,column:6},end:{line:105,column:7}},28:{start:{line:102,column:8},end:{line:104,column:10}},29:{start:{line:108,column:18},end:{line:108,column:34}},30:{start:{line:109,column:4},end:{line:111,column:5}},31:{start:{line:110,column:6},end:{line:110,column:63}},32:{start:{line:112,column:4},end:{line:215,column:5}},33:{start:{line:114,column:8},end:{line:178,column:13}},34:{start:{line:121,column:35},end:{line:121,column:112}},35:{start:{line:130,column:37},end:{line:133,column:15}},36:{start:{line:142,column:31},end:{line:142,column:69}},37:{start:{line:151,column:31},end:{line:151,column:75}},38:{start:{line:159,column:31},end:{line:159,column:70}},39:{start:{line:167,column:31},end:{line:167,column:70}},40:{start:{line:175,column:31},end:{line:175,column:104}},41:{start:{line:180,column:8},end:{line:188,column:16}},42:{start:{line:186,column:29},end:{line:186,column:67}},43:{start:{line:190,column:8},end:{line:199,column:10}},44:{start:{line:201,column:8},end:{line:212,column:10}},45:{start:{line:206,column:14},end:{line:209,column:16}},46:{start:{line:214,column:8},end:{line:214,column:49}},47:{start:{line:218,column:4},end:{line:221,column:7}},48:{start:{line:224,column:21},end:{line:224,column:23}},49:{start:{line:225,column:22},end:{line:225,column:43}},50:{start:{line:226,column:19},end:{line:243,column:6}},51:{start:{line:227,column:6},end:{line:227,column:70}},52:{start:{line:229,column:22},end:{line:229,column:52}},53:{start:{line:230,column:6},end:{line:230,column:29}},54:{start:{line:231,column:6},end:{line:242,column:8}},55:{start:{line:244,column:20},end:{line:244,column:49}},56:{start:{line:245,column:18},end:{line:270,column:5}},57:{start:{line:248,column:23},end:{line:248,column:71}},58:{start:{line:252,column:23},end:{line:252,column:68}},59:{start:{line:256,column:23},end:{line:256,column:80}},60:{start:{line:262,column:23},end:{line:262,column:41}},61:{start:{line:268,column:23},end:{line:268,column:40}},62:{start:{line:272,column:6},end:{line:272,column:30}},63:{start:{line:273,column:6},end:{line:273,column:26}},64:{start:{line:275,column:4},end:{line:314,column:6}},65:{start:{line:296,column:33},end:{line:296,column:42}},66:{start:{line:297,column:20},end:{line:297,column:174}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},1:{name:"layoutGroups",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:33},end:{line:38,column:1}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:26},end:{line:42,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:27},end:{line:44,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:28},end:{line:46,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:21},end:{line:58,column:3}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:54,column:48},end:{line:54,column:49}},loc:{start:{line:54,column:59},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:48},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:61,column:54},end:{line:61,column:55}},loc:{start:{line:61,column:65},end:{line:65,column:5}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:77,column:3}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:44},end:{line:83,column:3}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:36},end:{line:92,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:32},end:{line:216,column:3}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:100,column:19},end:{line:100,column:20}},loc:{start:{line:100,column:30},end:{line:106,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:121,column:24},end:{line:121,column:25}},loc:{start:{line:121,column:35},end:{line:121,column:112}},line:121},15:{name:"(anonymous_15)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:37},end:{line:133,column:15}},line:130},16:{name:"(anonymous_16)",decl:{start:{line:142,column:24},end:{line:142,column:25}},loc:{start:{line:142,column:31},end:{line:142,column:69}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:151,column:24},end:{line:151,column:25}},loc:{start:{line:151,column:31},end:{line:151,column:75}},line:151},18:{name:"(anonymous_18)",decl:{start:{line:159,column:24},end:{line:159,column:25}},loc:{start:{line:159,column:31},end:{line:159,column:70}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:31},end:{line:167,column:70}},line:167},20:{name:"(anonymous_20)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:31},end:{line:175,column:104}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:186,column:22},end:{line:186,column:23}},loc:{start:{line:186,column:29},end:{line:186,column:67}},line:186},22:{name:"(anonymous_22)",decl:{start:{line:205,column:22},end:{line:205,column:23}},loc:{start:{line:205,column:34},end:{line:210,column:13}},line:205},23:{name:"(anonymous_23)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:20},end:{line:222,column:3}},line:217},24:{name:"(anonymous_24)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:11},end:{line:315,column:3}},line:223},25:{name:"(anonymous_25)",decl:{start:{line:226,column:50},end:{line:226,column:51}},loc:{start:{line:226,column:61},end:{line:228,column:5}},line:226},26:{name:"(anonymous_26)",decl:{start:{line:228,column:11},end:{line:228,column:12}},loc:{start:{line:228,column:22},end:{line:243,column:5}},line:228},27:{name:"(anonymous_27)",decl:{start:{line:248,column:17},end:{line:248,column:18}},loc:{start:{line:248,column:23},end:{line:248,column:71}},line:248},28:{name:"(anonymous_28)",decl:{start:{line:252,column:17},end:{line:252,column:18}},loc:{start:{line:252,column:23},end:{line:252,column:68}},line:252},29:{name:"(anonymous_29)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:23},end:{line:256,column:80}},line:256},30:{name:"(anonymous_30)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:41}},line:262},31:{name:"(anonymous_31)",decl:{start:{line:268,column:17},end:{line:268,column:18}},loc:{start:{line:268,column:23},end:{line:268,column:40}},line:268},32:{name:"handleSelection",decl:{start:{line:271,column:13},end:{line:271,column:28}},loc:{start:{line:271,column:40},end:{line:274,column:5}},line:271},33:{name:"(anonymous_33)",decl:{start:{line:295,column:147},end:{line:295,column:148}},loc:{start:{line:295,column:155},end:{line:298,column:19}},line:295}},branchMap:{0:{loc:{start:{line:22,column:9},end:{line:22,column:53}},type:"cond-expr",locations:[{start:{line:22,column:24},end:{line:22,column:36}},{start:{line:22,column:39},end:{line:22,column:53}}],line:22},1:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},2:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},3:{loc:{start:{line:101,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:101,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:101},4:{loc:{start:{line:101,column:10},end:{line:101,column:96}},type:"binary-expr",locations:[{start:{line:101,column:10},end:{line:101,column:22}},{start:{line:101,column:26},end:{line:101,column:55}},{start:{line:101,column:59},end:{line:101,column:96}}],line:101},5:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:109},6:{loc:{start:{line:112,column:4},end:{line:215,column:5}},type:"switch",locations:[{start:{line:113,column:6},end:{line:178,column:13}},{start:{line:179,column:6},end:{line:188,column:16}},{start:{line:189,column:6},end:{line:199,column:10}},{start:{line:200,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:214,column:49}}],line:112},7:{loc:{start:{line:136,column:10},end:{line:144,column:11}},type:"binary-expr",locations:[{start:{line:136,column:10},end:{line:136,column:48}},{start:{line:136,column:68},end:{line:144,column:11}}],line:136},8:{loc:{start:{line:145,column:10},end:{line:153,column:11}},type:"binary-expr",locations:[{start:{line:145,column:10},end:{line:145,column:93}},{start:{line:145,column:113},end:{line:153,column:11}}],line:145},9:{loc:{start:{line:175,column:83},end:{line:175,column:103}},type:"cond-expr",locations:[{start:{line:175,column:93},end:{line:175,column:99}},{start:{line:175,column:102},end:{line:175,column:103}}],line:175},10:{loc:{start:{line:227,column:15},end:{line:227,column:68}},type:"binary-expr",locations:[{start:{line:227,column:15},end:{line:227,column:41}},{start:{line:227,column:45},end:{line:227,column:68}}],line:227},11:{loc:{start:{line:244,column:20},end:{line:244,column:49}},type:"binary-expr",locations:[{start:{line:244,column:20},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:49}}],line:244},12:{loc:{start:{line:255,column:14},end:{line:255,column:61}},type:"cond-expr",locations:[{start:{line:255,column:46},end:{line:255,column:52}},{start:{line:255,column:55},end:{line:255,column:61}}],line:255}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA6JyB,SA2EL,UA1Ed,KADmB;AA7JzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAG5B,SAAS,iBAAiB,MAAkC;AAC1D,SAAO,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAC9C;AAEA,SAAS,aAAa,WAA2F;AAC/G,QAAM,aAAa;AAAA,IACjB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,SAAS,EAAE,MAAM,EACzC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,IAAI,EAAE,QAAQ,WAAS;AACnD,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,IAAI,EAAE,OAAO,QAAQ,WAAS;AACzD,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,SAAS,EAAE,OAAO,WAAS;AACrD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM,MAAM,QAAQ,MAAM,GAAG;AAC7C,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC,MAAM;AAAA,MAMb;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,SAAS;AAAA,QAChD,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAW;AAAA,QAEX;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,iCAAC,QAAG,WAAU,uBAAsB;AAAA;AAAA,cAC1B,cAAc,KAAK,MAAM,MAAM,EAAE;AAAA,eAC3C;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA,sCAAC,UAAO,IAAG,4BAA2B,eAAY,4BAA2B,WAAU,qBAAoB,OAAM,iBAC/G,8BAAC,cAAW,WAAU,0BAAyB,GACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13cf530347fd66324a92f0d1d210d94f3d2129c4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ln=function(){return a},a}ln();function SQ(e){return ln().f[0]++,ln().s[0]++,a6[e]?(ln().b[0][0]++,a6[e]):(ln().b[0][1]++,a6.invalid)}function MF(e){ln().f[1]++;const t=(ln().s[1]++,{title:"Layer",type:"layer"}),n=(ln().s[2]++,{title:"Filter",type:"filter"}),r=(ln().s[3]++,{title:"JSON Editor",type:"jsoneditor"});return ln().s[4]++,[t,n].concat(SQ(e).groups).concat([r])}class aB extends Mn.Component{constructor(t){ln().f[5]++,ln().s[7]++,super(t);const n=(ln().s[8]++,{});ln().s[9]++,MF(this.props.layer.type).forEach(r=>{ln().f[6]++,ln().s[10]++,n[r.title]=!0}),ln().s[11]++,this.state={editorGroups:n}}static getDerivedStateFromProps(t,n){ln().f[7]++;const r=(ln().s[12]++,{...n.editorGroups});return ln().s[13]++,SQ(t.layer.type).groups.forEach(i=>{ln().f[8]++,ln().s[14]++,i.title in r?ln().b[1][1]++:(ln().b[1][0]++,ln().s[15]++,r[i.title]=!0)}),ln().s[16]++,{editorGroups:r}}getChildContext(){return ln().f[9]++,ln().s[17]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(t,n,r){ln().f[10]++,ln().s[18]++,this.props.onLayerChanged(this.props.layerIndex,ume(this.props.layer,t,n,r))}onGroupToggle(t,n){ln().f[11]++;const r=(ln().s[19]++,{...this.state.editorGroups,[t]:n});ln().s[20]++,this.setState({editorGroups:r})}renderGroupType(t,n){ln().f[12]++;let r=(ln().s[21]++,"");ln().s[22]++,this.props.layer.metadata?(ln().b[2][0]++,ln().s[23]++,r=this.props.layer.metadata["maputnik:comment"]):ln().b[2][1]++;const{errors:i,layerIndex:o}=(ln().s[24]++,this.props),a=(ln().s[25]++,{});ln().s[26]++,i.forEach(g=>{ln().f[13]++,ln().s[27]++,ln().b[4][0]++,g.parsed&&(ln().b[4][1]++,g.parsed.type==="layer")&&(ln().b[4][2]++,g.parsed.data.index==o)?(ln().b[3][0]++,ln().s[28]++,a[g.parsed.data.key]={message:g.parsed.data.message}):ln().b[3][1]++});let s;const h=(ln().s[29]++,this.props.layer);switch(ln().s[30]++,Object.prototype.hasOwnProperty.call(this.props.sources,h.source)?(ln().b[5][0]++,ln().s[31]++,s=this.props.sources[h.source].layers):ln().b[5][1]++,ln().s[32]++,t){case"layer":return ln().b[6][0]++,ln().s[33]++,G.jsxs("div",{children:[G.jsx(SN,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:a.id,onChange:g=>(ln().f[14]++,ln().s[34]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,g))}),G.jsx(ik,{disabled:!0,error:a.type,value:this.props.layer.type,onChange:g=>(ln().f[15]++,ln().s[35]++,this.props.onLayerChanged(this.props.layerIndex,lme(this.props.layer,g)))}),(ln().b[7][0]++,this.props.layer.type!=="background"&&(ln().b[7][1]++,G.jsx(ak,{error:a.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:g=>(ln().f[16]++,ln().s[36]++,this.changeProperty(null,"source",g))}))),(ln().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(ln().b[8][1]++,G.jsx(sk,{error:a["source-layer"],sourceLayerIds:s,value:this.props.layer["source-layer"],onChange:g=>(ln().f[17]++,ln().s[37]++,this.changeProperty(null,"source-layer",g))}))),G.jsx(nBe,{error:a.minzoom,value:this.props.layer.minzoom,onChange:g=>(ln().f[18]++,ln().s[38]++,this.changeProperty(null,"minzoom",g))}),G.jsx(rBe,{error:a.maxzoom,value:this.props.layer.maxzoom,onChange:g=>(ln().f[19]++,ln().s[39]++,this.changeProperty(null,"maxzoom",g))}),G.jsx(iBe,{error:a.comment,value:r,onChange:g=>(ln().f[20]++,ln().s[40]++,this.changeProperty("metadata","maputnik:comment",g==""?(ln().b[9][0]++,void 0):(ln().b[9][1]++,g)))})]});case"filter":return ln().b[6][1]++,ln().s[41]++,G.jsx("div",{children:G.jsx("div",{className:"maputnik-filter-editor-wrapper",children:G.jsx(AG,{errors:a,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:g=>(ln().f[21]++,ln().s[42]++,this.changeProperty(null,"filter",g))})})});case"properties":return ln().b[6][2]++,ln().s[43]++,G.jsx(JOe,{errors:a,layer:this.props.layer,groupFields:n,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return ln().b[6][3]++,ln().s[44]++,G.jsx(fk,{layer:this.props.layer,onChange:g=>{ln().f[22]++,ln().s[45]++,this.props.onLayerChanged(this.props.layerIndex,g)}});default:return ln().b[6][4]++,ln().s[46]++,G.jsx(G.Fragment,{})}}moveLayer(t){ln().f[23]++,ln().s[47]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+t})}render(){ln().f[24]++;const t=(ln().s[48]++,[]),n=(ln().s[49]++,this.props.layer.type),r=(ln().s[50]++,MF(n).filter(s=>(ln().f[25]++,ln().s[51]++,ln().b[10][0]++,!(n==="background"&&(ln().b[10][1]++,s.type==="source")))).map(s=>{ln().f[26]++;const h=(ln().s[52]++,s.title.replace(/ /g,"_"));return ln().s[53]++,t.push(h),ln().s[54]++,G.jsx(tBe,{"data-wd-key":s.title,id:h,title:s.title,isActive:this.state.editorGroups[s.title],onActiveToggle:this.onGroupToggle.bind(this,s.title),children:this.renderGroupType(s.type,s.fields)},s.title)})),i=(ln().s[55]++,ln().b[11][0]++,this.props.layer.layout||(ln().b[11][1]++,{})),o=(ln().s[56]++,{delete:{text:"Delete",handler:()=>(ln().f[27]++,ln().s[57]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:"Duplicate",handler:()=>(ln().f[28]++,ln().s[58]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:i.visibility==="none"?(ln().b[12][0]++,"Show"):(ln().b[12][1]++,"Hide"),handler:()=>(ln().f[29]++,ln().s[59]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:()=>(ln().f[30]++,ln().s[60]++,this.moveLayer(-1))},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:()=>(ln().f[31]++,ln().s[61]++,this.moveLayer(1))}});function a(s,h){ln().f[32]++,ln().s[62]++,h.stopPropagation(),ln().s[63]++,o[s].handler()}return ln().s[64]++,G.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor",children:[G.jsx("header",{children:G.jsxs("div",{className:"layer-header",children:[G.jsxs("h2",{className:"layer-header__title",children:["Layer: ",MQ(this.props.layer.id)]}),G.jsx("div",{className:"layer-header__info",children:G.jsxs(O2.Wrapper,{className:"more-menu",onSelection:a,closeOnSelection:!1,children:[G.jsx(O2.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:G.jsx(hte,{className:"more-menu__button__svg"})}),G.jsx(O2.Menu,{children:G.jsx("ul",{className:"more-menu__menu",children:Object.keys(o).map(s=>{ln().f[33]++;const h=(ln().s[65]++,o[s]);return ln().s[66]++,G.jsx("li",{children:G.jsx(O2.MenuItem,{value:s,className:"more-menu__menu__item",children:h.text})},s)})})})]})})]})}),G.jsx(g0e,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:r})]})}}on(aB,"defaultProps",(ln().s[5]++,{onLayerChanged:()=>{ln().f[2]++},onLayerIdChange:()=>{ln().f[3]++},onLayerDestroyed:()=>{ln().f[4]++}})),on(aB,"childContextTypes",(ln().s[6]++,{reactIconBase:Rr.object}));var SF=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},fBe=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),pBe=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),mBe=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),gBe=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),yBe=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),vBe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,_Be=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,EF=3,CBe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vBe]],OF=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function bBe(e){return e?BF(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new yBe:typeof navigator<"u"?BF(navigator.userAgent):MBe()}function xBe(e){return e!==""&&CBe.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function BF(e){var t=xBe(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new gBe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<EF&&(i=SF(SF([],i,!0),SBe(EF-i.length),!0)):i=[];var o=i.join("."),a=wBe(e),s=_Be.exec(e);return s&&s[1]?new mBe(n,o,a,s[1]):new fBe(n,o,a)}function wBe(e){for(var t=0,n=OF.length;t<n;t++){var r=OF[t],i=r[0],o=r[1],a=o.exec(e);if(a)return i}return null}function MBe(){var e=typeof process<"u"&&process.version;return e?new pBe(process.version.slice(1)):null}function SBe(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}const EBe="maputnik",OBe="2.0.0",BBe="A MapLibre GL visual style editor",kBe="module",IBe="''",TBe={start:"vite",build:"tsc && vite build --base=/maputnik/",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"',"sort-styles":"jq 'sort_by(.id)' src/config/styles.json > tmp.json && mv tmp.json src/config/styles.json"},KBe={type:"git",url:"https://github.com/maplibre/maputnik"},PBe="Lukas Martinelli",FBe="MIT",DBe="https://github.com/maplibre/maputnik#readme",LBe={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-geocoder":"^1.5.0","@maplibre/maplibre-gl-inspect":"^1.6.3","@maplibre/maplibre-gl-style-spec":"^20.1.1","@mdi/js":"^7.4.47","@mdi/react":"^1.6.1","@typescript-eslint/eslint-plugin":"^7.3.1","@typescript-eslint/parser":"^7.3.1","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.5.1",codemirror:"^5.65.2",color:"^4.2.3","cypress-plugin-tab":"^1.0.5","detect-browser":"^5.3.0",events:"^3.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^4.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","maplibre-gl":"^4.1.2","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1","prop-types":"^15.8.1",react:"^18.2.0","react-accessible-accordion":"^5.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^5.0.2","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^18.2.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^5.0.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.72.0",slugify:"^1.6.6","string-hash":"^1.1.3",url:"^0.11.3"},UBe={esversion:6},RBe={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},zBe={"@cypress/code-coverage":"^3.12.30","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.1.9","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.14","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/mocha":"^10.0.6","@types/randomcolor":"^0.5.9","@types/react":"^18.2.67","@types/react-aria-menubutton":"^6.2.14","@types/react-aria-modal":"^4.0.10","@types/react-autocomplete":"^1.8.10","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.12","@types/react-dom":"^18.2.22","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@vitejs/plugin-react":"^4.2.1",cors:"^2.8.5",cypress:"^13.10.0",eslint:"^8.57.0","eslint-plugin-react":"^7.34.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.2",mocha:"^10.3.0",postcss:"^8.4.38","react-hot-loader":"^4.13.1",stylelint:"^16.2.1","stylelint-config-recommended-scss":"^14.0.0","stylelint-scss":"^6.2.1",typescript:"^5.4.3",uuid:"^9.0.1",vite:"^5.2.6","vite-plugin-istanbul":"^6.0.0"},kF={name:EBe,version:OBe,description:BBe,type:kBe,main:IBe,scripts:TBe,repository:KBe,author:PBe,license:FBe,homepage:DBe,dependencies:LBe,jshintConfig:UBe,stylelint:RBe,devDependencies:zBe},jBe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Gi(){var e="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",t="0db82fbe81362fe89bc1026468f1e8ab5376993d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:8,column:16},end:{line:8,column:24}},1:{start:{line:9,column:41},end:{line:9,column:89}},2:{start:{line:12,column:4},end:{line:12,column:107}},3:{start:{line:17,column:4},end:{line:27,column:6}},4:{start:{line:32,column:4},end:{line:39,column:6}},5:{start:{line:44,column:4},end:{line:52,column:6}},6:{start:{line:56,column:10},end:{line:64,column:3}},7:{start:{line:66,column:4},end:{line:66,column:34}},8:{start:{line:68,column:11},end:{line:75,column:3}},9:{start:{line:69,column:4},end:{line:74,column:5}},10:{start:{line:70,column:6},end:{line:70,column:59}},11:{start:{line:72,column:17},end:{line:72,column:65}},12:{start:{line:73,column:6},end:{line:73,column:17}},13:{start:{line:77,column:18},end:{line:113,column:5}},14:{start:{line:114,column:24},end:{line:116,column:6}},15:{start:{line:115,column:6},end:{line:115,column:45}},16:{start:{line:117,column:4},end:{line:217,column:12}},17:{start:{line:128,column:33},end:{line:128,column:58}},18:{start:{line:137,column:33},end:{line:137,column:60}},19:{start:{line:146,column:33},end:{line:146,column:51}},20:{start:{line:198,column:33},end:{line:198,column:69}},21:{start:{line:201,column:38},end:{line:201,column:59}},22:{start:{line:202,column:20},end:{line:202,column:157}},23:{start:{line:204,column:112},end:{line:204,column:145}},24:{start:{line:205,column:20},end:{line:205,column:133}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:13,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:11},end:{line:28,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:11},end:{line:40,column:3}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:53,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:23},end:{line:67,column:3}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:68,column:11},end:{line:68,column:12}},loc:{start:{line:68,column:23},end:{line:75,column:3}},line:68},6:{name:"(anonymous_6)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:11},end:{line:218,column:3}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:114,column:35},end:{line:114,column:36}},loc:{start:{line:114,column:45},end:{line:116,column:5}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:128,column:25},end:{line:128,column:26}},loc:{start:{line:128,column:33},end:{line:128,column:58}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:137,column:25},end:{line:137,column:26}},loc:{start:{line:137,column:33},end:{line:137,column:60}},line:137},10:{name:"(anonymous_10)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:33},end:{line:146,column:51}},line:146},11:{name:"(anonymous_11)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:69}},line:198},12:{name:"(anonymous_12)",decl:{start:{line:201,column:31},end:{line:201,column:32}},loc:{start:{line:201,column:38},end:{line:201,column:59}},line:201},13:{name:"(anonymous_13)",decl:{start:{line:201,column:65},end:{line:201,column:66}},loc:{start:{line:201,column:75},end:{line:203,column:19}},line:201},14:{name:"(anonymous_14)",decl:{start:{line:204,column:105},end:{line:204,column:106}},loc:{start:{line:204,column:112},end:{line:204,column:145}},line:204},15:{name:"(anonymous_15)",decl:{start:{line:204,column:151},end:{line:204,column:152}},loc:{start:{line:204,column:161},end:{line:206,column:19}},line:204}},branchMap:{0:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:71,column:11},end:{line:74,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAqBW,cAoLG,YApLH;AArBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAQ,gBAAgB,iBAAiB,YAAY,UAAU,eAAe,oBAAmB;AACjG,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AAGzB,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBACxC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAC1C;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBACjC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAI,sBAAqB;AAAA,kBACjD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,kBAAe;AAAA,UAChB,oBAAC,YAAS,oBAAM;AAAA,WAClB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAS,0BAAY;AAAA,WACxB;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAS,4BAAc;AAAA,WAC1B;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,WAAM;AAAA;AAAA,YACL;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAM,uBACb,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0db82fbe81362fe89bc1026468f1e8ab5376993d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gi=function(){return a},a}Gi();const WBe=(Gi().s[0]++,bBe()),T2=(Gi().s[1]++,["chrome","firefox"].indexOf(WBe.name)>-1);class S_ extends Mn.Component{render(){return Gi().f[0]++,Gi().s[2]++,G.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class NBe extends Mn.Component{render(){return Gi().f[1]++,Gi().s[3]++,G.jsx("a",{className:Rf("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class GBe extends Mn.Component{render(){return Gi().f[2]++,Gi().s[4]++,G.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class K2 extends Mn.Component{render(){return Gi().f[3]++,Gi().s[5]++,G.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class QBe extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Gi().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));on(this,"onSkip",(Gi().s[8]++,n=>{if(Gi().f[5]++,Gi().s[9]++,n==="map")Gi().b[0][0]++,Gi().s[10]++,document.querySelector(".maplibregl-canvas").focus();else{Gi().b[0][1]++;const r=(Gi().s[11]++,document.querySelector("#skip-target-"+n));Gi().s[12]++,r.focus()}}))}handleSelection(n){Gi().f[4]++,Gi().s[7]++,this.props.onSetMapState(n)}render(){Gi().f[6]++;const n=(Gi().s[13]++,[{id:"map",group:"general",title:"Map"},{id:"inspect",group:"general",title:"Inspect",disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:"Deuteranopia filter",disabled:!T2},{id:"filter-protanopia",group:"color-accessibility",title:"Protanopia filter",disabled:!T2},{id:"filter-tritanopia",group:"color-accessibility",title:"Tritanopia filter",disabled:!T2},{id:"filter-achromatopsia",group:"color-accessibility",title:"Achromatopsia filter",disabled:!T2}]),r=(Gi().s[14]++,n.find(i=>(Gi().f[7]++,Gi().s[15]++,i.id===this.props.mapState)));return Gi().s[16]++,G.jsx("nav",{className:"maputnik-toolbar",children:G.jsxs("div",{className:"maputnik-toolbar__inner",children:[G.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[G.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:i=>(Gi().f[8]++,Gi().s[17]++,this.onSkip("layer-list")),children:"Layers list"}),G.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:i=>(Gi().f[9]++,Gi().s[18]++,this.onSkip("layer-editor")),children:"Layer editor"}),G.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:i=>(Gi().f[10]++,Gi().s[19]++,this.onSkip("map")),children:"Map view"}),G.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[G.jsx("img",{src:jBe,alt:"Maputnik on GitHub"}),G.jsxs("h1",{children:[G.jsx("span",{className:"maputnik-toolbar-name",children:kF.name}),G.jsxs("span",{className:"maputnik-toolbar-version",children:["v",kF.version]})]})]})]}),G.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[G.jsxs(K2,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[G.jsx(ete,{}),G.jsx(S_,{children:"Open"})]}),G.jsxs(K2,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[G.jsx(FE,{}),G.jsx(S_,{children:"Export"})]}),G.jsxs(K2,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[G.jsx(ute,{}),G.jsx(S_,{children:"Data Sources"})]}),G.jsxs(K2,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[G.jsx(tte,{}),G.jsx(S_,{children:"Style Settings"})]}),G.jsxs(GBe,{wdKey:"nav:inspect",children:[G.jsx(Vee,{}),G.jsxs("label",{children:["View",G.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:i=>(Gi().f[11]++,Gi().s[20]++,this.handleSelection(i.target.value)),value:r==null?void 0:r.id,children:[n.filter(i=>(Gi().f[12]++,Gi().s[21]++,i.group==="general")).map(i=>(Gi().f[13]++,Gi().s[22]++,G.jsx("option",{value:i.id,disabled:i.disabled,"data-wd-key":i.id,children:i.title},i.id))),G.jsx("optgroup",{label:"Color accessibility",children:n.filter(i=>(Gi().f[14]++,Gi().s[23]++,i.group==="color-accessibility")).map(i=>(Gi().f[15]++,Gi().s[24]++,G.jsx("option",{value:i.id,disabled:i.disabled,children:i.title},i.id)))})]})]})]}),G.jsxs(NBe,{href:"https://github.com/maplibre/maputnik/wiki",children:[G.jsx(Zee,{}),G.jsx(S_,{children:"Help"})]})]})]})})}}function q4(){var e="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",t="d17a642b15310eb6111b086bd920c67ec86a8271",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return q4=function(){return a},a}q4();class $Be extends Mn.Component{render(){return q4().f[0]++,q4().s[0]++,G.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function Sp(){var e="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",t="d25fdb432b603b186bd9e2fc84ff27ac61d9521e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:8,column:3}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:22,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:13,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:23,column:3}},line:14}},branchMap:{0:{loc:{start:{line:20,column:6},end:{line:20,column:123}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:23}},{start:{line:20,column:43},end:{line:20,column:123}}],line:20}},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAyBW,SAEL,KAFK;AAzBX,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAW5B,MAAM,kBAAkB,MAAM,UAA0B;AAAA,EACtD,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,oBAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,MACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,MACC,KAAK,MAAM;AAAA,MACX,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d25fdb432b603b186bd9e2fc84ff27ac61d9521e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Sp=function(){return a},a}Sp();class EQ extends Mn.Component{getChildContext(){return Sp().f[0]++,Sp().s[1]++,{reactIconBase:{size:14}}}render(){return Sp().f[1]++,Sp().s[2]++,G.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,G.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),G.jsx("div",{className:"maputnik-layout-drawer",children:G.jsx($Be,{children:this.props.layerEditor})}),this.props.map,(Sp().b[0][0]++,this.props.bottom&&(Sp().b[0][1]++,G.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}on(EQ,"childContextTypes",(Sp().s[0]++,{reactIconBase:Rr.object}));function Xa(){var e="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",t="e5f88535075aece22d8ac3a6577a6cf140d2a75b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:8,column:3}},1:{start:{line:10,column:35},end:{line:10,column:45}},2:{start:{line:11,column:19},end:{line:37,column:6}},3:{start:{line:13,column:6},end:{line:35,column:7}},4:{start:{line:14,column:27},end:{line:14,column:32}},5:{start:{line:15,column:24},end:{line:15,column:73}},6:{start:{line:16,column:8},end:{line:32,column:13}},7:{start:{line:27,column:31},end:{line:27,column:74}},8:{start:{line:34,column:8},end:{line:34,column:32}},9:{start:{line:36,column:6},end:{line:36,column:120}},10:{start:{line:38,column:18},end:{line:40,column:6}},11:{start:{line:39,column:6},end:{line:39,column:68}},12:{start:{line:41,column:4},end:{line:44,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:19},end:{line:6,column:20}},loc:{start:{line:6,column:25},end:{line:7,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:45,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:58},end:{line:37,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:31},end:{line:27,column:74}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:38,column:40},end:{line:38,column:41}},loc:{start:{line:38,column:50},end:{line:40,column:5}},line:38}},branchMap:{0:{loc:{start:{line:13,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:13,column:6},end:{line:35,column:7}},{start:{line:33,column:13},end:{line:35,column:7}}],line:13},1:{loc:{start:{line:13,column:10},end:{line:13,column:55}},type:"binary-expr",locations:[{start:{line:13,column:10},end:{line:13,column:22}},{start:{line:13,column:26},end:{line:13,column:55}}],line:13},2:{loc:{start:{line:21,column:10},end:{line:31,column:14}},type:"binary-expr",locations:[{start:{line:21,column:10},end:{line:21,column:50}},{start:{line:21,column:70},end:{line:31,column:14}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA2BkB,SAEJ,UAFI,KAEJ,YAFI;AA3BlB,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAY5B,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCAAE;AAAA;AAAA,UACM,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,UAAO;AAAA,UAAG,OAAO,KAAK;AAAA,UACzD,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAC3D;AAAA;AAAA,YAED;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e5f88535075aece22d8ac3a6577a6cf140d2a75b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Xa=function(){return a},a}Xa();class OQ extends Mn.Component{render(){var i,o;Xa().f[1]++;const{selectedLayerIndex:t}=(Xa().s[1]++,this.props),n=(Xa().s[2]++,(i=this.props.errors)==null?void 0:i.map((a,s)=>{var g;Xa().f[2]++;let h;if(Xa().s[3]++,Xa().b[1][0]++,a.parsed&&(Xa().b[1][1]++,a.parsed.type==="layer")){Xa().b[0][0]++;const{parsed:_}=(Xa().s[4]++,a),B=(Xa().s[5]++,(g=this.props.mapStyle)==null?void 0:g.layers[_.data.index].id);Xa().s[6]++,h=G.jsxs(G.Fragment,{children:["Layer ",G.jsx("span",{children:MQ(B)}),": ",_.data.message,(Xa().b[2][0]++,t!==_.data.index&&(Xa().b[2][1]++,G.jsxs(G.Fragment,{children:[" — ",G.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(Xa().f[3]++,Xa().s[7]++,this.props.onLayerSelect(_.data.index)),children:"switch to layer"})]})))]})}else Xa().b[0][1]++,Xa().s[8]++,h=a.message;return Xa().s[9]++,G.jsx("p",{className:"maputnik-message-panel-error",children:h},"error-"+s)})),r=(Xa().s[10]++,(o=this.props.infos)==null?void 0:o.map((a,s)=>(Xa().f[4]++,Xa().s[11]++,G.jsx("p",{children:a},"info-"+s))));return Xa().s[12]++,G.jsxs("div",{className:"maputnik-message-panel",children:[n,r]})}}on(OQ,"defaultProps",(Xa().s[0]++,{onLayerSelect:()=>{Xa().f[0]++}}));function H4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",t="a416dfabb7eaa48bd0505cf98cb9c66326bca3ec",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a416dfabb7eaa48bd0505cf98cb9c66326bca3ec"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return H4=function(){return a},a}H4();class V4 extends Mn.Component{render(){return H4().f[0]++,H4().s[0]++,G.jsx(sb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(mQ,{...this.props})})}}function Z4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",t="4931f85d3ebf1a60a85ac9883e78e028b7a388d8",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4931f85d3ebf1a60a85ac9883e78e028b7a388d8"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Z4=function(){return a},a}Z4();class Ep extends Mn.Component{render(){return Z4().f[0]++,Z4().s[0]++,G.jsx(aa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(jf,{...this.props})})}}function X4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",t="37d7b9547efb8875177dbe7a186e7965cd9eb1c0",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37d7b9547efb8875177dbe7a186e7965cd9eb1c0"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return X4=function(){return a},a}X4();class Fm extends Mn.Component{render(){return X4().f[0]++,X4().s[0]++,G.jsx(aa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(jd,{...this.props})})}}function J4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",t="a176a83ddcea7ca7f45b0bf957355a9e0c40a3af",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a176a83ddcea7ca7f45b0bf957355a9e0c40a3af"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return J4=function(){return a},a}J4();class lb extends Mn.Component{render(){return J4().f[0]++,J4().s[0]++,G.jsx(aa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(Vk,{...this.props})})}}function e5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",t="ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return e5=function(){return a},a}e5();class Xk extends Mn.Component{render(){return e5().f[0]++,e5().s[0]++,G.jsx(aa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(G1,{...this.props})})}}function t5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",t="5745e67ee75c0f352c022256ef8bf31e8fa7367f",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5745e67ee75c0f352c022256ef8bf31e8fa7367f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return t5=function(){return a},a}t5();class YBe extends Mn.Component{render(){return t5().f[0]++,t5().s[0]++,G.jsx(sb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(Hk,{...this.props})})}}function n5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",t="4d9e98bd5e7819496a7ef6b66981b81e318fe1bf",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d9e98bd5e7819496a7ef6b66981b81e318fe1bf"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return n5=function(){return a},a}n5();class qBe extends Mn.Component{render(){return n5().f[0]++,n5().s[0]++,G.jsx(aa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(pQ,{...this.props})})}}function Jk(){var e="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",t="97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAAA,MAAM,OAAO;AAAA,EACX,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Jk=function(){return a},a}Jk();const xf=(Jk().s[0]++,{maputnik:{maptiler_access_token:{label:"MapTiler Access Token",doc:"Public access token for MapTiler Cloud."},thunderforest_access_token:{label:"Thunderforest Access Token",doc:"Public access token for Thunderforest services."},style_renderer:{label:"Style Renderer",doc:"Choose the default Maputnik renderer for this style."}}});function ui(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",t="b694e94f243a11fbdf621abee61c98955da7068f",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:15,column:23},end:{line:17,column:5}},1:{start:{line:18,column:4},end:{line:22,column:5}},2:{start:{line:19,column:6},end:{line:19,column:34}},3:{start:{line:21,column:6},end:{line:21,column:35}},4:{start:{line:23,column:4},end:{line:26,column:7}},5:{start:{line:29,column:18},end:{line:31,column:5}},6:{start:{line:32,column:4},end:{line:36,column:5}},7:{start:{line:33,column:6},end:{line:33,column:29}},8:{start:{line:35,column:6},end:{line:35,column:30}},9:{start:{line:37,column:4},end:{line:40,column:7}},10:{start:{line:43,column:20},end:{line:45,column:5}},11:{start:{line:46,column:4},end:{line:50,column:5}},12:{start:{line:47,column:6},end:{line:47,column:31}},13:{start:{line:49,column:6},end:{line:49,column:32}},14:{start:{line:51,column:4},end:{line:54,column:7}},15:{start:{line:57,column:25},end:{line:59,column:5}},16:{start:{line:60,column:4},end:{line:64,column:5}},17:{start:{line:61,column:6},end:{line:61,column:36}},18:{start:{line:63,column:6},end:{line:63,column:37}},19:{start:{line:65,column:4},end:{line:65,column:44}},20:{start:{line:68,column:21},end:{line:68,column:55}},21:{start:{line:69,column:51},end:{line:69,column:61}},22:{start:{line:70,column:18},end:{line:70,column:49}},23:{start:{line:71,column:23},end:{line:71,column:59}},24:{start:{line:72,column:20},end:{line:72,column:53}},25:{start:{line:73,column:4},end:{line:283,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:44},end:{line:27,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:39},end:{line:41,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:41},end:{line:55,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:39},end:{line:66,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:284,column:3}},line:67}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:20,column:11},end:{line:22,column:5}}],line:18},1:{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},2:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:48,column:11},end:{line:50,column:5}}],line:46},3:{loc:{start:{line:60,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:64,column:5}},{start:{line:62,column:11},end:{line:64,column:5}}],line:60},4:{loc:{start:{line:68,column:21},end:{line:68,column:55}},type:"binary-expr",locations:[{start:{line:68,column:21},end:{line:68,column:49}},{start:{line:68,column:53},end:{line:68,column:55}}],line:68},5:{loc:{start:{line:70,column:18},end:{line:70,column:49}},type:"binary-expr",locations:[{start:{line:70,column:18},end:{line:70,column:43}},{start:{line:70,column:47},end:{line:70,column:49}}],line:70},6:{loc:{start:{line:71,column:23},end:{line:71,column:59}},type:"binary-expr",locations:[{start:{line:71,column:23},end:{line:71,column:53}},{start:{line:71,column:57},end:{line:71,column:59}}],line:71},7:{loc:{start:{line:72,column:20},end:{line:72,column:53}},type:"binary-expr",locations:[{start:{line:72,column:20},end:{line:72,column:47}},{start:{line:72,column:51},end:{line:72,column:53}}],line:72},8:{loc:{start:{line:148,column:21},end:{line:148,column:42}},type:"binary-expr",locations:[{start:{line:148,column:21},end:{line:148,column:36}},{start:{line:148,column:40},end:{line:148,column:42}}],line:148},9:{loc:{start:{line:277,column:21},end:{line:277,column:62}},type:"binary-expr",locations:[{start:{line:277,column:21},end:{line:277,column:50}},{start:{line:277,column:54},end:{line:277,column:62}}],line:277}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA6GM,SACE,KADF;AA7GN,OAAO,WAAW;AAClB,OAAO,YAAY;AAGnB,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,0BAA0B,SAAQ,IAAI,KAAK;AAElD,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,EAAC,KAAK,8DAA6D;AAAA,cAC9E,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAM;AAAA,cACN,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,cAC1D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,oCAAoC;AAAA,cACpD,UAAU,yBAAyB,KAAK,MAAM,oCAAoC;AAAA;AAAA,UACpF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,cAC/D,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,OAAO,SAAS,qCAAqC;AAAA,cACrD,UAAU,yBAAyB,KAAK,MAAM,qCAAqC;AAAA;AAAA,UACrF;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,eAAe;AAAA,cACnD,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,4BAA4B;AAAA,cACrC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b694e94f243a11fbdf621abee61c98955da7068f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ui=function(){return a},a}ui();class HBe extends Mn.Component{changeTransitionProperty(t,n){ui().f[0]++;const r=(ui().s[0]++,{...this.props.mapStyle.transition});ui().s[1]++,n===void 0?(ui().b[0][0]++,ui().s[2]++,delete r[t]):(ui().b[0][1]++,ui().s[3]++,r[t]=n),ui().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(t,n){ui().f[1]++;const r=(ui().s[5]++,{...this.props.mapStyle.light});ui().s[6]++,n===void 0?(ui().b[1][0]++,ui().s[7]++,delete r[t]):(ui().b[1][1]++,ui().s[8]++,r[t]=n),ui().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeTerrainProperty(t,n){ui().f[2]++;const r=(ui().s[10]++,{...this.props.mapStyle.terrain});ui().s[11]++,n===void 0?(ui().b[2][0]++,ui().s[12]++,delete r[t]):(ui().b[2][1]++,ui().s[13]++,r[t]=n),ui().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(t,n){ui().f[3]++;const r=(ui().s[15]++,{...this.props.mapStyle});ui().s[16]++,n===void 0?(ui().b[3][0]++,ui().s[17]++,delete r[t]):(ui().b[3][1]++,ui().s[18]++,r[t]=n),ui().s[19]++,this.props.onStyleChanged(r)}render(){ui().f[4]++;const t=(ui().s[20]++,ui().b[4][0]++,this.props.mapStyle.metadata||(ui().b[4][1]++,{})),{onChangeMetadataProperty:n,mapStyle:r}=(ui().s[21]++,this.props),i=(ui().s[22]++,ui().b[5][0]++,this.props.mapStyle.light||(ui().b[5][1]++,{})),o=(ui().s[23]++,ui().b[6][0]++,this.props.mapStyle.transition||(ui().b[6][1]++,{})),a=(ui().s[24]++,ui().b[7][0]++,this.props.mapStyle.terrain||(ui().b[7][1]++,{}));return ui().s[25]++,G.jsx(Gf,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Style Settings",children:G.jsxs("div",{className:"modal:settings",children:[G.jsx(Fm,{label:"Name",fieldSpec:no.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),G.jsx(Fm,{label:"Owner",fieldSpec:{doc:"Owner ID of the style. Used by Mapbox or future style APIs."},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),G.jsx(lb,{fieldSpec:no.$root.sprite,label:"Sprite URL","data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),G.jsx(lb,{label:"Glyphs URL",fieldSpec:no.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),G.jsx(Fm,{label:xf.maputnik.maptiler_access_token.label,fieldSpec:xf.maputnik.maptiler_access_token,"data-wd-key":"modal:settings.maputnik:openmaptiles_access_token",value:t["maputnik:openmaptiles_access_token"],onChange:n.bind(this,"maputnik:openmaptiles_access_token")}),G.jsx(Fm,{label:xf.maputnik.thunderforest_access_token.label,fieldSpec:xf.maputnik.thunderforest_access_token,"data-wd-key":"modal:settings.maputnik:thunderforest_access_token",value:t["maputnik:thunderforest_access_token"],onChange:n.bind(this,"maputnik:thunderforest_access_token")}),G.jsx(V4,{label:"Center",fieldSpec:no.$root.center,length:2,type:"number",value:(ui().b[8][0]++,r.center||(ui().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),G.jsx(Ep,{label:"Zoom",fieldSpec:no.$root.zoom,value:r.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),G.jsx(Ep,{label:"Bearing",fieldSpec:no.$root.bearing,value:r.bearing,default:no.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),G.jsx(Ep,{label:"Pitch",fieldSpec:no.$root.pitch,value:r.pitch,default:no.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),G.jsx(YBe,{label:"Light anchor",fieldSpec:no.light.anchor,name:"light-anchor",value:i.anchor,options:Object.keys(no.light.anchor.values),default:no.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),G.jsx(qBe,{label:"Light color",fieldSpec:no.light.color,value:i.color,default:no.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),G.jsx(Ep,{label:"Light intensity",fieldSpec:no.light.intensity,value:i.intensity,default:no.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),G.jsx(V4,{label:"Light position",fieldSpec:no.light.position,type:"number",length:no.light.position.length,value:i.position,default:no.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),G.jsx(Fm,{label:"Terrain source",fieldSpec:no.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:a.source,onChange:this.changeTerrainProperty.bind(this,"source")}),G.jsx(Ep,{label:"Terrain exaggeration",fieldSpec:no.terrain.exaggeration,value:a.exaggeration,default:no.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),G.jsx(Ep,{label:"Transition delay",fieldSpec:no.transition.delay,value:o.delay,default:no.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),G.jsx(Ep,{label:"Transition duration",fieldSpec:no.transition.duration,value:o.duration,default:no.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),G.jsx(Xk,{label:xf.maputnik.style_renderer.label,fieldSpec:xf.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol","Open Layers (experimental)"]],value:(ui().b[9][0]++,t["maputnik:renderer"]||(ui().b[9][1]++,"mlgljs")),onChange:n.bind(this,"maputnik:renderer")})]})})}}var BQ={exports:{}};(function(e,t){(function(n,r,i){e.exports=i(),e.exports.default=i()})("slugify",Bh,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),r=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function i(o,a){if(typeof o!="string")throw new Error("slugify: string argument expected");a=typeof a=="string"?{replacement:a}:a||{};var s=r[a.locale]||{},h=a.replacement===void 0?"-":a.replacement,g=a.trim===void 0?!0:a.trim,_=o.normalize().split("").reduce(function(B,k){var P=s[k];return P===void 0&&(P=n[k]),P===void 0&&(P=k),P===h&&(P=" "),B+P.replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return a.strict&&(_=_.replace(/[^A-Za-z0-9\s]/g,"")),g&&(_=_.trim()),_=_.replace(/\s+/g,h),a.lower&&(_=_.toLowerCase()),_}return i.extend=function(o){Object.assign(n,o)},i})})(BQ);var VBe=BQ.exports;const ZBe=Oa(VBe);var kQ={exports:{}};(function(e,t){(function(n,r){r()})(Bh,function(){function n(g,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function r(g,_,B){var k=new XMLHttpRequest;k.open("GET",g),k.responseType="blob",k.onload=function(){h(k.response,_,B)},k.onerror=function(){console.error("could not download file")},k.send()}function i(g){var _=new XMLHttpRequest;_.open("HEAD",g,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function o(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(_)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(g,_,B){var k=a.URL||a.webkitURL,P=document.createElement("a");_=_||g.name||"download",P.download=_,P.rel="noopener",typeof g=="string"?(P.href=g,P.origin===location.origin?o(P):i(P.href)?r(g,_,B):o(P,P.target="_blank")):(P.href=k.createObjectURL(g),setTimeout(function(){k.revokeObjectURL(P.href)},4e4),setTimeout(function(){o(P)},0))}:"msSaveOrOpenBlob"in navigator?function(g,_,B){if(_=_||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,B),_);else if(i(g))r(g,_,B);else{var k=document.createElement("a");k.href=g,k.target="_blank",setTimeout(function(){o(k)})}}:function(g,_,B,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),typeof g=="string")return r(g,_,B);var P=g.type==="application/octet-stream",F=/constructor/i.test(a.HTMLElement)||a.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent);if((q||P&&F||s)&&typeof FileReader<"u"){var ee=new FileReader;ee.onloadend=function(){var Z=ee.result;Z=q?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=Z:location=Z,k=null},ee.readAsDataURL(g)}else{var H=a.URL||a.webkitURL,N=H.createObjectURL(g);k?k.location=N:location.href=N,k=null,setTimeout(function(){H.revokeObjectURL(N)},4e4)}});a.saveAs=h.saveAs=h,e.exports=h})})(kQ);var IF=kQ.exports;const XBe="4.1.2",JBe="get_your_own_OpIi9ZULNHzrESv6T2vL",e7e="b71f7f0ba4064f5eb9e903859a9cf5c6",IQ={openmaptiles:JBe,thunderforest:e7e};function jn(){var e="/home/runner/work/maputnik/maputnik/src/libs/style.ts",t="90dcc82dd58ae44e1faf5283c5a3a70c09f07bf2",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:2},end:{line:49,column:3}},19:{start:{line:48,column:4},end:{line:48,column:33}},20:{start:{line:50,column:19},end:{line:50,column:42}},21:{start:{line:51,column:20},end:{line:51,column:67}},22:{start:{line:52,column:2},end:{line:54,column:3}},23:{start:{line:53,column:4},end:{line:53,column:37}},24:{start:{line:55,column:2},end:{line:55,column:21}},25:{start:{line:58,column:17},end:{line:58,column:45}},26:{start:{line:59,column:2},end:{line:60,column:20}},27:{start:{line:60,column:4},end:{line:60,column:20}},28:{start:{line:61,column:2},end:{line:62,column:20}},29:{start:{line:62,column:4},end:{line:62,column:20}},30:{start:{line:63,column:22},end:{line:63,column:64}},31:{start:{line:64,column:2},end:{line:66,column:3}},32:{start:{line:65,column:4},end:{line:65,column:20}},33:{start:{line:67,column:25},end:{line:73,column:3}},34:{start:{line:74,column:23},end:{line:77,column:3}},35:{start:{line:78,column:2},end:{line:78,column:22}},36:{start:{line:81,column:21},end:{line:81,column:29}},37:{start:{line:82,column:2},end:{line:84,column:5}},38:{start:{line:83,column:4},end:{line:83,column:76}},39:{start:{line:85,column:2},end:{line:93,column:3}},40:{start:{line:86,column:27},end:{line:86,column:73}},41:{start:{line:87,column:4},end:{line:92,column:5}},42:{start:{line:88,column:6},end:{line:91,column:8}},43:{start:{line:94,column:2},end:{line:94,column:22}},44:{start:{line:97,column:26},end:{line:99,column:3}},45:{start:{line:100,column:2},end:{line:100,column:63}},46:{start:{line:101,column:2},end:{line:104,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:56,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:67},end:{line:79,column:1}},line:57},9:{name:"replaceAccessTokens",decl:{start:{line:80,column:9},end:{line:80,column:28}},loc:{start:{line:80,column:50},end:{line:95,column:1}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:82,column:40},end:{line:82,column:41}},loc:{start:{line:82,column:56},end:{line:84,column:3}},line:82},11:{name:"stripAccessTokens",decl:{start:{line:96,column:9},end:{line:96,column:26}},loc:{start:{line:96,column:37},end:{line:105,column:1}},line:96}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:47,column:6},end:{line:47,column:89}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:46}},{start:{line:47,column:50},end:{line:47,column:89}}],line:47},5:{loc:{start:{line:50,column:19},end:{line:50,column:42}},type:"binary-expr",locations:[{start:{line:50,column:19},end:{line:50,column:36}},{start:{line:50,column:40},end:{line:50,column:42}}],line:50},6:{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:52,column:6},end:{line:52,column:40}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:40}}],line:52},8:{loc:{start:{line:57,column:56},end:{line:57,column:65}},type:"default-arg",locations:[{start:{line:57,column:63},end:{line:57,column:65}}],line:57},9:{loc:{start:{line:59,column:2},end:{line:60,column:20}},type:"if",locations:[{start:{line:59,column:2},end:{line:60,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:61,column:2},end:{line:62,column:20}},type:"if",locations:[{start:{line:61,column:2},end:{line:62,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},11:{loc:{start:{line:61,column:6},end:{line:61,column:39}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:24}},{start:{line:61,column:28},end:{line:61,column:39}}],line:61},12:{loc:{start:{line:64,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:66,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},13:{loc:{start:{line:80,column:39},end:{line:80,column:48}},type:"default-arg",locations:[{start:{line:80,column:46},end:{line:80,column:48}}],line:80},14:{loc:{start:{line:85,column:2},end:{line:93,column:3}},type:"if",locations:[{start:{line:85,column:2},end:{line:93,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},15:{loc:{start:{line:85,column:6},end:{line:85,column:114}},type:"binary-expr",locations:[{start:{line:85,column:6},end:{line:85,column:21}},{start:{line:85,column:26},end:{line:85,column:69}},{start:{line:85,column:73},end:{line:85,column:113}}],line:85},16:{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0,0],16:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,iBAAa;AAAA,EACf;AAEA,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC;AAAQ,WAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO;AAAK,WAAO;AAE7C,QAAM,cAAc,eAAe,YAAY,UAAU,IAAI;AAE7D,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,MAAI,SAAS,WAAW,SAAS,OAAO,MAAM,oBAAoB,KAAK,SAAS,OAAO,MAAM,iBAAiB,IAAI;AAChH,UAAM,iBAAiB,eAAe,gBAAgB,UAAU,IAAI;AACpE,QAAI,gBAAgB;AAClB,qBAAe;AAAA,QACb,GAAG;AAAA,QACH,QAAQ,SAAS,OAAO,QAAQ,SAAS,cAAc;AAAA,MACzD;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO,gBAAgB,oCAAoC;AAC3D,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90dcc82dd58ae44e1faf5283c5a3a70c09f07bf2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return jn=function(){return a},a}jn();const t7e=(jn().s[0]++,KQ({version:8,sources:{},layers:[]}));function TQ(){return jn().f[0]++,jn().s[1]++,Math.random().toString(36).substring(2,9)}function n7e(e){return jn().f[1]++,jn().s[2]++,jn().b[1][0]++,!("id"in e)||(jn().b[1][1]++,!e.id)?(jn().b[0][0]++,jn().s[3]++,e.id=TQ(),jn().s[4]++,e):(jn().b[0][1]++,jn().s[5]++,e)}function r7e(e){jn().f[2]++;const t=(jn().s[6]++,e.layers.map(n=>{jn().f[3]++;const r=(jn().s[7]++,{...n});return jn().s[8]++,delete r.interactive,jn().s[9]++,r}));return jn().s[10]++,{...e,layers:t}}function i7e(e){return jn().f[4]++,jn().s[11]++,{...e,layers:EX(e.layers)}}function KQ(e){return jn().f[5]++,jn().s[12]++,r7e(i7e(n7e(e)))}function o7e(e,t){jn().f[6]++,jn().s[13]++;for(let n=(jn().s[14]++,0);n<e.length;n++){if(jn().s[15]++,e[n].id===t)return jn().b[2][0]++,jn().s[16]++,n;jn().b[2][1]++}return jn().s[17]++,null}function eI(e,t,n){jn().f[7]++,jn().s[18]++,jn().b[4][0]++,e==="thunderforest_transport"||(jn().b[4][1]++,e==="thunderforest_outdoors")?(jn().b[3][0]++,jn().s[19]++,e="thunderforest"):jn().b[3][1]++;const r=(jn().s[20]++,jn().b[5][0]++,t.metadata||(jn().b[5][1]++,{}));let i=(jn().s[21]++,r[`maputnik:${e}_access_token`]);return jn().s[22]++,jn().b[7][0]++,n.allowFallback&&(jn().b[7][1]++,!i)?(jn().b[6][0]++,jn().s[23]++,i=IQ[e]):jn().b[6][1]++,jn().s[24]++,i}function a7e(e,t,n=(jn().b[8][0]++,{})){jn().f[8]++;const r=(jn().s[25]++,e.sources[t]);if(jn().s[26]++,r)jn().b[9][1]++;else return jn().b[9][0]++,jn().s[27]++,e;if(jn().s[28]++,jn().b[11][0]++,!("url"in r)||(jn().b[11][1]++,!r.url))return jn().b[10][0]++,jn().s[29]++,e;jn().b[10][1]++;const i=(jn().s[30]++,eI(t,e,n));if(jn().s[31]++,i)jn().b[12][1]++;else return jn().b[12][0]++,jn().s[32]++,e;const o=(jn().s[33]++,{...e.sources,[t]:{...r,url:r.url.replace("{key}",i)}}),a=(jn().s[34]++,{...e,sources:o});return jn().s[35]++,a}function s7e(e,t=(jn().b[13][0]++,{})){jn().f[9]++;let n=(jn().s[36]++,e);if(jn().s[37]++,Object.keys(e.sources).forEach(r=>{jn().f[10]++,jn().s[38]++,n=a7e(n,r,t)}),jn().s[39]++,jn().b[15][0]++,e.glyphs&&(jn().b[15][1]++,e.glyphs.match(/\.tilehosting\.com/)||(jn().b[15][2]++,e.glyphs.match(/\.maptiler\.com/)))){jn().b[14][0]++;const r=(jn().s[40]++,eI("openmaptiles",e,t));jn().s[41]++,r?(jn().b[16][0]++,jn().s[42]++,n={...n,glyphs:e.glyphs.replace("{key}",r)}):jn().b[16][1]++}else jn().b[14][1]++;return jn().s[43]++,n}function l7e(e){jn().f[11]++;const t=(jn().s[44]++,{...e.metadata});return jn().s[45]++,delete t["maputnik:openmaptiles_access_token"],jn().s[46]++,{...e,metadata:t}}const Lu={ensureStyleValidity:KQ,emptyStyle:t7e,indexOfLayer:o7e,generateId:TQ,getAccessToken:eI,replaceAccessTokens:s7e,stripAccessTokens:l7e};function Ro(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",t="5ede43596afbfd1204f65c6c1bd54e16d6b65a8a",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:13,column:28},end:{line:13,column:35}},1:{start:{line:16,column:4},end:{line:20,column:6}},2:{start:{line:23,column:4},end:{line:31,column:5}},3:{start:{line:24,column:6},end:{line:28,column:9}},4:{start:{line:30,column:6},end:{line:30,column:36}},5:{start:{line:34,column:23},end:{line:34,column:44}},6:{start:{line:35,column:22},end:{line:35,column:55}},7:{start:{line:36,column:17},end:{line:60,column:1}},8:{start:{line:61,column:17},end:{line:61,column:70}},9:{start:{line:62,column:23},end:{line:62,column:40}},10:{start:{line:63,column:4},end:{line:63,column:39}},11:{start:{line:66,column:23},end:{line:66,column:44}},12:{start:{line:67,column:17},end:{line:67,column:83}},13:{start:{line:68,column:23},end:{line:68,column:40}},14:{start:{line:69,column:4},end:{line:69,column:39}},15:{start:{line:72,column:25},end:{line:78,column:5}},16:{start:{line:79,column:4},end:{line:79,column:44}},17:{start:{line:82,column:4},end:{line:137,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:19},end:{line:21,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:15},end:{line:32,column:3}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:17},end:{line:64,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:18},end:{line:70,column:3}},line:65},4:{name:"(anonymous_4)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:42},end:{line:80,column:3}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:11},end:{line:138,column:3}},line:81}},branchMap:{0:{loc:{start:{line:23,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:31,column:5}},{start:{line:29,column:11},end:{line:31,column:5}}],line:23},1:{loc:{start:{line:35,column:22},end:{line:35,column:55}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:46}},{start:{line:35,column:50},end:{line:35,column:55}}],line:35},2:{loc:{start:{line:99,column:24},end:{line:99,column:58}},type:"binary-expr",locations:[{start:{line:99,column:24},end:{line:99,column:52}},{start:{line:99,column:56},end:{line:99,column:58}}],line:99},3:{loc:{start:{line:108,column:24},end:{line:108,column:58}},type:"binary-expr",locations:[{start:{line:108,column:24},end:{line:108,column:52}},{start:{line:108,column:56},end:{line:108,column:58}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AA+GQ,cAKA,YALA;AA/GR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAE7B,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAGhC,MAAM,sBAAsB;AAW5B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EAEzE,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ;AAC9C,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAG,4BAAc;AAAA,UAClB,oBAAC,OAAE,qDAEH;AAAA,UAEA,qBAAC,SACC;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,sBAAsB;AAAA,gBAC1D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,oCAAoC;AAAA,gBACvF,UAAU,KAAK,uBAAuB,KAAK,MAAM,oCAAoC;AAAA;AAAA,YACvF;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,oBAAoB,SAAS,2BAA2B;AAAA,gBAC/D,WAAW,oBAAoB,SAAS;AAAA,gBACxC,QAAQ,KAAK,MAAM,SAAS,YAAY,CAAC,GAAU,qCAAqC;AAAA,gBACxF,UAAU,KAAK,uBAAuB,KAAK,MAAM,qCAAqC;AAAA;AAAA,YACxF;AAAA,aACF;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5ede43596afbfd1204f65c6c1bd54e16d6b65a8a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ro=function(){return a},a}Ro();const TF=(Ro().s[0]++,XBe);class u7e extends Mn.Component{tokenizedStyle(){return Ro().f[0]++,Ro().s[1]++,HR(Lu.stripAccessTokens(Lu.replaceAccessTokens(this.props.mapStyle)))}exportName(){return Ro().f[1]++,Ro().s[2]++,this.props.mapStyle.name?(Ro().b[0][0]++,Ro().s[3]++,ZBe(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(Ro().b[0][1]++,Ro().s[4]++,this.props.mapStyle.id)}downloadHtml(){Ro().f[2]++;const t=(Ro().s[5]++,this.tokenizedStyle()),n=(Ro().s[6]++,Ro().b[1][0]++,this.props.mapStyle.name||(Ro().b[1][1]++,"Map")),r=(Ro().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${n}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${TF}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${TF}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${t},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(Ro().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(Ro().s[9]++,this.exportName());Ro().s[10]++,IF.saveAs(i,o+".html")}downloadStyle(){Ro().f[3]++;const t=(Ro().s[11]++,this.tokenizedStyle()),n=(Ro().s[12]++,new Blob([t],{type:"application/json;charset=utf-8"})),r=(Ro().s[13]++,this.exportName());Ro().s[14]++,IF.saveAs(n,r+".json")}changeMetadataProperty(t,n){Ro().f[4]++;const r=(Ro().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[t]:n}});Ro().s[16]++,this.props.onStyleChanged(r)}render(){return Ro().f[5]++,Ro().s[17]++,G.jsx(Gf,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Export Style",className:"maputnik-export-modal",children:G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Download Style"}),G.jsx("p",{children:"Download a JSON style to your computer."}),G.jsxs("div",{children:[G.jsx(Fm,{label:xf.maputnik.maptiler_access_token.label,fieldSpec:xf.maputnik.maptiler_access_token,value:(Ro().b[2][0]++,this.props.mapStyle.metadata||(Ro().b[2][1]++,{}))["maputnik:openmaptiles_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:openmaptiles_access_token")}),G.jsx(Fm,{label:xf.maputnik.thunderforest_access_token.label,fieldSpec:xf.maputnik.thunderforest_access_token,value:(Ro().b[3][0]++,this.props.mapStyle.metadata||(Ro().b[3][1]++,{}))["maputnik:thunderforest_access_token"],onChange:this.changeMetadataProperty.bind(this,"maputnik:thunderforest_access_token")})]}),G.jsxs("div",{className:"maputnik-modal-export-buttons",children:[G.jsxs(za,{onClick:this.downloadStyle.bind(this),children:[G.jsx(FE,{}),"Download Style"]}),G.jsxs(za,{onClick:this.downloadHtml.bind(this),children:[G.jsx(FE,{}),"Download HTML"]})]})]})})}}function r5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",t="950dd35e62562a3439b74678b95f406e749c6958",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"950dd35e62562a3439b74678b95f406e749c6958"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return r5=function(){return a},a}r5();class PQ extends Mn.Component{render(){return r5().f[0]++,r5().s[0]++,G.jsx(sb,{label:this.props.label,children:G.jsx(gQ,{...this.props})})}}function i5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",t="a27c35e986d22656fa80c276efb67df518853ac2",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a27c35e986d22656fa80c276efb67df518853ac2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return i5=function(){return a},a}i5();class A7e extends Mn.Component{render(){return i5().f[0]++,i5().s[0]++,G.jsx(aa,{label:this.props.label,children:G.jsx(qk,{...this.props})})}}function Xn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",t="bd3e4d09ce7131c28fb23a5fc0245fe57c891028",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:28,column:9}},1:{start:{line:21,column:29},end:{line:24,column:12}},2:{start:{line:33,column:4},end:{line:36,column:7}},3:{start:{line:39,column:18},end:{line:39,column:47}},4:{start:{line:40,column:4},end:{line:49,column:6}},5:{start:{line:52,column:4},end:{line:79,column:9}},6:{start:{line:60,column:33},end:{line:63,column:12}},7:{start:{line:72,column:33},end:{line:75,column:12}},8:{start:{line:84,column:24},end:{line:91,column:5}},9:{start:{line:85,column:26},end:{line:85,column:64}},10:{start:{line:86,column:6},end:{line:86,column:29}},11:{start:{line:87,column:6},end:{line:90,column:9}},12:{start:{line:92,column:4},end:{line:119,column:9}},13:{start:{line:99,column:29},end:{line:102,column:12}},14:{start:{line:106,column:8},end:{line:117,column:10}},15:{start:{line:114,column:31},end:{line:114,column:52}},16:{start:{line:124,column:24},end:{line:131,column:5}},17:{start:{line:125,column:26},end:{line:125,column:64}},18:{start:{line:126,column:6},end:{line:126,column:29}},19:{start:{line:127,column:6},end:{line:130,column:9}},20:{start:{line:132,column:23},end:{line:137,column:5}},21:{start:{line:133,column:6},end:{line:136,column:9}},22:{start:{line:138,column:4},end:{line:164,column:9}},23:{start:{line:151,column:8},end:{line:162,column:10}},24:{start:{line:159,column:31},end:{line:159,column:52}},25:{start:{line:169,column:4},end:{line:180,column:6}},26:{start:{line:175,column:28},end:{line:178,column:10}},27:{start:{line:185,column:4},end:{line:217,column:9}},28:{start:{line:197,column:12},end:{line:200,column:15}},29:{start:{line:210,column:12},end:{line:213,column:15}},30:{start:{line:222,column:24},end:{line:225,column:5}},31:{start:{line:226,column:4},end:{line:261,column:5}},32:{start:{line:228,column:8},end:{line:228,column:79}},33:{start:{line:230,column:8},end:{line:230,column:85}},34:{start:{line:232,column:8},end:{line:232,column:77}},35:{start:{line:234,column:8},end:{line:234,column:76}},36:{start:{line:236,column:8},end:{line:236,column:77}},37:{start:{line:238,column:8},end:{line:238,column:76}},38:{start:{line:240,column:8},end:{line:240,column:77}},39:{start:{line:242,column:8},end:{line:254,column:13}},40:{start:{line:248,column:36},end:{line:251,column:14}},41:{start:{line:256,column:8},end:{line:256,column:74}},42:{start:{line:258,column:8},end:{line:258,column:74}},43:{start:{line:260,column:8},end:{line:260,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:29,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:29},end:{line:24,column:12}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:24},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:19},end:{line:50,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:11},end:{line:80,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:20},end:{line:60,column:21}},loc:{start:{line:60,column:33},end:{line:63,column:12}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:33},end:{line:75,column:12}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:11},end:{line:120,column:3}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:84,column:24},end:{line:84,column:25}},loc:{start:{line:84,column:38},end:{line:91,column:5}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:99,column:20},end:{line:99,column:21}},loc:{start:{line:99,column:29},end:{line:102,column:12}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:105,column:67},end:{line:105,column:68}},loc:{start:{line:105,column:83},end:{line:118,column:7}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:31},end:{line:114,column:52}},line:114},12:{name:"(anonymous_12)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:11},end:{line:165,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:24},end:{line:124,column:25}},loc:{start:{line:124,column:38},end:{line:131,column:5}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:132,column:23},end:{line:132,column:24}},loc:{start:{line:132,column:33},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:150,column:67},end:{line:150,column:68}},loc:{start:{line:150,column:83},end:{line:163,column:7}},line:150},16:{name:"(anonymous_16)",decl:{start:{line:159,column:22},end:{line:159,column:23}},loc:{start:{line:159,column:31},end:{line:159,column:52}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:181,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:175,column:18},end:{line:175,column:19}},loc:{start:{line:175,column:28},end:{line:178,column:10}},line:175},19:{name:"(anonymous_19)",decl:{start:{line:184,column:2},end:{line:184,column:3}},loc:{start:{line:184,column:11},end:{line:218,column:3}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:30},end:{line:201,column:11}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:33},end:{line:214,column:11}},line:209},22:{name:"(anonymous_22)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:262,column:3}},line:221},23:{name:"(anonymous_23)",decl:{start:{line:248,column:22},end:{line:248,column:23}},loc:{start:{line:248,column:36},end:{line:251,column:14}},line:248}},branchMap:{0:{loc:{start:{line:39,column:18},end:{line:39,column:47}},type:"binary-expr",locations:[{start:{line:39,column:18},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:47}}],line:39},1:{loc:{start:{line:59,column:17},end:{line:59,column:47}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:42}},{start:{line:59,column:46},end:{line:59,column:47}}],line:59},2:{loc:{start:{line:71,column:17},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:17},end:{line:71,column:42}},{start:{line:71,column:46},end:{line:71,column:48}}],line:71},3:{loc:{start:{line:226,column:4},end:{line:261,column:5}},type:"switch",locations:[{start:{line:227,column:6},end:{line:228,column:79}},{start:{line:229,column:6},end:{line:230,column:85}},{start:{line:231,column:6},end:{line:232,column:77}},{start:{line:233,column:6},end:{line:234,column:76}},{start:{line:235,column:6},end:{line:236,column:77}},{start:{line:237,column:6},end:{line:238,column:76}},{start:{line:239,column:6},end:{line:240,column:77}},{start:{line:241,column:6},end:{line:254,column:13}},{start:{line:255,column:6},end:{line:256,column:74}},{start:{line:257,column:6},end:{line:258,column:74}},{start:{line:259,column:6},end:{line:260,column:20}}],line:226},4:{loc:{start:{line:252,column:19},end:{line:252,column:90}},type:"binary-expr",locations:[{start:{line:252,column:19},end:{line:252,column:45}},{start:{line:252,column:49},end:{line:252,column:90}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AAwBW,SACL,KADK;AAxBX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAa1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAYA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,WAAW,WAAW,OAAO,eAAe,MACxD;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,qBAAqB,+BAA+B,MAAM,UAAuC;AAAA,EAC/F,SAAS;AACP,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,IACvB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bd3e4d09ce7131c28fb23a5fc0245fe57c891028"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Xn=function(){return a},a}Xn();class s6 extends Mn.Component{render(){return Xn().f[0]++,Xn().s[0]++,G.jsxs("div",{children:[G.jsx(lb,{label:"TileJSON URL",fieldSpec:Sa.source_vector.url,value:this.props.source.url,onChange:t=>(Xn().f[1]++,Xn().s[1]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class l6 extends Mn.Component{changeTileUrls(t){Xn().f[2]++,Xn().s[2]++,this.props.onChange({...this.props.source,tiles:t})}renderTileUrls(){Xn().f[3]++;const t=(Xn().s[3]++,Xn().b[0][0]++,this.props.source.tiles||(Xn().b[0][1]++,[]));return Xn().s[4]++,G.jsx(PQ,{label:"Tile URL",fieldSpec:Sa.source_vector.tiles,type:"url",value:t,onChange:this.changeTileUrls.bind(this)})}render(){return Xn().f[4]++,Xn().s[5]++,G.jsxs("div",{children:[this.renderTileUrls(),G.jsx(Ep,{label:"Min Zoom",fieldSpec:Sa.source_vector.minzoom,value:(Xn().b[1][0]++,this.props.source.minzoom||(Xn().b[1][1]++,0)),onChange:t=>(Xn().f[5]++,Xn().s[6]++,this.props.onChange({...this.props.source,minzoom:t}))}),G.jsx(Ep,{label:"Max Zoom",fieldSpec:Sa.source_vector.maxzoom,value:(Xn().b[2][0]++,this.props.source.maxzoom||(Xn().b[2][1]++,22)),onChange:t=>(Xn().f[6]++,Xn().s[7]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}class c7e extends Mn.Component{render(){Xn().f[7]++,Xn().s[8]++;const t=(n,r)=>{Xn().f[8]++;const i=(Xn().s[9]++,this.props.source.coordinates.slice(0));Xn().s[10]++,i[n]=r,Xn().s[11]++,this.props.onChange({...this.props.source,coordinates:i})};return Xn().s[12]++,G.jsxs("div",{children:[G.jsx(lb,{label:"Image URL",fieldSpec:Sa.source_image.url,value:this.props.source.url,onChange:n=>(Xn().f[9]++,Xn().s[13]++,this.props.onChange({...this.props.source,url:n}))}),["top left","top right","bottom right","bottom left"].map((n,r)=>(Xn().f[10]++,Xn().s[14]++,G.jsx(V4,{label:`Coord ${n}`,length:2,type:"number",value:this.props.source.coordinates[r],default:[0,0],onChange:i=>(Xn().f[11]++,Xn().s[15]++,t(r,i))},n)))]})}}class d7e extends Mn.Component{render(){Xn().f[12]++,Xn().s[16]++;const t=(r,i)=>{Xn().f[13]++;const o=(Xn().s[17]++,this.props.source.coordinates.slice(0));Xn().s[18]++,o[r]=i,Xn().s[19]++,this.props.onChange({...this.props.source,coordinates:o})};Xn().s[20]++;const n=r=>{Xn().f[14]++,Xn().s[21]++,this.props.onChange({...this.props.source,urls:r})};return Xn().s[22]++,G.jsxs("div",{children:[G.jsx(PQ,{label:"Video URL",fieldSpec:Sa.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:n}),["top left","top right","bottom right","bottom left"].map((r,i)=>(Xn().f[15]++,Xn().s[23]++,G.jsx(V4,{label:`Coord ${r}`,length:2,type:"number",value:this.props.source.coordinates[i],default:[0,0],onChange:o=>(Xn().f[16]++,Xn().s[24]++,t(i,o))},r)))]})}}class h7e extends Mn.Component{render(){return Xn().f[17]++,Xn().s[25]++,G.jsx(lb,{label:"GeoJSON URL",fieldSpec:Sa.source_geojson.data,value:this.props.source.data,onChange:t=>(Xn().f[18]++,Xn().s[26]++,this.props.onChange({...this.props.source,data:t}))})}}class f7e extends Mn.Component{render(){return Xn().f[19]++,Xn().s[27]++,G.jsxs("div",{children:[G.jsx(aa,{label:"GeoJSON",fieldSpec:Sa.source_geojson.data,children:G.jsx(fk,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{Xn().f[20]++,Xn().s[28]++,this.props.onChange({...this.props.source,data:t})}})}),G.jsx(A7e,{label:"Cluster",value:this.props.source.cluster,onChange:t=>{Xn().f[21]++,Xn().s[29]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class FQ extends Mn.Component{render(){Xn().f[22]++;const t=(Xn().s[30]++,{source:this.props.source,onChange:this.props.onChange});switch(Xn().s[31]++,this.props.mode){case"geojson_url":return Xn().b[3][0]++,Xn().s[32]++,G.jsx(h7e,{...t});case"geojson_json":return Xn().b[3][1]++,Xn().s[33]++,G.jsx(f7e,{...t});case"tilejson_vector":return Xn().b[3][2]++,Xn().s[34]++,G.jsx(s6,{...t});case"tilexyz_vector":return Xn().b[3][3]++,Xn().s[35]++,G.jsx(l6,{...t});case"tilejson_raster":return Xn().b[3][4]++,Xn().s[36]++,G.jsx(s6,{...t});case"tilexyz_raster":return Xn().b[3][5]++,Xn().s[37]++,G.jsx(l6,{...t});case"tilejson_raster-dem":return Xn().b[3][6]++,Xn().s[38]++,G.jsx(s6,{...t});case"tilexyz_raster-dem":return Xn().b[3][7]++,Xn().s[39]++,G.jsx(l6,{...t,children:G.jsx(Xk,{label:"Encoding",fieldSpec:Sa.source_raster_dem.encoding,options:Object.keys(Sa.source_raster_dem.encoding.values),onChange:n=>(Xn().f[23]++,Xn().s[40]++,this.props.onChange({...this.props.source,encoding:n})),value:(Xn().b[4][0]++,this.props.source.encoding||(Xn().b[4][1]++,Sa.source_raster_dem.encoding.default))})});case"image":return Xn().b[3][8]++,Xn().s[41]++,G.jsx(c7e,{...t});case"video":return Xn().b[3][9]++,Xn().s[42]++,G.jsx(d7e,{...t});default:return Xn().b[3][10]++,Xn().s[43]++,null}}}function wh(){var e="/home/runner/work/maputnik/maputnik/src/libs/source.ts",t="315b9927ffd3b5bf51669bb9e53779783a451930",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"315b9927ffd3b5bf51669bb9e53779783a451930"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wh=function(){return a},a}wh();function p7e(e,t){wh().f[0]++;const n=(wh().s[0]++,{...e.sources});return wh().s[1]++,delete n[t],wh().s[2]++,{...e,sources:n}}function KF(e,t,n){return wh().f[1]++,wh().s[3]++,DQ(e,t,n)}function DQ(e,t,n){wh().f[2]++;const r=(wh().s[4]++,{...e.sources,[t]:n});return wh().s[5]++,{...e,sources:r}}const m7e={type:"vector",url:"https://api.maptiler.com/tiles/v3-openmaptiles/tiles.json?key={key}",title:"OpenMapTiles v3"},g7e={type:"vector",url:"https://tile.thunderforest.com/thunderforest.transport-v2.json?apikey={key}",title:"Thunderforest Transport v2"},y7e={type:"vector",url:"https://tile.thunderforest.com/thunderforest.outdoors-v2.json?apikey={key}",title:"Thunderforest Outdoors v2"},v7e={type:"vector",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/data/vector/open-zoomstack/config.json",title:"OS Open Zoomstack v2"},PF={openmaptiles:m7e,thunderforest_transport:g7e,thunderforest_outdoors:y7e,open_zoomstack:v7e};function Xt(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",t="0cdb4eacb2560c191df467eefb0fb2a3bf6cb962",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:32,column:9}},1:{start:{line:19,column:23},end:{line:19,column:57}},2:{start:{line:36,column:2},end:{line:40,column:3}},3:{start:{line:37,column:4},end:{line:38,column:30}},4:{start:{line:38,column:6},end:{line:38,column:30}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:45,column:3}},7:{start:{line:42,column:4},end:{line:43,column:34}},8:{start:{line:43,column:6},end:{line:43,column:34}},9:{start:{line:44,column:4},end:{line:44,column:33}},10:{start:{line:46,column:2},end:{line:50,column:3}},11:{start:{line:47,column:4},end:{line:48,column:30}},12:{start:{line:48,column:6},end:{line:48,column:30}},13:{start:{line:49,column:4},end:{line:49,column:29}},14:{start:{line:51,column:2},end:{line:57,column:3}},15:{start:{line:52,column:4},end:{line:56,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:6},end:{line:55,column:28}},18:{start:{line:58,column:2},end:{line:60,column:3}},19:{start:{line:59,column:4},end:{line:59,column:19}},20:{start:{line:61,column:2},end:{line:63,column:3}},21:{start:{line:62,column:4},end:{line:62,column:19}},22:{start:{line:64,column:2},end:{line:64,column:14}},23:{start:{line:68,column:4},end:{line:94,column:9}},24:{start:{line:80,column:27},end:{line:80,column:67}},25:{start:{line:99,column:4},end:{line:99,column:17}},26:{start:{line:100,column:4},end:{line:104,column:6}},27:{start:{line:107,column:19},end:{line:107,column:50}},28:{start:{line:108,column:25},end:{line:108,column:40}},29:{start:{line:109,column:4},end:{line:183,column:5}},30:{start:{line:111,column:8},end:{line:114,column:10}},31:{start:{line:116,column:8},end:{line:120,column:10}},32:{start:{line:122,column:8},end:{line:125,column:10}},33:{start:{line:127,column:8},end:{line:132,column:10}},34:{start:{line:134,column:8},end:{line:137,column:10}},35:{start:{line:139,column:8},end:{line:144,column:10}},36:{start:{line:146,column:8},end:{line:149,column:10}},37:{start:{line:151,column:8},end:{line:156,column:10}},38:{start:{line:158,column:8},end:{line:167,column:10}},39:{start:{line:169,column:8},end:{line:180,column:10}},40:{start:{line:182,column:8},end:{line:182,column:18}},41:{start:{line:185,column:10},end:{line:188,column:3}},42:{start:{line:186,column:33},end:{line:186,column:43}},43:{start:{line:187,column:4},end:{line:187,column:39}},44:{start:{line:189,column:19},end:{line:191,column:3}},45:{start:{line:190,column:4},end:{line:190,column:30}},46:{start:{line:193,column:32},end:{line:195,column:5}},47:{start:{line:196,column:4},end:{line:243,column:9}},48:{start:{line:203,column:27},end:{line:203,column:57}},49:{start:{line:223,column:30},end:{line:223,column:87}},50:{start:{line:248,column:27},end:{line:248,column:40}},51:{start:{line:249,column:4},end:{line:249,column:35}},52:{start:{line:250,column:4},end:{line:250,column:26}},53:{start:{line:253,column:21},end:{line:253,column:40}},54:{start:{line:254,column:26},end:{line:266,column:6}},55:{start:{line:255,column:21},end:{line:255,column:47}},56:{start:{line:256,column:6},end:{line:265,column:8}},57:{start:{line:261,column:29},end:{line:261,column:93}},58:{start:{line:262,column:26},end:{line:262,column:85}},59:{start:{line:267,column:27},end:{line:279,column:6}},60:{start:{line:267,column:75},end:{line:267,column:106}},61:{start:{line:268,column:21},end:{line:268,column:44}},62:{start:{line:269,column:6},end:{line:278,column:8}},63:{start:{line:275,column:26},end:{line:275,column:107}},64:{start:{line:280,column:4},end:{line:309,column:6}},65:{start:{line:303,column:45},end:{line:303,column:109}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:33,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:57}},line:19},2:{name:"editorMode",decl:{start:{line:35,column:9},end:{line:35,column:19}},loc:{start:{line:35,column:28},end:{line:65,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:95,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:184,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:185,column:10},end:{line:185,column:11}},loc:{start:{line:185,column:16},end:{line:188,column:3}},line:185},8:{name:"(anonymous_8)",decl:{start:{line:189,column:19},end:{line:189,column:20}},loc:{start:{line:189,column:31},end:{line:191,column:3}},line:189},9:{name:"(anonymous_9)",decl:{start:{line:192,column:2},end:{line:192,column:3}},loc:{start:{line:192,column:11},end:{line:244,column:3}},line:192},10:{name:"(anonymous_10)",decl:{start:{line:203,column:20},end:{line:203,column:21}},loc:{start:{line:203,column:27},end:{line:203,column:57}},line:203},11:{name:"(anonymous_11)",decl:{start:{line:223,column:20},end:{line:223,column:21}},loc:{start:{line:223,column:30},end:{line:223,column:87}},line:223},12:{name:"(anonymous_12)",decl:{start:{line:247,column:2},end:{line:247,column:3}},loc:{start:{line:247,column:21},end:{line:251,column:3}},line:247},13:{name:"(anonymous_13)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:11},end:{line:310,column:3}},line:252},14:{name:"(anonymous_14)",decl:{start:{line:254,column:60},end:{line:254,column:61}},loc:{start:{line:254,column:74},end:{line:266,column:5}},line:254},15:{name:"(anonymous_15)",decl:{start:{line:261,column:20},end:{line:261,column:21}},loc:{start:{line:261,column:29},end:{line:261,column:93}},line:261},16:{name:"(anonymous_16)",decl:{start:{line:262,column:20},end:{line:262,column:21}},loc:{start:{line:262,column:26},end:{line:262,column:85}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:267,column:61},end:{line:267,column:62}},loc:{start:{line:267,column:75},end:{line:267,column:106}},line:267},18:{name:"(anonymous_18)",decl:{start:{line:267,column:112},end:{line:267,column:113}},loc:{start:{line:267,column:126},end:{line:279,column:5}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:275,column:20},end:{line:275,column:21}},loc:{start:{line:275,column:26},end:{line:275,column:107}},line:275},20:{name:"(anonymous_20)",decl:{start:{line:303,column:23},end:{line:303,column:24}},loc:{start:{line:303,column:45},end:{line:303,column:109}},line:303}},branchMap:{0:{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},1:{loc:{start:{line:37,column:4},end:{line:38,column:30}},type:"if",locations:[{start:{line:37,column:4},end:{line:38,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:43,column:34}},type:"if",locations:[{start:{line:42,column:4},end:{line:43,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:46,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:46,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},5:{loc:{start:{line:47,column:4},end:{line:48,column:30}},type:"if",locations:[{start:{line:47,column:4},end:{line:48,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:51,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:57,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},7:{loc:{start:{line:52,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:56,column:5}},{start:{line:54,column:11},end:{line:56,column:5}}],line:52},8:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},9:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},11:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},12:{loc:{start:{line:109,column:4},end:{line:183,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:120,column:10}},{start:{line:121,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:132,column:10}},{start:{line:133,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:144,column:10}},{start:{line:145,column:6},end:{line:149,column:10}},{start:{line:150,column:6},end:{line:156,column:10}},{start:{line:157,column:6},end:{line:167,column:10}},{start:{line:168,column:6},end:{line:180,column:10}},{start:{line:181,column:6},end:{line:182,column:18}}],line:109},13:{loc:{start:{line:118,column:19},end:{line:118,column:42}},type:"binary-expr",locations:[{start:{line:118,column:19},end:{line:118,column:33}},{start:{line:118,column:37},end:{line:118,column:42}}],line:118},14:{loc:{start:{line:124,column:15},end:{line:124,column:72}},type:"binary-expr",locations:[{start:{line:124,column:15},end:{line:124,column:25}},{start:{line:124,column:29},end:{line:124,column:72}}],line:124},15:{loc:{start:{line:129,column:17},end:{line:129,column:80}},type:"binary-expr",locations:[{start:{line:129,column:17},end:{line:129,column:29}},{start:{line:129,column:33},end:{line:129,column:80}}],line:129},16:{loc:{start:{line:130,column:19},end:{line:130,column:38}},type:"binary-expr",locations:[{start:{line:130,column:19},end:{line:130,column:33}},{start:{line:130,column:37},end:{line:130,column:38}}],line:130},17:{loc:{start:{line:131,column:19},end:{line:131,column:39}},type:"binary-expr",locations:[{start:{line:131,column:19},end:{line:131,column:33}},{start:{line:131,column:37},end:{line:131,column:39}}],line:131},18:{loc:{start:{line:136,column:15},end:{line:136,column:72}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:25}},{start:{line:136,column:29},end:{line:136,column:72}}],line:136},19:{loc:{start:{line:141,column:17},end:{line:141,column:80}},type:"binary-expr",locations:[{start:{line:141,column:17},end:{line:141,column:29}},{start:{line:141,column:33},end:{line:141,column:80}}],line:141},20:{loc:{start:{line:142,column:19},end:{line:142,column:38}},type:"binary-expr",locations:[{start:{line:142,column:19},end:{line:142,column:33}},{start:{line:142,column:37},end:{line:142,column:38}}],line:142},21:{loc:{start:{line:143,column:19},end:{line:143,column:39}},type:"binary-expr",locations:[{start:{line:143,column:19},end:{line:143,column:33}},{start:{line:143,column:37},end:{line:143,column:39}}],line:143},22:{loc:{start:{line:148,column:15},end:{line:148,column:72}},type:"binary-expr",locations:[{start:{line:148,column:15},end:{line:148,column:25}},{start:{line:148,column:29},end:{line:148,column:72}}],line:148},23:{loc:{start:{line:153,column:17},end:{line:153,column:80}},type:"binary-expr",locations:[{start:{line:153,column:17},end:{line:153,column:29}},{start:{line:153,column:33},end:{line:153,column:80}}],line:153},24:{loc:{start:{line:154,column:19},end:{line:154,column:38}},type:"binary-expr",locations:[{start:{line:154,column:19},end:{line:154,column:33}},{start:{line:154,column:37},end:{line:154,column:38}}],line:154},25:{loc:{start:{line:155,column:19},end:{line:155,column:39}},type:"binary-expr",locations:[{start:{line:155,column:19},end:{line:155,column:33}},{start:{line:155,column:37},end:{line:155,column:39}}],line:155}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AA+BU,cACA,YADA;AA/BV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAGnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,WAAW,KAAK,MAAM,QAAQ;AAAA,YAC1C,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,iBAAiB;AAAA,IAC9C;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AAQP,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,EAAC,KAAK,yFAAwF;AAAA,UACzG,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,gBAAgB,gBAAgB;AAAA,YACjC,CAAC,eAAe,eAAe;AAAA,YAC/B,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,mBAAmB;AAAA,YACtC,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,kBAAkB;AAAA,YACrC,CAAC,uBAAuB,2BAA2B;AAAA,YACnD,CAAC,sBAAsB,uBAAuB;AAAA,YAC9C,CAAC,SAAS,OAAO;AAAA,YACjB,CAAC,SAAS,OAAO;AAAA,UACnB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA;AAAA,MACpB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EACF;AACF;AASA,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM;AAC5B,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA;AAAA,QAJrE;AAAA,MAKP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YACjB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,kCAAoB;AAAA,YACxB,oBAAC,OAAE,sEAEH;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YAClB,oBAAC,OAAE,0GAA4F;AAAA,YAC/F;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA;AAAA,YAC3H;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0cdb4eacb2560c191df467eefb0fb2a3bf6cb962"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Xt=function(){return a},a}Xt();class _7e extends Mn.Component{render(){return Xt().f[0]++,Xt().s[0]++,G.jsx("div",{className:"maputnik-public-source",children:G.jsxs(za,{className:"maputnik-public-source-select",onClick:()=>(Xt().f[1]++,Xt().s[1]++,this.props.onSelect(this.props.id)),children:[G.jsxs("div",{className:"maputnik-public-source-info",children:[G.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),G.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),G.jsx("span",{className:"maputnik-space"}),G.jsx(rz,{})]})})}}function C7e(e){return Xt().f[2]++,Xt().s[2]++,e.type==="raster"?(Xt().b[0][0]++,Xt().s[3]++,e.tiles?(Xt().b[1][0]++,Xt().s[4]++,"tilexyz_raster"):(Xt().b[1][1]++,Xt().s[5]++,"tilejson_raster")):(Xt().b[0][1]++,Xt().s[6]++,e.type==="raster-dem"?(Xt().b[2][0]++,Xt().s[7]++,e.tiles?(Xt().b[3][0]++,Xt().s[8]++,"tilexyz_raster-dem"):(Xt().b[3][1]++,Xt().s[9]++,"tilejson_raster-dem")):(Xt().b[2][1]++,Xt().s[10]++,e.type==="vector"?(Xt().b[4][0]++,Xt().s[11]++,e.tiles?(Xt().b[5][0]++,Xt().s[12]++,"tilexyz_vector"):(Xt().b[5][1]++,Xt().s[13]++,"tilejson_vector")):(Xt().b[4][1]++,Xt().s[14]++,e.type==="geojson"?(Xt().b[6][0]++,Xt().s[15]++,typeof e.data=="string"?(Xt().b[7][0]++,Xt().s[16]++,"geojson_url"):(Xt().b[7][1]++,Xt().s[17]++,"geojson_json")):(Xt().b[6][1]++,Xt().s[18]++,e.type==="image"?(Xt().b[8][0]++,Xt().s[19]++,"image"):(Xt().b[8][1]++,Xt().s[20]++,e.type==="video"?(Xt().b[9][0]++,Xt().s[21]++,"video"):(Xt().b[9][1]++,Xt().s[22]++,null))))))}class b7e extends Mn.Component{render(){return Xt().f[3]++,Xt().s[23]++,G.jsxs("div",{className:"maputnik-active-source-type-editor",children:[G.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[G.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),G.jsx("span",{className:"maputnik-space"}),G.jsx(za,{"aria-label":`Remove '${this.props.sourceId}' source`,className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(Xt().f[4]++,Xt().s[24]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:G.jsx(mv,{})})]}),G.jsx("div",{className:"maputnik-active-source-type-editor-content",children:G.jsx(FQ,{onChange:this.props.onChange,mode:C7e(this.props.source),source:this.props.source})})]})}}class x7e extends Mn.Component{constructor(n){Xt().f[5]++,Xt().s[25]++;super(n);on(this,"onAdd",(Xt().s[41]++,()=>{Xt().f[7]++;const{source:n,sourceId:r}=(Xt().s[42]++,this.state);Xt().s[43]++,this.props.onAdd(r,n)}));on(this,"onChangeSource",(Xt().s[44]++,n=>{Xt().f[8]++,Xt().s[45]++,this.setState({source:n})}));Xt().s[26]++,this.state={mode:"tilejson_vector",sourceId:Lu.generateId(),source:this.defaultSource("tilejson_vector")}}defaultSource(n){Xt().f[6]++;const r=(Xt().s[27]++,Xt().b[10][0]++,(Xt().b[11][0]++,this.state||(Xt().b[11][1]++,{})).source||(Xt().b[10][1]++,{})),{protocol:i}=(Xt().s[28]++,window.location);switch(Xt().s[29]++,n){case"geojson_url":return Xt().b[12][0]++,Xt().s[30]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return Xt().b[12][1]++,Xt().s[31]++,{type:"geojson",cluster:(Xt().b[13][0]++,r.cluster||(Xt().b[13][1]++,!1)),data:""};case"tilejson_vector":return Xt().b[12][2]++,Xt().s[32]++,{type:"vector",url:(Xt().b[14][0]++,r.url||(Xt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_vector":return Xt().b[12][3]++,Xt().s[33]++,{type:"vector",tiles:(Xt().b[15][0]++,r.tiles||(Xt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Xt().b[16][0]++,r.minzoom||(Xt().b[16][1]++,0)),maxzoom:(Xt().b[17][0]++,r.maxzoom||(Xt().b[17][1]++,14))};case"tilejson_raster":return Xt().b[12][4]++,Xt().s[34]++,{type:"raster",url:(Xt().b[18][0]++,r.url||(Xt().b[18][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster":return Xt().b[12][5]++,Xt().s[35]++,{type:"raster",tiles:(Xt().b[19][0]++,r.tiles||(Xt().b[19][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Xt().b[20][0]++,r.minzoom||(Xt().b[20][1]++,0)),maxzoom:(Xt().b[21][0]++,r.maxzoom||(Xt().b[21][1]++,14))};case"tilejson_raster-dem":return Xt().b[12][6]++,Xt().s[36]++,{type:"raster-dem",url:(Xt().b[22][0]++,r.url||(Xt().b[22][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return Xt().b[12][7]++,Xt().s[37]++,{type:"raster-dem",tiles:(Xt().b[23][0]++,r.tiles||(Xt().b[23][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Xt().b[24][0]++,r.minzoom||(Xt().b[24][1]++,0)),maxzoom:(Xt().b[25][0]++,r.maxzoom||(Xt().b[25][1]++,14))};case"image":return Xt().b[12][8]++,Xt().s[38]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return Xt().b[12][9]++,Xt().s[39]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return Xt().b[12][10]++,Xt().s[40]++,{}}}render(){Xt().f[9]++;const n=(Xt().s[46]++,{doc:no.source_vector.type.doc});return Xt().s[47]++,G.jsxs("div",{className:"maputnik-add-source",children:[G.jsx(Fm,{label:"Source ID",fieldSpec:{doc:"Unique ID that identifies the source and is used in the layer to reference the source."},value:this.state.sourceId,onChange:r=>(Xt().f[10]++,Xt().s[48]++,this.setState({sourceId:r}))}),G.jsx(Xk,{label:"Source Type",fieldSpec:n,options:[["geojson_json","GeoJSON (JSON)"],["geojson_url","GeoJSON (URL)"],["tilejson_vector","Vector (TileJSON URL)"],["tilexyz_vector","Vector (XYZ URLs)"],["tilejson_raster","Raster (TileJSON URL)"],["tilexyz_raster","Raster (XYZ URL)"],["tilejson_raster-dem","Raster DEM (TileJSON URL)"],["tilexyz_raster-dem","Raster DEM (XYZ URLs)"],["image","Image"],["video","Video"]],onChange:r=>(Xt().f[11]++,Xt().s[49]++,this.setState({mode:r,source:this.defaultSource(r)})),value:this.state.mode}),G.jsx(FQ,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),G.jsx(za,{className:"maputnik-add-source-button",onClick:this.onAdd,children:"Add Source"})]})}}class w7e extends Mn.Component{stripTitle(t){Xt().f[12]++;const n=(Xt().s[50]++,{...t});return Xt().s[51]++,delete n.title,Xt().s[52]++,n}render(){Xt().f[13]++;const t=(Xt().s[53]++,this.props.mapStyle),n=(Xt().s[54]++,Object.keys(t.sources).map(i=>{Xt().f[14]++;const o=(Xt().s[55]++,t.sources[i]);return Xt().s[56]++,G.jsx(b7e,{sourceId:i,source:o,onChange:a=>(Xt().f[15]++,Xt().s[57]++,this.props.onStyleChanged(DQ(t,i,a))),onDelete:()=>(Xt().f[16]++,Xt().s[58]++,this.props.onStyleChanged(p7e(t,i)))},i)})),r=(Xt().s[59]++,Object.keys(PF).filter(i=>(Xt().f[17]++,Xt().s[60]++,!(i in t.sources))).map(i=>{Xt().f[18]++;const o=(Xt().s[61]++,PF[i]);return Xt().s[62]++,G.jsx(_7e,{id:i,type:o.type,title:o.title,onSelect:()=>(Xt().f[19]++,Xt().s[63]++,this.props.onStyleChanged(KF(t,i,this.stripTitle(o))))},i)}));return Xt().s[64]++,G.jsxs(Gf,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Sources",children:[G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Active Sources"}),n]}),G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Choose Public Source"}),G.jsx("p",{children:"Add one of the publicly available sources to your style."}),G.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:r})]}),G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Add New Source"}),G.jsx("p",{children:"Add a new source to your style. You can only choose the source type and id at creation time!"}),G.jsx(x7e,{onAdd:(i,o)=>(Xt().f[20]++,Xt().s[65]++,this.props.onStyleChanged(KF(t,i,o)))})]})]})}}var LQ={};Object.defineProperty(LQ,"__esModule",{value:!0});var M7e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S7e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E7e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O7e=kr,u6=T7e(O7e),B7e=d0,k7e=I7e(B7e);function I7e(e){return e&&e.__esModule?e:{default:e}}function T7e(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function K7e(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function P7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function D7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L7e=function(e){D7e(t,e);function t(n){P7e(this,t);var r=F7e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));r.handleChange=function(o){var a=Array.prototype.slice.call(o.target.files),s=(r.props.as||"url").toLowerCase();Promise.all(a.map(function(h){return new Promise(function(g,_){var B=new FileReader;switch(B.onload=function(k){g([k,h])},s){case"binary":{B.readAsBinaryString(h);break}case"buffer":{B.readAsArrayBuffer(h);break}case"text":{B.readAsText(h);break}case"url":{B.readAsDataURL(h);break}}})})).then(function(h){r.props.onChange(o,h)})},r.triggerInput=function(){var o=k7e.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":S7e(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return E7e(t,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,a=i.style,s=K7e(i,["as","children","style"]),h=o?{position:"absolute",top:"-9999px"}:{};return u6.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:a},u6.createElement("input",M7e({},s,{type:"file",ref:function(_){r._reactFileReaderInput=_},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:h})),o)}}]),t}(u6.Component),U7e=LQ.default=L7e;function Sd(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",t="c730187d836bc577ee534587d8c8df17ae09966b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:27,column:6}},2:{start:{line:18,column:26},end:{line:18,column:42}},3:{start:{line:21,column:28},end:{line:21,column:49}},4:{start:{line:24,column:137},end:{line:24,column:159}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:21},end:{line:8,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:28,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:26},end:{line:18,column:42}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:22},end:{line:21,column:23}},loc:{start:{line:21,column:28},end:{line:21,column:49}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:24,column:130},end:{line:24,column:131}},loc:{start:{line:24,column:137},end:{line:24,column:159}},line:24}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAqBW,SAWL,KAXK;AArBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAAG,oBAErD,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c730187d836bc577ee534587d8c8df17ae09966b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Sd=function(){return a},a}Sd();class R7e extends Mn.Component{underlayOnClick(t){Sd().f[0]++,Sd().s[0]++,t.stopPropagation()}render(){return Sd().f[1]++,Sd().s[1]++,G.jsxs(Gf,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:t=>(Sd().f[2]++,Sd().s[2]++,underlayProps(t))},title:this.props.title,onOpenToggle:()=>(Sd().f[3]++,Sd().s[3]++,this.props.onCancel()),children:[G.jsx("p",{children:this.props.message}),G.jsx("p",{className:"maputnik-dialog__buttons",children:G.jsx(za,{onClick:t=>(Sd().f[4]++,Sd().s[4]++,this.props.onCancel(t)),children:"Cancel"})})]})}}const UQ=[{id:"0-empty-style",title:"Empty Style",url:"https://cdn.jsdelivr.net/gh/maputnik/editor@9cf74ca405d2be0608b57db8109cf3a6af5b9f49/src/config/empty-style.json",thumbnail:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAQAAAAHDYbIAAAAEUlEQVR42mP8/58BDhiJ4wAA974H/U5Xe1oAAAAASUVORK5CYII="},{id:"dark-matter",title:"Dark Matter",url:"https://cdn.jsdelivr.net/gh/openmaptiles/dark-matter-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/dark-matter.png"},{id:"maptiler-basic-gl-style",title:"Maptiler Basic",url:"https://cdn.jsdelivr.net/gh/openmaptiles/klokantech-basic-gl-style@v1.10/style.json",thumbnail:"https://maputnik.github.io/thumbnails/klokantech-basic.png"},{id:"maptiler-toner-gl-style",title:"Toner",url:"https://cdn.jsdelivr.net/gh/openmaptiles/toner-gl-style@v1.0/style.json",thumbnail:"https://maputnik.github.io/thumbnails/toner.png"},{id:"os-zoomstack-light",title:"Zoomstack Light",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-light/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-light.png"},{id:"os-zoomstack-night",title:"Zoomstack Night",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-night/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"os-zoomstack-outdoor",title:"Zoomstack Outdoor",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-outdoor/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-outdoor.png"},{id:"os-zoomstack-road",title:"Zoomstack Road",url:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/v2/styles/open-zoomstack-road/style.json",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-road.png"},{id:"osm-bright",title:"OSM Bright",url:"https://cdn.jsdelivr.net/gh/openmaptiles/osm-bright-gl-style@v1.11/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-bright.png"},{id:"osm-liberty",title:"OSM Liberty",url:"https://maputnik.github.io/osm-liberty/style.json",thumbnail:"https://maputnik.github.io/thumbnails/osm-liberty.png"},{id:"positron",title:"Positron",url:"https://cdn.jsdelivr.net/gh/openmaptiles/positron-gl-style@v1.9/style.json",thumbnail:"https://maputnik.github.io/thumbnails/positron.png"},{id:"stadia-outdoors",title:"Stadia Outdoors",url:"https://tiles.stadiamaps.com/styles/outdoors.json",thumbnail:"https://tiles.stadiamaps.com/static/outdoors.png?size=480x320&center=47.350259,8.49035&zoom=16"},{id:"versatiles-colorful",title:"Versatiles Colorful",url:"https://tiles.versatiles.org/assets/styles/colorful.json",thumbnail:"https://github.com/maplibre/maputnik/assets/649392/6cd69818-c541-46e4-a920-65fb4f654931"}];function Zn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",t="6f55b81c74a9657afee47a2c5820a136d93a0f65",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:37,column:9}},1:{start:{line:19,column:23},end:{line:19,column:58}},2:{start:{line:42,column:4},end:{line:42,column:17}},3:{start:{line:43,column:4},end:{line:45,column:6}},4:{start:{line:48,column:4},end:{line:50,column:7}},5:{start:{line:53,column:4},end:{line:54,column:26}},6:{start:{line:54,column:6},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:25},end:{line:150,column:6}},51:{start:{line:140,column:6},end:{line:149,column:8}},52:{start:{line:152,column:4},end:{line:157,column:5}},53:{start:{line:153,column:6},end:{line:156,column:11}},54:{start:{line:155,column:61},end:{line:155,column:78}},55:{start:{line:158,column:4},end:{line:224,column:9}},56:{start:{line:164,column:30},end:{line:164,column:49}},57:{start:{line:220,column:27},end:{line:220,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:38,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:58}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:21},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:15},end:{line:51,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:62,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:225,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:139,column:42},end:{line:139,column:43}},loc:{start:{line:139,column:54},end:{line:150,column:5}},line:139},18:{name:"(anonymous_18)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:61},end:{line:155,column:78}},line:155},19:{name:"(anonymous_19)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:30},end:{line:164,column:49}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:220,column:20},end:{line:220,column:21}},loc:{start:{line:220,column:27},end:{line:220,column:56}},line:220}},branchMap:{0:{loc:{start:{line:53,column:4},end:{line:54,column:26}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA4BQ,SACE,KADF;AA5BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AAExC,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG;AAAG,QAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO;AAAA,UAEN;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAG,0BAAY;AAAA,cAChB,oBAAC,OAAE,qDAAuC;AAAA,cAC1C,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAW,cACjE,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,iBAAO,GACzE;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAG,2BAAa;AAAA,cACjB,qBAAC,OAAE;AAAA;AAAA,gBAC4C,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAW;AAAA,kBACX,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAQ;AAAA,kBACR,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAG,4BAAc;AAAA,cAClB,oBAAC,OAAE,sEAEH;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,cAAY,KAAK,MAAM;AAAA;AAAA,MAClC;AAAA,OACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f55b81c74a9657afee47a2c5820a136d93a0f65"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Zn=function(){return a},a}Zn();class z7e extends Mn.Component{render(){return Zn().f[0]++,Zn().s[0]++,G.jsx("div",{className:"maputnik-public-style",children:G.jsxs(za,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Zn().f[1]++,Zn().s[1]++,this.props.onSelect(this.props.url)),children:[G.jsxs("div",{className:"maputnik-public-style-header",children:[G.jsx("div",{children:this.props.title}),G.jsx("span",{className:"maputnik-space"}),G.jsx(rz,{})]}),G.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class j7e extends Mn.Component{constructor(n){Zn().f[2]++,Zn().s[2]++;super(n);on(this,"onStyleSelect",(Zn().s[10]++,n=>{Zn().f[5]++,Zn().s[11]++,this.clearError();let r=(Zn().s[12]++,!1);Zn().s[13]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(i){return Zn().f[6]++,Zn().s[14]++,i.json()}).then(i=>{if(Zn().f[7]++,Zn().s[15]++,r){Zn().b[2][0]++,Zn().s[16]++;return}else Zn().b[2][1]++;Zn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Zn().s[18]++,Lu.ensureStyleValidity(i));Zn().s[19]++,console.log("Loaded style ",o.id),Zn().s[20]++,this.props.onStyleOpen(o),Zn().s[21]++,this.onOpenToggle()}).catch(i=>{Zn().f[8]++,Zn().s[22]++,this.setState({error:`Failed to load: '${n}'`,activeRequest:null,activeRequestUrl:null}),Zn().s[23]++,console.error(i),Zn().s[24]++,console.warn("Could not open the style URL",n)}),Zn().s[25]++,this.setState({activeRequest:{abort:function(){Zn().f[9]++,Zn().s[26]++,r=!0}},activeRequestUrl:n})}));on(this,"onSubmitUrl",(Zn().s[27]++,n=>{Zn().f[10]++,Zn().s[28]++,n.preventDefault(),Zn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));on(this,"onUpload",(Zn().s[30]++,(n,r)=>{Zn().f[11]++;const[,i]=(Zn().s[31]++,r[0]),o=(Zn().s[32]++,new FileReader);Zn().s[33]++,this.clearError(),Zn().s[34]++,o.readAsText(i,"UTF-8"),Zn().s[35]++,o.onload=a=>{var h;Zn().f[12]++;let s;Zn().s[36]++;try{Zn().s[37]++,s=JSON.parse((h=a.target)==null?void 0:h.result)}catch(g){Zn().s[38]++,this.setState({error:g.toString()}),Zn().s[39]++;return}Zn().s[40]++,s=Lu.ensureStyleValidity(s),Zn().s[41]++,this.props.onStyleOpen(s),Zn().s[42]++,this.onOpenToggle()},Zn().s[43]++,o.onerror=a=>(Zn().f[13]++,Zn().s[44]++,console.log(a.target))}));on(this,"onChangeUrl",(Zn().s[48]++,n=>{Zn().f[15]++,Zn().s[49]++,this.setState({styleUrl:n})}));Zn().s[3]++,this.state={styleUrl:""}}clearError(){Zn().f[3]++,Zn().s[4]++,this.setState({error:null})}onCancelActiveRequest(n){Zn().f[4]++,Zn().s[5]++,n?(Zn().b[0][0]++,Zn().s[6]++,n.stopPropagation()):Zn().b[0][1]++,Zn().s[7]++,this.state.activeRequest?(Zn().b[1][0]++,Zn().s[8]++,this.state.activeRequest.abort(),Zn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Zn().b[1][1]++}onOpenToggle(){Zn().f[14]++,Zn().s[45]++,this.setState({styleUrl:""}),Zn().s[46]++,this.clearError(),Zn().s[47]++,this.props.onOpenToggle()}render(){Zn().f[16]++;const n=(Zn().s[50]++,UQ.map(i=>(Zn().f[17]++,Zn().s[51]++,G.jsx(z7e,{url:i.url,title:i.title,thumbnailUrl:i.thumbnail,onSelect:this.onStyleSelect},i.id))));let r;return Zn().s[52]++,this.state.error?(Zn().b[3][0]++,Zn().s[53]++,r=G.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,G.jsx("a",{href:"#",onClick:()=>(Zn().f[18]++,Zn().s[54]++,this.clearError()),className:"maputnik-modal-error-close",children:"×"})]})):Zn().b[3][1]++,Zn().s[55]++,G.jsxs("div",{children:[G.jsxs(Gf,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Zn().f[19]++,Zn().s[56]++,this.onOpenToggle()),title:"Open Style",children:[r,G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Upload Style"}),G.jsx("p",{children:"Upload a JSON style from your computer."}),G.jsx(U7e,{onChange:this.onUpload,tabIndex:-1,"aria-label":"Style file",children:G.jsxs(za,{className:"maputnik-upload-button",children:[G.jsx(lte,{})," Upload"]})})]}),G.jsx("section",{className:"maputnik-modal-section",children:G.jsxs("form",{onSubmit:this.onSubmitUrl,children:[G.jsx("h1",{children:"Load from URL"}),G.jsxs("p",{children:["Load from a URL. Note that the URL must have ",G.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]}),G.jsx(Vk,{"aria-label":"Style URL","data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:"Enter URL...",value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),G.jsx("div",{children:G.jsx(za,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),G.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[G.jsx("h1",{children:"Gallery Styles"}),G.jsx("p",{children:"Open one of the publicly available styles to start from."}),G.jsx("div",{className:"maputnik-style-gallery-container",children:n})]})]}),G.jsx(R7e,{isOpen:!!this.state.activeRequest,title:"Loading style",onCancel:i=>(Zn().f[20]++,Zn().s[57]++,this.onCancelActiveRequest(i)),message:"Loading: "+this.state.activeRequestUrl})]})}}function Cf(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",t="5c6b0b4c3c3cced12e6393d9679f373c813a1e88",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:39,column:5}},1:{start:{line:40,column:25},end:{line:113,column:5}},2:{start:{line:114,column:4},end:{line:143,column:6}},3:{start:{line:128,column:12},end:{line:131,column:22}},4:{start:{line:135,column:12},end:{line:139,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:144,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:127,column:57},end:{line:127,column:58}},loc:{start:{line:127,column:72},end:{line:132,column:11}},line:127},2:{name:"(anonymous_2)",decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:80},end:{line:140,column:11}},line:134}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAea,SAwCA,UAxCA,KAwCA,YAxCA;AAfb,OAAO,WAAW;AAElB,OAAO,WAAW;AASlB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,aAAQ,WAAU,mDACjB;AAAA,+BAAC,OAAE;AAAA;AAAA,YACK,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAE,0EAA4D;AAAA,UAC/D,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5c6b0b4c3c3cced12e6393d9679f373c813a1e88"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Cf=function(){return a},a}Cf();class W7e extends Mn.Component{render(){Cf().f[0]++;const t=(Cf().s[0]++,[{key:G.jsx("kbd",{children:"?"}),text:"Shortcuts menu"},{key:G.jsx("kbd",{children:"o"}),text:"Open modal"},{key:G.jsx("kbd",{children:"e"}),text:"Export modal"},{key:G.jsx("kbd",{children:"d"}),text:"Data Sources modal"},{key:G.jsx("kbd",{children:"s"}),text:"Style Settings modal"},{key:G.jsx("kbd",{children:"i"}),text:"Toggle inspect"},{key:G.jsx("kbd",{children:"m"}),text:"Focus map"},{key:G.jsx("kbd",{children:"!"}),text:"Debug modal"}]),n=(Cf().s[1]++,[{key:G.jsx("kbd",{children:"+"}),text:"Increase the zoom level by 1."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"+"})]}),text:"Increase the zoom level by 2."},{key:G.jsx("kbd",{children:"-"}),text:"Decrease the zoom level by 1."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"-"})]}),text:"Decrease the zoom level by 2."},{key:G.jsx("kbd",{children:"Up"}),text:"Pan up by 100 pixels."},{key:G.jsx("kbd",{children:"Down"}),text:"Pan down by 100 pixels."},{key:G.jsx("kbd",{children:"Left"}),text:"Pan left by 100 pixels."},{key:G.jsx("kbd",{children:"Right"}),text:"Pan right by 100 pixels."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Right"})]}),text:"Increase the rotation by 15 degrees."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Left"})]}),text:"Decrease the rotation by 15 degrees."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Up"})]}),text:"Increase the pitch by 10 degrees."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Down"})]}),text:"Decrease the pitch by 10 degrees."}]);return Cf().s[2]++,G.jsx(Gf,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts",children:G.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[G.jsxs("p",{children:["Press ",G.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]}),G.jsx("dl",{children:t.map((r,i)=>(Cf().f[1]++,Cf().s[3]++,G.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[G.jsx("dt",{children:r.key},"dt"+i),G.jsx("dd",{children:r.text},"dd"+i)]},i)))}),G.jsx("p",{children:"If the Map is in focused you can use the following shortcuts"}),G.jsx("ul",{children:n.map((r,i)=>(Cf().f[2]++,Cf().s[4]++,G.jsxs("li",{children:[G.jsx("span",{children:r.key})," ",r.text]},i)))})]})})}}const N7e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function km(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",t="61657e6b288c15c4507475083ae2151817c1dbb9",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",statementMap:{0:{start:{line:7,column:12},end:{line:10,column:3}},1:{start:{line:8,column:4},end:{line:8,column:76}},2:{start:{line:9,column:4},end:{line:9,column:30}},3:{start:{line:12,column:4},end:{line:27,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:12},end:{line:7,column:13}},loc:{start:{line:7,column:18},end:{line:10,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx"],names:[],mappings:"AA2BM,SACE,KADF;AA3BN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAGlB,OAAO,eAAe;AAOtB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,UAAU,MAAM;AACd,WAAO,KAAK,kDAAkD,QAAQ;AAEtE,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAM;AAAA,QAEN,+BAAC,SAAI,WAAU,yBACb;AAAA,8BAAC,SAAI,KAAK,WAAW,WAAU,+BAA8B;AAAA,UAC7D,oBAAC,QAAG,sDAAwC;AAAA,UAC5C,oBAAC,OAAE,WAAU,sCAAqC,uLAAyK;AAAA,UAC3N,oBAAC,eAAY,SAAS,KAAK,SAAS,WAAU,kEAAiE,sCAAwB;AAAA,UACvI,oBAAC,OAAE,WAAU,mCAAkC,mEAAqD;AAAA,WACtG;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61657e6b288c15c4507475083ae2151817c1dbb9"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return km=function(){return a},a}km();class G7e extends Mn.Component{constructor(){super(...arguments);on(this,"onClick",(km().s[0]++,()=>{km().f[0]++,km().s[1]++,window.open("https://gregorywolanski.typeform.com/to/cPgaSY","_blank"),km().s[2]++,this.props.onOpenToggle()}))}render(){return km().f[1]++,km().s[3]++,G.jsx(Gf,{"data-wd-key":"modal:survey",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Maputnik Survey",children:G.jsxs("div",{className:"maputnik-modal-survey",children:[G.jsx("img",{src:N7e,className:"maputnik-modal-survey__logo"}),G.jsx("h1",{children:"You + Maputnik = Maputnik better for you"}),G.jsx("p",{className:"maputnik-modal-survey__description",children:"We don’t track you, so we don’t know how you use Maputnik. Help us make Maputnik better for you by completing a 7–minute survey carried out by our contributing designer."}),G.jsx(za,{onClick:this.onClick,className:"maputnik-big-button maputnik-white-button maputnik-wide-button",children:"Take the Maputnik Survey"}),G.jsx("p",{className:"maputnik-modal-survey__footnote",children:"It takes 7 minutes, tops! Every question is optional."})]})})}}function Il(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",t="3e2ef17c22ea77c711c82e681a7c05add06fcb64",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:6,column:34}},1:{start:{line:7,column:20},end:{line:7,column:48}},2:{start:{line:8,column:19},end:{line:8,column:49}},3:{start:{line:9,column:19},end:{line:9,column:49}},4:{start:{line:10,column:4},end:{line:52,column:6}},5:{start:{line:21,column:14},end:{line:25,column:27}},6:{start:{line:22,column:96},end:{line:22,column:153}},7:{start:{line:28,column:14},end:{line:32,column:27}},8:{start:{line:29,column:96},end:{line:29,column:153}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:53,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:140},end:{line:20,column:141}},loc:{start:{line:20,column:156},end:{line:26,column:13}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:89},end:{line:22,column:90}},loc:{start:{line:22,column:96},end:{line:22,column:153}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:136},end:{line:27,column:137}},loc:{start:{line:27,column:152},end:{line:33,column:13}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:29,column:89},end:{line:29,column:90}},loc:{start:{line:29,column:96},end:{line:29,column:153}},line:29}},branchMap:{0:{loc:{start:{line:20,column:12},end:{line:26,column:17}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:44}},{start:{line:20,column:64},end:{line:26,column:17}}],line:20},1:{loc:{start:{line:27,column:12},end:{line:33,column:17}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:40}},{start:{line:27,column:60},end:{line:33,column:17}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAsCQ,cAKQ,YALR;AAtCR,OAAO,WAAW;AAElB,OAAO,WAAW;AAqBlB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,UAAM,EAAC,QAAO,IAAI,KAAK;AAEvB,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAG,qBAAO;AAAA,YACV,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,qBAAC,OACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e2ef17c22ea77c711c82e681a7c05add06fcb64"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Il=function(){return a},a}Il();class Q7e extends Mn.Component{render(){Il().f[0]++;const{mapView:t}=(Il().s[0]++,this.props),n=(Il().s[1]++,Math.round(t.zoom)+1),r=(Il().s[2]++,+t.center.lng.toFixed(5)),i=(Il().s[3]++,+t.center.lat.toFixed(5));return Il().s[4]++,G.jsxs(Gf,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug",children:[G.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[G.jsx("h1",{children:"Options"}),(Il().b[0][0]++,this.props.renderer==="mlgljs"&&(Il().b[0][1]++,G.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([o,a])=>(Il().f[1]++,Il().s[5]++,G.jsx("li",{children:G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:a,onChange:s=>(Il().f[2]++,Il().s[6]++,this.props.onChangeMaplibreGlDebug(o,s.target.checked))})," ",o]})},o)))}))),(Il().b[1][0]++,this.props.renderer==="ol"&&(Il().b[1][1]++,G.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([o,a])=>(Il().f[3]++,Il().s[7]++,G.jsx("li",{children:G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:a,onChange:s=>(Il().f[4]++,Il().s[8]++,this.props.onChangeOpenlayersDebug(o,s.target.checked))})," ",o]})},o)))})))]}),G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Links"}),G.jsxs("p",{children:[G.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${n}/${i}/${r}`,children:"Open in OSM"})," — Opens the current view on openstreetmap.org"]})]})]})}}var D1={},o5={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */o5.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,h=36,g=1,_=26,B=38,k=700,P=72,F=128,q="-",ee=/^xn--/,H=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=h-g,ye=Math.floor,be=String.fromCharCode,J;function se(je){throw new RangeError(Z[je])}function xe(je,Ve){for(var Xe=je.length,Jt=[];Xe--;)Jt[Xe]=Ve(je[Xe]);return Jt}function Se(je,Ve){var Xe=je.split("@"),Jt="";Xe.length>1&&(Jt=Xe[0]+"@",je=Xe[1]),je=je.replace(N,".");var Ht=je.split("."),Ct=xe(Ht,Ve).join(".");return Jt+Ct}function De(je){for(var Ve=[],Xe=0,Jt=je.length,Ht,Ct;Xe<Jt;)Ht=je.charCodeAt(Xe++),Ht>=55296&&Ht<=56319&&Xe<Jt?(Ct=je.charCodeAt(Xe++),(Ct&64512)==56320?Ve.push(((Ht&1023)<<10)+(Ct&1023)+65536):(Ve.push(Ht),Xe--)):Ve.push(Ht);return Ve}function Le(je){return xe(je,function(Ve){var Xe="";return Ve>65535&&(Ve-=65536,Xe+=be(Ve>>>10&1023|55296),Ve=56320|Ve&1023),Xe+=be(Ve),Xe}).join("")}function he(je){return je-48<10?je-22:je-65<26?je-65:je-97<26?je-97:h}function qe(je,Ve){return je+22+75*(je<26)-((Ve!=0)<<5)}function ge(je,Ve,Xe){var Jt=0;for(je=Xe?ye(je/k):je>>1,je+=ye(je/Ve);je>ue*_>>1;Jt+=h)je=ye(je/ue);return ye(Jt+(ue+1)*je/(je+B))}function _t(je){var Ve=[],Xe=je.length,Jt,Ht=0,Ct=F,Qt=P,$t,Ie,pe,Me,Re,it,ot,St,Rt;for($t=je.lastIndexOf(q),$t<0&&($t=0),Ie=0;Ie<$t;++Ie)je.charCodeAt(Ie)>=128&&se("not-basic"),Ve.push(je.charCodeAt(Ie));for(pe=$t>0?$t+1:0;pe<Xe;){for(Me=Ht,Re=1,it=h;pe>=Xe&&se("invalid-input"),ot=he(je.charCodeAt(pe++)),(ot>=h||ot>ye((s-Ht)/Re))&&se("overflow"),Ht+=ot*Re,St=it<=Qt?g:it>=Qt+_?_:it-Qt,!(ot<St);it+=h)Rt=h-St,Re>ye(s/Rt)&&se("overflow"),Re*=Rt;Jt=Ve.length+1,Qt=ge(Ht-Me,Jt,Me==0),ye(Ht/Jt)>s-Ct&&se("overflow"),Ct+=ye(Ht/Jt),Ht%=Jt,Ve.splice(Ht++,0,Ct)}return Le(Ve)}function Mt(je){var Ve,Xe,Jt,Ht,Ct,Qt,$t,Ie,pe,Me,Re,it=[],ot,St,Rt,zt;for(je=De(je),ot=je.length,Ve=F,Xe=0,Ct=P,Qt=0;Qt<ot;++Qt)Re=je[Qt],Re<128&&it.push(be(Re));for(Jt=Ht=it.length,Ht&&it.push(q);Jt<ot;){for($t=s,Qt=0;Qt<ot;++Qt)Re=je[Qt],Re>=Ve&&Re<$t&&($t=Re);for(St=Jt+1,$t-Ve>ye((s-Xe)/St)&&se("overflow"),Xe+=($t-Ve)*St,Ve=$t,Qt=0;Qt<ot;++Qt)if(Re=je[Qt],Re<Ve&&++Xe>s&&se("overflow"),Re==Ve){for(Ie=Xe,pe=h;Me=pe<=Ct?g:pe>=Ct+_?_:pe-Ct,!(Ie<Me);pe+=h)zt=Ie-Me,Rt=h-Me,it.push(be(qe(Me+zt%Rt,0))),Ie=ye(zt/Rt);it.push(be(qe(Ie,0))),Ct=ge(Xe,St,Jt==Ht),Xe=0,++Jt}++Xe,++Ve}return it.join("")}function dt(je){return Se(je,function(Ve){return ee.test(Ve)?_t(Ve.slice(4).toLowerCase()):Ve})}function mt(je){return Se(je,function(Ve){return H.test(Ve)?"xn--"+Mt(Ve):Ve})}if(a={version:"1.4.1",ucs2:{decode:De,encode:Le},decode:_t,encode:Mt,toASCII:mt,toUnicode:dt},r&&i)if(e.exports==r)i.exports=a;else for(J in a)a.hasOwnProperty(J)&&(r[J]=a[J]);else n.punycode=a})(Bh)})(o5,o5.exports);var $7e=o5.exports,Y7e=Error,q7e=EvalError,H7e=RangeError,V7e=ReferenceError,RQ=SyntaxError,Xb=TypeError,Z7e=URIError,X7e=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},FF=typeof Symbol<"u"&&Symbol,J7e=X7e,e8e=function(){return typeof FF!="function"||typeof Symbol!="function"||typeof FF("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:J7e()},A6={__proto__:null,foo:{}},t8e=Object,n8e=function(){return{__proto__:A6}.foo===A6.foo&&!(A6 instanceof t8e)},r8e="Function.prototype.bind called on incompatible ",i8e=Object.prototype.toString,o8e=Math.max,a8e="[object Function]",DF=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},s8e=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},l8e=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},u8e=function(t){var n=this;if(typeof n!="function"||i8e.apply(n)!==a8e)throw new TypeError(r8e+n);for(var r=s8e(arguments,1),i,o=function(){if(this instanceof i){var _=n.apply(this,DF(r,arguments));return Object(_)===_?_:this}return n.apply(t,DF(r,arguments))},a=o8e(0,n.length-r.length),s=[],h=0;h<a;h++)s[h]="$"+h;if(i=Function("binder","return function ("+l8e(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var g=function(){};g.prototype=n.prototype,i.prototype=new g,g.prototype=null}return i},A8e=u8e,tI=Function.prototype.bind||A8e,c8e=Function.prototype.call,d8e=Object.prototype.hasOwnProperty,h8e=tI,f8e=h8e.call(c8e,d8e),So,p8e=Y7e,m8e=q7e,g8e=H7e,y8e=V7e,av=RQ,Wy=Xb,v8e=Z7e,zQ=Function,c6=function(e){try{return zQ('"use strict"; return ('+e+").constructor;")()}catch{}},_1=Object.getOwnPropertyDescriptor;if(_1)try{_1({},"")}catch{_1=null}var d6=function(){throw new Wy},_8e=_1?function(){try{return arguments.callee,d6}catch{try{return _1(arguments,"callee").get}catch{return d6}}}():d6,Ug=e8e(),C8e=n8e(),mu=Object.getPrototypeOf||(C8e?function(e){return e.__proto__}:null),Hg={},b8e=typeof Uint8Array>"u"||!mu?So:mu(Uint8Array),C1={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?So:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?So:ArrayBuffer,"%ArrayIteratorPrototype%":Ug&&mu?mu([][Symbol.iterator]()):So,"%AsyncFromSyncIteratorPrototype%":So,"%AsyncFunction%":Hg,"%AsyncGenerator%":Hg,"%AsyncGeneratorFunction%":Hg,"%AsyncIteratorPrototype%":Hg,"%Atomics%":typeof Atomics>"u"?So:Atomics,"%BigInt%":typeof BigInt>"u"?So:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?So:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?So:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?So:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":p8e,"%eval%":eval,"%EvalError%":m8e,"%Float32Array%":typeof Float32Array>"u"?So:Float32Array,"%Float64Array%":typeof Float64Array>"u"?So:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?So:FinalizationRegistry,"%Function%":zQ,"%GeneratorFunction%":Hg,"%Int8Array%":typeof Int8Array>"u"?So:Int8Array,"%Int16Array%":typeof Int16Array>"u"?So:Int16Array,"%Int32Array%":typeof Int32Array>"u"?So:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ug&&mu?mu(mu([][Symbol.iterator]())):So,"%JSON%":typeof JSON=="object"?JSON:So,"%Map%":typeof Map>"u"?So:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ug||!mu?So:mu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?So:Promise,"%Proxy%":typeof Proxy>"u"?So:Proxy,"%RangeError%":g8e,"%ReferenceError%":y8e,"%Reflect%":typeof Reflect>"u"?So:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?So:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ug||!mu?So:mu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?So:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ug&&mu?mu(""[Symbol.iterator]()):So,"%Symbol%":Ug?Symbol:So,"%SyntaxError%":av,"%ThrowTypeError%":_8e,"%TypedArray%":b8e,"%TypeError%":Wy,"%Uint8Array%":typeof Uint8Array>"u"?So:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?So:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?So:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?So:Uint32Array,"%URIError%":v8e,"%WeakMap%":typeof WeakMap>"u"?So:WeakMap,"%WeakRef%":typeof WeakRef>"u"?So:WeakRef,"%WeakSet%":typeof WeakSet>"u"?So:WeakSet};if(mu)try{null.error}catch(e){var x8e=mu(mu(e));C1["%Error.prototype%"]=x8e}var w8e=function e(t){var n;if(t==="%AsyncFunction%")n=c6("async function () {}");else if(t==="%GeneratorFunction%")n=c6("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=c6("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&mu&&(n=mu(i.prototype))}return C1[t]=n,n},LF={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jb=tI,a5=f8e,M8e=Jb.call(Function.call,Array.prototype.concat),S8e=Jb.call(Function.apply,Array.prototype.splice),UF=Jb.call(Function.call,String.prototype.replace),s5=Jb.call(Function.call,String.prototype.slice),E8e=Jb.call(Function.call,RegExp.prototype.exec),O8e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B8e=/\\(\\)?/g,k8e=function(t){var n=s5(t,0,1),r=s5(t,-1);if(n==="%"&&r!=="%")throw new av("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new av("invalid intrinsic syntax, expected opening `%`");var i=[];return UF(t,O8e,function(o,a,s,h){i[i.length]=s?UF(h,B8e,"$1"):a||o}),i},I8e=function(t,n){var r=t,i;if(a5(LF,r)&&(i=LF[r],r="%"+i[0]+"%"),a5(C1,r)){var o=C1[r];if(o===Hg&&(o=w8e(r)),typeof o>"u"&&!n)throw new Wy("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new av("intrinsic "+t+" does not exist!")},kv=function(t,n){if(typeof t!="string"||t.length===0)throw new Wy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Wy('"allowMissing" argument must be a boolean');if(E8e(/^%?[^%]*%?$/,t)===null)throw new av("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=k8e(t),i=r.length>0?r[0]:"",o=I8e("%"+i+"%",n),a=o.name,s=o.value,h=!1,g=o.alias;g&&(i=g[0],S8e(r,M8e([0,1],g)));for(var _=1,B=!0;_<r.length;_+=1){var k=r[_],P=s5(k,0,1),F=s5(k,-1);if((P==='"'||P==="'"||P==="`"||F==='"'||F==="'"||F==="`")&&P!==F)throw new av("property names with quotes must have matching quotes");if((k==="constructor"||!B)&&(h=!0),i+="."+k,a="%"+i+"%",a5(C1,a))s=C1[a];else if(s!=null){if(!(k in s)){if(!n)throw new Wy("base intrinsic for "+t+" exists, but the property is not available.");return}if(_1&&_+1>=r.length){var q=_1(s,k);B=!!q,B&&"get"in q&&!("originalValue"in q.get)?s=q.get:s=s[k]}else B=a5(s,k),s=s[k];B&&!h&&(C1[a]=s)}}return s},jQ={exports:{}},h6,RF;function nI(){if(RF)return h6;RF=1;var e=kv,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return h6=t,h6}var T8e=kv,l3=T8e("%Object.getOwnPropertyDescriptor%",!0);if(l3)try{l3([],"length")}catch{l3=null}var WQ=l3,zF=nI(),K8e=RQ,Rg=Xb,jF=WQ,P8e=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Rg("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Rg("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Rg("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Rg("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Rg("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Rg("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,h=!!jF&&jF(t,n);if(zF)zF(t,n,{configurable:a===null&&h?h.configurable:!a,enumerable:i===null&&h?h.enumerable:!i,value:r,writable:o===null&&h?h.writable:!o});else if(s||!i&&!o&&!a)t[n]=r;else throw new K8e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},sB=nI(),NQ=function(){return!!sB};NQ.hasArrayLengthDefineBug=function(){if(!sB)return null;try{return sB([],"length",{value:1}).length!==1}catch{return!0}};var F8e=NQ,D8e=kv,WF=P8e,L8e=F8e(),NF=WQ,GF=Xb,U8e=D8e("%Math.floor%"),R8e=function(t,n){if(typeof t!="function")throw new GF("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||U8e(n)!==n)throw new GF("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&NF){var a=NF(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!r)&&(L8e?WF(t,"length",n,!0,!0):WF(t,"length",n)),t};(function(e){var t=tI,n=kv,r=R8e,i=Xb,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,o),h=nI(),g=n("%Math.max%");e.exports=function(k){if(typeof k!="function")throw new i("a function is required");var P=s(t,a,arguments);return r(P,1+g(0,k.length-(arguments.length-1)),!0)};var _=function(){return s(t,o,arguments)};h?h(e.exports,"apply",{value:_}):e.exports.apply=_})(jQ);var z8e=jQ.exports,GQ=kv,QQ=z8e,j8e=QQ(GQ("String.prototype.indexOf")),W8e=function(t,n){var r=GQ(t,!!n);return typeof r=="function"&&j8e(t,".prototype.")>-1?QQ(r):r};const N8e={},G8e=Object.freeze(Object.defineProperty({__proto__:null,default:N8e},Symbol.toStringTag,{value:"Module"})),Q8e=vB(G8e);var rI=typeof Map=="function"&&Map.prototype,f6=Object.getOwnPropertyDescriptor&&rI?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,l5=rI&&f6&&typeof f6.get=="function"?f6.get:null,QF=rI&&Map.prototype.forEach,iI=typeof Set=="function"&&Set.prototype,p6=Object.getOwnPropertyDescriptor&&iI?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u5=iI&&p6&&typeof p6.get=="function"?p6.get:null,$F=iI&&Set.prototype.forEach,$8e=typeof WeakMap=="function"&&WeakMap.prototype,fC=$8e?WeakMap.prototype.has:null,Y8e=typeof WeakSet=="function"&&WeakSet.prototype,pC=Y8e?WeakSet.prototype.has:null,q8e=typeof WeakRef=="function"&&WeakRef.prototype,YF=q8e?WeakRef.prototype.deref:null,H8e=Boolean.prototype.valueOf,V8e=Object.prototype.toString,Z8e=Function.prototype.toString,X8e=String.prototype.match,oI=String.prototype.slice,Nm=String.prototype.replace,J8e=String.prototype.toUpperCase,qF=String.prototype.toLowerCase,$Q=RegExp.prototype.test,HF=Array.prototype.concat,wf=Array.prototype.join,eke=Array.prototype.slice,VF=Math.floor,lB=typeof BigInt=="function"?BigInt.prototype.valueOf:null,m6=Object.getOwnPropertySymbols,uB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,sv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===sv||!0)?Symbol.toStringTag:null,YQ=Object.prototype.propertyIsEnumerable,ZF=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function XF(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||$Q.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-VF(-e):VF(e);if(r!==e){var i=String(r),o=oI.call(t,i.length+1);return Nm.call(i,n,"$&_")+"."+Nm.call(Nm.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Nm.call(t,n,"$&_")}var AB=Q8e,JF=AB.custom,eD=HQ(JF)?JF:null,tke=function e(t,n,r,i){var o=n||{};if(Im(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Im(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Im(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Im(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Im(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return ZQ(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var h=String(t);return s?XF(t,h):h}if(typeof t=="bigint"){var g=String(t)+"n";return s?XF(t,g):g}var _=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=_&&_>0&&typeof t=="object")return cB(t)?"[Array]":"[Object]";var B=vke(o,r);if(typeof i>"u")i=[];else if(VQ(i,t)>=0)return"[Circular]";function k(he,qe,ge){if(qe&&(i=eke.call(i),i.push(qe)),ge){var _t={depth:o.depth};return Im(o,"quoteStyle")&&(_t.quoteStyle=o.quoteStyle),e(he,_t,r+1,i)}return e(he,o,r+1,i)}if(typeof t=="function"&&!tD(t)){var P=Ake(t),F=P2(t,k);return"[Function"+(P?": "+P:" (anonymous)")+"]"+(F.length>0?" { "+wf.call(F,", ")+" }":"")}if(HQ(t)){var q=sv?Nm.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):uB.call(t);return typeof t=="object"&&!sv?E_(q):q}if(mke(t)){for(var ee="<"+qF.call(String(t.nodeName)),H=t.attributes||[],N=0;N<H.length;N++)ee+=" "+H[N].name+"="+qQ(nke(H[N].value),"double",o);return ee+=">",t.childNodes&&t.childNodes.length&&(ee+="..."),ee+="</"+qF.call(String(t.nodeName))+">",ee}if(cB(t)){if(t.length===0)return"[]";var Z=P2(t,k);return B&&!yke(Z)?"["+dB(Z,B)+"]":"[ "+wf.call(Z,", ")+" ]"}if(ike(t)){var ue=P2(t,k);return!("cause"in Error.prototype)&&"cause"in t&&!YQ.call(t,"cause")?"{ ["+String(t)+"] "+wf.call(HF.call("[cause]: "+k(t.cause),ue),", ")+" }":ue.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+wf.call(ue,", ")+" }"}if(typeof t=="object"&&a){if(eD&&typeof t[eD]=="function"&&AB)return AB(t,{depth:_-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(cke(t)){var ye=[];return QF&&QF.call(t,function(he,qe){ye.push(k(qe,t,!0)+" => "+k(he,t))}),nD("Map",l5.call(t),ye,B)}if(fke(t)){var be=[];return $F&&$F.call(t,function(he){be.push(k(he,t))}),nD("Set",u5.call(t),be,B)}if(dke(t))return g6("WeakMap");if(pke(t))return g6("WeakSet");if(hke(t))return g6("WeakRef");if(ake(t))return E_(k(Number(t)));if(lke(t))return E_(k(lB.call(t)));if(ske(t))return E_(H8e.call(t));if(oke(t))return E_(k(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===window)return"{ [object globalThis] }";if(!rke(t)&&!tD(t)){var J=P2(t,k),se=ZF?ZF(t)===Object.prototype:t instanceof Object||t.constructor===Object,xe=t instanceof Object?"":"null prototype",Se=!se&&pA&&Object(t)===t&&pA in t?oI.call(f0(t),8,-1):xe?"Object":"",De=se||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",Le=De+(Se||xe?"["+wf.call(HF.call([],Se||[],xe||[]),": ")+"] ":"");return J.length===0?Le+"{}":B?Le+"{"+dB(J,B)+"}":Le+"{ "+wf.call(J,", ")+" }"}return String(t)};function qQ(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function nke(e){return Nm.call(String(e),/"/g,"&quot;")}function cB(e){return f0(e)==="[object Array]"&&(!pA||!(typeof e=="object"&&pA in e))}function rke(e){return f0(e)==="[object Date]"&&(!pA||!(typeof e=="object"&&pA in e))}function tD(e){return f0(e)==="[object RegExp]"&&(!pA||!(typeof e=="object"&&pA in e))}function ike(e){return f0(e)==="[object Error]"&&(!pA||!(typeof e=="object"&&pA in e))}function oke(e){return f0(e)==="[object String]"&&(!pA||!(typeof e=="object"&&pA in e))}function ake(e){return f0(e)==="[object Number]"&&(!pA||!(typeof e=="object"&&pA in e))}function ske(e){return f0(e)==="[object Boolean]"&&(!pA||!(typeof e=="object"&&pA in e))}function HQ(e){if(sv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!uB)return!1;try{return uB.call(e),!0}catch{}return!1}function lke(e){if(!e||typeof e!="object"||!lB)return!1;try{return lB.call(e),!0}catch{}return!1}var uke=Object.prototype.hasOwnProperty||function(e){return e in this};function Im(e,t){return uke.call(e,t)}function f0(e){return V8e.call(e)}function Ake(e){if(e.name)return e.name;var t=X8e.call(Z8e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function VQ(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function cke(e){if(!l5||!e||typeof e!="object")return!1;try{l5.call(e);try{u5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function dke(e){if(!fC||!e||typeof e!="object")return!1;try{fC.call(e,fC);try{pC.call(e,pC)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function hke(e){if(!YF||!e||typeof e!="object")return!1;try{return YF.call(e),!0}catch{}return!1}function fke(e){if(!u5||!e||typeof e!="object")return!1;try{u5.call(e);try{l5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function pke(e){if(!pC||!e||typeof e!="object")return!1;try{pC.call(e,pC);try{fC.call(e,fC)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function mke(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function ZQ(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return ZQ(oI.call(e,0,t.maxStringLength),t)+r}var i=Nm.call(Nm.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,gke);return qQ(i,"single",t)}function gke(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+J8e.call(t.toString(16))}function E_(e){return"Object("+e+")"}function g6(e){return e+" { ? }"}function nD(e,t,n,r){var i=r?dB(n,r):wf.call(n,", ");return e+" ("+t+") {"+i+"}"}function yke(e){for(var t=0;t<e.length;t++)if(VQ(e[t],`
`)>=0)return!1;return!0}function vke(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=wf.call(Array(e.indent+1)," ");else return null;return{base:n,prev:wf.call(Array(t+1),n)}}function dB(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+wf.call(e,","+n)+`
`+t.prev}function P2(e,t){var n=cB(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Im(e,i)?t(e[i],e):""}var o=typeof m6=="function"?m6(e):[],a;if(sv){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var h in e)Im(e,h)&&(n&&String(Number(h))===h&&h<e.length||sv&&a["$"+h]instanceof Symbol||($Q.call(/[^\w$]/,h)?r.push(t(h,e)+": "+t(e[h],e)):r.push(h+": "+t(e[h],e))));if(typeof m6=="function")for(var g=0;g<o.length;g++)YQ.call(e,o[g])&&r.push("["+t(o[g])+"]: "+t(e[o[g]],e));return r}var XQ=kv,Iv=W8e,_ke=tke,Cke=Xb,F2=XQ("%WeakMap%",!0),D2=XQ("%Map%",!0),bke=Iv("WeakMap.prototype.get",!0),xke=Iv("WeakMap.prototype.set",!0),wke=Iv("WeakMap.prototype.has",!0),Mke=Iv("Map.prototype.get",!0),Ske=Iv("Map.prototype.set",!0),Eke=Iv("Map.prototype.has",!0),aI=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},Oke=function(e,t){var n=aI(e,t);return n&&n.value},Bke=function(e,t,n){var r=aI(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},kke=function(e,t){return!!aI(e,t)},Ike=function(){var t,n,r,i={assert:function(o){if(!i.has(o))throw new Cke("Side channel does not contain "+_ke(o))},get:function(o){if(F2&&o&&(typeof o=="object"||typeof o=="function")){if(t)return bke(t,o)}else if(D2){if(n)return Mke(n,o)}else if(r)return Oke(r,o)},has:function(o){if(F2&&o&&(typeof o=="object"||typeof o=="function")){if(t)return wke(t,o)}else if(D2){if(n)return Eke(n,o)}else if(r)return kke(r,o);return!1},set:function(o,a){F2&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new F2),xke(t,o,a)):D2?(n||(n=new D2),Ske(n,o,a)):(r||(r={key:{},next:null}),Bke(r,o,a))}};return i},Tke=String.prototype.replace,Kke=/%20/g,y6={RFC1738:"RFC1738",RFC3986:"RFC3986"},sI={default:y6.RFC3986,formatters:{RFC1738:function(e){return Tke.call(e,Kke,"+")},RFC3986:function(e){return String(e)}},RFC1738:y6.RFC1738,RFC3986:y6.RFC3986},Pke=sI,v6=Object.prototype.hasOwnProperty,r1=Array.isArray,mf=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Fke=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(r1(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},JQ=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Dke=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(r1(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!v6.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return r1(t)&&!r1(n)&&(i=JQ(t,r)),r1(t)&&r1(n)?(n.forEach(function(o,a){if(v6.call(t,a)){var s=t[a];s&&typeof s=="object"&&o&&typeof o=="object"?t[a]=e(s,o,r):t.push(o)}else t[a]=o}),t):Object.keys(n).reduce(function(o,a){var s=n[a];return v6.call(o,a)?o[a]=e(o[a],s,r):o[a]=s,o},i)},Lke=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Uke=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Rke=function(t,n,r,i,o){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(_){return"%26%23"+parseInt(_.slice(2),16)+"%3B"});for(var s="",h=0;h<a.length;++h){var g=a.charCodeAt(h);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||o===Pke.RFC1738&&(g===40||g===41)){s+=a.charAt(h);continue}if(g<128){s=s+mf[g];continue}if(g<2048){s=s+(mf[192|g>>6]+mf[128|g&63]);continue}if(g<55296||g>=57344){s=s+(mf[224|g>>12]+mf[128|g>>6&63]+mf[128|g&63]);continue}h+=1,g=65536+((g&1023)<<10|a.charCodeAt(h)&1023),s+=mf[240|g>>18]+mf[128|g>>12&63]+mf[128|g>>6&63]+mf[128|g&63]}return s},zke=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],a=o.obj[o.prop],s=Object.keys(a),h=0;h<s.length;++h){var g=s[h],_=a[g];typeof _=="object"&&_!==null&&r.indexOf(_)===-1&&(n.push({obj:a,prop:g}),r.push(_))}return Fke(n),t},jke=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Wke=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Nke=function(t,n){return[].concat(t,n)},Gke=function(t,n){if(r1(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},e$={arrayToObject:JQ,assign:Lke,combine:Nke,compact:zke,decode:Uke,encode:Rke,isBuffer:Wke,isRegExp:jke,maybeMap:Gke,merge:Dke},t$=Ike,u3=e$,mC=sI,Qke=Object.prototype.hasOwnProperty,n$={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},bf=Array.isArray,$ke=Array.prototype.push,r$=function(e,t){$ke.apply(e,bf(t)?t:[t])},Yke=Date.prototype.toISOString,rD=mC.default,$l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:u3.encode,encodeValuesOnly:!1,format:rD,formatter:mC.formatters[rD],indices:!1,serializeDate:function(t){return Yke.call(t)},skipNulls:!1,strictNullHandling:!1},qke=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},_6={},Hke=function e(t,n,r,i,o,a,s,h,g,_,B,k,P,F,q,ee,H,N){for(var Z=t,ue=N,ye=0,be=!1;(ue=ue.get(_6))!==void 0&&!be;){var J=ue.get(t);if(ye+=1,typeof J<"u"){if(J===ye)throw new RangeError("Cyclic object value");be=!0}typeof ue.get(_6)>"u"&&(ye=0)}if(typeof _=="function"?Z=_(n,Z):Z instanceof Date?Z=P(Z):r==="comma"&&bf(Z)&&(Z=u3.maybeMap(Z,function(je){return je instanceof Date?P(je):je})),Z===null){if(a)return g&&!ee?g(n,$l.encoder,H,"key",F):n;Z=""}if(qke(Z)||u3.isBuffer(Z)){if(g){var se=ee?n:g(n,$l.encoder,H,"key",F);return[q(se)+"="+q(g(Z,$l.encoder,H,"value",F))]}return[q(n)+"="+q(String(Z))]}var xe=[];if(typeof Z>"u")return xe;var Se;if(r==="comma"&&bf(Z))ee&&g&&(Z=u3.maybeMap(Z,g)),Se=[{value:Z.length>0?Z.join(",")||null:void 0}];else if(bf(_))Se=_;else{var De=Object.keys(Z);Se=B?De.sort(B):De}var Le=h?n.replace(/\./g,"%2E"):n,he=i&&bf(Z)&&Z.length===1?Le+"[]":Le;if(o&&bf(Z)&&Z.length===0)return he+"[]";for(var qe=0;qe<Se.length;++qe){var ge=Se[qe],_t=typeof ge=="object"&&typeof ge.value<"u"?ge.value:Z[ge];if(!(s&&_t===null)){var Mt=k&&h?ge.replace(/\./g,"%2E"):ge,dt=bf(Z)?typeof r=="function"?r(he,Mt):he:he+(k?"."+Mt:"["+Mt+"]");N.set(t,ye);var mt=t$();mt.set(_6,N),r$(xe,e(_t,dt,r,i,o,a,s,h,r==="comma"&&ee&&bf(Z)?null:g,_,B,k,P,F,q,ee,H,mt))}}return xe},Vke=function(t){if(!t)return $l;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||$l.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=mC.default;if(typeof t.format<"u"){if(!Qke.call(mC.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=mC.formatters[r],o=$l.filter;(typeof t.filter=="function"||bf(t.filter))&&(o=t.filter);var a;if(t.arrayFormat in n$?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=$l.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:$l.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:$l.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:$l.allowEmptyArrays,arrayFormat:a,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:$l.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?$l.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:$l.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:$l.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:$l.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:$l.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:$l.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:$l.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:$l.strictNullHandling}},Zke=function(e,t){var n=e,r=Vke(t),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):bf(r.filter)&&(o=r.filter,i=o);var a=[];if(typeof n!="object"||n===null)return"";var s=n$[r.arrayFormat],h=s==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var g=t$(),_=0;_<i.length;++_){var B=i[_];r.skipNulls&&n[B]===null||r$(a,Hke(n[B],B,s,h,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,g))}var k=a.join(r.delimiter),P=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),k.length>0?P+k:""},lv=e$,hB=Object.prototype.hasOwnProperty,Xke=Array.isArray,ml={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:lv.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Jke=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},i$=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},eIe="utf8=%26%2310003%3B",tIe="utf8=%E2%9C%93",nIe=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,o),s=-1,h,g=n.charset;if(n.charsetSentinel)for(h=0;h<a.length;++h)a[h].indexOf("utf8=")===0&&(a[h]===tIe?g="utf-8":a[h]===eIe&&(g="iso-8859-1"),s=h,h=a.length);for(h=0;h<a.length;++h)if(h!==s){var _=a[h],B=_.indexOf("]="),k=B===-1?_.indexOf("="):B+1,P,F;k===-1?(P=n.decoder(_,ml.decoder,g,"key"),F=n.strictNullHandling?null:""):(P=n.decoder(_.slice(0,k),ml.decoder,g,"key"),F=lv.maybeMap(i$(_.slice(k+1),n),function(ee){return n.decoder(ee,ml.decoder,g,"value")})),F&&n.interpretNumericEntities&&g==="iso-8859-1"&&(F=Jke(F)),_.indexOf("[]=")>-1&&(F=Xke(F)?[F]:F);var q=hB.call(r,P);q&&n.duplicates==="combine"?r[P]=lv.combine(r[P],F):(!q||n.duplicates==="last")&&(r[P]=F)}return r},rIe=function(e,t,n,r){for(var i=r?t:i$(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&i===""?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var h=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,g=n.decodeDotInKeys?h.replace(/%2E/g,"."):h,_=parseInt(g,10);!n.parseArrays&&g===""?a={0:i}:!isNaN(_)&&s!==g&&String(_)===g&&_>=0&&n.parseArrays&&_<=n.arrayLimit?(a=[],a[_]=i):g!=="__proto__"&&(a[g]=i)}i=a}return i},iIe=function(t,n,r,i){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,h=r.depth>0&&a.exec(o),g=h?o.slice(0,h.index):o,_=[];if(g){if(!r.plainObjects&&hB.call(Object.prototype,g)&&!r.allowPrototypes)return;_.push(g)}for(var B=0;r.depth>0&&(h=s.exec(o))!==null&&B<r.depth;){if(B+=1,!r.plainObjects&&hB.call(Object.prototype,h[1].slice(1,-1))&&!r.allowPrototypes)return;_.push(h[1])}return h&&_.push("["+o.slice(h.index)+"]"),rIe(_,n,r,i)}},oIe=function(t){if(!t)return ml;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?ml.charset:t.charset,r=typeof t.duplicates>"u"?ml.duplicates:t.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:ml.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ml.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:ml.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:ml.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:ml.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ml.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:ml.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:ml.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:ml.decoder,delimiter:typeof t.delimiter=="string"||lv.isRegExp(t.delimiter)?t.delimiter:ml.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:ml.depth,duplicates:r,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:ml.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:ml.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:ml.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ml.strictNullHandling}},aIe=function(e,t){var n=oIe(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?nIe(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],h=iIe(s,r[s],n,typeof e=="string");i=lv.merge(i,h,n)}return n.allowSparse===!0?i:lv.compact(i)},sIe=Zke,lIe=aIe,uIe=sI,AIe={formats:uIe,parse:lIe,stringify:sIe},cIe=$7e;function Ld(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var dIe=/^([a-z0-9.+-]+:)/i,hIe=/:[0-9]*$/,fIe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,pIe=["<",">",'"',"`"," ","\r",`
`,"	"],mIe=["{","}","|","\\","^","`"].concat(pIe),fB=["'"].concat(mIe),iD=["%","/","?",";","#"].concat(fB),oD=["/","?","#"],gIe=255,aD=/^[+a-z0-9A-Z_-]{0,63}$/,yIe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vIe={javascript:!0,"javascript:":!0},pB={javascript:!0,"javascript:":!0},Ny={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},mB=AIe;function ex(e,t,n){if(e&&typeof e=="object"&&e instanceof Ld)return e;var r=new Ld;return r.parse(e,t,n),r}Ld.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var h=fIe.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=mB.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var g=dIe.exec(s);if(g){g=g[0];var _=g.toLowerCase();this.protocol=_,s=s.substr(g.length)}if(n||g||s.match(/^\/\/[^@/]+@[^@/]+/)){var B=s.substr(0,2)==="//";B&&!(g&&pB[g])&&(s=s.substr(2),this.slashes=!0)}if(!pB[g]&&(B||g&&!Ny[g])){for(var k=-1,P=0;P<oD.length;P++){var F=s.indexOf(oD[P]);F!==-1&&(k===-1||F<k)&&(k=F)}var q,ee;k===-1?ee=s.lastIndexOf("@"):ee=s.lastIndexOf("@",k),ee!==-1&&(q=s.slice(0,ee),s=s.slice(ee+1),this.auth=decodeURIComponent(q)),k=-1;for(var P=0;P<iD.length;P++){var F=s.indexOf(iD[P]);F!==-1&&(k===-1||F<k)&&(k=F)}k===-1&&(k=s.length),this.host=s.slice(0,k),s=s.slice(k),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var N=this.hostname.split(/\./),P=0,Z=N.length;P<Z;P++){var ue=N[P];if(ue&&!ue.match(aD)){for(var ye="",be=0,J=ue.length;be<J;be++)ue.charCodeAt(be)>127?ye+="x":ye+=ue[be];if(!ye.match(aD)){var se=N.slice(0,P),xe=N.slice(P+1),Se=ue.match(yIe);Se&&(se.push(Se[1]),xe.unshift(Se[2])),xe.length&&(s="/"+xe.join(".")+s),this.hostname=se.join(".");break}}}this.hostname.length>gIe?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=cIe.toASCII(this.hostname));var De=this.port?":"+this.port:"",Le=this.hostname||"";this.host=Le+De,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!vIe[_])for(var P=0,Z=fB.length;P<Z;P++){var he=fB[P];if(s.indexOf(he)!==-1){var qe=encodeURIComponent(he);qe===he&&(qe=escape(he)),s=s.split(he).join(qe)}}var ge=s.indexOf("#");ge!==-1&&(this.hash=s.substr(ge),s=s.slice(0,ge));var _t=s.indexOf("?");if(_t!==-1?(this.search=s.substr(_t),this.query=s.substr(_t+1),t&&(this.query=mB.parse(this.query)),s=s.slice(0,_t)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Ny[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",Mt=this.search||"";this.path=De+Mt}return this.href=this.format(),this};function _Ie(e){return typeof e=="string"&&(e=ex(e)),e instanceof Ld?e.format():Ld.prototype.format.call(e)}Ld.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=mB.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ny[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};function CIe(e,t){return ex(e,!1,!0).resolve(t)}Ld.prototype.resolve=function(e){return this.resolveObject(ex(e,!1,!0)).format()};function bIe(e,t){return e?ex(e,!1,!0).resolveObject(t):t}Ld.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Ld;t.parse(e,!1,!0),e=t}for(var n=new Ld,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var h=a[s];h!=="protocol"&&(n[h]=e[h])}return Ny[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Ny[e.protocol]){for(var g=Object.keys(e),_=0;_<g.length;_++){var B=g[_];n[B]=e[B]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!pB[e.protocol]){for(var Z=(e.pathname||"").split("/");Z.length&&!(e.host=Z.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),n.pathname=Z.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var k=n.pathname||"",P=n.search||"";n.path=k+P}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var F=n.pathname&&n.pathname.charAt(0)==="/",q=e.host||e.pathname&&e.pathname.charAt(0)==="/",ee=q||F||n.host&&e.pathname,H=ee,N=n.pathname&&n.pathname.split("/")||[],Z=e.pathname&&e.pathname.split("/")||[],ue=n.protocol&&!Ny[n.protocol];if(ue&&(n.hostname="",n.port=null,n.host&&(N[0]===""?N[0]=n.host:N.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(Z[0]===""?Z[0]=e.host:Z.unshift(e.host)),e.host=null),ee=ee&&(Z[0]===""||N[0]==="")),q)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,N=Z;else if(Z.length)N||(N=[]),N.pop(),N=N.concat(Z),n.search=e.search,n.query=e.query;else if(e.search!=null){if(ue){n.host=N.shift(),n.hostname=n.host;var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.hostname=ye.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!N.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var be=N.slice(-1)[0],J=(n.host||e.host||N.length>1)&&(be==="."||be==="..")||be==="",se=0,xe=N.length;xe>=0;xe--)be=N[xe],be==="."?N.splice(xe,1):be===".."?(N.splice(xe,1),se++):se&&(N.splice(xe,1),se--);if(!ee&&!H)for(;se--;se)N.unshift("..");ee&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),J&&N.join("/").substr(-1)!=="/"&&N.push("");var Se=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(ue){n.hostname=Se?"":N.length?N.shift():"",n.host=n.hostname;var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.hostname=ye.shift(),n.host=n.hostname)}return ee=ee||n.host&&N.length,ee&&!Se&&N.unshift(""),N.length>0?n.pathname=N.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};Ld.prototype.parseHost=function(){var e=this.host,t=hIe.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};D1.parse=ex;D1.resolve=CIe;D1.resolveObject=bIe;D1.format=_Ie;D1.Url=Ld;function zo(){var e="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",t="19e47c652b47a74a8fe842dad1f0616429ed3097",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:17,column:18}},6:{start:{line:17,column:4},end:{line:17,column:18}},7:{start:{line:18,column:17},end:{line:18,column:42}},8:{start:{line:19,column:23},end:{line:19,column:57}},9:{start:{line:20,column:2},end:{line:24,column:3}},10:{start:{line:21,column:4},end:{line:21,column:41}},11:{start:{line:23,column:4},end:{line:23,column:69}},12:{start:{line:25,column:14},end:{line:25,column:35}},13:{start:{line:26,column:2},end:{line:26,column:24}},14:{start:{line:29,column:2},end:{line:30,column:18}},15:{start:{line:30,column:4},end:{line:30,column:18}},16:{start:{line:31,column:14},end:{line:31,column:31}},17:{start:{line:32,column:2},end:{line:32,column:57}},18:{start:{line:32,column:32},end:{line:32,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:27,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:28,column:16},end:{line:28,column:38}},loc:{start:{line:28,column:52},end:{line:33,column:1}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:32},end:{line:32,column:55}},line:32}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:17,column:18}},type:"if",locations:[{start:{line:16,column:2},end:{line:17,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:22,column:9},end:{line:24,column:3}}],line:20},2:{loc:{start:{line:29,column:2},end:{line:30,column:18}},type:"if",locations:[{start:{line:29,column:2},end:{line:30,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC;AAAa,WAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC;AAAS,WAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"19e47c652b47a74a8fe842dad1f0616429ed3097"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zo=function(){return a},a}zo();function o$(e,t,n){zo().f[0]++,zo().s[0]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(r){return zo().f[1]++,zo().s[1]++,r.json()}).then(function(r){zo().f[2]++,zo().s[2]++,n(r)}).catch(function(){zo().f[3]++,zo().s[3]++,console.warn("Can not metadata for "+e),zo().s[4]++,n(t)})}function xIe(e,t){if(zo().f[4]++,zo().s[5]++,e)zo().b[0][1]++;else return zo().b[0][0]++,zo().s[6]++,t([]);const n=(zo().s[7]++,D1.parse(e)),r=(zo().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");zo().s[9]++,n.pathname===r?(zo().b[1][0]++,zo().s[10]++,n.pathname="/fontstacks.json"):(zo().b[1][1]++,zo().s[11]++,n.pathname=n.pathname.replace(r,".json"));const i=(zo().s[12]++,D1.format(n));zo().s[13]++,o$(i,[],t)}function wIe(e,t){if(zo().f[5]++,zo().s[14]++,e)zo().b[2][1]++;else return zo().b[2][0]++,zo().s[15]++,t([]);const n=(zo().s[16]++,e+".json");zo().s[17]++,o$(n,{},r=>(zo().f[6]++,zo().s[18]++,t(Object.keys(r))))}function Yl(){var e="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",t="5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Yl=function(){return a},a}Yl();function MIe(){Yl().f[0]++;const e=(Yl().s[0]++,new URL(window.location.href));return Yl().s[1]++,e.searchParams.get("style")}function a$(e,t){Yl().f[1]++,Yl().s[2]++,console.log("Loading style",e),Yl().s[3]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(n){return Yl().f[2]++,Yl().s[4]++,n.json()}).then(function(n){Yl().f[3]++,Yl().s[5]++,t(Lu.ensureStyleValidity(n))}).catch(function(){Yl().f[4]++,Yl().s[6]++,console.warn("Could not fetch default style",e),Yl().s[7]++,t(Lu.emptyStyle)})}function sD(){Yl().f[5]++;const e=(Yl().s[8]++,new URL(window.location.href));Yl().s[9]++,e.searchParams.delete("style"),Yl().s[10]++,window.history.replaceState({},document.title,e.toString())}function UA(){var e="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",t="f92fa2abb31199d99fd3ae02d967dc6702faf862",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return UA=function(){return a},a}UA();function s$(e,t){UA().f[0]++;const n=(UA().s[0]++,TX(e,t));return UA().s[1]++,n.map(r=>(UA().f[1]++,UA().s[2]++,r.command+" "+r.args.join(" ")))}function SIe(e,t){return UA().f[2]++,UA().s[3]++,s$(e,t).map(n=>(UA().f[3]++,UA().s[4]++,"Undo "+n))}function EIe(e,t){return UA().f[4]++,UA().s[5]++,s$(e,t).map(n=>(UA().f[5]++,UA().s[6]++,"Redo "+n))}function zr(){var e="/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",t="dfd07f747cd43002e646758ee096fc67f1f8153d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:64,column:34}},28:{start:{line:64,column:6},end:{line:64,column:34}},29:{start:{line:65,column:20},end:{line:65,column:67}},30:{start:{line:66,column:22},end:{line:66,column:68}},31:{start:{line:67,column:4},end:{line:68,column:39}},32:{start:{line:68,column:6},end:{line:68,column:39}},33:{start:{line:69,column:4},end:{line:69,column:25}},34:{start:{line:73,column:4},end:{line:73,column:51}},35:{start:{line:74,column:16},end:{line:74,column:37}},36:{start:{line:75,column:4},end:{line:75,column:63}},37:{start:{line:76,column:4},end:{line:76,column:65}},38:{start:{line:77,column:4},end:{line:77,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:70,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:17},end:{line:78,column:3}},line:72}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:64,column:34}},type:"if",locations:[{start:{line:63,column:4},end:{line:64,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:67,column:4},end:{line:68,column:39}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:39}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW;AAAG,aAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG;AAAW,aAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dfd07f747cd43002e646758ee096fc67f1f8153d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zr=function(){return a},a}zr();const ub=(zr().s[0]++,"maputnik"),l$=(zr().s[1]++,"style"),lD=(zr().s[2]++,{latest:[ub,"latest_style"].join(":"),accessToken:[ub,"access_token"].join(":")}),OIe=(zr().s[3]++,UQ[0].url);function uD(e){zr().f[0]++,zr().s[4]++,a$(OIe,e)}function BIe(){zr().f[1]++;const e=(zr().s[5]++,[]);zr().s[6]++;for(let t=(zr().s[7]++,0);t<window.localStorage.length;t++){const n=(zr().s[8]++,window.localStorage.key(t));zr().s[9]++,u$(n)?(zr().b[0][0]++,zr().s[10]++,e.push(kIe(n))):zr().b[0][1]++}return zr().s[11]++,e}function u$(e){zr().f[2]++;const t=(zr().s[12]++,e.split(":"));return zr().s[13]++,zr().b[1][0]++,t.length===3&&(zr().b[1][1]++,t[0]===ub)&&(zr().b[1][2]++,t[1]===l$)}function kIe(e){if(zr().f[3]++,zr().s[14]++,u$(e))zr().b[2][1]++;else throw zr().b[2][0]++,zr().s[15]++,"Key is not a valid style key";const t=(zr().s[16]++,e.split(":")),n=(zr().s[17]++,t[2]);return zr().s[18]++,n}function AD(e){return zr().f[4]++,zr().s[19]++,[ub,l$,e].join(":")}class cD{constructor(){on(this,"mapStyles");zr().f[5]++,zr().s[20]++,this.mapStyles=BIe()}init(t){zr().f[6]++,zr().s[21]++,t(null)}purge(){zr().f[7]++,zr().s[22]++;for(let t=(zr().s[23]++,0);t<window.localStorage.length;t++){const n=(zr().s[24]++,window.localStorage.key(t));zr().s[25]++,n.startsWith(ub)?(zr().b[3][0]++,zr().s[26]++,window.localStorage.removeItem(n)):zr().b[3][1]++}}latestStyle(t){if(zr().f[8]++,zr().s[27]++,this.mapStyles.length===0)return zr().b[4][0]++,zr().s[28]++,uD(t);zr().b[4][1]++;const n=(zr().s[29]++,window.localStorage.getItem(lD.latest)),r=(zr().s[30]++,window.localStorage.getItem(AD(n)));if(zr().s[31]++,r)return zr().b[5][0]++,zr().s[32]++,t(JSON.parse(r));zr().b[5][1]++,zr().s[33]++,uD(t)}save(t){zr().f[9]++,zr().s[34]++,t=Lu.ensureStyleValidity(t);const n=(zr().s[35]++,AD(t.id));return zr().s[36]++,window.localStorage.setItem(n,JSON.stringify(t)),zr().s[37]++,window.localStorage.setItem(lD.latest,t.id),zr().s[38]++,t}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gB=function(e,t){return gB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gB(e,t)};function A$(e,t){gB(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function IIe(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function TIe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function KIe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(TIe(arguments[t]));return e}var c$=function(){function e(t,n){this.target=n,this.type=t}return e}(),PIe=function(e){A$(t,e);function t(n,r){var i=e.call(this,"error",r)||this;return i.message=n.message,i.error=n,i}return t}(c$),FIe=function(e){A$(t,e);function t(n,r,i){n===void 0&&(n=1e3),r===void 0&&(r="");var o=e.call(this,"close",i)||this;return o.wasClean=!0,o.code=n,o.reason=r,o}return t}(c$);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var DIe=function(){if(typeof WebSocket<"u")return WebSocket},LIe=function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},G0={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},UIe=function(){function e(t,n,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var a=i._options.minUptime,s=a===void 0?G0.minUptime:a;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},s),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(h){return i._ws.send(h)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(h){return i._callEventListener(o,h)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(a){return i._callEventListener(o,a)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(a){return i._callEventListener(o,a)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(a){return i._callEventListener(o,a)})},this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var t=this._messageQueue.reduce(function(n,r){return typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n},0);return t+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(t,n){if(t===void 0&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)},e.prototype.reconnect=function(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())},e.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var n=this._options.maxEnqueuedMessages,r=n===void 0?G0.maxEnqueuedMessages:n;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}},e.prototype.addEventListener=function(t,n){this._listeners[t]&&this._listeners[t].push(n)},e.prototype.dispatchEvent=function(t){var n,r,i=this._listeners[t.type];if(i)try{for(var o=IIe(i),a=o.next();!a.done;a=o.next()){var s=a.value;this._callEventListener(t,s)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0},e.prototype.removeEventListener=function(t,n){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(r){return r!==n}))},e.prototype._debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._options.debug&&console.log.apply(console,KIe(["RWS>"],t))},e.prototype._getNextDelay=function(){var t=this._options,n=t.reconnectionDelayGrowFactor,r=n===void 0?G0.reconnectionDelayGrowFactor:n,i=t.minReconnectionDelay,o=i===void 0?G0.minReconnectionDelay:i,a=t.maxReconnectionDelay,s=a===void 0?G0.maxReconnectionDelay:a,h=0;return this._retryCount>0&&(h=o*Math.pow(r,this._retryCount-1),h>s&&(h=s)),this._debug("next delay",h),h},e.prototype._wait=function(){var t=this;return new Promise(function(n){setTimeout(n,t._getNextDelay())})},e.prototype._getNextUrl=function(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){var n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")},e.prototype._connect=function(){var t=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var n=this._options,r=n.maxRetries,i=r===void 0?G0.maxRetries:r,o=n.connectionTimeout,a=o===void 0?G0.connectionTimeout:o,s=n.WebSocket,h=s===void 0?DIe():s;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!LIe(h))throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(g){t._closeCalled||(t._debug("connect",{url:g,protocols:t._protocols}),t._ws=t._protocols?new h(g,t._protocols):new h(g),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},a))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new PIe(Error("TIMEOUT"),this))},e.prototype._disconnect=function(t,n){if(t===void 0&&(t=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,n),this._handleClose(new FIe(t,n,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(t,n){"handleEvent"in n?n.handleEvent(t):n(t)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();function jr(){var e="/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",t="affc9a723ceb39c9f38866dab538bc0c9774f995",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:46,column:6}},16:{start:{line:35,column:6},end:{line:36,column:15}},17:{start:{line:36,column:8},end:{line:36,column:15}},18:{start:{line:37,column:6},end:{line:37,column:52}},19:{start:{line:38,column:24},end:{line:38,column:40}},20:{start:{line:39,column:6},end:{line:43,column:7}},21:{start:{line:40,column:8},end:{line:40,column:41}},22:{start:{line:42,column:8},end:{line:42,column:27}},23:{start:{line:44,column:27},end:{line:44,column:65}},24:{start:{line:45,column:6},end:{line:45,column:44}},25:{start:{line:49,column:4},end:{line:59,column:5}},26:{start:{line:50,column:6},end:{line:56,column:9}},27:{start:{line:53,column:8},end:{line:53,column:31}},28:{start:{line:55,column:8},end:{line:55,column:44}},29:{start:{line:58,column:6},end:{line:58,column:92}},30:{start:{line:63,column:22},end:{line:67,column:5}},31:{start:{line:68,column:15},end:{line:68,column:26}},32:{start:{line:69,column:4},end:{line:79,column:7}},33:{start:{line:77,column:6},end:{line:78,column:29}},34:{start:{line:78,column:8},end:{line:78,column:29}},35:{start:{line:80,column:4},end:{line:80,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:47,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:46,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:60,column:3}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:52,column:14},end:{line:52,column:15}},loc:{start:{line:52,column:33},end:{line:54,column:7}},line:52},10:{name:"(anonymous_10)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:29},end:{line:56,column:7}},line:54},11:{name:"(anonymous_11)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:81,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:29},end:{line:79,column:5}},line:76}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:36,column:15}},type:"if",locations:[{start:{line:35,column:6},end:{line:36,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:49,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:59,column:5}},{start:{line:57,column:11},end:{line:59,column:5}}],line:49},5:{loc:{start:{line:77,column:6},end:{line:78,column:29}},type:"if",locations:[{start:{line:77,column:6},end:{line:78,column:29}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE;AAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG;AAAO,gBAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"affc9a723ceb39c9f38866dab538bc0c9774f995"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return jr=function(){return a},a}jr();class RIe{constructor(t){on(this,"localUrl");on(this,"websocketUrl");on(this,"latestStyleId",(jr().s[0]++,void 0));on(this,"onLocalStyleChange");jr().f[0]++,jr().s[1]++,this.onLocalStyleChange=(jr().b[0][0]++,t.onLocalStyleChange||(jr().b[0][1]++,()=>{jr().f[1]++}));const n=(jr().s[2]++,jr().b[1][0]++,t.port||(jr().b[1][1]++,"8000")),r=(jr().s[3]++,jr().b[2][0]++,t.host||(jr().b[2][1]++,"localhost"));jr().s[4]++,this.localUrl=`http://${r}:${n}`,jr().s[5]++,this.websocketUrl=`ws://${r}:${n}/ws`,jr().s[6]++,this.init=this.init.bind(this)}init(t){jr().f[2]++,jr().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(n=>(jr().f[3]++,jr().s[8]++,n.json())).then(n=>{jr().f[4]++;const r=(jr().s[9]++,n);jr().s[10]++,this.latestStyleId=r[0],jr().s[11]++,this.notifyLocalChanges(),jr().s[12]++,t(null)}).catch(()=>{jr().f[5]++,jr().s[13]++,t(new Error("Can not connect to style API"))})}notifyLocalChanges(){jr().f[6]++;const t=(jr().s[14]++,new UIe(this.websocketUrl));jr().s[15]++,t.onmessage=n=>{if(jr().f[7]++,jr().s[16]++,n.data)jr().b[3][1]++;else{jr().b[3][0]++,jr().s[17]++;return}jr().s[18]++,console.log("Received style update from API");let r=(jr().s[19]++,Lu.emptyStyle);jr().s[20]++;try{jr().s[21]++,r=JSON.parse(n.data)}catch(o){jr().s[22]++,console.error(o)}const i=(jr().s[23]++,Lu.ensureStyleValidity(r));jr().s[24]++,this.onLocalStyleChange(i)}}latestStyle(t){if(jr().f[8]++,jr().s[25]++,this.latestStyleId)jr().b[4][0]++,jr().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(n){return jr().f[9]++,jr().s[27]++,n.json()}).then(function(n){jr().f[10]++,jr().s[28]++,t(Lu.ensureStyleValidity(n))});else throw jr().b[4][1]++,jr().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(t){jr().f[11]++;const n=(jr().s[30]++,HR(Lu.stripAccessTokens(Lu.replaceAccessTokens(t)))),r=(jr().s[31]++,t.id);return jr().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:n}).catch(function(i){jr().f[12]++,jr().s[33]++,i?(jr().b[5][0]++,jr().s[34]++,console.error(i)):jr().b[5][1]++}),jr().s[35]++,t}}function Ja(){var e="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",t="9277d165d3b1fd7c235a1faab33cf41596d9966e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9277d165d3b1fd7c235a1faab33cf41596d9966e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ja=function(){return a},a}Ja();class zIe{constructor(t=(Ja().b[0][0]++,[])){on(this,"revisions");on(this,"currentIdx");Ja().f[0]++,Ja().s[0]++,this.revisions=t,Ja().s[1]++,this.currentIdx=t.length-1}get latest(){return Ja().f[1]++,Ja().s[2]++,this.revisions[this.revisions.length-1]}get current(){return Ja().f[2]++,Ja().s[3]++,this.revisions[this.currentIdx]}addRevision(t){Ja().f[3]++,Ja().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),Ja().s[5]++,this.revisions.push(t),Ja().s[6]++,this.currentIdx++}undo(){return Ja().f[4]++,Ja().s[7]++,this.currentIdx>0?(Ja().b[1][0]++,Ja().s[8]++,this.currentIdx--):Ja().b[1][1]++,Ja().s[9]++,this.current}redo(){return Ja().f[5]++,Ja().s[10]++,this.currentIdx<this.revisions.length-1?(Ja().b[2][0]++,Ja().s[11]++,this.currentIdx++):Ja().b[2][1]++,Ja().s[12]++,this.current}}var d$="Expected a function",dD=NaN,jIe="[object Symbol]",WIe=/^\s+|\s+$/g,NIe=/^[-+]0x[0-9a-f]+$/i,GIe=/^0b[01]+$/i,QIe=/^0o[0-7]+$/i,$Ie=parseInt,YIe=typeof window=="object"&&window&&window.Object===Object&&window,qIe=typeof self=="object"&&self&&self.Object===Object&&self,HIe=YIe||qIe||Function("return this")(),VIe=Object.prototype,ZIe=VIe.toString,XIe=Math.max,JIe=Math.min,C6=function(){return HIe.Date.now()};function e9e(e,t,n){var r,i,o,a,s,h,g=0,_=!1,B=!1,k=!0;if(typeof e!="function")throw new TypeError(d$);t=hD(t)||0,A5(n)&&(_=!!n.leading,B="maxWait"in n,o=B?XIe(hD(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k);function P(be){var J=r,se=i;return r=i=void 0,g=be,a=e.apply(se,J),a}function F(be){return g=be,s=setTimeout(H,t),_?P(be):a}function q(be){var J=be-h,se=be-g,xe=t-J;return B?JIe(xe,o-se):xe}function ee(be){var J=be-h,se=be-g;return h===void 0||J>=t||J<0||B&&se>=o}function H(){var be=C6();if(ee(be))return N(be);s=setTimeout(H,q(be))}function N(be){return s=void 0,k&&r?P(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),g=0,r=h=i=s=void 0}function ue(){return s===void 0?a:N(C6())}function ye(){var be=C6(),J=ee(be);if(r=arguments,i=this,h=be,J){if(s===void 0)return F(h);if(B)return s=setTimeout(H,t),P(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}function t9e(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(d$);return A5(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),e9e(e,t,{leading:r,maxWait:t,trailing:i})}function A5(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function n9e(e){return!!e&&typeof e=="object"}function r9e(e){return typeof e=="symbol"||n9e(e)&&ZIe.call(e)==jIe}function hD(e){if(typeof e=="number")return e;if(r9e(e))return dD;if(A5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=A5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(WIe,"");var n=GIe.test(e);return n||QIe.test(e)?$Ie(e.slice(2),n?2:8):NIe.test(e)?dD:+e}var i9e=t9e;const o9e=Oa(i9e);var c5={exports:{}};c5.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",h="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",B="[object Date]",k="[object Error]",P="[object Function]",F="[object GeneratorFunction]",q="[object Map]",ee="[object Number]",H="[object Null]",N="[object Object]",Z="[object Promise]",ue="[object Proxy]",ye="[object RegExp]",be="[object Set]",J="[object String]",se="[object Symbol]",xe="[object Undefined]",Se="[object WeakMap]",De="[object ArrayBuffer]",Le="[object DataView]",he="[object Float32Array]",qe="[object Float64Array]",ge="[object Int8Array]",_t="[object Int16Array]",Mt="[object Int32Array]",dt="[object Uint8Array]",mt="[object Uint8ClampedArray]",je="[object Uint16Array]",Ve="[object Uint32Array]",Xe=/[\\^$.*+?()[\]{}|]/g,Jt=/^\[object .+?Constructor\]$/,Ht=/^(?:0|[1-9]\d*)$/,Ct={};Ct[he]=Ct[qe]=Ct[ge]=Ct[_t]=Ct[Mt]=Ct[dt]=Ct[mt]=Ct[je]=Ct[Ve]=!0,Ct[s]=Ct[h]=Ct[De]=Ct[_]=Ct[Le]=Ct[B]=Ct[k]=Ct[P]=Ct[q]=Ct[ee]=Ct[N]=Ct[ye]=Ct[be]=Ct[J]=Ct[Se]=!1;var Qt=typeof window=="object"&&window&&window.Object===Object&&window,$t=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Qt||$t||Function("return this")(),pe=t&&!t.nodeType&&t,Me=pe&&!0&&e&&!e.nodeType&&e,Re=Me&&Me.exports===pe,it=Re&&Qt.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),St=ot&&ot.isTypedArray;function Rt(z,ae){for(var Ue=-1,gt=z==null?0:z.length,Nn=0,vn=[];++Ue<gt;){var Kn=z[Ue];ae(Kn,Ue,z)&&(vn[Nn++]=Kn)}return vn}function zt(z,ae){for(var Ue=-1,gt=ae.length,Nn=z.length;++Ue<gt;)z[Nn+Ue]=ae[Ue];return z}function pt(z,ae){for(var Ue=-1,gt=z==null?0:z.length;++Ue<gt;)if(ae(z[Ue],Ue,z))return!0;return!1}function ir(z,ae){for(var Ue=-1,gt=Array(z);++Ue<z;)gt[Ue]=ae(Ue);return gt}function gn(z){return function(ae){return z(ae)}}function yn(z,ae){return z.has(ae)}function er(z,ae){return z==null?void 0:z[ae]}function Ar(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt,Nn){Ue[++ae]=[Nn,gt]}),Ue}function Mr(z,ae){return function(Ue){return z(ae(Ue))}}function Wr(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt){Ue[++ae]=gt}),Ue}var gr=Array.prototype,_i=Function.prototype,Ee=Object.prototype,X=Ie["__core-js_shared__"],Y=_i.toString,Te=Ee.hasOwnProperty,ut=function(){var z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Bt=Ee.toString,It=RegExp("^"+Y.call(Te).replace(Xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Re?Ie.Buffer:void 0,fn=Ie.Symbol,Pn=Ie.Uint8Array,On=Ee.propertyIsEnumerable,m=gr.splice,Kt=fn?fn.toStringTag:void 0,Pr=Object.getOwnPropertySymbols,nr=Dt?Dt.isBuffer:void 0,Pe=Mr(Object.keys,Object),ce=ta(Ie,"DataView"),Ce=ta(Ie,"Map"),ke=ta(Ie,"Promise"),ze=ta(Ie,"Set"),rt=ta(Ie,"WeakMap"),st=ta(Object,"create"),ft=Wo(ce),et=Wo(Ce),wt=Wo(ke),tn=Wo(ze),qt=Wo(rt),en=fn?fn.prototype:void 0,Fn=en?en.valueOf:void 0;function Bn(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function qn(){this.__data__=st?st(null):{},this.size=0}function Sr(z){var ae=this.has(z)&&delete this.__data__[z];return this.size-=ae?1:0,ae}function lr(z){var ae=this.__data__;if(st){var Ue=ae[z];return Ue===r?void 0:Ue}return Te.call(ae,z)?ae[z]:void 0}function $r(z){var ae=this.__data__;return st?ae[z]!==void 0:Te.call(ae,z)}function Or(z,ae){var Ue=this.__data__;return this.size+=this.has(z)?0:1,Ue[z]=st&&ae===void 0?r:ae,this}Bn.prototype.clear=qn,Bn.prototype.delete=Sr,Bn.prototype.get=lr,Bn.prototype.has=$r,Bn.prototype.set=Or;function Lr(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function or(){this.__data__=[],this.size=0}function ci(z){var ae=this.__data__,Ue=wn(ae,z);if(Ue<0)return!1;var gt=ae.length-1;return Ue==gt?ae.pop():m.call(ae,Ue,1),--this.size,!0}function Li(z){var ae=this.__data__,Ue=wn(ae,z);return Ue<0?void 0:ae[Ue][1]}function to(z){return wn(this.__data__,z)>-1}function ho(z,ae){var Ue=this.__data__,gt=wn(Ue,z);return gt<0?(++this.size,Ue.push([z,ae])):Ue[gt][1]=ae,this}Lr.prototype.clear=or,Lr.prototype.delete=ci,Lr.prototype.get=Li,Lr.prototype.has=to,Lr.prototype.set=ho;function ai(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function fo(){this.size=0,this.__data__={hash:new Bn,map:new(Ce||Lr),string:new Bn}}function ja(z){var ae=ea(this,z).delete(z);return this.size-=ae?1:0,ae}function Ba(z){return ea(this,z).get(z)}function Mi(z){return ea(this,z).has(z)}function is(z,ae){var Ue=ea(this,z),gt=Ue.size;return Ue.set(z,ae),this.size+=Ue.size==gt?0:1,this}ai.prototype.clear=fo,ai.prototype.delete=ja,ai.prototype.get=Ba,ai.prototype.has=Mi,ai.prototype.set=is;function gi(z){var ae=-1,Ue=z==null?0:z.length;for(this.__data__=new ai;++ae<Ue;)this.add(z[ae])}function Wn(z){return this.__data__.set(z,r),this}function ro(z){return this.__data__.has(z)}gi.prototype.add=gi.prototype.push=Wn,gi.prototype.has=ro;function _o(z){var ae=this.__data__=new Lr(z);this.size=ae.size}function Ui(){this.__data__=new Lr,this.size=0}function ve(z){var ae=this.__data__,Ue=ae.delete(z);return this.size=ae.size,Ue}function Je(z){return this.__data__.get(z)}function Vt(z){return this.__data__.has(z)}function sn(z,ae){var Ue=this.__data__;if(Ue instanceof Lr){var gt=Ue.__data__;if(!Ce||gt.length<n-1)return gt.push([z,ae]),this.size=++Ue.size,this;Ue=this.__data__=new ai(gt)}return Ue.set(z,ae),this.size=Ue.size,this}_o.prototype.clear=Ui,_o.prototype.delete=ve,_o.prototype.get=Je,_o.prototype.has=Vt,_o.prototype.set=sn;function Lt(z,ae){var Ue=as(z),gt=!Ue&&Jl(z),Nn=!Ue&&!gt&&No(z),vn=!Ue&&!gt&&!Nn&&ul(z),Kn=Ue||gt||Nn||vn,Ur=Kn?ir(z.length,String):[],yr=Ur.length;for(var Ir in z)(ae||Te.call(z,Ir))&&!(Kn&&(Ir=="length"||Nn&&(Ir=="offset"||Ir=="parent")||vn&&(Ir=="buffer"||Ir=="byteLength"||Ir=="byteOffset")||gA(Ir,yr)))&&Ur.push(Ir);return Ur}function wn(z,ae){for(var Ue=z.length;Ue--;)if(bs(z[Ue][0],ae))return Ue;return-1}function dr(z,ae,Ue){var gt=ae(z);return as(z)?gt:zt(gt,Ue(z))}function ri(z){return z==null?z===void 0?xe:H:Kt&&Kt in Object(z)?Cs(z):Wu(z)}function si(z){return sa(z)&&ri(z)==s}function Xo(z,ae,Ue,gt,Nn){return z===ae?!0:z==null||ae==null||!sa(z)&&!sa(ae)?z!==z&&ae!==ae:Ta(z,ae,Ue,gt,Xo,Nn)}function Ta(z,ae,Ue,gt,Nn,vn){var Kn=as(z),Ur=as(ae),yr=Kn?h:fa(z),Ir=Ur?h:fa(ae);yr=yr==s?N:yr,Ir=Ir==s?N:Ir;var ki=yr==N,po=Ir==N,Si=yr==Ir;if(Si&&No(z)){if(!No(ae))return!1;Kn=!0,ki=!1}if(Si&&!ki)return vn||(vn=new _o),Kn||ul(z)?Na(z,ae,Ue,gt,Nn,vn):Jo(z,ae,yr,Ue,gt,Nn,vn);if(!(Ue&i)){var Zr=ki&&Te.call(z,"__wrapped__"),Hi=po&&Te.call(ae,"__wrapped__");if(Zr||Hi){var Bo=Zr?z.value():z,xo=Hi?ae.value():ae;return vn||(vn=new _o),Nn(Bo,xo,Ue,gt,vn)}}return Si?(vn||(vn=new _o),Cu(z,ae,Ue,gt,Nn,vn)):!1}function Fr(z){if(!eu(z)||yA(z))return!1;var ae=ll(z)?It:Jt;return ae.test(Wo(z))}function Wa(z){return sa(z)&&bl(z.length)&&!!Ct[ri(z)]}function yi(z){if(!xu(z))return Pe(z);var ae=[];for(var Ue in Object(z))Te.call(z,Ue)&&Ue!="constructor"&&ae.push(Ue);return ae}function Na(z,ae,Ue,gt,Nn,vn){var Kn=Ue&i,Ur=z.length,yr=ae.length;if(Ur!=yr&&!(Kn&&yr>Ur))return!1;var Ir=vn.get(z);if(Ir&&vn.get(ae))return Ir==ae;var ki=-1,po=!0,Si=Ue&o?new gi:void 0;for(vn.set(z,ae),vn.set(ae,z);++ki<Ur;){var Zr=z[ki],Hi=ae[ki];if(gt)var Bo=Kn?gt(Hi,Zr,ki,ae,z,vn):gt(Zr,Hi,ki,z,ae,vn);if(Bo!==void 0){if(Bo)continue;po=!1;break}if(Si){if(!pt(ae,function(xo,Ga){if(!yn(Si,Ga)&&(Zr===xo||Nn(Zr,xo,Ue,gt,vn)))return Si.push(Ga)})){po=!1;break}}else if(!(Zr===Hi||Nn(Zr,Hi,Ue,gt,vn))){po=!1;break}}return vn.delete(z),vn.delete(ae),po}function Jo(z,ae,Ue,gt,Nn,vn,Kn){switch(Ue){case Le:if(z.byteLength!=ae.byteLength||z.byteOffset!=ae.byteOffset)return!1;z=z.buffer,ae=ae.buffer;case De:return!(z.byteLength!=ae.byteLength||!vn(new Pn(z),new Pn(ae)));case _:case B:case ee:return bs(+z,+ae);case k:return z.name==ae.name&&z.message==ae.message;case ye:case J:return z==ae+"";case q:var Ur=Ar;case be:var yr=gt&i;if(Ur||(Ur=Wr),z.size!=ae.size&&!yr)return!1;var Ir=Kn.get(z);if(Ir)return Ir==ae;gt|=o,Kn.set(z,ae);var ki=Na(Ur(z),Ur(ae),gt,Nn,vn,Kn);return Kn.delete(z),ki;case se:if(Fn)return Fn.call(z)==Fn.call(ae)}return!1}function Cu(z,ae,Ue,gt,Nn,vn){var Kn=Ue&i,Ur=os(z),yr=Ur.length,Ir=os(ae),ki=Ir.length;if(yr!=ki&&!Kn)return!1;for(var po=yr;po--;){var Si=Ur[po];if(!(Kn?Si in ae:Te.call(ae,Si)))return!1}var Zr=vn.get(z);if(Zr&&vn.get(ae))return Zr==ae;var Hi=!0;vn.set(z,ae),vn.set(ae,z);for(var Bo=Kn;++po<yr;){Si=Ur[po];var xo=z[Si],Ga=ae[Si];if(gt)var Pl=Kn?gt(Ga,xo,Si,ae,z,vn):gt(xo,Ga,Si,z,ae,vn);if(!(Pl===void 0?xo===Ga||Nn(xo,Ga,Ue,gt,vn):Pl)){Hi=!1;break}Bo||(Bo=Si=="constructor")}if(Hi&&!Bo){var tu=z.constructor,pa=ae.constructor;tu!=pa&&"constructor"in z&&"constructor"in ae&&!(typeof tu=="function"&&tu instanceof tu&&typeof pa=="function"&&pa instanceof pa)&&(Hi=!1)}return vn.delete(z),vn.delete(ae),Hi}function os(z){return dr(z,vA,bu)}function ea(z,ae){var Ue=z.__data__;return ju(ae)?Ue[typeof ae=="string"?"string":"hash"]:Ue.map}function ta(z,ae){var Ue=er(z,ae);return Fr(Ue)?Ue:void 0}function Cs(z){var ae=Te.call(z,Kt),Ue=z[Kt];try{z[Kt]=void 0;var gt=!0}catch{}var Nn=Bt.call(z);return gt&&(ae?z[Kt]=Ue:delete z[Kt]),Nn}var bu=Pr?function(z){return z==null?[]:(z=Object(z),Rt(Pr(z),function(ae){return On.call(z,ae)}))}:vo,fa=ri;(ce&&fa(new ce(new ArrayBuffer(1)))!=Le||Ce&&fa(new Ce)!=q||ke&&fa(ke.resolve())!=Z||ze&&fa(new ze)!=be||rt&&fa(new rt)!=Se)&&(fa=function(z){var ae=ri(z),Ue=ae==N?z.constructor:void 0,gt=Ue?Wo(Ue):"";if(gt)switch(gt){case ft:return Le;case et:return q;case wt:return Z;case tn:return be;case qt:return Se}return ae});function gA(z,ae){return ae=ae??a,!!ae&&(typeof z=="number"||Ht.test(z))&&z>-1&&z%1==0&&z<ae}function ju(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function yA(z){return!!ut&&ut in z}function xu(z){var ae=z&&z.constructor,Ue=typeof ae=="function"&&ae.prototype||Ee;return z===Ue}function Wu(z){return Bt.call(z)}function Wo(z){if(z!=null){try{return Y.call(z)}catch{}try{return z+""}catch{}}return""}function bs(z,ae){return z===ae||z!==z&&ae!==ae}var Jl=si(function(){return arguments}())?si:function(z){return sa(z)&&Te.call(z,"callee")&&!On.call(z,"callee")},as=Array.isArray;function sl(z){return z!=null&&bl(z.length)&&!ll(z)}var No=nr||io;function wu(z,ae){return Xo(z,ae)}function ll(z){if(!eu(z))return!1;var ae=ri(z);return ae==P||ae==F||ae==g||ae==ue}function bl(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function eu(z){var ae=typeof z;return z!=null&&(ae=="object"||ae=="function")}function sa(z){return z!=null&&typeof z=="object"}var ul=St?gn(St):Wa;function vA(z){return sl(z)?Lt(z):yi(z)}function vo(){return[]}function io(){return!1}e.exports=wu})(c5,c5.exports);var a9e=c5.exports;const yB=Oa(a9e);function ni(){var e="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",t="77d2098743f5a64765174c6e14fc4dc25f900f6c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ni=function(){return a},a}ni();class s9e{constructor(t=(ni().b[0][0]++,{})){on(this,"onSourcesChange");on(this,"onVectorLayersChange");on(this,"throttledAnalyzeVectorLayerFields");on(this,"_sources");on(this,"_vectorLayers");ni().f[0]++,ni().s[0]++,this.onSourcesChange=(ni().b[1][0]++,t.onSourcesChange||(ni().b[1][1]++,()=>{ni().f[1]++})),ni().s[1]++,this.onVectorLayersChange=(ni().b[2][0]++,t.onVectorLayersChange||(ni().b[2][1]++,()=>{ni().f[2]++})),ni().s[2]++,this._sources={},ni().s[3]++,this._vectorLayers={},ni().s[4]++,this.throttledAnalyzeVectorLayerFields=o9e(this.analyzeVectorLayerFields,5e3)}analyzeMap(t){ni().f[3]++;const n=(ni().s[5]++,{...this._sources});ni().s[6]++,Object.keys(t.style.sourceCaches).forEach(r=>{ni().f[4]++,ni().s[7]++,this._sources[r]=t.style.sourceCaches[r]._source.vectorLayerIds}),ni().s[8]++,yB(n,this._sources)?ni().b[3][1]++:(ni().b[3][0]++,ni().s[9]++,this.onSourcesChange(this._sources)),ni().s[10]++,this.throttledAnalyzeVectorLayerFields(t)}analyzeVectorLayerFields(t){ni().f[5]++;const n=(ni().s[11]++,{...this._vectorLayers});ni().s[12]++,Object.keys(this._sources).forEach(r=>{ni().f[6]++,ni().s[13]++,(ni().b[4][0]++,this._sources[r]||(ni().b[4][1]++,[])).forEach(i=>{ni().f[7]++;const o=(ni().s[14]++,ni().b[5][0]++,this._vectorLayers[i]||(ni().b[5][1]++,{})),a=(ni().s[15]++,{sourceLayer:i});ni().s[16]++,t.querySourceFeatures(r,a).forEach(s=>{ni().f[8]++,ni().s[17]++,Object.keys(s.properties).forEach(h=>{ni().f[9]++;const g=(ni().s[18]++,ni().b[6][0]++,o[h]||(ni().b[6][1]++,{}));ni().s[19]++,g[s.properties[h]]={},ni().s[20]++,o[h]=g})}),ni().s[21]++,this._vectorLayers[i]=o})}),ni().s[22]++,yB(n,this._vectorLayers)?ni().b[7][1]++:(ni().b[7][0]++,ni().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return ni().f[10]++,ni().s[24]++,this._sources}get vectorLayers(){return ni().f[11]++,ni().s[25]++,this._vectorLayers}}function Yo(){var e="/home/runner/work/maputnik/maputnik/src/libs/debug.ts",t="f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Yo=function(){return a},a}Yo();const gC=(Yo().s[0]++,{});function lI(){Yo().f[0]++;const e=(Yo().s[1]++,new URL(window.location.href).searchParams),t=(Yo().s[2]++,e.get("debug"));return Yo().s[3]++,t?(Yo().b[0][0]++,Yo().s[4]++,!!t.match(/^(|1|true)$/)):(Yo().b[0][1]++,Yo().s[5]++,!1)}function h$(){return Yo().f[1]++,Yo().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function l9e(e,t,n){if(Yo().f[2]++,Yo().s[7]++,lI())Yo().b[1][1]++;else throw Yo().b[1][0]++,Yo().s[8]++,h$();Yo().s[9]++,gC[e]=(Yo().b[2][0]++,gC[e]||(Yo().b[2][1]++,{})),Yo().s[10]++,gC[e][t]=n}function u9e(e,t){if(Yo().f[3]++,Yo().s[11]++,lI())Yo().b[3][1]++;else throw Yo().b[3][0]++,Yo().s[12]++,h$();if(Yo().s[13]++,Object.prototype.hasOwnProperty.call(gC,e))return Yo().b[4][0]++,Yo().s[14]++,gC[e][t];Yo().b[4][1]++}const Z0=(Yo().s[15]++,{enabled:lI,get:u9e,set:l9e});Yo().s[16]++;window.debug=Z0;function oe(){var e="/home/runner/work/maputnik/maputnik/src/components/App.tsx",t="89c068ca942382ab4384d9496905567c46b1fd10",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:37,column:0},end:{line:37,column:30}},1:{start:{line:39,column:29},end:{line:39,column:60}},2:{start:{line:40,column:26},end:{line:40,column:54}},3:{start:{line:41,column:31},end:{line:41,column:64}},4:{start:{line:42,column:2},end:{line:54,column:3}},5:{start:{line:43,column:24},end:{line:43,column:95}},6:{start:{line:44,column:4},end:{line:46,column:5}},7:{start:{line:45,column:6},end:{line:45,column:47}},8:{start:{line:47,column:9},end:{line:54,column:3}},9:{start:{line:48,column:24},end:{line:48,column:96}},10:{start:{line:49,column:4},end:{line:51,column:5}},11:{start:{line:50,column:6},end:{line:50,column:47}},12:{start:{line:53,column:4},end:{line:53,column:15}},13:{start:{line:57,column:2},end:{line:66,column:4}},14:{start:{line:72,column:15},end:{line:72,column:19}},15:{start:{line:74,column:4},end:{line:74,column:17}},16:{start:{line:75,column:4},end:{line:75,column:19}},17:{start:{line:76,column:4},end:{line:76,column:45}},18:{start:{line:77,column:19},end:{line:77,column:75}},19:{start:{line:78,column:15},end:{line:78,column:38}},20:{start:{line:79,column:4},end:{line:81,column:5}},21:{start:{line:80,column:6},end:{line:80,column:34}},22:{start:{line:82,column:4},end:{line:86,column:7}},23:{start:{line:83,column:40},end:{line:83,column:86}},24:{start:{line:87,column:22},end:{line:138,column:5}},25:{start:{line:91,column:10},end:{line:91,column:40}},26:{start:{line:97,column:10},end:{line:97,column:35}},27:{start:{line:103,column:10},end:{line:103,column:37}},28:{start:{line:109,column:10},end:{line:109,column:38}},29:{start:{line:115,column:10},end:{line:115,column:39}},30:{start:{line:121,column:10},end:{line:123,column:12}},31:{start:{line:129,column:10},end:{line:129,column:63}},32:{start:{line:135,column:10},end:{line:135,column:36}},33:{start:{line:139,column:4},end:{line:152,column:7}},34:{start:{line:140,column:6},end:{line:151,column:7}},35:{start:{line:141,column:8},end:{line:141,column:24}},36:{start:{line:142,column:8},end:{line:142,column:30}},37:{start:{line:143,column:13},end:{line:151,column:7}},38:{start:{line:144,column:25},end:{line:146,column:10}},39:{start:{line:145,column:10},end:{line:145,column:41}},40:{start:{line:147,column:8},end:{line:150,column:9}},41:{start:{line:148,column:10},end:{line:148,column:44}},42:{start:{line:149,column:10},end:{line:149,column:29}},43:{start:{line:153,column:21},end:{line:153,column:38}},44:{start:{line:154,column:4},end:{line:173,column:5}},45:{start:{line:155,column:6},end:{line:155,column:41}},46:{start:{line:156,column:6},end:{line:156,column:74}},47:{start:{line:156,column:43},end:{line:156,column:72}},48:{start:{line:157,column:6},end:{line:157,column:31}},49:{start:{line:159,column:6},end:{line:161,column:7}},50:{start:{line:160,column:8},end:{line:160,column:33}},51:{start:{line:162,column:6},end:{line:172,column:9}},52:{start:{line:163,column:8},end:{line:166,column:9}},53:{start:{line:164,column:10},end:{line:164,column:74}},54:{start:{line:165,column:10},end:{line:165,column:45}},55:{start:{line:167,column:8},end:{line:167,column:104}},56:{start:{line:167,column:50},end:{line:167,column:102}},57:{start:{line:168,column:8},end:{line:171,column:9}},58:{start:{line:169,column:10},end:{line:169,column:63}},59:{start:{line:170,column:10},end:{line:170,column:69}},60:{start:{line:174,column:4},end:{line:177,column:5}},61:{start:{line:175,column:6},end:{line:175,column:65}},62:{start:{line:176,column:6},end:{line:176,column:59}},63:{start:{line:178,column:4},end:{line:212,column:6}},64:{start:{line:213,column:4},end:{line:215,column:7}},65:{start:{line:214,column:35},end:{line:214,column:69}},66:{start:{line:217,column:19},end:{line:235,column:3}},67:{start:{line:218,column:4},end:{line:234,column:5}},68:{start:{line:219,column:6},end:{line:225,column:7}},69:{start:{line:220,column:8},end:{line:220,column:27}},70:{start:{line:221,column:8},end:{line:221,column:22}},71:{start:{line:222,column:13},end:{line:225,column:7}},72:{start:{line:223,column:8},end:{line:223,column:27}},73:{start:{line:224,column:8},end:{line:224,column:22}},74:{start:{line:227,column:6},end:{line:233,column:7}},75:{start:{line:228,column:8},end:{line:228,column:27}},76:{start:{line:229,column:8},end:{line:229,column:22}},77:{start:{line:230,column:13},end:{line:233,column:7}},78:{start:{line:231,column:8},end:{line:231,column:27}},79:{start:{line:232,column:8},end:{line:232,column:22}},80:{start:{line:237,column:4},end:{line:237,column:60}},81:{start:{line:240,column:4},end:{line:240,column:63}},82:{start:{line:243,column:4},end:{line:243,column:40}},83:{start:{line:246,column:21},end:{line:246,column:55}},84:{start:{line:247,column:24},end:{line:247,column:93}},85:{start:{line:248,column:21},end:{line:248,column:110}},86:{start:{line:249,column:4},end:{line:251,column:7}},87:{start:{line:250,column:6},end:{line:250,column:80}},88:{start:{line:254,column:4},end:{line:256,column:7}},89:{start:{line:255,column:6},end:{line:255,column:80}},90:{start:{line:258,column:29},end:{line:272,column:3}},91:{start:{line:259,column:4},end:{line:263,column:5}},92:{start:{line:260,column:6},end:{line:262,column:9}},93:{start:{line:264,column:25},end:{line:270,column:5}},94:{start:{line:271,column:4},end:{line:271,column:38}},95:{start:{line:273,column:19},end:{line:385,column:3}},96:{start:{line:274,column:4},end:{line:279,column:6}},97:{start:{line:280,column:4},end:{line:282,column:5}},98:{start:{line:281,column:6},end:{line:281,column:44}},99:{start:{line:283,column:19},end:{line:283,column:51}},100:{start:{line:284,column:24},end:{line:284,column:26}},101:{start:{line:285,column:4},end:{line:296,column:5}},102:{start:{line:286,column:26},end:{line:286,column:42}},103:{start:{line:287,column:6},end:{line:295,column:9}},104:{start:{line:288,column:8},end:{line:293,column:9}},105:{start:{line:289,column:24},end:{line:291,column:11}},106:{start:{line:292,column:10},end:{line:292,column:34}},107:{start:{line:294,column:8},end:{line:294,column:40}},108:{start:{line:297,column:25},end:{line:348,column:6}},109:{start:{line:298,column:23},end:{line:298,column:109}},110:{start:{line:299,column:6},end:{line:312,column:7}},111:{start:{line:300,column:35},end:{line:300,column:43}},112:{start:{line:301,column:8},end:{line:311,column:10}},113:{start:{line:313,column:33},end:{line:313,column:100}},114:{start:{line:314,column:6},end:{line:327,column:7}},115:{start:{line:315,column:35},end:{line:315,column:53}},116:{start:{line:316,column:8},end:{line:326,column:10}},117:{start:{line:328,column:25},end:{line:328,column:88}},118:{start:{line:329,column:6},end:{line:347,column:7}},119:{start:{line:330,column:52},end:{line:330,column:62}},120:{start:{line:331,column:20},end:{line:331,column:78}},121:{start:{line:332,column:8},end:{line:342,column:10}},122:{start:{line:344,column:8},end:{line:346,column:10}},123:{start:{line:349,column:24},end:{line:349,column:30}},124:{start:{line:350,column:4},end:{line:364,column:5}},125:{start:{line:351,column:6},end:{line:351,column:42}},126:{start:{line:352,column:6},end:{line:363,column:9}},127:{start:{line:353,column:28},end:{line:353,column:33}},128:{start:{line:354,column:8},end:{line:362,column:9}},129:{start:{line:355,column:10},end:{line:361,column:11}},130:{start:{line:356,column:28},end:{line:356,column:49}},131:{start:{line:357,column:30},end:{line:357,column:69}},132:{start:{line:358,column:12},end:{line:358,column:44}},133:{start:{line:360,column:12},end:{line:360,column:30}},134:{start:{line:365,column:4},end:{line:367,column:5}},135:{start:{line:366,column:6},end:{line:366,column:40}},136:{start:{line:368,column:4},end:{line:370,column:5}},137:{start:{line:369,column:6},end:{line:369,column:40}},138:{start:{line:371,column:4},end:{line:373,column:5}},139:{start:{line:372,column:6},end:{line:372,column:47}},140:{start:{line:374,column:4},end:{line:376,column:5}},141:{start:{line:375,column:6},end:{line:375,column:31}},142:{start:{line:377,column:4},end:{line:384,column:7}},143:{start:{line:382,column:6},end:{line:382,column:26}},144:{start:{line:383,column:6},end:{line:383,column:27}},145:{start:{line:386,column:11},end:{line:393,column:3}},146:{start:{line:387,column:24},end:{line:387,column:49}},147:{start:{line:388,column:21},end:{line:388,column:67}},148:{start:{line:389,column:4},end:{line:389,column:61}},149:{start:{line:390,column:4},end:{line:392,column:7}},150:{start:{line:394,column:11},end:{line:401,column:3}},151:{start:{line:395,column:24},end:{line:395,column:49}},152:{start:{line:396,column:21},end:{line:396,column:67}},153:{start:{line:397,column:4},end:{line:397,column:61}},154:{start:{line:398,column:4},end:{line:400,column:7}},155:{start:{line:402,column:16},end:{line:417,column:3}},156:{start:{line:403,column:33},end:{line:403,column:37}},157:{start:{line:404,column:17},end:{line:404,column:43}},158:{start:{line:405,column:4},end:{line:405,column:53}},159:{start:{line:406,column:4},end:{line:406,column:53}},160:{start:{line:407,column:4},end:{line:408,column:13}},161:{start:{line:408,column:6},end:{line:408,column:13}},162:{start:{line:409,column:4},end:{line:413,column:5}},163:{start:{line:410,column:6},end:{line:412,column:9}},164:{start:{line:414,column:4},end:{line:414,column:29}},165:{start:{line:415,column:4},end:{line:415,column:49}},166:{start:{line:416,column:4},end:{line:416,column:32}},167:{start:{line:418,column:19},end:{line:424,column:3}},168:{start:{line:419,column:25},end:{line:422,column:5}},169:{start:{line:423,column:4},end:{line:423,column:38}},170:{start:{line:425,column:19},end:{line:430,column:3}},171:{start:{line:426,column:19},end:{line:426,column:45}},172:{start:{line:427,column:28},end:{line:427,column:43}},173:{start:{line:428,column:4},end:{line:428,column:37}},174:{start:{line:429,column:4},end:{line:429,column:41}},175:{start:{line:431,column:16},end:{line:438,column:3}},176:{start:{line:432,column:19},end:{line:432,column:45}},177:{start:{line:433,column:26},end:{line:433,column:41}},178:{start:{line:434,column:24},end:{line:434,column:55}},179:{start:{line:435,column:4},end:{line:435,column:46}},180:{start:{line:436,column:4},end:{line:436,column:48}},181:{start:{line:437,column:4},end:{line:437,column:39}},182:{start:{line:439,column:28},end:{line:448,column:3}},183:{start:{line:440,column:19},end:{line:440,column:45}},184:{start:{line:441,column:26},end:{line:441,column:41}},185:{start:{line:442,column:18},end:{line:442,column:45}},186:{start:{line:443,column:26},end:{line:443,column:70}},187:{start:{line:444,column:4},end:{line:444,column:88}},188:{start:{line:445,column:4},end:{line:445,column:33}},189:{start:{line:446,column:4},end:{line:446,column:33}},190:{start:{line:447,column:4},end:{line:447,column:39}},191:{start:{line:449,column:20},end:{line:456,column:3}},192:{start:{line:450,column:26},end:{line:450,column:61}},193:{start:{line:451,column:4},end:{line:454,column:6}},194:{start:{line:455,column:4},end:{line:455,column:39}},195:{start:{line:457,column:19},end:{line:461,column:3}},196:{start:{line:458,column:26},end:{line:458,column:61}},197:{start:{line:459,column:4},end:{line:459,column:33}},198:{start:{line:460,column:4},end:{line:460,column:39}},199:{start:{line:462,column:16},end:{line:466,column:3}},200:{start:{line:463,column:4},end:{line:465,column:27}},201:{start:{line:467,column:21},end:{line:481,column:3}},202:{start:{line:468,column:21},end:{line:468,column:44}},203:{start:{line:469,column:4},end:{line:480,column:5}},204:{start:{line:470,column:27},end:{line:476,column:7}},205:{start:{line:477,column:6},end:{line:477,column:26}},206:{start:{line:479,column:6},end:{line:479,column:22}},207:{start:{line:482,column:14},end:{line:485,column:3}},208:{start:{line:483,column:4},end:{line:483,column:47}},209:{start:{line:484,column:4},end:{line:484,column:34}},210:{start:{line:487,column:23},end:{line:487,column:25}},211:{start:{line:488,column:4},end:{line:522,column:5}},212:{start:{line:489,column:6},end:{line:521,column:7}},213:{start:{line:490,column:8},end:{line:493,column:10}},214:{start:{line:494,column:18},end:{line:494,column:25}},215:{start:{line:495,column:8},end:{line:499,column:9}},216:{start:{line:496,column:10},end:{line:496,column:62}},217:{start:{line:498,column:10},end:{line:498,column:63}},218:{start:{line:500,column:8},end:{line:518,column:11}},219:{start:{line:502,column:30},end:{line:502,column:45}},220:{start:{line:503,column:10},end:{line:505,column:11}},221:{start:{line:504,column:12},end:{line:504,column:19}},222:{start:{line:506,column:26},end:{line:508,column:12}},223:{start:{line:509,column:10},end:{line:511,column:11}},224:{start:{line:510,column:12},end:{line:510,column:47}},225:{start:{line:512,column:10},end:{line:512,column:51}},226:{start:{line:513,column:10},end:{line:515,column:13}},227:{start:{line:517,column:10},end:{line:517,column:72}},228:{start:{line:520,column:8},end:{line:520,column:86}},229:{start:{line:523,column:4},end:{line:528,column:5}},230:{start:{line:524,column:6},end:{line:524,column:39}},231:{start:{line:525,column:6},end:{line:527,column:9}},232:{start:{line:531,column:21},end:{line:531,column:55}},233:{start:{line:532,column:4},end:{line:532,column:53}},234:{start:{line:534,column:16},end:{line:538,column:3}},235:{start:{line:535,column:4},end:{line:537,column:7}},236:{start:{line:540,column:40},end:{line:540,column:50}},237:{start:{line:541,column:21},end:{line:552,column:5}},238:{start:{line:544,column:8},end:{line:546,column:11}},239:{start:{line:549,column:8},end:{line:549,column:44}},240:{start:{line:550,column:8},end:{line:550,column:28}},241:{start:{line:553,column:21},end:{line:553,column:40}},242:{start:{line:555,column:4},end:{line:577,column:5}},243:{start:{line:556,column:6},end:{line:564,column:8}},244:{start:{line:566,column:6},end:{line:576,column:8}},245:{start:{line:579,column:4},end:{line:581,column:5}},246:{start:{line:580,column:6},end:{line:580,column:63}},247:{start:{line:582,column:25},end:{line:582,column:27}},248:{start:{line:583,column:4},end:{line:585,column:5}},249:{start:{line:584,column:6},end:{line:584,column:52}},250:{start:{line:586,column:4},end:{line:586,column:160}},251:{start:{line:588,column:18},end:{line:606,column:3}},252:{start:{line:589,column:43},end:{line:589,column:53}},253:{start:{line:590,column:35},end:{line:590,column:45}},254:{start:{line:591,column:16},end:{line:591,column:38}},255:{start:{line:592,column:20},end:{line:592,column:50}},256:{start:{line:593,column:4},end:{line:593,column:70}},257:{start:{line:594,column:23},end:{line:594,column:122}},258:{start:{line:594,column:66},end:{line:594,column:91}},259:{start:{line:594,column:109},end:{line:594,column:121}},260:{start:{line:595,column:4},end:{line:599,column:5}},261:{start:{line:596,column:6},end:{line:596,column:58}},262:{start:{line:598,column:6},end:{line:598,column:39}},263:{start:{line:600,column:4},end:{line:604,column:5}},264:{start:{line:601,column:6},end:{line:601,column:38}},265:{start:{line:602,column:11},end:{line:604,column:5}},266:{start:{line:603,column:6},end:{line:603,column:46}},267:{start:{line:605,column:4},end:{line:605,column:71}},268:{start:{line:607,column:27},end:{line:652,column:3}},269:{start:{line:608,column:16},end:{line:608,column:38}},270:{start:{line:609,column:23},end:{line:609,column:52}},271:{start:{line:610,column:4},end:{line:622,column:5}},272:{start:{line:611,column:21},end:{line:611,column:42}},273:{start:{line:612,column:23},end:{line:612,column:25}},274:{start:{line:613,column:6},end:{line:615,column:9}},275:{start:{line:614,column:8},end:{line:614,column:35}},276:{start:{line:616,column:6},end:{line:621,column:9}},277:{start:{line:623,column:17},end:{line:623,column:45}},278:{start:{line:624,column:4},end:{line:626,column:5}},279:{start:{line:625,column:6},end:{line:625,column:29}},280:{start:{line:627,column:17},end:{line:627,column:46}},281:{start:{line:628,column:4},end:{line:651,column:5}},282:{start:{line:629,column:6},end:{line:650,column:7}},283:{start:{line:630,column:22},end:{line:630,column:37}},284:{start:{line:631,column:46},end:{line:634,column:9}},285:{start:{line:635,column:20},end:{line:635,column:24}},286:{start:{line:636,column:8},end:{line:641,column:9}},287:{start:{line:637,column:33},end:{line:637,column:63}},288:{start:{line:638,column:10},end:{line:640,column:11}},289:{start:{line:639,column:12},end:{line:639,column:26}},290:{start:{line:642,column:8},end:{line:647,column:9}},291:{start:{line:643,column:10},end:{line:646,column:13}},292:{start:{line:649,column:8},end:{line:649,column:26}},293:{start:{line:653,column:18},end:{line:658,column:3}},294:{start:{line:654,column:4},end:{line:657,column:27}},295:{start:{line:660,column:4},end:{line:662,column:5}},296:{start:{line:661,column:6},end:{line:661,column:41}},297:{start:{line:663,column:4},end:{line:668,column:27}},298:{start:{line:671,column:4},end:{line:671,column:60}},299:{start:{line:673,column:28},end:{line:680,column:3}},300:{start:{line:674,column:4},end:{line:679,column:7}},301:{start:{line:681,column:28},end:{line:688,column:3}},302:{start:{line:682,column:4},end:{line:687,column:7}},303:{start:{line:690,column:19},end:{line:690,column:51}},304:{start:{line:691,column:26},end:{line:691,column:92}},305:{start:{line:692,column:36},end:{line:705,column:5}},306:{start:{line:706,column:38},end:{line:720,column:5}},307:{start:{line:721,column:24},end:{line:740,column:14}},308:{start:{line:741,column:24},end:{line:751,column:14}},309:{start:{line:752,column:35},end:{line:817,column:8}},310:{start:{line:769,column:23},end:{line:769,column:43}},311:{start:{line:818,column:4},end:{line:828,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:38,column:9},end:{line:38,column:28}},loc:{start:{line:38,column:44},end:{line:55,column:1}},line:38},1:{name:"updateRootSpec",decl:{start:{line:56,column:9},end:{line:56,column:23}},loc:{start:{line:56,column:52},end:{line:67,column:1}},line:56},2:{name:"(anonymous_2)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:21},end:{line:216,column:3}},line:73},3:{name:"(anonymous_3)",decl:{start:{line:83,column:26},end:{line:83,column:27}},loc:{start:{line:83,column:40},end:{line:83,column:86}},line:83},4:{name:"(anonymous_4)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:9}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:96,column:17},end:{line:96,column:18}},loc:{start:{line:96,column:23},end:{line:98,column:9}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:102,column:17},end:{line:102,column:18}},loc:{start:{line:102,column:23},end:{line:104,column:9}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:108,column:17},end:{line:108,column:18}},loc:{start:{line:108,column:23},end:{line:110,column:9}},line:108},8:{name:"(anonymous_8)",decl:{start:{line:114,column:17},end:{line:114,column:18}},loc:{start:{line:114,column:23},end:{line:116,column:9}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:120,column:17},end:{line:120,column:18}},loc:{start:{line:120,column:23},end:{line:124,column:9}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:128,column:17},end:{line:128,column:18}},loc:{start:{line:128,column:23},end:{line:130,column:9}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:134,column:17},end:{line:134,column:18}},loc:{start:{line:134,column:23},end:{line:136,column:9}},line:134},12:{name:"(anonymous_12)",decl:{start:{line:139,column:44},end:{line:139,column:45}},loc:{start:{line:139,column:51},end:{line:152,column:5}},line:139},13:{name:"(anonymous_13)",decl:{start:{line:144,column:40},end:{line:144,column:41}},loc:{start:{line:144,column:55},end:{line:146,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:156,column:29},end:{line:156,column:30}},loc:{start:{line:156,column:43},end:{line:156,column:72}},line:156},15:{name:"(anonymous_15)",decl:{start:{line:162,column:27},end:{line:162,column:28}},loc:{start:{line:162,column:36},end:{line:172,column:7}},line:162},16:{name:"(anonymous_16)",decl:{start:{line:167,column:36},end:{line:167,column:37}},loc:{start:{line:167,column:50},end:{line:167,column:102}},line:167},17:{name:"(anonymous_17)",decl:{start:{line:214,column:28},end:{line:214,column:29}},loc:{start:{line:214,column:35},end:{line:214,column:69}},line:214},18:{name:"(anonymous_18)",decl:{start:{line:217,column:19},end:{line:217,column:20}},loc:{start:{line:217,column:26},end:{line:235,column:3}},line:217},19:{name:"(anonymous_19)",decl:{start:{line:236,column:2},end:{line:236,column:3}},loc:{start:{line:236,column:22},end:{line:238,column:3}},line:236},20:{name:"(anonymous_20)",decl:{start:{line:239,column:2},end:{line:239,column:3}},loc:{start:{line:239,column:25},end:{line:241,column:3}},line:239},21:{name:"(anonymous_21)",decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:27},end:{line:244,column:3}},line:242},22:{name:"(anonymous_22)",decl:{start:{line:245,column:2},end:{line:245,column:3}},loc:{start:{line:245,column:27},end:{line:252,column:3}},line:245},23:{name:"(anonymous_23)",decl:{start:{line:249,column:37},end:{line:249,column:38}},loc:{start:{line:249,column:48},end:{line:251,column:5}},line:249},24:{name:"(anonymous_24)",decl:{start:{line:253,column:2},end:{line:253,column:3}},loc:{start:{line:253,column:23},end:{line:257,column:3}},line:253},25:{name:"(anonymous_25)",decl:{start:{line:254,column:36},end:{line:254,column:37}},loc:{start:{line:254,column:47},end:{line:256,column:5}},line:254},26:{name:"(anonymous_26)",decl:{start:{line:258,column:29},end:{line:258,column:30}},loc:{start:{line:258,column:50},end:{line:272,column:3}},line:258},27:{name:"(anonymous_27)",decl:{start:{line:273,column:19},end:{line:273,column:20}},loc:{start:{line:273,column:44},end:{line:385,column:3}},line:273},28:{name:"(anonymous_28)",decl:{start:{line:287,column:30},end:{line:287,column:31}},loc:{start:{line:287,column:48},end:{line:295,column:7}},line:287},29:{name:"(anonymous_29)",decl:{start:{line:297,column:56},end:{line:297,column:57}},loc:{start:{line:297,column:67},end:{line:348,column:5}},line:297},30:{name:"(anonymous_30)",decl:{start:{line:352,column:21},end:{line:352,column:22}},loc:{start:{line:352,column:32},end:{line:363,column:7}},line:352},31:{name:"(anonymous_31)",decl:{start:{line:381,column:7},end:{line:381,column:8}},loc:{start:{line:381,column:13},end:{line:384,column:5}},line:381},32:{name:"(anonymous_32)",decl:{start:{line:386,column:11},end:{line:386,column:12}},loc:{start:{line:386,column:17},end:{line:393,column:3}},line:386},33:{name:"(anonymous_33)",decl:{start:{line:394,column:11},end:{line:394,column:12}},loc:{start:{line:394,column:17},end:{line:401,column:3}},line:394},34:{name:"(anonymous_34)",decl:{start:{line:402,column:16},end:{line:402,column:17}},loc:{start:{line:402,column:26},end:{line:417,column:3}},line:402},35:{name:"(anonymous_35)",decl:{start:{line:418,column:19},end:{line:418,column:20}},loc:{start:{line:418,column:38},end:{line:424,column:3}},line:418},36:{name:"(anonymous_36)",decl:{start:{line:425,column:19},end:{line:425,column:20}},loc:{start:{line:425,column:30},end:{line:430,column:3}},line:425},37:{name:"(anonymous_37)",decl:{start:{line:431,column:16},end:{line:431,column:17}},loc:{start:{line:431,column:27},end:{line:438,column:3}},line:431},38:{name:"(anonymous_38)",decl:{start:{line:439,column:28},end:{line:439,column:29}},loc:{start:{line:439,column:39},end:{line:448,column:3}},line:439},39:{name:"(anonymous_39)",decl:{start:{line:449,column:20},end:{line:449,column:21}},loc:{start:{line:449,column:46},end:{line:456,column:3}},line:449},40:{name:"(anonymous_40)",decl:{start:{line:457,column:19},end:{line:457,column:20}},loc:{start:{line:457,column:37},end:{line:461,column:3}},line:457},41:{name:"(anonymous_41)",decl:{start:{line:462,column:16},end:{line:462,column:17}},loc:{start:{line:462,column:30},end:{line:466,column:3}},line:462},42:{name:"(anonymous_42)",decl:{start:{line:467,column:21},end:{line:467,column:22}},loc:{start:{line:467,column:35},end:{line:481,column:3}},line:467},43:{name:"(anonymous_43)",decl:{start:{line:482,column:14},end:{line:482,column:15}},loc:{start:{line:482,column:28},end:{line:485,column:3}},line:482},44:{name:"(anonymous_44)",decl:{start:{line:486,column:2},end:{line:486,column:3}},loc:{start:{line:486,column:17},end:{line:529,column:3}},line:486},45:{name:"(anonymous_45)",decl:{start:{line:502,column:16},end:{line:502,column:17}},loc:{start:{line:502,column:30},end:{line:502,column:45}},line:502},46:{name:"(anonymous_46)",decl:{start:{line:502,column:52},end:{line:502,column:53}},loc:{start:{line:502,column:62},end:{line:516,column:9}},line:502},47:{name:"(anonymous_47)",decl:{start:{line:516,column:17},end:{line:516,column:18}},loc:{start:{line:516,column:26},end:{line:518,column:9}},line:516},48:{name:"(anonymous_48)",decl:{start:{line:530,column:2},end:{line:530,column:3}},loc:{start:{line:530,column:17},end:{line:533,column:3}},line:530},49:{name:"(anonymous_49)",decl:{start:{line:534,column:16},end:{line:534,column:17}},loc:{start:{line:534,column:29},end:{line:538,column:3}},line:534},50:{name:"(anonymous_50)",decl:{start:{line:539,column:2},end:{line:539,column:3}},loc:{start:{line:539,column:16},end:{line:587,column:3}},line:539},51:{name:"(anonymous_51)",decl:{start:{line:543,column:27},end:{line:543,column:28}},loc:{start:{line:543,column:42},end:{line:547,column:7}},line:543},52:{name:"(anonymous_52)",decl:{start:{line:548,column:20},end:{line:548,column:21}},loc:{start:{line:548,column:27},end:{line:551,column:7}},line:548},53:{name:"(anonymous_53)",decl:{start:{line:588,column:18},end:{line:588,column:19}},loc:{start:{line:588,column:24},end:{line:606,column:3}},line:588},54:{name:"(anonymous_54)",decl:{start:{line:594,column:50},end:{line:594,column:51}},loc:{start:{line:594,column:66},end:{line:594,column:91}},line:594},55:{name:"(anonymous_55)",decl:{start:{line:594,column:100},end:{line:594,column:101}},loc:{start:{line:594,column:109},end:{line:594,column:121}},line:594},56:{name:"(anonymous_56)",decl:{start:{line:607,column:27},end:{line:607,column:28}},loc:{start:{line:607,column:41},end:{line:652,column:3}},line:607},57:{name:"(anonymous_57)",decl:{start:{line:613,column:21},end:{line:613,column:22}},loc:{start:{line:613,column:36},end:{line:615,column:7}},line:613},58:{name:"(anonymous_58)",decl:{start:{line:653,column:18},end:{line:653,column:19}},loc:{start:{line:653,column:29},end:{line:658,column:3}},line:653},59:{name:"(anonymous_59)",decl:{start:{line:659,column:2},end:{line:659,column:3}},loc:{start:{line:659,column:29},end:{line:669,column:3}},line:659},60:{name:"(anonymous_60)",decl:{start:{line:670,column:2},end:{line:670,column:3}},loc:{start:{line:670,column:25},end:{line:672,column:3}},line:670},61:{name:"(anonymous_61)",decl:{start:{line:673,column:28},end:{line:673,column:29}},loc:{start:{line:673,column:44},end:{line:680,column:3}},line:673},62:{name:"(anonymous_62)",decl:{start:{line:681,column:28},end:{line:681,column:29}},loc:{start:{line:681,column:44},end:{line:688,column:3}},line:681},63:{name:"(anonymous_63)",decl:{start:{line:689,column:2},end:{line:689,column:3}},loc:{start:{line:689,column:11},end:{line:829,column:3}},line:689},64:{name:"(anonymous_64)",decl:{start:{line:769,column:15},end:{line:769,column:16}},loc:{start:{line:769,column:23},end:{line:769,column:43}},line:769}},branchMap:{0:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:47,column:9},end:{line:54,column:3}}],line:42},1:{loc:{start:{line:42,column:6},end:{line:42,column:43}},type:"binary-expr",locations:[{start:{line:42,column:6},end:{line:42,column:24}},{start:{line:42,column:28},end:{line:42,column:43}}],line:42},2:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},3:{loc:{start:{line:47,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:47,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:47},4:{loc:{start:{line:49,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:49},5:{loc:{start:{line:79,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:81,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},6:{loc:{start:{line:79,column:8},end:{line:79,column:89}},type:"binary-expr",locations:[{start:{line:79,column:8},end:{line:79,column:20}},{start:{line:79,column:25},end:{line:79,column:54}},{start:{line:79,column:58},end:{line:79,column:88}}],line:79},7:{loc:{start:{line:122,column:12},end:{line:122,column:61}},type:"cond-expr",locations:[{start:{line:122,column:44},end:{line:122,column:53}},{start:{line:122,column:56},end:{line:122,column:61}}],line:122},8:{loc:{start:{line:140,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:140,column:6},end:{line:151,column:7}},{start:{line:143,column:13},end:{line:151,column:7}}],line:140},9:{loc:{start:{line:143,column:13},end:{line:151,column:7}},type:"if",locations:[{start:{line:143,column:13},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:143},10:{loc:{start:{line:143,column:17},end:{line:143,column:88}},type:"binary-expr",locations:[{start:{line:143,column:17},end:{line:143,column:44}},{start:{line:143,column:48},end:{line:143,column:88}}],line:143},11:{loc:{start:{line:147,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:150,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:147},12:{loc:{start:{line:154,column:4},end:{line:173,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:173,column:5}},{start:{line:158,column:11},end:{line:173,column:5}}],line:154},13:{loc:{start:{line:154,column:8},end:{line:154,column:104}},type:"binary-expr",locations:[{start:{line:154,column:8},end:{line:154,column:16}},{start:{line:154,column:20},end:{line:154,column:104}}],line:154},14:{loc:{start:{line:159,column:6},end:{line:161,column:7}},type:"if",locations:[{start:{line:159,column:6},end:{line:161,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},15:{loc:{start:{line:163,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:166,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:163},16:{loc:{start:{line:168,column:8},end:{line:171,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:171,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:168},17:{loc:{start:{line:174,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:174,column:4},end:{line:177,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},18:{loc:{start:{line:218,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:218,column:4},end:{line:234,column:5}},{start:{line:226,column:11},end:{line:234,column:5}}],line:218},19:{loc:{start:{line:219,column:6},end:{line:225,column:7}},type:"if",locations:[{start:{line:219,column:6},end:{line:225,column:7}},{start:{line:222,column:13},end:{line:225,column:7}}],line:219},20:{loc:{start:{line:219,column:10},end:{line:219,column:53}},type:"binary-expr",locations:[{start:{line:219,column:10},end:{line:219,column:19}},{start:{line:219,column:23},end:{line:219,column:33}},{start:{line:219,column:37},end:{line:219,column:53}}],line:219},21:{loc:{start:{line:222,column:13},end:{line:225,column:7}},type:"if",locations:[{start:{line:222,column:13},end:{line:225,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:222},22:{loc:{start:{line:222,column:17},end:{line:222,column:46}},type:"binary-expr",locations:[{start:{line:222,column:17},end:{line:222,column:26}},{start:{line:222,column:30},end:{line:222,column:46}}],line:222},23:{loc:{start:{line:227,column:6},end:{line:233,column:7}},type:"if",locations:[{start:{line:227,column:6},end:{line:233,column:7}},{start:{line:230,column:13},end:{line:233,column:7}}],line:227},24:{loc:{start:{line:227,column:10},end:{line:227,column:39}},type:"binary-expr",locations:[{start:{line:227,column:10},end:{line:227,column:19}},{start:{line:227,column:23},end:{line:227,column:39}}],line:227},25:{loc:{start:{line:230,column:13},end:{line:233,column:7}},type:"if",locations:[{start:{line:230,column:13},end:{line:233,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:230},26:{loc:{start:{line:230,column:17},end:{line:230,column:46}},type:"binary-expr",locations:[{start:{line:230,column:17},end:{line:230,column:26}},{start:{line:230,column:30},end:{line:230,column:46}}],line:230},27:{loc:{start:{line:246,column:21},end:{line:246,column:55}},type:"binary-expr",locations:[{start:{line:246,column:21},end:{line:246,column:49}},{start:{line:246,column:53},end:{line:246,column:55}}],line:246},28:{loc:{start:{line:247,column:24},end:{line:247,column:93}},type:"binary-expr",locations:[{start:{line:247,column:24},end:{line:247,column:70}},{start:{line:247,column:74},end:{line:247,column:93}}],line:247},29:{loc:{start:{line:248,column:21},end:{line:248,column:110}},type:"cond-expr",locations:[{start:{line:248,column:55},end:{line:248,column:96}},{start:{line:248,column:99},end:{line:248,column:110}}],line:248},30:{loc:{start:{line:259,column:4},end:{line:263,column:5}},type:"if",locations:[{start:{line:259,column:4},end:{line:263,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:259},31:{loc:{start:{line:259,column:8},end:{line:259,column:123}},type:"binary-expr",locations:[{start:{line:259,column:8},end:{line:259,column:40}},{start:{line:259,column:44},end:{line:259,column:123}}],line:259},32:{loc:{start:{line:273,column:30},end:{line:273,column:39}},type:"default-arg",locations:[{start:{line:273,column:37},end:{line:273,column:39}}],line:273},33:{loc:{start:{line:280,column:4},end:{line:282,column:5}},type:"if",locations:[{start:{line:280,column:4},end:{line:282,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:280},34:{loc:{start:{line:283,column:19},end:{line:283,column:51}},type:"binary-expr",locations:[{start:{line:283,column:19},end:{line:283,column:45}},{start:{line:283,column:49},end:{line:283,column:51}}],line:283},35:{loc:{start:{line:285,column:4},end:{line:296,column:5}},type:"if",locations:[{start:{line:285,column:4},end:{line:296,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:285},36:{loc:{start:{line:285,column:8},end:{line:285,column:35}},type:"binary-expr",locations:[{start:{line:285,column:8},end:{line:285,column:16}},{start:{line:285,column:20},end:{line:285,column:35}}],line:285},37:{loc:{start:{line:288,column:8},end:{line:293,column:9}},type:"if",locations:[{start:{line:288,column:8},end:{line:293,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:288},38:{loc:{start:{line:288,column:12},end:{line:288,column:56}},type:"binary-expr",locations:[{start:{line:288,column:12},end:{line:288,column:27}},{start:{line:288,column:31},end:{line:288,column:56}}],line:288},39:{loc:{start:{line:299,column:6},end:{line:312,column:7}},type:"if",locations:[{start:{line:299,column:6},end:{line:312,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:299},40:{loc:{start:{line:314,column:6},end:{line:327,column:7}},type:"if",locations:[{start:{line:314,column:6},end:{line:327,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:314},41:{loc:{start:{line:329,column:6},end:{line:347,column:7}},type:"if",locations:[{start:{line:329,column:6},end:{line:347,column:7}},{start:{line:343,column:13},end:{line:347,column:7}}],line:329},42:{loc:{start:{line:331,column:20},end:{line:331,column:78}},type:"cond-expr",locations:[{start:{line:331,column:40},end:{line:331,column:67}},{start:{line:331,column:70},end:{line:331,column:78}}],line:331},43:{loc:{start:{line:331,column:20},end:{line:331,column:37}},type:"binary-expr",locations:[{start:{line:331,column:20},end:{line:331,column:25}},{start:{line:331,column:29},end:{line:331,column:37}}],line:331},44:{loc:{start:{line:350,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:350,column:4},end:{line:364,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:350},45:{loc:{start:{line:354,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:362,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:354},46:{loc:{start:{line:365,column:4},end:{line:367,column:5}},type:"if",locations:[{start:{line:365,column:4},end:{line:367,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:365},47:{loc:{start:{line:368,column:4},end:{line:370,column:5}},type:"if",locations:[{start:{line:368,column:4},end:{line:370,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:368},48:{loc:{start:{line:371,column:4},end:{line:373,column:5}},type:"if",locations:[{start:{line:371,column:4},end:{line:373,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:371},49:{loc:{start:{line:374,column:4},end:{line:376,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:376,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:374},50:{loc:{start:{line:407,column:4},end:{line:408,column:13}},type:"if",locations:[{start:{line:407,column:4},end:{line:408,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:407},51:{loc:{start:{line:409,column:4},end:{line:413,column:5}},type:"if",locations:[{start:{line:409,column:4},end:{line:413,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:409},52:{loc:{start:{line:443,column:26},end:{line:443,column:70}},type:"cond-expr",locations:[{start:{line:443,column:46},end:{line:443,column:65}},{start:{line:443,column:68},end:{line:443,column:70}}],line:443},53:{loc:{start:{line:444,column:31},end:{line:444,column:87}},type:"cond-expr",locations:[{start:{line:444,column:69},end:{line:444,column:78}},{start:{line:444,column:81},end:{line:444,column:87}}],line:444},54:{loc:{start:{line:468,column:21},end:{line:468,column:44}},type:"binary-expr",locations:[{start:{line:468,column:21},end:{line:468,column:38}},{start:{line:468,column:42},end:{line:468,column:44}}],line:468},55:{loc:{start:{line:469,column:4},end:{line:480,column:5}},type:"if",locations:[{start:{line:469,column:4},end:{line:480,column:5}},{start:{line:478,column:11},end:{line:480,column:5}}],line:469},56:{loc:{start:{line:489,column:6},end:{line:521,column:7}},type:"if",locations:[{start:{line:489,column:6},end:{line:521,column:7}},{start:{line:519,column:13},end:{line:521,column:7}}],line:489},57:{loc:{start:{line:489,column:10},end:{line:489,column:149}},type:"binary-expr",locations:[{start:{line:489,column:10},end:{line:489,column:72}},{start:{line:489,column:76},end:{line:489,column:97}},{start:{line:489,column:101},end:{line:489,column:149}}],line:489},58:{loc:{start:{line:503,column:10},end:{line:505,column:11}},type:"if",locations:[{start:{line:503,column:10},end:{line:505,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:503},59:{loc:{start:{line:520,column:26},end:{line:520,column:85}},type:"binary-expr",locations:[{start:{line:520,column:26},end:{line:520,column:49}},{start:{line:520,column:53},end:{line:520,column:85}}],line:520},60:{loc:{start:{line:523,column:4},end:{line:528,column:5}},type:"if",locations:[{start:{line:523,column:4},end:{line:528,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:523},61:{loc:{start:{line:531,column:21},end:{line:531,column:55}},type:"binary-expr",locations:[{start:{line:531,column:21},end:{line:531,column:49}},{start:{line:531,column:53},end:{line:531,column:55}}],line:531},62:{loc:{start:{line:532,column:11},end:{line:532,column:52}},type:"binary-expr",locations:[{start:{line:532,column:11},end:{line:532,column:40}},{start:{line:532,column:44},end:{line:532,column:52}}],line:532},63:{loc:{start:{line:542,column:16},end:{line:542,column:41}},type:"binary-expr",locations:[{start:{line:542,column:16},end:{line:542,column:29}},{start:{line:542,column:33},end:{line:542,column:41}}],line:542},64:{loc:{start:{line:555,column:4},end:{line:577,column:5}},type:"if",locations:[{start:{line:555,column:4},end:{line:577,column:5}},{start:{line:565,column:11},end:{line:577,column:5}}],line:555},65:{loc:{start:{line:579,column:4},end:{line:581,column:5}},type:"if",locations:[{start:{line:579,column:4},end:{line:581,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:579},66:{loc:{start:{line:583,column:4},end:{line:585,column:5}},type:"if",locations:[{start:{line:583,column:4},end:{line:585,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:583},67:{loc:{start:{line:594,column:66},end:{line:594,column:91}},type:"cond-expr",locations:[{start:{line:594,column:81},end:{line:594,column:84}},{start:{line:594,column:87},end:{line:594,column:91}}],line:594},68:{loc:{start:{line:595,column:4},end:{line:599,column:5}},type:"if",locations:[{start:{line:595,column:4},end:{line:599,column:5}},{start:{line:597,column:11},end:{line:599,column:5}}],line:595},69:{loc:{start:{line:600,column:4},end:{line:604,column:5}},type:"if",locations:[{start:{line:600,column:4},end:{line:604,column:5}},{start:{line:602,column:11},end:{line:604,column:5}}],line:600},70:{loc:{start:{line:602,column:11},end:{line:604,column:5}},type:"if",locations:[{start:{line:602,column:11},end:{line:604,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:602},71:{loc:{start:{line:610,column:4},end:{line:622,column:5}},type:"if",locations:[{start:{line:610,column:4},end:{line:622,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:610},72:{loc:{start:{line:610,column:8},end:{line:610,column:39}},type:"binary-expr",locations:[{start:{line:610,column:8},end:{line:610,column:18}},{start:{line:610,column:22},end:{line:610,column:39}}],line:610},73:{loc:{start:{line:624,column:4},end:{line:626,column:5}},type:"if",locations:[{start:{line:624,column:4},end:{line:626,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:624},74:{loc:{start:{line:624,column:8},end:{line:624,column:27}},type:"binary-expr",locations:[{start:{line:624,column:8},end:{line:624,column:12}},{start:{line:624,column:16},end:{line:624,column:27}}],line:624},75:{loc:{start:{line:628,column:4},end:{line:651,column:5}},type:"if",locations:[{start:{line:628,column:4},end:{line:651,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:628},76:{loc:{start:{line:636,column:8},end:{line:641,column:9}},type:"if",locations:[{start:{line:636,column:8},end:{line:641,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:636},77:{loc:{start:{line:638,column:10},end:{line:640,column:11}},type:"if",locations:[{start:{line:638,column:10},end:{line:640,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:638},78:{loc:{start:{line:642,column:8},end:{line:647,column:9}},type:"if",locations:[{start:{line:642,column:8},end:{line:647,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:642},79:{loc:{start:{line:660,column:4},end:{line:662,column:5}},type:"if",locations:[{start:{line:660,column:4},end:{line:662,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:660},80:{loc:{start:{line:660,column:8},end:{line:660,column:49}},type:"binary-expr",locations:[{start:{line:660,column:8},end:{line:660,column:30}},{start:{line:660,column:34},end:{line:660,column:49}}],line:660},81:{loc:{start:{line:690,column:19},end:{line:690,column:51}},type:"binary-expr",locations:[{start:{line:690,column:19},end:{line:690,column:45}},{start:{line:690,column:49},end:{line:690,column:51}}],line:690},82:{loc:{start:{line:691,column:26},end:{line:691,column:92}},type:"cond-expr",locations:[{start:{line:691,column:46},end:{line:691,column:83}},{start:{line:691,column:86},end:{line:691,column:92}}],line:691},83:{loc:{start:{line:721,column:24},end:{line:740,column:14}},type:"cond-expr",locations:[{start:{line:721,column:56},end:{line:740,column:5}},{start:{line:740,column:8},end:{line:740,column:14}}],line:721},84:{loc:{start:{line:741,column:24},end:{line:751,column:14}},type:"cond-expr",locations:[{start:{line:741,column:97},end:{line:751,column:5}},{start:{line:751,column:8},end:{line:751,column:14}}],line:741}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAotBmB,SAAA,KAgNA,YAhNA;AAntBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,YAAY;AACnB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,qBAAqB,IAAI,MAAM,oBAAoB;AACnD,QAAA,kBAAkB,IAAI,MAAM,iBAAiB;AAC7C,QAAA,uBAAuB,IAAI,MAAM,sBAAsB;AAC7D,MAAI,sBAAsB,iBAAiB;AACnC,UAAA,cAAc,MAAM,eAAe,gBAAgB,UAAU,EAAC,eAAe,KAAI,CAAC;AACxF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,WACS,sBAAsB;AACvB,UAAA,cAAc,MAAM,eAAe,iBAAiB,UAAU,EAAC,eAAe,KAAI,CAAC;AACzF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAoC;AAAA,EAEpC,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAoC,KAAK,MAAM,SAAS,YAAY,CAAC;AAC3E,UAAM,cAAc,SAAS,oCAAoC,KAAK,OAAO;AAEvE,UAAA,WAAY,OAAO,gBAAgB,WAAW,YAAY,QAAQ,SAAS,WAAW,IAAG;AAC/F,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa;AAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AACzD,QAAA,cAAc,YAAY,UAAU,OAAO;AAC/B,mBAAA,QAAQ,UAAU,EAAE;AAAA,IACnC;AAEA,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,CAAC,OAAO,KAAK,aAAa;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89c068ca942382ab4384d9496905567c46b1fd10"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return oe=function(){return a},a}oe();oe().s[0]++;window.Buffer=UV.Buffer;function A9e(e,t){oe().f[0]++;const n=(oe().s[1]++,e.match(/\.tilehosting\.com/)),r=(oe().s[2]++,e.match(/\.maptiler\.com/)),i=(oe().s[3]++,e.match(/\.thunderforest\.com/));if(oe().s[4]++,oe().b[1][0]++,n||(oe().b[1][1]++,r)){oe().b[0][0]++;const o=(oe().s[5]++,Lu.getAccessToken("openmaptiles",t,{allowFallback:!0}));if(oe().s[6]++,o)return oe().b[2][0]++,oe().s[7]++,e.replace("{key}",o);oe().b[2][1]++}else if(oe().b[0][1]++,oe().s[8]++,i){oe().b[3][0]++;const o=(oe().s[9]++,Lu.getAccessToken("thunderforest",t,{allowFallback:!0}));if(oe().s[10]++,o)return oe().b[4][0]++,oe().s[11]++,e.replace("{key}",o);oe().b[4][1]++}else return oe().b[3][1]++,oe().s[12]++,e}function fD(e,t,n){return oe().f[1]++,oe().s[13]++,{...e,$root:{...e.$root,[t]:{...e.$root[t],values:n}}}}class c9e extends Mn.Component{constructor(n){oe().f[2]++,oe().s[15]++;super(n);on(this,"revisionStore");on(this,"styleStore");on(this,"layerWatcher");on(this,"shortcutEl",(oe().s[14]++,null));on(this,"handleKeyPress",(oe().s[66]++,n=>{oe().f[18]++,oe().s[67]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(oe().b[18][0]++,oe().s[68]++,oe().b[20][0]++,n.metaKey&&(oe().b[20][1]++,n.shiftKey)&&(oe().b[20][2]++,n.keyCode===90)?(oe().b[19][0]++,oe().s[69]++,n.preventDefault(),oe().s[70]++,this.onRedo()):(oe().b[19][1]++,oe().s[71]++,oe().b[22][0]++,n.metaKey&&(oe().b[22][1]++,n.keyCode===90)?(oe().b[21][0]++,oe().s[72]++,n.preventDefault(),oe().s[73]++,this.onUndo()):oe().b[21][1]++)):(oe().b[18][1]++,oe().s[74]++,oe().b[24][0]++,n.ctrlKey&&(oe().b[24][1]++,n.keyCode===90)?(oe().b[23][0]++,oe().s[75]++,n.preventDefault(),oe().s[76]++,this.onUndo()):(oe().b[23][1]++,oe().s[77]++,oe().b[26][0]++,n.ctrlKey&&(oe().b[26][1]++,n.keyCode===89)?(oe().b[25][0]++,oe().s[78]++,n.preventDefault(),oe().s[79]++,this.onRedo()):oe().b[25][1]++))}));on(this,"onChangeMetadataProperty",(oe().s[90]++,(n,r)=>{oe().f[26]++,oe().s[91]++,oe().b[31][0]++,n==="maputnik:renderer"&&(oe().b[31][1]++,r!==DZ(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(oe().b[30][0]++,oe().s[92]++,this.setState({mapState:"map"})):oe().b[30][1]++;const i=(oe().s[93]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[n]:r}});oe().s[94]++,this.onStyleChanged(i)}));on(this,"onStyleChanged",(oe().s[95]++,(n,r=(oe().b[32][0]++,{}))=>{oe().f[27]++,oe().s[96]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},oe().s[97]++,r.initialLoad?(oe().b[33][0]++,oe().s[98]++,this.getInitialStateFromUrl(n)):oe().b[33][1]++;const i=(oe().s[99]++,oe().b[34][0]++,Wd(n)||(oe().b[34][1]++,[])),o=(oe().s[100]++,[]);if(oe().s[101]++,oe().b[36][0]++,n&&(oe().b[36][1]++,n.layers)){oe().b[35][0]++;const h=(oe().s[102]++,new window.Map);oe().s[103]++,n.layers.forEach((g,_)=>{if(oe().f[28]++,oe().s[104]++,oe().b[38][0]++,g.id===""&&(oe().b[38][1]++,h.has(g.id))){oe().b[37][0]++;const B=(oe().s[105]++,new Error(`layers[${_}]: duplicate layer id [empty_string], previously used`));oe().s[106]++,o.push(B)}else oe().b[37][1]++;oe().s[107]++,h.set(g.id,!0)})}else oe().b[35][1]++;const a=(oe().s[108]++,o.concat(i).map(h=>{oe().f[29]++;const g=(oe().s[109]++,h.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(oe().s[110]++,g){oe().b[39][0]++;const[,k,P]=(oe().s[111]++,g);return oe().s[112]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:"id",message:P}}}}else oe().b[39][1]++;const _=(oe().s[113]++,h.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(oe().s[114]++,_){oe().b[40][0]++;const[,k,P]=(oe().s[115]++,_);return oe().s[116]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:"source",message:P}}}}else oe().b[40][1]++;const B=(oe().s[117]++,h.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(oe().s[118]++,B){oe().b[41][0]++;const[,k,P,F,q]=(oe().s[119]++,B),ee=(oe().s[120]++,oe().b[43][0]++,P&&(oe().b[43][1]++,F)?(oe().b[42][0]++,[P,F].join(".")):(oe().b[42][1]++,F));return oe().s[121]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(k,10),key:ee,message:q}}}}else return oe().b[41][1]++,oe().s[122]++,{message:h.message}}));let s=(oe().s[123]++,void 0);oe().s[124]++,i.length>0?(oe().b[44][0]++,oe().s[125]++,s=E9(n),oe().s[126]++,i.forEach(h=>{oe().f[30]++;const{message:g}=(oe().s[127]++,h);if(oe().s[128]++,g){oe().b[45][0]++,oe().s[129]++;try{const _=(oe().s[130]++,g.split(":")[0]),B=(oe().s[131]++,_.match(/^\S+?\[\d+\]\.[^[]+/)[0]);oe().s[132]++,T5.unset(s,B)}catch(_){oe().s[133]++,console.warn(_)}}else oe().b[45][1]++})):oe().b[44][1]++,oe().s[134]++,n.glyphs!==this.state.mapStyle.glyphs?(oe().b[46][0]++,oe().s[135]++,this.updateFonts(n.glyphs)):oe().b[46][1]++,oe().s[136]++,n.sprite!==this.state.mapStyle.sprite?(oe().b[47][0]++,oe().s[137]++,this.updateIcons(n.sprite)):oe().b[47][1]++,oe().s[138]++,r.addRevision?(oe().b[48][0]++,oe().s[139]++,this.revisionStore.addRevision(n)):oe().b[48][1]++,oe().s[140]++,r.save?(oe().b[49][0]++,oe().s[141]++,this.saveStyle(n)):oe().b[49][1]++,oe().s[142]++,this.setState({mapStyle:n,dirtyMapStyle:s,errors:a},()=>{oe().f[31]++,oe().s[143]++,this.fetchSources(),oe().s[144]++,this.setStateInUrl()})}));on(this,"onUndo",(oe().s[145]++,()=>{oe().f[32]++;const n=(oe().s[146]++,this.revisionStore.undo()),r=(oe().s[147]++,SIe(this.state.mapStyle,n));oe().s[148]++,this.onStyleChanged(n,{addRevision:!1}),oe().s[149]++,this.setState({infos:r})}));on(this,"onRedo",(oe().s[150]++,()=>{oe().f[33]++;const n=(oe().s[151]++,this.revisionStore.redo()),r=(oe().s[152]++,EIe(this.state.mapStyle,n));oe().s[153]++,this.onStyleChanged(n,{addRevision:!1}),oe().s[154]++,this.setState({infos:r})}));on(this,"onMoveLayer",(oe().s[155]++,n=>{oe().f[34]++;let{oldIndex:r,newIndex:i}=(oe().s[156]++,n),o=(oe().s[157]++,this.state.mapStyle.layers);if(oe().s[158]++,r=k9(r,0,o.length-1),oe().s[159]++,i=k9(i,0,o.length-1),oe().s[160]++,r===i){oe().b[50][0]++,oe().s[161]++;return}else oe().b[50][1]++;oe().s[162]++,r===this.state.selectedLayerIndex?(oe().b[51][0]++,oe().s[163]++,this.setState({selectedLayerIndex:i})):oe().b[51][1]++,oe().s[164]++,o=o.slice(0),oe().s[165]++,LZ(o,r,i),oe().s[166]++,this.onLayersChange(o)}));on(this,"onLayersChange",(oe().s[167]++,n=>{oe().f[35]++;const r=(oe().s[168]++,{...this.state.mapStyle,layers:n});oe().s[169]++,this.onStyleChanged(r)}));on(this,"onLayerDestroy",(oe().s[170]++,n=>{oe().f[36]++;const r=(oe().s[171]++,this.state.mapStyle.layers),i=(oe().s[172]++,r.slice(0));oe().s[173]++,i.splice(n,1),oe().s[174]++,this.onLayersChange(i)}));on(this,"onLayerCopy",(oe().s[175]++,n=>{oe().f[37]++;const r=(oe().s[176]++,this.state.mapStyle.layers),i=(oe().s[177]++,r.slice(0)),o=(oe().s[178]++,E9(i[n]));oe().s[179]++,o.id=o.id+"-copy",oe().s[180]++,i.splice(n,0,o),oe().s[181]++,this.onLayersChange(i)}));on(this,"onLayerVisibilityToggle",(oe().s[182]++,n=>{oe().f[38]++;const r=(oe().s[183]++,this.state.mapStyle.layers),i=(oe().s[184]++,r.slice(0)),o=(oe().s[185]++,{...i[n]}),a=(oe().s[186]++,"layout"in o?(oe().b[52][0]++,{...o.layout}):(oe().b[52][1]++,{}));oe().s[187]++,a.visibility=a.visibility==="none"?(oe().b[53][0]++,"visible"):(oe().b[53][1]++,"none"),oe().s[188]++,o.layout=a,oe().s[189]++,i[n]=o,oe().s[190]++,this.onLayersChange(i)}));on(this,"onLayerIdChange",(oe().s[191]++,(n,r,i)=>{oe().f[39]++;const o=(oe().s[192]++,this.state.mapStyle.layers.slice(0));oe().s[193]++,o[n]={...o[n],id:i},oe().s[194]++,this.onLayersChange(o)}));on(this,"onLayerChanged",(oe().s[195]++,(n,r)=>{oe().f[40]++;const i=(oe().s[196]++,this.state.mapStyle.layers.slice(0));oe().s[197]++,i[n]=r,oe().s[198]++,this.onLayersChange(i)}));on(this,"setMapState",(oe().s[199]++,n=>{oe().f[41]++,oe().s[200]++,this.setState({mapState:n},this.setStateInUrl)}));on(this,"setDefaultValues",(oe().s[201]++,n=>{oe().f[42]++;const r=(oe().s[202]++,oe().b[54][0]++,n.metadata||(oe().b[54][1]++,{}));if(oe().s[203]++,r["maputnik:renderer"]===void 0){oe().b[55][0]++;const i=(oe().s[204]++,{...n,metadata:{...n.metadata,"maputnik:renderer":"mlgljs"}});return oe().s[205]++,i}else return oe().b[55][1]++,oe().s[206]++,n}));on(this,"openStyle",(oe().s[207]++,n=>{oe().f[43]++,oe().s[208]++,n=this.setDefaultValues(n),oe().s[209]++,this.onStyleChanged(n)}));on(this,"onMapChange",(oe().s[234]++,n=>{oe().f[49]++,oe().s[235]++,this.setState({mapView:n})}));on(this,"setStateInUrl",(oe().s[251]++,()=>{oe().f[53]++;const{mapState:n,mapStyle:r,isOpen:i}=(oe().s[252]++,this.state),{selectedLayerIndex:o}=(oe().s[253]++,this.state),a=(oe().s[254]++,new URL(location.href)),s=(oe().s[255]++,F9(JSON.stringify(r)));oe().s[256]++,a.searchParams.set("layer",`${s}~${o}`);const h=(oe().s[257]++,Object.entries(i).map(([g,_])=>(oe().f[54]++,oe().s[258]++,_===!0?(oe().b[67][0]++,g):(oe().b[67][1]++,null))).filter(g=>(oe().f[55]++,oe().s[259]++,g!==null)));oe().s[260]++,h.length>0?(oe().b[68][0]++,oe().s[261]++,a.searchParams.set("modal",h.join(","))):(oe().b[68][1]++,oe().s[262]++,a.searchParams.delete("modal")),oe().s[263]++,n==="map"?(oe().b[69][0]++,oe().s[264]++,a.searchParams.delete("view")):(oe().b[69][1]++,oe().s[265]++,n==="inspect"?(oe().b[70][0]++,oe().s[266]++,a.searchParams.set("view","inspect")):oe().b[70][1]++),oe().s[267]++,history.replaceState({selectedLayerIndex:o},"Maputnik",a.href)}));on(this,"getInitialStateFromUrl",(oe().s[268]++,n=>{oe().f[56]++;const r=(oe().s[269]++,new URL(location.href)),i=(oe().s[270]++,r.searchParams.get("modal"));if(oe().s[271]++,oe().b[72][0]++,i&&(oe().b[72][1]++,i!=="")){oe().b[71][0]++;const s=(oe().s[272]++,i.split(",")),h=(oe().s[273]++,{});oe().s[274]++,s.forEach(g=>{oe().f[57]++,oe().s[275]++,h[g]=!0}),oe().s[276]++,this.setState({isOpen:{...this.state.isOpen,...h}})}else oe().b[71][1]++;const o=(oe().s[277]++,r.searchParams.get("view"));oe().s[278]++,oe().b[74][0]++,o&&(oe().b[74][1]++,o!=="")?(oe().b[73][0]++,oe().s[279]++,this.setMapState(o)):oe().b[73][1]++;const a=(oe().s[280]++,r.searchParams.get("layer"));if(oe().s[281]++,a){oe().b[75][0]++,oe().s[282]++;try{const s=(oe().s[283]++,a.split("~")),[h,g]=(oe().s[284]++,[s[0],parseInt(s[1],10)]);let _=(oe().s[285]++,!0);if(oe().s[286]++,h!=="-"){oe().b[76][0]++;const B=(oe().s[287]++,F9(JSON.stringify(n)));oe().s[288]++,B!==parseInt(h,10)?(oe().b[77][0]++,oe().s[289]++,_=!1):oe().b[77][1]++}else oe().b[76][1]++;oe().s[290]++,_?(oe().b[78][0]++,oe().s[291]++,this.setState({selectedLayerIndex:g,selectedLayerOriginalId:n.layers[g].id})):oe().b[78][1]++}catch(s){oe().s[292]++,console.warn(s)}}else oe().b[75][1]++}));on(this,"onLayerSelect",(oe().s[293]++,n=>{oe().f[58]++,oe().s[294]++,this.setState({selectedLayerIndex:n,selectedLayerOriginalId:this.state.mapStyle.layers[n].id},this.setStateInUrl)}));on(this,"onChangeOpenlayersDebug",(oe().s[299]++,(n,r)=>{oe().f[61]++,oe().s[300]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[n]:r}})}));on(this,"onChangeMaplibreGlDebug",(oe().s[301]++,(n,r)=>{oe().f[62]++,oe().s[302]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[n]:r}})}));oe().s[16]++,pV(this),oe().s[17]++,this.revisionStore=new zIe;const r=(oe().s[18]++,new URLSearchParams(window.location.search.substring(1)));let i=(oe().s[19]++,r.get("localport"));oe().s[20]++,oe().b[6][0]++,i==null&&(oe().b[6][1]++,window.location.port!=="80")&&(oe().b[6][2]++,window.location.port!=="443")?(oe().b[5][0]++,oe().s[21]++,i=window.location.port):oe().b[5][1]++,oe().s[22]++,this.styleStore=new RIe({onLocalStyleChange:s=>(oe().f[3]++,oe().s[23]++,this.onStyleChanged(s,{save:!1})),port:i,host:r.get("localhost")});const o=(oe().s[24]++,[{key:"?",handler:()=>{oe().f[4]++,oe().s[25]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{oe().f[5]++,oe().s[26]++,this.toggleModal("open")}},{key:"e",handler:()=>{oe().f[6]++,oe().s[27]++,this.toggleModal("export")}},{key:"d",handler:()=>{oe().f[7]++,oe().s[28]++,this.toggleModal("sources")}},{key:"s",handler:()=>{oe().f[8]++,oe().s[29]++,this.toggleModal("settings")}},{key:"i",handler:()=>{oe().f[9]++,oe().s[30]++,this.setMapState(this.state.mapState==="map"?(oe().b[7][0]++,"inspect"):(oe().b[7][1]++,"map"))}},{key:"m",handler:()=>{oe().f[10]++,oe().s[31]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{oe().f[11]++,oe().s[32]++,this.toggleModal("debug")}}]);oe().s[33]++,document.body.addEventListener("keyup",s=>{if(oe().f[12]++,oe().s[34]++,s.key==="Escape")oe().b[8][0]++,oe().s[35]++,s.target.blur(),oe().s[36]++,document.body.focus();else if(oe().b[8][1]++,oe().s[37]++,oe().b[10][0]++,this.state.isOpen.shortcuts||(oe().b[10][1]++,document.activeElement===document.body)){oe().b[9][0]++;const h=(oe().s[38]++,o.find(g=>(oe().f[13]++,oe().s[39]++,g.key===s.key)));oe().s[40]++,h?(oe().b[11][0]++,oe().s[41]++,this.setModal("shortcuts",!1),oe().s[42]++,h.handler()):oe().b[11][1]++}else oe().b[9][1]++});const a=(oe().s[43]++,MIe());oe().s[44]++,oe().b[13][0]++,a&&(oe().b[13][1]++,window.confirm("Load style from URL: "+a+" and discard current changes?"))?(oe().b[12][0]++,oe().s[45]++,this.styleStore=new cD,oe().s[46]++,a$(a,s=>(oe().f[14]++,oe().s[47]++,this.onStyleChanged(s))),oe().s[48]++,sD()):(oe().b[12][1]++,oe().s[49]++,a?(oe().b[14][0]++,oe().s[50]++,sD()):oe().b[14][1]++,oe().s[51]++,this.styleStore.init(s=>{oe().f[15]++,oe().s[52]++,s?(oe().b[15][0]++,oe().s[53]++,console.log("Falling back to local storage for storing styles"),oe().s[54]++,this.styleStore=new cD):oe().b[15][1]++,oe().s[55]++,this.styleStore.latestStyle(h=>(oe().f[16]++,oe().s[56]++,this.onStyleChanged(h,{initialLoad:!0}))),oe().s[57]++,Z0.enabled()?(oe().b[16][0]++,oe().s[58]++,Z0.set("maputnik","styleStore",this.styleStore),oe().s[59]++,Z0.set("maputnik","revisionStore",this.revisionStore)):oe().b[16][1]++})),oe().s[60]++,Z0.enabled()?(oe().b[17][0]++,oe().s[61]++,Z0.set("maputnik","revisionStore",this.revisionStore),oe().s[62]++,Z0.set("maputnik","styleStore",this.styleStore)):oe().b[17][1]++,oe().s[63]++,this.state={errors:[],infos:[],mapStyle:Lu.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:Sa,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},oe().s[64]++,this.layerWatcher=new s9e({onVectorLayersChange:s=>(oe().f[17]++,oe().s[65]++,this.setState({vectorLayers:s}))})}componentDidMount(){oe().f[19]++,oe().s[80]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){oe().f[20]++,oe().s[81]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(n){oe().f[21]++,oe().s[82]++,this.styleStore.save(n)}updateFonts(n){oe().f[22]++;const r=(oe().s[83]++,oe().b[27][0]++,this.state.mapStyle.metadata||(oe().b[27][1]++,{})),i=(oe().s[84]++,oe().b[28][0]++,r["maputnik:openmaptiles_access_token"]||(oe().b[28][1]++,IQ.openmaptiles)),o=(oe().s[85]++,typeof n=="string"?(oe().b[29][0]++,n.replace("{key}",i)):(oe().b[29][1]++,n));oe().s[86]++,xIe(o,a=>{oe().f[23]++,oe().s[87]++,this.setState({spec:fD(this.state.spec,"glyphs",a)})})}updateIcons(n){oe().f[24]++,oe().s[88]++,wIe(n,r=>{oe().f[25]++,oe().s[89]++,this.setState({spec:fD(this.state.spec,"sprite",r)})})}fetchSources(){oe().f[44]++;const n=(oe().s[210]++,{});oe().s[211]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(oe().s[212]++,oe().b[57][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(oe().b[57][1]++,i.type==="vector")&&(oe().b[57][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){oe().b[56][0]++,oe().s[213]++,n[r]={type:i.type,layers:[]};let o=(oe().s[214]++,i.url);oe().s[215]++;try{oe().s[216]++,o=A9e(o,this.state.mapStyle)}catch(a){oe().s[217]++,console.warn("Failed to setFetchAccessToken: ",a)}oe().s[218]++,fetch(o,{mode:"cors"}).then(a=>(oe().f[45]++,oe().s[219]++,a.json())).then(a=>{if(oe().f[46]++,oe().s[220]++,Object.prototype.hasOwnProperty.call(a,"vector_layers"))oe().b[58][1]++;else{oe().b[58][0]++,oe().s[221]++;return}const s=(oe().s[222]++,Object.assign({},{[r]:this.state.sources[r]}));oe().s[223]++;for(const h of a.vector_layers)oe().s[224]++,s[r].layers.push(h.id);oe().s[225]++,console.debug("Updating source: "+r),oe().s[226]++,this.setState({sources:s})}).catch(a=>{oe().f[47]++,oe().s[227]++,console.error("Failed to process sources for '%s'",o,a)})}else oe().b[56][1]++,oe().s[228]++,n[r]=(oe().b[59][0]++,this.state.sources[r]||(oe().b[59][1]++,this.state.mapStyle.sources[r]));oe().s[229]++,yB(this.state.sources,n)?oe().b[60][1]++:(oe().b[60][0]++,oe().s[230]++,console.debug("Setting sources"),oe().s[231]++,this.setState({sources:n}))}_getRenderer(){oe().f[48]++;const n=(oe().s[232]++,oe().b[61][0]++,this.state.mapStyle.metadata||(oe().b[61][1]++,{}));return oe().s[233]++,oe().b[62][0]++,n["maputnik:renderer"]||(oe().b[62][1]++,"mlgljs")}mapRenderer(){oe().f[50]++;const{mapStyle:n,dirtyMapStyle:r}=(oe().s[236]++,this.state),i=(oe().s[237]++,{mapStyle:(oe().b[63][0]++,r||(oe().b[63][1]++,n)),replaceAccessTokens:g=>(oe().f[51]++,oe().s[238]++,Lu.replaceAccessTokens(g,{allowFallback:!0})),onDataChange:g=>{oe().f[52]++,oe().s[239]++,this.layerWatcher.analyzeMap(g.map),oe().s[240]++,this.fetchSources()}}),o=(oe().s[241]++,this._getRenderer());let a;oe().s[242]++,o==="ol"?(oe().b[64][0]++,oe().s[243]++,a=G.jsx(XW,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(oe().b[64][1]++,oe().s[244]++,a=G.jsx(Ez,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let s;oe().s[245]++,this.state.mapState.match(/^filter-/)?(oe().b[65][0]++,oe().s[246]++,s=this.state.mapState.replace(/^filter-/,"")):oe().b[65][1]++;const h=(oe().s[247]++,{});return oe().s[248]++,s?(oe().b[66][0]++,oe().s[249]++,h.filter=`url('#${s}')`):oe().b[66][1]++,oe().s[250]++,G.jsx("div",{style:h,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:a})}setModal(n,r){oe().f[59]++,oe().s[295]++,oe().b[80][0]++,n==="survey"&&(oe().b[80][1]++,r===!1)?(oe().b[79][0]++,oe().s[296]++,localStorage.setItem("survey","")):oe().b[79][1]++,oe().s[297]++,this.setState({isOpen:{...this.state.isOpen,[n]:r}},this.setStateInUrl)}toggleModal(n){oe().f[60]++,oe().s[298]++,this.setModal(n,!this.state.isOpen[n])}render(){oe().f[63]++;const n=(oe().s[303]++,oe().b[81][0]++,this.state.mapStyle.layers||(oe().b[81][1]++,[])),r=(oe().s[304]++,n.length>0?(oe().b[82][0]++,n[this.state.selectedLayerIndex]):(oe().b[82][1]++,void 0)),i=(oe().s[305]++,G.jsx(QBe,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(oe().s[306]++,G.jsx(dme,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:n,sources:this.state.sources,errors:this.state.errors})),a=(oe().s[307]++,r?(oe().b[83][0]++,G.jsx(aB,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(oe().b[83][1]++,void 0)),s=(oe().s[308]++,this.state.errors.length+this.state.infos.length>0?(oe().b[84][0]++,G.jsx(OQ,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(oe().b[84][1]++,void 0)),h=(oe().s[309]++,G.jsxs("div",{children:[G.jsx(Q7e,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),G.jsx(W7e,{ref:g=>(oe().f[64]++,oe().s[310]++,this.shortcutEl=g),isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),G.jsx(HBe,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),G.jsx(u7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),G.jsx(j7e,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),G.jsx(w7e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")}),G.jsx(G7e,{isOpen:this.state.isOpen.survey,onOpenToggle:this.toggleModal.bind(this,"survey")})]}));return oe().s[311]++,G.jsx(EQ,{toolbar:i,layerList:o,layerEditor:a,map:this.mapRenderer(),bottom:s,modals:h})}}const d9e=kU(document.querySelector("#app"));d9e.render(G.jsx(w6.Provider,{value:{className:"react-icons"},children:G.jsx(c9e,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-BYSOK7KO.js.map
