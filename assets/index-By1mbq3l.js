var pq=Object.defineProperty;var mq=(e,t,n)=>t in e?pq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var on=(e,t,n)=>(mq(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function UB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var UF={exports:{}},E5={},RF={exports:{}},Oo={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb=Symbol.for("react.element"),gq=Symbol.for("react.portal"),yq=Symbol.for("react.fragment"),vq=Symbol.for("react.strict_mode"),_q=Symbol.for("react.profiler"),Cq=Symbol.for("react.provider"),bq=Symbol.for("react.context"),xq=Symbol.for("react.forward_ref"),wq=Symbol.for("react.suspense"),Mq=Symbol.for("react.memo"),Sq=Symbol.for("react.lazy"),Fk=Symbol.iterator;function Eq(e){return e===null||typeof e!="object"?null:(e=Fk&&e[Fk]||e["@@iterator"],typeof e=="function"?e:null)}var zF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jF=Object.assign,WF={};function yv(e,t,n){this.props=e,this.context=t,this.refs=WF,this.updater=n||zF}yv.prototype.isReactComponent={};yv.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NF(){}NF.prototype=yv.prototype;function RB(e,t,n){this.props=e,this.context=t,this.refs=WF,this.updater=n||zF}var zB=RB.prototype=new NF;zB.constructor=RB;jF(zB,yv.prototype);zB.isPureReactComponent=!0;var Lk=Array.isArray,GF=Object.prototype.hasOwnProperty,jB={current:null},$F={key:!0,ref:!0,__self:!0,__source:!0};function QF(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)GF.call(t,r)&&!$F.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var h=Array(s),g=0;g<s;g++)h[g]=arguments[g+2];i.children=h}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Cb,type:e,key:o,ref:a,props:i,_owner:jB.current}}function Oq(e,t){return{$$typeof:Cb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function WB(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cb}function Bq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uk=/\/+/g;function LM(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bq(""+e.key):t.toString(36)}function V2(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Cb:case gq:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+LM(a,0):r,Lk(i)?(n="",e!=null&&(n=e.replace(Uk,"$&/")+"/"),V2(i,t,n,"",function(g){return g})):i!=null&&(WB(i)&&(i=Oq(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Uk,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Lk(e))for(var s=0;s<e.length;s++){o=e[s];var h=r+LM(o,s);a+=V2(o,t,n,h,i)}else if(h=Eq(e),typeof h=="function")for(e=h.call(e),s=0;!(o=e.next()).done;)o=o.value,h=r+LM(o,s++),a+=V2(o,t,n,h,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qx(e,t,n){if(e==null)return e;var r=[],i=0;return V2(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Iq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var NA={current:null},Z2={transition:null},kq={ReactCurrentDispatcher:NA,ReactCurrentBatchConfig:Z2,ReactCurrentOwner:jB};Oo.Children={map:qx,forEach:function(e,t,n){qx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qx(e,function(){t++}),t},toArray:function(e){return qx(e,function(t){return t})||[]},only:function(e){if(!WB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oo.Component=yv;Oo.Fragment=yq;Oo.Profiler=_q;Oo.PureComponent=RB;Oo.StrictMode=vq;Oo.Suspense=wq;Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kq;Oo.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jF({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=jB.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(h in t)GF.call(t,h)&&!$F.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&s!==void 0?s[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){s=Array(h);for(var g=0;g<h;g++)s[g]=arguments[g+2];r.children=s}return{$$typeof:Cb,type:e.type,key:i,ref:o,props:r,_owner:a}};Oo.createContext=function(e){return e={$$typeof:bq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cq,_context:e},e.Consumer=e};Oo.createElement=QF;Oo.createFactory=function(e){var t=QF.bind(null,e);return t.type=e,t};Oo.createRef=function(){return{current:null}};Oo.forwardRef=function(e){return{$$typeof:xq,render:e}};Oo.isValidElement=WB;Oo.lazy=function(e){return{$$typeof:Sq,_payload:{_status:-1,_result:e},_init:Iq}};Oo.memo=function(e,t){return{$$typeof:Mq,type:e,compare:t===void 0?null:t}};Oo.startTransition=function(e){var t=Z2.transition;Z2.transition={};try{e()}finally{Z2.transition=t}};Oo.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oo.useCallback=function(e,t){return NA.current.useCallback(e,t)};Oo.useContext=function(e){return NA.current.useContext(e)};Oo.useDebugValue=function(){};Oo.useDeferredValue=function(e){return NA.current.useDeferredValue(e)};Oo.useEffect=function(e,t){return NA.current.useEffect(e,t)};Oo.useId=function(){return NA.current.useId()};Oo.useImperativeHandle=function(e,t,n){return NA.current.useImperativeHandle(e,t,n)};Oo.useInsertionEffect=function(e,t){return NA.current.useInsertionEffect(e,t)};Oo.useLayoutEffect=function(e,t){return NA.current.useLayoutEffect(e,t)};Oo.useMemo=function(e,t){return NA.current.useMemo(e,t)};Oo.useReducer=function(e,t,n){return NA.current.useReducer(e,t,n)};Oo.useRef=function(e){return NA.current.useRef(e)};Oo.useState=function(e){return NA.current.useState(e)};Oo.useSyncExternalStore=function(e,t,n){return NA.current.useSyncExternalStore(e,t,n)};Oo.useTransition=function(){return NA.current.useTransition()};Oo.version="18.2.0";RF.exports=Oo;var Ir=RF.exports;const Mn=Ba(Ir);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tq=Ir,Pq=Symbol.for("react.element"),Kq=Symbol.for("react.fragment"),Dq=Object.prototype.hasOwnProperty,Fq=Tq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lq={key:!0,ref:!0,__self:!0,__source:!0};function YF(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Dq.call(t,r)&&!Lq.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Pq,type:e,key:o,ref:a,props:i,_owner:Fq.current}}E5.Fragment=Kq;E5.jsx=YF;E5.jsxs=YF;UF.exports=E5;var G=UF.exports,qF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z6=Mn.createContext&&Mn.createContext(qF),Uq=["attr","size","title"];function Rq(e,t){if(e==null)return{};var n=zq(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function w3(){return w3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w3.apply(this,arguments)}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(r){jq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jq(e,t,n){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:String(t)}function Nq(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HF(e){return e&&e.map((t,n)=>Mn.createElement(t.tag,M3({key:n},t.attr),HF(t.child)))}function sl(e){return t=>Mn.createElement(Gq,w3({attr:M3({},e.attr)},t),HF(e.child))}function Gq(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=Rq(e,Uq),s=i||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),Mn.createElement("svg",w3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:h,style:M3(M3({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&Mn.createElement("title",null,o),e.children)};return z6!==void 0?Mn.createElement(z6.Consumer,null,n=>t(n)):t(qF)}var VF={exports:{}},id={},ZF={exports:{}},XF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(st,mt){var ze=st.length;st.push(mt);e:for(;0<ze;){var He=ze-1>>>1,Ve=st[He];if(0<i(Ve,mt))st[He]=mt,st[ze]=Ve,ze=He;else break e}}function n(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var mt=st[0],ze=st.pop();if(ze!==mt){st[0]=ze;e:for(var He=0,Ve=st.length,Vt=Ve>>>1;He<Vt;){var Yt=2*(He+1)-1,vt=st[Yt],$t=Yt+1,Qt=st[$t];if(0>i(vt,ze))$t<Ve&&0>i(Qt,vt)?(st[He]=Qt,st[$t]=ze,He=$t):(st[He]=vt,st[Yt]=ze,He=Yt);else if($t<Ve&&0>i(Qt,ze))st[He]=Qt,st[$t]=ze,He=$t;else break e}}return mt}function i(st,mt){var ze=st.sortIndex-mt.sortIndex;return ze!==0?ze:st.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var h=[],g=[],_=1,E=null,O=3,K=!1,D=!1,Y=!1,ee=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(st){for(var mt=n(g);mt!==null;){if(mt.callback===null)r(g);else if(mt.startTime<=st)r(g),mt.sortIndex=mt.expirationTime,t(h,mt);else break;mt=n(g)}}function ue(st){if(Y=!1,Z(st),!D)if(n(h)!==null)D=!0,yt(ye);else{var mt=n(g);mt!==null&&wt(ue,mt.startTime-st)}}function ye(st,mt){D=!1,Y&&(Y=!1,H(se),se=-1),K=!0;var ze=O;try{for(Z(mt),E=n(h);E!==null&&(!(E.expirationTime>mt)||st&&!De());){var He=E.callback;if(typeof He=="function"){E.callback=null,O=E.priorityLevel;var Ve=He(E.expirationTime<=mt);mt=e.unstable_now(),typeof Ve=="function"?E.callback=Ve:E===n(h)&&r(h),Z(mt)}else r(h);E=n(h)}if(E!==null)var Vt=!0;else{var Yt=n(g);Yt!==null&&wt(ue,Yt.startTime-mt),Vt=!1}return Vt}finally{E=null,O=ze,K=!1}}var be=!1,X=null,se=-1,we=5,xe=-1;function De(){return!(e.unstable_now()-xe<we)}function Fe(){if(X!==null){var st=e.unstable_now();xe=st;var mt=!0;try{mt=X(!0,st)}finally{mt?he():(be=!1,X=null)}}else be=!1}var he;if(typeof N=="function")he=function(){N(Fe)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,ge=Qe.port2;Qe.port1.onmessage=Fe,he=function(){ge.postMessage(null)}}else he=function(){ee(Fe,0)};function yt(st){X=st,be||(be=!0,he())}function wt(st,mt){se=ee(function(){st(e.unstable_now())},mt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(st){st.callback=null},e.unstable_continueExecution=function(){D||K||(D=!0,yt(ye))},e.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<st?Math.floor(1e3/st):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(st){switch(O){case 1:case 2:case 3:var mt=3;break;default:mt=O}var ze=O;O=mt;try{return st()}finally{O=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(st,mt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var ze=O;O=st;try{return mt()}finally{O=ze}},e.unstable_scheduleCallback=function(st,mt,ze){var He=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?He+ze:He):ze=He,st){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ze+Ve,st={id:_++,callback:mt,priorityLevel:st,startTime:ze,expirationTime:Ve,sortIndex:-1},ze>He?(st.sortIndex=ze,t(g,st),n(h)===null&&st===n(g)&&(Y?(H(se),se=-1):Y=!0,wt(ue,ze-He))):(st.sortIndex=Ve,t(h,st),D||K||(D=!0,yt(ye))),st},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(st){var mt=O;return function(){var ze=O;O=mt;try{return st.apply(this,arguments)}finally{O=ze}}}})(XF);ZF.exports=XF;var $q=ZF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JF=Ir,rd=$q;function Gn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eL=new Set,BC={};function W1(e,t){Jy(e,t),Jy(e+"Capture",t)}function Jy(e,t){for(BC[e]=t,e=0;e<t.length;e++)eL.add(t[e])}var qp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j6=Object.prototype.hasOwnProperty,Qq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zk={},jk={};function Yq(e){return j6.call(jk,e)?!0:j6.call(zk,e)?!1:Qq.test(e)?jk[e]=!0:(zk[e]=!0,!1)}function qq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hq(e,t,n,r){if(t===null||typeof t>"u"||qq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function GA(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var zu={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zu[e]=new GA(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zu[t]=new GA(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zu[e]=new GA(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zu[e]=new GA(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zu[e]=new GA(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zu[e]=new GA(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zu[e]=new GA(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zu[e]=new GA(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zu[e]=new GA(e,5,!1,e.toLowerCase(),null,!1,!1)});var NB=/[\-:]([a-z])/g;function GB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(NB,GB);zu[t]=new GA(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(NB,GB);zu[t]=new GA(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(NB,GB);zu[t]=new GA(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zu[e]=new GA(e,1,!1,e.toLowerCase(),null,!1,!1)});zu.xlinkHref=new GA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zu[e]=new GA(e,1,!1,e.toLowerCase(),null,!0,!0)});function $B(e,t,n,r){var i=zu.hasOwnProperty(t)?zu[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hq(t,n,i,r)&&(n=null),r||i===null?Yq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xp=JF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hx=Symbol.for("react.element"),ry=Symbol.for("react.portal"),iy=Symbol.for("react.fragment"),QB=Symbol.for("react.strict_mode"),W6=Symbol.for("react.profiler"),tL=Symbol.for("react.provider"),nL=Symbol.for("react.context"),YB=Symbol.for("react.forward_ref"),N6=Symbol.for("react.suspense"),G6=Symbol.for("react.suspense_list"),qB=Symbol.for("react.memo"),Im=Symbol.for("react.lazy"),rL=Symbol.for("react.offscreen"),Wk=Symbol.iterator;function f_(e){return e===null||typeof e!="object"?null:(e=Wk&&e[Wk]||e["@@iterator"],typeof e=="function"?e:null)}var Zs=Object.assign,UM;function R_(e){if(UM===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);UM=t&&t[1]||""}return`
`+UM+e}var RM=!1;function zM(e,t){if(!e||RM)return"";RM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var h=`
`+i[a].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=a&&0<=s);break}}}finally{RM=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R_(e):""}function Vq(e){switch(e.tag){case 5:return R_(e.type);case 16:return R_("Lazy");case 13:return R_("Suspense");case 19:return R_("SuspenseList");case 0:case 2:case 15:return e=zM(e.type,!1),e;case 11:return e=zM(e.type.render,!1),e;case 1:return e=zM(e.type,!0),e;default:return""}}function $6(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iy:return"Fragment";case ry:return"Portal";case W6:return"Profiler";case QB:return"StrictMode";case N6:return"Suspense";case G6:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nL:return(e.displayName||"Context")+".Consumer";case tL:return(e._context.displayName||"Context")+".Provider";case YB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qB:return t=e.displayName||null,t!==null?t:$6(e.type)||"Memo";case Im:t=e._payload,e=e._init;try{return $6(e(t))}catch{}}return null}function Zq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $6(t);case 8:return t===QB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function u0(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xq(e){var t=iL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vx(e){e._valueTracker||(e._valueTracker=Xq(e))}function oL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iL(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function S3(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q6(e,t){var n=t.checked;return Zs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nk(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=u0(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aL(e,t){t=t.checked,t!=null&&$B(e,"checked",t,!1)}function Y6(e,t){aL(e,t);var n=u0(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q6(e,t.type,n):t.hasOwnProperty("defaultValue")&&q6(e,t.type,u0(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gk(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function q6(e,t,n){(t!=="number"||S3(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var z_=Array.isArray;function Ey(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+u0(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function H6(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Gn(91));return Zs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $k(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Gn(92));if(z_(n)){if(1<n.length)throw Error(Gn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:u0(n)}}function sL(e,t){var n=u0(t.value),r=u0(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function V6(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zx,uL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zx=Zx||document.createElement("div"),Zx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function IC(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jq=["Webkit","ms","Moz","O"];Object.keys(eC).forEach(function(e){Jq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eC[t]=eC[e]})});function AL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||eC.hasOwnProperty(e)&&eC[e]?(""+t).trim():t+"px"}function cL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AL(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var eH=Zs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z6(e,t){if(t){if(eH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Gn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Gn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Gn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Gn(62))}}function X6(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J6=null;function HB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eE=null,Oy=null,By=null;function Yk(e){if(e=wb(e)){if(typeof eE!="function")throw Error(Gn(280));var t=e.stateNode;t&&(t=T5(t),eE(e.stateNode,e.type,t))}}function dL(e){Oy?By?By.push(e):By=[e]:Oy=e}function hL(){if(Oy){var e=Oy,t=By;if(By=Oy=null,Yk(e),t)for(e=0;e<t.length;e++)Yk(t[e])}}function fL(e,t){return e(t)}function pL(){}var jM=!1;function mL(e,t,n){if(jM)return e(t,n);jM=!0;try{return fL(e,t,n)}finally{jM=!1,(Oy!==null||By!==null)&&(pL(),hL())}}function kC(e,t){var n=e.stateNode;if(n===null)return null;var r=T5(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Gn(231,t,typeof n));return n}var tE=!1;if(qp)try{var p_={};Object.defineProperty(p_,"passive",{get:function(){tE=!0}}),window.addEventListener("test",p_,p_),window.removeEventListener("test",p_,p_)}catch{tE=!1}function tH(e,t,n,r,i,o,a,s,h){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(_){this.onError(_)}}var tC=!1,E3=null,O3=!1,nE=null,nH={onError:function(e){tC=!0,E3=e}};function rH(e,t,n,r,i,o,a,s,h){tC=!1,E3=null,tH.apply(nH,arguments)}function iH(e,t,n,r,i,o,a,s,h){if(rH.apply(this,arguments),tC){if(tC){var g=E3;tC=!1,E3=null}else throw Error(Gn(198));O3||(O3=!0,nE=g)}}function N1(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qk(e){if(N1(e)!==e)throw Error(Gn(188))}function oH(e){var t=e.alternate;if(!t){if(t=N1(e),t===null)throw Error(Gn(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qk(i),e;if(o===r)return qk(i),t;o=o.sibling}throw Error(Gn(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Gn(189))}}if(n.alternate!==r)throw Error(Gn(190))}if(n.tag!==3)throw Error(Gn(188));return n.stateNode.current===n?e:t}function yL(e){return e=oH(e),e!==null?vL(e):null}function vL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vL(e);if(t!==null)return t;e=e.sibling}return null}var _L=rd.unstable_scheduleCallback,Hk=rd.unstable_cancelCallback,aH=rd.unstable_shouldYield,sH=rd.unstable_requestPaint,vl=rd.unstable_now,lH=rd.unstable_getCurrentPriorityLevel,VB=rd.unstable_ImmediatePriority,CL=rd.unstable_UserBlockingPriority,B3=rd.unstable_NormalPriority,uH=rd.unstable_LowPriority,bL=rd.unstable_IdlePriority,O5=null,Ff=null;function AH(e){if(Ff&&typeof Ff.onCommitFiberRoot=="function")try{Ff.onCommitFiberRoot(O5,e,void 0,(e.current.flags&128)===128)}catch{}}var kh=Math.clz32?Math.clz32:hH,cH=Math.log,dH=Math.LN2;function hH(e){return e>>>=0,e===0?32:31-(cH(e)/dH|0)|0}var Xx=64,Jx=4194304;function j_(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function I3(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=j_(s):(o&=a,o!==0&&(r=j_(o)))}else a=n&~i,a!==0?r=j_(a):o!==0&&(r=j_(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kh(t),i=1<<n,r|=e[n],t&=~i;return r}function fH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pH(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-kh(o),s=1<<a,h=i[a];h===-1?(!(s&n)||s&r)&&(i[a]=fH(s,t)):h<=t&&(e.expiredLanes|=s),o&=~s}}function rE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xL(){var e=Xx;return Xx<<=1,!(Xx&4194240)&&(Xx=64),e}function WM(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kh(t),e[t]=n}function mH(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kh(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ZB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kh(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oa=0;function wL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ML,XB,SL,EL,OL,iE=!1,e2=[],Hm=null,Vm=null,Zm=null,TC=new Map,PC=new Map,Um=[],gH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vk(e,t){switch(e){case"focusin":case"focusout":Hm=null;break;case"dragenter":case"dragleave":Vm=null;break;case"mouseover":case"mouseout":Zm=null;break;case"pointerover":case"pointerout":TC.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":PC.delete(t.pointerId)}}function m_(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=wb(t),t!==null&&XB(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yH(e,t,n,r,i){switch(t){case"focusin":return Hm=m_(Hm,e,t,n,r,i),!0;case"dragenter":return Vm=m_(Vm,e,t,n,r,i),!0;case"mouseover":return Zm=m_(Zm,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return TC.set(o,m_(TC.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,PC.set(o,m_(PC.get(o)||null,e,t,n,r,i)),!0}return!1}function BL(e){var t=u1(e.target);if(t!==null){var n=N1(t);if(n!==null){if(t=n.tag,t===13){if(t=gL(n),t!==null){e.blockedOn=t,OL(e.priority,function(){SL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function X2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);J6=r,n.target.dispatchEvent(r),J6=null}else return t=wb(n),t!==null&&XB(t),e.blockedOn=n,!1;t.shift()}return!0}function Zk(e,t,n){X2(e)&&n.delete(t)}function vH(){iE=!1,Hm!==null&&X2(Hm)&&(Hm=null),Vm!==null&&X2(Vm)&&(Vm=null),Zm!==null&&X2(Zm)&&(Zm=null),TC.forEach(Zk),PC.forEach(Zk)}function g_(e,t){e.blockedOn===t&&(e.blockedOn=null,iE||(iE=!0,rd.unstable_scheduleCallback(rd.unstable_NormalPriority,vH)))}function KC(e){function t(i){return g_(i,e)}if(0<e2.length){g_(e2[0],e);for(var n=1;n<e2.length;n++){var r=e2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hm!==null&&g_(Hm,e),Vm!==null&&g_(Vm,e),Zm!==null&&g_(Zm,e),TC.forEach(t),PC.forEach(t),n=0;n<Um.length;n++)r=Um[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Um.length&&(n=Um[0],n.blockedOn===null);)BL(n),n.blockedOn===null&&Um.shift()}var Iy=Xp.ReactCurrentBatchConfig,k3=!0;function _H(e,t,n,r){var i=Oa,o=Iy.transition;Iy.transition=null;try{Oa=1,JB(e,t,n,r)}finally{Oa=i,Iy.transition=o}}function CH(e,t,n,r){var i=Oa,o=Iy.transition;Iy.transition=null;try{Oa=4,JB(e,t,n,r)}finally{Oa=i,Iy.transition=o}}function JB(e,t,n,r){if(k3){var i=oE(e,t,n,r);if(i===null)XM(e,t,r,T3,n),Vk(e,r);else if(yH(i,e,t,n,r))r.stopPropagation();else if(Vk(e,r),t&4&&-1<gH.indexOf(e)){for(;i!==null;){var o=wb(i);if(o!==null&&ML(o),o=oE(e,t,n,r),o===null&&XM(e,t,r,T3,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else XM(e,t,r,null,n)}}var T3=null;function oE(e,t,n,r){if(T3=null,e=HB(r),e=u1(e),e!==null)if(t=N1(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return T3=e,null}function IL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lH()){case VB:return 1;case CL:return 4;case B3:case uH:return 16;case bL:return 536870912;default:return 16}default:return 16}}var jm=null,e7=null,J2=null;function kL(){if(J2)return J2;var e,t=e7,n=t.length,r,i="value"in jm?jm.value:jm.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return J2=i.slice(e,1<r?1-r:void 0)}function e3(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function t2(){return!0}function Xk(){return!1}function od(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?t2:Xk,this.isPropagationStopped=Xk,this}return Zs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=t2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=t2)},persist:function(){},isPersistent:t2}),t}var vv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t7=od(vv),xb=Zs({},vv,{view:0,detail:0}),bH=od(xb),NM,GM,y_,B5=Zs({},xb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n7,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==y_&&(y_&&e.type==="mousemove"?(NM=e.screenX-y_.screenX,GM=e.screenY-y_.screenY):GM=NM=0,y_=e),NM)},movementY:function(e){return"movementY"in e?e.movementY:GM}}),Jk=od(B5),xH=Zs({},B5,{dataTransfer:0}),wH=od(xH),MH=Zs({},xb,{relatedTarget:0}),$M=od(MH),SH=Zs({},vv,{animationName:0,elapsedTime:0,pseudoElement:0}),EH=od(SH),OH=Zs({},vv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BH=od(OH),IH=Zs({},vv,{data:0}),e9=od(IH),kH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PH[e])?!!t[e]:!1}function n7(){return KH}var DH=Zs({},xb,{key:function(e){if(e.key){var t=kH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=e3(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n7,charCode:function(e){return e.type==="keypress"?e3(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?e3(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FH=od(DH),LH=Zs({},B5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t9=od(LH),UH=Zs({},xb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n7}),RH=od(UH),zH=Zs({},vv,{propertyName:0,elapsedTime:0,pseudoElement:0}),jH=od(zH),WH=Zs({},B5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NH=od(WH),GH=[9,13,27,32],r7=qp&&"CompositionEvent"in window,nC=null;qp&&"documentMode"in document&&(nC=document.documentMode);var $H=qp&&"TextEvent"in window&&!nC,TL=qp&&(!r7||nC&&8<nC&&11>=nC),n9=" ",r9=!1;function PL(e,t){switch(e){case"keyup":return GH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oy=!1;function QH(e,t){switch(e){case"compositionend":return KL(t);case"keypress":return t.which!==32?null:(r9=!0,n9);case"textInput":return e=t.data,e===n9&&r9?null:e;default:return null}}function YH(e,t){if(oy)return e==="compositionend"||!r7&&PL(e,t)?(e=kL(),J2=e7=jm=null,oy=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TL&&t.locale!=="ko"?null:t.data;default:return null}}var qH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i9(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qH[e.type]:t==="textarea"}function DL(e,t,n,r){dL(r),t=P3(t,"onChange"),0<t.length&&(n=new t7("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rC=null,DC=null;function HH(e){QL(e,0)}function I5(e){var t=ly(e);if(oL(t))return e}function VH(e,t){if(e==="change")return t}var FL=!1;if(qp){var QM;if(qp){var YM="oninput"in document;if(!YM){var o9=document.createElement("div");o9.setAttribute("oninput","return;"),YM=typeof o9.oninput=="function"}QM=YM}else QM=!1;FL=QM&&(!document.documentMode||9<document.documentMode)}function a9(){rC&&(rC.detachEvent("onpropertychange",LL),DC=rC=null)}function LL(e){if(e.propertyName==="value"&&I5(DC)){var t=[];DL(t,DC,e,HB(e)),mL(HH,t)}}function ZH(e,t,n){e==="focusin"?(a9(),rC=t,DC=n,rC.attachEvent("onpropertychange",LL)):e==="focusout"&&a9()}function XH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return I5(DC)}function JH(e,t){if(e==="click")return I5(t)}function eV(e,t){if(e==="input"||e==="change")return I5(t)}function tV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kh=typeof Object.is=="function"?Object.is:tV;function FC(e,t){if(Kh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!j6.call(t,i)||!Kh(e[i],t[i]))return!1}return!0}function s9(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function l9(e,t){var n=s9(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s9(n)}}function UL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RL(){for(var e=window,t=S3();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=S3(e.document)}return t}function i7(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nV(e){var t=RL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&UL(n.ownerDocument.documentElement,n)){if(r!==null&&i7(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=l9(n,o);var a=l9(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rV=qp&&"documentMode"in document&&11>=document.documentMode,ay=null,aE=null,iC=null,sE=!1;function u9(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sE||ay==null||ay!==S3(r)||(r=ay,"selectionStart"in r&&i7(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iC&&FC(iC,r)||(iC=r,r=P3(aE,"onSelect"),0<r.length&&(t=new t7("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ay)))}function n2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sy={animationend:n2("Animation","AnimationEnd"),animationiteration:n2("Animation","AnimationIteration"),animationstart:n2("Animation","AnimationStart"),transitionend:n2("Transition","TransitionEnd")},qM={},zL={};qp&&(zL=document.createElement("div").style,"AnimationEvent"in window||(delete sy.animationend.animation,delete sy.animationiteration.animation,delete sy.animationstart.animation),"TransitionEvent"in window||delete sy.transitionend.transition);function k5(e){if(qM[e])return qM[e];if(!sy[e])return e;var t=sy[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zL)return qM[e]=t[n];return e}var jL=k5("animationend"),WL=k5("animationiteration"),NL=k5("animationstart"),GL=k5("transitionend"),$L=new Map,A9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function f0(e,t){$L.set(e,t),W1(t,[e])}for(var HM=0;HM<A9.length;HM++){var VM=A9[HM],iV=VM.toLowerCase(),oV=VM[0].toUpperCase()+VM.slice(1);f0(iV,"on"+oV)}f0(jL,"onAnimationEnd");f0(WL,"onAnimationIteration");f0(NL,"onAnimationStart");f0("dblclick","onDoubleClick");f0("focusin","onFocus");f0("focusout","onBlur");f0(GL,"onTransitionEnd");Jy("onMouseEnter",["mouseout","mouseover"]);Jy("onMouseLeave",["mouseout","mouseover"]);Jy("onPointerEnter",["pointerout","pointerover"]);Jy("onPointerLeave",["pointerout","pointerover"]);W1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));W1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));W1("onBeforeInput",["compositionend","keypress","textInput","paste"]);W1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));W1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));W1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aV=new Set("cancel close invalid load scroll toggle".split(" ").concat(W_));function c9(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,iH(r,t,void 0,e),e.currentTarget=null}function QL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],h=s.instance,g=s.currentTarget;if(s=s.listener,h!==o&&i.isPropagationStopped())break e;c9(i,s,g),o=h}else for(a=0;a<r.length;a++){if(s=r[a],h=s.instance,g=s.currentTarget,s=s.listener,h!==o&&i.isPropagationStopped())break e;c9(i,s,g),o=h}}}if(O3)throw e=nE,O3=!1,nE=null,e}function ps(e,t){var n=t[dE];n===void 0&&(n=t[dE]=new Set);var r=e+"__bubble";n.has(r)||(YL(t,e,2,!1),n.add(r))}function ZM(e,t,n){var r=0;t&&(r|=4),YL(n,e,r,t)}var r2="_reactListening"+Math.random().toString(36).slice(2);function LC(e){if(!e[r2]){e[r2]=!0,eL.forEach(function(n){n!=="selectionchange"&&(aV.has(n)||ZM(n,!1,e),ZM(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[r2]||(t[r2]=!0,ZM("selectionchange",!1,t))}}function YL(e,t,n,r){switch(IL(t)){case 1:var i=_H;break;case 4:i=CH;break;default:i=JB}n=i.bind(null,t,n,e),i=void 0,!tE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function XM(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;s!==null;){if(a=u1(s),a===null)return;if(h=a.tag,h===5||h===6){r=o=a;continue e}s=s.parentNode}}r=r.return}mL(function(){var g=o,_=HB(n),E=[];e:{var O=$L.get(e);if(O!==void 0){var K=t7,D=e;switch(e){case"keypress":if(e3(n)===0)break e;case"keydown":case"keyup":K=FH;break;case"focusin":D="focus",K=$M;break;case"focusout":D="blur",K=$M;break;case"beforeblur":case"afterblur":K=$M;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Jk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=wH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=RH;break;case jL:case WL:case NL:K=EH;break;case GL:K=jH;break;case"scroll":K=bH;break;case"wheel":K=NH;break;case"copy":case"cut":case"paste":K=BH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=t9}var Y=(t&4)!==0,ee=!Y&&e==="scroll",H=Y?O!==null?O+"Capture":null:O;Y=[];for(var N=g,Z;N!==null;){Z=N;var ue=Z.stateNode;if(Z.tag===5&&ue!==null&&(Z=ue,H!==null&&(ue=kC(N,H),ue!=null&&Y.push(UC(N,ue,Z)))),ee)break;N=N.return}0<Y.length&&(O=new K(O,D,null,n,_),E.push({event:O,listeners:Y}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",O&&n!==J6&&(D=n.relatedTarget||n.fromElement)&&(u1(D)||D[Hp]))break e;if((K||O)&&(O=_.window===_?_:(O=_.ownerDocument)?O.defaultView||O.parentWindow:window,K?(D=n.relatedTarget||n.toElement,K=g,D=D?u1(D):null,D!==null&&(ee=N1(D),D!==ee||D.tag!==5&&D.tag!==6)&&(D=null)):(K=null,D=g),K!==D)){if(Y=Jk,ue="onMouseLeave",H="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Y=t9,ue="onPointerLeave",H="onPointerEnter",N="pointer"),ee=K==null?O:ly(K),Z=D==null?O:ly(D),O=new Y(ue,N+"leave",K,n,_),O.target=ee,O.relatedTarget=Z,ue=null,u1(_)===g&&(Y=new Y(H,N+"enter",D,n,_),Y.target=Z,Y.relatedTarget=ee,ue=Y),ee=ue,K&&D)t:{for(Y=K,H=D,N=0,Z=Y;Z;Z=Ig(Z))N++;for(Z=0,ue=H;ue;ue=Ig(ue))Z++;for(;0<N-Z;)Y=Ig(Y),N--;for(;0<Z-N;)H=Ig(H),Z--;for(;N--;){if(Y===H||H!==null&&Y===H.alternate)break t;Y=Ig(Y),H=Ig(H)}Y=null}else Y=null;K!==null&&d9(E,O,K,Y,!1),D!==null&&ee!==null&&d9(E,ee,D,Y,!0)}}e:{if(O=g?ly(g):window,K=O.nodeName&&O.nodeName.toLowerCase(),K==="select"||K==="input"&&O.type==="file")var ye=VH;else if(i9(O))if(FL)ye=eV;else{ye=XH;var be=ZH}else(K=O.nodeName)&&K.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(ye=JH);if(ye&&(ye=ye(e,g))){DL(E,ye,n,_);break e}be&&be(e,O,g),e==="focusout"&&(be=O._wrapperState)&&be.controlled&&O.type==="number"&&q6(O,"number",O.value)}switch(be=g?ly(g):window,e){case"focusin":(i9(be)||be.contentEditable==="true")&&(ay=be,aE=g,iC=null);break;case"focusout":iC=aE=ay=null;break;case"mousedown":sE=!0;break;case"contextmenu":case"mouseup":case"dragend":sE=!1,u9(E,n,_);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":u9(E,n,_)}var X;if(r7)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else oy?PL(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(TL&&n.locale!=="ko"&&(oy||se!=="onCompositionStart"?se==="onCompositionEnd"&&oy&&(X=kL()):(jm=_,e7="value"in jm?jm.value:jm.textContent,oy=!0)),be=P3(g,se),0<be.length&&(se=new e9(se,e,null,n,_),E.push({event:se,listeners:be}),X?se.data=X:(X=KL(n),X!==null&&(se.data=X)))),(X=$H?QH(e,n):YH(e,n))&&(g=P3(g,"onBeforeInput"),0<g.length&&(_=new e9("onBeforeInput","beforeinput",null,n,_),E.push({event:_,listeners:g}),_.data=X))}QL(E,t)})}function UC(e,t,n){return{instance:e,listener:t,currentTarget:n}}function P3(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kC(e,n),o!=null&&r.unshift(UC(e,o,i)),o=kC(e,t),o!=null&&r.push(UC(e,o,i))),e=e.return}return r}function Ig(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d9(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,h=s.alternate,g=s.stateNode;if(h!==null&&h===r)break;s.tag===5&&g!==null&&(s=g,i?(h=kC(n,o),h!=null&&a.unshift(UC(n,h,s))):i||(h=kC(n,o),h!=null&&a.push(UC(n,h,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var sV=/\r\n?/g,lV=/\u0000|\uFFFD/g;function h9(e){return(typeof e=="string"?e:""+e).replace(sV,`
`).replace(lV,"")}function i2(e,t,n){if(t=h9(t),h9(e)!==t&&n)throw Error(Gn(425))}function K3(){}var lE=null,uE=null;function AE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cE=typeof setTimeout=="function"?setTimeout:void 0,uV=typeof clearTimeout=="function"?clearTimeout:void 0,f9=typeof Promise=="function"?Promise:void 0,AV=typeof queueMicrotask=="function"?queueMicrotask:typeof f9<"u"?function(e){return f9.resolve(null).then(e).catch(cV)}:cE;function cV(e){setTimeout(function(){throw e})}function JM(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),KC(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);KC(t)}function Xm(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p9(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _v=Math.random().toString(36).slice(2),If="__reactFiber$"+_v,RC="__reactProps$"+_v,Hp="__reactContainer$"+_v,dE="__reactEvents$"+_v,dV="__reactListeners$"+_v,hV="__reactHandles$"+_v;function u1(e){var t=e[If];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hp]||n[If]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p9(e);e!==null;){if(n=e[If])return n;e=p9(e)}return t}e=n,n=e.parentNode}return null}function wb(e){return e=e[If]||e[Hp],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ly(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Gn(33))}function T5(e){return e[RC]||null}var hE=[],uy=-1;function p0(e){return{current:e}}function Cs(e){0>uy||(e.current=hE[uy],hE[uy]=null,uy--)}function rs(e,t){uy++,hE[uy]=e.current,e.current=t}var A0={},mA=p0(A0),bc=p0(!1),E1=A0;function ev(e,t){var n=e.type.contextTypes;if(!n)return A0;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xc(e){return e=e.childContextTypes,e!=null}function D3(){Cs(bc),Cs(mA)}function m9(e,t,n){if(mA.current!==A0)throw Error(Gn(168));rs(mA,t),rs(bc,n)}function qL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Gn(108,Zq(e)||"Unknown",i));return Zs({},n,r)}function F3(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||A0,E1=mA.current,rs(mA,e),rs(bc,bc.current),!0}function g9(e,t,n){var r=e.stateNode;if(!r)throw Error(Gn(169));n?(e=qL(e,t,E1),r.__reactInternalMemoizedMergedChildContext=e,Cs(bc),Cs(mA),rs(mA,e)):Cs(bc),rs(bc,n)}var Kp=null,P5=!1,eS=!1;function HL(e){Kp===null?Kp=[e]:Kp.push(e)}function fV(e){P5=!0,HL(e)}function m0(){if(!eS&&Kp!==null){eS=!0;var e=0,t=Oa;try{var n=Kp;for(Oa=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kp=null,P5=!1}catch(i){throw Kp!==null&&(Kp=Kp.slice(e+1)),_L(VB,m0),i}finally{Oa=t,eS=!1}}return null}var Ay=[],cy=0,L3=null,U3=0,Pd=[],Kd=0,O1=null,zp=1,jp="";function V0(e,t){Ay[cy++]=U3,Ay[cy++]=L3,L3=e,U3=t}function VL(e,t,n){Pd[Kd++]=zp,Pd[Kd++]=jp,Pd[Kd++]=O1,O1=e;var r=zp;e=jp;var i=32-kh(r)-1;r&=~(1<<i),n+=1;var o=32-kh(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zp=1<<32-kh(t)+i|n<<i|r,jp=o+e}else zp=1<<o|n<<i|r,jp=e}function o7(e){e.return!==null&&(V0(e,1),VL(e,1,0))}function a7(e){for(;e===L3;)L3=Ay[--cy],Ay[cy]=null,U3=Ay[--cy],Ay[cy]=null;for(;e===O1;)O1=Pd[--Kd],Pd[Kd]=null,jp=Pd[--Kd],Pd[Kd]=null,zp=Pd[--Kd],Pd[Kd]=null}var td=null,Xc=null,Ps=!1,Bh=null;function ZL(e,t){var n=Fd(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function y9(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,td=e,Xc=Xm(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,td=e,Xc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=O1!==null?{id:zp,overflow:jp}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fd(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,td=e,Xc=null,!0):!1;default:return!1}}function fE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pE(e){if(Ps){var t=Xc;if(t){var n=t;if(!y9(e,t)){if(fE(e))throw Error(Gn(418));t=Xm(n.nextSibling);var r=td;t&&y9(e,t)?ZL(r,n):(e.flags=e.flags&-4097|2,Ps=!1,td=e)}}else{if(fE(e))throw Error(Gn(418));e.flags=e.flags&-4097|2,Ps=!1,td=e}}}function v9(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;td=e}function o2(e){if(e!==td)return!1;if(!Ps)return v9(e),Ps=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AE(e.type,e.memoizedProps)),t&&(t=Xc)){if(fE(e))throw XL(),Error(Gn(418));for(;t;)ZL(e,t),t=Xm(t.nextSibling)}if(v9(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Gn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xc=Xm(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xc=null}}else Xc=td?Xm(e.stateNode.nextSibling):null;return!0}function XL(){for(var e=Xc;e;)e=Xm(e.nextSibling)}function tv(){Xc=td=null,Ps=!1}function s7(e){Bh===null?Bh=[e]:Bh.push(e)}var pV=Xp.ReactCurrentBatchConfig;function Sh(e,t){if(e&&e.defaultProps){t=Zs({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var R3=p0(null),z3=null,dy=null,l7=null;function u7(){l7=dy=z3=null}function A7(e){var t=R3.current;Cs(R3),e._currentValue=t}function mE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ky(e,t){z3=e,l7=dy=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cc=!0),e.firstContext=null)}function Wd(e){var t=e._currentValue;if(l7!==e)if(e={context:e,memoizedValue:t,next:null},dy===null){if(z3===null)throw Error(Gn(308));dy=e,z3.dependencies={lanes:0,firstContext:e}}else dy=dy.next=e;return t}var A1=null;function c7(e){A1===null?A1=[e]:A1.push(e)}function JL(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,c7(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vp(e,r)}function Vp(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var km=!1;function d7(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jm(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Yo&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vp(e,n)}return i=r.interleaved,i===null?(t.next=t,c7(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vp(e,n)}function t3(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ZB(e,n)}}function _9(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function j3(e,t,n,r){var i=e.updateQueue;km=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var h=s,g=h.next;h.next=null,a===null?o=g:a.next=g,a=h;var _=e.alternate;_!==null&&(_=_.updateQueue,s=_.lastBaseUpdate,s!==a&&(s===null?_.firstBaseUpdate=g:s.next=g,_.lastBaseUpdate=h))}if(o!==null){var E=i.baseState;a=0,_=g=h=null,s=o;do{var O=s.lane,K=s.eventTime;if((r&O)===O){_!==null&&(_=_.next={eventTime:K,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var D=e,Y=s;switch(O=t,K=n,Y.tag){case 1:if(D=Y.payload,typeof D=="function"){E=D.call(K,E,O);break e}E=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=Y.payload,O=typeof D=="function"?D.call(K,E,O):D,O==null)break e;E=Zs({},E,O);break e;case 2:km=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,O=i.effects,O===null?i.effects=[s]:O.push(s))}else K={eventTime:K,lane:O,tag:s.tag,payload:s.payload,callback:s.callback,next:null},_===null?(g=_=K,h=E):_=_.next=K,a|=O;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;O=s,s=O.next,O.next=null,i.lastBaseUpdate=O,i.shared.pending=null}}while(!0);if(_===null&&(h=E),i.baseState=h,i.firstBaseUpdate=g,i.lastBaseUpdate=_,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);I1|=a,e.lanes=a,e.memoizedState=E}}function C9(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Gn(191,i));i.call(r)}}}var tU=new JF.Component().refs;function gE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Zs({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var K5={isMounted:function(e){return(e=e._reactInternals)?N1(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jA(),i=t0(e),o=Wp(r,i);o.payload=t,n!=null&&(o.callback=n),t=Jm(e,o,i),t!==null&&(Th(t,e,i,r),t3(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jA(),i=t0(e),o=Wp(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Jm(e,o,i),t!==null&&(Th(t,e,i,r),t3(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jA(),r=t0(e),i=Wp(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jm(e,i,r),t!==null&&(Th(t,e,r,n),t3(t,e,r))}};function b9(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!FC(n,r)||!FC(i,o):!0}function nU(e,t,n){var r=!1,i=A0,o=t.contextType;return typeof o=="object"&&o!==null?o=Wd(o):(i=xc(t)?E1:mA.current,r=t.contextTypes,o=(r=r!=null)?ev(e,i):A0),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=K5,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function x9(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&K5.enqueueReplaceState(t,t.state,null)}function yE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=tU,d7(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Wd(o):(o=xc(t)?E1:mA.current,i.context=ev(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(gE(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&K5.enqueueReplaceState(i,i.state,null),j3(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function v_(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Gn(309));var r=n.stateNode}if(!r)throw Error(Gn(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===tU&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Gn(284));if(!n._owner)throw Error(Gn(290,e))}return e}function a2(e,t){throw e=Object.prototype.toString.call(t),Error(Gn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w9(e){var t=e._init;return t(e._payload)}function rU(e){function t(H,N){if(e){var Z=H.deletions;Z===null?(H.deletions=[N],H.flags|=16):Z.push(N)}}function n(H,N){if(!e)return null;for(;N!==null;)t(H,N),N=N.sibling;return null}function r(H,N){for(H=new Map;N!==null;)N.key!==null?H.set(N.key,N):H.set(N.index,N),N=N.sibling;return H}function i(H,N){return H=n0(H,N),H.index=0,H.sibling=null,H}function o(H,N,Z){return H.index=Z,e?(Z=H.alternate,Z!==null?(Z=Z.index,Z<N?(H.flags|=2,N):Z):(H.flags|=2,N)):(H.flags|=1048576,N)}function a(H){return e&&H.alternate===null&&(H.flags|=2),H}function s(H,N,Z,ue){return N===null||N.tag!==6?(N=sS(Z,H.mode,ue),N.return=H,N):(N=i(N,Z),N.return=H,N)}function h(H,N,Z,ue){var ye=Z.type;return ye===iy?_(H,N,Z.props.children,ue,Z.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Im&&w9(ye)===N.type)?(ue=i(N,Z.props),ue.ref=v_(H,N,Z),ue.return=H,ue):(ue=s3(Z.type,Z.key,Z.props,null,H.mode,ue),ue.ref=v_(H,N,Z),ue.return=H,ue)}function g(H,N,Z,ue){return N===null||N.tag!==4||N.stateNode.containerInfo!==Z.containerInfo||N.stateNode.implementation!==Z.implementation?(N=lS(Z,H.mode,ue),N.return=H,N):(N=i(N,Z.children||[]),N.return=H,N)}function _(H,N,Z,ue,ye){return N===null||N.tag!==7?(N=v1(Z,H.mode,ue,ye),N.return=H,N):(N=i(N,Z),N.return=H,N)}function E(H,N,Z){if(typeof N=="string"&&N!==""||typeof N=="number")return N=sS(""+N,H.mode,Z),N.return=H,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hx:return Z=s3(N.type,N.key,N.props,null,H.mode,Z),Z.ref=v_(H,null,N),Z.return=H,Z;case ry:return N=lS(N,H.mode,Z),N.return=H,N;case Im:var ue=N._init;return E(H,ue(N._payload),Z)}if(z_(N)||f_(N))return N=v1(N,H.mode,Z,null),N.return=H,N;a2(H,N)}return null}function O(H,N,Z,ue){var ye=N!==null?N.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ye!==null?null:s(H,N,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Hx:return Z.key===ye?h(H,N,Z,ue):null;case ry:return Z.key===ye?g(H,N,Z,ue):null;case Im:return ye=Z._init,O(H,N,ye(Z._payload),ue)}if(z_(Z)||f_(Z))return ye!==null?null:_(H,N,Z,ue,null);a2(H,Z)}return null}function K(H,N,Z,ue,ye){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(Z)||null,s(N,H,""+ue,ye);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Hx:return H=H.get(ue.key===null?Z:ue.key)||null,h(N,H,ue,ye);case ry:return H=H.get(ue.key===null?Z:ue.key)||null,g(N,H,ue,ye);case Im:var be=ue._init;return K(H,N,Z,be(ue._payload),ye)}if(z_(ue)||f_(ue))return H=H.get(Z)||null,_(N,H,ue,ye,null);a2(N,ue)}return null}function D(H,N,Z,ue){for(var ye=null,be=null,X=N,se=N=0,we=null;X!==null&&se<Z.length;se++){X.index>se?(we=X,X=null):we=X.sibling;var xe=O(H,X,Z[se],ue);if(xe===null){X===null&&(X=we);break}e&&X&&xe.alternate===null&&t(H,X),N=o(xe,N,se),be===null?ye=xe:be.sibling=xe,be=xe,X=we}if(se===Z.length)return n(H,X),Ps&&V0(H,se),ye;if(X===null){for(;se<Z.length;se++)X=E(H,Z[se],ue),X!==null&&(N=o(X,N,se),be===null?ye=X:be.sibling=X,be=X);return Ps&&V0(H,se),ye}for(X=r(H,X);se<Z.length;se++)we=K(X,H,se,Z[se],ue),we!==null&&(e&&we.alternate!==null&&X.delete(we.key===null?se:we.key),N=o(we,N,se),be===null?ye=we:be.sibling=we,be=we);return e&&X.forEach(function(De){return t(H,De)}),Ps&&V0(H,se),ye}function Y(H,N,Z,ue){var ye=f_(Z);if(typeof ye!="function")throw Error(Gn(150));if(Z=ye.call(Z),Z==null)throw Error(Gn(151));for(var be=ye=null,X=N,se=N=0,we=null,xe=Z.next();X!==null&&!xe.done;se++,xe=Z.next()){X.index>se?(we=X,X=null):we=X.sibling;var De=O(H,X,xe.value,ue);if(De===null){X===null&&(X=we);break}e&&X&&De.alternate===null&&t(H,X),N=o(De,N,se),be===null?ye=De:be.sibling=De,be=De,X=we}if(xe.done)return n(H,X),Ps&&V0(H,se),ye;if(X===null){for(;!xe.done;se++,xe=Z.next())xe=E(H,xe.value,ue),xe!==null&&(N=o(xe,N,se),be===null?ye=xe:be.sibling=xe,be=xe);return Ps&&V0(H,se),ye}for(X=r(H,X);!xe.done;se++,xe=Z.next())xe=K(X,H,se,xe.value,ue),xe!==null&&(e&&xe.alternate!==null&&X.delete(xe.key===null?se:xe.key),N=o(xe,N,se),be===null?ye=xe:be.sibling=xe,be=xe);return e&&X.forEach(function(Fe){return t(H,Fe)}),Ps&&V0(H,se),ye}function ee(H,N,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===iy&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Hx:e:{for(var ye=Z.key,be=N;be!==null;){if(be.key===ye){if(ye=Z.type,ye===iy){if(be.tag===7){n(H,be.sibling),N=i(be,Z.props.children),N.return=H,H=N;break e}}else if(be.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Im&&w9(ye)===be.type){n(H,be.sibling),N=i(be,Z.props),N.ref=v_(H,be,Z),N.return=H,H=N;break e}n(H,be);break}else t(H,be);be=be.sibling}Z.type===iy?(N=v1(Z.props.children,H.mode,ue,Z.key),N.return=H,H=N):(ue=s3(Z.type,Z.key,Z.props,null,H.mode,ue),ue.ref=v_(H,N,Z),ue.return=H,H=ue)}return a(H);case ry:e:{for(be=Z.key;N!==null;){if(N.key===be)if(N.tag===4&&N.stateNode.containerInfo===Z.containerInfo&&N.stateNode.implementation===Z.implementation){n(H,N.sibling),N=i(N,Z.children||[]),N.return=H,H=N;break e}else{n(H,N);break}else t(H,N);N=N.sibling}N=lS(Z,H.mode,ue),N.return=H,H=N}return a(H);case Im:return be=Z._init,ee(H,N,be(Z._payload),ue)}if(z_(Z))return D(H,N,Z,ue);if(f_(Z))return Y(H,N,Z,ue);a2(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,N!==null&&N.tag===6?(n(H,N.sibling),N=i(N,Z),N.return=H,H=N):(n(H,N),N=sS(Z,H.mode,ue),N.return=H,H=N),a(H)):n(H,N)}return ee}var nv=rU(!0),iU=rU(!1),Mb={},Lf=p0(Mb),zC=p0(Mb),jC=p0(Mb);function c1(e){if(e===Mb)throw Error(Gn(174));return e}function h7(e,t){switch(rs(jC,t),rs(zC,e),rs(Lf,Mb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:V6(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=V6(t,e)}Cs(Lf),rs(Lf,t)}function rv(){Cs(Lf),Cs(zC),Cs(jC)}function oU(e){c1(jC.current);var t=c1(Lf.current),n=V6(t,e.type);t!==n&&(rs(zC,e),rs(Lf,n))}function f7(e){zC.current===e&&(Cs(Lf),Cs(zC))}var Ys=p0(0);function W3(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tS=[];function p7(){for(var e=0;e<tS.length;e++)tS[e]._workInProgressVersionPrimary=null;tS.length=0}var n3=Xp.ReactCurrentDispatcher,nS=Xp.ReactCurrentBatchConfig,B1=0,Vs=null,Hl=null,vu=null,N3=!1,oC=!1,WC=0,mV=0;function uA(){throw Error(Gn(321))}function m7(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kh(e[n],t[n]))return!1;return!0}function g7(e,t,n,r,i,o){if(B1=o,Vs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,n3.current=e===null||e.memoizedState===null?_V:CV,e=n(r,i),oC){o=0;do{if(oC=!1,WC=0,25<=o)throw Error(Gn(301));o+=1,vu=Hl=null,t.updateQueue=null,n3.current=bV,e=n(r,i)}while(oC)}if(n3.current=G3,t=Hl!==null&&Hl.next!==null,B1=0,vu=Hl=Vs=null,N3=!1,t)throw Error(Gn(300));return e}function y7(){var e=WC!==0;return WC=0,e}function xf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vu===null?Vs.memoizedState=vu=e:vu=vu.next=e,vu}function Nd(){if(Hl===null){var e=Vs.alternate;e=e!==null?e.memoizedState:null}else e=Hl.next;var t=vu===null?Vs.memoizedState:vu.next;if(t!==null)vu=t,Hl=e;else{if(e===null)throw Error(Gn(310));Hl=e,e={memoizedState:Hl.memoizedState,baseState:Hl.baseState,baseQueue:Hl.baseQueue,queue:Hl.queue,next:null},vu===null?Vs.memoizedState=vu=e:vu=vu.next=e}return vu}function NC(e,t){return typeof t=="function"?t(e):t}function rS(e){var t=Nd(),n=t.queue;if(n===null)throw Error(Gn(311));n.lastRenderedReducer=e;var r=Hl,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,h=null,g=o;do{var _=g.lane;if((B1&_)===_)h!==null&&(h=h.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var E={lane:_,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};h===null?(s=h=E,a=r):h=h.next=E,Vs.lanes|=_,I1|=_}g=g.next}while(g!==null&&g!==o);h===null?a=r:h.next=s,Kh(r,t.memoizedState)||(Cc=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Vs.lanes|=o,I1|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function iS(e){var t=Nd(),n=t.queue;if(n===null)throw Error(Gn(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Kh(o,t.memoizedState)||(Cc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function aU(){}function sU(e,t){var n=Vs,r=Nd(),i=t(),o=!Kh(r.memoizedState,i);if(o&&(r.memoizedState=i,Cc=!0),r=r.queue,v7(AU.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||vu!==null&&vu.memoizedState.tag&1){if(n.flags|=2048,GC(9,uU.bind(null,n,r,i,t),void 0,null),Cu===null)throw Error(Gn(349));B1&30||lU(n,t,i)}return i}function lU(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vs.updateQueue,t===null?(t={lastEffect:null,stores:null},Vs.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uU(e,t,n,r){t.value=n,t.getSnapshot=r,cU(t)&&dU(e)}function AU(e,t,n){return n(function(){cU(t)&&dU(e)})}function cU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kh(e,n)}catch{return!0}}function dU(e){var t=Vp(e,1);t!==null&&Th(t,e,1,-1)}function M9(e){var t=xf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:NC,lastRenderedState:e},t.queue=e,e=e.dispatch=vV.bind(null,Vs,e),[t.memoizedState,e]}function GC(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vs.updateQueue,t===null?(t={lastEffect:null,stores:null},Vs.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hU(){return Nd().memoizedState}function r3(e,t,n,r){var i=xf();Vs.flags|=e,i.memoizedState=GC(1|t,n,void 0,r===void 0?null:r)}function D5(e,t,n,r){var i=Nd();r=r===void 0?null:r;var o=void 0;if(Hl!==null){var a=Hl.memoizedState;if(o=a.destroy,r!==null&&m7(r,a.deps)){i.memoizedState=GC(t,n,o,r);return}}Vs.flags|=e,i.memoizedState=GC(1|t,n,o,r)}function S9(e,t){return r3(8390656,8,e,t)}function v7(e,t){return D5(2048,8,e,t)}function fU(e,t){return D5(4,2,e,t)}function pU(e,t){return D5(4,4,e,t)}function mU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gU(e,t,n){return n=n!=null?n.concat([e]):null,D5(4,4,mU.bind(null,t,e),n)}function _7(){}function yU(e,t){var n=Nd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m7(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vU(e,t){var n=Nd();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m7(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _U(e,t,n){return B1&21?(Kh(n,t)||(n=xL(),Vs.lanes|=n,I1|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cc=!0),e.memoizedState=n)}function gV(e,t){var n=Oa;Oa=n!==0&&4>n?n:4,e(!0);var r=nS.transition;nS.transition={};try{e(!1),t()}finally{Oa=n,nS.transition=r}}function CU(){return Nd().memoizedState}function yV(e,t,n){var r=t0(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bU(e))xU(t,n);else if(n=JL(e,t,n,r),n!==null){var i=jA();Th(n,e,r,i),wU(n,t,r)}}function vV(e,t,n){var r=t0(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bU(e))xU(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Kh(s,a)){var h=t.interleaved;h===null?(i.next=i,c7(t)):(i.next=h.next,h.next=i),t.interleaved=i;return}}catch{}finally{}n=JL(e,t,i,r),n!==null&&(i=jA(),Th(n,e,r,i),wU(n,t,r))}}function bU(e){var t=e.alternate;return e===Vs||t!==null&&t===Vs}function xU(e,t){oC=N3=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wU(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ZB(e,n)}}var G3={readContext:Wd,useCallback:uA,useContext:uA,useEffect:uA,useImperativeHandle:uA,useInsertionEffect:uA,useLayoutEffect:uA,useMemo:uA,useReducer:uA,useRef:uA,useState:uA,useDebugValue:uA,useDeferredValue:uA,useTransition:uA,useMutableSource:uA,useSyncExternalStore:uA,useId:uA,unstable_isNewReconciler:!1},_V={readContext:Wd,useCallback:function(e,t){return xf().memoizedState=[e,t===void 0?null:t],e},useContext:Wd,useEffect:S9,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,r3(4194308,4,mU.bind(null,t,e),n)},useLayoutEffect:function(e,t){return r3(4194308,4,e,t)},useInsertionEffect:function(e,t){return r3(4,2,e,t)},useMemo:function(e,t){var n=xf();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xf();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yV.bind(null,Vs,e),[r.memoizedState,e]},useRef:function(e){var t=xf();return e={current:e},t.memoizedState=e},useState:M9,useDebugValue:_7,useDeferredValue:function(e){return xf().memoizedState=e},useTransition:function(){var e=M9(!1),t=e[0];return e=gV.bind(null,e[1]),xf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vs,i=xf();if(Ps){if(n===void 0)throw Error(Gn(407));n=n()}else{if(n=t(),Cu===null)throw Error(Gn(349));B1&30||lU(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,S9(AU.bind(null,r,o,e),[e]),r.flags|=2048,GC(9,uU.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xf(),t=Cu.identifierPrefix;if(Ps){var n=jp,r=zp;n=(r&~(1<<32-kh(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=WC++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mV++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CV={readContext:Wd,useCallback:yU,useContext:Wd,useEffect:v7,useImperativeHandle:gU,useInsertionEffect:fU,useLayoutEffect:pU,useMemo:vU,useReducer:rS,useRef:hU,useState:function(){return rS(NC)},useDebugValue:_7,useDeferredValue:function(e){var t=Nd();return _U(t,Hl.memoizedState,e)},useTransition:function(){var e=rS(NC)[0],t=Nd().memoizedState;return[e,t]},useMutableSource:aU,useSyncExternalStore:sU,useId:CU,unstable_isNewReconciler:!1},bV={readContext:Wd,useCallback:yU,useContext:Wd,useEffect:v7,useImperativeHandle:gU,useInsertionEffect:fU,useLayoutEffect:pU,useMemo:vU,useReducer:iS,useRef:hU,useState:function(){return iS(NC)},useDebugValue:_7,useDeferredValue:function(e){var t=Nd();return Hl===null?t.memoizedState=e:_U(t,Hl.memoizedState,e)},useTransition:function(){var e=iS(NC)[0],t=Nd().memoizedState;return[e,t]},useMutableSource:aU,useSyncExternalStore:sU,useId:CU,unstable_isNewReconciler:!1};function iv(e,t){try{var n="",r=t;do n+=Vq(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function oS(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xV=typeof WeakMap=="function"?WeakMap:Map;function MU(e,t,n){n=Wp(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Q3||(Q3=!0,BE=r),vE(e,t)},n}function SU(e,t,n){n=Wp(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vE(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vE(e,t),typeof r!="function"&&(e0===null?e0=new Set([this]):e0.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function E9(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xV;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=LV.bind(null,e,t,n),t.then(e,e))}function O9(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function B9(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wp(-1,1),t.tag=2,Jm(n,t,1))),n.lanes|=1),e)}var wV=Xp.ReactCurrentOwner,Cc=!1;function LA(e,t,n,r){t.child=e===null?iU(t,null,n,r):nv(t,e.child,n,r)}function I9(e,t,n,r,i){n=n.render;var o=t.ref;return ky(t,i),r=g7(e,t,n,r,o,i),n=y7(),e!==null&&!Cc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zp(e,t,i)):(Ps&&n&&o7(t),t.flags|=1,LA(e,t,r,i),t.child)}function k9(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!O7(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,EU(e,t,o,r,i)):(e=s3(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:FC,n(a,r)&&e.ref===t.ref)return Zp(e,t,i)}return t.flags|=1,e=n0(o,r),e.ref=t.ref,e.return=t,t.child=e}function EU(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(FC(o,r)&&e.ref===t.ref)if(Cc=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Cc=!0);else return t.lanes=e.lanes,Zp(e,t,i)}return _E(e,t,n,r,i)}function OU(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rs(fy,$c),$c|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rs(fy,$c),$c|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,rs(fy,$c),$c|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,rs(fy,$c),$c|=r;return LA(e,t,i,n),t.child}function BU(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _E(e,t,n,r,i){var o=xc(n)?E1:mA.current;return o=ev(t,o),ky(t,i),n=g7(e,t,n,r,o,i),r=y7(),e!==null&&!Cc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zp(e,t,i)):(Ps&&r&&o7(t),t.flags|=1,LA(e,t,n,i),t.child)}function T9(e,t,n,r,i){if(xc(n)){var o=!0;F3(t)}else o=!1;if(ky(t,i),t.stateNode===null)i3(e,t),nU(t,n,r),yE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var h=a.context,g=n.contextType;typeof g=="object"&&g!==null?g=Wd(g):(g=xc(n)?E1:mA.current,g=ev(t,g));var _=n.getDerivedStateFromProps,E=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function";E||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||h!==g)&&x9(t,a,r,g),km=!1;var O=t.memoizedState;a.state=O,j3(t,r,a,i),h=t.memoizedState,s!==r||O!==h||bc.current||km?(typeof _=="function"&&(gE(t,n,_,r),h=t.memoizedState),(s=km||b9(t,n,s,r,O,h,g))?(E||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=g,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,eU(e,t),s=t.memoizedProps,g=t.type===t.elementType?s:Sh(t.type,s),a.props=g,E=t.pendingProps,O=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=Wd(h):(h=xc(n)?E1:mA.current,h=ev(t,h));var K=n.getDerivedStateFromProps;(_=typeof K=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==E||O!==h)&&x9(t,a,r,h),km=!1,O=t.memoizedState,a.state=O,j3(t,r,a,i);var D=t.memoizedState;s!==E||O!==D||bc.current||km?(typeof K=="function"&&(gE(t,n,K,r),D=t.memoizedState),(g=km||b9(t,n,g,r,O,D,h)||!1)?(_||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,D,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,D,h)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),a.props=r,a.state=D,a.context=h,r=g):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return CE(e,t,n,r,o,i)}function CE(e,t,n,r,i,o){BU(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&g9(t,n,!1),Zp(e,t,o);r=t.stateNode,wV.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=nv(t,e.child,null,o),t.child=nv(t,null,s,o)):LA(e,t,s,o),t.memoizedState=r.state,i&&g9(t,n,!0),t.child}function IU(e){var t=e.stateNode;t.pendingContext?m9(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m9(e,t.context,!1),h7(e,t.containerInfo)}function P9(e,t,n,r,i){return tv(),s7(i),t.flags|=256,LA(e,t,n,r),t.child}var bE={dehydrated:null,treeContext:null,retryLane:0};function xE(e){return{baseLanes:e,cachePool:null,transitions:null}}function kU(e,t,n){var r=t.pendingProps,i=Ys.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),rs(Ys,i&1),e===null)return pE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=U5(a,r,0,null),e=v1(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xE(n),t.memoizedState=bE,e):C7(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return MV(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=n0(i,h),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=n0(s,o):(o=v1(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?xE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=bE,r}return o=e.child,e=o.sibling,r=n0(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function C7(e,t){return t=U5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function s2(e,t,n,r){return r!==null&&s7(r),nv(t,e.child,null,n),e=C7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MV(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=oS(Error(Gn(422))),s2(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=U5({mode:"visible",children:r.children},i,0,null),o=v1(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&nv(t,e.child,null,a),t.child.memoizedState=xE(a),t.memoizedState=bE,o);if(!(t.mode&1))return s2(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Gn(419)),r=oS(o,r,void 0),s2(e,t,a,r)}if(s=(a&e.childLanes)!==0,Cc||s){if(r=Cu,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vp(e,i),Th(r,e,i,-1))}return E7(),r=oS(Error(Gn(421))),s2(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=UV.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Xc=Xm(i.nextSibling),td=t,Ps=!0,Bh=null,e!==null&&(Pd[Kd++]=zp,Pd[Kd++]=jp,Pd[Kd++]=O1,zp=e.id,jp=e.overflow,O1=t),t=C7(t,r.children),t.flags|=4096,t)}function K9(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mE(e.return,t,n)}function aS(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function TU(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(LA(e,t,r.children,n),r=Ys.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&K9(e,n,t);else if(e.tag===19)K9(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rs(Ys,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&W3(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aS(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&W3(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aS(t,!0,n,null,o);break;case"together":aS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function i3(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zp(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),I1|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Gn(153));if(t.child!==null){for(e=t.child,n=n0(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=n0(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SV(e,t,n){switch(t.tag){case 3:IU(t),tv();break;case 5:oU(t);break;case 1:xc(t.type)&&F3(t);break;case 4:h7(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;rs(R3,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rs(Ys,Ys.current&1),t.flags|=128,null):n&t.child.childLanes?kU(e,t,n):(rs(Ys,Ys.current&1),e=Zp(e,t,n),e!==null?e.sibling:null);rs(Ys,Ys.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return TU(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rs(Ys,Ys.current),r)break;return null;case 22:case 23:return t.lanes=0,OU(e,t,n)}return Zp(e,t,n)}var PU,wE,KU,DU;PU=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wE=function(){};KU=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,c1(Lf.current);var o=null;switch(n){case"input":i=Q6(e,i),r=Q6(e,r),o=[];break;case"select":i=Zs({},i,{value:void 0}),r=Zs({},r,{value:void 0}),o=[];break;case"textarea":i=H6(e,i),r=H6(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=K3)}Z6(n,r);var a;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var s=i[g];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(BC.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var h=r[g];if(s=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&h!==s&&(h!=null||s!=null))if(g==="style")if(s){for(a in s)!s.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&s[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(g,n)),n=h;else g==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,s=s?s.__html:void 0,h!=null&&s!==h&&(o=o||[]).push(g,h)):g==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(g,""+h):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(BC.hasOwnProperty(g)?(h!=null&&g==="onScroll"&&ps("scroll",e),o||s===h||(o=[])):(o=o||[]).push(g,h))}n&&(o=o||[]).push("style",n);var g=o;(t.updateQueue=g)&&(t.flags|=4)}};DU=function(e,t,n,r){n!==r&&(t.flags|=4)};function __(e,t){if(!Ps)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function AA(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function EV(e,t,n){var r=t.pendingProps;switch(a7(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return AA(t),null;case 1:return xc(t.type)&&D3(),AA(t),null;case 3:return r=t.stateNode,rv(),Cs(bc),Cs(mA),p7(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(o2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bh!==null&&(TE(Bh),Bh=null))),wE(e,t),AA(t),null;case 5:f7(t);var i=c1(jC.current);if(n=t.type,e!==null&&t.stateNode!=null)KU(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Gn(166));return AA(t),null}if(e=c1(Lf.current),o2(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[If]=t,r[RC]=o,e=(t.mode&1)!==0,n){case"dialog":ps("cancel",r),ps("close",r);break;case"iframe":case"object":case"embed":ps("load",r);break;case"video":case"audio":for(i=0;i<W_.length;i++)ps(W_[i],r);break;case"source":ps("error",r);break;case"img":case"image":case"link":ps("error",r),ps("load",r);break;case"details":ps("toggle",r);break;case"input":Nk(r,o),ps("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ps("invalid",r);break;case"textarea":$k(r,o),ps("invalid",r)}Z6(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&i2(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&i2(r.textContent,s,e),i=["children",""+s]):BC.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ps("scroll",r)}switch(n){case"input":Vx(r),Gk(r,o,!0);break;case"textarea":Vx(r),Qk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=K3)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[If]=t,e[RC]=r,PU(e,t,!1,!1),t.stateNode=e;e:{switch(a=X6(n,r),n){case"dialog":ps("cancel",e),ps("close",e),i=r;break;case"iframe":case"object":case"embed":ps("load",e),i=r;break;case"video":case"audio":for(i=0;i<W_.length;i++)ps(W_[i],e);i=r;break;case"source":ps("error",e),i=r;break;case"img":case"image":case"link":ps("error",e),ps("load",e),i=r;break;case"details":ps("toggle",e),i=r;break;case"input":Nk(e,r),i=Q6(e,r),ps("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Zs({},r,{value:void 0}),ps("invalid",e);break;case"textarea":$k(e,r),i=H6(e,r),ps("invalid",e);break;default:i=r}Z6(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var h=s[o];o==="style"?cL(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&uL(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&IC(e,h):typeof h=="number"&&IC(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(BC.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ps("scroll",e):h!=null&&$B(e,o,h,a))}switch(n){case"input":Vx(e),Gk(e,r,!1);break;case"textarea":Vx(e),Qk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+u0(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ey(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ey(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=K3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return AA(t),null;case 6:if(e&&t.stateNode!=null)DU(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Gn(166));if(n=c1(jC.current),c1(Lf.current),o2(t)){if(r=t.stateNode,n=t.memoizedProps,r[If]=t,(o=r.nodeValue!==n)&&(e=td,e!==null))switch(e.tag){case 3:i2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&i2(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[If]=t,t.stateNode=r}return AA(t),null;case 13:if(Cs(Ys),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ps&&Xc!==null&&t.mode&1&&!(t.flags&128))XL(),tv(),t.flags|=98560,o=!1;else if(o=o2(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Gn(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Gn(317));o[If]=t}else tv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;AA(t),o=!1}else Bh!==null&&(TE(Bh),Bh=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ys.current&1?Vl===0&&(Vl=3):E7())),t.updateQueue!==null&&(t.flags|=4),AA(t),null);case 4:return rv(),wE(e,t),e===null&&LC(t.stateNode.containerInfo),AA(t),null;case 10:return A7(t.type._context),AA(t),null;case 17:return xc(t.type)&&D3(),AA(t),null;case 19:if(Cs(Ys),o=t.memoizedState,o===null)return AA(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)__(o,!1);else{if(Vl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=W3(e),a!==null){for(t.flags|=128,__(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rs(Ys,Ys.current&1|2),t.child}e=e.sibling}o.tail!==null&&vl()>ov&&(t.flags|=128,r=!0,__(o,!1),t.lanes=4194304)}else{if(!r)if(e=W3(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),__(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ps)return AA(t),null}else 2*vl()-o.renderingStartTime>ov&&n!==1073741824&&(t.flags|=128,r=!0,__(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=vl(),t.sibling=null,n=Ys.current,rs(Ys,r?n&1|2:n&1),t):(AA(t),null);case 22:case 23:return S7(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$c&1073741824&&(AA(t),t.subtreeFlags&6&&(t.flags|=8192)):AA(t),null;case 24:return null;case 25:return null}throw Error(Gn(156,t.tag))}function OV(e,t){switch(a7(t),t.tag){case 1:return xc(t.type)&&D3(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rv(),Cs(bc),Cs(mA),p7(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return f7(t),null;case 13:if(Cs(Ys),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Gn(340));tv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cs(Ys),null;case 4:return rv(),null;case 10:return A7(t.type._context),null;case 22:case 23:return S7(),null;case 24:return null;default:return null}}var l2=!1,hA=!1,BV=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function hy(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){il(e,t,r)}else n.current=null}function ME(e,t,n){try{n()}catch(r){il(e,t,r)}}var D9=!1;function IV(e,t){if(lE=k3,e=RL(),i7(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,h=-1,g=0,_=0,E=e,O=null;t:for(;;){for(var K;E!==n||i!==0&&E.nodeType!==3||(s=a+i),E!==o||r!==0&&E.nodeType!==3||(h=a+r),E.nodeType===3&&(a+=E.nodeValue.length),(K=E.firstChild)!==null;)O=E,E=K;for(;;){if(E===e)break t;if(O===n&&++g===i&&(s=a),O===o&&++_===r&&(h=a),(K=E.nextSibling)!==null)break;E=O,O=E.parentNode}E=K}n=s===-1||h===-1?null:{start:s,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(uE={focusedElem:e,selectionRange:n},k3=!1,Pr=t;Pr!==null;)if(t=Pr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pr=e;else for(;Pr!==null;){t=Pr;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var Y=D.memoizedProps,ee=D.memoizedState,H=t.stateNode,N=H.getSnapshotBeforeUpdate(t.elementType===t.type?Y:Sh(t.type,Y),ee);H.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var Z=t.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Gn(163))}}catch(ue){il(t,t.return,ue)}if(e=t.sibling,e!==null){e.return=t.return,Pr=e;break}Pr=t.return}return D=D9,D9=!1,D}function aC(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ME(t,n,o)}i=i.next}while(i!==r)}}function F5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function SE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FU(e){var t=e.alternate;t!==null&&(e.alternate=null,FU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[If],delete t[RC],delete t[dE],delete t[dV],delete t[hV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LU(e){return e.tag===5||e.tag===3||e.tag===4}function F9(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function EE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=K3));else if(r!==4&&(e=e.child,e!==null))for(EE(e,t,n),e=e.sibling;e!==null;)EE(e,t,n),e=e.sibling}function OE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(OE(e,t,n),e=e.sibling;e!==null;)OE(e,t,n),e=e.sibling}var Lu=null,Eh=!1;function Cm(e,t,n){for(n=n.child;n!==null;)UU(e,t,n),n=n.sibling}function UU(e,t,n){if(Ff&&typeof Ff.onCommitFiberUnmount=="function")try{Ff.onCommitFiberUnmount(O5,n)}catch{}switch(n.tag){case 5:hA||hy(n,t);case 6:var r=Lu,i=Eh;Lu=null,Cm(e,t,n),Lu=r,Eh=i,Lu!==null&&(Eh?(e=Lu,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Lu.removeChild(n.stateNode));break;case 18:Lu!==null&&(Eh?(e=Lu,n=n.stateNode,e.nodeType===8?JM(e.parentNode,n):e.nodeType===1&&JM(e,n),KC(e)):JM(Lu,n.stateNode));break;case 4:r=Lu,i=Eh,Lu=n.stateNode.containerInfo,Eh=!0,Cm(e,t,n),Lu=r,Eh=i;break;case 0:case 11:case 14:case 15:if(!hA&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ME(n,t,a),i=i.next}while(i!==r)}Cm(e,t,n);break;case 1:if(!hA&&(hy(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){il(n,t,s)}Cm(e,t,n);break;case 21:Cm(e,t,n);break;case 22:n.mode&1?(hA=(r=hA)||n.memoizedState!==null,Cm(e,t,n),hA=r):Cm(e,t,n);break;default:Cm(e,t,n)}}function L9(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BV),t.forEach(function(r){var i=RV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _h(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Lu=s.stateNode,Eh=!1;break e;case 3:Lu=s.stateNode.containerInfo,Eh=!0;break e;case 4:Lu=s.stateNode.containerInfo,Eh=!0;break e}s=s.return}if(Lu===null)throw Error(Gn(160));UU(o,a,i),Lu=null,Eh=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(g){il(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)RU(t,e),t=t.sibling}function RU(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_h(t,e),Cf(e),r&4){try{aC(3,e,e.return),F5(3,e)}catch(Y){il(e,e.return,Y)}try{aC(5,e,e.return)}catch(Y){il(e,e.return,Y)}}break;case 1:_h(t,e),Cf(e),r&512&&n!==null&&hy(n,n.return);break;case 5:if(_h(t,e),Cf(e),r&512&&n!==null&&hy(n,n.return),e.flags&32){var i=e.stateNode;try{IC(i,"")}catch(Y){il(e,e.return,Y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&aL(i,o),X6(s,a);var g=X6(s,o);for(a=0;a<h.length;a+=2){var _=h[a],E=h[a+1];_==="style"?cL(i,E):_==="dangerouslySetInnerHTML"?uL(i,E):_==="children"?IC(i,E):$B(i,_,E,g)}switch(s){case"input":Y6(i,o);break;case"textarea":sL(i,o);break;case"select":var O=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var K=o.value;K!=null?Ey(i,!!o.multiple,K,!1):O!==!!o.multiple&&(o.defaultValue!=null?Ey(i,!!o.multiple,o.defaultValue,!0):Ey(i,!!o.multiple,o.multiple?[]:"",!1))}i[RC]=o}catch(Y){il(e,e.return,Y)}}break;case 6:if(_h(t,e),Cf(e),r&4){if(e.stateNode===null)throw Error(Gn(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(Y){il(e,e.return,Y)}}break;case 3:if(_h(t,e),Cf(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{KC(t.containerInfo)}catch(Y){il(e,e.return,Y)}break;case 4:_h(t,e),Cf(e);break;case 13:_h(t,e),Cf(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(w7=vl())),r&4&&L9(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(hA=(g=hA)||_,_h(t,e),hA=g):_h(t,e),Cf(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!_&&e.mode&1)for(Pr=e,_=e.child;_!==null;){for(E=Pr=_;Pr!==null;){switch(O=Pr,K=O.child,O.tag){case 0:case 11:case 14:case 15:aC(4,O,O.return);break;case 1:hy(O,O.return);var D=O.stateNode;if(typeof D.componentWillUnmount=="function"){r=O,n=O.return;try{t=r,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(Y){il(r,n,Y)}}break;case 5:hy(O,O.return);break;case 22:if(O.memoizedState!==null){R9(E);continue}}K!==null?(K.return=O,Pr=K):R9(E)}_=_.sibling}e:for(_=null,E=e;;){if(E.tag===5){if(_===null){_=E;try{i=E.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=E.stateNode,h=E.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,s.style.display=AL("display",a))}catch(Y){il(e,e.return,Y)}}}else if(E.tag===6){if(_===null)try{E.stateNode.nodeValue=g?"":E.memoizedProps}catch(Y){il(e,e.return,Y)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;_===E&&(_=null),E=E.return}_===E&&(_=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:_h(t,e),Cf(e),r&4&&L9(e);break;case 21:break;default:_h(t,e),Cf(e)}}function Cf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(LU(n)){var r=n;break e}n=n.return}throw Error(Gn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(IC(i,""),r.flags&=-33);var o=F9(e);OE(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=F9(e);EE(e,s,a);break;default:throw Error(Gn(161))}}catch(h){il(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kV(e,t,n){Pr=e,zU(e)}function zU(e,t,n){for(var r=(e.mode&1)!==0;Pr!==null;){var i=Pr,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||l2;if(!a){var s=i.alternate,h=s!==null&&s.memoizedState!==null||hA;s=l2;var g=hA;if(l2=a,(hA=h)&&!g)for(Pr=i;Pr!==null;)a=Pr,h=a.child,a.tag===22&&a.memoizedState!==null?z9(i):h!==null?(h.return=a,Pr=h):z9(i);for(;o!==null;)Pr=o,zU(o),o=o.sibling;Pr=i,l2=s,hA=g}U9(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Pr=o):U9(e)}}function U9(e){for(;Pr!==null;){var t=Pr;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hA||F5(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!hA)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Sh(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&C9(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}C9(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var _=g.memoizedState;if(_!==null){var E=_.dehydrated;E!==null&&KC(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Gn(163))}hA||t.flags&512&&SE(t)}catch(O){il(t,t.return,O)}}if(t===e){Pr=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pr=n;break}Pr=t.return}}function R9(e){for(;Pr!==null;){var t=Pr;if(t===e){Pr=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pr=n;break}Pr=t.return}}function z9(e){for(;Pr!==null;){var t=Pr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{F5(4,t)}catch(h){il(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(h){il(t,i,h)}}var o=t.return;try{SE(t)}catch(h){il(t,o,h)}break;case 5:var a=t.return;try{SE(t)}catch(h){il(t,a,h)}}}catch(h){il(t,t.return,h)}if(t===e){Pr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Pr=s;break}Pr=t.return}}var TV=Math.ceil,$3=Xp.ReactCurrentDispatcher,b7=Xp.ReactCurrentOwner,Rd=Xp.ReactCurrentBatchConfig,Yo=0,Cu=null,Pl=null,Uu=0,$c=0,fy=p0(0),Vl=0,$C=null,I1=0,L5=0,x7=0,sC=null,vc=null,w7=0,ov=1/0,Bp=null,Q3=!1,BE=null,e0=null,u2=!1,Wm=null,Y3=0,lC=0,IE=null,o3=-1,a3=0;function jA(){return Yo&6?vl():o3!==-1?o3:o3=vl()}function t0(e){return e.mode&1?Yo&2&&Uu!==0?Uu&-Uu:pV.transition!==null?(a3===0&&(a3=xL()),a3):(e=Oa,e!==0||(e=window.event,e=e===void 0?16:IL(e.type)),e):1}function Th(e,t,n,r){if(50<lC)throw lC=0,IE=null,Error(Gn(185));bb(e,n,r),(!(Yo&2)||e!==Cu)&&(e===Cu&&(!(Yo&2)&&(L5|=n),Vl===4&&Rm(e,Uu)),wc(e,r),n===1&&Yo===0&&!(t.mode&1)&&(ov=vl()+500,P5&&m0()))}function wc(e,t){var n=e.callbackNode;pH(e,t);var r=I3(e,e===Cu?Uu:0);if(r===0)n!==null&&Hk(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hk(n),t===1)e.tag===0?fV(j9.bind(null,e)):HL(j9.bind(null,e)),AV(function(){!(Yo&6)&&m0()}),n=null;else{switch(wL(r)){case 1:n=VB;break;case 4:n=CL;break;case 16:n=B3;break;case 536870912:n=bL;break;default:n=B3}n=qU(n,jU.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jU(e,t){if(o3=-1,a3=0,Yo&6)throw Error(Gn(327));var n=e.callbackNode;if(Ty()&&e.callbackNode!==n)return null;var r=I3(e,e===Cu?Uu:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=q3(e,r);else{t=r;var i=Yo;Yo|=2;var o=NU();(Cu!==e||Uu!==t)&&(Bp=null,ov=vl()+500,y1(e,t));do try{DV();break}catch(s){WU(e,s)}while(!0);u7(),$3.current=o,Yo=i,Pl!==null?t=0:(Cu=null,Uu=0,t=Vl)}if(t!==0){if(t===2&&(i=rE(e),i!==0&&(r=i,t=kE(e,i))),t===1)throw n=$C,y1(e,0),Rm(e,r),wc(e,vl()),n;if(t===6)Rm(e,r);else{if(i=e.current.alternate,!(r&30)&&!PV(i)&&(t=q3(e,r),t===2&&(o=rE(e),o!==0&&(r=o,t=kE(e,o))),t===1))throw n=$C,y1(e,0),Rm(e,r),wc(e,vl()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Gn(345));case 2:Z0(e,vc,Bp);break;case 3:if(Rm(e,r),(r&130023424)===r&&(t=w7+500-vl(),10<t)){if(I3(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jA(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=cE(Z0.bind(null,e,vc,Bp),t);break}Z0(e,vc,Bp);break;case 4:if(Rm(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-kh(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=vl()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TV(r/1960))-r,10<r){e.timeoutHandle=cE(Z0.bind(null,e,vc,Bp),r);break}Z0(e,vc,Bp);break;case 5:Z0(e,vc,Bp);break;default:throw Error(Gn(329))}}}return wc(e,vl()),e.callbackNode===n?jU.bind(null,e):null}function kE(e,t){var n=sC;return e.current.memoizedState.isDehydrated&&(y1(e,t).flags|=256),e=q3(e,t),e!==2&&(t=vc,vc=n,t!==null&&TE(t)),e}function TE(e){vc===null?vc=e:vc.push.apply(vc,e)}function PV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kh(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rm(e,t){for(t&=~x7,t&=~L5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kh(t),r=1<<n;e[n]=-1,t&=~r}}function j9(e){if(Yo&6)throw Error(Gn(327));Ty();var t=I3(e,0);if(!(t&1))return wc(e,vl()),null;var n=q3(e,t);if(e.tag!==0&&n===2){var r=rE(e);r!==0&&(t=r,n=kE(e,r))}if(n===1)throw n=$C,y1(e,0),Rm(e,t),wc(e,vl()),n;if(n===6)throw Error(Gn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Z0(e,vc,Bp),wc(e,vl()),null}function M7(e,t){var n=Yo;Yo|=1;try{return e(t)}finally{Yo=n,Yo===0&&(ov=vl()+500,P5&&m0())}}function k1(e){Wm!==null&&Wm.tag===0&&!(Yo&6)&&Ty();var t=Yo;Yo|=1;var n=Rd.transition,r=Oa;try{if(Rd.transition=null,Oa=1,e)return e()}finally{Oa=r,Rd.transition=n,Yo=t,!(Yo&6)&&m0()}}function S7(){$c=fy.current,Cs(fy)}function y1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uV(n)),Pl!==null)for(n=Pl.return;n!==null;){var r=n;switch(a7(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&D3();break;case 3:rv(),Cs(bc),Cs(mA),p7();break;case 5:f7(r);break;case 4:rv();break;case 13:Cs(Ys);break;case 19:Cs(Ys);break;case 10:A7(r.type._context);break;case 22:case 23:S7()}n=n.return}if(Cu=e,Pl=e=n0(e.current,null),Uu=$c=t,Vl=0,$C=null,x7=L5=I1=0,vc=sC=null,A1!==null){for(t=0;t<A1.length;t++)if(n=A1[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}A1=null}return e}function WU(e,t){do{var n=Pl;try{if(u7(),n3.current=G3,N3){for(var r=Vs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}N3=!1}if(B1=0,vu=Hl=Vs=null,oC=!1,WC=0,b7.current=null,n===null||n.return===null){Vl=1,$C=t,Pl=null;break}e:{var o=e,a=n.return,s=n,h=t;if(t=Uu,s.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var g=h,_=s,E=_.tag;if(!(_.mode&1)&&(E===0||E===11||E===15)){var O=_.alternate;O?(_.updateQueue=O.updateQueue,_.memoizedState=O.memoizedState,_.lanes=O.lanes):(_.updateQueue=null,_.memoizedState=null)}var K=O9(a);if(K!==null){K.flags&=-257,B9(K,a,s,o,t),K.mode&1&&E9(o,g,t),t=K,h=g;var D=t.updateQueue;if(D===null){var Y=new Set;Y.add(h),t.updateQueue=Y}else D.add(h);break e}else{if(!(t&1)){E9(o,g,t),E7();break e}h=Error(Gn(426))}}else if(Ps&&s.mode&1){var ee=O9(a);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),B9(ee,a,s,o,t),s7(iv(h,s));break e}}o=h=iv(h,s),Vl!==4&&(Vl=2),sC===null?sC=[o]:sC.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var H=MU(o,h,t);_9(o,H);break e;case 1:s=h;var N=o.type,Z=o.stateNode;if(!(o.flags&128)&&(typeof N.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(e0===null||!e0.has(Z)))){o.flags|=65536,t&=-t,o.lanes|=t;var ue=SU(o,s,t);_9(o,ue);break e}}o=o.return}while(o!==null)}$U(n)}catch(ye){t=ye,Pl===n&&n!==null&&(Pl=n=n.return);continue}break}while(!0)}function NU(){var e=$3.current;return $3.current=G3,e===null?G3:e}function E7(){(Vl===0||Vl===3||Vl===2)&&(Vl=4),Cu===null||!(I1&268435455)&&!(L5&268435455)||Rm(Cu,Uu)}function q3(e,t){var n=Yo;Yo|=2;var r=NU();(Cu!==e||Uu!==t)&&(Bp=null,y1(e,t));do try{KV();break}catch(i){WU(e,i)}while(!0);if(u7(),Yo=n,$3.current=r,Pl!==null)throw Error(Gn(261));return Cu=null,Uu=0,Vl}function KV(){for(;Pl!==null;)GU(Pl)}function DV(){for(;Pl!==null&&!aH();)GU(Pl)}function GU(e){var t=YU(e.alternate,e,$c);e.memoizedProps=e.pendingProps,t===null?$U(e):Pl=t,b7.current=null}function $U(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OV(n,t),n!==null){n.flags&=32767,Pl=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vl=6,Pl=null;return}}else if(n=EV(n,t,$c),n!==null){Pl=n;return}if(t=t.sibling,t!==null){Pl=t;return}Pl=t=e}while(t!==null);Vl===0&&(Vl=5)}function Z0(e,t,n){var r=Oa,i=Rd.transition;try{Rd.transition=null,Oa=1,FV(e,t,n,r)}finally{Rd.transition=i,Oa=r}return null}function FV(e,t,n,r){do Ty();while(Wm!==null);if(Yo&6)throw Error(Gn(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Gn(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mH(e,o),e===Cu&&(Pl=Cu=null,Uu=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||u2||(u2=!0,qU(B3,function(){return Ty(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rd.transition,Rd.transition=null;var a=Oa;Oa=1;var s=Yo;Yo|=4,b7.current=null,IV(e,n),RU(n,e),nV(uE),k3=!!lE,uE=lE=null,e.current=n,kV(n),sH(),Yo=s,Oa=a,Rd.transition=o}else e.current=n;if(u2&&(u2=!1,Wm=e,Y3=i),o=e.pendingLanes,o===0&&(e0=null),AH(n.stateNode),wc(e,vl()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Q3)throw Q3=!1,e=BE,BE=null,e;return Y3&1&&e.tag!==0&&Ty(),o=e.pendingLanes,o&1?e===IE?lC++:(lC=0,IE=e):lC=0,m0(),null}function Ty(){if(Wm!==null){var e=wL(Y3),t=Rd.transition,n=Oa;try{if(Rd.transition=null,Oa=16>e?16:e,Wm===null)var r=!1;else{if(e=Wm,Wm=null,Y3=0,Yo&6)throw Error(Gn(331));var i=Yo;for(Yo|=4,Pr=e.current;Pr!==null;){var o=Pr,a=o.child;if(Pr.flags&16){var s=o.deletions;if(s!==null){for(var h=0;h<s.length;h++){var g=s[h];for(Pr=g;Pr!==null;){var _=Pr;switch(_.tag){case 0:case 11:case 15:aC(8,_,o)}var E=_.child;if(E!==null)E.return=_,Pr=E;else for(;Pr!==null;){_=Pr;var O=_.sibling,K=_.return;if(FU(_),_===g){Pr=null;break}if(O!==null){O.return=K,Pr=O;break}Pr=K}}}var D=o.alternate;if(D!==null){var Y=D.child;if(Y!==null){D.child=null;do{var ee=Y.sibling;Y.sibling=null,Y=ee}while(Y!==null)}}Pr=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Pr=a;else e:for(;Pr!==null;){if(o=Pr,o.flags&2048)switch(o.tag){case 0:case 11:case 15:aC(9,o,o.return)}var H=o.sibling;if(H!==null){H.return=o.return,Pr=H;break e}Pr=o.return}}var N=e.current;for(Pr=N;Pr!==null;){a=Pr;var Z=a.child;if(a.subtreeFlags&2064&&Z!==null)Z.return=a,Pr=Z;else e:for(a=N;Pr!==null;){if(s=Pr,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:F5(9,s)}}catch(ye){il(s,s.return,ye)}if(s===a){Pr=null;break e}var ue=s.sibling;if(ue!==null){ue.return=s.return,Pr=ue;break e}Pr=s.return}}if(Yo=i,m0(),Ff&&typeof Ff.onPostCommitFiberRoot=="function")try{Ff.onPostCommitFiberRoot(O5,e)}catch{}r=!0}return r}finally{Oa=n,Rd.transition=t}}return!1}function W9(e,t,n){t=iv(n,t),t=MU(e,t,1),e=Jm(e,t,1),t=jA(),e!==null&&(bb(e,1,t),wc(e,t))}function il(e,t,n){if(e.tag===3)W9(e,e,n);else for(;t!==null;){if(t.tag===3){W9(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(e0===null||!e0.has(r))){e=iv(n,e),e=SU(t,e,1),t=Jm(t,e,1),e=jA(),t!==null&&(bb(t,1,e),wc(t,e));break}}t=t.return}}function LV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jA(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Uu&n)===n&&(Vl===4||Vl===3&&(Uu&130023424)===Uu&&500>vl()-w7?y1(e,0):x7|=n),wc(e,t)}function QU(e,t){t===0&&(e.mode&1?(t=Jx,Jx<<=1,!(Jx&130023424)&&(Jx=4194304)):t=1);var n=jA();e=Vp(e,t),e!==null&&(bb(e,t,n),wc(e,n))}function UV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QU(e,n)}function RV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Gn(314))}r!==null&&r.delete(t),QU(e,n)}var YU;YU=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bc.current)Cc=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cc=!1,SV(e,t,n);Cc=!!(e.flags&131072)}else Cc=!1,Ps&&t.flags&1048576&&VL(t,U3,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;i3(e,t),e=t.pendingProps;var i=ev(t,mA.current);ky(t,n),i=g7(null,t,r,e,i,n);var o=y7();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xc(r)?(o=!0,F3(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d7(t),i.updater=K5,t.stateNode=i,i._reactInternals=t,yE(t,r,e,n),t=CE(null,t,r,!0,o,n)):(t.tag=0,Ps&&o&&o7(t),LA(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(i3(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=jV(r),e=Sh(r,e),i){case 0:t=_E(null,t,r,e,n);break e;case 1:t=T9(null,t,r,e,n);break e;case 11:t=I9(null,t,r,e,n);break e;case 14:t=k9(null,t,r,Sh(r.type,e),n);break e}throw Error(Gn(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sh(r,i),_E(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sh(r,i),T9(e,t,r,i,n);case 3:e:{if(IU(t),e===null)throw Error(Gn(387));r=t.pendingProps,o=t.memoizedState,i=o.element,eU(e,t),j3(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=iv(Error(Gn(423)),t),t=P9(e,t,r,n,i);break e}else if(r!==i){i=iv(Error(Gn(424)),t),t=P9(e,t,r,n,i);break e}else for(Xc=Xm(t.stateNode.containerInfo.firstChild),td=t,Ps=!0,Bh=null,n=iU(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tv(),r===i){t=Zp(e,t,n);break e}LA(e,t,r,n)}t=t.child}return t;case 5:return oU(t),e===null&&pE(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,AE(r,i)?a=null:o!==null&&AE(r,o)&&(t.flags|=32),BU(e,t),LA(e,t,a,n),t.child;case 6:return e===null&&pE(t),null;case 13:return kU(e,t,n);case 4:return h7(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=nv(t,null,r,n):LA(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sh(r,i),I9(e,t,r,i,n);case 7:return LA(e,t,t.pendingProps,n),t.child;case 8:return LA(e,t,t.pendingProps.children,n),t.child;case 12:return LA(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,rs(R3,r._currentValue),r._currentValue=a,o!==null)if(Kh(o.value,a)){if(o.children===i.children&&!bc.current){t=Zp(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var h=s.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=Wp(-1,n&-n),h.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var _=g.pending;_===null?h.next=h:(h.next=_.next,_.next=h),g.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),mE(o.return,n,t),s.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Gn(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),mE(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}LA(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ky(t,n),i=Wd(i),r=r(i),t.flags|=1,LA(e,t,r,n),t.child;case 14:return r=t.type,i=Sh(r,t.pendingProps),i=Sh(r.type,i),k9(e,t,r,i,n);case 15:return EU(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sh(r,i),i3(e,t),t.tag=1,xc(r)?(e=!0,F3(t)):e=!1,ky(t,n),nU(t,r,i),yE(t,r,i,n),CE(null,t,r,!0,e,n);case 19:return TU(e,t,n);case 22:return OU(e,t,n)}throw Error(Gn(156,t.tag))};function qU(e,t){return _L(e,t)}function zV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fd(e,t,n,r){return new zV(e,t,n,r)}function O7(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jV(e){if(typeof e=="function")return O7(e)?1:0;if(e!=null){if(e=e.$$typeof,e===YB)return 11;if(e===qB)return 14}return 2}function n0(e,t){var n=e.alternate;return n===null?(n=Fd(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function s3(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")O7(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case iy:return v1(n.children,i,o,t);case QB:a=8,i|=8;break;case W6:return e=Fd(12,n,t,i|2),e.elementType=W6,e.lanes=o,e;case N6:return e=Fd(13,n,t,i),e.elementType=N6,e.lanes=o,e;case G6:return e=Fd(19,n,t,i),e.elementType=G6,e.lanes=o,e;case rL:return U5(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tL:a=10;break e;case nL:a=9;break e;case YB:a=11;break e;case qB:a=14;break e;case Im:a=16,r=null;break e}throw Error(Gn(130,e==null?e:typeof e,""))}return t=Fd(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function v1(e,t,n,r){return e=Fd(7,e,r,t),e.lanes=n,e}function U5(e,t,n,r){return e=Fd(22,e,r,t),e.elementType=rL,e.lanes=n,e.stateNode={isHidden:!1},e}function sS(e,t,n){return e=Fd(6,e,null,t),e.lanes=n,e}function lS(e,t,n){return t=Fd(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WM(0),this.expirationTimes=WM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function B7(e,t,n,r,i,o,a,s,h){return e=new WV(e,t,n,s,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Fd(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d7(o),e}function NV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ry,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HU(e){if(!e)return A0;e=e._reactInternals;e:{if(N1(e)!==e||e.tag!==1)throw Error(Gn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xc(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Gn(171))}if(e.tag===1){var n=e.type;if(xc(n))return qL(e,n,t)}return t}function VU(e,t,n,r,i,o,a,s,h){return e=B7(n,r,!0,e,i,o,a,s,h),e.context=HU(null),n=e.current,r=jA(),i=t0(n),o=Wp(r,i),o.callback=t??null,Jm(n,o,i),e.current.lanes=i,bb(e,i,r),wc(e,r),e}function R5(e,t,n,r){var i=t.current,o=jA(),a=t0(i);return n=HU(n),t.context===null?t.context=n:t.pendingContext=n,t=Wp(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jm(i,t,a),e!==null&&(Th(e,i,a,o),t3(e,i,a)),a}function H3(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function N9(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function I7(e,t){N9(e,t),(e=e.alternate)&&N9(e,t)}function GV(){return null}var ZU=typeof reportError=="function"?reportError:function(e){console.error(e)};function k7(e){this._internalRoot=e}z5.prototype.render=k7.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Gn(409));R5(e,t,null,null)};z5.prototype.unmount=k7.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;k1(function(){R5(null,e,null,null)}),t[Hp]=null}};function z5(e){this._internalRoot=e}z5.prototype.unstable_scheduleHydration=function(e){if(e){var t=EL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Um.length&&t!==0&&t<Um[n].priority;n++);Um.splice(n,0,e),n===0&&BL(e)}};function T7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function j5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G9(){}function $V(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=H3(a);o.call(g)}}var a=VU(t,r,e,0,null,!1,!1,"",G9);return e._reactRootContainer=a,e[Hp]=a.current,LC(e.nodeType===8?e.parentNode:e),k1(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var g=H3(h);s.call(g)}}var h=B7(e,0,!1,null,null,!1,!1,"",G9);return e._reactRootContainer=h,e[Hp]=h.current,LC(e.nodeType===8?e.parentNode:e),k1(function(){R5(t,h,n,r)}),h}function W5(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var h=H3(a);s.call(h)}}R5(t,a,e,i)}else a=$V(n,t,e,i,r);return H3(a)}ML=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=j_(t.pendingLanes);n!==0&&(ZB(t,n|1),wc(t,vl()),!(Yo&6)&&(ov=vl()+500,m0()))}break;case 13:k1(function(){var r=Vp(e,1);if(r!==null){var i=jA();Th(r,e,1,i)}}),I7(e,1)}};XB=function(e){if(e.tag===13){var t=Vp(e,134217728);if(t!==null){var n=jA();Th(t,e,134217728,n)}I7(e,134217728)}};SL=function(e){if(e.tag===13){var t=t0(e),n=Vp(e,t);if(n!==null){var r=jA();Th(n,e,t,r)}I7(e,t)}};EL=function(){return Oa};OL=function(e,t){var n=Oa;try{return Oa=e,t()}finally{Oa=n}};eE=function(e,t,n){switch(t){case"input":if(Y6(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=T5(r);if(!i)throw Error(Gn(90));oL(r),Y6(r,i)}}}break;case"textarea":sL(e,n);break;case"select":t=n.value,t!=null&&Ey(e,!!n.multiple,t,!1)}};fL=M7;pL=k1;var QV={usingClientEntryPoint:!1,Events:[wb,ly,T5,dL,hL,M7]},C_={findFiberByHostInstance:u1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YV={bundleType:C_.bundleType,version:C_.version,rendererPackageName:C_.rendererPackageName,rendererConfig:C_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xp.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yL(e),e===null?null:e.stateNode},findFiberByHostInstance:C_.findFiberByHostInstance||GV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A2.isDisabled&&A2.supportsFiber)try{O5=A2.inject(YV),Ff=A2}catch{}}id.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QV;id.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T7(t))throw Error(Gn(200));return NV(e,t,null,n)};id.createRoot=function(e,t){if(!T7(e))throw Error(Gn(299));var n=!1,r="",i=ZU;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=B7(e,1,!1,null,null,n,!1,r,i),e[Hp]=t.current,LC(e.nodeType===8?e.parentNode:e),new k7(t)};id.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Gn(188)):(e=Object.keys(e).join(","),Error(Gn(268,e)));return e=yL(t),e=e===null?null:e.stateNode,e};id.flushSync=function(e){return k1(e)};id.hydrate=function(e,t,n){if(!j5(t))throw Error(Gn(200));return W5(null,e,t,!0,n)};id.hydrateRoot=function(e,t,n){if(!T7(e))throw Error(Gn(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=ZU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=VU(t,null,e,1,n??null,i,!1,o,a),e[Hp]=t.current,LC(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new z5(t)};id.render=function(e,t,n){if(!j5(t))throw Error(Gn(200));return W5(null,e,t,!1,n)};id.unmountComponentAtNode=function(e){if(!j5(e))throw Error(Gn(40));return e._reactRootContainer?(k1(function(){W5(null,null,e,!1,function(){e._reactRootContainer=null,e[Hp]=null})}),!0):!1};id.unstable_batchedUpdates=M7;id.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!j5(n))throw Error(Gn(200));if(e==null||e._reactInternals===void 0)throw Error(Gn(38));return W5(e,t,n,!1,r)};id.version="18.2.0-next-9e3b772b8-20220608";function XU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XU)}catch(e){console.error(e)}}XU(),VF.exports=id;var g0=VF.exports;const qV=Ba(g0);var JU,$9=g0;JU=$9.createRoot,$9.hydrateRoot;var PE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],r=[];function i(a){if(a===void 0){console.error("Autobind error: No context provided.");return}var s=Object.getPrototypeOf(a);arguments.length>1?r=Array.prototype.slice.call(arguments,1):r=Object.getOwnPropertyNames(s),r.forEach(function(h){var g=Object.getOwnPropertyDescriptor(s,h);if(g===void 0){console.warn('Autobind: "'+h+'" method not found in class.');return}n.indexOf(h)!==-1||typeof g.value!="function"||Object.defineProperty(s,h,o(s,h,g))})}function o(a,s,h){var g=h.value;return{configurable:!0,get:function(){if(this===a||this.hasOwnProperty(s))return g;var E=g.bind(this);return Object.defineProperty(this,s,{value:E,configurable:!0,writable:!0}),E}}}e.exports=t.default})(PE,PE.exports);var HV=PE.exports,VV=HV;const ZV=Ba(VV);var V3={exports:{}};V3.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",h="[object Date]",g="[object Error]",_="[object Function]",E="[object GeneratorFunction]",O="[object Map]",K="[object Number]",D="[object Object]",Y="[object Promise]",ee="[object RegExp]",H="[object Set]",N="[object String]",Z="[object Symbol]",ue="[object WeakMap]",ye="[object ArrayBuffer]",be="[object DataView]",X="[object Float32Array]",se="[object Float64Array]",we="[object Int8Array]",xe="[object Int16Array]",De="[object Int32Array]",Fe="[object Uint8Array]",he="[object Uint8ClampedArray]",Qe="[object Uint16Array]",ge="[object Uint32Array]",yt=/[\\^$.*+?()[\]{}|]/g,wt=/\w*$/,st=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,ze={};ze[o]=ze[a]=ze[ye]=ze[be]=ze[s]=ze[h]=ze[X]=ze[se]=ze[we]=ze[xe]=ze[De]=ze[O]=ze[K]=ze[D]=ze[ee]=ze[H]=ze[N]=ze[Z]=ze[Fe]=ze[he]=ze[Qe]=ze[ge]=!0,ze[g]=ze[_]=ze[ue]=!1;var He=typeof window=="object"&&window&&window.Object===Object&&window,Ve=typeof self=="object"&&self&&self.Object===Object&&self,Vt=He||Ve||Function("return this")(),Yt=t&&!t.nodeType&&t,vt=Yt&&!0&&e&&!e.nodeType&&e,$t=vt&&vt.exports===Yt;function Qt(z,ae){return z.set(ae[0],ae[1]),z}function ke(z,ae){return z.add(ae),z}function pe(z,ae){for(var Ue=-1,gt=z?z.length:0;++Ue<gt&&ae(z[Ue],Ue,z)!==!1;);return z}function Se(z,ae){for(var Ue=-1,gt=ae.length,Wn=z.length;++Ue<gt;)z[Wn+Ue]=ae[Ue];return z}function Re(z,ae,Ue,gt){var Wn=-1,vn=z?z.length:0;for(gt&&vn&&(Ue=z[++Wn]);++Wn<vn;)Ue=ae(Ue,z[Wn],Wn,z);return Ue}function it(z,ae){for(var Ue=-1,gt=Array(z);++Ue<z;)gt[Ue]=ae(Ue);return gt}function ot(z,ae){return z==null?void 0:z[ae]}function St(z){var ae=!1;if(z!=null&&typeof z.toString!="function")try{ae=!!(z+"")}catch{}return ae}function Rt(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt,Wn){Ue[++ae]=[Wn,gt]}),Ue}function zt(z,ae){return function(Ue){return z(ae(Ue))}}function pt(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt){Ue[++ae]=gt}),Ue}var rr=Array.prototype,gn=Function.prototype,yn=Object.prototype,Jn=Vt["__core-js_shared__"],Ar=function(){var z=/[^.]+$/.exec(Jn&&Jn.keys&&Jn.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Mr=gn.toString,Wr=yn.hasOwnProperty,gr=yn.toString,_i=RegExp("^"+Mr.call(Wr).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=$t?Vt.Buffer:void 0,J=Vt.Symbol,q=Vt.Uint8Array,Te=zt(Object.getPrototypeOf,Object),At=Object.create,Bt=yn.propertyIsEnumerable,kt=rr.splice,Ft=Object.getOwnPropertySymbols,fn=Ee?Ee.isBuffer:void 0,Kn=zt(Object.keys,Object),On=Jo(Vt,"DataView"),m=Jo(Vt,"Map"),Pt=Jo(Vt,"Promise"),Kr=Jo(Vt,"Set"),tr=Jo(Vt,"WeakMap"),Ke=Jo(Object,"create"),ce=jo(On),Ce=jo(m),Ie=jo(Pt),je=jo(Kr),rt=jo(tr),lt=J?J.prototype:void 0,ft=lt?lt.valueOf:void 0;function et(z){var ae=-1,Ue=z?z.length:0;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function Mt(){this.__data__=Ke?Ke(null):{}}function tn(z){return this.has(z)&&delete this.__data__[z]}function Ht(z){var ae=this.__data__;if(Ke){var Ue=ae[z];return Ue===r?void 0:Ue}return Wr.call(ae,z)?ae[z]:void 0}function en(z){var ae=this.__data__;return Ke?ae[z]!==void 0:Wr.call(ae,z)}function Dn(z,ae){var Ue=this.__data__;return Ue[z]=Ke&&ae===void 0?r:ae,this}et.prototype.clear=Mt,et.prototype.delete=tn,et.prototype.get=Ht,et.prototype.has=en,et.prototype.set=Dn;function Bn(z){var ae=-1,Ue=z?z.length:0;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function Yn(){this.__data__=[]}function Sr(z){var ae=this.__data__,Ue=ro(ae,z);if(Ue<0)return!1;var gt=ae.length-1;return Ue==gt?ae.pop():kt.call(ae,Ue,1),!0}function lr(z){var ae=this.__data__,Ue=ro(ae,z);return Ue<0?void 0:ae[Ue][1]}function Qr(z){return ro(this.__data__,z)>-1}function Or(z,ae){var Ue=this.__data__,gt=ro(Ue,z);return gt<0?Ue.push([z,ae]):Ue[gt][1]=ae,this}Bn.prototype.clear=Yn,Bn.prototype.delete=Sr,Bn.prototype.get=lr,Bn.prototype.has=Qr,Bn.prototype.set=Or;function Lr(z){var ae=-1,Ue=z?z.length:0;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function ir(){this.__data__={hash:new et,map:new(m||Bn),string:new et}}function ci(z){return as(this,z).delete(z)}function Li(z){return as(this,z).get(z)}function to(z){return as(this,z).has(z)}function ho(z,ae){return as(this,z).set(z,ae),this}Lr.prototype.clear=ir,Lr.prototype.delete=ci,Lr.prototype.get=Li,Lr.prototype.has=to,Lr.prototype.set=ho;function ai(z){this.__data__=new Bn(z)}function fo(){this.__data__=new Bn}function Wa(z){return this.__data__.delete(z)}function Ia(z){return this.__data__.get(z)}function Mi(z){return this.__data__.has(z)}function os(z,ae){var Ue=this.__data__;if(Ue instanceof Bn){var gt=Ue.__data__;if(!m||gt.length<n-1)return gt.push([z,ae]),this;Ue=this.__data__=new Lr(gt)}return Ue.set(z,ae),this}ai.prototype.clear=fo,ai.prototype.delete=Wa,ai.prototype.get=Ia,ai.prototype.has=Mi,ai.prototype.set=os;function gi(z,ae){var Ue=ll(z)||ss(z)?it(z.length,String):[],gt=Ue.length,Wn=!!gt;for(var vn in z)(ae||Wr.call(z,vn))&&!(Wn&&(vn=="length"||ju(vn,gt)))&&Ue.push(vn);return Ue}function jn(z,ae,Ue){var gt=z[ae];(!(Wr.call(z,ae)&&eu(gt,Ue))||Ue===void 0&&!(ae in z))&&(z[ae]=Ue)}function ro(z,ae){for(var Ue=z.length;Ue--;)if(eu(z[Ue][0],ae))return Ue;return-1}function _o(z,ae){return z&&Ga(ae,CA(ae),z)}function Ui(z,ae,Ue,gt,Wn,vn,Pn){var Ur;if(gt&&(Ur=vn?gt(z,Wn,vn,Pn):gt(z)),Ur!==void 0)return Ur;if(!sa(z))return z;var yr=ll(z);if(yr){if(Ur=xu(z),!ae)return yi(z,Ur)}else{var kr=bs(z),Ii=kr==_||kr==E;if(ul(z))return wn(z,ae);if(kr==D||kr==o||Ii&&!vn){if(St(z))return vn?z:{};if(Ur=pa(Ii?{}:z),!ae)return Xo(z,_o(Ur,z))}else{if(!ze[kr])return vn?z:{};Ur=vA(z,kr,Ui,ae)}}Pn||(Pn=new ai);var po=Pn.get(z);if(po)return po;if(Pn.set(z,Ur),!yr)var Si=Ue?bu(z):CA(z);return pe(Si||z,function(Zr,Hi){Si&&(Hi=Zr,Zr=z[Hi]),jn(Ur,Hi,Ui(Zr,ae,Ue,gt,Hi,z,Pn))}),Ur}function ve(z){return sa(z)?At(z):{}}function Je(z,ae,Ue){var gt=ae(z);return ll(z)?gt:Se(gt,Ue(z))}function Zt(z){return gr.call(z)}function sn(z){if(!sa(z)||wu(z))return!1;var ae=xl(z)||St(z)?_i:st;return ae.test(jo(z))}function Lt(z){if(!Wu(z))return Kn(z);var ae=[];for(var Ue in Object(z))Wr.call(z,Ue)&&Ue!="constructor"&&ae.push(Ue);return ae}function wn(z,ae){if(ae)return z.slice();var Ue=new z.constructor(z.length);return z.copy(Ue),Ue}function dr(z){var ae=new z.constructor(z.byteLength);return new q(ae).set(new q(z)),ae}function ri(z,ae){var Ue=ae?dr(z.buffer):z.buffer;return new z.constructor(Ue,z.byteOffset,z.byteLength)}function si(z,ae,Ue){var gt=ae?Ue(Rt(z),!0):Rt(z);return Re(gt,Qt,new z.constructor)}function Zo(z){var ae=new z.constructor(z.source,wt.exec(z));return ae.lastIndex=z.lastIndex,ae}function Pa(z,ae,Ue){var gt=ae?Ue(pt(z),!0):pt(z);return Re(gt,ke,new z.constructor)}function Dr(z){return ft?Object(ft.call(z)):{}}function Na(z,ae){var Ue=ae?dr(z.buffer):z.buffer;return new z.constructor(Ue,z.byteOffset,z.length)}function yi(z,ae){var Ue=-1,gt=z.length;for(ae||(ae=Array(gt));++Ue<gt;)ae[Ue]=z[Ue];return ae}function Ga(z,ae,Ue,gt){Ue||(Ue={});for(var Wn=-1,vn=ae.length;++Wn<vn;){var Pn=ae[Wn],Ur=gt?gt(Ue[Pn],z[Pn],Pn,Ue,z):void 0;jn(Ue,Pn,Ur===void 0?z[Pn]:Ur)}return Ue}function Xo(z,ae){return Ga(z,ea(z),ae)}function bu(z){return Je(z,CA,ea)}function as(z,ae){var Ue=z.__data__;return _A(ae)?Ue[typeof ae=="string"?"string":"hash"]:Ue.map}function Jo(z,ae){var Ue=ot(z,ae);return sn(Ue)?Ue:void 0}var ea=Ft?zt(Ft,Object):vo,bs=Zt;(On&&bs(new On(new ArrayBuffer(1)))!=be||m&&bs(new m)!=O||Pt&&bs(Pt.resolve())!=Y||Kr&&bs(new Kr)!=H||tr&&bs(new tr)!=ue)&&(bs=function(z){var ae=gr.call(z),Ue=ae==D?z.constructor:void 0,gt=Ue?jo(Ue):void 0;if(gt)switch(gt){case ce:return be;case Ce:return O;case Ie:return Y;case je:return H;case rt:return ue}return ae});function xu(z){var ae=z.length,Ue=z.constructor(ae);return ae&&typeof z[0]=="string"&&Wr.call(z,"index")&&(Ue.index=z.index,Ue.input=z.input),Ue}function pa(z){return typeof z.constructor=="function"&&!Wu(z)?ve(Te(z)):{}}function vA(z,ae,Ue,gt){var Wn=z.constructor;switch(ae){case ye:return dr(z);case s:case h:return new Wn(+z);case be:return ri(z,gt);case X:case se:case we:case xe:case De:case Fe:case he:case Qe:case ge:return Na(z,gt);case O:return si(z,gt,Ue);case K:case N:return new Wn(z);case ee:return Zo(z);case H:return Pa(z,gt,Ue);case Z:return Dr(z)}}function ju(z,ae){return ae=ae??i,!!ae&&(typeof z=="number"||mt.test(z))&&z>-1&&z%1==0&&z<ae}function _A(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function wu(z){return!!Ar&&Ar in z}function Wu(z){var ae=z&&z.constructor,Ue=typeof ae=="function"&&ae.prototype||yn;return z===Ue}function jo(z){if(z!=null){try{return Mr.call(z)}catch{}try{return z+""}catch{}}return""}function xs(z){return Ui(z,!0,!0)}function eu(z,ae){return z===ae||z!==z&&ae!==ae}function ss(z){return Mu(z)&&Wr.call(z,"callee")&&(!Bt.call(z,"callee")||gr.call(z)==o)}var ll=Array.isArray;function Wo(z){return z!=null&&tu(z.length)&&!xl(z)}function Mu(z){return Al(z)&&Wo(z)}var ul=fn||io;function xl(z){var ae=sa(z)?gr.call(z):"";return ae==_||ae==E}function tu(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=i}function sa(z){var ae=typeof z;return!!z&&(ae=="object"||ae=="function")}function Al(z){return!!z&&typeof z=="object"}function CA(z){return Wo(z)?gi(z):Lt(z)}function vo(){return[]}function io(){return!1}e.exports=xs})(V3,V3.exports);var XV=V3.exports;const Q9=Ba(XV);var Y9=NaN,JV="[object Symbol]",eZ=/^\s+|\s+$/g,tZ=/^[-+]0x[0-9a-f]+$/i,nZ=/^0b[01]+$/i,rZ=/^0o[0-7]+$/i,iZ=parseInt,oZ=Object.prototype,aZ=oZ.toString;function sZ(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function q9(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function lZ(e){return!!e&&typeof e=="object"}function uZ(e){return typeof e=="symbol"||lZ(e)&&aZ.call(e)==JV}function uS(e){if(typeof e=="number")return e;if(uZ(e))return Y9;if(q9(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=q9(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(eZ,"");var n=nZ.test(e);return n||rZ.test(e)?iZ(e.slice(2),n?2:8):tZ.test(e)?Y9:+e}function AZ(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=uS(n),n=n===n?n:0),t!==void 0&&(t=uS(t),t=t===t?t:0),sZ(uS(e),t,n)}var cZ=AZ;const H9=Ba(cZ);var eR={},N5={};N5.byteLength=fZ;N5.toByteArray=mZ;N5.fromByteArray=vZ;var kf=[],kd=[],dZ=typeof Uint8Array<"u"?Uint8Array:Array,AS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var kg=0,hZ=AS.length;kg<hZ;++kg)kf[kg]=AS[kg],kd[AS.charCodeAt(kg)]=kg;kd[45]=62;kd[95]=63;function tR(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function fZ(e){var t=tR(e),n=t[0],r=t[1];return(n+r)*3/4-r}function pZ(e,t,n){return(t+n)*3/4-n}function mZ(e){var t,n=tR(e),r=n[0],i=n[1],o=new dZ(pZ(e,r,i)),a=0,s=i>0?r-4:r,h;for(h=0;h<s;h+=4)t=kd[e.charCodeAt(h)]<<18|kd[e.charCodeAt(h+1)]<<12|kd[e.charCodeAt(h+2)]<<6|kd[e.charCodeAt(h+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=kd[e.charCodeAt(h)]<<2|kd[e.charCodeAt(h+1)]>>4,o[a++]=t&255),i===1&&(t=kd[e.charCodeAt(h)]<<10|kd[e.charCodeAt(h+1)]<<4|kd[e.charCodeAt(h+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function gZ(e){return kf[e>>18&63]+kf[e>>12&63]+kf[e>>6&63]+kf[e&63]}function yZ(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(gZ(r));return i.join("")}function vZ(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(yZ(e,a,a+o>s?s:a+o));return r===1?(t=e[n-1],i.push(kf[t>>2]+kf[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(kf[t>>10]+kf[t>>4&63]+kf[t<<2&63]+"=")),i.join("")}var G5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G5.read=function(e,t,n,r,i){var o,a,s=i*8-r-1,h=(1<<s)-1,g=h>>1,_=-7,E=n?i-1:0,O=n?-1:1,K=e[t+E];for(E+=O,o=K&(1<<-_)-1,K>>=-_,_+=s;_>0;o=o*256+e[t+E],E+=O,_-=8);for(a=o&(1<<-_)-1,o>>=-_,_+=r;_>0;a=a*256+e[t+E],E+=O,_-=8);if(o===0)o=1-g;else{if(o===h)return a?NaN:(K?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-g}return(K?-1:1)*a*Math.pow(2,o-r)};G5.write=function(e,t,n,r,i,o){var a,s,h,g=o*8-i-1,_=(1<<g)-1,E=_>>1,O=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=r?0:o-1,D=r?1:-1,Y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=_):(a=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-a))<1&&(a--,h*=2),a+E>=1?t+=O/h:t+=O*Math.pow(2,1-E),t*h>=2&&(a++,h/=2),a+E>=_?(s=0,a=_):a+E>=1?(s=(t*h-1)*Math.pow(2,i),a=a+E):(s=t*Math.pow(2,E-1)*Math.pow(2,i),a=0));i>=8;e[n+K]=s&255,K+=D,s/=256,i-=8);for(a=a<<i|s,g+=i;g>0;e[n+K]=a&255,K+=D,a/=256,g-=8);e[n+K-D]|=Y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=N5,n=G5,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const Ee=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(Ee,J),Ee.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(Ee){if(Ee>i)throw new RangeError('The value "'+Ee+'" is invalid for option "size"');const J=new Uint8Array(Ee);return Object.setPrototypeOf(J,s.prototype),J}function s(Ee,J,q){if(typeof Ee=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(Ee)}return h(Ee,J,q)}s.poolSize=8192;function h(Ee,J,q){if(typeof Ee=="string")return O(Ee,J);if(ArrayBuffer.isView(Ee))return D(Ee);if(Ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee);if(Ar(Ee,ArrayBuffer)||Ee&&Ar(Ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ar(Ee,SharedArrayBuffer)||Ee&&Ar(Ee.buffer,SharedArrayBuffer)))return Y(Ee,J,q);if(typeof Ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Te=Ee.valueOf&&Ee.valueOf();if(Te!=null&&Te!==Ee)return s.from(Te,J,q);const At=ee(Ee);if(At)return At;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ee[Symbol.toPrimitive]=="function")return s.from(Ee[Symbol.toPrimitive]("string"),J,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ee)}s.from=function(Ee,J,q){return h(Ee,J,q)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function g(Ee){if(typeof Ee!="number")throw new TypeError('"size" argument must be of type number');if(Ee<0)throw new RangeError('The value "'+Ee+'" is invalid for option "size"')}function _(Ee,J,q){return g(Ee),Ee<=0?a(Ee):J!==void 0?typeof q=="string"?a(Ee).fill(J,q):a(Ee).fill(J):a(Ee)}s.alloc=function(Ee,J,q){return _(Ee,J,q)};function E(Ee){return g(Ee),a(Ee<0?0:H(Ee)|0)}s.allocUnsafe=function(Ee){return E(Ee)},s.allocUnsafeSlow=function(Ee){return E(Ee)};function O(Ee,J){if((typeof J!="string"||J==="")&&(J="utf8"),!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);const q=Z(Ee,J)|0;let Te=a(q);const At=Te.write(Ee,J);return At!==q&&(Te=Te.slice(0,At)),Te}function K(Ee){const J=Ee.length<0?0:H(Ee.length)|0,q=a(J);for(let Te=0;Te<J;Te+=1)q[Te]=Ee[Te]&255;return q}function D(Ee){if(Ar(Ee,Uint8Array)){const J=new Uint8Array(Ee);return Y(J.buffer,J.byteOffset,J.byteLength)}return K(Ee)}function Y(Ee,J,q){if(J<0||Ee.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(Ee.byteLength<J+(q||0))throw new RangeError('"length" is outside of buffer bounds');let Te;return J===void 0&&q===void 0?Te=new Uint8Array(Ee):q===void 0?Te=new Uint8Array(Ee,J):Te=new Uint8Array(Ee,J,q),Object.setPrototypeOf(Te,s.prototype),Te}function ee(Ee){if(s.isBuffer(Ee)){const J=H(Ee.length)|0,q=a(J);return q.length===0||Ee.copy(q,0,0,J),q}if(Ee.length!==void 0)return typeof Ee.length!="number"||Mr(Ee.length)?a(0):K(Ee);if(Ee.type==="Buffer"&&Array.isArray(Ee.data))return K(Ee.data)}function H(Ee){if(Ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Ee|0}function N(Ee){return+Ee!=Ee&&(Ee=0),s.alloc(+Ee)}s.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==s.prototype},s.compare=function(J,q){if(Ar(J,Uint8Array)&&(J=s.from(J,J.offset,J.byteLength)),Ar(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(J)||!s.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===q)return 0;let Te=J.length,At=q.length;for(let Bt=0,kt=Math.min(Te,At);Bt<kt;++Bt)if(J[Bt]!==q[Bt]){Te=J[Bt],At=q[Bt];break}return Te<At?-1:At<Te?1:0},s.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(J,q){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return s.alloc(0);let Te;if(q===void 0)for(q=0,Te=0;Te<J.length;++Te)q+=J[Te].length;const At=s.allocUnsafe(q);let Bt=0;for(Te=0;Te<J.length;++Te){let kt=J[Te];if(Ar(kt,Uint8Array))Bt+kt.length>At.length?(s.isBuffer(kt)||(kt=s.from(kt)),kt.copy(At,Bt)):Uint8Array.prototype.set.call(At,kt,Bt);else if(s.isBuffer(kt))kt.copy(At,Bt);else throw new TypeError('"list" argument must be an Array of Buffers');Bt+=kt.length}return At};function Z(Ee,J){if(s.isBuffer(Ee))return Ee.length;if(ArrayBuffer.isView(Ee)||Ar(Ee,ArrayBuffer))return Ee.byteLength;if(typeof Ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ee);const q=Ee.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&q===0)return 0;let At=!1;for(;;)switch(J){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return pt(Ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return yn(Ee).length;default:if(At)return Te?-1:pt(Ee).length;J=(""+J).toLowerCase(),At=!0}}s.byteLength=Z;function ue(Ee,J,q){let Te=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,J>>>=0,q<=J))return"";for(Ee||(Ee="utf8");;)switch(Ee){case"hex":return mt(this,J,q);case"utf8":case"utf-8":return Qe(this,J,q);case"ascii":return wt(this,J,q);case"latin1":case"binary":return st(this,J,q);case"base64":return he(this,J,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ze(this,J,q);default:if(Te)throw new TypeError("Unknown encoding: "+Ee);Ee=(Ee+"").toLowerCase(),Te=!0}}s.prototype._isBuffer=!0;function ye(Ee,J,q){const Te=Ee[J];Ee[J]=Ee[q],Ee[q]=Te}s.prototype.swap16=function(){const J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<J;q+=2)ye(this,q,q+1);return this},s.prototype.swap32=function(){const J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<J;q+=4)ye(this,q,q+3),ye(this,q+1,q+2);return this},s.prototype.swap64=function(){const J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<J;q+=8)ye(this,q,q+7),ye(this,q+1,q+6),ye(this,q+2,q+5),ye(this,q+3,q+4);return this},s.prototype.toString=function(){const J=this.length;return J===0?"":arguments.length===0?Qe(this,0,J):ue.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(J){if(!s.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:s.compare(this,J)===0},s.prototype.inspect=function(){let J="";const q=e.INSPECT_MAX_BYTES;return J=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(J+=" ... "),"<Buffer "+J+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(J,q,Te,At,Bt){if(Ar(J,Uint8Array)&&(J=s.from(J,J.offset,J.byteLength)),!s.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(q===void 0&&(q=0),Te===void 0&&(Te=J?J.length:0),At===void 0&&(At=0),Bt===void 0&&(Bt=this.length),q<0||Te>J.length||At<0||Bt>this.length)throw new RangeError("out of range index");if(At>=Bt&&q>=Te)return 0;if(At>=Bt)return-1;if(q>=Te)return 1;if(q>>>=0,Te>>>=0,At>>>=0,Bt>>>=0,this===J)return 0;let kt=Bt-At,Ft=Te-q;const fn=Math.min(kt,Ft),Kn=this.slice(At,Bt),On=J.slice(q,Te);for(let m=0;m<fn;++m)if(Kn[m]!==On[m]){kt=Kn[m],Ft=On[m];break}return kt<Ft?-1:Ft<kt?1:0};function be(Ee,J,q,Te,At){if(Ee.length===0)return-1;if(typeof q=="string"?(Te=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Mr(q)&&(q=At?0:Ee.length-1),q<0&&(q=Ee.length+q),q>=Ee.length){if(At)return-1;q=Ee.length-1}else if(q<0)if(At)q=0;else return-1;if(typeof J=="string"&&(J=s.from(J,Te)),s.isBuffer(J))return J.length===0?-1:X(Ee,J,q,Te,At);if(typeof J=="number")return J=J&255,typeof Uint8Array.prototype.indexOf=="function"?At?Uint8Array.prototype.indexOf.call(Ee,J,q):Uint8Array.prototype.lastIndexOf.call(Ee,J,q):X(Ee,[J],q,Te,At);throw new TypeError("val must be string, number or Buffer")}function X(Ee,J,q,Te,At){let Bt=1,kt=Ee.length,Ft=J.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(Ee.length<2||J.length<2)return-1;Bt=2,kt/=2,Ft/=2,q/=2}function fn(On,m){return Bt===1?On[m]:On.readUInt16BE(m*Bt)}let Kn;if(At){let On=-1;for(Kn=q;Kn<kt;Kn++)if(fn(Ee,Kn)===fn(J,On===-1?0:Kn-On)){if(On===-1&&(On=Kn),Kn-On+1===Ft)return On*Bt}else On!==-1&&(Kn-=Kn-On),On=-1}else for(q+Ft>kt&&(q=kt-Ft),Kn=q;Kn>=0;Kn--){let On=!0;for(let m=0;m<Ft;m++)if(fn(Ee,Kn+m)!==fn(J,m)){On=!1;break}if(On)return Kn}return-1}s.prototype.includes=function(J,q,Te){return this.indexOf(J,q,Te)!==-1},s.prototype.indexOf=function(J,q,Te){return be(this,J,q,Te,!0)},s.prototype.lastIndexOf=function(J,q,Te){return be(this,J,q,Te,!1)};function se(Ee,J,q,Te){q=Number(q)||0;const At=Ee.length-q;Te?(Te=Number(Te),Te>At&&(Te=At)):Te=At;const Bt=J.length;Te>Bt/2&&(Te=Bt/2);let kt;for(kt=0;kt<Te;++kt){const Ft=parseInt(J.substr(kt*2,2),16);if(Mr(Ft))return kt;Ee[q+kt]=Ft}return kt}function we(Ee,J,q,Te){return Jn(pt(J,Ee.length-q),Ee,q,Te)}function xe(Ee,J,q,Te){return Jn(rr(J),Ee,q,Te)}function De(Ee,J,q,Te){return Jn(yn(J),Ee,q,Te)}function Fe(Ee,J,q,Te){return Jn(gn(J,Ee.length-q),Ee,q,Te)}s.prototype.write=function(J,q,Te,At){if(q===void 0)At="utf8",Te=this.length,q=0;else if(Te===void 0&&typeof q=="string")At=q,Te=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(Te)?(Te=Te>>>0,At===void 0&&(At="utf8")):(At=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Bt=this.length-q;if((Te===void 0||Te>Bt)&&(Te=Bt),J.length>0&&(Te<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");At||(At="utf8");let kt=!1;for(;;)switch(At){case"hex":return se(this,J,q,Te);case"utf8":case"utf-8":return we(this,J,q,Te);case"ascii":case"latin1":case"binary":return xe(this,J,q,Te);case"base64":return De(this,J,q,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,J,q,Te);default:if(kt)throw new TypeError("Unknown encoding: "+At);At=(""+At).toLowerCase(),kt=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(Ee,J,q){return J===0&&q===Ee.length?t.fromByteArray(Ee):t.fromByteArray(Ee.slice(J,q))}function Qe(Ee,J,q){q=Math.min(Ee.length,q);const Te=[];let At=J;for(;At<q;){const Bt=Ee[At];let kt=null,Ft=Bt>239?4:Bt>223?3:Bt>191?2:1;if(At+Ft<=q){let fn,Kn,On,m;switch(Ft){case 1:Bt<128&&(kt=Bt);break;case 2:fn=Ee[At+1],(fn&192)===128&&(m=(Bt&31)<<6|fn&63,m>127&&(kt=m));break;case 3:fn=Ee[At+1],Kn=Ee[At+2],(fn&192)===128&&(Kn&192)===128&&(m=(Bt&15)<<12|(fn&63)<<6|Kn&63,m>2047&&(m<55296||m>57343)&&(kt=m));break;case 4:fn=Ee[At+1],Kn=Ee[At+2],On=Ee[At+3],(fn&192)===128&&(Kn&192)===128&&(On&192)===128&&(m=(Bt&15)<<18|(fn&63)<<12|(Kn&63)<<6|On&63,m>65535&&m<1114112&&(kt=m))}}kt===null?(kt=65533,Ft=1):kt>65535&&(kt-=65536,Te.push(kt>>>10&1023|55296),kt=56320|kt&1023),Te.push(kt),At+=Ft}return yt(Te)}const ge=4096;function yt(Ee){const J=Ee.length;if(J<=ge)return String.fromCharCode.apply(String,Ee);let q="",Te=0;for(;Te<J;)q+=String.fromCharCode.apply(String,Ee.slice(Te,Te+=ge));return q}function wt(Ee,J,q){let Te="";q=Math.min(Ee.length,q);for(let At=J;At<q;++At)Te+=String.fromCharCode(Ee[At]&127);return Te}function st(Ee,J,q){let Te="";q=Math.min(Ee.length,q);for(let At=J;At<q;++At)Te+=String.fromCharCode(Ee[At]);return Te}function mt(Ee,J,q){const Te=Ee.length;(!J||J<0)&&(J=0),(!q||q<0||q>Te)&&(q=Te);let At="";for(let Bt=J;Bt<q;++Bt)At+=Wr[Ee[Bt]];return At}function ze(Ee,J,q){const Te=Ee.slice(J,q);let At="";for(let Bt=0;Bt<Te.length-1;Bt+=2)At+=String.fromCharCode(Te[Bt]+Te[Bt+1]*256);return At}s.prototype.slice=function(J,q){const Te=this.length;J=~~J,q=q===void 0?Te:~~q,J<0?(J+=Te,J<0&&(J=0)):J>Te&&(J=Te),q<0?(q+=Te,q<0&&(q=0)):q>Te&&(q=Te),q<J&&(q=J);const At=this.subarray(J,q);return Object.setPrototypeOf(At,s.prototype),At};function He(Ee,J,q){if(Ee%1!==0||Ee<0)throw new RangeError("offset is not uint");if(Ee+J>q)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=this[J],Bt=1,kt=0;for(;++kt<q&&(Bt*=256);)At+=this[J+kt]*Bt;return At},s.prototype.readUintBE=s.prototype.readUIntBE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=this[J+--q],Bt=1;for(;q>0&&(Bt*=256);)At+=this[J+--q]*Bt;return At},s.prototype.readUint8=s.prototype.readUInt8=function(J,q){return J=J>>>0,q||He(J,1,this.length),this[J]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(J,q){return J=J>>>0,q||He(J,2,this.length),this[J]|this[J+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(J,q){return J=J>>>0,q||He(J,2,this.length),this[J]<<8|this[J+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(J,q){return J=J>>>0,q||He(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(J,q){return J=J>>>0,q||He(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},s.prototype.readBigUInt64LE=gr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=q+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24,Bt=this[++J]+this[++J]*2**8+this[++J]*2**16+Te*2**24;return BigInt(At)+(BigInt(Bt)<<BigInt(32))}),s.prototype.readBigUInt64BE=gr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=q*2**24+this[++J]*2**16+this[++J]*2**8+this[++J],Bt=this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+Te;return(BigInt(At)<<BigInt(32))+BigInt(Bt)}),s.prototype.readIntLE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=this[J],Bt=1,kt=0;for(;++kt<q&&(Bt*=256);)At+=this[J+kt]*Bt;return Bt*=128,At>=Bt&&(At-=Math.pow(2,8*q)),At},s.prototype.readIntBE=function(J,q,Te){J=J>>>0,q=q>>>0,Te||He(J,q,this.length);let At=q,Bt=1,kt=this[J+--At];for(;At>0&&(Bt*=256);)kt+=this[J+--At]*Bt;return Bt*=128,kt>=Bt&&(kt-=Math.pow(2,8*q)),kt},s.prototype.readInt8=function(J,q){return J=J>>>0,q||He(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},s.prototype.readInt16LE=function(J,q){J=J>>>0,q||He(J,2,this.length);const Te=this[J]|this[J+1]<<8;return Te&32768?Te|4294901760:Te},s.prototype.readInt16BE=function(J,q){J=J>>>0,q||He(J,2,this.length);const Te=this[J+1]|this[J]<<8;return Te&32768?Te|4294901760:Te},s.prototype.readInt32LE=function(J,q){return J=J>>>0,q||He(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},s.prototype.readInt32BE=function(J,q){return J=J>>>0,q||He(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},s.prototype.readBigInt64LE=gr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=this[J+4]+this[J+5]*2**8+this[J+6]*2**16+(Te<<24);return(BigInt(At)<<BigInt(32))+BigInt(q+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24)}),s.prototype.readBigInt64BE=gr(function(J){J=J>>>0,ot(J,"offset");const q=this[J],Te=this[J+7];(q===void 0||Te===void 0)&&St(J,this.length-8);const At=(q<<24)+this[++J]*2**16+this[++J]*2**8+this[++J];return(BigInt(At)<<BigInt(32))+BigInt(this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+Te)}),s.prototype.readFloatLE=function(J,q){return J=J>>>0,q||He(J,4,this.length),n.read(this,J,!0,23,4)},s.prototype.readFloatBE=function(J,q){return J=J>>>0,q||He(J,4,this.length),n.read(this,J,!1,23,4)},s.prototype.readDoubleLE=function(J,q){return J=J>>>0,q||He(J,8,this.length),n.read(this,J,!0,52,8)},s.prototype.readDoubleBE=function(J,q){return J=J>>>0,q||He(J,8,this.length),n.read(this,J,!1,52,8)};function Ve(Ee,J,q,Te,At,Bt){if(!s.isBuffer(Ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>At||J<Bt)throw new RangeError('"value" argument is out of bounds');if(q+Te>Ee.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(J,q,Te,At){if(J=+J,q=q>>>0,Te=Te>>>0,!At){const Ft=Math.pow(2,8*Te)-1;Ve(this,J,q,Te,Ft,0)}let Bt=1,kt=0;for(this[q]=J&255;++kt<Te&&(Bt*=256);)this[q+kt]=J/Bt&255;return q+Te},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(J,q,Te,At){if(J=+J,q=q>>>0,Te=Te>>>0,!At){const Ft=Math.pow(2,8*Te)-1;Ve(this,J,q,Te,Ft,0)}let Bt=Te-1,kt=1;for(this[q+Bt]=J&255;--Bt>=0&&(kt*=256);)this[q+Bt]=J/kt&255;return q+Te},s.prototype.writeUint8=s.prototype.writeUInt8=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,1,255,0),this[q]=J&255,q+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,65535,0),this[q]=J&255,this[q+1]=J>>>8,q+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,65535,0),this[q]=J>>>8,this[q+1]=J&255,q+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,4294967295,0),this[q+3]=J>>>24,this[q+2]=J>>>16,this[q+1]=J>>>8,this[q]=J&255,q+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,4294967295,0),this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=J&255,q+4};function Vt(Ee,J,q,Te,At){it(J,Te,At,Ee,q,7);let Bt=Number(J&BigInt(4294967295));Ee[q++]=Bt,Bt=Bt>>8,Ee[q++]=Bt,Bt=Bt>>8,Ee[q++]=Bt,Bt=Bt>>8,Ee[q++]=Bt;let kt=Number(J>>BigInt(32)&BigInt(4294967295));return Ee[q++]=kt,kt=kt>>8,Ee[q++]=kt,kt=kt>>8,Ee[q++]=kt,kt=kt>>8,Ee[q++]=kt,q}function Yt(Ee,J,q,Te,At){it(J,Te,At,Ee,q,7);let Bt=Number(J&BigInt(4294967295));Ee[q+7]=Bt,Bt=Bt>>8,Ee[q+6]=Bt,Bt=Bt>>8,Ee[q+5]=Bt,Bt=Bt>>8,Ee[q+4]=Bt;let kt=Number(J>>BigInt(32)&BigInt(4294967295));return Ee[q+3]=kt,kt=kt>>8,Ee[q+2]=kt,kt=kt>>8,Ee[q+1]=kt,kt=kt>>8,Ee[q]=kt,q+8}s.prototype.writeBigUInt64LE=gr(function(J,q=0){return Vt(this,J,q,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=gr(function(J,q=0){return Yt(this,J,q,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(J,q,Te,At){if(J=+J,q=q>>>0,!At){const fn=Math.pow(2,8*Te-1);Ve(this,J,q,Te,fn-1,-fn)}let Bt=0,kt=1,Ft=0;for(this[q]=J&255;++Bt<Te&&(kt*=256);)J<0&&Ft===0&&this[q+Bt-1]!==0&&(Ft=1),this[q+Bt]=(J/kt>>0)-Ft&255;return q+Te},s.prototype.writeIntBE=function(J,q,Te,At){if(J=+J,q=q>>>0,!At){const fn=Math.pow(2,8*Te-1);Ve(this,J,q,Te,fn-1,-fn)}let Bt=Te-1,kt=1,Ft=0;for(this[q+Bt]=J&255;--Bt>=0&&(kt*=256);)J<0&&Ft===0&&this[q+Bt+1]!==0&&(Ft=1),this[q+Bt]=(J/kt>>0)-Ft&255;return q+Te},s.prototype.writeInt8=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,1,127,-128),J<0&&(J=255+J+1),this[q]=J&255,q+1},s.prototype.writeInt16LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,32767,-32768),this[q]=J&255,this[q+1]=J>>>8,q+2},s.prototype.writeInt16BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,2,32767,-32768),this[q]=J>>>8,this[q+1]=J&255,q+2},s.prototype.writeInt32LE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,2147483647,-2147483648),this[q]=J&255,this[q+1]=J>>>8,this[q+2]=J>>>16,this[q+3]=J>>>24,q+4},s.prototype.writeInt32BE=function(J,q,Te){return J=+J,q=q>>>0,Te||Ve(this,J,q,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[q]=J>>>24,this[q+1]=J>>>16,this[q+2]=J>>>8,this[q+3]=J&255,q+4},s.prototype.writeBigInt64LE=gr(function(J,q=0){return Vt(this,J,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=gr(function(J,q=0){return Yt(this,J,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function vt(Ee,J,q,Te,At,Bt){if(q+Te>Ee.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function $t(Ee,J,q,Te,At){return J=+J,q=q>>>0,At||vt(Ee,J,q,4),n.write(Ee,J,q,Te,23,4),q+4}s.prototype.writeFloatLE=function(J,q,Te){return $t(this,J,q,!0,Te)},s.prototype.writeFloatBE=function(J,q,Te){return $t(this,J,q,!1,Te)};function Qt(Ee,J,q,Te,At){return J=+J,q=q>>>0,At||vt(Ee,J,q,8),n.write(Ee,J,q,Te,52,8),q+8}s.prototype.writeDoubleLE=function(J,q,Te){return Qt(this,J,q,!0,Te)},s.prototype.writeDoubleBE=function(J,q,Te){return Qt(this,J,q,!1,Te)},s.prototype.copy=function(J,q,Te,At){if(!s.isBuffer(J))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!At&&At!==0&&(At=this.length),q>=J.length&&(q=J.length),q||(q=0),At>0&&At<Te&&(At=Te),At===Te||J.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(At<0)throw new RangeError("sourceEnd out of bounds");At>this.length&&(At=this.length),J.length-q<At-Te&&(At=J.length-q+Te);const Bt=At-Te;return this===J&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(q,Te,At):Uint8Array.prototype.set.call(J,this.subarray(Te,At),q),Bt},s.prototype.fill=function(J,q,Te,At){if(typeof J=="string"){if(typeof q=="string"?(At=q,q=0,Te=this.length):typeof Te=="string"&&(At=Te,Te=this.length),At!==void 0&&typeof At!="string")throw new TypeError("encoding must be a string");if(typeof At=="string"&&!s.isEncoding(At))throw new TypeError("Unknown encoding: "+At);if(J.length===1){const kt=J.charCodeAt(0);(At==="utf8"&&kt<128||At==="latin1")&&(J=kt)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(q<0||this.length<q||this.length<Te)throw new RangeError("Out of range index");if(Te<=q)return this;q=q>>>0,Te=Te===void 0?this.length:Te>>>0,J||(J=0);let Bt;if(typeof J=="number")for(Bt=q;Bt<Te;++Bt)this[Bt]=J;else{const kt=s.isBuffer(J)?J:s.from(J,At),Ft=kt.length;if(Ft===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(Bt=0;Bt<Te-q;++Bt)this[Bt+q]=kt[Bt%Ft]}return this};const ke={};function pe(Ee,J,q){ke[Ee]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:J.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ee}]`,this.stack,delete this.name}get code(){return Ee}set code(At){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:At,writable:!0})}toString(){return`${this.name} [${Ee}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(Ee){return Ee?`${Ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(Ee,J){return`The "${Ee}" argument must be of type number. Received type ${typeof J}`},TypeError),pe("ERR_OUT_OF_RANGE",function(Ee,J,q){let Te=`The value of "${Ee}" is out of range.`,At=q;return Number.isInteger(q)&&Math.abs(q)>2**32?At=Se(String(q)):typeof q=="bigint"&&(At=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(At=Se(At)),At+="n"),Te+=` It must be ${J}. Received ${At}`,Te},RangeError);function Se(Ee){let J="",q=Ee.length;const Te=Ee[0]==="-"?1:0;for(;q>=Te+4;q-=3)J=`_${Ee.slice(q-3,q)}${J}`;return`${Ee.slice(0,q)}${J}`}function Re(Ee,J,q){ot(J,"offset"),(Ee[J]===void 0||Ee[J+q]===void 0)&&St(J,Ee.length-(q+1))}function it(Ee,J,q,Te,At,Bt){if(Ee>q||Ee<J){const kt=typeof J=="bigint"?"n":"";let Ft;throw Bt>3?J===0||J===BigInt(0)?Ft=`>= 0${kt} and < 2${kt} ** ${(Bt+1)*8}${kt}`:Ft=`>= -(2${kt} ** ${(Bt+1)*8-1}${kt}) and < 2 ** ${(Bt+1)*8-1}${kt}`:Ft=`>= ${J}${kt} and <= ${q}${kt}`,new ke.ERR_OUT_OF_RANGE("value",Ft,Ee)}Re(Te,At,Bt)}function ot(Ee,J){if(typeof Ee!="number")throw new ke.ERR_INVALID_ARG_TYPE(J,"number",Ee)}function St(Ee,J,q){throw Math.floor(Ee)!==Ee?(ot(Ee,q),new ke.ERR_OUT_OF_RANGE(q||"offset","an integer",Ee)):J<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${J}`,Ee)}const Rt=/[^+/0-9A-Za-z-_]/g;function zt(Ee){if(Ee=Ee.split("=")[0],Ee=Ee.trim().replace(Rt,""),Ee.length<2)return"";for(;Ee.length%4!==0;)Ee=Ee+"=";return Ee}function pt(Ee,J){J=J||1/0;let q;const Te=Ee.length;let At=null;const Bt=[];for(let kt=0;kt<Te;++kt){if(q=Ee.charCodeAt(kt),q>55295&&q<57344){if(!At){if(q>56319){(J-=3)>-1&&Bt.push(239,191,189);continue}else if(kt+1===Te){(J-=3)>-1&&Bt.push(239,191,189);continue}At=q;continue}if(q<56320){(J-=3)>-1&&Bt.push(239,191,189),At=q;continue}q=(At-55296<<10|q-56320)+65536}else At&&(J-=3)>-1&&Bt.push(239,191,189);if(At=null,q<128){if((J-=1)<0)break;Bt.push(q)}else if(q<2048){if((J-=2)<0)break;Bt.push(q>>6|192,q&63|128)}else if(q<65536){if((J-=3)<0)break;Bt.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((J-=4)<0)break;Bt.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return Bt}function rr(Ee){const J=[];for(let q=0;q<Ee.length;++q)J.push(Ee.charCodeAt(q)&255);return J}function gn(Ee,J){let q,Te,At;const Bt=[];for(let kt=0;kt<Ee.length&&!((J-=2)<0);++kt)q=Ee.charCodeAt(kt),Te=q>>8,At=q%256,Bt.push(At),Bt.push(Te);return Bt}function yn(Ee){return t.toByteArray(zt(Ee))}function Jn(Ee,J,q,Te){let At;for(At=0;At<Te&&!(At+q>=J.length||At>=Ee.length);++At)J[At+q]=Ee[At];return At}function Ar(Ee,J){return Ee instanceof J||Ee!=null&&Ee.constructor!=null&&Ee.constructor.name!=null&&Ee.constructor.name===J.name}function Mr(Ee){return Ee!==Ee}const Wr=function(){const Ee="0123456789abcdef",J=new Array(256);for(let q=0;q<16;++q){const Te=q*16;for(let At=0;At<16;++At)J[Te+At]=Ee[q]+Ee[At]}return J}();function gr(Ee){return typeof BigInt>"u"?_i:Ee}function _i(){throw new Error("BigInt not supported")}})(eR);const _Z=Ba(eR);var CZ="Expected a function",nR="__lodash_hash_undefined__",rR=1/0,bZ="[object Function]",xZ="[object GeneratorFunction]",wZ="[object Symbol]",MZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SZ=/^\w*$/,EZ=/^\./,OZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BZ=/[\\^$.*+?()[\]{}|]/g,IZ=/\\(\\)?/g,kZ=/^\[object .+?Constructor\]$/,TZ=typeof window=="object"&&window&&window.Object===Object&&window,PZ=typeof self=="object"&&self&&self.Object===Object&&self,P7=TZ||PZ||Function("return this")();function KZ(e,t){return e==null?void 0:e[t]}function DZ(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var FZ=Array.prototype,LZ=Function.prototype,iR=Object.prototype,cS=P7["__core-js_shared__"],V9=function(){var e=/[^.]+$/.exec(cS&&cS.keys&&cS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oR=LZ.toString,K7=iR.hasOwnProperty,aR=iR.toString,UZ=RegExp("^"+oR.call(K7).replace(BZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z9=P7.Symbol,RZ=FZ.splice,zZ=sR(P7,"Map"),QC=sR(Object,"create"),X9=Z9?Z9.prototype:void 0,J9=X9?X9.toString:void 0;function T1(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jZ(){this.__data__=QC?QC(null):{}}function WZ(e){return this.has(e)&&delete this.__data__[e]}function NZ(e){var t=this.__data__;if(QC){var n=t[e];return n===nR?void 0:n}return K7.call(t,e)?t[e]:void 0}function GZ(e){var t=this.__data__;return QC?t[e]!==void 0:K7.call(t,e)}function $Z(e,t){var n=this.__data__;return n[e]=QC&&t===void 0?nR:t,this}T1.prototype.clear=jZ;T1.prototype.delete=WZ;T1.prototype.get=NZ;T1.prototype.has=GZ;T1.prototype.set=$Z;function Cv(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function QZ(){this.__data__=[]}function YZ(e){var t=this.__data__,n=$5(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():RZ.call(t,n,1),!0}function qZ(e){var t=this.__data__,n=$5(t,e);return n<0?void 0:t[n][1]}function HZ(e){return $5(this.__data__,e)>-1}function VZ(e,t){var n=this.__data__,r=$5(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Cv.prototype.clear=QZ;Cv.prototype.delete=YZ;Cv.prototype.get=qZ;Cv.prototype.has=HZ;Cv.prototype.set=VZ;function G1(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ZZ(){this.__data__={hash:new T1,map:new(zZ||Cv),string:new T1}}function XZ(e){return Q5(this,e).delete(e)}function JZ(e){return Q5(this,e).get(e)}function eX(e){return Q5(this,e).has(e)}function tX(e,t){return Q5(this,e).set(e,t),this}G1.prototype.clear=ZZ;G1.prototype.delete=XZ;G1.prototype.get=JZ;G1.prototype.has=eX;G1.prototype.set=tX;function $5(e,t){for(var n=e.length;n--;)if(dX(e[n][0],t))return n;return-1}function nX(e,t){t=aX(t,e)?[t]:oX(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[AX(t[n++])];return n&&n==r?e:void 0}function rX(e){if(!uR(e)||lX(e))return!1;var t=hX(e)||DZ(e)?UZ:kZ;return t.test(cX(e))}function iX(e){if(typeof e=="string")return e;if(F7(e))return J9?J9.call(e):"";var t=e+"";return t=="0"&&1/e==-rR?"-0":t}function oX(e){return lR(e)?e:uX(e)}function Q5(e,t){var n=e.__data__;return sX(t)?n[typeof t=="string"?"string":"hash"]:n.map}function sR(e,t){var n=KZ(e,t);return rX(n)?n:void 0}function aX(e,t){if(lR(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||F7(e)?!0:SZ.test(e)||!MZ.test(e)||t!=null&&e in Object(t)}function sX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lX(e){return!!V9&&V9 in e}var uX=D7(function(e){e=pX(e);var t=[];return EZ.test(e)&&t.push(""),e.replace(OZ,function(n,r,i,o){t.push(i?o.replace(IZ,"$1"):r||n)}),t});function AX(e){if(typeof e=="string"||F7(e))return e;var t=e+"";return t=="0"&&1/e==-rR?"-0":t}function cX(e){if(e!=null){try{return oR.call(e)}catch{}try{return e+""}catch{}}return""}function D7(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(CZ);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(D7.Cache||G1),n}D7.Cache=G1;function dX(e,t){return e===t||e!==e&&t!==t}var lR=Array.isArray;function hX(e){var t=uR(e)?aR.call(e):"";return t==bZ||t==xZ}function uR(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function fX(e){return!!e&&typeof e=="object"}function F7(e){return typeof e=="symbol"||fX(e)&&aR.call(e)==wZ}function pX(e){return e==null?"":iX(e)}function mX(e,t,n){var r=e==null?void 0:nX(e,t);return r===void 0?n:r}var gX=mX;const yX=Ba(gX);var Z3={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Z3.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,_="__lodash_placeholder__",E=1,O=2,K=4,D=1,Y=2,ee=1,H=2,N=4,Z=8,ue=16,ye=32,be=64,X=128,se=256,we=512,xe=30,De="...",Fe=800,he=16,Qe=1,ge=2,yt=3,wt=1/0,st=9007199254740991,mt=17976931348623157e292,ze=NaN,He=4294967295,Ve=He-1,Vt=He>>>1,Yt=[["ary",X],["bind",ee],["bindKey",H],["curry",Z],["curryRight",ue],["flip",we],["partial",ye],["partialRight",be],["rearg",se]],vt="[object Arguments]",$t="[object Array]",Qt="[object AsyncFunction]",ke="[object Boolean]",pe="[object Date]",Se="[object DOMException]",Re="[object Error]",it="[object Function]",ot="[object GeneratorFunction]",St="[object Map]",Rt="[object Number]",zt="[object Null]",pt="[object Object]",rr="[object Promise]",gn="[object Proxy]",yn="[object RegExp]",Jn="[object Set]",Ar="[object String]",Mr="[object Symbol]",Wr="[object Undefined]",gr="[object WeakMap]",_i="[object WeakSet]",Ee="[object ArrayBuffer]",J="[object DataView]",q="[object Float32Array]",Te="[object Float64Array]",At="[object Int8Array]",Bt="[object Int16Array]",kt="[object Int32Array]",Ft="[object Uint8Array]",fn="[object Uint8ClampedArray]",Kn="[object Uint16Array]",On="[object Uint32Array]",m=/\b__p \+= '';/g,Pt=/\b(__p \+=) '' \+/g,Kr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tr=/&(?:amp|lt|gt|quot|#39);/g,Ke=/[&<>"']/g,ce=RegExp(tr.source),Ce=RegExp(Ke.source),Ie=/<%-([\s\S]+?)%>/g,je=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/[\\^$.*+?()[\]{}|]/g,tn=RegExp(Mt.source),Ht=/^\s+/,en=/\s/,Dn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bn=/\{\n\/\* \[wrapped with (.+)\] \*/,Yn=/,? & /,Sr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lr=/[()=,{}\[\]\/\s]/,Qr=/\\(\\)?/g,Or=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lr=/\w*$/,ir=/^[-+]0x[0-9a-f]+$/i,ci=/^0b[01]+$/i,Li=/^\[object .+?Constructor\]$/,to=/^0o[0-7]+$/i,ho=/^(?:0|[1-9]\d*)$/,ai=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fo=/($^)/,Wa=/['\n\r\u2028\u2029\\]/g,Ia="\\ud800-\\udfff",Mi="\\u0300-\\u036f",os="\\ufe20-\\ufe2f",gi="\\u20d0-\\u20ff",jn=Mi+os+gi,ro="\\u2700-\\u27bf",_o="a-z\\xdf-\\xf6\\xf8-\\xff",Ui="\\xac\\xb1\\xd7\\xf7",ve="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Je="\\u2000-\\u206f",Zt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sn="A-Z\\xc0-\\xd6\\xd8-\\xde",Lt="\\ufe0e\\ufe0f",wn=Ui+ve+Je+Zt,dr="['’]",ri="["+Ia+"]",si="["+wn+"]",Zo="["+jn+"]",Pa="\\d+",Dr="["+ro+"]",Na="["+_o+"]",yi="[^"+Ia+wn+Pa+ro+_o+sn+"]",Ga="\\ud83c[\\udffb-\\udfff]",Xo="(?:"+Zo+"|"+Ga+")",bu="[^"+Ia+"]",as="(?:\\ud83c[\\udde6-\\uddff]){2}",Jo="[\\ud800-\\udbff][\\udc00-\\udfff]",ea="["+sn+"]",bs="\\u200d",xu="(?:"+Na+"|"+yi+")",pa="(?:"+ea+"|"+yi+")",vA="(?:"+dr+"(?:d|ll|m|re|s|t|ve))?",ju="(?:"+dr+"(?:D|LL|M|RE|S|T|VE))?",_A=Xo+"?",wu="["+Lt+"]?",Wu="(?:"+bs+"(?:"+[bu,as,Jo].join("|")+")"+wu+_A+")*",jo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",eu=wu+_A+Wu,ss="(?:"+[Dr,as,Jo].join("|")+")"+eu,ll="(?:"+[bu+Zo+"?",Zo,as,Jo,ri].join("|")+")",Wo=RegExp(dr,"g"),Mu=RegExp(Zo,"g"),ul=RegExp(Ga+"(?="+Ga+")|"+ll+eu,"g"),xl=RegExp([ea+"?"+Na+"+"+vA+"(?="+[si,ea,"$"].join("|")+")",pa+"+"+ju+"(?="+[si,ea+xu,"$"].join("|")+")",ea+"?"+xu+"+"+vA,ea+"+"+ju,xs,jo,Pa,ss].join("|"),"g"),tu=RegExp("["+bs+Ia+jn+Lt+"]"),sa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Al=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],CA=-1,vo={};vo[q]=vo[Te]=vo[At]=vo[Bt]=vo[kt]=vo[Ft]=vo[fn]=vo[Kn]=vo[On]=!0,vo[vt]=vo[$t]=vo[Ee]=vo[ke]=vo[J]=vo[pe]=vo[Re]=vo[it]=vo[St]=vo[Rt]=vo[pt]=vo[yn]=vo[Jn]=vo[Ar]=vo[gr]=!1;var io={};io[vt]=io[$t]=io[Ee]=io[J]=io[ke]=io[pe]=io[q]=io[Te]=io[At]=io[Bt]=io[kt]=io[St]=io[Rt]=io[pt]=io[yn]=io[Jn]=io[Ar]=io[Mr]=io[Ft]=io[fn]=io[Kn]=io[On]=!0,io[Re]=io[it]=io[gr]=!1;var z={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wn=parseFloat,vn=parseInt,Pn=typeof window=="object"&&window&&window.Object===Object&&window,Ur=typeof self=="object"&&self&&self.Object===Object&&self,yr=Pn||Ur||Function("return this")(),kr=t&&!t.nodeType&&t,Ii=kr&&!0&&e&&!e.nodeType&&e,po=Ii&&Ii.exports===kr,Si=po&&Pn.process,Zr=function(){try{var Et=Ii&&Ii.require&&Ii.require("util").types;return Et||Si&&Si.binding&&Si.binding("util")}catch{}}(),Hi=Zr&&Zr.isArrayBuffer,Bo=Zr&&Zr.isDate,xo=Zr&&Zr.isMap,$a=Zr&&Zr.isRegExp,Dl=Zr&&Zr.isSet,nu=Zr&&Zr.isTypedArray;function ma(Et,an,jt){switch(jt.length){case 0:return Et.call(an);case 1:return Et.call(an,jt[0]);case 2:return Et.call(an,jt[0],jt[1]);case 3:return Et.call(an,jt[0],jt[1],jt[2])}return Et.apply(an,jt)}function _0(Et,an,jt,hr){for(var li=-1,oo=Et==null?0:Et.length;++li<oo;){var Ka=Et[li];an(hr,Ka,jt(Ka),Et)}return hr}function ru(Et,an){for(var jt=-1,hr=Et==null?0:Et.length;++jt<hr&&an(Et[jt],jt,Et)!==!1;);return Et}function Rh(Et,an){for(var jt=Et==null?0:Et.length;jt--&&an(Et[jt],jt,Et)!==!1;);return Et}function sd(Et,an){for(var jt=-1,hr=Et==null?0:Et.length;++jt<hr;)if(!an(Et[jt],jt,Et))return!1;return!0}function Nu(Et,an){for(var jt=-1,hr=Et==null?0:Et.length,li=0,oo=[];++jt<hr;){var Ka=Et[jt];an(Ka,jt,Et)&&(oo[li++]=Ka)}return oo}function ld(Et,an){var jt=Et==null?0:Et.length;return!!jt&&Io(Et,an,0)>-1}function $A(Et,an,jt){for(var hr=-1,li=Et==null?0:Et.length;++hr<li;)if(jt(an,Et[hr]))return!0;return!1}function ta(Et,an){for(var jt=-1,hr=Et==null?0:Et.length,li=Array(hr);++jt<hr;)li[jt]=an(Et[jt],jt,Et);return li}function Gu(Et,an){for(var jt=-1,hr=an.length,li=Et.length;++jt<hr;)Et[li+jt]=an[jt];return Et}function qd(Et,an,jt,hr){var li=-1,oo=Et==null?0:Et.length;for(hr&&oo&&(jt=Et[++li]);++li<oo;)jt=an(jt,Et[li],li,Et);return jt}function QA(Et,an,jt,hr){var li=Et==null?0:Et.length;for(hr&&li&&(jt=Et[--li]);li--;)jt=an(jt,Et[li],li,Et);return jt}function Bc(Et,an){for(var jt=-1,hr=Et==null?0:Et.length;++jt<hr;)if(an(Et[jt],jt,Et))return!0;return!1}var Su=Zf("length");function ud(Et){return Et.split("")}function tm(Et){return Et.match(Sr)||[]}function zh(Et,an,jt){var hr;return jt(Et,function(li,oo,Ka){if(an(li,oo,Ka))return hr=oo,!1}),hr}function ki(Et,an,jt,hr){for(var li=Et.length,oo=jt+(hr?1:-1);hr?oo--:++oo<li;)if(an(Et[oo],oo,Et))return oo;return-1}function Io(Et,an,jt){return an===an?xA(Et,an,jt):ki(Et,jh,jt)}function C0(Et,an,jt,hr){for(var li=jt-1,oo=Et.length;++li<oo;)if(hr(Et[li],an))return li;return-1}function jh(Et){return Et!==Et}function $u(Et,an){var jt=Et==null?0:Et.length;return jt?YA(Et,an)/jt:ze}function Zf(Et){return function(an){return an==null?n:an[Et]}}function la(Et){return function(an){return Et==null?n:Et[an]}}function Xf(Et,an,jt,hr,li){return li(Et,function(oo,Ka,To){jt=hr?(hr=!1,oo):an(jt,oo,Ka,To)}),jt}function Wi(Et,an){var jt=Et.length;for(Et.sort(an);jt--;)Et[jt]=Et[jt].value;return Et}function YA(Et,an){for(var jt,hr=-1,li=Et.length;++hr<li;){var oo=an(Et[hr]);oo!==n&&(jt=jt===n?oo:jt+oo)}return jt}function ko(Et,an){for(var jt=-1,hr=Array(Et);++jt<Et;)hr[jt]=an(jt);return hr}function Fo(Et,an){return ta(an,function(jt){return[jt,Et[jt]]})}function qA(Et){return Et&&Et.slice(0,Vd(Et)+1).replace(Ht,"")}function Us(Et){return function(an){return Et(an)}}function Wh(Et,an){return ta(an,function(jt){return Et[jt]})}function iu(Et,an){return Et.has(an)}function Fl(Et,an){for(var jt=-1,hr=Et.length;++jt<hr&&Io(an,Et[jt],0)>-1;);return jt}function Ic(Et,an){for(var jt=Et.length;jt--&&Io(an,Et[jt],0)>-1;);return jt}function Nh(Et,an){for(var jt=Et.length,hr=0;jt--;)Et[jt]===an&&++hr;return hr}var Hd=la(z),Eu=la(ae);function bA(Et){return"\\"+gt[Et]}function HA(Et,an){return Et==null?n:Et[an]}function VA(Et){return tu.test(Et)}function Jf(Et){return sa.test(Et)}function nm(Et){for(var an,jt=[];!(an=Et.next()).done;)jt.push(an.value);return jt}function kc(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(hr,li){jt[++an]=[li,hr]}),jt}function Ad(Et,an){return function(jt){return Et(an(jt))}}function Ll(Et,an){for(var jt=-1,hr=Et.length,li=0,oo=[];++jt<hr;){var Ka=Et[jt];(Ka===an||Ka===_)&&(Et[jt]=_,oo[li++]=jt)}return oo}function wl(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(hr){jt[++an]=hr}),jt}function ga(Et){var an=-1,jt=Array(Et.size);return Et.forEach(function(hr){jt[++an]=[hr,hr]}),jt}function xA(Et,an,jt){for(var hr=jt-1,li=Et.length;++hr<li;)if(Et[hr]===an)return hr;return-1}function Ul(Et,an,jt){for(var hr=jt+1;hr--;)if(Et[hr]===an)return hr;return hr}function Ou(Et){return VA(Et)?Bu(Et):Su(Et)}function Rl(Et){return VA(Et)?Pc(Et):ud(Et)}function Vd(Et){for(var an=Et.length;an--&&en.test(Et.charAt(an)););return an}var Tc=la(Ue);function Bu(Et){for(var an=ul.lastIndex=0;ul.test(Et);)++an;return an}function Pc(Et){return Et.match(ul)||[]}function cd(Et){return Et.match(xl)||[]}var Zd=function Et(an){an=an==null?yr:ou.defaults(yr.Object(),an,ou.pick(yr,Al));var jt=an.Array,hr=an.Date,li=an.Error,oo=an.Function,Ka=an.Math,To=an.Object,wA=an.RegExp,Xd=an.String,Po=an.TypeError,MA=jt.prototype,ws=oo.prototype,Qa=To.prototype,Qu=an["__core-js_shared__"],ls=ws.toString,Vi=Qa.hasOwnProperty,Gh=0,$h=function(){var v=/[^.]+$/.exec(Qu&&Qu.keys&&Qu.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),au=Qa.toString,ZA=ls.call(To),ya=yr._,cl=wA("^"+ls.call(Vi).replace(Mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nn=po?an.Buffer:n,zl=an.Symbol,Yu=an.Uint8Array,XA=Nn?Nn.allocUnsafe:n,qu=Ad(To.getPrototypeOf,To),Vn=To.create,JA=Qa.propertyIsEnumerable,Hu=MA.splice,ep=zl?zl.isConcatSpreadable:n,Vu=zl?zl.iterator:n,Zu=zl?zl.toStringTag:n,ec=function(){try{var v=Md(To,"defineProperty");return v({},"",{}),v}catch{}}(),Jd=an.clearTimeout!==yr.clearTimeout&&an.clearTimeout,Kc=hr&&hr.now!==yr.Date.now&&hr.now,Xu=an.setTimeout!==yr.setTimeout&&an.setTimeout,wo=Ka.ceil,Ju=Ka.floor,dd=To.getOwnPropertySymbols,tp=Nn?Nn.isBuffer:n,Qh=an.isFinite,Yh=MA.join,np=Ad(To.keys,To),ao=Ka.max,ua=Ka.min,br=hr.now,Br=an.parseInt,SA=Ka.random,Dc=MA.reverse,tc=Md(an,"DataView"),Aa=Md(an,"Map"),nc=Md(an,"Promise"),ka=Md(an,"Set"),eA=Md(an,"WeakMap"),dl=Md(To,"create"),No=eA&&new eA,Go={},rp=As(tc),eh=As(Aa),tA=As(nc),Ml=As(ka),ip=As(eA),hd=zl?zl.prototype:n,EA=hd?hd.valueOf:n,qh=hd?hd.toString:n;function Le(v){if(mn(v)&&!re(v)&&!(v instanceof Yr)){if(v instanceof $i)return v;if(Vi.call(v,"__wrapped__"))return Sl(v)}return new $i(v)}var rc=function(){function v(){}return function(S){if(!xn(S))return{};if(Vn)return Vn(S);v.prototype=S;var F=new v;return v.prototype=n,F}}();function us(){}function $i(v,S){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=n}Le.templateSettings={escape:Ie,evaluate:je,interpolate:rt,variable:"",imports:{_:Le}},Le.prototype=us.prototype,Le.prototype.constructor=Le,$i.prototype=rc(us.prototype),$i.prototype.constructor=$i;function Yr(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function va(){var v=new Yr(this.__wrapped__);return v.__actions__=Js(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=Js(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=Js(this.__views__),v}function ic(){if(this.__filtered__){var v=new Yr(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function fd(){var v=this.__wrapped__.value(),S=this.__dir__,F=re(v),te=S<0,Me=F?v.length:0,Ne=Nv(0,Me,this.__views__),ut=Ne.start,Ct=Ne.end,Tt=Ct-ut,_n=te?Ct:ut-1,Cn=this.__iteratees__,Tn=Cn.length,fr=0,Vr=ua(Tt,this.__takeCount__);if(!F||!te&&Me==Tt&&Vr==Tt)return rf(v,this.__actions__);var Ci=[];e:for(;Tt--&&fr<Vr;){_n+=S;for(var lo=-1,bi=v[_n];++lo<Tn;){var bo=Cn[lo],Ko=bo.iteratee,Wc=bo.type,DA=Ko(bi);if(Wc==ge)bi=DA;else if(!DA){if(Wc==Qe)continue e;break e}}Ci[fr++]=bi}return Ci}Yr.prototype=rc(us.prototype),Yr.prototype.constructor=Yr;function su(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var te=v[S];this.set(te[0],te[1])}}function pd(){this.__data__=dl?dl(null):{},this.size=0}function oc(v){var S=this.has(v)&&delete this.__data__[v];return this.size-=S?1:0,S}function op(v){var S=this.__data__;if(dl){var F=S[v];return F===h?n:F}return Vi.call(S,v)?S[v]:n}function md(v){var S=this.__data__;return dl?S[v]!==n:Vi.call(S,v)}function ac(v,S){var F=this.__data__;return this.size+=this.has(v)?0:1,F[v]=dl&&S===n?h:S,this}su.prototype.clear=pd,su.prototype.delete=oc,su.prototype.get=op,su.prototype.has=md,su.prototype.set=ac;function jl(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var te=v[S];this.set(te[0],te[1])}}function ap(){this.__data__=[],this.size=0}function th(v){var S=this.__data__,F=Xt(S,v);if(F<0)return!1;var te=S.length-1;return F==te?S.pop():Hu.call(S,F,1),--this.size,!0}function Hh(v){var S=this.__data__,F=Xt(S,v);return F<0?n:S[F][1]}function I(v){return Xt(this.__data__,v)>-1}function u(v,S){var F=this.__data__,te=Xt(F,v);return te<0?(++this.size,F.push([v,S])):F[te][1]=S,this}jl.prototype.clear=ap,jl.prototype.delete=th,jl.prototype.get=Hh,jl.prototype.has=I,jl.prototype.set=u;function p(v){var S=-1,F=v==null?0:v.length;for(this.clear();++S<F;){var te=v[S];this.set(te[0],te[1])}}function C(){this.size=0,this.__data__={hash:new su,map:new(Aa||jl),string:new su}}function w(v){var S=ff(this,v).delete(v);return this.size-=S?1:0,S}function k(v){return ff(this,v).get(v)}function R(v){return ff(this,v).has(v)}function j(v,S){var F=ff(this,v),te=F.size;return F.set(v,S),this.size+=F.size==te?0:1,this}p.prototype.clear=C,p.prototype.delete=w,p.prototype.get=k,p.prototype.has=R,p.prototype.set=j;function $(v){var S=-1,F=v==null?0:v.length;for(this.__data__=new p;++S<F;)this.add(v[S])}function ie(v){return this.__data__.set(v,h),this}function de(v){return this.__data__.has(v)}$.prototype.add=$.prototype.push=ie,$.prototype.has=de;function fe(v){var S=this.__data__=new jl(v);this.size=S.size}function Oe(){this.__data__=new jl,this.size=0}function qe(v){var S=this.__data__,F=S.delete(v);return this.size=S.size,F}function Ye(v){return this.__data__.get(v)}function Ze(v){return this.__data__.has(v)}function We(v,S){var F=this.__data__;if(F instanceof jl){var te=F.__data__;if(!Aa||te.length<i-1)return te.push([v,S]),this.size=++F.size,this;F=this.__data__=new p(te)}return F.set(v,S),this.size=F.size,this}fe.prototype.clear=Oe,fe.prototype.delete=qe,fe.prototype.get=Ye,fe.prototype.has=Ze,fe.prototype.set=We;function ht(v,S){var F=re(v),te=!F&&V(v),Me=!F&&!te&&Ge(v),Ne=!F&&!te&&!Me&&Gs(v),ut=F||te||Me||Ne,Ct=ut?ko(v.length,Xd):[],Tt=Ct.length;for(var _n in v)(S||Vi.call(v,_n))&&!(ut&&(_n=="length"||Me&&(_n=="offset"||_n=="parent")||Ne&&(_n=="buffer"||_n=="byteLength"||_n=="byteOffset")||x(_n,Tt)))&&Ct.push(_n);return Ct}function Dt(v){var S=v.length;return S?v[im(0,S-1)]:n}function tt(v,S){return qa(Js(v),In(S,0,v.length))}function bt(v){return qa(Js(v))}function Kt(v,S,F){(F!==n&&!P(v[S],F)||F===n&&!(S in v))&&$n(v,S,F)}function Ut(v,S,F){var te=v[S];(!(Vi.call(v,S)&&P(te,F))||F===n&&!(S in v))&&$n(v,S,F)}function Xt(v,S){for(var F=v.length;F--;)if(P(v[F][0],S))return F;return-1}function dn(v,S,F,te){return Nr(v,function(Me,Ne,ut){S(te,Me,F(Me),ut)}),te}function un(v,S){return v&&oA(S,Il(S),v)}function pn(v,S){return v&&oA(S,Va(S),v)}function $n(v,S,F){S=="__proto__"&&ec?ec(v,S,{configurable:!0,enumerable:!0,value:F,writable:!0}):v[S]=F}function qr(v,S){for(var F=-1,te=S.length,Me=jt(te),Ne=v==null;++F<te;)Me[F]=Ne?n:d_(v,S[F]);return Me}function In(v,S,F){return v===v&&(F!==n&&(v=v<=F?v:F),S!==n&&(v=v>=S?v:S)),v}function vr(v,S,F,te,Me,Ne){var ut,Ct=S&E,Tt=S&O,_n=S&K;if(F&&(ut=Me?F(v,te,Me,Ne):F(v)),ut!==n)return ut;if(!xn(v))return v;var Cn=re(v);if(Cn){if(ut=Gv(v),!Ct)return Js(v,ut)}else{var Tn=zs(v),fr=Tn==it||Tn==ot;if(Ge(v))return O0(v,Ct);if(Tn==pt||Tn==vt||fr&&!Me){if(ut=Tt||fr?{}:P0(v),!Ct)return Tt?fp(v,pn(ut,v)):B0(v,un(ut,v))}else{if(!io[Tn])return Me?v:{};ut=pf(v,Tn,Ct)}}Ne||(Ne=new fe);var Vr=Ne.get(v);if(Vr)return Vr;Ne.set(v,ut),hs(v)?v.forEach(function(bi){ut.add(vr(bi,S,F,bi,v,Ne))}):sr(v)&&v.forEach(function(bi,bo){ut.set(bo,vr(bi,S,F,bo,v,Ne))});var Ci=_n?Tt?df:fm:Tt?Va:Il,lo=Cn?n:Ci(v);return ru(lo||v,function(bi,bo){lo&&(bo=bi,bi=v[bo]),Ut(ut,bo,vr(bi,S,F,bo,v,Ne))}),ut}function di(v){var S=Il(v);return function(F){return Ti(F,v,S)}}function Ti(v,S,F){var te=F.length;if(v==null)return!te;for(v=To(v);te--;){var Me=F[te],Ne=S[Me],ut=v[Me];if(ut===n&&!(Me in v)||!Ne(ut))return!1}return!0}function Hr(v,S,F){if(typeof v!="function")throw new Po(a);return Tr(function(){v.apply(n,F)},S)}function ei(v,S,F,te){var Me=-1,Ne=ld,ut=!0,Ct=v.length,Tt=[],_n=S.length;if(!Ct)return Tt;F&&(S=ta(S,Us(F))),te?(Ne=$A,ut=!1):S.length>=i&&(Ne=iu,ut=!1,S=new $(S));e:for(;++Me<Ct;){var Cn=v[Me],Tn=F==null?Cn:F(Cn);if(Cn=te||Cn!==0?Cn:0,ut&&Tn===Tn){for(var fr=_n;fr--;)if(S[fr]===Tn)continue e;Tt.push(Cn)}else Ne(S,Tn,te)||Tt.push(Cn)}return Tt}var Nr=sh(Ms),qo=sh(nA,!0);function Lo(v,S){var F=!0;return Nr(v,function(te,Me,Ne){return F=!!S(te,Me,Ne),F}),F}function Rs(v,S,F){for(var te=-1,Me=v.length;++te<Me;){var Ne=v[te],ut=S(Ne);if(ut!=null&&(Ct===n?ut===ut&&!Vo(ut):F(ut,Ct)))var Ct=ut,Tt=Ne}return Tt}function Da(v,S,F,te){var Me=v.length;for(F=Jr(F),F<0&&(F=-F>Me?0:Me+F),te=te===n||te>Me?Me:Jr(te),te<0&&(te+=Me),te=F>te?0:Ts(te);F<te;)v[F++]=S;return v}function mo(v,S){var F=[];return Nr(v,function(te,Me,Ne){S(te,Me,Ne)&&F.push(te)}),F}function so(v,S,F,te,Me){var Ne=-1,ut=v.length;for(F||(F=f),Me||(Me=[]);++Ne<ut;){var Ct=v[Ne];S>0&&F(Ct)?S>1?so(Ct,S-1,F,te,Me):Gu(Me,Ct):te||(Me[Me.length]=Ct)}return Me}var Xs=og(),lu=og(!0);function Ms(v,S){return v&&Xs(v,S,Il)}function nA(v,S){return v&&lu(v,S,Il)}function Wl(v,S){return Nu(S,function(F){return Un(v[F])})}function Ss(v,S){S=bd(S,v);for(var F=0,te=S.length;v!=null&&F<te;)v=v[La(S[F++])];return F&&F==te?v:n}function Ri(v,S,F){var te=S(v);return re(v)?te:Gu(te,F(v))}function Ei(v){return v==null?v===n?Wr:zt:Zu&&Zu in To(v)?gp(v):cn(v)}function na(v,S){return v>S}function Fc(v,S){return v!=null&&Vi.call(v,S)}function Ho(v,S){return v!=null&&S in To(v)}function _a(v,S,F){return v>=ua(S,F)&&v<ao(S,F)}function Es(v,S,F){for(var te=F?$A:ld,Me=v[0].length,Ne=v.length,ut=Ne,Ct=jt(Ne),Tt=1/0,_n=[];ut--;){var Cn=v[ut];ut&&S&&(Cn=ta(Cn,Us(S))),Tt=ua(Cn.length,Tt),Ct[ut]=!F&&(S||Me>=120&&Cn.length>=120)?new $(ut&&Cn):n}Cn=v[0];var Tn=-1,fr=Ct[0];e:for(;++Tn<Me&&_n.length<Tt;){var Vr=Cn[Tn],Ci=S?S(Vr):Vr;if(Vr=F||Vr!==0?Vr:0,!(fr?iu(fr,Ci):te(_n,Ci,F))){for(ut=Ne;--ut;){var lo=Ct[ut];if(!(lo?iu(lo,Ci):te(v[ut],Ci,F)))continue e}fr&&fr.push(Ci),_n.push(Vr)}}return _n}function Pi(v,S,F,te){return Ms(v,function(Me,Ne,ut){S(te,F(Me),Ne,ut)}),te}function sc(v,S,F){S=bd(S,v),v=Qn(v,S);var te=v==null?v:v[La(kA(S))];return te==null?n:ma(te,v,F)}function Vh(v){return mn(v)&&Ei(v)==vt}function uu(v){return mn(v)&&Ei(v)==Ee}function lc(v){return mn(v)&&Ei(v)==pe}function Iu(v,S,F,te,Me){return v===S?!0:v==null||S==null||!mn(v)&&!mn(S)?v!==v&&S!==S:Zh(v,S,F,te,Iu,Me)}function Zh(v,S,F,te,Me,Ne){var ut=re(v),Ct=re(S),Tt=ut?$t:zs(v),_n=Ct?$t:zs(S);Tt=Tt==vt?pt:Tt,_n=_n==vt?pt:_n;var Cn=Tt==pt,Tn=_n==pt,fr=Tt==_n;if(fr&&Ge(v)){if(!Ge(S))return!1;ut=!0,Cn=!1}if(fr&&!Cn)return Ne||(Ne=new fe),ut||Gs(v)?Ku(v,S,F,te,Me,Ne):hm(v,S,Tt,F,te,Me,Ne);if(!(F&D)){var Vr=Cn&&Vi.call(v,"__wrapped__"),Ci=Tn&&Vi.call(S,"__wrapped__");if(Vr||Ci){var lo=Vr?v.value():v,bi=Ci?S.value():S;return Ne||(Ne=new fe),Me(lo,bi,F,te,Ne)}}return fr?(Ne||(Ne=new fe),T0(v,S,F,te,Me,Ne)):!1}function ku(v){return mn(v)&&zs(v)==St}function Xh(v,S,F,te){var Me=F.length,Ne=Me,ut=!te;if(v==null)return!Ne;for(v=To(v);Me--;){var Ct=F[Me];if(ut&&Ct[2]?Ct[1]!==v[Ct[0]]:!(Ct[0]in v))return!1}for(;++Me<Ne;){Ct=F[Me];var Tt=Ct[0],_n=v[Tt],Cn=Ct[1];if(ut&&Ct[2]){if(_n===n&&!(Tt in v))return!1}else{var Tn=new fe;if(te)var fr=te(_n,Cn,Tt,v,S,Tn);if(!(fr===n?Iu(Cn,_n,D|Y,te,Tn):fr))return!1}}return!0}function OA(v){if(!xn(v)||ne(v))return!1;var S=Un(v)?cl:Li;return S.test(As(v))}function sp(v){return mn(v)&&Ei(v)==yn}function gd(v){return mn(v)&&zs(v)==Jn}function lp(v){return mn(v)&&Hn(v.length)&&!!vo[Ei(v)]}function rA(v){return typeof v=="function"?v:v==null?mc:typeof v=="object"?re(v)?tf(v[0],v[1]):ef(v):Kk(v)}function yd(v){if(!me(v))return np(v);var S=[];for(var F in To(v))Vi.call(v,F)&&F!="constructor"&&S.push(F);return S}function Jh(v){if(!xn(v))return Wt(v);var S=me(v),F=[];for(var te in v)te=="constructor"&&(S||!Vi.call(v,te))||F.push(te);return F}function iA(v,S){return v<S}function b0(v,S){var F=-1,te=_e(v)?jt(v.length):[];return Nr(v,function(Me,Ne,ut){te[++F]=S(Me,Ne,ut)}),te}function ef(v){var S=Mo(v);return S.length==1&&S[0][2]?nt(S[0][0],S[0][1]):function(F){return F===v||Xh(F,v,S)}}function tf(v,S){return B(v)&&$e(S)?nt(La(v),S):function(F){var te=d_(F,v);return te===n&&te===S?h_(F,v):Iu(S,te,D|Y)}}function Au(v,S,F,te,Me){v!==S&&Xs(S,function(Ne,ut){if(Me||(Me=new fe),xn(Ne))nh(v,S,ut,F,Au,te,Me);else{var Ct=te?te(Ln(v,ut),Ne,ut+"",v,S,Me):n;Ct===n&&(Ct=Ne),Kt(v,ut,Ct)}},Va)}function nh(v,S,F,te,Me,Ne,ut){var Ct=Ln(v,F),Tt=Ln(S,F),_n=ut.get(Tt);if(_n){Kt(v,F,_n);return}var Cn=Ne?Ne(Ct,Tt,F+"",v,S,ut):n,Tn=Cn===n;if(Tn){var fr=re(Tt),Vr=!fr&&Ge(Tt),Ci=!fr&&!Vr&&Gs(Tt);Cn=Tt,fr||Vr||Ci?re(Ct)?Cn=Ct:Be(Ct)?Cn=Js(Ct):Vr?(Tn=!1,Cn=O0(Tt,!0)):Ci?(Tn=!1,Cn=Ca(Tt,!0)):Cn=[]:Ua(Tt)||V(Tt)?(Cn=Ct,V(Ct)?Cn=Ol(Ct):(!xn(Ct)||Un(Ct))&&(Cn=P0(Tt))):Tn=!1}Tn&&(ut.set(Tt,Cn),Me(Cn,Tt,te,Ne,ut),ut.delete(Tt)),Kt(v,F,Cn)}function rh(v,S){var F=v.length;if(F)return S+=S<0?F:0,x(S,F)?v[S]:n}function eg(v,S,F){S.length?S=ta(S,function(Ne){return re(Ne)?function(ut){return Ss(ut,Ne.length===1?Ne[0]:Ne)}:Ne}):S=[mc];var te=-1;S=ta(S,Us(Xr()));var Me=b0(v,function(Ne,ut,Ct){var Tt=ta(S,function(_n){return _n(Ne)});return{criteria:Tt,index:++te,value:Ne}});return Wi(Me,function(Ne,ut){return ig(Ne,ut,F)})}function hl(v,S){return ih(v,S,function(F,te){return h_(v,te)})}function ih(v,S,F){for(var te=-1,Me=S.length,Ne={};++te<Me;){var ut=S[te],Ct=Ss(v,ut);F(Ct,ut)&&nf(Ne,bd(ut,v),Ct)}return Ne}function x0(v){return function(S){return Ss(S,v)}}function rm(v,S,F,te){var Me=te?C0:Io,Ne=-1,ut=S.length,Ct=v;for(v===S&&(S=Js(S)),F&&(Ct=ta(v,Us(F)));++Ne<ut;)for(var Tt=0,_n=S[Ne],Cn=F?F(_n):_n;(Tt=Me(Ct,Cn,Tt,te))>-1;)Ct!==v&&Hu.call(Ct,Tt,1),Hu.call(v,Tt,1);return v}function Os(v,S){for(var F=v?S.length:0,te=F-1;F--;){var Me=S[F];if(F==te||Me!==Ne){var Ne=Me;x(Me)?Hu.call(v,Me,1):sm(v,Me)}}return v}function im(v,S){return v+Ju(SA()*(S-v+1))}function om(v,S,F,te){for(var Me=-1,Ne=ao(wo((S-v)/(F||1)),0),ut=jt(Ne);Ne--;)ut[te?Ne:++Me]=v,v+=F;return ut}function w0(v,S){var F="";if(!v||S<1||S>st)return F;do S%2&&(F+=v),S=Ju(S/2),S&&(v+=v);while(S);return F}function Qi(v,S){return _r(kn(v,S,mc),v+"")}function M0(v){return Dt(Bg(v))}function S0(v,S){var F=Bg(v);return qa(F,In(S,0,F.length))}function nf(v,S,F,te){if(!xn(v))return v;S=bd(S,v);for(var Me=-1,Ne=S.length,ut=Ne-1,Ct=v;Ct!=null&&++Me<Ne;){var Tt=La(S[Me]),_n=F;if(Tt==="__proto__"||Tt==="constructor"||Tt==="prototype")return v;if(Me!=ut){var Cn=Ct[Tt];_n=te?te(Cn,Tt,Ct):n,_n===n&&(_n=xn(Cn)?Cn:x(S[Me+1])?[]:{})}Ut(Ct,Tt,_n),Ct=Ct[Tt]}return v}var am=No?function(v,S){return No.set(v,S),v}:mc,tg=ec?function(v,S){return ec(v,"toString",{configurable:!0,enumerable:!1,value:kM(S),writable:!0})}:mc;function E0(v){return qa(Bg(v))}function Fa(v,S,F){var te=-1,Me=v.length;S<0&&(S=-S>Me?0:Me+S),F=F>Me?Me:F,F<0&&(F+=Me),Me=S>F?0:F-S>>>0,S>>>=0;for(var Ne=jt(Me);++te<Me;)Ne[te]=v[te+S];return Ne}function fl(v,S){var F;return Nr(v,function(te,Me,Ne){return F=S(te,Me,Ne),!F}),!!F}function vd(v,S,F){var te=0,Me=v==null?te:v.length;if(typeof S=="number"&&S===S&&Me<=Vt){for(;te<Me;){var Ne=te+Me>>>1,ut=v[Ne];ut!==null&&!Vo(ut)&&(F?ut<=S:ut<S)?te=Ne+1:Me=Ne}return Me}return oh(v,S,mc,F)}function oh(v,S,F,te){var Me=0,Ne=v==null?0:v.length;if(Ne===0)return 0;S=F(S);for(var ut=S!==S,Ct=S===null,Tt=Vo(S),_n=S===n;Me<Ne;){var Cn=Ju((Me+Ne)/2),Tn=F(v[Cn]),fr=Tn!==n,Vr=Tn===null,Ci=Tn===Tn,lo=Vo(Tn);if(ut)var bi=te||Ci;else _n?bi=Ci&&(te||fr):Ct?bi=Ci&&fr&&(te||!Vr):Tt?bi=Ci&&fr&&!Vr&&(te||!lo):Vr||lo?bi=!1:bi=te?Tn<=S:Tn<S;bi?Me=Cn+1:Ne=Cn}return ua(Ne,Ve)}function BA(v,S){for(var F=-1,te=v.length,Me=0,Ne=[];++F<te;){var ut=v[F],Ct=S?S(ut):ut;if(!F||!P(Ct,Tt)){var Tt=Ct;Ne[Me++]=ut===0?0:ut}}return Ne}function ng(v){return typeof v=="number"?v:Vo(v)?ze:+v}function Tu(v){if(typeof v=="string")return v;if(re(v))return ta(v,Tu)+"";if(Vo(v))return qh?qh.call(v):"";var S=v+"";return S=="0"&&1/v==-wt?"-0":S}function Pu(v,S,F){var te=-1,Me=ld,Ne=v.length,ut=!0,Ct=[],Tt=Ct;if(F)ut=!1,Me=$A;else if(Ne>=i){var _n=S?null:sg(v);if(_n)return wl(_n);ut=!1,Me=iu,Tt=new $}else Tt=S?[]:Ct;e:for(;++te<Ne;){var Cn=v[te],Tn=S?S(Cn):Cn;if(Cn=F||Cn!==0?Cn:0,ut&&Tn===Tn){for(var fr=Tt.length;fr--;)if(Tt[fr]===Tn)continue e;S&&Tt.push(Tn),Ct.push(Cn)}else Me(Tt,Tn,F)||(Tt!==Ct&&Tt.push(Tn),Ct.push(Cn))}return Ct}function sm(v,S){return S=bd(S,v),v=Qn(v,S),v==null||delete v[La(kA(S))]}function up(v,S,F,te){return nf(v,S,F(Ss(v,S)),te)}function _d(v,S,F,te){for(var Me=v.length,Ne=te?Me:-1;(te?Ne--:++Ne<Me)&&S(v[Ne],Ne,v););return F?Fa(v,te?0:Ne,te?Ne+1:Me):Fa(v,te?Ne+1:0,te?Me:Ne)}function rf(v,S){var F=v;return F instanceof Yr&&(F=F.value()),qd(S,function(te,Me){return Me.func.apply(Me.thisArg,Gu([te],Me.args))},F)}function cu(v,S,F){var te=v.length;if(te<2)return te?Pu(v[0]):[];for(var Me=-1,Ne=jt(te);++Me<te;)for(var ut=v[Me],Ct=-1;++Ct<te;)Ct!=Me&&(Ne[Me]=ei(Ne[Me]||ut,v[Ct],S,F));return Pu(so(Ne,1),S,F)}function Cd(v,S,F){for(var te=-1,Me=v.length,Ne=S.length,ut={};++te<Me;){var Ct=te<Ne?S[te]:n;F(ut,v[te],Ct)}return ut}function Ap(v){return Be(v)?v:[]}function cp(v){return typeof v=="function"?v:mc}function bd(v,S){return re(v)?v:B(v,S)?[v]:ba(fi(v))}var dp=Qi;function Lc(v,S,F){var te=v.length;return F=F===n?te:F,!S&&F>=te?v:Fa(v,S,F)}var rg=Jd||function(v){return yr.clearTimeout(v)};function O0(v,S){if(S)return v.slice();var F=v.length,te=XA?XA(F):new v.constructor(F);return v.copy(te),te}function xd(v){var S=new v.constructor(v.byteLength);return new Yu(S).set(new Yu(v)),S}function jv(v,S){var F=S?xd(v.buffer):v.buffer;return new v.constructor(F,v.byteOffset,v.byteLength)}function of(v){var S=new v.constructor(v.source,Lr.exec(v));return S.lastIndex=v.lastIndex,S}function hp(v){return EA?To(EA.call(v)):{}}function Ca(v,S){var F=S?xd(v.buffer):v.buffer;return new v.constructor(F,v.byteOffset,v.length)}function af(v,S){if(v!==S){var F=v!==n,te=v===null,Me=v===v,Ne=Vo(v),ut=S!==n,Ct=S===null,Tt=S===S,_n=Vo(S);if(!Ct&&!_n&&!Ne&&v>S||Ne&&ut&&Tt&&!Ct&&!_n||te&&ut&&Tt||!F&&Tt||!Me)return 1;if(!te&&!Ne&&!_n&&v<S||_n&&F&&Me&&!te&&!Ne||Ct&&F&&Me||!ut&&Me||!Tt)return-1}return 0}function ig(v,S,F){for(var te=-1,Me=v.criteria,Ne=S.criteria,ut=Me.length,Ct=F.length;++te<ut;){var Tt=af(Me[te],Ne[te]);if(Tt){if(te>=Ct)return Tt;var _n=F[te];return Tt*(_n=="desc"?-1:1)}}return v.index-S.index}function ah(v,S,F,te){for(var Me=-1,Ne=v.length,ut=F.length,Ct=-1,Tt=S.length,_n=ao(Ne-ut,0),Cn=jt(Tt+_n),Tn=!te;++Ct<Tt;)Cn[Ct]=S[Ct];for(;++Me<ut;)(Tn||Me<Ne)&&(Cn[F[Me]]=v[Me]);for(;_n--;)Cn[Ct++]=v[Me++];return Cn}function sf(v,S,F,te){for(var Me=-1,Ne=v.length,ut=-1,Ct=F.length,Tt=-1,_n=S.length,Cn=ao(Ne-Ct,0),Tn=jt(Cn+_n),fr=!te;++Me<Cn;)Tn[Me]=v[Me];for(var Vr=Me;++Tt<_n;)Tn[Vr+Tt]=S[Tt];for(;++ut<Ct;)(fr||Me<Ne)&&(Tn[Vr+F[ut]]=v[Me++]);return Tn}function Js(v,S){var F=-1,te=v.length;for(S||(S=jt(te));++F<te;)S[F]=v[F];return S}function oA(v,S,F,te){var Me=!F;F||(F={});for(var Ne=-1,ut=S.length;++Ne<ut;){var Ct=S[Ne],Tt=te?te(F[Ct],v[Ct],Ct,F,v):n;Tt===n&&(Tt=v[Ct]),Me?$n(F,Ct,Tt):Ut(F,Ct,Tt)}return F}function B0(v,S){return oA(v,Rc(v),S)}function fp(v,S){return oA(v,ug(v),S)}function wd(v,S){return function(F,te){var Me=re(F)?_0:dn,Ne=S?S():{};return Me(F,v,Xr(te,2),Ne)}}function aA(v){return Qi(function(S,F){var te=-1,Me=F.length,Ne=Me>1?F[Me-1]:n,ut=Me>2?F[2]:n;for(Ne=v.length>3&&typeof Ne=="function"?(Me--,Ne):n,ut&&b(F[0],F[1],ut)&&(Ne=Me<3?n:Ne,Me=1),S=To(S);++te<Me;){var Ct=F[te];Ct&&v(S,Ct,te,Ne)}return S})}function sh(v,S){return function(F,te){if(F==null)return F;if(!_e(F))return v(F,te);for(var Me=F.length,Ne=S?Me:-1,ut=To(F);(S?Ne--:++Ne<Me)&&te(ut[Ne],Ne,ut)!==!1;);return F}}function og(v){return function(S,F,te){for(var Me=-1,Ne=To(S),ut=te(S),Ct=ut.length;Ct--;){var Tt=ut[v?Ct:++Me];if(F(Ne[Tt],Tt,Ne)===!1)break}return S}}function I0(v,S,F){var te=S&ee,Me=lh(v);function Ne(){var ut=this&&this!==yr&&this instanceof Ne?Me:v;return ut.apply(te?F:this,arguments)}return Ne}function lf(v){return function(S){S=fi(S);var F=VA(S)?Rl(S):n,te=F?F[0]:S.charAt(0),Me=F?Lc(F,1).join(""):S.slice(1);return te[v]()+Me}}function uf(v){return function(S){return qd(Tk(kk(S).replace(Wo,"")),v,"")}}function lh(v){return function(){var S=arguments;switch(S.length){case 0:return new v;case 1:return new v(S[0]);case 2:return new v(S[0],S[1]);case 3:return new v(S[0],S[1],S[2]);case 4:return new v(S[0],S[1],S[2],S[3]);case 5:return new v(S[0],S[1],S[2],S[3],S[4]);case 6:return new v(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new v(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var F=rc(v.prototype),te=v.apply(F,S);return xn(te)?te:F}}function Wv(v,S,F){var te=lh(v);function Me(){for(var Ne=arguments.length,ut=jt(Ne),Ct=Ne,Tt=hf(Me);Ct--;)ut[Ct]=arguments[Ct];var _n=Ne<3&&ut[0]!==Tt&&ut[Ne-1]!==Tt?[]:Ll(ut,Tt);if(Ne-=_n.length,Ne<F)return sA(v,S,Af,Me.placeholder,n,ut,_n,n,n,F-Ne);var Cn=this&&this!==yr&&this instanceof Me?te:v;return ma(Cn,this,ut)}return Me}function pp(v){return function(S,F,te){var Me=To(S);if(!_e(S)){var Ne=Xr(F,3);S=Il(S),F=function(Ct){return Ne(Me[Ct],Ct,Me)}}var ut=v(S,F,te);return ut>-1?Me[Ne?S[ut]:ut]:n}}function lm(v){return uc(function(S){var F=S.length,te=F,Me=$i.prototype.thru;for(v&&S.reverse();te--;){var Ne=S[te];if(typeof Ne!="function")throw new Po(a);if(Me&&!ut&&dh(Ne)=="wrapper")var ut=new $i([],!0)}for(te=ut?te:F;++te<F;){Ne=S[te];var Ct=dh(Ne),Tt=Ct=="wrapper"?Uc(Ne):n;Tt&&Q(Tt[0])&&Tt[1]==(X|Z|ye|se)&&!Tt[4].length&&Tt[9]==1?ut=ut[dh(Tt[0])].apply(ut,Tt[3]):ut=Ne.length==1&&Q(Ne)?ut[Ct]():ut.thru(Ne)}return function(){var _n=arguments,Cn=_n[0];if(ut&&_n.length==1&&re(Cn))return ut.plant(Cn).value();for(var Tn=0,fr=F?S[Tn].apply(this,_n):Cn;++Tn<F;)fr=S[Tn].call(this,fr);return fr}})}function Af(v,S,F,te,Me,Ne,ut,Ct,Tt,_n){var Cn=S&X,Tn=S&ee,fr=S&H,Vr=S&(Z|ue),Ci=S&we,lo=fr?n:lh(v);function bi(){for(var bo=arguments.length,Ko=jt(bo),Wc=bo;Wc--;)Ko[Wc]=arguments[Wc];if(Vr)var DA=hf(bi),Nc=Nh(Ko,DA);if(te&&(Ko=ah(Ko,te,Me,Vr)),Ne&&(Ko=sf(Ko,Ne,ut,Vr)),bo-=Nc,Vr&&bo<_n){var pl=Ll(Ko,DA);return sA(v,S,Af,bi.placeholder,F,Ko,pl,Ct,Tt,_n-bo)}var vh=Tn?F:this,_p=fr?vh[v]:v;return bo=Ko.length,Ct?Ko=bn(Ko,Ct):Ci&&bo>1&&Ko.reverse(),Cn&&Tt<bo&&(Ko.length=Tt),this&&this!==yr&&this instanceof bi&&(_p=lo||lh(_p)),_p.apply(vh,Ko)}return bi}function um(v,S){return function(F,te){return Pi(F,v,S(te),{})}}function uh(v,S){return function(F,te){var Me;if(F===n&&te===n)return S;if(F!==n&&(Me=F),te!==n){if(Me===n)return te;typeof F=="string"||typeof te=="string"?(F=Tu(F),te=Tu(te)):(F=ng(F),te=ng(te)),Me=v(F,te)}return Me}}function Am(v){return uc(function(S){return S=ta(S,Us(Xr())),Qi(function(F){var te=this;return v(S,function(Me){return ma(Me,te,F)})})})}function cm(v,S){S=S===n?" ":Tu(S);var F=S.length;if(F<2)return F?w0(S,v):S;var te=w0(S,wo(v/Ou(S)));return VA(S)?Lc(Rl(te),0,v).join(""):te.slice(0,v)}function ag(v,S,F,te){var Me=S&ee,Ne=lh(v);function ut(){for(var Ct=-1,Tt=arguments.length,_n=-1,Cn=te.length,Tn=jt(Cn+Tt),fr=this&&this!==yr&&this instanceof ut?Ne:v;++_n<Cn;)Tn[_n]=te[_n];for(;Tt--;)Tn[_n++]=arguments[++Ct];return ma(fr,Me?F:this,Tn)}return ut}function Ah(v){return function(S,F,te){return te&&typeof te!="number"&&b(S,F,te)&&(F=te=n),S=fs(S),F===n?(F=S,S=0):F=fs(F),te=te===n?S<F?1:-1:fs(te),om(S,F,te,v)}}function mp(v){return function(S,F){return typeof S=="string"&&typeof F=="string"||(S=ii(S),F=ii(F)),v(S,F)}}function sA(v,S,F,te,Me,Ne,ut,Ct,Tt,_n){var Cn=S&Z,Tn=Cn?ut:n,fr=Cn?n:ut,Vr=Cn?Ne:n,Ci=Cn?n:Ne;S|=Cn?ye:be,S&=~(Cn?be:ye),S&N||(S&=~(ee|H));var lo=[v,S,Me,Vr,Tn,Ci,fr,Ct,Tt,_n],bi=F.apply(n,lo);return Q(v)&&ar(bi,lo),bi.placeholder=te,hi(bi,v,S)}function k0(v){var S=Ka[v];return function(F,te){if(F=ii(F),te=te==null?0:ua(Jr(te),292),te&&Qh(F)){var Me=(fi(F)+"e").split("e"),Ne=S(Me[0]+"e"+(+Me[1]+te));return Me=(fi(Ne)+"e").split("e"),+(Me[0]+"e"+(+Me[1]-te))}return S(F)}}var sg=ka&&1/wl(new ka([,-0]))[1]==wt?function(v){return new ka(v)}:KM;function ch(v){return function(S){var F=zs(S);return F==St?kc(S):F==Jn?ga(S):Fo(S,v(S))}}function Co(v,S,F,te,Me,Ne,ut,Ct){var Tt=S&H;if(!Tt&&typeof v!="function")throw new Po(a);var _n=te?te.length:0;if(_n||(S&=~(ye|be),te=Me=n),ut=ut===n?ut:ao(Jr(ut),0),Ct=Ct===n?Ct:Jr(Ct),_n-=Me?Me.length:0,S&be){var Cn=te,Tn=Me;te=Me=n}var fr=Tt?n:Uc(v),Vr=[v,S,F,te,Me,Cn,Tn,Ne,ut,Ct];if(fr&&_t(Vr,fr),v=Vr[0],S=Vr[1],F=Vr[2],te=Vr[3],Me=Vr[4],Ct=Vr[9]=Vr[9]===n?Tt?0:v.length:ao(Vr[9]-_n,0),!Ct&&S&(Z|ue)&&(S&=~(Z|ue)),!S||S==ee)var Ci=I0(v,S,F);else S==Z||S==ue?Ci=Wv(v,S,Ct):(S==ye||S==(ee|ye))&&!Me.length?Ci=ag(v,S,F,te):Ci=Af.apply(n,Vr);var lo=fr?am:ar;return hi(lo(Ci,Vr),v,S)}function lg(v,S,F,te){return v===n||P(v,Qa[F])&&!Vi.call(te,F)?S:v}function dm(v,S,F,te,Me,Ne){return xn(v)&&xn(S)&&(Ne.set(S,v),Au(v,S,n,dm,Ne),Ne.delete(S)),v}function cf(v){return Ua(v)?n:v}function Ku(v,S,F,te,Me,Ne){var ut=F&D,Ct=v.length,Tt=S.length;if(Ct!=Tt&&!(ut&&Tt>Ct))return!1;var _n=Ne.get(v),Cn=Ne.get(S);if(_n&&Cn)return _n==S&&Cn==v;var Tn=-1,fr=!0,Vr=F&Y?new $:n;for(Ne.set(v,S),Ne.set(S,v);++Tn<Ct;){var Ci=v[Tn],lo=S[Tn];if(te)var bi=ut?te(lo,Ci,Tn,S,v,Ne):te(Ci,lo,Tn,v,S,Ne);if(bi!==n){if(bi)continue;fr=!1;break}if(Vr){if(!Bc(S,function(bo,Ko){if(!iu(Vr,Ko)&&(Ci===bo||Me(Ci,bo,F,te,Ne)))return Vr.push(Ko)})){fr=!1;break}}else if(!(Ci===lo||Me(Ci,lo,F,te,Ne))){fr=!1;break}}return Ne.delete(v),Ne.delete(S),fr}function hm(v,S,F,te,Me,Ne,ut){switch(F){case J:if(v.byteLength!=S.byteLength||v.byteOffset!=S.byteOffset)return!1;v=v.buffer,S=S.buffer;case Ee:return!(v.byteLength!=S.byteLength||!Ne(new Yu(v),new Yu(S)));case ke:case pe:case Rt:return P(+v,+S);case Re:return v.name==S.name&&v.message==S.message;case yn:case Ar:return v==S+"";case St:var Ct=kc;case Jn:var Tt=te&D;if(Ct||(Ct=wl),v.size!=S.size&&!Tt)return!1;var _n=ut.get(v);if(_n)return _n==S;te|=Y,ut.set(v,S);var Cn=Ku(Ct(v),Ct(S),te,Me,Ne,ut);return ut.delete(v),Cn;case Mr:if(EA)return EA.call(v)==EA.call(S)}return!1}function T0(v,S,F,te,Me,Ne){var ut=F&D,Ct=fm(v),Tt=Ct.length,_n=fm(S),Cn=_n.length;if(Tt!=Cn&&!ut)return!1;for(var Tn=Tt;Tn--;){var fr=Ct[Tn];if(!(ut?fr in S:Vi.call(S,fr)))return!1}var Vr=Ne.get(v),Ci=Ne.get(S);if(Vr&&Ci)return Vr==S&&Ci==v;var lo=!0;Ne.set(v,S),Ne.set(S,v);for(var bi=ut;++Tn<Tt;){fr=Ct[Tn];var bo=v[fr],Ko=S[fr];if(te)var Wc=ut?te(Ko,bo,fr,S,v,Ne):te(bo,Ko,fr,v,S,Ne);if(!(Wc===n?bo===Ko||Me(bo,Ko,F,te,Ne):Wc)){lo=!1;break}bi||(bi=fr=="constructor")}if(lo&&!bi){var DA=v.constructor,Nc=S.constructor;DA!=Nc&&"constructor"in v&&"constructor"in S&&!(typeof DA=="function"&&DA instanceof DA&&typeof Nc=="function"&&Nc instanceof Nc)&&(lo=!1)}return Ne.delete(v),Ne.delete(S),lo}function uc(v){return _r(kn(v,n,Ha),v+"")}function fm(v){return Ri(v,Il,Rc)}function df(v){return Ri(v,Va,ug)}var Uc=No?function(v){return No.get(v)}:KM;function dh(v){for(var S=v.name+"",F=Go[S],te=Vi.call(Go,S)?F.length:0;te--;){var Me=F[te],Ne=Me.func;if(Ne==null||Ne==v)return Me.name}return S}function hf(v){var S=Vi.call(Le,"placeholder")?Le:v;return S.placeholder}function Xr(){var v=Le.iteratee||TM;return v=v===TM?rA:v,arguments.length?v(arguments[0],arguments[1]):v}function ff(v,S){var F=v.__data__;return U(S)?F[typeof S=="string"?"string":"hash"]:F.map}function Mo(v){for(var S=Il(v),F=S.length;F--;){var te=S[F],Me=v[te];S[F]=[te,Me,$e(Me)]}return S}function Md(v,S){var F=HA(v,S);return OA(F)?F:n}function gp(v){var S=Vi.call(v,Zu),F=v[Zu];try{v[Zu]=n;var te=!0}catch{}var Me=au.call(v);return te&&(S?v[Zu]=F:delete v[Zu]),Me}var Rc=dd?function(v){return v==null?[]:(v=To(v),Nu(dd(v),function(S){return JA.call(v,S)}))}:DM,ug=dd?function(v){for(var S=[];v;)Gu(S,Rc(v)),v=qu(v);return S}:DM,zs=Ei;(tc&&zs(new tc(new ArrayBuffer(1)))!=J||Aa&&zs(new Aa)!=St||nc&&zs(nc.resolve())!=rr||ka&&zs(new ka)!=Jn||eA&&zs(new eA)!=gr)&&(zs=function(v){var S=Ei(v),F=S==pt?v.constructor:n,te=F?As(F):"";if(te)switch(te){case rp:return J;case eh:return St;case tA:return rr;case Ml:return Jn;case ip:return gr}return S});function Nv(v,S,F){for(var te=-1,Me=F.length;++te<Me;){var Ne=F[te],ut=Ne.size;switch(Ne.type){case"drop":v+=ut;break;case"dropRight":S-=ut;break;case"take":S=ua(S,v+ut);break;case"takeRight":v=ao(v,S-ut);break}}return{start:v,end:S}}function Ya(v){var S=v.match(Bn);return S?S[1].split(Yn):[]}function Ag(v,S,F){S=bd(S,v);for(var te=-1,Me=S.length,Ne=!1;++te<Me;){var ut=La(S[te]);if(!(Ne=v!=null&&F(v,ut)))break;v=v[ut]}return Ne||++te!=Me?Ne:(Me=v==null?0:v.length,!!Me&&Hn(Me)&&x(ut,Me)&&(re(v)||V(v)))}function Gv(v){var S=v.length,F=new v.constructor(S);return S&&typeof v[0]=="string"&&Vi.call(v,"index")&&(F.index=v.index,F.input=v.input),F}function P0(v){return typeof v.constructor=="function"&&!me(v)?rc(qu(v)):{}}function pf(v,S,F){var te=v.constructor;switch(S){case Ee:return xd(v);case ke:case pe:return new te(+v);case J:return jv(v,F);case q:case Te:case At:case Bt:case kt:case Ft:case fn:case Kn:case On:return Ca(v,F);case St:return new te;case Rt:case Ar:return new te(v);case yn:return of(v);case Jn:return new te;case Mr:return hp(v)}}function A(v,S){var F=S.length;if(!F)return v;var te=F-1;return S[te]=(F>1?"& ":"")+S[te],S=S.join(F>2?", ":" "),v.replace(Dn,`{
/* [wrapped with `+S+`] */
`)}function f(v){return re(v)||V(v)||!!(ep&&v&&v[ep])}function x(v,S){var F=typeof v;return S=S??st,!!S&&(F=="number"||F!="symbol"&&ho.test(v))&&v>-1&&v%1==0&&v<S}function b(v,S,F){if(!xn(F))return!1;var te=typeof S;return(te=="number"?_e(F)&&x(S,F.length):te=="string"&&S in F)?P(F[S],v):!1}function B(v,S){if(re(v))return!1;var F=typeof v;return F=="number"||F=="symbol"||F=="boolean"||v==null||Vo(v)?!0:ft.test(v)||!lt.test(v)||S!=null&&v in To(S)}function U(v){var S=typeof v;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?v!=="__proto__":v===null}function Q(v){var S=dh(v),F=Le[S];if(typeof F!="function"||!(S in Yr.prototype))return!1;if(v===F)return!0;var te=Uc(F);return!!te&&v===te[0]}function ne(v){return!!$h&&$h in v}var le=Qu?Un:FM;function me(v){var S=v&&v.constructor,F=typeof S=="function"&&S.prototype||Qa;return v===F}function $e(v){return v===v&&!xn(v)}function nt(v,S){return function(F){return F==null?!1:F[v]===S&&(S!==n||v in To(F))}}function Ot(v){var S=_m(v,function(te){return F.size===g&&F.clear(),te}),F=S.cache;return S}function _t(v,S){var F=v[1],te=S[1],Me=F|te,Ne=Me<(ee|H|X),ut=te==X&&F==Z||te==X&&F==se&&v[7].length<=S[8]||te==(X|se)&&S[7].length<=S[8]&&F==Z;if(!(Ne||ut))return v;te&ee&&(v[2]=S[2],Me|=F&ee?0:N);var Ct=S[3];if(Ct){var Tt=v[3];v[3]=Tt?ah(Tt,Ct,S[4]):Ct,v[4]=Tt?Ll(v[3],_):S[4]}return Ct=S[5],Ct&&(Tt=v[5],v[5]=Tt?sf(Tt,Ct,S[6]):Ct,v[6]=Tt?Ll(v[5],_):S[6]),Ct=S[7],Ct&&(v[7]=Ct),te&X&&(v[8]=v[8]==null?S[8]:ua(v[8],S[8])),v[9]==null&&(v[9]=S[9]),v[0]=S[0],v[1]=Me,v}function Wt(v){var S=[];if(v!=null)for(var F in To(v))S.push(F);return S}function cn(v){return au.call(v)}function kn(v,S,F){return S=ao(S===n?v.length-1:S,0),function(){for(var te=arguments,Me=-1,Ne=ao(te.length-S,0),ut=jt(Ne);++Me<Ne;)ut[Me]=te[S+Me];Me=-1;for(var Ct=jt(S+1);++Me<S;)Ct[Me]=te[Me];return Ct[S]=F(ut),ma(v,this,Ct)}}function Qn(v,S){return S.length<2?v:Ss(v,Fa(S,0,-1))}function bn(v,S){for(var F=v.length,te=ua(S.length,F),Me=Js(v);te--;){var Ne=S[te];v[te]=x(Ne,F)?Me[Ne]:n}return v}function Ln(v,S){if(!(S==="constructor"&&typeof v[S]=="function")&&S!="__proto__")return v[S]}var ar=Uo(am),Tr=Xu||function(v,S){return yr.setTimeout(v,S)},_r=Uo(tg);function hi(v,S,F){var te=S+"";return _r(v,A(te,cs(Ya(te),F)))}function Uo(v){var S=0,F=0;return function(){var te=br(),Me=he-(te-F);if(F=te,Me>0){if(++S>=Fe)return arguments[0]}else S=0;return v.apply(n,arguments)}}function qa(v,S){var F=-1,te=v.length,Me=te-1;for(S=S===n?te:S;++F<S;){var Ne=im(F,Me),ut=v[Ne];v[Ne]=v[F],v[F]=ut}return v.length=S,v}var ba=Ot(function(v){var S=[];return v.charCodeAt(0)===46&&S.push(""),v.replace(et,function(F,te,Me,Ne){S.push(Me?Ne.replace(Qr,"$1"):te||F)}),S});function La(v){if(typeof v=="string"||Vo(v))return v;var S=v+"";return S=="0"&&1/v==-wt?"-0":S}function As(v){if(v!=null){try{return ls.call(v)}catch{}try{return v+""}catch{}}return""}function cs(v,S){return ru(Yt,function(F){var te="_."+F[0];S&F[1]&&!ld(v,te)&&v.push(te)}),v.sort()}function Sl(v){if(v instanceof Yr)return v.clone();var S=new $i(v.__wrapped__,v.__chain__);return S.__actions__=Js(v.__actions__),S.__index__=v.__index__,S.__values__=v.__values__,S}function el(v,S,F){(F?b(v,S,F):S===n)?S=1:S=ao(Jr(S),0);var te=v==null?0:v.length;if(!te||S<1)return[];for(var Me=0,Ne=0,ut=jt(wo(te/S));Me<te;)ut[Ne++]=Fa(v,Me,Me+=S);return ut}function Bs(v){for(var S=-1,F=v==null?0:v.length,te=0,Me=[];++S<F;){var Ne=v[S];Ne&&(Me[te++]=Ne)}return Me}function ds(){var v=arguments.length;if(!v)return[];for(var S=jt(v-1),F=arguments[0],te=v;te--;)S[te-1]=arguments[te];return Gu(re(F)?Js(F):[F],so(S,1))}var ca=Qi(function(v,S){return Be(v)?ei(v,so(S,1,Be,!0)):[]}),Is=Qi(function(v,S){var F=kA(S);return Be(F)&&(F=n),Be(v)?ei(v,so(S,1,Be,!0),Xr(F,2)):[]}),hh=Qi(function(v,S){var F=kA(S);return Be(F)&&(F=n),Be(v)?ei(v,so(S,1,Be,!0),n,F):[]});function Ac(v,S,F){var te=v==null?0:v.length;return te?(S=F||S===n?1:Jr(S),Fa(v,S<0?0:S,te)):[]}function js(v,S,F){var te=v==null?0:v.length;return te?(S=F||S===n?1:Jr(S),S=te-S,Fa(v,0,S<0?0:S)):[]}function cc(v,S){return v&&v.length?_d(v,Xr(S,3),!0,!0):[]}function Ws(v,S){return v&&v.length?_d(v,Xr(S,3),!0):[]}function K0(v,S,F,te){var Me=v==null?0:v.length;return Me?(F&&typeof F!="number"&&b(v,S,F)&&(F=0,te=Me),Da(v,S,F,te)):[]}function IA(v,S,F){var te=v==null?0:v.length;if(!te)return-1;var Me=F==null?0:Jr(F);return Me<0&&(Me=ao(te+Me,0)),ki(v,Xr(S,3),Me)}function zc(v,S,F){var te=v==null?0:v.length;if(!te)return-1;var Me=te-1;return F!==n&&(Me=Jr(F),Me=F<0?ao(te+Me,0):ua(Me,te-1)),ki(v,Xr(S,3),Me,!0)}function Ha(v){var S=v==null?0:v.length;return S?so(v,1):[]}function tl(v){var S=v==null?0:v.length;return S?so(v,wt):[]}function fh(v,S){var F=v==null?0:v.length;return F?(S=S===n?1:Jr(S),so(v,S)):[]}function dc(v){for(var S=-1,F=v==null?0:v.length,te={};++S<F;){var Me=v[S];te[Me[0]]=Me[1]}return te}function pm(v){return v&&v.length?v[0]:n}function D0(v,S,F){var te=v==null?0:v.length;if(!te)return-1;var Me=F==null?0:Jr(F);return Me<0&&(Me=ao(te+Me,0)),Io(v,S,Me)}function mm(v){var S=v==null?0:v.length;return S?Fa(v,0,-1):[]}var cg=Qi(function(v){var S=ta(v,Ap);return S.length&&S[0]===v[0]?Es(S):[]}),dg=Qi(function(v){var S=kA(v),F=ta(v,Ap);return S===kA(F)?S=n:F.pop(),F.length&&F[0]===v[0]?Es(F,Xr(S,2)):[]}),nM=Qi(function(v){var S=kA(v),F=ta(v,Ap);return S=typeof S=="function"?S:n,S&&F.pop(),F.length&&F[0]===v[0]?Es(F,n,S):[]});function hx(v,S){return v==null?"":Yh.call(v,S)}function kA(v){var S=v==null?0:v.length;return S?v[S-1]:n}function rM(v,S,F){var te=v==null?0:v.length;if(!te)return-1;var Me=te;return F!==n&&(Me=Jr(F),Me=Me<0?ao(te+Me,0):ua(Me,te-1)),S===S?Ul(v,S,Me):ki(v,jh,Me,!0)}function fx(v,S){return v&&v.length?rh(v,Jr(S)):n}var px=Qi(hg);function hg(v,S){return v&&v.length&&S&&S.length?rm(v,S):v}function $v(v,S,F){return v&&v.length&&S&&S.length?rm(v,S,Xr(F,2)):v}function iM(v,S,F){return v&&v.length&&S&&S.length?rm(v,S,n,F):v}var oM=uc(function(v,S){var F=v==null?0:v.length,te=qr(v,S);return Os(v,ta(S,function(Me){return x(Me,F)?+Me:Me}).sort(af)),te});function mx(v,S){var F=[];if(!(v&&v.length))return F;var te=-1,Me=[],Ne=v.length;for(S=Xr(S,3);++te<Ne;){var ut=v[te];S(ut,te,v)&&(F.push(ut),Me.push(te))}return Os(v,Me),F}function yp(v){return v==null?v:Dc.call(v)}function Sd(v,S,F){var te=v==null?0:v.length;return te?(F&&typeof F!="number"&&b(v,S,F)?(S=0,F=te):(S=S==null?0:Jr(S),F=F===n?te:Jr(F)),Fa(v,S,F)):[]}function mf(v,S){return vd(v,S)}function gx(v,S,F){return oh(v,S,Xr(F,2))}function Qv(v,S){var F=v==null?0:v.length;if(F){var te=vd(v,S);if(te<F&&P(v[te],S))return te}return-1}function aM(v,S){return vd(v,S,!0)}function sM(v,S,F){return oh(v,S,Xr(F,2),!0)}function fg(v,S){var F=v==null?0:v.length;if(F){var te=vd(v,S,!0)-1;if(P(v[te],S))return te}return-1}function Yv(v){return v&&v.length?BA(v):[]}function lM(v,S){return v&&v.length?BA(v,Xr(S,2)):[]}function qv(v){var S=v==null?0:v.length;return S?Fa(v,1,S):[]}function Hv(v,S,F){return v&&v.length?(S=F||S===n?1:Jr(S),Fa(v,0,S<0?0:S)):[]}function gm(v,S,F){var te=v==null?0:v.length;return te?(S=F||S===n?1:Jr(S),S=te-S,Fa(v,S<0?0:S,te)):[]}function yx(v,S){return v&&v.length?_d(v,Xr(S,3),!1,!0):[]}function vx(v,S){return v&&v.length?_d(v,Xr(S,3)):[]}var Vv=Qi(function(v){return Pu(so(v,1,Be,!0))}),_x=Qi(function(v){var S=kA(v);return Be(S)&&(S=n),Pu(so(v,1,Be,!0),Xr(S,2))}),pg=Qi(function(v){var S=kA(v);return S=typeof S=="function"?S:n,Pu(so(v,1,Be,!0),n,S)});function Cx(v){return v&&v.length?Pu(v):[]}function uM(v,S){return v&&v.length?Pu(v,Xr(S,2)):[]}function AM(v,S){return S=typeof S=="function"?S:n,v&&v.length?Pu(v,n,S):[]}function mg(v){if(!(v&&v.length))return[];var S=0;return v=Nu(v,function(F){if(Be(F))return S=ao(F.length,S),!0}),ko(S,function(F){return ta(v,Zf(F))})}function bx(v,S){if(!(v&&v.length))return[];var F=mg(v);return S==null?F:ta(F,function(te){return ma(S,n,te)})}var cM=Qi(function(v,S){return Be(v)?ei(v,S):[]}),dM=Qi(function(v){return cu(Nu(v,Be))}),hM=Qi(function(v){var S=kA(v);return Be(S)&&(S=n),cu(Nu(v,Be),Xr(S,2))}),Zv=Qi(function(v){var S=kA(v);return S=typeof S=="function"?S:n,cu(Nu(v,Be),n,S)}),gf=Qi(mg);function xx(v,S){return Cd(v||[],S||[],Ut)}function wx(v,S){return Cd(v||[],S||[],nf)}var Mx=Qi(function(v){var S=v.length,F=S>1?v[S-1]:n;return F=typeof F=="function"?(v.pop(),F):n,bx(v,F)});function Xv(v){var S=Le(v);return S.__chain__=!0,S}function Sx(v,S){return S(v),v}function ym(v,S){return S(v)}var gg=uc(function(v){var S=v.length,F=S?v[0]:0,te=this.__wrapped__,Me=function(Ne){return qr(Ne,v)};return S>1||this.__actions__.length||!(te instanceof Yr)||!x(F)?this.thru(Me):(te=te.slice(F,+F+(S?1:0)),te.__actions__.push({func:ym,args:[Me],thisArg:n}),new $i(te,this.__chain__).thru(function(Ne){return S&&!Ne.length&&Ne.push(n),Ne}))});function Ex(){return Xv(this)}function Jv(){return new $i(this.value(),this.__chain__)}function Ox(){this.__values__===n&&(this.__values__=El(this.value()));var v=this.__index__>=this.__values__.length,S=v?n:this.__values__[this.__index__++];return{done:v,value:S}}function TA(){return this}function F0(v){for(var S,F=this;F instanceof us;){var te=Sl(F);te.__index__=0,te.__values__=n,S?Me.__wrapped__=te:S=te;var Me=te;F=F.__wrapped__}return Me.__wrapped__=v,S}function Bx(){var v=this.__wrapped__;if(v instanceof Yr){var S=v;return this.__actions__.length&&(S=new Yr(this)),S=S.reverse(),S.__actions__.push({func:ym,args:[yp],thisArg:n}),new $i(S,this.__chain__)}return this.thru(yp)}function Ix(){return rf(this.__wrapped__,this.__actions__)}var kx=wd(function(v,S,F){Vi.call(v,F)?++v[F]:$n(v,F,1)});function Tx(v,S,F){var te=re(v)?sd:Lo;return F&&b(v,S,F)&&(S=n),te(v,Xr(S,3))}function Px(v,S){var F=re(v)?Nu:mo;return F(v,Xr(S,3))}var Kx=pp(IA),fM=pp(zc);function Dx(v,S){return so(ph(v,S),1)}function yf(v,S){return so(ph(v,S),wt)}function Fx(v,S,F){return F=F===n?1:Jr(F),so(ph(v,S),F)}function e_(v,S){var F=re(v)?ru:Nr;return F(v,Xr(S,3))}function t_(v,S){var F=re(v)?Rh:qo;return F(v,Xr(S,3))}var Lx=wd(function(v,S,F){Vi.call(v,F)?v[F].push(S):$n(v,F,[S])});function pM(v,S,F,te){v=_e(v)?v:Bg(v),F=F&&!te?Jr(F):0;var Me=v.length;return F<0&&(F=ao(Me+F,0)),ks(v)?F<=Me&&v.indexOf(S,F)>-1:!!Me&&Io(v,S,F)>-1}var mM=Qi(function(v,S,F){var te=-1,Me=typeof S=="function",Ne=_e(v)?jt(v.length):[];return Nr(v,function(ut){Ne[++te]=Me?ma(S,ut,F):sc(ut,S,F)}),Ne}),Ux=wd(function(v,S,F){$n(v,F,S)});function ph(v,S){var F=re(v)?ta:b0;return F(v,Xr(S,3))}function Rx(v,S,F,te){return v==null?[]:(re(S)||(S=S==null?[]:[S]),F=te?n:F,re(F)||(F=F==null?[]:[F]),eg(v,S,F))}var yg=wd(function(v,S,F){v[F?0:1].push(S)},function(){return[[],[]]});function zx(v,S,F){var te=re(v)?qd:Xf,Me=arguments.length<3;return te(v,Xr(S,4),F,Me,Nr)}function vg(v,S,F){var te=re(v)?QA:Xf,Me=arguments.length<3;return te(v,Xr(S,4),F,Me,qo)}function _g(v,S){var F=re(v)?Nu:mo;return F(v,L0(Xr(S,3)))}function Cg(v){var S=re(v)?Dt:M0;return S(v)}function gM(v,S,F){(F?b(v,S,F):S===n)?S=1:S=Jr(S);var te=re(v)?tt:S0;return te(v,S)}function yM(v){var S=re(v)?bt:E0;return S(v)}function vM(v){if(v==null)return 0;if(_e(v))return ks(v)?Ou(v):v.length;var S=zs(v);return S==St||S==Jn?v.size:yd(v).length}function _M(v,S,F){var te=re(v)?Bc:fl;return F&&b(v,S,F)&&(S=n),te(v,Xr(S,3))}var vm=Qi(function(v,S){if(v==null)return[];var F=S.length;return F>1&&b(v,S[0],S[1])?S=[]:F>2&&b(S[0],S[1],S[2])&&(S=[S[0]]),eg(v,so(S,1),[])}),Ns=Kc||function(){return yr.Date.now()};function vf(v,S){if(typeof S!="function")throw new Po(a);return v=Jr(v),function(){if(--v<1)return S.apply(this,arguments)}}function bg(v,S,F){return S=F?n:S,S=v&&S==null?v.length:S,Co(v,X,n,n,n,n,S)}function n_(v,S){var F;if(typeof S!="function")throw new Po(a);return v=Jr(v),function(){return--v>0&&(F=S.apply(this,arguments)),v<=1&&(S=n),F}}var xg=Qi(function(v,S,F){var te=ee;if(F.length){var Me=Ll(F,hf(xg));te|=ye}return Co(v,te,S,F,Me)}),wg=Qi(function(v,S,F){var te=ee|H;if(F.length){var Me=Ll(F,hf(wg));te|=ye}return Co(S,te,v,F,Me)});function jx(v,S,F){S=F?n:S;var te=Co(v,Z,n,n,n,n,n,S);return te.placeholder=jx.placeholder,te}function r_(v,S,F){S=F?n:S;var te=Co(v,ue,n,n,n,n,n,S);return te.placeholder=r_.placeholder,te}function i_(v,S,F){var te,Me,Ne,ut,Ct,Tt,_n=0,Cn=!1,Tn=!1,fr=!0;if(typeof v!="function")throw new Po(a);S=ii(S)||0,xn(F)&&(Cn=!!F.leading,Tn="maxWait"in F,Ne=Tn?ao(ii(F.maxWait)||0,S):Ne,fr="trailing"in F?!!F.trailing:fr);function Vr(pl){var vh=te,_p=Me;return te=Me=n,_n=pl,ut=v.apply(_p,vh),ut}function Ci(pl){return _n=pl,Ct=Tr(bo,S),Cn?Vr(pl):ut}function lo(pl){var vh=pl-Tt,_p=pl-_n,Dk=S-vh;return Tn?ua(Dk,Ne-_p):Dk}function bi(pl){var vh=pl-Tt,_p=pl-_n;return Tt===n||vh>=S||vh<0||Tn&&_p>=Ne}function bo(){var pl=Ns();if(bi(pl))return Ko(pl);Ct=Tr(bo,lo(pl))}function Ko(pl){return Ct=n,fr&&te?Vr(pl):(te=Me=n,ut)}function Wc(){Ct!==n&&rg(Ct),_n=0,te=Tt=Me=Ct=n}function DA(){return Ct===n?ut:Ko(Ns())}function Nc(){var pl=Ns(),vh=bi(pl);if(te=arguments,Me=this,Tt=pl,vh){if(Ct===n)return Ci(Tt);if(Tn)return rg(Ct),Ct=Tr(bo,S),Vr(Tt)}return Ct===n&&(Ct=Tr(bo,S)),ut}return Nc.cancel=Wc,Nc.flush=DA,Nc}var CM=Qi(function(v,S){return Hr(v,1,S)}),Wx=Qi(function(v,S,F){return Hr(v,ii(S)||0,F)});function o_(v){return Co(v,we)}function _m(v,S){if(typeof v!="function"||S!=null&&typeof S!="function")throw new Po(a);var F=function(){var te=arguments,Me=S?S.apply(this,te):te[0],Ne=F.cache;if(Ne.has(Me))return Ne.get(Me);var ut=v.apply(this,te);return F.cache=Ne.set(Me,ut)||Ne,ut};return F.cache=new(_m.Cache||p),F}_m.Cache=p;function L0(v){if(typeof v!="function")throw new Po(a);return function(){var S=arguments;switch(S.length){case 0:return!v.call(this);case 1:return!v.call(this,S[0]);case 2:return!v.call(this,S[0],S[1]);case 3:return!v.call(this,S[0],S[1],S[2])}return!v.apply(this,S)}}function U0(v){return n_(2,v)}var a_=dp(function(v,S){S=S.length==1&&re(S[0])?ta(S[0],Us(Xr())):ta(so(S,1),Us(Xr()));var F=S.length;return Qi(function(te){for(var Me=-1,Ne=ua(te.length,F);++Me<Ne;)te[Me]=S[Me].call(this,te[Me]);return ma(v,this,te)})}),Mg=Qi(function(v,S){var F=Ll(S,hf(Mg));return Co(v,ye,n,S,F)}),Sg=Qi(function(v,S){var F=Ll(S,hf(Sg));return Co(v,be,n,S,F)}),Eg=uc(function(v,S){return Co(v,se,n,n,n,S)});function R0(v,S){if(typeof v!="function")throw new Po(a);return S=S===n?S:Jr(S),Qi(v,S)}function s_(v,S){if(typeof v!="function")throw new Po(a);return S=S==null?0:ao(Jr(S),0),Qi(function(F){var te=F[S],Me=Lc(F,0,S);return te&&Gu(Me,te),ma(v,this,Me)})}function l_(v,S,F){var te=!0,Me=!0;if(typeof v!="function")throw new Po(a);return xn(F)&&(te="leading"in F?!!F.leading:te,Me="trailing"in F?!!F.trailing:Me),i_(v,S,{leading:te,maxWait:S,trailing:Me})}function u_(v){return bg(v,1)}function bM(v,S){return Mg(cp(S),v)}function c(){if(!arguments.length)return[];var v=arguments[0];return re(v)?v:[v]}function l(v){return vr(v,K)}function d(v,S){return S=typeof S=="function"?S:n,vr(v,K,S)}function y(v){return vr(v,E|K)}function M(v,S){return S=typeof S=="function"?S:n,vr(v,E|K,S)}function T(v,S){return S==null||Ti(v,S,Il(S))}function P(v,S){return v===S||v!==v&&S!==S}var L=mp(na),W=mp(function(v,S){return v>=S}),V=Vh(function(){return arguments}())?Vh:function(v){return mn(v)&&Vi.call(v,"callee")&&!JA.call(v,"callee")},re=jt.isArray,Ae=Hi?Us(Hi):uu;function _e(v){return v!=null&&Hn(v.length)&&!Un(v)}function Be(v){return mn(v)&&_e(v)}function Pe(v){return v===!0||v===!1||mn(v)&&Ei(v)==ke}var Ge=tp||FM,Xe=Bo?Us(Bo):lc;function at(v){return mn(v)&&v.nodeType===1&&!Ua(v)}function It(v){if(v==null)return!0;if(_e(v)&&(re(v)||typeof v=="string"||typeof v.splice=="function"||Ge(v)||Gs(v)||V(v)))return!v.length;var S=zs(v);if(S==St||S==Jn)return!v.size;if(me(v))return!yd(v).length;for(var F in v)if(Vi.call(v,F))return!1;return!0}function ct(v,S){return Iu(v,S)}function xt(v,S,F){F=typeof F=="function"?F:n;var te=F?F(v,S):n;return te===n?Iu(v,S,n,F):!!te}function rn(v){if(!mn(v))return!1;var S=Ei(v);return S==Re||S==Se||typeof v.message=="string"&&typeof v.name=="string"&&!Ua(v)}function An(v){return typeof v=="number"&&Qh(v)}function Un(v){if(!xn(v))return!1;var S=Ei(v);return S==it||S==ot||S==Qt||S==gn}function Cr(v){return typeof v=="number"&&v==Jr(v)}function Hn(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=st}function xn(v){var S=typeof v;return v!=null&&(S=="object"||S=="function")}function mn(v){return v!=null&&typeof v=="object"}var sr=xo?Us(xo):ku;function Rn(v,S){return v===S||Xh(v,S,Mo(S))}function Sn(v,S,F){return F=typeof F=="function"?F:n,Xh(v,S,Mo(S),F)}function Fr(v){return ha(v)&&v!=+v}function wr(v){if(le(v))throw new li(o);return OA(v)}function zi(v){return v===null}function da(v){return v==null}function ha(v){return typeof v=="number"||mn(v)&&Ei(v)==Rt}function Ua(v){if(!mn(v)||Ei(v)!=pt)return!1;var S=qu(v);if(S===null)return!0;var F=Vi.call(S,"constructor")&&S.constructor;return typeof F=="function"&&F instanceof F&&ls.call(F)==ZA}var du=$a?Us($a):sp;function hu(v){return Cr(v)&&v>=-st&&v<=st}var hs=Dl?Us(Dl):gd;function ks(v){return typeof v=="string"||!re(v)&&mn(v)&&Ei(v)==Ar}function Vo(v){return typeof v=="symbol"||mn(v)&&Ei(v)==Mr}var Gs=nu?Us(nu):lp;function fu(v){return v===n}function $s(v){return mn(v)&&zs(v)==gr}function Qs(v){return mn(v)&&Ei(v)==_i}var Nl=mp(iA),pu=mp(function(v,S){return v<=S});function El(v){if(!v)return[];if(_e(v))return ks(v)?Rl(v):Js(v);if(Vu&&v[Vu])return nm(v[Vu]());var S=zs(v),F=S==St?kc:S==Jn?wl:Bg;return F(v)}function fs(v){if(!v)return v===0?v:0;if(v=ii(v),v===wt||v===-wt){var S=v<0?-1:1;return S*mt}return v===v?v:0}function Jr(v){var S=fs(v),F=S%1;return S===S?F?S-F:S:0}function Ts(v){return v?In(Jr(v),0,He):0}function ii(v){if(typeof v=="number")return v;if(Vo(v))return ze;if(xn(v)){var S=typeof v.valueOf=="function"?v.valueOf():v;v=xn(S)?S+"":S}if(typeof v!="string")return v===0?v:+v;v=qA(v);var F=ci.test(v);return F||to.test(v)?vn(v.slice(2),F?2:8):ir.test(v)?ze:+v}function Ol(v){return oA(v,Va(v))}function Bl(v){return v?In(Jr(v),-st,st):v===0?v:0}function fi(v){return v==null?"":Tu(v)}var hc=aA(function(v,S){if(me(S)||_e(S)){oA(S,Il(S),v);return}for(var F in S)Vi.call(S,F)&&Ut(v,F,S[F])}),fc=aA(function(v,S){oA(S,Va(S),v)}),lA=aA(function(v,S,F,te){oA(S,Va(S),v,te)}),mh=aA(function(v,S,F,te){oA(S,Il(S),v,te)}),pc=uc(qr);function PA(v,S){var F=rc(v);return S==null?F:un(F,S)}var Du=Qi(function(v,S){v=To(v);var F=-1,te=S.length,Me=te>2?S[2]:n;for(Me&&b(S[0],S[1],Me)&&(te=1);++F<te;)for(var Ne=S[F],ut=Va(Ne),Ct=-1,Tt=ut.length;++Ct<Tt;){var _n=ut[Ct],Cn=v[_n];(Cn===n||P(Cn,Qa[_n])&&!Vi.call(v,_n))&&(v[_n]=Ne[_n])}return v}),gh=Qi(function(v){return v.push(n,dm),ma(Yx,n,v)});function z0(v,S){return zh(v,Xr(S,3),Ms)}function Nx(v,S){return zh(v,Xr(S,3),nA)}function A_(v,S){return v==null?v:Xs(v,Xr(S,3),Va)}function c_(v,S){return v==null?v:lu(v,Xr(S,3),Va)}function yh(v,S){return v&&Ms(v,Xr(S,3))}function Gx(v,S){return v&&nA(v,Xr(S,3))}function $x(v){return v==null?[]:Wl(v,Il(v))}function xM(v){return v==null?[]:Wl(v,Va(v))}function d_(v,S,F){var te=v==null?n:Ss(v,S);return te===n?F:te}function wM(v,S){return v!=null&&Ag(v,S,Fc)}function h_(v,S){return v!=null&&Ag(v,S,Ho)}var MM=um(function(v,S,F){S!=null&&typeof S.toString!="function"&&(S=au.call(S)),v[S]=F},kM(mc)),SM=um(function(v,S,F){S!=null&&typeof S.toString!="function"&&(S=au.call(S)),Vi.call(v,S)?v[S].push(F):v[S]=[F]},Xr),EM=Qi(sc);function Il(v){return _e(v)?ht(v):yd(v)}function Va(v){return _e(v)?ht(v,!0):Jh(v)}function Og(v,S){var F={};return S=Xr(S,3),Ms(v,function(te,Me,Ne){$n(F,S(te,Me,Ne),te)}),F}function Qx(v,S){var F={};return S=Xr(S,3),Ms(v,function(te,Me,Ne){$n(F,Me,S(te,Me,Ne))}),F}var OM=aA(function(v,S,F){Au(v,S,F)}),Yx=aA(function(v,S,F,te){Au(v,S,F,te)}),BM=uc(function(v,S){var F={};if(v==null)return F;var te=!1;S=ta(S,function(Ne){return Ne=bd(Ne,v),te||(te=Ne.length>1),Ne}),oA(v,df(v),F),te&&(F=vr(F,E|O|K,cf));for(var Me=S.length;Me--;)sm(F,S[Me]);return F});function Gl(v,S){return _f(v,L0(Xr(S)))}var KA=uc(function(v,S){return v==null?{}:hl(v,S)});function _f(v,S){if(v==null)return{};var F=ta(df(v),function(te){return[te]});return S=Xr(S),ih(v,F,function(te,Me){return S(te,Me[0])})}function jc(v,S,F){S=bd(S,v);var te=-1,Me=S.length;for(Me||(Me=1,v=n);++te<Me;){var Ne=v==null?n:v[La(S[te])];Ne===n&&(te=Me,Ne=F),v=Un(Ne)?Ne.call(v):Ne}return v}function vp(v,S,F){return v==null?v:nf(v,S,F)}function Ed(v,S,F,te){return te=typeof te=="function"?te:n,v==null?v:nf(v,S,F,te)}var Ok=ch(Il),Bk=ch(Va);function VQ(v,S,F){var te=re(v),Me=te||Ge(v)||Gs(v);if(S=Xr(S,4),F==null){var Ne=v&&v.constructor;Me?F=te?new Ne:[]:xn(v)?F=Un(Ne)?rc(qu(v)):{}:F={}}return(Me?ru:Ms)(v,function(ut,Ct,Tt){return S(F,ut,Ct,Tt)}),F}function ZQ(v,S){return v==null?!0:sm(v,S)}function XQ(v,S,F){return v==null?v:up(v,S,cp(F))}function JQ(v,S,F,te){return te=typeof te=="function"?te:n,v==null?v:up(v,S,cp(F),te)}function Bg(v){return v==null?[]:Wh(v,Il(v))}function eY(v){return v==null?[]:Wh(v,Va(v))}function tY(v,S,F){return F===n&&(F=S,S=n),F!==n&&(F=ii(F),F=F===F?F:0),S!==n&&(S=ii(S),S=S===S?S:0),In(ii(v),S,F)}function nY(v,S,F){return S=fs(S),F===n?(F=S,S=0):F=fs(F),v=ii(v),_a(v,S,F)}function rY(v,S,F){if(F&&typeof F!="boolean"&&b(v,S,F)&&(S=F=n),F===n&&(typeof S=="boolean"?(F=S,S=n):typeof v=="boolean"&&(F=v,v=n)),v===n&&S===n?(v=0,S=1):(v=fs(v),S===n?(S=v,v=0):S=fs(S)),v>S){var te=v;v=S,S=te}if(F||v%1||S%1){var Me=SA();return ua(v+Me*(S-v+Wn("1e-"+((Me+"").length-1))),S)}return im(v,S)}var iY=uf(function(v,S,F){return S=S.toLowerCase(),v+(F?Ik(S):S)});function Ik(v){return IM(fi(v).toLowerCase())}function kk(v){return v=fi(v),v&&v.replace(ai,Hd).replace(Mu,"")}function oY(v,S,F){v=fi(v),S=Tu(S);var te=v.length;F=F===n?te:In(Jr(F),0,te);var Me=F;return F-=S.length,F>=0&&v.slice(F,Me)==S}function aY(v){return v=fi(v),v&&Ce.test(v)?v.replace(Ke,Eu):v}function sY(v){return v=fi(v),v&&tn.test(v)?v.replace(Mt,"\\$&"):v}var lY=uf(function(v,S,F){return v+(F?"-":"")+S.toLowerCase()}),uY=uf(function(v,S,F){return v+(F?" ":"")+S.toLowerCase()}),AY=lf("toLowerCase");function cY(v,S,F){v=fi(v),S=Jr(S);var te=S?Ou(v):0;if(!S||te>=S)return v;var Me=(S-te)/2;return cm(Ju(Me),F)+v+cm(wo(Me),F)}function dY(v,S,F){v=fi(v),S=Jr(S);var te=S?Ou(v):0;return S&&te<S?v+cm(S-te,F):v}function hY(v,S,F){v=fi(v),S=Jr(S);var te=S?Ou(v):0;return S&&te<S?cm(S-te,F)+v:v}function fY(v,S,F){return F||S==null?S=0:S&&(S=+S),Br(fi(v).replace(Ht,""),S||0)}function pY(v,S,F){return(F?b(v,S,F):S===n)?S=1:S=Jr(S),w0(fi(v),S)}function mY(){var v=arguments,S=fi(v[0]);return v.length<3?S:S.replace(v[1],v[2])}var gY=uf(function(v,S,F){return v+(F?"_":"")+S.toLowerCase()});function yY(v,S,F){return F&&typeof F!="number"&&b(v,S,F)&&(S=F=n),F=F===n?He:F>>>0,F?(v=fi(v),v&&(typeof S=="string"||S!=null&&!du(S))&&(S=Tu(S),!S&&VA(v))?Lc(Rl(v),0,F):v.split(S,F)):[]}var vY=uf(function(v,S,F){return v+(F?" ":"")+IM(S)});function _Y(v,S,F){return v=fi(v),F=F==null?0:In(Jr(F),0,v.length),S=Tu(S),v.slice(F,F+S.length)==S}function CY(v,S,F){var te=Le.templateSettings;F&&b(v,S,F)&&(S=n),v=fi(v),S=lA({},S,te,lg);var Me=lA({},S.imports,te.imports,lg),Ne=Il(Me),ut=Wh(Me,Ne),Ct,Tt,_n=0,Cn=S.interpolate||fo,Tn="__p += '",fr=wA((S.escape||fo).source+"|"+Cn.source+"|"+(Cn===rt?Or:fo).source+"|"+(S.evaluate||fo).source+"|$","g"),Vr="//# sourceURL="+(Vi.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++CA+"]")+`
`;v.replace(fr,function(bi,bo,Ko,Wc,DA,Nc){return Ko||(Ko=Wc),Tn+=v.slice(_n,Nc).replace(Wa,bA),bo&&(Ct=!0,Tn+=`' +
__e(`+bo+`) +
'`),DA&&(Tt=!0,Tn+=`';
`+DA+`;
__p += '`),Ko&&(Tn+=`' +
((__t = (`+Ko+`)) == null ? '' : __t) +
'`),_n=Nc+bi.length,bi}),Tn+=`';
`;var Ci=Vi.call(S,"variable")&&S.variable;if(!Ci)Tn=`with (obj) {
`+Tn+`
}
`;else if(lr.test(Ci))throw new li(s);Tn=(Tt?Tn.replace(m,""):Tn).replace(Pt,"$1").replace(Kr,"$1;"),Tn="function("+(Ci||"obj")+`) {
`+(Ci?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ct?", __e = _.escape":"")+(Tt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Tn+`return __p
}`;var lo=Pk(function(){return oo(Ne,Vr+"return "+Tn).apply(n,ut)});if(lo.source=Tn,rn(lo))throw lo;return lo}function bY(v){return fi(v).toLowerCase()}function xY(v){return fi(v).toUpperCase()}function wY(v,S,F){if(v=fi(v),v&&(F||S===n))return qA(v);if(!v||!(S=Tu(S)))return v;var te=Rl(v),Me=Rl(S),Ne=Fl(te,Me),ut=Ic(te,Me)+1;return Lc(te,Ne,ut).join("")}function MY(v,S,F){if(v=fi(v),v&&(F||S===n))return v.slice(0,Vd(v)+1);if(!v||!(S=Tu(S)))return v;var te=Rl(v),Me=Ic(te,Rl(S))+1;return Lc(te,0,Me).join("")}function SY(v,S,F){if(v=fi(v),v&&(F||S===n))return v.replace(Ht,"");if(!v||!(S=Tu(S)))return v;var te=Rl(v),Me=Fl(te,Rl(S));return Lc(te,Me).join("")}function EY(v,S){var F=xe,te=De;if(xn(S)){var Me="separator"in S?S.separator:Me;F="length"in S?Jr(S.length):F,te="omission"in S?Tu(S.omission):te}v=fi(v);var Ne=v.length;if(VA(v)){var ut=Rl(v);Ne=ut.length}if(F>=Ne)return v;var Ct=F-Ou(te);if(Ct<1)return te;var Tt=ut?Lc(ut,0,Ct).join(""):v.slice(0,Ct);if(Me===n)return Tt+te;if(ut&&(Ct+=Tt.length-Ct),du(Me)){if(v.slice(Ct).search(Me)){var _n,Cn=Tt;for(Me.global||(Me=wA(Me.source,fi(Lr.exec(Me))+"g")),Me.lastIndex=0;_n=Me.exec(Cn);)var Tn=_n.index;Tt=Tt.slice(0,Tn===n?Ct:Tn)}}else if(v.indexOf(Tu(Me),Ct)!=Ct){var fr=Tt.lastIndexOf(Me);fr>-1&&(Tt=Tt.slice(0,fr))}return Tt+te}function OY(v){return v=fi(v),v&&ce.test(v)?v.replace(tr,Tc):v}var BY=uf(function(v,S,F){return v+(F?" ":"")+S.toUpperCase()}),IM=lf("toUpperCase");function Tk(v,S,F){return v=fi(v),S=F?n:S,S===n?Jf(v)?cd(v):tm(v):v.match(S)||[]}var Pk=Qi(function(v,S){try{return ma(v,n,S)}catch(F){return rn(F)?F:new li(F)}}),IY=uc(function(v,S){return ru(S,function(F){F=La(F),$n(v,F,xg(v[F],v))}),v});function kY(v){var S=v==null?0:v.length,F=Xr();return v=S?ta(v,function(te){if(typeof te[1]!="function")throw new Po(a);return[F(te[0]),te[1]]}):[],Qi(function(te){for(var Me=-1;++Me<S;){var Ne=v[Me];if(ma(Ne[0],this,te))return ma(Ne[1],this,te)}})}function TY(v){return di(vr(v,E))}function kM(v){return function(){return v}}function PY(v,S){return v==null||v!==v?S:v}var KY=lm(),DY=lm(!0);function mc(v){return v}function TM(v){return rA(typeof v=="function"?v:vr(v,E))}function FY(v){return ef(vr(v,E))}function LY(v,S){return tf(v,vr(S,E))}var UY=Qi(function(v,S){return function(F){return sc(F,v,S)}}),RY=Qi(function(v,S){return function(F){return sc(v,F,S)}});function PM(v,S,F){var te=Il(S),Me=Wl(S,te);F==null&&!(xn(S)&&(Me.length||!te.length))&&(F=S,S=v,v=this,Me=Wl(S,Il(S)));var Ne=!(xn(F)&&"chain"in F)||!!F.chain,ut=Un(v);return ru(Me,function(Ct){var Tt=S[Ct];v[Ct]=Tt,ut&&(v.prototype[Ct]=function(){var _n=this.__chain__;if(Ne||_n){var Cn=v(this.__wrapped__),Tn=Cn.__actions__=Js(this.__actions__);return Tn.push({func:Tt,args:arguments,thisArg:v}),Cn.__chain__=_n,Cn}return Tt.apply(v,Gu([this.value()],arguments))})}),v}function zY(){return yr._===this&&(yr._=ya),this}function KM(){}function jY(v){return v=Jr(v),Qi(function(S){return rh(S,v)})}var WY=Am(ta),NY=Am(sd),GY=Am(Bc);function Kk(v){return B(v)?Zf(La(v)):x0(v)}function $Y(v){return function(S){return v==null?n:Ss(v,S)}}var QY=Ah(),YY=Ah(!0);function DM(){return[]}function FM(){return!1}function qY(){return{}}function HY(){return""}function VY(){return!0}function ZY(v,S){if(v=Jr(v),v<1||v>st)return[];var F=He,te=ua(v,He);S=Xr(S),v-=He;for(var Me=ko(te,S);++F<v;)S(F);return Me}function XY(v){return re(v)?ta(v,La):Vo(v)?[v]:Js(ba(fi(v)))}function JY(v){var S=++Gh;return fi(v)+S}var eq=uh(function(v,S){return v+S},0),tq=k0("ceil"),nq=uh(function(v,S){return v/S},1),rq=k0("floor");function iq(v){return v&&v.length?Rs(v,mc,na):n}function oq(v,S){return v&&v.length?Rs(v,Xr(S,2),na):n}function aq(v){return $u(v,mc)}function sq(v,S){return $u(v,Xr(S,2))}function lq(v){return v&&v.length?Rs(v,mc,iA):n}function uq(v,S){return v&&v.length?Rs(v,Xr(S,2),iA):n}var Aq=uh(function(v,S){return v*S},1),cq=k0("round"),dq=uh(function(v,S){return v-S},0);function hq(v){return v&&v.length?YA(v,mc):0}function fq(v,S){return v&&v.length?YA(v,Xr(S,2)):0}return Le.after=vf,Le.ary=bg,Le.assign=hc,Le.assignIn=fc,Le.assignInWith=lA,Le.assignWith=mh,Le.at=pc,Le.before=n_,Le.bind=xg,Le.bindAll=IY,Le.bindKey=wg,Le.castArray=c,Le.chain=Xv,Le.chunk=el,Le.compact=Bs,Le.concat=ds,Le.cond=kY,Le.conforms=TY,Le.constant=kM,Le.countBy=kx,Le.create=PA,Le.curry=jx,Le.curryRight=r_,Le.debounce=i_,Le.defaults=Du,Le.defaultsDeep=gh,Le.defer=CM,Le.delay=Wx,Le.difference=ca,Le.differenceBy=Is,Le.differenceWith=hh,Le.drop=Ac,Le.dropRight=js,Le.dropRightWhile=cc,Le.dropWhile=Ws,Le.fill=K0,Le.filter=Px,Le.flatMap=Dx,Le.flatMapDeep=yf,Le.flatMapDepth=Fx,Le.flatten=Ha,Le.flattenDeep=tl,Le.flattenDepth=fh,Le.flip=o_,Le.flow=KY,Le.flowRight=DY,Le.fromPairs=dc,Le.functions=$x,Le.functionsIn=xM,Le.groupBy=Lx,Le.initial=mm,Le.intersection=cg,Le.intersectionBy=dg,Le.intersectionWith=nM,Le.invert=MM,Le.invertBy=SM,Le.invokeMap=mM,Le.iteratee=TM,Le.keyBy=Ux,Le.keys=Il,Le.keysIn=Va,Le.map=ph,Le.mapKeys=Og,Le.mapValues=Qx,Le.matches=FY,Le.matchesProperty=LY,Le.memoize=_m,Le.merge=OM,Le.mergeWith=Yx,Le.method=UY,Le.methodOf=RY,Le.mixin=PM,Le.negate=L0,Le.nthArg=jY,Le.omit=BM,Le.omitBy=Gl,Le.once=U0,Le.orderBy=Rx,Le.over=WY,Le.overArgs=a_,Le.overEvery=NY,Le.overSome=GY,Le.partial=Mg,Le.partialRight=Sg,Le.partition=yg,Le.pick=KA,Le.pickBy=_f,Le.property=Kk,Le.propertyOf=$Y,Le.pull=px,Le.pullAll=hg,Le.pullAllBy=$v,Le.pullAllWith=iM,Le.pullAt=oM,Le.range=QY,Le.rangeRight=YY,Le.rearg=Eg,Le.reject=_g,Le.remove=mx,Le.rest=R0,Le.reverse=yp,Le.sampleSize=gM,Le.set=vp,Le.setWith=Ed,Le.shuffle=yM,Le.slice=Sd,Le.sortBy=vm,Le.sortedUniq=Yv,Le.sortedUniqBy=lM,Le.split=yY,Le.spread=s_,Le.tail=qv,Le.take=Hv,Le.takeRight=gm,Le.takeRightWhile=yx,Le.takeWhile=vx,Le.tap=Sx,Le.throttle=l_,Le.thru=ym,Le.toArray=El,Le.toPairs=Ok,Le.toPairsIn=Bk,Le.toPath=XY,Le.toPlainObject=Ol,Le.transform=VQ,Le.unary=u_,Le.union=Vv,Le.unionBy=_x,Le.unionWith=pg,Le.uniq=Cx,Le.uniqBy=uM,Le.uniqWith=AM,Le.unset=ZQ,Le.unzip=mg,Le.unzipWith=bx,Le.update=XQ,Le.updateWith=JQ,Le.values=Bg,Le.valuesIn=eY,Le.without=cM,Le.words=Tk,Le.wrap=bM,Le.xor=dM,Le.xorBy=hM,Le.xorWith=Zv,Le.zip=gf,Le.zipObject=xx,Le.zipObjectDeep=wx,Le.zipWith=Mx,Le.entries=Ok,Le.entriesIn=Bk,Le.extend=fc,Le.extendWith=lA,PM(Le,Le),Le.add=eq,Le.attempt=Pk,Le.camelCase=iY,Le.capitalize=Ik,Le.ceil=tq,Le.clamp=tY,Le.clone=l,Le.cloneDeep=y,Le.cloneDeepWith=M,Le.cloneWith=d,Le.conformsTo=T,Le.deburr=kk,Le.defaultTo=PY,Le.divide=nq,Le.endsWith=oY,Le.eq=P,Le.escape=aY,Le.escapeRegExp=sY,Le.every=Tx,Le.find=Kx,Le.findIndex=IA,Le.findKey=z0,Le.findLast=fM,Le.findLastIndex=zc,Le.findLastKey=Nx,Le.floor=rq,Le.forEach=e_,Le.forEachRight=t_,Le.forIn=A_,Le.forInRight=c_,Le.forOwn=yh,Le.forOwnRight=Gx,Le.get=d_,Le.gt=L,Le.gte=W,Le.has=wM,Le.hasIn=h_,Le.head=pm,Le.identity=mc,Le.includes=pM,Le.indexOf=D0,Le.inRange=nY,Le.invoke=EM,Le.isArguments=V,Le.isArray=re,Le.isArrayBuffer=Ae,Le.isArrayLike=_e,Le.isArrayLikeObject=Be,Le.isBoolean=Pe,Le.isBuffer=Ge,Le.isDate=Xe,Le.isElement=at,Le.isEmpty=It,Le.isEqual=ct,Le.isEqualWith=xt,Le.isError=rn,Le.isFinite=An,Le.isFunction=Un,Le.isInteger=Cr,Le.isLength=Hn,Le.isMap=sr,Le.isMatch=Rn,Le.isMatchWith=Sn,Le.isNaN=Fr,Le.isNative=wr,Le.isNil=da,Le.isNull=zi,Le.isNumber=ha,Le.isObject=xn,Le.isObjectLike=mn,Le.isPlainObject=Ua,Le.isRegExp=du,Le.isSafeInteger=hu,Le.isSet=hs,Le.isString=ks,Le.isSymbol=Vo,Le.isTypedArray=Gs,Le.isUndefined=fu,Le.isWeakMap=$s,Le.isWeakSet=Qs,Le.join=hx,Le.kebabCase=lY,Le.last=kA,Le.lastIndexOf=rM,Le.lowerCase=uY,Le.lowerFirst=AY,Le.lt=Nl,Le.lte=pu,Le.max=iq,Le.maxBy=oq,Le.mean=aq,Le.meanBy=sq,Le.min=lq,Le.minBy=uq,Le.stubArray=DM,Le.stubFalse=FM,Le.stubObject=qY,Le.stubString=HY,Le.stubTrue=VY,Le.multiply=Aq,Le.nth=fx,Le.noConflict=zY,Le.noop=KM,Le.now=Ns,Le.pad=cY,Le.padEnd=dY,Le.padStart=hY,Le.parseInt=fY,Le.random=rY,Le.reduce=zx,Le.reduceRight=vg,Le.repeat=pY,Le.replace=mY,Le.result=jc,Le.round=cq,Le.runInContext=Et,Le.sample=Cg,Le.size=vM,Le.snakeCase=gY,Le.some=_M,Le.sortedIndex=mf,Le.sortedIndexBy=gx,Le.sortedIndexOf=Qv,Le.sortedLastIndex=aM,Le.sortedLastIndexBy=sM,Le.sortedLastIndexOf=fg,Le.startCase=vY,Le.startsWith=_Y,Le.subtract=dq,Le.sum=hq,Le.sumBy=fq,Le.template=CY,Le.times=ZY,Le.toFinite=fs,Le.toInteger=Jr,Le.toLength=Ts,Le.toLower=bY,Le.toNumber=ii,Le.toSafeInteger=Bl,Le.toString=fi,Le.toUpper=xY,Le.trim=wY,Le.trimEnd=MY,Le.trimStart=SY,Le.truncate=EY,Le.unescape=OY,Le.uniqueId=JY,Le.upperCase=BY,Le.upperFirst=IM,Le.each=e_,Le.eachRight=t_,Le.first=pm,PM(Le,function(){var v={};return Ms(Le,function(S,F){Vi.call(Le.prototype,F)||(v[F]=S)}),v}(),{chain:!1}),Le.VERSION=r,ru(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){Le[v].placeholder=Le}),ru(["drop","take"],function(v,S){Yr.prototype[v]=function(F){F=F===n?1:ao(Jr(F),0);var te=this.__filtered__&&!S?new Yr(this):this.clone();return te.__filtered__?te.__takeCount__=ua(F,te.__takeCount__):te.__views__.push({size:ua(F,He),type:v+(te.__dir__<0?"Right":"")}),te},Yr.prototype[v+"Right"]=function(F){return this.reverse()[v](F).reverse()}}),ru(["filter","map","takeWhile"],function(v,S){var F=S+1,te=F==Qe||F==yt;Yr.prototype[v]=function(Me){var Ne=this.clone();return Ne.__iteratees__.push({iteratee:Xr(Me,3),type:F}),Ne.__filtered__=Ne.__filtered__||te,Ne}}),ru(["head","last"],function(v,S){var F="take"+(S?"Right":"");Yr.prototype[v]=function(){return this[F](1).value()[0]}}),ru(["initial","tail"],function(v,S){var F="drop"+(S?"":"Right");Yr.prototype[v]=function(){return this.__filtered__?new Yr(this):this[F](1)}}),Yr.prototype.compact=function(){return this.filter(mc)},Yr.prototype.find=function(v){return this.filter(v).head()},Yr.prototype.findLast=function(v){return this.reverse().find(v)},Yr.prototype.invokeMap=Qi(function(v,S){return typeof v=="function"?new Yr(this):this.map(function(F){return sc(F,v,S)})}),Yr.prototype.reject=function(v){return this.filter(L0(Xr(v)))},Yr.prototype.slice=function(v,S){v=Jr(v);var F=this;return F.__filtered__&&(v>0||S<0)?new Yr(F):(v<0?F=F.takeRight(-v):v&&(F=F.drop(v)),S!==n&&(S=Jr(S),F=S<0?F.dropRight(-S):F.take(S-v)),F)},Yr.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},Yr.prototype.toArray=function(){return this.take(He)},Ms(Yr.prototype,function(v,S){var F=/^(?:filter|find|map|reject)|While$/.test(S),te=/^(?:head|last)$/.test(S),Me=Le[te?"take"+(S=="last"?"Right":""):S],Ne=te||/^find/.test(S);Me&&(Le.prototype[S]=function(){var ut=this.__wrapped__,Ct=te?[1]:arguments,Tt=ut instanceof Yr,_n=Ct[0],Cn=Tt||re(ut),Tn=function(bo){var Ko=Me.apply(Le,Gu([bo],Ct));return te&&fr?Ko[0]:Ko};Cn&&F&&typeof _n=="function"&&_n.length!=1&&(Tt=Cn=!1);var fr=this.__chain__,Vr=!!this.__actions__.length,Ci=Ne&&!fr,lo=Tt&&!Vr;if(!Ne&&Cn){ut=lo?ut:new Yr(this);var bi=v.apply(ut,Ct);return bi.__actions__.push({func:ym,args:[Tn],thisArg:n}),new $i(bi,fr)}return Ci&&lo?v.apply(this,Ct):(bi=this.thru(Tn),Ci?te?bi.value()[0]:bi.value():bi)})}),ru(["pop","push","shift","sort","splice","unshift"],function(v){var S=MA[v],F=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",te=/^(?:pop|shift)$/.test(v);Le.prototype[v]=function(){var Me=arguments;if(te&&!this.__chain__){var Ne=this.value();return S.apply(re(Ne)?Ne:[],Me)}return this[F](function(ut){return S.apply(re(ut)?ut:[],Me)})}}),Ms(Yr.prototype,function(v,S){var F=Le[S];if(F){var te=F.name+"";Vi.call(Go,te)||(Go[te]=[]),Go[te].push({name:S,func:F})}}),Go[Af(n,H).name]=[{name:"wrapper",func:n}],Yr.prototype.clone=va,Yr.prototype.reverse=ic,Yr.prototype.value=fd,Le.prototype.at=gg,Le.prototype.chain=Ex,Le.prototype.commit=Jv,Le.prototype.next=Ox,Le.prototype.plant=F0,Le.prototype.reverse=Bx,Le.prototype.toJSON=Le.prototype.valueOf=Le.prototype.value=Ix,Le.prototype.first=Le.prototype.head,Vu&&(Le.prototype[Vu]=TA),Le},ou=Zd();Ii?((Ii.exports=ou)._=ou,kr._=ou):yr._=ou}).call(Dh)})(Z3,Z3.exports);var Y5=Z3.exports;const KE=Ba(Y5);function vX(e,t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}}function _X(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var CX=_X;const eT=Ba(CX);var bX=8,xX={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},wX={"*":{type:"source"}},MX=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],SX={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},EX={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},OX={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},BX={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},IX={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},kX={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},TX={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},PX=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],KX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},DX={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},FX={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},LX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},UX={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},RX={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jX={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},WX={type:"array",value:"*"},NX={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},GX={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},$X={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},QX={type:"array",value:"*",minimum:1},YX={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},qX={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},HX={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},VX=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],ZX={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},XX={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},JX={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},eJ={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},tJ={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},nJ={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},rJ={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},iJ={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},oJ={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},aJ={"*":{type:"string"}},Ea={$version:bX,$root:xX,sources:wX,source:MX,source_vector:SX,source_raster:EX,source_raster_dem:OX,source_geojson:BX,source_video:IX,source_image:kX,layer:TX,layout:PX,layout_background:KX,layout_fill:DX,layout_circle:FX,layout_heatmap:LX,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:UX,layout_symbol:RX,layout_raster:zX,layout_hillshade:jX,filter:WX,filter_operator:NX,geometry_type:GX,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:$X,expression:QX,light:YX,sky:qX,terrain:HX,paint:VX,paint_fill:ZX,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:XX,paint_circle:JX,paint_heatmap:eJ,paint_symbol:tJ,paint_raster:nJ,paint_hillshade:rJ,paint_background:iJ,transition:oJ,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:aJ};const sJ=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function lJ(e,t){const n={};for(const r in e)r!=="ref"&&(n[r]=e[r]);return sJ.forEach(r=>{r in t&&(n[r]=t[r])}),n}function uJ(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=lJ(e[n],t[e[n].ref]));return e}function Ra(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ra(e[n],t[n]))return!1;return!0}if(typeof e=="object"&&e!==null&&t!==null){if(typeof t!="object"||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Ra(e[r],t[r]))return!1;return!0}return e===t}function Td(e,t){e.push(t)}function AR(e,t,n){Td(n,{command:"addSource",args:[e,t[e]]})}function cR(e,t,n){Td(t,{command:"removeSource",args:[e]}),n[e]=!0}function AJ(e,t,n,r){cR(e,n,r),AR(e,t,n)}function cJ(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&r!=="data"&&!Ra(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&r!=="data"&&!Ra(e[n][r],t[n][r]))return!1;return!0}function dJ(e,t,n,r){e=e||{},t=t||{};let i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)||cR(i,n,r));for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?Ra(e[i],t[i])||(e[i].type==="geojson"&&t[i].type==="geojson"&&cJ(e,t,i)?Td(n,{command:"setGeoJSONSourceData",args:[i,t[i].data]}):AJ(i,t,n,r)):AR(i,t,n))}function c2(e,t,n,r,i,o){e=e||{},t=t||{};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(Ra(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}));for(const a in t)!Object.prototype.hasOwnProperty.call(t,a)||Object.prototype.hasOwnProperty.call(e,a)||Ra(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]})}function tT(e){return e.id}function nT(e,t){return e[t.id]=t,e}function hJ(e,t,n){e=e||[],t=t||[];const r=e.map(tT),i=t.map(tT),o=e.reduce(nT,{}),a=t.reduce(nT,{}),s=r.slice(),h=Object.create(null);let g,_,E,O,K;for(let D=0,Y=0;D<r.length;D++)g=r[D],Object.prototype.hasOwnProperty.call(a,g)?Y++:(Td(n,{command:"removeLayer",args:[g]}),s.splice(s.indexOf(g,Y),1));for(let D=0,Y=0;D<i.length;D++)g=i[i.length-1-D],s[s.length-1-D]!==g&&(Object.prototype.hasOwnProperty.call(o,g)?(Td(n,{command:"removeLayer",args:[g]}),s.splice(s.lastIndexOf(g,s.length-Y),1)):Y++,O=s[s.length-D],Td(n,{command:"addLayer",args:[a[g],O]}),s.splice(s.length-D,0,g),h[g]=!0);for(let D=0;D<i.length;D++)if(g=i[D],_=o[g],E=a[g],!(h[g]||Ra(_,E))){if(!Ra(_.source,E.source)||!Ra(_["source-layer"],E["source-layer"])||!Ra(_.type,E.type)){Td(n,{command:"removeLayer",args:[g]}),O=s[s.lastIndexOf(g)+1],Td(n,{command:"addLayer",args:[E,O]});continue}c2(_.layout,E.layout,n,g,null,"setLayoutProperty"),c2(_.paint,E.paint,n,g,null,"setPaintProperty"),Ra(_.filter,E.filter)||Td(n,{command:"setFilter",args:[g,E.filter]}),(!Ra(_.minzoom,E.minzoom)||!Ra(_.maxzoom,E.maxzoom))&&Td(n,{command:"setLayerZoomRange",args:[g,E.minzoom,E.maxzoom]});for(K in _)Object.prototype.hasOwnProperty.call(_,K)&&(K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?c2(_[K],E[K],n,g,K.slice(6),"setPaintProperty"):Ra(_[K],E[K])||Td(n,{command:"setLayerProperty",args:[g,K,E[K]]})));for(K in E)!Object.prototype.hasOwnProperty.call(E,K)||Object.prototype.hasOwnProperty.call(_,K)||K==="layout"||K==="paint"||K==="filter"||K==="metadata"||K==="minzoom"||K==="maxzoom"||(K.indexOf("paint.")===0?c2(_[K],E[K],n,g,K.slice(6),"setPaintProperty"):Ra(_[K],E[K])||Td(n,{command:"setLayerProperty",args:[g,K,E[K]]}))}}function fJ(e,t){if(!e)return[{command:"setStyle",args:[t]}];let n=[];try{if(!Ra(e.version,t.version))return[{command:"setStyle",args:[t]}];Ra(e.center,t.center)||n.push({command:"setCenter",args:[t.center]}),Ra(e.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),Ra(e.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),Ra(e.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),Ra(e.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),Ra(e.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),Ra(e.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),Ra(e.light,t.light)||n.push({command:"setLight",args:[t.light]}),Ra(e.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),Ra(e.sky,t.sky)||n.push({command:"setSky",args:[t.sky]});const r={},i=[];dJ(e.sources,t.sources,i,r);const o=[];e.layers&&e.layers.forEach(a=>{"source"in a&&r[a.source]?n.push({command:"removeLayer",args:[a.id]}):o.push(a)}),n=n.concat(i),hJ(o,t.layers,n)}catch(r){console.warn("Unable to compute style diff:",r),n=[{command:"setStyle",args:[t]}]}return n}class Xn{constructor(t,n,r,i){this.message=(t?`${t}: `:"")+r,i&&(this.identifier=i),n!=null&&n.__line__&&(this.line=n.__line__)}}function av(e,...t){for(const n of t)for(const r in n)e[r]=n[r];return e}class Tf extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}let pJ=class dR{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[r,i]of n)this.bindings[r]=i}concat(t){return new dR(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}};const q5={kind:"null"},nr={kind:"number"},yo={kind:"string"},Zi={kind:"boolean"},Uf={kind:"color"},Py={kind:"object"},Ji={kind:"value"},mJ={kind:"error"},H5={kind:"collator"},V5={kind:"formatted"},Z5={kind:"padding"},Sb={kind:"resolvedImage"},X5={kind:"variableAnchorOffsetCollection"};function qc(e,t){return{kind:"array",itemType:e,N:t}}function Ks(e){if(e.kind==="array"){const t=Ks(e.itemType);return typeof e.N=="number"?`array<${t}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${t}>`}else return e.kind}const gJ=[q5,nr,yo,Zi,Uf,V5,Py,qc(Ji),Z5,Sb,X5];function YC(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!YC(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(const n of gJ)if(!YC(n,t))return null}}return`Expected ${Ks(e)} but found ${Ks(t)} instead.`}function L7(e,t){return t.some(n=>n.kind===e.kind)}function qC(e,t){return t.some(n=>n==="null"?e===null:n==="array"?Array.isArray(e):n==="object"?e&&!Array.isArray(e)&&typeof e=="object":n===typeof e)}function b_(e,t){return e.kind==="array"&&t.kind==="array"?e.itemType.kind===t.itemType.kind&&typeof e.N=="number":e.kind===t.kind}const hR=.96422,fR=1,pR=.82521,mR=4/29,Ky=6/29,gR=3*Ky*Ky,yJ=Ky*Ky*Ky,vJ=Math.PI/180,_J=180/Math.PI;function yR(e){return e=e%360,e<0&&(e+=360),e}function vR([e,t,n,r]){e=dS(e),t=dS(t),n=dS(n);let i,o;const a=hS((.2225045*e+.7168786*t+.0606169*n)/fR);e===t&&t===n?i=o=a:(i=hS((.4360747*e+.3850649*t+.1430804*n)/hR),o=hS((.0139322*e+.0971045*t+.7141733*n)/pR));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),r]}function dS(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hS(e){return e>yJ?Math.pow(e,1/3):e/gR+mR}function _R([e,t,n,r]){let i=(e+16)/116,o=isNaN(t)?i:i+t/500,a=isNaN(n)?i:i-n/200;return i=fR*pS(i),o=hR*pS(o),a=pR*pS(a),[fS(3.1338561*o-1.6168667*i-.4906146*a),fS(-.9787684*o+1.9161415*i+.033454*a),fS(.0719453*o-.2289914*i+1.4052427*a),r]}function fS(e){return e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055,e<0?0:e>1?1:e}function pS(e){return e>Ky?e*e*e:gR*(e-mR)}function CJ(e){const[t,n,r,i]=vR(e),o=Math.sqrt(n*n+r*r);return[Math.round(o*1e4)?yR(Math.atan2(r,n)*_J):NaN,o,t,i]}function bJ([e,t,n,r]){return e=isNaN(e)?0:e*vJ,_R([n,Math.cos(e)*t,Math.sin(e)*t,r])}function xJ([e,t,n,r]){e=yR(e),t/=100,n/=100;function i(o){const a=(o+e/30)%12,s=t*Math.min(n,1-n);return n-s*Math.max(-1,Math.min(a-3,9-a,1))}return[i(0),i(8),i(4),r]}function wJ(e){if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];const t=MJ[e];if(t){const[i,o,a]=t;return[i/255,o/255,a/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const o=e.length<6?1:2;let a=1;return[d2(e.slice(a,a+=o)),d2(e.slice(a,a+=o)),d2(e.slice(a,a+=o)),d2(e.slice(a,a+o)||"ff")]}if(e.startsWith("rgb")){const i=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,o=e.match(i);if(o){const[a,s,h,g,_,E,O,K,D,Y,ee,H]=o,N=[g||" ",O||" ",Y].join("");if(N==="  "||N==="  /"||N===",,"||N===",,,"){const Z=[h,E,D].join(""),ue=Z==="%%%"?100:Z===""?255:0;if(ue){const ye=[Qg(+s/ue,0,1),Qg(+_/ue,0,1),Qg(+K/ue,0,1),ee?rT(+ee,H):1];if(iT(ye))return ye}}return}}const n=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,r=e.match(n);if(r){const[i,o,a,s,h,g,_,E,O]=r,K=[a||" ",h||" ",_].join("");if(K==="  "||K==="  /"||K===",,"||K===",,,"){const D=[+o,Qg(+s,0,100),Qg(+g,0,100),E?rT(+E,O):1];if(iT(D))return xJ(D)}}}function d2(e){return parseInt(e.padEnd(2,e),16)/255}function rT(e,t){return Qg(t?e/100:e,0,1)}function Qg(e,t,n){return Math.min(Math.max(t,e),n)}function iT(e){return!e.some(Number.isNaN)}const MJ={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};let Fs=class DE{constructor(t,n,r,i=1,o=!0){this.r=t,this.g=n,this.b=r,this.a=i,o||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[t,n,r,i]))}static parse(t){if(t instanceof DE)return t;if(typeof t!="string")return;const n=wJ(t);if(n)return new DE(...n,!1)}get rgb(){const{r:t,g:n,b:r,a:i}=this,o=i||1/0;return this.overwriteGetter("rgb",[t/o,n/o,r/o,i])}get hcl(){return this.overwriteGetter("hcl",CJ(this.rgb))}get lab(){return this.overwriteGetter("lab",vR(this.rgb))}overwriteGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}toString(){const[t,n,r,i]=this.rgb;return`rgba(${[t,n,r].map(o=>Math.round(o*255)).join(",")},${i})`}};Fs.black=new Fs(0,0,0,1);Fs.white=new Fs(1,1,1,1);Fs.transparent=new Fs(0,0,0,0);Fs.red=new Fs(1,0,0,1);let U7=class{constructor(t,n,r){t?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}},FE=class{constructor(t,n,r,i,o){this.text=t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o}},bv=class l3{constructor(t){this.sections=t}static fromString(t){return new l3([new FE(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof l3?t:l3.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}};class nd{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof nd)return t;if(typeof t=="number")return new nd([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const n of t)if(typeof n!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]];break}return new nd(t)}}toString(){return JSON.stringify(this.values)}}const SJ=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class zf{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof zf)return t;if(!(!Array.isArray(t)||t.length<1||t.length%2!==0)){for(let n=0;n<t.length;n+=2){const r=t[n],i=t[n+1];if(typeof r!="string"||!SJ.has(r)||!Array.isArray(i)||i.length!==2||typeof i[0]!="number"||typeof i[1]!="number")return}return new zf(t)}}toString(){return JSON.stringify(this.values)}}let $1=class CR{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new CR({name:t,available:!1}):null}};function bR(e,t,n,r){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function X3(e){if(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||e instanceof Fs||e instanceof U7||e instanceof bv||e instanceof nd||e instanceof zf||e instanceof $1)return!0;if(Array.isArray(e)){for(const t of e)if(!X3(t))return!1;return!0}else if(typeof e=="object"){for(const t in e)if(!X3(e[t]))return!1;return!0}else return!1}function Zl(e){if(e===null)return q5;if(typeof e=="string")return yo;if(typeof e=="boolean")return Zi;if(typeof e=="number")return nr;if(e instanceof Fs)return Uf;if(e instanceof U7)return H5;if(e instanceof bv)return V5;if(e instanceof nd)return Z5;if(e instanceof zf)return X5;if(e instanceof $1)return Sb;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const i=Zl(r);if(!n)n=i;else{if(n===i)continue;n=Ji;break}}return qc(n||Ji,t)}else return Py}function uC(e){const t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof Fs||e instanceof bv||e instanceof nd||e instanceof zf||e instanceof $1?e.toString():JSON.stringify(e)}let J3=class xR{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!X3(t[1]))return n.error("invalid value");const r=t[1];let i=Zl(r);const o=n.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new xR(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}},bl=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const h2={string:yo,number:nr,boolean:Zi,object:Py};let Lp=class wR{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let r=1,i;const o=t[0];if(o==="array"){let s;if(t.length>2){const g=t[1];if(typeof g!="string"||!(g in h2)||g==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);s=h2[g],r++}else s=Ji;let h;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);h=t[2],r++}i=qc(s,h)}else{if(!h2[o])throw new Error(`Types doesn't contain name = ${o}`);i=h2[o]}const a=[];for(;r<t.length;r++){const s=n.parse(t[r],r,Ji);if(!s)return null;a.push(s)}return new wR(i,a)}evaluate(t){for(let n=0;n<this.args.length;n++){const r=this.args[n].evaluate(t);if(YC(this.type,Zl(r))){if(n===this.args.length-1)throw new bl(`Expected value to be of type ${Ks(this.type)}, but found ${Ks(Zl(r))} instead.`)}else return r}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}};const oT={"to-boolean":Zi,"to-color":Uf,"to-number":nr,"to-string":yo};let py=class MR{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[0];if(!oT[r])throw new Error(`Can't parse ${r} as it is not part of the known types`);if((r==="to-boolean"||r==="to-string")&&t.length!==2)return n.error("Expected one argument.");const i=oT[r],o=[];for(let a=1;a<t.length;a++){const s=n.parse(t[a],a,Ji);if(!s)return null;o.push(s)}return new MR(i,o)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let n,r;for(const i of this.args){if(n=i.evaluate(t),r=null,n instanceof Fs)return n;if(typeof n=="string"){const o=t.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r=`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:r=bR(n[0],n[1],n[2],n[3]),!r))return new Fs(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new bl(r||`Could not parse color from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"padding":{let n;for(const r of this.args){n=r.evaluate(t);const i=nd.parse(n);if(i)return i}throw new bl(`Could not parse padding from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"variableAnchorOffsetCollection":{let n;for(const r of this.args){n=r.evaluate(t);const i=zf.parse(n);if(i)return i}throw new bl(`Could not parse variableAnchorOffsetCollection from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"number":{let n=null;for(const r of this.args){if(n=r.evaluate(t),n===null)return 0;const i=Number(n);if(!isNaN(i))return i}throw new bl(`Could not convert ${JSON.stringify(n)} to number.`)}case"formatted":return bv.fromString(uC(this.args[0].evaluate(t)));case"resolvedImage":return $1.fromString(uC(this.args[0].evaluate(t)));default:return uC(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}};const EJ=["Unknown","Point","LineString","Polygon"];let SR=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?EJ[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=Fs.parse(t)),n}},ER=class OR{constructor(t,n,r=[],i,o=new pJ,a=[]){this.registry=t,this.path=r,this.key=r.map(s=>`[${s}]`).join(""),this.scope=o,this.errors=a,this.expectedType=i,this._isConstant=n}parse(t,n,r,i,o={}){return n?this.concat(n,r,i)._parse(t,o):this._parse(t,o)}_parse(t,n){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function r(i,o,a){return a==="assert"?new Lp(o,[i]):a==="coerce"?new py(o,[i]):i}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(t,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,h=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&h.kind==="value")a=r(a,s,n.typeAnnotation||"assert");else if((s.kind==="color"||s.kind==="formatted"||s.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))a=r(a,s,n.typeAnnotation||"coerce");else if(s.kind==="padding"&&(h.kind==="value"||h.kind==="number"||h.kind==="array"))a=r(a,s,n.typeAnnotation||"coerce");else if(s.kind==="variableAnchorOffsetCollection"&&(h.kind==="value"||h.kind==="array"))a=r(a,s,n.typeAnnotation||"coerce");else if(this.checkSubtype(s,h))return null}if(!(a instanceof J3)&&a.type.kind!=="resolvedImage"&&this._isConstant(a)){const s=new SR;try{a=new J3(a.type,a.evaluate(s))}catch(h){return this.error(h.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,n,r){const i=typeof t=="number"?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new OR(this.registry,this._isConstant,i,n||null,o,this.errors)}error(t,...n){const r=`${this.key}${n.map(i=>`[${i}]`).join("")}`;this.errors.push(new Tf(r,t))}checkSubtype(t,n){const r=YC(t,n);return r&&this.error(r),r}},BR=class IR{constructor(t,n,r){this.type=H5,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const r=t[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");const i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Zi);if(!i)return null;const o=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Zi);if(!o)return null;let a=null;return r.locale&&(a=n.parse(r.locale,1,yo),!a)?null:new IR(i,o,a)}evaluate(t){return new U7(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}};const r0=8192;function R7(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function OJ(e){return(180+e)/360}function BJ(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function e4(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function IJ(e,t){const n=OJ(e[0]),r=BJ(e[1]),i=Math.pow(2,t.z);return[Math.round(n*i*r0),Math.round(r*i*r0)]}function kJ(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i===0&&r*o<=0&&i*a<=0}function TJ(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function z7(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const o=t[r];for(let a=0,s=o.length;a<s-1;a++){if(kJ(e,o[a],o[a+1]))return!1;TJ(e,o[a],o[a+1])&&(n=!n)}}return n}function PJ(e,t){for(let n=0;n<t.length;n++)if(z7(e,t[n]))return!0;return!1}function KJ(e,t){return e[0]*t[1]-e[1]*t[0]}function aT(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],h=r[0]-n[0],g=r[1]-n[1],_=i*g-h*o,E=a*g-h*s;return _>0&&E<0||_<0&&E>0}function DJ(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return KJ(o,i)===0?!1:!!(aT(e,t,n,r)&&aT(n,r,e,t))}function FJ(e,t,n){for(const r of n)for(let i=0;i<r.length-1;++i)if(DJ(e,t,r[i],r[i+1]))return!0;return!1}function kR(e,t){for(let n=0;n<e.length;++n)if(!z7(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(FJ(e[n],e[n+1],t))return!1;return!0}function LJ(e,t){for(let n=0;n<t.length;n++)if(kR(e,t[n]))return!0;return!1}function j7(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let a=0;a<e[i].length;a++){const s=IJ(e[i][a],n);R7(t,s),o.push(s)}r.push(o)}return r}function TR(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=j7(e[i],t,n);r.push(o)}return r}function PR(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const i=r*.5;let o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;o===0&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}R7(t,e)}function UJ(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function sT(e,t,n,r){const i=Math.pow(2,r.z)*r0,o=[r.x*r0,r.y*r0],a=[];for(const s of e)for(const h of s){const g=[h.x+o[0],h.y+o[1]];PR(g,t,n,i),a.push(g)}return a}function lT(e,t,n,r){const i=Math.pow(2,r.z)*r0,o=[r.x*r0,r.y*r0],a=[];for(const s of e){const h=[];for(const g of s){const _=[g.x+o[0],g.y+o[1]];R7(t,_),h.push(_)}a.push(h)}if(t[2]-t[0]<=i/2){UJ(t);for(const s of a)for(const h of s)PR(h,t,n,i)}return a}function RJ(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type==="Polygon"){const o=j7(t.coordinates,r,i),a=sT(e.geometry(),n,r,i);if(!e4(n,r))return!1;for(const s of a)if(!z7(s,o))return!1}if(t.type==="MultiPolygon"){const o=TR(t.coordinates,r,i),a=sT(e.geometry(),n,r,i);if(!e4(n,r))return!1;for(const s of a)if(!PJ(s,o))return!1}return!0}function zJ(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type==="Polygon"){const o=j7(t.coordinates,r,i),a=lT(e.geometry(),n,r,i);if(!e4(n,r))return!1;for(const s of a)if(!kR(s,o))return!1}if(t.type==="MultiPolygon"){const o=TR(t.coordinates,r,i),a=lT(e.geometry(),n,r,i);if(!e4(n,r))return!1;for(const s of a)if(!LJ(s,o))return!1}return!0}let W7=class u3{constructor(t,n){this.type=Zi,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(X3(t[1])){const r=t[1];if(r.type==="FeatureCollection"){const i=[];for(const o of r.features){const{type:a,coordinates:s}=o.geometry;a==="Polygon"&&i.push(s),a==="MultiPolygon"&&i.push(...s)}if(i.length){const o={type:"MultiPolygon",coordinates:i};return new u3(r,o)}}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new u3(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new u3(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return RJ(t,this.geometries);if(t.geometryType()==="LineString")return zJ(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}},KR=class DR{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const r=t[1];return n.scope.has(r)?new DR(r,n.scope.get(r)):n.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}},xv=class N_{constructor(t,n,r,i){this.name=t,this.type=n,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,n){const r=t[0],i=N_.definitions[r];if(!i)return n.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([g])=>!Array.isArray(g)||g.length===t.length-1);let h=null;for(const[g,_]of s){h=new ER(n.registry,t4,n.path,null,n.scope);const E=[];let O=!1;for(let K=1;K<t.length;K++){const D=t[K],Y=Array.isArray(g)?g[K-1]:g.type,ee=h.parse(D,1+E.length,Y);if(!ee){O=!0;break}E.push(ee)}if(!O){if(Array.isArray(g)&&g.length!==E.length){h.error(`Expected ${g.length} arguments, but found ${E.length} instead.`);continue}for(let K=0;K<E.length;K++){const D=Array.isArray(g)?g[K]:g.type,Y=E[K];h.concat(K+1).checkSubtype(D,Y.type)}if(h.errors.length===0)return new N_(r,o,_,E)}}if(s.length===1)n.errors.push(...h.errors);else{const _=(s.length?s:a).map(([O])=>jJ(O)).join(" | "),E=[];for(let O=1;O<t.length;O++){const K=n.parse(t[O],1+E.length);if(!K)return null;E.push(Ks(K.type))}n.error(`Expected arguments of type ${_}, but found (${E.join(", ")}) instead.`)}return null}static register(t,n){N_.definitions=n;for(const r in n)t[r]=N_}};function jJ(e){return Array.isArray(e)?`(${e.map(Ks).join(", ")})`:`(${Ks(e.type)}...)`}function t4(e){if(e instanceof KR)return t4(e.boundExpression);if(e instanceof xv&&e.name==="error")return!1;if(e instanceof BR)return!1;if(e instanceof W7)return!1;const t=e instanceof py||e instanceof Lp;let n=!0;return e.eachChild(r=>{t?n=n&&t4(r):n=n&&r instanceof J3}),n?J5(e)&&ew(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function J5(e){if(e instanceof xv){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof W7)return!1;let t=!0;return e.eachChild(n=>{t&&!J5(n)&&(t=!1)}),t}function HC(e){if(e instanceof xv&&e.name==="feature-state")return!1;let t=!0;return e.eachChild(n=>{t&&!HC(n)&&(t=!1)}),t}function ew(e,t){if(e instanceof xv&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(r=>{n&&!ew(r,t)&&(n=!1)}),n}function tw(e,t){const n=e.length-1;let r=0,i=n,o=0,a,s;for(;r<=i;)if(o=Math.floor((r+i)/2),a=e[o],s=e[o+1],a<=t){if(o===n||t<s)return o;r=o+1}else if(a>t)i=o-1;else throw new bl("Input is not a number.");return 0}let FR=class LR{constructor(t,n,r){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");const r=n.parse(t[1],1,nr);if(!r)return null;const i=[];let o=null;n.expectedType&&n.expectedType.kind!=="value"&&(o=n.expectedType);for(let a=1;a<t.length;a+=2){const s=a===1?-1/0:t[a],h=t[a+1],g=a,_=a+1;if(typeof s!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const E=n.parse(h,_,o);if(!E)return null;o=o||E.type,i.push([s,E])}return new LR(o,r,i)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=tw(n,i);return r[a].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}};function WJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var NJ=UR;function UR(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}UR.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n=n-i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var GJ=WJ(NJ);function $J(e){return e==="rgb"||e==="hcl"||e==="lab"}function _1(e,t,n){return e+n*(t-e)}function QJ(e,t,n,r="rgb"){switch(r){case"rgb":{const[i,o,a,s]=n4(e.rgb,t.rgb,n);return new Fs(i,o,a,s,!1)}case"hcl":{const[i,o,a,s]=e.hcl,[h,g,_,E]=t.hcl;let O,K;if(!isNaN(i)&&!isNaN(h)){let N=h-i;h>i&&N>180?N-=360:h<i&&i-h>180&&(N+=360),O=i+n*N}else isNaN(i)?isNaN(h)?O=NaN:(O=h,(a===1||a===0)&&(K=g)):(O=i,(_===1||_===0)&&(K=o));const[D,Y,ee,H]=bJ([O,K??_1(o,g,n),_1(a,_,n),_1(s,E,n)]);return new Fs(D,Y,ee,H,!1)}case"lab":{const[i,o,a,s]=_R(n4(e.lab,t.lab,n));return new Fs(i,o,a,s,!1)}}}function n4(e,t,n){return e.map((r,i)=>_1(r,t[i],n))}function YJ(e,t,n){return new nd(n4(e.values,t.values,n))}function qJ(e,t,n){const r=e.values,i=t.values;if(r.length!==i.length)throw new bl(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let a=0;a<r.length;a+=2){if(r[a]!==i[a])throw new bl(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${i[a]}`);o.push(r[a]);const[s,h]=r[a+1],[g,_]=i[a+1];o.push([_1(s,g,n),_1(h,_,n)])}return new zf(o)}const A3={number:_1,color:QJ,array:n4,padding:YJ,variableAnchorOffsetCollection:qJ};let Np=class LE{constructor(t,n,r,i,o){this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(t,n,r,i){let o=0;if(t.name==="exponential")o=mS(n,t.base,r,i);else if(t.name==="linear")o=mS(n,1,r,i);else if(t.name==="cubic-bezier"){const a=t.controlPoints;o=new GJ(a[0],a[1],a[2],a[3]).solve(mS(n,1,r,i))}return o}static parse(t,n){let[r,i,o,...a]=t;if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(_=>typeof _!="number"||_<0||_>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return n.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(o=n.parse(o,2,nr),!o)return null;const s=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=Uf:n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);for(let g=0;g<a.length;g+=2){const _=a[g],E=a[g+1],O=g+3,K=g+4;if(typeof _!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(s.length&&s[s.length-1][0]>=_)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',O);const D=n.parse(E,K,h);if(!D)return null;h=h||D.type,s.push([_,D])}return!b_(h,nr)&&!b_(h,Uf)&&!b_(h,Z5)&&!b_(h,X5)&&!b_(h,qc(nr))?n.error(`Type ${Ks(h)} is not interpolatable.`):new LE(h,r,i,o,s)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=tw(n,i),s=n[a],h=n[a+1],g=LE.interpolationFactor(this.interpolation,i,s,h),_=r[a].evaluate(t),E=r[a+1].evaluate(t);switch(this.operator){case"interpolate":return A3[this.type.kind](_,E,g);case"interpolate-hcl":return A3.color(_,E,g,"hcl");case"interpolate-lab":return A3.color(_,E,g,"lab")}}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}};function mS(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let RR=class UE{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let r=null;const i=n.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const s of t.slice(1)){const h=n.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}if(!r)throw new Error("No output type");return i&&o.some(s=>YC(i,s.type))?new UE(Ji,o):new UE(r,o)}evaluate(t){let n=null,r=0,i;for(const o of this.args)if(r++,n=o.evaluate(t),n&&n instanceof $1&&!n.available&&(i||(i=n.name),n=null,r===this.args.length&&(n=i)),n!==null)break;return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}},zR=class jR{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let o=1;o<t.length-1;o+=2){const a=t[o];if(typeof a!="string")return n.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=n.parse(t[o+1],o+1);if(!s)return null;r.push([a,s])}const i=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return i?new jR(r,i):null}outputDefined(){return this.result.outputDefined()}},HJ=class WR{constructor(t,n,r){this.type=t,this.index=n,this.input=r}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,nr),i=n.parse(t[2],2,qc(n.expectedType||Ji));if(!r||!i)return null;const o=i.type;return new WR(o.itemType,r,i)}evaluate(t){const n=this.index.evaluate(t),r=this.input.evaluate(t);if(n<0)throw new bl(`Array index out of bounds: ${n} < 0.`);if(n>=r.length)throw new bl(`Array index out of bounds: ${n} > ${r.length-1}.`);if(n!==Math.floor(n))throw new bl(`Array index must be an integer, but found ${n} instead.`);return r[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}},VJ=class NR{constructor(t,n){this.type=Zi,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,Ji),i=n.parse(t[2],2,Ji);return!r||!i?null:L7(r.type,[Zi,yo,nr,q5,Ji])?new NR(r,i):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!r)return!1;if(!qC(n,["boolean","string","number","null"]))throw new bl(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(Zl(n))} instead.`);if(!qC(r,["string","array"]))throw new bl(`Expected second argument to be of type array or string, but found ${Ks(Zl(r))} instead.`);return r.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}},ZJ=class RE{constructor(t,n,r){this.type=nr,this.needle=t,this.haystack=n,this.fromIndex=r}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,Ji),i=n.parse(t[2],2,Ji);if(!r||!i)return null;if(!L7(r.type,[Zi,yo,nr,q5,Ji]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,nr);return o?new RE(r,i,o):null}else return new RE(r,i)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!qC(n,["boolean","string","number","null"]))throw new bl(`Expected first argument to be of type boolean, string, number or null, but found ${Ks(Zl(n))} instead.`);if(!qC(r,["string","array"]))throw new bl(`Expected second argument to be of type array or string, but found ${Ks(Zl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(n,i)}return r.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}},XJ=class GR{constructor(t,n,r,i,o,a){this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return n.error("Expected an even number of arguments.");let r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);const o={},a=[];for(let g=2;g<t.length-1;g+=2){let _=t[g];const E=t[g+1];Array.isArray(_)||(_=[_]);const O=n.concat(g);if(_.length===0)return O.error("Expected at least one branch label.");for(const D of _){if(typeof D!="number"&&typeof D!="string")return O.error("Branch labels must be numbers or strings.");if(typeof D=="number"&&Math.abs(D)>Number.MAX_SAFE_INTEGER)return O.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof D=="number"&&Math.floor(D)!==D)return O.error("Numeric branch labels must be integer values.");if(!r)r=Zl(D);else if(O.checkSubtype(r,Zl(D)))return null;if(typeof o[String(D)]<"u")return O.error("Branch labels must be unique.");o[String(D)]=a.length}const K=n.parse(E,g,i);if(!K)return null;i=i||K.type,a.push(K)}const s=n.parse(t[1],1,Ji);if(!s)return null;const h=n.parse(t[t.length-1],t.length-1,i);return!h||s.type.kind!=="value"&&n.concat(1).checkSubtype(r,s.type)?null:new GR(r,i,s,o,a,h)}evaluate(t){const n=this.input.evaluate(t);return(Zl(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}},JJ=class $R{constructor(t,n,r){this.type=t,this.branches=n,this.otherwise=r}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return n.error("Expected an odd number of arguments.");let r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);const i=[];for(let a=1;a<t.length-1;a+=2){const s=n.parse(t[a],a,Zi);if(!s)return null;const h=n.parse(t[a+1],a+1,r);if(!h)return null;i.push([s,h]),r=r||h.type}const o=n.parse(t[t.length-1],t.length-1,r);if(!o)return null;if(!r)throw new Error("Can't infer output type");return new $R(r,i,o)}evaluate(t){for(const[n,r]of this.branches)if(n.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,r]of this.branches)t(n),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}},eee=class zE{constructor(t,n,r,i){this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,Ji),i=n.parse(t[2],2,nr);if(!r||!i)return null;if(!L7(r.type,[qc(Ji),yo,Ji]))return n.error(`Expected first argument to be of type array or string, but found ${Ks(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,nr);return o?new zE(r.type,r,i,o):null}else return new zE(r.type,r,i)}evaluate(t){const n=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!qC(n,["string","array"]))throw new bl(`Expected first argument to be of type array or string, but found ${Ks(Zl(n))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return n.slice(r,i)}return n.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}};function uT(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function tee(e,t,n){return t===n}function nee(e,t,n){return t!==n}function ree(e,t,n){return t<n}function iee(e,t,n){return t>n}function oee(e,t,n){return t<=n}function aee(e,t,n){return t>=n}function QR(e,t,n,r){return r.compare(t,n)===0}function see(e,t,n,r){return!QR(e,t,n,r)}function lee(e,t,n,r){return r.compare(t,n)<0}function uee(e,t,n,r){return r.compare(t,n)>0}function Aee(e,t,n,r){return r.compare(t,n)<=0}function cee(e,t,n,r){return r.compare(t,n)>=0}function wv(e,t,n){const r=e!=="=="&&e!=="!=";return class YR{constructor(o,a,s){this.type=Zi,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let h=a.parse(o[1],1,Ji);if(!h)return null;if(!uT(s,h.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Ks(h.type)}'.`);let g=a.parse(o[2],2,Ji);if(!g)return null;if(!uT(s,g.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Ks(g.type)}'.`);if(h.type.kind!==g.type.kind&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error(`Cannot compare types '${Ks(h.type)}' and '${Ks(g.type)}'.`);r&&(h.type.kind==="value"&&g.type.kind!=="value"?h=new Lp(g.type,[h]):h.type.kind!=="value"&&g.type.kind==="value"&&(g=new Lp(h.type,[g])));let _=null;if(o.length===4){if(h.type.kind!=="string"&&g.type.kind!=="string"&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(_=a.parse(o[3],3,H5),!_)return null}return new YR(h,g,_)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=Zl(a),g=Zl(s);if(h.kind!==g.kind||!(h.kind==="string"||h.kind==="number"))throw new bl(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=Zl(a),g=Zl(s);if(h.kind!=="string"||g.kind!=="string")return t(o,a,s)}return this.collator?n(o,a,s,this.collator.evaluate(o)):t(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}}}const dee=wv("==",tee,QR),hee=wv("!=",nee,see),fee=wv("<",ree,lee),pee=wv(">",iee,uee),mee=wv("<=",oee,Aee),gee=wv(">=",aee,cee);let yee=class qR{constructor(t,n,r,i,o){this.type=yo,this.number=t,this.locale=n,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const r=n.parse(t[1],1,nr);if(!r)return null;const i=t[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=n.parse(i.locale,1,yo),!o))return null;let a=null;if(i.currency&&(a=n.parse(i.currency,1,yo),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=n.parse(i["min-fraction-digits"],1,nr),!s))return null;let h=null;return i["max-fraction-digits"]&&(h=n.parse(i["max-fraction-digits"],1,nr),!h)?null:new qR(r,o,a,s,h)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}},vee=class HR{constructor(t){this.type=V5,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=t.length-1;++a){const s=t[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let h=null;if(s["font-scale"]&&(h=n.parse(s["font-scale"],1,nr),!h))return null;let g=null;if(s["text-font"]&&(g=n.parse(s["text-font"],1,qc(yo)),!g))return null;let _=null;if(s["text-color"]&&(_=n.parse(s["text-color"],1,Uf),!_))return null;const E=i[i.length-1];E.scale=h,E.font=g,E.textColor=_}else{const h=n.parse(t[a],1,Ji);if(!h)return null;const g=h.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new HR(i)}evaluate(t){const n=r=>{const i=r.content.evaluate(t);return Zl(i)===Sb?new FE("",i,null,null,null):new FE(uC(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)};return new bv(this.sections.map(n))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}},_ee=class VR{constructor(t){this.type=Sb,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const r=n.parse(t[1],1,yo);return r?new VR(r):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),r=$1.fromString(n);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(n)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}},Cee=class ZR{constructor(t){this.type=nr,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=n.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${Ks(r.type)} instead.`):new ZR(r):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new bl(`Expected value to be of type string or array, but found ${Ks(Zl(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}};const N7={"==":dee,"!=":hee,">":pee,"<":fee,">=":gee,"<=":mee,array:Lp,at:HJ,boolean:Lp,case:JJ,coalesce:RR,collator:BR,format:vee,image:_ee,in:VJ,"index-of":ZJ,interpolate:Np,"interpolate-hcl":Np,"interpolate-lab":Np,length:Cee,let:zR,literal:J3,match:XJ,number:Lp,"number-format":yee,object:Lp,slice:eee,step:FR,string:Lp,"to-boolean":py,"to-color":py,"to-number":py,"to-string":py,var:KR,within:W7};function AT(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=bR(t,n,r,o);if(a)throw new bl(a);return new Fs(t/255,n/255,r/255,o,!1)}function cT(e,t){return e in t}function gS(e,t){const n=t[e];return typeof n>"u"?null:n}function bee(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function j0(e){return{type:e}}xv.register(N7,{error:[mJ,[yo],(e,[t])=>{throw new bl(t.evaluate(e))}],typeof:[yo,[Ji],(e,[t])=>Ks(Zl(t.evaluate(e)))],"to-rgba":[qc(nr,4),[Uf],(e,[t])=>{const[n,r,i,o]=t.evaluate(e).rgb;return[n*255,r*255,i*255,o]}],rgb:[Uf,[nr,nr,nr],AT],rgba:[Uf,[nr,nr,nr,nr],AT],has:{type:Zi,overloads:[[[yo],(e,[t])=>cT(t.evaluate(e),e.properties())],[[yo,Py],(e,[t,n])=>cT(t.evaluate(e),n.evaluate(e))]]},get:{type:Ji,overloads:[[[yo],(e,[t])=>gS(t.evaluate(e),e.properties())],[[yo,Py],(e,[t,n])=>gS(t.evaluate(e),n.evaluate(e))]]},"feature-state":[Ji,[yo],(e,[t])=>gS(t.evaluate(e),e.featureState||{})],properties:[Py,[],e=>e.properties()],"geometry-type":[yo,[],e=>e.geometryType()],id:[Ji,[],e=>e.id()],zoom:[nr,[],e=>e.globals.zoom],"heatmap-density":[nr,[],e=>e.globals.heatmapDensity||0],"line-progress":[nr,[],e=>e.globals.lineProgress||0],accumulated:[Ji,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[nr,j0(nr),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[nr,j0(nr),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:nr,overloads:[[[nr,nr],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[nr],(e,[t])=>-t.evaluate(e)]]},"/":[nr,[nr,nr],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[nr,[nr,nr],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[nr,[],()=>Math.LN2],pi:[nr,[],()=>Math.PI],e:[nr,[],()=>Math.E],"^":[nr,[nr,nr],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[nr,[nr],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[nr,[nr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[nr,[nr],(e,[t])=>Math.log(t.evaluate(e))],log2:[nr,[nr],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[nr,[nr],(e,[t])=>Math.sin(t.evaluate(e))],cos:[nr,[nr],(e,[t])=>Math.cos(t.evaluate(e))],tan:[nr,[nr],(e,[t])=>Math.tan(t.evaluate(e))],asin:[nr,[nr],(e,[t])=>Math.asin(t.evaluate(e))],acos:[nr,[nr],(e,[t])=>Math.acos(t.evaluate(e))],atan:[nr,[nr],(e,[t])=>Math.atan(t.evaluate(e))],min:[nr,j0(nr),(e,t)=>Math.min(...t.map(n=>n.evaluate(e)))],max:[nr,j0(nr),(e,t)=>Math.max(...t.map(n=>n.evaluate(e)))],abs:[nr,[nr],(e,[t])=>Math.abs(t.evaluate(e))],round:[nr,[nr],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[nr,[nr],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[nr,[nr],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Zi,[yo,Ji],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Zi,[Ji],(e,[t])=>e.id()===t.value],"filter-type-==":[Zi,[yo],(e,[t])=>e.geometryType()===t.value],"filter-<":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[Zi,[yo,Ji],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Zi,[Ji],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[Zi,[Ji],(e,[t])=>t.value in e.properties()],"filter-has-id":[Zi,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Zi,[qc(yo)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Zi,[qc(Ji)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Zi,[yo,qc(Ji)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Zi,[yo,qc(Ji)],(e,[t,n])=>bee(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Zi,overloads:[[[Zi,Zi],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[j0(Zi),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Zi,overloads:[[[Zi,Zi],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[j0(Zi),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Zi,[Zi],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Zi,[yo],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return n?n(t.evaluate(e)):!0}],upcase:[yo,[yo],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[yo,[yo],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[yo,j0(Ji),(e,t)=>t.map(n=>uC(n.evaluate(e))).join("")],"resolved-locale":[yo,[H5],(e,[t])=>t.evaluate(e).resolvedLocale()]});function jE(e){return{result:"success",value:e}}function Yg(e){return{result:"error",value:e}}function r4(e){return e["property-type"]==="data-driven"||e["property-type"]==="cross-faded-data-driven"}function XR(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function G7(e){return!!e.expression&&e.expression.interpolated}function zo(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function Eb(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function xee(e){return e}function $7(e,t){const n=t.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,a=e.type||(G7(t)?"exponential":"interval");if(n||t.type==="padding"){const _=n?Fs.parse:nd.parse;e=av({},e),e.stops&&(e.stops=e.stops.map(E=>[E[0],_(E[1])])),e.default?e.default=_(e.default):e.default=_(t.default)}if(e.colorSpace&&!$J(e.colorSpace))throw new Error(`Unknown color space: "${e.colorSpace}"`);let s,h,g;if(a==="exponential")s=dT;else if(a==="interval")s=Mee;else if(a==="categorical"){s=wee,h=Object.create(null);for(const _ of e.stops)h[_[0]]=_[1];g=typeof e.stops[0][0]}else if(a==="identity")s=See;else throw new Error(`Unknown function type "${a}"`);if(r){const _={},E=[];for(let D=0;D<e.stops.length;D++){const Y=e.stops[D],ee=Y[0].zoom;_[ee]===void 0&&(_[ee]={zoom:ee,type:e.type,property:e.property,default:e.default,stops:[]},E.push(ee)),_[ee].stops.push([Y[0].value,Y[1]])}const O=[];for(const D of E)O.push([_[D].zoom,$7(_[D],t)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:Np.interpolationFactor.bind(void 0,K),zoomStops:O.map(D=>D[0]),evaluate({zoom:D},Y){return dT({stops:O,base:e.base},t,D).evaluate(D,Y)}}}else if(o){const _=a==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:Np.interpolationFactor.bind(void 0,_),zoomStops:e.stops.map(E=>E[0]),evaluate:({zoom:E})=>s(e,t,E,h,g)}}else return{kind:"source",evaluate(_,E){const O=E&&E.properties?E.properties[e.property]:void 0;return O===void 0?Ob(e.default,t.default):s(e,t,O,h,g)}}}function Ob(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function wee(e,t,n,r,i){const o=typeof n===i?r[n]:void 0;return Ob(o,e.default,t.default)}function Mee(e,t,n){if(zo(n)!=="number")return Ob(e.default,t.default);const r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=tw(e.stops.map(o=>o[0]),n);return e.stops[i][1]}function dT(e,t,n){const r=e.base!==void 0?e.base:1;if(zo(n)!=="number")return Ob(e.default,t.default);const i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=tw(e.stops.map(_=>_[0]),n),a=Eee(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],h=e.stops[o+1][1],g=A3[t.type]||xee;return typeof s.evaluate=="function"?{evaluate(..._){const E=s.evaluate.apply(void 0,_),O=h.evaluate.apply(void 0,_);if(!(E===void 0||O===void 0))return g(E,O,a,e.colorSpace)}}:g(s,h,a,e.colorSpace)}function See(e,t,n){switch(t.type){case"color":n=Fs.parse(n);break;case"formatted":n=bv.fromString(n.toString());break;case"resolvedImage":n=$1.fromString(n.toString());break;case"padding":n=nd.parse(n);break;default:zo(n)!==t.type&&(t.type!=="enum"||!t.values[n])&&(n=void 0)}return Ob(n,e.default,t.default)}function Eee(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}let JR=class{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new SR,this._defaultValue=n?kee(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}evaluate(t,n,r,i,o,a){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null;try{const s=this.expression.evaluate(this._evaluator);if(s==null||typeof s=="number"&&s!==s)return this._defaultValue;if(this._enumValues&&!(s in this._enumValues))throw new bl(`Expected value to be one of ${Object.keys(this._enumValues).map(h=>JSON.stringify(h)).join(", ")}, but found ${JSON.stringify(s)} instead.`);return s}catch(s){return this._warningHistory[s.message]||(this._warningHistory[s.message]=!0,typeof console<"u"&&console.warn(s.message)),this._defaultValue}}};function Bb(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in N7}function Q7(e,t){const n=new ER(N7,t4,[],t?Iee(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?jE(new JR(r,t)):Yg(n.errors)}let WE=class{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!HC(n.expression)}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}},NE=class{constructor(t,n,r,i){this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!HC(n.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}interpolationFactor(t,n,r){return this.interpolationType?Np.interpolationFactor(this.interpolationType,t,n,r):0}};function Oee(e){return e._styleExpression!==void 0}function Y7(e,t){const n=Q7(e,t);if(n.result==="error")return n;const r=n.value.expression,i=J5(r);if(!i&&!r4(t))return Yg([new Tf("","data expressions not supported")]);const o=ew(r,["zoom"]);if(!o&&!XR(t))return Yg([new Tf("","zoom expressions not supported")]);const a=c3(r);if(!a&&!o)return Yg([new Tf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Tf)return Yg([a]);if(a instanceof Np&&!G7(t))return Yg([new Tf("",'"interpolate" expressions cannot be used with this property')]);if(!a)return jE(i?new WE("constant",n.value):new WE("source",n.value));const s=a instanceof Np?a.interpolation:void 0;return jE(i?new NE("camera",n.value,a.labels,s):new NE("composite",n.value,a.labels,s))}let ez=class tz{constructor(t,n){this._parameters=t,this._specification=n,av(this,$7(this._parameters,this._specification))}static deserialize(t){return new tz(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}};function Bee(e,t){if(Eb(e))return new ez(e,t);if(Bb(e)){const n=Y7(e,t);if(n.result==="error")throw new Error(n.value.map(r=>`${r.key}: ${r.message}`).join(", "));return n.value}else{let n=e;return t.type==="color"&&typeof e=="string"?n=Fs.parse(e):t.type==="padding"&&(typeof e=="number"||Array.isArray(e))?n=nd.parse(e):t.type==="variableAnchorOffsetCollection"&&Array.isArray(e)&&(n=zf.parse(e)),{kind:"constant",evaluate:()=>n}}}function c3(e){let t=null;if(e instanceof zR)t=c3(e.result);else if(e instanceof RR){for(const n of e.args)if(t=c3(n),t)break}else(e instanceof FR||e instanceof Np)&&e.input instanceof xv&&e.input.name==="zoom"&&(t=e);return t instanceof Tf||e.eachChild(n=>{const r=c3(n);r instanceof Tf?t=r:!t&&r?t=new Tf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new Tf("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Iee(e){const t={color:Uf,string:yo,number:nr,enum:yo,boolean:Zi,formatted:V5,padding:Z5,resolvedImage:Sb,variableAnchorOffsetCollection:X5};return e.type==="array"?qc(t[e.value]||Ji,e.length):t[e.type]}function kee(e){return e.type==="color"&&Eb(e.default)?new Fs(0,0,0,0):e.type==="color"?Fs.parse(e.default)||null:e.type==="padding"?nd.parse(e.default)||null:e.type==="variableAnchorOffsetCollection"?zf.parse(e.default)||null:e.default===void 0?null:e.default}function nw(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!nw(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function AC(e,t={}){if(nw(e))return e;if(!e)return!0;const n=e,r=n[0];if(e.length<=1)return r!=="any";switch(r){case"==":case"!=":case"<":case">":case"<=":case">=":{const[,i,o]=e;return Pee(i,o,r,t)}case"any":{const[,...i]=n;return["any",...i.map(a=>{const s={},h=AC(a,s),g=Tee(s);return g===!0?h:["case",g,h,!1]})]}case"all":{const[,...i]=n,o=i.map(a=>AC(a,t));return o.length>1?["all",...o]:o[0]}case"none":{const[,...i]=n;return["!",AC(["any",...i],{})]}case"in":{const[,i,...o]=n;return hT(i,o)}case"!in":{const[,i,...o]=n;return hT(i,o,!0)}case"has":return fT(n[1]);case"!has":return["!",fT(n[1])];default:return!0}}function Tee(e){const t=[];for(const n in e){const r=n==="$id"?["id"]:["get",n];t.push(["==",["typeof",r],e[n]])}return t.length===0?!0:t.length===1?t[0]:["all",...t]}function Pee(e,t,n,r){let i;if(e==="$type")return[n,["geometry-type"],t];if(e==="$id"?i=["id"]:i=["get",e],r&&t!==null){const o=typeof t;r[e]=o}return n==="=="&&e!=="$id"&&t===null?["all",["has",e],["==",i,null]]:n==="!="&&e!=="$id"&&t===null?["any",["!",["has",e]],["!=",i,null]]:[n,i,t]}function hT(e,t,n=!1){if(t.length===0)return n;let r;e==="$type"?r=["geometry-type"]:e==="$id"?r=["id"]:r=["get",e];let i=!0;const o=typeof t[0];for(const a of t)if(typeof a!==o){i=!1;break}if(i&&(o==="string"||o==="number")){const a=t.sort().filter((s,h)=>h===0||t[h-1]!==s);return["match",r,a,!n,n]}return n?["all",...t.map(a=>["!=",r,a])]:["any",...t.map(a=>["==",r,a])]}function fT(e){return e==="$type"?!0:e==="$id"?["!=",["id"],null]:["has",e]}function VC(e){return typeof e=="object"?["literal",e]:e}function nz(e,t){let n=e.stops;if(!n)return Kee(e,t);const r=n&&typeof n[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return n=n.map(a=>!i&&t.tokens&&typeof a[1]=="string"?[a[0],rz(a[1])]:[a[0],VC(a[1])]),r?Dee(e,t,n):o?Lee(e,t,n):GE(e,t,n)}function Kee(e,t){const n=["get",e.property];if(e.default===void 0)return t.type==="string"?["string",n]:n;if(t.type==="enum")return["match",n,Object.keys(t.values),n,e.default];{const r=[t.type==="color"?"to-color":t.type,n,VC(e.default)];return t.type==="array"&&r.splice(1,0,t.value,t.length||null),r}}function q7(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Dee(e,t,n){const r={},i={},o=[];for(let s=0;s<n.length;s++){const h=n[s],g=h[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([h[0].value,h[1]])}if(V7({},t)==="exponential"){const s=[q7(e),["linear"],["zoom"]];for(const h of o){const g=GE(r[h],t,i[h]);Dy(s,h,g,!1)}return s}else{const s=["step",["zoom"]];for(const h of o){const g=GE(r[h],t,i[h]);Dy(s,h,g,!0)}return H7(s),s}}function Fee(e,t){if(e!==void 0)return e;if(t!==void 0)return t}function pT(e,t){const n=VC(Fee(e.default,t.default));return n===void 0&&t.type==="resolvedImage"?"":n}function GE(e,t,n){const r=V7(e,t),i=["get",e.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){const o=["case"];for(const a of n)o.push(["==",i,a[0]],a[1]);return o.push(pT(e,t)),o}else if(r==="categorical"){const o=["match",i];for(const a of n)Dy(o,a[0],a[1],!1);return o.push(pT(e,t)),o}else if(r==="interval"){const o=["step",["number",i]];for(const a of n)Dy(o,a[0],a[1],!0);return H7(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,VC(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,a=[q7(e),o===1?["linear"]:["exponential",o],["number",i]];for(const s of n)Dy(a,s[0],s[1],!1);return e.default===void 0?a:["case",["==",["typeof",i],"number"],a,VC(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function Lee(e,t,n,r=["zoom"]){const i=V7(e,t);let o,a=!1;if(i==="interval")o=["step",r],a=!0;else if(i==="exponential"){const s=e.base!==void 0?e.base:1;o=[q7(e),s===1?["linear"]:["exponential",s],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of n)Dy(o,s[0],s[1],a);return H7(o),o}function H7(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function Dy(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&e.length===2||e.push(t),e.push(n))}function V7(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function rz(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);i!==null;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(t.length===1)return e;if(r<e.length)t.push(e.slice(r));else if(t.length===2)return["to-string",t[1]];return t}function Uee(e){for(let t=0;t<Ea.layout.length;t++)for(const n in Ea[Ea.layout[t]])if(n===e)return Ea[Ea.layout[t]][n];for(let t=0;t<Ea.paint.length;t++)for(const n in Ea[Ea.paint[t]])if(n===e)return Ea[Ea.paint[t]][n];return null}function Ree(e,t){for(const n in e.sources)t(e.sources[n])}function cC(e,t){for(const n of e.layers)t(n)}function Z7(e,t,n){function r(i,o){const a=i[o];a&&Object.keys(a).forEach(s=>{n({path:[i.id,o,s],key:s,value:a[s],reference:Uee(s),set(h){a[s]=h}})})}cC(e,i=>{t.paint&&r(i,"paint"),t.layout&&r(i,"layout")})}function iz(e){const t=e.key,n=e.value;return n?[new Xn(t,n,"constants have been deprecated as of v8")]:[]}function al(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function P1(e){if(Array.isArray(e))return e.map(P1);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=P1(e[n]);return t}return al(e)}function Ld(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=e.validateSpec;let h=[];const g=zo(n);if(g!=="object")return[new Xn(t,n,`object expected, ${g} found`)];for(const _ in n){const E=_.split(".")[0],O=r[E]||r["*"];let K;if(i[E])K=i[E];else if(r[E])K=s;else if(i["*"])K=i["*"];else if(r["*"])K=s;else{h.push(new Xn(t,n[_],`unknown property "${_}"`));continue}h=h.concat(K({key:(t&&`${t}.`)+_,value:n[_],valueSpec:O,style:o,styleSpec:a,object:n,objectKey:_,validateSpec:s},n))}for(const _ in r)i[_]||r[_].required&&r[_].default===void 0&&n[_]===void 0&&h.push(new Xn(t,n,`missing required property "${_}"`));return h}function X7(e){const t=e.value,n=e.valueSpec,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.key,s=e.arrayElementValidator||r;if(zo(t)!=="array")return[new Xn(a,t,`array expected, ${zo(t)} found`)];if(n.length&&t.length!==n.length)return[new Xn(a,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Xn(a,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let h={type:n.value,values:n.values};o.$version<7&&(h.function=n.function),zo(n.value)==="object"&&(h=n.value);let g=[];for(let _=0;_<t.length;_++)g=g.concat(s({array:t,arrayIndex:_,value:t[_],valueSpec:h,validateSpec:e.validateSpec,style:i,styleSpec:o,key:`${a}[${_}]`}));return g}function J7(e){const t=e.key,n=e.value,r=e.valueSpec;let i=zo(n);return i==="number"&&n!==n&&(i="NaN"),i!=="number"?[new Xn(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new Xn(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new Xn(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function oz(e){const t=e.valueSpec,n=al(e.value.type);let r,i={},o,a;const s=n!=="categorical"&&e.value.property===void 0,h=!s,g=zo(e.value.stops)==="array"&&zo(e.value.stops[0])==="array"&&zo(e.value.stops[0][0])==="object",_=Ld({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:E,default:D}});return n==="identity"&&s&&_.push(new Xn(e.key,e.value,'missing required property "property"')),n!=="identity"&&!e.value.stops&&_.push(new Xn(e.key,e.value,'missing required property "stops"')),n==="exponential"&&e.valueSpec.expression&&!G7(e.valueSpec)&&_.push(new Xn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(h&&!r4(e.valueSpec)?_.push(new Xn(e.key,e.value,"property functions not supported")):s&&!XR(e.valueSpec)&&_.push(new Xn(e.key,e.value,"zoom functions not supported"))),(n==="categorical"||g)&&e.value.property===void 0&&_.push(new Xn(e.key,e.value,'"property" property is required')),_;function E(Y){if(n==="identity")return[new Xn(Y.key,Y.value,'identity function may not have a "stops" property')];let ee=[];const H=Y.value;return ee=ee.concat(X7({key:Y.key,value:H,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:O})),zo(H)==="array"&&H.length===0&&ee.push(new Xn(Y.key,H,"array must have at least one stop")),ee}function O(Y){let ee=[];const H=Y.value,N=Y.key;if(zo(H)!=="array")return[new Xn(N,H,`array expected, ${zo(H)} found`)];if(H.length!==2)return[new Xn(N,H,`array length 2 expected, length ${H.length} found`)];if(g){if(zo(H[0])!=="object")return[new Xn(N,H,`object expected, ${zo(H[0])} found`)];if(H[0].zoom===void 0)return[new Xn(N,H,"object stop key must have zoom")];if(H[0].value===void 0)return[new Xn(N,H,"object stop key must have value")];if(a&&a>al(H[0].zoom))return[new Xn(N,H[0].zoom,"stop zoom values must appear in ascending order")];al(H[0].zoom)!==a&&(a=al(H[0].zoom),o=void 0,i={}),ee=ee.concat(Ld({key:`${N}[0]`,value:H[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:J7,value:K}}))}else ee=ee.concat(K({key:`${N}[0]`,value:H[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},H));return Bb(P1(H[1]))?ee.concat([new Xn(`${N}[1]`,H[1],"expressions are not allowed in function stops.")]):ee.concat(Y.validateSpec({key:`${N}[1]`,value:H[1],valueSpec:t,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function K(Y,ee){const H=zo(Y.value),N=al(Y.value),Z=Y.value!==null?Y.value:ee;if(!r)r=H;else if(H!==r)return[new Xn(Y.key,Z,`${H} stop domain type must match previous stop domain type ${r}`)];if(H!=="number"&&H!=="string"&&H!=="boolean")return[new Xn(Y.key,Z,"stop domain value must be a number, string, or boolean")];if(H!=="number"&&n!=="categorical"){let ue=`number expected, ${H} found`;return r4(t)&&n===void 0&&(ue+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xn(Y.key,Z,ue)]}return n==="categorical"&&H==="number"&&(!isFinite(N)||Math.floor(N)!==N)?[new Xn(Y.key,Z,`integer expected, found ${N}`)]:n!=="categorical"&&H==="number"&&o!==void 0&&N<o?[new Xn(Y.key,Z,"stop domain values must appear in ascending order")]:(o=N,n==="categorical"&&N in i?[new Xn(Y.key,Z,"stop domain values must be unique")]:(i[N]=!0,[]))}function D(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:t,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}function sv(e){const t=(e.expressionContext==="property"?Y7:Q7)(P1(e.value),e.valueSpec);if(t.result==="error")return t.value.map(r=>new Xn(`${e.key}${r.key}`,e.value,r.message));const n=t.value.expression||t.value._styleExpression.expression;if(e.expressionContext==="property"&&e.propertyKey==="text-font"&&!n.outputDefined())return[new Xn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if(e.expressionContext==="property"&&e.propertyType==="layout"&&!HC(n))return[new Xn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if(e.expressionContext==="filter"&&!HC(n))return[new Xn(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&e.expressionContext.indexOf("cluster")===0){if(!ew(n,["zoom","feature-state"]))return[new Xn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(e.expressionContext==="cluster-initial"&&!J5(n))return[new Xn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function zee(e){const t=e.value,n=e.key,r=zo(t);return r!=="boolean"?[new Xn(n,t,`boolean expected, ${r} found`)]:[]}function jee(e){const t=e.key,n=e.value,r=zo(n);return r!=="string"?[new Xn(t,n,`color expected, ${r} found`)]:Fs.parse(String(n))?[]:[new Xn(t,n,`color expected, "${n}" found`)]}function ZC(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(al(n))===-1&&i.push(new Xn(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):Object.keys(r.values).indexOf(al(n))===-1&&i.push(new Xn(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function e8(e){return nw(P1(e.value))?sv(av({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):az(e)}function az(e){const t=e.value,n=e.key;if(zo(t)!=="array")return[new Xn(n,t,`array expected, ${zo(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new Xn(n,t,"filter array must have at least 1 element")];switch(o=o.concat(ZC({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),al(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&al(t[1])==="$type"&&o.push(new Xn(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&o.push(new Xn(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=zo(t[1]),i!=="string"&&o.push(new Xn(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let a=2;a<t.length;a++)i=zo(t[a]),al(t[1])==="$type"?o=o.concat(ZC({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):i!=="string"&&i!=="number"&&i!=="boolean"&&o.push(new Xn(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let a=1;a<t.length;a++)o=o.concat(az({key:`${n}[${a}]`,value:t[a],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=zo(t[1]),t.length!==2?o.push(new Xn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):i!=="string"&&o.push(new Xn(`${n}[1]`,t[1],`string expected, ${i} found`));break;case"within":i=zo(t[1]),t.length!==2?o.push(new Xn(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):i!=="object"&&o.push(new Xn(`${n}[1]`,t[1],`object expected, ${i} found`));break}return o}function sz(e,t){const n=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,h=o[`${t}_${e.layerType}`];if(!h)return[];const g=s.match(/^(.*)-transition$/);if(t==="paint"&&g&&h[g[1]]&&h[g[1]].transition)return r({key:n,value:a,valueSpec:o.transition,style:i,styleSpec:o});const _=e.valueSpec||h[s];if(!_)return[new Xn(n,a,`unknown property "${s}"`)];let E;if(zo(a)==="string"&&r4(_)&&!_.tokens&&(E=/^{([^}]+)}$/.exec(a)))return[new Xn(n,a,`"${s}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(E[1])} }\`.`)];const O=[];return e.layerType==="symbol"&&(s==="text-field"&&i&&!i.glyphs&&O.push(new Xn(n,a,'use of "text-field" requires a style "glyphs" property')),s==="text-font"&&Eb(P1(a))&&al(a.type)==="identity"&&O.push(new Xn(n,a,'"text-font" does not support identity functions'))),O.concat(r({key:e.key,value:a,valueSpec:_,style:i,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:s}))}function lz(e){return sz(e,"paint")}function uz(e){return sz(e,"layout")}function Az(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;!n.type&&!n.ref&&t.push(new Xn(r,n,'either "type" or "ref" is required'));let a=al(n.type);const s=al(n.ref);if(n.id){const h=al(n.id);for(let g=0;g<e.arrayIndex;g++){const _=i.layers[g];al(_.id)===h&&t.push(new Xn(r,n.id,`duplicate layer id "${n.id}", previously used at line ${_.id.__line__}`))}}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(g=>{g in n&&t.push(new Xn(r,n[g],`"${g}" is prohibited for ref layers`))});let h;i.layers.forEach(g=>{al(g.id)===s&&(h=g)}),h?h.ref?t.push(new Xn(r,n.ref,"ref cannot reference another ref layer")):a=al(h.type):t.push(new Xn(r,n.ref,`ref layer "${s}" not found`))}else if(a!=="background")if(!n.source)t.push(new Xn(r,n,'missing required property "source"'));else{const h=i.sources&&i.sources[n.source],g=h&&al(h.type);h?g==="vector"&&a==="raster"?t.push(new Xn(r,n.source,`layer "${n.id}" requires a raster source`)):g!=="raster-dem"&&a==="hillshade"?t.push(new Xn(r,n.source,`layer "${n.id}" requires a raster-dem source`)):g==="raster"&&a!=="raster"?t.push(new Xn(r,n.source,`layer "${n.id}" requires a vector source`)):g==="vector"&&!n["source-layer"]?t.push(new Xn(r,n,`layer "${n.id}" must specify a "source-layer"`)):g==="raster-dem"&&a!=="hillshade"?t.push(new Xn(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):a==="line"&&n.paint&&n.paint["line-gradient"]&&(g!=="geojson"||!h.lineMetrics)&&t.push(new Xn(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Xn(r,n.source,`source "${n.source}" not found`))}return t=t.concat(Ld({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*"(){return[]},type(){return e.validateSpec({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"})},filter:e8,layout(h){return Ld({layer:n,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(g){return uz(av({layerType:a},g))}}})},paint(h){return Ld({layer:n,key:h.key,value:h.value,style:h.style,styleSpec:h.styleSpec,validateSpec:h.validateSpec,objectElementValidators:{"*"(g){return lz(av({layerType:a},g))}}})}}})),t}function K1(e){const t=e.value,n=e.key,r=zo(t);return r!=="string"?[new Xn(n,t,`string expected, ${r} found`)]:[]}function Wee(e){var t;const n=(t=e.sourceName)!==null&&t!==void 0?t:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,a=e.style;let s=[];const h=zo(r);if(r===void 0)return s;if(h!=="object")return s.push(new Xn("source_raster_dem",r,`object expected, ${h} found`)),s;const _=al(r.encoding)==="custom",E=["redFactor","greenFactor","blueFactor","baseShift"],O=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const K in r)!_&&E.includes(K)?s.push(new Xn(K,r[K],`In "${n}": "${K}" is only valid when "encoding" is set to "custom". ${O} encoding found`)):o[K]?s=s.concat(e.validateSpec({key:K,value:r[K],valueSpec:o[K],validateSpec:e.validateSpec,style:a,styleSpec:i})):s.push(new Xn(K,r[K],`unknown property "${K}"`));return s}const mT={promoteId:Nee};function cz(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!t.type)return[new Xn(n,t,'"type" is required')];const a=al(t.type);let s;switch(a){case"vector":case"raster":return s=Ld({key:n,value:t,valueSpec:r[`source_${a.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:mT,validateSpec:o}),s;case"raster-dem":return s=Wee({sourceName:n,value:t,style:e.style,styleSpec:r,validateSpec:o}),s;case"geojson":if(s=Ld({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:mT}),t.cluster)for(const h in t.clusterProperties){const[g,_]=t.clusterProperties[h],E=typeof g=="string"?[g,["accumulated"],["get",h]]:g;s.push(...sv({key:`${n}.${h}.map`,value:_,validateSpec:o,expressionContext:"cluster-map"})),s.push(...sv({key:`${n}.${h}.reduce`,value:E,validateSpec:o,expressionContext:"cluster-reduce"}))}return s;case"video":return Ld({key:n,value:t,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return Ld({key:n,value:t,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Xn(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ZC({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:o,styleSpec:r})}}function Nee({key:e,value:t}){if(zo(t)==="string")return K1({key:e,value:t});{const n=[];for(const r in t)n.push(...K1({key:`${e}.${r}`,value:t[r]}));return n}}function dz(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=zo(t);if(t===void 0)return o;if(a!=="object")return o=o.concat([new Xn("light",t,`object expected, ${a} found`)]),o;for(const s in t){const h=s.match(/^(.*)-transition$/);h&&r[h[1]]&&r[h[1]].transition?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:i,styleSpec:n})):r[s]?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o=o.concat([new Xn(s,t[s],`unknown property "${s}"`)])}return o}function hz(e){const t=e.value,n=e.styleSpec,r=n.sky,i=e.style,o=zo(t);if(t===void 0)return[];if(o!=="object")return[new Xn("sky",t,`object expected, ${o} found`)];let a=[];for(const s in t)r[s]?a=a.concat(Fy({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n})):a=a.concat([new Xn(s,t[s],`unknown property "${s}"`)]);return a}function fz(e){const t=e.value,n=e.styleSpec,r=n.terrain,i=e.style;let o=[];const a=zo(t);if(t===void 0)return o;if(a!=="object")return o=o.concat([new Xn("terrain",t,`object expected, ${a} found`)]),o;for(const s in t)r[s]?o=o.concat(e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n})):o=o.concat([new Xn(s,t[s],`unknown property "${s}"`)]);return o}function Gee(e){return K1(e).length===0?[]:sv(e)}function $ee(e){return K1(e).length===0?[]:sv(e)}function Qee(e){const t=e.key,n=e.value;if(zo(n)==="array"){if(n.length<1||n.length>4)return[new Xn(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const i={type:"number"};let o=[];for(let a=0;a<n.length;a++)o=o.concat(e.validateSpec({key:`${t}[${a}]`,value:n[a],validateSpec:e.validateSpec,valueSpec:i}));return o}else return J7({key:t,value:n,valueSpec:{}})}function Yee(e){const t=e.key,n=e.value,r=zo(n),i=e.styleSpec;if(r!=="array"||n.length<1||n.length%2!==0)return[new Xn(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let a=0;a<n.length;a+=2)o=o.concat(ZC({key:`${t}[${a}]`,value:n[a],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(X7({key:`${t}[${a+1}]`,value:n[a+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o}function pz(e){let t=[];const n=e.value,r=e.key;if(Array.isArray(n)){const i=[],o=[];for(const a in n){n[a].id&&i.includes(n[a].id)&&t.push(new Xn(r,n,`all the sprites' ids must be unique, but ${n[a].id} is duplicated`)),i.push(n[a].id),n[a].url&&o.includes(n[a].url)&&t.push(new Xn(r,n,`all the sprites' URLs must be unique, but ${n[a].url} is duplicated`)),o.push(n[a].url);const s={id:{type:"string",required:!0},url:{type:"string",required:!0}};t=t.concat(Ld({key:`${r}[${a}]`,value:n[a],valueSpec:s,validateSpec:e.validateSpec}))}return t}else return K1({key:r,value:n})}const gT={"*"(){return[]},array:X7,boolean:zee,number:J7,color:jee,constants:iz,enum:ZC,filter:e8,function:oz,layer:Az,object:Ld,source:cz,light:dz,sky:hz,terrain:fz,string:K1,formatted:Gee,resolvedImage:$ee,padding:Qee,variableAnchorOffsetCollection:Yee,sprite:pz};function Fy(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return e.validateSpec=Fy,n.expression&&Eb(al(t))?oz(e):n.expression&&Bb(P1(t))?sv(e):n.type&&gT[n.type]?gT[n.type](e):Ld(av({},e,{valueSpec:n.type?r[n.type]:n}))}function mz(e){const t=e.value,n=e.key,r=K1(e);return r.length||(t.indexOf("{fontstack}")===-1&&r.push(new Xn(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&r.push(new Xn(n,t,'"glyphs" url must include a "{range}" token'))),r}function Qd(e,t=Ea){let n=[];return n=n.concat(Fy({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:Fy,objectElementValidators:{glyphs:mz,"*"(){return[]}}})),e.constants&&(n=n.concat(iz({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:Fy}))),gz(n)}Qd.source=qf(Yf(cz));Qd.sprite=qf(Yf(pz));Qd.glyphs=qf(Yf(mz));Qd.light=qf(Yf(dz));Qd.sky=qf(Yf(hz));Qd.terrain=qf(Yf(fz));Qd.layer=qf(Yf(Az));Qd.filter=qf(Yf(e8));Qd.paintProperty=qf(Yf(lz));Qd.layoutProperty=qf(Yf(uz));function Yf(e){return function(t){return e({...t,validateSpec:Fy})}}function gz(e){return[].concat(e).sort((t,n)=>t.line-n.line)}function qf(e){return function(...t){return gz(e.apply(this,t))}}const qee=/("(?:[^\\"]|\\.)*")|[:,]/g;function Hee(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,h){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const g=JSON.stringify(a,i);if(g===void 0)return g;const _=r-s.length-h;if(g.length<=_){const E=g.replace(qee,(O,K)=>K||`${O} `);if(E.length<=_)return E}if(i!=null&&(a=JSON.parse(g),i=void 0),typeof a=="object"&&a!==null){const E=s+n,O=[];let K=0,D,Y;if(Array.isArray(a)){D="[",Y="]";const{length:ee}=a;for(;K<ee;K++)O.push(o(a[K],E,K===ee-1?0:1)||"null")}else{D="{",Y="}";const ee=Object.keys(a),{length:H}=ee;for(;K<H;K++){const N=ee[K],Z=`${JSON.stringify(N)}: `,ue=o(a[N],E,Z.length+(K===H-1?0:1));ue!==void 0&&O.push(Z+ue)}}if(O.length>0)return[D,n+O.join(`,
${E}`),Y].join(`
${s}`)}return g}(e,"",0)}function yT(e,t){const n={};for(const r in t)e[r]!==void 0&&(n[r]=e[r]);for(const r in e)n[r]===void 0&&(n[r]=e[r]);return n}function yz(e,t=2){return e=yT(e,Ea.$root),e.layers&&(e.layers=e.layers.map(n=>yT(n,Ea.layer))),Hee(e,{indent:t})}function yS(e,t){for(const n in e)n.indexOf("layout")===0&&t(e[n],n)}function vT(e,t){for(const n in e)n.indexOf("paint")===0&&t(e[n],n)}function $E(e,t){return typeof t=="string"&&t[0]==="@"?$E(e,e.constants[t]):t}function Vee(e){return Array.isArray(e.stops)}function x_(e,t,n){e[n]=e[t],delete e[t]}function Zee(e){e.version=8,Ree(e,i=>{i.type==="video"&&i.url!==void 0&&x_(i,"url","urls"),i.type==="video"&&i.coordinates.forEach(o=>o.reverse())}),cC(e,i=>{yS(i,o=>{o["symbol-min-distance"]!==void 0&&x_(o,"symbol-min-distance","symbol-spacing")}),vT(i,o=>{o["background-image"]!==void 0&&x_(o,"background-image","background-pattern"),o["line-image"]!==void 0&&x_(o,"line-image","line-pattern"),o["fill-image"]!==void 0&&x_(o,"fill-image","fill-pattern")})}),Z7(e,{paint:!0,layout:!0},i=>{const o=$E(e,i.value);Vee(o)&&o.stops.forEach(a=>{a[1]=$E(e,a[1])}),i.set(o)}),delete e.constants,cC(e,i=>{yS(i,o=>{delete o["text-max-size"],delete o["icon-max-size"]}),vT(i,o=>{o["text-size"]&&(i.layout||(i.layout={}),i.layout["text-size"]=o["text-size"],delete o["text-size"]),o["icon-size"]&&(i.layout||(i.layout={}),i.layout["icon-size"]=o["icon-size"],delete o["icon-size"])})});function t(i){function o(a){return a.split(",").map(s=>s.trim())}if(Array.isArray(i))return i;if(typeof i=="string")return o(i);if(typeof i=="object")return i.stops.forEach(a=>{a[1]=o(a[1])}),i;throw new Error("unexpected font value")}cC(e,i=>{yS(i,o=>{o["text-font"]&&(o["text-font"]=t(o["text-font"]))})});let n=0;for(let i=e.layers.length-1;i>=0;i--)if(e.layers[i].type!=="symbol"){n=i+1;break}const r=e.layers.splice(n);return r.reverse(),e.layers=e.layers.concat(r),e}function Xee(e){const t=[];return cC(e,n=>{n.filter&&(n.filter=AC(n.filter))}),Z7(e,{paint:!0,layout:!0},({path:n,value:r,reference:i,set:o})=>{Bb(r)||(typeof r=="object"&&!Array.isArray(r)?(o(nz(r,i)),t.push(n.join("."))):i.tokens&&typeof r=="string"&&o(rz(r)))}),e}function Jee(e){return JSON.parse(ete(JSON.stringify(e)))}function ete(e){return e.replace(/"hsla?\((.+?)\)"/gi,(t,n)=>{const r=n.match(/^(.+?)\s*,\s*(.+?)\s*,\s*(.+?)(?:\s*,\s*(.+))?$/i);if(r){let[i,o,a,s]=r.slice(1);return[o,a]=[o,a].map(h=>h.endsWith("%")?h:`${parseFloat(h)*100}%`),`"hsl${typeof s=="string"?"a":""}(${[i,o,a,s].filter(Boolean).join(",")})"`}return t})}function tte(e){let t=!1;if(e.version===7&&(e=Zee(e),t=!0),e.version===8&&(t=!!Xee(e),t=!0),Z7(e,{paint:!0,layout:!0},({value:n,reference:r,set:i})=>{r.type==="color"&&i(Jee(n))}),!t)throw new Error(`Cannot migrate from ${e.version}`);return e}const nte={StyleExpression:JR,StylePropertyFunction:ez,ZoomConstantExpression:WE,ZoomDependentExpression:NE,createExpression:Q7,createPropertyExpression:Y7,isExpression:Bb,isExpressionFilter:nw,isZoomExpression:Oee,normalizePropertyExpression:Bee},rte={convertFunction:nz,createFunction:$7,isFunction:Eb};var vz={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.1.2/LICENSE.txt
 */(function(e,t){(function(n,r){e.exports=r()})(Dh,function(){var n={},r={};function i(a,s,h){if(r[a]=h,a==="index"){var g="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",_={};return r.shared(_),r.index(n,_),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))),n}}i("shared",["exports"],function(a){function s(c,l,d,y){return new(d||(d=Promise))(function(M,T){function P(V){try{W(y.next(V))}catch(re){T(re)}}function L(V){try{W(y.throw(V))}catch(re){T(re)}}function W(V){var re;V.done?M(V.value):(re=V.value,re instanceof d?re:new d(function(Ae){Ae(re)})).then(P,L)}W((y=y.apply(c,l||[])).next())})}function h(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var g=_;function _(c,l){this.x=c,this.y=l}_.prototype={clone:function(){return new _(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,d=c.y-this.y;return l*l+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),d=Math.sin(c),y=d*this.x+l*this.y;return this.x=l*this.x-d*this.y,this.y=y,this},_rotateAround:function(c,l){var d=Math.cos(c),y=Math.sin(c),M=l.y+y*(this.x-l.x)+d*(this.y-l.y);return this.x=l.x+d*(this.x-l.x)-y*(this.y-l.y),this.y=M,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},_.convert=function(c){return c instanceof _?c:Array.isArray(c)?new _(c[0],c[1]):c};var E=h(g),O=K;function K(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}K.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var M=this.sampleCurveX(d)-c;if(Math.abs(M)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=M/T}var P=0,L=1;for(d=c,y=0;y<20&&(M=this.sampleCurveX(d),!(Math.abs(M-c)<l));y++)c>M?P=d:L=d,d=.5*(L-P)+P;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var D=h(O);let Y,ee;function H(){return Y==null&&(Y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Y}function N(){if(ee==null&&(ee=!1,H())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let y=0;y<5*5;y++){const M=4*y;l.fillStyle=`rgb(${M},${M+1},${M+2})`,l.fillRect(y%5,Math.floor(y/5),1,1)}const d=l.getImageData(0,0,5,5).data;for(let y=0;y<5*5*4;y++)if(y%4!=3&&d[y]!==y){ee=!0;break}}}return ee||!1}function Z(c,l,d,y){const M=new D(c,l,d,y);return function(T){return M.solve(T)}}const ue=Z(.25,.1,.25,1);function ye(c,l,d){return Math.min(d,Math.max(l,c))}function be(c,l,d){const y=d-l,M=((c-l)%y+y)%y+l;return M===l?d:M}function X(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}let se=1;function we(c,l,d){const y={};for(const M in c)y[M]=l.call(d||this,c[M],M,c);return y}function xe(c,l,d){const y={};for(const M in c)l.call(d||this,c[M],M,c)&&(y[M]=c[M]);return y}function De(c){return Array.isArray(c)?c.map(De):typeof c=="object"&&c?we(c,De):c}const Fe={};function he(c){Fe[c]||(typeof console<"u"&&console.warn(c),Fe[c]=!0)}function Qe(c,l,d){return(d.y-c.y)*(l.x-c.x)>(l.y-c.y)*(d.x-c.x)}function ge(c){let l=0;for(let d,y,M=0,T=c.length,P=T-1;M<T;P=M++)d=c[M],y=c[P],l+=(y.x-d.x)*(d.y+y.y);return l}function yt(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let wt=null;function st(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function ze(c,l,d,y,M){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const T=new VideoFrame(c,{timestamp:0});try{const P=T==null?void 0:T.format;if(!P||!P.startsWith("BGR")&&!P.startsWith("RGB"))throw new Error(`Unrecognized format ${P}`);const L=P.startsWith("BGR"),W=new Uint8ClampedArray(y*M*4);if(yield T.copyTo(W,function(V,re,Ae,_e,Be){const Pe=4*Math.max(-re,0),Ge=(Math.max(0,Ae)-Ae)*_e*4+Pe,Xe=4*_e,at=Math.max(0,re),It=Math.max(0,Ae);return{rect:{x:at,y:It,width:Math.min(V.width,re+_e)-at,height:Math.min(V.height,Ae+Be)-It},layout:[{offset:Ge,stride:Xe}]}}(c,l,d,y,M)),L)for(let V=0;V<W.length;V+=4){const re=W[V];W[V]=W[V+2],W[V+2]=re}return W}finally{T.close()}})}let He,Ve;const Vt="AbortError";function Yt(){return new Error(Vt)}const vt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function $t(c){return vt.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const Qt="global-dispatcher";class ke extends Error{constructor(l,d,y,M){super(`AJAXError: ${d} (${l}): ${y}`),this.status=l,this.statusText=d,this.url=y,this.body=M}}const pe=()=>yt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Se=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const y=$t(c.url);if(y)return y(c,l);if(yt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,targetMapId:Qt},l)}if(!(/^file:/.test(d=c.url)||/^file:/.test(pe())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(y,M){return s(this,void 0,void 0,function*(){const T=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:pe(),signal:M.signal});y.type==="json"&&T.headers.set("Accept","application/json");const P=yield fetch(T);if(!P.ok){const V=yield P.blob();throw new ke(P.status,P.statusText,y.url,V)}let L;L=y.type==="arrayBuffer"||y.type==="image"?P.arrayBuffer():y.type==="json"?P.json():P.text();const W=yield L;if(M.signal.aborted)throw Yt();return{data:W,cacheControl:P.headers.get("Cache-Control"),expires:P.headers.get("Expires")}})}(c,l);if(yt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:c,mustQueue:!0,targetMapId:Qt},l)}var d;return function(y,M){return new Promise((T,P)=>{const L=new XMLHttpRequest;L.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(L.responseType="arraybuffer");for(const W in y.headers)L.setRequestHeader(W,y.headers[W]);y.type==="json"&&(L.responseType="text",L.setRequestHeader("Accept","application/json")),L.withCredentials=y.credentials==="include",L.onerror=()=>{P(new Error(L.statusText))},L.onload=()=>{if(!M.signal.aborted)if((L.status>=200&&L.status<300||L.status===0)&&L.response!==null){let W=L.response;if(y.type==="json")try{W=JSON.parse(L.response)}catch(V){return void P(V)}T({data:W,cacheControl:L.getResponseHeader("Cache-Control"),expires:L.getResponseHeader("Expires")})}else{const W=new Blob([L.response],{type:L.getResponseHeader("Content-Type")});P(new ke(L.status,L.statusText,y.url,W))}},M.signal.addEventListener("abort",()=>{L.abort(),P(Yt())}),L.send(y.body)})}(c,l)};function Re(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),d=window.location;return l.protocol===d.protocol&&l.host===d.host}function it(c,l,d){d[c]&&d[c].indexOf(l)!==-1||(d[c]=d[c]||[],d[c].push(l))}function ot(c,l,d){if(d&&d[c]){const y=d[c].indexOf(l);y!==-1&&d[c].splice(y,1)}}class St{constructor(l,d={}){X(this,d),this.type=l}}class Rt extends St{constructor(l,d={}){super("error",X({error:l},d))}}class zt{on(l,d){return this._listeners=this._listeners||{},it(l,d,this._listeners),this}off(l,d){return ot(l,d,this._listeners),ot(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},it(l,d,this._oneTimeListeners),this):new Promise(y=>this.once(l,y))}fire(l,d){typeof l=="string"&&(l=new St(l,d||{}));const y=l.type;if(this.listens(y)){l.target=this;const M=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const L of M)L.call(this,l);const T=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const L of T)ot(y,L,this._oneTimeListeners),L.call(this,l);const P=this._eventedParent;P&&(X(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(l))}else l instanceof Rt&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const rr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function gn(c,l){const d={};for(const y in c)y!=="ref"&&(d[y]=c[y]);return rr.forEach(y=>{y in l&&(d[y]=l[y])}),d}function yn(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let d=0;d<c.length;d++)if(!yn(c[d],l[d]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const d in c)if(!yn(c[d],l[d]))return!1;return!0}return c===l}function Jn(c,l){c.push(l)}function Ar(c,l,d){Jn(d,{command:"addSource",args:[c,l[c]]})}function Mr(c,l,d){Jn(l,{command:"removeSource",args:[c]}),d[c]=!0}function Wr(c,l,d,y){Mr(c,d,y),Ar(c,l,d)}function gr(c,l,d){let y;for(y in c[d])if(Object.prototype.hasOwnProperty.call(c[d],y)&&y!=="data"&&!yn(c[d][y],l[d][y]))return!1;for(y in l[d])if(Object.prototype.hasOwnProperty.call(l[d],y)&&y!=="data"&&!yn(c[d][y],l[d][y]))return!1;return!0}function _i(c,l,d,y,M,T){c=c||{},l=l||{};for(const P in c)Object.prototype.hasOwnProperty.call(c,P)&&(yn(c[P],l[P])||d.push({command:T,args:[y,P,l[P],M]}));for(const P in l)Object.prototype.hasOwnProperty.call(l,P)&&!Object.prototype.hasOwnProperty.call(c,P)&&(yn(c[P],l[P])||d.push({command:T,args:[y,P,l[P],M]}))}function Ee(c){return c.id}function J(c,l){return c[l.id]=l,c}class q{constructor(l,d,y,M){this.message=(l?`${l}: `:"")+y,M&&(this.identifier=M),d!=null&&d.__line__&&(this.line=d.__line__)}}function Te(c,...l){for(const d of l)for(const y in d)c[y]=d[y];return c}class At extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class Bt{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[y,M]of d)this.bindings[y]=M}concat(l){return new Bt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const kt={kind:"null"},Ft={kind:"number"},fn={kind:"string"},Kn={kind:"boolean"},On={kind:"color"},m={kind:"object"},Pt={kind:"value"},Kr={kind:"collator"},tr={kind:"formatted"},Ke={kind:"padding"},ce={kind:"resolvedImage"},Ce={kind:"variableAnchorOffsetCollection"};function Ie(c,l){return{kind:"array",itemType:c,N:l}}function je(c){if(c.kind==="array"){const l=je(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const rt=[kt,Ft,fn,Kn,On,tr,m,Ie(Pt),Ke,ce,Ce];function lt(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!lt(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const d of rt)if(!lt(d,l))return null}}return`Expected ${je(c)} but found ${je(l)} instead.`}function ft(c,l){return l.some(d=>d.kind===c.kind)}function et(c,l){return l.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}function Mt(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const tn=.96422,Ht=.82521,en=4/29,Dn=6/29,Bn=3*Dn*Dn,Yn=Dn*Dn*Dn,Sr=Math.PI/180,lr=180/Math.PI;function Qr(c){return(c%=360)<0&&(c+=360),c}function Or([c,l,d,y]){let M,T;const P=ir((.2225045*(c=Lr(c))+.7168786*(l=Lr(l))+.0606169*(d=Lr(d)))/1);c===l&&l===d?M=T=P:(M=ir((.4360747*c+.3850649*l+.1430804*d)/tn),T=ir((.0139322*c+.0971045*l+.7141733*d)/Ht));const L=116*P-16;return[L<0?0:L,500*(M-P),200*(P-T),y]}function Lr(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function ir(c){return c>Yn?Math.pow(c,1/3):c/Bn+en}function ci([c,l,d,y]){let M=(c+16)/116,T=isNaN(l)?M:M+l/500,P=isNaN(d)?M:M-d/200;return M=1*to(M),T=tn*to(T),P=Ht*to(P),[Li(3.1338561*T-1.6168667*M-.4906146*P),Li(-.9787684*T+1.9161415*M+.033454*P),Li(.0719453*T-.2289914*M+1.4052427*P),y]}function Li(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function to(c){return c>Dn?c*c*c:Bn*(c-en)}function ho(c){return parseInt(c.padEnd(2,c),16)/255}function ai(c,l){return fo(l?c/100:c,0,1)}function fo(c,l,d){return Math.min(Math.max(l,c),d)}function Wa(c){return!c.some(Number.isNaN)}const Ia={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Mi{constructor(l,d,y,M=1,T=!0){this.r=l,this.g=d,this.b=y,this.a=M,T||(this.r*=M,this.g*=M,this.b*=M,M||this.overwriteGetter("rgb",[l,d,y,M]))}static parse(l){if(l instanceof Mi)return l;if(typeof l!="string")return;const d=function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const M=Ia[y];if(M){const[P,L,W]=M;return[P/255,L/255,W/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const P=y.length<6?1:2;let L=1;return[ho(y.slice(L,L+=P)),ho(y.slice(L,L+=P)),ho(y.slice(L,L+=P)),ho(y.slice(L,L+P)||"ff")]}if(y.startsWith("rgb")){const P=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at,It]=P,ct=[re||" ",Be||" ",Xe].join("");if(ct==="  "||ct==="  /"||ct===",,"||ct===",,,"){const xt=[V,_e,Ge].join(""),rn=xt==="%%%"?100:xt===""?255:0;if(rn){const An=[fo(+W/rn,0,1),fo(+Ae/rn,0,1),fo(+Pe/rn,0,1),at?ai(+at,It):1];if(Wa(An))return An}}return}}const T=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[P,L,W,V,re,Ae,_e,Be,Pe]=T,Ge=[W||" ",re||" ",_e].join("");if(Ge==="  "||Ge==="  /"||Ge===",,"||Ge===",,,"){const Xe=[+L,fo(+V,0,100),fo(+Ae,0,100),Be?ai(+Be,Pe):1];if(Wa(Xe))return function([at,It,ct,xt]){function rn(An){const Un=(An+at/30)%12,Cr=It*Math.min(ct,1-ct);return ct-Cr*Math.max(-1,Math.min(Un-3,9-Un,1))}return at=Qr(at),It/=100,ct/=100,[rn(0),rn(8),rn(4),xt]}(Xe)}}}(l);return d?new Mi(...d,!1):void 0}get rgb(){const{r:l,g:d,b:y,a:M}=this,T=M||1/0;return this.overwriteGetter("rgb",[l/T,d/T,y/T,M])}get hcl(){return this.overwriteGetter("hcl",function(l){const[d,y,M,T]=Or(l),P=Math.sqrt(y*y+M*M);return[Math.round(1e4*P)?Qr(Math.atan2(M,y)*lr):NaN,P,d,T]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Or(this.rgb))}overwriteGetter(l,d){return Object.defineProperty(this,l,{value:d}),d}toString(){const[l,d,y,M]=this.rgb;return`rgba(${[l,d,y].map(T=>Math.round(255*T)).join(",")},${M})`}}Mi.black=new Mi(0,0,0,1),Mi.white=new Mi(1,1,1,1),Mi.transparent=new Mi(0,0,0,0),Mi.red=new Mi(1,0,0,1);class os{constructor(l,d,y){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class gi{constructor(l,d,y,M,T){this.text=l,this.image=d,this.scale=y,this.fontStack=M,this.textColor=T}}class jn{constructor(l){this.sections=l}static fromString(l){return new jn([new gi(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof jn?l:jn.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class ro{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ro)return l;if(typeof l=="number")return new ro([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const d of l)if(typeof d!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new ro(l)}}toString(){return JSON.stringify(this.values)}}const _o=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ui{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ui)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let d=0;d<l.length;d+=2){const y=l[d],M=l[d+1];if(typeof y!="string"||!_o.has(y)||!Array.isArray(M)||M.length!==2||typeof M[0]!="number"||typeof M[1]!="number")return}return new Ui(l)}}toString(){return JSON.stringify(this.values)}}class ve{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ve({name:l,available:!1}):null}}function Je(c,l,d,y){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[c,l,d,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[c,l,d,y]:[c,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Zt(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Mi||c instanceof os||c instanceof jn||c instanceof ro||c instanceof Ui||c instanceof ve)return!0;if(Array.isArray(c)){for(const l of c)if(!Zt(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Zt(c[l]))return!1;return!0}return!1}function sn(c){if(c===null)return kt;if(typeof c=="string")return fn;if(typeof c=="boolean")return Kn;if(typeof c=="number")return Ft;if(c instanceof Mi)return On;if(c instanceof os)return Kr;if(c instanceof jn)return tr;if(c instanceof ro)return Ke;if(c instanceof Ui)return Ce;if(c instanceof ve)return ce;if(Array.isArray(c)){const l=c.length;let d;for(const y of c){const M=sn(y);if(d){if(d===M)continue;d=Pt;break}d=M}return Ie(d||Pt,l)}return m}function Lt(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof Mi||c instanceof jn||c instanceof ro||c instanceof Ui||c instanceof ve?c.toString():JSON.stringify(c)}class wn{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Zt(l[1]))return d.error("invalid value");const y=l[1];let M=sn(y);const T=d.expectedType;return M.kind!=="array"||M.N!==0||!T||T.kind!=="array"||typeof T.N=="number"&&T.N!==0||(M=T),new wn(M,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class dr{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const ri={string:fn,number:Ft,boolean:Kn,object:m};class si{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let y,M=1;const T=l[0];if(T==="array"){let L,W;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in ri)||V==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);L=ri[V],M++}else L=Pt;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);W=l[2],M++}y=Ie(L,W)}else{if(!ri[T])throw new Error(`Types doesn't contain name = ${T}`);y=ri[T]}const P=[];for(;M<l.length;M++){const L=d.parse(l[M],M,Pt);if(!L)return null;P.push(L)}return new si(y,P)}evaluate(l){for(let d=0;d<this.args.length;d++){const y=this.args[d].evaluate(l);if(!lt(this.type,sn(y)))return y;if(d===this.args.length-1)throw new dr(`Expected value to be of type ${je(this.type)}, but found ${je(sn(y))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Zo={"to-boolean":Kn,"to-color":On,"to-number":Ft,"to-string":fn};class Pa{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[0];if(!Zo[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&l.length!==2)return d.error("Expected one argument.");const M=Zo[y],T=[];for(let P=1;P<l.length;P++){const L=d.parse(l[P],P,Pt);if(!L)return null;T.push(L)}return new Pa(M,T)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let d,y;for(const M of this.args){if(d=M.evaluate(l),y=null,d instanceof Mi)return d;if(typeof d=="string"){const T=l.parseColor(d);if(T)return T}else if(Array.isArray(d)&&(y=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Je(d[0],d[1],d[2],d[3]),!y))return new Mi(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new dr(y||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const y of this.args){d=y.evaluate(l);const M=ro.parse(d);if(M)return M}throw new dr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const y of this.args){d=y.evaluate(l);const M=Ui.parse(d);if(M)return M}throw new dr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const y of this.args){if(d=y.evaluate(l),d===null)return 0;const M=Number(d);if(!isNaN(M))return M}throw new dr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return jn.fromString(Lt(this.args[0].evaluate(l)));case"resolvedImage":return ve.fromString(Lt(this.args[0].evaluate(l)));default:return Lt(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Dr=["Unknown","Point","LineString","Polygon"];class Na{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Dr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Mi.parse(l)),d}}class yi{constructor(l,d,y=[],M,T=new Bt,P=[]){this.registry=l,this.path=y,this.key=y.map(L=>`[${L}]`).join(""),this.scope=T,this.errors=P,this.expectedType=M,this._isConstant=d}parse(l,d,y,M,T={}){return d?this.concat(d,y,M)._parse(l,T):this._parse(l,T)}_parse(l,d){function y(M,T,P){return P==="assert"?new si(T,[M]):P==="coerce"?new Pa(T,[M]):M}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const M=l[0];if(typeof M!="string")return this.error(`Expression name must be a string, but found ${typeof M} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[M];if(T){let P=T.parse(l,this);if(!P)return null;if(this.expectedType){const L=this.expectedType,W=P.type;if(L.kind!=="string"&&L.kind!=="number"&&L.kind!=="boolean"&&L.kind!=="object"&&L.kind!=="array"||W.kind!=="value")if(L.kind!=="color"&&L.kind!=="formatted"&&L.kind!=="resolvedImage"||W.kind!=="value"&&W.kind!=="string")if(L.kind!=="padding"||W.kind!=="value"&&W.kind!=="number"&&W.kind!=="array")if(L.kind!=="variableAnchorOffsetCollection"||W.kind!=="value"&&W.kind!=="array"){if(this.checkSubtype(L,W))return null}else P=y(P,L,d.typeAnnotation||"coerce");else P=y(P,L,d.typeAnnotation||"coerce");else P=y(P,L,d.typeAnnotation||"coerce");else P=y(P,L,d.typeAnnotation||"assert")}if(!(P instanceof wn)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const L=new Na;try{P=new wn(P.type,P.evaluate(L))}catch(W){return this.error(W.message),null}}return P}return this.error(`Unknown expression "${M}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,y){const M=typeof l=="number"?this.path.concat(l):this.path,T=y?this.scope.concat(y):this.scope;return new yi(this.registry,this._isConstant,M,d||null,T,this.errors)}error(l,...d){const y=`${this.key}${d.map(M=>`[${M}]`).join("")}`;this.errors.push(new At(y,l))}checkSubtype(l,d){const y=lt(l,d);return y&&this.error(y),y}}class Ga{constructor(l,d,y){this.type=Kr,this.locale=y,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const y=l[1];if(typeof y!="object"||Array.isArray(y))return d.error("Collator options argument must be an object.");const M=d.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,Kn);if(!M)return null;const T=d.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,Kn);if(!T)return null;let P=null;return y.locale&&(P=d.parse(y.locale,1,fn),!P)?null:new Ga(M,T,P)}evaluate(l){return new os(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const Xo=8192;function bu(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function as(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function Jo(c,l){const d=(180+c[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,M=Math.pow(2,l.z);return[Math.round(d*M*Xo),Math.round(y*M*Xo)]}function ea(c,l,d){const y=c[0]-l[0],M=c[1]-l[1],T=c[0]-d[0],P=c[1]-d[1];return y*P-T*M==0&&y*T<=0&&M*P<=0}function bs(c,l){let d=!1;for(let P=0,L=l.length;P<L;P++){const W=l[P];for(let V=0,re=W.length;V<re-1;V++){if(ea(c,W[V],W[V+1]))return!1;(M=W[V])[1]>(y=c)[1]!=(T=W[V+1])[1]>y[1]&&y[0]<(T[0]-M[0])*(y[1]-M[1])/(T[1]-M[1])+M[0]&&(d=!d)}}var y,M,T;return d}function xu(c,l){for(let d=0;d<l.length;d++)if(bs(c,l[d]))return!0;return!1}function pa(c,l,d,y){const M=y[0]-d[0],T=y[1]-d[1],P=(c[0]-d[0])*T-M*(c[1]-d[1]),L=(l[0]-d[0])*T-M*(l[1]-d[1]);return P>0&&L<0||P<0&&L>0}function vA(c,l,d){for(const V of d)for(let re=0;re<V.length-1;++re)if((L=[(P=V[re+1])[0]-(T=V[re])[0],P[1]-T[1]])[0]*(W=[(M=l)[0]-(y=c)[0],M[1]-y[1]])[1]-L[1]*W[0]!=0&&pa(y,M,T,P)&&pa(T,P,y,M))return!0;var y,M,T,P,L,W;return!1}function ju(c,l){for(let d=0;d<c.length;++d)if(!bs(c[d],l))return!1;for(let d=0;d<c.length-1;++d)if(vA(c[d],c[d+1],l))return!1;return!0}function _A(c,l){for(let d=0;d<l.length;d++)if(ju(c,l[d]))return!0;return!1}function wu(c,l,d){const y=[];for(let M=0;M<c.length;M++){const T=[];for(let P=0;P<c[M].length;P++){const L=Jo(c[M][P],d);bu(l,L),T.push(L)}y.push(T)}return y}function Wu(c,l,d){const y=[];for(let M=0;M<c.length;M++){const T=wu(c[M],l,d);y.push(T)}return y}function jo(c,l,d,y){if(c[0]<d[0]||c[0]>d[2]){const M=.5*y;let T=c[0]-d[0]>M?-y:d[0]-c[0]>M?y:0;T===0&&(T=c[0]-d[2]>M?-y:d[2]-c[0]>M?y:0),c[0]+=T}bu(l,c)}function xs(c,l,d,y){const M=Math.pow(2,y.z)*Xo,T=[y.x*Xo,y.y*Xo],P=[];for(const L of c)for(const W of L){const V=[W.x+T[0],W.y+T[1]];jo(V,l,d,M),P.push(V)}return P}function eu(c,l,d,y){const M=Math.pow(2,y.z)*Xo,T=[y.x*Xo,y.y*Xo],P=[];for(const W of c){const V=[];for(const re of W){const Ae=[re.x+T[0],re.y+T[1]];bu(l,Ae),V.push(Ae)}P.push(V)}if(l[2]-l[0]<=M/2){(L=l)[0]=L[1]=1/0,L[2]=L[3]=-1/0;for(const W of P)for(const V of W)jo(V,l,d,M)}var L;return P}class ss{constructor(l,d){this.type=Kn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Zt(l[1])){const y=l[1];if(y.type==="FeatureCollection"){const M=[];for(const T of y.features){const{type:P,coordinates:L}=T.geometry;P==="Polygon"&&M.push(L),P==="MultiPolygon"&&M.push(...L)}if(M.length)return new ss(y,{type:"MultiPolygon",coordinates:M})}else if(y.type==="Feature"){const M=y.geometry.type;if(M==="Polygon"||M==="MultiPolygon")return new ss(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new ss(y,y)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,y){const M=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(y.type==="Polygon"){const L=wu(y.coordinates,T,P),W=xs(d.geometry(),M,T,P);if(!as(M,T))return!1;for(const V of W)if(!bs(V,L))return!1}if(y.type==="MultiPolygon"){const L=Wu(y.coordinates,T,P),W=xs(d.geometry(),M,T,P);if(!as(M,T))return!1;for(const V of W)if(!xu(V,L))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,y){const M=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],P=d.canonicalID();if(y.type==="Polygon"){const L=wu(y.coordinates,T,P),W=eu(d.geometry(),M,T,P);if(!as(M,T))return!1;for(const V of W)if(!ju(V,L))return!1}if(y.type==="MultiPolygon"){const L=Wu(y.coordinates,T,P),W=eu(d.geometry(),M,T,P);if(!as(M,T))return!1;for(const V of W)if(!_A(V,L))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class ll{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const y=l[1];return d.scope.has(y)?new ll(y,d.scope.get(y)):d.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Wo{constructor(l,d,y,M){this.name=l,this.type=d,this._evaluate=y,this.args=M}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,d){const y=l[0],M=Wo.definitions[y];if(!M)return d.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(M)?M[0]:M.type,P=Array.isArray(M)?[[M[1],M[2]]]:M.overloads,L=P.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let W=null;for(const[V,re]of L){W=new yi(d.registry,Mu,d.path,null,d.scope);const Ae=[];let _e=!1;for(let Be=1;Be<l.length;Be++){const Pe=l[Be],Ge=Array.isArray(V)?V[Be-1]:V.type,Xe=W.parse(Pe,1+Ae.length,Ge);if(!Xe){_e=!0;break}Ae.push(Xe)}if(!_e)if(Array.isArray(V)&&V.length!==Ae.length)W.error(`Expected ${V.length} arguments, but found ${Ae.length} instead.`);else{for(let Be=0;Be<Ae.length;Be++){const Pe=Array.isArray(V)?V[Be]:V.type,Ge=Ae[Be];W.concat(Be+1).checkSubtype(Pe,Ge.type)}if(W.errors.length===0)return new Wo(y,T,re,Ae)}}if(L.length===1)d.errors.push(...W.errors);else{const V=(L.length?L:P).map(([Ae])=>{return _e=Ae,Array.isArray(_e)?`(${_e.map(je).join(", ")})`:`(${je(_e.type)}...)`;var _e}).join(" | "),re=[];for(let Ae=1;Ae<l.length;Ae++){const _e=d.parse(l[Ae],1+re.length);if(!_e)return null;re.push(je(_e.type))}d.error(`Expected arguments of type ${V}, but found (${re.join(", ")}) instead.`)}return null}static register(l,d){Wo.definitions=d;for(const y in d)l[y]=Wo}}function Mu(c){if(c instanceof ll)return Mu(c.boundExpression);if(c instanceof Wo&&c.name==="error"||c instanceof Ga||c instanceof ss)return!1;const l=c instanceof Pa||c instanceof si;let d=!0;return c.eachChild(y=>{d=l?d&&Mu(y):d&&y instanceof wn}),!!d&&ul(c)&&tu(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ul(c){if(c instanceof Wo&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof ss)return!1;let l=!0;return c.eachChild(d=>{l&&!ul(d)&&(l=!1)}),l}function xl(c){if(c instanceof Wo&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(d=>{l&&!xl(d)&&(l=!1)}),l}function tu(c,l){if(c instanceof Wo&&l.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(y=>{d&&!tu(y,l)&&(d=!1)}),d}function sa(c,l){const d=c.length-1;let y,M,T=0,P=d,L=0;for(;T<=P;)if(L=Math.floor((T+P)/2),y=c[L],M=c[L+1],y<=l){if(L===d||l<M)return L;T=L+1}else{if(!(y>l))throw new dr("Input is not a number.");P=L-1}return 0}class Al{constructor(l,d,y){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[M,T]of y)this.labels.push(M),this.outputs.push(T)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const y=d.parse(l[1],1,Ft);if(!y)return null;const M=[];let T=null;d.expectedType&&d.expectedType.kind!=="value"&&(T=d.expectedType);for(let P=1;P<l.length;P+=2){const L=P===1?-1/0:l[P],W=l[P+1],V=P,re=P+1;if(typeof L!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(M.length&&M[M.length-1][0]>=L)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const Ae=d.parse(W,re,T);if(!Ae)return null;T=T||Ae.type,M.push([L,Ae])}return new Al(T,y,M)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const M=this.input.evaluate(l);if(M<=d[0])return y[0].evaluate(l);const T=d.length;return M>=d[T-1]?y[T-1].evaluate(l):y[sa(d,M)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function CA(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var vo=io;function io(c,l,d,y){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=d,this.p2y=y}io.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,y=0;y<8;y++){var M=this.sampleCurveX(d)-c;if(Math.abs(M)<l)return d;var T=this.sampleCurveDerivativeX(d);if(Math.abs(T)<1e-6)break;d-=M/T}var P=0,L=1;for(d=c,y=0;y<20&&(M=this.sampleCurveX(d),!(Math.abs(M-c)<l));y++)c>M?P=d:L=d,d=.5*(L-P)+P;return d},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var z=CA(vo);function ae(c,l,d){return c+d*(l-c)}function Ue(c,l,d){return c.map((y,M)=>ae(y,l[M],d))}const gt={number:ae,color:function(c,l,d,y="rgb"){switch(y){case"rgb":{const[M,T,P,L]=Ue(c.rgb,l.rgb,d);return new Mi(M,T,P,L,!1)}case"hcl":{const[M,T,P,L]=c.hcl,[W,V,re,Ae]=l.hcl;let _e,Be;if(isNaN(M)||isNaN(W))isNaN(M)?isNaN(W)?_e=NaN:(_e=W,P!==1&&P!==0||(Be=V)):(_e=M,re!==1&&re!==0||(Be=T));else{let It=W-M;W>M&&It>180?It-=360:W<M&&M-W>180&&(It+=360),_e=M+d*It}const[Pe,Ge,Xe,at]=function([It,ct,xt,rn]){return It=isNaN(It)?0:It*Sr,ci([xt,Math.cos(It)*ct,Math.sin(It)*ct,rn])}([_e,Be??ae(T,V,d),ae(P,re,d),ae(L,Ae,d)]);return new Mi(Pe,Ge,Xe,at,!1)}case"lab":{const[M,T,P,L]=ci(Ue(c.lab,l.lab,d));return new Mi(M,T,P,L,!1)}}},array:Ue,padding:function(c,l,d){return new ro(Ue(c.values,l.values,d))},variableAnchorOffsetCollection:function(c,l,d){const y=c.values,M=l.values;if(y.length!==M.length)throw new dr(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${l.toString()}`);const T=[];for(let P=0;P<y.length;P+=2){if(y[P]!==M[P])throw new dr(`Cannot interpolate values containing mismatched anchors. from[${P}]: ${y[P]}, to[${P}]: ${M[P]}`);T.push(y[P]);const[L,W]=y[P+1],[V,re]=M[P+1];T.push([ae(L,V,d),ae(W,re,d)])}return new Ui(T)}};class Wn{constructor(l,d,y,M,T){this.type=l,this.operator=d,this.interpolation=y,this.input=M,this.labels=[],this.outputs=[];for(const[P,L]of T)this.labels.push(P),this.outputs.push(L)}static interpolationFactor(l,d,y,M){let T=0;if(l.name==="exponential")T=vn(d,l.base,y,M);else if(l.name==="linear")T=vn(d,1,y,M);else if(l.name==="cubic-bezier"){const P=l.controlPoints;T=new z(P[0],P[1],P[2],P[3]).solve(vn(d,1,y,M))}return T}static parse(l,d){let[y,M,T,...P]=l;if(!Array.isArray(M)||M.length===0)return d.error("Expected an interpolation type expression.",1);if(M[0]==="linear")M={name:"linear"};else if(M[0]==="exponential"){const V=M[1];if(typeof V!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);M={name:"exponential",base:V}}else{if(M[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(M[0])}`,1,0);{const V=M.slice(1);if(V.length!==4||V.some(re=>typeof re!="number"||re<0||re>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);M={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(T=d.parse(T,2,Ft),!T)return null;const L=[];let W=null;y==="interpolate-hcl"||y==="interpolate-lab"?W=On:d.expectedType&&d.expectedType.kind!=="value"&&(W=d.expectedType);for(let V=0;V<P.length;V+=2){const re=P[V],Ae=P[V+1],_e=V+3,Be=V+4;if(typeof re!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',_e);if(L.length&&L[L.length-1][0]>=re)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',_e);const Pe=d.parse(Ae,Be,W);if(!Pe)return null;W=W||Pe.type,L.push([re,Pe])}return Mt(W,Ft)||Mt(W,On)||Mt(W,Ke)||Mt(W,Ce)||Mt(W,Ie(Ft))?new Wn(W,y,M,T,L):d.error(`Type ${je(W)} is not interpolatable.`)}evaluate(l){const d=this.labels,y=this.outputs;if(d.length===1)return y[0].evaluate(l);const M=this.input.evaluate(l);if(M<=d[0])return y[0].evaluate(l);const T=d.length;if(M>=d[T-1])return y[T-1].evaluate(l);const P=sa(d,M),L=Wn.interpolationFactor(this.interpolation,M,d[P],d[P+1]),W=y[P].evaluate(l),V=y[P+1].evaluate(l);switch(this.operator){case"interpolate":return gt[this.type.kind](W,V,L);case"interpolate-hcl":return gt.color(W,V,L,"hcl");case"interpolate-lab":return gt.color(W,V,L,"lab")}}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function vn(c,l,d,y){const M=y-d,T=c-d;return M===0?0:l===1?T/M:(Math.pow(l,T)-1)/(Math.pow(l,M)-1)}class Pn{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let y=null;const M=d.expectedType;M&&M.kind!=="value"&&(y=M);const T=[];for(const L of l.slice(1)){const W=d.parse(L,1+T.length,y,void 0,{typeAnnotation:"omit"});if(!W)return null;y=y||W.type,T.push(W)}if(!y)throw new Error("No output type");const P=M&&T.some(L=>lt(M,L.type));return new Pn(P?Pt:y,T)}evaluate(l){let d,y=null,M=0;for(const T of this.args)if(M++,y=T.evaluate(l),y&&y instanceof ve&&!y.available&&(d||(d=y.name),y=null,M===this.args.length&&(y=d)),y!==null)break;return y}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Ur{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const y=[];for(let T=1;T<l.length-1;T+=2){const P=l[T];if(typeof P!="string")return d.error(`Expected string, but found ${typeof P} instead.`,T);if(/[^a-zA-Z0-9_]/.test(P))return d.error("Variable names must contain only alphanumeric characters or '_'.",T);const L=d.parse(l[T+1],T+1);if(!L)return null;y.push([P,L])}const M=d.parse(l[l.length-1],l.length-1,d.expectedType,y);return M?new Ur(y,M):null}outputDefined(){return this.result.outputDefined()}}class yr{constructor(l,d,y){this.type=l,this.index=d,this.input=y}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Ft),M=d.parse(l[2],2,Ie(d.expectedType||Pt));return y&&M?new yr(M.type.itemType,y,M):null}evaluate(l){const d=this.index.evaluate(l),y=this.input.evaluate(l);if(d<0)throw new dr(`Array index out of bounds: ${d} < 0.`);if(d>=y.length)throw new dr(`Array index out of bounds: ${d} > ${y.length-1}.`);if(d!==Math.floor(d))throw new dr(`Array index must be an integer, but found ${d} instead.`);return y[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class kr{constructor(l,d){this.type=Kn,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Pt),M=d.parse(l[2],2,Pt);return y&&M?ft(y.type,[Kn,fn,Ft,kt,Pt])?new kr(y,M):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${je(y.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!y)return!1;if(!et(d,["boolean","string","number","null"]))throw new dr(`Expected first argument to be of type boolean, string, number or null, but found ${je(sn(d))} instead.`);if(!et(y,["string","array"]))throw new dr(`Expected second argument to be of type array or string, but found ${je(sn(y))} instead.`);return y.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Ii{constructor(l,d,y){this.type=Ft,this.needle=l,this.haystack=d,this.fromIndex=y}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Pt),M=d.parse(l[2],2,Pt);if(!y||!M)return null;if(!ft(y.type,[Kn,fn,Ft,kt,Pt]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${je(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Ft);return T?new Ii(y,M,T):null}return new Ii(y,M)}evaluate(l){const d=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!et(d,["boolean","string","number","null"]))throw new dr(`Expected first argument to be of type boolean, string, number or null, but found ${je(sn(d))} instead.`);if(!et(y,["string","array"]))throw new dr(`Expected second argument to be of type array or string, but found ${je(sn(y))} instead.`);if(this.fromIndex){const M=this.fromIndex.evaluate(l);return y.indexOf(d,M)}return y.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class po{constructor(l,d,y,M,T,P){this.inputType=l,this.type=d,this.input=y,this.cases=M,this.outputs=T,this.otherwise=P}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let y,M;d.expectedType&&d.expectedType.kind!=="value"&&(M=d.expectedType);const T={},P=[];for(let V=2;V<l.length-1;V+=2){let re=l[V];const Ae=l[V+1];Array.isArray(re)||(re=[re]);const _e=d.concat(V);if(re.length===0)return _e.error("Expected at least one branch label.");for(const Pe of re){if(typeof Pe!="number"&&typeof Pe!="string")return _e.error("Branch labels must be numbers or strings.");if(typeof Pe=="number"&&Math.abs(Pe)>Number.MAX_SAFE_INTEGER)return _e.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Pe=="number"&&Math.floor(Pe)!==Pe)return _e.error("Numeric branch labels must be integer values.");if(y){if(_e.checkSubtype(y,sn(Pe)))return null}else y=sn(Pe);if(T[String(Pe)]!==void 0)return _e.error("Branch labels must be unique.");T[String(Pe)]=P.length}const Be=d.parse(Ae,V,M);if(!Be)return null;M=M||Be.type,P.push(Be)}const L=d.parse(l[1],1,Pt);if(!L)return null;const W=d.parse(l[l.length-1],l.length-1,M);return W?L.type.kind!=="value"&&d.concat(1).checkSubtype(y,L.type)?null:new po(y,M,L,T,P,W):null}evaluate(l){const d=this.input.evaluate(l);return(sn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class Si{constructor(l,d,y){this.type=l,this.branches=d,this.otherwise=y}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let y;d.expectedType&&d.expectedType.kind!=="value"&&(y=d.expectedType);const M=[];for(let P=1;P<l.length-1;P+=2){const L=d.parse(l[P],P,Kn);if(!L)return null;const W=d.parse(l[P+1],P+1,y);if(!W)return null;M.push([L,W]),y=y||W.type}const T=d.parse(l[l.length-1],l.length-1,y);if(!T)return null;if(!y)throw new Error("Can't infer output type");return new Si(y,M,T)}evaluate(l){for(const[d,y]of this.branches)if(d.evaluate(l))return y.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,y]of this.branches)l(d),l(y);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class Zr{constructor(l,d,y,M){this.type=l,this.input=d,this.beginIndex=y,this.endIndex=M}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=d.parse(l[1],1,Pt),M=d.parse(l[2],2,Ft);if(!y||!M)return null;if(!ft(y.type,[Ie(Pt),fn,Pt]))return d.error(`Expected first argument to be of type array or string, but found ${je(y.type)} instead`);if(l.length===4){const T=d.parse(l[3],3,Ft);return T?new Zr(y.type,y,M,T):null}return new Zr(y.type,y,M)}evaluate(l){const d=this.input.evaluate(l),y=this.beginIndex.evaluate(l);if(!et(d,["string","array"]))throw new dr(`Expected first argument to be of type array or string, but found ${je(sn(d))} instead.`);if(this.endIndex){const M=this.endIndex.evaluate(l);return d.slice(y,M)}return d.slice(y)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Hi(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Bo(c,l,d,y){return y.compare(l,d)===0}function xo(c,l,d){const y=c!=="=="&&c!=="!=";return class _z{constructor(T,P,L){this.type=Kn,this.lhs=T,this.rhs=P,this.collator=L,this.hasUntypedArgument=T.type.kind==="value"||P.type.kind==="value"}static parse(T,P){if(T.length!==3&&T.length!==4)return P.error("Expected two or three arguments.");const L=T[0];let W=P.parse(T[1],1,Pt);if(!W)return null;if(!Hi(L,W.type))return P.concat(1).error(`"${L}" comparisons are not supported for type '${je(W.type)}'.`);let V=P.parse(T[2],2,Pt);if(!V)return null;if(!Hi(L,V.type))return P.concat(2).error(`"${L}" comparisons are not supported for type '${je(V.type)}'.`);if(W.type.kind!==V.type.kind&&W.type.kind!=="value"&&V.type.kind!=="value")return P.error(`Cannot compare types '${je(W.type)}' and '${je(V.type)}'.`);y&&(W.type.kind==="value"&&V.type.kind!=="value"?W=new si(V.type,[W]):W.type.kind!=="value"&&V.type.kind==="value"&&(V=new si(W.type,[V])));let re=null;if(T.length===4){if(W.type.kind!=="string"&&V.type.kind!=="string"&&W.type.kind!=="value"&&V.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(re=P.parse(T[3],3,Kr),!re)return null}return new _z(W,V,re)}evaluate(T){const P=this.lhs.evaluate(T),L=this.rhs.evaluate(T);if(y&&this.hasUntypedArgument){const W=sn(P),V=sn(L);if(W.kind!==V.kind||W.kind!=="string"&&W.kind!=="number")throw new dr(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${W.kind}, ${V.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const W=sn(P),V=sn(L);if(W.kind!=="string"||V.kind!=="string")return l(T,P,L)}return this.collator?d(T,P,L,this.collator.evaluate(T)):l(T,P,L)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const $a=xo("==",function(c,l,d){return l===d},Bo),Dl=xo("!=",function(c,l,d){return l!==d},function(c,l,d,y){return!Bo(0,l,d,y)}),nu=xo("<",function(c,l,d){return l<d},function(c,l,d,y){return y.compare(l,d)<0}),ma=xo(">",function(c,l,d){return l>d},function(c,l,d,y){return y.compare(l,d)>0}),_0=xo("<=",function(c,l,d){return l<=d},function(c,l,d,y){return y.compare(l,d)<=0}),ru=xo(">=",function(c,l,d){return l>=d},function(c,l,d,y){return y.compare(l,d)>=0});class Rh{constructor(l,d,y,M,T){this.type=fn,this.number=l,this.locale=d,this.currency=y,this.minFractionDigits=M,this.maxFractionDigits=T}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const y=d.parse(l[1],1,Ft);if(!y)return null;const M=l[2];if(typeof M!="object"||Array.isArray(M))return d.error("NumberFormat options argument must be an object.");let T=null;if(M.locale&&(T=d.parse(M.locale,1,fn),!T))return null;let P=null;if(M.currency&&(P=d.parse(M.currency,1,fn),!P))return null;let L=null;if(M["min-fraction-digits"]&&(L=d.parse(M["min-fraction-digits"],1,Ft),!L))return null;let W=null;return M["max-fraction-digits"]&&(W=d.parse(M["max-fraction-digits"],1,Ft),!W)?null:new Rh(y,T,P,L,W)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class sd{constructor(l){this.type=tr,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const y=l[1];if(!Array.isArray(y)&&typeof y=="object")return d.error("First argument must be an image or text section.");const M=[];let T=!1;for(let P=1;P<=l.length-1;++P){const L=l[P];if(T&&typeof L=="object"&&!Array.isArray(L)){T=!1;let W=null;if(L["font-scale"]&&(W=d.parse(L["font-scale"],1,Ft),!W))return null;let V=null;if(L["text-font"]&&(V=d.parse(L["text-font"],1,Ie(fn)),!V))return null;let re=null;if(L["text-color"]&&(re=d.parse(L["text-color"],1,On),!re))return null;const Ae=M[M.length-1];Ae.scale=W,Ae.font=V,Ae.textColor=re}else{const W=d.parse(l[P],1,Pt);if(!W)return null;const V=W.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,M.push({content:W,scale:null,font:null,textColor:null})}}return new sd(M)}evaluate(l){return new jn(this.sections.map(d=>{const y=d.content.evaluate(l);return sn(y)===ce?new gi("",y,null,null,null):new gi(Lt(y),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}}class Nu{constructor(l){this.type=ce,this.input=l}static parse(l,d){if(l.length!==2)return d.error("Expected two arguments.");const y=d.parse(l[1],1,fn);return y?new Nu(y):d.error("No image name provided.")}evaluate(l){const d=this.input.evaluate(l),y=ve.fromString(d);return y&&l.availableImages&&(y.available=l.availableImages.indexOf(d)>-1),y}eachChild(l){l(this.input)}outputDefined(){return!1}}class ld{constructor(l){this.type=Ft,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const y=d.parse(l[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${je(y.type)} instead.`):new ld(y):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new dr(`Expected value to be of type string or array, but found ${je(sn(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const $A={"==":$a,"!=":Dl,">":ma,"<":nu,">=":ru,"<=":_0,array:si,at:yr,boolean:si,case:Si,coalesce:Pn,collator:Ga,format:sd,image:Nu,in:kr,"index-of":Ii,interpolate:Wn,"interpolate-hcl":Wn,"interpolate-lab":Wn,length:ld,let:Ur,literal:wn,match:po,number:si,"number-format":Rh,object:si,slice:Zr,step:Al,string:si,"to-boolean":Pa,"to-color":Pa,"to-number":Pa,"to-string":Pa,var:ll,within:ss};function ta(c,[l,d,y,M]){l=l.evaluate(c),d=d.evaluate(c),y=y.evaluate(c);const T=M?M.evaluate(c):1,P=Je(l,d,y,T);if(P)throw new dr(P);return new Mi(l/255,d/255,y/255,T,!1)}function Gu(c,l){return c in l}function qd(c,l){const d=l[c];return d===void 0?null:d}function QA(c){return{type:c}}function Bc(c){return{result:"success",value:c}}function Su(c){return{result:"error",value:c}}function ud(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function tm(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function zh(c){return!!c.expression&&c.expression.interpolated}function ki(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Io(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function C0(c){return c}function jh(c,l){const d=l.type==="color",y=c.stops&&typeof c.stops[0][0]=="object",M=y||!(y||c.property!==void 0),T=c.type||(zh(l)?"exponential":"interval");if(d||l.type==="padding"){const re=d?Mi.parse:ro.parse;(c=Te({},c)).stops&&(c.stops=c.stops.map(Ae=>[Ae[0],re(Ae[1])])),c.default=re(c.default?c.default:l.default)}if(c.colorSpace&&(P=c.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var P;let L,W,V;if(T==="exponential")L=Xf;else if(T==="interval")L=la;else if(T==="categorical"){L=Zf,W=Object.create(null);for(const re of c.stops)W[re[0]]=re[1];V=typeof c.stops[0][0]}else{if(T!=="identity")throw new Error(`Unknown function type "${T}"`);L=Wi}if(y){const re={},Ae=[];for(let Pe=0;Pe<c.stops.length;Pe++){const Ge=c.stops[Pe],Xe=Ge[0].zoom;re[Xe]===void 0&&(re[Xe]={zoom:Xe,type:c.type,property:c.property,default:c.default,stops:[]},Ae.push(Xe)),re[Xe].stops.push([Ge[0].value,Ge[1]])}const _e=[];for(const Pe of Ae)_e.push([re[Pe].zoom,jh(re[Pe],l)]);const Be={name:"linear"};return{kind:"composite",interpolationType:Be,interpolationFactor:Wn.interpolationFactor.bind(void 0,Be),zoomStops:_e.map(Pe=>Pe[0]),evaluate:({zoom:Pe},Ge)=>Xf({stops:_e,base:c.base},l,Pe).evaluate(Pe,Ge)}}if(M){const re=T==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:re,interpolationFactor:Wn.interpolationFactor.bind(void 0,re),zoomStops:c.stops.map(Ae=>Ae[0]),evaluate:({zoom:Ae})=>L(c,l,Ae,W,V)}}return{kind:"source",evaluate(re,Ae){const _e=Ae&&Ae.properties?Ae.properties[c.property]:void 0;return _e===void 0?$u(c.default,l.default):L(c,l,_e,W,V)}}}function $u(c,l,d){return c!==void 0?c:l!==void 0?l:d!==void 0?d:void 0}function Zf(c,l,d,y,M){return $u(typeof d===M?y[d]:void 0,c.default,l.default)}function la(c,l,d){if(ki(d)!=="number")return $u(c.default,l.default);const y=c.stops.length;if(y===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[y-1][0])return c.stops[y-1][1];const M=sa(c.stops.map(T=>T[0]),d);return c.stops[M][1]}function Xf(c,l,d){const y=c.base!==void 0?c.base:1;if(ki(d)!=="number")return $u(c.default,l.default);const M=c.stops.length;if(M===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[M-1][0])return c.stops[M-1][1];const T=sa(c.stops.map(re=>re[0]),d),P=function(re,Ae,_e,Be){const Pe=Be-_e,Ge=re-_e;return Pe===0?0:Ae===1?Ge/Pe:(Math.pow(Ae,Ge)-1)/(Math.pow(Ae,Pe)-1)}(d,y,c.stops[T][0],c.stops[T+1][0]),L=c.stops[T][1],W=c.stops[T+1][1],V=gt[l.type]||C0;return typeof L.evaluate=="function"?{evaluate(...re){const Ae=L.evaluate.apply(void 0,re),_e=W.evaluate.apply(void 0,re);if(Ae!==void 0&&_e!==void 0)return V(Ae,_e,P,c.colorSpace)}}:V(L,W,P,c.colorSpace)}function Wi(c,l,d){switch(l.type){case"color":d=Mi.parse(d);break;case"formatted":d=jn.fromString(d.toString());break;case"resolvedImage":d=ve.fromString(d.toString());break;case"padding":d=ro.parse(d);break;default:ki(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0)}return $u(d,c.default,l.default)}Wo.register($A,{error:[{kind:"error"},[fn],(c,[l])=>{throw new dr(l.evaluate(c))}],typeof:[fn,[Pt],(c,[l])=>je(sn(l.evaluate(c)))],"to-rgba":[Ie(Ft,4),[On],(c,[l])=>{const[d,y,M,T]=l.evaluate(c).rgb;return[255*d,255*y,255*M,T]}],rgb:[On,[Ft,Ft,Ft],ta],rgba:[On,[Ft,Ft,Ft,Ft],ta],has:{type:Kn,overloads:[[[fn],(c,[l])=>Gu(l.evaluate(c),c.properties())],[[fn,m],(c,[l,d])=>Gu(l.evaluate(c),d.evaluate(c))]]},get:{type:Pt,overloads:[[[fn],(c,[l])=>qd(l.evaluate(c),c.properties())],[[fn,m],(c,[l,d])=>qd(l.evaluate(c),d.evaluate(c))]]},"feature-state":[Pt,[fn],(c,[l])=>qd(l.evaluate(c),c.featureState||{})],properties:[m,[],c=>c.properties()],"geometry-type":[fn,[],c=>c.geometryType()],id:[Pt,[],c=>c.id()],zoom:[Ft,[],c=>c.globals.zoom],"heatmap-density":[Ft,[],c=>c.globals.heatmapDensity||0],"line-progress":[Ft,[],c=>c.globals.lineProgress||0],accumulated:[Pt,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Ft,QA(Ft),(c,l)=>{let d=0;for(const y of l)d+=y.evaluate(c);return d}],"*":[Ft,QA(Ft),(c,l)=>{let d=1;for(const y of l)d*=y.evaluate(c);return d}],"-":{type:Ft,overloads:[[[Ft,Ft],(c,[l,d])=>l.evaluate(c)-d.evaluate(c)],[[Ft],(c,[l])=>-l.evaluate(c)]]},"/":[Ft,[Ft,Ft],(c,[l,d])=>l.evaluate(c)/d.evaluate(c)],"%":[Ft,[Ft,Ft],(c,[l,d])=>l.evaluate(c)%d.evaluate(c)],ln2:[Ft,[],()=>Math.LN2],pi:[Ft,[],()=>Math.PI],e:[Ft,[],()=>Math.E],"^":[Ft,[Ft,Ft],(c,[l,d])=>Math.pow(l.evaluate(c),d.evaluate(c))],sqrt:[Ft,[Ft],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[Ft,[Ft],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[Ft,[Ft],(c,[l])=>Math.log(l.evaluate(c))],log2:[Ft,[Ft],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[Ft,[Ft],(c,[l])=>Math.sin(l.evaluate(c))],cos:[Ft,[Ft],(c,[l])=>Math.cos(l.evaluate(c))],tan:[Ft,[Ft],(c,[l])=>Math.tan(l.evaluate(c))],asin:[Ft,[Ft],(c,[l])=>Math.asin(l.evaluate(c))],acos:[Ft,[Ft],(c,[l])=>Math.acos(l.evaluate(c))],atan:[Ft,[Ft],(c,[l])=>Math.atan(l.evaluate(c))],min:[Ft,QA(Ft),(c,l)=>Math.min(...l.map(d=>d.evaluate(c)))],max:[Ft,QA(Ft),(c,l)=>Math.max(...l.map(d=>d.evaluate(c)))],abs:[Ft,[Ft],(c,[l])=>Math.abs(l.evaluate(c))],round:[Ft,[Ft],(c,[l])=>{const d=l.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[Ft,[Ft],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[Ft,[Ft],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Kn,[fn,Pt],(c,[l,d])=>c.properties()[l.value]===d.value],"filter-id-==":[Kn,[Pt],(c,[l])=>c.id()===l.value],"filter-type-==":[Kn,[fn],(c,[l])=>c.geometryType()===l.value],"filter-<":[Kn,[fn,Pt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y<M}],"filter-id-<":[Kn,[Pt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<y}],"filter->":[Kn,[fn,Pt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y>M}],"filter-id->":[Kn,[Pt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>y}],"filter-<=":[Kn,[fn,Pt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y<=M}],"filter-id-<=":[Kn,[Pt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d<=y}],"filter->=":[Kn,[fn,Pt],(c,[l,d])=>{const y=c.properties()[l.value],M=d.value;return typeof y==typeof M&&y>=M}],"filter-id->=":[Kn,[Pt],(c,[l])=>{const d=c.id(),y=l.value;return typeof d==typeof y&&d>=y}],"filter-has":[Kn,[Pt],(c,[l])=>l.value in c.properties()],"filter-has-id":[Kn,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Kn,[Ie(fn)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Kn,[Ie(Pt)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Kn,[fn,Ie(Pt)],(c,[l,d])=>d.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Kn,[fn,Ie(Pt)],(c,[l,d])=>function(y,M,T,P){for(;T<=P;){const L=T+P>>1;if(M[L]===y)return!0;M[L]>y?P=L-1:T=L+1}return!1}(c.properties()[l.value],d.value,0,d.value.length-1)],all:{type:Kn,overloads:[[[Kn,Kn],(c,[l,d])=>l.evaluate(c)&&d.evaluate(c)],[QA(Kn),(c,l)=>{for(const d of l)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Kn,overloads:[[[Kn,Kn],(c,[l,d])=>l.evaluate(c)||d.evaluate(c)],[QA(Kn),(c,l)=>{for(const d of l)if(d.evaluate(c))return!0;return!1}]]},"!":[Kn,[Kn],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Kn,[fn],(c,[l])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(l.evaluate(c))}],upcase:[fn,[fn],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[fn,[fn],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[fn,QA(Pt),(c,l)=>l.map(d=>Lt(d.evaluate(c))).join("")],"resolved-locale":[fn,[Kr],(c,[l])=>l.evaluate(c).resolvedLocale()]});class YA{constructor(l,d){var y;this.expression=l,this._warningHistory={},this._evaluator=new Na,this._defaultValue=d?(y=d).type==="color"&&Io(y.default)?new Mi(0,0,0,0):y.type==="color"?Mi.parse(y.default)||null:y.type==="padding"?ro.parse(y.default)||null:y.type==="variableAnchorOffsetCollection"?Ui.parse(y.default)||null:y.default===void 0?null:y.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,y,M,T,P){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=y,this._evaluator.canonical=M,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(l,d,y,M,T,P){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=y||null,this._evaluator.canonical=M,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=P||null;try{const L=this.expression.evaluate(this._evaluator);if(L==null||typeof L=="number"&&L!=L)return this._defaultValue;if(this._enumValues&&!(L in this._enumValues))throw new dr(`Expected value to be one of ${Object.keys(this._enumValues).map(W=>JSON.stringify(W)).join(", ")}, but found ${JSON.stringify(L)} instead.`);return L}catch(L){return this._warningHistory[L.message]||(this._warningHistory[L.message]=!0,typeof console<"u"&&console.warn(L.message)),this._defaultValue}}}function ko(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in $A}function Fo(c,l){const d=new yi($A,Mu,[],l?function(M){const T={color:On,string:fn,number:Ft,enum:fn,boolean:Kn,formatted:tr,padding:Ke,resolvedImage:ce,variableAnchorOffsetCollection:Ce};return M.type==="array"?Ie(T[M.value]||Pt,M.length):T[M.type]}(l):void 0),y=d.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Bc(new YA(y,l)):Su(d.errors)}class qA{constructor(l,d){this.kind=l,this._styleExpression=d,this.isStateDependent=l!=="constant"&&!xl(d.expression)}evaluateWithoutErrorHandling(l,d,y,M,T,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,M,T,P)}evaluate(l,d,y,M,T,P){return this._styleExpression.evaluate(l,d,y,M,T,P)}}class Us{constructor(l,d,y,M){this.kind=l,this.zoomStops=y,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!xl(d.expression),this.interpolationType=M}evaluateWithoutErrorHandling(l,d,y,M,T,P){return this._styleExpression.evaluateWithoutErrorHandling(l,d,y,M,T,P)}evaluate(l,d,y,M,T,P){return this._styleExpression.evaluate(l,d,y,M,T,P)}interpolationFactor(l,d,y){return this.interpolationType?Wn.interpolationFactor(this.interpolationType,l,d,y):0}}function Wh(c,l){const d=Fo(c,l);if(d.result==="error")return d;const y=d.value.expression,M=ul(y);if(!M&&!ud(l))return Su([new At("","data expressions not supported")]);const T=tu(y,["zoom"]);if(!T&&!tm(l))return Su([new At("","zoom expressions not supported")]);const P=Fl(y);return P||T?P instanceof At?Su([P]):P instanceof Wn&&!zh(l)?Su([new At("",'"interpolate" expressions cannot be used with this property')]):Bc(P?new Us(M?"camera":"composite",d.value,P.labels,P instanceof Wn?P.interpolation:void 0):new qA(M?"constant":"source",d.value)):Su([new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class iu{constructor(l,d){this._parameters=l,this._specification=d,Te(this,jh(this._parameters,this._specification))}static deserialize(l){return new iu(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Fl(c){let l=null;if(c instanceof Ur)l=Fl(c.result);else if(c instanceof Pn){for(const d of c.args)if(l=Fl(d),l)break}else(c instanceof Al||c instanceof Wn)&&c.input instanceof Wo&&c.input.name==="zoom"&&(l=c);return l instanceof At||c.eachChild(d=>{const y=Fl(d);y instanceof At?l=y:!l&&y?l=new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&y&&l!==y&&(l=new At("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Ic(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!Ic(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Nh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Hd(c){if(c==null)return{filter:()=>!0,needGeometry:!1};Ic(c)||(c=HA(c));const l=Fo(c,Nh);if(l.result==="error")throw new Error(l.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,y,M)=>l.value.evaluate(d,y,{},M),needGeometry:bA(c)}}function Eu(c,l){return c<l?-1:c>l?1:0}function bA(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(bA(c[l]))return!0;return!1}function HA(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?VA(c[1],c[2],"=="):l==="!="?kc(VA(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?VA(c[1],c[2],l):l==="any"?(d=c.slice(1),["any"].concat(d.map(HA))):l==="all"?["all"].concat(c.slice(1).map(HA)):l==="none"?["all"].concat(c.slice(1).map(HA).map(kc)):l==="in"?Jf(c[1],c.slice(2)):l==="!in"?kc(Jf(c[1],c.slice(2))):l==="has"?nm(c[1]):l==="!has"?kc(nm(c[1])):l!=="within"||c;var d}function VA(c,l,d){switch(c){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,c,l]}}function Jf(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",c,["literal",l.sort(Eu)]]:["filter-in-small",c,["literal",l]]}}function nm(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function kc(c){return["!",c]}function Ad(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let M="[";for(const T of c)M+=`${Ad(T)},`;return`${M}]`}const d=Object.keys(c).sort();let y="{";for(let M=0;M<d.length;M++)y+=`${JSON.stringify(d[M])}:${Ad(c[d[M]])},`;return`${y}}`}function Ll(c){let l="";for(const d of rr)l+=`/${Ad(c[d])}`;return l}function wl(c){const l=c.value;return l?[new q(c.key,l,"constants have been deprecated as of v8")]:[]}function ga(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function xA(c){if(Array.isArray(c))return c.map(xA);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const d in c)l[d]=xA(c[d]);return l}return ga(c)}function Ul(c){const l=c.key,d=c.value,y=c.valueSpec||{},M=c.objectElementValidators||{},T=c.style,P=c.styleSpec,L=c.validateSpec;let W=[];const V=ki(d);if(V!=="object")return[new q(l,d,`object expected, ${V} found`)];for(const re in d){const Ae=re.split(".")[0],_e=y[Ae]||y["*"];let Be;if(M[Ae])Be=M[Ae];else if(y[Ae])Be=L;else if(M["*"])Be=M["*"];else{if(!y["*"]){W.push(new q(l,d[re],`unknown property "${re}"`));continue}Be=L}W=W.concat(Be({key:(l&&`${l}.`)+re,value:d[re],valueSpec:_e,style:T,styleSpec:P,object:d,objectKey:re,validateSpec:L},d))}for(const re in y)M[re]||y[re].required&&y[re].default===void 0&&d[re]===void 0&&W.push(new q(l,d,`missing required property "${re}"`));return W}function Ou(c){const l=c.value,d=c.valueSpec,y=c.style,M=c.styleSpec,T=c.key,P=c.arrayElementValidator||c.validateSpec;if(ki(l)!=="array")return[new q(T,l,`array expected, ${ki(l)} found`)];if(d.length&&l.length!==d.length)return[new q(T,l,`array length ${d.length} expected, length ${l.length} found`)];if(d["min-length"]&&l.length<d["min-length"])return[new q(T,l,`array length at least ${d["min-length"]} expected, length ${l.length} found`)];let L={type:d.value,values:d.values};M.$version<7&&(L.function=d.function),ki(d.value)==="object"&&(L=d.value);let W=[];for(let V=0;V<l.length;V++)W=W.concat(P({array:l,arrayIndex:V,value:l[V],valueSpec:L,validateSpec:c.validateSpec,style:y,styleSpec:M,key:`${T}[${V}]`}));return W}function Rl(c){const l=c.key,d=c.value,y=c.valueSpec;let M=ki(d);return M==="number"&&d!=d&&(M="NaN"),M!=="number"?[new q(l,d,`number expected, ${M} found`)]:"minimum"in y&&d<y.minimum?[new q(l,d,`${d} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&d>y.maximum?[new q(l,d,`${d} is greater than the maximum value ${y.maximum}`)]:[]}function Vd(c){const l=c.valueSpec,d=ga(c.value.type);let y,M,T,P={};const L=d!=="categorical"&&c.value.property===void 0,W=!L,V=ki(c.value.stops)==="array"&&ki(c.value.stops[0])==="array"&&ki(c.value.stops[0][0])==="object",re=Ul({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(Be){if(d==="identity")return[new q(Be.key,Be.value,'identity function may not have a "stops" property')];let Pe=[];const Ge=Be.value;return Pe=Pe.concat(Ou({key:Be.key,value:Ge,valueSpec:Be.valueSpec,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec,arrayElementValidator:Ae})),ki(Ge)==="array"&&Ge.length===0&&Pe.push(new q(Be.key,Ge,"array must have at least one stop")),Pe},default:function(Be){return Be.validateSpec({key:Be.key,value:Be.value,valueSpec:l,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec})}}});return d==="identity"&&L&&re.push(new q(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||re.push(new q(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!zh(c.valueSpec)&&re.push(new q(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(W&&!ud(c.valueSpec)?re.push(new q(c.key,c.value,"property functions not supported")):L&&!tm(c.valueSpec)&&re.push(new q(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!V||c.value.property!==void 0||re.push(new q(c.key,c.value,'"property" property is required')),re;function Ae(Be){let Pe=[];const Ge=Be.value,Xe=Be.key;if(ki(Ge)!=="array")return[new q(Xe,Ge,`array expected, ${ki(Ge)} found`)];if(Ge.length!==2)return[new q(Xe,Ge,`array length 2 expected, length ${Ge.length} found`)];if(V){if(ki(Ge[0])!=="object")return[new q(Xe,Ge,`object expected, ${ki(Ge[0])} found`)];if(Ge[0].zoom===void 0)return[new q(Xe,Ge,"object stop key must have zoom")];if(Ge[0].value===void 0)return[new q(Xe,Ge,"object stop key must have value")];if(T&&T>ga(Ge[0].zoom))return[new q(Xe,Ge[0].zoom,"stop zoom values must appear in ascending order")];ga(Ge[0].zoom)!==T&&(T=ga(Ge[0].zoom),M=void 0,P={}),Pe=Pe.concat(Ul({key:`${Xe}[0]`,value:Ge[0],valueSpec:{zoom:{}},validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec,objectElementValidators:{zoom:Rl,value:_e}}))}else Pe=Pe.concat(_e({key:`${Xe}[0]`,value:Ge[0],valueSpec:{},validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec},Ge));return ko(xA(Ge[1]))?Pe.concat([new q(`${Xe}[1]`,Ge[1],"expressions are not allowed in function stops.")]):Pe.concat(Be.validateSpec({key:`${Xe}[1]`,value:Ge[1],valueSpec:l,validateSpec:Be.validateSpec,style:Be.style,styleSpec:Be.styleSpec}))}function _e(Be,Pe){const Ge=ki(Be.value),Xe=ga(Be.value),at=Be.value!==null?Be.value:Pe;if(y){if(Ge!==y)return[new q(Be.key,at,`${Ge} stop domain type must match previous stop domain type ${y}`)]}else y=Ge;if(Ge!=="number"&&Ge!=="string"&&Ge!=="boolean")return[new q(Be.key,at,"stop domain value must be a number, string, or boolean")];if(Ge!=="number"&&d!=="categorical"){let It=`number expected, ${Ge} found`;return ud(l)&&d===void 0&&(It+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new q(Be.key,at,It)]}return d!=="categorical"||Ge!=="number"||isFinite(Xe)&&Math.floor(Xe)===Xe?d!=="categorical"&&Ge==="number"&&M!==void 0&&Xe<M?[new q(Be.key,at,"stop domain values must appear in ascending order")]:(M=Xe,d==="categorical"&&Xe in P?[new q(Be.key,at,"stop domain values must be unique")]:(P[Xe]=!0,[])):[new q(Be.key,at,`integer expected, found ${Xe}`)]}}function Tc(c){const l=(c.expressionContext==="property"?Wh:Fo)(xA(c.value),c.valueSpec);if(l.result==="error")return l.value.map(y=>new q(`${c.key}${y.key}`,c.value,y.message));const d=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new q(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!xl(d))return[new q(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!xl(d))return[new q(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!tu(d,["zoom","feature-state"]))return[new q(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!ul(d))return[new q(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Bu(c){const l=c.key,d=c.value,y=c.valueSpec,M=[];return Array.isArray(y.values)?y.values.indexOf(ga(d))===-1&&M.push(new q(l,d,`expected one of [${y.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(y.values).indexOf(ga(d))===-1&&M.push(new q(l,d,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(d)} found`)),M}function Pc(c){return Ic(xA(c.value))?Tc(Te({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):cd(c)}function cd(c){const l=c.value,d=c.key;if(ki(l)!=="array")return[new q(d,l,`array expected, ${ki(l)} found`)];const y=c.styleSpec;let M,T=[];if(l.length<1)return[new q(d,l,"filter array must have at least 1 element")];switch(T=T.concat(Bu({key:`${d}[0]`,value:l[0],valueSpec:y.filter_operator,style:c.style,styleSpec:c.styleSpec})),ga(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&ga(l[1])==="$type"&&T.push(new q(d,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&T.push(new q(d,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(M=ki(l[1]),M!=="string"&&T.push(new q(`${d}[1]`,l[1],`string expected, ${M} found`)));for(let P=2;P<l.length;P++)M=ki(l[P]),ga(l[1])==="$type"?T=T.concat(Bu({key:`${d}[${P}]`,value:l[P],valueSpec:y.geometry_type,style:c.style,styleSpec:c.styleSpec})):M!=="string"&&M!=="number"&&M!=="boolean"&&T.push(new q(`${d}[${P}]`,l[P],`string, number, or boolean expected, ${M} found`));break;case"any":case"all":case"none":for(let P=1;P<l.length;P++)T=T.concat(cd({key:`${d}[${P}]`,value:l[P],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":M=ki(l[1]),l.length!==2?T.push(new q(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):M!=="string"&&T.push(new q(`${d}[1]`,l[1],`string expected, ${M} found`));break;case"within":M=ki(l[1]),l.length!==2?T.push(new q(d,l,`filter array for "${l[0]}" operator must have 2 elements`)):M!=="object"&&T.push(new q(`${d}[1]`,l[1],`object expected, ${M} found`))}return T}function Zd(c,l){const d=c.key,y=c.validateSpec,M=c.style,T=c.styleSpec,P=c.value,L=c.objectKey,W=T[`${l}_${c.layerType}`];if(!W)return[];const V=L.match(/^(.*)-transition$/);if(l==="paint"&&V&&W[V[1]]&&W[V[1]].transition)return y({key:d,value:P,valueSpec:T.transition,style:M,styleSpec:T});const re=c.valueSpec||W[L];if(!re)return[new q(d,P,`unknown property "${L}"`)];let Ae;if(ki(P)==="string"&&ud(re)&&!re.tokens&&(Ae=/^{([^}]+)}$/.exec(P)))return[new q(d,P,`"${L}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ae[1])} }\`.`)];const _e=[];return c.layerType==="symbol"&&(L==="text-field"&&M&&!M.glyphs&&_e.push(new q(d,P,'use of "text-field" requires a style "glyphs" property')),L==="text-font"&&Io(xA(P))&&ga(P.type)==="identity"&&_e.push(new q(d,P,'"text-font" does not support identity functions'))),_e.concat(y({key:c.key,value:P,valueSpec:re,style:M,styleSpec:T,expressionContext:"property",propertyType:l,propertyKey:L}))}function ou(c){return Zd(c,"paint")}function Et(c){return Zd(c,"layout")}function an(c){let l=[];const d=c.value,y=c.key,M=c.style,T=c.styleSpec;d.type||d.ref||l.push(new q(y,d,'either "type" or "ref" is required'));let P=ga(d.type);const L=ga(d.ref);if(d.id){const W=ga(d.id);for(let V=0;V<c.arrayIndex;V++){const re=M.layers[V];ga(re.id)===W&&l.push(new q(y,d.id,`duplicate layer id "${d.id}", previously used at line ${re.id.__line__}`))}}if("ref"in d){let W;["type","source","source-layer","filter","layout"].forEach(V=>{V in d&&l.push(new q(y,d[V],`"${V}" is prohibited for ref layers`))}),M.layers.forEach(V=>{ga(V.id)===L&&(W=V)}),W?W.ref?l.push(new q(y,d.ref,"ref cannot reference another ref layer")):P=ga(W.type):l.push(new q(y,d.ref,`ref layer "${L}" not found`))}else if(P!=="background")if(d.source){const W=M.sources&&M.sources[d.source],V=W&&ga(W.type);W?V==="vector"&&P==="raster"?l.push(new q(y,d.source,`layer "${d.id}" requires a raster source`)):V!=="raster-dem"&&P==="hillshade"?l.push(new q(y,d.source,`layer "${d.id}" requires a raster-dem source`)):V==="raster"&&P!=="raster"?l.push(new q(y,d.source,`layer "${d.id}" requires a vector source`)):V!=="vector"||d["source-layer"]?V==="raster-dem"&&P!=="hillshade"?l.push(new q(y,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):P!=="line"||!d.paint||!d.paint["line-gradient"]||V==="geojson"&&W.lineMetrics||l.push(new q(y,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new q(y,d,`layer "${d.id}" must specify a "source-layer"`)):l.push(new q(y,d.source,`source "${d.source}" not found`))}else l.push(new q(y,d,'missing required property "source"'));return l=l.concat(Ul({key:y,value:d,valueSpec:T.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${y}.type`,value:d.type,valueSpec:T.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:d,objectKey:"type"}),filter:Pc,layout:W=>Ul({layer:d,key:W.key,value:W.value,style:W.style,styleSpec:W.styleSpec,validateSpec:W.validateSpec,objectElementValidators:{"*":V=>Et(Te({layerType:P},V))}}),paint:W=>Ul({layer:d,key:W.key,value:W.value,style:W.style,styleSpec:W.styleSpec,validateSpec:W.validateSpec,objectElementValidators:{"*":V=>ou(Te({layerType:P},V))}})}})),l}function jt(c){const l=c.value,d=c.key,y=ki(l);return y!=="string"?[new q(d,l,`string expected, ${y} found`)]:[]}const hr={promoteId:function({key:c,value:l}){if(ki(l)==="string")return jt({key:c,value:l});{const d=[];for(const y in l)d.push(...jt({key:`${c}.${y}`,value:l[y]}));return d}}};function li(c){const l=c.value,d=c.key,y=c.styleSpec,M=c.style,T=c.validateSpec;if(!l.type)return[new q(d,l,'"type" is required')];const P=ga(l.type);let L;switch(P){case"vector":case"raster":return L=Ul({key:d,value:l,valueSpec:y[`source_${P.replace("-","_")}`],style:c.style,styleSpec:y,objectElementValidators:hr,validateSpec:T}),L;case"raster-dem":return L=function(W){var V;const re=(V=W.sourceName)!==null&&V!==void 0?V:"",Ae=W.value,_e=W.styleSpec,Be=_e.source_raster_dem,Pe=W.style;let Ge=[];const Xe=ki(Ae);if(Ae===void 0)return Ge;if(Xe!=="object")return Ge.push(new q("source_raster_dem",Ae,`object expected, ${Xe} found`)),Ge;const at=ga(Ae.encoding)==="custom",It=["redFactor","greenFactor","blueFactor","baseShift"],ct=W.value.encoding?`"${W.value.encoding}"`:"Default";for(const xt in Ae)!at&&It.includes(xt)?Ge.push(new q(xt,Ae[xt],`In "${re}": "${xt}" is only valid when "encoding" is set to "custom". ${ct} encoding found`)):Be[xt]?Ge=Ge.concat(W.validateSpec({key:xt,value:Ae[xt],valueSpec:Be[xt],validateSpec:W.validateSpec,style:Pe,styleSpec:_e})):Ge.push(new q(xt,Ae[xt],`unknown property "${xt}"`));return Ge}({sourceName:d,value:l,style:c.style,styleSpec:y,validateSpec:T}),L;case"geojson":if(L=Ul({key:d,value:l,valueSpec:y.source_geojson,style:M,styleSpec:y,validateSpec:T,objectElementValidators:hr}),l.cluster)for(const W in l.clusterProperties){const[V,re]=l.clusterProperties[W],Ae=typeof V=="string"?[V,["accumulated"],["get",W]]:V;L.push(...Tc({key:`${d}.${W}.map`,value:re,validateSpec:T,expressionContext:"cluster-map"})),L.push(...Tc({key:`${d}.${W}.reduce`,value:Ae,validateSpec:T,expressionContext:"cluster-reduce"}))}return L;case"video":return Ul({key:d,value:l,valueSpec:y.source_video,style:M,validateSpec:T,styleSpec:y});case"image":return Ul({key:d,value:l,valueSpec:y.source_image,style:M,validateSpec:T,styleSpec:y});case"canvas":return[new q(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Bu({key:`${d}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:M,validateSpec:T,styleSpec:y})}}function oo(c){const l=c.value,d=c.styleSpec,y=d.light,M=c.style;let T=[];const P=ki(l);if(l===void 0)return T;if(P!=="object")return T=T.concat([new q("light",l,`object expected, ${P} found`)]),T;for(const L in l){const W=L.match(/^(.*)-transition$/);T=T.concat(W&&y[W[1]]&&y[W[1]].transition?c.validateSpec({key:L,value:l[L],valueSpec:d.transition,validateSpec:c.validateSpec,style:M,styleSpec:d}):y[L]?c.validateSpec({key:L,value:l[L],valueSpec:y[L],validateSpec:c.validateSpec,style:M,styleSpec:d}):[new q(L,l[L],`unknown property "${L}"`)])}return T}function Ka(c){const l=c.value,d=c.styleSpec,y=d.sky,M=c.style,T=ki(l);if(l===void 0)return[];if(T!=="object")return[new q("sky",l,`object expected, ${T} found`)];let P=[];for(const L in l)P=P.concat(y[L]?Po({key:L,value:l[L],valueSpec:y[L],style:M,styleSpec:d}):[new q(L,l[L],`unknown property "${L}"`)]);return P}function To(c){const l=c.value,d=c.styleSpec,y=d.terrain,M=c.style;let T=[];const P=ki(l);if(l===void 0)return T;if(P!=="object")return T=T.concat([new q("terrain",l,`object expected, ${P} found`)]),T;for(const L in l)T=T.concat(y[L]?c.validateSpec({key:L,value:l[L],valueSpec:y[L],validateSpec:c.validateSpec,style:M,styleSpec:d}):[new q(L,l[L],`unknown property "${L}"`)]);return T}function wA(c){let l=[];const d=c.value,y=c.key;if(Array.isArray(d)){const M=[],T=[];for(const P in d)d[P].id&&M.includes(d[P].id)&&l.push(new q(y,d,`all the sprites' ids must be unique, but ${d[P].id} is duplicated`)),M.push(d[P].id),d[P].url&&T.includes(d[P].url)&&l.push(new q(y,d,`all the sprites' URLs must be unique, but ${d[P].url} is duplicated`)),T.push(d[P].url),l=l.concat(Ul({key:`${y}[${P}]`,value:d[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return jt({key:y,value:d})}const Xd={"*":()=>[],array:Ou,boolean:function(c){const l=c.value,d=c.key,y=ki(l);return y!=="boolean"?[new q(d,l,`boolean expected, ${y} found`)]:[]},number:Rl,color:function(c){const l=c.key,d=c.value,y=ki(d);return y!=="string"?[new q(l,d,`color expected, ${y} found`)]:Mi.parse(String(d))?[]:[new q(l,d,`color expected, "${d}" found`)]},constants:wl,enum:Bu,filter:Pc,function:Vd,layer:an,object:Ul,source:li,light:oo,sky:Ka,terrain:To,string:jt,formatted:function(c){return jt(c).length===0?[]:Tc(c)},resolvedImage:function(c){return jt(c).length===0?[]:Tc(c)},padding:function(c){const l=c.key,d=c.value;if(ki(d)==="array"){if(d.length<1||d.length>4)return[new q(l,d,`padding requires 1 to 4 values; ${d.length} values found`)];const y={type:"number"};let M=[];for(let T=0;T<d.length;T++)M=M.concat(c.validateSpec({key:`${l}[${T}]`,value:d[T],validateSpec:c.validateSpec,valueSpec:y}));return M}return Rl({key:l,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const l=c.key,d=c.value,y=ki(d),M=c.styleSpec;if(y!=="array"||d.length<1||d.length%2!=0)return[new q(l,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let T=[];for(let P=0;P<d.length;P+=2)T=T.concat(Bu({key:`${l}[${P}]`,value:d[P],valueSpec:M.layout_symbol["text-anchor"]})),T=T.concat(Ou({key:`${l}[${P+1}]`,value:d[P+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:M}));return T},sprite:wA};function Po(c){const l=c.value,d=c.valueSpec,y=c.styleSpec;return c.validateSpec=Po,d.expression&&Io(ga(l))?Vd(c):d.expression&&ko(xA(l))?Tc(c):d.type&&Xd[d.type]?Xd[d.type](c):Ul(Te({},c,{valueSpec:d.type?y[d.type]:d}))}function MA(c){const l=c.value,d=c.key,y=jt(c);return y.length||(l.indexOf("{fontstack}")===-1&&y.push(new q(d,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&y.push(new q(d,l,'"glyphs" url must include a "{range}" token'))),y}function ws(c,l=pt){let d=[];return d=d.concat(Po({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:Po,objectElementValidators:{glyphs:MA,"*":()=>[]}})),c.constants&&(d=d.concat(wl({key:"constants",value:c.constants,style:c,styleSpec:l,validateSpec:Po}))),Qu(d)}function Qa(c){return function(l){return c({...l,validateSpec:Po})}}function Qu(c){return[].concat(c).sort((l,d)=>l.line-d.line)}function ls(c){return function(...l){return Qu(c.apply(this,l))}}ws.source=ls(Qa(li)),ws.sprite=ls(Qa(wA)),ws.glyphs=ls(Qa(MA)),ws.light=ls(Qa(oo)),ws.sky=ls(Qa(Ka)),ws.terrain=ls(Qa(To)),ws.layer=ls(Qa(an)),ws.filter=ls(Qa(Pc)),ws.paintProperty=ls(Qa(ou)),ws.layoutProperty=ls(Qa(Et));const Vi=ws,Gh=Vi.light,$h=Vi.paintProperty,au=Vi.layoutProperty;function ZA(c,l){let d=!1;if(l&&l.length)for(const y of l)c.fire(new Rt(new Error(y.message))),d=!0;return d}class ya{constructor(l,d,y){const M=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const P=new Int32Array(this.arrayBuffer);l=P[0],this.d=(d=P[1])+2*(y=P[2]);for(let W=0;W<this.d*this.d;W++){const V=P[3+W],re=P[3+W+1];M.push(V===re?null:P.subarray(V,re))}const L=P[3+M.length+1];this.keys=P.subarray(P[3+M.length],L),this.bboxes=P.subarray(L),this.insert=this._insertReadonly}else{this.d=d+2*y;for(let P=0;P<this.d*this.d;P++)M.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=l,this.padding=y,this.scale=d/l,this.uid=0;const T=y/d*l;this.min=-T,this.max=l+T}insert(l,d,y,M,T){this._forEachCell(d,y,M,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(M),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,d,y,M,T,P){this.cells[T].push(P)}query(l,d,y,M,T){const P=this.min,L=this.max;if(l<=P&&d<=P&&L<=y&&L<=M&&!T)return Array.prototype.slice.call(this.keys);{const W=[];return this._forEachCell(l,d,y,M,this._queryCell,W,{},T),W}}_queryCell(l,d,y,M,T,P,L,W){const V=this.cells[T];if(V!==null){const re=this.keys,Ae=this.bboxes;for(let _e=0;_e<V.length;_e++){const Be=V[_e];if(L[Be]===void 0){const Pe=4*Be;(W?W(Ae[Pe+0],Ae[Pe+1],Ae[Pe+2],Ae[Pe+3]):l<=Ae[Pe+2]&&d<=Ae[Pe+3]&&y>=Ae[Pe+0]&&M>=Ae[Pe+1])?(L[Be]=!0,P.push(re[Be])):L[Be]=!1}}}}_forEachCell(l,d,y,M,T,P,L,W){const V=this._convertToCellCoord(l),re=this._convertToCellCoord(d),Ae=this._convertToCellCoord(y),_e=this._convertToCellCoord(M);for(let Be=V;Be<=Ae;Be++)for(let Pe=re;Pe<=_e;Pe++){const Ge=this.d*Pe+Be;if((!W||W(this._convertFromCellCoord(Be),this._convertFromCellCoord(Pe),this._convertFromCellCoord(Be+1),this._convertFromCellCoord(Pe+1)))&&T.call(this,l,d,y,M,Ge,P,L,W))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,d=3+this.cells.length+1+1;let y=0;for(let P=0;P<this.cells.length;P++)y+=this.cells[P].length;const M=new Int32Array(d+y+this.keys.length+this.bboxes.length);M[0]=this.extent,M[1]=this.n,M[2]=this.padding;let T=d;for(let P=0;P<l.length;P++){const L=l[P];M[3+P]=T,M.set(L,T),T+=L.length}return M[3+l.length]=T,M.set(this.keys,T),T+=this.keys.length,M[3+l.length+1]=T,M.set(this.bboxes,T),T+=this.bboxes.length,M.buffer}static serialize(l,d){const y=l.toArrayBuffer();return d&&d.push(y),{buffer:y}}static deserialize(l){return new ya(l.buffer)}}const cl={};function Nn(c,l,d={}){if(cl[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),cl[c]={klass:l,omit:d.omit||[],shallow:d.shallow||[]}}Nn("Object",Object),Nn("TransferableGridIndex",ya),Nn("Color",Mi),Nn("Error",Error),Nn("AJAXError",ke),Nn("ResolvedImage",ve),Nn("StylePropertyFunction",iu),Nn("StyleExpression",YA,{omit:["_evaluator"]}),Nn("ZoomDependentExpression",Us),Nn("ZoomConstantExpression",qA),Nn("CompoundExpression",Wo,{omit:["_evaluate"]});for(const c in $A)$A[c]._classRegistryKey||Nn(`Expression_${c}`,$A[c]);function zl(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Yu(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error)return c;if(zl(c)||st(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const d=c;return l&&l.push(d.buffer),d}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const d=[];for(const y of c)d.push(Yu(y,l));return d}if(typeof c=="object"){const d=c.constructor,y=d._classRegistryKey;if(!y)throw new Error(`can't serialize object of unregistered class ${d.name}`);if(!cl[y])throw new Error(`${y} is not registered.`);const M=d.serialize?d.serialize(c,l):{};if(d.serialize){if(l&&M===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in c){if(!c.hasOwnProperty(T)||cl[y].omit.indexOf(T)>=0)continue;const P=c[T];M[T]=cl[y].shallow.indexOf(T)>=0?P:Yu(P,l)}c instanceof Error&&(M.message=c.message)}if(M.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(M.$name=y),M}throw new Error("can't serialize object of type "+typeof c)}function XA(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||zl(c)||st(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(XA);if(typeof c=="object"){const l=c.$name||"Object";if(!cl[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:d}=cl[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(c);const y=Object.create(d.prototype);for(const M of Object.keys(c)){if(M==="$name")continue;const T=c[M];y[M]=cl[l].shallow.indexOf(M)>=0?T:XA(T)}return y}throw new Error("can't deserialize object of type "+typeof c)}class qu{constructor(){this.first=!0}update(l,d){const y=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=d),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=y,!0))}}const Vn={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function JA(c){for(const l of c)if(Vu(l.charCodeAt(0)))return!0;return!1}function Hu(c){for(const l of c)if(!ep(l.charCodeAt(0)))return!1;return!0}function ep(c){return!(Vn.Arabic(c)||Vn["Arabic Supplement"](c)||Vn["Arabic Extended-A"](c)||Vn["Arabic Presentation Forms-A"](c)||Vn["Arabic Presentation Forms-B"](c))}function Vu(c){return!(c!==746&&c!==747&&(c<4352||!(Vn["Bopomofo Extended"](c)||Vn.Bopomofo(c)||Vn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Vn["CJK Compatibility Ideographs"](c)||Vn["CJK Compatibility"](c)||Vn["CJK Radicals Supplement"](c)||Vn["CJK Strokes"](c)||!(!Vn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Vn["CJK Unified Ideographs Extension A"](c)||Vn["CJK Unified Ideographs"](c)||Vn["Enclosed CJK Letters and Months"](c)||Vn["Hangul Compatibility Jamo"](c)||Vn["Hangul Jamo Extended-A"](c)||Vn["Hangul Jamo Extended-B"](c)||Vn["Hangul Jamo"](c)||Vn["Hangul Syllables"](c)||Vn.Hiragana(c)||Vn["Ideographic Description Characters"](c)||Vn.Kanbun(c)||Vn["Kangxi Radicals"](c)||Vn["Katakana Phonetic Extensions"](c)||Vn.Katakana(c)&&c!==12540||!(!Vn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Vn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Vn["Unified Canadian Aboriginal Syllabics"](c)||Vn["Unified Canadian Aboriginal Syllabics Extended"](c)||Vn["Vertical Forms"](c)||Vn["Yijing Hexagram Symbols"](c)||Vn["Yi Syllables"](c)||Vn["Yi Radicals"](c))))}function Zu(c){return!(Vu(c)||function(l){return!!(Vn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Vn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Vn["Letterlike Symbols"](l)||Vn["Number Forms"](l)||Vn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Vn["Control Pictures"](l)&&l!==9251||Vn["Optical Character Recognition"](l)||Vn["Enclosed Alphanumerics"](l)||Vn["Geometric Shapes"](l)||Vn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Vn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Vn["CJK Symbols and Punctuation"](l)||Vn.Katakana(l)||Vn["Private Use Area"](l)||Vn["CJK Compatibility Forms"](l)||Vn["Small Form Variants"](l)||Vn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function ec(c){return c>=1424&&c<=2303||Vn["Arabic Presentation Forms-A"](c)||Vn["Arabic Presentation Forms-B"](c)}function Jd(c,l){return!(!l&&ec(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Vn.Khmer(c))}function Kc(c){for(const l of c)if(ec(l.charCodeAt(0)))return!0;return!1}const Xu=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class wo{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qu,this.transition={})}isSupportedScript(l){return function(d,y){for(const M of d)if(!Jd(M.charCodeAt(0),y))return!1;return!0}(l,Xu.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,d=l-Math.floor(l),y=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*d}}}class Ju{constructor(l,d){this.property=l,this.value=d,this.expression=function(y,M){if(Io(y))return new iu(y,M);if(ko(y)){const T=Wh(y,M);if(T.result==="error")throw new Error(T.value.map(P=>`${P.key}: ${P.message}`).join(", "));return T.value}{let T=y;return M.type==="color"&&typeof y=="string"?T=Mi.parse(y):M.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?M.type==="variableAnchorOffsetCollection"&&Array.isArray(y)&&(T=Ui.parse(y)):T=ro.parse(y),{kind:"constant",evaluate:()=>T}}}(d===void 0?l.specification.default:d,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,y){return this.property.possiblyEvaluate(this,l,d,y)}}class dd{constructor(l){this.property=l,this.value=new Ju(l,void 0)}transitioned(l,d){return new Qh(this.property,this.value,d,X({},l.transition,this.transition),l.now)}untransitioned(){return new Qh(this.property,this.value,null,{},0)}}class tp{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return De(this._values[l].value.value)}setValue(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new dd(this._values[l].property)),this._values[l].value=new Ju(this._values[l].property,d===null?void 0:De(d))}getTransition(l){return De(this._values[l].transition)}setTransition(l,d){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new dd(this._values[l].property)),this._values[l].transition=De(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y);const M=this.getTransition(d);M!==void 0&&(l[`${d}-transition`]=M)}return l}transitioned(l,d){const y=new Yh(this._properties);for(const M of Object.keys(this._values))y._values[M]=this._values[M].transitioned(l,d._values[M]);return y}untransitioned(){const l=new Yh(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class Qh{constructor(l,d,y,M,T){this.property=l,this.value=d,this.begin=T+M.delay||0,this.end=this.begin+M.duration||0,l.specification.transition&&(M.delay||M.duration)&&(this.prior=y)}possiblyEvaluate(l,d,y){const M=l.now||0,T=this.value.possiblyEvaluate(l,d,y),P=this.prior;if(P){if(M>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(M<this.begin)return P.possiblyEvaluate(l,d,y);{const L=(M-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(l,d,y),T,function(W){if(W<=0)return 0;if(W>=1)return 1;const V=W*W,re=V*W;return 4*(W<.5?re:3*(W-V)+re-.75)}(L))}}return T}}class Yh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,y){const M=new ua(this._properties);for(const T of Object.keys(this._values))M._values[T]=this._values[T].possiblyEvaluate(l,d,y);return M}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class np{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return De(this._values[l].value)}setValue(l,d){this._values[l]=new Ju(this._values[l].property,d===null?void 0:De(d))}serialize(){const l={};for(const d of Object.keys(this._values)){const y=this.getValue(d);y!==void 0&&(l[d]=y)}return l}possiblyEvaluate(l,d,y){const M=new ua(this._properties);for(const T of Object.keys(this._values))M._values[T]=this._values[T].possiblyEvaluate(l,d,y);return M}}class ao{constructor(l,d,y){this.property=l,this.value=d,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,y,M){return this.property.evaluate(this.value,this.parameters,l,d,y,M)}}class ua{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class br{constructor(l){this.specification=l}possiblyEvaluate(l,d){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(d)}interpolate(l,d,y){const M=gt[this.specification.type];return M?M(l,d,y):l}}class Br{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,y,M){return new ao(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},y,M)}:l.expression,d)}interpolate(l,d,y){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new ao(this,{kind:"constant",value:void 0},l.parameters);const M=gt[this.specification.type];if(M){const T=M(l.value.value,d.value.value,y);return new ao(this,{kind:"constant",value:T},l.parameters)}return l}evaluate(l,d,y,M,T,P){return l.kind==="constant"?l.value:l.evaluate(d,y,M,T,P)}}class SA extends Br{possiblyEvaluate(l,d,y,M){if(l.value===void 0)return new ao(this,{kind:"constant",value:void 0},d);if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,M),P=l.property.specification.type==="resolvedImage"&&typeof T!="string"?T.name:T,L=this._calculate(P,P,P,d);return new ao(this,{kind:"constant",value:L},d)}if(l.expression.kind==="camera"){const T=this._calculate(l.expression.evaluate({zoom:d.zoom-1}),l.expression.evaluate({zoom:d.zoom}),l.expression.evaluate({zoom:d.zoom+1}),d);return new ao(this,{kind:"constant",value:T},d)}return new ao(this,l.expression,d)}evaluate(l,d,y,M,T,P){if(l.kind==="source"){const L=l.evaluate(d,y,M,T,P);return this._calculate(L,L,L,d)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(d.zoom)-1},y,M),l.evaluate({zoom:Math.floor(d.zoom)},y,M),l.evaluate({zoom:Math.floor(d.zoom)+1},y,M),d):l.value}_calculate(l,d,y,M){return M.zoom>M.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class Dc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,M){if(l.value!==void 0){if(l.expression.kind==="constant"){const T=l.expression.evaluate(d,null,{},y,M);return this._calculate(T,T,T,d)}return this._calculate(l.expression.evaluate(new wo(Math.floor(d.zoom-1),d)),l.expression.evaluate(new wo(Math.floor(d.zoom),d)),l.expression.evaluate(new wo(Math.floor(d.zoom+1),d)),d)}}_calculate(l,d,y,M){return M.zoom>M.zoomHistory.lastIntegerZoom?{from:l,to:d}:{from:y,to:d}}interpolate(l){return l}}class tc{constructor(l){this.specification=l}possiblyEvaluate(l,d,y,M){return!!l.expression.evaluate(d,null,{},y,M)}interpolate(){return!1}}class Aa{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in l){const y=l[d];y.specification.overridable&&this.overridableProperties.push(d);const M=this.defaultPropertyValues[d]=new Ju(y,void 0),T=this.defaultTransitionablePropertyValues[d]=new dd(y);this.defaultTransitioningPropertyValues[d]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=M.possiblyEvaluate({})}}}Nn("DataDrivenProperty",Br),Nn("DataConstantProperty",br),Nn("CrossFadedDataDrivenProperty",SA),Nn("CrossFadedProperty",Dc),Nn("ColorRampProperty",tc);const nc="-transition";class ka extends zt{constructor(l,d){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),d.layout&&(this._unevaluatedLayout=new np(d.layout)),d.paint)){this._transitionablePaint=new tp(d.paint);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ua(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d,y={}){d!=null&&this._validate(au,`layers.${this.id}.layout.${l}`,l,d,y)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,d):this.visibility=d)}getPaintProperty(l){return l.endsWith(nc)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d,y={}){if(d!=null&&this._validate($h,`layers.${this.id}.paint.${l}`,l,d,y))return!1;if(l.endsWith(nc))return this._transitionablePaint.setTransition(l.slice(0,-11),d||void 0),!1;{const M=this._transitionablePaint._values[l],T=M.property.specification["property-type"]==="cross-faded-data-driven",P=M.value.isDataDriven(),L=M.value;this._transitionablePaint.setValue(l,d),this._handleSpecialPaintPropertyUpdate(l);const W=this._transitionablePaint._values[l].value;return W.isDataDriven()||P||T||this._handleOverridablePaintPropertyUpdate(l,L,W)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,d,y){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),xe(l,(d,y)=>!(d===void 0||y==="layout"&&!Object.keys(d).length||y==="paint"&&!Object.keys(d).length))}_validate(l,d,y,M,T={}){return(!T||T.validate!==!1)&&ZA(this,l.call(Vi,{key:d,layerType:this.type,objectKey:y,value:M,styleSpec:pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof ao&&ud(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const eA={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class dl{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class No{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Go(c,l=1){let d=0,y=0;return{members:c.map(M=>{const T=eA[M.type].BYTES_PER_ELEMENT,P=d=rp(d,Math.max(l,T)),L=M.components||1;return y=Math.max(y,T),d+=T*L,{name:M.name,type:M.type,components:L,offset:P}}),size:rp(d,Math.max(y,l)),alignment:l}}function rp(c,l){return Math.ceil(c/l)*l}class eh extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.int16[M+0]=d,this.int16[M+1]=y,l}}eh.prototype.bytesPerElement=4,Nn("StructArrayLayout2i4",eh);class tA extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.int16[T+0]=d,this.int16[T+1]=y,this.int16[T+2]=M,l}}tA.prototype.bytesPerElement=6,Nn("StructArrayLayout3i6",tA);class Ml extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const P=4*l;return this.int16[P+0]=d,this.int16[P+1]=y,this.int16[P+2]=M,this.int16[P+3]=T,l}}Ml.prototype.bytesPerElement=8,Nn("StructArrayLayout4i8",Ml);class ip extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P){const L=this.length;return this.resize(L+1),this.emplace(L,l,d,y,M,T,P)}emplace(l,d,y,M,T,P,L){const W=6*l;return this.int16[W+0]=d,this.int16[W+1]=y,this.int16[W+2]=M,this.int16[W+3]=T,this.int16[W+4]=P,this.int16[W+5]=L,l}}ip.prototype.bytesPerElement=12,Nn("StructArrayLayout2i4i12",ip);class hd extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P){const L=this.length;return this.resize(L+1),this.emplace(L,l,d,y,M,T,P)}emplace(l,d,y,M,T,P,L){const W=4*l,V=8*l;return this.int16[W+0]=d,this.int16[W+1]=y,this.uint8[V+4]=M,this.uint8[V+5]=T,this.uint8[V+6]=P,this.uint8[V+7]=L,l}}hd.prototype.bytesPerElement=8,Nn("StructArrayLayout2i4ub8",hd);class EA extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.float32[M+0]=d,this.float32[M+1]=y,l}}EA.prototype.bytesPerElement=8,Nn("StructArrayLayout2f8",EA);class qh extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P,L,W,V,re){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,l,d,y,M,T,P,L,W,V,re)}emplace(l,d,y,M,T,P,L,W,V,re,Ae){const _e=10*l;return this.uint16[_e+0]=d,this.uint16[_e+1]=y,this.uint16[_e+2]=M,this.uint16[_e+3]=T,this.uint16[_e+4]=P,this.uint16[_e+5]=L,this.uint16[_e+6]=W,this.uint16[_e+7]=V,this.uint16[_e+8]=re,this.uint16[_e+9]=Ae,l}}qh.prototype.bytesPerElement=20,Nn("StructArrayLayout10ui20",qh);class Le extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P,L,W,V,re,Ae,_e){const Be=this.length;return this.resize(Be+1),this.emplace(Be,l,d,y,M,T,P,L,W,V,re,Ae,_e)}emplace(l,d,y,M,T,P,L,W,V,re,Ae,_e,Be){const Pe=12*l;return this.int16[Pe+0]=d,this.int16[Pe+1]=y,this.int16[Pe+2]=M,this.int16[Pe+3]=T,this.uint16[Pe+4]=P,this.uint16[Pe+5]=L,this.uint16[Pe+6]=W,this.uint16[Pe+7]=V,this.int16[Pe+8]=re,this.int16[Pe+9]=Ae,this.int16[Pe+10]=_e,this.int16[Pe+11]=Be,l}}Le.prototype.bytesPerElement=24,Nn("StructArrayLayout4i4ui4i24",Le);class rc extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.float32[T+0]=d,this.float32[T+1]=y,this.float32[T+2]=M,l}}rc.prototype.bytesPerElement=12,Nn("StructArrayLayout3f12",rc);class us extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}us.prototype.bytesPerElement=4,Nn("StructArrayLayout1ul4",us);class $i extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P,L,W,V){const re=this.length;return this.resize(re+1),this.emplace(re,l,d,y,M,T,P,L,W,V)}emplace(l,d,y,M,T,P,L,W,V,re){const Ae=10*l,_e=5*l;return this.int16[Ae+0]=d,this.int16[Ae+1]=y,this.int16[Ae+2]=M,this.int16[Ae+3]=T,this.int16[Ae+4]=P,this.int16[Ae+5]=L,this.uint32[_e+3]=W,this.uint16[Ae+8]=V,this.uint16[Ae+9]=re,l}}$i.prototype.bytesPerElement=20,Nn("StructArrayLayout6i1ul2ui20",$i);class Yr extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P){const L=this.length;return this.resize(L+1),this.emplace(L,l,d,y,M,T,P)}emplace(l,d,y,M,T,P,L){const W=6*l;return this.int16[W+0]=d,this.int16[W+1]=y,this.int16[W+2]=M,this.int16[W+3]=T,this.int16[W+4]=P,this.int16[W+5]=L,l}}Yr.prototype.bytesPerElement=12,Nn("StructArrayLayout2i2i2i12",Yr);class va extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T){const P=this.length;return this.resize(P+1),this.emplace(P,l,d,y,M,T)}emplace(l,d,y,M,T,P){const L=4*l,W=8*l;return this.float32[L+0]=d,this.float32[L+1]=y,this.float32[L+2]=M,this.int16[W+6]=T,this.int16[W+7]=P,l}}va.prototype.bytesPerElement=16,Nn("StructArrayLayout2f1f2i16",va);class ic extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const P=12*l,L=3*l;return this.uint8[P+0]=d,this.uint8[P+1]=y,this.float32[L+1]=M,this.float32[L+2]=T,l}}ic.prototype.bytesPerElement=12,Nn("StructArrayLayout2ub2f12",ic);class fd extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.uint16[T+0]=d,this.uint16[T+1]=y,this.uint16[T+2]=M,l}}fd.prototype.bytesPerElement=6,Nn("StructArrayLayout3ui6",fd);class su extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at){const It=this.length;return this.resize(It+1),this.emplace(It,l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at)}emplace(l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at,It){const ct=24*l,xt=12*l,rn=48*l;return this.int16[ct+0]=d,this.int16[ct+1]=y,this.uint16[ct+2]=M,this.uint16[ct+3]=T,this.uint32[xt+2]=P,this.uint32[xt+3]=L,this.uint32[xt+4]=W,this.uint16[ct+10]=V,this.uint16[ct+11]=re,this.uint16[ct+12]=Ae,this.float32[xt+7]=_e,this.float32[xt+8]=Be,this.uint8[rn+36]=Pe,this.uint8[rn+37]=Ge,this.uint8[rn+38]=Xe,this.uint32[xt+10]=at,this.int16[ct+22]=It,l}}su.prototype.bytesPerElement=48,Nn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",su);class pd extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at,It,ct,xt,rn,An,Un,Cr,Hn,xn,mn,sr){const Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at,It,ct,xt,rn,An,Un,Cr,Hn,xn,mn,sr)}emplace(l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge,Xe,at,It,ct,xt,rn,An,Un,Cr,Hn,xn,mn,sr,Rn){const Sn=32*l,Fr=16*l;return this.int16[Sn+0]=d,this.int16[Sn+1]=y,this.int16[Sn+2]=M,this.int16[Sn+3]=T,this.int16[Sn+4]=P,this.int16[Sn+5]=L,this.int16[Sn+6]=W,this.int16[Sn+7]=V,this.uint16[Sn+8]=re,this.uint16[Sn+9]=Ae,this.uint16[Sn+10]=_e,this.uint16[Sn+11]=Be,this.uint16[Sn+12]=Pe,this.uint16[Sn+13]=Ge,this.uint16[Sn+14]=Xe,this.uint16[Sn+15]=at,this.uint16[Sn+16]=It,this.uint16[Sn+17]=ct,this.uint16[Sn+18]=xt,this.uint16[Sn+19]=rn,this.uint16[Sn+20]=An,this.uint16[Sn+21]=Un,this.uint16[Sn+22]=Cr,this.uint32[Fr+12]=Hn,this.float32[Fr+13]=xn,this.float32[Fr+14]=mn,this.uint16[Sn+30]=sr,this.uint16[Sn+31]=Rn,l}}pd.prototype.bytesPerElement=64,Nn("StructArrayLayout8i15ui1ul2f2ui64",pd);class oc extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}oc.prototype.bytesPerElement=4,Nn("StructArrayLayout1f4",oc);class op extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=3*l;return this.uint16[6*l+0]=d,this.float32[T+1]=y,this.float32[T+2]=M,l}}op.prototype.bytesPerElement=12,Nn("StructArrayLayout1ui2f12",op);class md extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,y){const M=this.length;return this.resize(M+1),this.emplace(M,l,d,y)}emplace(l,d,y,M){const T=4*l;return this.uint32[2*l+0]=d,this.uint16[T+2]=y,this.uint16[T+3]=M,l}}md.prototype.bytesPerElement=8,Nn("StructArrayLayout1ul2ui8",md);class ac extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const y=this.length;return this.resize(y+1),this.emplace(y,l,d)}emplace(l,d,y){const M=2*l;return this.uint16[M+0]=d,this.uint16[M+1]=y,l}}ac.prototype.bytesPerElement=4,Nn("StructArrayLayout2ui4",ac);class jl extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}jl.prototype.bytesPerElement=2,Nn("StructArrayLayout1ui2",jl);class ap extends No{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,y,M){const T=this.length;return this.resize(T+1),this.emplace(T,l,d,y,M)}emplace(l,d,y,M,T){const P=4*l;return this.float32[P+0]=d,this.float32[P+1]=y,this.float32[P+2]=M,this.float32[P+3]=T,l}}ap.prototype.bytesPerElement=16,Nn("StructArrayLayout4f16",ap);class th extends dl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new E(this.anchorPointX,this.anchorPointY)}}th.prototype.size=20;class Hh extends $i{get(l){return new th(this,l)}}Nn("CollisionBoxArray",Hh);class I extends dl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}I.prototype.size=48;class u extends su{get(l){return new I(this,l)}}Nn("PlacedSymbolArray",u);class p extends dl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}p.prototype.size=64;class C extends pd{get(l){return new p(this,l)}}Nn("SymbolInstanceArray",C);class w extends oc{getoffsetX(l){return this.float32[1*l+0]}}Nn("GlyphOffsetArray",w);class k extends tA{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Nn("SymbolLineVertexArray",k);class R extends dl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}R.prototype.size=12;class j extends op{get(l){return new R(this,l)}}Nn("TextAnchorOffsetArray",j);class $ extends dl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}$.prototype.size=8;class ie extends md{get(l){return new $(this,l)}}Nn("FeatureIndexArray",ie);class de extends eh{}class fe extends eh{}class Oe extends eh{}class qe extends ip{}class Ye extends hd{}class Ze extends EA{}class We extends qh{}class ht extends Le{}class Dt extends rc{}class tt extends us{}class bt extends Yr{}class Kt extends ic{}class Ut extends fd{}class Xt extends ac{}const dn=Go([{name:"a_pos",components:2,type:"Int16"}],4),{members:un}=dn;class pn{constructor(l=[]){this.segments=l}prepareSegment(l,d,y,M){let T=this.segments[this.segments.length-1];return l>pn.MAX_VERTEX_ARRAY_LENGTH&&he(`Max vertices per segment is ${pn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!T||T.vertexLength+l>pn.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==M)&&(T={vertexOffset:d.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0},M!==void 0&&(T.sortKey=M),this.segments.push(T)),T}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,y,M){return new pn([{vertexOffset:l,primitiveOffset:d,vertexLength:y,primitiveLength:M,vaos:{},sortKey:0}])}}function $n(c,l){return 256*(c=ye(Math.floor(c),0,255))+ye(Math.floor(l),0,255)}pn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nn("SegmentVector",pn);const qr=Go([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var In={exports:{}},vr={exports:{}};vr.exports=function(c,l){var d,y,M,T,P,L,W,V;for(y=c.length-(d=3&c.length),M=l,P=3432918353,L=461845907,V=0;V<y;)W=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24,++V,M=27492+(65535&(T=5*(65535&(M=(M^=W=(65535&(W=(W=(65535&W)*P+(((W>>>16)*P&65535)<<16)&4294967295)<<15|W>>>17))*L+(((W>>>16)*L&65535)<<16)&4294967295)<<13|M>>>19))+((5*(M>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(W=0,d){case 3:W^=(255&c.charCodeAt(V+2))<<16;case 2:W^=(255&c.charCodeAt(V+1))<<8;case 1:M^=W=(65535&(W=(W=(65535&(W^=255&c.charCodeAt(V)))*P+(((W>>>16)*P&65535)<<16)&4294967295)<<15|W>>>17))*L+(((W>>>16)*L&65535)<<16)&4294967295}return M^=c.length,M=2246822507*(65535&(M^=M>>>16))+((2246822507*(M>>>16)&65535)<<16)&4294967295,M=3266489909*(65535&(M^=M>>>13))+((3266489909*(M>>>16)&65535)<<16)&4294967295,(M^=M>>>16)>>>0};var di=vr.exports,Ti={exports:{}};Ti.exports=function(c,l){for(var d,y=c.length,M=l^y,T=0;y>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(T)|(255&c.charCodeAt(++T))<<8|(255&c.charCodeAt(++T))<<16|(255&c.charCodeAt(++T))<<24))+((1540483477*(d>>>16)&65535)<<16),M=1540483477*(65535&M)+((1540483477*(M>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),y-=4,++T;switch(y){case 3:M^=(255&c.charCodeAt(T+2))<<16;case 2:M^=(255&c.charCodeAt(T+1))<<8;case 1:M=1540483477*(65535&(M^=255&c.charCodeAt(T)))+((1540483477*(M>>>16)&65535)<<16)}return M=1540483477*(65535&(M^=M>>>13))+((1540483477*(M>>>16)&65535)<<16),(M^=M>>>15)>>>0};var Hr=di,ei=Ti.exports;In.exports=Hr,In.exports.murmur3=Hr,In.exports.murmur2=ei;var Nr=h(In.exports);class qo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,d,y,M){this.ids.push(Lo(l)),this.positions.push(d,y,M)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Lo(l);let y=0,M=this.ids.length-1;for(;y<M;){const P=y+M>>1;this.ids[P]>=d?M=P:y=P+1}const T=[];for(;this.ids[y]===d;)T.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return T}static serialize(l,d){const y=new Float64Array(l.ids),M=new Uint32Array(l.positions);return Rs(y,M,0,y.length-1),d&&d.push(y.buffer,M.buffer),{ids:y,positions:M}}static deserialize(l){const d=new qo;return d.ids=l.ids,d.positions=l.positions,d.indexed=!0,d}}function Lo(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Nr(String(c))}function Rs(c,l,d,y){for(;d<y;){const M=c[d+y>>1];let T=d-1,P=y+1;for(;;){do T++;while(c[T]<M);do P--;while(c[P]>M);if(T>=P)break;Da(c,T,P),Da(l,3*T,3*P),Da(l,3*T+1,3*P+1),Da(l,3*T+2,3*P+2)}P-d<y-P?(Rs(c,l,d,P),d=P+1):(Rs(c,l,P+1,y),y=P)}}function Da(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}Nn("FeaturePositionMap",qo);class mo{constructor(l,d){this.gl=l.gl,this.location=d}}class so extends mo{constructor(l,d){super(l,d),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Xs extends mo{constructor(l,d){super(l,d),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class lu extends mo{constructor(l,d){super(l,d),this.current=Mi.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Ms=new Float32Array(16);function nA(c){return[$n(255*c.r,255*c.g),$n(255*c.b,255*c.a)]}class Wl{constructor(l,d,y){this.value=l,this.uniformNames=d.map(M=>`u_${M}`),this.type=y}setUniform(l,d,y){l.set(y.constantOr(this.value))}getBinding(l,d,y){return this.type==="color"?new lu(l,d):new so(l,d)}}class Ss{constructor(l,d){this.uniformNames=d.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=l.tlbr}setUniform(l,d,y,M){const T=M==="u_pattern_to"?this.patternTo:M==="u_pattern_from"?this.patternFrom:M==="u_pixel_ratio_to"?this.pixelRatioTo:M==="u_pixel_ratio_from"?this.pixelRatioFrom:null;T&&l.set(T)}getBinding(l,d,y){return y.substr(0,9)==="u_pattern"?new Xs(l,d):new so(l,d)}}class Ri{constructor(l,d,y,M){this.expression=l,this.type=y,this.maxValue=0,this.paintVertexAttributes=d.map(T=>({name:`a_${T}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new M}populatePaintArray(l,d,y,M,T){const P=this.paintVertexArray.length,L=this.expression.evaluate(new wo(0),d,{},M,[],T);this.paintVertexArray.resize(l),this._setPaintValue(P,l,L)}updatePaintArray(l,d,y,M){const T=this.expression.evaluate({zoom:0},y,M);this._setPaintValue(l,d,T)}_setPaintValue(l,d,y){if(this.type==="color"){const M=nA(y);for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,M[0],M[1])}else{for(let M=l;M<d;M++)this.paintVertexArray.emplace(M,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ei{constructor(l,d,y,M,T,P){this.expression=l,this.uniformNames=d.map(L=>`u_${L}_t`),this.type=y,this.useIntegerZoom=M,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=d.map(L=>({name:`a_${L}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new P}populatePaintArray(l,d,y,M,T){const P=this.expression.evaluate(new wo(this.zoom),d,{},M,[],T),L=this.expression.evaluate(new wo(this.zoom+1),d,{},M,[],T),W=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(W,l,P,L)}updatePaintArray(l,d,y,M){const T=this.expression.evaluate({zoom:this.zoom},y,M),P=this.expression.evaluate({zoom:this.zoom+1},y,M);this._setPaintValue(l,d,T,P)}_setPaintValue(l,d,y,M){if(this.type==="color"){const T=nA(y),P=nA(M);for(let L=l;L<d;L++)this.paintVertexArray.emplace(L,T[0],T[1],P[0],P[1])}else{for(let T=l;T<d;T++)this.paintVertexArray.emplace(T,y,M);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(M))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d){const y=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,M=ye(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);l.set(M)}getBinding(l,d,y){return new so(l,d)}}class na{constructor(l,d,y,M,T,P){this.expression=l,this.type=d,this.useIntegerZoom=y,this.zoom=M,this.layerId=P,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(l,d,y){const M=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(M,l,d.patterns&&d.patterns[this.layerId],y)}updatePaintArray(l,d,y,M,T){this._setPaintValues(l,d,y.patterns&&y.patterns[this.layerId],T)}_setPaintValues(l,d,y,M){if(!M||!y)return;const{min:T,mid:P,max:L}=y,W=M[T],V=M[P],re=M[L];if(W&&V&&re)for(let Ae=l;Ae<d;Ae++)this.zoomInPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],W.tl[0],W.tl[1],W.br[0],W.br[1],V.pixelRatio,W.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ae,V.tl[0],V.tl[1],V.br[0],V.br[1],re.tl[0],re.tl[1],re.br[0],re.br[1],V.pixelRatio,re.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,qr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,qr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Fc{constructor(l,d,y){this.binders={},this._buffers=[];const M=[];for(const T in l.paint._values){if(!y(T))continue;const P=l.paint.get(T);if(!(P instanceof ao&&ud(P.property.specification)))continue;const L=_a(T,l.type),W=P.value,V=P.property.specification.type,re=P.property.useIntegerZoom,Ae=P.property.specification["property-type"],_e=Ae==="cross-faded"||Ae==="cross-faded-data-driven";if(W.kind==="constant")this.binders[T]=_e?new Ss(W.value,L):new Wl(W.value,L,V),M.push(`/u_${T}`);else if(W.kind==="source"||_e){const Be=Es(T,V,"source");this.binders[T]=_e?new na(W,V,re,d,Be,l.id):new Ri(W,L,V,Be),M.push(`/a_${T}`)}else{const Be=Es(T,V,"composite");this.binders[T]=new Ei(W,L,V,re,d,Be),M.push(`/z_${T}`)}}this.cacheKey=M.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof Ri||d instanceof Ei?d.maxValue:0}populatePaintArrays(l,d,y,M,T){for(const P in this.binders){const L=this.binders[P];(L instanceof Ri||L instanceof Ei||L instanceof na)&&L.populatePaintArray(l,d,y,M,T)}}setConstantPatternPositions(l,d){for(const y in this.binders){const M=this.binders[y];M instanceof Ss&&M.setConstantPatternPositions(l,d)}}updatePaintArrays(l,d,y,M,T){let P=!1;for(const L in l){const W=d.getPositions(L);for(const V of W){const re=y.feature(V.index);for(const Ae in this.binders){const _e=this.binders[Ae];if((_e instanceof Ri||_e instanceof Ei||_e instanceof na)&&_e.expression.isStateDependent===!0){const Be=M.paint.get(Ae);_e.expression=Be.value,_e.updatePaintArray(V.start,V.end,re,l[L],T),P=!0}}}}return P}defines(){const l=[];for(const d in this.binders){const y=this.binders[d];(y instanceof Wl||y instanceof Ss)&&l.push(...y.uniformNames.map(M=>`#define HAS_UNIFORM_${M}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Ri||y instanceof Ei)for(let M=0;M<y.paintVertexAttributes.length;M++)l.push(y.paintVertexAttributes[M].name);else if(y instanceof na)for(let M=0;M<qr.members.length;M++)l.push(qr.members[M].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const y=this.binders[d];if(y instanceof Wl||y instanceof Ss||y instanceof Ei)for(const M of y.uniformNames)l.push(M)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,d){const y=[];for(const M in this.binders){const T=this.binders[M];if(T instanceof Wl||T instanceof Ss||T instanceof Ei){for(const P of T.uniformNames)if(d[P]){const L=T.getBinding(l,d[P],P);y.push({name:P,property:M,binding:L})}}}return y}setUniforms(l,d,y,M){for(const{name:T,property:P,binding:L}of d)this.binders[P].setUniform(L,M,y.get(P),T)}updatePaintBuffers(l){this._buffers=[];for(const d in this.binders){const y=this.binders[d];if(l&&y instanceof na){const M=l.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;M&&this._buffers.push(M)}else(y instanceof Ri||y instanceof Ei)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(l){for(const d in this.binders){const y=this.binders[d];(y instanceof Ri||y instanceof Ei||y instanceof na)&&y.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof Ri||d instanceof Ei||d instanceof na)&&d.destroy()}}}class Ho{constructor(l,d,y=()=>!0){this.programConfigurations={};for(const M of l)this.programConfigurations[M.id]=new Fc(M,d,y);this.needsUpload=!1,this._featureMap=new qo,this._bufferOffset=0}populatePaintArrays(l,d,y,M,T,P){for(const L in this.programConfigurations)this.programConfigurations[L].populatePaintArrays(l,d,M,T,P);d.id!==void 0&&this._featureMap.add(d.id,y,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,y,M){for(const T of y)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(l,this._featureMap,d,T,M)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function _a(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function Es(c,l,d){const y={color:{source:EA,composite:ap},number:{source:oc,composite:EA}},M=function(T){return{"line-pattern":{source:We,composite:We},"fill-pattern":{source:We,composite:We},"fill-extrusion-pattern":{source:We,composite:We}}[T]}(c);return M&&M[d]||y[l][d]}Nn("ConstantBinder",Wl),Nn("CrossFadedConstantBinder",Ss),Nn("SourceExpressionBinder",Ri),Nn("CrossFadedCompositeBinder",na),Nn("CompositeExpressionBinder",Ei),Nn("ProgramConfiguration",Fc,{omit:["_buffers"]}),Nn("ProgramConfigurationSet",Ho);const Pi=8192,sc=Math.pow(2,14)-1,Vh=-sc-1;function uu(c){const l=Pi/c.extent,d=c.loadGeometry();for(let y=0;y<d.length;y++){const M=d[y];for(let T=0;T<M.length;T++){const P=M[T],L=Math.round(P.x*l),W=Math.round(P.y*l);P.x=ye(L,Vh,sc),P.y=ye(W,Vh,sc),(L<P.x||L>P.x+1||W<P.y||W>P.y+1)&&he("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function lc(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?uu(c):[]}}function Iu(c,l,d,y,M){c.emplaceBack(2*l+(y+1)/2,2*d+(M+1)/2)}class Zh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new fe,this.indexArray=new Ut,this.segments=new pn,this.programConfigurations=new Ho(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){const M=this.layers[0],T=[];let P=null,L=!1;M.type==="circle"&&(P=M.layout.get("circle-sort-key"),L=!P.isConstant());for(const{feature:W,id:V,index:re,sourceLayerIndex:Ae}of l){const _e=this.layers[0]._featureFilter.needGeometry,Be=lc(W,_e);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),Be,y))continue;const Pe=L?P.evaluate(Be,{},y):void 0,Ge={id:V,properties:W.properties,type:W.type,sourceLayerIndex:Ae,index:re,geometry:_e?Be.geometry:uu(W),patterns:{},sortKey:Pe};T.push(Ge)}L&&T.sort((W,V)=>W.sortKey-V.sortKey);for(const W of T){const{geometry:V,index:re,sourceLayerIndex:Ae}=W,_e=l[re].feature;this.addFeature(W,V,re,y),d.featureIndex.insert(_e,V,re,Ae,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,un),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,y,M){for(const T of d)for(const P of T){const L=P.x,W=P.y;if(L<0||L>=Pi||W<0||W>=Pi)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),re=V.vertexLength;Iu(this.layoutVertexArray,L,W,-1,-1),Iu(this.layoutVertexArray,L,W,1,-1),Iu(this.layoutVertexArray,L,W,1,1),Iu(this.layoutVertexArray,L,W,-1,1),this.indexArray.emplaceBack(re,re+1,re+2),this.indexArray.emplaceBack(re,re+3,re+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,{},M)}}function ku(c,l){for(let d=0;d<c.length;d++)if(iA(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(iA(c,l[d]))return!0;return!!gd(c,l)}function Xh(c,l,d){return!!iA(c,l)||!!rA(l,c,d)}function OA(c,l){if(c.length===1)return Jh(l,c[0]);for(let d=0;d<l.length;d++){const y=l[d];for(let M=0;M<y.length;M++)if(iA(c,y[M]))return!0}for(let d=0;d<c.length;d++)if(Jh(l,c[d]))return!0;for(let d=0;d<l.length;d++)if(gd(c,l[d]))return!0;return!1}function sp(c,l,d){if(c.length>1){if(gd(c,l))return!0;for(let y=0;y<l.length;y++)if(rA(l[y],c,d))return!0}for(let y=0;y<c.length;y++)if(rA(c[y],l,d))return!0;return!1}function gd(c,l){if(c.length===0||l.length===0)return!1;for(let d=0;d<c.length-1;d++){const y=c[d],M=c[d+1];for(let T=0;T<l.length-1;T++)if(lp(y,M,l[T],l[T+1]))return!0}return!1}function lp(c,l,d,y){return Qe(c,d,y)!==Qe(l,d,y)&&Qe(c,l,d)!==Qe(c,l,y)}function rA(c,l,d){const y=d*d;if(l.length===1)return c.distSqr(l[0])<y;for(let M=1;M<l.length;M++)if(yd(c,l[M-1],l[M])<y)return!0;return!1}function yd(c,l,d){const y=l.distSqr(d);if(y===0)return c.distSqr(l);const M=((c.x-l.x)*(d.x-l.x)+(c.y-l.y)*(d.y-l.y))/y;return c.distSqr(M<0?l:M>1?d:d.sub(l)._mult(M)._add(l))}function Jh(c,l){let d,y,M,T=!1;for(let P=0;P<c.length;P++){d=c[P];for(let L=0,W=d.length-1;L<d.length;W=L++)y=d[L],M=d[W],y.y>l.y!=M.y>l.y&&l.x<(M.x-y.x)*(l.y-y.y)/(M.y-y.y)+y.x&&(T=!T)}return T}function iA(c,l){let d=!1;for(let y=0,M=c.length-1;y<c.length;M=y++){const T=c[y],P=c[M];T.y>l.y!=P.y>l.y&&l.x<(P.x-T.x)*(l.y-T.y)/(P.y-T.y)+T.x&&(d=!d)}return d}function b0(c,l,d){const y=d[0],M=d[2];if(c.x<y.x&&l.x<y.x||c.x>M.x&&l.x>M.x||c.y<y.y&&l.y<y.y||c.y>M.y&&l.y>M.y)return!1;const T=Qe(c,l,d[0]);return T!==Qe(c,l,d[1])||T!==Qe(c,l,d[2])||T!==Qe(c,l,d[3])}function ef(c,l,d){const y=l.paint.get(c).value;return y.kind==="constant"?y.value:d.programConfigurations.get(l.id).getMaxValue(c)}function tf(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function Au(c,l,d,y,M){if(!l[0]&&!l[1])return c;const T=E.convert(l)._mult(M);d==="viewport"&&T._rotate(-y);const P=[];for(let L=0;L<c.length;L++)P.push(c[L].sub(T));return P}let nh,rh;Nn("CircleBucket",Zh,{omit:["layers"]});var eg={get paint(){return rh=rh||new Aa({"circle-radius":new Br(pt.paint_circle["circle-radius"]),"circle-color":new Br(pt.paint_circle["circle-color"]),"circle-blur":new Br(pt.paint_circle["circle-blur"]),"circle-opacity":new Br(pt.paint_circle["circle-opacity"]),"circle-translate":new br(pt.paint_circle["circle-translate"]),"circle-translate-anchor":new br(pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new br(pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new br(pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Br(pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Br(pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Br(pt.paint_circle["circle-stroke-opacity"])})},get layout(){return nh=nh||new Aa({"circle-sort-key":new Br(pt.layout_circle["circle-sort-key"])})}},hl=1e-6,ih=typeof Float32Array<"u"?Float32Array:Array;function x0(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function rm(c,l,d){var y=l[0],M=l[1],T=l[2],P=l[3],L=l[4],W=l[5],V=l[6],re=l[7],Ae=l[8],_e=l[9],Be=l[10],Pe=l[11],Ge=l[12],Xe=l[13],at=l[14],It=l[15],ct=d[0],xt=d[1],rn=d[2],An=d[3];return c[0]=ct*y+xt*L+rn*Ae+An*Ge,c[1]=ct*M+xt*W+rn*_e+An*Xe,c[2]=ct*T+xt*V+rn*Be+An*at,c[3]=ct*P+xt*re+rn*Pe+An*It,c[4]=(ct=d[4])*y+(xt=d[5])*L+(rn=d[6])*Ae+(An=d[7])*Ge,c[5]=ct*M+xt*W+rn*_e+An*Xe,c[6]=ct*T+xt*V+rn*Be+An*at,c[7]=ct*P+xt*re+rn*Pe+An*It,c[8]=(ct=d[8])*y+(xt=d[9])*L+(rn=d[10])*Ae+(An=d[11])*Ge,c[9]=ct*M+xt*W+rn*_e+An*Xe,c[10]=ct*T+xt*V+rn*Be+An*at,c[11]=ct*P+xt*re+rn*Pe+An*It,c[12]=(ct=d[12])*y+(xt=d[13])*L+(rn=d[14])*Ae+(An=d[15])*Ge,c[13]=ct*M+xt*W+rn*_e+An*Xe,c[14]=ct*T+xt*V+rn*Be+An*at,c[15]=ct*P+xt*re+rn*Pe+An*It,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var Os,im=rm;function om(c,l,d){var y=l[0],M=l[1],T=l[2],P=l[3];return c[0]=d[0]*y+d[4]*M+d[8]*T+d[12]*P,c[1]=d[1]*y+d[5]*M+d[9]*T+d[13]*P,c[2]=d[2]*y+d[6]*M+d[10]*T+d[14]*P,c[3]=d[3]*y+d[7]*M+d[11]*T+d[15]*P,c}Os=new ih(4),ih!=Float32Array&&(Os[0]=0,Os[1]=0,Os[2]=0,Os[3]=0);class w0 extends ka{constructor(l){super(l,eg)}createBucket(l){return new Zh(l)}queryRadius(l){const d=l;return ef("circle-radius",this,d)+ef("circle-stroke-width",this,d)+tf(this.paint.get("circle-translate"))}queryIntersectsFeature(l,d,y,M,T,P,L,W){const V=Au(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),P.angle,L),re=this.paint.get("circle-radius").evaluate(d,y)+this.paint.get("circle-stroke-width").evaluate(d,y),Ae=this.paint.get("circle-pitch-alignment")==="map",_e=Ae?V:function(Pe,Ge){return Pe.map(Xe=>Qi(Xe,Ge))}(V,W),Be=Ae?re*L:re;for(const Pe of M)for(const Ge of Pe){const Xe=Ae?Ge:Qi(Ge,W);let at=Be;const It=om([],[Ge.x,Ge.y,0,1],W);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?at*=It[3]/P.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(at*=P.cameraToCenterDistance/It[3]),Xh(_e,Xe,at))return!0}return!1}}function Qi(c,l){const d=om([],[c.x,c.y,0,1],l);return new E(d[0]/d[3],d[1]/d[3])}class M0 extends Zh{}let S0;Nn("HeatmapBucket",M0,{omit:["layers"]});var nf={get paint(){return S0=S0||new Aa({"heatmap-radius":new Br(pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Br(pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new br(pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new tc(pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new br(pt.paint_heatmap["heatmap-opacity"])})}};function am(c,{width:l,height:d},y,M){if(M){if(M instanceof Uint8ClampedArray)M=new Uint8Array(M.buffer);else if(M.length!==l*d*y)throw new RangeError(`mismatched image size. expected: ${M.length} but got: ${l*d*y}`)}else M=new Uint8Array(l*d*y);return c.width=l,c.height=d,c.data=M,c}function tg(c,{width:l,height:d},y){if(l===c.width&&d===c.height)return;const M=am({},{width:l,height:d},y);E0(c,M,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,d)},y),c.width=l,c.height=d,c.data=M.data}function E0(c,l,d,y,M,T){if(M.width===0||M.height===0)return l;if(M.width>c.width||M.height>c.height||d.x>c.width-M.width||d.y>c.height-M.height)throw new RangeError("out of range source coordinates for image copy");if(M.width>l.width||M.height>l.height||y.x>l.width-M.width||y.y>l.height-M.height)throw new RangeError("out of range destination coordinates for image copy");const P=c.data,L=l.data;if(P===L)throw new Error("srcData equals dstData, so image is already copied");for(let W=0;W<M.height;W++){const V=((d.y+W)*c.width+d.x)*T,re=((y.y+W)*l.width+y.x)*T;for(let Ae=0;Ae<M.width*T;Ae++)L[re+Ae]=P[V+Ae]}return l}class Fa{constructor(l,d){am(this,l,1,d)}resize(l){tg(this,l,1)}clone(){return new Fa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,M,T){E0(l,d,y,M,T,1)}}class fl{constructor(l,d){am(this,l,4,d)}resize(l){tg(this,l,4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new fl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,y,M,T){E0(l,d,y,M,T,4)}}function vd(c){const l={},d=c.resolution||256,y=c.clips?c.clips.length:1,M=c.image||new fl({width:d,height:y});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const T=(P,L,W)=>{l[c.evaluationKey]=W;const V=c.expression.evaluate(l);M.data[P+L+0]=Math.floor(255*V.r/V.a),M.data[P+L+1]=Math.floor(255*V.g/V.a),M.data[P+L+2]=Math.floor(255*V.b/V.a),M.data[P+L+3]=Math.floor(255*V.a)};if(c.clips)for(let P=0,L=0;P<y;++P,L+=4*d)for(let W=0,V=0;W<d;W++,V+=4){const re=W/(d-1),{start:Ae,end:_e}=c.clips[P];T(L,V,Ae*(1-re)+_e*re)}else for(let P=0,L=0;P<d;P++,L+=4)T(0,L,P/(d-1));return M}Nn("AlphaImage",Fa),Nn("RGBAImage",fl);class oh extends ka{createBucket(l){return new M0(l)}constructor(l){super(l,nf),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=vd({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let BA;var ng={get paint(){return BA=BA||new Aa({"hillshade-illumination-direction":new br(pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new br(pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new br(pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new br(pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new br(pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new br(pt.paint_hillshade["hillshade-accent-color"])})}};class Tu extends ka{constructor(l){super(l,ng)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Pu=Go([{name:"a_pos",components:2,type:"Int16"}],4),{members:sm}=Pu;var up={exports:{}};function _d(c,l,d){d=d||2;var y,M,T,P,L,W,V,re=l&&l.length,Ae=re?l[0]*d:c.length,_e=rf(c,0,Ae,d,!0),Be=[];if(!_e||_e.next===_e.prev)return Be;if(re&&(_e=function(Ge,Xe,at,It){var ct,xt,rn,An=[];for(ct=0,xt=Xe.length;ct<xt;ct++)(rn=rf(Ge,Xe[ct]*It,ct<xt-1?Xe[ct+1]*It:Ge.length,It,!1))===rn.next&&(rn.steiner=!0),An.push(jv(rn));for(An.sort(Lc),ct=0;ct<An.length;ct++)at=rg(An[ct],at);return at}(c,l,_e,d)),c.length>80*d){y=T=c[0],M=P=c[1];for(var Pe=d;Pe<Ae;Pe+=d)(L=c[Pe])<y&&(y=L),(W=c[Pe+1])<M&&(M=W),L>T&&(T=L),W>P&&(P=W);V=(V=Math.max(T-y,P-M))!==0?32767/V:0}return Cd(_e,Be,d,y,M,V,0),Be}function rf(c,l,d,y,M){var T,P;if(M===aA(c,l,d,y)>0)for(T=l;T<d;T+=y)P=B0(T,c[T],c[T+1],P);else for(T=d-y;T>=l;T-=y)P=B0(T,c[T],c[T+1],P);return P&&af(P,P.next)&&(fp(P),P=P.next),P}function cu(c,l){if(!c)return c;l||(l=c);var d,y=c;do if(d=!1,y.steiner||!af(y,y.next)&&Ca(y.prev,y,y.next)!==0)y=y.next;else{if(fp(y),(y=l=y.prev)===y.next)break;d=!0}while(d||y!==l);return l}function Cd(c,l,d,y,M,T,P){if(c){!P&&T&&function(re,Ae,_e,Be){var Pe=re;do Pe.z===0&&(Pe.z=xd(Pe.x,Pe.y,Ae,_e,Be)),Pe.prevZ=Pe.prev,Pe.nextZ=Pe.next,Pe=Pe.next;while(Pe!==re);Pe.prevZ.nextZ=null,Pe.prevZ=null,function(Ge){var Xe,at,It,ct,xt,rn,An,Un,Cr=1;do{for(at=Ge,Ge=null,xt=null,rn=0;at;){for(rn++,It=at,An=0,Xe=0;Xe<Cr&&(An++,It=It.nextZ);Xe++);for(Un=Cr;An>0||Un>0&&It;)An!==0&&(Un===0||!It||at.z<=It.z)?(ct=at,at=at.nextZ,An--):(ct=It,It=It.nextZ,Un--),xt?xt.nextZ=ct:Ge=ct,ct.prevZ=xt,xt=ct;at=It}xt.nextZ=null,Cr*=2}while(rn>1)}(Pe)}(c,y,M,T);for(var L,W,V=c;c.prev!==c.next;)if(L=c.prev,W=c.next,T?cp(c,y,M,T):Ap(c))l.push(L.i/d|0),l.push(c.i/d|0),l.push(W.i/d|0),fp(c),c=W.next,V=W.next;else if((c=W)===V){P?P===1?Cd(c=bd(cu(c),l,d),l,d,y,M,T,2):P===2&&dp(c,l,d,y,M,T):Cd(cu(c),l,d,y,M,T,1);break}}}function Ap(c){var l=c.prev,d=c,y=c.next;if(Ca(l,d,y)>=0)return!1;for(var M=l.x,T=d.x,P=y.x,L=l.y,W=d.y,V=y.y,re=M<T?M<P?M:P:T<P?T:P,Ae=L<W?L<V?L:V:W<V?W:V,_e=M>T?M>P?M:P:T>P?T:P,Be=L>W?L>V?L:V:W>V?W:V,Pe=y.next;Pe!==l;){if(Pe.x>=re&&Pe.x<=_e&&Pe.y>=Ae&&Pe.y<=Be&&of(M,L,T,W,P,V,Pe.x,Pe.y)&&Ca(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.next}return!0}function cp(c,l,d,y){var M=c.prev,T=c,P=c.next;if(Ca(M,T,P)>=0)return!1;for(var L=M.x,W=T.x,V=P.x,re=M.y,Ae=T.y,_e=P.y,Be=L<W?L<V?L:V:W<V?W:V,Pe=re<Ae?re<_e?re:_e:Ae<_e?Ae:_e,Ge=L>W?L>V?L:V:W>V?W:V,Xe=re>Ae?re>_e?re:_e:Ae>_e?Ae:_e,at=xd(Be,Pe,l,d,y),It=xd(Ge,Xe,l,d,y),ct=c.prevZ,xt=c.nextZ;ct&&ct.z>=at&&xt&&xt.z<=It;){if(ct.x>=Be&&ct.x<=Ge&&ct.y>=Pe&&ct.y<=Xe&&ct!==M&&ct!==P&&of(L,re,W,Ae,V,_e,ct.x,ct.y)&&Ca(ct.prev,ct,ct.next)>=0||(ct=ct.prevZ,xt.x>=Be&&xt.x<=Ge&&xt.y>=Pe&&xt.y<=Xe&&xt!==M&&xt!==P&&of(L,re,W,Ae,V,_e,xt.x,xt.y)&&Ca(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;ct&&ct.z>=at;){if(ct.x>=Be&&ct.x<=Ge&&ct.y>=Pe&&ct.y<=Xe&&ct!==M&&ct!==P&&of(L,re,W,Ae,V,_e,ct.x,ct.y)&&Ca(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;xt&&xt.z<=It;){if(xt.x>=Be&&xt.x<=Ge&&xt.y>=Pe&&xt.y<=Xe&&xt!==M&&xt!==P&&of(L,re,W,Ae,V,_e,xt.x,xt.y)&&Ca(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function bd(c,l,d){var y=c;do{var M=y.prev,T=y.next.next;!af(M,T)&&ig(M,y,y.next,T)&&Js(M,T)&&Js(T,M)&&(l.push(M.i/d|0),l.push(y.i/d|0),l.push(T.i/d|0),fp(y),fp(y.next),y=c=T),y=y.next}while(y!==c);return cu(y)}function dp(c,l,d,y,M,T){var P=c;do{for(var L=P.next.next;L!==P.prev;){if(P.i!==L.i&&hp(P,L)){var W=oA(P,L);return P=cu(P,P.next),W=cu(W,W.next),Cd(P,l,d,y,M,T,0),void Cd(W,l,d,y,M,T,0)}L=L.next}P=P.next}while(P!==c)}function Lc(c,l){return c.x-l.x}function rg(c,l){var d=function(M,T){var P,L=T,W=M.x,V=M.y,re=-1/0;do{if(V<=L.y&&V>=L.next.y&&L.next.y!==L.y){var Ae=L.x+(V-L.y)*(L.next.x-L.x)/(L.next.y-L.y);if(Ae<=W&&Ae>re&&(re=Ae,P=L.x<L.next.x?L:L.next,Ae===W))return P}L=L.next}while(L!==T);if(!P)return null;var _e,Be=P,Pe=P.x,Ge=P.y,Xe=1/0;L=P;do W>=L.x&&L.x>=Pe&&W!==L.x&&of(V<Ge?W:re,V,Pe,Ge,V<Ge?re:W,V,L.x,L.y)&&(_e=Math.abs(V-L.y)/(W-L.x),Js(L,M)&&(_e<Xe||_e===Xe&&(L.x>P.x||L.x===P.x&&O0(P,L)))&&(P=L,Xe=_e)),L=L.next;while(L!==Be);return P}(c,l);if(!d)return l;var y=oA(d,c);return cu(y,y.next),cu(d,d.next)}function O0(c,l){return Ca(c.prev,c,l.prev)<0&&Ca(l.next,c,c.next)<0}function xd(c,l,d,y,M){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*M|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-y)*M|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function jv(c){var l=c,d=c;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==c);return d}function of(c,l,d,y,M,T,P,L){return(M-P)*(l-L)>=(c-P)*(T-L)&&(c-P)*(y-L)>=(d-P)*(l-L)&&(d-P)*(T-L)>=(M-P)*(y-L)}function hp(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(d,y){var M=d;do{if(M.i!==d.i&&M.next.i!==d.i&&M.i!==y.i&&M.next.i!==y.i&&ig(M,M.next,d,y))return!0;M=M.next}while(M!==d);return!1}(c,l)&&(Js(c,l)&&Js(l,c)&&function(d,y){var M=d,T=!1,P=(d.x+y.x)/2,L=(d.y+y.y)/2;do M.y>L!=M.next.y>L&&M.next.y!==M.y&&P<(M.next.x-M.x)*(L-M.y)/(M.next.y-M.y)+M.x&&(T=!T),M=M.next;while(M!==d);return T}(c,l)&&(Ca(c.prev,c,l.prev)||Ca(c,l.prev,l))||af(c,l)&&Ca(c.prev,c,c.next)>0&&Ca(l.prev,l,l.next)>0)}function Ca(c,l,d){return(l.y-c.y)*(d.x-l.x)-(l.x-c.x)*(d.y-l.y)}function af(c,l){return c.x===l.x&&c.y===l.y}function ig(c,l,d,y){var M=sf(Ca(c,l,d)),T=sf(Ca(c,l,y)),P=sf(Ca(d,y,c)),L=sf(Ca(d,y,l));return M!==T&&P!==L||!(M!==0||!ah(c,d,l))||!(T!==0||!ah(c,y,l))||!(P!==0||!ah(d,c,y))||!(L!==0||!ah(d,l,y))}function ah(c,l,d){return l.x<=Math.max(c.x,d.x)&&l.x>=Math.min(c.x,d.x)&&l.y<=Math.max(c.y,d.y)&&l.y>=Math.min(c.y,d.y)}function sf(c){return c>0?1:c<0?-1:0}function Js(c,l){return Ca(c.prev,c,c.next)<0?Ca(c,l,c.next)>=0&&Ca(c,c.prev,l)>=0:Ca(c,l,c.prev)<0||Ca(c,c.next,l)<0}function oA(c,l){var d=new wd(c.i,c.x,c.y),y=new wd(l.i,l.x,l.y),M=c.next,T=l.prev;return c.next=l,l.prev=c,d.next=M,M.prev=d,y.next=d,d.prev=y,T.next=y,y.prev=T,y}function B0(c,l,d,y){var M=new wd(c,l,d);return y?(M.next=y.next,M.prev=y,y.next.prev=M,y.next=M):(M.prev=M,M.next=M),M}function fp(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function wd(c,l,d){this.i=c,this.x=l,this.y=d,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aA(c,l,d,y){for(var M=0,T=l,P=d-y;T<d;T+=y)M+=(c[P]-c[T])*(c[T+1]+c[P+1]),P=T;return M}up.exports=_d,up.exports.default=_d,_d.deviation=function(c,l,d,y){var M=l&&l.length,T=Math.abs(aA(c,0,M?l[0]*d:c.length,d));if(M)for(var P=0,L=l.length;P<L;P++)T-=Math.abs(aA(c,l[P]*d,P<L-1?l[P+1]*d:c.length,d));var W=0;for(P=0;P<y.length;P+=3){var V=y[P]*d,re=y[P+1]*d,Ae=y[P+2]*d;W+=Math.abs((c[V]-c[Ae])*(c[re+1]-c[V+1])-(c[V]-c[re])*(c[Ae+1]-c[V+1]))}return T===0&&W===0?0:Math.abs((W-T)/T)},_d.flatten=function(c){for(var l=c[0][0].length,d={vertices:[],holes:[],dimensions:l},y=0,M=0;M<c.length;M++){for(var T=0;T<c[M].length;T++)for(var P=0;P<l;P++)d.vertices.push(c[M][T][P]);M>0&&d.holes.push(y+=c[M-1].length)}return d};var sh=h(up.exports);function og(c,l,d,y,M){I0(c,l,d||0,y||c.length-1,M||uf)}function I0(c,l,d,y,M){for(;y>d;){if(y-d>600){var T=y-d+1,P=l-d+1,L=Math.log(T),W=.5*Math.exp(2*L/3),V=.5*Math.sqrt(L*W*(T-W)/T)*(P-T/2<0?-1:1);I0(c,l,Math.max(d,Math.floor(l-P*W/T+V)),Math.min(y,Math.floor(l+(T-P)*W/T+V)),M)}var re=c[l],Ae=d,_e=y;for(lf(c,d,l),M(c[y],re)>0&&lf(c,d,y);Ae<_e;){for(lf(c,Ae,_e),Ae++,_e--;M(c[Ae],re)<0;)Ae++;for(;M(c[_e],re)>0;)_e--}M(c[d],re)===0?lf(c,d,_e):lf(c,++_e,y),_e<=l&&(d=_e+1),l<=_e&&(y=_e-1)}}function lf(c,l,d){var y=c[l];c[l]=c[d],c[d]=y}function uf(c,l){return c<l?-1:c>l?1:0}function lh(c,l){const d=c.length;if(d<=1)return[c];const y=[];let M,T;for(let P=0;P<d;P++){const L=ge(c[P]);L!==0&&(c[P].area=Math.abs(L),T===void 0&&(T=L<0),T===L<0?(M&&y.push(M),M=[c[P]]):M.push(c[P]))}if(M&&y.push(M),l>1)for(let P=0;P<y.length;P++)y[P].length<=l||(og(y[P],l,1,y[P].length-1,Wv),y[P]=y[P].slice(0,l));return y}function Wv(c,l){return l.area-c.area}function pp(c,l,d){const y=d.patternDependencies;let M=!1;for(const T of l){const P=T.paint.get(`${c}-pattern`);P.isConstant()||(M=!0);const L=P.constantOr(null);L&&(M=!0,y[L.to]=!0,y[L.from]=!0)}return M}function lm(c,l,d,y,M){const T=M.patternDependencies;for(const P of l){const L=P.paint.get(`${c}-pattern`).value;if(L.kind!=="constant"){let W=L.evaluate({zoom:y-1},d,{},M.availableImages),V=L.evaluate({zoom:y},d,{},M.availableImages),re=L.evaluate({zoom:y+1},d,{},M.availableImages);W=W&&W.name?W.name:W,V=V&&V.name?V.name:V,re=re&&re.name?re.name:re,T[W]=!0,T[V]=!0,T[re]=!0,d.patterns[P.id]={min:W,mid:V,max:re}}}return d}class Af{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Oe,this.indexArray=new Ut,this.indexArray2=new Xt,this.programConfigurations=new Ho(l.layers,l.zoom),this.segments=new pn,this.segments2=new pn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=pp("fill",this.layers,d);const M=this.layers[0].layout.get("fill-sort-key"),T=!M.isConstant(),P=[];for(const{feature:L,id:W,index:V,sourceLayerIndex:re}of l){const Ae=this.layers[0]._featureFilter.needGeometry,_e=lc(L,Ae);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),_e,y))continue;const Be=T?M.evaluate(_e,{},y,d.availableImages):void 0,Pe={id:W,properties:L.properties,type:L.type,sourceLayerIndex:re,index:V,geometry:Ae?_e.geometry:uu(L),patterns:{},sortKey:Be};P.push(Pe)}T&&P.sort((L,W)=>L.sortKey-W.sortKey);for(const L of P){const{geometry:W,index:V,sourceLayerIndex:re}=L;if(this.hasPattern){const Ae=lm("fill",this.layers,L,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(L,W,V,y,{});d.featureIndex.insert(l[V].feature,W,V,re,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,sm),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,y,M,T){for(const P of lh(d,500)){let L=0;for(const Be of P)L+=Be.length;const W=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray),V=W.vertexLength,re=[],Ae=[];for(const Be of P){if(Be.length===0)continue;Be!==P[0]&&Ae.push(re.length/2);const Pe=this.segments2.prepareSegment(Be.length,this.layoutVertexArray,this.indexArray2),Ge=Pe.vertexLength;this.layoutVertexArray.emplaceBack(Be[0].x,Be[0].y),this.indexArray2.emplaceBack(Ge+Be.length-1,Ge),re.push(Be[0].x),re.push(Be[0].y);for(let Xe=1;Xe<Be.length;Xe++)this.layoutVertexArray.emplaceBack(Be[Xe].x,Be[Xe].y),this.indexArray2.emplaceBack(Ge+Xe-1,Ge+Xe),re.push(Be[Xe].x),re.push(Be[Xe].y);Pe.vertexLength+=Be.length,Pe.primitiveLength+=Be.length}const _e=sh(re,Ae);for(let Be=0;Be<_e.length;Be+=3)this.indexArray.emplaceBack(V+_e[Be],V+_e[Be+1],V+_e[Be+2]);W.vertexLength+=L,W.primitiveLength+=_e.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}}let um,uh;Nn("FillBucket",Af,{omit:["layers","patternFeatures"]});var Am={get paint(){return uh=uh||new Aa({"fill-antialias":new br(pt.paint_fill["fill-antialias"]),"fill-opacity":new Br(pt.paint_fill["fill-opacity"]),"fill-color":new Br(pt.paint_fill["fill-color"]),"fill-outline-color":new Br(pt.paint_fill["fill-outline-color"]),"fill-translate":new br(pt.paint_fill["fill-translate"]),"fill-translate-anchor":new br(pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new SA(pt.paint_fill["fill-pattern"])})},get layout(){return um=um||new Aa({"fill-sort-key":new Br(pt.layout_fill["fill-sort-key"])})}};class cm extends ka{constructor(l){super(l,Am)}recalculate(l,d){super.recalculate(l,d);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new Af(l)}queryRadius(){return tf(this.paint.get("fill-translate"))}queryIntersectsFeature(l,d,y,M,T,P,L){return OA(Au(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),P.angle,L),M)}isTileClipped(){return!0}}const ag=Go([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ah=Go([{name:"a_centroid",components:2,type:"Int16"}],4),{members:mp}=ag;var sA={},k0=g,sg=ch;function ch(c,l,d,y,M){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=y,this._values=M,c.readFields(Co,this,l)}function Co(c,l,d){c==1?l.id=d.readVarint():c==2?function(y,M){for(var T=y.readVarint()+y.pos;y.pos<T;){var P=M._keys[y.readVarint()],L=M._values[y.readVarint()];M.properties[P]=L}}(d,l):c==3?l.type=d.readVarint():c==4&&(l._geometry=d.pos)}function lg(c){for(var l,d,y=0,M=0,T=c.length,P=T-1;M<T;P=M++)y+=((d=c[P]).x-(l=c[M]).x)*(l.y+d.y);return y}ch.types=["Unknown","Point","LineString","Polygon"],ch.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,d=c.readVarint()+c.pos,y=1,M=0,T=0,P=0,L=[];c.pos<d;){if(M<=0){var W=c.readVarint();y=7&W,M=W>>3}if(M--,y===1||y===2)T+=c.readSVarint(),P+=c.readSVarint(),y===1&&(l&&L.push(l),l=[]),l.push(new k0(T,P));else{if(y!==7)throw new Error("unknown command "+y);l&&l.push(l[0].clone())}}return l&&L.push(l),L},ch.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,d=1,y=0,M=0,T=0,P=1/0,L=-1/0,W=1/0,V=-1/0;c.pos<l;){if(y<=0){var re=c.readVarint();d=7&re,y=re>>3}if(y--,d===1||d===2)(M+=c.readSVarint())<P&&(P=M),M>L&&(L=M),(T+=c.readSVarint())<W&&(W=T),T>V&&(V=T);else if(d!==7)throw new Error("unknown command "+d)}return[P,W,L,V]},ch.prototype.toGeoJSON=function(c,l,d){var y,M,T=this.extent*Math.pow(2,d),P=this.extent*c,L=this.extent*l,W=this.loadGeometry(),V=ch.types[this.type];function re(Be){for(var Pe=0;Pe<Be.length;Pe++){var Ge=Be[Pe];Be[Pe]=[360*(Ge.x+P)/T-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ge.y+L)/T)*Math.PI/180))-90]}}switch(this.type){case 1:var Ae=[];for(y=0;y<W.length;y++)Ae[y]=W[y][0];re(W=Ae);break;case 2:for(y=0;y<W.length;y++)re(W[y]);break;case 3:for(W=function(Be){var Pe=Be.length;if(Pe<=1)return[Be];for(var Ge,Xe,at=[],It=0;It<Pe;It++){var ct=lg(Be[It]);ct!==0&&(Xe===void 0&&(Xe=ct<0),Xe===ct<0?(Ge&&at.push(Ge),Ge=[Be[It]]):Ge.push(Be[It]))}return Ge&&at.push(Ge),at}(W),y=0;y<W.length;y++)for(M=0;M<W[y].length;M++)re(W[y][M])}W.length===1?W=W[0]:V="Multi"+V;var _e={type:"Feature",geometry:{type:V,coordinates:W},properties:this.properties};return"id"in this&&(_e.id=this.id),_e};var dm=sg,cf=Ku;function Ku(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(hm,this,l),this.length=this._features.length}function hm(c,l,d){c===15?l.version=d.readVarint():c===1?l.name=d.readString():c===5?l.extent=d.readVarint():c===2?l._features.push(d.pos):c===3?l._keys.push(d.readString()):c===4&&l._values.push(function(y){for(var M=null,T=y.readVarint()+y.pos;y.pos<T;){var P=y.readVarint()>>3;M=P===1?y.readString():P===2?y.readFloat():P===3?y.readDouble():P===4?y.readVarint64():P===5?y.readVarint():P===6?y.readSVarint():P===7?y.readBoolean():null}return M}(d))}Ku.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new dm(this._pbf,l,this.extent,this._keys,this._values)};var T0=cf;function uc(c,l,d){if(c===3){var y=new T0(d,d.readVarint()+d.pos);y.length&&(l[y.name]=y)}}sA.VectorTile=function(c,l){this.layers=c.readFields(uc,{},l)},sA.VectorTileFeature=sg,sA.VectorTileLayer=cf;const fm=sA.VectorTileFeature.types,df=Math.pow(2,13);function Uc(c,l,d,y,M,T,P,L){c.emplaceBack(l,d,2*Math.floor(y*df)+P,M*df*2,T*df*2,Math.round(L))}class dh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new qe,this.centroidVertexArray=new de,this.indexArray=new Ut,this.programConfigurations=new Ho(l.layers,l.zoom),this.segments=new pn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.features=[],this.hasPattern=pp("fill-extrusion",this.layers,d);for(const{feature:M,id:T,index:P,sourceLayerIndex:L}of l){const W=this.layers[0]._featureFilter.needGeometry,V=lc(M,W);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),V,y))continue;const re={id:T,sourceLayerIndex:L,index:P,geometry:W?V.geometry:uu(M),properties:M.properties,type:M.type,patterns:{}};this.hasPattern?this.features.push(lm("fill-extrusion",this.layers,re,this.zoom,d)):this.addFeature(re,re.geometry,P,y,{}),d.featureIndex.insert(M,re.geometry,P,L,this.index,!0)}}addFeatures(l,d,y){for(const M of this.features){const{geometry:T}=M;this.addFeature(M,T,M.index,d,y)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,mp),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,Ah.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,d,y,M,T){const P={x:0,y:0,vertexCount:0};for(const L of lh(d,500)){let W=0;for(const Pe of L)W+=Pe.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Pe of L){if(Pe.length===0||Xr(Pe))continue;let Ge=0;for(let Xe=0;Xe<Pe.length;Xe++){const at=Pe[Xe];if(Xe>=1){const It=Pe[Xe-1];if(!hf(at,It)){V.vertexLength+4>pn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ct=at.sub(It)._perp()._unit(),xt=It.dist(at);Ge+xt>32768&&(Ge=0),Uc(this.layoutVertexArray,at.x,at.y,ct.x,ct.y,0,0,Ge),Uc(this.layoutVertexArray,at.x,at.y,ct.x,ct.y,0,1,Ge),P.x+=2*at.x,P.y+=2*at.y,P.vertexCount+=2,Ge+=xt,Uc(this.layoutVertexArray,It.x,It.y,ct.x,ct.y,0,0,Ge),Uc(this.layoutVertexArray,It.x,It.y,ct.x,ct.y,0,1,Ge),P.x+=2*It.x,P.y+=2*It.y,P.vertexCount+=2;const rn=V.vertexLength;this.indexArray.emplaceBack(rn,rn+2,rn+1),this.indexArray.emplaceBack(rn+1,rn+2,rn+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+W>pn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(W,this.layoutVertexArray,this.indexArray)),fm[l.type]!=="Polygon")continue;const re=[],Ae=[],_e=V.vertexLength;for(const Pe of L)if(Pe.length!==0){Pe!==L[0]&&Ae.push(re.length/2);for(let Ge=0;Ge<Pe.length;Ge++){const Xe=Pe[Ge];Uc(this.layoutVertexArray,Xe.x,Xe.y,0,0,1,1,0),P.x+=Xe.x,P.y+=Xe.y,P.vertexCount+=1,re.push(Xe.x),re.push(Xe.y)}}const Be=sh(re,Ae);for(let Pe=0;Pe<Be.length;Pe+=3)this.indexArray.emplaceBack(_e+Be[Pe],_e+Be[Pe+2],_e+Be[Pe+1]);V.primitiveLength+=Be.length/3,V.vertexLength+=W}for(let L=0;L<P.vertexCount;L++)this.centroidVertexArray.emplaceBack(Math.floor(P.x/P.vertexCount),Math.floor(P.y/P.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}}function hf(c,l){return c.x===l.x&&(c.x<0||c.x>Pi)||c.y===l.y&&(c.y<0||c.y>Pi)}function Xr(c){return c.every(l=>l.x<0)||c.every(l=>l.x>Pi)||c.every(l=>l.y<0)||c.every(l=>l.y>Pi)}let ff;Nn("FillExtrusionBucket",dh,{omit:["layers","features"]});var Mo={get paint(){return ff=ff||new Aa({"fill-extrusion-opacity":new br(pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Br(pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new br(pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new br(pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new SA(pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Br(pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Br(pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new br(pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Md extends ka{constructor(l){super(l,Mo)}createBucket(l){return new dh(l)}queryRadius(){return tf(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,d,y,M,T,P,L,W){const V=Au(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),P.angle,L),re=this.paint.get("fill-extrusion-height").evaluate(d,y),Ae=this.paint.get("fill-extrusion-base").evaluate(d,y),_e=function(Pe,Ge,Xe,at){const It=[];for(const ct of Pe){const xt=[ct.x,ct.y,0,1];om(xt,xt,Ge),It.push(new E(xt[0]/xt[3],xt[1]/xt[3]))}return It}(V,W),Be=function(Pe,Ge,Xe,at){const It=[],ct=[],xt=at[8]*Ge,rn=at[9]*Ge,An=at[10]*Ge,Un=at[11]*Ge,Cr=at[8]*Xe,Hn=at[9]*Xe,xn=at[10]*Xe,mn=at[11]*Xe;for(const sr of Pe){const Rn=[],Sn=[];for(const Fr of sr){const wr=Fr.x,zi=Fr.y,da=at[0]*wr+at[4]*zi+at[12],ha=at[1]*wr+at[5]*zi+at[13],Ua=at[2]*wr+at[6]*zi+at[14],du=at[3]*wr+at[7]*zi+at[15],hu=Ua+An,hs=du+Un,ks=da+Cr,Vo=ha+Hn,Gs=Ua+xn,fu=du+mn,$s=new E((da+xt)/hs,(ha+rn)/hs);$s.z=hu/hs,Rn.push($s);const Qs=new E(ks/fu,Vo/fu);Qs.z=Gs/fu,Sn.push(Qs)}It.push(Rn),ct.push(Sn)}return[It,ct]}(M,Ae,re,W);return function(Pe,Ge,Xe){let at=1/0;OA(Xe,Ge)&&(at=Rc(Xe,Ge[0]));for(let It=0;It<Ge.length;It++){const ct=Ge[It],xt=Pe[It];for(let rn=0;rn<ct.length-1;rn++){const An=ct[rn],Un=[An,ct[rn+1],xt[rn+1],xt[rn],An];ku(Xe,Un)&&(at=Math.min(at,Rc(Xe,Un)))}}return at!==1/0&&at}(Be[0],Be[1],_e)}}function gp(c,l){return c.x*l.x+c.y*l.y}function Rc(c,l){if(c.length===1){let d=0;const y=l[d++];let M;for(;!M||y.equals(M);)if(M=l[d++],!M)return 1/0;for(;d<l.length;d++){const T=l[d],P=c[0],L=M.sub(y),W=T.sub(y),V=P.sub(y),re=gp(L,L),Ae=gp(L,W),_e=gp(W,W),Be=gp(V,L),Pe=gp(V,W),Ge=re*_e-Ae*Ae,Xe=(_e*Be-Ae*Pe)/Ge,at=(re*Pe-Ae*Be)/Ge,It=y.z*(1-Xe-at)+M.z*Xe+T.z*at;if(isFinite(It))return It}return 1/0}{let d=1/0;for(const y of l)d=Math.min(d,y.z);return d}}const ug=Go([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:zs}=ug,Nv=Go([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Ya}=Nv,Ag=sA.VectorTileFeature.types,Gv=Math.cos(Math.PI/180*37.5),P0=Math.pow(2,14)/.5;class pf{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Ye,this.layoutVertexArray2=new Ze,this.indexArray=new Ut,this.programConfigurations=new Ho(l.layers,l.zoom),this.segments=new pn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(l,d,y){this.hasPattern=pp("line",this.layers,d);const M=this.layers[0].layout.get("line-sort-key"),T=!M.isConstant(),P=[];for(const{feature:L,id:W,index:V,sourceLayerIndex:re}of l){const Ae=this.layers[0]._featureFilter.needGeometry,_e=lc(L,Ae);if(!this.layers[0]._featureFilter.filter(new wo(this.zoom),_e,y))continue;const Be=T?M.evaluate(_e,{},y):void 0,Pe={id:W,properties:L.properties,type:L.type,sourceLayerIndex:re,index:V,geometry:Ae?_e.geometry:uu(L),patterns:{},sortKey:Be};P.push(Pe)}T&&P.sort((L,W)=>L.sortKey-W.sortKey);for(const L of P){const{geometry:W,index:V,sourceLayerIndex:re}=L;if(this.hasPattern){const Ae=lm("line",this.layers,L,this.zoom,d);this.patternFeatures.push(Ae)}else this.addFeature(L,W,V,y,{});d.featureIndex.insert(l[V].feature,W,V,re,this.index)}}update(l,d,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,d,this.stateDependentLayers,y)}addFeatures(l,d,y){for(const M of this.patternFeatures)this.addFeature(M,M.geometry,M.index,d,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Ya)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,zs),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,y,M,T){const P=this.layers[0].layout,L=P.get("line-join").evaluate(l,{}),W=P.get("line-cap"),V=P.get("line-miter-limit"),re=P.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Ae of d)this.addLine(Ae,l,L,W,V,re);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,T,M)}addLine(l,d,y,M,T,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let at=0;at<l.length-1;at++)this.totalDistance+=l[at].dist(l[at+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const L=Ag[d.type]==="Polygon";let W=l.length;for(;W>=2&&l[W-1].equals(l[W-2]);)W--;let V=0;for(;V<W-1&&l[V].equals(l[V+1]);)V++;if(W<(L?3:2))return;y==="bevel"&&(T=1.05);const re=this.overscaling<=16?15*Pi/(512*this.overscaling):0,Ae=this.segments.prepareSegment(10*W,this.layoutVertexArray,this.indexArray);let _e,Be,Pe,Ge,Xe;this.e1=this.e2=-1,L&&(_e=l[W-2],Xe=l[V].sub(_e)._unit()._perp());for(let at=V;at<W;at++){if(Pe=at===W-1?L?l[V+1]:void 0:l[at+1],Pe&&l[at].equals(Pe))continue;Xe&&(Ge=Xe),_e&&(Be=_e),_e=l[at],Xe=Pe?Pe.sub(_e)._unit()._perp():Ge,Ge=Ge||Xe;let It=Ge.add(Xe);It.x===0&&It.y===0||It._unit();const ct=Ge.x*Xe.x+Ge.y*Xe.y,xt=It.x*Xe.x+It.y*Xe.y,rn=xt!==0?1/xt:1/0,An=2*Math.sqrt(2-2*xt),Un=xt<Gv&&Be&&Pe,Cr=Ge.x*Xe.y-Ge.y*Xe.x>0;if(Un&&at>V){const mn=_e.dist(Be);if(mn>2*re){const sr=_e.sub(_e.sub(Be)._mult(re/mn)._round());this.updateDistance(Be,sr),this.addCurrentVertex(sr,Ge,0,0,Ae),Be=sr}}const Hn=Be&&Pe;let xn=Hn?y:L?"butt":M;if(Hn&&xn==="round"&&(rn<P?xn="miter":rn<=2&&(xn="fakeround")),xn==="miter"&&rn>T&&(xn="bevel"),xn==="bevel"&&(rn>2&&(xn="flipbevel"),rn<T&&(xn="miter")),Be&&this.updateDistance(Be,_e),xn==="miter")It._mult(rn),this.addCurrentVertex(_e,It,0,0,Ae);else if(xn==="flipbevel"){if(rn>100)It=Xe.mult(-1);else{const mn=rn*Ge.add(Xe).mag()/Ge.sub(Xe).mag();It._perp()._mult(mn*(Cr?-1:1))}this.addCurrentVertex(_e,It,0,0,Ae),this.addCurrentVertex(_e,It.mult(-1),0,0,Ae)}else if(xn==="bevel"||xn==="fakeround"){const mn=-Math.sqrt(rn*rn-1),sr=Cr?mn:0,Rn=Cr?0:mn;if(Be&&this.addCurrentVertex(_e,Ge,sr,Rn,Ae),xn==="fakeround"){const Sn=Math.round(180*An/Math.PI/20);for(let Fr=1;Fr<Sn;Fr++){let wr=Fr/Sn;if(wr!==.5){const da=wr-.5;wr+=wr*da*(wr-1)*((1.0904+ct*(ct*(3.55645-1.43519*ct)-3.2452))*da*da+(.848013+ct*(.215638*ct-1.06021)))}const zi=Xe.sub(Ge)._mult(wr)._add(Ge)._unit()._mult(Cr?-1:1);this.addHalfVertex(_e,zi.x,zi.y,!1,Cr,0,Ae)}}Pe&&this.addCurrentVertex(_e,Xe,-sr,-Rn,Ae)}else if(xn==="butt")this.addCurrentVertex(_e,It,0,0,Ae);else if(xn==="square"){const mn=Be?1:-1;this.addCurrentVertex(_e,It,mn,mn,Ae)}else xn==="round"&&(Be&&(this.addCurrentVertex(_e,Ge,0,0,Ae),this.addCurrentVertex(_e,Ge,1,1,Ae,!0)),Pe&&(this.addCurrentVertex(_e,Xe,-1,-1,Ae,!0),this.addCurrentVertex(_e,Xe,0,0,Ae)));if(Un&&at<W-1){const mn=_e.dist(Pe);if(mn>2*re){const sr=_e.add(Pe.sub(_e)._mult(re/mn)._round());this.updateDistance(_e,sr),this.addCurrentVertex(sr,Xe,0,0,Ae),_e=sr}}}}addCurrentVertex(l,d,y,M,T,P=!1){const L=d.y*M-d.x,W=-d.y-d.x*M;this.addHalfVertex(l,d.x+d.y*y,d.y-d.x*y,P,!1,y,T),this.addHalfVertex(l,L,W,P,!0,-M,T),this.distance>P0/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,d,y,M,T,P))}addHalfVertex({x:l,y:d},y,M,T,P,L,W){const V=.5*(this.lineClips?this.scaledDistance*(P0-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(T?1:0),(d<<1)+(P?1:0),Math.round(63*y)+128,Math.round(63*M)+128,1+(L===0?0:L<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const re=W.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,re),W.primitiveLength++),P?this.e2=re:this.e1=re}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}let A,f;Nn("LineBucket",pf,{omit:["layers","patternFeatures"]});var x={get paint(){return f=f||new Aa({"line-opacity":new Br(pt.paint_line["line-opacity"]),"line-color":new Br(pt.paint_line["line-color"]),"line-translate":new br(pt.paint_line["line-translate"]),"line-translate-anchor":new br(pt.paint_line["line-translate-anchor"]),"line-width":new Br(pt.paint_line["line-width"]),"line-gap-width":new Br(pt.paint_line["line-gap-width"]),"line-offset":new Br(pt.paint_line["line-offset"]),"line-blur":new Br(pt.paint_line["line-blur"]),"line-dasharray":new Dc(pt.paint_line["line-dasharray"]),"line-pattern":new SA(pt.paint_line["line-pattern"]),"line-gradient":new tc(pt.paint_line["line-gradient"])})},get layout(){return A=A||new Aa({"line-cap":new br(pt.layout_line["line-cap"]),"line-join":new Br(pt.layout_line["line-join"]),"line-miter-limit":new br(pt.layout_line["line-miter-limit"]),"line-round-limit":new br(pt.layout_line["line-round-limit"]),"line-sort-key":new Br(pt.layout_line["line-sort-key"])})}};class b extends Br{possiblyEvaluate(l,d){return d=new wo(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,y,M){return d=X({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,y,M)}}let B;class U extends ka{constructor(l){super(l,x),this.gradientVersion=0,B||(B=new b(x.paint.properties["line-width"].specification),B.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(y){return y._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Al,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,d){super.recalculate(l,d),this.paint._values["line-floorwidth"]=B.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new pf(l)}queryRadius(l){const d=l,y=Q(ef("line-width",this,d),ef("line-gap-width",this,d)),M=ef("line-offset",this,d);return y/2+Math.abs(M)+tf(this.paint.get("line-translate"))}queryIntersectsFeature(l,d,y,M,T,P,L){const W=Au(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),P.angle,L),V=L/2*Q(this.paint.get("line-width").evaluate(d,y),this.paint.get("line-gap-width").evaluate(d,y)),re=this.paint.get("line-offset").evaluate(d,y);return re&&(M=function(Ae,_e){const Be=[];for(let Pe=0;Pe<Ae.length;Pe++){const Ge=Ae[Pe],Xe=[];for(let at=0;at<Ge.length;at++){const It=Ge[at-1],ct=Ge[at],xt=Ge[at+1],rn=at===0?new E(0,0):ct.sub(It)._unit()._perp(),An=at===Ge.length-1?new E(0,0):xt.sub(ct)._unit()._perp(),Un=rn._add(An)._unit(),Cr=Un.x*An.x+Un.y*An.y;Cr!==0&&Un._mult(1/Cr),Xe.push(Un._mult(_e)._add(ct))}Be.push(Xe)}return Be}(M,re*L)),function(Ae,_e,Be){for(let Pe=0;Pe<_e.length;Pe++){const Ge=_e[Pe];if(Ae.length>=3){for(let Xe=0;Xe<Ge.length;Xe++)if(iA(Ae,Ge[Xe]))return!0}if(sp(Ae,Ge,Be))return!0}return!1}(W,M,V)}isTileClipped(){return!0}}function Q(c,l){return l>0?l+2*c:c}const ne=Go([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),le=Go([{name:"a_projected_pos",components:3,type:"Float32"}],4);Go([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const me=Go([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Go([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const $e=Go([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nt=Go([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ot(c,l,d){return c.sections.forEach(y=>{y.text=function(M,T,P){const L=T.layout.get("text-transform").evaluate(P,{});return L==="uppercase"?M=M.toLocaleUpperCase():L==="lowercase"&&(M=M.toLocaleLowerCase()),Xu.applyArabicShaping&&(M=Xu.applyArabicShaping(M)),M}(y.text,l,d)}),c}Go([{name:"triangle",components:3,type:"Uint16"}]),Go([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Go([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Go([{type:"Float32",name:"offsetX"}]),Go([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Go([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const _t={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Wt=24,cn=bn,kn=function(c,l,d,y,M){var T,P,L=8*M-y-1,W=(1<<L)-1,V=W>>1,re=-7,Ae=d?M-1:0,_e=d?-1:1,Be=c[l+Ae];for(Ae+=_e,T=Be&(1<<-re)-1,Be>>=-re,re+=L;re>0;T=256*T+c[l+Ae],Ae+=_e,re-=8);for(P=T&(1<<-re)-1,T>>=-re,re+=y;re>0;P=256*P+c[l+Ae],Ae+=_e,re-=8);if(T===0)T=1-V;else{if(T===W)return P?NaN:1/0*(Be?-1:1);P+=Math.pow(2,y),T-=V}return(Be?-1:1)*P*Math.pow(2,T-y)},Qn=function(c,l,d,y,M,T){var P,L,W,V=8*T-M-1,re=(1<<V)-1,Ae=re>>1,_e=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,Be=y?0:T-1,Pe=y?1:-1,Ge=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(L=isNaN(l)?1:0,P=re):(P=Math.floor(Math.log(l)/Math.LN2),l*(W=Math.pow(2,-P))<1&&(P--,W*=2),(l+=P+Ae>=1?_e/W:_e*Math.pow(2,1-Ae))*W>=2&&(P++,W/=2),P+Ae>=re?(L=0,P=re):P+Ae>=1?(L=(l*W-1)*Math.pow(2,M),P+=Ae):(L=l*Math.pow(2,Ae-1)*Math.pow(2,M),P=0));M>=8;c[d+Be]=255&L,Be+=Pe,L/=256,M-=8);for(P=P<<M|L,V+=M;V>0;c[d+Be]=255&P,Be+=Pe,P/=256,V-=8);c[d+Be-Pe]|=128*Ge};function bn(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}bn.Varint=0,bn.Fixed64=1,bn.Bytes=2,bn.Fixed32=5;var Ln=4294967296,ar=1/Ln,Tr=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _r(c){return c.type===bn.Bytes?c.readVarint()+c.pos:c.pos+1}function hi(c,l,d){return d?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function Uo(c,l,d){var y=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));d.realloc(y);for(var M=d.pos-1;M>=c;M--)d.buf[M+y]=d.buf[M]}function qa(c,l){for(var d=0;d<c.length;d++)l.writeVarint(c[d])}function ba(c,l){for(var d=0;d<c.length;d++)l.writeSVarint(c[d])}function La(c,l){for(var d=0;d<c.length;d++)l.writeFloat(c[d])}function As(c,l){for(var d=0;d<c.length;d++)l.writeDouble(c[d])}function cs(c,l){for(var d=0;d<c.length;d++)l.writeBoolean(c[d])}function Sl(c,l){for(var d=0;d<c.length;d++)l.writeFixed32(c[d])}function el(c,l){for(var d=0;d<c.length;d++)l.writeSFixed32(c[d])}function Bs(c,l){for(var d=0;d<c.length;d++)l.writeFixed64(c[d])}function ds(c,l){for(var d=0;d<c.length;d++)l.writeSFixed64(c[d])}function ca(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function Is(c,l,d){c[d]=l,c[d+1]=l>>>8,c[d+2]=l>>>16,c[d+3]=l>>>24}function hh(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}bn.prototype={destroy:function(){this.buf=null},readFields:function(c,l,d){for(d=d||this.length;this.pos<d;){var y=this.readVarint(),M=y>>3,T=this.pos;this.type=7&y,c(M,l,this),this.pos===T&&this.skip(y)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=ca(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=hh(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=ca(this.buf,this.pos)+ca(this.buf,this.pos+4)*Ln;return this.pos+=8,c},readSFixed64:function(){var c=ca(this.buf,this.pos)+hh(this.buf,this.pos+4)*Ln;return this.pos+=8,c},readFloat:function(){var c=kn(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=kn(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,d,y=this.buf;return l=127&(d=y[this.pos++]),d<128?l:(l|=(127&(d=y[this.pos++]))<<7,d<128?l:(l|=(127&(d=y[this.pos++]))<<14,d<128?l:(l|=(127&(d=y[this.pos++]))<<21,d<128?l:function(M,T,P){var L,W,V=P.buf;if(L=(112&(W=V[P.pos++]))>>4,W<128||(L|=(127&(W=V[P.pos++]))<<3,W<128)||(L|=(127&(W=V[P.pos++]))<<10,W<128)||(L|=(127&(W=V[P.pos++]))<<17,W<128)||(L|=(127&(W=V[P.pos++]))<<24,W<128)||(L|=(1&(W=V[P.pos++]))<<31,W<128))return hi(M,L,T);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(d=y[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&Tr?function(d,y,M){return Tr.decode(d.subarray(y,M))}(this.buf,l,c):function(d,y,M){for(var T="",P=y;P<M;){var L,W,V,re=d[P],Ae=null,_e=re>239?4:re>223?3:re>191?2:1;if(P+_e>M)break;_e===1?re<128&&(Ae=re):_e===2?(192&(L=d[P+1]))==128&&(Ae=(31&re)<<6|63&L)<=127&&(Ae=null):_e===3?(W=d[P+2],(192&(L=d[P+1]))==128&&(192&W)==128&&((Ae=(15&re)<<12|(63&L)<<6|63&W)<=2047||Ae>=55296&&Ae<=57343)&&(Ae=null)):_e===4&&(W=d[P+2],V=d[P+3],(192&(L=d[P+1]))==128&&(192&W)==128&&(192&V)==128&&((Ae=(15&re)<<18|(63&L)<<12|(63&W)<<6|63&V)<=65535||Ae>=1114112)&&(Ae=null)),Ae===null?(Ae=65533,_e=1):Ae>65535&&(Ae-=65536,T+=String.fromCharCode(Ae>>>10&1023|55296),Ae=56320|1023&Ae),T+=String.fromCharCode(Ae),P+=_e}return T}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==bn.Bytes)return c.push(this.readVarint(l));var d=_r(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==bn.Bytes)return c.push(this.readSVarint());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==bn.Bytes)return c.push(this.readBoolean());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==bn.Bytes)return c.push(this.readFloat());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==bn.Bytes)return c.push(this.readDouble());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==bn.Bytes)return c.push(this.readFixed32());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==bn.Bytes)return c.push(this.readSFixed32());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==bn.Bytes)return c.push(this.readFixed64());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==bn.Bytes)return c.push(this.readSFixed64());var l=_r(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===bn.Varint)for(;this.buf[this.pos++]>127;);else if(l===bn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===bn.Fixed32)this.pos+=4;else{if(l!==bn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var d=new Uint8Array(l);d.set(this.buf),this.buf=d,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),Is(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),Is(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),Is(this.buf,-1&c,this.pos),Is(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),Is(this.buf,-1&c,this.pos),Is(this.buf,Math.floor(c*ar),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,d){var y,M;if(l>=0?(y=l%4294967296|0,M=l/4294967296|0):(M=~(-l/4294967296),4294967295^(y=~(-l%4294967296))?y=y+1|0:(y=0,M=M+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(T,P,L){L.buf[L.pos++]=127&T|128,T>>>=7,L.buf[L.pos++]=127&T|128,T>>>=7,L.buf[L.pos++]=127&T|128,T>>>=7,L.buf[L.pos++]=127&T|128,L.buf[L.pos]=127&(T>>>=7)}(y,0,d),function(T,P){var L=(7&T)<<4;P.buf[P.pos++]|=L|((T>>>=3)?128:0),T&&(P.buf[P.pos++]=127&T|((T>>>=7)?128:0),T&&(P.buf[P.pos++]=127&T|((T>>>=7)?128:0),T&&(P.buf[P.pos++]=127&T|((T>>>=7)?128:0),T&&(P.buf[P.pos++]=127&T|((T>>>=7)?128:0),T&&(P.buf[P.pos++]=127&T)))))}(M,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(y,M,T){for(var P,L,W=0;W<M.length;W++){if((P=M.charCodeAt(W))>55295&&P<57344){if(!L){P>56319||W+1===M.length?(y[T++]=239,y[T++]=191,y[T++]=189):L=P;continue}if(P<56320){y[T++]=239,y[T++]=191,y[T++]=189,L=P;continue}P=L-55296<<10|P-56320|65536,L=null}else L&&(y[T++]=239,y[T++]=191,y[T++]=189,L=null);P<128?y[T++]=P:(P<2048?y[T++]=P>>6|192:(P<65536?y[T++]=P>>12|224:(y[T++]=P>>18|240,y[T++]=P>>12&63|128),y[T++]=P>>6&63|128),y[T++]=63&P|128)}return T}(this.buf,c,this.pos);var d=this.pos-l;d>=128&&Uo(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),Qn(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Qn(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var d=0;d<l;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,l){this.pos++;var d=this.pos;c(l,this);var y=this.pos-d;y>=128&&Uo(d,y,this),this.pos=d-1,this.writeVarint(y),this.pos+=y},writeMessage:function(c,l,d){this.writeTag(c,bn.Bytes),this.writeRawMessage(l,d)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,qa,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,ba,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,cs,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,La,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,As,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,Sl,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,el,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,Bs,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,ds,l)},writeBytesField:function(c,l){this.writeTag(c,bn.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,bn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,bn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,bn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,bn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,bn.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,bn.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,bn.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,bn.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,bn.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};var Ac=h(cn);const js=3;function cc(c,l,d){c===1&&d.readMessage(Ws,l)}function Ws(c,l,d){if(c===3){const{id:y,bitmap:M,width:T,height:P,left:L,top:W,advance:V}=d.readMessage(K0,{});l.push({id:y,bitmap:new Fa({width:T+2*js,height:P+2*js},M),metrics:{width:T,height:P,left:L,top:W,advance:V}})}}function K0(c,l,d){c===1?l.id=d.readVarint():c===2?l.bitmap=d.readBytes():c===3?l.width=d.readVarint():c===4?l.height=d.readVarint():c===5?l.left=d.readSVarint():c===6?l.top=d.readSVarint():c===7&&(l.advance=d.readVarint())}const IA=js;function zc(c){let l=0,d=0;for(const P of c)l+=P.w*P.h,d=Math.max(d,P.w);c.sort((P,L)=>L.h-P.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let M=0,T=0;for(const P of c)for(let L=y.length-1;L>=0;L--){const W=y[L];if(!(P.w>W.w||P.h>W.h)){if(P.x=W.x,P.y=W.y,T=Math.max(T,P.y+P.h),M=Math.max(M,P.x+P.w),P.w===W.w&&P.h===W.h){const V=y.pop();L<y.length&&(y[L]=V)}else P.h===W.h?(W.x+=P.w,W.w-=P.w):P.w===W.w?(W.y+=P.h,W.h-=P.h):(y.push({x:W.x+P.w,y:W.y,w:W.w-P.w,h:P.h}),W.y+=P.h,W.h-=P.h);break}}return{w:M,h:T,fill:l/(M*T)||0}}const Ha=1;class tl{constructor(l,{pixelRatio:d,version:y,stretchX:M,stretchY:T,content:P}){this.paddedRect=l,this.pixelRatio=d,this.stretchX=M,this.stretchY=T,this.content=P,this.version=y}get tl(){return[this.paddedRect.x+Ha,this.paddedRect.y+Ha]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ha,this.paddedRect.y+this.paddedRect.h-Ha]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ha)/this.pixelRatio,(this.paddedRect.h-2*Ha)/this.pixelRatio]}}class fh{constructor(l,d){const y={},M={};this.haveRenderCallbacks=[];const T=[];this.addImages(l,y,T),this.addImages(d,M,T);const{w:P,h:L}=zc(T),W=new fl({width:P||1,height:L||1});for(const V in l){const re=l[V],Ae=y[V].paddedRect;fl.copy(re.data,W,{x:0,y:0},{x:Ae.x+Ha,y:Ae.y+Ha},re.data)}for(const V in d){const re=d[V],Ae=M[V].paddedRect,_e=Ae.x+Ha,Be=Ae.y+Ha,Pe=re.data.width,Ge=re.data.height;fl.copy(re.data,W,{x:0,y:0},{x:_e,y:Be},re.data),fl.copy(re.data,W,{x:0,y:Ge-1},{x:_e,y:Be-1},{width:Pe,height:1}),fl.copy(re.data,W,{x:0,y:0},{x:_e,y:Be+Ge},{width:Pe,height:1}),fl.copy(re.data,W,{x:Pe-1,y:0},{x:_e-1,y:Be},{width:1,height:Ge}),fl.copy(re.data,W,{x:0,y:0},{x:_e+Pe,y:Be},{width:1,height:Ge})}this.image=W,this.iconPositions=y,this.patternPositions=M}addImages(l,d,y){for(const M in l){const T=l[M],P={x:0,y:0,w:T.data.width+2*Ha,h:T.data.height+2*Ha};y.push(P),d[M]=new tl(P,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(M)}}patchUpdatedImages(l,d){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in l.updatedImages)this.patchUpdatedImage(this.iconPositions[y],l.getImage(y),d),this.patchUpdatedImage(this.patternPositions[y],l.getImage(y),d)}patchUpdatedImage(l,d,y){if(!l||!d||l.version===d.version)return;l.version=d.version;const[M,T]=l.tl;y.update(d.data,void 0,{x:M,y:T})}}var dc;Nn("ImagePosition",tl),Nn("ImageAtlas",fh),a.ah=void 0,(dc=a.ah||(a.ah={}))[dc.none=0]="none",dc[dc.horizontal=1]="horizontal",dc[dc.vertical=2]="vertical",dc[dc.horizontalOnly=3]="horizontalOnly";const pm=-17;class D0{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const y=new D0;return y.scale=l||1,y.fontStack=d,y}static forImage(l){const d=new D0;return d.imageName=l,d}}class mm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const y=new mm;for(let M=0;M<l.sections.length;M++){const T=l.sections[M];T.image?y.addImageSection(T):y.addTextSection(T,d)}return y}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let d="";for(let y=0;y<l.length;y++){const M=l.charCodeAt(y+1)||null,T=l.charCodeAt(y-1)||null;d+=M&&Zu(M)&&!_t[l[y+1]]||T&&Zu(T)&&!_t[l[y-1]]||!_t[l[y]]?l[y]:_t[l[y]]}return d}(this.text)}trim(){let l=0;for(let y=0;y<this.text.length&&dg[this.text.charCodeAt(y)];y++)l++;let d=this.text.length;for(let y=this.text.length-1;y>=0&&y>=l&&dg[this.text.charCodeAt(y)];y--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const y=new mm;return y.text=this.text.substring(l,d),y.sectionIndex=this.sectionIndex.slice(l,d),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(D0.forText(l.scale,l.fontStack||d));const y=this.sections.length-1;for(let M=0;M<l.text.length;++M)this.sectionIndex.push(y)}addImageSection(l){const d=l.image?l.image.name:"";if(d.length===0)return void he("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(D0.forImage(d)),this.sectionIndex.push(this.sections.length-1)):he("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function cg(c,l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge){const Xe=mm.fromFeature(c,M);let at;Ae===a.ah.vertical&&Xe.verticalizePunctuation();const{processBidirectionalText:It,processStyledBidirectionalText:ct}=Xu;if(It&&Xe.sections.length===1){at=[];const An=It(Xe.toString(),hg(Xe,V,T,l,y,Be,Pe));for(const Un of An){const Cr=new mm;Cr.text=Un,Cr.sections=Xe.sections;for(let Hn=0;Hn<Un.length;Hn++)Cr.sectionIndex.push(0);at.push(Cr)}}else if(ct){at=[];const An=ct(Xe.text,Xe.sectionIndex,hg(Xe,V,T,l,y,Be,Pe));for(const Un of An){const Cr=new mm;Cr.text=Un[0],Cr.sectionIndex=Un[1],Cr.sections=Xe.sections,at.push(Cr)}}else at=function(An,Un){const Cr=[],Hn=An.text;let xn=0;for(const mn of Un)Cr.push(An.substring(xn,mn)),xn=mn;return xn<Hn.length&&Cr.push(An.substring(xn,Hn.length)),Cr}(Xe,hg(Xe,V,T,l,y,Be,Pe));const xt=[],rn={positionedLines:xt,text:Xe.toString(),top:re[1],bottom:re[1],left:re[0],right:re[0],writingMode:Ae,iconsInText:!1,verticalizable:!1};return function(An,Un,Cr,Hn,xn,mn,sr,Rn,Sn,Fr,wr,zi){let da=0,ha=pm,Ua=0,du=0;const hu=Rn==="right"?1:Rn==="left"?0:.5;let hs=0;for(const $s of xn){$s.trim();const Qs=$s.getMaxScale(),Nl=(Qs-1)*Wt,pu={positionedGlyphs:[],lineOffset:0};An.positionedLines[hs]=pu;const El=pu.positionedGlyphs;let fs=0;if(!$s.length()){ha+=mn,++hs;continue}for(let Ts=0;Ts<$s.length();Ts++){const ii=$s.getSection(Ts),Ol=$s.getSectionIndex(Ts),Bl=$s.getCharCode(Ts);let fi=0,hc=null,fc=null,lA=null,mh=Wt;const pc=!(Sn===a.ah.horizontal||!wr&&!Vu(Bl)||wr&&(dg[Bl]||(ks=Bl,Vn.Arabic(ks)||Vn["Arabic Supplement"](ks)||Vn["Arabic Extended-A"](ks)||Vn["Arabic Presentation Forms-A"](ks)||Vn["Arabic Presentation Forms-B"](ks))));if(ii.imageName){const PA=Hn[ii.imageName];if(!PA)continue;lA=ii.imageName,An.iconsInText=An.iconsInText||!0,fc=PA.paddedRect;const Du=PA.displaySize;ii.scale=ii.scale*Wt/zi,hc={width:Du[0],height:Du[1],left:Ha,top:-IA,advance:pc?Du[1]:Du[0]},fi=Nl+(Wt-Du[1]*ii.scale),mh=hc.advance;const gh=pc?Du[0]*ii.scale-Wt*Qs:Du[1]*ii.scale-Wt*Qs;gh>0&&gh>fs&&(fs=gh)}else{const PA=Cr[ii.fontStack],Du=PA&&PA[Bl];if(Du&&Du.rect)fc=Du.rect,hc=Du.metrics;else{const gh=Un[ii.fontStack],z0=gh&&gh[Bl];if(!z0)continue;hc=z0.metrics}fi=(Qs-ii.scale)*Wt}pc?(An.verticalizable=!0,El.push({glyph:Bl,imageName:lA,x:da,y:ha+fi,vertical:pc,scale:ii.scale,fontStack:ii.fontStack,sectionIndex:Ol,metrics:hc,rect:fc}),da+=mh*ii.scale+Fr):(El.push({glyph:Bl,imageName:lA,x:da,y:ha+fi,vertical:pc,scale:ii.scale,fontStack:ii.fontStack,sectionIndex:Ol,metrics:hc,rect:fc}),da+=hc.advance*ii.scale+Fr)}El.length!==0&&(Ua=Math.max(da-Fr,Ua),iM(El,0,El.length-1,hu,fs)),da=0;const Jr=mn*Qs+fs;pu.lineOffset=Math.max(fs,Nl),ha+=Jr,du=Math.max(Jr,du),++hs}var ks;const Vo=ha-pm,{horizontalAlign:Gs,verticalAlign:fu}=$v(sr);(function($s,Qs,Nl,pu,El,fs,Jr,Ts,ii){const Ol=(Qs-Nl)*El;let Bl=0;Bl=fs!==Jr?-Ts*pu-pm:(-pu*ii+.5)*Jr;for(const fi of $s)for(const hc of fi.positionedGlyphs)hc.x+=Ol,hc.y+=Bl})(An.positionedLines,hu,Gs,fu,Ua,du,mn,Vo,xn.length),An.top+=-fu*Vo,An.bottom=An.top+Vo,An.left+=-Gs*Ua,An.right=An.left+Ua}(rn,l,d,y,at,P,L,W,Ae,V,_e,Ge),!function(An){for(const Un of An)if(Un.positionedGlyphs.length!==0)return!1;return!0}(xt)&&rn}const dg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},nM={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function hx(c,l,d,y,M,T){if(l.imageName){const P=y[l.imageName];return P?P.displaySize[0]*l.scale*Wt/T+M:0}{const P=d[l.fontStack],L=P&&P[c];return L?L.metrics.advance*l.scale+M:0}}function kA(c,l,d,y){const M=Math.pow(c-l,2);return y?c<l?M/2:2*M:M+Math.abs(d)*d}function rM(c,l,d){let y=0;return c===10&&(y-=1e4),d&&(y+=150),c!==40&&c!==65288||(y+=50),l!==41&&l!==65289||(y+=50),y}function fx(c,l,d,y,M,T){let P=null,L=kA(l,d,M,T);for(const W of y){const V=kA(l-W.x,d,M,T)+W.badness;V<=L&&(P=W,L=V)}return{index:c,x:l,priorBreak:P,badness:L}}function px(c){return c?px(c.priorBreak).concat(c.index):[]}function hg(c,l,d,y,M,T,P){if(T!=="point")return[];if(!c)return[];const L=[],W=function(_e,Be,Pe,Ge,Xe,at){let It=0;for(let ct=0;ct<_e.length();ct++){const xt=_e.getSection(ct);It+=hx(_e.getCharCode(ct),xt,Ge,Xe,Be,at)}return It/Math.max(1,Math.ceil(It/Pe))}(c,l,d,y,M,P),V=c.text.indexOf("​")>=0;let re=0;for(let _e=0;_e<c.length();_e++){const Be=c.getSection(_e),Pe=c.getCharCode(_e);if(dg[Pe]||(re+=hx(Pe,Be,y,M,l,P)),_e<c.length()-1){const Ge=!((Ae=Pe)<11904||!(Vn["Bopomofo Extended"](Ae)||Vn.Bopomofo(Ae)||Vn["CJK Compatibility Forms"](Ae)||Vn["CJK Compatibility Ideographs"](Ae)||Vn["CJK Compatibility"](Ae)||Vn["CJK Radicals Supplement"](Ae)||Vn["CJK Strokes"](Ae)||Vn["CJK Symbols and Punctuation"](Ae)||Vn["CJK Unified Ideographs Extension A"](Ae)||Vn["CJK Unified Ideographs"](Ae)||Vn["Enclosed CJK Letters and Months"](Ae)||Vn["Halfwidth and Fullwidth Forms"](Ae)||Vn.Hiragana(Ae)||Vn["Ideographic Description Characters"](Ae)||Vn["Kangxi Radicals"](Ae)||Vn["Katakana Phonetic Extensions"](Ae)||Vn.Katakana(Ae)||Vn["Vertical Forms"](Ae)||Vn["Yi Radicals"](Ae)||Vn["Yi Syllables"](Ae)));(nM[Pe]||Ge||Be.imageName)&&L.push(fx(_e+1,re,W,L,rM(Pe,c.getCharCode(_e+1),Ge&&V),!1))}}var Ae;return px(fx(c.length(),re,W,L,0,!0))}function $v(c){let l=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function iM(c,l,d,y,M){if(!y&&!M)return;const T=c[d],P=(c[d].x+T.metrics.advance*T.scale)*y;for(let L=l;L<=d;L++)c[L].x-=P,c[L].y+=M}function oM(c,l,d){const{horizontalAlign:y,verticalAlign:M}=$v(d),T=l[0]-c.displaySize[0]*y,P=l[1]-c.displaySize[1]*M;return{image:c,top:P,bottom:P+c.displaySize[1],left:T,right:T+c.displaySize[0]}}function mx(c,l,d,y,M,T){const P=c.image;let L;if(P.content){const Xe=P.content,at=P.pixelRatio||1;L=[Xe[0]/at,Xe[1]/at,P.displaySize[0]-Xe[2]/at,P.displaySize[1]-Xe[3]/at]}const W=l.left*T,V=l.right*T;let re,Ae,_e,Be;d==="width"||d==="both"?(Be=M[0]+W-y[3],Ae=M[0]+V+y[1]):(Be=M[0]+(W+V-P.displaySize[0])/2,Ae=Be+P.displaySize[0]);const Pe=l.top*T,Ge=l.bottom*T;return d==="height"||d==="both"?(re=M[1]+Pe-y[0],_e=M[1]+Ge+y[2]):(re=M[1]+(Pe+Ge-P.displaySize[1])/2,_e=re+P.displaySize[1]),{image:P,top:re,right:Ae,bottom:_e,left:Be,collisionPadding:L}}const yp=255,Sd=128,mf=yp*Sd;function gx(c,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new wo(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:M}=d;let T=0;for(;T<y.length&&y[T]<=c;)T++;T=Math.max(0,T-1);let P=T;for(;P<y.length&&y[P]<c+1;)P++;P=Math.min(y.length-1,P);const L=y[T],W=y[P];return d.kind==="composite"?{kind:"composite",minZoom:L,maxZoom:W,interpolationType:M}:{kind:"camera",minZoom:L,maxZoom:W,minSize:d.evaluate(new wo(L)),maxSize:d.evaluate(new wo(W)),interpolationType:M}}}function Qv(c,l,d){let y="never";const M=c.get(l);return M?y=M:c.get(d)&&(y="always"),y}const aM=sA.VectorTileFeature.types,sM=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function fg(c,l,d,y,M,T,P,L,W,V,re,Ae,_e){const Be=L?Math.min(mf,Math.round(L[0])):0,Pe=L?Math.min(mf,Math.round(L[1])):0;c.emplaceBack(l,d,Math.round(32*y),Math.round(32*M),T,P,(Be<<1)+(W?1:0),Pe,16*V,16*re,256*Ae,256*_e)}function Yv(c,l,d){c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d),c.emplaceBack(l.x,l.y,d)}function lM(c){for(const l of c.sections)if(Kc(l.text))return!0;return!1}class qv{constructor(l){this.layoutVertexArray=new ht,this.indexArray=new Ut,this.programConfigurations=l,this.segments=new pn,this.dynamicLayoutVertexArray=new Dt,this.opacityVertexArray=new tt,this.hasVisibleVertices=!1,this.placedSymbolArray=new u}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,d,y,M){this.isEmpty()||(y&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ne.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,le.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,sM,!0),this.opacityVertexBuffer.itemSize=1),(y||M)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Nn("SymbolBuffers",qv);class Hv{constructor(l,d,y){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new y,this.segments=new pn,this.collisionVertexArray=new Kt}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,me.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Nn("CollisionBuffers",Hv);class gm{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(P=>P.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=x0([]),this.placementViewportMatrix=x0([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=gx(this.zoom,d["text-size"]),this.iconSizeData=gx(this.zoom,d["icon-size"]);const y=this.layers[0].layout,M=y.get("symbol-sort-key"),T=y.get("symbol-z-order");this.canOverlap=Qv(y,"text-overlap","text-allow-overlap")!=="never"||Qv(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=T!=="viewport-y"&&!M.isConstant(),this.sortFeaturesByY=(T==="viewport-y"||T==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(P=>a.ah[P])),this.stateDependentLayerIds=this.layers.filter(P=>P.isStateDependent()).map(P=>P.id),this.sourceID=l.sourceID}createArrays(){this.text=new qv(new Ho(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new qv(new Ho(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new w,this.lineVertexArray=new k,this.symbolInstances=new C,this.textAnchorOffsets=new j}calculateGlyphDependencies(l,d,y,M,T){for(let P=0;P<l.length;P++)if(d[l.charCodeAt(P)]=!0,(y||M)&&T){const L=_t[l.charAt(P)];L&&(d[L.charCodeAt(0)]=!0)}}populate(l,d,y){const M=this.layers[0],T=M.layout,P=T.get("text-font"),L=T.get("text-field"),W=T.get("icon-image"),V=(L.value.kind!=="constant"||L.value.value instanceof jn&&!L.value.value.isEmpty()||L.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),re=W.value.kind!=="constant"||!!W.value.value||Object.keys(W.parameters).length>0,Ae=T.get("symbol-sort-key");if(this.features=[],!V&&!re)return;const _e=d.iconDependencies,Be=d.glyphDependencies,Pe=d.availableImages,Ge=new wo(this.zoom);for(const{feature:Xe,id:at,index:It,sourceLayerIndex:ct}of l){const xt=M._featureFilter.needGeometry,rn=lc(Xe,xt);if(!M._featureFilter.filter(Ge,rn,y))continue;let An,Un;if(xt||(rn.geometry=uu(Xe)),V){const Hn=M.getValueAndResolveTokens("text-field",rn,y,Pe),xn=jn.factory(Hn),mn=this.hasRTLText=this.hasRTLText||lM(xn);(!mn||Xu.getRTLTextPluginStatus()==="unavailable"||mn&&Xu.isParsed())&&(An=Ot(xn,M,rn))}if(re){const Hn=M.getValueAndResolveTokens("icon-image",rn,y,Pe);Un=Hn instanceof ve?Hn:ve.fromString(Hn)}if(!An&&!Un)continue;const Cr=this.sortFeaturesByKey?Ae.evaluate(rn,{},y):void 0;if(this.features.push({id:at,text:An,icon:Un,index:It,sourceLayerIndex:ct,geometry:rn.geometry,properties:Xe.properties,type:aM[Xe.type],sortKey:Cr}),Un&&(_e[Un.name]=!0),An){const Hn=P.evaluate(rn,{},y).join(","),xn=T.get("text-rotation-alignment")!=="viewport"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.ah.vertical)>=0;for(const mn of An.sections)if(mn.image)_e[mn.image.name]=!0;else{const sr=JA(An.toString()),Rn=mn.fontStack||Hn,Sn=Be[Rn]=Be[Rn]||{};this.calculateGlyphDependencies(mn.text,Sn,xn,this.allowVerticalPlacement,sr)}}}T.get("symbol-placement")==="line"&&(this.features=function(Xe){const at={},It={},ct=[];let xt=0;function rn(Hn){ct.push(Xe[Hn]),xt++}function An(Hn,xn,mn){const sr=It[Hn];return delete It[Hn],It[xn]=sr,ct[sr].geometry[0].pop(),ct[sr].geometry[0]=ct[sr].geometry[0].concat(mn[0]),sr}function Un(Hn,xn,mn){const sr=at[xn];return delete at[xn],at[Hn]=sr,ct[sr].geometry[0].shift(),ct[sr].geometry[0]=mn[0].concat(ct[sr].geometry[0]),sr}function Cr(Hn,xn,mn){const sr=mn?xn[0][xn[0].length-1]:xn[0][0];return`${Hn}:${sr.x}:${sr.y}`}for(let Hn=0;Hn<Xe.length;Hn++){const xn=Xe[Hn],mn=xn.geometry,sr=xn.text?xn.text.toString():null;if(!sr){rn(Hn);continue}const Rn=Cr(sr,mn),Sn=Cr(sr,mn,!0);if(Rn in It&&Sn in at&&It[Rn]!==at[Sn]){const Fr=Un(Rn,Sn,mn),wr=An(Rn,Sn,ct[Fr].geometry);delete at[Rn],delete It[Sn],It[Cr(sr,ct[wr].geometry,!0)]=wr,ct[Fr].geometry=null}else Rn in It?An(Rn,Sn,mn):Sn in at?Un(Rn,Sn,mn):(rn(Hn),at[Rn]=xt-1,It[Sn]=xt-1)}return ct.filter(Hn=>Hn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Xe,at)=>Xe.sortKey-at.sortKey)}update(l,d,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,d,this.layers,y),this.icon.programConfigurations.updatePaintArrays(l,d,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const y=this.lineVertexArray.length;if(l.segment!==void 0){let M=l.dist(d[l.segment+1]),T=l.dist(d[l.segment]);const P={};for(let L=l.segment+1;L<d.length;L++)P[L]={x:d[L].x,y:d[L].y,tileUnitDistanceFromAnchor:M},L<d.length-1&&(M+=d[L+1].dist(d[L]));for(let L=l.segment||0;L>=0;L--)P[L]={x:d[L].x,y:d[L].y,tileUnitDistanceFromAnchor:T},L>0&&(T+=d[L-1].dist(d[L]));for(let L=0;L<d.length;L++){const W=P[L];this.lineVertexArray.emplaceBack(W.x,W.y,W.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(l,d,y,M,T,P,L,W,V,re,Ae,_e){const Be=l.indexArray,Pe=l.layoutVertexArray,Ge=l.segments.prepareSegment(4*d.length,Pe,Be,this.canOverlap?P.sortKey:void 0),Xe=this.glyphOffsetArray.length,at=Ge.vertexLength,It=this.allowVerticalPlacement&&L===a.ah.vertical?Math.PI/2:0,ct=P.text&&P.text.sections;for(let xt=0;xt<d.length;xt++){const{tl:rn,tr:An,bl:Un,br:Cr,tex:Hn,pixelOffsetTL:xn,pixelOffsetBR:mn,minFontScaleX:sr,minFontScaleY:Rn,glyphOffset:Sn,isSDF:Fr,sectionIndex:wr}=d[xt],zi=Ge.vertexLength,da=Sn[1];fg(Pe,W.x,W.y,rn.x,da+rn.y,Hn.x,Hn.y,y,Fr,xn.x,xn.y,sr,Rn),fg(Pe,W.x,W.y,An.x,da+An.y,Hn.x+Hn.w,Hn.y,y,Fr,mn.x,xn.y,sr,Rn),fg(Pe,W.x,W.y,Un.x,da+Un.y,Hn.x,Hn.y+Hn.h,y,Fr,xn.x,mn.y,sr,Rn),fg(Pe,W.x,W.y,Cr.x,da+Cr.y,Hn.x+Hn.w,Hn.y+Hn.h,y,Fr,mn.x,mn.y,sr,Rn),Yv(l.dynamicLayoutVertexArray,W,It),Be.emplaceBack(zi,zi+1,zi+2),Be.emplaceBack(zi+1,zi+2,zi+3),Ge.vertexLength+=4,Ge.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Sn[0]),xt!==d.length-1&&wr===d[xt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Pe.length,P,P.index,{},_e,ct&&ct[wr])}l.placedSymbolArray.emplaceBack(W.x,W.y,Xe,this.glyphOffsetArray.length-Xe,at,V,re,W.segment,y?y[0]:0,y?y[1]:0,M[0],M[1],L,0,!1,0,Ae)}_addCollisionDebugVertex(l,d,y,M,T,P){return d.emplaceBack(0,0),l.emplaceBack(y.x,y.y,M,T,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(l,d,y,M,T,P,L){const W=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),V=W.vertexLength,re=T.layoutVertexArray,Ae=T.collisionVertexArray,_e=L.anchorX,Be=L.anchorY;this._addCollisionDebugVertex(re,Ae,P,_e,Be,new E(l,d)),this._addCollisionDebugVertex(re,Ae,P,_e,Be,new E(y,d)),this._addCollisionDebugVertex(re,Ae,P,_e,Be,new E(y,M)),this._addCollisionDebugVertex(re,Ae,P,_e,Be,new E(l,M)),W.vertexLength+=4;const Pe=T.indexArray;Pe.emplaceBack(V,V+1),Pe.emplaceBack(V+1,V+2),Pe.emplaceBack(V+2,V+3),Pe.emplaceBack(V+3,V),W.primitiveLength+=4}addDebugCollisionBoxes(l,d,y,M){for(let T=l;T<d;T++){const P=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,M?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Hv(bt,$e.members,Xt),this.iconCollisionBox=new Hv(bt,$e.members,Xt);for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(l,d,y,M,T,P,L,W,V){const re={};for(let Ae=d;Ae<y;Ae++){const _e=l.get(Ae);re.textBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.textFeatureIndex=_e.featureIndex;break}for(let Ae=M;Ae<T;Ae++){const _e=l.get(Ae);re.verticalTextBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.verticalTextFeatureIndex=_e.featureIndex;break}for(let Ae=P;Ae<L;Ae++){const _e=l.get(Ae);re.iconBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.iconFeatureIndex=_e.featureIndex;break}for(let Ae=W;Ae<V;Ae++){const _e=l.get(Ae);re.verticalIconBox={x1:_e.x1,y1:_e.y1,x2:_e.x2,y2:_e.y2,anchorPointX:_e.anchorPointX,anchorPointY:_e.anchorPointY},re.verticalIconFeatureIndex=_e.featureIndex;break}return re}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const y=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,d){const y=l.placedSymbolArray.get(d),M=y.vertexStartIndex+4*y.numGlyphs;for(let T=y.vertexStartIndex;T<M;T+=4)l.indexArray.emplaceBack(T,T+1,T+2),l.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),y=Math.cos(l),M=[],T=[],P=[];for(let L=0;L<this.symbolInstances.length;++L){P.push(L);const W=this.symbolInstances.get(L);M.push(0|Math.round(d*W.anchorX+y*W.anchorY)),T.push(W.featureIndex)}return P.sort((L,W)=>M[L]-M[W]||T[W]-T[L]),P}addToSortKeyRanges(l,d){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===d?y.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const y=this.symbolInstances.get(d);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((M,T,P)=>{M>=0&&P.indexOf(M)===T&&this.addIndicesForPlacedSymbol(this.text,M)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let yx,vx;Nn("SymbolBucket",gm,{omit:["layers","collisionBoxArray","features","compareText"]}),gm.MAX_GLYPHS=65535,gm.addDynamicAttributes=Yv;var Vv={get paint(){return vx=vx||new Aa({"icon-opacity":new Br(pt.paint_symbol["icon-opacity"]),"icon-color":new Br(pt.paint_symbol["icon-color"]),"icon-halo-color":new Br(pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Br(pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Br(pt.paint_symbol["icon-halo-blur"]),"icon-translate":new br(pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new br(pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Br(pt.paint_symbol["text-opacity"]),"text-color":new Br(pt.paint_symbol["text-color"],{runtimeType:On,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Br(pt.paint_symbol["text-halo-color"]),"text-halo-width":new Br(pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Br(pt.paint_symbol["text-halo-blur"]),"text-translate":new br(pt.paint_symbol["text-translate"]),"text-translate-anchor":new br(pt.paint_symbol["text-translate-anchor"])})},get layout(){return yx=yx||new Aa({"symbol-placement":new br(pt.layout_symbol["symbol-placement"]),"symbol-spacing":new br(pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new br(pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Br(pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new br(pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new br(pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new br(pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new br(pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new br(pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new br(pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Br(pt.layout_symbol["icon-size"]),"icon-text-fit":new br(pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new br(pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Br(pt.layout_symbol["icon-image"]),"icon-rotate":new Br(pt.layout_symbol["icon-rotate"]),"icon-padding":new Br(pt.layout_symbol["icon-padding"]),"icon-keep-upright":new br(pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Br(pt.layout_symbol["icon-offset"]),"icon-anchor":new Br(pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new br(pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new br(pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new br(pt.layout_symbol["text-rotation-alignment"]),"text-field":new Br(pt.layout_symbol["text-field"]),"text-font":new Br(pt.layout_symbol["text-font"]),"text-size":new Br(pt.layout_symbol["text-size"]),"text-max-width":new Br(pt.layout_symbol["text-max-width"]),"text-line-height":new br(pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Br(pt.layout_symbol["text-letter-spacing"]),"text-justify":new Br(pt.layout_symbol["text-justify"]),"text-radial-offset":new Br(pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new br(pt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Br(pt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Br(pt.layout_symbol["text-anchor"]),"text-max-angle":new br(pt.layout_symbol["text-max-angle"]),"text-writing-mode":new br(pt.layout_symbol["text-writing-mode"]),"text-rotate":new Br(pt.layout_symbol["text-rotate"]),"text-padding":new br(pt.layout_symbol["text-padding"]),"text-keep-upright":new br(pt.layout_symbol["text-keep-upright"]),"text-transform":new Br(pt.layout_symbol["text-transform"]),"text-offset":new Br(pt.layout_symbol["text-offset"]),"text-allow-overlap":new br(pt.layout_symbol["text-allow-overlap"]),"text-overlap":new br(pt.layout_symbol["text-overlap"]),"text-ignore-placement":new br(pt.layout_symbol["text-ignore-placement"]),"text-optional":new br(pt.layout_symbol["text-optional"])})}};class _x{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:kt,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nn("FormatSectionOverride",_x,{omit:["defaultValue"]});class pg extends ka{constructor(l){super(l,Vv)}recalculate(l,d){if(super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const M=[];for(const T of y)M.indexOf(T)<0&&M.push(T);this.layout._values["text-writing-mode"]=M}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,d,y,M){const T=this.layout.get(l).evaluate(d,{},y,M),P=this._unevaluatedLayout._values[l];return P.isDataDriven()||ko(P.value)||!T?T:function(L,W){return W.replace(/{([^{}]+)}/g,(V,re)=>L&&re in L?String(L[re]):"")}(d.properties,T)}createBucket(l){return new gm(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of Vv.paint.overridableProperties){if(!pg.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),y=new _x(d),M=new YA(y,d.property.specification);let T=null;T=d.value.kind==="constant"||d.value.kind==="source"?new qA("source",M):new Us("composite",M,d.value.zoomStops),this.paint._values[l]=new ao(d.property,T,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,y){return!(!this.layout||d.isDataDriven()||y.isDataDriven())&&pg.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const y=l.get("text-field"),M=Vv.paint.properties[d];let T=!1;const P=L=>{for(const W of L)if(M.overrides&&M.overrides.hasOverride(W))return void(T=!0)};if(y.value.kind==="constant"&&y.value.value instanceof jn)P(y.value.value.sections);else if(y.value.kind==="source"){const L=V=>{T||(V instanceof wn&&sn(V.value)===tr?P(V.value.sections):V instanceof sd?P(V.sections):V.eachChild(L))},W=y.value;W._styleExpression&&L(W._styleExpression.expression)}return T}}let Cx;var uM={get paint(){return Cx=Cx||new Aa({"background-color":new br(pt.paint_background["background-color"]),"background-pattern":new Dc(pt.paint_background["background-pattern"]),"background-opacity":new br(pt.paint_background["background-opacity"])})}};class AM extends ka{constructor(l){super(l,uM)}}let mg;var bx={get paint(){return mg=mg||new Aa({"raster-opacity":new br(pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new br(pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new br(pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new br(pt.paint_raster["raster-brightness-max"]),"raster-saturation":new br(pt.paint_raster["raster-saturation"]),"raster-contrast":new br(pt.paint_raster["raster-contrast"]),"raster-resampling":new br(pt.paint_raster["raster-resampling"]),"raster-fade-duration":new br(pt.paint_raster["raster-fade-duration"])})}};class cM extends ka{constructor(l){super(l,bx)}}class dM extends ka{constructor(l){super(l,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class hM{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Zv=63710088e-1;class gf{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gf(be(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,y=this.lat*d,M=l.lat*d,T=Math.sin(y)*Math.sin(M)+Math.cos(y)*Math.cos(M)*Math.cos((l.lng-this.lng)*d);return Zv*Math.acos(Math.min(T,1))}static convert(l){if(l instanceof gf)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new gf(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new gf(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const xx=2*Math.PI*Zv;function wx(c){return xx*Math.cos(c*Math.PI/180)}function Mx(c){return(180+c)/360}function Xv(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Sx(c,l){return c/wx(l)}function ym(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class gg{constructor(l,d,y=0){this.x=+l,this.y=+d,this.z=+y}static fromLngLat(l,d=0){const y=gf.convert(l);return new gg(Mx(y.lng),Xv(y.lat),Sx(d,y.lat))}toLngLat(){return new gf(360*this.x-180,ym(this.y))}toAltitude(){return this.z*wx(ym(this.y))}meterInMercatorCoordinateUnits(){return 1/xx*(l=ym(this.y),1/Math.cos(l*Math.PI/180));var l}}function Ex(c,l,d){var y=2*Math.PI*6378137/256/Math.pow(2,d);return[c*y-2*Math.PI*6378137/2,l*y-2*Math.PI*6378137/2]}class Jv{constructor(l,d,y){if(l<0||l>25||y<0||y>=Math.pow(2,l)||d<0||d>=Math.pow(2,l))throw new Error(`x=${d}, y=${y}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=d,this.y=y,this.key=F0(0,l,l,d,y)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d,y){const M=(P=this.y,L=this.z,W=Ex(256*(T=this.x),256*(P=Math.pow(2,L)-P-1),L),V=Ex(256*(T+1),256*(P+1),L),W[0]+","+W[1]+","+V[0]+","+V[1]);var T,P,L,W,V;const re=function(Ae,_e,Be){let Pe,Ge="";for(let Xe=Ae;Xe>0;Xe--)Pe=1<<Xe-1,Ge+=(_e&Pe?1:0)+(Be&Pe?2:0);return Ge}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,re).replace(/{bbox-epsg-3857}/g,M)}isChildOf(l){const d=this.z-l.z;return d>0&&l.x===this.x>>d&&l.y===this.y>>d}getTilePoint(l){const d=Math.pow(2,this.z);return new E((l.x*d-this.x)*Pi,(l.y*d-this.y)*Pi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Ox{constructor(l,d){this.wrap=l,this.canonical=d,this.key=F0(l,d.z,d.z,d.x,d.y)}}class TA{constructor(l,d,y,M,T){if(l<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${y}`);this.overscaledZ=l,this.wrap=d,this.canonical=new Jv(y,+M,+T),this.key=F0(d,l,y,M,T)}clone(){return new TA(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-l;return l>this.canonical.z?new TA(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new TA(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-l;return l>this.canonical.z?F0(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y):F0(this.wrap*+d,l,l,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new TA(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,y=2*this.canonical.x,M=2*this.canonical.y;return[new TA(d,this.wrap,d,y,M),new TA(d,this.wrap,d,y+1,M),new TA(d,this.wrap,d,y,M+1),new TA(d,this.wrap,d,y+1,M+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new TA(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new TA(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ox(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new gg(l.x-this.wrap,l.y))}}function F0(c,l,d,y,M){(c*=2)<0&&(c=-1*c-1);const T=1<<d;return(T*T*c+T*M+y).toString(36)+d.toString(36)+l.toString(36)}Nn("CanonicalTileID",Jv),Nn("OverscaledTileID",TA,{omit:["posMatrix"]});class Bx{constructor(l,d,y,M=1,T=1,P=1,L=0){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void he(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const W=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=M,this.greenFactor=T,this.blueFactor=P,this.baseShift=L;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let V=0;V<W;V++)this.data[this._idx(-1,V)]=this.data[this._idx(0,V)],this.data[this._idx(W,V)]=this.data[this._idx(W-1,V)],this.data[this._idx(V,-1)]=this.data[this._idx(V,0)],this.data[this._idx(V,W)]=this.data[this._idx(V,W-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(W,-1)]=this.data[this._idx(W-1,0)],this.data[this._idx(-1,W)]=this.data[this._idx(0,W-1)],this.data[this._idx(W,W)]=this.data[this._idx(W-1,W-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let V=0;V<W;V++)for(let re=0;re<W;re++){const Ae=this.get(V,re);Ae>this.max&&(this.max=Ae),Ae<this.min&&(this.min=Ae)}}get(l,d){const y=new Uint8Array(this.data.buffer),M=4*this._idx(l,d);return this.unpack(y[M],y[M+1],y[M+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}unpack(l,d,y){return l*this.redFactor+d*this.greenFactor+y*this.blueFactor-this.baseShift}getPixels(){return new fl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,d,y){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let M=d*this.dim,T=d*this.dim+this.dim,P=y*this.dim,L=y*this.dim+this.dim;switch(d){case-1:M=T-1;break;case 1:T=M+1}switch(y){case-1:P=L-1;break;case 1:L=P+1}const W=-d*this.dim,V=-y*this.dim;for(let re=P;re<L;re++)for(let Ae=M;Ae<T;Ae++)this.data[this._idx(Ae,re)]=l.data[this._idx(Ae+W,re+V)]}}Nn("DEMData",Bx);class Ix{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const y=l[d];this._stringToNumber[y]=d,this._numberToString[d]=y}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class kx{constructor(l,d,y,M,T){this.type="Feature",this._vectorTileFeature=l,l._z=d,l._x=y,l._y=M,this.properties=l.properties,this.id=T}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(l[d]=this[d]);return l}}class Tx{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new ya(Pi,16,0),this.grid3D=new ya(Pi,16,0),this.featureIndexArray=new ie,this.promoteId=d}insert(l,d,y,M,T,P){const L=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,M,T);const W=P?this.grid3D:this.grid;for(let V=0;V<d.length;V++){const re=d[V],Ae=[1/0,1/0,-1/0,-1/0];for(let _e=0;_e<re.length;_e++){const Be=re[_e];Ae[0]=Math.min(Ae[0],Be.x),Ae[1]=Math.min(Ae[1],Be.y),Ae[2]=Math.max(Ae[2],Be.x),Ae[3]=Math.max(Ae[3],Be.y)}Ae[0]<Pi&&Ae[1]<Pi&&Ae[2]>=0&&Ae[3]>=0&&W.insert(L,Ae[0],Ae[1],Ae[2],Ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new sA.VectorTile(new Ac(this.rawTileData)).layers,this.sourceLayerCoder=new Ix(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,d,y,M){this.loadVTLayers();const T=l.params||{},P=Pi/l.tileSize/l.scale,L=Hd(T.filter),W=l.queryGeometry,V=l.queryPadding*P,re=Kx(W),Ae=this.grid.query(re.minX-V,re.minY-V,re.maxX+V,re.maxY+V),_e=Kx(l.cameraQueryGeometry),Be=this.grid3D.query(_e.minX-V,_e.minY-V,_e.maxX+V,_e.maxY+V,(Xe,at,It,ct)=>function(xt,rn,An,Un,Cr){for(const xn of xt)if(rn<=xn.x&&An<=xn.y&&Un>=xn.x&&Cr>=xn.y)return!0;const Hn=[new E(rn,An),new E(rn,Cr),new E(Un,Cr),new E(Un,An)];if(xt.length>2){for(const xn of Hn)if(iA(xt,xn))return!0}for(let xn=0;xn<xt.length-1;xn++)if(b0(xt[xn],xt[xn+1],Hn))return!0;return!1}(l.cameraQueryGeometry,Xe-V,at-V,It+V,ct+V));for(const Xe of Be)Ae.push(Xe);Ae.sort(fM);const Pe={};let Ge;for(let Xe=0;Xe<Ae.length;Xe++){const at=Ae[Xe];if(at===Ge)continue;Ge=at;const It=this.featureIndexArray.get(at);let ct=null;this.loadMatchingFeature(Pe,It.bucketIndex,It.sourceLayerIndex,It.featureIndex,L,T.layers,T.availableImages,d,y,M,(xt,rn,An)=>(ct||(ct=uu(xt)),rn.queryIntersectsFeature(W,xt,An,ct,this.z,l.transform,P,l.pixelPosMatrix)))}return Pe}loadMatchingFeature(l,d,y,M,T,P,L,W,V,re,Ae){const _e=this.bucketLayerIDs[d];if(P&&!function(Xe,at){for(let It=0;It<Xe.length;It++)if(at.indexOf(Xe[It])>=0)return!0;return!1}(P,_e))return;const Be=this.sourceLayerCoder.decode(y),Pe=this.vtLayers[Be].feature(M);if(T.needGeometry){const Xe=lc(Pe,!0);if(!T.filter(new wo(this.tileID.overscaledZ),Xe,this.tileID.canonical))return}else if(!T.filter(new wo(this.tileID.overscaledZ),Pe))return;const Ge=this.getId(Pe,Be);for(let Xe=0;Xe<_e.length;Xe++){const at=_e[Xe];if(P&&P.indexOf(at)<0)continue;const It=W[at];if(!It)continue;let ct={};Ge&&re&&(ct=re.getState(It.sourceLayer||"_geojsonTileLayer",Ge));const xt=X({},V[at]);xt.paint=Px(xt.paint,It.paint,Pe,ct,L),xt.layout=Px(xt.layout,It.layout,Pe,ct,L);const rn=!Ae||Ae(Pe,It,ct);if(!rn)continue;const An=new kx(Pe,this.z,this.x,this.y,Ge);An.layer=xt;let Un=l[at];Un===void 0&&(Un=l[at]=[]),Un.push({featureIndex:M,feature:An,intersectionZ:rn})}}lookupSymbolFeatures(l,d,y,M,T,P,L,W){const V={};this.loadVTLayers();const re=Hd(T);for(const Ae of l)this.loadMatchingFeature(V,y,M,Ae,re,P,L,W,d);return V}hasLayer(l){for(const d of this.bucketLayerIDs)for(const y of d)if(l===y)return!0;return!1}getId(l,d){let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof y=="boolean"&&(y=Number(y))),y}}function Px(c,l,d,y,M){return we(c,(T,P)=>{const L=l instanceof ua?l.get(P):null;return L&&L.evaluate?L.evaluate(d,y,M):L})}function Kx(c){let l=1/0,d=1/0,y=-1/0,M=-1/0;for(const T of c)l=Math.min(l,T.x),d=Math.min(d,T.y),y=Math.max(y,T.x),M=Math.max(M,T.y);return{minX:l,minY:d,maxX:y,maxY:M}}function fM(c,l){return l-c}function Dx(c,l,d,y,M){const T=[];for(let P=0;P<c.length;P++){const L=c[P];let W;for(let V=0;V<L.length-1;V++){let re=L[V],Ae=L[V+1];re.x<l&&Ae.x<l||(re.x<l?re=new E(l,re.y+(l-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round():Ae.x<l&&(Ae=new E(l,re.y+(l-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round()),re.y<d&&Ae.y<d||(re.y<d?re=new E(re.x+(d-re.y)/(Ae.y-re.y)*(Ae.x-re.x),d)._round():Ae.y<d&&(Ae=new E(re.x+(d-re.y)/(Ae.y-re.y)*(Ae.x-re.x),d)._round()),re.x>=y&&Ae.x>=y||(re.x>=y?re=new E(y,re.y+(y-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round():Ae.x>=y&&(Ae=new E(y,re.y+(y-re.x)/(Ae.x-re.x)*(Ae.y-re.y))._round()),re.y>=M&&Ae.y>=M||(re.y>=M?re=new E(re.x+(M-re.y)/(Ae.y-re.y)*(Ae.x-re.x),M)._round():Ae.y>=M&&(Ae=new E(re.x+(M-re.y)/(Ae.y-re.y)*(Ae.x-re.x),M)._round()),W&&re.equals(W[W.length-1])||(W=[re],T.push(W)),W.push(Ae)))))}}return T}Nn("FeatureIndex",Tx,{omit:["rawTileData","sourceLayerCoder"]});class yf extends E{constructor(l,d,y,M){super(l,d),this.angle=y,M!==void 0&&(this.segment=M)}clone(){return new yf(this.x,this.y,this.angle,this.segment)}}function Fx(c,l,d,y,M){if(l.segment===void 0||d===0)return!0;let T=l,P=l.segment+1,L=0;for(;L>-d/2;){if(P--,P<0)return!1;L-=c[P].dist(T),T=c[P]}L+=c[P].dist(c[P+1]),P++;const W=[];let V=0;for(;L<d/2;){const re=c[P],Ae=c[P+1];if(!Ae)return!1;let _e=c[P-1].angleTo(re)-re.angleTo(Ae);for(_e=Math.abs((_e+3*Math.PI)%(2*Math.PI)-Math.PI),W.push({distance:L,angleDelta:_e}),V+=_e;L-W[0].distance>y;)V-=W.shift().angleDelta;if(V>M)return!1;P++,L+=re.dist(Ae)}return!0}function e_(c){let l=0;for(let d=0;d<c.length-1;d++)l+=c[d].dist(c[d+1]);return l}function t_(c,l,d){return c?.6*l*d:0}function Lx(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function pM(c,l,d,y,M,T){const P=t_(d,M,T),L=Lx(d,y)*T;let W=0;const V=e_(c)/2;for(let re=0;re<c.length-1;re++){const Ae=c[re],_e=c[re+1],Be=Ae.dist(_e);if(W+Be>V){const Pe=(V-W)/Be,Ge=gt.number(Ae.x,_e.x,Pe),Xe=gt.number(Ae.y,_e.y,Pe),at=new yf(Ge,Xe,_e.angleTo(Ae),re);return at._round(),!P||Fx(c,at,L,P,l)?at:void 0}W+=Be}}function mM(c,l,d,y,M,T,P,L,W){const V=t_(y,T,P),re=Lx(y,M),Ae=re*P,_e=c[0].x===0||c[0].x===W||c[0].y===0||c[0].y===W;return l-Ae<l/4&&(l=Ae+l/4),Ux(c,_e?l/2*L%l:(re/2+2*T)*P*L%l,l,V,d,Ae,_e,!1,W)}function Ux(c,l,d,y,M,T,P,L,W){const V=T/2,re=e_(c);let Ae=0,_e=l-d,Be=[];for(let Pe=0;Pe<c.length-1;Pe++){const Ge=c[Pe],Xe=c[Pe+1],at=Ge.dist(Xe),It=Xe.angleTo(Ge);for(;_e+d<Ae+at;){_e+=d;const ct=(_e-Ae)/at,xt=gt.number(Ge.x,Xe.x,ct),rn=gt.number(Ge.y,Xe.y,ct);if(xt>=0&&xt<W&&rn>=0&&rn<W&&_e-V>=0&&_e+V<=re){const An=new yf(xt,rn,It,Pe);An._round(),y&&!Fx(c,An,T,y,M)||Be.push(An)}}Ae+=at}return L||Be.length||P||(Be=Ux(c,Ae/2,d,y,M,T,P,!0,W)),Be}Nn("Anchor",yf);const ph=Ha;function Rx(c,l,d,y){const M=[],T=c.image,P=T.pixelRatio,L=T.paddedRect.w-2*ph,W=T.paddedRect.h-2*ph,V=c.right-c.left,re=c.bottom-c.top,Ae=T.stretchX||[[0,L]],_e=T.stretchY||[[0,W]],Be=(mn,sr)=>mn+sr[1]-sr[0],Pe=Ae.reduce(Be,0),Ge=_e.reduce(Be,0),Xe=L-Pe,at=W-Ge;let It=0,ct=Pe,xt=0,rn=Ge,An=0,Un=Xe,Cr=0,Hn=at;if(T.content&&y){const mn=T.content;It=yg(Ae,0,mn[0]),xt=yg(_e,0,mn[1]),ct=yg(Ae,mn[0],mn[2]),rn=yg(_e,mn[1],mn[3]),An=mn[0]-It,Cr=mn[1]-xt,Un=mn[2]-mn[0]-ct,Hn=mn[3]-mn[1]-rn}const xn=(mn,sr,Rn,Sn)=>{const Fr=vg(mn.stretch-It,ct,V,c.left),wr=_g(mn.fixed-An,Un,mn.stretch,Pe),zi=vg(sr.stretch-xt,rn,re,c.top),da=_g(sr.fixed-Cr,Hn,sr.stretch,Ge),ha=vg(Rn.stretch-It,ct,V,c.left),Ua=_g(Rn.fixed-An,Un,Rn.stretch,Pe),du=vg(Sn.stretch-xt,rn,re,c.top),hu=_g(Sn.fixed-Cr,Hn,Sn.stretch,Ge),hs=new E(Fr,zi),ks=new E(ha,zi),Vo=new E(ha,du),Gs=new E(Fr,du),fu=new E(wr/P,da/P),$s=new E(Ua/P,hu/P),Qs=l*Math.PI/180;if(Qs){const El=Math.sin(Qs),fs=Math.cos(Qs),Jr=[fs,-El,El,fs];hs._matMult(Jr),ks._matMult(Jr),Gs._matMult(Jr),Vo._matMult(Jr)}const Nl=mn.stretch+mn.fixed,pu=sr.stretch+sr.fixed;return{tl:hs,tr:ks,bl:Gs,br:Vo,tex:{x:T.paddedRect.x+ph+Nl,y:T.paddedRect.y+ph+pu,w:Rn.stretch+Rn.fixed-Nl,h:Sn.stretch+Sn.fixed-pu},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:fu,pixelOffsetBR:$s,minFontScaleX:Un/P/V,minFontScaleY:Hn/P/re,isSDF:d}};if(y&&(T.stretchX||T.stretchY)){const mn=zx(Ae,Xe,Pe),sr=zx(_e,at,Ge);for(let Rn=0;Rn<mn.length-1;Rn++){const Sn=mn[Rn],Fr=mn[Rn+1];for(let wr=0;wr<sr.length-1;wr++)M.push(xn(Sn,sr[wr],Fr,sr[wr+1]))}}else M.push(xn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:L+1},{fixed:0,stretch:W+1}));return M}function yg(c,l,d){let y=0;for(const M of c)y+=Math.max(l,Math.min(d,M[1]))-Math.max(l,Math.min(d,M[0]));return y}function zx(c,l,d){const y=[{fixed:-ph,stretch:0}];for(const[M,T]of c){const P=y[y.length-1];y.push({fixed:M-P.stretch,stretch:P.stretch}),y.push({fixed:M-P.stretch,stretch:P.stretch+(T-M)})}return y.push({fixed:l+ph,stretch:d}),y}function vg(c,l,d,y){return c/l*d+y}function _g(c,l,d,y){return c-l*d/y}class Cg{constructor(l,d,y,M,T,P,L,W,V,re){if(this.boxStartIndex=l.length,V){let Ae=P.top,_e=P.bottom;const Be=P.collisionPadding;Be&&(Ae-=Be[1],_e+=Be[3]);let Pe=_e-Ae;Pe>0&&(Pe=Math.max(10,Pe),this.circleDiameter=Pe)}else{let Ae=P.top*L-W[0],_e=P.bottom*L+W[2],Be=P.left*L-W[3],Pe=P.right*L+W[1];const Ge=P.collisionPadding;if(Ge&&(Be-=Ge[0]*L,Ae-=Ge[1]*L,Pe+=Ge[2]*L,_e+=Ge[3]*L),re){const Xe=new E(Be,Ae),at=new E(Pe,Ae),It=new E(Be,_e),ct=new E(Pe,_e),xt=re*Math.PI/180;Xe._rotate(xt),at._rotate(xt),It._rotate(xt),ct._rotate(xt),Be=Math.min(Xe.x,at.x,It.x,ct.x),Pe=Math.max(Xe.x,at.x,It.x,ct.x),Ae=Math.min(Xe.y,at.y,It.y,ct.y),_e=Math.max(Xe.y,at.y,It.y,ct.y)}l.emplaceBack(d.x,d.y,Be,Ae,Pe,_e,y,M,T)}this.boxEndIndex=l.length}}class gM{constructor(l=[],d=yM){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return this.length--,this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:y}=this,M=d[l];for(;l>0;){const T=l-1>>1,P=d[T];if(y(M,P)>=0)break;d[l]=P,l=T}d[l]=M}_down(l){const{data:d,compare:y}=this,M=this.length>>1,T=d[l];for(;l<M;){let P=1+(l<<1),L=d[P];const W=P+1;if(W<this.length&&y(d[W],L)<0&&(P=W,L=d[W]),y(L,T)>=0)break;d[l]=L,l=P}d[l]=T}}function yM(c,l){return c<l?-1:c>l?1:0}function vM(c,l=1,d=!1){let y=1/0,M=1/0,T=-1/0,P=-1/0;const L=c[0];for(let Be=0;Be<L.length;Be++){const Pe=L[Be];(!Be||Pe.x<y)&&(y=Pe.x),(!Be||Pe.y<M)&&(M=Pe.y),(!Be||Pe.x>T)&&(T=Pe.x),(!Be||Pe.y>P)&&(P=Pe.y)}const W=Math.min(T-y,P-M);let V=W/2;const re=new gM([],_M);if(W===0)return new E(y,M);for(let Be=y;Be<T;Be+=W)for(let Pe=M;Pe<P;Pe+=W)re.push(new vm(Be+V,Pe+V,V,c));let Ae=function(Be){let Pe=0,Ge=0,Xe=0;const at=Be[0];for(let It=0,ct=at.length,xt=ct-1;It<ct;xt=It++){const rn=at[It],An=at[xt],Un=rn.x*An.y-An.x*rn.y;Ge+=(rn.x+An.x)*Un,Xe+=(rn.y+An.y)*Un,Pe+=3*Un}return new vm(Ge/Pe,Xe/Pe,0,Be)}(c),_e=re.length;for(;re.length;){const Be=re.pop();(Be.d>Ae.d||!Ae.d)&&(Ae=Be,d&&console.log("found best %d after %d probes",Math.round(1e4*Be.d)/1e4,_e)),Be.max-Ae.d<=l||(V=Be.h/2,re.push(new vm(Be.p.x-V,Be.p.y-V,V,c)),re.push(new vm(Be.p.x+V,Be.p.y-V,V,c)),re.push(new vm(Be.p.x-V,Be.p.y+V,V,c)),re.push(new vm(Be.p.x+V,Be.p.y+V,V,c)),_e+=4)}return d&&(console.log(`num probes: ${_e}`),console.log(`best distance: ${Ae.d}`)),Ae.p}function _M(c,l){return l.max-c.max}function vm(c,l,d,y){this.p=new E(c,l),this.h=d,this.d=function(M,T){let P=!1,L=1/0;for(let W=0;W<T.length;W++){const V=T[W];for(let re=0,Ae=V.length,_e=Ae-1;re<Ae;_e=re++){const Be=V[re],Pe=V[_e];Be.y>M.y!=Pe.y>M.y&&M.x<(Pe.x-Be.x)*(M.y-Be.y)/(Pe.y-Be.y)+Be.x&&(P=!P),L=Math.min(L,yd(M,Be,Pe))}}return(P?1:-1)*Math.sqrt(L)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Ns;a.ap=void 0,(Ns=a.ap||(a.ap={}))[Ns.center=1]="center",Ns[Ns.left=2]="left",Ns[Ns.right=3]="right",Ns[Ns.top=4]="top",Ns[Ns.bottom=5]="bottom",Ns[Ns["top-left"]=6]="top-left",Ns[Ns["top-right"]=7]="top-right",Ns[Ns["bottom-left"]=8]="bottom-left",Ns[Ns["bottom-right"]=9]="bottom-right";const vf=7,bg=Number.POSITIVE_INFINITY;function n_(c,l){return l[1]!==bg?function(d,y,M){let T=0,P=0;switch(y=Math.abs(y),M=Math.abs(M),d){case"top-right":case"top-left":case"top":P=M-vf;break;case"bottom-right":case"bottom-left":case"bottom":P=-M+vf}switch(d){case"top-right":case"bottom-right":case"right":T=-y;break;case"top-left":case"bottom-left":case"left":T=y}return[T,P]}(c,l[0],l[1]):function(d,y){let M=0,T=0;y<0&&(y=0);const P=y/Math.SQRT2;switch(d){case"top-right":case"top-left":T=P-vf;break;case"bottom-right":case"bottom-left":T=-P+vf;break;case"bottom":T=-y+vf;break;case"top":T=y-vf}switch(d){case"top-right":case"bottom-right":M=-P;break;case"top-left":case"bottom-left":M=P;break;case"left":M=y;break;case"right":M=-y}return[M,T]}(c,l[0])}function xg(c,l,d){var y;const M=c.layout,T=(y=M.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(l,{},d);if(T){const L=T.values,W=[];for(let V=0;V<L.length;V+=2){const re=W[V]=L[V],Ae=L[V+1].map(_e=>_e*Wt);re.startsWith("top")?Ae[1]-=vf:re.startsWith("bottom")&&(Ae[1]+=vf),W[V+1]=Ae}return new Ui(W)}const P=M.get("text-variable-anchor");if(P){let L;L=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[M.get("text-radial-offset").evaluate(l,{},d)*Wt,bg]:M.get("text-offset").evaluate(l,{},d).map(V=>V*Wt);const W=[];for(const V of P)W.push(V,n_(V,L));return new Ui(W)}return null}function wg(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function jx(c,l,d,y,M,T,P,L,W,V,re){let Ae=T.textMaxSize.evaluate(l,{});Ae===void 0&&(Ae=P);const _e=c.layers[0].layout,Be=_e.get("icon-offset").evaluate(l,{},re),Pe=i_(d.horizontal),Ge=P/24,Xe=c.tilePixelRatio*Ge,at=c.tilePixelRatio*Ae/24,It=c.tilePixelRatio*L,ct=c.tilePixelRatio*_e.get("symbol-spacing"),xt=_e.get("text-padding")*c.tilePixelRatio,rn=function(Sn,Fr,wr,zi=1){const da=Sn.get("icon-padding").evaluate(Fr,{},wr),ha=da&&da.values;return[ha[0]*zi,ha[1]*zi,ha[2]*zi,ha[3]*zi]}(_e,l,re,c.tilePixelRatio),An=_e.get("text-max-angle")/180*Math.PI,Un=_e.get("text-rotation-alignment")!=="viewport"&&_e.get("symbol-placement")!=="point",Cr=_e.get("icon-rotation-alignment")==="map"&&_e.get("symbol-placement")!=="point",Hn=_e.get("symbol-placement"),xn=ct/2,mn=_e.get("icon-text-fit");let sr;y&&mn!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(sr=mx(y,d.vertical,mn,_e.get("icon-text-fit-padding"),Be,Ge)),Pe&&(y=mx(y,Pe,mn,_e.get("icon-text-fit-padding"),Be,Ge)));const Rn=(Sn,Fr)=>{Fr.x<0||Fr.x>=Pi||Fr.y<0||Fr.y>=Pi||function(wr,zi,da,ha,Ua,du,hu,hs,ks,Vo,Gs,fu,$s,Qs,Nl,pu,El,fs,Jr,Ts,ii,Ol,Bl,fi,hc){const fc=wr.addToLineVertexArray(zi,da);let lA,mh,pc,PA,Du=0,gh=0,z0=0,Nx=0,A_=-1,c_=-1;const yh={};let Gx=Nr("");if(wr.allowVerticalPlacement&&ha.vertical){const Gl=hs.layout.get("text-rotate").evaluate(ii,{},fi)+90;pc=new Cg(ks,zi,Vo,Gs,fu,ha.vertical,$s,Qs,Nl,Gl),hu&&(PA=new Cg(ks,zi,Vo,Gs,fu,hu,El,fs,Nl,Gl))}if(Ua){const Gl=hs.layout.get("icon-rotate").evaluate(ii,{}),KA=hs.layout.get("icon-text-fit")!=="none",_f=Rx(Ua,Gl,Bl,KA),jc=hu?Rx(hu,Gl,Bl,KA):void 0;mh=new Cg(ks,zi,Vo,Gs,fu,Ua,El,fs,!1,Gl),Du=4*_f.length;const vp=wr.iconSizeData;let Ed=null;vp.kind==="source"?(Ed=[Sd*hs.layout.get("icon-size").evaluate(ii,{})],Ed[0]>mf&&he(`${wr.layerIds[0]}: Value for "icon-size" is >= ${yp}. Reduce your "icon-size".`)):vp.kind==="composite"&&(Ed=[Sd*Ol.compositeIconSizes[0].evaluate(ii,{},fi),Sd*Ol.compositeIconSizes[1].evaluate(ii,{},fi)],(Ed[0]>mf||Ed[1]>mf)&&he(`${wr.layerIds[0]}: Value for "icon-size" is >= ${yp}. Reduce your "icon-size".`)),wr.addSymbols(wr.icon,_f,Ed,Ts,Jr,ii,a.ah.none,zi,fc.lineStartIndex,fc.lineLength,-1,fi),A_=wr.icon.placedSymbolArray.length-1,jc&&(gh=4*jc.length,wr.addSymbols(wr.icon,jc,Ed,Ts,Jr,ii,a.ah.vertical,zi,fc.lineStartIndex,fc.lineLength,-1,fi),c_=wr.icon.placedSymbolArray.length-1)}const $x=Object.keys(ha.horizontal);for(const Gl of $x){const KA=ha.horizontal[Gl];if(!lA){Gx=Nr(KA.text);const jc=hs.layout.get("text-rotate").evaluate(ii,{},fi);lA=new Cg(ks,zi,Vo,Gs,fu,KA,$s,Qs,Nl,jc)}const _f=KA.positionedLines.length===1;if(z0+=r_(wr,zi,KA,du,hs,Nl,ii,pu,fc,ha.vertical?a.ah.horizontal:a.ah.horizontalOnly,_f?$x:[Gl],yh,A_,Ol,fi),_f)break}ha.vertical&&(Nx+=r_(wr,zi,ha.vertical,du,hs,Nl,ii,pu,fc,a.ah.vertical,["vertical"],yh,c_,Ol,fi));const xM=lA?lA.boxStartIndex:wr.collisionBoxArray.length,d_=lA?lA.boxEndIndex:wr.collisionBoxArray.length,wM=pc?pc.boxStartIndex:wr.collisionBoxArray.length,h_=pc?pc.boxEndIndex:wr.collisionBoxArray.length,MM=mh?mh.boxStartIndex:wr.collisionBoxArray.length,SM=mh?mh.boxEndIndex:wr.collisionBoxArray.length,EM=PA?PA.boxStartIndex:wr.collisionBoxArray.length,Il=PA?PA.boxEndIndex:wr.collisionBoxArray.length;let Va=-1;const Og=(Gl,KA)=>Gl&&Gl.circleDiameter?Math.max(Gl.circleDiameter,KA):KA;Va=Og(lA,Va),Va=Og(pc,Va),Va=Og(mh,Va),Va=Og(PA,Va);const Qx=Va>-1?1:0;Qx&&(Va*=hc/Wt),wr.glyphOffsetArray.length>=gm.MAX_GLYPHS&&he("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ii.sortKey!==void 0&&wr.addToSortKeyRanges(wr.symbolInstances.length,ii.sortKey);const OM=xg(hs,ii,fi),[Yx,BM]=function(Gl,KA){const _f=Gl.length,jc=KA==null?void 0:KA.values;if((jc==null?void 0:jc.length)>0)for(let vp=0;vp<jc.length;vp+=2){const Ed=jc[vp+1];Gl.emplaceBack(a.ap[jc[vp]],Ed[0],Ed[1])}return[_f,Gl.length]}(wr.textAnchorOffsets,OM);wr.symbolInstances.emplaceBack(zi.x,zi.y,yh.right>=0?yh.right:-1,yh.center>=0?yh.center:-1,yh.left>=0?yh.left:-1,yh.vertical||-1,A_,c_,Gx,xM,d_,wM,h_,MM,SM,EM,Il,Vo,z0,Nx,Du,gh,Qx,0,$s,Va,Yx,BM)}(c,Fr,Sn,d,y,M,sr,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,Xe,[xt,xt,xt,xt],Un,W,It,rn,Cr,Be,l,T,V,re,P)};if(Hn==="line")for(const Sn of Dx(l.geometry,0,0,Pi,Pi)){const Fr=mM(Sn,ct,An,d.vertical||Pe,y,24,at,c.overscaling,Pi);for(const wr of Fr)Pe&&CM(c,Pe.text,xn,wr)||Rn(Sn,wr)}else if(Hn==="line-center"){for(const Sn of l.geometry)if(Sn.length>1){const Fr=pM(Sn,An,d.vertical||Pe,y,24,at);Fr&&Rn(Sn,Fr)}}else if(l.type==="Polygon")for(const Sn of lh(l.geometry,0)){const Fr=vM(Sn,16);Rn(Sn[0],new yf(Fr.x,Fr.y,0))}else if(l.type==="LineString")for(const Sn of l.geometry)Rn(Sn,new yf(Sn[0].x,Sn[0].y,0));else if(l.type==="Point")for(const Sn of l.geometry)for(const Fr of Sn)Rn([Fr],new yf(Fr.x,Fr.y,0))}function r_(c,l,d,y,M,T,P,L,W,V,re,Ae,_e,Be,Pe){const Ge=function(It,ct,xt,rn,An,Un,Cr,Hn){const xn=rn.layout.get("text-rotate").evaluate(Un,{})*Math.PI/180,mn=[];for(const sr of ct.positionedLines)for(const Rn of sr.positionedGlyphs){if(!Rn.rect)continue;const Sn=Rn.rect||{};let Fr=IA+1,wr=!0,zi=1,da=0;const ha=(An||Hn)&&Rn.vertical,Ua=Rn.metrics.advance*Rn.scale/2;if(Hn&&ct.verticalizable&&(da=sr.lineOffset/2-(Rn.imageName?-(Wt-Rn.metrics.width*Rn.scale)/2:(Rn.scale-1)*Wt)),Rn.imageName){const Ts=Cr[Rn.imageName];wr=Ts.sdf,zi=Ts.pixelRatio,Fr=Ha/zi}const du=An?[Rn.x+Ua,Rn.y]:[0,0];let hu=An?[0,0]:[Rn.x+Ua+xt[0],Rn.y+xt[1]-da],hs=[0,0];ha&&(hs=hu,hu=[0,0]);const ks=Rn.metrics.isDoubleResolution?2:1,Vo=(Rn.metrics.left-Fr)*Rn.scale-Ua+hu[0],Gs=(-Rn.metrics.top-Fr)*Rn.scale+hu[1],fu=Vo+Sn.w/ks*Rn.scale/zi,$s=Gs+Sn.h/ks*Rn.scale/zi,Qs=new E(Vo,Gs),Nl=new E(fu,Gs),pu=new E(Vo,$s),El=new E(fu,$s);if(ha){const Ts=new E(-Ua,Ua-pm),ii=-Math.PI/2,Ol=Wt/2-Ua,Bl=new E(5-pm-Ol,-(Rn.imageName?Ol:0)),fi=new E(...hs);Qs._rotateAround(ii,Ts)._add(Bl)._add(fi),Nl._rotateAround(ii,Ts)._add(Bl)._add(fi),pu._rotateAround(ii,Ts)._add(Bl)._add(fi),El._rotateAround(ii,Ts)._add(Bl)._add(fi)}if(xn){const Ts=Math.sin(xn),ii=Math.cos(xn),Ol=[ii,-Ts,Ts,ii];Qs._matMult(Ol),Nl._matMult(Ol),pu._matMult(Ol),El._matMult(Ol)}const fs=new E(0,0),Jr=new E(0,0);mn.push({tl:Qs,tr:Nl,bl:pu,br:El,tex:Sn,writingMode:ct.writingMode,glyphOffset:du,sectionIndex:Rn.sectionIndex,isSDF:wr,pixelOffsetTL:fs,pixelOffsetBR:Jr,minFontScaleX:0,minFontScaleY:0})}return mn}(0,d,L,M,T,P,y,c.allowVerticalPlacement),Xe=c.textSizeData;let at=null;Xe.kind==="source"?(at=[Sd*M.layout.get("text-size").evaluate(P,{})],at[0]>mf&&he(`${c.layerIds[0]}: Value for "text-size" is >= ${yp}. Reduce your "text-size".`)):Xe.kind==="composite"&&(at=[Sd*Be.compositeTextSizes[0].evaluate(P,{},Pe),Sd*Be.compositeTextSizes[1].evaluate(P,{},Pe)],(at[0]>mf||at[1]>mf)&&he(`${c.layerIds[0]}: Value for "text-size" is >= ${yp}. Reduce your "text-size".`)),c.addSymbols(c.text,Ge,at,L,T,P,V,l,W.lineStartIndex,W.lineLength,_e,Pe);for(const It of re)Ae[It]=c.text.placedSymbolArray.length-1;return 4*Ge.length}function i_(c){for(const l in c)return c[l];return null}function CM(c,l,d,y){const M=c.compareText;if(l in M){const T=M[l];for(let P=T.length-1;P>=0;P--)if(y.dist(T[P])<d)return!0}else M[l]=[];return M[l].push(y),!1}const Wx=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class o_{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,y]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const M=y>>4;if(M!==1)throw new Error(`Got v${M} data when expected v1.`);const T=Wx[15&y];if(!T)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(l,2,1),[L]=new Uint32Array(l,4,1);return new o_(L,P,T,l)}constructor(l,d=64,y=Float64Array,M){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=y,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const T=Wx.indexOf(this.ArrayType),P=2*l*this.ArrayType.BYTES_PER_ELEMENT,L=l*this.IndexArrayType.BYTES_PER_ELEMENT,W=(8-L%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${y}.`);M&&M instanceof ArrayBuffer?(this.data=M,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+L+W,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+P+L+W),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+L+W,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=l,this.coords[this._pos++]=d,y}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return _m(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,y,M){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:P,nodeSize:L}=this,W=[0,T.length-1,0],V=[];for(;W.length;){const re=W.pop()||0,Ae=W.pop()||0,_e=W.pop()||0;if(Ae-_e<=L){for(let Xe=_e;Xe<=Ae;Xe++){const at=P[2*Xe],It=P[2*Xe+1];at>=l&&at<=y&&It>=d&&It<=M&&V.push(T[Xe])}continue}const Be=_e+Ae>>1,Pe=P[2*Be],Ge=P[2*Be+1];Pe>=l&&Pe<=y&&Ge>=d&&Ge<=M&&V.push(T[Be]),(re===0?l<=Pe:d<=Ge)&&(W.push(_e),W.push(Be-1),W.push(1-re)),(re===0?y>=Pe:M>=Ge)&&(W.push(Be+1),W.push(Ae),W.push(1-re))}return V}within(l,d,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:M,coords:T,nodeSize:P}=this,L=[0,M.length-1,0],W=[],V=y*y;for(;L.length;){const re=L.pop()||0,Ae=L.pop()||0,_e=L.pop()||0;if(Ae-_e<=P){for(let Xe=_e;Xe<=Ae;Xe++)Mg(T[2*Xe],T[2*Xe+1],l,d)<=V&&W.push(M[Xe]);continue}const Be=_e+Ae>>1,Pe=T[2*Be],Ge=T[2*Be+1];Mg(Pe,Ge,l,d)<=V&&W.push(M[Be]),(re===0?l-y<=Pe:d-y<=Ge)&&(L.push(_e),L.push(Be-1),L.push(1-re)),(re===0?l+y>=Pe:d+y>=Ge)&&(L.push(Be+1),L.push(Ae),L.push(1-re))}return W}}function _m(c,l,d,y,M,T){if(M-y<=d)return;const P=y+M>>1;L0(c,l,P,y,M,T),_m(c,l,d,y,P-1,1-T),_m(c,l,d,P+1,M,1-T)}function L0(c,l,d,y,M,T){for(;M>y;){if(M-y>600){const V=M-y+1,re=d-y+1,Ae=Math.log(V),_e=.5*Math.exp(2*Ae/3),Be=.5*Math.sqrt(Ae*_e*(V-_e)/V)*(re-V/2<0?-1:1);L0(c,l,d,Math.max(y,Math.floor(d-re*_e/V+Be)),Math.min(M,Math.floor(d+(V-re)*_e/V+Be)),T)}const P=l[2*d+T];let L=y,W=M;for(U0(c,l,y,d),l[2*M+T]>P&&U0(c,l,y,M);L<W;){for(U0(c,l,L,W),L++,W--;l[2*L+T]<P;)L++;for(;l[2*W+T]>P;)W--}l[2*y+T]===P?U0(c,l,y,W):(W++,U0(c,l,W,M)),W<=d&&(y=W+1),d<=W&&(M=W-1)}}function U0(c,l,d,y){a_(c,d,y),a_(l,2*d,2*y),a_(l,2*d+1,2*y+1)}function a_(c,l,d){const y=c[l];c[l]=c[d],c[d]=y}function Mg(c,l,d,y){const M=c-d,T=l-y;return M*M+T*T}var Sg;a.bd=void 0,(Sg=a.bd||(a.bd={})).create="create",Sg.load="load",Sg.fullLoad="fullLoad";let Eg=null,R0=[];const s_=1e3/60,l_="loadTime",u_="fullLoadTime",bM={mark(c){performance.mark(c)},frame(c){const l=c;Eg!=null&&R0.push(l-Eg),Eg=l},clearMetrics(){Eg=null,R0=[],performance.clearMeasures(l_),performance.clearMeasures(u_);for(const c in a.bd)performance.clearMarks(a.bd[c])},getPerformanceMetrics(){performance.measure(l_,a.bd.create,a.bd.load),performance.measure(u_,a.bd.create,a.bd.fullLoad);const c=performance.getEntriesByName(l_)[0].duration,l=performance.getEntriesByName(u_)[0].duration,d=R0.length,y=1/(R0.reduce((T,P)=>T+P,0)/d/1e3),M=R0.filter(T=>T>s_).reduce((T,P)=>T+(P-s_)/s_,0);return{loadTime:c,fullLoadTime:l,fps:y,percentDroppedFrames:M/(d+M)*100,totalFrames:d}}};a.$=pn,a.A=ih,a.B=function(c){if(wt==null){const l=c.navigator?c.navigator.userAgent:null;wt=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return wt},a.C=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new hM(()=>this.process()),this.subscription=function(d,y,M,T){return d.addEventListener(y,M,!1),{unsubscribe:()=>{d.removeEventListener(y,M,!1)}}}(this.target,"message",d=>this.receive(d)),this.globalScope=yt(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}sendAsync(c,l){return new Promise((d,y)=>{const M=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[M]={resolve:d,reject:y},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[M];const L={id:M,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(L)},{once:!0});const T=[],P=Object.assign(Object.assign({},c),{id:M,sourceMapId:this.mapId,origin:location.origin,data:Yu(c.data,T)});this.target.postMessage(P,{transfer:T})})}receive(c){const l=c.data,d=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[d];const y=this.abortControllers[d];return delete this.abortControllers[d],void(y&&y.abort())}if(yt(self)||l.mustQueue)return this.tasks[d]=l,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return s(this,void 0,void 0,function*(){if(l.type==="<response>"){const M=this.resolveRejects[c];return delete this.resolveRejects[c],M?void(l.error?M.reject(XA(l.error)):M.resolve(XA(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=XA(l.data),y=new AbortController;this.abortControllers[c]=y;try{const M=yield this.messageHandlers[l.type](l.sourceMapId,d,y);this.completeTask(c,null,M)}catch(M){this.completeTask(c,M)}})}completeTask(c,l,d){const y=[];delete this.abortControllers[c];const M={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?Yu(l):null,data:Yu(d,y)};this.target.postMessage(M,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},a.D=br,a.E=zt,a.F=function(){var c=new ih(16);return ih!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},a.G=Qt,a.H=function(c,l,d){var y,M,T,P,L,W,V,re,Ae,_e,Be,Pe,Ge=d[0],Xe=d[1],at=d[2];return l===c?(c[12]=l[0]*Ge+l[4]*Xe+l[8]*at+l[12],c[13]=l[1]*Ge+l[5]*Xe+l[9]*at+l[13],c[14]=l[2]*Ge+l[6]*Xe+l[10]*at+l[14],c[15]=l[3]*Ge+l[7]*Xe+l[11]*at+l[15]):(M=l[1],T=l[2],P=l[3],L=l[4],W=l[5],V=l[6],re=l[7],Ae=l[8],_e=l[9],Be=l[10],Pe=l[11],c[0]=y=l[0],c[1]=M,c[2]=T,c[3]=P,c[4]=L,c[5]=W,c[6]=V,c[7]=re,c[8]=Ae,c[9]=_e,c[10]=Be,c[11]=Pe,c[12]=y*Ge+L*Xe+Ae*at+l[12],c[13]=M*Ge+W*Xe+_e*at+l[13],c[14]=T*Ge+V*Xe+Be*at+l[14],c[15]=P*Ge+re*Xe+Pe*at+l[15]),c},a.I=tl,a.J=function(c,l,d){var y=d[0],M=d[1],T=d[2];return c[0]=l[0]*y,c[1]=l[1]*y,c[2]=l[2]*y,c[3]=l[3]*y,c[4]=l[4]*M,c[5]=l[5]*M,c[6]=l[6]*M,c[7]=l[7]*M,c[8]=l[8]*T,c[9]=l[9]*T,c[10]=l[10]*T,c[11]=l[11]*T,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.K=rm,a.L=function(c,l){const d={};for(let y=0;y<l.length;y++){const M=l[y];M in c&&(d[M]=c[M])}return d},a.M=gf,a.N=Mx,a.O=Xv,a.P=E,a.Q=TA,a.R=fl,a.S=H,a.T=tp,a.U=N,a.V=ze,a.W=Pi,a.X=Go,a.Y=gg,a.Z=class extends Ml{},a._=s,a.a=vt,a.a$=function(c,l,d){return c[0]=l[0]*d[0],c[1]=l[1]*d[1],c[2]=l[2]*d[2],c[3]=l[3]*d[3],c},a.a0=Jv,a.a1=q,a.a2=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise(d=>{l.onloadstart=()=>{d(l)};for(const y of c){const M=window.document.createElement("source");Re(y)||(l.crossOrigin="Anonymous"),M.src=y,l.appendChild(M)}})},a.a3=function(){return se++},a.a4=Hh,a.a5=gm,a.a6=Hd,a.a7=lc,a.a8=wo,a.a9=kx,a.aA=De,a.aB=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let d=[];try{if(!yn(c.version,l.version))return[{command:"setStyle",args:[l]}];yn(c.center,l.center)||d.push({command:"setCenter",args:[l.center]}),yn(c.zoom,l.zoom)||d.push({command:"setZoom",args:[l.zoom]}),yn(c.bearing,l.bearing)||d.push({command:"setBearing",args:[l.bearing]}),yn(c.pitch,l.pitch)||d.push({command:"setPitch",args:[l.pitch]}),yn(c.sprite,l.sprite)||d.push({command:"setSprite",args:[l.sprite]}),yn(c.glyphs,l.glyphs)||d.push({command:"setGlyphs",args:[l.glyphs]}),yn(c.transition,l.transition)||d.push({command:"setTransition",args:[l.transition]}),yn(c.light,l.light)||d.push({command:"setLight",args:[l.light]}),yn(c.terrain,l.terrain)||d.push({command:"setTerrain",args:[l.terrain]}),yn(c.sky,l.sky)||d.push({command:"setSky",args:[l.sky]});const y={},M=[];(function(P,L,W,V){let re;for(re in L=L||{},P=P||{})Object.prototype.hasOwnProperty.call(P,re)&&(Object.prototype.hasOwnProperty.call(L,re)||Mr(re,W,V));for(re in L)Object.prototype.hasOwnProperty.call(L,re)&&(Object.prototype.hasOwnProperty.call(P,re)?yn(P[re],L[re])||(P[re].type==="geojson"&&L[re].type==="geojson"&&gr(P,L,re)?Jn(W,{command:"setGeoJSONSourceData",args:[re,L[re].data]}):Wr(re,L,W,V)):Ar(re,L,W))})(c.sources,l.sources,M,y);const T=[];c.layers&&c.layers.forEach(P=>{"source"in P&&y[P.source]?d.push({command:"removeLayer",args:[P.id]}):T.push(P)}),d=d.concat(M),function(P,L,W){L=L||[];const V=(P=P||[]).map(Ee),re=L.map(Ee),Ae=P.reduce(J,{}),_e=L.reduce(J,{}),Be=V.slice(),Pe=Object.create(null);let Ge,Xe,at,It,ct;for(let xt=0,rn=0;xt<V.length;xt++)Ge=V[xt],Object.prototype.hasOwnProperty.call(_e,Ge)?rn++:(Jn(W,{command:"removeLayer",args:[Ge]}),Be.splice(Be.indexOf(Ge,rn),1));for(let xt=0,rn=0;xt<re.length;xt++)Ge=re[re.length-1-xt],Be[Be.length-1-xt]!==Ge&&(Object.prototype.hasOwnProperty.call(Ae,Ge)?(Jn(W,{command:"removeLayer",args:[Ge]}),Be.splice(Be.lastIndexOf(Ge,Be.length-rn),1)):rn++,It=Be[Be.length-xt],Jn(W,{command:"addLayer",args:[_e[Ge],It]}),Be.splice(Be.length-xt,0,Ge),Pe[Ge]=!0);for(let xt=0;xt<re.length;xt++)if(Ge=re[xt],Xe=Ae[Ge],at=_e[Ge],!Pe[Ge]&&!yn(Xe,at))if(yn(Xe.source,at.source)&&yn(Xe["source-layer"],at["source-layer"])&&yn(Xe.type,at.type)){for(ct in _i(Xe.layout,at.layout,W,Ge,null,"setLayoutProperty"),_i(Xe.paint,at.paint,W,Ge,null,"setPaintProperty"),yn(Xe.filter,at.filter)||Jn(W,{command:"setFilter",args:[Ge,at.filter]}),yn(Xe.minzoom,at.minzoom)&&yn(Xe.maxzoom,at.maxzoom)||Jn(W,{command:"setLayerZoomRange",args:[Ge,at.minzoom,at.maxzoom]}),Xe)Object.prototype.hasOwnProperty.call(Xe,ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&(ct.indexOf("paint.")===0?_i(Xe[ct],at[ct],W,Ge,ct.slice(6),"setPaintProperty"):yn(Xe[ct],at[ct])||Jn(W,{command:"setLayerProperty",args:[Ge,ct,at[ct]]}));for(ct in at)Object.prototype.hasOwnProperty.call(at,ct)&&!Object.prototype.hasOwnProperty.call(Xe,ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&(ct.indexOf("paint.")===0?_i(Xe[ct],at[ct],W,Ge,ct.slice(6),"setPaintProperty"):yn(Xe[ct],at[ct])||Jn(W,{command:"setLayerProperty",args:[Ge,ct,at[ct]]}))}else Jn(W,{command:"removeLayer",args:[Ge]}),It=Be[Be.lastIndexOf(Ge)+1],Jn(W,{command:"addLayer",args:[at,It]})}(T,l.layers,d)}catch(y){console.warn("Unable to compute style diff:",y),d=[{command:"setStyle",args:[l]}]}return d},a.aC=function(c){const l=[],d=c.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.aD=function c(l,d){if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(let y=0;y<l.length;y++)if(!c(l[y],d[y]))return!1;return!0}if(typeof l=="object"&&l!==null&&d!==null){if(typeof d!="object"||Object.keys(l).length!==Object.keys(d).length)return!1;for(const y in l)if(!c(l[y],d[y]))return!1;return!0}return l===d},a.aE=we,a.aF=xe,a.aG=class extends mo{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},a.aH=so,a.aI=class extends mo{constructor(c,l){super(c,l),this.current=Ms}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},a.aJ=Xs,a.aK=class extends mo{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},a.aL=class extends mo{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},a.aM=lu,a.aN=function(c,l,d,y,M,T,P){var L=1/(l-d),W=1/(y-M),V=1/(T-P);return c[0]=-2*L,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*W,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*V,c[11]=0,c[12]=(l+d)*L,c[13]=(M+y)*W,c[14]=(P+T)*V,c[15]=1,c},a.aO=Mi,a.aP=im,a.aQ=class extends va{},a.aR=nt,a.aS=class extends fd{},a.aT=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},a.aU=vd,a.aV=de,a.aW=class extends jl{},a.aX=Ut,a.aY=function(c,l){return c[0]===l[0]&&c[1]===l[1]&&c[2]===l[2]&&c[3]===l[3]&&c[4]===l[4]&&c[5]===l[5]&&c[6]===l[6]&&c[7]===l[7]&&c[8]===l[8]&&c[9]===l[9]&&c[10]===l[10]&&c[11]===l[11]&&c[12]===l[12]&&c[13]===l[13]&&c[14]===l[14]&&c[15]===l[15]},a.aZ=function(c,l){var d=c[0],y=c[1],M=c[2],T=c[3],P=c[4],L=c[5],W=c[6],V=c[7],re=c[8],Ae=c[9],_e=c[10],Be=c[11],Pe=c[12],Ge=c[13],Xe=c[14],at=c[15],It=l[0],ct=l[1],xt=l[2],rn=l[3],An=l[4],Un=l[5],Cr=l[6],Hn=l[7],xn=l[8],mn=l[9],sr=l[10],Rn=l[11],Sn=l[12],Fr=l[13],wr=l[14],zi=l[15];return Math.abs(d-It)<=hl*Math.max(1,Math.abs(d),Math.abs(It))&&Math.abs(y-ct)<=hl*Math.max(1,Math.abs(y),Math.abs(ct))&&Math.abs(M-xt)<=hl*Math.max(1,Math.abs(M),Math.abs(xt))&&Math.abs(T-rn)<=hl*Math.max(1,Math.abs(T),Math.abs(rn))&&Math.abs(P-An)<=hl*Math.max(1,Math.abs(P),Math.abs(An))&&Math.abs(L-Un)<=hl*Math.max(1,Math.abs(L),Math.abs(Un))&&Math.abs(W-Cr)<=hl*Math.max(1,Math.abs(W),Math.abs(Cr))&&Math.abs(V-Hn)<=hl*Math.max(1,Math.abs(V),Math.abs(Hn))&&Math.abs(re-xn)<=hl*Math.max(1,Math.abs(re),Math.abs(xn))&&Math.abs(Ae-mn)<=hl*Math.max(1,Math.abs(Ae),Math.abs(mn))&&Math.abs(_e-sr)<=hl*Math.max(1,Math.abs(_e),Math.abs(sr))&&Math.abs(Be-Rn)<=hl*Math.max(1,Math.abs(Be),Math.abs(Rn))&&Math.abs(Pe-Sn)<=hl*Math.max(1,Math.abs(Pe),Math.abs(Sn))&&Math.abs(Ge-Fr)<=hl*Math.max(1,Math.abs(Ge),Math.abs(Fr))&&Math.abs(Xe-wr)<=hl*Math.max(1,Math.abs(Xe),Math.abs(wr))&&Math.abs(at-zi)<=hl*Math.max(1,Math.abs(at),Math.abs(zi))},a.a_=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.aa=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,y,M,T)=>{const P=M||T;return l[y]=!P||P.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l},a.ab=function(c,l){const d=[];for(const y in c)y in l||d.push(y);return d},a.ac=ye,a.ad=function(c,l,d){var y=Math.sin(d),M=Math.cos(d),T=l[0],P=l[1],L=l[2],W=l[3],V=l[4],re=l[5],Ae=l[6],_e=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=T*M+V*y,c[1]=P*M+re*y,c[2]=L*M+Ae*y,c[3]=W*M+_e*y,c[4]=V*M-T*y,c[5]=re*M-P*y,c[6]=Ae*M-L*y,c[7]=_e*M-W*y,c},a.ae=function(c){var l=new ih(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},a.af=om,a.ag=function(c,l){let d=0,y=0;if(c.kind==="constant")y=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:M,minZoom:T,maxZoom:P}=c,L=M?ye(Wn.interpolationFactor(M,l,T,P),0,1):0;c.kind==="camera"?y=gt.number(c.minSize,c.maxSize,L):d=L}return{uSizeT:d,uSize:y}},a.ai=function(c,{uSize:l,uSizeT:d},{lowerSize:y,upperSize:M}){return c.kind==="source"?y/Sd:c.kind==="composite"?gt.number(y/Sd,M/Sd,d):l},a.aj=Yv,a.ak=function(c,l,d,y){const M=l.y-c.y,T=l.x-c.x,P=y.y-d.y,L=y.x-d.x,W=P*T-L*M;if(W===0)return null;const V=(L*(c.y-d.y)-P*(c.x-d.x))/W;return new E(c.x+V*T,c.y+V*M)},a.al=Dx,a.am=ku,a.an=x0,a.ao=Wt,a.aq=Qv,a.ar=function(c,l){var d=l[0],y=l[1],M=l[2],T=l[3],P=l[4],L=l[5],W=l[6],V=l[7],re=l[8],Ae=l[9],_e=l[10],Be=l[11],Pe=l[12],Ge=l[13],Xe=l[14],at=l[15],It=d*L-y*P,ct=d*W-M*P,xt=d*V-T*P,rn=y*W-M*L,An=y*V-T*L,Un=M*V-T*W,Cr=re*Ge-Ae*Pe,Hn=re*Xe-_e*Pe,xn=re*at-Be*Pe,mn=Ae*Xe-_e*Ge,sr=Ae*at-Be*Ge,Rn=_e*at-Be*Xe,Sn=It*Rn-ct*sr+xt*mn+rn*xn-An*Hn+Un*Cr;return Sn?(c[0]=(L*Rn-W*sr+V*mn)*(Sn=1/Sn),c[1]=(M*sr-y*Rn-T*mn)*Sn,c[2]=(Ge*Un-Xe*An+at*rn)*Sn,c[3]=(_e*An-Ae*Un-Be*rn)*Sn,c[4]=(W*xn-P*Rn-V*Hn)*Sn,c[5]=(d*Rn-M*xn+T*Hn)*Sn,c[6]=(Xe*xt-Pe*Un-at*ct)*Sn,c[7]=(re*Un-_e*xt+Be*ct)*Sn,c[8]=(P*sr-L*xn+V*Cr)*Sn,c[9]=(y*xn-d*sr-T*Cr)*Sn,c[10]=(Pe*An-Ge*xt+at*It)*Sn,c[11]=(Ae*xt-re*An-Be*It)*Sn,c[12]=(L*Hn-P*mn-W*Cr)*Sn,c[13]=(d*mn-y*Hn+M*Cr)*Sn,c[14]=(Ge*ct-Pe*rn-Xe*It)*Sn,c[15]=(re*rn-Ae*ct+_e*It)*Sn,c):null},a.as=wg,a.at=$v,a.au=o_,a.av=function(){const c={},l=pt.$version;for(const d in pt.$root){const y=pt.$root[d];if(y.required){let M=null;M=d==="version"?l:y.type==="array"?[]:{},M!=null&&(c[d]=M)}}return c},a.aw=qu,a.ax=pe,a.ay=function(c){c=c.slice();const l=Object.create(null);for(let d=0;d<c.length;d++)l[c[d].id]=c[d];for(let d=0;d<c.length;d++)"ref"in c[d]&&(c[d]=gn(c[d],l[c[d].ref]));return c},a.az=function(c){if(c.type==="custom")return new dM(c);switch(c.type){case"background":return new AM(c);case"circle":return new w0(c);case"fill":return new cm(c);case"fill-extrusion":return new Md(c);case"heatmap":return new oh(c);case"hillshade":return new Tu(c);case"line":return new U(c);case"raster":return new cM(c);case"symbol":return new pg(c)}},a.b=st,a.b0=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},a.b1=be,a.b2=Ox,a.b3=Sx,a.b4=function(c,l,d,y,M){var T,P=1/Math.tan(l/2);return c[0]=P/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=P,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,M!=null&&M!==1/0?(c[10]=(M+y)*(T=1/(y-M)),c[14]=2*M*y*T):(c[10]=-1,c[14]=-2*y),c},a.b5=function(c,l,d){var y=Math.sin(d),M=Math.cos(d),T=l[4],P=l[5],L=l[6],W=l[7],V=l[8],re=l[9],Ae=l[10],_e=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=T*M+V*y,c[5]=P*M+re*y,c[6]=L*M+Ae*y,c[7]=W*M+_e*y,c[8]=V*M-T*y,c[9]=re*M-P*y,c[10]=Ae*M-L*y,c[11]=_e*M-W*y,c},a.b6=Z,a.b7=ue,a.b8=function(c){return c*Math.PI/180},a.b9=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},a.bA=Xu,a.ba=class extends tA{},a.bb=Zv,a.bc=bM,a.be=ke,a.bf=function(c,l){vt.REGISTERED_PROTOCOLS[c]=l},a.bg=function(c){delete vt.REGISTERED_PROTOCOLS[c]},a.bh=function(c,l){const d={};for(let M=0;M<c.length;M++){const T=l&&l[c[M].id]||Ll(c[M]);l&&(l[c[M].id]=T);let P=d[T];P||(P=d[T]=[]),P.push(c[M])}const y=[];for(const M in d)y.push(d[M]);return y},a.bi=Nn,a.bj=Ix,a.bk=Tx,a.bl=fh,a.bm=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=Pi/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],d=l.layout,y=l._unevaluatedLayout._values,M={layoutIconSize:y["icon-size"].possiblyEvaluate(new wo(c.bucket.zoom+1),c.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new wo(c.bucket.zoom+1),c.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new wo(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:re}=c.bucket.textSizeData;M.compositeTextSizes=[y["text-size"].possiblyEvaluate(new wo(V),c.canonical),y["text-size"].possiblyEvaluate(new wo(re),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:re}=c.bucket.iconSizeData;M.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new wo(V),c.canonical),y["icon-size"].possiblyEvaluate(new wo(re),c.canonical)]}const T=d.get("text-line-height")*Wt,P=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",L=d.get("text-keep-upright"),W=d.get("text-size");for(const V of c.bucket.features){const re=d.get("text-font").evaluate(V,{},c.canonical).join(","),Ae=W.evaluate(V,{},c.canonical),_e=M.layoutTextSize.evaluate(V,{},c.canonical),Be=M.layoutIconSize.evaluate(V,{},c.canonical),Pe={horizontal:{},vertical:void 0},Ge=V.text;let Xe,at=[0,0];if(Ge){const xt=Ge.toString(),rn=d.get("text-letter-spacing").evaluate(V,{},c.canonical)*Wt,An=Hu(xt)?rn:0,Un=d.get("text-anchor").evaluate(V,{},c.canonical),Cr=xg(l,V,c.canonical);if(!Cr){const Rn=d.get("text-radial-offset").evaluate(V,{},c.canonical);at=Rn?n_(Un,[Rn*Wt,bg]):d.get("text-offset").evaluate(V,{},c.canonical).map(Sn=>Sn*Wt)}let Hn=P?"center":d.get("text-justify").evaluate(V,{},c.canonical);const xn=d.get("symbol-placement"),mn=xn==="point"?d.get("text-max-width").evaluate(V,{},c.canonical)*Wt:0,sr=()=>{c.bucket.allowVerticalPlacement&&JA(xt)&&(Pe.vertical=cg(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Un,"left",An,at,a.ah.vertical,!0,xn,_e,Ae))};if(!P&&Cr){const Rn=new Set;if(Hn==="auto")for(let Fr=0;Fr<Cr.values.length;Fr+=2)Rn.add(wg(Cr.values[Fr]));else Rn.add(Hn);let Sn=!1;for(const Fr of Rn)if(!Pe.horizontal[Fr])if(Sn)Pe.horizontal[Fr]=Pe.horizontal[0];else{const wr=cg(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,"center",Fr,An,at,a.ah.horizontal,!1,xn,_e,Ae);wr&&(Pe.horizontal[Fr]=wr,Sn=wr.positionedLines.length===1)}sr()}else{Hn==="auto"&&(Hn=wg(Un));const Rn=cg(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Un,Hn,An,at,a.ah.horizontal,!1,xn,_e,Ae);Rn&&(Pe.horizontal[Hn]=Rn),sr(),JA(xt)&&P&&L&&(Pe.vertical=cg(Ge,c.glyphMap,c.glyphPositions,c.imagePositions,re,mn,T,Un,Hn,An,at,a.ah.vertical,!1,xn,_e,Ae))}}let It=!1;if(V.icon&&V.icon.name){const xt=c.imageMap[V.icon.name];xt&&(Xe=oM(c.imagePositions[V.icon.name],d.get("icon-offset").evaluate(V,{},c.canonical),d.get("icon-anchor").evaluate(V,{},c.canonical)),It=!!xt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=It:c.bucket.sdfIcons!==It&&he("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xt.pixelRatio!==c.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const ct=i_(Pe.horizontal)||Pe.vertical;c.bucket.iconsInText=!!ct&&ct.iconsInText,(ct||Xe)&&jx(c.bucket,V,Pe,Xe,c.imageMap,M,_e,Be,at,It,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},a.bn=pf,a.bo=Af,a.bp=dh,a.bq=sA,a.br=Ac,a.bs=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},a.bt=function(c,l,d,y,M){return s(this,void 0,void 0,function*(){if(N())try{return yield ze(c,l,d,y,M)}catch{}return function(T,P,L,W,V){const re=T.width,Ae=T.height;He&&Ve||(He=new OffscreenCanvas(re,Ae),Ve=He.getContext("2d",{willReadFrequently:!0})),He.width=re,He.height=Ae,Ve.drawImage(T,0,0,re,Ae);const _e=Ve.getImageData(P,L,W,V);return Ve.clearRect(0,0,re,Ae),_e.data}(c,l,d,y,M)})},a.bu=Bx,a.bv=h,a.bw=g,a.bx=cn,a.by=Fo,a.bz=function(c){return c.message===Vt},a.c=Yt,a.d=c=>s(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),a.e=X,a.f=c=>new Promise((l,d)=>{const y=new Image;y.onload=()=>{l(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame(()=>{y.src=mt})},y.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const M=new Blob([new Uint8Array(c)],{type:"image/png"});y.src=c.byteLength?URL.createObjectURL(M):mt}),a.g=$t,a.h=(c,l)=>Se(X(c,{type:"json"}),l),a.i=yt,a.j=Rt,a.k=St,a.l=(c,l)=>Se(X(c,{type:"arrayBuffer"}),l),a.m=Se,a.n=function(c){return new Ac(c).readFields(cc,[])},a.o=Fa,a.p=zc,a.q=Aa,a.r=Gh,a.s=Re,a.t=ZA,a.u=Vn,a.v=pt,a.w=he,a.x=Vi,a.y=function([c,l,d]){return l+=90,l*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(d),y:c*Math.sin(l)*Math.sin(d),z:c*Math.cos(d)}},a.z=gt}),i("worker",["./shared"],function(a){class s{constructor(ce){this.keyCache={},ce&&this.replace(ce)}replace(ce){this._layerConfigs={},this._layers={},this.update(ce,[])}update(ce,Ce){for(const je of ce){this._layerConfigs[je.id]=je;const rt=this._layers[je.id]=a.az(je);rt._featureFilter=a.a6(rt.filter),this.keyCache[je.id]&&delete this.keyCache[je.id]}for(const je of Ce)delete this.keyCache[je],delete this._layerConfigs[je],delete this._layers[je];this.familiesBySource={};const Ie=a.bh(Object.values(this._layerConfigs),this.keyCache);for(const je of Ie){const rt=je.map(Ht=>this._layers[Ht.id]),lt=rt[0];if(lt.visibility==="none")continue;const ft=lt.source||"";let et=this.familiesBySource[ft];et||(et=this.familiesBySource[ft]={});const Mt=lt.sourceLayer||"_geojsonTileLayer";let tn=et[Mt];tn||(tn=et[Mt]=[]),tn.push(rt)}}}class h{constructor(ce){const Ce={},Ie=[];for(const ft in ce){const et=ce[ft],Mt=Ce[ft]={};for(const tn in et){const Ht=et[+tn];if(!Ht||Ht.bitmap.width===0||Ht.bitmap.height===0)continue;const en={x:0,y:0,w:Ht.bitmap.width+2,h:Ht.bitmap.height+2};Ie.push(en),Mt[tn]={rect:en,metrics:Ht.metrics}}}const{w:je,h:rt}=a.p(Ie),lt=new a.o({width:je||1,height:rt||1});for(const ft in ce){const et=ce[ft];for(const Mt in et){const tn=et[+Mt];if(!tn||tn.bitmap.width===0||tn.bitmap.height===0)continue;const Ht=Ce[ft][Mt].rect;a.o.copy(tn.bitmap,lt,{x:0,y:0},{x:Ht.x+1,y:Ht.y+1},tn.bitmap)}}this.image=lt,this.positions=Ce}}a.bi("GlyphAtlas",h);class g{constructor(ce){this.tileID=new a.Q(ce.tileID.overscaledZ,ce.tileID.wrap,ce.tileID.canonical.z,ce.tileID.canonical.x,ce.tileID.canonical.y),this.uid=ce.uid,this.zoom=ce.zoom,this.pixelRatio=ce.pixelRatio,this.tileSize=ce.tileSize,this.source=ce.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ce.showCollisionBoxes,this.collectResourceTiming=!!ce.collectResourceTiming,this.returnDependencies=!!ce.returnDependencies,this.promoteId=ce.promoteId,this.inFlightDependencies=[]}parse(ce,Ce,Ie,je){return a._(this,void 0,void 0,function*(){this.status="parsing",this.data=ce,this.collisionBoxArray=new a.a4;const rt=new a.bj(Object.keys(ce.layers).sort()),lt=new a.bk(this.tileID,this.promoteId);lt.bucketLayerIDs=[];const ft={},et={featureIndex:lt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ie},Mt=Ce.familiesBySource[this.source];for(const ir in Mt){const ci=ce.layers[ir];if(!ci)continue;ci.version===1&&a.w(`Vector tile source "${this.source}" layer "${ir}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Li=rt.encode(ir),to=[];for(let ho=0;ho<ci.length;ho++){const ai=ci.feature(ho),fo=lt.getId(ai,ir);to.push({feature:ai,id:fo,index:ho,sourceLayerIndex:Li})}for(const ho of Mt[ir]){const ai=ho[0];ai.source!==this.source&&a.w(`layer.source = ${ai.source} does not equal this.source = ${this.source}`),ai.minzoom&&this.zoom<Math.floor(ai.minzoom)||ai.maxzoom&&this.zoom>=ai.maxzoom||ai.visibility!=="none"&&(_(ho,this.zoom,Ie),(ft[ai.id]=ai.createBucket({index:lt.bucketLayerIDs.length,layers:ho,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Li,sourceID:this.source})).populate(to,et,this.tileID.canonical),lt.bucketLayerIDs.push(ho.map(fo=>fo.id)))}}const tn=a.aE(et.glyphDependencies,ir=>Object.keys(ir).map(Number));this.inFlightDependencies.forEach(ir=>ir==null?void 0:ir.abort()),this.inFlightDependencies=[];let Ht=Promise.resolve({});if(Object.keys(tn).length){const ir=new AbortController;this.inFlightDependencies.push(ir),Ht=je.sendAsync({type:"getGlyphs",data:{stacks:tn,source:this.source,tileID:this.tileID,type:"glyphs"}},ir)}const en=Object.keys(et.iconDependencies);let Dn=Promise.resolve({});if(en.length){const ir=new AbortController;this.inFlightDependencies.push(ir),Dn=je.sendAsync({type:"getImages",data:{icons:en,source:this.source,tileID:this.tileID,type:"icons"}},ir)}const Bn=Object.keys(et.patternDependencies);let Yn=Promise.resolve({});if(Bn.length){const ir=new AbortController;this.inFlightDependencies.push(ir),Yn=je.sendAsync({type:"getImages",data:{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"}},ir)}const[Sr,lr,Qr]=yield Promise.all([Ht,Dn,Yn]),Or=new h(Sr),Lr=new a.bl(lr,Qr);for(const ir in ft){const ci=ft[ir];ci instanceof a.a5?(_(ci.layers,this.zoom,Ie),a.bm({bucket:ci,glyphMap:Sr,glyphPositions:Or.positions,imageMap:lr,imagePositions:Lr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):ci.hasPattern&&(ci instanceof a.bn||ci instanceof a.bo||ci instanceof a.bp)&&(_(ci.layers,this.zoom,Ie),ci.addFeatures(et,this.tileID.canonical,Lr.patternPositions))}return this.status="done",{buckets:Object.values(ft).filter(ir=>!ir.isEmpty()),featureIndex:lt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Or.image,imageAtlas:Lr,glyphMap:this.returnDependencies?Sr:null,iconMap:this.returnDependencies?lr:null,glyphPositions:this.returnDependencies?Or.positions:null}})}}function _(Ke,ce,Ce){const Ie=new a.a8(ce);for(const je of Ke)je.recalculate(Ie,Ce)}class E{constructor(ce,Ce,Ie){this.actor=ce,this.layerIndex=Ce,this.availableImages=Ie,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ce,Ce){return a._(this,void 0,void 0,function*(){const Ie=yield a.l(ce.request,Ce);try{return{vectorTile:new a.bq.VectorTile(new a.br(Ie.data)),rawData:Ie.data,cacheControl:Ie.cacheControl,expires:Ie.expires}}catch(je){const rt=new Uint8Array(Ie.data);let lt=`Unable to parse the tile at ${ce.request.url}, `;throw lt+=rt[0]===31&&rt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${je.messge}`,new Error(lt)}})}loadTile(ce){return a._(this,void 0,void 0,function*(){const Ce=ce.uid,Ie=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new a.bs(ce.request),je=new g(ce);this.loading[Ce]=je;const rt=new AbortController;je.abort=rt;try{const lt=yield this.loadVectorTile(ce,rt);if(delete this.loading[Ce],!lt)return null;const ft=lt.rawData,et={};lt.expires&&(et.expires=lt.expires),lt.cacheControl&&(et.cacheControl=lt.cacheControl);const Mt={};if(Ie){const Ht=Ie.finish();Ht&&(Mt.resourceTiming=JSON.parse(JSON.stringify(Ht)))}je.vectorTile=lt.vectorTile;const tn=je.parse(lt.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[Ce]=je,this.fetching[Ce]={rawTileData:ft,cacheControl:et,resourceTiming:Mt};try{const Ht=yield tn;return a.e({rawTileData:ft.slice(0)},Ht,et,Mt)}finally{delete this.fetching[Ce]}}catch(lt){throw delete this.loading[Ce],je.status="done",this.loaded[Ce]=je,lt}})}reloadTile(ce){return a._(this,void 0,void 0,function*(){const Ce=ce.uid;if(!this.loaded||!this.loaded[Ce])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ie=this.loaded[Ce];if(Ie.showCollisionBoxes=ce.showCollisionBoxes,Ie.status==="parsing"){const je=yield Ie.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor);let rt;if(this.fetching[Ce]){const{rawTileData:lt,cacheControl:ft,resourceTiming:et}=this.fetching[Ce];delete this.fetching[Ce],rt=a.e({rawTileData:lt.slice(0)},je,ft,et)}else rt=je;return rt}if(Ie.status==="done"&&Ie.vectorTile)return Ie.parse(Ie.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(ce){return a._(this,void 0,void 0,function*(){const Ce=this.loading,Ie=ce.uid;Ce&&Ce[Ie]&&Ce[Ie].abort&&(Ce[Ie].abort.abort(),delete Ce[Ie])})}removeTile(ce){return a._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ce.uid]&&delete this.loaded[ce.uid]})}}class O{constructor(){this.loaded={}}loadTile(ce){return a._(this,void 0,void 0,function*(){const{uid:Ce,encoding:Ie,rawImageData:je,redFactor:rt,greenFactor:lt,blueFactor:ft,baseShift:et}=ce,Mt=je.width+2,tn=je.height+2,Ht=a.b(je)?new a.R({width:Mt,height:tn},yield a.bt(je,-1,-1,Mt,tn)):je,en=new a.bu(Ce,Ht,Ie,rt,lt,ft,et);return this.loaded=this.loaded||{},this.loaded[Ce]=en,en})}removeTile(ce){const Ce=this.loaded,Ie=ce.uid;Ce&&Ce[Ie]&&delete Ce[Ie]}}function K(Ke,ce){if(Ke.length!==0){D(Ke[0],ce);for(var Ce=1;Ce<Ke.length;Ce++)D(Ke[Ce],!ce)}}function D(Ke,ce){for(var Ce=0,Ie=0,je=0,rt=Ke.length,lt=rt-1;je<rt;lt=je++){var ft=(Ke[je][0]-Ke[lt][0])*(Ke[lt][1]+Ke[je][1]),et=Ce+ft;Ie+=Math.abs(Ce)>=Math.abs(ft)?Ce-et+ft:ft-et+Ce,Ce=et}Ce+Ie>=0!=!!ce&&Ke.reverse()}var Y=a.bv(function Ke(ce,Ce){var Ie,je=ce&&ce.type;if(je==="FeatureCollection")for(Ie=0;Ie<ce.features.length;Ie++)Ke(ce.features[Ie],Ce);else if(je==="GeometryCollection")for(Ie=0;Ie<ce.geometries.length;Ie++)Ke(ce.geometries[Ie],Ce);else if(je==="Feature")Ke(ce.geometry,Ce);else if(je==="Polygon")K(ce.coordinates,Ce);else if(je==="MultiPolygon")for(Ie=0;Ie<ce.coordinates.length;Ie++)K(ce.coordinates[Ie],Ce);return ce});const ee=a.bq.VectorTileFeature.prototype.toGeoJSON;var H={exports:{}},N=a.bw,Z=a.bq.VectorTileFeature,ue=ye;function ye(Ke,ce){this.options=ce||{},this.features=Ke,this.length=Ke.length}function be(Ke,ce){this.id=typeof Ke.id=="number"?Ke.id:void 0,this.type=Ke.type,this.rawGeometry=Ke.type===1?[Ke.geometry]:Ke.geometry,this.properties=Ke.tags,this.extent=ce||4096}ye.prototype.feature=function(Ke){return new be(this.features[Ke],this.options.extent)},be.prototype.loadGeometry=function(){var Ke=this.rawGeometry;this.geometry=[];for(var ce=0;ce<Ke.length;ce++){for(var Ce=Ke[ce],Ie=[],je=0;je<Ce.length;je++)Ie.push(new N(Ce[je][0],Ce[je][1]));this.geometry.push(Ie)}return this.geometry},be.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ke=this.geometry,ce=1/0,Ce=-1/0,Ie=1/0,je=-1/0,rt=0;rt<Ke.length;rt++)for(var lt=Ke[rt],ft=0;ft<lt.length;ft++){var et=lt[ft];ce=Math.min(ce,et.x),Ce=Math.max(Ce,et.x),Ie=Math.min(Ie,et.y),je=Math.max(je,et.y)}return[ce,Ie,Ce,je]},be.prototype.toGeoJSON=Z.prototype.toGeoJSON;var X=a.bx,se=ue;function we(Ke){var ce=new X;return function(Ce,Ie){for(var je in Ce.layers)Ie.writeMessage(3,xe,Ce.layers[je])}(Ke,ce),ce.finish()}function xe(Ke,ce){var Ce;ce.writeVarintField(15,Ke.version||1),ce.writeStringField(1,Ke.name||""),ce.writeVarintField(5,Ke.extent||4096);var Ie={keys:[],values:[],keycache:{},valuecache:{}};for(Ce=0;Ce<Ke.length;Ce++)Ie.feature=Ke.feature(Ce),ce.writeMessage(2,De,Ie);var je=Ie.keys;for(Ce=0;Ce<je.length;Ce++)ce.writeStringField(3,je[Ce]);var rt=Ie.values;for(Ce=0;Ce<rt.length;Ce++)ce.writeMessage(4,yt,rt[Ce])}function De(Ke,ce){var Ce=Ke.feature;Ce.id!==void 0&&ce.writeVarintField(1,Ce.id),ce.writeMessage(2,Fe,Ke),ce.writeVarintField(3,Ce.type),ce.writeMessage(4,ge,Ce)}function Fe(Ke,ce){var Ce=Ke.feature,Ie=Ke.keys,je=Ke.values,rt=Ke.keycache,lt=Ke.valuecache;for(var ft in Ce.properties){var et=Ce.properties[ft],Mt=rt[ft];if(et!==null){Mt===void 0&&(Ie.push(ft),rt[ft]=Mt=Ie.length-1),ce.writeVarint(Mt);var tn=typeof et;tn!=="string"&&tn!=="boolean"&&tn!=="number"&&(et=JSON.stringify(et));var Ht=tn+":"+et,en=lt[Ht];en===void 0&&(je.push(et),lt[Ht]=en=je.length-1),ce.writeVarint(en)}}}function he(Ke,ce){return(ce<<3)+(7&Ke)}function Qe(Ke){return Ke<<1^Ke>>31}function ge(Ke,ce){for(var Ce=Ke.loadGeometry(),Ie=Ke.type,je=0,rt=0,lt=Ce.length,ft=0;ft<lt;ft++){var et=Ce[ft],Mt=1;Ie===1&&(Mt=et.length),ce.writeVarint(he(1,Mt));for(var tn=Ie===3?et.length-1:et.length,Ht=0;Ht<tn;Ht++){Ht===1&&Ie!==1&&ce.writeVarint(he(2,tn-1));var en=et[Ht].x-je,Dn=et[Ht].y-rt;ce.writeVarint(Qe(en)),ce.writeVarint(Qe(Dn)),je+=en,rt+=Dn}Ie===3&&ce.writeVarint(he(7,1))}}function yt(Ke,ce){var Ce=typeof Ke;Ce==="string"?ce.writeStringField(1,Ke):Ce==="boolean"?ce.writeBooleanField(7,Ke):Ce==="number"&&(Ke%1!=0?ce.writeDoubleField(3,Ke):Ke<0?ce.writeSVarintField(6,Ke):ce.writeVarintField(5,Ke))}H.exports=we,H.exports.fromVectorTileJs=we,H.exports.fromGeojsonVt=function(Ke,ce){ce=ce||{};var Ce={};for(var Ie in Ke)Ce[Ie]=new se(Ke[Ie].features,ce),Ce[Ie].name=Ie,Ce[Ie].version=ce.version,Ce[Ie].extent=ce.extent;return we({layers:Ce})},H.exports.GeoJSONWrapper=se;var wt=a.bv(H.exports);const st={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ke=>Ke},mt=Math.fround||(ze=new Float32Array(1),Ke=>(ze[0]=+Ke,ze[0]));var ze;const He=3,Ve=5,Vt=6;class Yt{constructor(ce){this.options=Object.assign(Object.create(st),ce),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ce){const{log:Ce,minZoom:Ie,maxZoom:je}=this.options;Ce&&console.time("total time");const rt=`prepare ${ce.length} points`;Ce&&console.time(rt),this.points=ce;const lt=[];for(let et=0;et<ce.length;et++){const Mt=ce[et];if(!Mt.geometry)continue;const[tn,Ht]=Mt.geometry.coordinates,en=mt(Qt(tn)),Dn=mt(ke(Ht));lt.push(en,Dn,1/0,et,-1,1),this.options.reduce&&lt.push(0)}let ft=this.trees[je+1]=this._createTree(lt);Ce&&console.timeEnd(rt);for(let et=je;et>=Ie;et--){const Mt=+Date.now();ft=this.trees[et]=this._createTree(this._cluster(ft,et)),Ce&&console.log("z%d: %d clusters in %dms",et,ft.numItems,+Date.now()-Mt)}return Ce&&console.timeEnd("total time"),this}getClusters(ce,Ce){let Ie=((ce[0]+180)%360+360)%360-180;const je=Math.max(-90,Math.min(90,ce[1]));let rt=ce[2]===180?180:((ce[2]+180)%360+360)%360-180;const lt=Math.max(-90,Math.min(90,ce[3]));if(ce[2]-ce[0]>=360)Ie=-180,rt=180;else if(Ie>rt){const Ht=this.getClusters([Ie,je,180,lt],Ce),en=this.getClusters([-180,je,rt,lt],Ce);return Ht.concat(en)}const ft=this.trees[this._limitZoom(Ce)],et=ft.range(Qt(Ie),ke(lt),Qt(rt),ke(je)),Mt=ft.data,tn=[];for(const Ht of et){const en=this.stride*Ht;tn.push(Mt[en+Ve]>1?vt(Mt,en,this.clusterProps):this.points[Mt[en+He]])}return tn}getChildren(ce){const Ce=this._getOriginId(ce),Ie=this._getOriginZoom(ce),je="No cluster with the specified id.",rt=this.trees[Ie];if(!rt)throw new Error(je);const lt=rt.data;if(Ce*this.stride>=lt.length)throw new Error(je);const ft=this.options.radius/(this.options.extent*Math.pow(2,Ie-1)),et=rt.within(lt[Ce*this.stride],lt[Ce*this.stride+1],ft),Mt=[];for(const tn of et){const Ht=tn*this.stride;lt[Ht+4]===ce&&Mt.push(lt[Ht+Ve]>1?vt(lt,Ht,this.clusterProps):this.points[lt[Ht+He]])}if(Mt.length===0)throw new Error(je);return Mt}getLeaves(ce,Ce,Ie){const je=[];return this._appendLeaves(je,ce,Ce=Ce||10,Ie=Ie||0,0),je}getTile(ce,Ce,Ie){const je=this.trees[this._limitZoom(ce)],rt=Math.pow(2,ce),{extent:lt,radius:ft}=this.options,et=ft/lt,Mt=(Ie-et)/rt,tn=(Ie+1+et)/rt,Ht={features:[]};return this._addTileFeatures(je.range((Ce-et)/rt,Mt,(Ce+1+et)/rt,tn),je.data,Ce,Ie,rt,Ht),Ce===0&&this._addTileFeatures(je.range(1-et/rt,Mt,1,tn),je.data,rt,Ie,rt,Ht),Ce===rt-1&&this._addTileFeatures(je.range(0,Mt,et/rt,tn),je.data,-1,Ie,rt,Ht),Ht.features.length?Ht:null}getClusterExpansionZoom(ce){let Ce=this._getOriginZoom(ce)-1;for(;Ce<=this.options.maxZoom;){const Ie=this.getChildren(ce);if(Ce++,Ie.length!==1)break;ce=Ie[0].properties.cluster_id}return Ce}_appendLeaves(ce,Ce,Ie,je,rt){const lt=this.getChildren(Ce);for(const ft of lt){const et=ft.properties;if(et&&et.cluster?rt+et.point_count<=je?rt+=et.point_count:rt=this._appendLeaves(ce,et.cluster_id,Ie,je,rt):rt<je?rt++:ce.push(ft),ce.length===Ie)break}return rt}_createTree(ce){const Ce=new a.au(ce.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ie=0;Ie<ce.length;Ie+=this.stride)Ce.add(ce[Ie],ce[Ie+1]);return Ce.finish(),Ce.data=ce,Ce}_addTileFeatures(ce,Ce,Ie,je,rt,lt){for(const ft of ce){const et=ft*this.stride,Mt=Ce[et+Ve]>1;let tn,Ht,en;if(Mt)tn=$t(Ce,et,this.clusterProps),Ht=Ce[et],en=Ce[et+1];else{const Yn=this.points[Ce[et+He]];tn=Yn.properties;const[Sr,lr]=Yn.geometry.coordinates;Ht=Qt(Sr),en=ke(lr)}const Dn={type:1,geometry:[[Math.round(this.options.extent*(Ht*rt-Ie)),Math.round(this.options.extent*(en*rt-je))]],tags:tn};let Bn;Bn=Mt||this.options.generateId?Ce[et+He]:this.points[Ce[et+He]].id,Bn!==void 0&&(Dn.id=Bn),lt.features.push(Dn)}}_limitZoom(ce){return Math.max(this.options.minZoom,Math.min(Math.floor(+ce),this.options.maxZoom+1))}_cluster(ce,Ce){const{radius:Ie,extent:je,reduce:rt,minPoints:lt}=this.options,ft=Ie/(je*Math.pow(2,Ce)),et=ce.data,Mt=[],tn=this.stride;for(let Ht=0;Ht<et.length;Ht+=tn){if(et[Ht+2]<=Ce)continue;et[Ht+2]=Ce;const en=et[Ht],Dn=et[Ht+1],Bn=ce.within(et[Ht],et[Ht+1],ft),Yn=et[Ht+Ve];let Sr=Yn;for(const lr of Bn){const Qr=lr*tn;et[Qr+2]>Ce&&(Sr+=et[Qr+Ve])}if(Sr>Yn&&Sr>=lt){let lr,Qr=en*Yn,Or=Dn*Yn,Lr=-1;const ir=((Ht/tn|0)<<5)+(Ce+1)+this.points.length;for(const ci of Bn){const Li=ci*tn;if(et[Li+2]<=Ce)continue;et[Li+2]=Ce;const to=et[Li+Ve];Qr+=et[Li]*to,Or+=et[Li+1]*to,et[Li+4]=ir,rt&&(lr||(lr=this._map(et,Ht,!0),Lr=this.clusterProps.length,this.clusterProps.push(lr)),rt(lr,this._map(et,Li)))}et[Ht+4]=ir,Mt.push(Qr/Sr,Or/Sr,1/0,ir,-1,Sr),rt&&Mt.push(Lr)}else{for(let lr=0;lr<tn;lr++)Mt.push(et[Ht+lr]);if(Sr>1)for(const lr of Bn){const Qr=lr*tn;if(!(et[Qr+2]<=Ce)){et[Qr+2]=Ce;for(let Or=0;Or<tn;Or++)Mt.push(et[Qr+Or])}}}}return Mt}_getOriginId(ce){return ce-this.points.length>>5}_getOriginZoom(ce){return(ce-this.points.length)%32}_map(ce,Ce,Ie){if(ce[Ce+Ve]>1){const lt=this.clusterProps[ce[Ce+Vt]];return Ie?Object.assign({},lt):lt}const je=this.points[ce[Ce+He]].properties,rt=this.options.map(je);return Ie&&rt===je?Object.assign({},rt):rt}}function vt(Ke,ce,Ce){return{type:"Feature",id:Ke[ce+He],properties:$t(Ke,ce,Ce),geometry:{type:"Point",coordinates:[(Ie=Ke[ce],360*(Ie-.5)),pe(Ke[ce+1])]}};var Ie}function $t(Ke,ce,Ce){const Ie=Ke[ce+Ve],je=Ie>=1e4?`${Math.round(Ie/1e3)}k`:Ie>=1e3?Math.round(Ie/100)/10+"k":Ie,rt=Ke[ce+Vt],lt=rt===-1?{}:Object.assign({},Ce[rt]);return Object.assign(lt,{cluster:!0,cluster_id:Ke[ce+He],point_count:Ie,point_count_abbreviated:je})}function Qt(Ke){return Ke/360+.5}function ke(Ke){const ce=Math.sin(Ke*Math.PI/180),Ce=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function pe(Ke){const ce=(180-360*Ke)*Math.PI/180;return 360*Math.atan(Math.exp(ce))/Math.PI-90}function Se(Ke,ce,Ce,Ie){for(var je,rt=Ie,lt=Ce-ce>>1,ft=Ce-ce,et=Ke[ce],Mt=Ke[ce+1],tn=Ke[Ce],Ht=Ke[Ce+1],en=ce+3;en<Ce;en+=3){var Dn=Re(Ke[en],Ke[en+1],et,Mt,tn,Ht);if(Dn>rt)je=en,rt=Dn;else if(Dn===rt){var Bn=Math.abs(en-lt);Bn<ft&&(je=en,ft=Bn)}}rt>Ie&&(je-ce>3&&Se(Ke,ce,je,Ie),Ke[je+2]=rt,Ce-je>3&&Se(Ke,je,Ce,Ie))}function Re(Ke,ce,Ce,Ie,je,rt){var lt=je-Ce,ft=rt-Ie;if(lt!==0||ft!==0){var et=((Ke-Ce)*lt+(ce-Ie)*ft)/(lt*lt+ft*ft);et>1?(Ce=je,Ie=rt):et>0&&(Ce+=lt*et,Ie+=ft*et)}return(lt=Ke-Ce)*lt+(ft=ce-Ie)*ft}function it(Ke,ce,Ce,Ie){var je={id:Ke===void 0?null:Ke,type:ce,geometry:Ce,tags:Ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(rt){var lt=rt.geometry,ft=rt.type;if(ft==="Point"||ft==="MultiPoint"||ft==="LineString")ot(rt,lt);else if(ft==="Polygon"||ft==="MultiLineString")for(var et=0;et<lt.length;et++)ot(rt,lt[et]);else if(ft==="MultiPolygon")for(et=0;et<lt.length;et++)for(var Mt=0;Mt<lt[et].length;Mt++)ot(rt,lt[et][Mt])}(je),je}function ot(Ke,ce){for(var Ce=0;Ce<ce.length;Ce+=3)Ke.minX=Math.min(Ke.minX,ce[Ce]),Ke.minY=Math.min(Ke.minY,ce[Ce+1]),Ke.maxX=Math.max(Ke.maxX,ce[Ce]),Ke.maxY=Math.max(Ke.maxY,ce[Ce+1])}function St(Ke,ce,Ce,Ie){if(ce.geometry){var je=ce.geometry.coordinates,rt=ce.geometry.type,lt=Math.pow(Ce.tolerance/((1<<Ce.maxZoom)*Ce.extent),2),ft=[],et=ce.id;if(Ce.promoteId?et=ce.properties[Ce.promoteId]:Ce.generateId&&(et=Ie||0),rt==="Point")Rt(je,ft);else if(rt==="MultiPoint")for(var Mt=0;Mt<je.length;Mt++)Rt(je[Mt],ft);else if(rt==="LineString")zt(je,ft,lt,!1);else if(rt==="MultiLineString"){if(Ce.lineMetrics){for(Mt=0;Mt<je.length;Mt++)zt(je[Mt],ft=[],lt,!1),Ke.push(it(et,"LineString",ft,ce.properties));return}pt(je,ft,lt,!1)}else if(rt==="Polygon")pt(je,ft,lt,!0);else{if(rt!=="MultiPolygon"){if(rt==="GeometryCollection"){for(Mt=0;Mt<ce.geometry.geometries.length;Mt++)St(Ke,{id:et,geometry:ce.geometry.geometries[Mt],properties:ce.properties},Ce,Ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Mt=0;Mt<je.length;Mt++){var tn=[];pt(je[Mt],tn,lt,!0),ft.push(tn)}}Ke.push(it(et,rt,ft,ce.properties))}}function Rt(Ke,ce){ce.push(rr(Ke[0])),ce.push(gn(Ke[1])),ce.push(0)}function zt(Ke,ce,Ce,Ie){for(var je,rt,lt=0,ft=0;ft<Ke.length;ft++){var et=rr(Ke[ft][0]),Mt=gn(Ke[ft][1]);ce.push(et),ce.push(Mt),ce.push(0),ft>0&&(lt+=Ie?(je*Mt-et*rt)/2:Math.sqrt(Math.pow(et-je,2)+Math.pow(Mt-rt,2))),je=et,rt=Mt}var tn=ce.length-3;ce[2]=1,Se(ce,0,tn,Ce),ce[tn+2]=1,ce.size=Math.abs(lt),ce.start=0,ce.end=ce.size}function pt(Ke,ce,Ce,Ie){for(var je=0;je<Ke.length;je++){var rt=[];zt(Ke[je],rt,Ce,Ie),ce.push(rt)}}function rr(Ke){return Ke/360+.5}function gn(Ke){var ce=Math.sin(Ke*Math.PI/180),Ce=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return Ce<0?0:Ce>1?1:Ce}function yn(Ke,ce,Ce,Ie,je,rt,lt,ft){if(Ie/=ce,rt>=(Ce/=ce)&&lt<Ie)return Ke;if(lt<Ce||rt>=Ie)return null;for(var et=[],Mt=0;Mt<Ke.length;Mt++){var tn=Ke[Mt],Ht=tn.geometry,en=tn.type,Dn=je===0?tn.minX:tn.minY,Bn=je===0?tn.maxX:tn.maxY;if(Dn>=Ce&&Bn<Ie)et.push(tn);else if(!(Bn<Ce||Dn>=Ie)){var Yn=[];if(en==="Point"||en==="MultiPoint")Jn(Ht,Yn,Ce,Ie,je);else if(en==="LineString")Ar(Ht,Yn,Ce,Ie,je,!1,ft.lineMetrics);else if(en==="MultiLineString")Wr(Ht,Yn,Ce,Ie,je,!1);else if(en==="Polygon")Wr(Ht,Yn,Ce,Ie,je,!0);else if(en==="MultiPolygon")for(var Sr=0;Sr<Ht.length;Sr++){var lr=[];Wr(Ht[Sr],lr,Ce,Ie,je,!0),lr.length&&Yn.push(lr)}if(Yn.length){if(ft.lineMetrics&&en==="LineString"){for(Sr=0;Sr<Yn.length;Sr++)et.push(it(tn.id,en,Yn[Sr],tn.tags));continue}en!=="LineString"&&en!=="MultiLineString"||(Yn.length===1?(en="LineString",Yn=Yn[0]):en="MultiLineString"),en!=="Point"&&en!=="MultiPoint"||(en=Yn.length===3?"Point":"MultiPoint"),et.push(it(tn.id,en,Yn,tn.tags))}}}return et.length?et:null}function Jn(Ke,ce,Ce,Ie,je){for(var rt=0;rt<Ke.length;rt+=3){var lt=Ke[rt+je];lt>=Ce&&lt<=Ie&&(ce.push(Ke[rt]),ce.push(Ke[rt+1]),ce.push(Ke[rt+2]))}}function Ar(Ke,ce,Ce,Ie,je,rt,lt){for(var ft,et,Mt=Mr(Ke),tn=je===0?_i:Ee,Ht=Ke.start,en=0;en<Ke.length-3;en+=3){var Dn=Ke[en],Bn=Ke[en+1],Yn=Ke[en+2],Sr=Ke[en+3],lr=Ke[en+4],Qr=je===0?Dn:Bn,Or=je===0?Sr:lr,Lr=!1;lt&&(ft=Math.sqrt(Math.pow(Dn-Sr,2)+Math.pow(Bn-lr,2))),Qr<Ce?Or>Ce&&(et=tn(Mt,Dn,Bn,Sr,lr,Ce),lt&&(Mt.start=Ht+ft*et)):Qr>Ie?Or<Ie&&(et=tn(Mt,Dn,Bn,Sr,lr,Ie),lt&&(Mt.start=Ht+ft*et)):gr(Mt,Dn,Bn,Yn),Or<Ce&&Qr>=Ce&&(et=tn(Mt,Dn,Bn,Sr,lr,Ce),Lr=!0),Or>Ie&&Qr<=Ie&&(et=tn(Mt,Dn,Bn,Sr,lr,Ie),Lr=!0),!rt&&Lr&&(lt&&(Mt.end=Ht+ft*et),ce.push(Mt),Mt=Mr(Ke)),lt&&(Ht+=ft)}var ir=Ke.length-3;Dn=Ke[ir],Bn=Ke[ir+1],Yn=Ke[ir+2],(Qr=je===0?Dn:Bn)>=Ce&&Qr<=Ie&&gr(Mt,Dn,Bn,Yn),ir=Mt.length-3,rt&&ir>=3&&(Mt[ir]!==Mt[0]||Mt[ir+1]!==Mt[1])&&gr(Mt,Mt[0],Mt[1],Mt[2]),Mt.length&&ce.push(Mt)}function Mr(Ke){var ce=[];return ce.size=Ke.size,ce.start=Ke.start,ce.end=Ke.end,ce}function Wr(Ke,ce,Ce,Ie,je,rt){for(var lt=0;lt<Ke.length;lt++)Ar(Ke[lt],ce,Ce,Ie,je,rt,!1)}function gr(Ke,ce,Ce,Ie){Ke.push(ce),Ke.push(Ce),Ke.push(Ie)}function _i(Ke,ce,Ce,Ie,je,rt){var lt=(rt-ce)/(Ie-ce);return Ke.push(rt),Ke.push(Ce+(je-Ce)*lt),Ke.push(1),lt}function Ee(Ke,ce,Ce,Ie,je,rt){var lt=(rt-Ce)/(je-Ce);return Ke.push(ce+(Ie-ce)*lt),Ke.push(rt),Ke.push(1),lt}function J(Ke,ce){for(var Ce=[],Ie=0;Ie<Ke.length;Ie++){var je,rt=Ke[Ie],lt=rt.type;if(lt==="Point"||lt==="MultiPoint"||lt==="LineString")je=q(rt.geometry,ce);else if(lt==="MultiLineString"||lt==="Polygon"){je=[];for(var ft=0;ft<rt.geometry.length;ft++)je.push(q(rt.geometry[ft],ce))}else if(lt==="MultiPolygon")for(je=[],ft=0;ft<rt.geometry.length;ft++){for(var et=[],Mt=0;Mt<rt.geometry[ft].length;Mt++)et.push(q(rt.geometry[ft][Mt],ce));je.push(et)}Ce.push(it(rt.id,lt,je,rt.tags))}return Ce}function q(Ke,ce){var Ce=[];Ce.size=Ke.size,Ke.start!==void 0&&(Ce.start=Ke.start,Ce.end=Ke.end);for(var Ie=0;Ie<Ke.length;Ie+=3)Ce.push(Ke[Ie]+ce,Ke[Ie+1],Ke[Ie+2]);return Ce}function Te(Ke,ce){if(Ke.transformed)return Ke;var Ce,Ie,je,rt=1<<Ke.z,lt=Ke.x,ft=Ke.y;for(Ce=0;Ce<Ke.features.length;Ce++){var et=Ke.features[Ce],Mt=et.geometry,tn=et.type;if(et.geometry=[],tn===1)for(Ie=0;Ie<Mt.length;Ie+=2)et.geometry.push(At(Mt[Ie],Mt[Ie+1],ce,rt,lt,ft));else for(Ie=0;Ie<Mt.length;Ie++){var Ht=[];for(je=0;je<Mt[Ie].length;je+=2)Ht.push(At(Mt[Ie][je],Mt[Ie][je+1],ce,rt,lt,ft));et.geometry.push(Ht)}}return Ke.transformed=!0,Ke}function At(Ke,ce,Ce,Ie,je,rt){return[Math.round(Ce*(Ke*Ie-je)),Math.round(Ce*(ce*Ie-rt))]}function Bt(Ke,ce,Ce,Ie,je){for(var rt=ce===je.maxZoom?0:je.tolerance/((1<<ce)*je.extent),lt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ce,y:Ie,z:ce,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ft=0;ft<Ke.length;ft++){lt.numFeatures++,kt(lt,Ke[ft],rt,je);var et=Ke[ft].minX,Mt=Ke[ft].minY,tn=Ke[ft].maxX,Ht=Ke[ft].maxY;et<lt.minX&&(lt.minX=et),Mt<lt.minY&&(lt.minY=Mt),tn>lt.maxX&&(lt.maxX=tn),Ht>lt.maxY&&(lt.maxY=Ht)}return lt}function kt(Ke,ce,Ce,Ie){var je=ce.geometry,rt=ce.type,lt=[];if(rt==="Point"||rt==="MultiPoint")for(var ft=0;ft<je.length;ft+=3)lt.push(je[ft]),lt.push(je[ft+1]),Ke.numPoints++,Ke.numSimplified++;else if(rt==="LineString")Ft(lt,je,Ke,Ce,!1,!1);else if(rt==="MultiLineString"||rt==="Polygon")for(ft=0;ft<je.length;ft++)Ft(lt,je[ft],Ke,Ce,rt==="Polygon",ft===0);else if(rt==="MultiPolygon")for(var et=0;et<je.length;et++){var Mt=je[et];for(ft=0;ft<Mt.length;ft++)Ft(lt,Mt[ft],Ke,Ce,!0,ft===0)}if(lt.length){var tn=ce.tags||null;if(rt==="LineString"&&Ie.lineMetrics){for(var Ht in tn={},ce.tags)tn[Ht]=ce.tags[Ht];tn.mapbox_clip_start=je.start/je.size,tn.mapbox_clip_end=je.end/je.size}var en={geometry:lt,type:rt==="Polygon"||rt==="MultiPolygon"?3:rt==="LineString"||rt==="MultiLineString"?2:1,tags:tn};ce.id!==null&&(en.id=ce.id),Ke.features.push(en)}}function Ft(Ke,ce,Ce,Ie,je,rt){var lt=Ie*Ie;if(Ie>0&&ce.size<(je?lt:Ie))Ce.numPoints+=ce.length/3;else{for(var ft=[],et=0;et<ce.length;et+=3)(Ie===0||ce[et+2]>lt)&&(Ce.numSimplified++,ft.push(ce[et]),ft.push(ce[et+1])),Ce.numPoints++;je&&function(Mt,tn){for(var Ht=0,en=0,Dn=Mt.length,Bn=Dn-2;en<Dn;Bn=en,en+=2)Ht+=(Mt[en]-Mt[Bn])*(Mt[en+1]+Mt[Bn+1]);if(Ht>0===tn)for(en=0,Dn=Mt.length;en<Dn/2;en+=2){var Yn=Mt[en],Sr=Mt[en+1];Mt[en]=Mt[Dn-2-en],Mt[en+1]=Mt[Dn-1-en],Mt[Dn-2-en]=Yn,Mt[Dn-1-en]=Sr}}(ft,rt),Ke.push(ft)}}function fn(Ke,ce){var Ce=(ce=this.options=function(je,rt){for(var lt in rt)je[lt]=rt[lt];return je}(Object.create(this.options),ce)).debug;if(Ce&&console.time("preprocess data"),ce.maxZoom<0||ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ce.promoteId&&ce.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ie=function(je,rt){var lt=[];if(je.type==="FeatureCollection")for(var ft=0;ft<je.features.length;ft++)St(lt,je.features[ft],rt,ft);else St(lt,je.type==="Feature"?je:{geometry:je},rt);return lt}(Ke,ce);this.tiles={},this.tileCoords=[],Ce&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ce.indexMaxZoom,ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ie=function(je,rt){var lt=rt.buffer/rt.extent,ft=je,et=yn(je,1,-1-lt,lt,0,-1,2,rt),Mt=yn(je,1,1-lt,2+lt,0,-1,2,rt);return(et||Mt)&&(ft=yn(je,1,-lt,1+lt,0,-1,2,rt)||[],et&&(ft=J(et,1).concat(ft)),Mt&&(ft=ft.concat(J(Mt,-1)))),ft}(Ie,ce),Ie.length&&this.splitTile(Ie,0,0,0),Ce&&(Ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Kn(Ke,ce,Ce){return 32*((1<<Ke)*Ce+ce)+Ke}function On(Ke,ce){return ce?Ke.properties[ce]:Ke.id}function m(Ke,ce){if(Ke==null)return!0;if(Ke.type==="Feature")return On(Ke,ce)!=null;if(Ke.type==="FeatureCollection"){const Ce=new Set;for(const Ie of Ke.features){const je=On(Ie,ce);if(je==null||Ce.has(je))return!1;Ce.add(je)}return!0}return!1}function Pt(Ke,ce){const Ce=new Map;if(Ke!=null)if(Ke.type==="Feature")Ce.set(On(Ke,ce),Ke);else for(const Ie of Ke.features)Ce.set(On(Ie,ce),Ie);return Ce}fn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},fn.prototype.splitTile=function(Ke,ce,Ce,Ie,je,rt,lt){for(var ft=[Ke,ce,Ce,Ie],et=this.options,Mt=et.debug;ft.length;){Ie=ft.pop(),Ce=ft.pop(),ce=ft.pop(),Ke=ft.pop();var tn=1<<ce,Ht=Kn(ce,Ce,Ie),en=this.tiles[Ht];if(!en&&(Mt>1&&console.time("creation"),en=this.tiles[Ht]=Bt(Ke,ce,Ce,Ie,et),this.tileCoords.push({z:ce,x:Ce,y:Ie}),Mt)){Mt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ce,Ce,Ie,en.numFeatures,en.numPoints,en.numSimplified),console.timeEnd("creation"));var Dn="z"+ce;this.stats[Dn]=(this.stats[Dn]||0)+1,this.total++}if(en.source=Ke,je){if(ce===et.maxZoom||ce===je)continue;var Bn=1<<je-ce;if(Ce!==Math.floor(rt/Bn)||Ie!==Math.floor(lt/Bn))continue}else if(ce===et.indexMaxZoom||en.numPoints<=et.indexMaxPoints)continue;if(en.source=null,Ke.length!==0){Mt>1&&console.time("clipping");var Yn,Sr,lr,Qr,Or,Lr,ir=.5*et.buffer/et.extent,ci=.5-ir,Li=.5+ir,to=1+ir;Yn=Sr=lr=Qr=null,Or=yn(Ke,tn,Ce-ir,Ce+Li,0,en.minX,en.maxX,et),Lr=yn(Ke,tn,Ce+ci,Ce+to,0,en.minX,en.maxX,et),Ke=null,Or&&(Yn=yn(Or,tn,Ie-ir,Ie+Li,1,en.minY,en.maxY,et),Sr=yn(Or,tn,Ie+ci,Ie+to,1,en.minY,en.maxY,et),Or=null),Lr&&(lr=yn(Lr,tn,Ie-ir,Ie+Li,1,en.minY,en.maxY,et),Qr=yn(Lr,tn,Ie+ci,Ie+to,1,en.minY,en.maxY,et),Lr=null),Mt>1&&console.timeEnd("clipping"),ft.push(Yn||[],ce+1,2*Ce,2*Ie),ft.push(Sr||[],ce+1,2*Ce,2*Ie+1),ft.push(lr||[],ce+1,2*Ce+1,2*Ie),ft.push(Qr||[],ce+1,2*Ce+1,2*Ie+1)}}},fn.prototype.getTile=function(Ke,ce,Ce){var Ie=this.options,je=Ie.extent,rt=Ie.debug;if(Ke<0||Ke>24)return null;var lt=1<<Ke,ft=Kn(Ke,ce=(ce%lt+lt)%lt,Ce);if(this.tiles[ft])return Te(this.tiles[ft],je);rt>1&&console.log("drilling down to z%d-%d-%d",Ke,ce,Ce);for(var et,Mt=Ke,tn=ce,Ht=Ce;!et&&Mt>0;)Mt--,tn=Math.floor(tn/2),Ht=Math.floor(Ht/2),et=this.tiles[Kn(Mt,tn,Ht)];return et&&et.source?(rt>1&&console.log("found parent tile z%d-%d-%d",Mt,tn,Ht),rt>1&&console.time("drilling down"),this.splitTile(et.source,Mt,tn,Ht,Ke,ce,Ce),rt>1&&console.timeEnd("drilling down"),this.tiles[ft]?Te(this.tiles[ft],je):null):null};class Kr extends E{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ce,Ce){return a._(this,void 0,void 0,function*(){const Ie=ce.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const je=this._geoJSONIndex.getTile(Ie.z,Ie.x,Ie.y);if(!je)return null;const rt=new class{constructor(ft){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.W,this.length=ft.length,this._features=ft}feature(ft){return new class{constructor(et){this._feature=et,this.extent=a.W,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))}loadGeometry(){if(this._feature.type===1){const et=[];for(const Mt of this._feature.geometry)et.push([new a.P(Mt[0],Mt[1])]);return et}{const et=[];for(const Mt of this._feature.geometry){const tn=[];for(const Ht of Mt)tn.push(new a.P(Ht[0],Ht[1]));et.push(tn)}return et}}toGeoJSON(et,Mt,tn){return ee.call(this,et,Mt,tn)}}(this._features[ft])}}(je.features);let lt=wt(rt);return lt.byteOffset===0&&lt.byteLength===lt.buffer.byteLength||(lt=new Uint8Array(lt)),{vectorTile:rt,rawData:lt.buffer}})}loadData(ce){return a._(this,void 0,void 0,function*(){var Ce;(Ce=this._pendingRequest)===null||Ce===void 0||Ce.abort();const Ie=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new a.bs(ce.request);this._pendingRequest=new AbortController;try{let je=yield this.loadGeoJSON(ce,this._pendingRequest);if(delete this._pendingRequest,typeof je!="object")throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`);if(Y(je,!0),ce.filter){const lt=a.by(ce.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(lt.result==="error")throw new Error(lt.value.map(et=>`${et.key}: ${et.message}`).join(", "));je={type:"FeatureCollection",features:je.features.filter(et=>lt.value.evaluate({zoom:0},et))}}this._geoJSONIndex=ce.cluster?new Yt(function({superclusterOptions:lt,clusterProperties:ft}){if(!ft||!lt)return lt;const et={},Mt={},tn={accumulated:null,zoom:0},Ht={properties:null},en=Object.keys(ft);for(const Dn of en){const[Bn,Yn]=ft[Dn],Sr=a.by(Yn),lr=a.by(typeof Bn=="string"?[Bn,["accumulated"],["get",Dn]]:Bn);et[Dn]=Sr.value,Mt[Dn]=lr.value}return lt.map=Dn=>{Ht.properties=Dn;const Bn={};for(const Yn of en)Bn[Yn]=et[Yn].evaluate(tn,Ht);return Bn},lt.reduce=(Dn,Bn)=>{Ht.properties=Bn;for(const Yn of en)tn.accumulated=Dn[Yn],Dn[Yn]=Mt[Yn].evaluate(tn,Ht)},lt}(ce)).load(je.features):function(lt,ft){return new fn(lt,ft)}(je,ce.geojsonVtOptions),this.loaded={};const rt={};if(Ie){const lt=Ie.finish();lt&&(rt.resourceTiming={},rt.resourceTiming[ce.source]=JSON.parse(JSON.stringify(lt)))}return rt}catch(je){if(delete this._pendingRequest,a.bz(je))return{abandoned:!0};throw je}})}reloadTile(ce){const Ce=this.loaded;return Ce&&Ce[ce.uid]?super.reloadTile(ce):this.loadTile(ce)}loadGeoJSON(ce,Ce){return a._(this,void 0,void 0,function*(){const{promoteId:Ie}=ce;if(ce.request){const je=yield a.h(ce.request,Ce);return this._dataUpdateable=m(je.data,Ie)?Pt(je.data,Ie):void 0,je.data}if(typeof ce.data=="string")try{const je=JSON.parse(ce.data);return this._dataUpdateable=m(je,Ie)?Pt(je,Ie):void 0,je}catch{throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`)}if(!ce.dataDiff)throw new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ce.source}`);return function(je,rt,lt){var ft,et,Mt,tn;if(rt.removeAll&&je.clear(),rt.remove)for(const Ht of rt.remove)je.delete(Ht);if(rt.add)for(const Ht of rt.add){const en=On(Ht,lt);en!=null&&je.set(en,Ht)}if(rt.update)for(const Ht of rt.update){let en=je.get(Ht.id);if(en==null)continue;const Dn=!Ht.removeAllProperties&&(((ft=Ht.removeProperties)===null||ft===void 0?void 0:ft.length)>0||((et=Ht.addOrUpdateProperties)===null||et===void 0?void 0:et.length)>0);if((Ht.newGeometry||Ht.removeAllProperties||Dn)&&(en=Object.assign({},en),je.set(Ht.id,en),Dn&&(en.properties=Object.assign({},en.properties))),Ht.newGeometry&&(en.geometry=Ht.newGeometry),Ht.removeAllProperties)en.properties={};else if(((Mt=Ht.removeProperties)===null||Mt===void 0?void 0:Mt.length)>0)for(const Bn of Ht.removeProperties)Object.prototype.hasOwnProperty.call(en.properties,Bn)&&delete en.properties[Bn];if(((tn=Ht.addOrUpdateProperties)===null||tn===void 0?void 0:tn.length)>0)for(const{key:Bn,value:Yn}of Ht.addOrUpdateProperties)en.properties[Bn]=Yn}}(this._dataUpdateable,ce.dataDiff,Ie),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ce){return a._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ce){return this._geoJSONIndex.getClusterExpansionZoom(ce.clusterId)}getClusterChildren(ce){return this._geoJSONIndex.getChildren(ce.clusterId)}getClusterLeaves(ce){return this._geoJSONIndex.getLeaves(ce.clusterId,ce.limit,ce.offset)}}class tr{constructor(ce){this.self=ce,this.actor=new a.C(ce),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Ce,Ie)=>{if(this.externalWorkerSourceTypes[Ce])throw new Error(`Worker source with name "${Ce}" already registered.`);this.externalWorkerSourceTypes[Ce]=Ie},this.self.addProtocol=a.bf,this.self.removeProtocol=a.bg,this.self.registerRTLTextPlugin=Ce=>{if(a.bA.isParsed())throw new Error("RTL text plugin already registered.");a.bA.setMethods(Ce)},this.actor.registerMessageHandler("loadDEMTile",(Ce,Ie)=>this._getDEMWorkerSource(Ce,Ie.source).loadTile(Ie)),this.actor.registerMessageHandler("removeDEMTile",(Ce,Ie)=>a._(this,void 0,void 0,function*(){this._getDEMWorkerSource(Ce,Ie.source).removeTile(Ie)})),this.actor.registerMessageHandler("getClusterExpansionZoom",(Ce,Ie)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(Ce,Ie.type,Ie.source).getClusterExpansionZoom(Ie)})),this.actor.registerMessageHandler("getClusterChildren",(Ce,Ie)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(Ce,Ie.type,Ie.source).getClusterChildren(Ie)})),this.actor.registerMessageHandler("getClusterLeaves",(Ce,Ie)=>a._(this,void 0,void 0,function*(){return this._getWorkerSource(Ce,Ie.type,Ie.source).getClusterLeaves(Ie)})),this.actor.registerMessageHandler("loadData",(Ce,Ie)=>this._getWorkerSource(Ce,Ie.type,Ie.source).loadData(Ie)),this.actor.registerMessageHandler("loadTile",(Ce,Ie)=>this._getWorkerSource(Ce,Ie.type,Ie.source).loadTile(Ie)),this.actor.registerMessageHandler("reloadTile",(Ce,Ie)=>this._getWorkerSource(Ce,Ie.type,Ie.source).reloadTile(Ie)),this.actor.registerMessageHandler("abortTile",(Ce,Ie)=>this._getWorkerSource(Ce,Ie.type,Ie.source).abortTile(Ie)),this.actor.registerMessageHandler("removeTile",(Ce,Ie)=>this._getWorkerSource(Ce,Ie.type,Ie.source).removeTile(Ie)),this.actor.registerMessageHandler("removeSource",(Ce,Ie)=>a._(this,void 0,void 0,function*(){if(!this.workerSources[Ce]||!this.workerSources[Ce][Ie.type]||!this.workerSources[Ce][Ie.type][Ie.source])return;const je=this.workerSources[Ce][Ie.type][Ie.source];delete this.workerSources[Ce][Ie.type][Ie.source],je.removeSource!==void 0&&je.removeSource(Ie)})),this.actor.registerMessageHandler("removeMap",Ce=>a._(this,void 0,void 0,function*(){delete this.layerIndexes[Ce],delete this.availableImages[Ce],delete this.workerSources[Ce],delete this.demWorkerSources[Ce]})),this.actor.registerMessageHandler("setReferrer",(Ce,Ie)=>a._(this,void 0,void 0,function*(){this.referrer=Ie})),this.actor.registerMessageHandler("syncRTLPluginState",(Ce,Ie)=>this._syncRTLPluginState(Ce,Ie)),this.actor.registerMessageHandler("importScript",(Ce,Ie)=>a._(this,void 0,void 0,function*(){this.self.importScripts(Ie)})),this.actor.registerMessageHandler("setImages",(Ce,Ie)=>this._setImages(Ce,Ie)),this.actor.registerMessageHandler("updateLayers",(Ce,Ie)=>a._(this,void 0,void 0,function*(){this._getLayerIndex(Ce).update(Ie.layers,Ie.removedIds)})),this.actor.registerMessageHandler("setLayers",(Ce,Ie)=>a._(this,void 0,void 0,function*(){this._getLayerIndex(Ce).replace(Ie)}))}_setImages(ce,Ce){return a._(this,void 0,void 0,function*(){this.availableImages[ce]=Ce;for(const Ie in this.workerSources[ce]){const je=this.workerSources[ce][Ie];for(const rt in je)je[rt].availableImages=Ce}})}_syncRTLPluginState(ce,Ce){return a._(this,void 0,void 0,function*(){if(a.bA.isParsed())return a.bA.getState();if(Ce.pluginStatus!=="loading")return a.bA.setState(Ce),Ce;const Ie=Ce.pluginURL;if(this.self.importScripts(Ie),a.bA.isParsed()){const je={pluginStatus:"loaded",pluginURL:Ie};return a.bA.setState(je),je}throw a.bA.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Ie}`)})}_getAvailableImages(ce){let Ce=this.availableImages[ce];return Ce||(Ce=[]),Ce}_getLayerIndex(ce){let Ce=this.layerIndexes[ce];return Ce||(Ce=this.layerIndexes[ce]=new s),Ce}_getWorkerSource(ce,Ce,Ie){if(this.workerSources[ce]||(this.workerSources[ce]={}),this.workerSources[ce][Ce]||(this.workerSources[ce][Ce]={}),!this.workerSources[ce][Ce][Ie]){const je={sendAsync:(rt,lt)=>(rt.targetMapId=ce,this.actor.sendAsync(rt,lt))};switch(Ce){case"vector":this.workerSources[ce][Ce][Ie]=new E(je,this._getLayerIndex(ce),this._getAvailableImages(ce));break;case"geojson":this.workerSources[ce][Ce][Ie]=new Kr(je,this._getLayerIndex(ce),this._getAvailableImages(ce));break;default:this.workerSources[ce][Ce][Ie]=new this.externalWorkerSourceTypes[Ce](je,this._getLayerIndex(ce),this._getAvailableImages(ce))}}return this.workerSources[ce][Ce][Ie]}_getDEMWorkerSource(ce,Ce){return this.demWorkerSources[ce]||(this.demWorkerSources[ce]={}),this.demWorkerSources[ce][Ce]||(this.demWorkerSources[ce][Ce]=new O),this.demWorkerSources[ce][Ce]}}return a.i(self)&&(self.worker=new tr(self)),tr}),i("index",["exports","./shared"],function(a,s){var h="4.1.2";let g,_;const E={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:I=>new Promise((u,p)=>{const C=requestAnimationFrame(u);I.signal.addEventListener("abort",()=>{cancelAnimationFrame(C),p(s.c())})}),getImageData(I,u=0){return this.getImageCanvasContext(I).getImageData(-u,-u,I.width+2*u,I.height+2*u)},getImageCanvasContext(I){const u=window.document.createElement("canvas"),p=u.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return u.width=I.width,u.height=I.height,p.drawImage(I,0,0,I.width,I.height),p},resolveURL:I=>(g||(g=document.createElement("a")),g.href=I,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(_==null&&(_=matchMedia("(prefers-reduced-motion: reduce)")),_.matches)}};class O{static testProp(u){if(!O.docStyle)return u[0];for(let p=0;p<u.length;p++)if(u[p]in O.docStyle)return u[p];return u[0]}static create(u,p,C){const w=window.document.createElement(u);return p!==void 0&&(w.className=p),C&&C.appendChild(w),w}static createNS(u,p){return window.document.createElementNS(u,p)}static disableDrag(){O.docStyle&&O.selectProp&&(O.userSelect=O.docStyle[O.selectProp],O.docStyle[O.selectProp]="none")}static enableDrag(){O.docStyle&&O.selectProp&&(O.docStyle[O.selectProp]=O.userSelect)}static setTransform(u,p){u.style[O.transformProp]=p}static addEventListener(u,p,C,w={}){u.addEventListener(p,C,"passive"in w?w:w.capture)}static removeEventListener(u,p,C,w={}){u.removeEventListener(p,C,"passive"in w?w:w.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",O.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",O.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",O.suppressClickInternal,!0)},0)}static getScale(u){const p=u.getBoundingClientRect();return{x:p.width/u.offsetWidth||1,y:p.height/u.offsetHeight||1,boundingClientRect:p}}static getPoint(u,p,C){const w=p.boundingClientRect;return new s.P((C.clientX-w.left)/p.x-u.clientLeft,(C.clientY-w.top)/p.y-u.clientTop)}static mousePos(u,p){const C=O.getScale(u);return O.getPoint(u,C,p)}static touchPos(u,p){const C=[],w=O.getScale(u);for(let k=0;k<p.length;k++)C.push(O.getPoint(u,w,p[k]));return C}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}O.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,O.selectProp=O.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),O.transformProp=O.testProp(["transform","WebkitTransform"]);const K={supported:!1,testSupport:function(I){!ee&&Y&&(H?N(I):D=I)}};let D,Y,ee=!1,H=!1;function N(I){const u=I.createTexture();I.bindTexture(I.TEXTURE_2D,u);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,Y),I.isContextLost())return;K.supported=!0}catch{}I.deleteTexture(u),ee=!0}var Z,ue;typeof document<"u"&&(Y=document.createElement("img"),Y.onload=function(){D&&N(D),D=null,H=!0},Y.onerror=function(){ee=!0,D=null},Y.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(I){let u,p,C,w;I.resetRequestQueue=()=>{u=[],p=0,C=0,w={}},I.addThrottleControl=$=>{const ie=C++;return w[ie]=$,ie},I.removeThrottleControl=$=>{delete w[$],R()},I.getImage=($,ie,de=!0)=>new Promise((fe,Oe)=>{K.supported&&($.headers||($.headers={}),$.headers.accept="image/webp,*/*"),s.e($,{type:"image"}),u.push({abortController:ie,requestParameters:$,supportImageRefresh:de,state:"queued",onError:qe=>{Oe(qe)},onSuccess:qe=>{fe(qe)}}),R()});const k=$=>s._(this,void 0,void 0,function*(){$.state="running";const{requestParameters:ie,supportImageRefresh:de,onError:fe,onSuccess:Oe,abortController:qe}=$,Ye=de===!1&&!s.i(self)&&!s.g(ie.url)&&(!ie.headers||Object.keys(ie.headers).reduce((ht,Dt)=>ht&&Dt==="accept",!0));p++;const Ze=Ye?j(ie,qe):s.m(ie,qe);try{const ht=yield Ze;delete $.abortController,$.state="completed",ht.data instanceof HTMLImageElement||s.b(ht.data)?Oe(ht):ht.data&&Oe({data:yield(We=ht.data,typeof createImageBitmap=="function"?s.d(We):s.f(We)),cacheControl:ht.cacheControl,expires:ht.expires})}catch(ht){delete $.abortController,fe(ht)}finally{p--,R()}var We}),R=()=>{const $=(()=>{for(const ie of Object.keys(w))if(w[ie]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let ie=p;ie<$&&u.length>0;ie++){const de=u.shift();de.abortController.signal.aborted?ie--:k(de)}},j=($,ie)=>new Promise((de,fe)=>{const Oe=new Image,qe=$.url,Ye=$.credentials;Ye&&Ye==="include"?Oe.crossOrigin="use-credentials":(Ye&&Ye==="same-origin"||!s.s(qe))&&(Oe.crossOrigin="anonymous"),ie.signal.addEventListener("abort",()=>{Oe.src="",fe(s.c())}),Oe.fetchPriority="high",Oe.onload=()=>{Oe.onerror=Oe.onload=null,de({data:Oe})},Oe.onerror=()=>{Oe.onerror=Oe.onload=null,ie.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Oe.src=qe})}(Z||(Z={})),Z.resetRequestQueue(),function(I){I.Glyphs="Glyphs",I.Image="Image",I.Source="Source",I.SpriteImage="SpriteImage",I.SpriteJSON="SpriteJSON",I.Style="Style",I.Tile="Tile",I.Unknown="Unknown"}(ue||(ue={}));class ye{constructor(u){this._transformRequestFn=u}transformRequest(u,p){return this._transformRequestFn&&this._transformRequestFn(u,p)||{url:u}}normalizeSpriteURL(u,p,C){const w=function(k){const R=k.match(be);if(!R)throw new Error(`Unable to parse URL "${k}"`);return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}(u);return w.path+=`${p}${C}`,function(k){const R=k.params.length?`?${k.params.join("&")}`:"";return`${k.protocol}://${k.authority}${k.path}${R}`}(w)}setTransformRequest(u){this._transformRequestFn=u}}const be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(I){var u=new s.A(3);return u[0]=I[0],u[1]=I[1],u[2]=I[2],u}var se,we=function(I,u,p){return I[0]=u[0]-p[0],I[1]=u[1]-p[1],I[2]=u[2]-p[2],I};se=new s.A(3),s.A!=Float32Array&&(se[0]=0,se[1]=0,se[2]=0);var xe=function(I){var u=I[0],p=I[1];return u*u+p*p};function De(I){const u=[];if(typeof I=="string")u.push({id:"default",url:I});else if(I&&I.length>0){const p=[];for(const{id:C,url:w}of I){const k=`${C}${w}`;p.indexOf(k)===-1&&(p.push(k),u.push({id:C,url:w}))}}return u}(function(){var I=new s.A(2);s.A!=Float32Array&&(I[0]=0,I[1]=0)})();class Fe{constructor(u,p,C,w){this.context=u,this.format=C,this.texture=u.gl.createTexture(),this.update(p,w)}update(u,p,C){const{width:w,height:k}=u,R=!(this.size&&this.size[0]===w&&this.size[1]===k||C),{context:j}=this,{gl:$}=j;if(this.useMipmap=!!(p&&p.useMipmap),$.bindTexture($.TEXTURE_2D,this.texture),j.pixelStoreUnpackFlipY.set(!1),j.pixelStoreUnpack.set(1),j.pixelStoreUnpackPremultiplyAlpha.set(this.format===$.RGBA&&(!p||p.premultiply!==!1)),R)this.size=[w,k],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||s.b(u)?$.texImage2D($.TEXTURE_2D,0,this.format,this.format,$.UNSIGNED_BYTE,u):$.texImage2D($.TEXTURE_2D,0,this.format,w,k,0,this.format,$.UNSIGNED_BYTE,u.data);else{const{x:ie,y:de}=C||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||s.b(u)?$.texSubImage2D($.TEXTURE_2D,0,ie,de,$.RGBA,$.UNSIGNED_BYTE,u):$.texSubImage2D($.TEXTURE_2D,0,ie,de,w,k,$.RGBA,$.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&$.generateMipmap($.TEXTURE_2D)}bind(u,p,C){const{context:w}=this,{gl:k}=w;k.bindTexture(k.TEXTURE_2D,this.texture),C!==k.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(C=k.LINEAR),u!==this.filter&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,u),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,C||u),this.filter=u),p!==this.wrap&&(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function he(I){const{userImage:u}=I;return!!(u&&u.render&&u.render())&&(I.data.replace(new Uint8Array(u.data.buffer)),!0)}class Qe extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:p,promiseResolve:C}of this.requestors)C(this._getImagesForIds(p));this.requestors=[]}}getImage(u){const p=this.images[u];if(p&&!p.data&&p.spriteData){const C=p.spriteData;p.data=new s.R({width:C.width,height:C.height},C.context.getImageData(C.x,C.y,C.width,C.height).data),p.spriteData=null}return p}addImage(u,p){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,p)&&(this.images[u]=p)}_validate(u,p){let C=!0;const w=p.data||p.spriteData;return this._validateStretch(p.stretchX,w&&w.width)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "stretchX" value`))),C=!1),this._validateStretch(p.stretchY,w&&w.height)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "stretchY" value`))),C=!1),this._validateContent(p.content,p)||(this.fire(new s.j(new Error(`Image "${u}" has invalid "content" value`))),C=!1),C}_validateStretch(u,p){if(!u)return!0;let C=0;for(const w of u){if(w[0]<C||w[1]<w[0]||p<w[1])return!1;C=w[1]}return!0}_validateContent(u,p){if(!u)return!0;if(u.length!==4)return!1;const C=p.spriteData,w=C&&C.width||p.data.width,k=C&&C.height||p.data.height;return!(u[0]<0||w<u[0]||u[1]<0||k<u[1]||u[2]<0||w<u[2]||u[3]<0||k<u[3]||u[2]<u[0]||u[3]<u[1])}updateImage(u,p,C=!0){const w=this.getImage(u);if(C&&(w.data.width!==p.data.width||w.data.height!==p.data.height))throw new Error(`size mismatch between old image (${w.data.width}x${w.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=w.version+1,this.images[u]=p,this.updatedImages[u]=!0}removeImage(u){const p=this.images[u];delete this.images[u],delete this.patterns[u],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u){return new Promise((p,C)=>{let w=!0;if(!this.isLoaded())for(const k of u)this.images[k]||(w=!1);this.isLoaded()||w?p(this._getImagesForIds(u)):this.requestors.push({ids:u,promiseResolve:p})})}_getImagesForIds(u){const p={};for(const C of u){let w=this.getImage(C);w||(this.fire(new s.k("styleimagemissing",{id:C})),w=this.getImage(C)),w?p[C]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:s.w(`Image "${C}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return p}getPixelSize(){const{width:u,height:p}=this.atlasImage;return{width:u,height:p}}getPattern(u){const p=this.patterns[u],C=this.getImage(u);if(!C)return null;if(p&&p.position.version===C.version)return p.position;if(p)p.position.version=C.version;else{const w={w:C.data.width+2,h:C.data.height+2,x:0,y:0},k=new s.I(w,C);this.patterns[u]={bin:w,position:k}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const p=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Fe(u,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const k in this.patterns)u.push(this.patterns[k].bin);const{w:p,h:C}=s.p(u),w=this.atlasImage;w.resize({width:p||1,height:C||1});for(const k in this.patterns){const{bin:R}=this.patterns[k],j=R.x+1,$=R.y+1,ie=this.getImage(k).data,de=ie.width,fe=ie.height;s.R.copy(ie,w,{x:0,y:0},{x:j,y:$},{width:de,height:fe}),s.R.copy(ie,w,{x:0,y:fe-1},{x:j,y:$-1},{width:de,height:1}),s.R.copy(ie,w,{x:0,y:0},{x:j,y:$+fe},{width:de,height:1}),s.R.copy(ie,w,{x:de-1,y:0},{x:j-1,y:$},{width:1,height:fe}),s.R.copy(ie,w,{x:0,y:0},{x:j+de,y:$},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const p of u){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const C=this.getImage(p);C||s.w(`Image with ID: "${p}" was not found`),he(C)&&this.updateImage(p,C)}}}const ge=1e20;function yt(I,u,p,C,w,k,R,j,$){for(let ie=u;ie<u+C;ie++)wt(I,p*k+ie,k,w,R,j,$);for(let ie=p;ie<p+w;ie++)wt(I,ie*k+u,1,C,R,j,$)}function wt(I,u,p,C,w,k,R){k[0]=0,R[0]=-ge,R[1]=ge,w[0]=I[u];for(let j=1,$=0,ie=0;j<C;j++){w[j]=I[u+j*p];const de=j*j;do{const fe=k[$];ie=(w[j]-w[fe]+de-fe*fe)/(j-fe)/2}while(ie<=R[$]&&--$>-1);$++,k[$]=j,R[$]=ie,R[$+1]=ge}for(let j=0,$=0;j<C;j++){for(;R[$+1]<j;)$++;const ie=k[$],de=j-ie;I[u+j*p]=w[ie]+de*de}}class st{constructor(u,p){this.requestManager=u,this.localIdeographFontFamily=p,this.entries={}}setURL(u){this.url=u}getGlyphs(u){return s._(this,void 0,void 0,function*(){const p=[];for(const k in u)for(const R of u[k])p.push(this._getAndCacheGlyphsPromise(k,R));const C=yield Promise.all(p),w={};for(const{stack:k,id:R,glyph:j}of C)w[k]||(w[k]={}),w[k][R]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics};return w})}_getAndCacheGlyphsPromise(u,p){return s._(this,void 0,void 0,function*(){let C=this.entries[u];C||(C=this.entries[u]={glyphs:{},requests:{},ranges:{}});let w=C.glyphs[p];if(w!==void 0)return{stack:u,id:p,glyph:w};if(w=this._tinySDF(C,u,p),w)return C.glyphs[p]=w,{stack:u,id:p,glyph:w};const k=Math.floor(p/256);if(256*k>65535)throw new Error("glyphs > 65535 not supported");if(C.ranges[k])return{stack:u,id:p,glyph:w};if(!this.url)throw new Error("glyphsUrl is not set");if(!C.requests[k]){const j=st.loadGlyphRange(u,k,this.url,this.requestManager);C.requests[k]=j}const R=yield C.requests[k];for(const j in R)this._doesCharSupportLocalGlyph(+j)||(C.glyphs[+j]=R[+j]);return C.ranges[k]=!0,{stack:u,id:p,glyph:R[p]||null}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(s.u["CJK Unified Ideographs"](u)||s.u["Hangul Syllables"](u)||s.u.Hiragana(u)||s.u.Katakana(u))}_tinySDF(u,p,C){const w=this.localIdeographFontFamily;if(!w||!this._doesCharSupportLocalGlyph(C))return;let k=u.tinySDF;if(!k){let j="400";/bold/i.test(p)?j="900":/medium/i.test(p)?j="500":/light/i.test(p)&&(j="200"),k=u.tinySDF=new st.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:w,fontWeight:j})}const R=k.draw(String.fromCharCode(C));return{id:C,bitmap:new s.o({width:R.width||60,height:R.height||60},R.data),metrics:{width:R.glyphWidth/2||24,height:R.glyphHeight/2||24,left:R.glyphLeft/2+.5||0,top:R.glyphTop/2-27.5||-8,advance:R.glyphAdvance/2||24,isDoubleResolution:!0}}}}st.loadGlyphRange=function(I,u,p,C){return s._(this,void 0,void 0,function*(){const w=256*u,k=w+255,R=C.transformRequest(p.replace("{fontstack}",I).replace("{range}",`${w}-${k}`),ue.Glyphs),j=yield s.l(R,new AbortController);if(!j||!j.data)throw new Error(`Could not load glyph range. range: ${u}, ${w}-${k}`);const $={};for(const ie of s.n(j.data))$[ie.id]=ie;return $})},st.TinySDF=class{constructor({fontSize:I=24,buffer:u=3,radius:p=8,cutoff:C=.25,fontFamily:w="sans-serif",fontWeight:k="normal",fontStyle:R="normal"}={}){this.buffer=u,this.cutoff=C,this.radius=p;const j=this.size=I+4*u,$=this._createCanvas(j),ie=this.ctx=$.getContext("2d",{willReadFrequently:!0});ie.font=`${R} ${k} ${I}px ${w}`,ie.textBaseline="alphabetic",ie.textAlign="left",ie.fillStyle="black",this.gridOuter=new Float64Array(j*j),this.gridInner=new Float64Array(j*j),this.f=new Float64Array(j),this.z=new Float64Array(j+1),this.v=new Uint16Array(j)}_createCanvas(I){const u=document.createElement("canvas");return u.width=u.height=I,u}draw(I){const{width:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:C,actualBoundingBoxLeft:w,actualBoundingBoxRight:k}=this.ctx.measureText(I),R=Math.ceil(p),j=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(k-w))),$=Math.min(this.size-this.buffer,R+Math.ceil(C)),ie=j+2*this.buffer,de=$+2*this.buffer,fe=Math.max(ie*de,0),Oe=new Uint8ClampedArray(fe),qe={data:Oe,width:ie,height:de,glyphWidth:j,glyphHeight:$,glyphTop:R,glyphLeft:0,glyphAdvance:u};if(j===0||$===0)return qe;const{ctx:Ye,buffer:Ze,gridInner:We,gridOuter:ht}=this;Ye.clearRect(Ze,Ze,j,$),Ye.fillText(I,Ze,Ze+R);const Dt=Ye.getImageData(Ze,Ze,j,$);ht.fill(ge,0,fe),We.fill(0,0,fe);for(let tt=0;tt<$;tt++)for(let bt=0;bt<j;bt++){const Kt=Dt.data[4*(tt*j+bt)+3]/255;if(Kt===0)continue;const Ut=(tt+Ze)*ie+bt+Ze;if(Kt===1)ht[Ut]=0,We[Ut]=ge;else{const Xt=.5-Kt;ht[Ut]=Xt>0?Xt*Xt:0,We[Ut]=Xt<0?Xt*Xt:0}}yt(ht,0,0,ie,de,ie,this.f,this.v,this.z),yt(We,Ze,Ze,j,$,ie,this.f,this.v,this.z);for(let tt=0;tt<fe;tt++){const bt=Math.sqrt(ht[tt])-Math.sqrt(We[tt]);Oe[tt]=Math.round(255-255*(bt/this.radius+this.cutoff))}return qe}};class mt{constructor(){this.specification=s.v.light.position}possiblyEvaluate(u,p){return s.y(u.expression.evaluate(p))}interpolate(u,p,C){return{x:s.z.number(u.x,p.x,C),y:s.z.number(u.y,p.y,C),z:s.z.number(u.z,p.z,C)}}}let ze;class He extends s.E{constructor(u){super(),ze=ze||new s.q({anchor:new s.D(s.v.light.anchor),position:new mt,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(ze),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,p={}){if(!this._validate(s.r,u,p))for(const C in u){const w=u[C];C.endsWith("-transition")?this._transitionable.setTransition(C.slice(0,-11),w):this._transitionable.setValue(C,w)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,p,C){return(!C||C.validate!==!1)&&s.t(this,u.call(s.x,{value:p,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}class Ve{constructor(u,p){this.width=u,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,p){const C=u.join(",")+String(p);return this.dashEntry[C]||(this.dashEntry[C]=this.addDash(u,p)),this.dashEntry[C]}getDashRanges(u,p,C){const w=[];let k=u.length%2==1?-u[u.length-1]*C:0,R=u[0]*C,j=!0;w.push({left:k,right:R,isDash:j,zeroLength:u[0]===0});let $=u[0];for(let ie=1;ie<u.length;ie++){j=!j;const de=u[ie];k=$*C,$+=de,R=$*C,w.push({left:k,right:R,isDash:j,zeroLength:de===0})}return w}addRoundDash(u,p,C){const w=p/2;for(let k=-C;k<=C;k++){const R=this.width*(this.nextRow+C+k);let j=0,$=u[j];for(let ie=0;ie<this.width;ie++){ie/$.right>1&&($=u[++j]);const de=Math.abs(ie-$.left),fe=Math.abs(ie-$.right),Oe=Math.min(de,fe);let qe;const Ye=k/C*(w+1);if($.isDash){const Ze=w-Math.abs(Ye);qe=Math.sqrt(Oe*Oe+Ze*Ze)}else qe=w-Math.sqrt(Oe*Oe+Ye*Ye);this.data[R+ie]=Math.max(0,Math.min(255,qe+128))}}}addRegularDash(u){for(let j=u.length-1;j>=0;--j){const $=u[j],ie=u[j+1];$.zeroLength?u.splice(j,1):ie&&ie.isDash===$.isDash&&(ie.left=$.left,u.splice(j,1))}const p=u[0],C=u[u.length-1];p.isDash===C.isDash&&(p.left=C.left-this.width,C.right=p.right+this.width);const w=this.width*this.nextRow;let k=0,R=u[k];for(let j=0;j<this.width;j++){j/R.right>1&&(R=u[++k]);const $=Math.abs(j-R.left),ie=Math.abs(j-R.right),de=Math.min($,ie);this.data[w+j]=Math.max(0,Math.min(255,(R.isDash?de:-de)+128))}}addDash(u,p){const C=p?7:0,w=2*C+1;if(this.nextRow+w>this.height)return s.w("LineAtlas out of space"),null;let k=0;for(let j=0;j<u.length;j++)k+=u[j];if(k!==0){const j=this.width/k,$=this.getDashRanges(u,this.width,j);p?this.addRoundDash($,j,C):this.addRegularDash($)}const R={y:(this.nextRow+C+.5)/this.height,height:2*C/this.height,width:k};return this.nextRow+=w,this.dirty=!0,R}bind(u){const p=u.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}const Vt="maplibre_preloaded_worker_pool";class Yt{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<Yt.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Vt]}numActive(){return Object.keys(this.active).length}}const vt=Math.floor(E.hardwareConcurrency/2);let $t,Qt;function ke(){return $t||($t=new Yt),$t}Yt.workerCount=s.B(globalThis)?Math.max(Math.min(vt,3),1):1;class pe{constructor(u,p){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=p;const C=this.workerPool.acquire(p);for(let w=0;w<C.length;w++){const k=new s.C(C[w],p);k.name=`Worker ${w}`,this.actors.push(k)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,p){const C=[];for(const w of this.actors)C.push(w.sendAsync({type:u,data:p}));return Promise.all(C)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(u=!0){this.actors.forEach(p=>{p.remove()}),this.actors=[],u&&this.workerPool.release(this.id)}registerMessageHandler(u,p){for(const C of this.actors)C.registerMessageHandler(u,p)}}function Se(){return Qt||(Qt=new pe(ke(),s.G),Qt.registerMessageHandler("getResource",(I,u,p)=>s.m(u,p))),Qt}function Re(I,u){const p=s.F();return s.H(p,p,[1,1,0]),s.J(p,p,[.5*I.width,.5*I.height,1]),s.K(p,p,I.calculatePosMatrix(u.toUnwrapped()))}function it(I,u,p,C,w,k){const R=function(fe,Oe,qe){if(fe)for(const Ye of fe){const Ze=Oe[Ye];if(Ze&&Ze.source===qe&&Ze.type==="fill-extrusion")return!0}else for(const Ye in Oe){const Ze=Oe[Ye];if(Ze.source===qe&&Ze.type==="fill-extrusion")return!0}return!1}(w&&w.layers,u,I.id),j=k.maxPitchScaleFactor(),$=I.tilesIn(C,j,R);$.sort(ot);const ie=[];for(const fe of $)ie.push({wrappedTileID:fe.tileID.wrapped().key,queryResults:fe.tile.queryRenderedFeatures(u,p,I._state,fe.queryGeometry,fe.cameraQueryGeometry,fe.scale,w,k,j,Re(I.transform,fe.tileID))});const de=function(fe){const Oe={},qe={};for(const Ye of fe){const Ze=Ye.queryResults,We=Ye.wrappedTileID,ht=qe[We]=qe[We]||{};for(const Dt in Ze){const tt=Ze[Dt],bt=ht[Dt]=ht[Dt]||{},Kt=Oe[Dt]=Oe[Dt]||[];for(const Ut of tt)bt[Ut.featureIndex]||(bt[Ut.featureIndex]=!0,Kt.push(Ut))}}return Oe}(ie);for(const fe in de)de[fe].forEach(Oe=>{const qe=Oe.feature,Ye=I.getFeatureState(qe.layer["source-layer"],qe.id);qe.source=qe.layer.source,qe.layer["source-layer"]&&(qe.sourceLayer=qe.layer["source-layer"]),qe.state=Ye});return de}function ot(I,u){const p=I.tileID,C=u.tileID;return p.overscaledZ-C.overscaledZ||p.canonical.y-C.canonical.y||p.wrap-C.wrap||p.canonical.x-C.canonical.x}function St(I,u,p){return s._(this,void 0,void 0,function*(){let C=I;if(I.url?C=(yield s.h(u.transformRequest(I.url,ue.Source),p)).data:yield E.frameAsync(p),!C)return null;const w=s.L(s.e(C,I),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in C&&C.vector_layers&&(w.vectorLayerIds=C.vector_layers.map(k=>k.id)),w})}class Rt{constructor(u,p){u&&(p?this.setSouthWest(u).setNorthEast(p):Array.isArray(u)&&(u.length===4?this.setSouthWest([u[0],u[1]]).setNorthEast([u[2],u[3]]):this.setSouthWest(u[0]).setNorthEast(u[1])))}setNorthEast(u){return this._ne=u instanceof s.M?new s.M(u.lng,u.lat):s.M.convert(u),this}setSouthWest(u){return this._sw=u instanceof s.M?new s.M(u.lng,u.lat):s.M.convert(u),this}extend(u){const p=this._sw,C=this._ne;let w,k;if(u instanceof s.M)w=u,k=u;else{if(!(u instanceof Rt))return Array.isArray(u)?u.length===4||u.every(Array.isArray)?this.extend(Rt.convert(u)):this.extend(s.M.convert(u)):u&&("lng"in u||"lon"in u)&&"lat"in u?this.extend(s.M.convert(u)):this;if(w=u._sw,k=u._ne,!w||!k)return this}return p||C?(p.lng=Math.min(w.lng,p.lng),p.lat=Math.min(w.lat,p.lat),C.lng=Math.max(k.lng,C.lng),C.lat=Math.max(k.lat,C.lat)):(this._sw=new s.M(w.lng,w.lat),this._ne=new s.M(k.lng,k.lat)),this}getCenter(){return new s.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.M(this.getWest(),this.getNorth())}getSouthEast(){return new s.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(u){const{lng:p,lat:C}=s.M.convert(u);let w=this._sw.lng<=p&&p<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=p&&p>=this._ne.lng),this._sw.lat<=C&&C<=this._ne.lat&&w}static convert(u){return u instanceof Rt?u:u&&new Rt(u)}static fromLngLat(u,p=0){const C=360*p/40075017,w=C/Math.cos(Math.PI/180*u.lat);return new Rt(new s.M(u.lng-w,u.lat-C),new s.M(u.lng+w,u.lat+C))}}class zt{constructor(u,p,C){this.bounds=Rt.convert(this.validateBounds(u)),this.minzoom=p||0,this.maxzoom=C||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const p=Math.pow(2,u.z),C=Math.floor(s.N(this.bounds.getWest())*p),w=Math.floor(s.O(this.bounds.getNorth())*p),k=Math.ceil(s.N(this.bounds.getEast())*p),R=Math.ceil(s.O(this.bounds.getSouth())*p);return u.x>=C&&u.x<k&&u.y>=w&&u.y<R}}class pt extends s.E{constructor(u,p,C,w){if(super(),this.id=u,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.L(p,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u&&(s.e(this,u),u.bounds&&(this.tileBounds=new zt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new s.j(u))}})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.abort(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C={request:this.map._requestManager.transformRequest(p,ue.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};C.request.collectResourceTiming=this._collectResourceTiming;let w="reloadTile";if(u.actor&&u.state!=="expired"){if(u.state==="loading")return new Promise((k,R)=>{u.reloadPromise={resolve:k,reject:R}})}else u.actor=this.dispatcher.getActor(),w="loadTile";u.abortController=new AbortController;try{const k=yield u.actor.sendAsync({type:w,data:C},u.abortController);if(delete u.abortController,u.aborted)return;this._afterTileLoadWorkerResponse(u,k)}catch(k){if(delete u.abortController,u.aborted)return;if(k&&k.status!==404)throw k;this._afterTileLoadWorkerResponse(u,null)}})}_afterTileLoadWorkerResponse(u,p){if(p&&p.resourceTiming&&(u.resourceTiming=p.resourceTiming),p&&this.map._refreshExpiredTiles&&u.setExpiryData(p),u.loadVectorData(p,this.map.painter),u.reloadPromise){const C=u.reloadPromise;u.reloadPromise=null,this.loadTile(u).then(C.resolve).catch(C.reject)}}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.actor&&(yield u.actor.sendAsync({type:"abortTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.unloadVectorData(),u.actor&&(yield u.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class rr extends s.E{constructor(u,p,C,w){super(),this.id=u,this.dispatcher=C,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},p),s.e(this,s.L(p,["url","scheme","tileSize"]))}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const u=yield St(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,u&&(s.e(this,u),u.bounds&&(this.tileBounds=new zt(u.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(u){this._tileJSONRequest=null,this.fire(new s.j(u))}})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(u){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}serialize(){return s.e({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.abortController=new AbortController;try{const C=yield Z.getImage(this.map._requestManager.transformRequest(p,ue.Tile),u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(C&&C.data){this.map._refreshExpiredTiles&&C.cacheControl&&C.expires&&u.setExpiryData({cacheControl:C.cacheControl,expires:C.expires});const w=this.map.painter.context,k=w.gl,R=C.data;u.texture=this.map.painter.getTileTexture(R.width),u.texture?u.texture.update(R,{useMipmap:!0}):(u.texture=new Fe(w,R,k.RGBA,{useMipmap:!0}),u.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),w.extTextureFilterAnisotropic&&k.texParameterf(k.TEXTURE_2D,w.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,w.extTextureFilterAnisotropicMax)),u.state="loaded"}}catch(C){if(delete u.abortController,u.aborted)u.state="unloaded";else if(C)throw u.state="errored",C}})}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController)})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.texture&&this.map.painter.saveTileTexture(u.texture)})}hasTransition(){return!1}}class gn extends rr{constructor(u,p,C,w){super(u,p,C,w),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox",this.redFactor=p.redFactor,this.greenFactor=p.greenFactor,this.blueFactor=p.blueFactor,this.baseShift=p.baseShift}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C=this.map._requestManager.transformRequest(p,ue.Tile);u.neighboringTiles=this._getNeighboringTiles(u.tileID),u.abortController=new AbortController;try{const w=yield Z.getImage(C,u.abortController,this.map._refreshExpiredTiles);if(delete u.abortController,u.aborted)return void(u.state="unloaded");if(w&&w.data){const k=w.data;this.map._refreshExpiredTiles&&w.cacheControl&&w.expires&&u.setExpiryData({cacheControl:w.cacheControl,expires:w.expires});const R=s.b(k)&&s.S()?k:yield this.readImageNow(k),j={type:this.type,uid:u.uid,source:this.id,rawImageData:R,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!u.actor||u.state==="expired"){u.actor=this.dispatcher.getActor();const $=yield u.actor.sendAsync({type:"loadDEMTile",data:j});u.dem=$,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded"}}}catch(w){if(delete u.abortController,u.aborted)u.state="unloaded";else if(w)throw u.state="errored",w}})}readImageNow(u){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.U()){const p=u.width+2,C=u.height+2;try{return new s.R({width:p,height:C},yield s.V(u,-1,-1,p,C))}catch{}}return E.getImageData(u,1)})}_getNeighboringTiles(u){const p=u.canonical,C=Math.pow(2,p.z),w=(p.x-1+C)%C,k=p.x===0?u.wrap-1:u.wrap,R=(p.x+1+C)%C,j=p.x+1===C?u.wrap+1:u.wrap,$={};return $[new s.Q(u.overscaledZ,k,p.z,w,p.y).key]={backfilled:!1},$[new s.Q(u.overscaledZ,j,p.z,R,p.y).key]={backfilled:!1},p.y>0&&($[new s.Q(u.overscaledZ,k,p.z,w,p.y-1).key]={backfilled:!1},$[new s.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},$[new s.Q(u.overscaledZ,j,p.z,R,p.y-1).key]={backfilled:!1}),p.y+1<C&&($[new s.Q(u.overscaledZ,k,p.z,w,p.y+1).key]={backfilled:!1},$[new s.Q(u.overscaledZ,u.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},$[new s.Q(u.overscaledZ,j,p.z,R,p.y+1).key]={backfilled:!1}),$}unloadTile(u){return s._(this,void 0,void 0,function*(){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&(yield u.actor.sendAsync({type:"removeDEMTile",data:{type:this.type,uid:u.uid,source:this.id}}))})}}class yn extends s.E{constructor(u,p,C,w){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=C.getActor(),this.setEventedParent(w),this._data=p.data,this._options=s.e({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const k=s.W/this.tileSize;this.workerOptions=s.e({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*k,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*k,extent:s.W,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:s.W,radius:(p.clusterRadius||50)*k,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData(),this}updateData(u){return this._updateWorkerData(u),this}setClusterOptions(u){return this.workerOptions.cluster=u.cluster,u&&(u.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=u.clusterRadius),u.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=u.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(u){return this.actor.sendAsync({type:"getClusterExpansionZoom",data:{type:this.type,clusterId:u,source:this.id}})}getClusterChildren(u){return this.actor.sendAsync({type:"getClusterChildren",data:{type:this.type,clusterId:u,source:this.id}})}getClusterLeaves(u,p,C){return this.actor.sendAsync({type:"getClusterLeaves",data:{type:this.type,source:this.id,clusterId:u,limit:p,offset:C}})}_updateWorkerData(u){return s._(this,void 0,void 0,function*(){const p=s.e({type:this.type},this.workerOptions);u?p.dataDiff=u:typeof this._data=="string"?(p.request=this.map._requestManager.transformRequest(E.resolveURL(this._data),ue.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.k("dataloading",{dataType:"source"}));try{const C=yield this.actor.sendAsync({type:"loadData",data:p});if(this._pendingLoads--,this._removed||C.abandoned)return void this.fire(new s.k("dataabort",{dataType:"source"}));let w=null;C.resourceTiming&&C.resourceTiming[this.id]&&(w=C.resourceTiming[this.id].slice(0));const k={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&s.e(k,{resourceTiming:w}),this.fire(new s.k("data",Object.assign(Object.assign({},k),{sourceDataType:"metadata"}))),this.fire(new s.k("data",Object.assign(Object.assign({},k),{sourceDataType:"content"})))}catch(C){if(this._pendingLoads--,this._removed)return void this.fire(new s.k("dataabort",{dataType:"source"}));this.fire(new s.j(C))}})}loaded(){return this._pendingLoads===0}loadTile(u){return s._(this,void 0,void 0,function*(){const p=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const C={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.abortController=new AbortController;const w=yield this.actor.sendAsync({type:p,data:C},u.abortController);delete u.abortController,u.unloadVectorData(),u.aborted||u.loadVectorData(w,this.map.painter,p==="reloadTile")})}abortTile(u){return s._(this,void 0,void 0,function*(){u.abortController&&(u.abortController.abort(),delete u.abortController),u.aborted=!0})}unloadTile(u){return s._(this,void 0,void 0,function*(){u.unloadVectorData(),yield this.actor.sendAsync({type:"removeTile",data:{uid:u.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"removeSource",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Jn=s.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ar extends s.E{constructor(u,p,C,w){super(),this.id=u,this.dispatcher=C,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=p}load(u){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const p=yield Z.getImage(this.map._requestManager.transformRequest(this.url,ue.Image),this._request);this._request=null,this._loaded=!0,p&&p.data&&(this.image=p.data,u&&(this.coordinates=u),this._finishLoading())}catch(p){this._request=null,this.fire(new s.j(p))}})}loaded(){return this._loaded}updateImage(u){return u.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=u.url,this.load(u.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(u){this.coordinates=u;const p=u.map(s.Y.fromLngLat);this.tileID=function(w){let k=1/0,R=1/0,j=-1/0,$=-1/0;for(const Oe of w)k=Math.min(k,Oe.x),R=Math.min(R,Oe.y),j=Math.max(j,Oe.x),$=Math.max($,Oe.y);const ie=Math.max(j-k,$-R),de=Math.max(0,Math.floor(-Math.log(ie)/Math.LN2)),fe=Math.pow(2,de);return new s.a0(de,Math.floor((k+j)/2*fe),Math.floor((R+$)/2*fe))}(p),this.minzoom=this.maxzoom=this.tileID.z;const C=p.map(w=>this.tileID.getTilePoint(w)._round());return this._boundsArray=new s.Z,this._boundsArray.emplaceBack(C[0].x,C[0].y,0,0),this._boundsArray.emplaceBack(C[1].x,C[1].y,s.W,0),this._boundsArray.emplaceBack(C[3].x,C[3].y,0,s.W),this._boundsArray.emplaceBack(C[2].x,C[2].y,s.W,s.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Fe(u,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let C=!1;for(const w in this.tiles){const k=this.tiles[w];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,C=!0)}C&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(u){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={}):u.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Mr extends Ar{constructor(u,p,C,w){super(u,p,C,w),this.roundZoom=!0,this.type="video",this.options=p}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const u=this.options;this.urls=[];for(const p of u.urls)this.urls.push(this.map._requestManager.transformRequest(p,ue.Source).url);try{const p=yield s.a2(this.urls);if(this._loaded=!0,!p)return;this.video=p,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(p){this.fire(new s.j(p))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const p=this.video.seekable;u<p.start(0)||u>p.end(0)?this.fire(new s.j(new s.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new Fe(u,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));let C=!1;for(const w in this.tiles){const k=this.tiles[w];k.state!=="loaded"&&(k.state="loaded",k.texture=this.texture,C=!0)}C&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Wr extends Ar{constructor(u,p,C,w){super(u,p,C,w),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(k=>!Array.isArray(k)||k.length!==2||k.some(R=>typeof R!="number"))||this.fire(new s.j(new s.a1(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.j(new s.a1(`sources.${u}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new s.j(new s.a1(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new s.j(new s.a1(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.j(new s.a1(`sources.${u}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const p=this.map.painter.context,C=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Jn.members)),this.boundsSegments||(this.boundsSegments=s.$.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Fe(p,this.canvas,C.RGBA,{premultiply:!0});let w=!1;for(const k in this.tiles){const R=this.tiles[k];R.state!=="loaded"&&(R.state="loaded",R.texture=this.texture,w=!0)}w&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const gr={},_i=I=>{switch(I){case"geojson":return yn;case"image":return Ar;case"raster":return rr;case"raster-dem":return gn;case"vector":return pt;case"video":return Mr;case"canvas":return Wr}return gr[I]},Ee="RTLPluginLoaded";class J extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Se()}_syncState(u){return this.status=u,this.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:u,pluginURL:this.url}).catch(p=>{throw this.status="error",p})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(u){return s._(this,arguments,void 0,function*(p,C=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=E.resolveURL(p),!this.url)throw new Error(`requested url ${p} is invalid`);if(this.status==="unavailable"){if(!C)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.k(Ee))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let q=null;function Te(){return q||(q=new J),q}class At{constructor(u,p){this.timeAdded=0,this.fadeEndTime=0,this.tileID=u,this.uid=s.a3(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const p=u+this.timeAdded;p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(u,p,C){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(w,k){const R={};if(!k)return R;for(const j of w){const $=j.layerIds.map(ie=>k.getLayer(ie)).filter(Boolean);if($.length!==0){j.layers=$,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(ie=>$.filter(de=>de.id===ie)[0]));for(const ie of $)R[ie.id]=j}}return R}(u.buckets,p.style),this.hasSymbolBuckets=!1;for(const w in this.buckets){const k=this.buckets[w];if(k instanceof s.a5){if(this.hasSymbolBuckets=!0,!C)break;k.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const w in this.buckets){const k=this.buckets[w];if(k instanceof s.a5&&k.hasRTLText){this.hasRTLText=!0,Te().lazyLoad();break}}this.queryPadding=0;for(const w in this.buckets){const k=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(w).queryRadius(k))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new s.a4}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const C in this.buckets){const w=this.buckets[C];w.uploadPending()&&w.upload(u)}const p=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Fe(u,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Fe(u,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,p,C,w,k,R,j,$,ie,de){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:k,scale:R,tileSize:this.tileSize,pixelPosMatrix:de,transform:$,params:j,queryPadding:this.queryPadding*ie},u,p,C):{}}querySourceFeatures(u,p){const C=this.latestFeatureIndex;if(!C||!C.rawTileData)return;const w=C.loadVTLayers(),k=p&&p.sourceLayer?p.sourceLayer:"",R=w._geojsonTileLayer||w[k];if(!R)return;const j=s.a6(p&&p.filter),{z:$,x:ie,y:de}=this.tileID.canonical,fe={z:$,x:ie,y:de};for(let Oe=0;Oe<R.length;Oe++){const qe=R.feature(Oe);if(j.needGeometry){const We=s.a7(qe,!0);if(!j.filter(new s.a8(this.tileID.overscaledZ),We,this.tileID.canonical))continue}else if(!j.filter(new s.a8(this.tileID.overscaledZ),qe))continue;const Ye=C.getId(qe,k),Ze=new s.a9(qe,$,ie,de,Ye);Ze.tile=fe,u.push(Ze)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const p=this.expirationTime;if(u.cacheControl){const C=s.aa(u.cacheControl);C["max-age"]&&(this.expirationTime=Date.now()+1e3*C["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const C=Date.now();let w=!1;if(this.expirationTime>C)w=!1;else if(p)if(this.expirationTime<p)w=!0;else{const k=this.expirationTime-p;k?this.expirationTime=C+Math.max(k,3e4):w=!0}else w=!0;w?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const C=this.latestFeatureIndex.loadVTLayers();for(const w in this.buckets){if(!p.style.hasLayer(w))continue;const k=this.buckets[w],R=k.layers[0].sourceLayer||"_geojsonTileLayer",j=C[R],$=u[R];if(!j||!$||Object.keys($).length===0)continue;k.update($,j,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ie=p&&p.style&&p.style.getLayer(w);ie&&(this.queryPadding=Math.max(this.queryPadding,ie.queryRadius(k)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<E.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=E.now()+u}setDependencies(u,p){const C={};for(const w of p)C[w]=!0;this.dependencies[u]=C}hasDependency(u,p){for(const C of u){const w=this.dependencies[C];if(w){for(const k of p)if(w[k])return!0}}return!1}}class Bt{constructor(u,p){this.max=u,this.onRemove=p,this.reset()}reset(){for(const u in this.data)for(const p of this.data[u])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(u,p,C){const w=u.wrapped().key;this.data[w]===void 0&&(this.data[w]=[]);const k={value:p,timeout:void 0};if(C!==void 0&&(k.timeout=setTimeout(()=>{this.remove(u,k)},C)),this.data[w].push(k),this.order.push(w),this.order.length>this.max){const R=this._getAndRemoveByKey(this.order[0]);R&&this.onRemove(R)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const p=this.data[u].shift();return p.timeout&&clearTimeout(p.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),p.value}getByKey(u){const p=this.data[u];return p?p[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,p){if(!this.has(u))return this;const C=u.wrapped().key,w=p===void 0?0:this.data[C].indexOf(p),k=this.data[C][w];return this.data[C].splice(w,1),k.timeout&&clearTimeout(k.timeout),this.data[C].length===0&&delete this.data[C],this.onRemove(k.value),this.order.splice(this.order.indexOf(C),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(u){const p=[];for(const C in this.data)for(const w of this.data[C])u(w.value)||p.push(w);for(const C of p)this.remove(C.value.tileID,C)}}class kt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,p,C){const w=String(p);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][w]=this.stateChanges[u][w]||{},s.e(this.stateChanges[u][w],C),this.deletedStates[u]===null){this.deletedStates[u]={};for(const k in this.state[u])k!==w&&(this.deletedStates[u][k]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][w]===null){this.deletedStates[u][w]={};for(const k in this.state[u][w])C[k]||(this.deletedStates[u][w][k]=null)}else for(const k in C)this.deletedStates[u]&&this.deletedStates[u][w]&&this.deletedStates[u][w][k]===null&&delete this.deletedStates[u][w][k]}removeFeatureState(u,p,C){if(this.deletedStates[u]===null)return;const w=String(p);if(this.deletedStates[u]=this.deletedStates[u]||{},C&&p!==void 0)this.deletedStates[u][w]!==null&&(this.deletedStates[u][w]=this.deletedStates[u][w]||{},this.deletedStates[u][w][C]=null);else if(p!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][w])for(C in this.deletedStates[u][w]={},this.stateChanges[u][w])this.deletedStates[u][w][C]=null;else this.deletedStates[u][w]=null;else this.deletedStates[u]=null}getState(u,p){const C=String(p),w=s.e({},(this.state[u]||{})[C],(this.stateChanges[u]||{})[C]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const k=this.deletedStates[u][p];if(k===null)return{};for(const R in k)delete w[R]}return w}initializeTileState(u,p){u.setFeatureState(this.state,p)}coalesceChanges(u,p){const C={};for(const w in this.stateChanges){this.state[w]=this.state[w]||{};const k={};for(const R in this.stateChanges[w])this.state[w][R]||(this.state[w][R]={}),s.e(this.state[w][R],this.stateChanges[w][R]),k[R]=this.state[w][R];C[w]=k}for(const w in this.deletedStates){this.state[w]=this.state[w]||{};const k={};if(this.deletedStates[w]===null)for(const R in this.state[w])k[R]={},this.state[w][R]={};else for(const R in this.deletedStates[w]){if(this.deletedStates[w][R]===null)this.state[w][R]={};else for(const j of Object.keys(this.deletedStates[w][R]))delete this.state[w][R][j];k[R]=this.state[w][R]}C[w]=C[w]||{},s.e(C[w],k)}if(this.stateChanges={},this.deletedStates={},Object.keys(C).length!==0)for(const w in u)u[w].setFeatureState(C,p)}}class Ft extends s.E{constructor(u,p,C){super(),this.id=u,this.dispatcher=C,this.on("data",w=>{w.dataType==="source"&&w.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&w.dataType==="source"&&w.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((w,k,R,j)=>{const $=new(_i(k.type))(w,k,R,j);if($.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${$.id}`);return $})(u,p,C,this),this._tiles={},this._cache=new Bt(0,w=>this._unloadTile(w)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new kt,this._didEmitContent=!1,this._updated=!1}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._maxTileCacheZoomLevels=u?u._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const u in this._tiles){const p=this._tiles[u];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,p,C){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(u),this._tileLoaded(u,p,C)}catch(w){u.state="errored",w.status!==404?this._source.fire(new s.j(w,{tile:u})):this.update(this.transform,this.terrain)}})}_unloadTile(u){this._source.unloadTile&&this._source.unloadTile(u)}_abortTile(u){this._source.abortTile&&this._source.abortTile(u),this._source.fire(new s.k("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const C=this._tiles[p];C.upload(u),C.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(fn).map(u=>u.key)}getRenderableIds(u){const p=[];for(const C in this._tiles)this._isIdRenderable(C,u)&&p.push(this._tiles[C]);return u?p.sort((C,w)=>{const k=C.tileID,R=w.tileID,j=new s.P(k.canonical.x,k.canonical.y)._rotate(this.transform.angle),$=new s.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return k.overscaledZ-R.overscaledZ||$.y-j.y||$.x-j.x}).map(C=>C.tileID.key):p.map(C=>C.tileID).sort(fn).map(C=>C.key)}hasRenderableParent(u){const p=this.findLoadedParent(u,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(u,p){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(p||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,p){return s._(this,void 0,void 0,function*(){const C=this._tiles[u];C&&(C.state!=="loading"&&(C.state=p),yield this._loadTile(C,u,p))})}_tileLoaded(u,p,C){u.timeAdded=E.now(),C==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(p,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new s.k("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const p=this.getRenderableIds();for(let w=0;w<p.length;w++){const k=p[w];if(u.neighboringTiles&&u.neighboringTiles[k]){const R=this.getTileByID(k);C(u,R),C(R,u)}}function C(w,k){w.needsHillshadePrepare=!0,w.needsTerrainPrepare=!0;let R=k.tileID.canonical.x-w.tileID.canonical.x;const j=k.tileID.canonical.y-w.tileID.canonical.y,$=Math.pow(2,w.tileID.canonical.z),ie=k.tileID.key;R===0&&j===0||Math.abs(j)>1||(Math.abs(R)>1&&(Math.abs(R+$)===1?R+=$:Math.abs(R-$)===1&&(R-=$)),k.dem&&w.dem&&(w.dem.backfillBorder(k.dem,R,j),w.neighboringTiles&&w.neighboringTiles[ie]&&(w.neighboringTiles[ie].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,p,C,w){for(const k in this._tiles){let R=this._tiles[k];if(w[k]||!R.hasData()||R.tileID.overscaledZ<=p||R.tileID.overscaledZ>C)continue;let j=R.tileID;for(;R&&R.tileID.overscaledZ>p+1;){const ie=R.tileID.scaledTo(R.tileID.overscaledZ-1);R=this._tiles[ie.key],R&&R.hasData()&&(j=ie)}let $=j;for(;$.overscaledZ>p;)if($=$.scaledTo($.overscaledZ-1),u[$.key]){w[j.key]=j;break}}}findLoadedParent(u,p){if(u.key in this._loadedParentTiles){const C=this._loadedParentTiles[u.key];return C&&C.tileID.overscaledZ>=p?C:null}for(let C=u.overscaledZ-1;C>=p;C--){const w=u.scaledTo(C),k=this._getLoadedTile(w);if(k)return k}}_getLoadedTile(u){const p=this._tiles[u.key];return p&&p.hasData()?p:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const p=Math.ceil(u.width/this._source.tileSize)+1,C=Math.ceil(u.height/this._source.tileSize)+1,w=Math.floor(p*C*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),k=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(k)}handleWrapJump(u){const p=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,p){const C={};for(const w in this._tiles){const k=this._tiles[w];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+p),C[k.tileID.key]=k}this._tiles=C;for(const w in this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(const w in this._tiles)this._setTileReloadTimer(w,this._tiles[w])}}update(u,p){if(this.transform=u,this.terrain=p,!this._sourceLoaded||this._paused)return;let C;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?C=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(de=>new s.Q(de.canonical.z,de.wrap,de.canonical.z,de.canonical.x,de.canonical.y)):(C=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(C=C.filter(de=>this._source.hasTile(de)))):C=[];const w=u.coveringZoomLevel(this._source),k=Math.max(w-Ft.maxOverzooming,this._source.minzoom),R=Math.max(w+Ft.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const de={};for(const fe of C)if(fe.canonical.z>this._source.minzoom){const Oe=fe.scaledTo(fe.canonical.z-1);de[Oe.key]=Oe;const qe=fe.scaledTo(Math.max(this._source.minzoom,Math.min(fe.canonical.z,5)));de[qe.key]=qe}C=C.concat(Object.values(de))}const j=C.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,j&&this.fire(new s.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const $=this._updateRetainedTiles(C,w);if(Kn(this._source.type)){const de={},fe={},Oe=Object.keys($),qe=E.now();for(const Ye of Oe){const Ze=$[Ye],We=this._tiles[Ye];if(!We||We.fadeEndTime!==0&&We.fadeEndTime<=qe)continue;const ht=this.findLoadedParent(Ze,k);ht&&(this._addTile(ht.tileID),de[ht.tileID.key]=ht.tileID),fe[Ye]=Ze}this._retainLoadedChildren(fe,w,R,$);for(const Ye in de)$[Ye]||(this._coveredTiles[Ye]=!0,$[Ye]=de[Ye]);if(p){const Ye={},Ze={};for(const We of C)this._tiles[We.key].hasData()?Ye[We.key]=We:Ze[We.key]=We;for(const We in Ze){const ht=Ze[We].children(this._source.maxzoom);this._tiles[ht[0].key]&&this._tiles[ht[1].key]&&this._tiles[ht[2].key]&&this._tiles[ht[3].key]&&(Ye[ht[0].key]=$[ht[0].key]=ht[0],Ye[ht[1].key]=$[ht[1].key]=ht[1],Ye[ht[2].key]=$[ht[2].key]=ht[2],Ye[ht[3].key]=$[ht[3].key]=ht[3],delete Ze[We])}for(const We in Ze){const ht=this.findLoadedParent(Ze[We],this._source.minzoom);if(ht){Ye[ht.tileID.key]=$[ht.tileID.key]=ht.tileID;for(const Dt in Ye)Ye[Dt].isChildOf(ht.tileID)&&delete Ye[Dt]}}for(const We in this._tiles)Ye[We]||(this._coveredTiles[We]=!0)}}for(const de in $)this._tiles[de].clearFadeHold();const ie=s.ab(this._tiles,$);for(const de of ie){const fe=this._tiles[de];fe.hasSymbolBuckets&&!fe.holdingForFade()?fe.setHoldDuration(this.map._fadeDuration):fe.hasSymbolBuckets&&!fe.symbolFadeFinished()||this._removeTile(de)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,p){const C={},w={},k=Math.max(p-Ft.maxOverzooming,this._source.minzoom),R=Math.max(p+Ft.maxUnderzooming,this._source.minzoom),j={};for(const $ of u){const ie=this._addTile($);C[$.key]=$,ie.hasData()||p<this._source.maxzoom&&(j[$.key]=$)}this._retainLoadedChildren(j,p,R,C);for(const $ of u){let ie=this._tiles[$.key];if(ie.hasData())continue;if(p+1>this._source.maxzoom){const fe=$.children(this._source.maxzoom)[0],Oe=this.getTile(fe);if(Oe&&Oe.hasData()){C[fe.key]=fe;continue}}else{const fe=$.children(this._source.maxzoom);if(C[fe[0].key]&&C[fe[1].key]&&C[fe[2].key]&&C[fe[3].key])continue}let de=ie.wasRequested();for(let fe=$.overscaledZ-1;fe>=k;--fe){const Oe=$.scaledTo(fe);if(w[Oe.key])break;if(w[Oe.key]=!0,ie=this.getTile(Oe),!ie&&de&&(ie=this._addTile(Oe)),ie){const qe=ie.hasData();if((de||qe)&&(C[Oe.key]=Oe),de=ie.wasRequested(),qe)break}}}return C}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const p=[];let C,w=this._tiles[u].tileID;for(;w.overscaledZ>0;){if(w.key in this._loadedParentTiles){C=this._loadedParentTiles[w.key];break}p.push(w.key);const k=w.scaledTo(w.overscaledZ-1);if(C=this._getLoadedTile(k),C)break;w=k}for(const k of p)this._loadedParentTiles[k]=C}}_addTile(u){let p=this._tiles[u.key];if(p)return p;p=this._cache.getAndRemove(u),p&&(this._setTileReloadTimer(u.key,p),p.tileID=u,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,p)));const C=p;return p||(p=new At(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(p,u.key,p.state)),p.uses++,this._tiles[u.key]=p,C||this._source.fire(new s.k("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(u,p){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const C=p.getExpiryTimeout();C&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},C))}_removeTile(u){const p=this._tiles[u];p&&(p.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,p,C){const w=[],k=this.transform;if(!k)return w;const R=C?k.getCameraQueryGeometry(u):u,j=u.map(Ye=>k.pointCoordinate(Ye,this.terrain)),$=R.map(Ye=>k.pointCoordinate(Ye,this.terrain)),ie=this.getIds();let de=1/0,fe=1/0,Oe=-1/0,qe=-1/0;for(const Ye of $)de=Math.min(de,Ye.x),fe=Math.min(fe,Ye.y),Oe=Math.max(Oe,Ye.x),qe=Math.max(qe,Ye.y);for(let Ye=0;Ye<ie.length;Ye++){const Ze=this._tiles[ie[Ye]];if(Ze.holdingForFade())continue;const We=Ze.tileID,ht=Math.pow(2,k.zoom-Ze.tileID.overscaledZ),Dt=p*Ze.queryPadding*s.W/Ze.tileSize/ht,tt=[We.getTilePoint(new s.Y(de,fe)),We.getTilePoint(new s.Y(Oe,qe))];if(tt[0].x-Dt<s.W&&tt[0].y-Dt<s.W&&tt[1].x+Dt>=0&&tt[1].y+Dt>=0){const bt=j.map(Ut=>We.getTilePoint(Ut)),Kt=$.map(Ut=>We.getTilePoint(Ut));w.push({tile:Ze,tileID:We,queryGeometry:bt,cameraQueryGeometry:Kt,scale:ht})}}return w}getVisibleCoordinates(u){const p=this.getRenderableIds(u).map(C=>this._tiles[C].tileID);for(const C of p)C.posMatrix=this.transform.calculatePosMatrix(C.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(Kn(this._source.type)){const u=E.now();for(const p in this._tiles)if(this._tiles[p].fadeEndTime>=u)return!0}return!1}setFeatureState(u,p,C){this._state.updateState(u=u||"_geojsonTileLayer",p,C)}removeFeatureState(u,p,C){this._state.removeFeatureState(u=u||"_geojsonTileLayer",p,C)}getFeatureState(u,p){return this._state.getState(u=u||"_geojsonTileLayer",p)}setDependencies(u,p,C){const w=this._tiles[u];w&&w.setDependencies(p,C)}reloadTilesForDependencies(u,p){for(const C in this._tiles)this._tiles[C].hasDependency(u,p)&&this._reloadTile(C,"reloading");this._cache.filter(C=>!C.hasDependency(u,p))}}function fn(I,u){const p=Math.abs(2*I.wrap)-+(I.wrap<0),C=Math.abs(2*u.wrap)-+(u.wrap<0);return I.overscaledZ-u.overscaledZ||C-p||u.canonical.y-I.canonical.y||u.canonical.x-I.canonical.x}function Kn(I){return I==="raster"||I==="image"||I==="video"}Ft.maxOverzooming=10,Ft.maxUnderzooming=3;class On{constructor(u,p){this.reset(u,p)}reset(u,p){this.points=u||[],this._distances=[0];for(let C=1;C<this.points.length;C++)this._distances[C]=this._distances[C-1]+this.points[C].dist(this.points[C-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=s.ac(u,0,1);let p=1,C=this._distances[p];const w=u*this.paddedLength+this.padding;for(;C<w&&p<this._distances.length;)C=this._distances[++p];const k=p-1,R=this._distances[k],j=C-R,$=j>0?(w-R)/j:0;return this.points[k].mult(1-$).add(this.points[p].mult($))}}function m(I,u){let p=!0;return I==="always"||I!=="never"&&u!=="never"||(p=!1),p}class Pt{constructor(u,p,C){const w=this.boxCells=[],k=this.circleCells=[];this.xCellCount=Math.ceil(u/C),this.yCellCount=Math.ceil(p/C);for(let R=0;R<this.xCellCount*this.yCellCount;R++)w.push([]),k.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=p,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,p,C,w,k){this._forEachCell(p,C,w,k,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(p),this.bboxes.push(C),this.bboxes.push(w),this.bboxes.push(k)}insertCircle(u,p,C,w){this._forEachCell(p-w,C-w,p+w,C+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(p),this.circles.push(C),this.circles.push(w)}_insertBoxCell(u,p,C,w,k,R){this.boxCells[k].push(R)}_insertCircleCell(u,p,C,w,k,R){this.circleCells[k].push(R)}_query(u,p,C,w,k,R,j){if(C<0||u>this.width||w<0||p>this.height)return[];const $=[];if(u<=0&&p<=0&&this.width<=C&&this.height<=w){if(k)return[{key:null,x1:u,y1:p,x2:C,y2:w}];for(let ie=0;ie<this.boxKeys.length;ie++)$.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(let ie=0;ie<this.circleKeys.length;ie++){const de=this.circles[3*ie],fe=this.circles[3*ie+1],Oe=this.circles[3*ie+2];$.push({key:this.circleKeys[ie],x1:de-Oe,y1:fe-Oe,x2:de+Oe,y2:fe+Oe})}}else this._forEachCell(u,p,C,w,this._queryCell,$,{hitTest:k,overlapMode:R,seenUids:{box:{},circle:{}}},j);return $}query(u,p,C,w){return this._query(u,p,C,w,!1,null)}hitTest(u,p,C,w,k,R){return this._query(u,p,C,w,!0,k,R).length>0}hitTestCircle(u,p,C,w,k){const R=u-C,j=u+C,$=p-C,ie=p+C;if(j<0||R>this.width||ie<0||$>this.height)return!1;const de=[];return this._forEachCell(R,$,j,ie,this._queryCellCircle,de,{hitTest:!0,overlapMode:w,circle:{x:u,y:p,radius:C},seenUids:{box:{},circle:{}}},k),de.length>0}_queryCell(u,p,C,w,k,R,j,$){const{seenUids:ie,hitTest:de,overlapMode:fe}=j,Oe=this.boxCells[k];if(Oe!==null){const Ye=this.bboxes;for(const Ze of Oe)if(!ie.box[Ze]){ie.box[Ze]=!0;const We=4*Ze,ht=this.boxKeys[Ze];if(u<=Ye[We+2]&&p<=Ye[We+3]&&C>=Ye[We+0]&&w>=Ye[We+1]&&(!$||$(ht))&&(!de||!m(fe,ht.overlapMode))&&(R.push({key:ht,x1:Ye[We],y1:Ye[We+1],x2:Ye[We+2],y2:Ye[We+3]}),de))return!0}}const qe=this.circleCells[k];if(qe!==null){const Ye=this.circles;for(const Ze of qe)if(!ie.circle[Ze]){ie.circle[Ze]=!0;const We=3*Ze,ht=this.circleKeys[Ze];if(this._circleAndRectCollide(Ye[We],Ye[We+1],Ye[We+2],u,p,C,w)&&(!$||$(ht))&&(!de||!m(fe,ht.overlapMode))){const Dt=Ye[We],tt=Ye[We+1],bt=Ye[We+2];if(R.push({key:ht,x1:Dt-bt,y1:tt-bt,x2:Dt+bt,y2:tt+bt}),de)return!0}}}return!1}_queryCellCircle(u,p,C,w,k,R,j,$){const{circle:ie,seenUids:de,overlapMode:fe}=j,Oe=this.boxCells[k];if(Oe!==null){const Ye=this.bboxes;for(const Ze of Oe)if(!de.box[Ze]){de.box[Ze]=!0;const We=4*Ze,ht=this.boxKeys[Ze];if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,Ye[We+0],Ye[We+1],Ye[We+2],Ye[We+3])&&(!$||$(ht))&&!m(fe,ht.overlapMode))return R.push(!0),!0}}const qe=this.circleCells[k];if(qe!==null){const Ye=this.circles;for(const Ze of qe)if(!de.circle[Ze]){de.circle[Ze]=!0;const We=3*Ze,ht=this.circleKeys[Ze];if(this._circlesCollide(Ye[We],Ye[We+1],Ye[We+2],ie.x,ie.y,ie.radius)&&(!$||$(ht))&&!m(fe,ht.overlapMode))return R.push(!0),!0}}}_forEachCell(u,p,C,w,k,R,j,$){const ie=this._convertToXCellCoord(u),de=this._convertToYCellCoord(p),fe=this._convertToXCellCoord(C),Oe=this._convertToYCellCoord(w);for(let qe=ie;qe<=fe;qe++)for(let Ye=de;Ye<=Oe;Ye++)if(k.call(this,u,p,C,w,this.xCellCount*Ye+qe,R,j,$))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,p,C,w,k,R){const j=w-u,$=k-p,ie=C+R;return ie*ie>j*j+$*$}_circleAndRectCollide(u,p,C,w,k,R,j){const $=(R-w)/2,ie=Math.abs(u-(w+$));if(ie>$+C)return!1;const de=(j-k)/2,fe=Math.abs(p-(k+de));if(fe>de+C)return!1;if(ie<=$||fe<=de)return!0;const Oe=ie-$,qe=fe-de;return Oe*Oe+qe*qe<=C*C}}function Kr(I,u,p,C,w){const k=s.F();return u?(s.J(k,k,[1/w,1/w,1]),p||s.ad(k,k,C.angle)):s.K(k,C.labelPlaneMatrix,I),k}function tr(I,u,p,C,w){if(u){const k=s.ae(I);return s.J(k,k,[w,w,1]),p||s.ad(k,k,-C.angle),k}return C.glCoordMatrix}function Ke(I,u,p){let C;p?(C=[I.x,I.y,p(I.x,I.y),1],s.af(C,C,u)):(C=[I.x,I.y,0,1],Bn(C,C,u));const w=C[3];return{point:new s.P(C[0]/w,C[1]/w),signedDistanceFromCamera:w}}function ce(I,u){return .5+I/u*.5}function Ce(I,u){const p=I[0]/I[3],C=I[1]/I[3];return p>=-u[0]&&p<=u[0]&&C>=-u[1]&&C<=u[1]}function Ie(I,u,p,C,w,k,R,j,$,ie){const de=C?I.textSizeData:I.iconSizeData,fe=s.ag(de,p.transform.zoom),Oe=[256/p.width*2+1,256/p.height*2+1],qe=C?I.text.dynamicLayoutVertexArray:I.icon.dynamicLayoutVertexArray;qe.clear();const Ye=I.lineVertexArray,Ze=C?I.text.placedSymbolArray:I.icon.placedSymbolArray,We=p.transform.width/p.transform.height;let ht=!1;for(let Dt=0;Dt<Ze.length;Dt++){const tt=Ze.get(Dt);if(tt.hidden||tt.writingMode===s.ah.vertical&&!ht){Dn(tt.numGlyphs,qe);continue}let bt;if(ht=!1,ie?(bt=[tt.anchorX,tt.anchorY,ie(tt.anchorX,tt.anchorY),1],s.af(bt,bt,u)):(bt=[tt.anchorX,tt.anchorY,0,1],Bn(bt,bt,u)),!Ce(bt,Oe)){Dn(tt.numGlyphs,qe);continue}const Kt=ce(p.transform.cameraToCenterDistance,bt[3]),Ut=s.ai(de,fe,tt),Xt=R?Ut/Kt:Ut*Kt,dn=new s.P(tt.anchorX,tt.anchorY),un=Ke(dn,w,ie).point,pn={projections:{},offsets:{}},$n=lt(tt,Xt,!1,j,u,w,k,I.glyphOffsetArray,Ye,qe,un,dn,pn,We,$,ie);ht=$n.useVertical,($n.notEnoughRoom||ht||$n.needsFlipping&&lt(tt,Xt,!0,j,u,w,k,I.glyphOffsetArray,Ye,qe,un,dn,pn,We,$,ie).notEnoughRoom)&&Dn(tt.numGlyphs,qe)}C?I.text.dynamicLayoutVertexBuffer.updateData(qe):I.icon.dynamicLayoutVertexBuffer.updateData(qe)}function je(I,u,p,C,w,k,R,j,$,ie,de,fe,Oe){const qe=j.glyphStartIndex+j.numGlyphs,Ye=j.lineStartIndex,Ze=j.lineStartIndex+j.lineLength,We=u.getoffsetX(j.glyphStartIndex),ht=u.getoffsetX(qe-1),Dt=Ht(I*We,p,C,w,k,R,j.segment,Ye,Ze,$,ie,de,fe,Oe);if(!Dt)return null;const tt=Ht(I*ht,p,C,w,k,R,j.segment,Ye,Ze,$,ie,de,fe,Oe);return tt?{first:Dt,last:tt}:null}function rt(I,u,p,C){return I===s.ah.horizontal&&Math.abs(p.y-u.y)>Math.abs(p.x-u.x)*C?{useVertical:!0}:(I===s.ah.vertical?u.y<p.y:u.x>p.x)?{needsFlipping:!0}:null}function lt(I,u,p,C,w,k,R,j,$,ie,de,fe,Oe,qe,Ye,Ze){const We=u/24,ht=I.lineOffsetX*We,Dt=I.lineOffsetY*We;let tt;if(I.numGlyphs>1){const bt=I.glyphStartIndex+I.numGlyphs,Kt=I.lineStartIndex,Ut=I.lineStartIndex+I.lineLength,Xt=je(We,j,ht,Dt,p,de,fe,I,$,k,Oe,Ye,Ze);if(!Xt)return{notEnoughRoom:!0};const dn=Ke(Xt.first.point,R,Ze).point,un=Ke(Xt.last.point,R,Ze).point;if(C&&!p){const pn=rt(I.writingMode,dn,un,qe);if(pn)return pn}tt=[Xt.first];for(let pn=I.glyphStartIndex+1;pn<bt-1;pn++)tt.push(Ht(We*j.getoffsetX(pn),ht,Dt,p,de,fe,I.segment,Kt,Ut,$,k,Oe,Ye,Ze));tt.push(Xt.last)}else{if(C&&!p){const Kt=Ke(fe,w,Ze).point,Ut=I.lineStartIndex+I.segment+1,Xt=new s.P($.getx(Ut),$.gety(Ut)),dn=Ke(Xt,w,Ze),un=dn.signedDistanceFromCamera>0?dn.point:ft(fe,Xt,Kt,1,w,Ze),pn=rt(I.writingMode,Kt,un,qe);if(pn)return pn}const bt=Ht(We*j.getoffsetX(I.glyphStartIndex),ht,Dt,p,de,fe,I.segment,I.lineStartIndex,I.lineStartIndex+I.lineLength,$,k,Oe,Ye,Ze);if(!bt)return{notEnoughRoom:!0};tt=[bt]}for(const bt of tt)s.aj(ie,bt.point,bt.angle);return{}}function ft(I,u,p,C,w,k){const R=Ke(I.add(I.sub(u)._unit()),w,k).point,j=p.sub(R);return p.add(j._mult(C/j.mag()))}function et(I,u){const{projectionCache:p,lineVertexArray:C,labelPlaneMatrix:w,tileAnchorPoint:k,distanceFromAnchor:R,getElevation:j,previousVertex:$,direction:ie,absOffsetX:de}=u;if(p.projections[I])return p.projections[I];const fe=new s.P(C.getx(I),C.gety(I)),Oe=Ke(fe,w,j);if(Oe.signedDistanceFromCamera>0)return p.projections[I]=Oe.point,Oe.point;const qe=I-ie;return ft(R===0?k:new s.P(C.getx(qe),C.gety(qe)),fe,$,de-R+1,w,j)}function Mt(I,u,p){return I._unit()._perp()._mult(u*p)}function tn(I,u,p,C,w,k,R,j){const{projectionCache:$,direction:ie}=j;if($.offsets[I])return $.offsets[I];const de=p.add(u);if(I+ie<C||I+ie>=w)return $.offsets[I]=de,de;const fe=et(I+ie,j),Oe=Mt(fe.sub(p),R,ie),qe=p.add(Oe),Ye=fe.add(Oe);return $.offsets[I]=s.ak(k,de,qe,Ye)||de,$.offsets[I]}function Ht(I,u,p,C,w,k,R,j,$,ie,de,fe,Oe,qe){const Ye=C?I-u:I+u;let Ze=Ye>0?1:-1,We=0;C&&(Ze*=-1,We=Math.PI),Ze<0&&(We+=Math.PI);let ht,Dt,tt=Ze>0?j+R:j+R+1,bt=w,Kt=w,Ut=0,Xt=0;const dn=Math.abs(Ye),un=[];let pn;for(;Ut+Xt<=dn;){if(tt+=Ze,tt<j||tt>=$)return null;Ut+=Xt,Kt=bt,Dt=ht;const In={projectionCache:fe,lineVertexArray:ie,labelPlaneMatrix:de,tileAnchorPoint:k,distanceFromAnchor:Ut,getElevation:qe,previousVertex:Kt,direction:Ze,absOffsetX:dn};if(bt=et(tt,In),p===0)un.push(Kt),pn=bt.sub(Kt);else{let vr;const di=bt.sub(Kt);vr=di.mag()===0?Mt(et(tt+Ze,In).sub(bt),p,Ze):Mt(di,p,Ze),Dt||(Dt=Kt.add(vr)),ht=tn(tt,vr,bt,j,$,Dt,p,In),un.push(Dt),pn=ht.sub(Dt)}Xt=pn.mag()}const $n=pn._mult((dn-Ut)/Xt)._add(Dt||Kt),qr=We+Math.atan2(bt.y-Kt.y,bt.x-Kt.x);return un.push($n),{point:$n,angle:Oe?qr:0,path:un}}const en=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Dn(I,u){for(let p=0;p<I;p++){const C=u.length;u.resize(C+4),u.float32.set(en,3*C)}}function Bn(I,u,p){const C=u[0],w=u[1];return I[0]=p[0]*C+p[4]*w+p[12],I[1]=p[1]*C+p[5]*w+p[13],I[3]=p[3]*C+p[7]*w+p[15],I}const Yn=100;class Sr{constructor(u,p=new Pt(u.width+200,u.height+200,25),C=new Pt(u.width+200,u.height+200,25)){this.transform=u,this.grid=p,this.ignoredGrid=C,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+Yn,this.screenBottomBoundary=u.height+Yn,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,p,C,w,k,R){const j=this.projectAndGetPerspectiveRatio(w,u.anchorPointX,u.anchorPointY,R),$=C*j.perspectiveRatio,ie=u.x1*$+j.point.x,de=u.y1*$+j.point.y,fe=u.x2*$+j.point.x,Oe=u.y2*$+j.point.y;return!this.isInsideGrid(ie,de,fe,Oe)||p!=="always"&&this.grid.hitTest(ie,de,fe,Oe,p,k)||j.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[ie,de,fe,Oe],offscreen:this.isOffscreen(ie,de,fe,Oe)}}placeCollisionCircles(u,p,C,w,k,R,j,$,ie,de,fe,Oe,qe,Ye){const Ze=[],We=new s.P(p.anchorX,p.anchorY),ht=Ke(We,R,Ye),Dt=ce(this.transform.cameraToCenterDistance,ht.signedDistanceFromCamera),tt=(de?k/Dt:k*Dt)/s.ao,bt=Ke(We,j,Ye).point,Kt=je(tt,w,p.lineOffsetX*tt,p.lineOffsetY*tt,!1,bt,We,p,C,j,{projections:{},offsets:{}},!1,Ye);let Ut=!1,Xt=!1,dn=!0;if(Kt){const un=.5*Oe*Dt+qe,pn=new s.P(-100,-100),$n=new s.P(this.screenRightBoundary,this.screenBottomBoundary),qr=new On,In=Kt.first,vr=Kt.last;let di=[];for(let ei=In.path.length-1;ei>=1;ei--)di.push(In.path[ei]);for(let ei=1;ei<vr.path.length;ei++)di.push(vr.path[ei]);const Ti=2.5*un;if($){const ei=di.map(Nr=>Ke(Nr,$,Ye));di=ei.some(Nr=>Nr.signedDistanceFromCamera<=0)?[]:ei.map(Nr=>Nr.point)}let Hr=[];if(di.length>0){const ei=di[0].clone(),Nr=di[0].clone();for(let qo=1;qo<di.length;qo++)ei.x=Math.min(ei.x,di[qo].x),ei.y=Math.min(ei.y,di[qo].y),Nr.x=Math.max(Nr.x,di[qo].x),Nr.y=Math.max(Nr.y,di[qo].y);Hr=ei.x>=pn.x&&Nr.x<=$n.x&&ei.y>=pn.y&&Nr.y<=$n.y?[di]:Nr.x<pn.x||ei.x>$n.x||Nr.y<pn.y||ei.y>$n.y?[]:s.al([di],pn.x,pn.y,$n.x,$n.y)}for(const ei of Hr){qr.reset(ei,.25*un);let Nr=0;Nr=qr.length<=.5*un?1:Math.ceil(qr.paddedLength/Ti)+1;for(let qo=0;qo<Nr;qo++){const Lo=qo/Math.max(Nr-1,1),Rs=qr.lerp(Lo),Da=Rs.x+Yn,mo=Rs.y+Yn;Ze.push(Da,mo,un,0);const so=Da-un,Xs=mo-un,lu=Da+un,Ms=mo+un;if(dn=dn&&this.isOffscreen(so,Xs,lu,Ms),Xt=Xt||this.isInsideGrid(so,Xs,lu,Ms),u!=="always"&&this.grid.hitTestCircle(Da,mo,un,u,fe)&&(Ut=!0,!ie))return{circles:[],offscreen:!1,collisionDetected:Ut}}}}return{circles:!ie&&Ut||!Xt||Dt<this.perspectiveRatioCutoff?[]:Ze,offscreen:dn,collisionDetected:Ut}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let C=1/0,w=1/0,k=-1/0,R=-1/0;for(const de of u){const fe=new s.P(de.x+Yn,de.y+Yn);C=Math.min(C,fe.x),w=Math.min(w,fe.y),k=Math.max(k,fe.x),R=Math.max(R,fe.y),p.push(fe)}const j=this.grid.query(C,w,k,R).concat(this.ignoredGrid.query(C,w,k,R)),$={},ie={};for(const de of j){const fe=de.key;if($[fe.bucketInstanceId]===void 0&&($[fe.bucketInstanceId]={}),$[fe.bucketInstanceId][fe.featureIndex])continue;const Oe=[new s.P(de.x1,de.y1),new s.P(de.x2,de.y1),new s.P(de.x2,de.y2),new s.P(de.x1,de.y2)];s.am(p,Oe)&&($[fe.bucketInstanceId][fe.featureIndex]=!0,ie[fe.bucketInstanceId]===void 0&&(ie[fe.bucketInstanceId]=[]),ie[fe.bucketInstanceId].push(fe.featureIndex))}return ie}insertCollisionBox(u,p,C,w,k,R){(C?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:k,collisionGroupID:R,overlapMode:p},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,p,C,w,k,R){const j=C?this.ignoredGrid:this.grid,$={bucketInstanceId:w,featureIndex:k,collisionGroupID:R,overlapMode:p};for(let ie=0;ie<u.length;ie+=4)j.insertCircle($,u[ie],u[ie+1],u[ie+2])}projectAndGetPerspectiveRatio(u,p,C,w){let k;return w?(k=[p,C,w(p,C),1],s.af(k,k,u)):(k=[p,C,0,1],Bn(k,k,u)),{point:new s.P((k[0]/k[3]+1)/2*this.transform.width+Yn,(-k[1]/k[3]+1)/2*this.transform.height+Yn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k[3]*.5}}isOffscreen(u,p,C,w){return C<Yn||u>=this.screenRightBoundary||w<Yn||p>this.screenBottomBoundary}isInsideGrid(u,p,C,w){return C>=0&&u<this.gridRightBoundary&&w>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const u=s.an([]);return s.H(u,u,[-100,-100,0]),u}}function lr(I,u,p){return u*(s.W/(I.tileSize*Math.pow(2,p-I.tileID.overscaledZ)))}class Qr{constructor(u,p,C,w){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?p:-p))):w&&C?1:0,this.placed=C}isHidden(){return this.opacity===0&&!this.placed}}class Or{constructor(u,p,C,w,k){this.text=new Qr(u?u.text:null,p,C,k),this.icon=new Qr(u?u.icon:null,p,w,k)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Lr{constructor(u,p,C){this.text=u,this.icon=p,this.skipFade=C}}class ir{constructor(){this.invProjMatrix=s.F(),this.viewportMatrix=s.F(),this.circles=[]}}class ci{constructor(u,p,C,w,k){this.bucketInstanceId=u,this.featureIndex=p,this.sourceLayerIndex=C,this.bucketIndex=w,this.tileID=k}}class Li{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const p=++this.maxGroupID;this.collisionGroups[u]={ID:p,predicate:C=>C.collisionGroupID===p}}return this.collisionGroups[u]}}function to(I,u,p,C,w){const{horizontalAlign:k,verticalAlign:R}=s.at(I);return new s.P(-(k-.5)*u+C[0]*w,-(R-.5)*p+C[1]*w)}function ho(I,u,p,C,w,k){const{x1:R,x2:j,y1:$,y2:ie,anchorPointX:de,anchorPointY:fe}=I,Oe=new s.P(u,p);return C&&Oe._rotate(w?k:-k),{x1:R+Oe.x,y1:$+Oe.y,x2:j+Oe.x,y2:ie+Oe.y,anchorPointX:de,anchorPointY:fe}}class ai{constructor(u,p,C,w,k){this.transform=u.clone(),this.terrain=p,this.collisionIndex=new Sr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=C,this.retainedQueryData={},this.collisionGroups=new Li(w),this.collisionCircleArrays={},this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,p,C,w){const k=C.getBucket(p),R=C.latestFeatureIndex;if(!k||!R||p.id!==k.layerIds[0])return;const j=C.collisionBoxArray,$=k.layers[0].layout,ie=Math.pow(2,this.transform.zoom-C.tileID.overscaledZ),de=C.tileSize/s.W,fe=this.transform.calculatePosMatrix(C.tileID.toUnwrapped()),Oe=$.get("text-pitch-alignment")==="map",qe=$.get("text-rotation-alignment")==="map",Ye=lr(C,1,this.transform.zoom),Ze=Kr(fe,Oe,qe,this.transform,Ye);let We=null;if(Oe){const Dt=tr(fe,Oe,qe,this.transform,Ye);We=s.K([],this.transform.labelPlaneMatrix,Dt)}this.retainedQueryData[k.bucketInstanceId]=new ci(k.bucketInstanceId,R,k.sourceLayerIndex,k.index,C.tileID);const ht={bucket:k,layout:$,posMatrix:fe,textLabelPlaneMatrix:Ze,labelToScreenMatrix:We,scale:ie,textPixelRatio:de,holdingForFade:C.holdingForFade(),collisionBoxArray:j,partiallyEvaluatedTextSize:s.ag(k.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(k.sourceID)};if(w)for(const Dt of k.sortKeyRanges){const{sortKey:tt,symbolInstanceStart:bt,symbolInstanceEnd:Kt}=Dt;u.push({sortKey:tt,symbolInstanceStart:bt,symbolInstanceEnd:Kt,parameters:ht})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:k.symbolInstances.length,parameters:ht})}attemptAnchorPlacement(u,p,C,w,k,R,j,$,ie,de,fe,Oe,qe,Ye,Ze,We){const ht=s.ap[u.textAnchor],Dt=[u.textOffset0,u.textOffset1],tt=to(ht,C,w,Dt,k),bt=this.collisionIndex.placeCollisionBox(ho(p,tt.x,tt.y,R,j,this.transform.angle),fe,$,ie,de.predicate,We);if((!Ze||this.collisionIndex.placeCollisionBox(ho(Ze,tt.x,tt.y,R,j,this.transform.angle),fe,$,ie,de.predicate,We).box.length!==0)&&bt.box.length>0){let Kt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Oe.crossTileID]&&this.prevPlacement.placements[Oe.crossTileID]&&this.prevPlacement.placements[Oe.crossTileID].text&&(Kt=this.prevPlacement.variableOffsets[Oe.crossTileID].anchor),Oe.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Oe.crossTileID]={textOffset:Dt,width:C,height:w,anchor:ht,textBoxScale:k,prevAnchor:Kt},this.markUsedJustification(qe,ht,Oe,Ye),qe.allowVerticalPlacement&&(this.markUsedOrientation(qe,Ye,Oe),this.placedOrientations[Oe.crossTileID]=Ye),{shift:tt,placedGlyphBoxes:bt}}}placeLayerBucketPart(u,p,C){const{bucket:w,layout:k,posMatrix:R,textLabelPlaneMatrix:j,labelToScreenMatrix:$,textPixelRatio:ie,holdingForFade:de,collisionBoxArray:fe,partiallyEvaluatedTextSize:Oe,collisionGroup:qe}=u.parameters,Ye=k.get("text-optional"),Ze=k.get("icon-optional"),We=s.aq(k,"text-overlap","text-allow-overlap"),ht=We==="always",Dt=s.aq(k,"icon-overlap","icon-allow-overlap"),tt=Dt==="always",bt=k.get("text-rotation-alignment")==="map",Kt=k.get("text-pitch-alignment")==="map",Ut=k.get("icon-text-fit")!=="none",Xt=k.get("symbol-z-order")==="viewport-y",dn=ht&&(tt||!w.hasIconData()||Ze),un=tt&&(ht||!w.hasTextData()||Ye);!w.collisionArrays&&fe&&w.deserializeCollisionBoxes(fe);const pn=this.retainedQueryData[w.bucketInstanceId].tileID,$n=this.terrain?(In,vr)=>this.terrain.getElevation(pn,In,vr):null,qr=(In,vr)=>{var di,Ti;if(p[In.crossTileID])return;if(de)return void(this.placements[In.crossTileID]=new Lr(!1,!1,!1));let Hr=!1,ei=!1,Nr=!0,qo=null,Lo={box:null,offscreen:null},Rs={box:null,offscreen:null},Da=null,mo=null,so=null,Xs=0,lu=0,Ms=0;vr.textFeatureIndex?Xs=vr.textFeatureIndex:In.useRuntimeCollisionCircles&&(Xs=In.featureIndex),vr.verticalTextFeatureIndex&&(lu=vr.verticalTextFeatureIndex);const nA=vr.textBox;if(nA){const Ri=Ho=>{let _a=s.ah.horizontal;if(w.allowVerticalPlacement&&!Ho&&this.prevPlacement){const Es=this.prevPlacement.placedOrientations[In.crossTileID];Es&&(this.placedOrientations[In.crossTileID]=Es,_a=Es,this.markUsedOrientation(w,_a,In))}return _a},Ei=(Ho,_a)=>{if(w.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&vr.verticalTextBox){for(const Es of w.writingModes)if(Es===s.ah.vertical?(Lo=_a(),Rs=Lo):Lo=Ho(),Lo&&Lo.box&&Lo.box.length)break}else Lo=Ho()},na=In.textAnchorOffsetStartIndex,Fc=In.textAnchorOffsetEndIndex;if(Fc===na){const Ho=(_a,Es)=>{const Pi=this.collisionIndex.placeCollisionBox(_a,We,ie,R,qe.predicate,$n);return Pi&&Pi.box&&Pi.box.length&&(this.markUsedOrientation(w,Es,In),this.placedOrientations[In.crossTileID]=Es),Pi};Ei(()=>Ho(nA,s.ah.horizontal),()=>{const _a=vr.verticalTextBox;return w.allowVerticalPlacement&&In.numVerticalGlyphVertices>0&&_a?Ho(_a,s.ah.vertical):{box:null,offscreen:null}}),Ri(Lo&&Lo.box&&Lo.box.length)}else{let Ho=s.ap[(Ti=(di=this.prevPlacement)===null||di===void 0?void 0:di.variableOffsets[In.crossTileID])===null||Ti===void 0?void 0:Ti.anchor];const _a=(Pi,sc,Vh)=>{const uu=Pi.x2-Pi.x1,lc=Pi.y2-Pi.y1,Iu=In.textBoxScale,Zh=Ut&&Dt==="never"?sc:null;let ku={box:[],offscreen:!1},Xh=We==="never"?1:2,OA="never";Ho&&Xh++;for(let sp=0;sp<Xh;sp++){for(let gd=na;gd<Fc;gd++){const lp=w.textAnchorOffsets.get(gd);if(Ho&&lp.textAnchor!==Ho)continue;const rA=this.attemptAnchorPlacement(lp,Pi,uu,lc,Iu,bt,Kt,ie,R,qe,OA,In,w,Vh,Zh,$n);if(rA&&(ku=rA.placedGlyphBoxes,ku&&ku.box&&ku.box.length))return Hr=!0,qo=rA.shift,ku}Ho?Ho=null:OA=We}return ku};Ei(()=>_a(nA,vr.iconBox,s.ah.horizontal),()=>{const Pi=vr.verticalTextBox;return w.allowVerticalPlacement&&!(Lo&&Lo.box&&Lo.box.length)&&In.numVerticalGlyphVertices>0&&Pi?_a(Pi,vr.verticalIconBox,s.ah.vertical):{box:null,offscreen:null}}),Lo&&(Hr=Lo.box,Nr=Lo.offscreen);const Es=Ri(Lo&&Lo.box);if(!Hr&&this.prevPlacement){const Pi=this.prevPlacement.variableOffsets[In.crossTileID];Pi&&(this.variableOffsets[In.crossTileID]=Pi,this.markUsedJustification(w,Pi.anchor,In,Es))}}}if(Da=Lo,Hr=Da&&Da.box&&Da.box.length>0,Nr=Da&&Da.offscreen,In.useRuntimeCollisionCircles){const Ri=w.text.placedSymbolArray.get(In.centerJustifiedTextSymbolIndex),Ei=s.ai(w.textSizeData,Oe,Ri),na=k.get("text-padding");mo=this.collisionIndex.placeCollisionCircles(We,Ri,w.lineVertexArray,w.glyphOffsetArray,Ei,R,j,$,C,Kt,qe.predicate,In.collisionCircleDiameter,na,$n),mo.circles.length&&mo.collisionDetected&&!C&&s.w("Collisions detected, but collision boxes are not shown"),Hr=ht||mo.circles.length>0&&!mo.collisionDetected,Nr=Nr&&mo.offscreen}if(vr.iconFeatureIndex&&(Ms=vr.iconFeatureIndex),vr.iconBox){const Ri=Ei=>{const na=Ut&&qo?ho(Ei,qo.x,qo.y,bt,Kt,this.transform.angle):Ei;return this.collisionIndex.placeCollisionBox(na,Dt,ie,R,qe.predicate,$n)};Rs&&Rs.box&&Rs.box.length&&vr.verticalIconBox?(so=Ri(vr.verticalIconBox),ei=so.box.length>0):(so=Ri(vr.iconBox),ei=so.box.length>0),Nr=Nr&&so.offscreen}const Wl=Ye||In.numHorizontalGlyphVertices===0&&In.numVerticalGlyphVertices===0,Ss=Ze||In.numIconVertices===0;if(Wl||Ss?Ss?Wl||(ei=ei&&Hr):Hr=ei&&Hr:ei=Hr=ei&&Hr,Hr&&Da&&Da.box&&this.collisionIndex.insertCollisionBox(Da.box,We,k.get("text-ignore-placement"),w.bucketInstanceId,Rs&&Rs.box&&lu?lu:Xs,qe.ID),ei&&so&&this.collisionIndex.insertCollisionBox(so.box,Dt,k.get("icon-ignore-placement"),w.bucketInstanceId,Ms,qe.ID),mo&&(Hr&&this.collisionIndex.insertCollisionCircles(mo.circles,We,k.get("text-ignore-placement"),w.bucketInstanceId,Xs,qe.ID),C)){const Ri=w.bucketInstanceId;let Ei=this.collisionCircleArrays[Ri];Ei===void 0&&(Ei=this.collisionCircleArrays[Ri]=new ir);for(let na=0;na<mo.circles.length;na+=4)Ei.circles.push(mo.circles[na+0]),Ei.circles.push(mo.circles[na+1]),Ei.circles.push(mo.circles[na+2]),Ei.circles.push(mo.collisionDetected?1:0)}if(In.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(w.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[In.crossTileID]=new Lr(Hr||dn,ei||un,Nr||w.justReloaded),p[In.crossTileID]=!0};if(Xt){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const In=w.getSortedSymbolIndexes(this.transform.angle);for(let vr=In.length-1;vr>=0;--vr){const di=In[vr];qr(w.symbolInstances.get(di),w.collisionArrays[di])}}else for(let In=u.symbolInstanceStart;In<u.symbolInstanceEnd;In++)qr(w.symbolInstances.get(In),w.collisionArrays[In]);if(C&&w.bucketInstanceId in this.collisionCircleArrays){const In=this.collisionCircleArrays[w.bucketInstanceId];s.ar(In.invProjMatrix,R),In.viewportMatrix=this.collisionIndex.getViewportMatrix()}w.justReloaded=!1}markUsedJustification(u,p,C,w){let k;k=w===s.ah.vertical?C.verticalPlacedTextSymbolIndex:{left:C.leftJustifiedTextSymbolIndex,center:C.centerJustifiedTextSymbolIndex,right:C.rightJustifiedTextSymbolIndex}[s.as(p)];const R=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex,C.verticalPlacedTextSymbolIndex];for(const j of R)j>=0&&(u.text.placedSymbolArray.get(j).crossTileID=k>=0&&j!==k?0:C.crossTileID)}markUsedOrientation(u,p,C){const w=p===s.ah.horizontal||p===s.ah.horizontalOnly?p:0,k=p===s.ah.vertical?p:0,R=[C.leftJustifiedTextSymbolIndex,C.centerJustifiedTextSymbolIndex,C.rightJustifiedTextSymbolIndex];for(const j of R)u.text.placedSymbolArray.get(j).placedOrientation=w;C.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(C.verticalPlacedTextSymbolIndex).placedOrientation=k)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let C=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const w=p?p.symbolFadeChange(u):1,k=p?p.opacities:{},R=p?p.variableOffsets:{},j=p?p.placedOrientations:{};for(const $ in this.placements){const ie=this.placements[$],de=k[$];de?(this.opacities[$]=new Or(de,w,ie.text,ie.icon),C=C||ie.text!==de.text.placed||ie.icon!==de.icon.placed):(this.opacities[$]=new Or(null,w,ie.text,ie.icon,ie.skipFade),C=C||ie.text||ie.icon)}for(const $ in k){const ie=k[$];if(!this.opacities[$]){const de=new Or(ie,w,!1,!1);de.isHidden()||(this.opacities[$]=de,C=C||ie.text.placed||ie.icon.placed)}}for(const $ in R)this.variableOffsets[$]||!this.opacities[$]||this.opacities[$].isHidden()||(this.variableOffsets[$]=R[$]);for(const $ in j)this.placedOrientations[$]||!this.opacities[$]||this.opacities[$].isHidden()||(this.placedOrientations[$]=j[$]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");C?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:u)}updateLayerOpacities(u,p){const C={};for(const w of p){const k=w.getBucket(u);k&&w.latestFeatureIndex&&u.id===k.layerIds[0]&&this.updateBucketOpacities(k,C,w.collisionBoxArray)}}updateBucketOpacities(u,p,C){u.hasTextData()&&(u.text.opacityVertexArray.clear(),u.text.hasVisibleVertices=!1),u.hasIconData()&&(u.icon.opacityVertexArray.clear(),u.icon.hasVisibleVertices=!1),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const w=u.layers[0],k=w.layout,R=new Or(null,0,!1,!1,!0),j=k.get("text-allow-overlap"),$=k.get("icon-allow-overlap"),ie=w._unevaluatedLayout.hasValue("text-variable-anchor")||w._unevaluatedLayout.hasValue("text-variable-anchor-offset"),de=k.get("text-rotation-alignment")==="map",fe=k.get("text-pitch-alignment")==="map",Oe=k.get("icon-text-fit")!=="none",qe=new Or(null,0,j&&($||!u.hasIconData()||k.get("icon-optional")),$&&(j||!u.hasTextData()||k.get("text-optional")),!0);!u.collisionArrays&&C&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(C);const Ye=(Ze,We,ht)=>{for(let Dt=0;Dt<We/4;Dt++)Ze.opacityVertexArray.emplaceBack(ht);Ze.hasVisibleVertices=Ze.hasVisibleVertices||ht!==Ui};for(let Ze=0;Ze<u.symbolInstances.length;Ze++){const We=u.symbolInstances.get(Ze),{numHorizontalGlyphVertices:ht,numVerticalGlyphVertices:Dt,crossTileID:tt}=We;let bt=this.opacities[tt];p[tt]?bt=R:bt||(bt=qe,this.opacities[tt]=bt),p[tt]=!0;const Kt=We.numIconVertices>0,Ut=this.placedOrientations[We.crossTileID],Xt=Ut===s.ah.vertical,dn=Ut===s.ah.horizontal||Ut===s.ah.horizontalOnly;if(ht>0||Dt>0){const un=_o(bt.text);Ye(u.text,ht,Xt?Ui:un),Ye(u.text,Dt,dn?Ui:un);const pn=bt.text.isHidden();[We.rightJustifiedTextSymbolIndex,We.centerJustifiedTextSymbolIndex,We.leftJustifiedTextSymbolIndex].forEach(In=>{In>=0&&(u.text.placedSymbolArray.get(In).hidden=pn||Xt?1:0)}),We.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(We.verticalPlacedTextSymbolIndex).hidden=pn||dn?1:0);const $n=this.variableOffsets[We.crossTileID];$n&&this.markUsedJustification(u,$n.anchor,We,Ut);const qr=this.placedOrientations[We.crossTileID];qr&&(this.markUsedJustification(u,"left",We,qr),this.markUsedOrientation(u,qr,We))}if(Kt){const un=_o(bt.icon),pn=!(Oe&&We.verticalPlacedIconSymbolIndex&&Xt);We.placedIconSymbolIndex>=0&&(Ye(u.icon,We.numIconVertices,pn?un:Ui),u.icon.placedSymbolArray.get(We.placedIconSymbolIndex).hidden=bt.icon.isHidden()),We.verticalPlacedIconSymbolIndex>=0&&(Ye(u.icon,We.numVerticalIconVertices,pn?Ui:un),u.icon.placedSymbolArray.get(We.verticalPlacedIconSymbolIndex).hidden=bt.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const un=u.collisionArrays[Ze];if(un){let pn=new s.P(0,0);if(un.textBox||un.verticalTextBox){let qr=!0;if(ie){const In=this.variableOffsets[tt];In?(pn=to(In.anchor,In.width,In.height,In.textOffset,In.textBoxScale),de&&pn._rotate(fe?this.transform.angle:-this.transform.angle)):qr=!1}un.textBox&&fo(u.textCollisionBox.collisionVertexArray,bt.text.placed,!qr||Xt,pn.x,pn.y),un.verticalTextBox&&fo(u.textCollisionBox.collisionVertexArray,bt.text.placed,!qr||dn,pn.x,pn.y)}const $n=!!(!dn&&un.verticalIconBox);un.iconBox&&fo(u.iconCollisionBox.collisionVertexArray,bt.icon.placed,$n,Oe?pn.x:0,Oe?pn.y:0),un.verticalIconBox&&fo(u.iconCollisionBox.collisionVertexArray,bt.icon.placed,!$n,Oe?pn.x:0,Oe?pn.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const Ze=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=Ze.invProjMatrix,u.placementViewportMatrix=Ze.viewportMatrix,u.collisionCircleArray=Ze.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,p){const C=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*C>u}setStale(){this.stale=!0}}function fo(I,u,p,C,w){I.emplaceBack(u?1:0,p?1:0,C||0,w||0),I.emplaceBack(u?1:0,p?1:0,C||0,w||0),I.emplaceBack(u?1:0,p?1:0,C||0,w||0),I.emplaceBack(u?1:0,p?1:0,C||0,w||0)}const Wa=Math.pow(2,25),Ia=Math.pow(2,24),Mi=Math.pow(2,17),os=Math.pow(2,16),gi=Math.pow(2,9),jn=Math.pow(2,8),ro=Math.pow(2,1);function _o(I){if(I.opacity===0&&!I.placed)return 0;if(I.opacity===1&&I.placed)return 4294967295;const u=I.placed?1:0,p=Math.floor(127*I.opacity);return p*Wa+u*Ia+p*Mi+u*os+p*gi+u*jn+p*ro+u}const Ui=0;class ve{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,p,C,w,k){const R=this._bucketParts;for(;this._currentTileIndex<u.length;)if(p.getBucketParts(R,w,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,k())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((j,$)=>j.sortKey-$.sortKey));this._currentPartIndex<R.length;)if(p.placeLayerBucketPart(R[this._currentPartIndex],this._seenCrossTileIDs,C),this._currentPartIndex++,k())return!0;return!1}}class Je{constructor(u,p,C,w,k,R,j,$){this.placement=new ai(u,p,R,j,$),this._currentPlacementIndex=C.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=k,this._done=!1}isDone(){return this._done}continuePlacement(u,p,C){const w=E.now(),k=()=>!this._forceFullPlacement&&E.now()-w>2;for(;this._currentPlacementIndex>=0;){const R=p[u[this._currentPlacementIndex]],j=this.placement.collisionIndex.transform.zoom;if(R.type==="symbol"&&(!R.minzoom||R.minzoom<=j)&&(!R.maxzoom||R.maxzoom>j)){if(this._inProgressLayer||(this._inProgressLayer=new ve(R)),this._inProgressLayer.continuePlacement(C[R.source],this.placement,this._showCollisionBoxes,R,k))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const Zt=512/s.W/2;class sn{constructor(u,p,C){this.tileID=u,this.bucketInstanceId=C,this._symbolsByKey={};const w=new Map;for(let k=0;k<p.length;k++){const R=p.get(k),j=R.key,$=w.get(j);$?$.push(R):w.set(j,[R])}for(const[k,R]of w){const j={positions:R.map($=>({x:Math.floor($.anchorX*Zt),y:Math.floor($.anchorY*Zt)})),crossTileIDs:R.map($=>$.crossTileID)};if(j.positions.length>128){const $=new s.au(j.positions.length,16,Uint16Array);for(const{x:ie,y:de}of j.positions)$.add(ie,de);$.finish(),delete j.positions,j.index=$}this._symbolsByKey[k]=j}}getScaledCoordinates(u,p){const{x:C,y:w,z:k}=this.tileID.canonical,{x:R,y:j,z:$}=p.canonical,ie=Zt/Math.pow(2,$-k),de=(j*s.W+u.anchorY)*ie,fe=w*s.W*Zt;return{x:Math.floor((R*s.W+u.anchorX)*ie-C*s.W*Zt),y:Math.floor(de-fe)}}findMatches(u,p,C){const w=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let k=0;k<u.length;k++){const R=u.get(k);if(R.crossTileID)continue;const j=this._symbolsByKey[R.key];if(!j)continue;const $=this.getScaledCoordinates(R,p);if(j.index){const ie=j.index.range($.x-w,$.y-w,$.x+w,$.y+w).sort();for(const de of ie){const fe=j.crossTileIDs[de];if(!C[fe]){C[fe]=!0,R.crossTileID=fe;break}}}else if(j.positions)for(let ie=0;ie<j.positions.length;ie++){const de=j.positions[ie],fe=j.crossTileIDs[ie];if(Math.abs(de.x-$.x)<=w&&Math.abs(de.y-$.y)<=w&&!C[fe]){C[fe]=!0,R.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:u})=>u)}}class Lt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class wn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const p=Math.round((u-this.lng)/360);if(p!==0)for(const C in this.indexes){const w=this.indexes[C],k={};for(const R in w){const j=w[R];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+p),k[j.tileID.key]=j}this.indexes[C]=k}this.lng=u}addBucket(u,p,C){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let k=0;k<p.symbolInstances.length;k++)p.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const w=this.usedCrossTileIDs[u.overscaledZ];for(const k in this.indexes){const R=this.indexes[k];if(Number(k)>u.overscaledZ)for(const j in R){const $=R[j];$.tileID.isChildOf(u)&&$.findMatches(p.symbolInstances,u,w)}else{const j=R[u.scaledTo(Number(k)).key];j&&j.findMatches(p.symbolInstances,u,w)}}for(let k=0;k<p.symbolInstances.length;k++){const R=p.symbolInstances.get(k);R.crossTileID||(R.crossTileID=C.generate(),w[R.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new sn(u,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(u,p){for(const C of p.getCrossTileIDsLists())for(const w of C)delete this.usedCrossTileIDs[u][w]}removeStaleBuckets(u){let p=!1;for(const C in this.indexes){const w=this.indexes[C];for(const k in w)u[w[k].bucketInstanceId]||(this.removeBucketCrossTileIDs(C,w[k]),delete w[k],p=!0)}return p}}class dr{constructor(){this.layerIndexes={},this.crossTileIDs=new Lt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,p,C){let w=this.layerIndexes[u.id];w===void 0&&(w=this.layerIndexes[u.id]=new wn);let k=!1;const R={};w.handleWrapJump(C);for(const j of p){const $=j.getBucket(u);$&&u.id===$.layerIds[0]&&($.bucketInstanceId||($.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(j.tileID,$,this.crossTileIDs)&&(k=!0),R[$.bucketInstanceId]=!0)}return w.removeStaleBuckets(R)&&(k=!0),k}pruneUnusedLayers(u){const p={};u.forEach(C=>{p[C]=!0});for(const C in this.layerIndexes)p[C]||delete this.layerIndexes[C]}}const ri=(I,u)=>s.t(I,u&&u.filter(p=>p.identifier!=="source.canvas")),si=s.av();class Zo extends s.E{constructor(u,p={}){super(),this._rtlPluginLoaded=()=>{for(const C in this.sourceCaches){const w=this.sourceCaches[C].getSource().type;w!=="vector"&&w!=="geojson"||this.sourceCaches[C].reload()}},this.map=u,this.dispatcher=new pe(ke(),u._getMapId()),this.dispatcher.registerMessageHandler("getGlyphs",(C,w)=>this.getGlyphs(C,w)),this.dispatcher.registerMessageHandler("getImages",(C,w)=>this.getImages(C,w)),this.imageManager=new Qe,this.imageManager.setEventedParent(this),this.glyphManager=new st(u._requestManager,p.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new dr,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.aw,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.ax()),Te().on(Ee,this._rtlPluginLoaded),this.on("data",C=>{if(C.dataType!=="source"||C.sourceDataType!=="metadata")return;const w=this.sourceCaches[C.sourceId];if(!w)return;const k=w.getSource();if(k&&k.vectorLayerIds)for(const R in this._layers){const j=this._layers[R];j.source===k.id&&this._validateLayer(j)}})}loadURL(u,p={},C){this.fire(new s.k("dataloading",{dataType:"style"})),p.validate=typeof p.validate!="boolean"||p.validate;const w=this.map._requestManager.transformRequest(u,ue.Style);this._loadStyleRequest=new AbortController,s.h(w,this._loadStyleRequest).then(k=>{this._loadStyleRequest=null,this._load(k.data,p,C)}).catch(k=>{this._loadStyleRequest=null,k&&this.fire(new s.j(k))})}loadJSON(u,p={},C){this.fire(new s.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,E.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,p.validate=p.validate!==!1,this._load(u,p,C)}).catch(()=>{})}loadEmpty(){this.fire(new s.k("dataloading",{dataType:"style"})),this._load(si,{validate:!1})}_load(u,p,C){var w;const k=p.transformStyle?p.transformStyle(C,u):u;if(!p.validate||!ri(this,s.x(k))){this._loaded=!0,this.stylesheet=k;for(const R in k.sources)this.addSource(R,k.sources[R],{validate:!1});k.sprite?this._loadSprite(k.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(k.glyphs),this._createLayers(),this.light=new He(this.stylesheet.light),this.map.setTerrain((w=this.stylesheet.terrain)!==null&&w!==void 0?w:null),this.fire(new s.k("data",{dataType:"style"})),this.fire(new s.k("style.load"))}}_createLayers(){const u=s.ay(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",u),this._order=u.map(p=>p.id),this._layers={},this._serializedLayers=null;for(const p of u){const C=s.az(p);C.setEventedParent(this,{layer:{id:p.id}}),this._layers[p.id]=C}}_loadSprite(u,p=!1,C=void 0){let w;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(k,R,j,$){return s._(this,void 0,void 0,function*(){const ie=De(k),de=j>1?"@2x":"",fe={},Oe={};for(const{id:qe,url:Ye}of ie){const Ze=R.transformRequest(R.normalizeSpriteURL(Ye,de,".json"),ue.SpriteJSON);fe[qe]=s.h(Ze,$);const We=R.transformRequest(R.normalizeSpriteURL(Ye,de,".png"),ue.SpriteImage);Oe[qe]=Z.getImage(We,$)}return yield Promise.all([...Object.values(fe),...Object.values(Oe)]),function(qe,Ye){return s._(this,void 0,void 0,function*(){const Ze={};for(const We in qe){Ze[We]={};const ht=E.getImageCanvasContext((yield Ye[We]).data),Dt=(yield qe[We]).data;for(const tt in Dt){const{width:bt,height:Kt,x:Ut,y:Xt,sdf:dn,pixelRatio:un,stretchX:pn,stretchY:$n,content:qr}=Dt[tt];Ze[We][tt]={data:null,pixelRatio:un,sdf:dn,stretchX:pn,stretchY:$n,content:qr,spriteData:{width:bt,height:Kt,x:Ut,y:Xt,context:ht}}}}return Ze})}(fe,Oe)})}(u,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(k=>{if(this._spriteRequest=null,k)for(const R in k){this._spritesImagesIds[R]=[];const j=this._spritesImagesIds[R]?this._spritesImagesIds[R].filter($=>!($ in k)):[];for(const $ of j)this.imageManager.removeImage($),this._changedImages[$]=!0;for(const $ in k[R]){const ie=R==="default"?$:`${R}:${$}`;this._spritesImagesIds[R].push(ie),ie in this.imageManager.images?this.imageManager.updateImage(ie,k[R][$],!1):this.imageManager.addImage(ie,k[R][$]),p&&(this._changedImages[ie]=!0)}}}).catch(k=>{this._spriteRequest=null,w=k,this.fire(new s.j(w))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),p&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"})),C&&C(w)})}_unloadSprite(){for(const u of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(u),this._changedImages[u]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}_validateLayer(u){const p=this.sourceCaches[u.source];if(!p)return;const C=u.sourceLayer;if(!C)return;const w=p.getSource();(w.type==="geojson"||w.vectorLayerIds&&w.vectorLayerIds.indexOf(C)===-1)&&this.fire(new s.j(new Error(`Source layer "${C}" does not exist on source "${w.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(u){const p=this._serializedAllLayers();if(!u||u.length===0)return Object.values(p);const C=[];for(const w of u)p[w]&&C.push(p[w]);return C}_serializedAllLayers(){let u=this._serializedLayers;if(u)return u;u=this._serializedLayers={};const p=Object.keys(this._layers);for(const C of p){const w=this._layers[C];w.type!=="custom"&&(u[C]=w.serialize())}return u}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const p=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),k=Object.keys(this._removedLayers);(w.length||k.length)&&this._updateWorkerLayers(w,k);for(const R in this._updatedSources){const j=this._updatedSources[R];if(j==="reload")this._reloadSource(R);else{if(j!=="clear")throw new Error(`Invalid action ${j}`);this._clearSource(R)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const R in this._updatedPaintProps)this._layers[R].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const C={};for(const w in this.sourceCaches){const k=this.sourceCaches[w];C[w]=k.used,k.used=!1}for(const w of this._order){const k=this._layers[w];k.recalculate(u,this._availableImages),!k.isHidden(u.zoom)&&k.source&&(this.sourceCaches[k.source].used=!0)}for(const w in C){const k=this.sourceCaches[w];C[w]!==k.used&&k.fire(new s.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:w}))}this.light.recalculate(u),this.z=u.zoom,p&&this.fire(new s.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(u,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(u),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(u,p={}){var C;this._checkLoaded();const w=this.serialize();if(u=p.transformStyle?p.transformStyle(w,u):u,((C=p.validate)===null||C===void 0||C)&&ri(this,s.x(u)))return!1;(u=s.aA(u)).layers=s.ay(u.layers);const k=s.aB(w,u),R=this._getOperationsToPerform(k);if(R.unimplemented.length>0)throw new Error(`Unimplemented: ${R.unimplemented.join(", ")}.`);if(R.operations.length===0)return!1;for(const j of R.operations)j();return this.stylesheet=u,this._serializedLayers=null,!0}_getOperationsToPerform(u){const p=[],C=[];for(const w of u)switch(w.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":p.push(()=>this.addLayer.apply(this,w.args));break;case"removeLayer":p.push(()=>this.removeLayer.apply(this,w.args));break;case"setPaintProperty":p.push(()=>this.setPaintProperty.apply(this,w.args));break;case"setLayoutProperty":p.push(()=>this.setLayoutProperty.apply(this,w.args));break;case"setFilter":p.push(()=>this.setFilter.apply(this,w.args));break;case"addSource":p.push(()=>this.addSource.apply(this,w.args));break;case"removeSource":p.push(()=>this.removeSource.apply(this,w.args));break;case"setLayerZoomRange":p.push(()=>this.setLayerZoomRange.apply(this,w.args));break;case"setLight":p.push(()=>this.setLight.apply(this,w.args));break;case"setGeoJSONSourceData":p.push(()=>this.setGeoJSONSourceData.apply(this,w.args));break;case"setGlyphs":p.push(()=>this.setGlyphs.apply(this,w.args));break;case"setSprite":p.push(()=>this.setSprite.apply(this,w.args));break;case"setTerrain":p.push(()=>this.map.setTerrain.apply(this,w.args));break;case"setTransition":p.push(()=>{});break;default:C.push(w.command)}return{operations:p,unimplemented:C}}addImage(u,p){if(this.getImage(u))return this.fire(new s.j(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,p),this._afterImageUpdated(u)}updateImage(u,p){this.imageManager.updateImage(u,p)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new s.j(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,p,C={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(s.x.source,`sources.${u}`,p,null,C))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const w=this.sourceCaches[u]=new Ft(u,p,this.dispatcher);w.style=this,w.setEventedParent(this,()=>({isSourceLoaded:w.loaded(),source:w.serialize(),sourceId:u})),w.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const C in this._layers)if(this._layers[C].source===u)return this.fire(new s.j(new Error(`Source "${u}" cannot be removed while layer "${C}" is using it.`)));const p=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],p.fire(new s.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,p){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const C=this.sourceCaches[u].getSource();if(C.type!=="geojson")throw new Error(`geojsonSource.type is ${C.type}, which is !== 'geojson`);C.setData(p),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,p,C={}){this._checkLoaded();const w=u.id;if(this.getLayer(w))return void this.fire(new s.j(new Error(`Layer "${w}" already exists on this map.`)));let k;if(u.type==="custom"){if(ri(this,s.aC(u)))return;k=s.az(u)}else{if("source"in u&&typeof u.source=="object"&&(this.addSource(w,u.source),u=s.aA(u),u=s.e(u,{source:w})),this._validate(s.x.layer,`layers.${w}`,u,{arrayIndex:-1},C))return;k=s.az(u),this._validateLayer(k),k.setEventedParent(this,{layer:{id:w}})}const R=p?this._order.indexOf(p):this._order.length;if(p&&R===-1)this.fire(new s.j(new Error(`Cannot add layer "${w}" before non-existing layer "${p}".`)));else{if(this._order.splice(R,0,w),this._layerOrderChanged=!0,this._layers[w]=k,this._removedLayers[w]&&k.source&&k.type!=="custom"){const j=this._removedLayers[w];delete this._removedLayers[w],j.type!==k.type?this._updatedSources[k.source]="clear":(this._updatedSources[k.source]="reload",this.sourceCaches[k.source].pause())}this._updateLayer(k),k.onAdd&&k.onAdd(this.map)}}moveLayer(u,p){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new s.j(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===p)return;const C=this._order.indexOf(u);this._order.splice(C,1);const w=p?this._order.indexOf(p):this._order.length;p&&w===-1?this.fire(new s.j(new Error(`Cannot move layer "${u}" before non-existing layer "${p}".`))):(this._order.splice(w,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const p=this._layers[u];if(!p)return void this.fire(new s.j(new Error(`Cannot remove non-existing layer "${u}".`)));p.setEventedParent(null);const C=this._order.indexOf(u);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=p,delete this._layers[u],this._serializedLayers&&delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],p.onRemove&&p.onRemove(this.map)}getLayer(u){return this._layers[u]}getLayersOrder(){return[...this._order]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,p,C){this._checkLoaded();const w=this.getLayer(u);w?w.minzoom===p&&w.maxzoom===C||(p!=null&&(w.minzoom=p),C!=null&&(w.maxzoom=C),this._updateLayer(w)):this.fire(new s.j(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,p,C={}){this._checkLoaded();const w=this.getLayer(u);if(w){if(!s.aD(w.filter,p))return p==null?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(s.x.filter,`layers.${w.id}.filter`,p,null,C)||(w.filter=s.aA(p),this._updateLayer(w)))}else this.fire(new s.j(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return s.aA(this.getLayer(u).filter)}setLayoutProperty(u,p,C,w={}){this._checkLoaded();const k=this.getLayer(u);k?s.aD(k.getLayoutProperty(p),C)||(k.setLayoutProperty(p,C,w),this._updateLayer(k)):this.fire(new s.j(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,p){const C=this.getLayer(u);if(C)return C.getLayoutProperty(p);this.fire(new s.j(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,p,C,w={}){this._checkLoaded();const k=this.getLayer(u);k?s.aD(k.getPaintProperty(p),C)||(k.setPaintProperty(p,C,w)&&this._updateLayer(k),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new s.j(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,p){return this.getLayer(u).getPaintProperty(p)}setFeatureState(u,p){this._checkLoaded();const C=u.source,w=u.sourceLayer,k=this.sourceCaches[C];if(k===void 0)return void this.fire(new s.j(new Error(`The source '${C}' does not exist in the map's style.`)));const R=k.getSource().type;R==="geojson"&&w?this.fire(new s.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):R!=="vector"||w?(u.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),k.setFeatureState(w,u.id,p)):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,p){this._checkLoaded();const C=u.source,w=this.sourceCaches[C];if(w===void 0)return void this.fire(new s.j(new Error(`The source '${C}' does not exist in the map's style.`)));const k=w.getSource().type,R=k==="vector"?u.sourceLayer:void 0;k!=="vector"||R?p&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new s.j(new Error("A feature id is required to remove its specific state property."))):w.removeFeatureState(R,u.id,p):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const p=u.source,C=u.sourceLayer,w=this.sourceCaches[p];if(w!==void 0)return w.getSource().type!=="vector"||C?(u.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),w.getFeatureState(C,u.id)):void this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.j(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const u=s.aE(this.sourceCaches,k=>k.serialize()),p=this._serializeByIds(this._order),C=this.map.getTerrain()||void 0,w=this.stylesheet;return s.aF({version:w.version,name:w.name,metadata:w.metadata,light:w.light,center:w.center,zoom:w.zoom,bearing:w.bearing,pitch:w.pitch,sprite:w.sprite,glyphs:w.glyphs,transition:w.transition,sources:u,layers:p,terrain:C},k=>k!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(u){const p=R=>this._layers[R].type==="fill-extrusion",C={},w=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j)){C[j]=R;for(const $ of u){const ie=$[j];if(ie)for(const de of ie)w.push(de)}}}w.sort((R,j)=>j.intersectionZ-R.intersectionZ);const k=[];for(let R=this._order.length-1;R>=0;R--){const j=this._order[R];if(p(j))for(let $=w.length-1;$>=0;$--){const ie=w[$].feature;if(C[ie.layer.id]<R)break;k.push(ie),w.pop()}else for(const $ of u){const ie=$[j];if(ie)for(const de of ie)k.push(de.feature)}}return k}queryRenderedFeatures(u,p,C){p&&p.filter&&this._validate(s.x.filter,"queryRenderedFeatures.filter",p.filter,null,p);const w={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new s.j(new Error("parameters.layers must be an Array."))),[];for(const j of p.layers){const $=this._layers[j];if(!$)return this.fire(new s.j(new Error(`The layer '${j}' does not exist in the map's style and cannot be queried for features.`))),[];w[$.source]=!0}}const k=[];p.availableImages=this._availableImages;const R=this._serializedAllLayers();for(const j in this.sourceCaches)p.layers&&!w[j]||k.push(it(this.sourceCaches[j],this._layers,R,u,p,C));return this.placement&&k.push(function(j,$,ie,de,fe,Oe,qe){const Ye={},Ze=Oe.queryRenderedSymbols(de),We=[];for(const ht of Object.keys(Ze).map(Number))We.push(qe[ht]);We.sort(ot);for(const ht of We){const Dt=ht.featureIndex.lookupSymbolFeatures(Ze[ht.bucketInstanceId],$,ht.bucketIndex,ht.sourceLayerIndex,fe.filter,fe.layers,fe.availableImages,j);for(const tt in Dt){const bt=Ye[tt]=Ye[tt]||[],Kt=Dt[tt];Kt.sort((Ut,Xt)=>{const dn=ht.featureSortOrder;if(dn){const un=dn.indexOf(Ut.featureIndex);return dn.indexOf(Xt.featureIndex)-un}return Xt.featureIndex-Ut.featureIndex});for(const Ut of Kt)bt.push(Ut)}}for(const ht in Ye)Ye[ht].forEach(Dt=>{const tt=Dt.feature,bt=ie[j[ht].source].getFeatureState(tt.layer["source-layer"],tt.id);tt.source=tt.layer.source,tt.layer["source-layer"]&&(tt.sourceLayer=tt.layer["source-layer"]),tt.state=bt});return Ye}(this._layers,R,this.sourceCaches,u,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(k)}querySourceFeatures(u,p){p&&p.filter&&this._validate(s.x.filter,"querySourceFeatures.filter",p.filter,null,p);const C=this.sourceCaches[u];return C?function(w,k){const R=w.getRenderableIds().map(ie=>w.getTileByID(ie)),j=[],$={};for(let ie=0;ie<R.length;ie++){const de=R[ie],fe=de.tileID.canonical.key;$[fe]||($[fe]=!0,de.querySourceFeatures(j,k))}return j}(C,p):[]}getLight(){return this.light.getLight()}setLight(u,p={}){this._checkLoaded();const C=this.light.getLight();let w=!1;for(const R in u)if(!s.aD(u[R],C[R])){w=!0;break}if(!w)return;const k={now:E.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,p),this.light.updateTransitions(k)}_validate(u,p,C,w,k={}){return(!k||k.validate!==!1)&&ri(this,u.call(s.x,s.e({key:p,style:this.serialize(),value:C,styleSpec:s.v},w)))}_remove(u=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Te().off(Ee,this._rtlPluginLoaded);for(const p in this._layers)this._layers[p].setEventedParent(null);for(const p in this.sourceCaches){const C=this.sourceCaches[p];C.setEventedParent(null),C.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),u&&this.dispatcher.broadcast("removeMap",void 0),this.dispatcher.remove(u)}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const p in this.sourceCaches)this.sourceCaches[p].update(u,this.map.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,p,C,w,k=!1){let R=!1,j=!1;const $={};for(const ie of this._order){const de=this._layers[ie];if(de.type!=="symbol")continue;if(!$[de.source]){const Oe=this.sourceCaches[de.source];$[de.source]=Oe.getRenderableIds(!0).map(qe=>Oe.getTileByID(qe)).sort((qe,Ye)=>Ye.tileID.overscaledZ-qe.tileID.overscaledZ||(qe.tileID.isLessThan(Ye.tileID)?-1:1))}const fe=this.crossTileSymbolIndex.addLayer(de,$[de.source],u.center.lng);R=R||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((k=k||this._layerOrderChanged||C===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(E.now(),u.zoom))&&(this.pauseablePlacement=new Je(u,this.map.terrain,this._order,k,p,C,w,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,$),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(E.now()),j=!0),R&&this.pauseablePlacement.placement.setStale()),j||R)for(const ie of this._order){const de=this._layers[ie];de.type==="symbol"&&this.placement.updateLayerOpacities(de,$[de.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(E.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,p){return s._(this,void 0,void 0,function*(){const C=yield this.imageManager.getImages(p.icons);this._updateTilesForChangedImages();const w=this.sourceCaches[p.source];return w&&w.setDependencies(p.tileID.key,p.type,p.icons),C})}getGlyphs(u,p){return s._(this,void 0,void 0,function*(){const C=yield this.glyphManager.getGlyphs(p.stacks),w=this.sourceCaches[p.source];return w&&w.setDependencies(p.tileID.key,p.type,[""]),C})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(u,p={}){this._checkLoaded(),u&&this._validate(s.x.glyphs,"glyphs",u,null,p)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=u,this.glyphManager.entries={},this.glyphManager.setURL(u))}addSprite(u,p,C={},w){this._checkLoaded();const k=[{id:u,url:p}],R=[...De(this.stylesheet.sprite),...k];this._validate(s.x.sprite,"sprite",R,null,C)||(this.stylesheet.sprite=R,this._loadSprite(k,!0,w))}removeSprite(u){this._checkLoaded();const p=De(this.stylesheet.sprite);if(p.find(C=>C.id===u)){if(this._spritesImagesIds[u])for(const C of this._spritesImagesIds[u])this.imageManager.removeImage(C),this._changedImages[C]=!0;p.splice(p.findIndex(C=>C.id===u),1),this.stylesheet.sprite=p.length>0?p:void 0,delete this._spritesImagesIds[u],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}else this.fire(new s.j(new Error(`Sprite "${u}" doesn't exists on this map.`)))}getSprite(){return De(this.stylesheet.sprite)}setSprite(u,p={},C){this._checkLoaded(),u&&this._validate(s.x.sprite,"sprite",u,null,p)||(this.stylesheet.sprite=u,u?this._loadSprite(u,!0,C):(this._unloadSprite(),C&&C(null)))}}var Pa=s.X([{name:"a_pos",type:"Int16",components:2}]),Dr="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Na={prelude:yi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:yi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:yi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:yi(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:yi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:yi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:yi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:yi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:yi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:yi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:yi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:yi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:yi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:yi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:yi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:yi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:yi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:yi(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:yi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:yi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:yi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:yi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:yi("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Dr),terrainDepth:yi("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Dr),terrainCoords:yi("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Dr)};function yi(I,u){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=u.match(/attribute ([\w]+) ([\w]+)/g),w=I.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),k=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),R=k?k.concat(w):w,j={};return{fragmentSource:I=I.replace(p,($,ie,de,fe,Oe)=>(j[Oe]=!0,ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
varying ${de} ${fe} ${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`)),vertexSource:u=u.replace(p,($,ie,de,fe,Oe)=>{const qe=fe==="float"?"vec2":"vec4",Ye=Oe.match(/color/)?"color":qe;return j[Oe]?ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
uniform lowp float u_${Oe}_t;
attribute ${de} ${qe} a_${Oe};
varying ${de} ${fe} ${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:Ye==="vec4"?`
#ifndef HAS_UNIFORM_u_${Oe}
    ${Oe} = a_${Oe};
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Oe}
    ${Oe} = unpack_mix_${Ye}(a_${Oe}, u_${Oe}_t);
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:ie==="define"?`
#ifndef HAS_UNIFORM_u_${Oe}
uniform lowp float u_${Oe}_t;
attribute ${de} ${qe} a_${Oe};
#else
uniform ${de} ${fe} u_${Oe};
#endif
`:Ye==="vec4"?`
#ifndef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = a_${Oe};
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Oe}
    ${de} ${fe} ${Oe} = unpack_mix_${Ye}(a_${Oe}, u_${Oe}_t);
#else
    ${de} ${fe} ${Oe} = u_${Oe};
#endif
`}),staticAttributes:C,staticUniforms:R}}class Ga{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,p,C,w,k,R,j,$,ie){this.context=u;let de=this.boundPaintVertexBuffers.length!==w.length;for(let fe=0;!de&&fe<w.length;fe++)this.boundPaintVertexBuffers[fe]!==w[fe]&&(de=!0);!this.vao||this.boundProgram!==p||this.boundLayoutVertexBuffer!==C||de||this.boundIndexBuffer!==k||this.boundVertexOffset!==R||this.boundDynamicVertexBuffer!==j||this.boundDynamicVertexBuffer2!==$||this.boundDynamicVertexBuffer3!==ie?this.freshBind(p,C,w,k,R,j,$,ie):(u.bindVertexArray.set(this.vao),j&&j.bind(),k&&k.dynamicDraw&&k.bind(),$&&$.bind(),ie&&ie.bind())}freshBind(u,p,C,w,k,R,j,$){const ie=u.numAttributes,de=this.context,fe=de.gl;this.vao&&this.destroy(),this.vao=de.createVertexArray(),de.bindVertexArray.set(this.vao),this.boundProgram=u,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=C,this.boundIndexBuffer=w,this.boundVertexOffset=k,this.boundDynamicVertexBuffer=R,this.boundDynamicVertexBuffer2=j,this.boundDynamicVertexBuffer3=$,p.enableAttributes(fe,u);for(const Oe of C)Oe.enableAttributes(fe,u);R&&R.enableAttributes(fe,u),j&&j.enableAttributes(fe,u),$&&$.enableAttributes(fe,u),p.bind(),p.setVertexAttribPointers(fe,u,k);for(const Oe of C)Oe.bind(),Oe.setVertexAttribPointers(fe,u,k);R&&(R.bind(),R.setVertexAttribPointers(fe,u,k)),w&&w.bind(),j&&(j.bind(),j.setVertexAttribPointers(fe,u,k)),$&&($.bind(),$.setVertexAttribPointers(fe,u,k)),de.currentNumAttributes=ie}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Xo(I){const u=[];for(let p=0;p<I.length;p++){if(I[p]===null)continue;const C=I[p].split(" ");u.push(C.pop())}return u}class bu{constructor(u,p,C,w,k,R){const j=u.gl;this.program=j.createProgram();const $=Xo(p.staticAttributes),ie=C?C.getBinderAttributes():[],de=$.concat(ie),fe=Na.prelude.staticUniforms?Xo(Na.prelude.staticUniforms):[],Oe=p.staticUniforms?Xo(p.staticUniforms):[],qe=C?C.getBinderUniforms():[],Ye=fe.concat(Oe).concat(qe),Ze=[];for(const Ut of Ye)Ze.indexOf(Ut)<0&&Ze.push(Ut);const We=C?C.defines():[];k&&We.push("#define OVERDRAW_INSPECTOR;"),R&&We.push("#define TERRAIN3D;");const ht=We.concat(Na.prelude.fragmentSource,p.fragmentSource).join(`
`),Dt=We.concat(Na.prelude.vertexSource,p.vertexSource).join(`
`),tt=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(tt,ht),j.compileShader(tt),!j.getShaderParameter(tt,j.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${j.getShaderInfoLog(tt)}`);j.attachShader(this.program,tt);const bt=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);if(j.shaderSource(bt,Dt),j.compileShader(bt),!j.getShaderParameter(bt,j.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${j.getShaderInfoLog(bt)}`);j.attachShader(this.program,bt),this.attributes={};const Kt={};this.numAttributes=de.length;for(let Ut=0;Ut<this.numAttributes;Ut++)de[Ut]&&(j.bindAttribLocation(this.program,Ut,de[Ut]),this.attributes[de[Ut]]=Ut);if(j.linkProgram(this.program),!j.getProgramParameter(this.program,j.LINK_STATUS))throw new Error(`Program failed to link: ${j.getProgramInfoLog(this.program)}`);j.deleteShader(bt),j.deleteShader(tt);for(let Ut=0;Ut<Ze.length;Ut++){const Xt=Ze[Ut];if(Xt&&!Kt[Xt]){const dn=j.getUniformLocation(this.program,Xt);dn&&(Kt[Xt]=dn)}}this.fixedUniforms=w(u,Kt),this.terrainUniforms=((Ut,Xt)=>({u_depth:new s.aG(Ut,Xt.u_depth),u_terrain:new s.aG(Ut,Xt.u_terrain),u_terrain_dim:new s.aH(Ut,Xt.u_terrain_dim),u_terrain_matrix:new s.aI(Ut,Xt.u_terrain_matrix),u_terrain_unpack:new s.aJ(Ut,Xt.u_terrain_unpack),u_terrain_exaggeration:new s.aH(Ut,Xt.u_terrain_exaggeration)}))(u,Kt),this.binderUniforms=C?C.getUniforms(u,Kt):[]}draw(u,p,C,w,k,R,j,$,ie,de,fe,Oe,qe,Ye,Ze,We,ht,Dt){const tt=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(C),u.setStencilMode(w),u.setColorMode(k),u.setCullFace(R),$){u.activeTexture.set(tt.TEXTURE2),tt.bindTexture(tt.TEXTURE_2D,$.depthTexture),u.activeTexture.set(tt.TEXTURE3),tt.bindTexture(tt.TEXTURE_2D,$.texture);for(const Kt in this.terrainUniforms)this.terrainUniforms[Kt].set($[Kt])}for(const Kt in this.fixedUniforms)this.fixedUniforms[Kt].set(j[Kt]);Ze&&Ze.setUniforms(u,this.binderUniforms,qe,{zoom:Ye});let bt=0;switch(p){case tt.LINES:bt=2;break;case tt.TRIANGLES:bt=3;break;case tt.LINE_STRIP:bt=1}for(const Kt of Oe.get()){const Ut=Kt.vaos||(Kt.vaos={});(Ut[ie]||(Ut[ie]=new Ga)).bind(u,this,de,Ze?Ze.getPaintVertexBuffers():[],fe,Kt.vertexOffset,We,ht,Dt),tt.drawElements(p,Kt.primitiveLength*bt,tt.UNSIGNED_SHORT,Kt.primitiveOffset*bt*2)}}}function as(I,u,p){const C=1/lr(p,1,u.transform.tileZoom),w=Math.pow(2,p.tileID.overscaledZ),k=p.tileSize*Math.pow(2,u.transform.tileZoom)/w,R=k*(p.tileID.canonical.x+p.tileID.wrap*w),j=k*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[C,I.fromScale,I.toScale],u_fade:I.t,u_pixel_coord_upper:[R>>16,j>>16],u_pixel_coord_lower:[65535&R,65535&j]}}const Jo=(I,u,p,C)=>{const w=u.style.light,k=w.properties.get("position"),R=[k.x,k.y,k.z],j=function(){var ie=new s.A(9);return s.A!=Float32Array&&(ie[1]=0,ie[2]=0,ie[3]=0,ie[5]=0,ie[6]=0,ie[7]=0),ie[0]=1,ie[4]=1,ie[8]=1,ie}();w.properties.get("anchor")==="viewport"&&function(ie,de){var fe=Math.sin(de),Oe=Math.cos(de);ie[0]=Oe,ie[1]=fe,ie[2]=0,ie[3]=-fe,ie[4]=Oe,ie[5]=0,ie[6]=0,ie[7]=0,ie[8]=1}(j,-u.transform.angle),function(ie,de,fe){var Oe=de[0],qe=de[1],Ye=de[2];ie[0]=Oe*fe[0]+qe*fe[3]+Ye*fe[6],ie[1]=Oe*fe[1]+qe*fe[4]+Ye*fe[7],ie[2]=Oe*fe[2]+qe*fe[5]+Ye*fe[8]}(R,R,j);const $=w.properties.get("color");return{u_matrix:I,u_lightpos:R,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[$.r,$.g,$.b],u_vertical_gradient:+p,u_opacity:C}},ea=(I,u,p,C,w,k,R)=>s.e(Jo(I,u,p,C),as(k,u,R),{u_height_factor:-Math.pow(2,w.overscaledZ)/R.tileSize/8}),bs=I=>({u_matrix:I}),xu=(I,u,p,C)=>s.e(bs(I),as(p,u,C)),pa=(I,u)=>({u_matrix:I,u_world:u}),vA=(I,u,p,C,w)=>s.e(xu(I,u,p,C),{u_world:w}),ju=(I,u,p,C)=>{const w=I.transform;let k,R;if(C.paint.get("circle-pitch-alignment")==="map"){const j=lr(p,1,w.zoom);k=!0,R=[j,j]}else k=!1,R=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+(C.paint.get("circle-pitch-scale")==="map"),u_matrix:I.translatePosMatrix(u.posMatrix,p,C.paint.get("circle-translate"),C.paint.get("circle-translate-anchor")),u_pitch_with_map:+k,u_device_pixel_ratio:I.pixelRatio,u_extrude_scale:R}},_A=(I,u,p)=>{const C=lr(p,1,u.zoom),w=Math.pow(2,u.zoom-p.tileID.overscaledZ),k=p.tileID.overscaleFactor();return{u_matrix:I,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:C,u_extrude_scale:[u.pixelsToGLUnits[0]/(C*w),u.pixelsToGLUnits[1]/(C*w)],u_overscale_factor:k}},wu=(I,u,p=1)=>({u_matrix:I,u_color:u,u_overlay:0,u_overlay_scale:p}),Wu=I=>({u_matrix:I}),jo=(I,u,p,C)=>({u_matrix:I,u_extrude_scale:lr(u,1,p),u_intensity:C});function xs(I,u){const p=Math.pow(2,u.canonical.z),C=u.canonical.y;return[new s.Y(0,C/p).toLngLat().lat,new s.Y(0,(C+1)/p).toLngLat().lat]}const eu=(I,u,p,C)=>{const w=I.transform;return{u_matrix:ul(I,u,p,C),u_ratio:1/lr(u,1,w.zoom),u_device_pixel_ratio:I.pixelRatio,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},ss=(I,u,p,C,w)=>s.e(eu(I,u,p,w),{u_image:0,u_image_height:C}),ll=(I,u,p,C,w)=>{const k=I.transform,R=Mu(u,k);return{u_matrix:ul(I,u,p,w),u_texsize:u.imageAtlasTexture.size,u_ratio:1/lr(u,1,k.zoom),u_device_pixel_ratio:I.pixelRatio,u_image:0,u_scale:[R,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},Wo=(I,u,p,C,w,k)=>{const R=I.lineAtlas,j=Mu(u,I.transform),$=p.layout.get("line-cap")==="round",ie=R.getDash(C.from,$),de=R.getDash(C.to,$),fe=ie.width*w.fromScale,Oe=de.width*w.toScale;return s.e(eu(I,u,p,k),{u_patternscale_a:[j/fe,-ie.height/2],u_patternscale_b:[j/Oe,-de.height/2],u_sdfgamma:R.width/(256*Math.min(fe,Oe)*I.pixelRatio)/2,u_image:0,u_tex_y_a:ie.y,u_tex_y_b:de.y,u_mix:w.t})};function Mu(I,u){return 1/lr(I,1,u.tileZoom)}function ul(I,u,p,C){return I.translatePosMatrix(C?C.posMatrix:u.tileID.posMatrix,u,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const xl=(I,u,p,C,w)=>{return{u_matrix:I,u_tl_parent:u,u_scale_parent:p,u_buffer_scale:1,u_fade_t:C.mix,u_opacity:C.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(R=w.paint.get("raster-saturation"),R>0?1-1/(1.001-R):-R),u_contrast_factor:(k=w.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:tu(w.paint.get("raster-hue-rotate"))};var k,R};function tu(I){I*=Math.PI/180;const u=Math.sin(I),p=Math.cos(I);return[(2*p+1)/3,(-Math.sqrt(3)*u-p+1)/3,(Math.sqrt(3)*u-p+1)/3]}const sa=(I,u,p,C,w,k,R,j,$,ie)=>{const de=w.transform;return{u_is_size_zoom_constant:+(I==="constant"||I==="source"),u_is_size_feature_constant:+(I==="constant"||I==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:de.cameraToCenterDistance,u_pitch:de.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:de.width/de.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:R,u_coord_matrix:j,u_is_text:+$,u_pitch_with_map:+C,u_texsize:ie,u_texture:0}},Al=(I,u,p,C,w,k,R,j,$,ie,de)=>{const fe=w.transform;return s.e(sa(I,u,p,C,w,k,R,j,$,ie),{u_gamma_scale:C?Math.cos(fe._pitch)*fe.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:+de})},CA=(I,u,p,C,w,k,R,j,$,ie)=>s.e(Al(I,u,p,C,w,k,R,j,!0,$,!0),{u_texsize_icon:ie,u_texture_icon:1}),vo=(I,u,p)=>({u_matrix:I,u_opacity:u,u_color:p}),io=(I,u,p,C,w,k)=>s.e(function(R,j,$,ie){const de=$.imageManager.getPattern(R.from.toString()),fe=$.imageManager.getPattern(R.to.toString()),{width:Oe,height:qe}=$.imageManager.getPixelSize(),Ye=Math.pow(2,ie.tileID.overscaledZ),Ze=ie.tileSize*Math.pow(2,$.transform.tileZoom)/Ye,We=Ze*(ie.tileID.canonical.x+ie.tileID.wrap*Ye),ht=Ze*ie.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:fe.tl,u_pattern_br_b:fe.br,u_texsize:[Oe,qe],u_mix:j.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:fe.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/lr(ie,1,$.transform.tileZoom),u_pixel_coord_upper:[We>>16,ht>>16],u_pixel_coord_lower:[65535&We,65535&ht]}}(C,k,p,w),{u_matrix:I,u_opacity:u}),z={fillExtrusion:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_lightpos:new s.aK(I,u.u_lightpos),u_lightintensity:new s.aH(I,u.u_lightintensity),u_lightcolor:new s.aK(I,u.u_lightcolor),u_vertical_gradient:new s.aH(I,u.u_vertical_gradient),u_opacity:new s.aH(I,u.u_opacity)}),fillExtrusionPattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_lightpos:new s.aK(I,u.u_lightpos),u_lightintensity:new s.aH(I,u.u_lightintensity),u_lightcolor:new s.aK(I,u.u_lightcolor),u_vertical_gradient:new s.aH(I,u.u_vertical_gradient),u_height_factor:new s.aH(I,u.u_height_factor),u_image:new s.aG(I,u.u_image),u_texsize:new s.aL(I,u.u_texsize),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade),u_opacity:new s.aH(I,u.u_opacity)}),fill:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix)}),fillPattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_image:new s.aG(I,u.u_image),u_texsize:new s.aL(I,u.u_texsize),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade)}),fillOutline:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_world:new s.aL(I,u.u_world)}),fillOutlinePattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_world:new s.aL(I,u.u_world),u_image:new s.aG(I,u.u_image),u_texsize:new s.aL(I,u.u_texsize),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade)}),circle:(I,u)=>({u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_scale_with_map:new s.aG(I,u.u_scale_with_map),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_extrude_scale:new s.aL(I,u.u_extrude_scale),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_matrix:new s.aI(I,u.u_matrix)}),collisionBox:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pixels_to_tile_units:new s.aH(I,u.u_pixels_to_tile_units),u_extrude_scale:new s.aL(I,u.u_extrude_scale),u_overscale_factor:new s.aH(I,u.u_overscale_factor)}),collisionCircle:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_inv_matrix:new s.aI(I,u.u_inv_matrix),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_viewport_size:new s.aL(I,u.u_viewport_size)}),debug:(I,u)=>({u_color:new s.aM(I,u.u_color),u_matrix:new s.aI(I,u.u_matrix),u_overlay:new s.aG(I,u.u_overlay),u_overlay_scale:new s.aH(I,u.u_overlay_scale)}),clippingMask:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix)}),heatmap:(I,u)=>({u_extrude_scale:new s.aH(I,u.u_extrude_scale),u_intensity:new s.aH(I,u.u_intensity),u_matrix:new s.aI(I,u.u_matrix)}),heatmapTexture:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_world:new s.aL(I,u.u_world),u_image:new s.aG(I,u.u_image),u_color_ramp:new s.aG(I,u.u_color_ramp),u_opacity:new s.aH(I,u.u_opacity)}),hillshade:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_image:new s.aG(I,u.u_image),u_latrange:new s.aL(I,u.u_latrange),u_light:new s.aL(I,u.u_light),u_shadow:new s.aM(I,u.u_shadow),u_highlight:new s.aM(I,u.u_highlight),u_accent:new s.aM(I,u.u_accent)}),hillshadePrepare:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_image:new s.aG(I,u.u_image),u_dimension:new s.aL(I,u.u_dimension),u_zoom:new s.aH(I,u.u_zoom),u_unpack:new s.aJ(I,u.u_unpack)}),line:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels)}),lineGradient:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels),u_image:new s.aG(I,u.u_image),u_image_height:new s.aH(I,u.u_image_height)}),linePattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_texsize:new s.aL(I,u.u_texsize),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_image:new s.aG(I,u.u_image),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels),u_scale:new s.aK(I,u.u_scale),u_fade:new s.aH(I,u.u_fade)}),lineSDF:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ratio:new s.aH(I,u.u_ratio),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_units_to_pixels:new s.aL(I,u.u_units_to_pixels),u_patternscale_a:new s.aL(I,u.u_patternscale_a),u_patternscale_b:new s.aL(I,u.u_patternscale_b),u_sdfgamma:new s.aH(I,u.u_sdfgamma),u_image:new s.aG(I,u.u_image),u_tex_y_a:new s.aH(I,u.u_tex_y_a),u_tex_y_b:new s.aH(I,u.u_tex_y_b),u_mix:new s.aH(I,u.u_mix)}),raster:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_tl_parent:new s.aL(I,u.u_tl_parent),u_scale_parent:new s.aH(I,u.u_scale_parent),u_buffer_scale:new s.aH(I,u.u_buffer_scale),u_fade_t:new s.aH(I,u.u_fade_t),u_opacity:new s.aH(I,u.u_opacity),u_image0:new s.aG(I,u.u_image0),u_image1:new s.aG(I,u.u_image1),u_brightness_low:new s.aH(I,u.u_brightness_low),u_brightness_high:new s.aH(I,u.u_brightness_high),u_saturation_factor:new s.aH(I,u.u_saturation_factor),u_contrast_factor:new s.aH(I,u.u_contrast_factor),u_spin_weights:new s.aK(I,u.u_spin_weights)}),symbolIcon:(I,u)=>({u_is_size_zoom_constant:new s.aG(I,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(I,u.u_is_size_feature_constant),u_size_t:new s.aH(I,u.u_size_t),u_size:new s.aH(I,u.u_size),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pitch:new s.aH(I,u.u_pitch),u_rotate_symbol:new s.aG(I,u.u_rotate_symbol),u_aspect_ratio:new s.aH(I,u.u_aspect_ratio),u_fade_change:new s.aH(I,u.u_fade_change),u_matrix:new s.aI(I,u.u_matrix),u_label_plane_matrix:new s.aI(I,u.u_label_plane_matrix),u_coord_matrix:new s.aI(I,u.u_coord_matrix),u_is_text:new s.aG(I,u.u_is_text),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_texsize:new s.aL(I,u.u_texsize),u_texture:new s.aG(I,u.u_texture)}),symbolSDF:(I,u)=>({u_is_size_zoom_constant:new s.aG(I,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(I,u.u_is_size_feature_constant),u_size_t:new s.aH(I,u.u_size_t),u_size:new s.aH(I,u.u_size),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pitch:new s.aH(I,u.u_pitch),u_rotate_symbol:new s.aG(I,u.u_rotate_symbol),u_aspect_ratio:new s.aH(I,u.u_aspect_ratio),u_fade_change:new s.aH(I,u.u_fade_change),u_matrix:new s.aI(I,u.u_matrix),u_label_plane_matrix:new s.aI(I,u.u_label_plane_matrix),u_coord_matrix:new s.aI(I,u.u_coord_matrix),u_is_text:new s.aG(I,u.u_is_text),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_texsize:new s.aL(I,u.u_texsize),u_texture:new s.aG(I,u.u_texture),u_gamma_scale:new s.aH(I,u.u_gamma_scale),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_is_halo:new s.aG(I,u.u_is_halo)}),symbolTextAndIcon:(I,u)=>({u_is_size_zoom_constant:new s.aG(I,u.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aG(I,u.u_is_size_feature_constant),u_size_t:new s.aH(I,u.u_size_t),u_size:new s.aH(I,u.u_size),u_camera_to_center_distance:new s.aH(I,u.u_camera_to_center_distance),u_pitch:new s.aH(I,u.u_pitch),u_rotate_symbol:new s.aG(I,u.u_rotate_symbol),u_aspect_ratio:new s.aH(I,u.u_aspect_ratio),u_fade_change:new s.aH(I,u.u_fade_change),u_matrix:new s.aI(I,u.u_matrix),u_label_plane_matrix:new s.aI(I,u.u_label_plane_matrix),u_coord_matrix:new s.aI(I,u.u_coord_matrix),u_is_text:new s.aG(I,u.u_is_text),u_pitch_with_map:new s.aG(I,u.u_pitch_with_map),u_texsize:new s.aL(I,u.u_texsize),u_texsize_icon:new s.aL(I,u.u_texsize_icon),u_texture:new s.aG(I,u.u_texture),u_texture_icon:new s.aG(I,u.u_texture_icon),u_gamma_scale:new s.aH(I,u.u_gamma_scale),u_device_pixel_ratio:new s.aH(I,u.u_device_pixel_ratio),u_is_halo:new s.aG(I,u.u_is_halo)}),background:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_opacity:new s.aH(I,u.u_opacity),u_color:new s.aM(I,u.u_color)}),backgroundPattern:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_opacity:new s.aH(I,u.u_opacity),u_image:new s.aG(I,u.u_image),u_pattern_tl_a:new s.aL(I,u.u_pattern_tl_a),u_pattern_br_a:new s.aL(I,u.u_pattern_br_a),u_pattern_tl_b:new s.aL(I,u.u_pattern_tl_b),u_pattern_br_b:new s.aL(I,u.u_pattern_br_b),u_texsize:new s.aL(I,u.u_texsize),u_mix:new s.aH(I,u.u_mix),u_pattern_size_a:new s.aL(I,u.u_pattern_size_a),u_pattern_size_b:new s.aL(I,u.u_pattern_size_b),u_scale_a:new s.aH(I,u.u_scale_a),u_scale_b:new s.aH(I,u.u_scale_b),u_pixel_coord_upper:new s.aL(I,u.u_pixel_coord_upper),u_pixel_coord_lower:new s.aL(I,u.u_pixel_coord_lower),u_tile_units_to_pixels:new s.aH(I,u.u_tile_units_to_pixels)}),terrain:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_texture:new s.aG(I,u.u_texture),u_ele_delta:new s.aH(I,u.u_ele_delta)}),terrainDepth:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_ele_delta:new s.aH(I,u.u_ele_delta)}),terrainCoords:(I,u)=>({u_matrix:new s.aI(I,u.u_matrix),u_texture:new s.aG(I,u.u_texture),u_terrain_coords_id:new s.aH(I,u.u_terrain_coords_id),u_ele_delta:new s.aH(I,u.u_ele_delta)})};class ae{constructor(u,p,C){this.context=u;const w=u.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!C,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ue={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class gt{constructor(u,p,C,w){this.length=p.length,this.attributes=C,this.itemSize=p.bytesPerElement,this.dynamicDraw=w,this.context=u;const k=u.gl;this.buffer=k.createBuffer(),u.bindVertexBuffer.set(this.buffer),k.bufferData(k.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,p){for(let C=0;C<this.attributes.length;C++){const w=p.attributes[this.attributes[C].name];w!==void 0&&u.enableVertexAttribArray(w)}}setVertexAttribPointers(u,p,C){for(let w=0;w<this.attributes.length;w++){const k=this.attributes[w],R=p.attributes[k.name];R!==void 0&&u.vertexAttribPointer(R,k.components,u[Ue[k.type]],!1,this.itemSize,k.offset+this.itemSize*(C||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Wn=new WeakMap;function vn(I){var u;if(Wn.has(I))return Wn.get(I);{const p=(u=I.getParameter(I.VERSION))===null||u===void 0?void 0:u.startsWith("WebGL 2.0");return Wn.set(I,p),p}}class Pn{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ur extends Pn{getDefault(){return s.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class yr extends Pn{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class kr extends Pn{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class Ii extends Pn{getDefault(){return[!0,!0,!0,!0]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class po extends Pn{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class Si extends Pn{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class Zr extends Pn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const p=this.current;(u.func!==p.func||u.ref!==p.ref||u.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Hi extends Pn{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class Bo extends Pn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=u,this.dirty=!1}}class xo extends Pn{getDefault(){return[0,1]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class $a extends Pn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=u,this.dirty=!1}}class Dl extends Pn{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class nu extends Pn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.BLEND):p.disable(p.BLEND),this.current=u,this.dirty=!1}}class ma extends Pn{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class _0 extends Pn{getDefault(){return s.aO.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class ru extends Pn{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class Rh extends Pn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=u,this.dirty=!1}}class sd extends Pn{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class Nu extends Pn{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class ld extends Pn{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class $A extends Pn{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class ta extends Pn{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Gu extends Pn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class qd extends Pn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class QA extends Pn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class Bc extends Pn{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class Su extends Pn{getDefault(){return null}set(u){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class ud extends Pn{getDefault(){return null}set(u){var p;if(u===this.current&&!this.dirty)return;const C=this.gl;vn(C)?C.bindVertexArray(u):(p=C.getExtension("OES_vertex_array_object"))===null||p===void 0||p.bindVertexArrayOES(u),this.current=u,this.dirty=!1}}class tm extends Pn{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class zh extends Pn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class ki extends Pn{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class Io extends Pn{constructor(u,p){super(u),this.context=u,this.parent=p}getDefault(){return null}}class C0 extends Io{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class jh extends Io{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class $u extends Io{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_STENCIL_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Zf{constructor(u,p,C,w,k){this.context=u,this.width=p,this.height=C;const R=u.gl,j=this.framebuffer=R.createFramebuffer();if(this.colorAttachment=new C0(u,j),w)this.depthAttachment=k?new $u(u,j):new jh(u,j);else if(k)throw new Error("Stencil cannot be set without depth");if(R.checkFramebufferStatus(R.FRAMEBUFFER)!==R.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,p=this.colorAttachment.get();if(p&&u.deleteTexture(p),this.depthAttachment){const C=this.depthAttachment.get();C&&u.deleteRenderbuffer(C)}u.deleteFramebuffer(this.framebuffer)}}class la{constructor(u,p,C){this.blendFunction=u,this.blendColor=p,this.mask=C}}la.Replace=[1,0],la.disabled=new la(la.Replace,s.aO.transparent,[!1,!1,!1,!1]),la.unblended=new la(la.Replace,s.aO.transparent,[!0,!0,!0,!0]),la.alphaBlended=new la([1,771],s.aO.transparent,[!0,!0,!0,!0]);class Xf{constructor(u){var p,C;if(this.gl=u,this.clearColor=new Ur(this),this.clearDepth=new yr(this),this.clearStencil=new kr(this),this.colorMask=new Ii(this),this.depthMask=new po(this),this.stencilMask=new Si(this),this.stencilFunc=new Zr(this),this.stencilOp=new Hi(this),this.stencilTest=new Bo(this),this.depthRange=new xo(this),this.depthTest=new $a(this),this.depthFunc=new Dl(this),this.blend=new nu(this),this.blendFunc=new ma(this),this.blendColor=new _0(this),this.blendEquation=new ru(this),this.cullFace=new Rh(this),this.cullFaceSide=new sd(this),this.frontFace=new Nu(this),this.program=new ld(this),this.activeTexture=new $A(this),this.viewport=new ta(this),this.bindFramebuffer=new Gu(this),this.bindRenderbuffer=new qd(this),this.bindTexture=new QA(this),this.bindVertexBuffer=new Bc(this),this.bindElementBuffer=new Su(this),this.bindVertexArray=new ud(this),this.pixelStoreUnpack=new tm(this),this.pixelStoreUnpackPremultiplyAlpha=new zh(this),this.pixelStoreUnpackFlipY=new ki(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),vn(u)){this.HALF_FLOAT=u.HALF_FLOAT;const w=u.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(p=u.RGBA16F)!==null&&p!==void 0?p:w==null?void 0:w.RGBA16F_EXT,this.RGB16F=(C=u.RGB16F)!==null&&C!==void 0?C:w==null?void 0:w.RGB16F_EXT,u.getExtension("EXT_color_buffer_float")}else{u.getExtension("EXT_color_buffer_half_float"),u.getExtension("OES_texture_half_float_linear");const w=u.getExtension("OES_texture_half_float");this.HALF_FLOAT=w==null?void 0:w.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,p){return new ae(this,u,p)}createVertexBuffer(u,p,C){return new gt(this,u,p,C)}createRenderbuffer(u,p,C){const w=this.gl,k=w.createRenderbuffer();return this.bindRenderbuffer.set(k),w.renderbufferStorage(w.RENDERBUFFER,u,p,C),this.bindRenderbuffer.set(null),k}createFramebuffer(u,p,C,w){return new Zf(this,u,p,C,w)}clear({color:u,depth:p,stencil:C}){const w=this.gl;let k=0;u&&(k|=w.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(k|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),C!==void 0&&(k|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(C),this.stencilMask.set(255)),w.clear(k)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){s.aD(u.blendFunction,la.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}createVertexArray(){var u;return vn(this.gl)?this.gl.createVertexArray():(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.createVertexArrayOES()}deleteVertexArray(u){var p;return vn(this.gl)?this.gl.deleteVertexArray(u):(p=this.gl.getExtension("OES_vertex_array_object"))===null||p===void 0?void 0:p.deleteVertexArrayOES(u)}unbindVAO(){this.bindVertexArray.set(null)}}class Wi{constructor(u,p,C){this.func=u,this.mask=p,this.range=C}}Wi.ReadOnly=!1,Wi.ReadWrite=!0,Wi.disabled=new Wi(519,Wi.ReadOnly,[0,1]);const YA=7680;class ko{constructor(u,p,C,w,k,R){this.test=u,this.ref=p,this.mask=C,this.fail=w,this.depthFail=k,this.pass=R}}ko.disabled=new ko({func:519,mask:0},0,0,YA,YA,YA);class Fo{constructor(u,p,C){this.enable=u,this.mode=p,this.frontFace=C}}let qA;function Us(I,u,p,C,w,k,R){const j=I.context,$=j.gl,ie=I.useProgram("collisionBox"),de=[];let fe=0,Oe=0;for(let tt=0;tt<C.length;tt++){const bt=C[tt],Kt=u.getTile(bt),Ut=Kt.getBucket(p);if(!Ut)continue;let Xt=bt.posMatrix;w[0]===0&&w[1]===0||(Xt=I.translatePosMatrix(bt.posMatrix,Kt,w,k));const dn=R?Ut.textCollisionBox:Ut.iconCollisionBox,un=Ut.collisionCircleArray;if(un.length>0){const pn=s.F(),$n=Xt;s.aP(pn,Ut.placementInvProjMatrix,I.transform.glCoordMatrix),s.aP(pn,pn,Ut.placementViewportMatrix),de.push({circleArray:un,circleOffset:Oe,transform:$n,invTransform:pn,coord:bt}),fe+=un.length/4,Oe=fe}dn&&ie.draw(j,$.LINES,Wi.disabled,ko.disabled,I.colorModeForRenderPass(),Fo.disabled,_A(Xt,I.transform,Kt),I.style.map.terrain&&I.style.map.terrain.getTerrainData(bt),p.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,I.transform.zoom,null,null,dn.collisionVertexBuffer)}if(!R||!de.length)return;const qe=I.useProgram("collisionCircle"),Ye=new s.aQ;Ye.resize(4*fe),Ye._trim();let Ze=0;for(const tt of de)for(let bt=0;bt<tt.circleArray.length/4;bt++){const Kt=4*bt,Ut=tt.circleArray[Kt+0],Xt=tt.circleArray[Kt+1],dn=tt.circleArray[Kt+2],un=tt.circleArray[Kt+3];Ye.emplace(Ze++,Ut,Xt,dn,un,0),Ye.emplace(Ze++,Ut,Xt,dn,un,1),Ye.emplace(Ze++,Ut,Xt,dn,un,2),Ye.emplace(Ze++,Ut,Xt,dn,un,3)}(!qA||qA.length<2*fe)&&(qA=function(tt){const bt=2*tt,Kt=new s.aS;Kt.resize(bt),Kt._trim();for(let Ut=0;Ut<bt;Ut++){const Xt=6*Ut;Kt.uint16[Xt+0]=4*Ut+0,Kt.uint16[Xt+1]=4*Ut+1,Kt.uint16[Xt+2]=4*Ut+2,Kt.uint16[Xt+3]=4*Ut+2,Kt.uint16[Xt+4]=4*Ut+3,Kt.uint16[Xt+5]=4*Ut+0}return Kt}(fe));const We=j.createIndexBuffer(qA,!0),ht=j.createVertexBuffer(Ye,s.aR.members,!0);for(const tt of de){const bt={u_matrix:tt.transform,u_inv_matrix:tt.invTransform,u_camera_to_center_distance:(Dt=I.transform).cameraToCenterDistance,u_viewport_size:[Dt.width,Dt.height]};qe.draw(j,$.TRIANGLES,Wi.disabled,ko.disabled,I.colorModeForRenderPass(),Fo.disabled,bt,I.style.map.terrain&&I.style.map.terrain.getTerrainData(tt.coord),p.id,ht,We,s.$.simpleSegment(0,2*tt.circleOffset,tt.circleArray.length,tt.circleArray.length/2),null,I.transform.zoom,null,null,null)}var Dt;ht.destroy(),We.destroy()}Fo.disabled=new Fo(!1,1029,2305),Fo.backCCW=new Fo(!0,1029,2305);const Wh=s.an(new Float32Array(16));function iu(I,u,p,C,w,k){const{horizontalAlign:R,verticalAlign:j}=s.at(I);return new s.P((-(R-.5)*u/w+C[0])*k,(-(j-.5)*p/w+C[1])*k)}function Fl(I,u,p,C,w,k,R,j,$,ie,de){const fe=I.text.placedSymbolArray,Oe=I.text.dynamicLayoutVertexArray,qe=I.icon.dynamicLayoutVertexArray,Ye={};Oe.clear();for(let Ze=0;Ze<fe.length;Ze++){const We=fe.get(Ze),ht=We.hidden||!We.crossTileID||I.allowVerticalPlacement&&!We.placedOrientation?null:C[We.crossTileID];if(ht){const Dt=new s.P(We.anchorX,We.anchorY),tt=Ke(Dt,p?R:k,de),bt=ce(w.cameraToCenterDistance,tt.signedDistanceFromCamera);let Kt=s.ai(I.textSizeData,$,We)*bt/s.ao;p&&(Kt*=I.tilePixelRatio/j);const{width:Ut,height:Xt,anchor:dn,textOffset:un,textBoxScale:pn}=ht,$n=iu(dn,Ut,Xt,un,pn,Kt),qr=p?Ke(Dt.add($n),k,de).point:tt.point.add(u?$n.rotate(-w.angle):$n),In=I.allowVerticalPlacement&&We.placedOrientation===s.ah.vertical?Math.PI/2:0;for(let vr=0;vr<We.numGlyphs;vr++)s.aj(Oe,qr,In);ie&&We.associatedIconIndex>=0&&(Ye[We.associatedIconIndex]={shiftedAnchor:qr,angle:In})}else Dn(We.numGlyphs,Oe)}if(ie){qe.clear();const Ze=I.icon.placedSymbolArray;for(let We=0;We<Ze.length;We++){const ht=Ze.get(We);if(ht.hidden)Dn(ht.numGlyphs,qe);else{const Dt=Ye[We];if(Dt)for(let tt=0;tt<ht.numGlyphs;tt++)s.aj(qe,Dt.shiftedAnchor,Dt.angle);else Dn(ht.numGlyphs,qe)}}I.icon.dynamicLayoutVertexBuffer.updateData(qe)}I.text.dynamicLayoutVertexBuffer.updateData(Oe)}function Ic(I,u,p){return p.iconsInText&&u?"symbolTextAndIcon":I?"symbolSDF":"symbolIcon"}function Nh(I,u,p,C,w,k,R,j,$,ie,de,fe){const Oe=I.context,qe=Oe.gl,Ye=I.transform,Ze=j==="map",We=$==="map",ht=j!=="viewport"&&p.layout.get("symbol-placement")!=="point",Dt=Ze&&!We&&!ht,tt=!p.layout.get("symbol-sort-key").isConstant();let bt=!1;const Kt=I.depthModeForSublayer(0,Wi.ReadOnly),Ut=p._unevaluatedLayout.hasValue("text-variable-anchor")||p._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Xt=[];for(const dn of C){const un=u.getTile(dn),pn=un.getBucket(p);if(!pn)continue;const $n=w?pn.text:pn.icon;if(!$n||!$n.segments.get().length||!$n.hasVisibleVertices)continue;const qr=$n.programConfigurations.get(p.id),In=w||pn.sdfIcons,vr=w?pn.textSizeData:pn.iconSizeData,di=We||Ye.pitch!==0,Ti=I.useProgram(Ic(In,w,pn),qr),Hr=s.ag(vr,Ye.zoom),ei=I.style.map.terrain&&I.style.map.terrain.getTerrainData(dn);let Nr,qo,Lo,Rs,Da=[0,0],mo=null;if(w)qo=un.glyphAtlasTexture,Lo=qe.LINEAR,Nr=un.glyphAtlasTexture.size,pn.iconsInText&&(Da=un.imageAtlasTexture.size,mo=un.imageAtlasTexture,Rs=di||I.options.rotating||I.options.zooming||vr.kind==="composite"||vr.kind==="camera"?qe.LINEAR:qe.NEAREST);else{const Ho=p.layout.get("icon-size").constantOr(0)!==1||pn.iconsNeedLinear;qo=un.imageAtlasTexture,Lo=In||I.options.rotating||I.options.zooming||Ho||di?qe.LINEAR:qe.NEAREST,Nr=un.imageAtlasTexture.size}const so=lr(un,1,I.transform.zoom),Xs=Kr(dn.posMatrix,We,Ze,I.transform,so),lu=tr(dn.posMatrix,We,Ze,I.transform,so),Ms=Ut&&pn.hasTextData(),nA=p.layout.get("icon-text-fit")!=="none"&&Ms&&pn.hasIconData();if(ht){const Ho=I.style.map.terrain?(Es,Pi)=>I.style.map.terrain.getElevation(dn,Es,Pi):null,_a=p.layout.get("text-rotation-alignment")==="map";Ie(pn,dn.posMatrix,I,w,Xs,lu,We,ie,_a,Ho)}const Wl=I.translatePosMatrix(dn.posMatrix,un,k,R),Ss=ht||w&&Ut||nA?Wh:Xs,Ri=I.translatePosMatrix(lu,un,k,R,!0),Ei=In&&p.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let na;na=In?pn.iconsInText?CA(vr.kind,Hr,Dt,We,I,Wl,Ss,Ri,Nr,Da):Al(vr.kind,Hr,Dt,We,I,Wl,Ss,Ri,w,Nr,!0):sa(vr.kind,Hr,Dt,We,I,Wl,Ss,Ri,w,Nr);const Fc={program:Ti,buffers:$n,uniformValues:na,atlasTexture:qo,atlasTextureIcon:mo,atlasInterpolation:Lo,atlasInterpolationIcon:Rs,isSDF:In,hasHalo:Ei};if(tt&&pn.canOverlap){bt=!0;const Ho=$n.segments.get();for(const _a of Ho)Xt.push({segments:new s.$([_a]),sortKey:_a.sortKey,state:Fc,terrainData:ei})}else Xt.push({segments:$n.segments,sortKey:0,state:Fc,terrainData:ei})}bt&&Xt.sort((dn,un)=>dn.sortKey-un.sortKey);for(const dn of Xt){const un=dn.state;if(Oe.activeTexture.set(qe.TEXTURE0),un.atlasTexture.bind(un.atlasInterpolation,qe.CLAMP_TO_EDGE),un.atlasTextureIcon&&(Oe.activeTexture.set(qe.TEXTURE1),un.atlasTextureIcon&&un.atlasTextureIcon.bind(un.atlasInterpolationIcon,qe.CLAMP_TO_EDGE)),un.isSDF){const pn=un.uniformValues;un.hasHalo&&(pn.u_is_halo=1,Hd(un.buffers,dn.segments,p,I,un.program,Kt,de,fe,pn,dn.terrainData)),pn.u_is_halo=0}Hd(un.buffers,dn.segments,p,I,un.program,Kt,de,fe,un.uniformValues,dn.terrainData)}}function Hd(I,u,p,C,w,k,R,j,$,ie){const de=C.context;w.draw(de,de.gl.TRIANGLES,k,R,j,Fo.disabled,$,ie,p.id,I.layoutVertexBuffer,I.indexBuffer,u,p.paint,C.transform.zoom,I.programConfigurations.get(p.id),I.dynamicLayoutVertexBuffer,I.opacityVertexBuffer)}function Eu(I,u,p,C,w){if(!p||!C||!C.imageAtlas)return;const k=C.imageAtlas.patternPositions;let R=k[p.to.toString()],j=k[p.from.toString()];if(!R&&j&&(R=j),!j&&R&&(j=R),!R||!j){const $=w.getPaintProperty(u);R=k[$],j=k[$]}R&&j&&I.setConstantPatternPositions(R,j)}function bA(I,u,p,C,w,k,R){const j=I.context.gl,$="fill-pattern",ie=p.paint.get($),de=ie&&ie.constantOr(1),fe=p.getCrossfadeParameters();let Oe,qe,Ye,Ze,We;R?(qe=de&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Oe=j.LINES):(qe=de?"fillPattern":"fill",Oe=j.TRIANGLES);const ht=ie.constantOr(null);for(const Dt of C){const tt=u.getTile(Dt);if(de&&!tt.patternsLoaded())continue;const bt=tt.getBucket(p);if(!bt)continue;const Kt=bt.programConfigurations.get(p.id),Ut=I.useProgram(qe,Kt),Xt=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Dt);de&&(I.context.activeTexture.set(j.TEXTURE0),tt.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),Kt.updatePaintBuffers(fe)),Eu(Kt,$,ht,tt,p);const dn=Xt?Dt:null,un=I.translatePosMatrix(dn?dn.posMatrix:Dt.posMatrix,tt,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(R){Ze=bt.indexBuffer2,We=bt.segments2;const pn=[j.drawingBufferWidth,j.drawingBufferHeight];Ye=qe==="fillOutlinePattern"&&de?vA(un,I,fe,tt,pn):pa(un,pn)}else Ze=bt.indexBuffer,We=bt.segments,Ye=de?xu(un,I,fe,tt):bs(un);Ut.draw(I.context,Oe,w,I.stencilModeForClipping(Dt),k,Fo.disabled,Ye,Xt,p.id,bt.layoutVertexBuffer,Ze,We,p.paint,I.transform.zoom,Kt)}}function HA(I,u,p,C,w,k,R){const j=I.context,$=j.gl,ie="fill-extrusion-pattern",de=p.paint.get(ie),fe=de.constantOr(1),Oe=p.getCrossfadeParameters(),qe=p.paint.get("fill-extrusion-opacity"),Ye=de.constantOr(null);for(const Ze of C){const We=u.getTile(Ze),ht=We.getBucket(p);if(!ht)continue;const Dt=I.style.map.terrain&&I.style.map.terrain.getTerrainData(Ze),tt=ht.programConfigurations.get(p.id),bt=I.useProgram(fe?"fillExtrusionPattern":"fillExtrusion",tt);fe&&(I.context.activeTexture.set($.TEXTURE0),We.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),tt.updatePaintBuffers(Oe)),Eu(tt,ie,Ye,We,p);const Kt=I.translatePosMatrix(Ze.posMatrix,We,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Ut=p.paint.get("fill-extrusion-vertical-gradient"),Xt=fe?ea(Kt,I,Ut,qe,Ze,Oe,We):Jo(Kt,I,Ut,qe);bt.draw(j,j.gl.TRIANGLES,w,k,R,Fo.backCCW,Xt,Dt,p.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,p.paint,I.transform.zoom,tt,I.style.map.terrain&&ht.centroidVertexBuffer)}}function VA(I,u,p,C,w,k,R){const j=I.context,$=j.gl,ie=p.fbo;if(!ie)return;const de=I.useProgram("hillshade"),fe=I.style.map.terrain&&I.style.map.terrain.getTerrainData(u);j.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,ie.colorAttachment.get()),de.draw(j,$.TRIANGLES,w,k,R,Fo.disabled,((Oe,qe,Ye,Ze)=>{const We=Ye.paint.get("hillshade-shadow-color"),ht=Ye.paint.get("hillshade-highlight-color"),Dt=Ye.paint.get("hillshade-accent-color");let tt=Ye.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ye.paint.get("hillshade-illumination-anchor")==="viewport"&&(tt-=Oe.transform.angle);const bt=!Oe.options.moving;return{u_matrix:Ze?Ze.posMatrix:Oe.transform.calculatePosMatrix(qe.tileID.toUnwrapped(),bt),u_image:0,u_latrange:xs(0,qe.tileID),u_light:[Ye.paint.get("hillshade-exaggeration"),tt],u_shadow:We,u_highlight:ht,u_accent:Dt}})(I,p,C,fe?u:null),fe,C.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments)}function Jf(I,u,p,C,w,k){const R=I.context,j=R.gl,$=u.dem;if($&&$.data){const ie=$.dim,de=$.stride,fe=$.getPixels();if(R.activeTexture.set(j.TEXTURE1),R.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||I.getTileTexture(de),u.demTexture){const qe=u.demTexture;qe.update(fe,{premultiply:!1}),qe.bind(j.NEAREST,j.CLAMP_TO_EDGE)}else u.demTexture=new Fe(R,fe,j.RGBA,{premultiply:!1}),u.demTexture.bind(j.NEAREST,j.CLAMP_TO_EDGE);R.activeTexture.set(j.TEXTURE0);let Oe=u.fbo;if(!Oe){const qe=new Fe(R,{width:ie,height:ie,data:null},j.RGBA);qe.bind(j.LINEAR,j.CLAMP_TO_EDGE),Oe=u.fbo=R.createFramebuffer(ie,ie,!0,!1),Oe.colorAttachment.set(qe.texture)}R.bindFramebuffer.set(Oe.framebuffer),R.viewport.set([0,0,ie,ie]),I.useProgram("hillshadePrepare").draw(R,j.TRIANGLES,C,w,k,Fo.disabled,((qe,Ye)=>{const Ze=Ye.stride,We=s.F();return s.aN(We,0,s.W,-s.W,0,0,1),s.H(We,We,[0,-s.W,0]),{u_matrix:We,u_image:1,u_dimension:[Ze,Ze],u_zoom:qe.overscaledZ,u_unpack:Ye.getUnpackVector()}})(u.tileID,$),null,p.id,I.rasterBoundsBuffer,I.quadTriangleIndexBuffer,I.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function nm(I,u,p,C,w,k){const R=C.paint.get("raster-fade-duration");if(!k&&R>0){const j=E.now(),$=(j-I.timeAdded)/R,ie=u?(j-u.timeAdded)/R:-1,de=p.getSource(),fe=w.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),Oe=!u||Math.abs(u.tileID.overscaledZ-fe)>Math.abs(I.tileID.overscaledZ-fe),qe=Oe&&I.refreshedUponExpiration?1:s.ac(Oe?$:1-ie,0,1);return I.refreshedUponExpiration&&$>=1&&(I.refreshedUponExpiration=!1),u?{opacity:1,mix:1-qe}:{opacity:qe,mix:0}}return{opacity:1,mix:0}}const kc=new s.aO(1,0,0,1),Ad=new s.aO(0,1,0,1),Ll=new s.aO(0,0,1,1),wl=new s.aO(1,0,1,1),ga=new s.aO(0,1,1,1);function xA(I,u,p,C){Ou(I,0,u+p/2,I.transform.width,p,C)}function Ul(I,u,p,C){Ou(I,u-p/2,0,p,I.transform.height,C)}function Ou(I,u,p,C,w,k){const R=I.context,j=R.gl;j.enable(j.SCISSOR_TEST),j.scissor(u*I.pixelRatio,p*I.pixelRatio,C*I.pixelRatio,w*I.pixelRatio),R.clear({color:k}),j.disable(j.SCISSOR_TEST)}function Rl(I,u,p){const C=I.context,w=C.gl,k=p.posMatrix,R=I.useProgram("debug"),j=Wi.disabled,$=ko.disabled,ie=I.colorModeForRenderPass(),de="$debug",fe=I.style.map.terrain&&I.style.map.terrain.getTerrainData(p);C.activeTexture.set(w.TEXTURE0);const Oe=u.getTileByID(p.key).latestRawTileData,qe=Math.floor((Oe&&Oe.byteLength||0)/1024),Ye=u.getTile(p).tileSize,Ze=512/Math.min(Ye,512)*(p.overscaledZ/I.transform.zoom)*.5;let We=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(We+=` => ${p.overscaledZ}`),function(ht,Dt){ht.initDebugOverlayCanvas();const tt=ht.debugOverlayCanvas,bt=ht.context.gl,Kt=ht.debugOverlayCanvas.getContext("2d");Kt.clearRect(0,0,tt.width,tt.height),Kt.shadowColor="white",Kt.shadowBlur=2,Kt.lineWidth=1.5,Kt.strokeStyle="white",Kt.textBaseline="top",Kt.font="bold 36px Open Sans, sans-serif",Kt.fillText(Dt,5,5),Kt.strokeText(Dt,5,5),ht.debugOverlayTexture.update(tt),ht.debugOverlayTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE)}(I,`${We} ${qe}kB`),R.draw(C,w.TRIANGLES,j,$,la.alphaBlended,Fo.disabled,wu(k,s.aO.transparent,Ze),null,de,I.debugBuffer,I.quadTriangleIndexBuffer,I.debugSegments),R.draw(C,w.LINE_STRIP,j,$,ie,Fo.disabled,wu(k,s.aO.red),fe,de,I.debugBuffer,I.tileBorderIndexBuffer,I.debugSegments)}function Vd(I,u,p){const C=I.context,w=C.gl,k=I.colorModeForRenderPass(),R=new Wi(w.LEQUAL,Wi.ReadWrite,I.depthRangeFor3D),j=I.useProgram("terrain"),$=u.getTerrainMesh();C.bindFramebuffer.set(null),C.viewport.set([0,0,I.width,I.height]);for(const ie of p){const de=I.renderToTexture.getTexture(ie),fe=u.getTerrainData(ie.tileID);C.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,de.texture);const Oe={u_matrix:I.transform.calculatePosMatrix(ie.tileID.toUnwrapped()),u_texture:0,u_ele_delta:u.getMeshFrameDelta(I.transform.zoom)};j.draw(C,w.TRIANGLES,R,ko.disabled,k,Fo.backCCW,Oe,fe,"terrain",$.vertexBuffer,$.indexBuffer,$.segments)}}class Tc{constructor(u,p){this.context=new Xf(u),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Ft.maxUnderzooming+Ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new dr}resize(u,p,C){if(this.width=Math.floor(u*C),this.height=Math.floor(p*C),this.pixelRatio=C,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style._order)this.style._layers[w].resize()}setup(){const u=this.context,p=new s.aV;p.emplaceBack(0,0),p.emplaceBack(s.W,0),p.emplaceBack(0,s.W),p.emplaceBack(s.W,s.W),this.tileExtentBuffer=u.createVertexBuffer(p,Pa.members),this.tileExtentSegments=s.$.simpleSegment(0,0,4,2);const C=new s.aV;C.emplaceBack(0,0),C.emplaceBack(s.W,0),C.emplaceBack(0,s.W),C.emplaceBack(s.W,s.W),this.debugBuffer=u.createVertexBuffer(C,Pa.members),this.debugSegments=s.$.simpleSegment(0,0,4,5);const w=new s.Z;w.emplaceBack(0,0,0,0),w.emplaceBack(s.W,0,s.W,0),w.emplaceBack(0,s.W,0,s.W),w.emplaceBack(s.W,s.W,s.W,s.W),this.rasterBoundsBuffer=u.createVertexBuffer(w,Jn.members),this.rasterBoundsSegments=s.$.simpleSegment(0,0,4,2);const k=new s.aV;k.emplaceBack(0,0),k.emplaceBack(1,0),k.emplaceBack(0,1),k.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(k,Pa.members),this.viewportSegments=s.$.simpleSegment(0,0,4,2);const R=new s.aW;R.emplaceBack(0),R.emplaceBack(1),R.emplaceBack(3),R.emplaceBack(2),R.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(R);const j=new s.aX;j.emplaceBack(0,1,2),j.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(j);const $=this.context.gl;this.stencilClearMode=new ko({func:$.ALWAYS,mask:0},0,255,$.ZERO,$.ZERO,$.ZERO)}clearStencil(){const u=this.context,p=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const C=s.F();s.aN(C,0,this.width,this.height,0,0,1),s.J(C,C,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,p.TRIANGLES,Wi.disabled,this.stencilClearMode,la.disabled,Fo.disabled,Wu(C),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,p){if(this.currentStencilSource===u.source||!u.isTileClipped()||!p||!p.length)return;this.currentStencilSource=u.source;const C=this.context,w=C.gl;this.nextStencilID+p.length>256&&this.clearStencil(),C.setColorMode(la.disabled),C.setDepthMode(Wi.disabled);const k=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of p){const j=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,$=this.style.map.terrain&&this.style.map.terrain.getTerrainData(R);k.draw(C,w.TRIANGLES,Wi.disabled,new ko({func:w.ALWAYS,mask:0},j,255,w.KEEP,w.KEEP,w.REPLACE),la.disabled,Fo.disabled,Wu(R.posMatrix),$,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,p=this.context.gl;return new ko({func:p.NOTEQUAL,mask:255},u,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(u){const p=this.context.gl;return new ko({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(u){const p=this.context.gl,C=u.sort((R,j)=>j.overscaledZ-R.overscaledZ),w=C[C.length-1].overscaledZ,k=C[0].overscaledZ-w+1;if(k>1){this.currentStencilSource=void 0,this.nextStencilID+k>256&&this.clearStencil();const R={};for(let j=0;j<k;j++)R[j+w]=new ko({func:p.GEQUAL,mask:255},j+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=k,[R,C]}return[{[w]:ko.disabled},C]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new la([u.CONSTANT_COLOR,u.ONE],new s.aO(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?la.unblended:la.alphaBlended}depthModeForSublayer(u,p,C){if(!this.opaquePassEnabledForLayer())return Wi.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Wi(C||this.context.gl.LEQUAL,p,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,p){this.style=u,this.options=p,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(E.now()),this.imageManager.beginFrame();const C=this.style._order,w=this.style.sourceCaches,k={},R={},j={};for(const $ in w){const ie=w[$];ie.used&&ie.prepare(this.context),k[$]=ie.getVisibleCoordinates(),R[$]=k[$].slice().reverse(),j[$]=ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let $=0;$<C.length;$++)if(this.style._layers[C[$]].is3D()){this.opaquePassCutoff=$;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const $ of C){const ie=this.style._layers[$];if(!ie.hasOffscreenPass()||ie.isHidden(this.transform.zoom))continue;const de=R[ie.source];(ie.type==="custom"||de.length)&&this.renderLayer(this,w[ie.source],ie,de)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?s.aO.black:s.aO.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const $=this.style._layers[C[this.currentLayer]],ie=w[$.source],de=k[$.source];this._renderTileClippingMasks($,de),this.renderLayer(this,ie,$,de)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const $=this.style._layers[C[this.currentLayer]],ie=w[$.source];if(this.renderToTexture&&this.renderToTexture.renderLayer($))continue;const de=($.type==="symbol"?j:R)[$.source];this._renderTileClippingMasks($,k[$.source]),this.renderLayer(this,ie,$,de)}if(this.options.showTileBoundaries){const $=function(ie,de){let fe=null;const Oe=Object.values(ie._layers).flatMap(We=>We.source&&!We.isHidden(de)?[ie.sourceCaches[We.source]]:[]),qe=Oe.filter(We=>We.getSource().type==="vector"),Ye=Oe.filter(We=>We.getSource().type!=="vector"),Ze=We=>{(!fe||fe.getSource().maxzoom<We.getSource().maxzoom)&&(fe=We)};return qe.forEach(We=>Ze(We)),fe||Ye.forEach(We=>Ze(We)),fe}(this.style,this.transform.zoom);$&&function(ie,de,fe){for(let Oe=0;Oe<fe.length;Oe++)Rl(ie,de,fe[Oe])}(this,$,$.getVisibleCoordinates())}this.options.showPadding&&function($){const ie=$.transform.padding;xA($,$.transform.height-(ie.top||0),3,kc),xA($,ie.bottom||0,3,Ad),Ul($,ie.left||0,3,Ll),Ul($,$.transform.width-(ie.right||0),3,wl);const de=$.transform.centerPoint;(function(fe,Oe,qe,Ye){Ou(fe,Oe-1,qe-10,2,20,Ye),Ou(fe,Oe-10,qe-1,20,2,Ye)})($,de.x,$.transform.height-de.y,ga)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(u){if(!this.style||!this.style.map||!this.style.map.terrain)return;const p=this.terrainFacilitator.matrix,C=this.transform.projMatrix;let w=this.terrainFacilitator.dirty;w||(w=u?!s.aY(p,C):!s.aZ(p,C)),w||(w=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),w&&(s.a_(p,C),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(k,R){const j=k.context,$=j.gl,ie=la.unblended,de=new Wi($.LEQUAL,Wi.ReadWrite,[0,1]),fe=R.getTerrainMesh(),Oe=R.sourceCache.getRenderableTiles(),qe=k.useProgram("terrainDepth");j.bindFramebuffer.set(R.getFramebuffer("depth").framebuffer),j.viewport.set([0,0,k.width/devicePixelRatio,k.height/devicePixelRatio]),j.clear({color:s.aO.transparent,depth:1});for(const Ye of Oe){const Ze=R.getTerrainData(Ye.tileID),We={u_matrix:k.transform.calculatePosMatrix(Ye.tileID.toUnwrapped()),u_ele_delta:R.getMeshFrameDelta(k.transform.zoom)};qe.draw(j,$.TRIANGLES,de,ko.disabled,ie,Fo.backCCW,We,Ze,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}j.bindFramebuffer.set(null),j.viewport.set([0,0,k.width,k.height])}(this,this.style.map.terrain),function(k,R){const j=k.context,$=j.gl,ie=la.unblended,de=new Wi($.LEQUAL,Wi.ReadWrite,[0,1]),fe=R.getTerrainMesh(),Oe=R.getCoordsTexture(),qe=R.sourceCache.getRenderableTiles(),Ye=k.useProgram("terrainCoords");j.bindFramebuffer.set(R.getFramebuffer("coords").framebuffer),j.viewport.set([0,0,k.width/devicePixelRatio,k.height/devicePixelRatio]),j.clear({color:s.aO.transparent,depth:1}),R.coordsIndex=[];for(const Ze of qe){const We=R.getTerrainData(Ze.tileID);j.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,Oe.texture);const ht={u_matrix:k.transform.calculatePosMatrix(Ze.tileID.toUnwrapped()),u_terrain_coords_id:(255-R.coordsIndex.length)/255,u_texture:0,u_ele_delta:R.getMeshFrameDelta(k.transform.zoom)};Ye.draw(j,$.TRIANGLES,de,ko.disabled,ie,Fo.backCCW,ht,We,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments),R.coordsIndex.push(Ze.tileID.key)}j.bindFramebuffer.set(null),j.viewport.set([0,0,k.width,k.height])}(this,this.style.map.terrain))}renderLayer(u,p,C,w){if(!C.isHidden(this.transform.zoom)&&(C.type==="background"||C.type==="custom"||(w||[]).length))switch(this.id=C.id,C.type){case"symbol":(function(k,R,j,$,ie){if(k.renderPass!=="translucent")return;const de=ko.disabled,fe=k.colorModeForRenderPass();(j._unevaluatedLayout.hasValue("text-variable-anchor")||j._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Oe,qe,Ye,Ze,We,ht,Dt){const tt=qe.transform,bt=We==="map",Kt=ht==="map";for(const Ut of Oe){const Xt=Ze.getTile(Ut),dn=Xt.getBucket(Ye);if(!dn||!dn.text||!dn.text.segments.get().length)continue;const un=s.ag(dn.textSizeData,tt.zoom),pn=lr(Xt,1,qe.transform.zoom),$n=Kr(Ut.posMatrix,Kt,bt,qe.transform,pn),qr=Ye.layout.get("icon-text-fit")!=="none"&&dn.hasIconData();if(un){const In=Math.pow(2,tt.zoom-Xt.tileID.overscaledZ);Fl(dn,bt,Kt,Dt,tt,$n,Ut.posMatrix,In,un,qr,qe.style.map.terrain?(vr,di)=>qe.style.map.terrain.getElevation(Ut,vr,di):null)}}}($,k,j,R,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),ie),j.paint.get("icon-opacity").constantOr(1)!==0&&Nh(k,R,j,$,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),de,fe),j.paint.get("text-opacity").constantOr(1)!==0&&Nh(k,R,j,$,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),de,fe),R.map.showCollisionBoxes&&(Us(k,R,j,$,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),Us(k,R,j,$,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))})(u,p,C,w,this.style.placement.variableOffsets);break;case"circle":(function(k,R,j,$){if(k.renderPass!=="translucent")return;const ie=j.paint.get("circle-opacity"),de=j.paint.get("circle-stroke-width"),fe=j.paint.get("circle-stroke-opacity"),Oe=!j.layout.get("circle-sort-key").isConstant();if(ie.constantOr(1)===0&&(de.constantOr(1)===0||fe.constantOr(1)===0))return;const qe=k.context,Ye=qe.gl,Ze=k.depthModeForSublayer(0,Wi.ReadOnly),We=ko.disabled,ht=k.colorModeForRenderPass(),Dt=[];for(let tt=0;tt<$.length;tt++){const bt=$[tt],Kt=R.getTile(bt),Ut=Kt.getBucket(j);if(!Ut)continue;const Xt=Ut.programConfigurations.get(j.id),dn=k.useProgram("circle",Xt),un=Ut.layoutVertexBuffer,pn=Ut.indexBuffer,$n=k.style.map.terrain&&k.style.map.terrain.getTerrainData(bt),qr={programConfiguration:Xt,program:dn,layoutVertexBuffer:un,indexBuffer:pn,uniformValues:ju(k,bt,Kt,j),terrainData:$n};if(Oe){const In=Ut.segments.get();for(const vr of In)Dt.push({segments:new s.$([vr]),sortKey:vr.sortKey,state:qr})}else Dt.push({segments:Ut.segments,sortKey:0,state:qr})}Oe&&Dt.sort((tt,bt)=>tt.sortKey-bt.sortKey);for(const tt of Dt){const{programConfiguration:bt,program:Kt,layoutVertexBuffer:Ut,indexBuffer:Xt,uniformValues:dn,terrainData:un}=tt.state;Kt.draw(qe,Ye.TRIANGLES,Ze,We,ht,Fo.disabled,dn,un,j.id,Ut,Xt,tt.segments,j.paint,k.transform.zoom,bt)}})(u,p,C,w);break;case"heatmap":(function(k,R,j,$){if(j.paint.get("heatmap-opacity")!==0)if(k.renderPass==="offscreen"){const ie=k.context,de=ie.gl,fe=ko.disabled,Oe=new la([de.ONE,de.ONE],s.aO.transparent,[!0,!0,!0,!0]);(function(qe,Ye,Ze){const We=qe.gl;qe.activeTexture.set(We.TEXTURE1),qe.viewport.set([0,0,Ye.width/4,Ye.height/4]);let ht=Ze.heatmapFbo;if(ht)We.bindTexture(We.TEXTURE_2D,ht.colorAttachment.get()),qe.bindFramebuffer.set(ht.framebuffer);else{const Dt=We.createTexture();We.bindTexture(We.TEXTURE_2D,Dt),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_WRAP_S,We.CLAMP_TO_EDGE),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_WRAP_T,We.CLAMP_TO_EDGE),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_MIN_FILTER,We.LINEAR),We.texParameteri(We.TEXTURE_2D,We.TEXTURE_MAG_FILTER,We.LINEAR),ht=Ze.heatmapFbo=qe.createFramebuffer(Ye.width/4,Ye.height/4,!1,!1),function(tt,bt,Kt,Ut){var Xt,dn;const un=tt.gl,pn=(Xt=tt.HALF_FLOAT)!==null&&Xt!==void 0?Xt:un.UNSIGNED_BYTE,$n=(dn=tt.RGBA16F)!==null&&dn!==void 0?dn:un.RGBA;un.texImage2D(un.TEXTURE_2D,0,$n,bt.width/4,bt.height/4,0,un.RGBA,pn,null),Ut.colorAttachment.set(Kt)}(qe,Ye,Dt,ht)}})(ie,k,j),ie.clear({color:s.aO.transparent});for(let qe=0;qe<$.length;qe++){const Ye=$[qe];if(R.hasRenderableParent(Ye))continue;const Ze=R.getTile(Ye),We=Ze.getBucket(j);if(!We)continue;const ht=We.programConfigurations.get(j.id),Dt=k.useProgram("heatmap",ht),{zoom:tt}=k.transform;Dt.draw(ie,de.TRIANGLES,Wi.disabled,fe,Oe,Fo.disabled,jo(Ye.posMatrix,Ze,tt,j.paint.get("heatmap-intensity")),null,j.id,We.layoutVertexBuffer,We.indexBuffer,We.segments,j.paint,k.transform.zoom,ht)}ie.viewport.set([0,0,k.width,k.height])}else k.renderPass==="translucent"&&(k.context.setColorMode(k.colorModeForRenderPass()),function(ie,de){const fe=ie.context,Oe=fe.gl,qe=de.heatmapFbo;if(!qe)return;fe.activeTexture.set(Oe.TEXTURE0),Oe.bindTexture(Oe.TEXTURE_2D,qe.colorAttachment.get()),fe.activeTexture.set(Oe.TEXTURE1);let Ye=de.colorRampTexture;Ye||(Ye=de.colorRampTexture=new Fe(fe,de.colorRamp,Oe.RGBA)),Ye.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(fe,Oe.TRIANGLES,Wi.disabled,ko.disabled,ie.colorModeForRenderPass(),Fo.disabled,((Ze,We,ht,Dt)=>{const tt=s.F();s.aN(tt,0,Ze.width,Ze.height,0,0,1);const bt=Ze.context.gl;return{u_matrix:tt,u_world:[bt.drawingBufferWidth,bt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:We.paint.get("heatmap-opacity")}})(ie,de),null,de.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,de.paint,ie.transform.zoom)}(k,j))})(u,p,C,w);break;case"line":(function(k,R,j,$){if(k.renderPass!=="translucent")return;const ie=j.paint.get("line-opacity"),de=j.paint.get("line-width");if(ie.constantOr(1)===0||de.constantOr(1)===0)return;const fe=k.depthModeForSublayer(0,Wi.ReadOnly),Oe=k.colorModeForRenderPass(),qe=j.paint.get("line-dasharray"),Ye=j.paint.get("line-pattern"),Ze=Ye.constantOr(1),We=j.paint.get("line-gradient"),ht=j.getCrossfadeParameters(),Dt=Ze?"linePattern":qe?"lineSDF":We?"lineGradient":"line",tt=k.context,bt=tt.gl;let Kt=!0;for(const Ut of $){const Xt=R.getTile(Ut);if(Ze&&!Xt.patternsLoaded())continue;const dn=Xt.getBucket(j);if(!dn)continue;const un=dn.programConfigurations.get(j.id),pn=k.context.program.get(),$n=k.useProgram(Dt,un),qr=Kt||$n.program!==pn,In=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Ut),vr=Ye.constantOr(null);if(vr&&Xt.imageAtlas){const Hr=Xt.imageAtlas,ei=Hr.patternPositions[vr.to.toString()],Nr=Hr.patternPositions[vr.from.toString()];ei&&Nr&&un.setConstantPatternPositions(ei,Nr)}const di=In?Ut:null,Ti=Ze?ll(k,Xt,j,ht,di):qe?Wo(k,Xt,j,qe,ht,di):We?ss(k,Xt,j,dn.lineClipsArray.length,di):eu(k,Xt,j,di);if(Ze)tt.activeTexture.set(bt.TEXTURE0),Xt.imageAtlasTexture.bind(bt.LINEAR,bt.CLAMP_TO_EDGE),un.updatePaintBuffers(ht);else if(qe&&(qr||k.lineAtlas.dirty))tt.activeTexture.set(bt.TEXTURE0),k.lineAtlas.bind(tt);else if(We){const Hr=dn.gradients[j.id];let ei=Hr.texture;if(j.gradientVersion!==Hr.version){let Nr=256;if(j.stepInterpolant){const qo=R.getSource().maxzoom,Lo=Ut.canonical.z===qo?Math.ceil(1<<k.transform.maxZoom-Ut.canonical.z):1;Nr=s.ac(s.aT(dn.maxLineLength/s.W*1024*Lo),256,tt.maxTextureSize)}Hr.gradient=s.aU({expression:j.gradientExpression(),evaluationKey:"lineProgress",resolution:Nr,image:Hr.gradient||void 0,clips:dn.lineClipsArray}),Hr.texture?Hr.texture.update(Hr.gradient):Hr.texture=new Fe(tt,Hr.gradient,bt.RGBA),Hr.version=j.gradientVersion,ei=Hr.texture}tt.activeTexture.set(bt.TEXTURE0),ei.bind(j.stepInterpolant?bt.NEAREST:bt.LINEAR,bt.CLAMP_TO_EDGE)}$n.draw(tt,bt.TRIANGLES,fe,k.stencilModeForClipping(Ut),Oe,Fo.disabled,Ti,In,j.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,j.paint,k.transform.zoom,un,dn.layoutVertexBuffer2),Kt=!1}})(u,p,C,w);break;case"fill":(function(k,R,j,$){const ie=j.paint.get("fill-color"),de=j.paint.get("fill-opacity");if(de.constantOr(1)===0)return;const fe=k.colorModeForRenderPass(),Oe=j.paint.get("fill-pattern"),qe=k.opaquePassEnabledForLayer()&&!Oe.constantOr(1)&&ie.constantOr(s.aO.transparent).a===1&&de.constantOr(0)===1?"opaque":"translucent";if(k.renderPass===qe){const Ye=k.depthModeForSublayer(1,k.renderPass==="opaque"?Wi.ReadWrite:Wi.ReadOnly);bA(k,R,j,$,Ye,fe,!1)}if(k.renderPass==="translucent"&&j.paint.get("fill-antialias")){const Ye=k.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,Wi.ReadOnly);bA(k,R,j,$,Ye,fe,!0)}})(u,p,C,w);break;case"fill-extrusion":(function(k,R,j,$){const ie=j.paint.get("fill-extrusion-opacity");if(ie!==0&&k.renderPass==="translucent"){const de=new Wi(k.context.gl.LEQUAL,Wi.ReadWrite,k.depthRangeFor3D);if(ie!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))HA(k,R,j,$,de,ko.disabled,la.disabled),HA(k,R,j,$,de,k.stencilModeFor3D(),k.colorModeForRenderPass());else{const fe=k.colorModeForRenderPass();HA(k,R,j,$,de,ko.disabled,fe)}}})(u,p,C,w);break;case"hillshade":(function(k,R,j,$){if(k.renderPass!=="offscreen"&&k.renderPass!=="translucent")return;const ie=k.context,de=k.depthModeForSublayer(0,Wi.ReadOnly),fe=k.colorModeForRenderPass(),[Oe,qe]=k.renderPass==="translucent"?k.stencilConfigForOverlap($):[{},$];for(const Ye of qe){const Ze=R.getTile(Ye);Ze.needsHillshadePrepare!==void 0&&Ze.needsHillshadePrepare&&k.renderPass==="offscreen"?Jf(k,Ze,j,de,ko.disabled,fe):k.renderPass==="translucent"&&VA(k,Ye,Ze,j,de,Oe[Ye.overscaledZ],fe)}ie.viewport.set([0,0,k.width,k.height])})(u,p,C,w);break;case"raster":(function(k,R,j,$){if(k.renderPass!=="translucent"||j.paint.get("raster-opacity")===0||!$.length)return;const ie=k.context,de=ie.gl,fe=R.getSource(),Oe=k.useProgram("raster"),qe=k.colorModeForRenderPass(),[Ye,Ze]=fe instanceof Ar?[{},$]:k.stencilConfigForOverlap($),We=Ze[Ze.length-1].overscaledZ,ht=!k.options.moving;for(const Dt of Ze){const tt=k.depthModeForSublayer(Dt.overscaledZ-We,j.paint.get("raster-opacity")===1?Wi.ReadWrite:Wi.ReadOnly,de.LESS),bt=R.getTile(Dt);bt.registerFadeDuration(j.paint.get("raster-fade-duration"));const Kt=R.findLoadedParent(Dt,0),Ut=nm(bt,Kt,R,j,k.transform,k.style.map.terrain);let Xt,dn;const un=j.paint.get("raster-resampling")==="nearest"?de.NEAREST:de.LINEAR;ie.activeTexture.set(de.TEXTURE0),bt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),ie.activeTexture.set(de.TEXTURE1),Kt?(Kt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),Xt=Math.pow(2,Kt.tileID.overscaledZ-bt.tileID.overscaledZ),dn=[bt.tileID.canonical.x*Xt%1,bt.tileID.canonical.y*Xt%1]):bt.texture.bind(un,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST);const pn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Dt),$n=pn?Dt:null,qr=$n?$n.posMatrix:k.transform.calculatePosMatrix(Dt.toUnwrapped(),ht),In=xl(qr,dn||[0,0],Xt||1,Ut,j);fe instanceof Ar?Oe.draw(ie,de.TRIANGLES,tt,ko.disabled,qe,Fo.disabled,In,pn,j.id,fe.boundsBuffer,k.quadTriangleIndexBuffer,fe.boundsSegments):Oe.draw(ie,de.TRIANGLES,tt,Ye[Dt.overscaledZ],qe,Fo.disabled,In,pn,j.id,k.rasterBoundsBuffer,k.quadTriangleIndexBuffer,k.rasterBoundsSegments)}})(u,p,C,w);break;case"background":(function(k,R,j,$){const ie=j.paint.get("background-color"),de=j.paint.get("background-opacity");if(de===0)return;const fe=k.context,Oe=fe.gl,qe=k.transform,Ye=qe.tileSize,Ze=j.paint.get("background-pattern");if(k.isPatternMissing(Ze))return;const We=!Ze&&ie.a===1&&de===1&&k.opaquePassEnabledForLayer()?"opaque":"translucent";if(k.renderPass!==We)return;const ht=ko.disabled,Dt=k.depthModeForSublayer(0,We==="opaque"?Wi.ReadWrite:Wi.ReadOnly),tt=k.colorModeForRenderPass(),bt=k.useProgram(Ze?"backgroundPattern":"background"),Kt=$||qe.coveringTiles({tileSize:Ye,terrain:k.style.map.terrain});Ze&&(fe.activeTexture.set(Oe.TEXTURE0),k.imageManager.bind(k.context));const Ut=j.getCrossfadeParameters();for(const Xt of Kt){const dn=$?Xt.posMatrix:k.transform.calculatePosMatrix(Xt.toUnwrapped()),un=Ze?io(dn,de,k,Ze,{tileID:Xt,tileSize:Ye},Ut):vo(dn,de,ie),pn=k.style.map.terrain&&k.style.map.terrain.getTerrainData(Xt);bt.draw(fe,Oe.TRIANGLES,Dt,ht,tt,Fo.disabled,un,pn,j.id,k.tileExtentBuffer,k.quadTriangleIndexBuffer,k.tileExtentSegments)}})(u,0,C,w);break;case"custom":(function(k,R,j){const $=k.context,ie=j.implementation;if(k.renderPass==="offscreen"){const de=ie.prerender;de&&(k.setCustomLayerDefaults(),$.setColorMode(k.colorModeForRenderPass()),de.call(ie,$.gl,k.transform.customLayerMatrix()),$.setDirty(),k.setBaseState())}else if(k.renderPass==="translucent"){k.setCustomLayerDefaults(),$.setColorMode(k.colorModeForRenderPass()),$.setStencilMode(ko.disabled);const de=ie.renderingMode==="3d"?new Wi(k.context.gl.LEQUAL,Wi.ReadWrite,k.depthRangeFor3D):k.depthModeForSublayer(0,Wi.ReadOnly);$.setDepthMode(de),ie.render($.gl,k.transform.customLayerMatrix()),$.setDirty(),k.setBaseState(),$.bindFramebuffer.set(null)}})(u,0,C)}}translatePosMatrix(u,p,C,w,k){if(!C[0]&&!C[1])return u;const R=k?w==="map"?this.transform.angle:0:w==="viewport"?-this.transform.angle:0;if(R){const ie=Math.sin(R),de=Math.cos(R);C=[C[0]*de-C[1]*ie,C[0]*ie+C[1]*de]}const j=[k?C[0]:lr(p,C[0],this.transform.zoom),k?C[1]:lr(p,C[1],this.transform.zoom),0],$=new Float32Array(16);return s.H($,u,j),$}saveTileTexture(u){const p=this._tileTextures[u.size[0]];p?p.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const p=this._tileTextures[u];return p&&p.length>0?p.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const p=this.imageManager.getPattern(u.from.toString()),C=this.imageManager.getPattern(u.to.toString());return!p||!C}useProgram(u,p){this.cache=this.cache||{};const C=u+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[C]||(this.cache[C]=new bu(this.context,Na[u],p,z[u],this._showOverdrawInspector,this.style.map.terrain)),this.cache[C]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Fe(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:u,drawingBufferHeight:p}=this.context.gl;return this.width!==u||this.height!==p}}class Bu{constructor(u,p){this.points=u,this.planes=p}static fromInvProjectionMatrix(u,p,C){const w=Math.pow(2,C),k=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(j=>{const $=1/(j=s.af([],j,u))[3]/p*w;return s.a$(j,j,[$,$,1/j[3],$])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(j=>{const $=function(Oe,qe){var Ye=qe[0],Ze=qe[1],We=qe[2],ht=Ye*Ye+Ze*Ze+We*We;return ht>0&&(ht=1/Math.sqrt(ht)),Oe[0]=qe[0]*ht,Oe[1]=qe[1]*ht,Oe[2]=qe[2]*ht,Oe}([],function(Oe,qe,Ye){var Ze=qe[0],We=qe[1],ht=qe[2],Dt=Ye[0],tt=Ye[1],bt=Ye[2];return Oe[0]=We*bt-ht*tt,Oe[1]=ht*Dt-Ze*bt,Oe[2]=Ze*tt-We*Dt,Oe}([],we([],k[j[0]],k[j[1]]),we([],k[j[2]],k[j[1]]))),ie=-((de=$)[0]*(fe=k[j[1]])[0]+de[1]*fe[1]+de[2]*fe[2]);var de,fe;return $.concat(ie)});return new Bu(k,R)}}class Pc{constructor(u,p){this.min=u,this.max=p,this.center=function(C,w,k){return C[0]=.5*w[0],C[1]=.5*w[1],C[2]=.5*w[2],C}([],function(C,w,k){return C[0]=w[0]+k[0],C[1]=w[1]+k[1],C[2]=w[2]+k[2],C}([],this.min,this.max))}quadrant(u){const p=[u%2==0,u<2],C=X(this.min),w=X(this.max);for(let k=0;k<p.length;k++)C[k]=p[k]?this.min[k]:this.center[k],w[k]=p[k]?this.center[k]:this.max[k];return w[2]=this.max[2],new Pc(C,w)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let C=!0;for(let w=0;w<u.planes.length;w++){const k=u.planes[w];let R=0;for(let j=0;j<p.length;j++)s.b0(k,p[j])>=0&&R++;if(R===0)return 0;R!==p.length&&(C=!1)}if(C)return 2;for(let w=0;w<3;w++){let k=Number.MAX_VALUE,R=-Number.MAX_VALUE;for(let j=0;j<u.points.length;j++){const $=u.points[j][w]-this.min[w];k=Math.min(k,$),R=Math.max(R,$)}if(R<0||k>this.max[w]-this.min[w])return 0}return 1}}class cd{constructor(u=0,p=0,C=0,w=0){if(isNaN(u)||u<0||isNaN(p)||p<0||isNaN(C)||C<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=p,this.left=C,this.right=w}interpolate(u,p,C){return p.top!=null&&u.top!=null&&(this.top=s.z.number(u.top,p.top,C)),p.bottom!=null&&u.bottom!=null&&(this.bottom=s.z.number(u.bottom,p.bottom,C)),p.left!=null&&u.left!=null&&(this.left=s.z.number(u.left,p.left,C)),p.right!=null&&u.right!=null&&(this.right=s.z.number(u.right,p.right,C)),this}getCenter(u,p){const C=s.ac((this.left+u-this.right)/2,0,u),w=s.ac((this.top+p-this.bottom)/2,0,p);return new s.P(C,w)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new cd(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Zd=85.051129;class ou{constructor(u,p,C,w,k){this.tileSize=512,this._renderWorldCopies=k===void 0||!!k,this._minZoom=u||0,this._maxZoom=p||22,this._minPitch=C??0,this._maxPitch=w??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new cd,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const u=new ou(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.apply(this),u}apply(u){this.tileSize=u.tileSize,this.latRange=u.latRange,this.width=u.width,this.height=u.height,this._center=u._center,this._elevation=u._elevation,this.minElevationForCurrentTile=u.minElevationForCurrentTile,this.zoom=u.zoom,this.angle=u.angle,this._fov=u._fov,this._pitch=u._pitch,this._unmodified=u._unmodified,this._edgeInsets=u._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const p=-s.b1(u,-180,180)*Math.PI/180;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=function(){var C=new s.A(4);return s.A!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C}(),function(C,w,k){var R=w[0],j=w[1],$=w[2],ie=w[3],de=Math.sin(k),fe=Math.cos(k);C[0]=R*fe+$*de,C[1]=j*fe+ie*de,C[2]=R*-de+$*fe,C[3]=j*-de+ie*fe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const p=s.ac(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const p=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.tileZoom=Math.max(0,Math.floor(p)),this.scale=this.zoomScale(p),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,p,C){this._unmodified=!1,this._edgeInsets.interpolate(u,p,C),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const p=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(u){const p=[new s.b2(0,u)];if(this._renderWorldCopies){const C=this.pointCoordinate(new s.P(0,0)),w=this.pointCoordinate(new s.P(this.width,0)),k=this.pointCoordinate(new s.P(this.width,this.height)),R=this.pointCoordinate(new s.P(0,this.height)),j=Math.floor(Math.min(C.x,w.x,k.x,R.x)),$=Math.floor(Math.max(C.x,w.x,k.x,R.x)),ie=1;for(let de=j-ie;de<=$+ie;de++)de!==0&&p.push(new s.b2(de,u))}return p}coveringTiles(u){var p,C;let w=this.coveringZoomLevel(u);const k=w;if(u.minzoom!==void 0&&w<u.minzoom)return[];u.maxzoom!==void 0&&w>u.maxzoom&&(w=u.maxzoom);const R=this.pointCoordinate(this.getCameraPoint()),j=s.Y.fromLngLat(this.center),$=Math.pow(2,w),ie=[$*R.x,$*R.y,0],de=[$*j.x,$*j.y,0],fe=Bu.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,w);let Oe=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Oe=w);const qe=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,Ye=tt=>({aabb:new Pc([tt*$,0,0],[(tt+1)*$,$,0]),zoom:0,x:0,y:0,wrap:tt,fullyVisible:!1}),Ze=[],We=[],ht=w,Dt=u.reparseOverscaled?k:w;if(this._renderWorldCopies)for(let tt=1;tt<=3;tt++)Ze.push(Ye(-tt)),Ze.push(Ye(tt));for(Ze.push(Ye(0));Ze.length>0;){const tt=Ze.pop(),bt=tt.x,Kt=tt.y;let Ut=tt.fullyVisible;if(!Ut){const $n=tt.aabb.intersects(fe);if($n===0)continue;Ut=$n===2}const Xt=u.terrain?ie:de,dn=tt.aabb.distanceX(Xt),un=tt.aabb.distanceY(Xt),pn=Math.max(Math.abs(dn),Math.abs(un));if(tt.zoom===ht||pn>qe+(1<<ht-tt.zoom)-2&&tt.zoom>=Oe){const $n=ht-tt.zoom,qr=ie[0]-.5-(bt<<$n),In=ie[1]-.5-(Kt<<$n);We.push({tileID:new s.Q(tt.zoom===ht?Dt:tt.zoom,tt.wrap,tt.zoom,bt,Kt),distanceSq:xe([de[0]-.5-bt,de[1]-.5-Kt]),tileDistanceToCamera:Math.sqrt(qr*qr+In*In)})}else for(let $n=0;$n<4;$n++){const qr=(bt<<1)+$n%2,In=(Kt<<1)+($n>>1),vr=tt.zoom+1;let di=tt.aabb.quadrant($n);if(u.terrain){const Ti=new s.Q(vr,tt.wrap,vr,qr,In),Hr=u.terrain.getMinMaxElevation(Ti),ei=(p=Hr.minElevation)!==null&&p!==void 0?p:this.elevation,Nr=(C=Hr.maxElevation)!==null&&C!==void 0?C:this.elevation;di=new Pc([di.min[0],di.min[1],ei],[di.max[0],di.max[1],Nr])}Ze.push({aabb:di,zoom:vr,x:qr,y:In,wrap:tt.wrap,fullyVisible:Ut})}}return We.sort((tt,bt)=>tt.distanceSq-bt.distanceSq).map(tt=>tt.tileID)}resize(u,p){this.width=u,this.height=p,this.pixelsToGLUnits=[2/u,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const p=s.ac(u.lat,-85.051129,Zd);return new s.P(s.N(u.lng)*this.worldSize,s.O(p)*this.worldSize)}unproject(u){return new s.Y(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const p=this.elevation,C=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,w=this.pointLocation(this.centerPoint,u),k=u.getElevationForLngLatZoom(w,this.tileZoom);if(!(this.elevation-k))return;const R=C+p-k,j=Math.cos(this._pitch)*this.cameraToCenterDistance/R/s.b3(1,w.lat),$=this.scaleZoom(j/this.tileSize);this._elevation=k,this._center=w,this.zoom=$}setLocationAtPoint(u,p){const C=this.pointCoordinate(p),w=this.pointCoordinate(this.centerPoint),k=this.locationCoordinate(u),R=new s.Y(k.x-(C.x-w.x),k.y-(C.y-w.y));this.center=this.coordinateLocation(R),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,p){return p?this.coordinatePoint(this.locationCoordinate(u),p.getElevationForLngLatZoom(u,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,p){return this.coordinateLocation(this.pointCoordinate(u,p))}locationCoordinate(u){return s.Y.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,p){if(p){const Oe=p.pointCoordinate(u);if(Oe!=null)return Oe}const C=[u.x,u.y,0,1],w=[u.x,u.y,1,1];s.af(C,C,this.pixelMatrixInverse),s.af(w,w,this.pixelMatrixInverse);const k=C[3],R=w[3],j=C[1]/k,$=w[1]/R,ie=C[2]/k,de=w[2]/R,fe=ie===de?0:(0-ie)/(de-ie);return new s.Y(s.z.number(C[0]/k,w[0]/R,fe)/this.worldSize,s.z.number(j,$,fe)/this.worldSize)}coordinatePoint(u,p=0,C=this.pixelMatrix){const w=[u.x*this.worldSize,u.y*this.worldSize,p,1];return s.af(w,w,C),new s.P(w[0]/w[3],w[1]/w[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new Rt().extend(this.pointLocation(new s.P(0,u))).extend(this.pointLocation(new s.P(this.width,u))).extend(this.pointLocation(new s.P(this.width,this.height))).extend(this.pointLocation(new s.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Rt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Zd])}calculatePosMatrix(u,p=!1){const C=u.key,w=p?this._alignedPosMatrixCache:this._posMatrixCache;if(w[C])return w[C];const k=u.canonical,R=this.worldSize/this.zoomScale(k.z),j=k.x+Math.pow(2,k.z)*u.wrap,$=s.an(new Float64Array(16));return s.H($,$,[j*R,k.y*R,0]),s.J($,$,[R/s.W,R/s.W,1]),s.K($,p?this.alignedProjMatrix:this.projMatrix,$),w[C]=new Float32Array($),w[C]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(u,p){p=s.ac(+p,this.minZoom,this.maxZoom);const C={center:new s.M(u.lng,u.lat),zoom:p};let w=this.lngRange;if(!this._renderWorldCopies&&w===null){const tt=179.9999999999;w=[-tt,tt]}const k=this.tileSize*this.zoomScale(C.zoom);let R=0,j=k,$=0,ie=k,de=0,fe=0;const{x:Oe,y:qe}=this.size;if(this.latRange){const tt=this.latRange;R=s.O(tt[1])*k,j=s.O(tt[0])*k,j-R<qe&&(de=qe/(j-R))}w&&($=s.b1(s.N(w[0])*k,0,k),ie=s.b1(s.N(w[1])*k,0,k),ie<$&&(ie+=k),ie-$<Oe&&(fe=Oe/(ie-$)));const{x:Ye,y:Ze}=this.project.call({worldSize:k},u);let We,ht;const Dt=Math.max(fe||0,de||0);if(Dt){const tt=new s.P(fe?(ie+$)/2:Ye,de?(j+R)/2:Ze);return C.center=this.unproject.call({worldSize:k},tt).wrap(),C.zoom+=this.scaleZoom(Dt),C}if(this.latRange){const tt=qe/2;Ze-tt<R&&(ht=R+tt),Ze+tt>j&&(ht=j-tt)}if(w){const tt=($+ie)/2;let bt=Ye;this._renderWorldCopies&&(bt=s.b1(Ye,tt-k/2,tt+k/2));const Kt=Oe/2;bt-Kt<$&&(We=$+Kt),bt+Kt>ie&&(We=ie-Kt)}if(We!==void 0||ht!==void 0){const tt=new s.P(We??Ye,ht??Ze);C.center=this.unproject.call({worldSize:k},tt).wrap()}return C}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const u=this._unmodified,{center:p,zoom:C}=this.getConstrained(this.center,this.zoom);this.center=p,this.zoom=C,this._unmodified=u,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,p=this.point.x,C=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.b3(1,this.center.lat)*this.worldSize;let w=s.an(new Float64Array(16));s.J(w,w,[this.width/2,-this.height/2,1]),s.H(w,w,[1,-1,0]),this.labelPlaneMatrix=w,w=s.an(new Float64Array(16)),s.J(w,w,[1,-1,1]),s.H(w,w,[-1,-1,0]),s.J(w,w,[2/this.width,2/this.height,1]),this.glCoordMatrix=w;const k=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),R=Math.min(this.elevation,this.minElevationForCurrentTile),j=k-R*this._pixelPerMeter/Math.cos(this._pitch),$=R<0?j:k,ie=Math.PI/2+this._pitch,de=this._fov*(.5+u.y/this.height),fe=Math.sin(de)*$/Math.sin(s.ac(Math.PI-ie-de,.01,Math.PI-.01)),Oe=this.getHorizon(),qe=2*Math.atan(Oe/this.cameraToCenterDistance)*(.5+u.y/(2*Oe)),Ye=Math.sin(qe)*$/Math.sin(s.ac(Math.PI-ie-qe,.01,Math.PI-.01)),Ze=Math.min(fe,Ye),We=1.01*(Math.cos(Math.PI/2-this._pitch)*Ze+$),ht=this.height/50;w=new Float64Array(16),s.b4(w,this._fov,this.width/this.height,ht,We),w[8]=2*-u.x/this.width,w[9]=2*u.y/this.height,s.J(w,w,[1,-1,1]),s.H(w,w,[0,0,-this.cameraToCenterDistance]),s.b5(w,w,this._pitch),s.ad(w,w,this.angle),s.H(w,w,[-p,-C,0]),this.mercatorMatrix=s.J([],w,[this.worldSize,this.worldSize,this.worldSize]),s.J(w,w,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.K(new Float64Array(16),this.labelPlaneMatrix,w),s.H(w,w,[0,0,-this.elevation]),this.projMatrix=w,this.invProjMatrix=s.ar([],w),this.pixelMatrix3D=s.K(new Float64Array(16),this.labelPlaneMatrix,w);const Dt=this.width%2/2,tt=this.height%2/2,bt=Math.cos(this.angle),Kt=Math.sin(this.angle),Ut=p-Math.round(p)+bt*Dt+Kt*tt,Xt=C-Math.round(C)+bt*tt+Kt*Dt,dn=new Float64Array(w);if(s.H(dn,dn,[Ut>.5?Ut-1:Ut,Xt>.5?Xt-1:Xt,0]),this.alignedProjMatrix=dn,w=s.ar(new Float64Array(16),this.pixelMatrix),!w)throw new Error("failed to invert matrix");this.pixelMatrixInverse=w,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new s.P(0,0)),p=[u.x*this.worldSize,u.y*this.worldSize,0,1];return s.af(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(0,u))}getCameraQueryGeometry(u){const p=this.getCameraPoint();if(u.length===1)return[u[0],p];{let C=p.x,w=p.y,k=p.x,R=p.y;for(const j of u)C=Math.min(C,j.x),w=Math.min(w,j.y),k=Math.max(k,j.x),R=Math.max(R,j.y);return[new s.P(C,w),new s.P(k,w),new s.P(k,R),new s.P(C,R),new s.P(C,w)]}}lngLatToCameraDepth(u,p){const C=this.locationCoordinate(u),w=[C.x*this.worldSize,C.y*this.worldSize,p,1];return s.af(w,w,this.projMatrix),w[2]/w[3]}}function Et(I,u){let p,C=!1,w=null,k=null;const R=()=>{w=null,C&&(I.apply(k,p),w=setTimeout(R,u),C=!1)};return(...j)=>(C=!0,k=this,p=j,w||R(),w)}class an{constructor(u){this._getCurrentHash=()=>{const p=window.location.hash.replace("#","");if(this._hashName){let C;return p.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(C=w)}),(C&&C[1]||"").split("/")}return p.split("/")},this._onHashChange=()=>{const p=this._getCurrentHash();if(p.length>=3&&!p.some(C=>isNaN(C))){const C=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(p[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+p[2],+p[1]],zoom:+p[0],bearing:C,pitch:+(p[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const p=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,p)}catch{}},this._updateHash=Et(this._updateHashUnthrottled,300),this._hashName=u&&encodeURIComponent(u)}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const p=this._map.getCenter(),C=Math.round(100*this._map.getZoom())/100,w=Math.ceil((C*Math.LN2+Math.log(512/360/.5))/Math.LN10),k=Math.pow(10,w),R=Math.round(p.lng*k)/k,j=Math.round(p.lat*k)/k,$=this._map.getBearing(),ie=this._map.getPitch();let de="";if(de+=u?`/${R}/${j}/${C}`:`${C}/${j}/${R}`,($||ie)&&(de+="/"+Math.round(10*$)/10),ie&&(de+=`/${Math.round(ie)}`),this._hashName){const fe=this._hashName;let Oe=!1;const qe=window.location.hash.slice(1).split("&").map(Ye=>{const Ze=Ye.split("=")[0];return Ze===fe?(Oe=!0,`${Ze}=${de}`):Ye}).filter(Ye=>Ye);return Oe||qe.push(`${fe}=${de}`),`#${qe.join("&")}`}return`#${de}`}}const jt={linearity:.3,easing:s.b6(0,0,.3,1)},hr=s.e({deceleration:2500,maxSpeed:1400},jt),li=s.e({deceleration:20,maxSpeed:1400},jt),oo=s.e({deceleration:1e3,maxSpeed:360},jt),Ka=s.e({deceleration:1e3,maxSpeed:90},jt);class To{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:E.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,p=E.now();for(;u.length>0&&p-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:k}of this._inertiaBuffer)p.zoom+=k.zoomDelta||0,p.bearing+=k.bearingDelta||0,p.pitch+=k.pitchDelta||0,k.panDelta&&p.pan._add(k.panDelta),k.around&&(p.around=k.around),k.pinchAround&&(p.pinchAround=k.pinchAround);const C=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(p.pan.mag()){const k=Xd(p.pan.mag(),C,s.e({},hr,u||{}));w.offset=p.pan.mult(k.amount/p.pan.mag()),w.center=this._map.transform.center,wA(w,k)}if(p.zoom){const k=Xd(p.zoom,C,li);w.zoom=this._map.transform.zoom+k.amount,wA(w,k)}if(p.bearing){const k=Xd(p.bearing,C,oo);w.bearing=this._map.transform.bearing+s.ac(k.amount,-179,179),wA(w,k)}if(p.pitch){const k=Xd(p.pitch,C,Ka);w.pitch=this._map.transform.pitch+k.amount,wA(w,k)}if(w.zoom||w.bearing){const k=p.pinchAround===void 0?p.around:p.pinchAround;w.around=k?this._map.unproject(k):this._map.getCenter()}return this.clear(),s.e(w,{noMoveStart:!0})}}function wA(I,u){(!I.duration||I.duration<u.duration)&&(I.duration=u.duration,I.easing=u.easing)}function Xd(I,u,p){const{maxSpeed:C,linearity:w,deceleration:k}=p,R=s.ac(I*w/(u/1e3),-C,C),j=Math.abs(R)/(k*w);return{easing:p.easing,duration:1e3*j,amount:R*(j/2)}}class Po extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,C,w={}){const k=O.mousePos(p.getCanvas(),C),R=p.unproject(k);super(u,s.e({point:k,lngLat:R,originalEvent:C},w)),this._defaultPrevented=!1,this.target=p}}class MA extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,C){const w=u==="touchend"?C.changedTouches:C.touches,k=O.touchPos(p.getCanvasContainer(),w),R=k.map($=>p.unproject($)),j=k.reduce(($,ie,de,fe)=>$.add(ie.div(fe.length)),new s.P(0,0));super(u,{points:k,point:j,lngLats:R,lngLat:p.unproject(j),originalEvent:C}),this._defaultPrevented=!1}}class ws extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,p,C){super(u,{originalEvent:C}),this._defaultPrevented=!1}}class Qa{constructor(u,p){this._map=u,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new ws(u.type,this._map,u))}mousedown(u,p){return this._mousedownPos=p,this._firePreventable(new Po(u.type,this._map,u))}mouseup(u){this._map.fire(new Po(u.type,this._map,u))}click(u,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new Po(u.type,this._map,u))}dblclick(u){return this._firePreventable(new Po(u.type,this._map,u))}mouseover(u){this._map.fire(new Po(u.type,this._map,u))}mouseout(u){this._map.fire(new Po(u.type,this._map,u))}touchstart(u){return this._firePreventable(new MA(u.type,this._map,u))}touchmove(u){this._map.fire(new MA(u.type,this._map,u))}touchend(u){this._map.fire(new MA(u.type,this._map,u))}touchcancel(u){this._map.fire(new MA(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Qu{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new Po(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Po("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new Po(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ls{constructor(u){this._map=u}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(u){return this.transform.pointLocation(s.P.convert(u),this._map.terrain)}}class Vi{constructor(u,p){this._map=u,this._tr=new ls(u),this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,p){this.isEnabled()&&u.shiftKey&&u.button===0&&(O.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(u,p){if(!this._active)return;const C=p;if(this._lastPos.equals(C)||!this._box&&C.dist(this._startPos)<this._clickTolerance)return;const w=this._startPos;this._lastPos=C,this._box||(this._box=O.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",u));const k=Math.min(w.x,C.x),R=Math.max(w.x,C.x),j=Math.min(w.y,C.y),$=Math.max(w.y,C.y);O.setTransform(this._box,`translate(${k}px,${j}px)`),this._box.style.width=R-k+"px",this._box.style.height=$-j+"px"}mouseupWindow(u,p){if(!this._active||u.button!==0)return;const C=this._startPos,w=p;if(this.reset(),O.suppressClick(),C.x!==w.x||C.y!==w.y)return this._map.fire(new s.k("boxzoomend",{originalEvent:u})),{cameraAnimation:k=>k.fitScreenCoordinates(C,w,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(O.remove(this._box),this._box=null),O.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,p){return this._map.fire(new s.k(u,{originalEvent:p}))}}function Gh(I,u){if(I.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${I.length}, points ${u.length}`);const p={};for(let C=0;C<I.length;C++)p[I[C].identifier]=u[C];return p}class $h{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,p,C){(this.centroid||C.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),C.length===this.numTouches&&(this.centroid=function(w){const k=new s.P(0,0);for(const R of w)k._add(R);return k.div(w.length)}(p),this.touches=Gh(C,p)))}touchmove(u,p,C){if(this.aborted||!this.centroid)return;const w=Gh(C,p);for(const k in this.touches){const R=w[k];(!R||R.dist(this.touches[k])>30)&&(this.aborted=!0)}}touchend(u,p,C){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),C.length===0){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class au{constructor(u){this.singleTap=new $h(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,p,C){this.singleTap.touchstart(u,p,C)}touchmove(u,p,C){this.singleTap.touchmove(u,p,C)}touchend(u,p,C){const w=this.singleTap.touchend(u,p,C);if(w){const k=u.timeStamp-this.lastTime<500,R=!this.lastTap||this.lastTap.dist(w)<30;if(k&&R||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class ZA{constructor(u){this._tr=new ls(u),this._zoomIn=new au({numTouches:1,numTaps:2}),this._zoomOut=new au({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,p,C){this._zoomIn.touchstart(u,p,C),this._zoomOut.touchstart(u,p,C)}touchmove(u,p,C){this._zoomIn.touchmove(u,p,C),this._zoomOut.touchmove(u,p,C)}touchend(u,p,C){const w=this._zoomIn.touchend(u,p,C),k=this._zoomOut.touchend(u,p,C),R=this._tr;return w?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom+1,around:R.unproject(w)},{originalEvent:u})}):k?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:j=>j.easeTo({duration:300,zoom:R.zoom-1,around:R.unproject(k)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ya{constructor(u){this._enabled=!!u.enable,this._moveStateManager=u.moveStateManager,this._clickTolerance=u.clickTolerance||1,this._moveFunction=u.move,this._activateOnStart=!!u.activateOnStart,u.assignEvents(this),this.reset()}reset(u){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(u)}_move(...u){const p=this._moveFunction(...u);if(p.bearingDelta||p.pitchDelta||p.around||p.panDelta)return this._active=!0,p}dragStart(u,p){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(u)&&(this._moveStateManager.startMove(u),this._lastPoint=p.length?p[0]:p,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(u,p){if(!this.isEnabled())return;const C=this._lastPoint;if(!C)return;if(u.preventDefault(),!this._moveStateManager.isValidMoveEvent(u))return void this.reset(u);const w=p.length?p[0]:p;return!this._moved&&w.dist(C)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=w,this._move(C,w))}dragEnd(u){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(u)&&(this._moved&&O.suppressClick(),this.reset(u))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const cl={0:1,2:2};class Nn{constructor(u){this._correctEvent=u.checkCorrectEvent}startMove(u){const p=O.mouseButton(u);this._eventButton=p}endMove(u){delete this._eventButton}isValidStartEvent(u){return this._correctEvent(u)}isValidMoveEvent(u){return!function(p,C){const w=cl[C];return p.buttons===void 0||(p.buttons&w)!==w}(u,this._eventButton)}isValidEndEvent(u){return O.mouseButton(u)===this._eventButton}}class zl{constructor(){this._firstTouch=void 0}_isOneFingerTouch(u){return u.targetTouches.length===1}_isSameTouchEvent(u){return u.targetTouches[0].identifier===this._firstTouch}startMove(u){this._firstTouch=u.targetTouches[0].identifier}endMove(u){delete this._firstTouch}isValidStartEvent(u){return this._isOneFingerTouch(u)}isValidMoveEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}isValidEndEvent(u){return this._isOneFingerTouch(u)&&this._isSameTouchEvent(u)}}const Yu=I=>{I.mousedown=I.dragStart,I.mousemoveWindow=I.dragMove,I.mouseup=I.dragEnd,I.contextmenu=function(u){u.preventDefault()}},XA=({enable:I,clickTolerance:u,bearingDegreesPerPixelMoved:p=.8})=>{const C=new Nn({checkCorrectEvent:w=>O.mouseButton(w)===0&&w.ctrlKey||O.mouseButton(w)===2});return new ya({clickTolerance:u,move:(w,k)=>({bearingDelta:(k.x-w.x)*p}),moveStateManager:C,enable:I,assignEvents:Yu})},qu=({enable:I,clickTolerance:u,pitchDegreesPerPixelMoved:p=-.5})=>{const C=new Nn({checkCorrectEvent:w=>O.mouseButton(w)===0&&w.ctrlKey||O.mouseButton(w)===2});return new ya({clickTolerance:u,move:(w,k)=>({pitchDelta:(k.y-w.y)*p}),moveStateManager:C,enable:I,assignEvents:Yu})};class Vn{constructor(u,p){this._clickTolerance=u.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(u,p,C){return this._calculateTransform(u,p,C)}touchmove(u,p,C){if(this._active&&!(C.length<this.minTouchs()))return u.preventDefault(),this._calculateTransform(u,p,C)}touchend(u,p,C){this._calculateTransform(u,p,C),this._active&&C.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,p,C){C.length>0&&(this._active=!0);const w=Gh(C,p),k=new s.P(0,0),R=new s.P(0,0);let j=0;for(const ie in w){const de=w[ie],fe=this._touches[ie];fe&&(k._add(de),R._add(de.sub(fe)),j++,w[ie]=de)}if(this._touches=w,j<this.minTouchs()||!R.mag())return;const $=R.div(j);return this._sum._add($),this._sum.mag()<this._clickTolerance?void 0:{around:k.div(j),panDelta:$}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class JA{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(u,p,C){this._firstTwoTouches||C.length<2||(this._firstTwoTouches=[C[0].identifier,C[1].identifier],this._start([p[0],p[1]]))}touchmove(u,p,C){if(!this._firstTwoTouches)return;u.preventDefault();const[w,k]=this._firstTwoTouches,R=Hu(C,p,w),j=Hu(C,p,k);if(!R||!j)return;const $=this._aroundCenter?null:R.add(j).div(2);return this._move([R,j],$,u)}touchend(u,p,C){if(!this._firstTwoTouches)return;const[w,k]=this._firstTwoTouches,R=Hu(C,p,w),j=Hu(C,p,k);R&&j||(this._active&&O.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Hu(I,u,p){for(let C=0;C<I.length;C++)if(I[C].identifier===p)return u[C]}function ep(I,u){return Math.log(I/u)/Math.LN2}class Vu extends JA{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,p){const C=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(ep(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ep(this._distance,C),pinchAround:p}}}function Zu(I,u){return 180*I.angleWith(u)/Math.PI}class ec extends JA{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,p,C){const w=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Zu(this._vector,w),pinchAround:p}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const p=25/(Math.PI*this._minDiameter)*360,C=Zu(u,this._startVector);return Math.abs(C)<p}}function Jd(I){return Math.abs(I.y)>Math.abs(I.x)}class Kc extends JA{constructor(u){super(),this._currentTouchCount=0,this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,p,C){super.touchstart(u,p,C),this._currentTouchCount=C.length}_start(u){this._lastPoints=u,Jd(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,p,C){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const w=u[0].sub(this._lastPoints[0]),k=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(w,k,C.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(w.y+k.y)/2*-.5}):void 0}gestureBeginsVertically(u,p,C){if(this._valid!==void 0)return this._valid;const w=u.mag()>=2,k=p.mag()>=2;if(!w&&!k)return;if(!w||!k)return this._firstMove===void 0&&(this._firstMove=C),C-this._firstMove<100&&void 0;const R=u.y>0==p.y>0;return Jd(u)&&Jd(p)&&R}}const Xu={panStep:100,bearingStep:15,pitchStep:10};class wo{constructor(u){this._tr=new ls(u);const p=Xu;this._panStep=p.panStep,this._bearingStep=p.bearingStep,this._pitchStep=p.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let p=0,C=0,w=0,k=0,R=0;switch(u.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:u.shiftKey?C=-1:(u.preventDefault(),k=-1);break;case 39:u.shiftKey?C=1:(u.preventDefault(),k=1);break;case 38:u.shiftKey?w=1:(u.preventDefault(),R=-1);break;case 40:u.shiftKey?w=-1:(u.preventDefault(),R=1);break;default:return}return this._rotationDisabled&&(C=0,w=0),{cameraAnimation:j=>{const $=this._tr;j.easeTo({duration:300,easeId:"keyboardHandler",easing:Ju,zoom:p?Math.round($.zoom)+p*(u.shiftKey?2:1):$.zoom,bearing:$.bearing+C*this._bearingStep,pitch:$.pitch+w*this._pitchStep,offset:[-k*this._panStep,-R*this._panStep],center:$.center},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ju(I){return I*(2-I)}const dd=4.000244140625;class tp{constructor(u,p){this._onTimeout=C=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(C)},this._map=u,this._tr=new ls(u),this._triggerRenderFrame=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!u[this._map.cooperativeGestures._bypassKey])return;let p=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const C=E.now(),w=C-(this._lastWheelEventTime||0);this._lastWheelEventTime=C,p!==0&&p%dd==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(w*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),u.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=u,this._delta-=p,this._active||this._start(u)),u.preventDefault()}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=O.mousePos(this._map.getCanvas(),u),C=this._tr;this._around=p.y>C.transform.height/2-C.transform.getHorizon()?s.M.convert(this._aroundCenter?C.center:C.unproject(p)):s.M.convert(C.center),this._aroundPoint=C.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._tr.transform;if(this._delta!==0){const j=this._type==="wheel"&&Math.abs(this._delta)>dd?this._wheelZoomRate:this._defaultZoomRate;let $=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&$!==0&&($=1/$);const ie=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(ie*$))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,C=this._startZoom,w=this._easing;let k,R=!1;if(this._type==="wheel"&&C&&w){const j=Math.min((E.now()-this._lastWheelEventTime)/200,1),$=w(j);k=s.z.number(C,p,$),j<1?this._frameId||(this._frameId=!0):R=!0}else k=p,R=!0;return this._active=!0,R&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!R,zoomDelta:k-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let p=s.b7;if(this._prevEase){const C=this._prevEase,w=(E.now()-C.start)/C.duration,k=C.easing(w+.01)-C.easing(w),R=.27/Math.sqrt(k*k+1e-4)*.01,j=Math.sqrt(.0729-R*R);p=s.b6(R,j,.25,1)}return this._prevEase={start:E.now(),duration:u,easing:p},p}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Qh{constructor(u,p){this._clickZoom=u,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Yh{constructor(u){this._tr=new ls(u),this.reset()}reset(){this._active=!1}dblclick(u,p){return u.preventDefault(),{cameraAnimation:C=>{C.easeTo({duration:300,zoom:this._tr.zoom+(u.shiftKey?-1:1),around:this._tr.unproject(p)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class np{constructor(){this._tap=new au({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(u,p,C){if(!this._swipePoint)if(this._tapTime){const w=p[0],k=u.timeStamp-this._tapTime<500,R=this._tapPoint.dist(w)<30;k&&R?C.length>0&&(this._swipePoint=w,this._swipeTouch=C[0].identifier):this.reset()}else this._tap.touchstart(u,p,C)}touchmove(u,p,C){if(this._tapTime){if(this._swipePoint){if(C[0].identifier!==this._swipeTouch)return;const w=p[0],k=w.y-this._swipePoint.y;return this._swipePoint=w,u.preventDefault(),this._active=!0,{zoomDelta:k/128}}}else this._tap.touchmove(u,p,C)}touchend(u,p,C){if(this._tapTime)this._swipePoint&&C.length===0&&this.reset();else{const w=this._tap.touchend(u,p,C);w&&(this._tapTime=u.timeStamp,this._tapPoint=w)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ao{constructor(u,p,C){this._el=u,this._mousePan=p,this._touchPan=C}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ua{constructor(u,p,C){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=p,this._mousePitch=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class br{constructor(u,p,C,w){this._el=u,this._touchZoom=p,this._touchRotate=C,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Br{constructor(u,p){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=u,this._options=p,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const u=this._map.getCanvasContainer();u.classList.add("maplibregl-cooperative-gestures"),this._container=O.create("div","maplibregl-cooperative-gesture-screen",u);let p=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(p=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const C=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),w=document.createElement("div");w.className="maplibregl-desktop-message",w.textContent=p,this._container.appendChild(w);const k=document.createElement("div");k.className="maplibregl-mobile-message",k.textContent=C,this._container.appendChild(k),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(O.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(u){this._onCooperativeGesture(u.touches.length===1)}wheel(u){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!u[this._bypassKey])}_onCooperativeGesture(u){this._enabled&&u&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const SA=I=>I.zoom||I.drag||I.pitch||I.rotate;class Dc extends s.k{}function tc(I){return I.panDelta&&I.panDelta.mag()||I.zoomDelta||I.bearingDelta||I.pitchDelta}class Aa{constructor(u,p){this.handleWindowEvent=w=>{this.handleEvent(w,`${w.type}Window`)},this.handleEvent=(w,k)=>{if(w.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const R=w.type==="renderFrame"?void 0:w,j={needsRenderFrame:!1},$={},ie={},de=w.touches,fe=de?this._getMapTouches(de):void 0,Oe=fe?O.touchPos(this._map.getCanvas(),fe):O.mousePos(this._map.getCanvas(),w);for(const{handlerName:Ze,handler:We,allowed:ht}of this._handlers){if(!We.isEnabled())continue;let Dt;this._blockedByActive(ie,ht,Ze)?We.reset():We[k||w.type]&&(Dt=We[k||w.type](w,Oe,fe),this.mergeHandlerResult(j,$,Dt,Ze,R),Dt&&Dt.needsRenderFrame&&this._triggerRenderFrame()),(Dt||We.isActive())&&(ie[Ze]=We)}const qe={};for(const Ze in this._previousActiveHandlers)ie[Ze]||(qe[Ze]=R);this._previousActiveHandlers=ie,(Object.keys(qe).length||tc(j))&&(this._changes.push([j,$,qe]),this._triggerRenderFrame()),(Object.keys(ie).length||tc(j))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ye}=j;Ye&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ye(this._map))},this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new To(u),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p);const C=this._el;this._listeners=[[C,"touchstart",{passive:!0}],[C,"touchmove",{passive:!1}],[C,"touchend",void 0],[C,"touchcancel",void 0],[C,"mousedown",void 0],[C,"mousemove",void 0],[C,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[C,"mouseover",void 0],[C,"mouseout",void 0],[C,"dblclick",void 0],[C,"click",void 0],[C,"keydown",{capture:!1}],[C,"keyup",void 0],[C,"wheel",{passive:!1}],[C,"contextmenu",void 0],[window,"blur",void 0]];for(const[w,k,R]of this._listeners)O.addEventListener(w,k,w===document?this.handleWindowEvent:this.handleEvent,R)}destroy(){for(const[u,p,C]of this._listeners)O.removeEventListener(u,p,u===document?this.handleWindowEvent:this.handleEvent,C)}_addDefaultHandlers(u){const p=this._map,C=p.getCanvasContainer();this._add("mapEvent",new Qa(p,u));const w=p.boxZoom=new Vi(p,u);this._add("boxZoom",w),u.interactive&&u.boxZoom&&w.enable();const k=p.cooperativeGestures=new Br(p,u.cooperativeGestures);this._add("cooperativeGestures",k),u.cooperativeGestures&&k.enable();const R=new ZA(p),j=new Yh(p);p.doubleClickZoom=new Qh(j,R),this._add("tapZoom",R),this._add("clickZoom",j),u.interactive&&u.doubleClickZoom&&p.doubleClickZoom.enable();const $=new np;this._add("tapDragZoom",$);const ie=p.touchPitch=new Kc(p);this._add("touchPitch",ie),u.interactive&&u.touchPitch&&p.touchPitch.enable(u.touchPitch);const de=XA(u),fe=qu(u);p.dragRotate=new ua(u,de,fe),this._add("mouseRotate",de,["mousePitch"]),this._add("mousePitch",fe,["mouseRotate"]),u.interactive&&u.dragRotate&&p.dragRotate.enable();const Oe=(({enable:Dt,clickTolerance:tt})=>{const bt=new Nn({checkCorrectEvent:Kt=>O.mouseButton(Kt)===0&&!Kt.ctrlKey});return new ya({clickTolerance:tt,move:(Kt,Ut)=>({around:Ut,panDelta:Ut.sub(Kt)}),activateOnStart:!0,moveStateManager:bt,enable:Dt,assignEvents:Yu})})(u),qe=new Vn(u,p);p.dragPan=new ao(C,Oe,qe),this._add("mousePan",Oe),this._add("touchPan",qe,["touchZoom","touchRotate"]),u.interactive&&u.dragPan&&p.dragPan.enable(u.dragPan);const Ye=new ec,Ze=new Vu;p.touchZoomRotate=new br(C,Ze,Ye,$),this._add("touchRotate",Ye,["touchPan","touchZoom"]),this._add("touchZoom",Ze,["touchPan","touchRotate"]),u.interactive&&u.touchZoomRotate&&p.touchZoomRotate.enable(u.touchZoomRotate);const We=p.scrollZoom=new tp(p,()=>this._triggerRenderFrame());this._add("scrollZoom",We,["mousePan"]),u.interactive&&u.scrollZoom&&p.scrollZoom.enable(u.scrollZoom);const ht=p.keyboard=new wo(p);this._add("keyboard",ht),u.interactive&&u.keyboard&&p.keyboard.enable(),this._add("blockableMapEvent",new Qu(p))}_add(u,p,C){this._handlers.push({handlerName:u,handler:p,allowed:C}),this._handlersById[u]=p}stop(u){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!SA(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,p,C){for(const w in u)if(w!==C&&(!p||p.indexOf(w)<0))return!0;return!1}_getMapTouches(u){const p=[];for(const C of u)this._el.contains(C.target)&&p.push(C);return p}mergeHandlerResult(u,p,C,w,k){if(!C)return;s.e(u,C);const R={handlerName:w,originalEvent:C.originalEvent||k};C.zoomDelta!==void 0&&(p.zoom=R),C.panDelta!==void 0&&(p.drag=R),C.pitchDelta!==void 0&&(p.pitch=R),C.bearingDelta!==void 0&&(p.rotate=R)}_applyChanges(){const u={},p={},C={};for(const[w,k,R]of this._changes)w.panDelta&&(u.panDelta=(u.panDelta||new s.P(0,0))._add(w.panDelta)),w.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+w.pitchDelta),w.around!==void 0&&(u.around=w.around),w.pinchAround!==void 0&&(u.pinchAround=w.pinchAround),w.noInertia&&(u.noInertia=w.noInertia),s.e(p,k),s.e(C,R);this._updateMapTransform(u,p,C),this._changes=[]}_updateMapTransform(u,p,C){const w=this._map,k=w._getTransformForUpdate(),R=w.terrain;if(!(tc(u)||R&&this._terrainMovement))return this._fireEvents(p,C,!0);let{panDelta:j,zoomDelta:$,bearingDelta:ie,pitchDelta:de,around:fe,pinchAround:Oe}=u;Oe!==void 0&&(fe=Oe),w._stop(!0),fe=fe||w.transform.centerPoint;const qe=k.pointLocation(j?fe.sub(j):fe);ie&&(k.bearing+=ie),de&&(k.pitch+=de),$&&(k.zoom+=$),R?this._terrainMovement||!p.drag&&!p.zoom?p.drag&&this._terrainMovement?k.center=k.pointLocation(k.centerPoint.sub(j)):k.setLocationAtPoint(qe,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,k.setLocationAtPoint(qe,fe),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,k.recalculateZoom(w.terrain)})):k.setLocationAtPoint(qe,fe),w._applyUpdatedTransform(k),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(p,C,!0)}_fireEvents(u,p,C){const w=SA(this._eventsInProgress),k=SA(u),R={};for(const de in u){const{originalEvent:fe}=u[de];this._eventsInProgress[de]||(R[`${de}start`]=fe),this._eventsInProgress[de]=u[de]}!w&&k&&this._fireEvent("movestart",k.originalEvent);for(const de in R)this._fireEvent(de,R[de]);k&&this._fireEvent("move",k.originalEvent);for(const de in u){const{originalEvent:fe}=u[de];this._fireEvent(de,fe)}const j={};let $;for(const de in this._eventsInProgress){const{handlerName:fe,originalEvent:Oe}=this._eventsInProgress[de];this._handlersById[fe].isActive()||(delete this._eventsInProgress[de],$=p[fe]||Oe,j[`${de}end`]=$)}for(const de in j)this._fireEvent(de,j[de]);const ie=SA(this._eventsInProgress);if(C&&(w||k)&&!ie){this._updatingCamera=!0;const de=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),fe=Oe=>Oe!==0&&-this._bearingSnap<Oe&&Oe<this._bearingSnap;!de||!de.essential&&E.prefersReducedMotion?(this._map.fire(new s.k("moveend",{originalEvent:$})),fe(this._map.getBearing())&&this._map.resetNorth()):(fe(de.bearing||this._map.getBearing())&&(de.bearing=0),de.freezeElevation=!0,this._map.easeTo(de,{originalEvent:$})),this._updatingCamera=!1}}_fireEvent(u,p){this._map.fire(new s.k(u,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new Dc("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class nc extends s.E{constructor(u,p){super(),this._renderFrameCallback=()=>{const C=Math.min((E.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(C)),C<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=p.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new s.M(this.transform.center.lng,this.transform.center.lat)}setCenter(u,p){return this.jumpTo({center:u},p)}panBy(u,p,C){return u=s.P.convert(u).mult(-1),this.panTo(this.transform.center,s.e({offset:u},p),C)}panTo(u,p,C){return this.easeTo(s.e({center:u},p),C)}getZoom(){return this.transform.zoom}setZoom(u,p){return this.jumpTo({zoom:u},p),this}zoomTo(u,p,C){return this.easeTo(s.e({zoom:u},p),C)}zoomIn(u,p){return this.zoomTo(this.getZoom()+1,u,p),this}zoomOut(u,p){return this.zoomTo(this.getZoom()-1,u,p),this}getBearing(){return this.transform.bearing}setBearing(u,p){return this.jumpTo({bearing:u},p),this}getPadding(){return this.transform.padding}setPadding(u,p){return this.jumpTo({padding:u},p),this}rotateTo(u,p,C){return this.easeTo(s.e({bearing:u},p),C)}resetNorth(u,p){return this.rotateTo(0,s.e({duration:1e3},u),p),this}resetNorthPitch(u,p){return this.easeTo(s.e({bearing:0,pitch:0,duration:1e3},u),p),this}snapToNorth(u,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,p):this}getPitch(){return this.transform.pitch}setPitch(u,p){return this.jumpTo({pitch:u},p),this}cameraForBounds(u,p){u=Rt.convert(u);const C=p&&p.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),C,p)}_cameraForBoxAndBearing(u,p,C,w){const k={top:0,bottom:0,right:0,left:0};if(typeof(w=s.e({padding:k,offset:[0,0],maxZoom:this.transform.maxZoom},w)).padding=="number"){const $n=w.padding;w.padding={top:$n,bottom:$n,right:$n,left:$n}}w.padding=s.e(k,w.padding);const R=this.transform,j=R.padding,$=new Rt(u,p),ie=R.project($.getNorthWest()),de=R.project($.getNorthEast()),fe=R.project($.getSouthEast()),Oe=R.project($.getSouthWest()),qe=s.b8(-C),Ye=ie.rotate(qe),Ze=de.rotate(qe),We=fe.rotate(qe),ht=Oe.rotate(qe),Dt=new s.P(Math.max(Ye.x,Ze.x,ht.x,We.x),Math.max(Ye.y,Ze.y,ht.y,We.y)),tt=new s.P(Math.min(Ye.x,Ze.x,ht.x,We.x),Math.min(Ye.y,Ze.y,ht.y,We.y)),bt=Dt.sub(tt),Kt=(R.width-(j.left+j.right+w.padding.left+w.padding.right))/bt.x,Ut=(R.height-(j.top+j.bottom+w.padding.top+w.padding.bottom))/bt.y;if(Ut<0||Kt<0)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Xt=Math.min(R.scaleZoom(R.scale*Math.min(Kt,Ut)),w.maxZoom),dn=s.P.convert(w.offset),un=new s.P((w.padding.left-w.padding.right)/2,(w.padding.top-w.padding.bottom)/2).rotate(s.b8(C)),pn=dn.add(un).mult(R.scale/R.zoomScale(Xt));return{center:R.unproject(ie.add(fe).div(2).sub(pn)),zoom:Xt,bearing:C}}fitBounds(u,p,C){return this._fitInternal(this.cameraForBounds(u,p),p,C)}fitScreenCoordinates(u,p,C,w,k){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.P.convert(u)),this.transform.pointLocation(s.P.convert(p)),C,w),w,k)}_fitInternal(u,p,C){return u?(delete(p=s.e(u,p)).padding,p.linear?this.easeTo(p,C):this.flyTo(p,C)):this}jumpTo(u,p){this.stop();const C=this._getTransformForUpdate();let w=!1,k=!1,R=!1;return"zoom"in u&&C.zoom!==+u.zoom&&(w=!0,C.zoom=+u.zoom),u.center!==void 0&&(C.center=s.M.convert(u.center)),"bearing"in u&&C.bearing!==+u.bearing&&(k=!0,C.bearing=+u.bearing),"pitch"in u&&C.pitch!==+u.pitch&&(R=!0,C.pitch=+u.pitch),u.padding==null||C.isPaddingEqual(u.padding)||(C.padding=u.padding),this._applyUpdatedTransform(C),this.fire(new s.k("movestart",p)).fire(new s.k("move",p)),w&&this.fire(new s.k("zoomstart",p)).fire(new s.k("zoom",p)).fire(new s.k("zoomend",p)),k&&this.fire(new s.k("rotatestart",p)).fire(new s.k("rotate",p)).fire(new s.k("rotateend",p)),R&&this.fire(new s.k("pitchstart",p)).fire(new s.k("pitch",p)).fire(new s.k("pitchend",p)),this.fire(new s.k("moveend",p))}calculateCameraOptionsFromTo(u,p,C,w=0){const k=s.Y.fromLngLat(u,p),R=s.Y.fromLngLat(C,w),j=R.x-k.x,$=R.y-k.y,ie=R.z-k.z,de=Math.hypot(j,$,ie);if(de===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(j,$),Oe=this.transform.scaleZoom(this.transform.cameraToCenterDistance/de/this.transform.tileSize),qe=180*Math.atan2(j,-$)/Math.PI;let Ye=180*Math.acos(fe/de)/Math.PI;return Ye=ie<0?90-Ye:90+Ye,{center:R.toLngLat(),zoom:Oe,pitch:Ye,bearing:qe}}easeTo(u,p){var C;this._stop(!1,u.easeId),((u=s.e({offset:[0,0],duration:500,easing:s.b7},u)).animate===!1||!u.essential&&E.prefersReducedMotion)&&(u.duration=0);const w=this._getTransformForUpdate(),k=this.getZoom(),R=this.getBearing(),j=this.getPitch(),$=this.getPadding(),ie="bearing"in u?this._normalizeBearing(u.bearing,R):R,de="pitch"in u?+u.pitch:j,fe="padding"in u?u.padding:w.padding,Oe=s.P.convert(u.offset);let qe=w.centerPoint.add(Oe);const Ye=w.pointLocation(qe),{center:Ze,zoom:We}=w.getConstrained(s.M.convert(u.center||Ye),(C=u.zoom)!==null&&C!==void 0?C:k);this._normalizeCenter(Ze);const ht=w.project(Ye),Dt=w.project(Ze).sub(ht),tt=w.zoomScale(We-k);let bt,Kt;u.around&&(bt=s.M.convert(u.around),Kt=w.locationPoint(bt));const Ut={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||We!==k,this._rotating=this._rotating||R!==ie,this._pitching=this._pitching||de!==j,this._padding=!w.isPaddingEqual(fe),this._easeId=u.easeId,this._prepareEase(p,u.noMoveStart,Ut),this.terrain&&this._prepareElevation(Ze),this._ease(Xt=>{if(this._zooming&&(w.zoom=s.z.number(k,We,Xt)),this._rotating&&(w.bearing=s.z.number(R,ie,Xt)),this._pitching&&(w.pitch=s.z.number(j,de,Xt)),this._padding&&(w.interpolatePadding($,fe,Xt),qe=w.centerPoint.add(Oe)),this.terrain&&!u.freezeElevation&&this._updateElevation(Xt),bt)w.setLocationAtPoint(bt,Kt);else{const dn=w.zoomScale(w.zoom-k),un=We>k?Math.min(2,tt):Math.max(.5,tt),pn=Math.pow(un,1-Xt),$n=w.unproject(ht.add(Dt.mult(Xt*pn)).mult(dn));w.setLocationAtPoint(w.renderWorldCopies?$n.wrap():$n,qe)}this._applyUpdatedTransform(w),this._fireMoveEvents(p)},Xt=>{this.terrain&&this._finalizeElevation(),this._afterEase(p,Xt)},u),this}_prepareEase(u,p,C={}){this._moving=!0,p||C.moving||this.fire(new s.k("movestart",u)),this._zooming&&!C.zooming&&this.fire(new s.k("zoomstart",u)),this._rotating&&!C.rotating&&this.fire(new s.k("rotatestart",u)),this._pitching&&!C.pitching&&this.fire(new s.k("pitchstart",u))}_prepareElevation(u){this._elevationCenter=u,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(u){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const p=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(u<1&&p!==this._elevationTarget){const C=this._elevationTarget-this._elevationStart;this._elevationStart+=u*(C-(p-(C*u+this._elevationStart))/(1-u)),this._elevationTarget=p}this.transform.elevation=s.z.number(this._elevationStart,this._elevationTarget,u)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(u){if(!this.transformCameraUpdate)return;const p=u.clone(),{center:C,zoom:w,pitch:k,bearing:R,elevation:j}=this.transformCameraUpdate(p);C&&(p.center=C),w!==void 0&&(p.zoom=w),k!==void 0&&(p.pitch=k),R!==void 0&&(p.bearing=R),j!==void 0&&(p.elevation=j),this.transform.apply(p)}_fireMoveEvents(u){this.fire(new s.k("move",u)),this._zooming&&this.fire(new s.k("zoom",u)),this._rotating&&this.fire(new s.k("rotate",u)),this._pitching&&this.fire(new s.k("pitch",u))}_afterEase(u,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId;const C=this._zooming,w=this._rotating,k=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new s.k("zoomend",u)),w&&this.fire(new s.k("rotateend",u)),k&&this.fire(new s.k("pitchend",u)),this.fire(new s.k("moveend",u))}flyTo(u,p){var C;if(!u.essential&&E.prefersReducedMotion){const Ti=s.L(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ti,p)}this.stop(),u=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.b7},u);const w=this._getTransformForUpdate(),k=this.getZoom(),R=this.getBearing(),j=this.getPitch(),$=this.getPadding(),ie="bearing"in u?this._normalizeBearing(u.bearing,R):R,de="pitch"in u?+u.pitch:j,fe="padding"in u?u.padding:w.padding,Oe=s.P.convert(u.offset);let qe=w.centerPoint.add(Oe);const Ye=w.pointLocation(qe),{center:Ze,zoom:We}=w.getConstrained(s.M.convert(u.center||Ye),(C=u.zoom)!==null&&C!==void 0?C:k);this._normalizeCenter(Ze);const ht=w.zoomScale(We-k),Dt=w.project(Ye),tt=w.project(Ze).sub(Dt);let bt=u.curve;const Kt=Math.max(w.width,w.height),Ut=Kt/ht,Xt=tt.mag();if("minZoom"in u){const Ti=s.ac(Math.min(u.minZoom,k,We),w.minZoom,w.maxZoom),Hr=Kt/w.zoomScale(Ti-k);bt=Math.sqrt(Hr/Xt*2)}const dn=bt*bt;function un(Ti){const Hr=(Ut*Ut-Kt*Kt+(Ti?-1:1)*dn*dn*Xt*Xt)/(2*(Ti?Ut:Kt)*dn*Xt);return Math.log(Math.sqrt(Hr*Hr+1)-Hr)}function pn(Ti){return(Math.exp(Ti)-Math.exp(-Ti))/2}function $n(Ti){return(Math.exp(Ti)+Math.exp(-Ti))/2}const qr=un(!1);let In=function(Ti){return $n(qr)/$n(qr+bt*Ti)},vr=function(Ti){return Kt*(($n(qr)*(pn(Hr=qr+bt*Ti)/$n(Hr))-pn(qr))/dn)/Xt;var Hr},di=(un(!0)-qr)/bt;if(Math.abs(Xt)<1e-6||!isFinite(di)){if(Math.abs(Kt-Ut)<1e-6)return this.easeTo(u,p);const Ti=Ut<Kt?-1:1;di=Math.abs(Math.log(Ut/Kt))/bt,vr=function(){return 0},In=function(Hr){return Math.exp(Ti*bt*Hr)}}return u.duration="duration"in u?+u.duration:1e3*di/("screenSpeed"in u?+u.screenSpeed/bt:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=R!==ie,this._pitching=de!==j,this._padding=!w.isPaddingEqual(fe),this._prepareEase(p,!1),this.terrain&&this._prepareElevation(Ze),this._ease(Ti=>{const Hr=Ti*di,ei=1/In(Hr);w.zoom=Ti===1?We:k+w.scaleZoom(ei),this._rotating&&(w.bearing=s.z.number(R,ie,Ti)),this._pitching&&(w.pitch=s.z.number(j,de,Ti)),this._padding&&(w.interpolatePadding($,fe,Ti),qe=w.centerPoint.add(Oe)),this.terrain&&!u.freezeElevation&&this._updateElevation(Ti);const Nr=Ti===1?Ze:w.unproject(Dt.add(tt.mult(vr(Hr))).mult(ei));w.setLocationAtPoint(w.renderWorldCopies?Nr.wrap():Nr,qe),this._applyUpdatedTransform(w),this._fireMoveEvents(p)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(p)},u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,p)}if(!u){const C=this.handlers;C&&C.stop(!1)}return this}_ease(u,p,C){C.animate===!1||C.duration===0?(u(1),p()):(this._easeStart=E.now(),this._easeOptions=C,this._onEaseFrame=u,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(u,p){u=s.b1(u,-180,180);const C=Math.abs(u-p);return Math.abs(u-360-p)<C&&(u-=360),Math.abs(u+360-p)<C&&(u+=360),u}_normalizeCenter(u){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const C=u.lng-p.center.lng;u.lng+=C>180?-360:C<-180?360:0}queryTerrainElevation(u){return this.terrain?this.terrain.getElevationForLngLatZoom(s.M.convert(u),this.transform.tileZoom)-this.transform.elevation:null}}const ka={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class eA{constructor(u=ka){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=p=>{!p||p.sourceDataType!=="metadata"&&p.sourceDataType!=="visibility"&&p.dataType!=="style"&&p.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=u}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options.compact,this._container=O.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=O.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,p){const C=this._map._getUIString(`AttributionControl.${p}`);u.title=C,u.setAttribute("aria-label",C)}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(w=>typeof w!="string"?"":w)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const p=this._map.style.sourceCaches;for(const w in p){const k=p[w];if(k.used||k.usedForTerrain){const R=k.getSource();R.attribution&&u.indexOf(R.attribution)<0&&u.push(R.attribution)}}u=u.filter(w=>String(w).trim()),u.sort((w,k)=>w.length-k.length),u=u.filter((w,k)=>{for(let R=k+1;R<u.length;R++)if(u[R].indexOf(w)>=0)return!1;return!0});const C=u.join(" | ");C!==this._attribHTML&&(this._attribHTML=C,u.length?(this._innerContainer.innerHTML=C,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class dl{constructor(u={}){this._updateCompact=()=>{const p=this._container.children;if(p.length){const C=p[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&C.classList.add("maplibregl-compact"):C.classList.remove("maplibregl-compact")}},this.options=u}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=O.create("div","maplibregl-ctrl");const p=O.create("a","maplibregl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){O.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class No{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const p=++this._id;return this._queue.push({callback:u,id:p,cancelled:!1}),p}remove(u){const p=this._currentlyRunning,C=p?this._queue.concat(p):this._queue;for(const w of C)if(w.id===u)return void(w.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const C of p)if(!C.cancelled&&(C.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Go=s.X([{name:"a_pos3d",type:"Int16",components:3}]);class rp extends s.E{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(u,p){this.sourceCache.update(u,p),this._renderableTilesKeys=[];const C={};for(const w of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))C[w.key]=!0,this._renderableTilesKeys.push(w.key),this._tiles[w.key]||(w.posMatrix=new Float64Array(16),s.aN(w.posMatrix,0,s.W,0,s.W,0,1),this._tiles[w.key]=new At(w,this.tileSize));for(const w in this._tiles)C[w]||delete this._tiles[w]}freeRtt(u){for(const p in this._tiles){const C=this._tiles[p];(!u||C.tileID.equals(u)||C.tileID.isChildOf(u)||u.isChildOf(C.tileID))&&(C.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const p={};for(const C of this._renderableTilesKeys){const w=this._tiles[C].tileID;if(w.canonical.equals(u.canonical)){const k=u.clone();k.posMatrix=new Float64Array(16),s.aN(k.posMatrix,0,s.W,0,s.W,0,1),p[C]=k}else if(w.canonical.isChildOf(u.canonical)){const k=u.clone();k.posMatrix=new Float64Array(16);const R=w.canonical.z-u.canonical.z,j=w.canonical.x-(w.canonical.x>>R<<R),$=w.canonical.y-(w.canonical.y>>R<<R),ie=s.W>>R;s.aN(k.posMatrix,0,ie,0,ie,0,1),s.H(k.posMatrix,k.posMatrix,[-j*ie,-$*ie,0]),p[C]=k}else if(u.canonical.isChildOf(w.canonical)){const k=u.clone();k.posMatrix=new Float64Array(16);const R=u.canonical.z-w.canonical.z,j=u.canonical.x-(u.canonical.x>>R<<R),$=u.canonical.y-(u.canonical.y>>R<<R),ie=s.W>>R;s.aN(k.posMatrix,0,s.W,0,s.W,0,1),s.H(k.posMatrix,k.posMatrix,[j*ie,$*ie,0]),s.J(k.posMatrix,k.posMatrix,[1/2**R,1/2**R,0]),p[C]=k}}return p}getSourceTile(u,p){const C=this.sourceCache._source;let w=u.overscaledZ-this.deltaZoom;if(w>C.maxzoom&&(w=C.maxzoom),w<C.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(w).key);let k=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!k||!k.dem)&&p)for(;w>=C.minzoom&&(!k||!k.dem);)k=this.sourceCache.getTileByID(u.scaledTo(w--).key);return k}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(p=>p.timeAdded>=u)}}class eh{constructor(u,p,C){this.painter=u,this.sourceCache=new rp(p),this.options=C,this.exaggeration=typeof C.exaggeration=="number"?C.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(u,p,C,w=s.W){var k;if(!(p>=0&&p<w&&C>=0&&C<w))return 0;const R=this.getTerrainData(u),j=(k=R.tile)===null||k===void 0?void 0:k.dem;if(!j)return 0;const $=function(Ye,Ze,We){var ht=Ze[0],Dt=Ze[1];return Ye[0]=We[0]*ht+We[4]*Dt+We[12],Ye[1]=We[1]*ht+We[5]*Dt+We[13],Ye}([],[p/w*s.W,C/w*s.W],R.u_terrain_matrix),ie=[$[0]*j.dim,$[1]*j.dim],de=Math.floor(ie[0]),fe=Math.floor(ie[1]),Oe=ie[0]-de,qe=ie[1]-fe;return j.get(de,fe)*(1-Oe)*(1-qe)+j.get(de+1,fe)*Oe*(1-qe)+j.get(de,fe+1)*(1-Oe)*qe+j.get(de+1,fe+1)*Oe*qe}getElevationForLngLatZoom(u,p){const{tileID:C,mercatorX:w,mercatorY:k}=this._getOverscaledTileIDFromLngLatZoom(u,p);return this.getElevation(C,w%s.W,k%s.W,s.W)}getElevation(u,p,C,w=s.W){return this.getDEMElevation(u,p,C,w)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const w=this.painter.context,k=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Fe(w,k,w.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Fe(w,new s.R({width:1,height:1}),w.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.an([])}const p=this.sourceCache.getSourceTile(u,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const w=this.painter.context;p.demTexture=this.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new Fe(w,p.dem.getPixels(),w.gl.RGBA,{premultiply:!1}),p.demTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const C=p&&p+p.tileID.key+u.key;if(C&&!this._demMatrixCache[C]){const w=this.sourceCache.sourceCache._source.maxzoom;let k=u.canonical.z-p.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=w?k=u.canonical.z-w:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const R=u.canonical.x-(u.canonical.x>>k<<k),j=u.canonical.y-(u.canonical.y>>k<<k),$=s.b9(new Float64Array(16),[1/(s.W<<k),1/(s.W<<k),0]);s.H($,$,[R*s.W,j*s.W,0]),this._demMatrixCache[u.key]={matrix:$,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:C?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getFramebuffer(u){const p=this.painter,C=p.width/devicePixelRatio,w=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===C&&this._fbo.height===w||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Fe(p.context,{width:C,height:w,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Fe(p.context,{width:C,height:w,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(C,w,!0,!1),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,C,w))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let k=0,R=0;k<this._coordsTextureSize;k++)for(let j=0;j<this._coordsTextureSize;j++,R+=4)p[R+0]=255&j,p[R+1]=255&k,p[R+2]=j>>8<<4|k>>8,p[R+3]=0;const C=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),w=new Fe(u,C,u.gl.RGBA,{premultiply:!1});return w.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=w,w}pointCoordinate(u){this.painter.maybeDrawDepthAndCoords(!0);const p=new Uint8Array(4),C=this.painter.context,w=C.gl;C.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),w.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,p),C.bindFramebuffer.set(null);const k=p[0]+(p[2]>>4<<8),R=p[1]+((15&p[2])<<8),j=this.coordsIndex[255-p[3]],$=j&&this.sourceCache.getTileByID(j);if(!$)return null;const ie=this._coordsTextureSize,de=(1<<$.tileID.canonical.z)*ie;return new s.Y(($.tileID.canonical.x*ie+k)/de+$.tileID.wrap,($.tileID.canonical.y*ie+R)/de,this.getElevation($.tileID,k,R,ie))}depthAtPoint(u){const p=new Uint8Array(4),C=this.painter.context,w=C.gl;return C.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),w.readPixels(u.x,this.painter.height/devicePixelRatio-u.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,p),C.bindFramebuffer.set(null),(p[0]/16777216+p[1]/65536+p[2]/256+p[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.painter.context,p=new s.ba,C=new s.aX,w=this.meshSize,k=s.W/w,R=w*w;for(let fe=0;fe<=w;fe++)for(let Oe=0;Oe<=w;Oe++)p.emplaceBack(Oe*k,fe*k,0);for(let fe=0;fe<R;fe+=w+1)for(let Oe=0;Oe<w;Oe++)C.emplaceBack(Oe+fe,w+Oe+fe+1,w+Oe+fe+2),C.emplaceBack(Oe+fe,w+Oe+fe+2,Oe+fe+1);const j=p.length,$=j+2*(w+1);for(const fe of[0,1])for(let Oe=0;Oe<=w;Oe++)for(const qe of[0,1])p.emplaceBack(Oe*k,fe*s.W,qe);for(let fe=0;fe<2*w;fe+=2)C.emplaceBack($+fe,$+fe+1,$+fe+3),C.emplaceBack($+fe,$+fe+3,$+fe+2),C.emplaceBack(j+fe,j+fe+3,j+fe+1),C.emplaceBack(j+fe,j+fe+2,j+fe+3);const ie=p.length,de=ie+2*(w+1);for(const fe of[0,1])for(let Oe=0;Oe<=w;Oe++)for(const qe of[0,1])p.emplaceBack(fe*s.W,Oe*k,qe);for(let fe=0;fe<2*w;fe+=2)C.emplaceBack(ie+fe,ie+fe+1,ie+fe+3),C.emplaceBack(ie+fe,ie+fe+3,ie+fe+2),C.emplaceBack(de+fe,de+fe+3,de+fe+1),C.emplaceBack(de+fe,de+fe+2,de+fe+3);return this._mesh={indexBuffer:u.createIndexBuffer(C),vertexBuffer:u.createVertexBuffer(p,Go.members),segments:s.$.simpleSegment(0,0,p.length,C.length)},this._mesh}getMeshFrameDelta(u){return 2*Math.PI*s.bb/Math.pow(2,u)/5}getMinTileElevationForLngLatZoom(u,p){var C;const{tileID:w}=this._getOverscaledTileIDFromLngLatZoom(u,p);return(C=this.getMinMaxElevation(w).minElevation)!==null&&C!==void 0?C:0}getMinMaxElevation(u){const p=this.getTerrainData(u).tile,C={minElevation:null,maxElevation:null};return p&&p.dem&&(C.minElevation=p.dem.min*this.exaggeration,C.maxElevation=p.dem.max*this.exaggeration),C}_getOverscaledTileIDFromLngLatZoom(u,p){const C=s.Y.fromLngLat(u.wrap()),w=(1<<p)*s.W,k=C.x*w,R=C.y*w,j=Math.floor(k/s.W),$=Math.floor(R/s.W);return{tileID:new s.Q(p,0,p,j,$),mercatorX:k,mercatorY:R}}}class tA{constructor(u,p,C){this._context=u,this._size=p,this._tileSize=C,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const u of this._objects)u.texture.destroy(),u.fbo.destroy()}_createObject(u){const p=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),C=new Fe(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return C.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),p.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),p.colorAttachment.set(C.texture),{id:u,fbo:p,texture:C,stamp:-1,inUse:!1}}getObjectForId(u){return this._objects[u]}useObject(u){u.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(p=>u.id!==p),this._recentlyUsed.push(u.id)}stampObject(u){u.stamp=++this._stamp}getOrCreateFreeObject(){for(const p of this._recentlyUsed)if(!this._objects[p].inUse)return this._objects[p];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const u=this._createObject(this._objects.length);return this._objects.push(u),u}freeObject(u){u.inUse=!1}freeAllObjects(){for(const u of this._objects)this.freeObject(u)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(u=>!u.inUse)===!1}}const Ml={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ip{constructor(u,p){this.painter=u,this.terrain=p,this.pool=new tA(u.context,30,p.sourceCache.tileSize*p.qualityFactor)}destruct(){this.pool.destruct()}getTexture(u){return this.pool.getObjectForId(u.rtt[this._stacks.length-1].id).texture}prepareForRender(u,p){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=u._order.filter(C=>!u._layers[C].isHidden(p)),this._coordsDescendingInv={};for(const C in u.sourceCaches){this._coordsDescendingInv[C]={};const w=u.sourceCaches[C].getVisibleCoordinates();for(const k of w){const R=this.terrain.sourceCache.getTerrainCoords(k);for(const j in R)this._coordsDescendingInv[C][j]||(this._coordsDescendingInv[C][j]=[]),this._coordsDescendingInv[C][j].push(R[j])}}this._coordsDescendingInvStr={};for(const C of u._order){const w=u._layers[C],k=w.source;if(Ml[w.type]&&!this._coordsDescendingInvStr[k]){this._coordsDescendingInvStr[k]={};for(const R in this._coordsDescendingInv[k])this._coordsDescendingInvStr[k][R]=this._coordsDescendingInv[k][R].map(j=>j.key).sort().join()}}for(const C of this._renderableTiles)for(const w in this._coordsDescendingInvStr){const k=this._coordsDescendingInvStr[w][C.tileID.key];k&&k!==C.rttCoords[w]&&(C.rtt=[])}}renderLayer(u){if(u.isHidden(this.painter.transform.zoom))return!1;const p=u.type,C=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===u.id;if(Ml[p]&&(this._prevType&&Ml[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(u.id),!w))return!0;if(Ml[this._prevType]||Ml[p]&&w){this._prevType=p;const k=this._stacks.length-1,R=this._stacks[k]||[];for(const j of this._renderableTiles){if(this.pool.isFull()&&(Vd(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(j),j.rtt[k]){const ie=this.pool.getObjectForId(j.rtt[k].id);if(ie.stamp===j.rtt[k].stamp){this.pool.useObject(ie);continue}}const $=this.pool.getOrCreateFreeObject();this.pool.useObject($),this.pool.stampObject($),j.rtt[k]={id:$.id,stamp:$.stamp},C.context.bindFramebuffer.set($.fbo.framebuffer),C.context.clear({color:s.aO.transparent,stencil:0}),C.currentStencilSource=void 0;for(let ie=0;ie<R.length;ie++){const de=C.style._layers[R[ie]],fe=de.source?this._coordsDescendingInv[de.source][j.tileID.key]:[j.tileID];C.context.viewport.set([0,0,$.fbo.width,$.fbo.height]),C._renderTileClippingMasks(de,fe),C.renderLayer(C,C.style.sourceCaches[de.source],de,fe),de.source&&(j.rttCoords[de.source]=this._coordsDescendingInvStr[de.source][j.tileID.key])}}return Vd(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Ml[p]}return!1}}const hd={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},EA=h,qh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:ka,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Le=I=>{I.touchstart=I.dragStart,I.touchmoveWindow=I.dragMove,I.touchend=I.dragEnd},rc={showCompass:!0,showZoom:!0,visualizePitch:!1};class us{constructor(u,p,C=!1){this.mousedown=R=>{this.startMouse(s.e({},R,{ctrlKey:!0,preventDefault:()=>R.preventDefault()}),O.mousePos(this.element,R)),O.addEventListener(window,"mousemove",this.mousemove),O.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=R=>{this.moveMouse(R,O.mousePos(this.element,R))},this.mouseup=R=>{this.mouseRotate.dragEnd(R),this.mousePitch&&this.mousePitch.dragEnd(R),this.offTemp()},this.touchstart=R=>{R.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=O.touchPos(this.element,R.targetTouches)[0],this.startTouch(R,this._startPos),O.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.addEventListener(window,"touchend",this.touchend))},this.touchmove=R=>{R.targetTouches.length!==1?this.reset():(this._lastPos=O.touchPos(this.element,R.targetTouches)[0],this.moveTouch(R,this._lastPos))},this.touchend=R=>{R.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const w=u.dragRotate._mouseRotate.getClickTolerance(),k=u.dragRotate._mousePitch.getClickTolerance();this.element=p,this.mouseRotate=XA({clickTolerance:w,enable:!0}),this.touchRotate=(({enable:R,clickTolerance:j,bearingDegreesPerPixelMoved:$=.8})=>{const ie=new zl;return new ya({clickTolerance:j,move:(de,fe)=>({bearingDelta:(fe.x-de.x)*$}),moveStateManager:ie,enable:R,assignEvents:Le})})({clickTolerance:w,enable:!0}),this.map=u,C&&(this.mousePitch=qu({clickTolerance:k,enable:!0}),this.touchPitch=(({enable:R,clickTolerance:j,pitchDegreesPerPixelMoved:$=-.5})=>{const ie=new zl;return new ya({clickTolerance:j,move:(de,fe)=>({pitchDelta:(fe.y-de.y)*$}),moveStateManager:ie,enable:R,assignEvents:Le})})({clickTolerance:k,enable:!0})),O.addEventListener(p,"mousedown",this.mousedown),O.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),O.addEventListener(p,"touchcancel",this.reset)}startMouse(u,p){this.mouseRotate.dragStart(u,p),this.mousePitch&&this.mousePitch.dragStart(u,p),O.disableDrag()}startTouch(u,p){this.touchRotate.dragStart(u,p),this.touchPitch&&this.touchPitch.dragStart(u,p),O.disableDrag()}moveMouse(u,p){const C=this.map,{bearingDelta:w}=this.mouseRotate.dragMove(u,p)||{};if(w&&C.setBearing(C.getBearing()+w),this.mousePitch){const{pitchDelta:k}=this.mousePitch.dragMove(u,p)||{};k&&C.setPitch(C.getPitch()+k)}}moveTouch(u,p){const C=this.map,{bearingDelta:w}=this.touchRotate.dragMove(u,p)||{};if(w&&C.setBearing(C.getBearing()+w),this.touchPitch){const{pitchDelta:k}=this.touchPitch.dragMove(u,p)||{};k&&C.setPitch(C.getPitch()+k)}}off(){const u=this.element;O.removeEventListener(u,"mousedown",this.mousedown),O.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend),O.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){O.enableDrag(),O.removeEventListener(window,"mousemove",this.mousemove),O.removeEventListener(window,"mouseup",this.mouseup),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend)}}let $i;function Yr(I,u,p){const C=new s.M(I.lng,I.lat);if(I=new s.M(I.lng,I.lat),u){const w=new s.M(I.lng-360,I.lat),k=new s.M(I.lng+360,I.lat),R=p.locationPoint(I).distSqr(u);p.locationPoint(w).distSqr(u)<R?I=w:p.locationPoint(k).distSqr(u)<R&&(I=k)}for(;Math.abs(I.lng-p.center.lng)>180;){const w=p.locationPoint(I);if(w.x>=0&&w.y>=0&&w.x<=p.width&&w.y<=p.height)break;I.lng>p.center.lng?I.lng-=360:I.lng+=360}return I.lng!==C.lng&&p.locationPoint(I).y>p.height/2-p.getHorizon()?I:C}const va={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ic(I,u,p){const C=I.classList;for(const w in va)C.remove(`maplibregl-${p}-anchor-${w}`);C.add(`maplibregl-${p}-anchor-${u}`)}class fd extends s.E{constructor(u){if(super(),this._onKeyPress=p=>{const C=p.code,w=p.charCode||p.keyCode;C!=="Space"&&C!=="Enter"&&w!==32&&w!==13||this.togglePopup()},this._onMapClick=p=>{const C=p.originalEvent.target,w=this._element;this._popup&&(C===w||w.contains(C))&&this.togglePopup()},this._update=p=>{var C;if(!this._map)return;const w=this._map.loaded()&&!this._map.isMoving();((p==null?void 0:p.type)==="terrain"||(p==null?void 0:p.type)==="render"&&!w)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Yr(this._lngLat,this._flatPos,this._map.transform):(C=this._lngLat)===null||C===void 0?void 0:C.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let k="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?k=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(k=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let R="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?R="rotateX(0deg)":this._pitchAlignment==="map"&&(R=`rotateX(${this._map.getPitch()}deg)`),p&&p.type!=="moveend"||(this._pos=this._pos.round()),O.setTransform(this._element,`${va[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${R} ${k}`),E.frameAsync(new AbortController).then(()=>{this._updateOpacity(p&&p.type==="moveend")}).catch(()=>{})},this._onMove=p=>{if(!this._isDragging){const C=this._clickTolerance||this._map._clickTolerance;this._isDragging=p.point.dist(this._pointerdownPos)>=C}this._isDragging&&(this._pos=p.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.k("dragstart"))),this.fire(new s.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.k("dragend")),this._state="inactive"},this._addDragHandler=p=>{this._element.contains(p.originalEvent.target)&&(p.preventDefault(),this._positionDelta=p.point.sub(this._pos).add(this._offset),this._pointerdownPos=p.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(u==null?void 0:u.opacity,u==null?void 0:u.opacityWhenCovered),u&&u.element)this._element=u.element,this._offset=s.P.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=O.create("div"),this._element.setAttribute("aria-label","Map marker");const p=O.createNS("http://www.w3.org/2000/svg","svg"),C=41,w=27;p.setAttributeNS(null,"display","block"),p.setAttributeNS(null,"height",`${C}px`),p.setAttributeNS(null,"width",`${w}px`),p.setAttributeNS(null,"viewBox",`0 0 ${w} ${C}`);const k=O.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"stroke","none"),k.setAttributeNS(null,"stroke-width","1"),k.setAttributeNS(null,"fill","none"),k.setAttributeNS(null,"fill-rule","evenodd");const R=O.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill-rule","nonzero");const j=O.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(3.0, 29.0)"),j.setAttributeNS(null,"fill","#000000");const $=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ht of $){const Dt=O.createNS("http://www.w3.org/2000/svg","ellipse");Dt.setAttributeNS(null,"opacity","0.04"),Dt.setAttributeNS(null,"cx","10.5"),Dt.setAttributeNS(null,"cy","5.80029008"),Dt.setAttributeNS(null,"rx",ht.rx),Dt.setAttributeNS(null,"ry",ht.ry),j.appendChild(Dt)}const ie=O.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill",this._color);const de=O.createNS("http://www.w3.org/2000/svg","path");de.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ie.appendChild(de);const fe=O.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const Oe=O.createNS("http://www.w3.org/2000/svg","path");Oe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(Oe);const qe=O.createNS("http://www.w3.org/2000/svg","g");qe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),qe.setAttributeNS(null,"fill","#FFFFFF");const Ye=O.createNS("http://www.w3.org/2000/svg","g");Ye.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ze=O.createNS("http://www.w3.org/2000/svg","circle");Ze.setAttributeNS(null,"fill","#000000"),Ze.setAttributeNS(null,"opacity","0.25"),Ze.setAttributeNS(null,"cx","5.5"),Ze.setAttributeNS(null,"cy","5.5"),Ze.setAttributeNS(null,"r","5.4999962");const We=O.createNS("http://www.w3.org/2000/svg","circle");We.setAttributeNS(null,"fill","#FFFFFF"),We.setAttributeNS(null,"cx","5.5"),We.setAttributeNS(null,"cy","5.5"),We.setAttributeNS(null,"r","5.4999962"),Ye.appendChild(Ze),Ye.appendChild(We),R.appendChild(j),R.appendChild(ie),R.appendChild(fe),R.appendChild(qe),R.appendChild(Ye),p.appendChild(R),p.setAttributeNS(null,"height",C*this._scale+"px"),p.setAttributeNS(null,"width",w*this._scale+"px"),this._element.appendChild(p),this._offset=s.P.convert(u&&u.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",p=>{p.preventDefault()}),this._element.addEventListener("mousedown",p=>{p.preventDefault()}),ic(this._element,this._anchor,"marker"),u&&u.className)for(const p of u.className.split(" "))this._element.classList.add(p);this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),u.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),O.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=s.M.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const w=Math.abs(13.5)/Math.SQRT2;u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(38.1-13.5+w)],"bottom-right":[-w,-1*(38.1-13.5+w)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const u=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:u?(u.isOpen()?u.remove():(u.setLngLat(this._lngLat),u.addTo(this._map)),this):this}_updateOpacity(u=!1){var p,C;if(!(!((p=this._map)===null||p===void 0)&&p.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(u)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const w=this._map,k=w.terrain.depthAtPoint(this._pos),R=w.terrain.getElevationForLngLatZoom(this._lngLat,w.transform.tileZoom);if(w.transform.lngLatToCameraDepth(this._lngLat,R)-k<.006)return void(this._element.style.opacity=this._opacity);const j=-this._offset.y/w.transform._pixelPerMeter,$=Math.sin(w.getPitch()*Math.PI/180)*j,ie=w.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),de=w.transform.lngLatToCameraDepth(this._lngLat,R+$)-ie>.006;!((C=this._popup)===null||C===void 0)&&C.isOpen()&&de&&this._popup.remove(),this._element.style.opacity=de?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(u){return this._offset=s.P.convert(u),this._update(),this}addClassName(u){this._element.classList.add(u)}removeClassName(u){this._element.classList.remove(u)}toggleClassName(u){return this._element.classList.toggle(u)}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(u,p){return u===void 0&&p===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),u!==void 0&&(this._opacity=u),p!==void 0&&(this._opacityWhenCovered=p),this._map&&this._updateOpacity(!0),this}}const su={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let pd=0,oc=!1;const op={maxWidth:100,unit:"metric"};function md(I,u,p){const C=p&&p.maxWidth||100,w=I._container.clientHeight/2,k=I.unproject([0,w]),R=I.unproject([C,w]),j=k.distanceTo(R);if(p&&p.unit==="imperial"){const $=3.2808*j;$>5280?ac(u,C,$/5280,I._getUIString("ScaleControl.Miles")):ac(u,C,$,I._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?ac(u,C,j/1852,I._getUIString("ScaleControl.NauticalMiles")):j>=1e3?ac(u,C,j/1e3,I._getUIString("ScaleControl.Kilometers")):ac(u,C,j,I._getUIString("ScaleControl.Meters"))}function ac(I,u,p,C){const w=function(k){const R=Math.pow(10,`${Math.floor(k)}`.length-1);let j=k/R;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function($){const ie=Math.pow(10,Math.ceil(-Math.log($)/Math.LN10));return Math.round($*ie)/ie}(j),R*j}(p);I.style.width=u*(w/p)+"px",I.innerHTML=`${w}&nbsp;${C}`}const jl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},ap=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function th(I){if(I){if(typeof I=="number"){const u=Math.round(Math.abs(I)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,I),"top-left":new s.P(u,u),"top-right":new s.P(-u,u),bottom:new s.P(0,-I),"bottom-left":new s.P(u,-u),"bottom-right":new s.P(-u,-u),left:new s.P(I,0),right:new s.P(-I,0)}}if(I instanceof s.P||Array.isArray(I)){const u=s.P.convert(I);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:s.P.convert(I.center||[0,0]),top:s.P.convert(I.top||[0,0]),"top-left":s.P.convert(I["top-left"]||[0,0]),"top-right":s.P.convert(I["top-right"]||[0,0]),bottom:s.P.convert(I.bottom||[0,0]),"bottom-left":s.P.convert(I["bottom-left"]||[0,0]),"bottom-right":s.P.convert(I["bottom-right"]||[0,0]),left:s.P.convert(I.left||[0,0]),right:s.P.convert(I.right||[0,0])}}return th(new s.P(0,0))}const Hh=h;a.AJAXError=s.be,a.Evented=s.E,a.LngLat=s.M,a.MercatorCoordinate=s.Y,a.Point=s.P,a.addProtocol=s.bf,a.config=s.a,a.removeProtocol=s.bg,a.AttributionControl=eA,a.BoxZoomHandler=Vi,a.CanvasSource=Wr,a.CooperativeGesturesHandler=Br,a.DoubleClickZoomHandler=Qh,a.DragPanHandler=ao,a.DragRotateHandler=ua,a.EdgeInsets=cd,a.FullscreenControl=class extends s.E{constructor(I={}){super(),this._onFullscreenChange=()=>{var u;let p=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((u=p==null?void 0:p.shadowRoot)===null||u===void 0)&&u.fullscreenElement;)p=p.shadowRoot.fullscreenElement;p===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,I&&I.container&&(I.container instanceof HTMLElement?this._container=I.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(I){return this._map=I,this._container||(this._container=this._map.getContainer()),this._controlContainer=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){O.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const I=this._fullscreenButton=O.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);O.create("span","maplibregl-ctrl-icon",I).setAttribute("aria-hidden","true"),I.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const I=this._getTitle();this._fullscreenButton.setAttribute("aria-label",I),this._fullscreenButton.title=I}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},a.GeoJSONSource=yn,a.GeolocateControl=class extends s.E{constructor(I){super(),this._onSuccess=u=>{if(this._map){if(this._isOutOfMapMaxBounds(u))return this._setErrorState(),this.fire(new s.k("outofmaxbounds",u)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=u,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(u),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(u),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.k("geolocate",u)),this._finish()}},this._updateCamera=u=>{const p=new s.M(u.coords.longitude,u.coords.latitude),C=u.coords.accuracy,w=this._map.getBearing(),k=s.e({bearing:w},this.options.fitBoundsOptions),R=Rt.fromLngLat(p,C);this._map.fitBounds(R,k,{geolocateSource:!0})},this._updateMarker=u=>{if(u){const p=new s.M(u.coords.longitude,u.coords.latitude);this._accuracyCircleMarker.setLngLat(p).addTo(this._map),this._userLocationDotMarker.setLngLat(p).addTo(this._map),this._accuracy=u.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=u=>{if(this._map){if(this.options.trackUserLocation)if(u.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(u.code===3&&oc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.k("error",u)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=u=>{if(this._map){if(this._container.addEventListener("contextmenu",p=>p.preventDefault()),this._geolocateButton=O.create("button","maplibregl-ctrl-geolocate",this._container),O.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",u===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const p=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}else{const p=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=p,this._geolocateButton.setAttribute("aria-label",p)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new fd({element:this._dotElement}),this._circleElement=O.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",p=>{p.geolocateSource||this._watchState!=="ACTIVE_LOCK"||p.originalEvent&&p.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.k("trackuserlocationend")))})}},this.options=s.e({},su,I)}onAdd(I){return this._map=I,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return s._(this,arguments,void 0,function*(u=!1){if($i!==void 0&&!u)return $i;if(window.navigator.permissions===void 0)return $i=!!window.navigator.geolocation,$i;try{$i=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{$i=!!window.navigator.geolocation}return $i})}().then(u=>this._setupUI(u)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),O.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,pd=0,oc=!1}_isOutOfMapMaxBounds(I){const u=this._map.getMaxBounds(),p=I.coords;return u&&(p.longitude<u.getWest()||p.longitude>u.getEast()||p.latitude<u.getSouth()||p.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const I=this._map.getBounds(),u=I.getSouthEast(),p=I.getNorthEast(),C=u.distanceTo(p),w=Math.ceil(this._accuracy/(C/this._map._container.clientHeight)*2);this._circleElement.style.width=`${w}px`,this._circleElement.style.height=`${w}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":pd--,oc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let I;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),pd++,pd>1?(I={maximumAge:6e5,timeout:0},oc=!0):(I=this.options.positionOptions,oc=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,I)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},a.Hash=an,a.ImageSource=Ar,a.KeyboardHandler=wo,a.LngLatBounds=Rt,a.LogoControl=dl,a.Map=class extends nc{constructor(I){if(s.bc.mark(s.bd.create),(I=s.e({},qh,I)).minZoom!=null&&I.maxZoom!=null&&I.minZoom>I.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(I.minPitch!=null&&I.maxPitch!=null&&I.minPitch>I.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(I.minPitch!=null&&I.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(I.maxPitch!=null&&I.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new ou(I.minZoom,I.maxZoom,I.minPitch,I.maxPitch,I.renderWorldCopies),{bearingSnap:I.bearingSnap}),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=I.interactive,this._maxTileCacheSize=I.maxTileCacheSize,this._maxTileCacheZoomLevels=I.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=I.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=I.preserveDrawingBuffer,this._antialias=I.antialias,this._trackResize=I.trackResize,this._bearingSnap=I.bearingSnap,this._refreshExpiredTiles=I.refreshExpiredTiles,this._fadeDuration=I.fadeDuration,this._crossSourceCollisions=I.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=I.collectResourceTiming,this._renderTaskQueue=new No,this._controls=[],this._mapId=s.a3(),this._locale=s.e({},hd,I.locale),this._clickTolerance=I.clickTolerance,this._overridePixelRatio=I.pixelRatio,this._maxCanvasSize=I.maxCanvasSize,this.transformCameraUpdate=I.transformCameraUpdate,this._imageQueueHandle=Z.addThrottleControl(()=>this.isMoving()),this._requestManager=new ye(I.transformRequest),typeof I.container=="string"){if(this._container=document.getElementById(I.container),!this._container)throw new Error(`Container '${I.container}' not found.`)}else{if(!(I.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=I.container}if(I.maxBounds&&this.setMaxBounds(I.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const p=Et(C=>{this._trackResize&&!this._removed&&this.resize(C)._update()},50);this._resizeObserver=new ResizeObserver(C=>{u?p(C):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Aa(this,I),this._hash=I.hash&&new an(typeof I.hash=="string"&&I.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch}),I.bounds&&(this.resize(),this.fitBounds(I.bounds,s.e({},I.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=I.localIdeographFontFamily,this._validateStyle=I.validateStyle,I.style&&this.setStyle(I.style,{localIdeographFontFamily:I.localIdeographFontFamily}),I.attributionControl&&this.addControl(new eA(typeof I.attributionControl=="boolean"?void 0:I.attributionControl)),I.maplibreLogo&&this.addControl(new dl,I.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new s.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new s.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new s.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(I,u){if(u===void 0&&(u=I.getDefaultPosition?I.getDefaultPosition():"top-right"),!I||!I.onAdd)return this.fire(new s.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=I.onAdd(this);this._controls.push(I);const C=this._controlPositions[u];return u.indexOf("bottom")!==-1?C.insertBefore(p,C.firstChild):C.appendChild(p),this}removeControl(I){if(!I||!I.onRemove)return this.fire(new s.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(I);return u>-1&&this._controls.splice(u,1),I.onRemove(this),this}hasControl(I){return this._controls.indexOf(I)>-1}calculateCameraOptionsFromTo(I,u,p,C){return C==null&&this.terrain&&(C=this.terrain.getElevationForLngLatZoom(p,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(I,u,p,C)}resize(I){var u;const p=this._containerDimensions(),C=p[0],w=p[1],k=this._getClampedPixelRatio(C,w);if(this._resizeCanvas(C,w,k),this.painter.resize(C,w,k),this.painter.overLimit()){const j=this.painter.context.gl;this._maxCanvasSize=[j.drawingBufferWidth,j.drawingBufferHeight];const $=this._getClampedPixelRatio(C,w);this._resizeCanvas(C,w,$),this.painter.resize(C,w,$)}this.transform.resize(C,w),(u=this._requestedCameraState)===null||u===void 0||u.resize(C,w);const R=!this._moving;return R&&(this.stop(),this.fire(new s.k("movestart",I)).fire(new s.k("move",I))),this.fire(new s.k("resize",I)),R&&this.fire(new s.k("moveend",I)),this}_getClampedPixelRatio(I,u){const{0:p,1:C}=this._maxCanvasSize,w=this.getPixelRatio(),k=I*w,R=u*w;return Math.min(k>p?p/k:1,R>C?C/R:1)*w}getPixelRatio(){var I;return(I=this._overridePixelRatio)!==null&&I!==void 0?I:devicePixelRatio}setPixelRatio(I){this._overridePixelRatio=I,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(I){return this.transform.setMaxBounds(Rt.convert(I)),this._update()}setMinZoom(I){if((I=I??-2)>=-2&&I<=this.transform.maxZoom)return this.transform.minZoom=I,this._update(),this.getZoom()<I&&this.setZoom(I),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(I){if((I=I??22)>=this.transform.minZoom)return this.transform.maxZoom=I,this._update(),this.getZoom()>I&&this.setZoom(I),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(I){if((I=I??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(I>=0&&I<=this.transform.maxPitch)return this.transform.minPitch=I,this._update(),this.getPitch()<I&&this.setPitch(I),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(I){if((I=I??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(I>=this.transform.minPitch)return this.transform.maxPitch=I,this._update(),this.getPitch()>I&&this.setPitch(I),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(I){return this.transform.renderWorldCopies=I,this._update()}project(I){return this.transform.locationPoint(s.M.convert(I),this.style&&this.terrain)}unproject(I){return this.transform.pointLocation(s.P.convert(I),this.terrain)}isMoving(){var I;return this._moving||((I=this.handlers)===null||I===void 0?void 0:I.isMoving())}isZooming(){var I;return this._zooming||((I=this.handlers)===null||I===void 0?void 0:I.isZooming())}isRotating(){var I;return this._rotating||((I=this.handlers)===null||I===void 0?void 0:I.isRotating())}_createDelegatedListener(I,u,p){if(I==="mouseenter"||I==="mouseover"){let C=!1;return{layer:u,listener:p,delegates:{mousemove:k=>{const R=this.getLayer(u)?this.queryRenderedFeatures(k.point,{layers:[u]}):[];R.length?C||(C=!0,p.call(this,new Po(I,this,k.originalEvent,{features:R}))):C=!1},mouseout:()=>{C=!1}}}}if(I==="mouseleave"||I==="mouseout"){let C=!1;return{layer:u,listener:p,delegates:{mousemove:R=>{(this.getLayer(u)?this.queryRenderedFeatures(R.point,{layers:[u]}):[]).length?C=!0:C&&(C=!1,p.call(this,new Po(I,this,R.originalEvent)))},mouseout:R=>{C&&(C=!1,p.call(this,new Po(I,this,R.originalEvent)))}}}}{const C=w=>{const k=this.getLayer(u)?this.queryRenderedFeatures(w.point,{layers:[u]}):[];k.length&&(w.features=k,p.call(this,w),delete w.features)};return{layer:u,listener:p,delegates:{[I]:C}}}}on(I,u,p){if(p===void 0)return super.on(I,u);const C=this._createDelegatedListener(I,u,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[I]=this._delegatedListeners[I]||[],this._delegatedListeners[I].push(C);for(const w in C.delegates)this.on(w,C.delegates[w]);return this}once(I,u,p){if(p===void 0)return super.once(I,u);const C=this._createDelegatedListener(I,u,p);for(const w in C.delegates)this.once(w,C.delegates[w]);return this}off(I,u,p){return p===void 0?super.off(I,u):(this._delegatedListeners&&this._delegatedListeners[I]&&(C=>{const w=this._delegatedListeners[I];for(let k=0;k<w.length;k++){const R=w[k];if(R.layer===u&&R.listener===p){for(const j in R.delegates)this.off(j,R.delegates[j]);return w.splice(k,1),this}}})(),this)}queryRenderedFeatures(I,u){if(!this.style)return[];let p;const C=I instanceof s.P||Array.isArray(I),w=C?I:[[0,0],[this.transform.width,this.transform.height]];if(u=u||(C?{}:I)||{},w instanceof s.P||typeof w[0]=="number")p=[s.P.convert(w)];else{const k=s.P.convert(w[0]),R=s.P.convert(w[1]);p=[k,new s.P(R.x,k.y),R,new s.P(k.x,R.y),k]}return this.style.queryRenderedFeatures(p,u,this.transform)}querySourceFeatures(I,u){return this.style.querySourceFeatures(I,u)}setStyle(I,u){return(u=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&I?(this._diffStyle(I,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(I,u))}setTransformRequest(I){return this._requestManager.setTransformRequest(I),this}_getUIString(I){const u=this._locale[I];if(u==null)throw new Error(`Missing UI string '${I}'`);return u}_updateStyle(I,u){if(u.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(I,u));const p=this.style&&u.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!I)),I?(this.style=new Zo(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof I=="string"?this.style.loadURL(I,u,p):this.style.loadJSON(I,u,p),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Zo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(I,u){if(typeof I=="string"){const p=this._requestManager.transformRequest(I,ue.Style);s.h(p,new AbortController).then(C=>{this._updateDiff(C.data,u)}).catch(C=>{C&&this.fire(new s.j(C))})}else typeof I=="object"&&this._updateDiff(I,u)}_updateDiff(I,u){try{this.style.setState(I,u)&&this._update(!0)}catch(p){s.w(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(I,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(I,u){return this._lazyInitEmptyStyle(),this.style.addSource(I,u),this._update(!0)}isSourceLoaded(I){const u=this.style&&this.style.sourceCaches[I];if(u!==void 0)return u.loaded();this.fire(new s.j(new Error(`There is no source with ID '${I}'`)))}setTerrain(I){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),I){const u=this.style.sourceCaches[I.source];if(!u)throw new Error(`cannot load terrain, because there exists no source with ID: ${I.source}`);this.terrain===null&&u.reload();for(const p in this.style._layers){const C=this.style._layers[p];C.type==="hillshade"&&C.source===I.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new eh(this.painter,u,I),this.painter.renderToTexture=new ip(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=p=>{p.dataType==="style"?this.terrain.sourceCache.freeRtt():p.dataType==="source"&&p.tile&&(p.sourceId!==I.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(p.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new s.k("terrain",{terrain:I})),this}getTerrain(){var I,u;return(u=(I=this.terrain)===null||I===void 0?void 0:I.options)!==null&&u!==void 0?u:null}areTilesLoaded(){const I=this.style&&this.style.sourceCaches;for(const u in I){const p=I[u]._tiles;for(const C in p){const w=p[C];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}removeSource(I){return this.style.removeSource(I),this._update(!0)}getSource(I){return this.style.getSource(I)}addImage(I,u,p={}){const{pixelRatio:C=1,sdf:w=!1,stretchX:k,stretchY:R,content:j}=p;if(this._lazyInitEmptyStyle(),!(u instanceof HTMLImageElement||s.b(u))){if(u.width===void 0||u.height===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:$,height:ie,data:de}=u,fe=u;return this.style.addImage(I,{data:new s.R({width:$,height:ie},new Uint8Array(de)),pixelRatio:C,stretchX:k,stretchY:R,content:j,sdf:w,version:0,userImage:fe}),fe.onAdd&&fe.onAdd(this,I),this}}{const{width:$,height:ie,data:de}=E.getImageData(u);this.style.addImage(I,{data:new s.R({width:$,height:ie},de),pixelRatio:C,stretchX:k,stretchY:R,content:j,sdf:w,version:0})}}updateImage(I,u){const p=this.style.getImage(I);if(!p)return this.fire(new s.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const C=u instanceof HTMLImageElement||s.b(u)?E.getImageData(u):u,{width:w,height:k,data:R}=C;if(w===void 0||k===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==p.data.width||k!==p.data.height)return this.fire(new s.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const j=!(u instanceof HTMLImageElement||s.b(u));return p.data.replace(R,j),this.style.updateImage(I,p),this}getImage(I){return this.style.getImage(I)}hasImage(I){return I?!!this.style.getImage(I):(this.fire(new s.j(new Error("Missing required image id"))),!1)}removeImage(I){this.style.removeImage(I)}loadImage(I){return Z.getImage(this._requestManager.transformRequest(I,ue.Image),new AbortController)}listImages(){return this.style.listImages()}addLayer(I,u){return this._lazyInitEmptyStyle(),this.style.addLayer(I,u),this._update(!0)}moveLayer(I,u){return this.style.moveLayer(I,u),this._update(!0)}removeLayer(I){return this.style.removeLayer(I),this._update(!0)}getLayer(I){return this.style.getLayer(I)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(I,u,p){return this.style.setLayerZoomRange(I,u,p),this._update(!0)}setFilter(I,u,p={}){return this.style.setFilter(I,u,p),this._update(!0)}getFilter(I){return this.style.getFilter(I)}setPaintProperty(I,u,p,C={}){return this.style.setPaintProperty(I,u,p,C),this._update(!0)}getPaintProperty(I,u){return this.style.getPaintProperty(I,u)}setLayoutProperty(I,u,p,C={}){return this.style.setLayoutProperty(I,u,p,C),this._update(!0)}getLayoutProperty(I,u){return this.style.getLayoutProperty(I,u)}setGlyphs(I,u={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(I,u),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(I,u,p={}){return this._lazyInitEmptyStyle(),this.style.addSprite(I,u,p,C=>{C||this._update(!0)}),this}removeSprite(I){return this._lazyInitEmptyStyle(),this.style.removeSprite(I),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(I,u={}){return this._lazyInitEmptyStyle(),this.style.setSprite(I,u,p=>{p||this._update(!0)}),this}setLight(I,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(I,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(I,u){return this.style.setFeatureState(I,u),this._update()}removeFeatureState(I,u){return this.style.removeFeatureState(I,u),this._update()}getFeatureState(I){return this.style.getFeatureState(I)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let I=0,u=0;return this._container&&(I=this._container.clientWidth||400,u=this._container.clientHeight||300),[I,u]}_setupContainer(){const I=this._container;I.classList.add("maplibregl-map");const u=this._canvasContainer=O.create("div","maplibregl-canvas-container",I);this._interactive&&u.classList.add("maplibregl-interactive"),this._canvas=O.create("canvas","maplibregl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions(),C=this._getClampedPixelRatio(p[0],p[1]);this._resizeCanvas(p[0],p[1],C);const w=this._controlContainer=O.create("div","maplibregl-control-container",I),k=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(R=>{k[R]=O.create("div",`maplibregl-ctrl-${R} `,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(I,u,p){this._canvas.width=Math.floor(p*I),this._canvas.height=Math.floor(p*u),this._canvas.style.width=`${I}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const I={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let u=null;this._canvas.addEventListener("webglcontextcreationerror",C=>{u={requestedAttributes:I},C&&(u.statusMessage=C.statusMessage,u.type=C.type)},{once:!0});const p=this._canvas.getContext("webgl2",I)||this._canvas.getContext("webgl",I);if(!p){const C="Failed to initialize WebGL";throw u?(u.message=C,new Error(JSON.stringify(u))):new Error(C)}this.painter=new Tc(p,this.transform),K.testSupport(p)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(I){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||I,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(I){return this._update(),this._renderTaskQueue.add(I)}_cancelRenderFrame(I){this._renderTaskQueue.remove(I)}_render(I){const u=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(I),this._removed)return;let p=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,k=E.now();this.style.zoomHistory.update(w,k);const R=new s.a8(w,{now:k,fadeDuration:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=R.crossFadingFactor();j===1&&j===this._crossFadingFactor||(p=!0,this._crossFadingFactor=j),this.style.update(R)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,u,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:u,showPadding:this.showPadding}),this.fire(new s.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.bc.mark(s.bd.load),this.fire(new s.k("load"))),this.style&&(this.style.hasTransitions()||p)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const C=this._sourcesDirty||this._styleDirty||this._placementDirty;return C||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.k("idle")),!this._loaded||this._fullyLoaded||C||(this._fullyLoaded=!0,s.bc.mark(s.bd.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var I;this._hash&&this._hash.remove();for(const p of this._controls)p.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Z.removeThrottleControl(this._imageQueueHandle),(I=this._resizeObserver)===null||I===void 0||I.disconnect();const u=this.painter.context.gl.getExtension("WEBGL_lose_context");u&&u.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),O.remove(this._canvasContainer),O.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),s.bc.clearMetrics(),this._removed=!0,this.fire(new s.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,E.frameAsync(this._frameRequest).then(I=>{s.bc.frame(I),this._frameRequest=null,this._render(I)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(I){this._showTileBoundaries!==I&&(this._showTileBoundaries=I,this._update())}get showPadding(){return!!this._showPadding}set showPadding(I){this._showPadding!==I&&(this._showPadding=I,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(I){this._showCollisionBoxes!==I&&(this._showCollisionBoxes=I,I?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(I){this._showOverdrawInspector!==I&&(this._showOverdrawInspector=I,this._update())}get repaint(){return!!this._repaint}set repaint(I){this._repaint!==I&&(this._repaint=I,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(I){this._vertices=I,this._update()}get version(){return EA}getCameraTargetElevation(){return this.transform.elevation}},a.MapMouseEvent=Po,a.MapTouchEvent=MA,a.MapWheelEvent=ws,a.Marker=fd,a.NavigationControl=class{constructor(I){this._updateZoomButtons=()=>{const u=this._map.getZoom(),p=u===this._map.getMaxZoom(),C=u===this._map.getMinZoom();this._zoomInButton.disabled=p,this._zoomOutButton.disabled=C,this._zoomInButton.setAttribute("aria-disabled",p.toString()),this._zoomOutButton.setAttribute("aria-disabled",C.toString())},this._rotateCompassArrow=()=>{const u=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=u},this._setButtonTitle=(u,p)=>{const C=this._map._getUIString(`NavigationControl.${p}`);u.title=C,u.setAttribute("aria-label",C)},this.options=s.e({},rc,I),this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),O.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),O.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=O.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(I){return this._map=I,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new us(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){O.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(I,u){const p=O.create("button",I,this._container);return p.type="button",p.addEventListener("click",u),p}},a.Popup=class extends s.E{constructor(I){super(),this.remove=()=>(this._content&&O.remove(this._content),this._container&&(O.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.k("close"))),this),this._onMouseUp=u=>{this._update(u.point)},this._onMouseMove=u=>{this._update(u.point)},this._onDrag=u=>{this._update(u.point)},this._update=u=>{var p;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=O.create("div","maplibregl-popup",this._map.getContainer()),this._tip=O.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const j of this.options.className.split(" "))this._container.classList.add(j);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Yr(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._trackPointer&&!u)return;const C=this._flatPos=this._pos=this._trackPointer&&u?u:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&u?u:this._map.transform.locationPoint(this._lngLat));let w=this.options.anchor;const k=th(this.options.offset);if(!w){const j=this._container.offsetWidth,$=this._container.offsetHeight;let ie;ie=C.y+k.bottom.y<$?["top"]:C.y>this._map.transform.height-$?["bottom"]:[],C.x<j/2?ie.push("left"):C.x>this._map.transform.width-j/2&&ie.push("right"),w=ie.length===0?"bottom":ie.join("-")}let R=C.add(k[w]);this.options.subpixelPositioning||(R=R.round()),O.setTransform(this._container,`${va[w]} translate(${R.x}px,${R.y}px)`),ic(this._container,w,"popup")},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(jl),I)}addTo(I){return this._map&&this.remove(),this._map=I,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(I){return this._lngLat=s.M.convert(I),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(I){return this.setDOMContent(document.createTextNode(I))}setHTML(I){const u=document.createDocumentFragment(),p=document.createElement("body");let C;for(p.innerHTML=I;C=p.firstChild,C;)u.appendChild(C);return this.setDOMContent(u)}getMaxWidth(){var I;return(I=this._container)===null||I===void 0?void 0:I.style.maxWidth}setMaxWidth(I){return this.options.maxWidth=I,this._update(),this}setDOMContent(I){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=O.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(I),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(I){this._container&&this._container.classList.add(I)}removeClassName(I){this._container&&this._container.classList.remove(I)}setOffset(I){return this.options.offset=I,this._update(),this}toggleClassName(I){if(this._container)return this._container.classList.toggle(I)}setSubpixelPositioning(I){this.options.subpixelPositioning=I}_createCloseButton(){this.options.closeButton&&(this._closeButton=O.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const I=this._container.querySelector(ap);I&&I.focus()}},a.RasterDEMTileSource=gn,a.RasterTileSource=rr,a.ScaleControl=class{constructor(I){this._onMove=()=>{md(this._map,this._container,this.options)},this.setUnit=u=>{this.options.unit=u,md(this._map,this._container,this.options)},this.options=s.e({},op,I)}getDefaultPosition(){return"bottom-left"}onAdd(I){return this._map=I,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-scale",I.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){O.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},a.ScrollZoomHandler=tp,a.Style=Zo,a.TerrainControl=class{constructor(I){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=I}onAdd(I){return this._map=I,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=O.create("button","maplibregl-ctrl-terrain",this._container),O.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){O.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},a.TwoFingersTouchPitchHandler=Kc,a.TwoFingersTouchRotateHandler=ec,a.TwoFingersTouchZoomHandler=Vu,a.TwoFingersTouchZoomRotateHandler=br,a.VectorTileSource=pt,a.VideoSource=Mr,a.addSourceType=(I,u)=>s._(void 0,void 0,void 0,function*(){if(_i(I))throw new Error(`A source type called "${I}" already exists.`);((p,C)=>{gr[p]=C})(I,u)}),a.clearPrewarmedResources=function(){const I=$t;I&&(I.isPreloaded()&&I.numActive()===1?(I.release(Vt),$t=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},a.getRTLTextPluginStatus=function(){return Te().getRTLTextPluginStatus()},a.getVersion=function(){return Hh},a.getWorkerCount=function(){return Yt.workerCount},a.getWorkerUrl=function(){return s.a.WORKER_URL},a.importScriptInWorkers=function(I){return Se().broadcast("importScript",I)},a.prewarm=function(){ke().acquire(Vt)},a.setMaxParallelImageRequests=function(I){s.a.MAX_PARALLEL_IMAGE_REQUESTS=I},a.setRTLTextPlugin=function(I,u){return Te().setRTLTextPlugin(I,u)},a.setWorkerCount=function(I){Yt.workerCount=I},a.setWorkerUrl=function(I){s.a.WORKER_URL=I}});var o=n;return o})})(vz);var ite=vz.exports;const qg=Ba(ite);var G_=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function Cz(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i4={exports:{}};i4.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",h="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",E="[object Date]",O="[object Error]",K="[object Function]",D="[object GeneratorFunction]",Y="[object Map]",ee="[object Number]",H="[object Null]",N="[object Object]",Z="[object Promise]",ue="[object Proxy]",ye="[object RegExp]",be="[object Set]",X="[object String]",se="[object Symbol]",we="[object Undefined]",xe="[object WeakMap]",De="[object ArrayBuffer]",Fe="[object DataView]",he="[object Float32Array]",Qe="[object Float64Array]",ge="[object Int8Array]",yt="[object Int16Array]",wt="[object Int32Array]",st="[object Uint8Array]",mt="[object Uint8ClampedArray]",ze="[object Uint16Array]",He="[object Uint32Array]",Ve=/[\\^$.*+?()[\]{}|]/g,Vt=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,vt={};vt[he]=vt[Qe]=vt[ge]=vt[yt]=vt[wt]=vt[st]=vt[mt]=vt[ze]=vt[He]=!0,vt[s]=vt[h]=vt[De]=vt[_]=vt[Fe]=vt[E]=vt[O]=vt[K]=vt[Y]=vt[ee]=vt[N]=vt[ye]=vt[be]=vt[X]=vt[xe]=!1;var $t=typeof G_=="object"&&G_&&G_.Object===Object&&G_,Qt=typeof self=="object"&&self&&self.Object===Object&&self,ke=$t||Qt||Function("return this")(),pe=t&&!t.nodeType&&t,Se=pe&&!0&&e&&!e.nodeType&&e,Re=Se&&Se.exports===pe,it=Re&&$t.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),St=ot&&ot.isTypedArray;function Rt(z,ae){for(var Ue=-1,gt=z==null?0:z.length,Wn=0,vn=[];++Ue<gt;){var Pn=z[Ue];ae(Pn,Ue,z)&&(vn[Wn++]=Pn)}return vn}function zt(z,ae){for(var Ue=-1,gt=ae.length,Wn=z.length;++Ue<gt;)z[Wn+Ue]=ae[Ue];return z}function pt(z,ae){for(var Ue=-1,gt=z==null?0:z.length;++Ue<gt;)if(ae(z[Ue],Ue,z))return!0;return!1}function rr(z,ae){for(var Ue=-1,gt=Array(z);++Ue<z;)gt[Ue]=ae(Ue);return gt}function gn(z){return function(ae){return z(ae)}}function yn(z,ae){return z.has(ae)}function Jn(z,ae){return z==null?void 0:z[ae]}function Ar(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt,Wn){Ue[++ae]=[Wn,gt]}),Ue}function Mr(z,ae){return function(Ue){return z(ae(Ue))}}function Wr(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt){Ue[++ae]=gt}),Ue}var gr=Array.prototype,_i=Function.prototype,Ee=Object.prototype,J=ke["__core-js_shared__"],q=_i.toString,Te=Ee.hasOwnProperty,At=function(){var z=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Bt=Ee.toString,kt=RegExp("^"+q.call(Te).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=Re?ke.Buffer:void 0,fn=ke.Symbol,Kn=ke.Uint8Array,On=Ee.propertyIsEnumerable,m=gr.splice,Pt=fn?fn.toStringTag:void 0,Kr=Object.getOwnPropertySymbols,tr=Ft?Ft.isBuffer:void 0,Ke=Mr(Object.keys,Object),ce=ea(ke,"DataView"),Ce=ea(ke,"Map"),Ie=ea(ke,"Promise"),je=ea(ke,"Set"),rt=ea(ke,"WeakMap"),lt=ea(Object,"create"),ft=jo(ce),et=jo(Ce),Mt=jo(Ie),tn=jo(je),Ht=jo(rt),en=fn?fn.prototype:void 0,Dn=en?en.valueOf:void 0;function Bn(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function Yn(){this.__data__=lt?lt(null):{},this.size=0}function Sr(z){var ae=this.has(z)&&delete this.__data__[z];return this.size-=ae?1:0,ae}function lr(z){var ae=this.__data__;if(lt){var Ue=ae[z];return Ue===r?void 0:Ue}return Te.call(ae,z)?ae[z]:void 0}function Qr(z){var ae=this.__data__;return lt?ae[z]!==void 0:Te.call(ae,z)}function Or(z,ae){var Ue=this.__data__;return this.size+=this.has(z)?0:1,Ue[z]=lt&&ae===void 0?r:ae,this}Bn.prototype.clear=Yn,Bn.prototype.delete=Sr,Bn.prototype.get=lr,Bn.prototype.has=Qr,Bn.prototype.set=Or;function Lr(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function ir(){this.__data__=[],this.size=0}function ci(z){var ae=this.__data__,Ue=wn(ae,z);if(Ue<0)return!1;var gt=ae.length-1;return Ue==gt?ae.pop():m.call(ae,Ue,1),--this.size,!0}function Li(z){var ae=this.__data__,Ue=wn(ae,z);return Ue<0?void 0:ae[Ue][1]}function to(z){return wn(this.__data__,z)>-1}function ho(z,ae){var Ue=this.__data__,gt=wn(Ue,z);return gt<0?(++this.size,Ue.push([z,ae])):Ue[gt][1]=ae,this}Lr.prototype.clear=ir,Lr.prototype.delete=ci,Lr.prototype.get=Li,Lr.prototype.has=to,Lr.prototype.set=ho;function ai(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function fo(){this.size=0,this.__data__={hash:new Bn,map:new(Ce||Lr),string:new Bn}}function Wa(z){var ae=Jo(this,z).delete(z);return this.size-=ae?1:0,ae}function Ia(z){return Jo(this,z).get(z)}function Mi(z){return Jo(this,z).has(z)}function os(z,ae){var Ue=Jo(this,z),gt=Ue.size;return Ue.set(z,ae),this.size+=Ue.size==gt?0:1,this}ai.prototype.clear=fo,ai.prototype.delete=Wa,ai.prototype.get=Ia,ai.prototype.has=Mi,ai.prototype.set=os;function gi(z){var ae=-1,Ue=z==null?0:z.length;for(this.__data__=new ai;++ae<Ue;)this.add(z[ae])}function jn(z){return this.__data__.set(z,r),this}function ro(z){return this.__data__.has(z)}gi.prototype.add=gi.prototype.push=jn,gi.prototype.has=ro;function _o(z){var ae=this.__data__=new Lr(z);this.size=ae.size}function Ui(){this.__data__=new Lr,this.size=0}function ve(z){var ae=this.__data__,Ue=ae.delete(z);return this.size=ae.size,Ue}function Je(z){return this.__data__.get(z)}function Zt(z){return this.__data__.has(z)}function sn(z,ae){var Ue=this.__data__;if(Ue instanceof Lr){var gt=Ue.__data__;if(!Ce||gt.length<n-1)return gt.push([z,ae]),this.size=++Ue.size,this;Ue=this.__data__=new ai(gt)}return Ue.set(z,ae),this.size=Ue.size,this}_o.prototype.clear=Ui,_o.prototype.delete=ve,_o.prototype.get=Je,_o.prototype.has=Zt,_o.prototype.set=sn;function Lt(z,ae){var Ue=ss(z),gt=!Ue&&eu(z),Wn=!Ue&&!gt&&Wo(z),vn=!Ue&&!gt&&!Wn&&Al(z),Pn=Ue||gt||Wn||vn,Ur=Pn?rr(z.length,String):[],yr=Ur.length;for(var kr in z)(ae||Te.call(z,kr))&&!(Pn&&(kr=="length"||Wn&&(kr=="offset"||kr=="parent")||vn&&(kr=="buffer"||kr=="byteLength"||kr=="byteOffset")||vA(kr,yr)))&&Ur.push(kr);return Ur}function wn(z,ae){for(var Ue=z.length;Ue--;)if(xs(z[Ue][0],ae))return Ue;return-1}function dr(z,ae,Ue){var gt=ae(z);return ss(z)?gt:zt(gt,Ue(z))}function ri(z){return z==null?z===void 0?we:H:Pt&&Pt in Object(z)?bs(z):Wu(z)}function si(z){return sa(z)&&ri(z)==s}function Zo(z,ae,Ue,gt,Wn){return z===ae?!0:z==null||ae==null||!sa(z)&&!sa(ae)?z!==z&&ae!==ae:Pa(z,ae,Ue,gt,Zo,Wn)}function Pa(z,ae,Ue,gt,Wn,vn){var Pn=ss(z),Ur=ss(ae),yr=Pn?h:pa(z),kr=Ur?h:pa(ae);yr=yr==s?N:yr,kr=kr==s?N:kr;var Ii=yr==N,po=kr==N,Si=yr==kr;if(Si&&Wo(z)){if(!Wo(ae))return!1;Pn=!0,Ii=!1}if(Si&&!Ii)return vn||(vn=new _o),Pn||Al(z)?Ga(z,ae,Ue,gt,Wn,vn):Xo(z,ae,yr,Ue,gt,Wn,vn);if(!(Ue&i)){var Zr=Ii&&Te.call(z,"__wrapped__"),Hi=po&&Te.call(ae,"__wrapped__");if(Zr||Hi){var Bo=Zr?z.value():z,xo=Hi?ae.value():ae;return vn||(vn=new _o),Wn(Bo,xo,Ue,gt,vn)}}return Si?(vn||(vn=new _o),bu(z,ae,Ue,gt,Wn,vn)):!1}function Dr(z){if(!tu(z)||_A(z))return!1;var ae=ul(z)?kt:Vt;return ae.test(jo(z))}function Na(z){return sa(z)&&xl(z.length)&&!!vt[ri(z)]}function yi(z){if(!wu(z))return Ke(z);var ae=[];for(var Ue in Object(z))Te.call(z,Ue)&&Ue!="constructor"&&ae.push(Ue);return ae}function Ga(z,ae,Ue,gt,Wn,vn){var Pn=Ue&i,Ur=z.length,yr=ae.length;if(Ur!=yr&&!(Pn&&yr>Ur))return!1;var kr=vn.get(z);if(kr&&vn.get(ae))return kr==ae;var Ii=-1,po=!0,Si=Ue&o?new gi:void 0;for(vn.set(z,ae),vn.set(ae,z);++Ii<Ur;){var Zr=z[Ii],Hi=ae[Ii];if(gt)var Bo=Pn?gt(Hi,Zr,Ii,ae,z,vn):gt(Zr,Hi,Ii,z,ae,vn);if(Bo!==void 0){if(Bo)continue;po=!1;break}if(Si){if(!pt(ae,function(xo,$a){if(!yn(Si,$a)&&(Zr===xo||Wn(Zr,xo,Ue,gt,vn)))return Si.push($a)})){po=!1;break}}else if(!(Zr===Hi||Wn(Zr,Hi,Ue,gt,vn))){po=!1;break}}return vn.delete(z),vn.delete(ae),po}function Xo(z,ae,Ue,gt,Wn,vn,Pn){switch(Ue){case Fe:if(z.byteLength!=ae.byteLength||z.byteOffset!=ae.byteOffset)return!1;z=z.buffer,ae=ae.buffer;case De:return!(z.byteLength!=ae.byteLength||!vn(new Kn(z),new Kn(ae)));case _:case E:case ee:return xs(+z,+ae);case O:return z.name==ae.name&&z.message==ae.message;case ye:case X:return z==ae+"";case Y:var Ur=Ar;case be:var yr=gt&i;if(Ur||(Ur=Wr),z.size!=ae.size&&!yr)return!1;var kr=Pn.get(z);if(kr)return kr==ae;gt|=o,Pn.set(z,ae);var Ii=Ga(Ur(z),Ur(ae),gt,Wn,vn,Pn);return Pn.delete(z),Ii;case se:if(Dn)return Dn.call(z)==Dn.call(ae)}return!1}function bu(z,ae,Ue,gt,Wn,vn){var Pn=Ue&i,Ur=as(z),yr=Ur.length,kr=as(ae),Ii=kr.length;if(yr!=Ii&&!Pn)return!1;for(var po=yr;po--;){var Si=Ur[po];if(!(Pn?Si in ae:Te.call(ae,Si)))return!1}var Zr=vn.get(z);if(Zr&&vn.get(ae))return Zr==ae;var Hi=!0;vn.set(z,ae),vn.set(ae,z);for(var Bo=Pn;++po<yr;){Si=Ur[po];var xo=z[Si],$a=ae[Si];if(gt)var Dl=Pn?gt($a,xo,Si,ae,z,vn):gt(xo,$a,Si,z,ae,vn);if(!(Dl===void 0?xo===$a||Wn(xo,$a,Ue,gt,vn):Dl)){Hi=!1;break}Bo||(Bo=Si=="constructor")}if(Hi&&!Bo){var nu=z.constructor,ma=ae.constructor;nu!=ma&&"constructor"in z&&"constructor"in ae&&!(typeof nu=="function"&&nu instanceof nu&&typeof ma=="function"&&ma instanceof ma)&&(Hi=!1)}return vn.delete(z),vn.delete(ae),Hi}function as(z){return dr(z,CA,xu)}function Jo(z,ae){var Ue=z.__data__;return ju(ae)?Ue[typeof ae=="string"?"string":"hash"]:Ue.map}function ea(z,ae){var Ue=Jn(z,ae);return Dr(Ue)?Ue:void 0}function bs(z){var ae=Te.call(z,Pt),Ue=z[Pt];try{z[Pt]=void 0;var gt=!0}catch{}var Wn=Bt.call(z);return gt&&(ae?z[Pt]=Ue:delete z[Pt]),Wn}var xu=Kr?function(z){return z==null?[]:(z=Object(z),Rt(Kr(z),function(ae){return On.call(z,ae)}))}:vo,pa=ri;(ce&&pa(new ce(new ArrayBuffer(1)))!=Fe||Ce&&pa(new Ce)!=Y||Ie&&pa(Ie.resolve())!=Z||je&&pa(new je)!=be||rt&&pa(new rt)!=xe)&&(pa=function(z){var ae=ri(z),Ue=ae==N?z.constructor:void 0,gt=Ue?jo(Ue):"";if(gt)switch(gt){case ft:return Fe;case et:return Y;case Mt:return Z;case tn:return be;case Ht:return xe}return ae});function vA(z,ae){return ae=ae??a,!!ae&&(typeof z=="number"||Yt.test(z))&&z>-1&&z%1==0&&z<ae}function ju(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function _A(z){return!!At&&At in z}function wu(z){var ae=z&&z.constructor,Ue=typeof ae=="function"&&ae.prototype||Ee;return z===Ue}function Wu(z){return Bt.call(z)}function jo(z){if(z!=null){try{return q.call(z)}catch{}try{return z+""}catch{}}return""}function xs(z,ae){return z===ae||z!==z&&ae!==ae}var eu=si(function(){return arguments}())?si:function(z){return sa(z)&&Te.call(z,"callee")&&!On.call(z,"callee")},ss=Array.isArray;function ll(z){return z!=null&&xl(z.length)&&!ul(z)}var Wo=tr||io;function Mu(z,ae){return Zo(z,ae)}function ul(z){if(!tu(z))return!1;var ae=ri(z);return ae==K||ae==D||ae==g||ae==ue}function xl(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function tu(z){var ae=typeof z;return z!=null&&(ae=="object"||ae=="function")}function sa(z){return z!=null&&typeof z=="object"}var Al=St?gn(St):Na;function CA(z){return ll(z)?Lt(z):yi(z)}function vo(){return[]}function io(){return!1}e.exports=Mu})(i4,i4.exports);var ote=i4.exports,ate=Cz(ote);function QE(e,t,n){const r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function YE(e,t,n,r){const i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function qE(e,t,n){const r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}function ste(e,t){const n=[],r=[],i=[];function o(a){return{circle:t(a,.8),line:t(a,.6),polygon:t(a,.3),polygonOutline:t(a,.6),default:t(a,1)}}return Object.keys(e).forEach(a=>{const s=e[a];if(!s||s.length===0){const h=o(a);r.push(QE(h.circle,a)),i.push(qE(h.line,a)),n.push(YE(h.polygon,h.polygonOutline,a))}else s.forEach(h=>{const g=o(h);r.push(QE(g.circle,a,h)),i.push(qE(g.line,a,h)),n.push(YE(g.polygon,g.polygonOutline,a,h))})}),n.concat(i).concat(r)}function lte(e,t,n){n=Object.assign({backgroundColor:"#fff"},n);const r={id:"background",type:"background",paint:{"background-color":n.backgroundColor}},i={};return Object.keys(e.sources).forEach(o=>{const a=e.sources[o];(a.type==="vector"||a.type==="geojson")&&(i[o]=a)}),Object.assign(e,{layers:[r].concat(t),sources:i})}var _T={polygonLayer:YE,lineLayer:qE,circleLayer:QE,generateInspectStyle:lte,generateColoredLayers:ste};class ute{constructor(t){t=Object.assign({show:!0,onToggle(){}},t),this._btn=this.createButton(),this._btn.onclick=t.onToggle,this.elem=this.createContainer(this._btn,t.show)}createButton(){const t=document.createElement("button");return t.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect",t.type="button",t.setAttribute("aria-label","Inspect"),t}createContainer(t,n){const r=document.createElement("div");return r.className="maplibregl-ctrl maplibregl-ctrl-group",r.appendChild(t),n||(r.style.display="none"),r}setInspectIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-inspect"}setMapIcon(){this._btn.className="maplibregl-ctrl-icon maplibregl-ctrl-map"}}function Ate(e){return typeof e>"u"||e===null?e:e instanceof Date?e.toLocaleString():typeof e=="object"||typeof e=="number"||typeof e=="string"?e.toString():e}function CT(e,t){return`<div class="maplibregl-inspect_property"><div class="maplibregl-inspect_property-name">${e}</div><div class="maplibregl-inspect_property-value">${Ate(t)}</div></div>`}function cte(e){return`<div class="maplibregl-inspect_layer">${e}</div>`}function dte(e){const t=cte(e.layer["source-layer"]||e.layer.source),n=CT("$type",e.geometry.type),r=Object.keys(e.properties).map(i=>CT(i,e.properties[i]));return[t,n].concat(r).join("")}function hte(e){return e.map(t=>`<div class="maplibregl-inspect_feature">${dte(t)}</div>`).join("")}function fte(e){return`<div class="maplibregl-inspect_popup">${hte(e)}</div>`}var HE={exports:{}};(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(G_,function(){var n=null,r={};H();var i=[],o=function(X){if(X=X||{},X.seed!==void 0&&X.seed!==null&&X.seed===parseInt(X.seed,10))n=X.seed;else if(typeof X.seed=="string")n=ye(X.seed);else{if(X.seed!==void 0&&X.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var se,we,xe;if(X.count!==null&&X.count!==void 0){for(var De=X.count,Fe=[],he=0;he<X.count;he++)i.push(!1);for(X.count=null;De>Fe.length;){var Qe=o(X);n!==null&&(X.seed=n),Fe.push(Qe)}return X.count=De,Fe}return se=a(X),we=s(se,X),xe=h(se,we,X),g([se,we,xe],X)};function a(X){if(i.length>0){var se=be(X.hue),we=D(se),xe=(se[1]-se[0])/i.length,De=parseInt((we-se[0])/xe);i[De]===!0?De=(De+2)%i.length:i[De]=!0;var Fe=(se[0]+De*xe)%359,he=(se[0]+(De+1)*xe)%359;return se=[Fe,he],we=D(se),we<0&&(we=360+we),we}else{var se=E(X.hue);return we=D(se),we<0&&(we=360+we),we}}function s(X,se){if(se.hue==="monochrome")return 0;if(se.luminosity==="random")return D([0,100]);var we=O(X),xe=we[0],De=we[1];switch(se.luminosity){case"bright":xe=55;break;case"dark":xe=De-10;break;case"light":De=55;break}return D([xe,De])}function h(X,se,we){var xe=_(X,se),De=100;switch(we.luminosity){case"dark":De=xe+20;break;case"light":xe=(De+xe)/2;break;case"random":xe=0,De=100;break}return D([xe,De])}function g(X,se){switch(se.format){case"hsvArray":return X;case"hslArray":return ue(X);case"hsl":var we=ue(X);return"hsl("+we[0]+", "+we[1]+"%, "+we[2]+"%)";case"hsla":var xe=ue(X),he=se.alpha||Math.random();return"hsla("+xe[0]+", "+xe[1]+"%, "+xe[2]+"%, "+he+")";case"rgbArray":return N(X);case"rgb":var De=N(X);return"rgb("+De.join(", ")+")";case"rgba":var Fe=N(X),he=se.alpha||Math.random();return"rgba("+Fe.join(", ")+", "+he+")";default:return Y(X)}}function _(X,se){for(var we=K(X).lowerBounds,xe=0;xe<we.length-1;xe++){var De=we[xe][0],Fe=we[xe][1],he=we[xe+1][0],Qe=we[xe+1][1];if(se>=De&&se<=he){var ge=(Qe-Fe)/(he-De),yt=Fe-ge*De;return ge*se+yt}}return 0}function E(X){if(typeof parseInt(X)=="number"){var se=parseInt(X);if(se<360&&se>0)return[se,se]}if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return[xe,xe]}}return[0,360]}function O(X){return K(X).saturationRange}function K(X){X>=334&&X<=360&&(X-=360);for(var se in r){var we=r[se];if(we.hueRange&&X>=we.hueRange[0]&&X<=we.hueRange[1])return r[se]}return"Color not found"}function D(X){if(n===null){var se=.618033988749895,we=Math.random();return we+=se,we%=1,Math.floor(X[0]+we*(X[1]+1-X[0]))}else{var xe=X[1]||1,De=X[0]||0;n=(n*9301+49297)%233280;var Fe=n/233280;return Math.floor(De+Fe*(xe-De))}}function Y(X){var se=N(X);function we(De){var Fe=De.toString(16);return Fe.length==1?"0"+Fe:Fe}var xe="#"+we(se[0])+we(se[1])+we(se[2]);return xe}function ee(X,se,we){var xe=we[0][0],De=we[we.length-1][0],Fe=we[we.length-1][1],he=we[0][1];r[X]={hueRange:se,lowerBounds:we,saturationRange:[xe,De],brightnessRange:[Fe,he]}}function H(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function N(X){var se=X[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var we=X[1]/100,xe=X[2]/100,De=Math.floor(se*6),Fe=se*6-De,he=xe*(1-we),Qe=xe*(1-Fe*we),ge=xe*(1-(1-Fe)*we),yt=256,wt=256,st=256;switch(De){case 0:yt=xe,wt=ge,st=he;break;case 1:yt=Qe,wt=xe,st=he;break;case 2:yt=he,wt=xe,st=ge;break;case 3:yt=he,wt=Qe,st=xe;break;case 4:yt=ge,wt=he,st=xe;break;case 5:yt=xe,wt=he,st=Qe;break}var mt=[Math.floor(yt*255),Math.floor(wt*255),Math.floor(st*255)];return mt}function Z(X){X=X.replace(/^#/,""),X=X.length===3?X.replace(/(.)/g,"$1$1"):X;var se=parseInt(X.substr(0,2),16)/255,we=parseInt(X.substr(2,2),16)/255,xe=parseInt(X.substr(4,2),16)/255,De=Math.max(se,we,xe),Fe=De-Math.min(se,we,xe),he=De?Fe/De:0;switch(De){case se:return[60*((we-xe)/Fe%6)||0,he,De];case we:return[60*((xe-se)/Fe+2)||0,he,De];case xe:return[60*((se-we)/Fe+4)||0,he,De]}}function ue(X){var se=X[0],we=X[1]/100,xe=X[2]/100,De=(2-we)*xe;return[se,Math.round(we*xe/(De<1?De:2-De)*1e4)/100,De/2*100]}function ye(X){for(var se=0,we=0;we!==X.length&&!(se>=Number.MAX_SAFE_INTEGER);we++)se+=X.charCodeAt(we);return se}function be(X){if(isNaN(X)){if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return K(xe).hueRange}}}else{var se=parseInt(X);if(se<360&&se>0)return K(X).hueRange}return[0,360]}return o})})(HE,HE.exports);var pte=HE.exports,mte=Cz(pte);function gte(e,t){let n="bright",r;return/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport|streets/.test(e)&&(r="orange"),/contour|building|earth/.test(e)&&(r="monochrome"),/building/.test(e)&&(n="dark"),/earth/.test(e)&&(n="light"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(e)&&(r="green"),`rgba(${mte({luminosity:n,hue:r,seed:e,format:"rgbArray"}).join(", ")}, ${t||"1"})`}var yte={brightColor:gte};function vte(e){return e.metadata&&e.metadata["maplibregl-inspect:inspect"]}function _te(e){return Object.assign(e,{metadata:Object.assign({},e.metadata,{"maplibregl-inspect:inspect":!0})})}class t8{constructor(t){if(this._onSourceChange=r=>{if(r.sourceDataType==="visibility"||!r.isSourceLoaded)return;const i=Object.assign({},this.sources);this._setSourcesFromMap(),!ate(i,this.sources)&&Object.keys(this.sources).length>0&&setTimeout(()=>this.render(),1e3)},this._onStyleChange=()=>{const r=this._map.getStyle();vte(r)||(this._originalStyle=r)},this._onRightClick=()=>{!this.options.showMapPopupOnHover&&!this.options.showInspectMapPopupOnHover&&!this.options.blockHoverPopupOnClick&&this._popup&&this._popup.remove()},this._onMousemove=r=>{if(this._showInspectMap){if(!this.options.showInspectMapPopup||r.type==="mousemove"&&!this.options.showInspectMapPopupOnHover)return;r.type==="click"&&this.options.showInspectMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}else{if(!this.options.showMapPopup||r.type==="mousemove"&&!this.options.showMapPopupOnHover)return;r.type==="click"&&this.options.showMapPopupOnHover&&this.options.blockHoverPopupOnClick&&(this._popupBlocked=!this._popupBlocked)}if(!this._popupBlocked&&this._popup){let i;this.options.selectThreshold===0?i=r.point:i=[[r.point.x-this.options.selectThreshold,r.point.y+this.options.selectThreshold],[r.point.x+this.options.selectThreshold,r.point.y-this.options.selectThreshold]];const o=this._map.queryRenderedFeatures(i,this.options.queryParameters)||[];if(this._map.getCanvas().style.cursor=o.length?"pointer":"",!o.length)this._popup.remove();else{this._popup.setLngLat(r.lngLat);const a=this.options.renderPopup(o);typeof a=="string"?this._popup.setHTML(a):this._popup.setDOMContent(a),this._popup.addTo(this._map)}}},!(this instanceof t8))throw new Error("MaplibreInspect needs to be called with the new keyword");let n=null;window.maplibregl?n=new window.maplibregl.Popup({closeButton:!1,closeOnClick:!1}):t.popup||console.error("Maplibre GL JS can not be found. Make sure to include it or pass an initialized MaplibreGL Popup to MaplibreInspect if you are using moduleis."),this.options=Object.assign({showInspectMap:!1,showInspectButton:!0,showInspectMapPopup:!0,showMapPopup:!1,showMapPopupOnHover:!0,showInspectMapPopupOnHover:!0,blockHoverPopupOnClick:!1,backgroundColor:"#fff",assignLayerColor:yte.brightColor,buildInspectStyle:_T.generateInspectStyle,renderPopup:fte,popup:n,selectThreshold:5,useInspectStyle:!0,queryParameters:{},sources:{},toggleCallback(){},manageStyleOutside:!1},t),this.sources=this.options.sources,this.assignLayerColor=this.options.assignLayerColor,this._popup=this.options.popup,this._popupBlocked=!1,this._showInspectMap=this.options.showInspectMap,this._toggle=new ute({show:this.options.showInspectButton,onToggle:()=>this.toggleInspector()})}toggleInspector(){this._showInspectMap=!this._showInspectMap,this._popupBlocked=!1,this.options.toggleCallback(this._showInspectMap),this.render()}_inspectStyle(){const t=_T.generateColoredLayers(this.sources,this.assignLayerColor);return this.options.buildInspectStyle(this._map.getStyle(),t,{backgroundColor:this.options.backgroundColor})}render(){this._showInspectMap?(this.options.useInspectStyle&&this._map.setStyle(_te(this._inspectStyle())),this._toggle.setMapIcon()):this._originalStyle&&(this._popup&&this._popup.remove(),this.options.useInspectStyle&&this._map.setStyle(this._originalStyle),this._toggle.setInspectIcon())}_setSourcesFromMap(){const t=Object.keys(this._map.getStyle().sources);Object.keys(this._map.style.sourceCaches).forEach(n=>{const r=this._map.style.sourceCaches[n]||{_source:{}},i=r._source.vectorLayerIds;i?this.sources[n]=i:r._source.type==="geojson"&&(this.sources[n]=[])}),Object.keys(this.sources).forEach(n=>{t.indexOf(n)===-1&&delete this.sources[n]})}setOriginalStyle(t){this._originalStyle=t,this._setSourcesFromMap()}onAdd(t){return this._map=t,Object.keys(this.sources).length===0&&(t.on("tiledata",this._onSourceChange),t.on("sourcedata",this._onSourceChange)),t.on("styledata",this._onStyleChange),t.on("load",this._onStyleChange),t.on("mousemove",this._onMousemove),t.on("click",this._onMousemove),t.on("contextmenu",this._onRightClick),this._toggle.elem}onRemove(){this._map.off("styledata",this._onStyleChange),this._map.off("load",this._onStyleChange),this._map.off("tiledata",this._onSourceChange),this._map.off("sourcedata",this._onSourceChange),this._map.off("mousemove",this._onMousemove),this._map.off("click",this._onMousemove),this._map.off("contextmenu",this._onRightClick);const t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0}}var VE={exports:{}};(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(Dh,function(){var n=null,r={};H();var i=[],o=function(X){if(X=X||{},X.seed!==void 0&&X.seed!==null&&X.seed===parseInt(X.seed,10))n=X.seed;else if(typeof X.seed=="string")n=ye(X.seed);else{if(X.seed!==void 0&&X.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var se,we,xe;if(X.count!==null&&X.count!==void 0){for(var De=X.count,Fe=[],he=0;he<X.count;he++)i.push(!1);for(X.count=null;De>Fe.length;){var Qe=o(X);n!==null&&(X.seed=n),Fe.push(Qe)}return X.count=De,Fe}return se=a(X),we=s(se,X),xe=h(se,we,X),g([se,we,xe],X)};function a(X){if(i.length>0){var se=be(X.hue),we=D(se),xe=(se[1]-se[0])/i.length,De=parseInt((we-se[0])/xe);i[De]===!0?De=(De+2)%i.length:i[De]=!0;var Fe=(se[0]+De*xe)%359,he=(se[0]+(De+1)*xe)%359;return se=[Fe,he],we=D(se),we<0&&(we=360+we),we}else{var se=E(X.hue);return we=D(se),we<0&&(we=360+we),we}}function s(X,se){if(se.hue==="monochrome")return 0;if(se.luminosity==="random")return D([0,100]);var we=O(X),xe=we[0],De=we[1];switch(se.luminosity){case"bright":xe=55;break;case"dark":xe=De-10;break;case"light":De=55;break}return D([xe,De])}function h(X,se,we){var xe=_(X,se),De=100;switch(we.luminosity){case"dark":De=xe+20;break;case"light":xe=(De+xe)/2;break;case"random":xe=0,De=100;break}return D([xe,De])}function g(X,se){switch(se.format){case"hsvArray":return X;case"hslArray":return ue(X);case"hsl":var we=ue(X);return"hsl("+we[0]+", "+we[1]+"%, "+we[2]+"%)";case"hsla":var xe=ue(X),he=se.alpha||Math.random();return"hsla("+xe[0]+", "+xe[1]+"%, "+xe[2]+"%, "+he+")";case"rgbArray":return N(X);case"rgb":var De=N(X);return"rgb("+De.join(", ")+")";case"rgba":var Fe=N(X),he=se.alpha||Math.random();return"rgba("+Fe.join(", ")+", "+he+")";default:return Y(X)}}function _(X,se){for(var we=K(X).lowerBounds,xe=0;xe<we.length-1;xe++){var De=we[xe][0],Fe=we[xe][1],he=we[xe+1][0],Qe=we[xe+1][1];if(se>=De&&se<=he){var ge=(Qe-Fe)/(he-De),yt=Fe-ge*De;return ge*se+yt}}return 0}function E(X){if(typeof parseInt(X)=="number"){var se=parseInt(X);if(se<360&&se>0)return[se,se]}if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return[xe,xe]}}return[0,360]}function O(X){return K(X).saturationRange}function K(X){X>=334&&X<=360&&(X-=360);for(var se in r){var we=r[se];if(we.hueRange&&X>=we.hueRange[0]&&X<=we.hueRange[1])return r[se]}return"Color not found"}function D(X){if(n===null){var se=.618033988749895,we=Math.random();return we+=se,we%=1,Math.floor(X[0]+we*(X[1]+1-X[0]))}else{var xe=X[1]||1,De=X[0]||0;n=(n*9301+49297)%233280;var Fe=n/233280;return Math.floor(De+Fe*(xe-De))}}function Y(X){var se=N(X);function we(De){var Fe=De.toString(16);return Fe.length==1?"0"+Fe:Fe}var xe="#"+we(se[0])+we(se[1])+we(se[2]);return xe}function ee(X,se,we){var xe=we[0][0],De=we[we.length-1][0],Fe=we[we.length-1][1],he=we[0][1];r[X]={hueRange:se,lowerBounds:we,saturationRange:[xe,De],brightnessRange:[Fe,he]}}function H(){ee("monochrome",null,[[0,0],[100,0]]),ee("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),ee("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),ee("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),ee("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),ee("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),ee("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),ee("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function N(X){var se=X[0];se===0&&(se=1),se===360&&(se=359),se=se/360;var we=X[1]/100,xe=X[2]/100,De=Math.floor(se*6),Fe=se*6-De,he=xe*(1-we),Qe=xe*(1-Fe*we),ge=xe*(1-(1-Fe)*we),yt=256,wt=256,st=256;switch(De){case 0:yt=xe,wt=ge,st=he;break;case 1:yt=Qe,wt=xe,st=he;break;case 2:yt=he,wt=xe,st=ge;break;case 3:yt=he,wt=Qe,st=xe;break;case 4:yt=ge,wt=he,st=xe;break;case 5:yt=xe,wt=he,st=Qe;break}var mt=[Math.floor(yt*255),Math.floor(wt*255),Math.floor(st*255)];return mt}function Z(X){X=X.replace(/^#/,""),X=X.length===3?X.replace(/(.)/g,"$1$1"):X;var se=parseInt(X.substr(0,2),16)/255,we=parseInt(X.substr(2,2),16)/255,xe=parseInt(X.substr(4,2),16)/255,De=Math.max(se,we,xe),Fe=De-Math.min(se,we,xe),he=De?Fe/De:0;switch(De){case se:return[60*((we-xe)/Fe%6)||0,he,De];case we:return[60*((xe-se)/Fe+2)||0,he,De];case xe:return[60*((se-we)/Fe+4)||0,he,De]}}function ue(X){var se=X[0],we=X[1]/100,xe=X[2]/100,De=(2-we)*xe;return[se,Math.round(we*xe/(De<1?De:2-De)*1e4)/100,De/2*100]}function ye(X){for(var se=0,we=0;we!==X.length&&!(se>=Number.MAX_SAFE_INTEGER);we++)se+=X.charCodeAt(we);return se}function be(X){if(isNaN(X)){if(typeof X=="string"){if(r[X]){var we=r[X];if(we.hueRange)return we.hueRange}else if(X.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var xe=Z(X)[0];return K(xe).hueRange}}}else{var se=parseInt(X);if(se<360&&se>0)return K(X).hueRange}return[0,360]}return o})})(VE,VE.exports);var Cte=VE.exports;const bte=Ba(Cte);function xte(e,t){let n="bright",r;return/water|ocean|lake|sea|river/.test(e)&&(r="blue"),/state|country|place/.test(e)&&(r="pink"),/road|highway|transport|streets/.test(e)&&(r="orange"),/contour|building|earth/.test(e)&&(r="monochrome"),/building/.test(e)&&(n="dark"),/earth/.test(e)&&(n="light"),/contour|landuse/.test(e)&&(r="yellow"),/wood|forest|park|landcover|land|natural/.test(e)&&(r="green"),`rgba(${bte({luminosity:n,hue:r,seed:e,format:"rgbArray"}).join(", ")}, ${t||"1"})`}const bz={brightColor:xte};var xz={exports:{}},wte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mte=wte,Ste=Mte;function wz(){}function Mz(){}Mz.resetWarningCache=wz;var Ete=function(){function e(r,i,o,a,s,h){if(h!==Ste){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mz,resetWarningCache:wz};return n.PropTypes=n,n};xz.exports=Ete();var Fh=xz.exports;const Rr=Ba(Fh);var bT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ote(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var c0=function(t,n){var r=t.children,i=t.color,o=t.size,a=t.style,s=t.width,h=t.height,g=Ote(t,["children","color","size","style","width","height"]),_=n.reactIconBase,E=_===void 0?{}:_,O=o||E.size||"1em";return Mn.createElement("svg",bT({children:r,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:h||O,width:s||O},E,g,{style:bT({verticalAlign:"middle",color:i||E.color},E.style||{},a)}))};c0.propTypes={color:Rr.string,size:Rr.oneOfType([Rr.string,Rr.number]),width:Rr.oneOfType([Rr.string,Rr.number]),height:Rr.oneOfType([Rr.string,Rr.number]),style:Rr.object};c0.contextTypes={reactIconBase:Rr.shape(c0.propTypes)};function o4(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",t="ace6118dd0ae83e2ceb20b70664ae2267741d924",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:478}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLine.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,iUAAgU,WAAU,kBAAiB,GACrW;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ace6118dd0ae83e2ceb20b70664ae2267741d924"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return o4=function(){return a},a}o4();class Bte extends Mn.Component{render(){return o4().f[0]++,o4().s[0]++,G.jsx(c0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{d:"M 12.34,1.29 C 12.5114,1.1076 12.7497,1.0029 13,1 13.5523,1 14,1.4477 14,2 14.0047,2.2478 13.907,2.4866 13.73,2.66 9.785626,6.5516986 6.6148407,9.7551593 2.65,13.72 2.4793,13.8963 2.2453,13.9971 2,14 1.4477,14 1,13.5523 1,13 0.9953,12.7522 1.093,12.5134 1.27,12.34 4.9761967,8.7018093 9.0356422,4.5930579 12.34,1.29 Z",transform:"translate(2,2)"})})}}function a4(){var e="/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",t="8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:562}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconFill.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,iBAAiB,MAAM,UAAU;AAAA,EACpD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,kbAAib,GAC3b;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9fc49e8fc93b42e35f3a9b2accdbccf6dcdb84"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return a4=function(){return a},a}a4();class f2 extends Mn.Component{render(){return a4().f[0]++,a4().s[0]++,G.jsx(c0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{d:"M 2.84978,9.763512 9.462149,4.7316391 16.47225,9.478015 9.859886,14.509879 2.84978,9.763512 m -1.028761,0.492069 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 l 0,0 z"})})}}function s4(){var e="/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",t="6ac2e596376f8b8c2e117c4345e33d1afb8f583b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:535}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconSymbol.tsx"],names:[],mappings:"AASU;AATV,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,OAAE,WAAU,wDACX,8BAAC,UAAK,GAAE,4SAA2S,GACrT,GACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ac2e596376f8b8c2e117c4345e33d1afb8f583b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return s4=function(){return a},a}s4();class Ite extends Mn.Component{render(){return s4().f[0]++,s4().s[0]++,G.jsx(c0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("g",{transform:"matrix(1.2718518,0,0,1.2601269,16.559526,-7.4065264)",children:G.jsx("path",{d:"m -9.7959773,11.060163 c -0.3734787,-0.724437 -0.3580577,-1.2147051 -0.00547,-1.8767873 l 8.6034029,-0.019416 c 0.39670292,0.6865644 0.38365934,1.4750693 -0.011097,1.8864953 l -3.1359613,-0.0033 -0.013695,7.1305 c -0.4055357,0.397083 -1.3146432,0.397083 -1.7769191,-0.02274 l 0.030226,-7.104422 z"})})})}}function l4(){var e="/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",t="f8813cd7d4a9138ff3fc7253bc195b86370ed6cf",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:464}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconBackground.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,uBAAuB,MAAM,UAAU;AAAA,EAC1D,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,GAAE,gVAA+U,GACzV;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f8813cd7d4a9138ff3fc7253bc195b86370ed6cf"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return l4=function(){return a},a}l4();class xT extends Mn.Component{render(){return l4().f[0]++,l4().s[0]++,G.jsx(c0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{d:"m 1.821019,10.255581 7.414535,5.020197 c 0.372277,0.25206 0.958697,0.239771 1.30985,-0.02745 L 17.539255,9.926162 C 17.89041,9.658941 17.873288,9.238006 17.501015,8.985946 L 10.08648,3.9657402 C 9.714204,3.7136802 9.127782,3.7259703 8.776627,3.9931918 L 1.782775,9.315365 c -0.3511551,0.267221 -0.3340331,0.688156 0.03824,0.940216 z"})})}}function u4(){var e="/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",t="35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:378}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconCircle.tsx"],names:[],mappings:"AAQQ;AARR,OAAO,WAAW;AAClB,OAAO,cAAc;AAGrB,qBAAqB,mBAAmB,MAAM,UAAU;AAAA,EACtD,SAAS;AACP,WACE,oBAAC,YAAS,SAAQ,aAAa,GAAG,KAAK,OACrC,8BAAC,UAAK,WAAU,kBAAiB,GAAE,6NAA4N,GACjQ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"35a8c3687dcdeffeb7f2fe2d9c05ced9e802b5ca"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return u4=function(){return a},a}u4();class kte extends Mn.Component{render(){return u4().f[0]++,u4().s[0]++,G.jsx(c0,{viewBox:"0 0 20 20",...this.props,children:G.jsx("path",{transform:"translate(2 2)",d:"M7.5,0C11.6422,0,15,3.3578,15,7.5S11.6422,15,7.5,15 S0,11.6422,0,7.5S3.3578,0,7.5,0z M7.5,1.6666c-3.2217,0-5.8333,2.6117-5.8333,5.8334S4.2783,13.3334,7.5,13.3334 s5.8333-2.6117,5.8333-5.8334S10.7217,1.6666,7.5,1.6666z"})})}}function Mv(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function Tte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(e)}function Pte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"},child:[]}]})(e)}function Kte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function Dte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function Fte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(e)}function Lte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)}function Ute(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},child:[]}]})(e)}function Rte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(e)}function Sz(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function zte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(e)}function jte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(e)}function Wte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"},child:[]}]})(e)}function Nte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"},child:[]}]})(e)}function ZE(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"},child:[]}]})(e)}function Gte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(e)}function $te(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"},child:[]}]})(e)}function Qte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}function Yte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 14 5-5 5 5z"},child:[]}]})(e)}function qte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function Hte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function Vte(e){return sl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"2"},child:[]},{tag:"path",attr:{d:"M10 3h4v12h-4z"},child:[]}]})(e)}function A4(){var e="/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",t="90c8ed80956547e1dbbdff164a42850c33eed62e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconMissing.tsx"],names:[],mappings:"AAOM;AAPN,OAAO,WAAW;AAClB,SAAQ,sBAAqB;AAG7B,qBAAqB,oBAAoB,MAAM,UAAU;AAAA,EACvD,SAAS;AACP,WACE,oBAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,EAEpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"90c8ed80956547e1dbbdff164a42850c33eed62e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return A4=function(){return a},a}A4();class Zte extends Mn.Component{render(){return A4().f[0]++,A4().s[0]++,G.jsx(Vte,{...this.props})}}function ms(){var e="/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",t="89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx",statementMap:{0:{start:{line:11,column:22},end:{line:11,column:49}},1:{start:{line:12,column:4},end:{line:33,column:5}},2:{start:{line:14,column:8},end:{line:14,column:69}},3:{start:{line:16,column:8},end:{line:16,column:63}},4:{start:{line:18,column:8},end:{line:18,column:63}},5:{start:{line:20,column:8},end:{line:20,column:63}},6:{start:{line:22,column:8},end:{line:22,column:63}},7:{start:{line:24,column:8},end:{line:24,column:69}},8:{start:{line:26,column:8},end:{line:26,column:63}},9:{start:{line:28,column:8},end:{line:28,column:65}},10:{start:{line:30,column:8},end:{line:30,column:65}},11:{start:{line:32,column:8},end:{line:32,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:34,column:3}},line:10}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:33,column:5}},type:"switch",locations:[{start:{line:13,column:6},end:{line:14,column:69}},{start:{line:15,column:6},end:{line:16,column:63}},{start:{line:17,column:6},end:{line:18,column:63}},{start:{line:19,column:6},end:{line:20,column:63}},{start:{line:21,column:6},end:{line:22,column:63}},{start:{line:23,column:6},end:{line:24,column:69}},{start:{line:25,column:6},end:{line:26,column:63}},{start:{line:27,column:6},end:{line:28,column:65}},{start:{line:29,column:6},end:{line:30,column:65}},{start:{line:31,column:6},end:{line:32,column:66}}],line:12}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{0:[0,0,0,0,0,0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/IconLayer.tsx"],names:[],mappings:"AAmBkC;AAnBlC,OAAO,WAAW;AAElB,OAAO,cAAc;AACrB,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AAQxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,EAAE,OAAO,KAAK,MAAM,MAAM;AAC5C,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAkB,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MAC7D,KAAK;AAAU,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC/C,KAAK;AAAa,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAClD,KAAK;AAAW,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAChD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAc,eAAO,oBAAC,kBAAgB,GAAG,WAAW;AAAA,MACzD,KAAK;AAAQ,eAAO,oBAAC,YAAU,GAAG,WAAW;AAAA,MAC7C,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD,KAAK;AAAU,eAAO,oBAAC,cAAY,GAAG,WAAW;AAAA,MACjD;AAAS,eAAO,oBAAC,eAAa,GAAG,WAAW;AAAA,IAC5C;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89bd7eb08374d10a1476c7cf1e0e39f530ce1ff1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ms=function(){return a},a}ms();class Ez extends Mn.Component{render(){ms().f[0]++;const t=(ms().s[0]++,{style:this.props.style});switch(ms().s[1]++,this.props.type){case"fill-extrusion":return ms().b[0][0]++,ms().s[2]++,G.jsx(xT,{...t});case"raster":return ms().b[0][1]++,ms().s[3]++,G.jsx(f2,{...t});case"hillshade":return ms().b[0][2]++,ms().s[4]++,G.jsx(f2,{...t});case"heatmap":return ms().b[0][3]++,ms().s[5]++,G.jsx(f2,{...t});case"fill":return ms().b[0][4]++,ms().s[6]++,G.jsx(f2,{...t});case"background":return ms().b[0][5]++,ms().s[7]++,G.jsx(xT,{...t});case"line":return ms().b[0][6]++,ms().s[8]++,G.jsx(Bte,{...t});case"symbol":return ms().b[0][7]++,ms().s[9]++,G.jsx(Ite,{...t});case"circle":return ms().b[0][8]++,ms().s[10]++,G.jsx(kte,{...t});default:return ms().b[0][9]++,ms().s[11]++,G.jsx(Zte,{...t})}}}function xr(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",t="ea1e9940e142b9a2a1c672f6983f6f5748c841e6",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:20}},1:{start:{line:6,column:27},end:{line:6,column:29}},2:{start:{line:7,column:2},end:{line:18,column:5}},3:{start:{line:8,column:22},end:{line:8,column:51}},4:{start:{line:9,column:4},end:{line:17,column:5}},5:{start:{line:10,column:6},end:{line:10,column:43}},6:{start:{line:11,column:28},end:{line:11,column:91}},7:{start:{line:11,column:59},end:{line:11,column:90}},8:{start:{line:12,column:6},end:{line:12,column:65}},9:{start:{line:14,column:6},end:{line:14,column:52}},10:{start:{line:15,column:6},end:{line:15,column:39}},11:{start:{line:16,column:6},end:{line:16,column:45}},12:{start:{line:19,column:2},end:{line:19,column:17}},13:{start:{line:23,column:4},end:{line:25,column:5}},14:{start:{line:24,column:6},end:{line:24,column:13}},15:{start:{line:26,column:4},end:{line:44,column:5}},16:{start:{line:27,column:25},end:{line:27,column:44}},17:{start:{line:28,column:6},end:{line:30,column:7}},18:{start:{line:29,column:8},end:{line:29,column:48}},19:{start:{line:31,column:6},end:{line:33,column:7}},20:{start:{line:32,column:8},end:{line:32,column:48}},21:{start:{line:34,column:6},end:{line:36,column:7}},22:{start:{line:35,column:8},end:{line:35,column:48}},23:{start:{line:37,column:6},end:{line:39,column:7}},24:{start:{line:38,column:8},end:{line:38,column:58}},25:{start:{line:40,column:6},end:{line:40,column:21}},26:{start:{line:42,column:6},end:{line:42,column:63}},27:{start:{line:43,column:6},end:{line:43,column:21}},28:{start:{line:47,column:20},end:{line:47,column:67}},29:{start:{line:48,column:18},end:{line:93,column:6}},30:{start:{line:49,column:21},end:{line:88,column:8}},31:{start:{line:50,column:29},end:{line:50,column:76}},32:{start:{line:51,column:8},end:{line:87,column:10}},33:{start:{line:68,column:20},end:{line:68,column:63}},34:{start:{line:89,column:6},end:{line:92,column:26}},35:{start:{line:94,column:4},end:{line:94,column:102}}},fnMap:{0:{name:"groupFeaturesBySourceLayer",decl:{start:{line:4,column:9},end:{line:4,column:35}},loc:{start:{line:4,column:46},end:{line:20,column:1}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:32},end:{line:18,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:52},end:{line:11,column:53}},loc:{start:{line:11,column:59},end:{line:11,column:90}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:35},end:{line:45,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:11},end:{line:95,column:3}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:43},end:{line:48,column:44}},loc:{start:{line:48,column:62},end:{line:93,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:66},end:{line:88,column:7}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:69,column:19}},line:67}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:17,column:5}},{start:{line:13,column:11},end:{line:17,column:5}}],line:9},1:{loc:{start:{line:14,column:27},end:{line:14,column:51}},type:"binary-expr",locations:[{start:{line:14,column:27},end:{line:14,column:45}},{start:{line:14,column:49},end:{line:14,column:51}}],line:14},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},3:{loc:{start:{line:28,column:6},end:{line:30,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:30,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28},4:{loc:{start:{line:28,column:10},end:{line:28,column:64}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:36}},{start:{line:28,column:40},end:{line:28,column:64}}],line:28},5:{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:"if",locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},6:{loc:{start:{line:31,column:10},end:{line:31,column:64}},type:"binary-expr",locations:[{start:{line:31,column:10},end:{line:31,column:36}},{start:{line:31,column:40},end:{line:31,column:64}}],line:31},7:{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},8:{loc:{start:{line:34,column:10},end:{line:34,column:64}},type:"binary-expr",locations:[{start:{line:34,column:10},end:{line:34,column:36}},{start:{line:34,column:40},end:{line:34,column:64}}],line:34},9:{loc:{start:{line:37,column:6},end:{line:39,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:39,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},10:{loc:{start:{line:37,column:10},end:{line:37,column:84}},type:"binary-expr",locations:[{start:{line:37,column:10},end:{line:37,column:46}},{start:{line:37,column:50},end:{line:37,column:84}}],line:37},11:{loc:{start:{line:71,column:20},end:{line:75,column:24}},type:"binary-expr",locations:[{start:{line:71,column:20},end:{line:71,column:38}},{start:{line:71,column:58},end:{line:75,column:24}}],line:71},12:{loc:{start:{line:77,column:20},end:{line:80,column:24}},type:"binary-expr",locations:[{start:{line:77,column:20},end:{line:77,column:35}},{start:{line:77,column:55},end:{line:80,column:24}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlLayerPopup.tsx"],names:[],mappings:"AA8EU,cAkBsB,YAlBtB;AA9EV,OAAO,WAAW;AAClB,OAAO,eAAe;AAGtB,SAAS,2BAA2B,UAA4B;AAC9D,QAAM,UAA6C,CAAC;AAEpD,QAAM,mBAA4C,CAAC;AAEnD,WAAS,QAAQ,aAAW;AAC1B,UAAM,YAAY,QAAQ,MAAM,cAAc;AAC9C,QAAG,OAAO,UAAU,eAAe,KAAK,kBAAkB,QAAQ,MAAM,EAAE,GAAG;AAC3E,uBAAiB,QAAQ,MAAM,EAAE;AAEjC,YAAM,gBAAgB,QAAQ,SAAS,EAAE,KAAK,CAAC,MAAsB,EAAE,MAAM,OAAO,QAAQ,MAAM,EAAE;AAEpG,oBAAe,UAAU,iBAAiB,QAAQ,MAAM,EAAE;AAAA,IAC5D,OAAO;AACL,cAAQ,SAAS,IAAI,QAAQ,SAAS,KAAK,CAAC;AAC5C,cAAQ,SAAS,EAAE,KAAK,OAAO;AAE/B,uBAAiB,QAAQ,MAAM,EAAE,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAQA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,iBAAiB,SAAyB,OAAgB;AAExD,QAAI,CAAC,QAAQ,MAAM,OAAO;AACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,aAAa,QAAQ,MAAM;AAEjC,UAAG,gBAAgB,cAAc,WAAW,YAAY,GAAG;AACzD,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,gBAAgB,cAAc,WAAW,YAAY,GAAG;AAC1D,eAAO,OAAO,WAAW,YAAY,CAAC;AAAA,MACxC;AACA,UAAI,0BAA0B,cAAc,WAAW,sBAAsB,GAAG;AAC9E,eAAO,OAAO,WAAW,sBAAsB,CAAC;AAAA,MAClD;AAEA,aAAO;AAAA,IACT,SAGO,KAAK;AACV,cAAQ,KAAK,uCAAuC,GAAG;AACvD,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,UAAU,2BAA2B,KAAK,MAAM,QAAQ;AAE9D,UAAM,QAAQ,OAAO,KAAK,OAAO,EAAE,IAAI,mBAAiB;AACtD,YAAM,SAAS,QAAQ,aAAa,EAAE,IAAI,CAAC,SAAyB,QAAgB;AAClF,cAAM,eAAe,KAAK,iBAAiB,SAAS,KAAK,MAAM,IAAI;AAEnE,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,WAAU;AAAA,YAEV;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,OAAO,EAAC,YAAY,aAAY;AAAA;AAAA,cACjC;AAAA,cACD;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM;AACb,yBAAK,MAAM,cAAc,QAAQ,MAAM,EAAE;AAAA,kBAC3C;AAAA,kBAEC;AAAA,4BAAQ,MAAM,QACb,oBAAC,aAAU,MAAM,QAAQ,MAAM,MAAM,OAAO;AAAA,sBAC1C,OAAO;AAAA,sBACP,QAAQ;AAAA,sBACR,cAAc;AAAA,oBAChB,GAAE;AAAA,oBAEH,QAAQ,MAAM;AAAA,oBACd,QAAQ,WAAW,qBAAC,UAAK;AAAA;AAAA,sBAAI,QAAQ;AAAA,uBAAQ;AAAA;AAAA;AAAA,cAChD;AAAA;AAAA;AAAA,UAtBK;AAAA,QAuBP;AAAA,MACF,CAAC;AACD,aAAO,qBAAC,SACN;AAAA,4BAAC,SAAI,WAAU,2BAA2B,yBAAc;AAAA,QACvD;AAAA,WAFc,aAGjB;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,gCACnB,iBACH;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea1e9940e142b9a2a1c672f6983f6f5748c841e6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return xr=function(){return a},a}xr();function Xte(e){xr().f[0]++;const t=(xr().s[0]++,{}),n=(xr().s[1]++,{});return xr().s[2]++,e.forEach(r=>{xr().f[1]++;const i=(xr().s[3]++,r.layer["source-layer"]);if(xr().s[4]++,Object.prototype.hasOwnProperty.call(n,r.layer.id)){xr().b[0][0]++,xr().s[5]++,n[r.layer.id]++;const o=(xr().s[6]++,t[i].find(a=>(xr().f[2]++,xr().s[7]++,a.layer.id===r.layer.id)));xr().s[8]++,o.counter=n[r.layer.id]}else xr().b[0][1]++,xr().s[9]++,t[i]=(xr().b[1][0]++,t[i]||(xr().b[1][1]++,[])),xr().s[10]++,t[i].push(r),xr().s[11]++,n[r.layer.id]=1}),xr().s[12]++,t}class Oz extends Mn.Component{_getFeatureColor(t,n){if(xr().f[3]++,xr().s[13]++,t.layer.paint)xr().b[2][1]++;else{xr().b[2][0]++,xr().s[14]++;return}xr().s[15]++;try{const r=(xr().s[16]++,t.layer.paint);return xr().s[17]++,xr().b[4][0]++,"text-color"in r&&(xr().b[4][1]++,r["text-color"])?(xr().b[3][0]++,xr().s[18]++,String(r["text-color"])):(xr().b[3][1]++,xr().s[19]++,xr().b[6][0]++,"fill-color"in r&&(xr().b[6][1]++,r["fill-color"])?(xr().b[5][0]++,xr().s[20]++,String(r["fill-color"])):(xr().b[5][1]++,xr().s[21]++,xr().b[8][0]++,"line-color"in r&&(xr().b[8][1]++,r["line-color"])?(xr().b[7][0]++,xr().s[22]++,String(r["line-color"])):(xr().b[7][1]++,xr().s[23]++,xr().b[10][0]++,"fill-extrusion-color"in r&&(xr().b[10][1]++,r["fill-extrusion-color"])?(xr().b[9][0]++,xr().s[24]++,String(r["fill-extrusion-color"])):(xr().b[9][1]++,xr().s[25]++,"black"))))}catch(r){return xr().s[26]++,console.warn("Unable to get feature color, error:",r),xr().s[27]++,"black"}}render(){xr().f[4]++;const t=(xr().s[28]++,Xte(this.props.features)),n=(xr().s[29]++,Object.keys(t).map(r=>{xr().f[5]++;const i=(xr().s[30]++,t[r].map((o,a)=>{xr().f[6]++;const s=(xr().s[31]++,this._getFeatureColor(o,this.props.zoom));return xr().s[32]++,G.jsxs("div",{className:"maputnik-popup-layer",children:[G.jsx("div",{className:"maputnik-popup-layer__swatch",style:{background:s}}),G.jsxs("label",{className:"maputnik-popup-layer__label",onClick:()=>{xr().f[7]++,xr().s[33]++,this.props.onLayerSelect(o.layer.id)},children:[(xr().b[11][0]++,o.layer.type&&(xr().b[11][1]++,G.jsx(Ez,{type:o.layer.type,style:{width:14,height:14,paddingRight:3}}))),o.layer.id,(xr().b[12][0]++,o.counter&&(xr().b[12][1]++,G.jsxs("span",{children:[" × ",o.counter]})))]})]},a)}));return xr().s[34]++,G.jsxs("div",{children:[G.jsx("div",{className:"maputnik-popup-layer-id",children:r}),i]},r)}));return xr().s[35]++,G.jsx("div",{className:"maputnik-feature-layer-popup",children:n})}}function mi(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",t="5f5bcb15b740e85b8bed2fa7ce2308584d19f10e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx",statementMap:{0:{start:{line:4,column:2},end:{line:5,column:17}},1:{start:{line:5,column:4},end:{line:5,column:17}},2:{start:{line:6,column:2},end:{line:7,column:34}},3:{start:{line:7,column:4},end:{line:7,column:34}},4:{start:{line:8,column:2},end:{line:9,column:28}},5:{start:{line:9,column:4},end:{line:9,column:28}},6:{start:{line:10,column:2},end:{line:10,column:15}},7:{start:{line:13,column:2},end:{line:16,column:12}},8:{start:{line:19,column:2},end:{line:35,column:12}},9:{start:{line:32,column:23},end:{line:32,column:55}},10:{start:{line:33,column:6},end:{line:33,column:74}},11:{start:{line:38,column:25},end:{line:38,column:27}},12:{start:{line:39,column:2},end:{line:52,column:5}},13:{start:{line:40,column:25},end:{line:42,column:6}},14:{start:{line:41,column:6},end:{line:41,column:156}},15:{start:{line:43,column:4},end:{line:51,column:5}},16:{start:{line:44,column:6},end:{line:44,column:35}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:58}},19:{start:{line:49,column:8},end:{line:49,column:60}},20:{start:{line:53,column:2},end:{line:53,column:24}},21:{start:{line:57,column:21},end:{line:57,column:66}},22:{start:{line:58,column:4},end:{line:58,column:250}}},fnMap:{0:{name:"displayValue",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:29},end:{line:11,column:1}},line:3},1:{name:"renderKeyValueTableRow",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:44},end:{line:17,column:1}},line:12},2:{name:"renderFeature",decl:{start:{line:18,column:9},end:{line:18,column:22}},loc:{start:{line:18,column:37},end:{line:36,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:31,column:40},end:{line:31,column:41}},loc:{start:{line:31,column:58},end:{line:34,column:5}},line:31},4:{name:"removeDuplicatedFeatures",decl:{start:{line:37,column:9},end:{line:37,column:33}},loc:{start:{line:37,column:44},end:{line:54,column:1}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:39,column:19},end:{line:39,column:20}},loc:{start:{line:39,column:32},end:{line:52,column:3}},line:39},6:{name:"(anonymous_6)",decl:{start:{line:40,column:50},end:{line:40,column:51}},loc:{start:{line:40,column:64},end:{line:42,column:5}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:11},end:{line:59,column:3}},line:56}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:5,column:17}},type:"if",locations:[{start:{line:4,column:2},end:{line:5,column:17}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:52}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:34}},{start:{line:4,column:38},end:{line:4,column:52}}],line:4},2:{loc:{start:{line:6,column:2},end:{line:7,column:34}},type:"if",locations:[{start:{line:6,column:2},end:{line:7,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},3:{loc:{start:{line:8,column:2},end:{line:9,column:28}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},4:{loc:{start:{line:8,column:6},end:{line:8,column:89}},type:"binary-expr",locations:[{start:{line:8,column:6},end:{line:8,column:31}},{start:{line:8,column:35},end:{line:8,column:60}},{start:{line:8,column:64},end:{line:8,column:89}}],line:8},5:{loc:{start:{line:24,column:6},end:{line:27,column:10}},type:"binary-expr",locations:[{start:{line:24,column:6},end:{line:24,column:32}},{start:{line:24,column:52},end:{line:27,column:10}}],line:24},6:{loc:{start:{line:41,column:13},end:{line:41,column:155}},type:"binary-expr",locations:[{start:{line:41,column:13},end:{line:41,column:77}},{start:{line:41,column:81},end:{line:41,column:155}}],line:41},7:{loc:{start:{line:43,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:51,column:5}},{start:{line:45,column:11},end:{line:51,column:5}}],line:43},8:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGlFeaturePropertyPopup.tsx"],names:[],mappings:"AAkBS,SACL,KADK;AAlBT,OAAO,WAAW;AAQlB,SAAS,aAAa,OAAoD;AACxE,MAAI,OAAO,UAAU,eAAe,UAAU;AAAM,WAAO;AAC3D,MAAI,iBAAiB;AAAM,WAAO,MAAM,eAAe;AACvD,MAAI,OAAO,UAAU,YACb,OAAO,UAAU,YACjB,OAAO,UAAU;AAAU,WAAO,MAAM,SAAS;AACzD,SAAO;AACT;AAEA,SAAS,uBAAuB,KAAa,OAA2B;AACtE,SAAO,qBAAC,QACN;AAAA,wBAAC,QAAG,WAAU,6BAA6B,eAAI;AAAA,IAC/C,oBAAC,QAAG,WAAU,6BAA6B,iBAAM;AAAA,OAFnC,GAGhB;AACF;AAEA,SAAS,cAAc,SAAyB,KAAa;AAC3D,SAAO,qBAAC,MAAM,UAAN,EACN;AAAA,wBAAC,QACC,+BAAC,QAAG,SAAS,GAAG,WAAU,2BAA2B;AAAA,cAAQ,MAAM,QAAQ;AAAA,MAAE;AAAA,MAAG,QAAQ,MAAM,cAAc;AAAA,MAAG,QAAQ,sBAAsB,qBAAC,UAAK;AAAA;AAAA,QAAI,QAAQ;AAAA,SAAmB;AAAA,OAAQ,GAC5L;AAAA,IACC,uBAAuB,SAAS,QAAQ,SAAS,IAAI;AAAA,IACrD,uBAAuB,OAAO,aAAa,QAAQ,EAAE,CAAC;AAAA,IACtD,OAAO,KAAK,QAAQ,UAAU,EAAE,IAAI,kBAAgB;AACnD,YAAM,WAAW,QAAQ,WAAW,YAAY;AAChD,aAAO,uBAAuB,cAAc,aAAa,QAAQ,CAAC;AAAA,IACpE,CAAC;AAAA,OATyB,GAU5B;AACF;AAEA,SAAS,yBAAyB,UAA4B;AAC5D,QAAM,iBAAmC,CAAC;AAE1C,WAAS,QAAQ,aAAW;AAC1B,UAAM,eAAe,eAAe,UAAU,cAAY;AACxD,aAAO,QAAQ,MAAM,cAAc,MAAM,SAAS,MAAM,cAAc,KACjE,KAAK,UAAU,QAAQ,UAAU,MAAM,KAAK,UAAU,SAAS,UAAU;AAAA,IAChF,CAAC;AAED,QAAG,iBAAiB,IAAI;AACtB,qBAAe,KAAK,OAAO;AAAA,IAC7B,OAAO;AACL,UAAG,wBAAwB,eAAe,YAAY,GAAG;AACvD,uBAAe,YAAY,EAAE;AAAA,MAC/B,OAAO;AACL,uBAAe,YAAY,EAAE,qBAAqB;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAMA,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,UAAM,WAAW,yBAAyB,KAAK,MAAM,QAAQ;AAC7D,WAAO,oBAAC,SAAI,WAAU,mCACpB,8BAAC,WAAM,WAAU,wBACf,8BAAC,WACE,mBAAS,IAAI,aAAa,GAC7B,GACF,GACF;AAAA,EACF;AACF;AAGA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f5bcb15b740e85b8bed2fa7ce2308584d19f10e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return mi=function(){return a},a}mi();function wT(e){return mi().f[0]++,mi().s[0]++,mi().b[1][0]++,typeof e>"u"||(mi().b[1][1]++,e===null)?(mi().b[0][0]++,mi().s[1]++,e):(mi().b[0][1]++,mi().s[2]++,e instanceof Date?(mi().b[2][0]++,mi().s[3]++,e.toLocaleString()):(mi().b[2][1]++,mi().s[4]++,mi().b[4][0]++,typeof e=="object"||(mi().b[4][1]++,typeof e=="number")||(mi().b[4][2]++,typeof e=="string")?(mi().b[3][0]++,mi().s[5]++,e.toString()):(mi().b[3][1]++,mi().s[6]++,e)))}function vS(e,t){return mi().f[1]++,mi().s[7]++,G.jsxs("tr",{children:[G.jsx("td",{className:"maputnik-popup-table-cell",children:e}),G.jsx("td",{className:"maputnik-popup-table-cell",children:t})]},e)}function Jte(e,t){return mi().f[2]++,mi().s[8]++,G.jsxs(Mn.Fragment,{children:[G.jsx("tr",{children:G.jsxs("td",{colSpan:2,className:"maputnik-popup-layer-id",children:[e.layer.source,": ",e.layer["source-layer"],(mi().b[5][0]++,e.inspectModeCounter&&(mi().b[5][1]++,G.jsxs("span",{children:[" × ",e.inspectModeCounter]})))]})}),vS("$type",e.geometry.type),vS("$id",wT(e.id)),Object.keys(e.properties).map(n=>{mi().f[3]++;const r=(mi().s[9]++,e.properties[n]);return mi().s[10]++,vS(n,wT(r))})]},t)}function ene(e){mi().f[4]++;const t=(mi().s[11]++,[]);return mi().s[12]++,e.forEach(n=>{mi().f[5]++;const r=(mi().s[13]++,t.findIndex(i=>(mi().f[6]++,mi().s[14]++,mi().b[6][0]++,n.layer["source-layer"]===i.layer["source-layer"]&&(mi().b[6][1]++,JSON.stringify(n.properties)===JSON.stringify(i.properties)))));mi().s[15]++,r===-1?(mi().b[7][0]++,mi().s[16]++,t.push(n)):(mi().b[7][1]++,mi().s[17]++,"inspectModeCounter"in t[r]?(mi().b[8][0]++,mi().s[18]++,t[r].inspectModeCounter++):(mi().b[8][1]++,mi().s[19]++,t[r].inspectModeCounter=2))}),mi().s[20]++,t}class tne extends Mn.Component{render(){mi().f[7]++;const t=(mi().s[21]++,ene(this.props.features));return mi().s[22]++,G.jsx("div",{className:"maputnik-feature-property-popup",children:G.jsx("table",{className:"maputnik-popup-table",children:G.jsx("tbody",{children:t.map(Jte)})})})}}var Bz={exports:{}},Iz={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},kz={exports:{}},nne=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},rne=nne,ine=Array.prototype.concat,one=Array.prototype.slice,MT=kz.exports=function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];rne(o)?n=ine.call(n,one.call(o)):n.push(o)}return n};MT.wrap=function(e){return function(){return e(MT(arguments))}};var ane=kz.exports,dC=Iz,Ib=ane,Tz=Object.hasOwnProperty,Pz=Object.create(null);for(var _S in dC)Tz.call(dC,_S)&&(Pz[dC[_S]]=_S);var Jc=Bz.exports={to:{},get:{}};Jc.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=Jc.get.hsl(e),r="hsl";break;case"hwb":n=Jc.get.hwb(e),r="hwb";break;default:n=Jc.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null};Jc.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,a=[0,0,0,1],s,h,g;if(s=e.match(n)){for(g=s[2],s=s[1],h=0;h<3;h++){var _=h*2;a[h]=parseInt(s.slice(_,_+2),16)}g&&(a[3]=parseInt(g,16)/255)}else if(s=e.match(t)){for(s=s[1],g=s[3],h=0;h<3;h++)a[h]=parseInt(s[h]+s[h],16);g&&(a[3]=parseInt(g+g,16)/255)}else if(s=e.match(r)){for(h=0;h<3;h++)a[h]=parseInt(s[h+1],0);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else if(s=e.match(i)){for(h=0;h<3;h++)a[h]=Math.round(parseFloat(s[h+1])*2.55);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else return(s=e.match(o))?s[1]==="transparent"?[0,0,0,0]:Tz.call(dC,s[1])?(a=dC[s[1]],a[3]=1,a):null:null;for(h=0;h<3;h++)a[h]=i0(a[h],0,255);return a[3]=i0(a[3],0,1),a};Jc.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=i0(parseFloat(n[2]),0,100),a=i0(parseFloat(n[3]),0,100),s=i0(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null};Jc.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=i0(parseFloat(n[2]),0,100),a=i0(parseFloat(n[3]),0,100),s=i0(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null};Jc.to.hex=function(){var e=Ib(arguments);return"#"+p2(e[0])+p2(e[1])+p2(e[2])+(e[3]<1?p2(Math.round(e[3]*255)):"")};Jc.to.rgb=function(){var e=Ib(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Jc.to.rgb.percent=function(){var e=Ib(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"};Jc.to.hsl=function(){var e=Ib(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Jc.to.hwb=function(){var e=Ib(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Jc.to.keyword=function(e){return Pz[e.slice(0,3)]};function i0(e,t,n){return Math.min(Math.max(t,e),n)}function p2(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var sne=Bz.exports;const XC=Iz,Kz={};for(const e of Object.keys(XC))Kz[XC[e]]=e;const $r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Dz=$r;for(const e of Object.keys($r)){if(!("channels"in $r[e]))throw new Error("missing channels property: "+e);if(!("labels"in $r[e]))throw new Error("missing channel labels property: "+e);if($r[e].labels.length!==$r[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=$r[e];delete $r[e].channels,delete $r[e].labels,Object.defineProperty($r[e],"channels",{value:t}),Object.defineProperty($r[e],"labels",{value:n})}$r.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=o-i;let s,h;o===i?s=0:t===o?s=(n-r)/a:n===o?s=2+(r-t)/a:r===o&&(s=4+(t-n)/a),s=Math.min(s*60,360),s<0&&(s+=360);const g=(i+o)/2;return o===i?h=0:g<=.5?h=a/(o+i):h=a/(2-o-i),[s,h*100,g*100]};$r.rgb.hsv=function(e){let t,n,r,i,o;const a=e[0]/255,s=e[1]/255,h=e[2]/255,g=Math.max(a,s,h),_=g-Math.min(a,s,h),E=function(O){return(g-O)/6/_+1/2};return _===0?(i=0,o=0):(o=_/g,t=E(a),n=E(s),r=E(h),a===g?i=r-n:s===g?i=1/3+t-r:h===g&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,g*100]};$r.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=$r.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,o*100,r*100]};$r.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r),o=(1-t-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,s=(1-r-i)/(1-i)||0;return[o*100,a*100,s*100,i*100]};function lne(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}$r.rgb.keyword=function(e){const t=Kz[e];if(t)return t;let n=1/0,r;for(const i of Object.keys(XC)){const o=XC[i],a=lne(e,o);a<n&&(n=a,r=i)}return r};$r.keyword.rgb=function(e){return XC[e]};$r.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=t*.4124+n*.3576+r*.1805,o=t*.2126+n*.7152+r*.0722,a=t*.0193+n*.1192+r*.9505;return[i*100,o*100,a*100]};$r.rgb.lab=function(e){const t=$r.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const o=116*r-16,a=500*(n-r),s=200*(r-i);return[o,a,s]};$r.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;const s=2*r-i,h=[0,0,0];for(let g=0;g<3;g++)o=t+1/3*-(g-1),o<0&&o++,o>1&&o--,6*o<1?a=s+(i-s)*6*o:2*o<1?a=i:3*o<2?a=s+(i-s)*(2/3-o)*6:a=s,h[g]=a*255;return h};$r.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;const a=(r+n)/2,s=r===0?2*i/(o+i):2*n/(r+n);return[t,s*100,a*100]};$r.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),h=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,h,a];case 1:return[s,r,a];case 2:return[a,r,h];case 3:return[a,s,r];case 4:return[h,a,r];case 5:return[r,a,s]}};$r.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,a;a=(2-n)*r;const s=(2-n)*i;return o=n*i,o/=s<=1?s:2-s,o=o||0,a/=2,[t,o*100,a*100]};$r.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const a=Math.floor(6*t),s=1-r;o=6*t-a,a&1&&(o=1-o);const h=n+o*(s-n);let g,_,E;switch(a){default:case 6:case 0:g=s,_=h,E=n;break;case 1:g=h,_=s,E=n;break;case 2:g=n,_=s,E=h;break;case 3:g=n,_=h,E=s;break;case 4:g=h,_=n,E=s;break;case 5:g=s,_=n,E=h;break}return[g*255,_*255,E*255]};$r.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),s=1-Math.min(1,r*(1-i)+i);return[o*255,a*255,s*255]};$r.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,a;return i=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,a=t*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[i*255,o*255,a*255]};$r.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,o=500*(t-n),a=200*(n-r);return[i,o,a]};$r.lab.xyz=function(e){const t=e[0],n=e[1],r=e[2];let i,o,a;o=(t+16)/116,i=n/500+o,a=o-r/200;const s=o**3,h=i**3,g=a**3;return o=s>.008856?s:(o-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,a=g>.008856?g:(a-16/116)/7.787,i*=95.047,o*=100,a*=108.883,[i,o,a]};$r.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const a=Math.sqrt(n*n+r*r);return[t,a,i]};$r.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI,o=n*Math.cos(i),a=n*Math.sin(i);return[t,o,a]};$r.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let o=t===null?$r.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return o===2&&(a+=60),a};$r.hsv.ansi16=function(e){return $r.rgb.ansi16($r.hsv.rgb(e),e[2])};$r.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};$r.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,r=(t&1)*n*255,i=(t>>1&1)*n*255,o=(t>>2&1)*n*255;return[r,i,o]};$r.ansi256.rgb=function(e){if(e>=232){const o=(e-232)*10+8;return[o,o,o]}e-=16;let t;const n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[n,r,i]};$r.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};$r.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(s=>s+s).join(""));const r=parseInt(n,16),i=r>>16&255,o=r>>8&255,a=r&255;return[i,o,a]};$r.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),a=i-o;let s,h;return a<1?s=o/(1-a):s=0,a<=0?h=0:i===t?h=(n-r)/a%6:i===n?h=2+(r-t)/a:h=4+(t-n)/a,h/=6,h%=1,[h*360,a*100,s*100]};$r.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],r*100,i*100]};$r.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],r*100,i*100]};$r.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],o=t%1*6,a=o%1,s=1-a;let h=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return h=(1-n)*r,[(n*i[0]+h)*255,(n*i[1]+h)*255,(n*i[2]+h)*255]};$r.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);let i=0;return r>0&&(i=t/r),[e[0],i*100,r*100]};$r.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],i*100,r*100]};$r.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]};$r.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,i=r-t;let o=0;return i<1&&(o=(r-i)/(1-i)),[e[0],i*100,o*100]};$r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};$r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};$r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};$r.gray.hsl=function(e){return[0,0,e[0]]};$r.gray.hsv=$r.gray.hsl;$r.gray.hwb=function(e){return[0,100,e[0]]};$r.gray.cmyk=function(e){return[0,0,0,e[0]]};$r.gray.lab=function(e){return[e[0],0,0]};$r.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r};$r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const c4=Dz;function une(){const e={},t=Object.keys(c4);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function Ane(e){const t=une(),n=[e];for(t[e].distance=0;n.length;){const r=n.pop(),i=Object.keys(c4[r]);for(let o=i.length,a=0;a<o;a++){const s=i[a],h=t[s];h.distance===-1&&(h.distance=t[r].distance+1,h.parent=r,n.unshift(s))}}return t}function cne(e,t){return function(n){return t(e(n))}}function dne(e,t){const n=[t[e].parent,e];let r=c4[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=cne(c4[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}var hne=function(e){const t=Ane(e),n={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const a=r[o];t[a].parent!==null&&(n[a]=dne(a,t))}return n};const XE=Dz,fne=hne,Hg={},pne=Object.keys(XE);function mne(e){const t=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function gne(e){const t=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=e(n);if(typeof i=="object")for(let o=i.length,a=0;a<o;a++)i[a]=Math.round(i[a]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}pne.forEach(e=>{Hg[e]={},Object.defineProperty(Hg[e],"channels",{value:XE[e].channels}),Object.defineProperty(Hg[e],"labels",{value:XE[e].labels});const t=fne(e);Object.keys(t).forEach(r=>{const i=t[r];Hg[e][r]=gne(i),Hg[e][r].raw=mne(i)})});var yne=Hg;const Vg=sne,Hc=yne,Fz=["keyword","gray","hex"],JE={};for(const e of Object.keys(Hc))JE[[...Hc[e].labels].sort().join("")]=e;const d4={};function _u(e,t){if(!(this instanceof _u))return new _u(e,t);if(t&&t in Fz&&(t=null),t&&!(t in Hc))throw new Error("Unknown model: "+t);let n,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof _u)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=Vg.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=Hc[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=Hc[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=eO(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const o=i.sort().join("");if(!(o in JE))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=JE[o];const{labels:a}=Hc[this.model],s=[];for(n=0;n<a.length;n++)s.push(e[a[n]]);this.color=eO(s)}if(d4[this.model])for(r=Hc[this.model].channels,n=0;n<r;n++){const i=d4[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}_u.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Vg.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return Vg.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return Vg.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=Hc[this.model],{labels:n}=Hc[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new _u([...this.color.map(_ne(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new _u([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:nl("rgb",0,$l(255)),green:nl("rgb",1,$l(255)),blue:nl("rgb",2,$l(255)),hue:nl(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:nl("hsl",1,$l(100)),lightness:nl("hsl",2,$l(100)),saturationv:nl("hsv",1,$l(100)),value:nl("hsv",2,$l(100)),chroma:nl("hcg",1,$l(100)),gray:nl("hcg",2,$l(100)),white:nl("hwb",1,$l(100)),wblack:nl("hwb",2,$l(100)),cyan:nl("cmyk",0,$l(100)),magenta:nl("cmyk",1,$l(100)),yellow:nl("cmyk",2,$l(100)),black:nl("cmyk",3,$l(100)),x:nl("xyz",0,$l(95.047)),y:nl("xyz",1,$l(100)),z:nl("xyz",2,$l(108.833)),l:nl("lab",0,$l(100)),a:nl("lab",1),b:nl("lab",2),keyword(e){return e!==void 0?new _u(e):Hc[this.model].keyword(this.color)},hex(e){return e!==void 0?new _u(e):Vg.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new _u(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),Vg.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const i=r/255;t[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return _u.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=t===void 0?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,h=1-s;return _u.rgb(s*n.red()+h*r.red(),s*n.green()+h*r.green(),s*n.blue()+h*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(Hc)){if(Fz.includes(e))continue;const{channels:t}=Hc[e];_u.prototype[e]=function(...n){return this.model===e?new _u(this):n.length>0?new _u(n,e):new _u([...Cne(Hc[this.model][e].raw(this.color)),this.valpha],e)},_u[e]=function(...n){let r=n[0];return typeof r=="number"&&(r=eO(n,t)),new _u(r,e)}}function vne(e,t){return Number(e.toFixed(t))}function _ne(e){return function(t){return vne(t,e)}}function nl(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(d4[r]||(d4[r]=[]))[t]=n;return e=e[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function $l(e){return function(t){return Math.max(0,Math.min(e,t))}}function Cne(e){return Array.isArray(e)?e:[e]}function eO(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var bne=_u;const tO=Ba(bne);function xa(){var e="/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",t="bc6e1b88794b9d2c3dff41979be33bc1153f4814",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts",statementMap:{0:{start:{line:2,column:9},end:{line:2,column:15}},1:{start:{line:3,column:15},end:{line:3,column:21}},2:{start:{line:4,column:12},end:{line:4,column:16}},3:{start:{line:6,column:4},end:{line:6,column:20}},4:{start:{line:7,column:4},end:{line:7,column:52}},5:{start:{line:8,column:4},end:{line:8,column:93}},6:{start:{line:9,column:4},end:{line:9,column:70}},7:{start:{line:10,column:4},end:{line:12,column:6}},8:{start:{line:13,column:4},end:{line:13,column:57}},9:{start:{line:14,column:4},end:{line:14,column:29}},10:{start:{line:15,column:4},end:{line:15,column:27}},11:{start:{line:18,column:4},end:{line:18,column:60}},12:{start:{line:21,column:4},end:{line:21,column:57}},13:{start:{line:21,column:33},end:{line:21,column:55}},14:{start:{line:22,column:4},end:{line:22,column:57}},15:{start:{line:22,column:33},end:{line:22,column:55}},16:{start:{line:23,column:4},end:{line:23,column:58}},17:{start:{line:23,column:34},end:{line:23,column:56}},18:{start:{line:26,column:4},end:{line:26,column:60}},19:{start:{line:27,column:4},end:{line:27,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:13},end:{line:16,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:20},end:{line:19,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:22},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:21,column:27},end:{line:21,column:28}},loc:{start:{line:21,column:33},end:{line:21,column:55}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:22,column:27},end:{line:22,column:28}},loc:{start:{line:22,column:33},end:{line:22,column:55}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:28},end:{line:23,column:29}},loc:{start:{line:23,column:34},end:{line:23,column:56}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:28,column:3}},line:25}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/zoomcontrol.ts"],names:[],mappings:"AAEA,qBAAqB,YAAY;AAAA,EAC/B,OAAuB;AAAA,EACvB,aAAyC;AAAA,EACzC,UAAkC;AAAA,EAElC,MAAM,KAAU;AACd,SAAK,OAAO;AACZ,SAAK,aAAa,SAAS,cAAc,KAAK;AAC9C,SAAK,WAAW,YAAY;AAC5B,SAAK,WAAW,aAAa,eAAe,oBAAoB;AAChE,SAAK,WAAW,YAAY;AAAA;AAAA;AAG5B,SAAK,UAAU,KAAK,WAAW,cAAc,MAAM;AAEnD,SAAK,kBAAkB;AAEvB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,kBAAkB;AAChB,SAAK,QAAS,YAAY,KAAK,KAAM,QAAQ,EAAE,QAAQ,CAAC;AAAA,EAC1D;AAAA,EAEA,oBAAoB;AAClB,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,UAAU,MAAM,KAAK,gBAAgB,CAAC;AACpD,SAAK,KAAM,GAAG,WAAW,MAAM,KAAK,gBAAgB,CAAC;AAAA,EACvD;AAAA,EAEA,WAAW;AACT,SAAK,WAAY,WAAY,YAAY,KAAK,UAAW;AACzD,SAAK,OAAO;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bc6e1b88794b9d2c3dff41979be33bc1153f4814"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return xa=function(){return a},a}xa();class xne{constructor(){on(this,"_map",(xa().s[0]++,void 0));on(this,"_container",(xa().s[1]++,void 0));on(this,"_textEl",(xa().s[2]++,null))}onAdd(t){return xa().f[0]++,xa().s[3]++,this._map=t,xa().s[4]++,this._container=document.createElement("div"),xa().s[5]++,this._container.className="maplibregl-ctrl maplibregl-ctrl-group maplibregl-ctrl-zoom",xa().s[6]++,this._container.setAttribute("data-wd-key","maplibre:ctrl-zoom"),xa().s[7]++,this._container.innerHTML=`
      Zoom: <span></span>
    `,xa().s[8]++,this._textEl=this._container.querySelector("span"),xa().s[9]++,this.addEventListeners(),xa().s[10]++,this._container}updateZoomLevel(){xa().f[1]++,xa().s[11]++,this._textEl.innerHTML=this._map.getZoom().toFixed(2)}addEventListeners(){xa().f[2]++,xa().s[12]++,this._map.on("render",()=>(xa().f[3]++,xa().s[13]++,this.updateZoomLevel())),xa().s[14]++,this._map.on("zoomIn",()=>(xa().f[4]++,xa().s[15]++,this.updateZoomLevel())),xa().s[16]++,this._map.on("zoomOut",()=>(xa().f[5]++,xa().s[17]++,this.updateZoomLevel()))}onRemove(){xa().f[6]++,xa().s[18]++,this._container.parentNode.removeChild(this._container),xa().s[19]++,this._map=void 0}}function nO(e,t,n){const r={id:[t,n,"circle"].join("_"),source:t,type:"circle",paint:{"circle-color":e,"circle-radius":2},filter:["==","$type","Point"]};return n&&(r["source-layer"]=n),r}function rO(e,t,n,r){const i={id:[n,r,"polygon"].join("_"),source:n,type:"fill",paint:{"fill-color":e,"fill-antialias":!0,"fill-outline-color":e},filter:["==","$type","Polygon"]};return r&&(i["source-layer"]=r),i}function iO(e,t,n){const r={id:[t,n,"line"].join("_"),source:t,layout:{"line-join":"round","line-cap":"round"},type:"line",paint:{"line-color":e},filter:["==","$type","LineString"]};return n&&(r["source-layer"]=n),r}function wne(e,t){const n=[],r=[],i=[];function o(a){return{circle:t(a,.8),line:t(a,.6),polygon:t(a,.3),polygonOutline:t(a,.6),default:t(a,1)}}return Object.keys(e).forEach(a=>{const s=e[a];if(!s||s.length===0){const h=o(a);r.push(nO(h.circle,a)),i.push(iO(h.line,a)),n.push(rO(h.polygon,h.polygonOutline,a))}else s.forEach(h=>{const g=o(h);r.push(nO(g.circle,a,h)),i.push(iO(g.line,a,h)),n.push(rO(g.polygon,g.polygonOutline,a,h))})}),n.concat(i).concat(r)}function Mne(e,t,n){n=Object.assign({backgroundColor:"#fff"},n);const r={id:"background",type:"background",paint:{"background-color":n.backgroundColor}},i={};return Object.keys(e.sources).forEach(o=>{const a=e.sources[o];(a.type==="vector"||a.type==="geojson")&&(i[o]=a)}),Object.assign(e,{layers:[r].concat(t),sources:i})}const CS={polygonLayer:rO,lineLayer:iO,circleLayer:nO,generateInspectStyle:Mne,generateColoredLayers:wne};function Di(){var e="/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",t="c6691b5ca8d2cfebe44cf9e3718b8a44b922cf42",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/highlight.ts",statementMap:{0:{start:{line:4,column:2},end:{line:8,column:3}},1:{start:{line:5,column:4},end:{line:5,column:33}},2:{start:{line:6,column:9},end:{line:8,column:3}},3:{start:{line:7,column:4},end:{line:7,column:30}},4:{start:{line:9,column:2},end:{line:13,column:3}},5:{start:{line:10,column:4},end:{line:10,column:28}},6:{start:{line:12,column:4},end:{line:12,column:23}},7:{start:{line:14,column:2},end:{line:14,column:29}},8:{start:{line:15,column:2},end:{line:15,column:11}},9:{start:{line:18,column:2},end:{line:19,column:16}},10:{start:{line:19,column:4},end:{line:19,column:16}},11:{start:{line:20,column:24},end:{line:20,column:51}},12:{start:{line:21,column:16},end:{line:21,column:52}},13:{start:{line:22,column:2},end:{line:24,column:3}},14:{start:{line:23,column:4},end:{line:23,column:104}},15:{start:{line:25,column:2},end:{line:27,column:3}},16:{start:{line:26,column:4},end:{line:26,column:96}},17:{start:{line:28,column:2},end:{line:30,column:3}},18:{start:{line:29,column:4},end:{line:29,column:94}},19:{start:{line:31,column:2},end:{line:31,column:14}}},fnMap:{0:{name:"changeLayer",decl:{start:{line:3,column:9},end:{line:3,column:20}},loc:{start:{line:3,column:31},end:{line:16,column:1}},line:3},1:{name:"colorHighlightedLayer",decl:{start:{line:17,column:16},end:{line:17,column:37}},loc:{start:{line:17,column:45},end:{line:32,column:1}},line:17}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:8,column:3}},{start:{line:6,column:9},end:{line:8,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:11,column:9},end:{line:13,column:3}}],line:9},3:{loc:{start:{line:18,column:2},end:{line:19,column:16}},type:"if",locations:[{start:{line:18,column:2},end:{line:19,column:16}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},4:{loc:{start:{line:18,column:6},end:{line:18,column:70}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:12}},{start:{line:18,column:16},end:{line:18,column:43}},{start:{line:18,column:47},end:{line:18,column:70}}],line:18},5:{loc:{start:{line:20,column:24},end:{line:20,column:51}},type:"binary-expr",locations:[{start:{line:20,column:24},end:{line:20,column:45}},{start:{line:20,column:49},end:{line:20,column:51}}],line:20},6:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},7:{loc:{start:{line:22,column:6},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:27}},{start:{line:22,column:31},end:{line:22,column:62}}],line:22},8:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25},9:{loc:{start:{line:25,column:6},end:{line:25,column:56}},type:"binary-expr",locations:[{start:{line:25,column:6},end:{line:25,column:29}},{start:{line:25,column:33},end:{line:25,column:56}}],line:25},10:{loc:{start:{line:28,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:28,column:2},end:{line:30,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/highlight.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,YAAY;AAKnB,SAAS,YAAY,GAAqB,OAA2B;AACnE,MAAG,EAAE,SAAS,UAAU;AACtB,MAAE,MAAO,eAAe,IAAI;AAAA,EAC9B,WAAU,EAAE,SAAS,QAAQ;AAC3B,MAAE,MAAO,YAAY,IAAI;AAAA,EAC3B;AAEA,MAAG,YAAY,OAAO;AACpB,MAAE,SAAS,MAAM;AAAA,EACnB,OAAO;AACL,WAAO,EAAE,QAAQ;AAAA,EACnB;AACA,IAAE,KAAK,EAAE,KAAK;AACd,SAAO;AACT;AAEO,gBAAS,sBAAsB,OAAqD;AACzF,MAAG,CAAC,SAAS,MAAM,SAAS,gBAAgB,MAAM,SAAS;AAAU,WAAO;AAE5E,QAAM,gBAAgB,MAAM,cAAc,KAAK;AAC/C,QAAM,QAAQ,OAAO,YAAY,eAAe,CAAC;AAEjD,MAAG,MAAM,SAAS,UAAU,MAAM,SAAS,kBAAkB;AAC3D,WAAO,YAAY,SAAS,aAAa,OAAO,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EACpG;AAEA,MAAG,MAAM,SAAS,YAAY,MAAM,SAAS,UAAU;AACrD,WAAO,YAAY,SAAS,YAAY,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC5F;AAEA,MAAG,MAAM,SAAS,QAAQ;AACxB,WAAO,YAAY,SAAS,UAAU,OAAO,MAAM,QAAQ,MAAM,cAAc,CAAC,GAAG,KAAK;AAAA,EAC1F;AAEA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c6691b5ca8d2cfebe44cf9e3718b8a44b922cf42"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Di=function(){return a},a}Di();function bS(e,t){return Di().f[0]++,Di().s[0]++,e.type==="circle"?(Di().b[0][0]++,Di().s[1]++,e.paint["circle-radius"]=3):(Di().b[0][1]++,Di().s[2]++,e.type==="line"?(Di().b[1][0]++,Di().s[3]++,e.paint["line-width"]=2):Di().b[1][1]++),Di().s[4]++,"filter"in t?(Di().b[2][0]++,Di().s[5]++,e.filter=t.filter):(Di().b[2][1]++,Di().s[6]++,delete e.filter),Di().s[7]++,e.id=e.id+"_highlight",Di().s[8]++,e}function Sne(e){if(Di().f[1]++,Di().s[9]++,Di().b[4][0]++,!e||(Di().b[4][1]++,e.type==="background")||(Di().b[4][2]++,e.type==="raster"))return Di().b[3][0]++,Di().s[10]++,null;Di().b[3][1]++;const t=(Di().s[11]++,Di().b[5][0]++,e["source-layer"]||(Di().b[5][1]++,"")),n=(Di().s[12]++,bz.brightColor(t,1));return Di().s[13]++,Di().b[7][0]++,e.type==="fill"||(Di().b[7][1]++,e.type==="fill-extrusion")?(Di().b[6][0]++,Di().s[14]++,bS(CS.polygonLayer(n,n,e.source,e["source-layer"]),e)):(Di().b[6][1]++,Di().s[15]++,Di().b[9][0]++,e.type==="symbol"||(Di().b[9][1]++,e.type==="circle")?(Di().b[8][0]++,Di().s[16]++,bS(CS.circleLayer(n,e.source,e["source-layer"]),e)):(Di().b[8][1]++,Di().s[17]++,e.type==="line"?(Di().b[10][0]++,Di().s[18]++,bS(CS.lineLayer(n,e.source,e["source-layer"]),e)):(Di().b[10][1]++,Di().s[19]++,null)))}function n8(){var e="/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",t="a9dc98f82c73787713de0672aff7a601bfeb069d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts",statementMap:{0:{start:{line:2,column:0},end:{line:2,column:115}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/maplibre-rtl.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,WAAW,iBAAiB,gFAAgF,KAAK;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9dc98f82c73787713de0672aff7a601bfeb069d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return n8=function(){return a},a}n8();n8().s[0]++;qg.setRTLTextPlugin("https://unpkg.com/@mapbox/mapbox-gl-rtl-text@0.2.3/mapbox-gl-rtl-text.min.js",!1);var Lz=One,Ene=Object.prototype.hasOwnProperty;function One(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)Ene.call(n,r)&&(e[r]=n[r])}return e}var Uz={exports:{}};(function(e,t){(function(){var n={};e.exports=n,n.simpleFilter=function(r,i){return i.filter(function(o){return n.test(r,o)})},n.test=function(r,i){return n.match(r,i)!==null},n.match=function(r,i,o){o=o||{};var a=0,s=[],h=i.length,g=0,_=0,E=o.pre||"",O=o.post||"",K=o.caseSensitive&&i||i.toLowerCase(),D;r=o.caseSensitive&&r||r.toLowerCase();for(var Y=0;Y<h;Y++)D=i[Y],K[Y]===r[a]?(D=E+D+O,a+=1,_+=1+_):_=0,g+=_,s[s.length]=D;return a===r.length?(g=K===r?1/0:g,{rendered:s.join(""),score:g}):null},n.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(a,s,h,g){var _=s;o.extract&&(_=o.extract(s));var E=n.match(r,_,o);return E!=null&&(a[a.length]={string:E.rendered,score:E.score,index:h,original:s}),a},[]).sort(function(a,s){var h=s.score-a.score;return h||a.index-s.index}))}})()})(Uz);var Bne=Uz.exports,Oc=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};Oc.prototype.show=function(){this.element.style.display="block"};Oc.prototype.hide=function(){this.element.style.display="none"};Oc.prototype.add=function(e){this.items.push(e)};Oc.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0};Oc.prototype.isEmpty=function(){return!this.items.length};Oc.prototype.isVisible=function(){return this.element.style.display==="block"};Oc.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};Oc.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,e)}).bind(this))};Oc.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};Oc.prototype.move=function(e){this.active=e,this.draw()};Oc.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)};Oc.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)};Oc.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};var Ine=Oc,kne=Lz,Tne=Bne,Pne=Ine,yA=function(e,t,n){return n=n||{},this.options=kne({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},n),this.el=e,this.data=t||[],this.list=new Pne(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(r){this.handleKeyUp(r.keyCode,r)}).bind(this),!1),this.el.addEventListener("keydown",(function(r){this.handleKeyDown(r)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(r){this.handlePaste(r)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};yA.prototype.handleKeyUp=function(e,t){if(!(e===40||e===38||e===27||e===9)){if(e===13){this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),t.stopPropagation());return}this.handleInputChange(this.el.value)}};yA.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};yA.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};yA.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};yA.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates((function(t){for(var n=0;n<t.length&&(this.list.add(t[n]),n!==this.options.limit-1);n++);this.list.draw()}).bind(this))};yA.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};yA.prototype.update=function(e){this.data=e,this.handleKeyUp()};yA.prototype.clear=function(){this.data=[],this.list.clear()};yA.prototype.normalize=function(e){return e=e.toLowerCase(),e};yA.prototype.match=function(e,t){return e.indexOf(t)>-1};yA.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e||{place_name:this.query}),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};yA.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:(function(r){return this.getItemValue(r)}).bind(this)},n;this.options.filter?(n=Tne.filter(this.query,this.data,t),n=n.map((function(r){return{original:r.original,string:this.render(r.original,r.string)}}).bind(this))):n=this.data.map((function(r){var i=this.render(r);return{original:r,string:i}}).bind(this)),e(n)};yA.prototype.getItemValue=function(e){return e};yA.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;n=n.slice(0,i)+"<strong>"+n.slice(i,o)+"</strong>"+n.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return n};yA.prototype.renderError=function(e){this.list.drawError(e)};var Kne=yA,Rz=Kne,Dne=Rz;typeof window<"u"&&(window.Suggestions=Rz);var Fne="Expected a function",ST=NaN,Lne="[object Symbol]",Une=/^\s+|\s+$/g,Rne=/^[-+]0x[0-9a-f]+$/i,zne=/^0b[01]+$/i,jne=/^0o[0-7]+$/i,Wne=parseInt,Nne=typeof window=="object"&&window&&window.Object===Object&&window,Gne=typeof self=="object"&&self&&self.Object===Object&&self,$ne=Nne||Gne||Function("return this")(),Qne=Object.prototype,Yne=Qne.toString,qne=Math.max,Hne=Math.min,xS=function(){return $ne.Date.now()};function Vne(e,t,n){var r,i,o,a,s,h,g=0,_=!1,E=!1,O=!0;if(typeof e!="function")throw new TypeError(Fne);t=ET(t)||0,oO(n)&&(_=!!n.leading,E="maxWait"in n,o=E?qne(ET(n.maxWait)||0,t):o,O="trailing"in n?!!n.trailing:O);function K(be){var X=r,se=i;return r=i=void 0,g=be,a=e.apply(se,X),a}function D(be){return g=be,s=setTimeout(H,t),_?K(be):a}function Y(be){var X=be-h,se=be-g,we=t-X;return E?Hne(we,o-se):we}function ee(be){var X=be-h,se=be-g;return h===void 0||X>=t||X<0||E&&se>=o}function H(){var be=xS();if(ee(be))return N(be);s=setTimeout(H,Y(be))}function N(be){return s=void 0,O&&r?K(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),g=0,r=h=i=s=void 0}function ue(){return s===void 0?a:N(xS())}function ye(){var be=xS(),X=ee(be);if(r=arguments,i=this,h=be,X){if(s===void 0)return D(h);if(E)return s=setTimeout(H,t),K(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}function oO(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Zne(e){return!!e&&typeof e=="object"}function Xne(e){return typeof e=="symbol"||Zne(e)&&Yne.call(e)==Lne}function ET(e){if(typeof e=="number")return e;if(Xne(e))return ST;if(oO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Une,"");var n=zne.test(e);return n||jne.test(e)?Wne(e.slice(2),n?2:8):Rne.test(e)?ST:+e}var Jne=Vne,r8={exports:{}},Ly=typeof Reflect=="object"?Reflect:null,OT=Ly&&typeof Ly.apply=="function"?Ly.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},d3;Ly&&typeof Ly.ownKeys=="function"?d3=Ly.ownKeys:Object.getOwnPropertySymbols?d3=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:d3=function(t){return Object.getOwnPropertyNames(t)};function ere(e){console&&console.warn&&console.warn(e)}var zz=Number.isNaN||function(t){return t!==t};function Ta(){Ta.init.call(this)}r8.exports=Ta;r8.exports.once=ire;Ta.EventEmitter=Ta;Ta.prototype._events=void 0;Ta.prototype._eventsCount=0;Ta.prototype._maxListeners=void 0;var BT=10;function rw(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ta,"defaultMaxListeners",{enumerable:!0,get:function(){return BT},set:function(e){if(typeof e!="number"||e<0||zz(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");BT=e}});Ta.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ta.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||zz(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function jz(e){return e._maxListeners===void 0?Ta.defaultMaxListeners:e._maxListeners}Ta.prototype.getMaxListeners=function(){return jz(this)};Ta.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var h=o[t];if(h===void 0)return!1;if(typeof h=="function")OT(h,this,n);else for(var g=h.length,_=Qz(h,g),r=0;r<g;++r)OT(_[r],this,n);return!0};function Wz(e,t,n,r){var i,o,a;if(rw(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=jz(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,ere(s)}return e}Ta.prototype.addListener=function(t,n){return Wz(this,t,n,!1)};Ta.prototype.on=Ta.prototype.addListener;Ta.prototype.prependListener=function(t,n){return Wz(this,t,n,!0)};function tre(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nz(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=tre.bind(r);return i.listener=n,r.wrapFn=i,i}Ta.prototype.once=function(t,n){return rw(n),this.on(t,Nz(this,t,n)),this};Ta.prototype.prependOnceListener=function(t,n){return rw(n),this.prependListener(t,Nz(this,t,n)),this};Ta.prototype.removeListener=function(t,n){var r,i,o,a,s;if(rw(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():nre(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Ta.prototype.off=Ta.prototype.removeListener;Ta.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function Gz(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?rre(i):Qz(i,i.length)}Ta.prototype.listeners=function(t){return Gz(this,t,!0)};Ta.prototype.rawListeners=function(t){return Gz(this,t,!1)};Ta.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):$z.call(e,t)};Ta.prototype.listenerCount=$z;function $z(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ta.prototype.eventNames=function(){return this._eventsCount>0?d3(this._events):[]};function Qz(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function nre(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function rre(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function ire(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Yz(e,t,o,{once:!0}),t!=="error"&&ore(e,i,{once:!0})})}function ore(e,t,n){typeof e.on=="function"&&Yz(e,"error",t,n)}function Yz(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var are=r8.exports,sre={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},lre={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"},ure={placeholder:lre},qz={exports:{}};(function(e){(function(t,n,r){e.exports?e.exports=r():t[n]=r()})(Dh,"subtag",function(){var t="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(h){return h.match(n)||[]}function i(h){return r(h).filter(function(g,_){return g&&_})}function o(h){return h=r(h),{language:h[1]||t,extlang:h[2]||t,script:h[3]||t,region:h[4]||t}}function a(h,g,_){Object.defineProperty(h,g,{value:_,enumerable:!0})}function s(h,g,_){function E(O){return r(O)[h]||t}a(E,"pattern",g),a(o,_,E)}return s(1,/^[a-zA-Z]{2,3}$/,"language"),s(2,/^[a-zA-Z]{3}$/,"extlang"),s(3,/^[a-zA-Z]{4}$/,"script"),s(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),a(o,"split",i),o})})(qz);var Are=qz.exports,cre=Dne,dre=Jne,Gc=Lz,hre=are.EventEmitter,IT=sre,fre=ure,pre=Are;function Hz(e,t){this._eventEmitter=new hre,this.options=Gc({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}Hz.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return e.text!==void 0?e.text:e.place_name},render:function(e){if(e.geometry){var s=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">'+s[0]+'</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">'+s.splice(1,s.length).join(",")+"</div></div></div>"}else{var t=e.text,n=t.toLowerCase().indexOf(this.query.toLowerCase()),r=this.query.length,i=t.substring(0,n),o=t.substring(n,n+r),a=t.substring(n+r);return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">'+i+'<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">'+o+"</span>"+a+"</div></div></div>"}},popupRender:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},addTo:function(e){function t(r,i){if(!document.body.contains(i))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var o=r.onAdd();i.appendChild(o)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){var n=document.querySelectorAll(e);if(n.length===0)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}else throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",dre(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right","maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";var i=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(i),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(r),this._typeahead=new cre(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e+" maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=t;else{var r=document.createElement("div");r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";var i=r.firstChild,o=i.firstChild;n.appendChild(o)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,i=r?r.value:"";if(!i)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._clearEl.style.display="none";if(!(e.metaKey||[n,t,37,39,38,40].indexOf(e.keyCode)!==-1)){if(e.keyCode===13)if(!this.options.showResultsWhileTyping)this._typeahead.selected||this._geocode(r.value);else{this._typeahead.selected==null&&this.geocoderApi.getSuggestions?this._geocode(r.value,!0):this._typeahead.selected==null&&this.options.showResultMarkers&&this._fitBoundsForMarkers();return}r.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(r.value)}},_showButton:function(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){if(this._clearEl.style.display="none",this.options.flyTo){var t;if(this._removeResultMarkers(),e.properties&&IT[e.properties.short_code])t=Gc({},this.options.flyTo),this._map&&this._map.fitBounds(IT[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=Gc({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var r={zoom:this.options.zoom};t=Gc({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}},_getConfigForRequest:function(){var e=["bbox","limit","proximity","countries","types","language","reverseMode"],t=this,n=e.reduce(function(r,i){return t.options[i]&&(["countries","types","language"].indexOf(i)>-1?r[i]=t.options[i].split(/[\s,]+/):r[i]=t.options[i],i==="proximity"&&t.options[i]&&typeof t.options[i].longitude=="number"&&typeof t.options[i].latitude=="number"&&(r[i]=[t.options[i].longitude,t.options[i].latitude])),r},{});return n},_geocode:function(e,t,n){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var r=null,i=this._getConfigForRequest(),o;if(this.options.localGeocoderOnly)o=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var a=e.split(/[\s(,)?]+/).map(function(g){return parseFloat(g,10)}).reverse();i.types&&i.types[0],i=Gc(i,{query:a,limit:1}),"proximity"in i&&delete i.proximity,o=this.geocoderApi.reverseGeocode(i)}else i=Gc(i,{query:e}),this.geocoderApi.getSuggestions?t?this.geocoderApi.searchByPlaceId&&n?o=this.geocoderApi.searchByPlaceId(i):o=this.geocoderApi.forwardGeocode(i):o=this.geocoderApi.getSuggestions(i):o=this.geocoderApi.forwardGeocode(i);var s=[];this.options.localGeocoder&&(s=this.options.localGeocoder(e),s||(s=[]));var h=[];return o.catch((function(g){r=g}).bind(this)).then((function(g){this._loadingEl.style.display="none";var _={};return g?_=g:_={type:"FeatureCollection",features:[]},_.config=i,this.fresh&&(this.fresh=!1),_.features=_.features?s.concat(_.features):s,this.options.externalGeocoder?(h=this.options.externalGeocoder(e,_.features,i)||[],h.then(function(E){return _.features=_.features?E.concat(_.features):E,_},function(){return _})):_}).bind(this)).then((function(g){if(r)throw r;this.options.filter&&g.features.length&&(g.features=g.features.filter(this.options.filter));var _=[];g.suggestions?_=g.suggestions:g.place?_=[g.place]:_=g.features,_.length?(this._clearEl.style.display="block",this._typeahead.update(_),(!this.options.showResultsWhileTyping||t)&&this.options.showResultMarkers&&(g.features.length>0||g.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",g)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",g))}).bind(this)).catch((function(g){this._loadingEl.style.display="none",s.length&&this.options.localGeocoder||h.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:s}),this._eventEmitter.emit("error",{error:g})}).bind(this)),o},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=pre.language(e),n=fre.placeholder[t];if(n)return n}return"Search"},_fitBoundsForMarkers:function(){if(!(this._typeahead.data.length<1)){var e=this._typeahead.data.filter(function(i){return typeof i!="string"}).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){var t={padding:100},n=Gc({},t,this.options.flyTo),r=new this._maplibregl.LngLatBounds;e.forEach(function(i){r.extend(i.geometry.coordinates)}),this._map.fitBounds(r.toArray(),n)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setGeocoderApi:function(e){return this.geocoderApi=e,this},getGeocoderApi:function(){return this.geocoderApi},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},n=Gc({},t,this.options.marker);this.mapMarker=new this._maplibregl.Marker(n);var r;if(this.options.popup){var i={},o=Gc({},i,this.options.popup);r=new this._maplibregl.Popup(o).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(r)),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},_handleResultMarkers:function(e){if(this._map){this._removeResultMarkers();var t={color:"#4668F2"},n=Gc({},t,this.options.showResultMarkers);return e.forEach((function(r){if(this.options.showResultMarkers&&this.options.showResultMarkers.element){var i=this.options.showResultMarkers.element.cloneNode(!0);n=Gc(n,{element:i})}var o=new this._maplibregl.Marker(Gc({},n,{element:i})),a;if(this.options.popup){var s={},h=Gc({},s,this.options.popup);a=new this._maplibregl.Popup(h).setHTML(this.options.popupRender(r))}r.center?(o.setLngLat(r.center).addTo(this._map),this.options.popup&&o.setPopup(a)):r.geometry&&r.geometry.type&&r.geometry.type==="Point"&&r.geometry.coordinates&&(o.setLngLat(r.geometry.coordinates).addTo(this._map),this.options.popup&&o.setPopup(a)),this.resultMarkers.push(o)}).bind(this)),this}},_removeResultMarkers:function(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach(function(e){e.remove()}),this.resultMarkers=[])},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this}};var mre=Hz;const gre=Ba(mre);var Uy=Math.pow,fA=(e,t,n)=>new Promise((r,i)=>{var o=h=>{try{s(n.next(h))}catch(g){i(g)}},a=h=>{try{s(n.throw(h))}catch(g){i(g)}},s=h=>h.done?r(h.value):Promise.resolve(h.value).then(o,a);s((n=n.apply(e,t)).next())}),Vc=Uint8Array,my=Uint16Array,yre=Int32Array,Vz=new Vc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zz=new Vc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vre=new Vc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xz=function(e,t){for(var n=new my(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new yre(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},Jz=Xz(Vz,2),ej=Jz.b,_re=Jz.r;ej[28]=258,_re[258]=28;var Cre=Xz(Zz,0),bre=Cre.b,aO=new my(32768);for(aa=0;aa<32768;++aa)Cp=(aa&43690)>>1|(aa&21845)<<1,Cp=(Cp&52428)>>2|(Cp&13107)<<2,Cp=(Cp&61680)>>4|(Cp&3855)<<4,aO[aa]=((Cp&65280)>>8|(Cp&255)<<8)>>1;var Cp,aa,hC=function(e,t,n){for(var r=e.length,i=0,o=new my(t);i<r;++i)e[i]&&++o[e[i]-1];var a=new my(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new my(1<<t);var h=15-t;for(i=0;i<r;++i)if(e[i])for(var g=i<<4|e[i],_=t-e[i],E=a[e[i]-1]++<<_,O=E|(1<<_)-1;E<=O;++E)s[aO[E]>>h]=g}else for(s=new my(r),i=0;i<r;++i)e[i]&&(s[i]=aO[a[e[i]-1]++]>>15-e[i]);return s},kb=new Vc(288);for(aa=0;aa<144;++aa)kb[aa]=8;var aa;for(aa=144;aa<256;++aa)kb[aa]=9;var aa;for(aa=256;aa<280;++aa)kb[aa]=7;var aa;for(aa=280;aa<288;++aa)kb[aa]=8;var aa,tj=new Vc(32);for(aa=0;aa<32;++aa)tj[aa]=5;var aa,xre=hC(kb,9,1),wre=hC(tj,5,1),wS=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ch=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},MS=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Mre=function(e){return(e+7)/8|0},Sre=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new Vc(n-t);return r.set(e.subarray(t,n)),r},Ere=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qc=function(e,t,n){var r=new Error(t||Ere[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Qc),!n)throw r;return r},i8=function(e,t,n,r){var i=e.length,o=r?r.length:0;if(!i||t.f&&!t.l)return n||new Vc(0);var a=!n||t.i!=2,s=t.i;n||(n=new Vc(i*3));var h=function(Se){var Re=n.length;if(Se>Re){var it=new Vc(Math.max(Re*2,Se));it.set(n),n=it}},g=t.f||0,_=t.p||0,E=t.b||0,O=t.l,K=t.d,D=t.m,Y=t.n,ee=i*8;do{if(!O){g=Ch(e,_,1);var H=Ch(e,_+1,3);if(_+=3,H)if(H==1)O=xre,K=wre,D=9,Y=5;else if(H==2){var ye=Ch(e,_,31)+257,be=Ch(e,_+10,15)+4,X=ye+Ch(e,_+5,31)+1;_+=14;for(var se=new Vc(X),we=new Vc(19),xe=0;xe<be;++xe)we[vre[xe]]=Ch(e,_+xe*3,7);_+=be*3;for(var De=wS(we),Fe=(1<<De)-1,he=hC(we,De,1),xe=0;xe<X;){var Qe=he[Ch(e,_,Fe)];_+=Qe&15;var N=Qe>>4;if(N<16)se[xe++]=N;else{var ge=0,yt=0;for(N==16?(yt=3+Ch(e,_,3),_+=2,ge=se[xe-1]):N==17?(yt=3+Ch(e,_,7),_+=3):N==18&&(yt=11+Ch(e,_,127),_+=7);yt--;)se[xe++]=ge}}var wt=se.subarray(0,ye),st=se.subarray(ye);D=wS(wt),Y=wS(st),O=hC(wt,D,1),K=hC(st,Y,1)}else Qc(1);else{var N=Mre(_)+4,Z=e[N-4]|e[N-3]<<8,ue=N+Z;if(ue>i){s&&Qc(0);break}a&&h(E+Z),n.set(e.subarray(N,ue),E),t.b=E+=Z,t.p=_=ue*8,t.f=g;continue}if(_>ee){s&&Qc(0);break}}a&&h(E+131072);for(var mt=(1<<D)-1,ze=(1<<Y)-1,He=_;;He=_){var ge=O[MS(e,_)&mt],Ve=ge>>4;if(_+=ge&15,_>ee){s&&Qc(0);break}if(ge||Qc(2),Ve<256)n[E++]=Ve;else if(Ve==256){He=_,O=null;break}else{var Vt=Ve-254;if(Ve>264){var xe=Ve-257,Yt=Vz[xe];Vt=Ch(e,_,(1<<Yt)-1)+ej[xe],_+=Yt}var vt=K[MS(e,_)&ze],$t=vt>>4;vt||Qc(3),_+=vt&15;var st=bre[$t];if($t>3){var Yt=Zz[$t];st+=MS(e,_)&(1<<Yt)-1,_+=Yt}if(_>ee){s&&Qc(0);break}a&&h(E+131072);var Qt=E+Vt;if(E<st){var ke=o-st,pe=Math.min(st,Qt);for(ke+E<0&&Qc(3);E<pe;++E)n[E]=r[ke+E]}for(;E<Qt;E+=4)n[E]=n[E-st],n[E+1]=n[E+1-st],n[E+2]=n[E+2-st],n[E+3]=n[E+3-st];E=Qt}}t.l=O,t.p=He,t.b=E,t.f=g,O&&(g=1,t.m=D,t.d=K,t.n=Y)}while(!g);return E==n.length?n:Sre(n,0,E)},Ore=new Vc(0),Bre=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&Qc(6,"invalid gzip data");var t=e[3],n=10;t&4&&(n+=(e[10]|e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},Ire=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},kre=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Qc(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Qc(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Tre(e,t){return i8(e,{i:2},t&&t.out,t&&t.dictionary)}function Pre(e,t){var n=Bre(e);return n+8>e.length&&Qc(6,"invalid gzip data"),i8(e.subarray(n,-8),{i:2},t&&t.out||new Vc(Ire(e)),t&&t.dictionary)}function Kre(e,t){return i8(e.subarray(kre(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}function sO(e,t){return e[0]==31&&e[1]==139&&e[2]==8?Pre(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Tre(e,t):Kre(e,t)}var Dre=typeof TextDecoder<"u"&&new TextDecoder,Fre=0;try{Dre.decode(Ore,{stream:!0}),Fre=1}catch{}var nj=(e,t)=>e*Uy(2,t),w_=(e,t)=>Math.floor(e/Uy(2,t)),h4=(e,t)=>nj(e.getUint16(t+1,!0),8)+e.getUint8(t),rj=(e,t)=>nj(e.getUint32(t+2,!0),16)+e.getUint16(t,!0),Lre=(e,t,n,r,i)=>{if(e!==r.getUint8(i))return e-r.getUint8(i);const o=h4(r,i+1);if(t!==o)return t-o;const a=h4(r,i+4);return n!==a?n-a:0},Ure=(e,t,n,r)=>{const i=ij(e,t|128,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],isDir:!0}:null},kT=(e,t,n,r)=>{const i=ij(e,t,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],isDir:!1}:null},ij=(e,t,n,r)=>{let i=0,o=e.byteLength/17-1;for(;i<=o;){const a=o+i>>1,s=Lre(t,n,r,e,a*17);if(s>0)i=a+1;else if(s<0)o=a-1;else return[rj(e,a*17+7),e.getUint32(a*17+13,!0)]}return null},Rre=(e,t)=>e.isDir&&!t.isDir?1:!e.isDir&&t.isDir?-1:e.z!==t.z?e.z-t.z:e.x!==t.x?e.x-t.x:e.y-t.y,oj=(e,t)=>{const n=e.getUint8(t*17);return{z:n&127,x:h4(e,t*17+1),y:h4(e,t*17+4),offset:rj(e,t*17+7),length:e.getUint32(t*17+13,!0),isDir:n>>7===1}},TT=e=>{const t=[],n=new DataView(e);for(let r=0;r<n.byteLength/17;r++)t.push(oj(n,r));return zre(t)},zre=e=>{e.sort(Rre);const t=new ArrayBuffer(17*e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++){const i=e[r];let o=i.z;i.isDir&&(o=o|128),n[r*17]=o,n[r*17+1]=i.x&255,n[r*17+2]=i.x>>8&255,n[r*17+3]=i.x>>16&255,n[r*17+4]=i.y&255,n[r*17+5]=i.y>>8&255,n[r*17+6]=i.y>>16&255,n[r*17+7]=i.offset&255,n[r*17+8]=w_(i.offset,8)&255,n[r*17+9]=w_(i.offset,16)&255,n[r*17+10]=w_(i.offset,24)&255,n[r*17+11]=w_(i.offset,32)&255,n[r*17+12]=w_(i.offset,48)&255,n[r*17+13]=i.length&255,n[r*17+14]=i.length>>8&255,n[r*17+15]=i.length>>16&255,n[r*17+16]=i.length>>24&255}return t},jre=(e,t)=>{if(e.byteLength<17)return null;const n=e.byteLength/17,r=oj(e,n-1);if(r.isDir){const i=r.z,o=t.z-i,a=Math.trunc(t.x/(1<<o)),s=Math.trunc(t.y/(1<<o));return{z:i,x:a,y:s}}return null};function Wre(e){return fA(this,null,function*(){const t=yield e.getBytes(0,512e3),n=new DataView(t.data),r=n.getUint32(4,!0),i=n.getUint16(8,!0),o=new TextDecoder("utf-8"),a=JSON.parse(o.decode(new DataView(t.data,10,r)));let s=0;a.compression==="gzip"&&(s=2);let h=0;"minzoom"in a&&(h=+a.minzoom);let g=0;"maxzoom"in a&&(g=+a.maxzoom);let _=0,E=0,O=0,K=-180,D=-85,Y=180,ee=85;if(a.bounds){const N=a.bounds.split(",");K=+N[0],D=+N[1],Y=+N[2],ee=+N[3]}if(a.center){const N=a.center.split(",");_=+N[0],E=+N[1],O=+N[2]}return{specVersion:n.getUint16(2,!0),rootDirectoryOffset:10+r,rootDirectoryLength:i*17,jsonMetadataOffset:10,jsonMetadataLength:r,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:s,tileType:1,minZoom:h,maxZoom:g,minLon:K,minLat:D,maxLon:Y,maxLat:ee,centerZoom:O,centerLon:_,centerLat:E,etag:t.etag}})}function Nre(e,t,n,r,i,o,a){return fA(this,null,function*(){let s=yield n.getArrayBuffer(t,e.rootDirectoryOffset,e.rootDirectoryLength,e);e.specVersion===1&&(s=TT(s));const h=kT(new DataView(s),r,i,o);if(h){let E=(yield t.getBytes(h.offset,h.length,a)).data;const O=new DataView(E);return O.getUint8(0)===31&&O.getUint8(1)===139&&(E=sO(new Uint8Array(E))),{data:E}}const g=jre(new DataView(s),{z:r,x:i,y:o});if(g){const _=Ure(new DataView(s),g.z,g.x,g.y);if(_){let E=yield n.getArrayBuffer(t,_.offset,_.length,e);e.specVersion===1&&(E=TT(E));const O=kT(new DataView(E),r,i,o);if(O){let D=(yield t.getBytes(O.offset,O.length,a)).data;const Y=new DataView(D);return Y.getUint8(0)===31&&Y.getUint8(1)===139&&(D=sO(new Uint8Array(D))),{data:D}}}}})}var aj={getHeader:Wre,getZxy:Nre},Gre=e=>(t,n)=>{if(n instanceof AbortController)return e(t,n);const r=new AbortController;return e(t,r).then(i=>n(void 0,i.data,i.cacheControl||"",i.expires||""),i=>n(i)).catch(i=>n(i)),{cancel:()=>r.abort()}},$re=class{constructor(){this.tilev4=(e,t)=>fA(this,null,function*(){if(e.type==="json"){const E=e.url.substr(10);let O=this.tiles.get(E);O||(O=new PT(E),this.tiles.set(E,O));const K=yield O.getHeader();return{data:{tiles:[`${e.url}/{z}/{x}/{y}`],minzoom:K.minZoom,maxzoom:K.maxZoom,bounds:[K.minLon,K.minLat,K.maxLon,K.maxLat]}}}const n=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),r=e.url.match(n);if(!r)throw new Error("Invalid PMTiles protocol URL");const i=r[1];let o=this.tiles.get(i);o||(o=new PT(i),this.tiles.set(i,o));const a=r[2],s=r[3],h=r[4],g=yield o.getHeader(),_=yield o==null?void 0:o.getZxy(+a,+s,+h,t.signal);return _?{data:new Uint8Array(_.data),cacheControl:_.cacheControl,expires:_.expires}:g.tileType===1?{data:new Uint8Array}:{data:null}}),this.tile=Gre(this.tilev4),this.tiles=new Map}add(e){this.tiles.set(e.source.getKey(),e)}get(e){return this.tiles.get(e)}};function Tg(e,t){return(t>>>0)*4294967296+(e>>>0)}function Qre(e,t){const n=t.buf;let r=n[t.pos++],i=(r&112)>>4;if(r<128||(r=n[t.pos++],i|=(r&127)<<3,r<128)||(r=n[t.pos++],i|=(r&127)<<10,r<128)||(r=n[t.pos++],i|=(r&127)<<17,r<128)||(r=n[t.pos++],i|=(r&127)<<24,r<128)||(r=n[t.pos++],i|=(r&1)<<31,r<128))return Tg(e,i);throw new Error("Expected varint not more than 10 bytes")}function M_(e){const t=e.buf;let n=t[e.pos++],r=n&127;return n<128||(n=t[e.pos++],r|=(n&127)<<7,n<128)||(n=t[e.pos++],r|=(n&127)<<14,n<128)||(n=t[e.pos++],r|=(n&127)<<21,n<128)?r:(n=t[e.pos],r|=(n&15)<<28,Qre(r,e))}function Yre(e,t,n,r){if(r===0){n===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);const i=t[0];t[0]=t[1],t[1]=i}}var qre=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function Hre(e,t,n){if(e>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Uy(2,e)-1||n>Uy(2,e)-1)throw Error("tile x/y outside zoom level bounds");const r=qre[e],i=Uy(2,e);let o=0,a=0,s=0;const h=[t,n];let g=i/2;for(;g>0;)o=(h[0]&g)>0?1:0,a=(h[1]&g)>0?1:0,s+=g*g*(3*o^a),Yre(g,h,o,a),g=g/2;return r+s}function sj(e,t){return fA(this,null,function*(){if(t===1||t===0)return e;if(t===2){if(typeof globalThis.DecompressionStream>"u")return sO(new Uint8Array(e));const n=new Response(e).body;if(!n)throw Error("Failed to read response stream");const r=n.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(r).arrayBuffer()}throw Error("Compression method not supported")})}var Vre=127;function Zre(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=r+n>>1,o=t-e[i].tileId;if(o>0)n=i+1;else if(o<0)r=i-1;else return e[i]}return r>=0&&(e[r].runLength===0||t-e[r].tileId<e[r].runLength)?e[r]:null}var Xre=class{constructor(e,t=new Headers){this.url=e,this.customHeaders=t,this.mustReload=!1}getKey(){return this.url}setHeaders(e){this.customHeaders=e}getBytes(e,t,n,r){return fA(this,null,function*(){let i,o;n?o=n:(i=new AbortController,o=i.signal);const a=new Headers(this.customHeaders);a.set("range",`bytes=${e}-${e+t-1}`);let s;this.mustReload&&(s="reload");let h=yield fetch(this.url,{signal:o,cache:s,headers:a});if(e===0&&h.status===416){const O=h.headers.get("Content-Range");if(!O||!O.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const K=+O.substr(8);h=yield fetch(this.url,{signal:o,cache:"reload",headers:{range:`bytes=0-${K-1}`}})}let g=h.headers.get("Etag");if(g!=null&&g.startsWith("W/")&&(g=null),h.status===416||r&&g&&g!==r)throw this.mustReload=!0,new lO(`Server returned non-matching ETag ${r} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(h.status>=300)throw Error(`Bad response code: ${h.status}`);const _=h.headers.get("Content-Length");if(h.status===200&&(!_||+_>t))throw i&&i.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield h.arrayBuffer(),etag:g||void 0,cacheControl:h.headers.get("Cache-Control")||void 0,expires:h.headers.get("Expires")||void 0}})}};function bh(e,t){const n=e.getUint32(t+4,!0),r=e.getUint32(t+0,!0);return n*Uy(2,32)+r}function Jre(e,t){const n=new DataView(e),r=n.getUint8(7);if(r>3)throw Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:bh(n,8),rootDirectoryLength:bh(n,16),jsonMetadataOffset:bh(n,24),jsonMetadataLength:bh(n,32),leafDirectoryOffset:bh(n,40),leafDirectoryLength:bh(n,48),tileDataOffset:bh(n,56),tileDataLength:bh(n,64),numAddressedTiles:bh(n,72),numTileEntries:bh(n,80),numTileContents:bh(n,88),clustered:n.getUint8(96)===1,internalCompression:n.getUint8(97),tileCompression:n.getUint8(98),tileType:n.getUint8(99),minZoom:n.getUint8(100),maxZoom:n.getUint8(101),minLon:n.getInt32(102,!0)/1e7,minLat:n.getInt32(106,!0)/1e7,maxLon:n.getInt32(110,!0)/1e7,maxLat:n.getInt32(114,!0)/1e7,centerZoom:n.getUint8(118),centerLon:n.getInt32(119,!0)/1e7,centerLat:n.getInt32(123,!0)/1e7,etag:t}}function lj(e){const t={buf:new Uint8Array(e),pos:0},n=M_(t),r=[];let i=0;for(let o=0;o<n;o++){const a=M_(t);r.push({tileId:i+a,offset:0,length:0,runLength:1}),i+=a}for(let o=0;o<n;o++)r[o].runLength=M_(t);for(let o=0;o<n;o++)r[o].length=M_(t);for(let o=0;o<n;o++){const a=M_(t);a===0&&o>0?r[o].offset=r[o-1].offset+r[o-1].length:r[o].offset=a-1}return r}function eie(e){const t=new DataView(e);return t.getUint16(2,!0)===2?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):t.getUint16(2,!0)===1?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}var lO=class extends Error{};function tie(e,t){return fA(this,null,function*(){const n=yield e.getBytes(0,16384);if(new DataView(n.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");if(eie(n.data)<3)return[yield aj.getHeader(e)];const i=n.data.slice(0,Vre),o=Jre(i,n.etag),a=n.data.slice(o.rootDirectoryOffset,o.rootDirectoryOffset+o.rootDirectoryLength),s=`${e.getKey()}|${o.etag||""}|${o.rootDirectoryOffset}|${o.rootDirectoryLength}`,h=lj(yield t(a,o.internalCompression));return[o,[s,h.length,h]]})}function nie(e,t,n,r,i){return fA(this,null,function*(){const o=yield e.getBytes(n,r,void 0,i.etag),a=yield t(o.data,i.internalCompression),s=lj(a);if(s.length===0)throw new Error("Empty directory is invalid");return s})}var rie=class{constructor(e=100,t=!0,n=sj){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=e,this.counter=1,this.decompress=n}getHeader(e){return fA(this,null,function*(){const t=e.getKey(),n=this.cache.get(t);if(n)return n.lastUsed=this.counter++,yield n.data;const r=new Promise((i,o)=>{tie(e,this.decompress).then(a=>{a[1]&&this.cache.set(a[1][0],{lastUsed:this.counter++,data:Promise.resolve(a[1][2])}),i(a[0]),this.prune()}).catch(a=>{o(a)})});return this.cache.set(t,{lastUsed:this.counter++,data:r}),r})}getDirectory(e,t,n,r){return fA(this,null,function*(){const i=`${e.getKey()}|${r.etag||""}|${t}|${n}`,o=this.cache.get(i);if(o)return o.lastUsed=this.counter++,yield o.data;const a=new Promise((s,h)=>{nie(e,this.decompress,t,n,r).then(g=>{s(g),this.prune()}).catch(g=>{h(g)})});return this.cache.set(i,{lastUsed:this.counter++,data:a}),a})}getArrayBuffer(e,t,n,r){return fA(this,null,function*(){const i=`${e.getKey()}|${r.etag||""}|${t}|${n}`,o=this.cache.get(i);if(o)return o.lastUsed=this.counter++,yield o.data;const a=new Promise((s,h)=>{e.getBytes(t,n,void 0,r.etag).then(g=>{s(g.data),this.cache.has(i),this.prune()}).catch(g=>{h(g)})});return this.cache.set(i,{lastUsed:this.counter++,data:a}),a})}prune(){if(this.cache.size>=this.maxCacheEntries){let e=1/0,t;this.cache.forEach((n,r)=>{n.lastUsed<e&&(e=n.lastUsed,t=r)}),t&&this.cache.delete(t)}}invalidate(e){return fA(this,null,function*(){const t=e.getKey();if(this.invalidations.get(t))return yield this.invalidations.get(t);this.cache.delete(e.getKey());const n=new Promise((r,i)=>{this.getHeader(e).then(o=>{r(),this.invalidations.delete(t)}).catch(o=>{i(o)})});this.invalidations.set(t,n)})}},PT=class{constructor(e,t,n){typeof e=="string"?this.source=new Xre(e):this.source=e,n?this.decompress=n:this.decompress=sj,t?this.cache=t:this.cache=new rie}getHeader(){return fA(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(e,t,n,r){return fA(this,null,function*(){const i=Hre(e,t,n),o=yield this.cache.getHeader(this.source);if(o.specVersion<3)return aj.getZxy(o,this.source,this.cache,e,t,n,r);if(e<o.minZoom||e>o.maxZoom)return;let a=o.rootDirectoryOffset,s=o.rootDirectoryLength;for(let h=0;h<=3;h++){const g=yield this.cache.getDirectory(this.source,a,s,o),_=Zre(g,i);if(_){if(_.runLength>0){const E=yield this.source.getBytes(o.tileDataOffset+_.offset,_.length,r,o.etag);return{data:yield this.decompress(E.data,o.tileCompression),cacheControl:E.cacheControl,expires:E.expires}}a=o.leafDirectoryOffset+_.offset,s=_.length}else return}throw Error("Maximum directory depth exceeded")})}getZxy(e,t,n,r){return fA(this,null,function*(){try{return yield this.getZxyAttempt(e,t,n,r)}catch(i){if(i instanceof lO)return this.cache.invalidate(this.source),yield this.getZxyAttempt(e,t,n,r);throw i}})}getMetadataAttempt(){return fA(this,null,function*(){const e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength,void 0,e.etag),n=yield this.decompress(t.data,e.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(n))})}getMetadata(){return fA(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(e){if(e instanceof lO)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw e}})}};function nn(){var e="/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",t="80beb4083e8daed5faba9690cdde8144116b5bf5",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx",statementMap:{0:{start:{line:19,column:2},end:{line:19,column:36}},1:{start:{line:20,column:2},end:{line:20,column:19}},2:{start:{line:23,column:26},end:{line:29,column:3}},3:{start:{line:30,column:16},end:{line:30,column:55}},4:{start:{line:31,column:2},end:{line:33,column:3}},5:{start:{line:32,column:4},end:{line:32,column:30}},6:{start:{line:34,column:18},end:{line:34,column:20}},7:{start:{line:35,column:2},end:{line:40,column:5}},8:{start:{line:36,column:19},end:{line:36,column:53}},9:{start:{line:37,column:4},end:{line:39,column:5}},10:{start:{line:38,column:6},end:{line:38,column:33}},11:{start:{line:41,column:23},end:{line:45,column:3}},12:{start:{line:46,column:2},end:{line:46,column:22}},13:{start:{line:49,column:24},end:{line:59,column:3}},14:{start:{line:60,column:14},end:{line:60,column:18}},15:{start:{line:62,column:4},end:{line:62,column:17}},16:{start:{line:63,column:4},end:{line:66,column:6}},17:{start:{line:69,column:17},end:{line:69,column:22}},18:{start:{line:70,column:4},end:{line:73,column:5}},19:{start:{line:71,column:6},end:{line:71,column:132}},20:{start:{line:74,column:4},end:{line:74,column:18}},21:{start:{line:77,column:16},end:{line:77,column:30}},22:{start:{line:78,column:28},end:{line:78,column:79}},23:{start:{line:79,column:4},end:{line:84,column:5}},24:{start:{line:80,column:6},end:{line:80,column:52}},25:{start:{line:81,column:6},end:{line:81,column:70}},26:{start:{line:82,column:6},end:{line:82,column:70}},27:{start:{line:83,column:6},end:{line:83,column:76}},28:{start:{line:85,column:4},end:{line:87,column:5}},29:{start:{line:86,column:6},end:{line:86,column:43}},30:{start:{line:88,column:4},end:{line:93,column:5}},31:{start:{line:89,column:6},end:{line:89,column:59}},32:{start:{line:90,column:6},end:{line:92,column:14}},33:{start:{line:91,column:8},end:{line:91,column:36}},34:{start:{line:96,column:20},end:{line:105,column:5}},35:{start:{line:106,column:19},end:{line:106,column:33}},36:{start:{line:107,column:4},end:{line:107,column:53}},37:{start:{line:108,column:16},end:{line:108,column:43}},38:{start:{line:109,column:26},end:{line:113,column:5}},39:{start:{line:110,column:21},end:{line:110,column:36}},40:{start:{line:111,column:19},end:{line:111,column:32}},41:{start:{line:112,column:6},end:{line:112,column:44}},42:{start:{line:114,column:4},end:{line:114,column:20}},43:{start:{line:115,column:4},end:{line:115,column:56}},44:{start:{line:116,column:4},end:{line:116,column:56}},45:{start:{line:117,column:4},end:{line:117,column:62}},46:{start:{line:118,column:4},end:{line:118,column:27}},47:{start:{line:119,column:24},end:{line:119,column:41}},48:{start:{line:120,column:4},end:{line:120,column:45}},49:{start:{line:121,column:16},end:{line:121,column:74}},50:{start:{line:122,column:4},end:{line:122,column:37}},51:{start:{line:123,column:20},end:{line:123,column:49}},52:{start:{line:124,column:20},end:{line:144,column:6}},53:{start:{line:134,column:8},end:{line:134,column:82}},54:{start:{line:136,column:62},end:{line:136,column:141}},55:{start:{line:138,column:8},end:{line:142,column:9}},56:{start:{line:139,column:10},end:{line:139,column:108}},57:{start:{line:141,column:10},end:{line:141,column:160}},58:{start:{line:145,column:4},end:{line:145,column:28}},59:{start:{line:146,column:4},end:{line:152,column:7}},60:{start:{line:147,column:6},end:{line:151,column:9}},61:{start:{line:153,column:4},end:{line:159,column:7}},62:{start:{line:154,column:6},end:{line:155,column:15}},63:{start:{line:155,column:8},end:{line:155,column:15}},64:{start:{line:156,column:6},end:{line:158,column:9}},65:{start:{line:160,column:4},end:{line:162,column:7}},66:{start:{line:161,column:6},end:{line:161,column:30}},67:{start:{line:163,column:4},end:{line:167,column:7}},68:{start:{line:164,column:6},end:{line:166,column:9}},69:{start:{line:168,column:4},end:{line:168,column:37}},70:{start:{line:169,column:4},end:{line:169,column:37}},71:{start:{line:171,column:22},end:{line:174,column:3}},72:{start:{line:172,column:18},end:{line:172,column:82}},73:{start:{line:172,column:66},end:{line:172,column:81}},74:{start:{line:173,column:4},end:{line:173,column:36}},75:{start:{line:176,column:27},end:{line:209,column:5}},76:{start:{line:178,column:25},end:{line:178,column:27}},77:{start:{line:179,column:8},end:{line:204,column:9}},78:{start:{line:180,column:26},end:{line:180,column:138}},79:{start:{line:181,column:27},end:{line:181,column:47}},80:{start:{line:182,column:26},end:{line:182,column:47}},81:{start:{line:183,column:10},end:{line:201,column:11}},82:{start:{line:184,column:27},end:{line:187,column:13}},83:{start:{line:188,column:26},end:{line:199,column:13}},84:{start:{line:200,column:12},end:{line:200,column:33}},85:{start:{line:203,column:10},end:{line:203,column:69}},86:{start:{line:205,column:8},end:{line:207,column:10}},87:{start:{line:210,column:21},end:{line:210,column:85}},88:{start:{line:211,column:4},end:{line:211,column:41}},89:{start:{line:214,column:4},end:{line:223,column:6}},90:{start:{line:220,column:20},end:{line:220,column:38}}},fnMap:{0:{name:"renderPopup",decl:{start:{line:18,column:9},end:{line:18,column:20}},loc:{start:{line:18,column:39},end:{line:21,column:1}},line:18},1:{name:"buildInspectStyle",decl:{start:{line:22,column:9},end:{line:22,column:26}},loc:{start:{line:22,column:78},end:{line:47,column:1}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:35,column:48},end:{line:35,column:49}},loc:{start:{line:35,column:62},end:{line:40,column:3}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:50,column:17},end:{line:50,column:18}},loc:{start:{line:50,column:23},end:{line:51,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:52,column:18},end:{line:52,column:19}},loc:{start:{line:52,column:24},end:{line:53,column:5}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:54,column:19},end:{line:54,column:20}},loc:{start:{line:54,column:25},end:{line:55,column:5}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:56,column:14},end:{line:56,column:15}},loc:{start:{line:56,column:20},end:{line:57,column:5}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:21},end:{line:67,column:3}},line:61},8:{name:"(anonymous_8)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:46},end:{line:75,column:3}},line:68},9:{name:"(anonymous_9)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:23},end:{line:94,column:3}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:90,column:17},end:{line:90,column:18}},loc:{start:{line:90,column:23},end:{line:92,column:7}},line:90},11:{name:"(anonymous_11)",decl:{start:{line:95,column:2},end:{line:95,column:3}},loc:{start:{line:95,column:22},end:{line:170,column:3}},line:95},12:{name:"(anonymous_12)",decl:{start:{line:109,column:26},end:{line:109,column:27}},loc:{start:{line:109,column:32},end:{line:113,column:5}},line:109},13:{name:"(anonymous_13)",decl:{start:{line:133,column:24},end:{line:133,column:25}},loc:{start:{line:133,column:44},end:{line:135,column:7}},line:133},14:{name:"(anonymous_14)",decl:{start:{line:136,column:25},end:{line:136,column:26}},loc:{start:{line:136,column:62},end:{line:136,column:141}},line:136},15:{name:"(anonymous_15)",decl:{start:{line:137,column:19},end:{line:137,column:20}},loc:{start:{line:137,column:33},end:{line:143,column:7}},line:137},16:{name:"(anonymous_16)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:31},end:{line:152,column:5}},line:146},17:{name:"(anonymous_17)",decl:{start:{line:153,column:19},end:{line:153,column:20}},loc:{start:{line:153,column:26},end:{line:159,column:5}},line:153},18:{name:"(anonymous_18)",decl:{start:{line:160,column:20},end:{line:160,column:21}},loc:{start:{line:160,column:27},end:{line:162,column:5}},line:160},19:{name:"(anonymous_19)",decl:{start:{line:163,column:19},end:{line:163,column:20}},loc:{start:{line:163,column:27},end:{line:167,column:5}},line:163},20:{name:"(anonymous_20)",decl:{start:{line:171,column:22},end:{line:171,column:23}},loc:{start:{line:171,column:30},end:{line:174,column:3}},line:171},21:{name:"(anonymous_21)",decl:{start:{line:172,column:55},end:{line:172,column:56}},loc:{start:{line:172,column:66},end:{line:172,column:81}},line:172},22:{name:"(anonymous_22)",decl:{start:{line:175,column:2},end:{line:175,column:3}},loc:{start:{line:175,column:20},end:{line:212,column:3}},line:175},23:{name:"(anonymous_23)",decl:{start:{line:177,column:22},end:{line:177,column:23}},loc:{start:{line:177,column:40},end:{line:208,column:7}},line:177},24:{name:"(anonymous_24)",decl:{start:{line:213,column:2},end:{line:213,column:3}},loc:{start:{line:213,column:11},end:{line:224,column:3}},line:213},25:{name:"(anonymous_25)",decl:{start:{line:220,column:13},end:{line:220,column:14}},loc:{start:{line:220,column:20},end:{line:220,column:38}},line:220}},branchMap:{0:{loc:{start:{line:31,column:2},end:{line:33,column:3}},type:"if",locations:[{start:{line:31,column:2},end:{line:33,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},1:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:37,column:8},end:{line:37,column:64}},type:"binary-expr",locations:[{start:{line:37,column:8},end:{line:37,column:32}},{start:{line:37,column:36},end:{line:37,column:64}}],line:37},3:{loc:{start:{line:71,column:15},end:{line:71,column:131}},type:"binary-expr",locations:[{start:{line:71,column:15},end:{line:71,column:71}},{start:{line:71,column:75},end:{line:71,column:131}}],line:71},4:{loc:{start:{line:79,column:4},end:{line:84,column:5}},type:"if",locations:[{start:{line:79,column:4},end:{line:84,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},5:{loc:{start:{line:85,column:4},end:{line:87,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:87,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:85},6:{loc:{start:{line:85,column:8},end:{line:85,column:98}},type:"binary-expr",locations:[{start:{line:85,column:8},end:{line:85,column:26}},{start:{line:85,column:30},end:{line:85,column:98}}],line:85},7:{loc:{start:{line:88,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:88,column:4},end:{line:93,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},8:{loc:{start:{line:88,column:8},end:{line:88,column:59}},type:"binary-expr",locations:[{start:{line:88,column:8},end:{line:88,column:26}},{start:{line:88,column:30},end:{line:88,column:59}}],line:88},9:{loc:{start:{line:138,column:8},end:{line:142,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:142,column:9}},{start:{line:140,column:15},end:{line:142,column:9}}],line:138},10:{loc:{start:{line:154,column:6},end:{line:155,column:15}},type:"if",locations:[{start:{line:154,column:6},end:{line:155,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapMaplibreGl.tsx"],names:[],mappings:"AAsL6B;AAtL7B,OAAO,WAAuB;AAC9B,OAAO,cAAc;AACrB,OAAO,gBAAwG;AAC/G,OAAO,qBAAqB;AAC5B,OAAO,YAAY;AACnB,OAAO,6BAA6B;AACpC,OAAO,uCAA2D;AAClE,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,SAA2B,6BAA6B;AACxD,OAAO;AACP,OAAO;AACP,OAAO;AAEP,OAAO,sBAAsB;AAC7B,OAAO;AACP,SAAS,gBAAgB;AAEzB,SAAS,YAAY,OAAoB,WAA4C;AACnF,WAAS,OAAO,OAAO,SAAS;AAChC,SAAO;AACT;AAEA,SAAS,kBAAkB,kBAAsC,eAAmC,kBAAqC;AACvI,QAAM,kBAAkB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,MACP,oBAAoB;AAAA,IACtB;AAAA,EACF;AAEA,QAAM,QAAQ,sBAAsB,gBAAgB;AACpD,MAAG,OAAO;AACR,kBAAc,KAAK,KAAK;AAAA,EAC1B;AAEA,QAAM,UAA+C,CAAC;AAEtD,SAAO,KAAK,iBAAiB,OAAO,EAAE,QAAQ,cAAY;AACxD,UAAM,SAAS,iBAAiB,QAAQ,QAAQ;AAChD,QAAG,OAAO,SAAS,YAAY,OAAO,SAAS,cAAc;AAC3D,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAAA,EACF,CAAC;AAED,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,CAAC,eAAe,EAAE,OAAO,aAAqC;AAAA,EACxE;AACA,SAAO;AACT;AAuBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EACA,YAAmC;AAAA,EAEnC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAGA,sBAAsB,WAA+B,WAA+B;AAClF,QAAI,SAAS;AACb,QAAI;AACF,eAAS,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS,KAAK,KAAK,UAAU,KAAK,KAAK,MAAM,KAAK,UAAU,SAAS;AAAA,IAC9H,SAAQ,GAAG;AAAA,IAEX;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB;AACnB,UAAM,MAAM,KAAK,MAAM;AAEvB,UAAM,kBAAkB,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAC1E,QAAI,KAAK;AAIP,UAAI,SAAS,iBAAiB,EAAC,MAAM,KAAI,CAAC;AAC1C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,qBAAqB,KAAK,MAAM,SAAS;AAC7C,UAAI,wBAAwB,KAAK,MAAM,SAAS;AAAA,IAClD;AAEA,QAAG,KAAK,MAAM,WAAW,KAAK,MAAM,uBAAuB,KAAK,MAAM,QAAQ,iBAAiB;AAC7F,WAAK,MAAM,QAAQ,gBAAgB;AAAA,IACrC;AACA,QAAI,KAAK,MAAM,WAAW,KAAK,MAAM,oBAAoB;AACvD,WAAK,MAAM,QAAQ,iBAAiB,eAAe;AAEnD,iBAAW,MAAM;AACf,aAAK,MAAM,QAAS,OAAO;AAAA,MAC7B,GAAG,GAAG;AAAA,IACR;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM;AAAA,MACd,WAAW,KAAK;AAAA,MAChB,OAAO,KAAK,MAAM;AAAA,MAClB,MAAM;AAAA,MACN,SAAS;AAAA;AAAA;AAAA,MAGT,0BAA0B;AAAA,IAC5B;AAEA,QAAI,WAAW,IAAI,SAAS;AAC5B,eAAW,YAAY,WAAU,SAAS,IAAI;AAC9C,UAAM,MAAM,IAAI,WAAW,IAAI,OAAO;AAEtC,UAAM,gBAAgB,MAAM;AAC1B,YAAM,SAAS,IAAI,UAAU;AAC7B,YAAM,OAAO,IAAI,QAAQ;AACzB,WAAK,MAAM,SAAS,EAAC,QAAQ,KAAI,CAAC;AAAA,IACpC;AACA,kBAAc;AAEd,QAAI,qBAAqB,QAAQ;AACjC,QAAI,qBAAqB,QAAQ;AACjC,QAAI,wBAAwB,QAAQ;AAEpC,SAAK,aAAa,GAAG;AAErB,UAAM,cAAc,IAAI;AACxB,QAAI,WAAW,aAAa,WAAW;AAEvC,UAAM,MAAM,IAAI,WAAW,kBAAkB,EAAC,gBAAe,KAAI,CAAC;AAClE,QAAI,WAAW,KAAK,WAAW;AAE/B,UAAM,UAAU,SAAS,cAAc,KAAK;AAE5C,UAAM,UAAU,IAAI,gBAAgB;AAAA,MAClC,OAAO,IAAI,WAAW,MAAM;AAAA,QAC1B,cAAc;AAAA,MAChB,CAAC;AAAA,MACD,cAAc;AAAA,MACd,qBAAqB;AAAA,MACrB,4BAA4B;AAAA,MAC5B,mBAAmB;AAAA,MACnB,wBAAwB;AAAA,MACxB,kBAAkB,CAAC,SAAiB,UAAkB;AACpD,eAAO,MAAM,OAAO,YAAY,SAAS,KAAK,CAAC,EAAE,WAAW,GAAG,EAAE,OAAO;AAAA,MAC1E;AAAA,MACA,mBAAmB,CAAC,kBAAsC,kBAAsC,kBAAkB,kBAAkB,eAAe,KAAK,MAAM,gBAAgB;AAAA,MAC9K,aAAa,CAAC,aAA+B;AAC3C,YAAG,KAAK,MAAM,oBAAoB;AAChC,iBAAO,YAAY,oBAAC,qCAAkC,UAAoB,GAAI,OAAO;AAAA,QACvF,OAAO;AACL,iBAAO,YAAY,oBAAC,2BAAwB,UAAoB,eAAe,KAAK,mBAAmB,MAAM,KAAK,MAAM,MAAM,GAAI,OAAO;AAAA,QAC3I;AAAA,MACF;AAAA,IACF,CAAC;AACD,QAAI,WAAW,OAAO;AAEtB,QAAI,GAAG,cAAc,MAAM;AACzB,WAAK,SAAS;AAAA,QACZ;AAAA,QACA;AAAA,QACA,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,QAAQ,OAAK;AAClB,UAAG,EAAE,aAAa;AAAQ;AAC1B,WAAK,MAAM,aAAc;AAAA,QACvB,KAAK,KAAK,MAAM;AAAA,MAClB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,SAAS,OAAK;AACnB,cAAQ,IAAI,SAAS,CAAC;AAAA,IACxB,CAAC;AAED,QAAI,GAAG,QAAQ,QAAM;AACnB,WAAK,SAAS;AAAA,QACZ,MAAM,IAAI,QAAQ;AAAA,MACpB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,WAAW,aAAa;AAC/B,QAAI,GAAG,WAAW,aAAa;AAAA,EACjC;AAAA,EAEA,oBAAoB,CAAC,OAAe;AAClC,UAAM,QAAQ,KAAK,MAAM,SAAS,OAAO,UAAU,WAAS,MAAM,OAAO,EAAE;AAC3E,SAAK,MAAM,cAAc,KAAK;AAAA,EAChC;AAAA,EAEA,aAAa,KAAU;AACrB,UAAM,iBAAiB;AAAA,MACrB,gBAAgB,OAAO,WAA8D;AACnF,cAAM,WAAW,CAAC;AAClB,YAAI;AACF,gBAAM,UAAU,gDAAgD,OAAO,KAAK;AAC5E,gBAAM,WAAW,MAAM,MAAM,OAAO;AACpC,gBAAM,UAAU,MAAM,SAAS,KAAK;AACpC,qBAAW,WAAW,QAAQ,UAAU;AACtC,kBAAM,SAAS;AAAA,cACb,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,cAC1C,QAAQ,KAAK,CAAC,KACT,QAAQ,KAAK,CAAC,IAAI,QAAQ,KAAK,CAAC,KAAK;AAAA,YAC5C;AACA,kBAAM,QAAQ;AAAA,cACZ,MAAM;AAAA,cACN,UAAU;AAAA,gBACR,MAAM;AAAA,gBACN,aAAa;AAAA,cACf;AAAA,cACA,YAAY,QAAQ,WAAW;AAAA,cAC/B,YAAY,QAAQ;AAAA,cACpB,MAAM,QAAQ,WAAW;AAAA,cACzB,YAAY,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AACA,qBAAS,KAAK,KAAK;AAAA,UACrB;AAAA,QACF,SAAS,GAAG;AACV,kBAAQ,MAAM,wCAAwC,CAAC,EAAE;AAAA,QAC3D;AACA,eAAO;AAAA,UACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,WAAW,IAAI,iBAAiB,gBAAgB,EAAC,YAAY,WAAU,CAAC;AAC9E,QAAI,WAAW,UAAU,UAAU;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,OAAK,KAAK,YAAY;AAAA,QAC3B,eAAY;AAAA;AAAA,IACb;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"80beb4083e8daed5faba9690cdde8144116b5bf5"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return nn=function(){return a},a}nn();function KT(e,t){return nn().f[0]++,nn().s[0]++,qV.render(e,t),nn().s[1]++,t}function iie(e,t,n){nn().f[1]++;const r=(nn().s[2]++,{id:"background",type:"background",paint:{"background-color":"#1c1f24"}}),i=(nn().s[3]++,Sne(n));nn().s[4]++,i?(nn().b[0][0]++,nn().s[5]++,t.push(i)):nn().b[0][1]++;const o=(nn().s[6]++,{});nn().s[7]++,Object.keys(e.sources).forEach(s=>{nn().f[2]++;const h=(nn().s[8]++,e.sources[s]);nn().s[9]++,nn().b[2][0]++,h.type!=="raster"&&(nn().b[2][1]++,h.type!=="raster-dem")?(nn().b[1][0]++,nn().s[10]++,o[s]=h):nn().b[1][1]++});const a=(nn().s[11]++,{...e,sources:o,layers:[r].concat(t)});return nn().s[12]++,a}class uj extends Mn.Component{constructor(n){nn().f[7]++,nn().s[15]++;super(n);on(this,"container",(nn().s[14]++,null));on(this,"onLayerSelectById",(nn().s[71]++,n=>{nn().f[20]++;const r=(nn().s[72]++,this.props.mapStyle.layers.findIndex(i=>(nn().f[21]++,nn().s[73]++,i.id===n)));nn().s[74]++,this.props.onLayerSelect(r)}));nn().s[16]++,this.state={map:null,inspect:null}}shouldComponentUpdate(n,r){nn().f[8]++;let i=(nn().s[17]++,!1);nn().s[18]++;try{nn().s[19]++,i=(nn().b[3][0]++,JSON.stringify(this.props)!==JSON.stringify(n)||(nn().b[3][1]++,JSON.stringify(this.state)!==JSON.stringify(r)))}catch{}return nn().s[20]++,i}componentDidUpdate(){var i,o,a;nn().f[9]++;const n=(nn().s[21]++,this.state.map),r=(nn().s[22]++,this.props.replaceAccessTokens(this.props.mapStyle));nn().s[23]++,n?(nn().b[4][0]++,nn().s[24]++,n.setStyle(r,{diff:!0}),nn().s[25]++,n.showTileBoundaries=(i=this.props.options)==null?void 0:i.showTileBoundaries,nn().s[26]++,n.showCollisionBoxes=(o=this.props.options)==null?void 0:o.showCollisionBoxes,nn().s[27]++,n.showOverdrawInspector=(a=this.props.options)==null?void 0:a.showOverdrawInspector):nn().b[4][1]++,nn().s[28]++,nn().b[6][0]++,this.state.inspect&&(nn().b[6][1]++,this.props.inspectModeEnabled!==this.state.inspect._showInspectMap)?(nn().b[5][0]++,nn().s[29]++,this.state.inspect.toggleInspector()):nn().b[5][1]++,nn().s[30]++,nn().b[8][0]++,this.state.inspect&&(nn().b[8][1]++,this.props.inspectModeEnabled)?(nn().b[7][0]++,nn().s[31]++,this.state.inspect.setOriginalStyle(r),nn().s[32]++,setTimeout(()=>{nn().f[10]++,nn().s[33]++,this.state.inspect.render()},500)):nn().b[7][1]++}componentDidMount(){nn().f[11]++;const n=(nn().s[34]++,{...this.props.options,container:this.container,style:this.props.mapStyle,hash:!0,maxZoom:24,localIdeographFontFamily:!1});let r=(nn().s[35]++,new $re);nn().s[36]++,qg.addProtocol("pmtiles",r.tile);const i=(nn().s[37]++,new qg.Map(n));nn().s[38]++;const o=()=>{nn().f[12]++;const _=(nn().s[39]++,i.getCenter()),E=(nn().s[40]++,i.getZoom());nn().s[41]++,this.props.onChange({center:_,zoom:E})};nn().s[42]++,o(),nn().s[43]++,i.showTileBoundaries=n.showTileBoundaries,nn().s[44]++,i.showCollisionBoxes=n.showCollisionBoxes,nn().s[45]++,i.showOverdrawInspector=n.showOverdrawInspector,nn().s[46]++,this.initGeocoder(i);const a=(nn().s[47]++,new xne);nn().s[48]++,i.addControl(a,"top-right");const s=(nn().s[49]++,new qg.NavigationControl({visualizePitch:!0}));nn().s[50]++,i.addControl(s,"top-right");const h=(nn().s[51]++,document.createElement("div")),g=(nn().s[52]++,new t8({popup:new qg.Popup({closeOnClick:!1}),showMapPopup:!0,showMapPopupOnHover:!1,showInspectMapPopupOnHover:!0,showInspectButton:!1,blockHoverPopupOnClick:!0,assignLayerColor:(_,E)=>(nn().f[13]++,nn().s[53]++,tO(bz.brightColor(_,E)).desaturate(.5).string()),buildInspectStyle:(_,E)=>(nn().f[14]++,nn().s[54]++,iie(_,E,this.props.highlightedLayer)),renderPopup:_=>(nn().f[15]++,nn().s[55]++,this.props.inspectModeEnabled?(nn().b[9][0]++,nn().s[56]++,KT(G.jsx(tne,{features:_}),h)):(nn().b[9][1]++,nn().s[57]++,KT(G.jsx(Oz,{features:_,onLayerSelect:this.onLayerSelectById,zoom:this.state.zoom}),h)))}));nn().s[58]++,i.addControl(g),nn().s[59]++,i.on("style.load",()=>{nn().f[16]++,nn().s[60]++,this.setState({map:i,inspect:g,zoom:i.getZoom()})}),nn().s[61]++,i.on("data",_=>{if(nn().f[17]++,nn().s[62]++,_.dataType!=="tile"){nn().b[10][0]++,nn().s[63]++;return}else nn().b[10][1]++;nn().s[64]++,this.props.onDataChange({map:this.state.map})}),nn().s[65]++,i.on("error",_=>{nn().f[18]++,nn().s[66]++,console.log("ERROR",_)}),nn().s[67]++,i.on("zoom",_=>{nn().f[19]++,nn().s[68]++,this.setState({zoom:i.getZoom()})}),nn().s[69]++,i.on("dragend",o),nn().s[70]++,i.on("zoomend",o)}initGeocoder(n){nn().f[22]++;const r=(nn().s[75]++,{forwardGeocode:async o=>{nn().f[23]++;const a=(nn().s[76]++,[]);nn().s[77]++;try{const s=(nn().s[78]++,`https://nominatim.openstreetmap.org/search?q=${o.query}&format=geojson&polygon_geojson=1&addressdetails=1`),h=(nn().s[79]++,await fetch(s)),g=(nn().s[80]++,await h.json());nn().s[81]++;for(const _ of g.features){const E=(nn().s[82]++,[_.bbox[0]+(_.bbox[2]-_.bbox[0])/2,_.bbox[1]+(_.bbox[3]-_.bbox[1])/2]),O=(nn().s[83]++,{type:"Feature",geometry:{type:"Point",coordinates:E},place_name:_.properties.display_name,properties:_.properties,text:_.properties.display_name,place_type:["place"],center:E});nn().s[84]++,a.push(O)}}catch(s){nn().s[85]++,console.error(`Failed to forwardGeocode with error: ${s}`)}return nn().s[86]++,{features:a}}}),i=(nn().s[87]++,new gre(r,{maplibregl:qg}));nn().s[88]++,n.addControl(i,"top-left")}render(){return nn().f[24]++,nn().s[89]++,G.jsx("div",{className:"maputnik-map__map",role:"region","aria-label":"Map view",ref:n=>(nn().f[25]++,nn().s[90]++,this.container=n),"data-wd-key":"maplibre:map"})}}on(uj,"defaultProps",(nn().s[13]++,{onMapLoaded:()=>{nn().f[3]++},onDataChange:()=>{nn().f[4]++},onLayerSelect:()=>{nn().f[5]++},onChange:()=>{nn().f[6]++},options:{}}));var Jp=function(){function e(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();const lv={PROPERTYCHANGE:"propertychange"};var oie=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();const o8=oie;function aie(e,t,n){for(var r,i,o=n||D1,a=0,s=e.length,h=!1;a<s;)r=a+(s-a>>1),i=+o(e[r],t),i<0?a=r+1:(s=r,h=!i);return h?a:~a}function D1(e,t){return e>t?1:e<t?-1:0}function a8(e,t,n){var r=e.length;if(e[0]<=t)return 0;if(t<=e[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(e[i]<t)return i-1}else if(n<0){for(i=1;i<r;++i)if(e[i]<=t)return i}else for(i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return typeof n=="function"?n(t,e[i-1],e[i])>0?i-1:i:e[i-1]-t<t-e[i]?i-1:i}return r-1}function sie(e,t,n){for(;t<n;){var r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Rf(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,i=0;i<r;i++)e[e.length]=n[i]}function Q1(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function lie(e,t,n){var r=t||D1;return e.every(function(i,o){if(o===0)return!0;var a=r(e[o-1],i);return!(a>0||n&&a===0)})}function Ry(){return!0}function iw(){return!1}function F1(){}function uie(e){var t=!1,n,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!Q1(o,r))&&(t=!0,i=this,r=o,n=e.apply(this,arguments)),n}}var Cl=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Tb(e){for(var t in e)delete e[t]}var Aj=typeof Object.values=="function"?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t};function L1(e){var t;for(t in e)return!1;return!t}var Aie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cie=function(e){Aie(t,e);function t(n){var r=e.call(this)||this;return r.eventTarget_=n,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return t.prototype.addEventListener=function(n,r){if(!(!n||!r)){var i=this.listeners_||(this.listeners_={}),o=i[n]||(i[n]=[]);o.indexOf(r)===-1&&o.push(r)}},t.prototype.dispatchEvent=function(n){var r=typeof n=="string",i=r?n:n.type,o=this.listeners_&&this.listeners_[i];if(o){var a=r?new Jp(n):n;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,h[i]=0),++s[i];for(var g,_=0,E=o.length;_<E;++_)if("handleEvent"in o[_]?g=o[_].handleEvent(a):g=o[_].call(this,a),g===!1||a.propagationStopped){g=!1;break}if(--s[i]===0){var O=h[i];for(delete h[i];O--;)this.removeEventListener(i,F1);delete s[i]}return g}},t.prototype.disposeInternal=function(){this.listeners_&&Tb(this.listeners_)},t.prototype.getListeners=function(n){return this.listeners_&&this.listeners_[n]||void 0},t.prototype.hasListener=function(n){return this.listeners_?n?n in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(n,r){var i=this.listeners_&&this.listeners_[n];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&n in this.pendingRemovals_?(i[o]=F1,++this.pendingRemovals_[n]):(i.splice(o,1),i.length===0&&delete this.listeners_[n]))}},t}(o8);const Sv=cie,ji={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Eo(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){var o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}var a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function f4(e,t,n,r){return Eo(e,t,n,r,!0)}function is(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Tb(e))}var die=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ow=function(e){die(t,e);function t(){var n=e.call(this)||this;return n.on=n.onInternal,n.once=n.onceInternal,n.un=n.unInternal,n.revision_=0,n}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(ji.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(n,r){if(Array.isArray(n)){for(var i=n.length,o=new Array(i),a=0;a<i;++a)o[a]=Eo(this,n[a],r);return o}else return Eo(this,n,r)},t.prototype.onceInternal=function(n,r){var i;if(Array.isArray(n)){var o=n.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=f4(this,n[a],r)}else i=f4(this,n,r);return r.ol_key=i,i},t.prototype.unInternal=function(n,r){var i=r.ol_key;if(i)JC(i);else if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)this.removeEventListener(n[o],r);else this.removeEventListener(n,r)},t}(Sv);ow.prototype.on;ow.prototype.once;ow.prototype.un;function JC(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)is(e[t]);else is(e)}const cj=ow;function vi(){return function(){throw new Error("Unimplemented abstract method.")}()}var hie=0;function qi(e){return e.ol_uid||(e.ol_uid=String(++hie))}var fie="6.15.1",dj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DT=function(e){dj(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.key=r,o.oldValue=i,o}return t}(Jp),Lh=function(e){dj(t,e);function t(n){var r=e.call(this)||this;return r.on,r.once,r.un,qi(r),r.values_=null,n!==void 0&&r.setProperties(n),r}return t.prototype.get=function(n){var r;return this.values_&&this.values_.hasOwnProperty(n)&&(r=this.values_[n]),r},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Cl({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(n,r){var i;i="change:".concat(n),this.hasListener(i)&&this.dispatchEvent(new DT(i,n,r)),i=lv.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new DT(i,n,r))},t.prototype.addChangeListener=function(n,r){this.addEventListener("change:".concat(n),r)},t.prototype.removeChangeListener=function(n,r){this.removeEventListener("change:".concat(n),r)},t.prototype.set=function(n,r,i){var o=this.values_||(this.values_={});if(i)o[n]=r;else{var a=o[n];o[n]=r,a!==r&&this.notify(n,a)}},t.prototype.setProperties=function(n,r){for(var i in n)this.set(i,n[i],r)},t.prototype.applyProperties=function(n){n.values_&&Cl(this.values_||(this.values_={}),n.values_)},t.prototype.unset=function(n,r){if(this.values_&&n in this.values_){var i=this.values_[n];delete this.values_[n],L1(this.values_)&&(this.values_=null),r||this.notify(n,i)}},t}(cj),pie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mie=function(e){pie(t,e);function t(n){var r=this,i="v"+fie.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+n+" for details.";return r=e.call(this,o)||this,r.code=n,r.name="AssertionError",r.message=o,r}return t}(Error);const hj=mie;function co(e,t){if(!e)throw new hj(t)}var gie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yie=function(e){gie(t,e);function t(n){var r=e.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),n)if(typeof n.getSimplifiedGeometry=="function"){var i=n;r.setGeometry(i)}else{var o=n;r.setProperties(o)}return r}return t.prototype.clone=function(){var n=new t(this.hasProperties()?this.getProperties():null);n.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&n.setGeometry(r.clone());var i=this.getStyle();return i&&n.setStyle(i),n},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(is(this.geometryChangeKey_),this.geometryChangeKey_=null);var n=this.getGeometry();n&&(this.geometryChangeKey_=Eo(n,ji.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(n){this.set(this.geometryName_,n)},t.prototype.setStyle=function(n){this.style_=n,this.styleFunction_=n?vie(n):void 0,this.changed()},t.prototype.setId=function(n){this.id_=n,this.changed()},t.prototype.setGeometryName=function(n){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=n,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(Lh);function vie(e){if(typeof e=="function")return e;var t;if(Array.isArray(e))t=e;else{co(typeof e.getZIndex=="function",41);var n=e;t=[n]}return function(){return t}}var WA={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},jf={};jf[WA.RADIANS]=6370997/(2*Math.PI);jf[WA.DEGREES]=2*Math.PI*6370997/360;jf[WA.FEET]=.3048;jf[WA.METERS]=1;jf[WA.USFEET]=1200/3937;var d0=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_ie=d0.indexOf("firefox")!==-1,Cie=d0.indexOf("safari")!==-1&&d0.indexOf("chrom")==-1;Cie&&(d0.indexOf("version/15.4")>=0||d0.match(/cpu (os|iphone os) 15_4 like mac os x/));var bie=d0.indexOf("webkit")!==-1&&d0.indexOf("edge")==-1,xie=d0.indexOf("macintosh")!==-1,fj=typeof devicePixelRatio<"u"?devicePixelRatio:1,aw=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,wie=typeof Image<"u"&&Image.prototype.decode,pj=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}(),mj=new Array(6);function zd(){return[1,0,0,1,0,0]}function FT(e){return sw(e,1,0,0,1,0,0)}function s8(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],h=t[0],g=t[1],_=t[2],E=t[3],O=t[4],K=t[5];return e[0]=n*h+i*g,e[1]=r*h+o*g,e[2]=n*_+i*E,e[3]=r*_+o*E,e[4]=n*O+i*K+a,e[5]=r*O+o*K+s,e}function sw(e,t,n,r,i,o,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e}function Mie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function yl(e,t){var n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function SS(e,t,n){return s8(e,sw(mj,t,0,0,n,0,0))}function Sie(e,t,n){return sw(e,t,0,0,n,0,0)}function Eie(e,t,n){return s8(e,sw(mj,1,0,0,1,t,n))}function Wf(e,t,n,r,i,o,a,s){var h=Math.sin(o),g=Math.cos(o);return e[0]=r*g,e[1]=i*h,e[2]=-r*h,e[3]=i*g,e[4]=a*r*g-s*r*h+t,e[5]=a*i*h+s*i*g+n,e}function l8(e,t){var n=Oie(t);co(n!==0,32);var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],h=t[5];return e[0]=a/n,e[1]=-i/n,e[2]=-o/n,e[3]=r/n,e[4]=(o*h-a*s)/n,e[5]=-(r*h-i*s)/n,e}function Oie(e){return e[0]*e[3]-e[1]*e[2]}var LT;function gj(e){var t="matrix("+e.join(", ")+")";if(aw)return t;var n=LT||(LT=document.createElement("div"));return n.style.transform=t,n.style.transform}const yu={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function uO(e){for(var t=Gd(),n=0,r=e.length;n<r;++n)fC(t,e[n]);return t}function Bie(e,t,n){var r=Math.min.apply(null,e),i=Math.min.apply(null,t),o=Math.max.apply(null,e),a=Math.max.apply(null,t);return Nf(r,i,o,a,n)}function o0(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function yj(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Y1(e,t,n){var r,i;return t<e[0]?r=e[0]-t:e[2]<t?r=t-e[2]:r=0,n<e[1]?i=e[1]-n:e[3]<n?i=n-e[3]:i=0,r*r+i*i}function Pb(e,t){return u8(e,t[0],t[1])}function Nm(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function u8(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function AO(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t[0],s=t[1],h=yu.UNKNOWN;return a<n?h=h|yu.LEFT:a>i&&(h=h|yu.RIGHT),s<r?h=h|yu.BELOW:s>o&&(h=h|yu.ABOVE),h===yu.UNKNOWN&&(h=yu.INTERSECTING),h}function Gd(){return[1/0,1/0,-1/0,-1/0]}function Nf(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function Kb(e){return Nf(1/0,1/0,-1/0,-1/0,e)}function vj(e,t){var n=e[0],r=e[1];return Nf(n,r,n,r,t)}function A8(e,t,n,r,i){var o=Kb(i);return Cj(o,e,t,n,r)}function uv(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function _j(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function fC(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Cj(e,t,n,r,i){for(;n<r;n+=i)Iie(e,t[n],t[n+1]);return e}function Iie(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function bj(e,t){var n;return n=t(lw(e)),n||(n=t(uw(e)),n)||(n=t(Aw(e)),n)||(n=t(y0(e)),n)?n:!1}function cO(e){var t=0;return c8(e)||(t=_s(e)*Mc(e)),t}function lw(e){return[e[0],e[1]]}function uw(e){return[e[2],e[1]]}function h0(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function kie(e,t){var n;return t==="bottom-left"?n=lw(e):t==="bottom-right"?n=uw(e):t==="top-left"?n=y0(e):t==="top-right"?n=Aw(e):co(!1,13),n}function dO(e,t,n,r,i){var o=hO(e,t,n,r),a=o[0],s=o[1],h=o[2],g=o[3],_=o[4],E=o[5],O=o[6],K=o[7];return Nf(Math.min(a,h,_,O),Math.min(s,g,E,K),Math.max(a,h,_,O),Math.max(s,g,E,K),i)}function hO(e,t,n,r){var i=t*r[0]/2,o=t*r[1]/2,a=Math.cos(n),s=Math.sin(n),h=i*a,g=i*s,_=o*a,E=o*s,O=e[0],K=e[1];return[O-h+E,K-g-_,O-h-E,K-g+_,O+h-E,K+g+_,O+h+E,K+g-_,O-h+E,K-g-_]}function Mc(e){return e[3]-e[1]}function C1(e,t,n){var r=n||Gd();return _l(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):Kb(r),r}function y0(e){return[e[0],e[3]]}function Aw(e){return[e[2],e[3]]}function _s(e){return e[2]-e[0]}function _l(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function c8(e){return e[2]<e[0]||e[3]<e[1]}function Tie(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Pie(e,t,n){var r=!1,i=AO(e,t),o=AO(e,n);if(i===yu.INTERSECTING||o===yu.INTERSECTING)r=!0;else{var a=e[0],s=e[1],h=e[2],g=e[3],_=t[0],E=t[1],O=n[0],K=n[1],D=(K-E)/(O-_),Y=void 0,ee=void 0;o&yu.ABOVE&&!(i&yu.ABOVE)&&(Y=O-(K-g)/D,r=Y>=a&&Y<=h),!r&&o&yu.RIGHT&&!(i&yu.RIGHT)&&(ee=K-(O-h)*D,r=ee>=s&&ee<=g),!r&&o&yu.BELOW&&!(i&yu.BELOW)&&(Y=O-(K-s)/D,r=Y>=a&&Y<=h),!r&&o&yu.LEFT&&!(i&yu.LEFT)&&(ee=K-(O-a)*D,r=ee>=s&&ee<=g)}return r}function Kie(e,t,n,r){var i=[];if(r>1)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<r;++s)i.push(e[0]+o*s/r,e[1],e[2],e[1]+a*s/r,e[2]-o*s/r,e[3],e[0],e[3]-a*s/r);else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);for(var h=[],g=[],s=0,_=i.length;s<_;s+=2)h.push(i[s]),g.push(i[s+1]);return Bie(h,g,n)}function xj(e,t){var n=t.getExtent(),r=h0(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=_s(n),o=Math.floor((r[0]-n[0])/i),a=o*i;e[0]-=a,e[2]-=a}return e}function Die(e,t){if(t.canWrapX()){var n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];xj(e,t);var r=_s(n);if(_s(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}var Fie=function(){function e(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||jf[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},e.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},e.prototype.setWorldExtent=function(t){this.worldExtent_=t},e.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();const d8=Fie;function Kl(e,t,n){return Math.min(Math.max(e,t),n)}var Lie=function(){var e;return"cosh"in Math?e=Math.cosh:e=function(t){var n=Math.exp(t);return(n+1/n)/2},e}(),Uie=function(){var e;return"log2"in Math?e=Math.log2:e=function(t){return Math.log(t)*Math.LOG2E},e}();function Rie(e,t,n,r,i,o){var a=i-n,s=o-r;if(a!==0||s!==0){var h=((e-n)*a+(t-r)*s)/(a*a+s*s);h>1?(n=i,r=o):h>0&&(n+=a*h,r+=s*h)}return b1(e,t,n,r)}function b1(e,t,n,r){var i=n-e,o=r-t;return i*i+o*o}function zie(e){for(var t=e.length,n=0;n<t;n++){for(var r=n,i=Math.abs(e[n][n]),o=n+1;o<t;o++){var a=Math.abs(e[o][n]);a>i&&(i=a,r=o)}if(i===0)return null;var s=e[r];e[r]=e[n],e[n]=s;for(var h=n+1;h<t;h++)for(var g=-e[h][n]/e[n][n],_=n;_<t+1;_++)n==_?e[h][_]=0:e[h][_]+=g*e[n][_]}for(var E=new Array(t),O=t-1;O>=0;O--){E[O]=e[O][t]/e[O][O];for(var K=O-1;K>=0;K--)e[K][t]-=e[K][O]*E[O]}return E}function h3(e){return e*Math.PI/180}function x1(e,t){var n=e%t;return n*t<0?n+t:n}function Dp(e,t,n){return e+n*(t-e)}function wj(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function m2(e,t){return Math.floor(wj(e,t))}function g2(e,t){return Math.ceil(wj(e,t))}var jie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Db=6378137,gy=Math.PI*Db,Wie=[-gy,-gy,gy,gy],Nie=[-180,-85,180,85],y2=Db*Math.log(Math.tan(Math.PI/2)),Pg=function(e){jie(t,e);function t(n){return e.call(this,{code:n,units:WA.METERS,extent:Wie,global:!0,worldExtent:Nie,getPointResolution:function(r,i){return r/Lie(i[1]/Db)}})||this}return t}(d8),UT=[new Pg("EPSG:3857"),new Pg("EPSG:102100"),new Pg("EPSG:102113"),new Pg("EPSG:900913"),new Pg("http://www.opengis.net/def/crs/EPSG/0/3857"),new Pg("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Gie(e,t,n){var r=e.length,i=n>1?n:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var a=0;a<r;a+=i){o[a]=gy*e[a]/180;var s=Db*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>y2?s=y2:s<-y2&&(s=-y2),o[a+1]=s}return o}function $ie(e,t,n){var r=e.length,i=n>1?n:2,o=t;o===void 0&&(i>2?o=e.slice():o=new Array(r));for(var a=0;a<r;a+=i)o[a]=180*e[a]/gy,o[a+1]=360*Math.atan(Math.exp(e[a+1]/Db))/Math.PI-90;return o}var Qie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yie=6378137,RT=[-180,-90,180,90],qie=Math.PI*Yie/180,W0=function(e){Qie(t,e);function t(n,r){return e.call(this,{code:n,units:WA.DEGREES,extent:RT,axisOrientation:r,global:!0,metersPerUnit:qie,worldExtent:RT})||this}return t}(d8),zT=[new W0("CRS:84"),new W0("EPSG:4326","neu"),new W0("urn:ogc:def:crs:OGC:1.3:CRS84"),new W0("urn:ogc:def:crs:OGC:2:84"),new W0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new W0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new W0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],fO={};function Hie(e){return fO[e]||fO[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Vie(e,t){fO[e]=t}var zy={};function p4(e,t,n){var r=e.getCode(),i=t.getCode();r in zy||(zy[r]={}),zy[r][i]=n}function Zie(e,t){var n;return e in zy&&t in zy[e]&&(n=zy[e][t]),n}function Xie(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function m4(e,t){for(var n=!0,r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function h8(e,t){var n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,o=e[1]*n+e[0]*r;return e[0]=i,e[1]=o,e}function Jie(e,t){return e[0]*=t,e[1]*=t,e}function f8(e,t){if(t.canWrapX()){var n=_s(t.getExtent()),r=eoe(e,t,n);r&&(e[0]-=r*n)}return e}function eoe(e,t,n){var r=t.getExtent(),i=0;if(t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])){var o=n||_s(r);i=Math.floor((e[0]-r[0])/o)}return i}var toe=63710088e-1;function jT(e,t,n){var r=n||toe,i=h3(e[1]),o=h3(t[1]),a=(o-i)/2,s=h3(t[0]-e[0])/2,h=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}var pO=!0;function Mj(e){var t=e===void 0?!0:e;pO=!t}function p8(e,t,n){var r;if(t!==void 0){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];r=t}else r=e.slice();return r}function Sj(e,t,n){if(t!==void 0&&e!==t){for(var r=0,i=e.length;r<i;++r)t[r]=e[r];e=t}return e}function noe(e){Vie(e.getCode(),e),p4(e,e,p8)}function roe(e){e.forEach(noe)}function Hs(e){return typeof e=="string"?Hie(e):e||null}function WT(e,t,n,r){e=Hs(e);var i,o=e.getPointResolutionFunc();if(o){if(i=o(t,n),r&&r!==e.getUnits()){var a=e.getMetersPerUnit();a&&(i=i*a/jf[r])}}else{var s=e.getUnits();if(s==WA.DEGREES&&!r||r==WA.DEGREES)i=t;else{var h=cw(e,Hs("EPSG:4326"));if(h===Sj&&s!==WA.DEGREES)i=t*e.getMetersPerUnit();else{var g=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];g=h(g,g,2);var _=jT(g.slice(0,2),g.slice(2,4)),E=jT(g.slice(4,6),g.slice(6,8));i=(_+E)/2}var a=r?jf[r]:e.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function NT(e){roe(e),e.forEach(function(t){e.forEach(function(n){t!==n&&p4(t,n,p8)})})}function ioe(e,t,n,r){e.forEach(function(i){t.forEach(function(o){p4(i,o,n),p4(o,i,r)})})}function m8(e,t){return e?typeof e=="string"?Hs(e):e:Hs(t)}function mO(e,t){return Mj(),g8(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function ES(e,t){var n=g8(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=x1(r+180,360)-180),n}function r1(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode())return n;var r=cw(e,t);return r===p8&&n}function cw(e,t){var n=e.getCode(),r=t.getCode(),i=Zie(n,r);return i||(i=Sj),i}function g4(e,t){var n=Hs(e),r=Hs(t);return cw(n,r)}function g8(e,t,n){var r=g4(t,n);return r(e,void 0,e.length)}var ooe=null;function aoe(){return ooe}function gO(e,t){return e}function Ep(e,t){return pO&&!m4(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(pO=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Ej(e,t){return e}function d1(e,t){return e}function soe(){NT(UT),NT(zT),ioe(zT,UT,Gie,$ie)}soe();function a0(e,t,n,r,i,o){for(var a=o||[],s=0,h=t;h<n;h+=r){var g=e[h],_=e[h+1];a[s++]=i[0]*g+i[2]*_+i[4],a[s++]=i[1]*g+i[3]*_+i[5]}return o&&a.length!=s&&(a.length=s),a}function Oj(e,t,n,r,i,o,a){for(var s=a||[],h=Math.cos(i),g=Math.sin(i),_=o[0],E=o[1],O=0,K=t;K<n;K+=r){var D=e[K]-_,Y=e[K+1]-E;s[O++]=_+D*h-Y*g,s[O++]=E+D*g+Y*h;for(var ee=K+2;ee<K+r;++ee)s[O++]=e[ee]}return a&&s.length!=O&&(s.length=O),s}function loe(e,t,n,r,i,o,a,s){for(var h=s||[],g=a[0],_=a[1],E=0,O=t;O<n;O+=r){var K=e[O]-g,D=e[O+1]-_;h[E++]=g+i*K,h[E++]=_+o*D;for(var Y=O+2;Y<O+r;++Y)h[E++]=e[Y]}return s&&h.length!=E&&(h.length=E),h}function uoe(e,t,n,r,i,o,a){for(var s=a||[],h=0,g=t;g<n;g+=r){s[h++]=e[g]+i,s[h++]=e[g+1]+o;for(var _=g+2;_<g+r;++_)s[h++]=e[_]}return a&&s.length!=h&&(s.length=h),s}var Aoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GT=zd(),coe=function(e){Aoe(t,e);function t(){var n=e.call(this)||this;return n.extent_=Gd(),n.extentRevision_=-1,n.simplifiedGeometryMaxMinSquaredTolerance=0,n.simplifiedGeometryRevision=0,n.simplifyTransformedInternal=uie(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),n}return t.prototype.simplifyTransformed=function(n,r){return this.simplifyTransformedInternal(this.getRevision(),n,r)},t.prototype.clone=function(){return vi()},t.prototype.closestPointXY=function(n,r,i,o){return vi()},t.prototype.containsXY=function(n,r){var i=this.getClosestPoint([n,r]);return i[0]===n&&i[1]===r},t.prototype.getClosestPoint=function(n,r){var i=r||[NaN,NaN];return this.closestPointXY(n[0],n[1],i,1/0),i},t.prototype.intersectsCoordinate=function(n){return this.containsXY(n[0],n[1])},t.prototype.computeExtent=function(n){return vi()},t.prototype.getExtent=function(n){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&Kb(r),this.extentRevision_=this.getRevision()}return Tie(this.extent_,n)},t.prototype.rotate=function(n,r){vi()},t.prototype.scale=function(n,r,i){vi()},t.prototype.simplify=function(n){return this.getSimplifiedGeometry(n*n)},t.prototype.getSimplifiedGeometry=function(n){return vi()},t.prototype.getType=function(){return vi()},t.prototype.applyTransform=function(n){vi()},t.prototype.intersectsExtent=function(n){return vi()},t.prototype.translate=function(n,r){vi()},t.prototype.transform=function(n,r){var i=Hs(n),o=i.getUnits()==WA.TILE_PIXELS?function(a,s,h){var g=i.getExtent(),_=i.getWorldExtent(),E=Mc(_)/Mc(g);return Wf(GT,_[0],_[3],E,-E,0,0,0),a0(a,0,a.length,h,GT,s),g4(i,r)(a,s,h)}:g4(i,r);return this.applyTransform(o),this},t}(Lh);const Bj=coe;var doe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hoe=function(e){doe(t,e);function t(n){var r=e.call(this)||this;return r.geometries_=n||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(is),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var n=0,r=this.geometries_.length;n<r;++n)this.changeEventsKeys_.push(Eo(this.geometries_[n],ji.CHANGE,this.changed,this))},t.prototype.clone=function(){var n=new t(null);return n.setGeometries(this.geometries_),n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){if(o<Y1(this.getExtent(),n,r))return o;for(var a=this.geometries_,s=0,h=a.length;s<h;++s)o=a[s].closestPointXY(n,r,i,o);return o},t.prototype.containsXY=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)if(i[o].containsXY(n,r))return!0;return!1},t.prototype.computeExtent=function(n){Kb(n);for(var r=this.geometries_,i=0,o=r.length;i<o;++i)_j(n,r[i].getExtent());return n},t.prototype.getGeometries=function(){return $T(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getGeometriesArrayRecursive=function(){for(var n=[],r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].getType()===this.getType()?n=n.concat(r[i].getGeometriesArrayRecursive()):n.push(r[i]);return n},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&n<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],i=this.geometries_,o=!1,a=0,s=i.length;a<s;++a){var h=i[a],g=h.getSimplifiedGeometry(n);r.push(g),g!==h&&(o=!0)}if(o){var _=new t(null);return _.setGeometriesArray(r),_}else return this.simplifiedGeometryMaxMinSquaredTolerance=n,this},t.prototype.getType=function(){return"GeometryCollection"},t.prototype.intersectsExtent=function(n){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)if(r[i].intersectsExtent(n))return!0;return!1},t.prototype.isEmpty=function(){return this.geometries_.length===0},t.prototype.rotate=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].rotate(n,r);this.changed()},t.prototype.scale=function(n,r,i){var o=i;o||(o=h0(this.getExtent()));for(var a=this.geometries_,s=0,h=a.length;s<h;++s)a[s].scale(n,r,o);this.changed()},t.prototype.setGeometries=function(n){this.setGeometriesArray($T(n))},t.prototype.setGeometriesArray=function(n){this.unlistenGeometriesChange_(),this.geometries_=n,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(n){for(var r=this.geometries_,i=0,o=r.length;i<o;++i)r[i].applyTransform(n);this.changed()},t.prototype.translate=function(n,r){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].translate(n,r);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(Bj);function $T(e){for(var t=[],n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const foe=hoe;var Ij=function(){function e(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return e.prototype.getReadOptions=function(t,n){var r;if(n){var i=n.dataProjection?Hs(n.dataProjection):this.readProjection(t);n.extent&&i&&i.getUnits()===WA.TILE_PIXELS&&(i=Hs(i),i.setWorldExtent(n.extent)),r={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(t){return Cl({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},e.prototype.getType=function(){return vi()},e.prototype.readFeature=function(t,n){return vi()},e.prototype.readFeatures=function(t,n){return vi()},e.prototype.readGeometry=function(t,n){return vi()},e.prototype.readProjection=function(t){return vi()},e.prototype.writeFeature=function(t,n){return vi()},e.prototype.writeFeatures=function(t,n){return vi()},e.prototype.writeGeometry=function(t,n){return vi()},e}();function y8(e,t,n){var r=n?Hs(n.featureProjection):null,i=n?Hs(n.dataProjection):null,o;if(r&&i&&!r1(r,i)?o=(t?e.clone():e).transform(t?r:i,t?i:r):o=e,t&&n&&n.decimals!==void 0){var a=Math.pow(10,n.decimals),s=function(h){for(var g=0,_=h.length;g<_;++g)h[g]=Math.round(h[g]*a)/a;return h};o===e&&(o=e.clone()),o.applyTransform(s)}return o}var poe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),moe=function(e){poe(t,e);function t(){return e.call(this)||this}return t.prototype.getType=function(){return"json"},t.prototype.readFeature=function(n,r){return this.readFeatureFromObject(v2(n),this.getReadOptions(n,r))},t.prototype.readFeatures=function(n,r){return this.readFeaturesFromObject(v2(n),this.getReadOptions(n,r))},t.prototype.readFeatureFromObject=function(n,r){return vi()},t.prototype.readFeaturesFromObject=function(n,r){return vi()},t.prototype.readGeometry=function(n,r){return this.readGeometryFromObject(v2(n),this.getReadOptions(n,r))},t.prototype.readGeometryFromObject=function(n,r){return vi()},t.prototype.readProjection=function(n){return this.readProjectionFromObject(v2(n))},t.prototype.readProjectionFromObject=function(n){return vi()},t.prototype.writeFeature=function(n,r){return JSON.stringify(this.writeFeatureObject(n,r))},t.prototype.writeFeatureObject=function(n,r){return vi()},t.prototype.writeFeatures=function(n,r){return JSON.stringify(this.writeFeaturesObject(n,r))},t.prototype.writeFeaturesObject=function(n,r){return vi()},t.prototype.writeGeometry=function(n,r){return JSON.stringify(this.writeGeometryObject(n,r))},t.prototype.writeGeometryObject=function(n,r){return vi()},t}(Ij);function v2(e){if(typeof e=="string"){var t=JSON.parse(e);return t||null}else return e!==null?e:null}const goe=moe,za={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var yoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),voe=function(e){yoe(t,e);function t(){var n=e.call(this)||this;return n.layout=za.XY,n.stride=2,n.flatCoordinates=null,n}return t.prototype.computeExtent=function(n){return A8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinates=function(){return vi()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(n){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),n<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(n),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=n,this)},t.prototype.getSimplifiedGeometryInternal=function(n){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(n,r){this.stride=QT(n),this.layout=n,this.flatCoordinates=r},t.prototype.setCoordinates=function(n,r){vi()},t.prototype.setLayout=function(n,r,i){var o;if(n)o=QT(n);else{for(var a=0;a<i;++a)if(r.length===0){this.layout=za.XY,this.stride=2;return}else r=r[0];o=r.length,n=_oe(o)}this.layout=n,this.stride=o},t.prototype.applyTransform=function(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Oj(i,0,i.length,o,n,r,i),this.changed()}},t.prototype.scale=function(n,r,i){var o=r;o===void 0&&(o=n);var a=i;a||(a=h0(this.getExtent()));var s=this.getFlatCoordinates();if(s){var h=this.getStride();loe(s,0,s.length,h,n,o,a,s),this.changed()}},t.prototype.translate=function(n,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();uoe(i,0,i.length,o,n,r,i),this.changed()}},t}(Bj);function _oe(e){var t;return e==2?t=za.XY:e==3?t=za.XYZ:e==4&&(t=za.XYZM),t}function QT(e){var t;return e==za.XY?t=2:e==za.XYZ||e==za.XYM?t=3:e==za.XYZM&&(t=4),t}function Coe(e,t,n){var r=e.getFlatCoordinates();if(r){var i=e.getStride();return a0(r,0,r.length,i,t,n)}else return null}const q1=voe;function YT(e,t,n,r,i,o,a){var s=e[t],h=e[t+1],g=e[n]-s,_=e[n+1]-h,E;if(g===0&&_===0)E=t;else{var O=((i-s)*g+(o-h)*_)/(g*g+_*_);if(O>1)E=n;else if(O>0){for(var K=0;K<r;++K)a[K]=Dp(e[t+K],e[n+K],O);a.length=r;return}else E=t}for(var K=0;K<r;++K)a[K]=e[E+K];a.length=r}function v8(e,t,n,r,i){var o=e[t],a=e[t+1];for(t+=r;t<n;t+=r){var s=e[t],h=e[t+1],g=b1(o,a,s,h);g>i&&(i=g),o=s,a=h}return i}function _8(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=v8(e,t,s,r,i),t=s}return i}function boe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=_8(e,t,s,r,i),t=s[s.length-1]}return i}function C8(e,t,n,r,i,o,a,s,h,g,_){if(t==n)return g;var E,O;if(i===0)if(O=b1(a,s,e[t],e[t+1]),O<g){for(E=0;E<r;++E)h[E]=e[t+E];return h.length=r,O}else return g;for(var K=_||[NaN,NaN],D=t+r;D<n;)if(YT(e,D-r,D,r,a,s,K),O=b1(a,s,K[0],K[1]),O<g){for(g=O,E=0;E<r;++E)h[E]=K[E];h.length=r,D+=r}else D+=r*Math.max((Math.sqrt(O)-Math.sqrt(g))/i|0,1);if(o&&(YT(e,n-r,t,r,a,s,K),O=b1(a,s,K[0],K[1]),O<g)){for(g=O,E=0;E<r;++E)h[E]=K[E];h.length=r}return g}function b8(e,t,n,r,i,o,a,s,h,g,_){for(var E=_||[NaN,NaN],O=0,K=n.length;O<K;++O){var D=n[O];g=C8(e,t,D,r,i,o,a,s,h,g,E),t=D}return g}function xoe(e,t,n,r,i,o,a,s,h,g,_){for(var E=_||[NaN,NaN],O=0,K=n.length;O<K;++O){var D=n[O];g=b8(e,t,D,r,i,o,a,s,h,g,E),t=D[D.length-1]}return g}function woe(e,t,n,r){for(var i=0,o=n.length;i<o;++i)e[t++]=n[i];return t}function dw(e,t,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)e[t++]=a[s];return t}function x8(e,t,n,r,i){for(var o=i||[],a=0,s=0,h=n.length;s<h;++s){var g=dw(e,t,n[s],r);o[a++]=g,t=g}return o.length=a,o}function Moe(e,t,n,r,i){for(var o=i||[],a=0,s=0,h=n.length;s<h;++s){var g=x8(e,t,n[s],r,o[a]);o[a++]=g,t=g[g.length-1]}return o.length=a,o}function w8(e,t,n,r,i,o,a){var s=(n-t)/r;if(s<3){for(;t<n;t+=r)o[a++]=e[t],o[a++]=e[t+1];return a}var h=new Array(s);h[0]=1,h[s-1]=1;for(var g=[t,n-r],_=0;g.length>0;){for(var E=g.pop(),O=g.pop(),K=0,D=e[O],Y=e[O+1],ee=e[E],H=e[E+1],N=O+r;N<E;N+=r){var Z=e[N],ue=e[N+1],ye=Rie(Z,ue,D,Y,ee,H);ye>K&&(_=N,K=ye)}K>i&&(h[(_-t)/r]=1,O+r<_&&g.push(O,_),_+r<E&&g.push(_,E))}for(var N=0;N<s;++N)h[N]&&(o[a++]=e[t+N*r],o[a++]=e[t+N*r+1]);return a}function Soe(e,t,n,r,i,o,a,s){for(var h=0,g=n.length;h<g;++h){var _=n[h];a=w8(e,t,_,r,i,o,a),s.push(a),t=_}return a}function X0(e,t){return t*Math.round(e/t)}function Eoe(e,t,n,r,i,o,a){if(t==n)return a;var s=X0(e[t],i),h=X0(e[t+1],i);t+=r,o[a++]=s,o[a++]=h;var g,_;do if(g=X0(e[t],i),_=X0(e[t+1],i),t+=r,t==n)return o[a++]=g,o[a++]=_,a;while(g==s&&_==h);for(;t<n;){var E=X0(e[t],i),O=X0(e[t+1],i);if(t+=r,!(E==g&&O==_)){var K=g-s,D=_-h,Y=E-s,ee=O-h;if(K*ee==D*Y&&(K<0&&Y<K||K==Y||K>0&&Y>K)&&(D<0&&ee<D||D==ee||D>0&&ee>D)){g=E,_=O;continue}o[a++]=g,o[a++]=_,s=g,h=_,g=E,_=O}}return o[a++]=g,o[a++]=_,a}function kj(e,t,n,r,i,o,a,s){for(var h=0,g=n.length;h<g;++h){var _=n[h];a=Eoe(e,t,_,r,i,o,a),s.push(a),t=_}return a}function Ooe(e,t,n,r,i,o,a,s){for(var h=0,g=n.length;h<g;++h){var _=n[h],E=[];a=kj(e,t,_,r,i,o,a,E),s.push(E),t=_[_.length-1]}return a}function Tj(e,t,n,r,i){var o;for(t+=r;t<n;t+=r)if(o=i(e.slice(t-r,t),e.slice(t,t+r)),o)return o;return!1}function Gm(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=t;s<n;s+=r)o[a++]=e.slice(s,s+r);return o.length=a,o}function eb(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=0,h=n.length;s<h;++s){var g=n[s];o[a++]=Gm(e,t,g,r,o[a]),t=g}return o.length=a,o}function yO(e,t,n,r,i){for(var o=i!==void 0?i:[],a=0,s=0,h=n.length;s<h;++s){var g=n[s];o[a++]=eb(e,t,g,r,o[a]),t=g[g.length-1]}return o.length=a,o}function y4(e,t,n,r,i,o,a){var s,h,g=(n-t)/r;if(g===1)s=t;else if(g===2)s=t,h=i;else if(g!==0){for(var _=e[t],E=e[t+1],O=0,K=[0],D=t+r;D<n;D+=r){var Y=e[D],ee=e[D+1];O+=Math.sqrt((Y-_)*(Y-_)+(ee-E)*(ee-E)),K.push(O),_=Y,E=ee}var H=i*O,N=aie(K,H);N<0?(h=(H-K[-N-2])/(K[-N-1]-K[-N-2]),s=t+(-N-2)*r):s=t+N*r}for(var Z=a>1?a:2,ue=o||new Array(Z),D=0;D<Z;++D)ue[D]=s===void 0?NaN:h===void 0?e[s+D]:Dp(e[s+D],e[s+r+D],h);return ue}function vO(e,t,n,r,i,o){if(n==t)return null;var a;if(i<e[t+r-1])return o?(a=e.slice(t,t+r),a[r-1]=i,a):null;if(e[n-1]<i)return o?(a=e.slice(n-r,n),a[r-1]=i,a):null;if(i==e[t+r-1])return e.slice(t,t+r);for(var s=t/r,h=n/r;s<h;){var g=s+h>>1;i<e[(g+1)*r-1]?h=g:s=g+1}var _=e[s*r-1];if(i==_)return e.slice((s-1)*r,(s-1)*r+r);var E=e[(s+1)*r-1],O=(i-_)/(E-_);a=[];for(var K=0;K<r-1;++K)a.push(Dp(e[(s-1)*r+K],e[s*r+K],O));return a.push(i),a}function Boe(e,t,n,r,i,o,a){if(a)return vO(e,t,n[n.length-1],r,i,o);var s;if(i<e[r-1])return o?(s=e.slice(0,r),s[r-1]=i,s):null;if(e[e.length-1]<i)return o?(s=e.slice(e.length-r),s[r-1]=i,s):null;for(var h=0,g=n.length;h<g;++h){var _=n[h];if(t!=_){if(i<e[t+r-1])return null;if(i<=e[_-1])return vO(e,t,_,r,i,!1);t=_}}return null}function Ioe(e,t,n,r,i){var o=bj(i,function(a){return!h1(e,t,n,r,a[0],a[1])});return!o}function h1(e,t,n,r,i,o){for(var a=0,s=e[n-r],h=e[n-r+1];t<n;t+=r){var g=e[t],_=e[t+1];h<=o?_>o&&(g-s)*(o-h)-(i-s)*(_-h)>0&&a++:_<=o&&(g-s)*(o-h)-(i-s)*(_-h)<0&&a--,s=g,h=_}return a!==0}function M8(e,t,n,r,i,o){if(n.length===0||!h1(e,t,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(h1(e,n[a-1],n[a],r,i,o))return!1;return!0}function koe(e,t,n,r,i,o){if(n.length===0)return!1;for(var a=0,s=n.length;a<s;++a){var h=n[a];if(M8(e,t,h,r,i,o))return!0;t=h[h.length-1]}return!1}function hw(e,t,n,r,i){var o=Cj(Gd(),e,t,n,r);return _l(i,o)?Nm(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:Tj(e,t,n,r,function(a,s){return Pie(i,a,s)}):!1}function Toe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){if(hw(e,t,n[o],r,i))return!0;t=n[o]}return!1}function Pj(e,t,n,r,i){return!!(hw(e,t,n,r,i)||h1(e,t,n,r,i[0],i[1])||h1(e,t,n,r,i[0],i[3])||h1(e,t,n,r,i[2],i[1])||h1(e,t,n,r,i[2],i[3]))}function Kj(e,t,n,r,i){if(!Pj(e,t,n[0],r,i))return!1;if(n.length===1)return!0;for(var o=1,a=n.length;o<a;++o)if(Ioe(e,n[o-1],n[o],r,i)&&!hw(e,n[o-1],n[o],r,i))return!1;return!0}function Poe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(Kj(e,t,s,r,i))return!0;t=s[s.length-1]}return!1}function Dj(e,t,n,r){for(var i=e[t],o=e[t+1],a=0,s=t+r;s<n;s+=r){var h=e[s],g=e[s+1];a+=Math.sqrt((h-i)*(h-i)+(g-o)*(g-o)),i=h,o=g}return a}var Koe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Doe=function(e){Koe(t,e);function t(n,r){var i=e.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.appendCoordinate=function(n){this.flatCoordinates?Rf(this.flatCoordinates,n):this.flatCoordinates=n.slice(),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<Y1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(v8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),C8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,n,r,i,o))},t.prototype.forEachSegment=function(n){return Tj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.getCoordinateAtM=function(n,r){if(this.layout!=za.XYM&&this.layout!=za.XYZM)return null;var i=r!==void 0?r:!1;return vO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,i)},t.prototype.getCoordinates=function(){return Gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(n,r){return y4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,this.stride)},t.prototype.getLength=function(){return Dj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=w8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,za.XY)},t.prototype.getType=function(){return"LineString"},t.prototype.intersectsExtent=function(n){return hw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dw(this.flatCoordinates,0,n,this.stride),this.changed()},t}(q1);const v4=Doe;var Foe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Loe=function(e){Foe(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(n[0]))o.setCoordinates(n,r);else if(r!==void 0&&i)o.setFlatCoordinates(r,n),o.ends_=i;else{for(var a=o.getLayout(),s=n,h=[],g=[],_=0,E=s.length;_<E;++_){var O=s[_];_===0&&(a=O.getLayout()),Rf(h,O.getFlatCoordinates()),g.push(h.length)}o.setFlatCoordinates(a,h),o.ends_=g}return o}return t.prototype.appendLineString=function(n){this.flatCoordinates?Rf(this.flatCoordinates,n.getFlatCoordinates().slice()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<Y1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_8(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),b8(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,n,r,i,o))},t.prototype.getCoordinateAtM=function(n,r,i){if(this.layout!=za.XYM&&this.layout!=za.XYZM||this.flatCoordinates.length===0)return null;var o=r!==void 0?r:!1,a=i!==void 0?i:!1;return Boe(this.flatCoordinates,0,this.ends_,this.stride,n,o,a)},t.prototype.getCoordinates=function(){return eb(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(n){return n<0||this.ends_.length<=n?null:new v4(this.flatCoordinates.slice(n===0?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLineStrings=function(){for(var n=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],a=0,s=0,h=r.length;s<h;++s){var g=r[s],_=new v4(n.slice(a,g),i);o.push(_),a=g}return o},t.prototype.getFlatMidpoints=function(){for(var n=[],r=this.flatCoordinates,i=0,o=this.ends_,a=this.stride,s=0,h=o.length;s<h;++s){var g=o[s],_=y4(r,i,g,a,.5);Rf(n,_),i=g}return n},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=Soe(this.flatCoordinates,0,this.ends_,this.stride,n,r,0,i),new t(r,za.XY,i)},t.prototype.getType=function(){return"MultiLineString"},t.prototype.intersectsExtent=function(n){return Toe(this.flatCoordinates,0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=x8(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(q1);const Fj=Loe;var Uoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Roe=function(e){Uoe(t,e);function t(n,r){var i=e.call(this)||this;return i.setCoordinates(n,r),i}return t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){var a=this.flatCoordinates,s=b1(n,r,a[0],a[1]);if(s<o){for(var h=this.stride,g=0;g<h;++g)i[g]=a[g];return i.length=h,s}else return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(n){return vj(this.flatCoordinates,n)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(n){return u8(n,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=woe(this.flatCoordinates,0,n,this.stride),this.changed()},t}(q1);const tb=Roe;var zoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),joe=function(e){zoe(t,e);function t(n,r){var i=e.call(this)||this;return r&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.appendPoint=function(n){this.flatCoordinates?Rf(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout);return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){if(o<Y1(this.getExtent(),n,r))return o;for(var a=this.flatCoordinates,s=this.stride,h=0,g=a.length;h<g;h+=s){var _=b1(n,r,a[h],a[h+1]);if(_<o){o=_;for(var E=0;E<s;++E)i[E]=a[h+E];i.length=s}}return o},t.prototype.getCoordinates=function(){return Gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(n){var r=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return n<0||r<=n?null:new tb(this.flatCoordinates.slice(n*this.stride,(n+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var n=this.flatCoordinates,r=this.layout,i=this.stride,o=[],a=0,s=n.length;a<s;a+=i){var h=new tb(n.slice(a,a+i),r);o.push(h)}return o},t.prototype.getType=function(){return"MultiPoint"},t.prototype.intersectsExtent=function(n){for(var r=this.flatCoordinates,i=this.stride,o=0,a=r.length;o<a;o+=i){var s=r[o],h=r[o+1];if(u8(n,s,h))return!0}return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dw(this.flatCoordinates,0,n,this.stride),this.changed()},t}(q1);const S8=joe;function Lj(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],h=e[t+1];i+=a*s-o*h,o=s,a=h}return i/2}function Uj(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Lj(e,t,s,r),t=s}return i}function Woe(e,t,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Uj(e,t,s,r),t=s[s.length-1]}return i}var Noe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Goe=function(e){Noe(t,e);function t(n,r){var i=e.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(n[0])?i.setFlatCoordinates(r,n):i.setCoordinates(n,r),i}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(n,r,i,o){return o<Y1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(v8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),C8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.getArea=function(){return Lj(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Gm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[];return r.length=w8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,r,0),new t(r,za.XY)},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(n){return!1},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dw(this.flatCoordinates,0,n,this.stride),this.changed()},t}(q1);const qT=Goe;function E8(e,t,n,r,i,o,a){for(var s,h,g,_,E,O,K,D=i[o+1],Y=[],ee=0,H=n.length;ee<H;++ee){var N=n[ee];for(_=e[N-r],O=e[N-r+1],s=t;s<N;s+=r)E=e[s],K=e[s+1],(D<=O&&K<=D||O<=D&&D<=K)&&(g=(D-O)/(K-O)*(E-_)+_,Y.push(g)),_=E,O=K}var Z=NaN,ue=-1/0;for(Y.sort(D1),_=Y[0],s=1,h=Y.length;s<h;++s){E=Y[s];var ye=Math.abs(E-_);ye>ue&&(g=(_+E)/2,M8(e,t,n,r,g,D)&&(Z=g,ue=ye)),_=E}return isNaN(Z)&&(Z=i[o]),a?(a.push(Z,D,ue),a):[Z,D,ue]}function Rj(e,t,n,r,i){for(var o=[],a=0,s=n.length;a<s;++a){var h=n[a];o=E8(e,t,h,r,i,2*a,o),t=h[h.length-1]}return o}function $oe(e,t,n,r){for(;t<n-r;){for(var i=0;i<r;++i){var o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function O8(e,t,n,r){for(var i=0,o=e[n-r],a=e[n-r+1];t<n;t+=r){var s=e[t],h=e[t+1];i+=(s-o)*(h+a),o=s,a=h}return i===0?void 0:i>0}function zj(e,t,n,r,i){for(var o=i!==void 0?i:!1,a=0,s=n.length;a<s;++a){var h=n[a],g=O8(e,t,h,r);if(a===0){if(o&&g||!o&&!g)return!1}else if(o&&!g||!o&&g)return!1;t=h}return!0}function Qoe(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!zj(e,t,s,r,i))return!1;s.length&&(t=s[s.length-1])}return!0}function _O(e,t,n,r,i){for(var o=i!==void 0?i:!1,a=0,s=n.length;a<s;++a){var h=n[a],g=O8(e,t,h,r),_=a===0?o&&g||!o&&!g:o&&!g||!o&&g;_&&$oe(e,t,h,r),t=h}return t}function HT(e,t,n,r,i){for(var o=0,a=n.length;o<a;++o)t=_O(e,t,n[o],r,i);return t}function Yoe(e,t){for(var n=[],r=0,i=0,o=0,a=t.length;o<a;++o){var s=t[o];if(!O8(e,r,s,2))n.push(t.slice(i,o+1));else{if(n.length===0)continue;n[n.length-1].push(t[i])}i=o+1,r=s}return n}var qoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jj=function(e){qoe(t,e);function t(n,r,i){var o=e.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,n),o.ends_=i):o.setCoordinates(n,r),o}return t.prototype.appendLinearRing=function(n){this.flatCoordinates?Rf(this.flatCoordinates,n.getFlatCoordinates()):this.flatCoordinates=n.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var n=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return n.applyProperties(this),n},t.prototype.closestPointXY=function(n,r,i,o){return o<Y1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_8(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),b8(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return M8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,r)},t.prototype.getArea=function(){return Uj(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(n){var r;return n!==void 0?(r=this.getOrientedFlatCoordinates().slice(),_O(r,0,this.ends_,this.stride,n)):r=this.flatCoordinates,eb(r,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var n=h0(this.getExtent());this.flatInteriorPoint_=E8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new tb(this.getFlatInteriorPoint(),za.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(n){return n<0||this.ends_.length<=n?null:new qT(this.flatCoordinates.slice(n===0?0:this.ends_[n-1],this.ends_[n]),this.layout)},t.prototype.getLinearRings=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,h=i.length;s<h;++s){var g=i[s],_=new qT(r.slice(a,g),n);o.push(_),a=g}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;zj(n,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=_O(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=kj(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(n),r,0,i),new t(r,za.XY,i)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(n){return Kj(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=x8(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(q1);const nb=jj;function VT(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new jj(o,za.XY,[o.length])}function Wj(e,t,n,r){for(var i=[],o=Gd(),a=0,s=n.length;a<s;++a){var h=n[a];o=A8(e,t,h[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=h[h.length-1]}return i}var Hoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Voe=function(e){Hoe(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(n[0])){for(var a=o.getLayout(),s=n,h=[],g=[],_=0,E=s.length;_<E;++_){var O=s[_];_===0&&(a=O.getLayout());for(var K=h.length,D=O.getEnds(),Y=0,ee=D.length;Y<ee;++Y)D[Y]+=K;Rf(h,O.getFlatCoordinates()),g.push(D)}r=a,n=h,i=g}return r!==void 0&&i?(o.setFlatCoordinates(r,n),o.endss_=i):o.setCoordinates(n,r),o}return t.prototype.appendPolygon=function(n){var r;if(!this.flatCoordinates)this.flatCoordinates=n.getFlatCoordinates().slice(),r=n.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Rf(this.flatCoordinates,n.getFlatCoordinates()),r=n.getEnds().slice();for(var o=0,a=r.length;o<a;++o)r[o]+=i}this.endss_.push(r),this.changed()},t.prototype.clone=function(){for(var n=this.endss_.length,r=new Array(n),i=0;i<n;++i)r[i]=this.endss_[i].slice();var o=new t(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},t.prototype.closestPointXY=function(n,r,i,o){return o<Y1(this.getExtent(),n,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(boe(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xoe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,n,r,i,o))},t.prototype.containsXY=function(n,r){return koe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n,r)},t.prototype.getArea=function(){return Woe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(n){var r;return n!==void 0?(r=this.getOrientedFlatCoordinates().slice(),HT(r,0,this.endss_,this.stride,n)):r=this.flatCoordinates,yO(r,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var n=Wj(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Rj(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new S8(this.getFlatInteriorPoints().slice(),za.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var n=this.flatCoordinates;Qoe(n,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=n:(this.orientedFlatCoordinates_=n.slice(),this.orientedFlatCoordinates_.length=HT(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(n){var r=[],i=[];return r.length=Ooe(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(n),r,0,i),new t(r,za.XY,i)},t.prototype.getPolygon=function(n){if(n<0||this.endss_.length<=n)return null;var r;if(n===0)r=0;else{var i=this.endss_[n-1];r=i[i.length-1]}var o=this.endss_[n].slice(),a=o[o.length-1];if(r!==0)for(var s=0,h=o.length;s<h;++s)o[s]-=r;return new nb(this.flatCoordinates.slice(r,a),this.layout,o)},t.prototype.getPolygons=function(){for(var n=this.layout,r=this.flatCoordinates,i=this.endss_,o=[],a=0,s=0,h=i.length;s<h;++s){var g=i[s].slice(),_=g[g.length-1];if(a!==0)for(var E=0,O=g.length;E<O;++E)g[E]-=a;var K=new nb(r.slice(a,_),n,g);o.push(K),a=_}return o},t.prototype.getType=function(){return"MultiPolygon"},t.prototype.intersectsExtent=function(n){return Poe(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,n)},t.prototype.setCoordinates=function(n,r){this.setLayout(r,n,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Moe(this.flatCoordinates,0,n,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},t}(q1);const Nj=Voe;var Zoe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xoe=function(e){Zoe(t,e);function t(n){var r=this,i=n||{};return r=e.call(this)||this,r.dataProjection=Hs(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(r.defaultFeatureProjection=Hs(i.featureProjection)),r.geometryName_=i.geometryName,r.extractGeometryName_=i.extractGeometryName,r.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],r}return t.prototype.readFeatureFromObject=function(n,r){var i=null;n.type==="Feature"?i=n:i={type:"Feature",geometry:n,properties:null};var o=CO(i.geometry,r),a=new yie;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(o),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a},t.prototype.readFeaturesFromObject=function(n,r){var i=n,o=null;if(i.type==="FeatureCollection"){var a=n;o=[];for(var s=a.features,h=0,g=s.length;h<g;++h)o.push(this.readFeatureFromObject(s[h],r))}else o=[this.readFeatureFromObject(n,r)];return o},t.prototype.readGeometryFromObject=function(n,r){return CO(n,r)},t.prototype.readProjectionFromObject=function(n){var r=n.crs,i;return r?r.type=="name"?i=Hs(r.properties.name):r.type==="EPSG"?i=Hs("EPSG:"+r.properties.code):co(!1,36):i=this.dataProjection,i},t.prototype.writeFeatureObject=function(n,r){r=this.adaptOptions(r);var i={type:"Feature",geometry:null,properties:null},o=n.getId();if(o!==void 0&&(i.id=o),!n.hasProperties())return i;var a=n.getProperties(),s=n.getGeometry();return s&&(i.geometry=bO(s,r),delete a[n.getGeometryName()]),L1(a)||(i.properties=a),i},t.prototype.writeFeaturesObject=function(n,r){r=this.adaptOptions(r);for(var i=[],o=0,a=n.length;o<a;++o)i.push(this.writeFeatureObject(n[o],r));return{type:"FeatureCollection",features:i}},t.prototype.writeGeometryObject=function(n,r){return bO(n,this.adaptOptions(r))},t}(goe);function CO(e,t){if(!e)return null;var n;switch(e.type){case"Point":{n=eae(e);break}case"LineString":{n=tae(e);break}case"Polygon":{n=oae(e);break}case"MultiPoint":{n=rae(e);break}case"MultiLineString":{n=nae(e);break}case"MultiPolygon":{n=iae(e);break}case"GeometryCollection":{n=Joe(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return y8(n,!1,t)}function Joe(e,t){var n=e.geometries.map(function(r){return CO(r,t)});return new foe(n)}function eae(e){return new tb(e.coordinates)}function tae(e){return new v4(e.coordinates)}function nae(e){return new Fj(e.coordinates)}function rae(e){return new S8(e.coordinates)}function iae(e){return new Nj(e.coordinates)}function oae(e){return new nb(e.coordinates)}function bO(e,t){e=y8(e,!0,t);var n=e.getType(),r;switch(n){case"Point":{r=cae(e);break}case"LineString":{r=sae(e);break}case"Polygon":{r=dae(e,t);break}case"MultiPoint":{r=uae(e);break}case"MultiLineString":{r=lae(e);break}case"MultiPolygon":{r=Aae(e,t);break}case"GeometryCollection":{r=aae(e,t);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function aae(e,t){var n=e.getGeometriesArray().map(function(r){var i=Cl({},t);return delete i.featureProjection,bO(r,i)});return{type:"GeometryCollection",geometries:n}}function sae(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function lae(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function uae(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function Aae(e,t){var n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function cae(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function dae(e,t){var n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}var hae=ia,_2=G5;function ia(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}ia.Varint=0;ia.Fixed64=1;ia.Bytes=2;ia.Fixed32=5;var xO=65536*65536,ZT=1/xO,fae=12,Gj=typeof TextDecoder>"u"?null:new TextDecoder("utf8");ia.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=r&7,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=C2(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=JT(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=C2(this.buf,this.pos)+C2(this.buf,this.pos+4)*xO;return this.pos+=8,e},readSFixed64:function(){var e=C2(this.buf,this.pos)+JT(this.buf,this.pos+4)*xO;return this.pos+=8,e},readFloat:function(){var e=_2.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=_2.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,pae(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=fae&&Gj?Bae(this.buf,t,e):Oae(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==ia.Bytes)return e.push(this.readVarint(t));var n=bp(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==ia.Bytes)return e.push(this.readSVarint());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==ia.Bytes)return e.push(this.readBoolean());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==ia.Bytes)return e.push(this.readFloat());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==ia.Bytes)return e.push(this.readDouble());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==ia.Bytes)return e.push(this.readFixed32());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==ia.Bytes)return e.push(this.readSFixed32());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==ia.Bytes)return e.push(this.readFixed64());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==ia.Bytes)return e.push(this.readSFixed64());var t=bp(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===ia.Varint)for(;this.buf[this.pos++]>127;);else if(t===ia.Bytes)this.pos=this.readVarint()+this.pos;else if(t===ia.Fixed32)this.pos+=4;else if(t===ia.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Dg(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Dg(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Dg(this.buf,e&-1,this.pos),Dg(this.buf,Math.floor(e*ZT),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Dg(this.buf,e&-1,this.pos),Dg(this.buf,Math.floor(e*ZT),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){mae(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=Iae(this.buf,e,this.pos);var n=this.pos-t;n>=128&&XT(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),_2.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),_2.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&XT(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,ia.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,vae,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,_ae,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,xae,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Cae,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,bae,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,wae,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Mae,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Sae,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Eae,t)},writeBytesField:function(e,t){this.writeTag(e,ia.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,ia.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,ia.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,ia.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,ia.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,ia.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,ia.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,ia.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,ia.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,ia.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};function pae(e,t,n){var r=n.buf,i,o;if(o=r[n.pos++],i=(o&112)>>4,o<128||(o=r[n.pos++],i|=(o&127)<<3,o<128)||(o=r[n.pos++],i|=(o&127)<<10,o<128)||(o=r[n.pos++],i|=(o&127)<<17,o<128)||(o=r[n.pos++],i|=(o&127)<<24,o<128)||(o=r[n.pos++],i|=(o&1)<<31,o<128))return Kg(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function bp(e){return e.type===ia.Bytes?e.readVarint()+e.pos:e.pos+1}function Kg(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function mae(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),gae(n,r,t),yae(r,t)}function gae(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function yae(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function XT(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function vae(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function _ae(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Cae(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function bae(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function xae(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function wae(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Mae(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Sae(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Eae(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function C2(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function Dg(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function JT(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Oae(e,t,n){for(var r="",i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var h,g,_;s===1?o<128&&(a=o):s===2?(h=e[i+1],(h&192)===128&&(a=(o&31)<<6|h&63,a<=127&&(a=null))):s===3?(h=e[i+1],g=e[i+2],(h&192)===128&&(g&192)===128&&(a=(o&15)<<12|(h&63)<<6|g&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):s===4&&(h=e[i+1],g=e[i+2],_=e[i+3],(h&192)===128&&(g&192)===128&&(_&192)===128&&(a=(o&15)<<18|(h&63)<<12|(g&63)<<6|_&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),r+=String.fromCharCode(a),i+=s}return r}function Bae(e,t,n){return Gj.decode(e.subarray(t,n))}function Iae(e,t,n){for(var r=0,i,o;r<t.length;r++){if(i=t.charCodeAt(r),i>55295&&i<57344)if(o)if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,o=i;continue}else i=o-55296<<10|i-56320|65536,o=null;else{i>56319||r+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):o=i;continue}else o&&(e[n++]=239,e[n++]=191,e[n++]=189,o=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=i&63|128)}return n}const kae=Ba(hae);var eP=zd(),rb=function(){function e(t,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=i}return e.prototype.get=function(t){return this.properties_[t]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_==="Point"?vj(this.flatCoordinates_):A8(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=h0(this.getExtent());this.flatInteriorPoints_=E8(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Wj(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Rj(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=y4(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,n=0,r=this.ends_,i=0,o=r.length;i<o;++i){var a=r[i],s=y4(t,n,a,2,.5);Rf(this.flatMidpoints_,s),n=a}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(t){return this},e.prototype.simplifyTransformed=function(t,n){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){return this.styleFunction},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(t){t=Hs(t);var n=t.getExtent(),r=t.getWorldExtent();if(n&&r){var i=Mc(r)/Mc(n);Wf(eP,r[0],r[3],i,-i,0,0,0),a0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,eP,this.flatCoordinates_)}},e.prototype.getEnds=function(){return this.ends_},e}();rb.prototype.getEndss=rb.prototype.getEnds;rb.prototype.getFlatCoordinates=rb.prototype.getOrientedFlatCoordinates;const wO=rb;var Tae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pae=function(e){Tae(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.dataProjection=new d8({code:"",units:WA.TILE_PIXELS}),r.featureClass_=i.featureClass?i.featureClass:wO,r.geometryName_=i.geometryName,r.layerName_=i.layerName?i.layerName:"layer",r.layers_=i.layers?i.layers:null,r.idProperty_=i.idProperty,r.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],r}return t.prototype.readRawGeometry_=function(n,r,i,o){n.pos=r.geometry;for(var a=n.readVarint()+n.pos,s=1,h=0,g=0,_=0,E=0,O=0;n.pos<a;){if(!h){var K=n.readVarint();s=K&7,h=K>>3}h--,s===1||s===2?(g+=n.readSVarint(),_+=n.readSVarint(),s===1&&E>O&&(o.push(E),O=E),i.push(g,_),E+=2):s===7?E>O&&(i.push(i[O],i[O+1]),E+=2):co(!1,59)}E>O&&(o.push(E),O=E)},t.prototype.createFeature_=function(n,r,i){var o=r.type;if(o===0)return null;var a,s=r.properties,h;this.idProperty_?(h=s[this.idProperty_],delete s[this.idProperty_]):h=r.id,s[this.layerName_]=r.layer.name;var g=[],_=[];this.readRawGeometry_(n,r,g,_);var E=Uae(o,_.length);if(this.featureClass_===wO)a=new this.featureClass_(E,g,_,s,h),a.transform(i.dataProjection);else{var O=void 0;if(E=="Polygon"){var K=Yoe(g,_);O=K.length>1?new Nj(g,za.XY,K):new nb(g,za.XY,_)}else O=E==="Point"?new tb(g,za.XY):E==="LineString"?new v4(g,za.XY):E==="MultiPoint"?new S8(g,za.XY):E==="MultiLineString"?new Fj(g,za.XY,_):null;var D=this.featureClass_;a=new D,this.geometryName_&&a.setGeometryName(this.geometryName_);var Y=y8(O,!1,i);a.setGeometry(Y),h!==void 0&&a.setId(h),a.setProperties(s,!0)}return a},t.prototype.getType=function(){return"arraybuffer"},t.prototype.readFeatures=function(n,r){var i=this.layers_,o=this.adaptOptions(r),a=Hs(o.dataProjection);a.setWorldExtent(o.extent),o.dataProjection=a;var s=new kae(n),h=s.readFields(Kae,{}),g=[];for(var _ in h)if(!(i&&i.indexOf(_)==-1)){var E=h[_],O=E?[0,0,E.extent,E.extent]:null;a.setExtent(O);for(var K=0,D=E.length;K<D;++K){var Y=Lae(s,E,K),ee=this.createFeature_(s,Y,o);ee!==null&&g.push(ee)}}return g},t.prototype.readProjection=function(n){return this.dataProjection},t.prototype.setLayers=function(n){this.layers_=n},t}(Ij);function Kae(e,t,n){if(e===3){var r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(Dae,r,i),r.length=r.features.length,r.length&&(t[r.name]=r)}}function Dae(e,t,n){if(e===15)t.version=n.readVarint();else if(e===1)t.name=n.readString();else if(e===5)t.extent=n.readVarint();else if(e===2)t.features.push(n.pos);else if(e===3)t.keys.push(n.readString());else if(e===4){for(var r=null,i=n.readVarint()+n.pos;n.pos<i;)e=n.readVarint()>>3,r=e===1?n.readString():e===2?n.readFloat():e===3?n.readDouble():e===4?n.readVarint64():e===5?n.readVarint():e===6?n.readSVarint():e===7?n.readBoolean():null;t.values.push(r)}}function Fae(e,t,n){if(e==1)t.id=n.readVarint();else if(e==2)for(var r=n.readVarint()+n.pos;n.pos<r;){var i=t.layer.keys[n.readVarint()],o=t.layer.values[n.readVarint()];t.properties[i]=o}else e==3?t.type=n.readVarint():e==4&&(t.geometry=n.pos)}function Lae(e,t,n){e.pos=t.features[n];var r=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(Fae,i,r),i}function Uae(e,t){var n;return e===1?n=t===1?"Point":"MultiPoint":e===2?n=t===1?"LineString":"MultiLineString":e===3&&(n="Polygon"),n}const Rae=Pae;var zae=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,jae=/^([a-z]*)$|^hsla?\(.*\)$/i;function $j(e){return typeof e=="string"?e:Qj(e)}function Wae(e){var t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}else return""}var Nae=function(){var e=1024,t={},n=0;return function(r){var i;if(t.hasOwnProperty(r))i=t[r];else{if(n>=e){var o=0;for(var a in t)o++&3||(delete t[a],--n)}i=Gae(r),t[r]=i,++n}return i}}();function _4(e){return Array.isArray(e)?e:Nae(e)}function Gae(e){var t,n,r,i,o;if(jae.exec(e)&&(e=Wae(e)),zae.exec(e)){var a=e.length-1,s=void 0;a<=4?s=1:s=2;var h=a===4||a===8;t=parseInt(e.substr(1+0*s,s),16),n=parseInt(e.substr(1+1*s,s),16),r=parseInt(e.substr(1+2*s,s),16),h?i=parseInt(e.substr(1+3*s,s),16):i=255,s==1&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,h&&(i=(i<<4)+i)),o=[t,n,r,i/255]}else e.indexOf("rgba(")==0?(o=e.slice(5,-1).split(",").map(Number),tP(o)):e.indexOf("rgb(")==0?(o=e.slice(4,-1).split(",").map(Number),o.push(1),tP(o)):co(!1,14);return o}function tP(e){return e[0]=Kl(e[0]+.5|0,0,255),e[1]=Kl(e[1]+.5|0,0,255),e[2]=Kl(e[2]+.5|0,0,255),e[3]=Kl(e[3],0,1),e}function Qj(e){var t=e[0];t!=(t|0)&&(t=t+.5|0);var n=e[1];n!=(n|0)&&(n=n+.5|0);var r=e[2];r!=(r|0)&&(r=r+.5|0);var i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+n+","+r+","+i+")"}var $ae=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var n in this.cache_){var r=this.cache_[n];!(t++&3)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}},e.prototype.get=function(t,n,r){var i=nP(t,n,r);return i in this.cache_?this.cache_[i]:null},e.prototype.set=function(t,n,r,i){var o=nP(t,n,r);this.cache_[o]=i,++this.cacheSize_},e.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e}();function nP(e,t,n){var r=n?$j(n):"null";return t+":"+e+":"+r}var C4=new $ae;const Ma={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var Qae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yae=function(e){Qae(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un,r.background_=n.background;var i=Cl({},n);return typeof n.properties=="object"&&(delete i.properties,Cl(i,n.properties)),i[Ma.OPACITY]=n.opacity!==void 0?n.opacity:1,co(typeof i[Ma.OPACITY]=="number",64),i[Ma.VISIBLE]=n.visible!==void 0?n.visible:!0,i[Ma.Z_INDEX]=n.zIndex,i[Ma.MAX_RESOLUTION]=n.maxResolution!==void 0?n.maxResolution:1/0,i[Ma.MIN_RESOLUTION]=n.minResolution!==void 0?n.minResolution:0,i[Ma.MIN_ZOOM]=n.minZoom!==void 0?n.minZoom:-1/0,i[Ma.MAX_ZOOM]=n.maxZoom!==void 0?n.maxZoom:1/0,r.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(n){var r=this.state_||{layer:this,managed:n===void 0?!0:n},i=this.getZIndex();return r.opacity=Kl(Math.round(this.getOpacity()*100)/100,0,1),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},t.prototype.getLayersArray=function(n){return vi()},t.prototype.getLayerStatesArray=function(n){return vi()},t.prototype.getExtent=function(){return this.get(Ma.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(Ma.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(Ma.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(Ma.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(Ma.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(Ma.OPACITY)},t.prototype.getSourceState=function(){return vi()},t.prototype.getVisible=function(){return this.get(Ma.VISIBLE)},t.prototype.getZIndex=function(){return this.get(Ma.Z_INDEX)},t.prototype.setBackground=function(n){this.background_=n,this.changed()},t.prototype.setExtent=function(n){this.set(Ma.EXTENT,n)},t.prototype.setMaxResolution=function(n){this.set(Ma.MAX_RESOLUTION,n)},t.prototype.setMinResolution=function(n){this.set(Ma.MIN_RESOLUTION,n)},t.prototype.setMaxZoom=function(n){this.set(Ma.MAX_ZOOM,n)},t.prototype.setMinZoom=function(n){this.set(Ma.MIN_ZOOM,n)},t.prototype.setOpacity=function(n){co(typeof n=="number",64),this.set(Ma.OPACITY,n)},t.prototype.setVisible=function(n){this.set(Ma.VISIBLE,n)},t.prototype.setZIndex=function(n){this.set(Ma.Z_INDEX,n)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(Lh);const Yj=Yae,s0={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var qae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fw=function(e){qae(t,e);function t(n){var r=this,i=Cl({},n);delete i.source,r=e.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,r.rendered=!1,n.render&&(r.render=n.render),n.map&&r.setMap(n.map),r.addChangeListener(Ma.SOURCE,r.handleSourcePropertyChange_);var o=n.source?n.source:null;return r.setSource(o),r}return t.prototype.getLayersArray=function(n){var r=n||[];return r.push(this),r},t.prototype.getLayerStatesArray=function(n){var r=n||[];return r.push(this.getLayerState()),r},t.prototype.getSource=function(){return this.get(Ma.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var n=this.getSource();return n?n.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(is(this.sourceChangeKey_),this.sourceChangeKey_=null);var n=this.getSource();n&&(this.sourceChangeKey_=Eo(n,ji.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(n){return this.renderer_?this.renderer_.getFeatures(n):new Promise(function(r){return r([])})},t.prototype.getData=function(n){return!this.renderer_||!this.rendered?null:this.renderer_.getData(n)},t.prototype.render=function(n,r){var i=this.getRenderer();if(i.prepareFrame(n))return this.rendered=!0,i.renderFrame(n,r)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(n){n||this.unrender(),this.set(Ma.MAP,n)},t.prototype.getMapInternal=function(){return this.get(Ma.MAP)},t.prototype.setMap=function(n){this.mapPrecomposeKey_&&(is(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),n||this.changed(),this.mapRenderKey_&&(is(this.mapRenderKey_),this.mapRenderKey_=null),n&&(this.mapPrecomposeKey_=Eo(n,s0.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);co(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Eo(this,ji.CHANGE,n.render,n),this.changed())},t.prototype.setSource=function(n){this.set(Ma.SOURCE,n)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),e.prototype.disposeInternal.call(this)},t}(Yj);function b4(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}var Hae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vae=function(e){Hae(t,e);function t(n){var r=e.call(this)||this;return r.map_=n,r}return t.prototype.dispatchRenderEvent=function(n,r){vi()},t.prototype.calculateMatrices2D=function(n){var r=n.viewState,i=n.coordinateToPixelTransform,o=n.pixelToCoordinateTransform;Wf(i,n.size[0]/2,n.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),l8(o,i)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a,s,h,g){var _,E=r.viewState;function O(ge,yt,wt,st){return a.call(s,yt,ge?wt:null,st)}var K=E.projection,D=f8(n.slice(),K),Y=[[0,0]];if(K.canWrapX()&&o){var ee=K.getExtent(),H=_s(ee);Y.push([-H,0],[H,0])}for(var N=r.layerStatesArray,Z=N.length,ue=[],ye=[],be=0;be<Y.length;be++)for(var X=Z-1;X>=0;--X){var se=N[X],we=se.layer;if(we.hasRenderer()&&b4(se,E)&&h.call(g,we)){var xe=we.getRenderer(),De=we.getSource();if(xe&&De){var Fe=De.getWrapX()?D:n,he=O.bind(null,se.managed);ye[0]=Fe[0]+Y[be][0],ye[1]=Fe[1]+Y[be][1],_=xe.forEachFeatureAtCoordinate(ye,r,i,he,ue)}if(_)return _}}if(ue.length!==0){var Qe=1/ue.length;return ue.forEach(function(ge,yt){return ge.distanceSq+=yt*Qe}),ue.sort(function(ge,yt){return ge.distanceSq-yt.distanceSq}),ue.some(function(ge){return _=ge.callback(ge.feature,ge.layer,ge.geometry)}),_}},t.prototype.forEachLayerAtPixel=function(n,r,i,o,a){return vi()},t.prototype.hasFeatureAtCoordinate=function(n,r,i,o,a,s){var h=this.forEachFeatureAtCoordinate(n,r,i,o,Ry,this,a,s);return h!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(n){vi()},t.prototype.scheduleExpireIconCache=function(n){C4.canExpireCache()&&n.postRenderFunctions.push(Zae)},t}(o8);function Zae(e,t){C4.expire()}const Xae=Vae;var Jae=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qj=function(e){Jae(t,e);function t(n,r,i,o){var a=e.call(this,n)||this;return a.inversePixelTransform=r,a.frameState=i,a.context=o,a}return t}(Jp),b2="ol-hidden",ese="ol-selectable",pw="ol-unselectable",B8="ol-control",rP="ol-collapsed",tse=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),iP=["style","variant","weight","size","lineHeight","family"],Hj=function(e){var t=e.match(tse);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=iP.length;r<i;++r){var o=t[r+1];o!==void 0&&(n[iP[r]]=o)}return n.families=n.family.split(/,\s?/),n};function Sc(e,t,n,r){var i;return n&&n.length?i=n.shift():aw?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function I8(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function nse(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function rse(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function oP(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function x4(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Vj(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function ise(e,t){for(var n=e.childNodes,r=0;;++r){var i=n[r],o=t[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}}var Zj="10px sans-serif",Gp="#000",w4="round",ib=[],ob=0,Av="round",ab=10,sb="#000",lb="center",M4="middle",f1=[0,0,0,0],ub=1,Op=new Lh,MO=new Sv;MO.setSize=function(){console.warn("labelCache is deprecated.")};var Zg=null,SO,EO={},ose=function(){var e=100,t="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10",o,a;function s(g,_,E){for(var O=!0,K=0;K<r;++K){var D=n[K];if(a=S4(g+" "+_+" "+t+D,i),E!=D){var Y=S4(g+" "+_+" "+t+E+","+D,i);O=O&&Y!=a}}return!!O}function h(){for(var g=!0,_=Op.getKeys(),E=0,O=_.length;E<O;++E){var K=_[E];Op.get(K)<e&&(s.apply(this,K.split(`
`))?(Tb(EO),Zg=null,SO=void 0,Op.set(K,e)):(Op.set(K,Op.get(K)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){var _=Hj(g);if(_)for(var E=_.families,O=0,K=E.length;O<K;++O){var D=E[O],Y=_.style+`
`+_.weight+`
`+D;Op.get(Y)===void 0&&(Op.set(Y,e,!0),s(_.style,_.weight,D)||(Op.set(Y,0,!0),o===void 0&&(o=setInterval(h,32))))}}}(),ase=function(){var e;return function(t){var n=EO[t];if(n==null){if(aw){var r=Hj(t),i=Xj(t,"Žg"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);n=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);EO[t]=n}return n}}();function Xj(e,t){return Zg||(Zg=Sc(1,1)),e!=SO&&(Zg.font=e,SO=Zg.font),Zg.measureText(t)}function S4(e,t){return Xj(e,t).width}function aP(e,t,n){if(t in n)return n[t];var r=t.split(`
`).reduce(function(i,o){return Math.max(i,S4(e,o))},0);return n[t]=r,r}function sse(e,t){for(var n=[],r=[],i=[],o=0,a=0,s=0,h=0,g=0,_=t.length;g<=_;g+=2){var E=t[g];if(E===`
`||g===_){o=Math.max(o,a),i.push(a),a=0,s+=h;continue}var O=t[g+1]||e.font,K=S4(O,E);n.push(K),a+=K;var D=ase(O);r.push(D),h=Math.max(h,D)}return{width:o,height:s,widths:n,heights:r,lineWidths:i}}function lse(e,t,n,r,i,o,a,s,h,g,_){e.save(),n!==1&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),r.contextInstructions?(e.translate(h,g),e.scale(_[0],_[1]),use(r,e)):_[0]<0||_[1]<0?(e.translate(h,g),e.scale(_[0],_[1]),e.drawImage(r,i,o,a,s,0,0,a,s)):e.drawImage(r,i,o,a,s,h,g,a*_[0],s*_[1]),e.restore()}function use(e,t){for(var n=e.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}var Ase=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cse=function(e){Ase(t,e);function t(n){var r=e.call(this,n)||this;r.fontChangeListenerKey_=Eo(Op,lv.PROPERTYCHANGE,n.redrawText.bind(n)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=pw+" ol-layers";var o=n.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return t.prototype.dispatchRenderEvent=function(n,r){var i=this.getMap();if(i.hasListener(n)){var o=new qj(n,void 0,r);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){is(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(n){if(!n){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(n),this.dispatchRenderEvent(s0.PRECOMPOSE,n);var r=n.layerStatesArray.sort(function(K,D){return K.zIndex-D.zIndex}),i=n.viewState;this.children_.length=0;for(var o=[],a=null,s=0,h=r.length;s<h;++s){var g=r[s];n.layerIndex=s;var _=g.layer,E=_.getSourceState();if(!b4(g,i)||E!="ready"&&E!="undefined"){_.unrender();continue}var O=_.render(n,a);O&&(O!==a&&(this.children_.push(O),a=O),"getDeclutter"in _&&o.push(_))}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(n);ise(this.element_,this.children_),this.dispatchRenderEvent(s0.POSTCOMPOSE,n),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(n)},t.prototype.forEachLayerAtPixel=function(n,r,i,o,a){for(var s=r.viewState,h=r.layerStatesArray,g=h.length,_=g-1;_>=0;--_){var E=h[_],O=E.layer;if(O.hasRenderer()&&b4(E,s)&&a(O)){var K=O.getRenderer(),D=K.getDataAtPixel(n,r,i);if(D){var Y=o(O,D);if(Y)return Y}}}},t}(Xae);const dse=cse,_c={ADD:"add",REMOVE:"remove"};var Jj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sP={LENGTH:"length"},x2=function(e){Jj(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.element=r,o.index=i,o}return t}(Jp),Ud=function(e){Jj(t,e);function t(n,r){var i=e.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=n||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(n){for(var r=0,i=n.length;r<i;++r)this.push(n[r]);return this},t.prototype.forEach=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(n){return this.array_[n]},t.prototype.getLength=function(){return this.get(sP.LENGTH)},t.prototype.insertAt=function(n,r){this.unique_&&this.assertUnique_(r),this.array_.splice(n,0,r),this.updateLength_(),this.dispatchEvent(new x2(_c.ADD,r,n))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(n){this.unique_&&this.assertUnique_(n);var r=this.getLength();return this.insertAt(r,n),this.getLength()},t.prototype.remove=function(n){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===n)return this.removeAt(i)},t.prototype.removeAt=function(n){var r=this.array_[n];return this.array_.splice(n,1),this.updateLength_(),this.dispatchEvent(new x2(_c.REMOVE,r,n)),r},t.prototype.setAt=function(n,r){var i=this.getLength();if(n<i){this.unique_&&this.assertUnique_(r,n);var o=this.array_[n];this.array_[n]=r,this.dispatchEvent(new x2(_c.REMOVE,o,n)),this.dispatchEvent(new x2(_c.ADD,r,n))}else{for(var a=i;a<n;++a)this.insertAt(a,void 0);this.insertAt(n,r)}},t.prototype.updateLength_=function(){this.set(sP.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(n,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===n&&i!==r)throw new hj(58)},t}(Lh),eW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tm=function(e){eW(t,e);function t(n,r){var i=e.call(this,n)||this;return i.layer=r,i}return t}(Jp),OS={LAYERS:"layers"},hse=function(e){eW(t,e);function t(n){var r=this,i=n||{},o=Cl({},i);delete o.layers;var a=i.layers;return r=e.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(OS.LAYERS,r.handleLayersChanged_),a?Array.isArray(a)?a=new Ud(a.slice(),{unique:!0}):co(typeof a.getArray=="function",43):a=new Ud(void 0,{unique:!0}),r.setLayers(a),r}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(is),this.layersListenerKeys_.length=0;var n=this.getLayers();this.layersListenerKeys_.push(Eo(n,_c.ADD,this.handleLayersAdd_,this),Eo(n,_c.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(is);Tb(this.listenerKeys_);for(var i=n.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new Tm("addlayer",s))}this.changed()},t.prototype.registerLayerListeners_=function(n){var r=[Eo(n,lv.PROPERTYCHANGE,this.handleLayerChange_,this),Eo(n,ji.CHANGE,this.handleLayerChange_,this)];n instanceof t&&r.push(Eo(n,"addlayer",this.handleLayerGroupAdd_,this),Eo(n,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[qi(n)]=r},t.prototype.handleLayerGroupAdd_=function(n){this.dispatchEvent(new Tm("addlayer",n.layer))},t.prototype.handleLayerGroupRemove_=function(n){this.dispatchEvent(new Tm("removelayer",n.layer))},t.prototype.handleLayersAdd_=function(n){var r=n.element;this.registerLayerListeners_(r),this.dispatchEvent(new Tm("addlayer",r)),this.changed()},t.prototype.handleLayersRemove_=function(n){var r=n.element,i=qi(r);this.listenerKeys_[i].forEach(is),delete this.listenerKeys_[i],this.dispatchEvent(new Tm("removelayer",r)),this.changed()},t.prototype.getLayers=function(){return this.get(OS.LAYERS)},t.prototype.setLayers=function(n){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new Tm("removelayer",i[o]));this.set(OS.LAYERS,n)},t.prototype.getLayersArray=function(n){var r=n!==void 0?n:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},t.prototype.getLayerStatesArray=function(n){var r=n!==void 0?n:[],i=r.length;this.getLayers().forEach(function(_){_.getLayerStatesArray(r)});var o=this.getLayerState(),a=o.zIndex;!n&&o.zIndex===void 0&&(a=0);for(var s=i,h=r.length;s<h;s++){var g=r[s];g.opacity*=o.opacity,g.visible=g.visible&&o.visible,g.maxResolution=Math.min(g.maxResolution,o.maxResolution),g.minResolution=Math.max(g.minResolution,o.minResolution),g.minZoom=Math.max(g.minZoom,o.minZoom),g.maxZoom=Math.min(g.maxZoom,o.maxZoom),o.extent!==void 0&&(g.extent!==void 0?g.extent=C1(g.extent,o.extent):g.extent=o.extent),g.zIndex===void 0&&(g.zIndex=a)}return r},t.prototype.getSourceState=function(){return"ready"},t}(Yj);const mw=hse;var fse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xg=function(e){fse(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return t}(Jp),pse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Om=function(e){pse(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,a)||this;return h.originalEvent=i,h.pixel_=null,h.coordinate_=null,h.dragging=o!==void 0?o:!1,h.activePointers=s,h}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(Xg);const rl={SINGLECLICK:"singleclick",CLICK:ji.CLICK,DBLCLICK:ji.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},OO={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var mse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gse=function(e){mse(t,e);function t(n,r){var i=e.call(this,n)||this;i.map_=n,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=[],i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Eo(o,OO.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Eo(o,OO.POINTERMOVE,i.relayMoveEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(ji.TOUCHMOVE,i.boundHandleTouchMove_,pj?{passive:!1}:!1),i}return t.prototype.emulateClick_=function(n){var r=new Om(rl.CLICK,this.map_,n);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new Om(rl.DBLCLICK,this.map_,n),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var i=new Om(rl.SINGLECLICK,this.map_,n);this.dispatchEvent(i)}).bind(this),250)},t.prototype.updateActivePointers_=function(n){var r=n,i=r.pointerId;if(r.type==rl.POINTERUP||r.type==rl.POINTERCANCEL){delete this.trackedTouches_[i];for(var o in this.trackedTouches_)if(this.trackedTouches_[o].target!==r.target){delete this.trackedTouches_[o];break}}else(r.type==rl.POINTERDOWN||r.type==rl.POINTERMOVE)&&(this.trackedTouches_[i]=r);this.activePointers_=Aj(this.trackedTouches_)},t.prototype.handlePointerUp_=function(n){this.updateActivePointers_(n);var r=new Om(rl.POINTERUP,this.map_,n,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(n)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(is),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(n){return n.button===0},t.prototype.handlePointerDown_=function(n){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(n);var r=new Om(rl.POINTERDOWN,this.map_,n,void 0,void 0,this.activePointers_);this.dispatchEvent(r),this.down_={};for(var i in n){var o=n[i];this.down_[i]=typeof o=="function"?F1:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Eo(a,rl.POINTERMOVE,this.handlePointerMove_,this),Eo(a,rl.POINTERUP,this.handlePointerUp_,this),Eo(this.element_,rl.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Eo(this.element_.getRootNode(),rl.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(n){if(this.isMoving_(n)){this.updateActivePointers_(n),this.dragging_=!0;var r=new Om(rl.POINTERDRAG,this.map_,n,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(r)}},t.prototype.relayMoveEvent_=function(n){this.originalPointerMoveEvent_=n;var r=!!(this.down_&&this.isMoving_(n));this.dispatchEvent(new Om(rl.POINTERMOVE,this.map_,n,r))},t.prototype.handleTouchMove_=function(n){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof n.cancelable!="boolean"||n.cancelable===!0)&&n.preventDefault()},t.prototype.isMoving_=function(n){return this.dragging_||Math.abs(n.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(n.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(is(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ji.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(is(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(is),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(Sv);const yse=gse,Ip={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},dA={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var E4=1/0,vse=function(){function e(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Tb(this.queuedElements_)},e.prototype.dequeue=function(){var t=this.elements_,n=this.priorities_,r=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},e.prototype.enqueue=function(t){co(!(this.keyFunction_(t)in this.queuedElements_),31);var n=this.priorityFunction_(t);return n!=E4?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(t){return t*2+1},e.prototype.getRightChildIndex_=function(t){return t*2+2},e.prototype.getParentIndex_=function(t){return t-1>>1},e.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},e.prototype.isEmpty=function(){return this.elements_.length===0},e.prototype.isKeyQueued=function(t){return t in this.queuedElements_},e.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},e.prototype.siftUp_=function(t){for(var n=this.elements_,r=this.priorities_,i=n.length,o=n[t],a=r[t],s=t;t<i>>1;){var h=this.getLeftChildIndex_(t),g=this.getRightChildIndex_(t),_=g<i&&r[g]<r[h]?g:h;n[t]=n[_],r[t]=r[_],t=_}n[t]=o,r[t]=a,this.siftDown_(s,t)},e.prototype.siftDown_=function(t,n){for(var r=this.elements_,i=this.priorities_,o=r[n],a=i[n];n>t;){var s=this.getParentIndex_(n);if(i[s]>a)r[n]=r[s],i[n]=i[s],n=s;else break}r[n]=o,i[n]=a},e.prototype.reprioritize=function(){var t=this.priorityFunction_,n=this.elements_,r=this.priorities_,i=0,o=n.length,a,s,h;for(s=0;s<o;++s)a=n[s],h=t(a),h==E4?delete this.queuedElements_[this.keyFunction_(a)]:(r[i]=h,n[i++]=a);n.length=i,r.length=i,this.heapify_()},e}();const _se=vse,mr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Cse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bse=function(e){Cse(t,e);function t(n,r){var i=e.call(this,function(o){return n.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t.prototype.enqueue=function(n){var r=e.prototype.enqueue.call(this,n);if(r){var i=n[0];i.addEventListener(ji.CHANGE,this.boundHandleTileChange_)}return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(n){var r=n.target,i=r.getState();if(i===mr.LOADED||i===mr.ERROR||i===mr.EMPTY){r.removeEventListener(ji.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(n,r){for(var i=0,o,a,s;this.tilesLoading_<n&&i<r&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===mr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},t}(_se);const xse=bse;function wse(e,t,n,r,i){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return E4;var o=e.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}const ol={ANIMATING:0,INTERACTING:1},xh={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var tW=42,k8=256;function lP(e,t,n){return function(r,i,o,a,s){if(r){if(!i&&!t)return r;var h=t?0:o[0]*i,g=t?0:o[1]*i,_=s?s[0]:0,E=s?s[1]:0,O=e[0]+h/2+_,K=e[2]-h/2+_,D=e[1]+g/2+E,Y=e[3]-g/2+E;O>K&&(O=(K+O)/2,K=O),D>Y&&(D=(Y+D)/2,Y=D);var ee=Kl(r[0],O,K),H=Kl(r[1],D,Y);if(a&&n&&i){var N=30*i;ee+=-N*Math.log(1+Math.max(0,O-r[0])/N)+N*Math.log(1+Math.max(0,r[0]-K)/N),H+=-N*Math.log(1+Math.max(0,D-r[1])/N)+N*Math.log(1+Math.max(0,r[1]-Y)/N)}return[ee,H]}}}function Mse(e){return e}function T8(e,t,n,r){var i=_s(t)/n[0],o=Mc(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function P8(e,t,n){var r=Math.min(e,t),i=50;return r*=Math.log(1+i*Math.max(0,e/t-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/e-1))/i+1),Kl(r,n/2,t*2)}function Sse(e,t,n,r){return function(i,o,a,s){if(i!==void 0){var h=e[0],g=e[e.length-1],_=n?T8(h,n,a,r):h;if(s){var E=t!==void 0?t:!0;return E?P8(i,_,g):Kl(i,g,_)}var O=Math.min(_,i),K=Math.floor(a8(e,O,o));return e[K]>_&&K<e.length-1?e[K+1]:e[K]}else return}}function Ese(e,t,n,r,i,o){return function(a,s,h,g){if(a!==void 0){var _=i?T8(t,i,h,o):t,E=n!==void 0?n:0;if(g){var O=r!==void 0?r:!0;return O?P8(a,_,E):Kl(a,E,_)}var K=1e-9,D=Math.ceil(Math.log(t/_)/Math.log(e)-K),Y=-s*(.5-K)+.5,ee=Math.min(_,a),H=Math.floor(Math.log(t/ee)/Math.log(e)+Y),N=Math.max(D,H),Z=t/Math.pow(e,N);return Kl(Z,E,_)}else return}}function uP(e,t,n,r,i){return function(o,a,s,h){if(o!==void 0){var g=r?T8(e,r,s,i):e,_=n!==void 0?n:!0;return!_||!h?Kl(o,t,g):P8(o,g,t)}else return}}function K8(e){if(e!==void 0)return 0}function AP(e){if(e!==void 0)return e}function Ose(e){var t=2*Math.PI/e;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function Bse(e){var t=e||h3(5);return function(n,r){if(r)return n;if(n!==void 0)return Math.abs(n)<=t?0:n}}function nW(e){return Math.pow(e,3)}function Ev(e){return 1-nW(1-e)}function Ise(e){return 3*e*e-2*e*e*e}function kse(e){return e}var Tse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BS=0,Up=function(e){Tse(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=Cl({},n);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=m8(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.projection&&Mj(),i.center&&(i.center=Ep(i.center,r.projection_)),i.extent&&(i.extent=d1(i.extent,r.projection_)),r.applyOptions_(i),r}return t.prototype.applyOptions_=function(n){var r=Cl({},n);for(var i in xh)delete r[i];this.setProperties(r,!0);var o=Kse(n);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=n.resolutions,this.padding_=n.padding,this.minZoom_=o.minZoom;var a=Pse(n),s=o.constraint,h=Dse(n);this.constraints_={center:a,resolution:s,rotation:h},this.setRotation(n.rotation!==void 0?n.rotation:0),this.setCenterInternal(n.center!==void 0?n.center:null),n.resolution!==void 0?this.setResolution(n.resolution):n.zoom!==void 0&&this.setZoom(n.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(n){var r=this.padding_;this.padding_=n;var i=this.getCenter();if(i){var o=n||[0,0,0,0];r=r||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-r[3]+r[1]-o[1]),h=a/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-h])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(n){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),Cl({},r,n)},t.prototype.animate=function(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=Cl({},o),o.center=Ep(o.center,this.getProjection())),o.anchor&&(o=Cl({},o),o.anchor=Ep(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},t.prototype.animateInternal=function(n){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===r){i&&w2(i,!0);return}for(var s=Date.now(),h=this.targetCenter_.slice(),g=this.targetResolution_,_=this.targetRotation_,E=[];o<r;++o){var O=arguments[o],K={start:s,complete:!1,anchor:O.anchor,duration:O.duration!==void 0?O.duration:1e3,easing:O.easing||Ise,callback:i};if(O.center&&(K.sourceCenter=h,K.targetCenter=O.center.slice(),h=K.targetCenter),O.zoom!==void 0?(K.sourceResolution=g,K.targetResolution=this.getResolutionForZoom(O.zoom),g=K.targetResolution):O.resolution&&(K.sourceResolution=g,K.targetResolution=O.resolution,g=K.targetResolution),O.rotation!==void 0){K.sourceRotation=_;var D=x1(O.rotation-_+Math.PI,2*Math.PI)-Math.PI;K.targetRotation=_+D,_=K.targetRotation}Fse(K)?K.complete=!0:s+=K.duration,E.push(K)}this.animations_.push(E),this.setHint(ol.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[ol.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[ol.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(ol.ANIMATING,-this.hints_[ol.ANIMATING]);for(var n,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&w2(o[0].callback,!1),!n)for(var a=0,s=o.length;a<s;++a){var h=o[a];if(!h.complete){n=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var n=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,h=o.length;s<h;++s){var g=o[s];if(!g.complete){var _=n-g.start,E=g.duration>0?_/g.duration:1;E>=1?(g.complete=!0,E=1):a=!1;var O=g.easing(E);if(g.sourceCenter){var K=g.sourceCenter[0],D=g.sourceCenter[1],Y=g.targetCenter[0],ee=g.targetCenter[1];this.nextCenter_=g.targetCenter;var H=K+O*(Y-K),N=D+O*(ee-D);this.targetCenter_=[H,N]}if(g.sourceResolution&&g.targetResolution){var Z=O===1?g.targetResolution:g.sourceResolution+O*(g.targetResolution-g.sourceResolution);if(g.anchor){var ue=this.getViewportSize_(this.getRotation()),ye=this.constraints_.resolution(Z,0,ue,!0);this.targetCenter_=this.calculateCenterZoom(ye,g.anchor)}this.nextResolution_=g.targetResolution,this.targetResolution_=Z,this.applyTargetState_(!0)}if(g.sourceRotation!==void 0&&g.targetRotation!==void 0){var be=O===1?x1(g.targetRotation+Math.PI,2*Math.PI)-Math.PI:g.sourceRotation+O*(g.targetRotation-g.sourceRotation);if(g.anchor){var X=this.constraints_.rotation(be,!0);this.targetCenter_=this.calculateCenterRotate(X,g.anchor)}this.nextRotation_=g.targetRotation,this.targetRotation_=be}if(this.applyTargetState_(!0),r=!0,!g.complete)break}}if(a){this.animations_[i]=null,this.setHint(ol.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var se=o[0].callback;se&&w2(se,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(n,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],h8(i,n-this.getRotation()),Xie(i,r)),i},t.prototype.calculateCenterZoom=function(n,r){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=r[0]-n*(r[0]-o[0])/a,h=r[1]-n*(r[1]-o[1])/a;i=[s,h]}return i},t.prototype.getViewportSize_=function(n){var r=this.viewportSize_;if(n){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(n))+Math.abs(o*Math.sin(n)),Math.abs(i*Math.sin(n))+Math.abs(o*Math.cos(n))]}else return r},t.prototype.setViewportSize=function(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var n=this.getCenterInternal();return n&&gO(n,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(xh.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(n){return n!==void 0?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()},t.prototype.calculateExtent=function(n){var r=this.calculateExtentInternal(n);return Ej(r,this.getProjection())},t.prototype.calculateExtentInternal=function(n){var r=n||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();co(i,1);var o=this.getResolution();co(o!==void 0,2);var a=this.getRotation();return co(a!==void 0,3),dO(i,o,a,r)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))},t.prototype.setConstrainResolution=function(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(xh.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(n,r){return this.getResolutionForExtentInternal(d1(n,this.getProjection()),r)},t.prototype.getResolutionForExtentInternal=function(n,r){var i=r||this.getViewportSizeMinusPadding_(),o=_s(n)/i[0],a=Mc(n)/i[1];return Math.max(o,a)},t.prototype.getResolutionForValueFunction=function(n){var r=n||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(r);return function(s){var h=i/Math.pow(r,s*a);return h}},t.prototype.getRotation=function(){return this.get(xh.ROTATION)},t.prototype.getValueForResolutionFunction=function(n){var r=Math.log(n||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/r;return function(s){var h=Math.log(i/s)/r/a;return h}},t.prototype.getViewportSizeMinusPadding_=function(n){var r=this.getViewportSize_(n),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},t.prototype.getState=function(){var n=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=IS(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],r,i)}return{center:o.slice(0),projection:n!==void 0?n:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var n,r=this.getResolution();return r!==void 0&&(n=this.getZoomForResolution(r)),n},t.prototype.getZoomForResolution=function(n){var r=this.minZoom_||0,i,o;if(this.resolutions_){var a=a8(this.resolutions_,n,1);r=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/n)/Math.log(o)},t.prototype.getResolutionForZoom=function(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Kl(Math.floor(n),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,Kl(n-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)},t.prototype.fit=function(n,r){var i;if(co(Array.isArray(n)||typeof n.getSimplifiedGeometry=="function",24),Array.isArray(n)){co(!c8(n),25);var o=d1(n,this.getProjection());i=VT(o)}else if(n.getType()==="Circle"){var o=d1(n.getExtent(),this.getProjection());i=VT(o),i.rotate(this.getRotation(),h0(o))}else{var a=aoe();a?i=n.clone().transform(a,this.getProjection()):i=n}this.fitInternal(i,r)},t.prototype.rotatedExtentForGeometry=function(n){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),a=n.getFlatCoordinates(),s=n.getStride(),h=1/0,g=1/0,_=-1/0,E=-1/0,O=0,K=a.length;O<K;O+=s){var D=a[O]*i-a[O+1]*o,Y=a[O]*o+a[O+1]*i;h=Math.min(h,D),g=Math.min(g,Y),_=Math.max(_,D),E=Math.max(E,Y)}return[h,g,_,E]},t.prototype.fitInternal=function(n,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,h;i.minResolution!==void 0?h=i.minResolution:i.maxZoom!==void 0?h=this.getResolutionForZoom(i.maxZoom):h=0;var g=this.rotatedExtentForGeometry(n),_=this.getResolutionForExtentInternal(g,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);_=isNaN(_)?h:Math.max(_,h),_=this.getConstrainedResolution(_,s?0:1);var E=this.getRotation(),O=Math.sin(E),K=Math.cos(E),D=h0(g);D[0]+=(a[1]-a[3])/2*_,D[1]+=(a[0]-a[2])/2*_;var Y=D[0]*K-D[1]*O,ee=D[1]*K+D[0]*O,H=this.getConstrainedCenter([Y,ee],_),N=i.callback?i.callback:F1;i.duration!==void 0?this.animateInternal({resolution:_,center:H,duration:i.duration,easing:i.easing},N):(this.targetResolution_=_,this.targetCenter_=H,this.applyTargetState_(!1,!0),w2(N,!0))},t.prototype.centerOn=function(n,r,i){this.centerOnInternal(Ep(n,this.getProjection()),r,i)},t.prototype.centerOnInternal=function(n,r,i){this.setCenterInternal(IS(n,r,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(n,r,i,o){var a,s=this.padding_;if(s&&n){var h=this.getViewportSizeMinusPadding_(-i),g=IS(n,o,[h[0]/2+s[3],h[1]/2+s[0]],r,i);a=[n[0]-g[0],n[1]-g[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(n){var r=gO(this.targetCenter_,this.getProjection());this.setCenter([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustCenterInternal=function(n){var r=this.targetCenter_;this.setCenterInternal([r[0]+n[0],r[1]+n[1]])},t.prototype.adjustResolution=function(n,r){var i=r&&Ep(r,this.getProjection());this.adjustResolutionInternal(n,i)},t.prototype.adjustResolutionInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*n,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(a,r)),this.targetResolution_*=n,this.applyTargetState_()},t.prototype.adjustZoom=function(n,r){this.adjustResolution(Math.pow(this.zoomFactor_,-n),r)},t.prototype.adjustRotation=function(n,r){r&&(r=Ep(r,this.getProjection())),this.adjustRotationInternal(n,r)},t.prototype.adjustRotationInternal=function(n,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+n,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=n,this.applyTargetState_()},t.prototype.setCenter=function(n){this.setCenterInternal(n&&Ep(n,this.getProjection()))},t.prototype.setCenterInternal=function(n){this.targetCenter_=n,this.applyTargetState_()},t.prototype.setHint=function(n,r){return this.hints_[n]+=r,this.changed(),this.hints_[n]},t.prototype.setResolution=function(n){this.targetResolution_=n,this.applyTargetState_()},t.prototype.setRotation=function(n){this.targetRotation_=n,this.applyTargetState_()},t.prototype.setZoom=function(n){this.setResolution(this.getResolutionForZoom(n))},t.prototype.applyTargetState_=function(n,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),h=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(xh.ROTATION)!==o&&this.set(xh.ROTATION,o),this.get(xh.RESOLUTION)!==s&&(this.set(xh.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(xh.CENTER)||!m4(this.get(xh.CENTER),h))&&this.set(xh.CENTER,h),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(n,r,i){var o=n!==void 0?n:200,a=r||0,s=this.constraints_.rotation(this.targetRotation_),h=this.getViewportSize_(s),g=this.constraints_.resolution(this.targetResolution_,a,h),_=this.constraints_.center(this.targetCenter_,g,h,!1,this.calculateCenterShift(this.targetCenter_,g,s,h));if(o===0&&!this.cancelAnchor_){this.targetResolution_=g,this.targetRotation_=s,this.targetCenter_=_,this.applyTargetState_();return}var E=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==g||this.getRotation()!==s||!this.getCenterInternal()||!m4(this.getCenterInternal(),_))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:_,resolution:g,duration:o,easing:Ev,anchor:E}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ol.INTERACTING,1)},t.prototype.endInteraction=function(n,r,i){var o=i&&Ep(i,this.getProjection());this.endInteractionInternal(n,r,o)},t.prototype.endInteractionInternal=function(n,r,i){this.setHint(ol.INTERACTING,-1),this.resolveConstraints(n,r,i)},t.prototype.getConstrainedCenter=function(n,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,r||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(n,r){var i=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},t.prototype.getConstrainedResolution=function(n,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,o)},t}(Lh);function w2(e,t){setTimeout(function(){e(t)},0)}function Pse(e){if(e.extent!==void 0){var t=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return lP(e.extent,e.constrainOnlyCenter,t)}var n=m8(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,lP(r,!1,!1)}return Mse}function Kse(e){var t,n,r,i=28,o=2,a=e.minZoom!==void 0?e.minZoom:BS,s=e.maxZoom!==void 0?e.maxZoom:i,h=e.zoomFactor!==void 0?e.zoomFactor:o,g=e.multiWorld!==void 0?e.multiWorld:!1,_=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,E=e.showFullExtent!==void 0?e.showFullExtent:!1,O=m8(e.projection,"EPSG:3857"),K=O.getExtent(),D=e.constrainOnlyCenter,Y=e.extent;if(!g&&!Y&&O.isGlobal()&&(D=!1,Y=K),e.resolutions!==void 0){var ee=e.resolutions;n=ee[a],r=ee[s]!==void 0?ee[s]:ee[ee.length-1],e.constrainResolution?t=Sse(ee,_,!D&&Y,E):t=uP(n,r,_,!D&&Y,E)}else{var H=K?Math.max(_s(K),Mc(K)):360*jf[WA.DEGREES]/O.getMetersPerUnit(),N=H/k8/Math.pow(o,BS),Z=N/Math.pow(o,i-BS);n=e.maxResolution,n!==void 0?a=0:n=N/Math.pow(h,a),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=n/Math.pow(h,s):r=N/Math.pow(h,s):r=Z),s=a+Math.floor(Math.log(n/r)/Math.log(h)),r=n/Math.pow(h,s-a),e.constrainResolution?t=Ese(h,n,r,_,!D&&Y,E):t=uP(n,r,_,!D&&Y,E)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:h}}function Dse(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var n=e.constrainRotation;return n===void 0||n===!0?Bse():n===!1?AP:typeof n=="number"?Ose(n):AP}else return K8}function Fse(e){return!(e.sourceCenter&&e.targetCenter&&!m4(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function IS(e,t,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=e[0]*o-e[1]*a,h=e[1]*o+e[0]*a;s+=(t[0]/2-n[0])*r,h+=(n[1]-t[1]/2)*r,a=-a;var g=s*o-h*a,_=h*o+s*a;return[g,_]}function cP(e){return e[0]>0&&e[1]>0}function Lse(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function RA(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var Use=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function rW(e){if(e instanceof fw){e.setMapInternal(null);return}e instanceof mw&&e.getLayers().forEach(rW)}function iW(e,t){if(e instanceof fw){e.setMapInternal(t);return}if(e instanceof mw)for(var n=e.getLayers().getArray(),r=0,i=n.length;r<i;++r)iW(n[r],t)}var Rse=function(e){Use(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=zse(n);r.renderComplete_,r.loaded_=!0,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=n.maxTilesLoading!==void 0?n.maxTilesLoading:16,r.pixelRatio_=n.pixelRatio!==void 0?n.pixelRatio:fj,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(r),r.coordinateToPixelTransform_=zd(),r.pixelToCoordinateTransform_=zd(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=n.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new Ud,r.interactions=i.interactions||new Ud,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new xse(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(dA.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(dA.VIEW,r.handleViewChanged_),r.addChangeListener(dA.SIZE,r.handleSizeChanged_),r.addChangeListener(dA.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return n.view&&!(n.view instanceof Up)&&n.view.then(function(a){o.setView(new Up(a))}),r.controls.addEventListener(_c.ADD,(function(a){a.element.setMap(this)}).bind(r)),r.controls.addEventListener(_c.REMOVE,(function(a){a.element.setMap(null)}).bind(r)),r.interactions.addEventListener(_c.ADD,(function(a){a.element.setMap(this)}).bind(r)),r.interactions.addEventListener(_c.REMOVE,(function(a){a.element.setMap(null)}).bind(r)),r.overlays_.addEventListener(_c.ADD,(function(a){this.addOverlayInternal_(a.element)}).bind(r)),r.overlays_.addEventListener(_c.REMOVE,(function(a){var s=a.element,h=s.getId();h!==void 0&&delete this.overlayIdIndex_[h.toString()],a.element.setMap(null)}).bind(r)),r.controls.forEach((function(a){a.setMap(this)}).bind(r)),r.interactions.forEach((function(a){a.setMap(this)}).bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(n){this.getControls().push(n)},t.prototype.addInteraction=function(n){this.getInteractions().push(n)},t.prototype.addLayer=function(n){var r=this.getLayerGroup().getLayers();r.push(n)},t.prototype.handleLayerAdd_=function(n){iW(n.layer,this)},t.prototype.addOverlay=function(n){this.getOverlays().push(n)},t.prototype.addOverlayInternal_=function(n){var r=n.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=n),n.setMap(this)},t.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(n,r,i){if(!(!this.frameState_||!this.renderer_)){var o=this.getCoordinateFromPixelInternal(n);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Ry,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,h,r,null,s,null)}},t.prototype.getFeaturesAtPixel=function(n,r){var i=[];return this.forEachFeatureAtPixel(n,function(o){i.push(o)},r),i},t.prototype.getAllLayers=function(){var n=[];function r(i){i.forEach(function(o){o instanceof mw?r(o.getLayers()):n.push(o)})}return r(this.getLayers()),n},t.prototype.forEachLayerAtPixel=function(n,r,i){if(!(!this.frameState_||!this.renderer_)){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||Ry;return this.renderer_.forEachLayerAtPixel(n,this.frameState_,a,r,s)}},t.prototype.hasFeatureAtPixel=function(n,r){if(!this.frameState_||!this.renderer_)return!1;var i=this.getCoordinateFromPixelInternal(n);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:Ry,a=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},t.prototype.getEventCoordinate=function(n){return this.getCoordinateFromPixel(this.getEventPixel(n))},t.prototype.getEventCoordinateInternal=function(n){return this.getCoordinateFromPixelInternal(this.getEventPixel(n))},t.prototype.getEventPixel=function(n){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in n?n.changedTouches[0]:n;return[i.clientX-r.left,i.clientY-r.top]},t.prototype.getTarget=function(){return this.get(dA.TARGET)},t.prototype.getTargetElement=function(){var n=this.getTarget();return n!==void 0?typeof n=="string"?document.getElementById(n):n:null},t.prototype.getCoordinateFromPixel=function(n){return gO(this.getCoordinateFromPixelInternal(n),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(n){var r=this.frameState_;return r?yl(r.pixelToCoordinateTransform,n.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(n){var r=this.overlayIdIndex_[n.toString()];return r!==void 0?r:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(dA.LAYERGROUP)},t.prototype.setLayers=function(n){var r=this.getLayerGroup();if(n instanceof Ud){r.setLayers(n);return}var i=r.getLayers();i.clear(),i.extend(n)},t.prototype.getLayers=function(){var n=this.getLayerGroup().getLayers();return n},t.prototype.getLoadingOrNotReady=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r];if(o.visible){var a=o.layer.getRenderer();if(a&&!a.ready)return!0;var s=o.layer.getSource();if(s&&s.loading)return!0}}return!1},t.prototype.getPixelFromCoordinate=function(n){var r=Ep(n,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},t.prototype.getPixelFromCoordinateInternal=function(n){var r=this.frameState_;return r?yl(r.coordinateToPixelTransform,n.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(dA.SIZE)},t.prototype.getView=function(){return this.get(dA.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var n=this.getTargetElement();return n?n.ownerDocument:document},t.prototype.getTilePriority=function(n,r,i,o){return wse(this.frameState_,n,r,i,o)},t.prototype.handleBrowserEvent=function(n,r){var i=r||n.type,o=new Om(i,this,n);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(n){if(this.frameState_){var r=n.originalEvent,i=r.type;if(i===OO.POINTERDOWN||i===ji.WHEEL||i===ji.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=r.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(n.frameState=this.frameState_,this.dispatchEvent(n)!==!1)for(var h=this.getInteractions().getArray().slice(),g=h.length-1;g>=0;g--){var _=h[g];if(!(_.getMap()!==this||!_.getActive()||!this.getTargetElement())){var E=_.handleEvent(n);if(!E||n.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var n=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(n){var a=n.viewHints;if(a[ol.ANIMATING]||a[ol.INTERACTING]){var s=Date.now()-n.time>8;i=s?0:8,o=s?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}n&&this.renderer_&&!n.animate&&(this.renderComplete_===!0?(this.hasListener(s0.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(s0.RENDERCOMPLETE,n),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Xg(Ip.LOADEND,this,n)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Xg(Ip.LOADSTART,this,n))));for(var h=this.postRenderFunctions_,g=0,_=h.length;g<_;++g)h[g](this,n);h.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var n=0,r=this.targetChangeHandlerKeys_.length;n<r;++n)is(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(ji.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ji.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,x4(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new yse(this,this.moveTolerance_);for(var o in rl)this.mapBrowserEventHandler_.addEventListener(rl[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ji.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ji.WHEEL,this.boundHandleBrowserEvent_,pj?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Eo(s,ji.KEYDOWN,this.handleBrowserEvent,this),Eo(s,ji.KEYPRESS,this.handleBrowserEvent,this),Eo(a,ji.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(is(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(is(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var n=this.getView();n&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Eo(n,lv.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Eo(n,ji.CHANGE,this.handleViewPropertyChanged_,this),n.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(is),this.layerGroupPropertyListenerKeys_=null);var n=this.getLayerGroup();n&&(this.handleLayerAdd_(new Tm("addlayer",n)),this.layerGroupPropertyListenerKeys_=[Eo(n,lv.PROPERTYCHANGE,this.render,this),Eo(n,ji.CHANGE,this.render,this),Eo(n,"addlayer",this.handleLayerAdd_,this),Eo(n,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var n=this.getLayerGroup().getLayerStatesArray(),r=0,i=n.length;r<i;++r){var o=n[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(n){return this.getControls().remove(n)},t.prototype.removeInteraction=function(n){return this.getInteractions().remove(n)},t.prototype.removeLayer=function(n){var r=this.getLayerGroup().getLayers();return r.remove(n)},t.prototype.handleLayerRemove_=function(n){rW(n.layer)},t.prototype.removeOverlay=function(n){return this.getOverlays().remove(n)},t.prototype.renderFrame_=function(n){var r=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&cP(i)&&o&&o.isDef()){var h=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),g=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:dO(g.center,g.resolution,g.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:n,usedTiles:{},viewState:g,viewHints:h,wantedTiles:{},mapId:qi(this),renderTargets:{}},g.nextCenter&&g.nextResolution){var _=isNaN(g.nextRotation)?g.rotation:g.nextRotation;s.nextExtent=dO(g.nextCenter,g.nextResolution,_,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var E=!this.previousExtent_||!c8(this.previousExtent_)&&!uv(s.extent,this.previousExtent_);E&&(this.dispatchEvent(new Xg(Ip.MOVESTART,this,a)),this.previousExtent_=Kb(this.previousExtent_))}var O=this.previousExtent_&&!s.viewHints[ol.ANIMATING]&&!s.viewHints[ol.INTERACTING]&&!uv(s.extent,this.previousExtent_);O&&(this.dispatchEvent(new Xg(Ip.MOVEEND,this,s)),yj(s.extent,this.previousExtent_))}this.dispatchEvent(new Xg(Ip.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ip.LOADSTART)||this.hasListener(Ip.LOADEND)||this.hasListener(s0.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},t.prototype.setLayerGroup=function(n){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new Tm("removelayer",r)),this.set(dA.LAYERGROUP,n)},t.prototype.setSize=function(n){this.set(dA.SIZE,n)},t.prototype.setTarget=function(n){this.set(dA.TARGET,n)},t.prototype.setView=function(n){if(!n||n instanceof Up){this.set(dA.VIEW,n);return}this.set(dA.VIEW,new Up);var r=this;n.then(function(i){r.setView(new Up(i))})},t.prototype.updateSize=function(){var n=this.getTargetElement(),r=void 0;if(n){var i=getComputedStyle(n),o=n.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=n.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(r=[o,a],!cP(r)&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var n=this.getView();if(n){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),n.setViewportSize(r)}},t}(Lh);function zse(e){var t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new mw({layers:e.layers});n[dA.LAYERGROUP]=r,n[dA.TARGET]=e.target,n[dA.VIEW]=e.view instanceof Up?e.view:new Up;var i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Ud(e.controls.slice()):(co(typeof e.controls.getArray=="function",47),i=e.controls));var o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new Ud(e.interactions.slice()):(co(typeof e.interactions.getArray=="function",48),o=e.interactions));var a;return e.overlays!==void 0?Array.isArray(e.overlays)?a=new Ud(e.overlays.slice()):(co(typeof e.overlays.getArray=="function",49),a=e.overlays):a=new Ud,{controls:i,interactions:o,keyboardEventTarget:t,overlays:a,values:n}}const jse=Rse;var Wse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nse=function(e){Wse(t,e);function t(n){var r=e.call(this)||this,i=n.element;return i&&!n.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],n.render&&(r.render=n.render),n.target&&r.setTarget(n.target),r}return t.prototype.disposeInternal=function(){x4(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(n){this.map_&&x4(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)is(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=n,n){var o=this.target_?this.target_:n.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==F1&&this.listenerKeys.push(Eo(n,Ip.POSTRENDER,this.render,this)),n.render()}},t.prototype.render=function(n){},t.prototype.setTarget=function(n){this.target_=typeof n=="string"?document.getElementById(n):n},t}(Lh);const D8=Nse;var Gse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$se=function(e){Gse(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",h=i.collapseLabel!==void 0?i.collapseLabel:"›",g=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof h=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=h,r.collapseLabel_.className=g):r.collapseLabel_=h;var _=i.label!==void 0?i.label:"i";typeof _=="string"?(r.label_=document.createElement("span"),r.label_.textContent=_,r.label_.className=s):r.label_=_;var E=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=a,r.toggleButton_.appendChild(E),r.toggleButton_.addEventListener(ji.CLICK,r.handleClick_.bind(r),!1);var O=o+" "+pw+" "+B8+(r.collapsed_&&r.collapsible_?" "+rP:"")+(r.collapsible_?"":" ol-uncollapsible"),K=r.element;return K.className=O,K.appendChild(r.toggleButton_),K.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return t.prototype.collectSourceAttributions_=function(n){for(var r={},i=[],o=!0,a=n.layerStatesArray,s=0,h=a.length;s<h;++s){var g=a[s];if(b4(g,n.viewState)){var _=g.layer.getSource();if(_){var E=_.getAttributions();if(E){var O=E(n);if(O)if(o=o&&_.getAttributionsCollapsible()!==!1,Array.isArray(O))for(var K=0,D=O.length;K<D;++K)O[K]in r||(i.push(O[K]),r[O[K]]=!0);else O in r||(i.push(O),r[O]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(n){if(!n){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(n),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Q1(r,this.renderedAttributions_)){Vj(this.ulElement_);for(var o=0,a=r.length;o<a;++o){var s=document.createElement("li");s.innerHTML=r[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=r}},t.prototype.handleClick_=function(n){n.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(rP),this.collapsed_?oP(this.collapseLabel_,this.label_):oP(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(n){this.collapsible_!==n&&(this.collapsible_=n,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(n){this.userCollapsed_=n,!(!this.collapsible_||this.collapsed_===n)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(n){this.updateElement_(n.frameState)},t}(D8);const Qse=$se;var Yse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qse=function(e){Yse(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"⇧",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof a=="string"?(r.label_=document.createElement("span"),r.label_.className=s,r.label_.textContent=a):(r.label_=a,r.label_.classList.add(s));var h=i.tipLabel?i.tipLabel:"Reset rotation",g=document.createElement("button");g.className=o+"-reset",g.setAttribute("type","button"),g.title=h,g.appendChild(r.label_),g.addEventListener(ji.CLICK,r.handleClick_.bind(r),!1);var _=o+" "+pw+" "+B8,E=r.element;return E.className=_,E.appendChild(g),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(b2),r}return t.prototype.handleClick_=function(n){n.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var n=this.getMap(),r=n.getView();if(r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?r.animate({rotation:0,duration:this.duration_,easing:Ev}):r.setRotation(0))}},t.prototype.render=function(n){var r=n.frameState;if(r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(b2);!a&&i===0?this.element.classList.add(b2):a&&i!==0&&this.element.classList.remove(b2)}this.label_.style.transform=o}this.rotation_=i}},t}(D8);const Hse=qse;var Vse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zse=function(e){Vse(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",h=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",g=i.zoomInLabel!==void 0?i.zoomInLabel:"+",_=i.zoomOutLabel!==void 0?i.zoomOutLabel:"–",E=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",O=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",K=document.createElement("button");K.className=s,K.setAttribute("type","button"),K.title=E,K.appendChild(typeof g=="string"?document.createTextNode(g):g),K.addEventListener(ji.CLICK,r.handleClick_.bind(r,a),!1);var D=document.createElement("button");D.className=h,D.setAttribute("type","button"),D.title=O,D.appendChild(typeof _=="string"?document.createTextNode(_):_),D.addEventListener(ji.CLICK,r.handleClick_.bind(r,-a),!1);var Y=o+" "+pw+" "+B8,ee=r.element;return ee.className=Y,ee.appendChild(K),ee.appendChild(D),r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleClick_=function(n,r){r.preventDefault(),this.zoomByDelta_(n)},t.prototype.zoomByDelta_=function(n){var r=this.getMap(),i=r.getView();if(i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+n);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Ev})):i.setZoom(a)}}},t}(D8);const Xse=Zse;var Jse=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cA={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},ele=function(e){Jse(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un,r.options=n,r.id=n.id,r.insertFirst=n.insertFirst!==void 0?n.insertFirst:!0,r.stopEvent=n.stopEvent!==void 0?n.stopEvent:!0,r.element=document.createElement("div"),r.element.className=n.className!==void 0?n.className:"ol-overlay-container "+ese,r.element.style.position="absolute",r.element.style.pointerEvents="auto";var i=n.autoPan;return i&&typeof i!="object"&&(i={animation:n.autoPanAnimation,margin:n.autoPanMargin}),r.autoPan=i||!1,r.rendered={transform_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addChangeListener(cA.ELEMENT,r.handleElementChanged),r.addChangeListener(cA.MAP,r.handleMapChanged),r.addChangeListener(cA.OFFSET,r.handleOffsetChanged),r.addChangeListener(cA.POSITION,r.handlePositionChanged),r.addChangeListener(cA.POSITIONING,r.handlePositioningChanged),n.element!==void 0&&r.setElement(n.element),r.setOffset(n.offset!==void 0?n.offset:[0,0]),r.setPositioning(n.positioning||"top-left"),n.position!==void 0&&r.setPosition(n.position),r}return t.prototype.getElement=function(){return this.get(cA.ELEMENT)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(cA.MAP)||null},t.prototype.getOffset=function(){return this.get(cA.OFFSET)},t.prototype.getPosition=function(){return this.get(cA.POSITION)},t.prototype.getPositioning=function(){return this.get(cA.POSITIONING)},t.prototype.handleElementChanged=function(){Vj(this.element);var n=this.getElement();n&&this.element.appendChild(n)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(x4(this.element),is(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var n=this.getMap();if(n){this.mapPostrenderListenerKey=Eo(n,Ip.POSTRENDER,this.render,this),this.updatePixelPosition();var r=this.stopEvent?n.getOverlayContainerStopEvent():n.getOverlayContainer();this.insertFirst?r.insertBefore(this.element,r.childNodes[0]||null):r.appendChild(this.element),this.performAutoPan()}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(n){this.set(cA.ELEMENT,n)},t.prototype.setMap=function(n){this.set(cA.MAP,n)},t.prototype.setOffset=function(n){this.set(cA.OFFSET,n)},t.prototype.setPosition=function(n){this.set(cA.POSITION,n)},t.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},t.prototype.panIntoView=function(n){var r=this.getMap();if(!(!r||!r.getTargetElement()||!this.get(cA.POSITION))){var i=this.getRect(r.getTargetElement(),r.getSize()),o=this.getElement(),a=this.getRect(o,[nse(o),rse(o)]),s=n||{},h=s.margin===void 0?20:s.margin;if(!Nm(i,a)){var g=a[0]-i[0],_=i[2]-a[2],E=a[1]-i[1],O=i[3]-a[3],K=[0,0];if(g<0?K[0]=g-h:_<0&&(K[0]=Math.abs(_)+h),E<0?K[1]=E-h:O<0&&(K[1]=Math.abs(O)+h),K[0]!==0||K[1]!==0){var D=r.getView().getCenterInternal(),Y=r.getPixelFromCoordinateInternal(D);if(!Y)return;var ee=[Y[0]+K[0],Y[1]+K[1]],H=s.animation||{};r.getView().animateInternal({center:r.getCoordinateFromPixelInternal(ee),duration:H.duration,easing:H.easing})}}}},t.prototype.getRect=function(n,r){var i=n.getBoundingClientRect(),o=i.left+window.pageXOffset,a=i.top+window.pageYOffset;return[o,a,o+r[0],a+r[1]]},t.prototype.setPositioning=function(n){this.set(cA.POSITIONING,n)},t.prototype.setVisible=function(n){this.rendered.visible!==n&&(this.element.style.display=n?"":"none",this.rendered.visible=n)},t.prototype.updatePixelPosition=function(){var n=this.getMap(),r=this.getPosition();if(!n||!n.isRendered()||!r){this.setVisible(!1);return}var i=n.getPixelFromCoordinate(r),o=n.getSize();this.updateRenderedPosition(i,o)},t.prototype.updateRenderedPosition=function(n,r){var i=this.element.style,o=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(n[0]+o[0])+"px",h=Math.round(n[1]+o[1])+"px",g="0%",_="0%";a=="bottom-right"||a=="center-right"||a=="top-right"?g="-100%":(a=="bottom-center"||a=="center-center"||a=="top-center")&&(g="-50%"),a=="bottom-left"||a=="bottom-center"||a=="bottom-right"?_="-100%":(a=="center-left"||a=="center-center"||a=="center-right")&&(_="-50%");var E="translate(".concat(g,", ").concat(_,") translate(").concat(s,", ").concat(h,")");this.rendered.transform_!=E&&(this.rendered.transform_=E,i.transform=E,i.msTransform=E)},t.prototype.getOptions=function(){return this.options},t}(Lh);function tle(e){var t=e||{},n=new Ud,r=t.zoom!==void 0?t.zoom:!0;r&&n.push(new Xse(t.zoomOptions));var i=t.rotate!==void 0?t.rotate:!0;i&&n.push(new Hse(t.rotateOptions));var o=t.attribution!==void 0?t.attribution:!0;return o&&n.push(new Qse(t.attributionOptions)),n}const dP={ACTIVE:"active"};var nle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rle=function(e){nle(t,e);function t(n){var r=e.call(this)||this;return r.on,r.once,r.un,n&&n.handleEvent&&(r.handleEvent=n.handleEvent),r.map_=null,r.setActive(!0),r}return t.prototype.getActive=function(){return this.get(dP.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(n){return!0},t.prototype.setActive=function(n){this.set(dP.ACTIVE,n)},t.prototype.setMap=function(n){this.map_=n},t}(Lh);function ile(e,t,n){var r=e.getCenterInternal();if(r){var i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:kse,center:e.getConstrainedCenter(i)})}}function F8(e,t,n,r){var i=e.getZoom();if(i!==void 0){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:r!==void 0?r:250,easing:Ev})}}const Fb=rle;var ole=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ale=function(e){ole(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==rl.DBLCLICK){var i=n.originalEvent,o=n.map,a=n.coordinate,s=i.shiftKey?-this.delta_:this.delta_,h=o.getView();F8(h,s,a,this.duration_),i.preventDefault(),r=!0}return!r},t}(Fb);const sle=ale;var lle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ule=function(e){lle(t,e);function t(n){var r=this,i=n||{};return r=e.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.targetPointers=[],r}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(n){return!1},t.prototype.handleDragEvent=function(n){},t.prototype.handleEvent=function(n){if(!n.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(n),this.handlingDownUpSequence){if(n.type==rl.POINTERDRAG)this.handleDragEvent(n),n.originalEvent.preventDefault();else if(n.type==rl.POINTERUP){var i=this.handleUpEvent(n);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(n.type==rl.POINTERDOWN){var o=this.handleDownEvent(n);this.handlingDownUpSequence=o,r=this.stopDown(o)}else n.type==rl.POINTERMOVE&&this.handleMoveEvent(n);return!r},t.prototype.handleMoveEvent=function(n){},t.prototype.handleUpEvent=function(n){return!1},t.prototype.stopDown=function(n){return n},t.prototype.updateTrackedPointers_=function(n){n.activePointers&&(this.targetPointers=n.activePointers)},t}(Fb);function L8(e){for(var t=e.length,n=0,r=0,i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return[n/t,r/t]}const Lb=ule;function BO(e){var t=arguments;return function(n){for(var r=!0,i=0,o=t.length;i<o&&(r=r&&t[i](n),!!r);++i);return r}}var Ale=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},cle=function(e){var t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},oW=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?cle(e):!0},dle=Ry,aW=function(e){var t=e.originalEvent;return t.button==0&&!(bie&&xie&&t.ctrlKey)},sW=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},hle=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},lW=function(e){var t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},kS=function(e){var t=e.originalEvent;return co(t!==void 0,56),t.pointerType=="mouse"},fle=function(e){var t=e.originalEvent;return co(t!==void 0,56),t.isPrimary&&t.button===0},ple=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mle=function(e){ple(t,e);function t(n){var r=e.call(this,{stopDown:iw})||this,i=n||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:BO(sW,fle);return r.condition_=i.onFocusOnly?BO(oW,o):o,r.noKinetic_=!1,r}return t.prototype.handleDragEvent=function(n){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=L8(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=n.map,s=a.getView();Jie(o,s.getResolution()),h8(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,n.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(n){var r=n.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),h=r.getPixelFromCoordinateInternal(s),g=r.getCoordinateFromPixelInternal([h[0]-o*Math.cos(a),h[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(g),duration:500,easing:Ev})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>0&&this.condition_(n)){var r=n.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(Lb);const gle=mle;var yle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vle=function(e){yle(t,e);function t(n){var r=this,i=n||{};return r=e.call(this,{stopDown:iw})||this,r.condition_=i.condition?i.condition:Ale,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(n){if(kS(n)){var r=n.map,i=r.getView();if(i.getConstraints().rotation!==K8){var o=r.getSize(),a=n.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var h=s-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=s}}},t.prototype.handleUpEvent=function(n){if(!kS(n))return!0;var r=n.map,i=r.getView();return i.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(n){if(!kS(n))return!1;if(aW(n)&&this.condition_(n)){var r=n.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(Lb),_le=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cle=function(e){_le(t,e);function t(n){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+n,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var n=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(n[0],r[0])+i,o.top=Math.min(n[1],r[1])+i,o.width=Math.abs(r[0]-n[0])+i,o.height=Math.abs(r[1]-n[1])+i},t.prototype.setMap=function(n){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=n,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(n,r){this.startPixel_=n,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var n=this.startPixel_,r=this.endPixel_,i=[n,[n[0],r[1]],r,[r[0],n[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new nb([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(o8);const ble=Cle;var uW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),M2={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},TS=function(e){uW(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return t}(Jp),xle=function(e){uW(t,e);function t(n){var r=e.call(this)||this;r.on,r.once,r.un;var i=n||{};return r.box_=new ble(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:aW,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return t.prototype.defaultBoxEndCondition=function(n,r,i){var o=i[0]-r[0],a=i[1]-r[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(n){this.box_.setPixels(this.startPixel_,n.pixel),this.dispatchEvent(new TS(M2.BOXDRAG,n.coordinate,n))},t.prototype.handleUpEvent=function(n){this.box_.setMap(null);var r=this.boxEndCondition_(n,this.startPixel_,n.pixel);return r&&this.onBoxEnd(n),this.dispatchEvent(new TS(r?M2.BOXEND:M2.BOXCANCEL,n.coordinate,n)),!1},t.prototype.handleDownEvent=function(n){return this.condition_(n)?(this.startPixel_=n.pixel,this.box_.setMap(n.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new TS(M2.BOXSTART,n.coordinate,n)),!0):!1},t.prototype.onBoxEnd=function(n){},t}(Lb);const wle=xle;var Mle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sle=function(e){Mle(t,e);function t(n){var r=this,i=n||{},o=i.condition?i.condition:hle;return r=e.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return t.prototype.onBoxEnd=function(n){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),h=i.getResolution()/s;o=o.clone(),o.scale(h*h)}i.fitInternal(o,{duration:this.duration_,easing:Ev})},t}(wle);const Ele=Sle,N0={LEFT:37,UP:38,RIGHT:39,DOWN:40};var Ole=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ble=function(e){Ole(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.defaultCondition_=function(o){return sW(o)&&lW(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==ji.KEYDOWN){var i=n.originalEvent,o=i.keyCode;if(this.condition_(n)&&(o==N0.DOWN||o==N0.LEFT||o==N0.RIGHT||o==N0.UP)){var a=n.map,s=a.getView(),h=s.getResolution()*this.pixelDelta_,g=0,_=0;o==N0.DOWN?_=-h:o==N0.LEFT?g=-h:o==N0.RIGHT?g=h:_=h;var E=[g,_];h8(E,s.getRotation()),ile(s,E,this.duration_),i.preventDefault(),r=!0}}return!r},t}(Fb),Ile=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kle=function(e){Ile(t,e);function t(n){var r=e.call(this)||this,i=n||{};return r.condition_=i.condition?i.condition:lW,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return t.prototype.handleEvent=function(n){var r=!1;if(n.type==ji.KEYDOWN||n.type==ji.KEYPRESS){var i=n.originalEvent,o=i.charCode;if(this.condition_(n)&&(o==43||o==45)){var a=n.map,s=o==43?this.delta_:-this.delta_,h=a.getView();F8(h,s,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},t}(Fb);const Tle=kle;var Ple=function(){function e(t,n,r){this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(t,n){this.points_.push(t,n,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;for(var r=n-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[n]-this.points_[r],a=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),Kle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PS={TRACKPAD:"trackpad",WHEEL:"wheel"},Dle=function(e){Kle(t,e);function t(n){var r=this,i=n||{};r=e.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:dle;return r.condition_=i.onFocusOnly?BO(oW,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var n=this.getMap();if(n){var r=n.getView();r.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}},t.prototype.handleEvent=function(n){if(!this.condition_(n))return!0;var r=n.type;if(r!==ji.WHEEL)return!0;var i=n.map,o=n.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=n.coordinate);var a;if(n.type==ji.WHEEL&&(a=o.deltaY,_ie&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=fj),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?PS.TRACKPAD:PS.WHEEL);var h=i.getView();if(this.mode_===PS.TRACKPAD&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var g=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),g),!1},t.prototype.handleWheelZoom_=function(n){var r=n.getView();r.getAnimating()&&r.cancelAnimations();var i=-Kl(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),F8(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(n){this.useAnchor_=n,n||(this.lastAnchor_=null)},t}(Fb);const Fle=Dle;var Lle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ule=function(e){Lle(t,e);function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=iw),r=e.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(n){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=s}this.lastAngle_=a;var h=n.map,g=h.getView();if(g.getConstraints().rotation!==K8){var _=h.getViewport().getBoundingClientRect(),E=L8(this.targetPointers);E[0]-=_.left,E[1]-=_.top,this.anchor_=h.getCoordinateFromPixelInternal(E),this.rotating_&&(h.render(),g.adjustRotationInternal(r,this.anchor_))}},t.prototype.handleUpEvent=function(n){if(this.targetPointers.length<2){var r=n.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(Lb),Rle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zle=function(e){Rle(t,e);function t(n){var r=this,i=n||{},o=i;return o.stopDown||(o.stopDown=iw),r=e.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return t.prototype.handleDragEvent=function(n){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,h=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(r=this.lastDistance_/h),this.lastDistance_=h;var g=n.map,_=g.getView();r!=1&&(this.lastScaleDelta_=r);var E=g.getViewport().getBoundingClientRect(),O=L8(this.targetPointers);O[0]-=E.left,O[1]-=E.top,this.anchor_=g.getCoordinateFromPixelInternal(O),g.render(),_.adjustResolutionInternal(r,this.anchor_)},t.prototype.handleUpEvent=function(n){if(this.targetPointers.length<2){var r=n.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},t.prototype.handleDownEvent=function(n){if(this.targetPointers.length>=2){var r=n.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(Lb);const jle=zle;function Wle(e,t,n,r,i){AW(e,t,n||0,r||e.length-1,i||Nle)}function AW(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),h=.5*Math.exp(2*s/3),g=.5*Math.sqrt(s*h*(o-h)/o)*(a-o/2<0?-1:1),_=Math.max(n,Math.floor(t-a*h/o+g)),E=Math.min(r,Math.floor(t+(o-a)*h/o+g));AW(e,t,_,E,i)}var O=e[t],K=n,D=r;for(S_(e,n,t),i(e[r],O)>0&&S_(e,n,r);K<D;){for(S_(e,K,D),K++,D--;i(e[K],O)<0;)K++;for(;i(e[D],O)>0;)D--}i(e[n],O)===0?S_(e,n,D):(D++,S_(e,D,r)),D<=t&&(n=D+1),t<=D&&(r=D-1)}}function S_(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Nle(e,t){return e<t?-1:e>t?1:0}let cW=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!E2(t,n))return r;const i=this.toBBox,o=[];for(;n;){for(let a=0;a<n.children.length;a++){const s=n.children[a],h=n.leaf?i(s):s;E2(t,h)&&(n.leaf?r.push(s):DS(t,h)?this._all(s,r):o.push(s))}n=o.pop()}return r}collides(t){let n=this.data;if(!E2(t,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const o=n.children[i],a=n.leaf?this.toBBox(o):o;if(E2(t,a)){if(n.leaf||DS(t,a))return!0;r.push(o)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Jg([]),this}remove(t,n){if(!t)return this;let r=this.data;const i=this.toBBox(t),o=[],a=[];let s,h,g;for(;r||o.length;){if(r||(r=o.pop(),h=o[o.length-1],s=a.pop(),g=!0),r.leaf){const _=Gle(t,r.children,n);if(_!==-1)return r.children.splice(_,1),o.push(r),this._condense(o),this}!g&&!r.leaf&&DS(r,i)?(o.push(r),a.push(s),s=0,h=r,r=r.children[0]):h?(s++,r=h.children[s],g=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,i){const o=r-n+1;let a=this._maxEntries,s;if(o<=a)return s=Jg(t.slice(n,r+1)),Fg(s,this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=Jg([]),s.leaf=!1,s.height=i;const h=Math.ceil(o/a),g=h*Math.ceil(Math.sqrt(a));hP(t,n,r,g,this.compareMinX);for(let _=n;_<=r;_+=g){const E=Math.min(_+g-1,r);hP(t,_,E,h,this.compareMinY);for(let O=_;O<=E;O+=h){const K=Math.min(O+h-1,E);s.children.push(this._build(t,O,K,i-1))}}return Fg(s,this.toBBox),s}_chooseSubtree(t,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let o=1/0,a=1/0,s;for(let h=0;h<n.children.length;h++){const g=n.children[h],_=KS(g),E=Yle(t,g)-_;E<a?(a=E,o=_<o?_:o,s=g):E===a&&_<o&&(o=_,s=g)}n=s||n.children[0]}return n}_insert(t,n,r){const i=r?t:this.toBBox(t),o=[],a=this._chooseSubtree(i,this.data,n,o);for(a.children.push(t),Q_(a,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)}_split(t,n){const r=t[n],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const a=this._chooseSplitIndex(r,o,i),s=Jg(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,Fg(r,this.toBBox),Fg(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(r,s)}_splitRoot(t,n){this.data=Jg([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Fg(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let i,o=1/0,a=1/0;for(let s=n;s<=r-n;s++){const h=$_(t,0,s,this.toBBox),g=$_(t,s,r,this.toBBox),_=qle(h,g),E=KS(h)+KS(g);_<o?(o=_,i=s,a=E<a?E:a):_===o&&E<a&&(a=E,i=s)}return i||r-n}_chooseSplitAxis(t,n,r){const i=t.leaf?this.compareMinX:$le,o=t.leaf?this.compareMinY:Qle,a=this._allDistMargin(t,n,r,i),s=this._allDistMargin(t,n,r,o);a<s&&t.children.sort(i)}_allDistMargin(t,n,r,i){t.children.sort(i);const o=this.toBBox,a=$_(t,0,n,o),s=$_(t,r-n,r,o);let h=S2(a)+S2(s);for(let g=n;g<r-n;g++){const _=t.children[g];Q_(a,t.leaf?o(_):_),h+=S2(a)}for(let g=r-n-1;g>=n;g--){const _=t.children[g];Q_(s,t.leaf?o(_):_),h+=S2(s)}return h}_adjustParentBBoxes(t,n,r){for(let i=r;i>=0;i--)Q_(n[i],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():Fg(t[n],this.toBBox)}};function Gle(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function Fg(e,t){$_(e,0,e.children.length,t,e)}function $_(e,t,n,r,i){i||(i=Jg(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<n;o++){const a=e.children[o];Q_(i,e.leaf?r(a):a)}return i}function Q_(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function $le(e,t){return e.minX-t.minX}function Qle(e,t){return e.minY-t.minY}function KS(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function S2(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Yle(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function qle(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function DS(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function E2(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Jg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hP(e,t,n,r,i){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=r)continue;const a=t+Math.ceil((n-t)/r/2)*r;Wle(e,a,t,n,i),o.push(t,a,a,n)}}const ns={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Hle=function(){function e(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=RA(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return e.prototype.clone=function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getDisplacement=function(){return this.displacement_},e.prototype.getDeclutterMode=function(){return this.declutterMode_},e.prototype.getAnchor=function(){return vi()},e.prototype.getImage=function(t){return vi()},e.prototype.getHitDetectionImage=function(){return vi()},e.prototype.getPixelRatio=function(t){return 1},e.prototype.getImageState=function(){return vi()},e.prototype.getImageSize=function(){return vi()},e.prototype.getOrigin=function(){return vi()},e.prototype.getSize=function(){return vi()},e.prototype.setDisplacement=function(t){this.displacement_=t},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=RA(t)},e.prototype.listenImageChange=function(t){vi()},e.prototype.load=function(){vi()},e.prototype.unlistenImageChange=function(t){vi()},e}();const dW=Hle;function Kf(e){return Array.isArray(e)?Qj(e):e}var Vle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zle=function(e){Vle(t,e);function t(n){var r=this,i=n.rotateWithView!==void 0?n.rotateWithView:!1;return r=e.call(this,{opacity:1,rotateWithView:i,rotation:n.rotation!==void 0?n.rotation:0,scale:n.scale!==void 0?n.scale:1,displacement:n.displacement!==void 0?n.displacement:[0,0],declutterMode:n.declutterMode})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=n.fill!==void 0?n.fill:null,r.origin_=[0,0],r.points_=n.points,r.radius_=n.radius!==void 0?n.radius:n.radius1,r.radius2_=n.radius2,r.angle_=n.angle!==void 0?n.angle:0,r.stroke_=n.stroke!==void 0?n.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return t.prototype.clone=function(){var n=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(n)?n.slice():n,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.getAnchor=function(){var n=this.size_;if(!n)return null;var r=this.getDisplacement();return[n[0]/2-r[0],n[1]/2+r[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(n){this.fill_=n,this.render()},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(n){var r=this.canvas_[n];if(!r){var i=this.renderOptions_,o=Sc(i.size*n,i.size*n);this.draw_(i,o,n),r=o.canvas,this.canvas_[n]=r}return r},t.prototype.getPixelRatio=function(n){return n},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return ns.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(n){this.stroke_=n,this.render()},t.prototype.listenImageChange=function(n){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(n){},t.prototype.calculateLineJoinSize_=function(n,r,i){if(r===0||this.points_===1/0||n!=="bevel"&&n!=="miter")return r;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var h=this.radius2_===void 0?this.points_:this.points_*2,g=2*Math.PI/h,_=a*Math.sin(g),E=Math.sqrt(a*a-_*_),O=o-E,K=Math.sqrt(_*_+O*O),D=K/_;if(n==="miter"&&D<=i)return D*r;var Y=r/2/D,ee=r/2*(O/K),H=Math.sqrt((o+Y)*(o+Y)+ee*ee),N=H-o;if(this.radius2_===void 0||n==="bevel")return N*2;var Z=o*Math.sin(g),ue=Math.sqrt(o*o-Z*Z),ye=a-ue,be=Math.sqrt(Z*Z+ye*ye),X=be/Z;if(X<=i){var se=X*r/2-a-o;return 2*Math.max(N,se)}return N*2},t.prototype.createRenderOptions=function(){var n=Av,r=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=sb),a=Kf(a),s=this.stroke_.getWidth(),s===void 0&&(s=ub),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),n=this.stroke_.getLineJoin(),n===void 0&&(n=Av),r=this.stroke_.getMiterLimit(),r===void 0&&(r=ab));var h=this.calculateLineJoinSize_(n,s,r),g=Math.max(this.radius_,this.radius2_||0),_=Math.ceil(2*g+h);return{strokeStyle:a,strokeWidth:s,size:_,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var n=this.renderOptions_.size;this.canvas_={},this.size_=[n,n]},t.prototype.draw_=function(n,r,i){if(r.scale(i,i),r.translate(n.size/2,n.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=Gp),r.fillStyle=Kf(o),r.fill()}this.stroke_&&(r.strokeStyle=n.strokeStyle,r.lineWidth=n.strokeWidth,r.setLineDash&&n.lineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit,r.stroke())},t.prototype.createHitDetectionCanvas_=function(n){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=_4(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=Sc(n.size,n.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(n,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(n){var r=this.points_,i=this.radius_;if(r===1/0)n.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/r,h=0;h<r;h++){var g=a+h*s,_=h%2===0?i:o;n.lineTo(_*Math.cos(g),_*Math.sin(g))}n.closePath()}},t.prototype.drawHitDetectionCanvas_=function(n,r){r.translate(n.size/2,n.size/2),this.createPath_(r),r.fillStyle=Gp,r.fill(),this.stroke_&&(r.strokeStyle=n.strokeStyle,r.lineWidth=n.strokeWidth,n.lineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit,r.stroke())},t}(dW);const Xle=Zle;var Jle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hW=function(e){Jle(t,e);function t(n){var r=n||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:r.scale!==void 0?r.scale:1,rotation:r.rotation!==void 0?r.rotation:0,rotateWithView:r.rotateWithView!==void 0?r.rotateWithView:!1,displacement:r.displacement!==void 0?r.displacement:[0,0],declutterMode:r.declutterMode})||this}return t.prototype.clone=function(){var n=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(n)?n.slice():n,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return r.setOpacity(this.getOpacity()),r},t.prototype.setRadius=function(n){this.radius_=n,this.render()},t}(Xle),yy=function(){function e(t){var n=t||{};this.color_=n.color!==void 0?n.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(t){this.color_=t},e}(),Y_=function(){function e(t){var n=t||{};this.color_=n.color!==void 0?n.color:null,this.lineCap_=n.lineCap,this.lineDash_=n.lineDash!==void 0?n.lineDash:null,this.lineDashOffset_=n.lineDashOffset,this.lineJoin_=n.lineJoin,this.miterLimit_=n.miterLimit,this.width_=n.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(t){this.color_=t},e.prototype.setLineCap=function(t){this.lineCap_=t},e.prototype.setLineDash=function(t){this.lineDash_=t},e.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},e.prototype.setLineJoin=function(t){this.lineJoin_=t},e.prototype.setMiterLimit=function(t){this.miterLimit_=t},e.prototype.setWidth=function(t){this.width_=t},e}(),J0=function(){function e(t){var n=t||{};this.geometry_=null,this.geometryFunction_=fP,n.geometry!==void 0&&this.setGeometry(n.geometry),this.fill_=n.fill!==void 0?n.fill:null,this.image_=n.image!==void 0?n.image:null,this.renderer_=n.renderer!==void 0?n.renderer:null,this.hitDetectionRenderer_=n.hitDetectionRenderer!==void 0?n.hitDetectionRenderer:null,this.stroke_=n.stroke!==void 0?n.stroke:null,this.text_=n.text!==void 0?n.text:null,this.zIndex_=n.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(t){this.renderer_=t},e.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(t){this.text_=t},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=fP,this.geometry_=t},e.prototype.setZIndex=function(t){this.zIndex_=t},e}();function eue(e){var t;if(typeof e=="function")t=e;else{var n;if(Array.isArray(e))n=e;else{co(typeof e.getZIndex=="function",41);var r=e;n=[r]}t=function(){return n}}return t}var FS=null;function tue(e,t){if(!FS){var n=new yy({color:"rgba(255,255,255,0.4)"}),r=new Y_({color:"#3399CC",width:1.25});FS=[new J0({image:new hW({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return FS}function fP(e){return e.getGeometry()}var nue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pP={RENDER_ORDER:"renderOrder"},rue=function(e){nue(t,e);function t(n){var r=this,i=n||{},o=Cl({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=e.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(n){return e.prototype.getFeatures.call(this,n)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(pP.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(n){n.declutterTree||(n.declutterTree=new cW(9)),this.getRenderer().renderDeclutter(n)},t.prototype.setRenderOrder=function(n){this.set(pP.RENDER_ORDER,n)},t.prototype.setStyle=function(n){this.style_=n!==void 0?n:tue,this.styleFunction_=n===null?void 0:eue(this.style_),this.changed()},t}(fw);const fW=rue;var Ai={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},O2=[Ai.FILL],$m=[Ai.STROKE],p1=[Ai.BEGIN_PATH],mP=[Ai.CLOSE_PATH],iue=function(){function e(){}return e.prototype.drawCustom=function(t,n,r,i){},e.prototype.drawGeometry=function(t){},e.prototype.setStyle=function(t){},e.prototype.drawCircle=function(t,n){},e.prototype.drawFeature=function(t,n){},e.prototype.drawGeometryCollection=function(t,n){},e.prototype.drawLineString=function(t,n){},e.prototype.drawMultiLineString=function(t,n){},e.prototype.drawMultiPoint=function(t,n){},e.prototype.drawMultiPolygon=function(t,n){},e.prototype.drawPoint=function(t,n){},e.prototype.drawPolygon=function(t,n){},e.prototype.drawText=function(t,n){},e.prototype.setFillStrokeStyle=function(t,n){},e.prototype.setImageStyle=function(t,n){},e.prototype.setTextStyle=function(t,n){},e}();const pW=iue;var oue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aue=function(e){oue(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.tolerance=n,a.maxExtent=r,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return t.prototype.applyPixelRatio=function(n){var r=this.pixelRatio;return r==1?n:n.map(function(i){return i*r})},t.prototype.appendFlatPointCoordinates=function(n,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,h=0,g=n.length;h<g;h+=r)o[0]=n[h],o[1]=n[h+1],Pb(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},t.prototype.appendFlatLineCoordinates=function(n,r,i,o,a,s){var h=this.coordinates,g=h.length,_=this.getBufferedMaxExtent();s&&(r+=o);var E=n[r],O=n[r+1],K=this.tmpCoordinate_,D=!0,Y,ee,H;for(Y=r+o;Y<i;Y+=o)K[0]=n[Y],K[1]=n[Y+1],H=AO(_,K),H!==ee?(D&&(h[g++]=E,h[g++]=O,D=!1),h[g++]=K[0],h[g++]=K[1]):H===yu.INTERSECTING?(h[g++]=K[0],h[g++]=K[1],D=!1):D=!0,E=K[0],O=K[1],ee=H;return(a&&D||Y===r+o)&&(h[g++]=E,h[g++]=O),g},t.prototype.drawCustomCoordinates_=function(n,r,i,o,a){for(var s=0,h=i.length;s<h;++s){var g=i[s],_=this.appendFlatLineCoordinates(n,r,g,o,!1,!1);a.push(_),r=g}return r},t.prototype.drawCustom=function(n,r,i,o){this.beginGeometry(n,r);var a=n.getType(),s=n.getStride(),h=this.coordinates.length,g,_,E,O,K;switch(a){case"MultiPolygon":g=n.getOrientedFlatCoordinates(),O=[];var D=n.getEndss();K=0;for(var Y=0,ee=D.length;Y<ee;++Y){var H=[];K=this.drawCustomCoordinates_(g,K,D[Y],s,H),O.push(H)}this.instructions.push([Ai.CUSTOM,h,O,n,i,yO]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,O,n,o||i,yO]);break;case"Polygon":case"MultiLineString":E=[],g=a=="Polygon"?n.getOrientedFlatCoordinates():n.getFlatCoordinates(),K=this.drawCustomCoordinates_(g,0,n.getEnds(),s,E),this.instructions.push([Ai.CUSTOM,h,E,n,i,eb]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,E,n,o||i,eb]);break;case"LineString":case"Circle":g=n.getFlatCoordinates(),_=this.appendFlatLineCoordinates(g,0,g.length,s,!1,!1),this.instructions.push([Ai.CUSTOM,h,_,n,i,Gm]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,_,n,o||i,Gm]);break;case"MultiPoint":g=n.getFlatCoordinates(),_=this.appendFlatPointCoordinates(g,s),_>h&&(this.instructions.push([Ai.CUSTOM,h,_,n,i,Gm]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,_,n,o||i,Gm]));break;case"Point":g=n.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),_=this.coordinates.length,this.instructions.push([Ai.CUSTOM,h,_,n,i]),this.hitDetectionInstructions.push([Ai.CUSTOM,h,_,n,o||i]);break}this.endGeometry(r)},t.prototype.beginGeometry=function(n,r){this.beginGeometryInstruction1_=[Ai.BEGIN_GEOMETRY,r,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ai.BEGIN_GEOMETRY,r,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var n=this.hitDetectionInstructions;n.reverse();var r,i=n.length,o,a,s=-1;for(r=0;r<i;++r)o=n[r],a=o[0],a==Ai.END_GEOMETRY?s=r:a==Ai.BEGIN_GEOMETRY&&(o[2]=r,sie(this.hitDetectionInstructions,s,r),s=-1)},t.prototype.setFillStrokeStyle=function(n,r){var i=this.state;if(n){var o=n.getColor();i.fillStyle=Kf(o||Gp)}else i.fillStyle=void 0;if(r){var a=r.getColor();i.strokeStyle=Kf(a||sb);var s=r.getLineCap();i.lineCap=s!==void 0?s:w4;var h=r.getLineDash();i.lineDash=h?h.slice():ib;var g=r.getLineDashOffset();i.lineDashOffset=g||ob;var _=r.getLineJoin();i.lineJoin=_!==void 0?_:Av;var E=r.getWidth();i.lineWidth=E!==void 0?E:ub;var O=r.getMiterLimit();i.miterLimit=O!==void 0?O:ab,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},t.prototype.createFill=function(n){var r=n.fillStyle,i=[Ai.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},t.prototype.applyStroke=function(n){this.instructions.push(this.createStroke(n))},t.prototype.createStroke=function(n){return[Ai.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth*this.pixelRatio,n.lineCap,n.lineJoin,n.miterLimit,this.applyPixelRatio(n.lineDash),n.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(n,r){var i=n.fillStyle;(typeof i!="string"||n.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,n)),n.currentFillStyle=i)},t.prototype.updateStrokeStyle=function(n,r){var i=n.strokeStyle,o=n.lineCap,a=n.lineDash,s=n.lineDashOffset,h=n.lineJoin,g=n.lineWidth,_=n.miterLimit;(n.currentStrokeStyle!=i||n.currentLineCap!=o||a!=n.currentLineDash&&!Q1(n.currentLineDash,a)||n.currentLineDashOffset!=s||n.currentLineJoin!=h||n.currentLineWidth!=g||n.currentMiterLimit!=_)&&(i!==void 0&&r.call(this,n),n.currentStrokeStyle=i,n.currentLineCap=o,n.currentLineDash=a,n.currentLineDashOffset=s,n.currentLineJoin=h,n.currentLineWidth=g,n.currentMiterLimit=_)},t.prototype.endGeometry=function(n){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[Ai.END_GEOMETRY,n];this.instructions.push(r),this.hitDetectionInstructions.push(r)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=yj(this.maxExtent),this.maxLineWidth>0)){var n=this.resolution*(this.maxLineWidth+1)/2;o0(this.bufferedMaxExtent_,n,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(pW);const Ub=aue;var sue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lue=function(e){sue(t,e);function t(n,r,i,o){var a=e.call(this,n,r,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterMode_=void 0,a.declutterImageWithText_=void 0,a}return t.prototype.drawPoint=function(n,r){if(this.image_){this.beginGeometry(n,r);var i=n.getFlatCoordinates(),o=n.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ai.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.drawMultiPoint=function(n,r){if(this.image_){this.beginGeometry(n,r);var i=n.getFlatCoordinates(),o=n.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Ai.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(n,r){var i=n.getAnchor(),o=n.getSize(),a=n.getOrigin();this.imagePixelRatio_=n.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=n.getHitDetectionImage(),this.image_=n.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=n.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=n.getRotateWithView(),this.rotation_=n.getRotation(),this.scale_=n.getScaleArray(),this.width_=o[0],this.declutterMode_=n.getDeclutterMode(),this.declutterImageWithText_=r},t}(Ub);const uue=lue;var Aue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cue=function(e){Aue(t,e);function t(n,r,i,o){return e.call(this,n,r,i,o)||this}return t.prototype.drawFlatCoordinates_=function(n,r,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(n,r,i,o,!1,!1),h=[Ai.MOVE_TO_LINE_TO,a,s];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i},t.prototype.drawLineString=function(n,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(n,r),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ib,ob],p1);var s=n.getFlatCoordinates(),h=n.getStride();this.drawFlatCoordinates_(s,0,s.length,h),this.hitDetectionInstructions.push($m),this.endGeometry(r)}},t.prototype.drawMultiLineString=function(n,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(n,r),this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],p1);for(var s=n.getEnds(),h=n.getFlatCoordinates(),g=n.getStride(),_=0,E=0,O=s.length;E<O;++E)_=this.drawFlatCoordinates_(h,_,s[E],g);this.hitDetectionInstructions.push($m),this.endGeometry(r)}},t.prototype.finish=function(){var n=this.state;return n.lastStroke!=null&&n.lastStroke!=this.coordinates.length&&this.instructions.push($m),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(n){n.lastStroke!=null&&n.lastStroke!=this.coordinates.length&&(this.instructions.push($m),n.lastStroke=this.coordinates.length),n.lastStroke=0,e.prototype.applyStroke.call(this,n),this.instructions.push(p1)},t}(Ub);const due=cue;var hue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fue=function(e){hue(t,e);function t(n,r,i,o){return e.call(this,n,r,i,o)||this}return t.prototype.drawFlatCoordinatess_=function(n,r,i,o){var a=this.state,s=a.fillStyle!==void 0,h=a.strokeStyle!==void 0,g=i.length;this.instructions.push(p1),this.hitDetectionInstructions.push(p1);for(var _=0;_<g;++_){var E=i[_],O=this.coordinates.length,K=this.appendFlatLineCoordinates(n,r,E,o,!0,!h),D=[Ai.MOVE_TO_LINE_TO,O,K];this.instructions.push(D),this.hitDetectionInstructions.push(D),h&&(this.instructions.push(mP),this.hitDetectionInstructions.push(mP)),r=E}return s&&(this.instructions.push(O2),this.hitDetectionInstructions.push(O2)),h&&(this.instructions.push($m),this.hitDetectionInstructions.push($m)),r},t.prototype.drawCircle=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,Gp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=n.getFlatCoordinates(),h=n.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,h,!1,!1);var _=[Ai.CIRCLE,g];this.instructions.push(p1,_),this.hitDetectionInstructions.push(p1,_),i.fillStyle!==void 0&&(this.instructions.push(O2),this.hitDetectionInstructions.push(O2)),i.strokeStyle!==void 0&&(this.instructions.push($m),this.hitDetectionInstructions.push($m)),this.endGeometry(r)}},t.prototype.drawPolygon=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,Gp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=n.getEnds(),h=n.getOrientedFlatCoordinates(),g=n.getStride();this.drawFlatCoordinatess_(h,0,s,g),this.endGeometry(r)}},t.prototype.drawMultiPolygon=function(n,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_FILL_STYLE,Gp]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ai.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=n.getEndss(),h=n.getOrientedFlatCoordinates(),g=n.getStride(),_=0,E=0,O=s.length;E<O;++E)_=this.drawFlatCoordinatess_(h,_,s[E],g);this.endGeometry(r)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var n=this.tolerance;if(n!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=X0(r[i],n);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var n=this.state,r=n.fillStyle;r!==void 0&&this.updateFillStyle(n,this.createFill),n.strokeStyle!==void 0&&this.updateStrokeStyle(n,this.applyStroke)},t}(Ub);const gP=fue,mW={POINT:"point",LINE:"line"};function pue(e,t,n,r,i){var o=n,a=n,s=0,h=0,g=n,_,E,O,K,D,Y,ee,H,N,Z;for(E=n;E<r;E+=i){var ue=t[E],ye=t[E+1];D!==void 0&&(N=ue-D,Z=ye-Y,K=Math.sqrt(N*N+Z*Z),ee!==void 0&&(h+=O,_=Math.acos((ee*N+H*Z)/(O*K)),_>e&&(h>s&&(s=h,o=g,a=E),h=0,g=E-i)),O=K,ee=N,H=Z),D=ue,Y=ye}return h+=K,h>s?[g,E]:[o,a]}var mue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pC={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},gue=function(e){mue(t,e);function t(n,r,i,o){var a=e.call(this,n,r,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return t.prototype.finish=function(){var n=e.prototype.finish.call(this);return n.textStates=this.textStates,n.fillStates=this.fillStates,n.strokeStates=this.strokeStates,n},t.prototype.drawText=function(n,r){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,h=s.length,g=n.getType(),_=null,E=n.getStride();if(a.placement===mW.LINE&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!_l(this.getBufferedMaxExtent(),n.getExtent()))return;var O=void 0;if(_=n.getFlatCoordinates(),g=="LineString")O=[_.length];else if(g=="MultiLineString")O=n.getEnds();else if(g=="Polygon")O=n.getEnds().slice(0,1);else if(g=="MultiPolygon"){var K=n.getEndss();O=[];for(var D=0,Y=K.length;D<Y;++D)O.push(K[D][0])}this.beginGeometry(n,r);for(var ee=a.textAlign,H=0,N=void 0,Z=0,ue=O.length;Z<ue;++Z){if(ee==null){var ye=pue(a.maxAngle,_,H,O[Z],E);H=ye[0],N=ye[1]}else N=O[Z];for(var D=H;D<N;D+=E)s.push(_[D],_[D+1]);var be=s.length;H=O[Z],this.drawChars_(h,be),h=be}this.endGeometry(r)}else{var X=a.overflow?null:[];switch(g){case"Point":case"MultiPoint":_=n.getFlatCoordinates();break;case"LineString":_=n.getFlatMidpoint();break;case"Circle":_=n.getCenter();break;case"MultiLineString":_=n.getFlatMidpoints(),E=2;break;case"Polygon":_=n.getFlatInteriorPoint(),a.overflow||X.push(_[2]/this.resolution),E=3;break;case"MultiPolygon":var se=n.getFlatInteriorPoints();_=[];for(var D=0,Y=se.length;D<Y;D+=3)a.overflow||X.push(se[D+2]/this.resolution),_.push(se[D],se[D+1]);if(_.length===0)return;E=2;break}var be=this.appendFlatPointCoordinates(_,E);if(be===h)return;if(X&&(be-h)/2!==_.length/E){var we=h/2;X=X.filter(function(st,mt){var ze=s[(we+mt)*2]===_[mt*E]&&s[(we+mt)*2+1]===_[mt*E+1];return ze||--we,ze})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(n,r);var xe=a.padding;if(xe!=f1&&(a.scale[0]<0||a.scale[1]<0)){var De=a.padding[0],Fe=a.padding[1],he=a.padding[2],Qe=a.padding[3];a.scale[0]<0&&(Fe=-Fe,Qe=-Qe),a.scale[1]<0&&(De=-De,he=-he),xe=[De,Fe,he,Qe]}var ge=this.pixelRatio;this.instructions.push([Ai.DRAW_IMAGE,h,be,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,xe==f1?f1:xe.map(function(st){return st*ge}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,X]);var yt=1/ge;this.hitDetectionInstructions.push([Ai.DRAW_IMAGE,h,be,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[yt,yt],NaN,void 0,this.declutterImageWithText_,xe,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,X]),this.endGeometry(r)}}},t.prototype.saveTextStates_=function(){var n=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;n&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:r.font,textAlign:r.textAlign||lb,justify:r.justify,textBaseline:r.textBaseline||M4,scale:r.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},t.prototype.drawChars_=function(n,r){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,h=this.fillKey_;this.saveTextStates_();var g=this.pixelRatio,_=pC[o.textBaseline],E=this.textOffsetY_*g,O=this.text_,K=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Ai.DRAW_CHARS,n,r,_,o.overflow,h,o.maxAngle,g,E,a,K*g,O,s,1]),this.hitDetectionInstructions.push([Ai.DRAW_CHARS,n,r,_,o.overflow,h,o.maxAngle,1,E,a,K,O,s,1/g])},t.prototype.setTextStyle=function(n,r){var i,o,a;if(!n)this.text_="";else{var s=n.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Kf(s.getColor()||Gp)):(o=null,this.textFillState_=o);var h=n.getStroke();if(!h)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var g=h.getLineDash(),_=h.getLineDashOffset(),E=h.getWidth(),O=h.getMiterLimit();a.lineCap=h.getLineCap()||w4,a.lineDash=g?g.slice():ib,a.lineDashOffset=_===void 0?ob:_,a.lineJoin=h.getLineJoin()||Av,a.lineWidth=E===void 0?ub:E,a.miterLimit=O===void 0?ab:O,a.strokeStyle=Kf(h.getColor()||sb)}i=this.textState_;var K=n.getFont()||Zj;ose(K);var D=n.getScaleArray();i.overflow=n.getOverflow(),i.font=K,i.maxAngle=n.getMaxAngle(),i.placement=n.getPlacement(),i.textAlign=n.getTextAlign(),i.justify=n.getJustify(),i.textBaseline=n.getTextBaseline()||M4,i.backgroundFill=n.getBackgroundFill(),i.backgroundStroke=n.getBackgroundStroke(),i.padding=n.getPadding()||f1,i.scale=D===void 0?[1,1]:D;var Y=n.getOffsetX(),ee=n.getOffsetY(),H=n.getRotateWithView(),N=n.getRotation();this.text_=n.getText()||"",this.textOffsetX_=Y===void 0?0:Y,this.textOffsetY_=ee===void 0?0:ee,this.textRotateWithView_=H===void 0?!1:H,this.textRotation_=N===void 0?0:N,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:qi(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+qi(o.fillStyle):""}this.declutterImageWithText_=r},t}(Ub),yue={Circle:gP,Default:Ub,Image:uue,LineString:due,Polygon:gP,Text:gue},O4=function(){function e(t,n,r,i){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.finish=function(){var t={};for(var n in this.buildersByZIndex_){t[n]=t[n]||{};var r=this.buildersByZIndex_[n];for(var i in r){var o=r[i].finish();t[n][i]=o}}return t},e.prototype.getBuilder=function(t,n){var r=t!==void 0?t.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[n];if(o===void 0){var a=yue[n];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=o}return o},e}(),vue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_ue=function(e){vue(t,e);function t(n){var r=e.call(this)||this;return r.ready=!0,r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=n,r.declutterExecutorGroup=null,r}return t.prototype.getFeatures=function(n){return vi()},t.prototype.getData=function(n){return null},t.prototype.prepareFrame=function(n){return vi()},t.prototype.renderFrame=function(n,r){return vi()},t.prototype.loadedTileCallback=function(n,r,i){n[r]||(n[r]={}),n[r][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(n,r,i){return(function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return n.forEachLoadedTile(r,o,a,s)}).bind(this)},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){},t.prototype.getDataAtPixel=function(n,r,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(n){var r=n.target;r.getState()===ns.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(n){var r=n.getState();return r!=ns.LOADED&&r!=ns.ERROR&&n.addEventListener(ji.CHANGE,this.boundHandleImageChange_),r==ns.IDLE&&(n.load(),r=n.getState()),r==ns.LOADED},t.prototype.renderIfReadyAndVisible=function(){var n=this.getLayer();n&&n.getVisible()&&n.getSourceState()==="ready"&&n.changed()},t.prototype.disposeInternal=function(){delete this.layer_,e.prototype.disposeInternal.call(this)},t}(cj);const Cue=_ue;var bue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yP=[],ey=null;function xue(){var e=document.createElement("canvas");e.width=1,e.height=1,ey=e.getContext("2d")}var wue=function(e){bue(t,e);function t(n){var r=e.call(this,n)||this;return r.container=null,r.renderedResolution,r.tempTransform=zd(),r.pixelTransform=zd(),r.inversePixelTransform=zd(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r.frameState=null,r}return t.prototype.getImageData=function(n,r,i){ey||xue(),ey.clearRect(0,0,1,1);var o;try{ey.drawImage(n,r,i,1,1,0,0,1,1),o=ey.getImageData(0,0,1,1).data}catch{return ey=null,null}return o},t.prototype.getBackground=function(n){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(n.viewState.resolution)),i||void 0},t.prototype.useContainer=function(n,r,i){var o=this.getLayer().getClassName(),a,s;if(n&&n.className===o&&(!i||n&&n.style.backgroundColor&&Q1(_4(n.style.backgroundColor),_4(i)))){var h=n.firstElementChild;h instanceof HTMLCanvasElement&&(s=h.getContext("2d"))}if(s&&s.canvas.style.transform===r?(this.container=n,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){a=document.createElement("div"),a.className=o;var g=a.style;g.position="absolute",g.width="100%",g.height="100%",s=Sc();var h=s.canvas;a.appendChild(h),g=h.style,g.position="absolute",g.left="0",g.transformOrigin="top left",this.container=a,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)},t.prototype.clipUnrotated=function(n,r,i){var o=y0(i),a=Aw(i),s=uw(i),h=lw(i);yl(r.coordinateToPixelTransform,o),yl(r.coordinateToPixelTransform,a),yl(r.coordinateToPixelTransform,s),yl(r.coordinateToPixelTransform,h);var g=this.inversePixelTransform;yl(g,o),yl(g,a),yl(g,s),yl(g,h),n.save(),n.beginPath(),n.moveTo(Math.round(o[0]),Math.round(o[1])),n.lineTo(Math.round(a[0]),Math.round(a[1])),n.lineTo(Math.round(s[0]),Math.round(s[1])),n.lineTo(Math.round(h[0]),Math.round(h[1])),n.clip()},t.prototype.dispatchRenderEvent_=function(n,r,i){var o=this.getLayer();if(o.hasListener(n)){var a=new qj(n,this.inversePixelTransform,i,r);o.dispatchEvent(a)}},t.prototype.preRender=function(n,r){this.frameState=r,this.dispatchRenderEvent_(s0.PRERENDER,n,r)},t.prototype.postRender=function(n,r){this.dispatchRenderEvent_(s0.POSTRENDER,n,r)},t.prototype.getRenderTransform=function(n,r,i,o,a,s,h){var g=a/2,_=s/2,E=o/r,O=-E,K=-n[0]+h,D=-n[1];return Wf(this.tempTransform,g,_,E,O,-i,K,D)},t.prototype.getDataAtPixel=function(n,r,i){var o=yl(this.inversePixelTransform,n.slice()),a=this.context,s=this.getLayer(),h=s.getExtent();if(h){var g=yl(r.pixelToCoordinateTransform,n.slice());if(!Pb(h,g))return null}var _=Math.round(o[0]),E=Math.round(o[1]),O=this.pixelContext_;if(!O){var K=document.createElement("canvas");K.width=1,K.height=1,O=K.getContext("2d"),this.pixelContext_=O}O.clearRect(0,0,1,1);var D;try{O.drawImage(a.canvas,_,E,1,1,0,0,1,1),D=O.getImageData(0,0,1,1).data}catch(Y){return Y.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):D}return D[3]===0?null:D},t.prototype.disposeInternal=function(){delete this.frameState,e.prototype.disposeInternal.call(this)},t}(Cue);const gW=wue;function Mue(e,t,n,r,i,o,a,s,h,g,_,E){var O=e[t],K=e[t+1],D=0,Y=0,ee=0,H=0;function N(){D=O,Y=K,t+=r,O=e[t],K=e[t+1],H+=ee,ee=Math.sqrt((O-D)*(O-D)+(K-Y)*(K-Y))}do N();while(t<n-r&&H+ee<o);for(var Z=ee===0?0:(o-H)/ee,ue=Dp(D,O,Z),ye=Dp(Y,K,Z),be=t-r,X=H,se=o+s*h(g,i,_);t<n-r&&H+ee<se;)N();Z=ee===0?0:(se-H)/ee;var we=Dp(D,O,Z),xe=Dp(Y,K,Z),De;if(E){var Fe=[ue,ye,we,xe];Oj(Fe,0,4,2,E,Fe,Fe),De=Fe[0]>Fe[2]}else De=ue>we;var he=Math.PI,Qe=[],ge=be+r===t;t=be,ee=0,H=X,O=e[t],K=e[t+1];var yt;if(ge){N(),yt=Math.atan2(K-Y,O-D),De&&(yt+=yt>0?-he:he);var wt=(we+ue)/2,st=(xe+ye)/2;return Qe[0]=[wt,st,(se-o)/2,yt,i],Qe}i=i.replace(/\n/g," ");for(var mt=0,ze=i.length;mt<ze;){N();var He=Math.atan2(K-Y,O-D);if(De&&(He+=He>0?-he:he),yt!==void 0){var Ve=He-yt;if(Ve+=Ve>he?-2*he:Ve<-he?2*he:0,Math.abs(Ve)>a)return null}yt=He;for(var Vt=mt,Yt=0;mt<ze;++mt){var vt=De?ze-mt-1:mt,$t=s*h(g,i[vt],_);if(t+r<n&&H+ee<o+Yt+$t/2)break;Yt+=$t}if(mt!==Vt){var Qt=De?i.substring(ze-Vt,ze-mt):i.substring(Vt,mt);Z=ee===0?0:(o+Yt/2-H)/ee;var wt=Dp(D,O,Z),st=Dp(Y,K,Z);Qe.push([wt,st,Yt/2,He,Qt]),o+=Yt}}return Qe}var Lg=Gd(),bm=[],xp=[],wp=[],xm=[];function vP(e){return e[3].declutterBox}var Sue=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function _P(e,t){return(t==="start"||t==="end")&&!Sue.test(e)&&(t=t==="start"?"left":"right"),pC[t]}function Eue(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}var Oue=function(){function e(t,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=zd(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return e.prototype.createLabel=function(t,n,r,i){var o=t+n+r+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=r?this.fillStates[r]:null,h=this.textStates[n],g=this.pixelRatio,_=[h.scale[0]*g,h.scale[1]*g],E=Array.isArray(t),O=h.justify?pC[h.justify]:_P(Array.isArray(t)?t[0]:t,h.textAlign||lb),K=i&&a.lineWidth?a.lineWidth:0,D=E?t:t.split(`
`).reduce(Eue,[]),Y=sse(h,D),ee=Y.width,H=Y.height,N=Y.widths,Z=Y.heights,ue=Y.lineWidths,ye=ee+K,be=[],X=(ye+2)*_[0],se=(H+K)*_[1],we={width:X<0?Math.floor(X):Math.ceil(X),height:se<0?Math.floor(se):Math.ceil(se),contextInstructions:be};if((_[0]!=1||_[1]!=1)&&be.push("scale",_),i){be.push("strokeStyle",a.strokeStyle),be.push("lineWidth",K),be.push("lineCap",a.lineCap),be.push("lineJoin",a.lineJoin),be.push("miterLimit",a.miterLimit);var xe=aw?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;xe.prototype.setLineDash&&(be.push("setLineDash",[a.lineDash]),be.push("lineDashOffset",a.lineDashOffset))}r&&be.push("fillStyle",s.fillStyle),be.push("textBaseline","middle"),be.push("textAlign","center");for(var De=.5-O,Fe=O*ye+De*K,he=[],Qe=[],ge=0,yt=0,wt=0,st=0,mt,ze=0,He=D.length;ze<He;ze+=2){var Ve=D[ze];if(Ve===`
`){yt+=ge,ge=0,Fe=O*ye+De*K,++st;continue}var Vt=D[ze+1]||h.font;Vt!==mt&&(i&&he.push("font",Vt),r&&Qe.push("font",Vt),mt=Vt),ge=Math.max(ge,Z[wt]);var Yt=[Ve,Fe+De*N[wt]+O*(N[wt]-ue[st]),.5*(K+ge)+yt];Fe+=N[wt],i&&he.push("strokeText",Yt),r&&Qe.push("fillText",Yt),++wt}return Array.prototype.push.apply(be,he),Array.prototype.push.apply(be,Qe),this.labels_[o]=we,we},e.prototype.replayTextBackground_=function(t,n,r,i,o,a,s){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,n),a&&(this.alignFill_=a[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.calculateImageOrLabelDimensions_=function(t,n,r,i,o,a,s,h,g,_,E,O,K,D,Y,ee){s*=O[0],h*=O[1];var H=r-s,N=i-h,Z=o+g>t?t-g:o,ue=a+_>n?n-_:a,ye=D[3]+Z*O[0]+D[1],be=D[0]+ue*O[1]+D[2],X=H-D[3],se=N-D[0];(Y||E!==0)&&(bm[0]=X,xm[0]=X,bm[1]=se,xp[1]=se,xp[0]=X+ye,wp[0]=xp[0],wp[1]=se+be,xm[1]=wp[1]);var we;return E!==0?(we=Wf(zd(),r,i,1,1,E,-r,-i),yl(we,bm),yl(we,xp),yl(we,wp),yl(we,xm),Nf(Math.min(bm[0],xp[0],wp[0],xm[0]),Math.min(bm[1],xp[1],wp[1],xm[1]),Math.max(bm[0],xp[0],wp[0],xm[0]),Math.max(bm[1],xp[1],wp[1],xm[1]),Lg)):Nf(Math.min(X,X+ye),Math.min(se,se+be),Math.max(X,X+ye),Math.max(se,se+be),Lg),K&&(H=Math.round(H),N=Math.round(N)),{drawImageX:H,drawImageY:N,drawImageW:Z,drawImageH:ue,originX:g,originY:_,declutterBox:{minX:Lg[0],minY:Lg[1],maxX:Lg[2],maxY:Lg[3],value:ee},canvasTransform:we,scale:O}},e.prototype.replayImageOrLabel_=function(t,n,r,i,o,a,s){var h=!!(a||s),g=i.declutterBox,_=t.canvas,E=s?s[2]*i.scale[0]/2:0,O=g.minX-E<=_.width/n&&g.maxX+E>=0&&g.minY-E<=_.height/n&&g.maxY+E>=0;return O&&(h&&this.replayTextBackground_(t,bm,xp,wp,xm,a,s),lse(t,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},e.prototype.fill_=function(t){if(this.alignFill_){var n=yl(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.setLineDash&&(t.lineDashOffset=n[7],t.setLineDash(n[6]))},e.prototype.drawLabelWithPointPlacement_=function(t,n,r,i){var o=this.textStates[n],a=this.createLabel(t,n,i,r),s=this.strokeStates[r],h=this.pixelRatio,g=_P(Array.isArray(t)?t[0]:t,o.textAlign||lb),_=pC[o.textBaseline||M4],E=s&&s.lineWidth?s.lineWidth:0,O=a.width/h-2*o.scale[0],K=g*O+2*(.5-g)*E,D=_*a.height/h+2*(.5-_)*E;return{label:a,anchorX:K,anchorY:D}},e.prototype.execute_=function(t,n,r,i,o,a,s,h){var g;this.pixelCoordinates_&&Q1(r,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=a0(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Mie(this.renderedTransform_,r));for(var _=0,E=i.length,O=0,K,D,Y,ee,H,N,Z,ue,ye,be,X,se,we=0,xe=0,De=null,Fe=null,he=this.coordinateCache_,Qe=this.viewRotation_,ge=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,yt={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Qe},wt=this.instructions!=i||this.overlaps?0:200,st,mt,ze,He;_<E;){var Ve=i[_],Vt=Ve[0];switch(Vt){case Ai.BEGIN_GEOMETRY:st=Ve[1],He=Ve[3],st.getGeometry()?s!==void 0&&!_l(s,He.getExtent())?_=Ve[2]+1:++_:_=Ve[2];break;case Ai.BEGIN_PATH:we>wt&&(this.fill_(t),we=0),xe>wt&&(t.stroke(),xe=0),!we&&!xe&&(t.beginPath(),ee=NaN,H=NaN),++_;break;case Ai.CIRCLE:O=Ve[1];var Yt=g[O],vt=g[O+1],$t=g[O+2],Qt=g[O+3],ke=$t-Yt,pe=Qt-vt,Se=Math.sqrt(ke*ke+pe*pe);t.moveTo(Yt+Se,vt),t.arc(Yt,vt,Se,0,2*Math.PI,!0),++_;break;case Ai.CLOSE_PATH:t.closePath(),++_;break;case Ai.CUSTOM:O=Ve[1],K=Ve[2];var Re=Ve[3],it=Ve[4],ot=Ve.length==6?Ve[5]:void 0;yt.geometry=Re,yt.feature=st,_ in he||(he[_]=[]);var St=he[_];ot?ot(g,O,K,2,St):(St[0]=g[O],St[1]=g[O+1],St.length=2),it(St,yt),++_;break;case Ai.DRAW_IMAGE:O=Ve[1],K=Ve[2],ue=Ve[3],D=Ve[4],Y=Ve[5];var Rt=Ve[6],zt=Ve[7],pt=Ve[8],rr=Ve[9],gn=Ve[10],yn=Ve[11],Jn=Ve[12],Ar=Ve[13],Mr=Ve[14],Wr=Ve[15];if(!ue&&Ve.length>=20){ye=Ve[19],be=Ve[20],X=Ve[21],se=Ve[22];var gr=this.drawLabelWithPointPlacement_(ye,be,X,se);ue=gr.label,Ve[3]=ue;var _i=Ve[23];D=(gr.anchorX-_i)*this.pixelRatio,Ve[4]=D;var Ee=Ve[24];Y=(gr.anchorY-Ee)*this.pixelRatio,Ve[5]=Y,Rt=ue.height,Ve[6]=Rt,Ar=ue.width,Ve[13]=Ar}var J=void 0;Ve.length>25&&(J=Ve[25]);var q=void 0,Te=void 0,At=void 0;Ve.length>17?(q=Ve[16],Te=Ve[17],At=Ve[18]):(q=f1,Te=!1,At=!1),gn&&ge?yn+=Qe:!gn&&!ge&&(yn-=Qe);for(var Bt=0;O<K;O+=2)if(!(J&&J[Bt++]<Ar/this.pixelRatio)){var kt=this.calculateImageOrLabelDimensions_(ue.width,ue.height,g[O],g[O+1],Ar,Rt,D,Y,pt,rr,yn,Jn,o,q,Te||At,st),Ft=[t,n,ue,kt,zt,Te?De:null,At?Fe:null];if(h){if(Mr==="none")continue;if(Mr==="obstacle"){h.insert(kt.declutterBox);continue}else{var fn=void 0,Kn=void 0;if(Wr){var On=K-O;if(!Wr[On]){Wr[On]=Ft;continue}if(fn=Wr[On],delete Wr[On],Kn=vP(fn),h.collides(Kn))continue}if(h.collides(kt.declutterBox))continue;fn&&(h.insert(Kn),this.replayImageOrLabel_.apply(this,fn)),h.insert(kt.declutterBox)}}this.replayImageOrLabel_.apply(this,Ft)}++_;break;case Ai.DRAW_CHARS:var m=Ve[1],Pt=Ve[2],Kr=Ve[3],tr=Ve[4];se=Ve[5];var Ke=Ve[6],ce=Ve[7],Ce=Ve[8];X=Ve[9];var Ie=Ve[10];ye=Ve[11],be=Ve[12];var je=[Ve[13],Ve[13]],rt=this.textStates[be],lt=rt.font,ft=[rt.scale[0]*ce,rt.scale[1]*ce],et=void 0;lt in this.widths_?et=this.widths_[lt]:(et={},this.widths_[lt]=et);var Mt=Dj(g,m,Pt,2),tn=Math.abs(ft[0])*aP(lt,ye,et);if(tr||tn<=Mt){var Ht=this.textStates[be].textAlign,en=(Mt-tn)*pC[Ht],Dn=Mue(g,m,Pt,2,ye,en,Ke,Math.abs(ft[0]),aP,lt,et,ge?0:this.viewRotation_);e:if(Dn){var Bn=[],Yn=void 0,Sr=void 0,lr=void 0,Qr=void 0,Or=void 0;if(X)for(Yn=0,Sr=Dn.length;Yn<Sr;++Yn){Or=Dn[Yn],lr=Or[4],Qr=this.createLabel(lr,be,"",X),D=Or[2]+(ft[0]<0?-Ie:Ie),Y=Kr*Qr.height+(.5-Kr)*2*Ie*ft[1]/ft[0]-Ce;var kt=this.calculateImageOrLabelDimensions_(Qr.width,Qr.height,Or[0],Or[1],Qr.width,Qr.height,D,Y,0,0,Or[3],je,!1,f1,!1,st);if(h&&h.collides(kt.declutterBox))break e;Bn.push([t,n,Qr,kt,1,null,null])}if(se)for(Yn=0,Sr=Dn.length;Yn<Sr;++Yn){Or=Dn[Yn],lr=Or[4],Qr=this.createLabel(lr,be,se,""),D=Or[2],Y=Kr*Qr.height-Ce;var kt=this.calculateImageOrLabelDimensions_(Qr.width,Qr.height,Or[0],Or[1],Qr.width,Qr.height,D,Y,0,0,Or[3],je,!1,f1,!1,st);if(h&&h.collides(kt.declutterBox))break e;Bn.push([t,n,Qr,kt,1,null,null])}h&&h.load(Bn.map(vP));for(var Lr=0,ir=Bn.length;Lr<ir;++Lr)this.replayImageOrLabel_.apply(this,Bn[Lr])}}++_;break;case Ai.END_GEOMETRY:if(a!==void 0){st=Ve[1];var ci=a(st,He);if(ci)return ci}++_;break;case Ai.FILL:wt?we++:this.fill_(t),++_;break;case Ai.MOVE_TO_LINE_TO:for(O=Ve[1],K=Ve[2],mt=g[O],ze=g[O+1],N=mt+.5|0,Z=ze+.5|0,(N!==ee||Z!==H)&&(t.moveTo(mt,ze),ee=N,H=Z),O+=2;O<K;O+=2)mt=g[O],ze=g[O+1],N=mt+.5|0,Z=ze+.5|0,(O==K-2||N!==ee||Z!==H)&&(t.lineTo(mt,ze),ee=N,H=Z);++_;break;case Ai.SET_FILL_STYLE:De=Ve,this.alignFill_=Ve[2],we&&(this.fill_(t),we=0,xe&&(t.stroke(),xe=0)),t.fillStyle=Ve[1],++_;break;case Ai.SET_STROKE_STYLE:Fe=Ve,xe&&(t.stroke(),xe=0),this.setStrokeStyle_(t,Ve),++_;break;case Ai.STROKE:wt?xe++:t.stroke(),++_;break;default:++_;break}}we&&this.fill_(t),xe&&t.stroke()},e.prototype.execute=function(t,n,r,i,o,a){this.viewRotation_=i,this.execute_(t,n,r,this.instructions,o,void 0,void 0,a)},e.prototype.executeHitDetection=function(t,n,r,i,o){return this.viewRotation_=r,this.execute_(t,1,n,this.hitDetectionInstructions,!0,i,o)},e}();const Bue=Oue;var LS=["Polygon","Circle","LineString","Image","Text","Default"],Iue=function(){function e(t,n,r,i,o,a){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=zd(),this.createExecutors_(o)}return e.prototype.clip=function(t,n){var r=this.getClipCoords(n);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var n in t){var r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);var i=t[n];for(var o in i){var a=i[o];r[o]=new Bue(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},e.prototype.hasExecutors=function(t){for(var n in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[n],i=0,o=t.length;i<o;++i)if(t[i]in r)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,n,r,i,o,a){i=Math.round(i);var s=i*2+1,h=Wf(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=Sc(s,s));var _=this.hitDetectionContext_;_.canvas.width!==s||_.canvas.height!==s?(_.canvas.width=s,_.canvas.height=s):g||_.clearRect(0,0,s,s);var E;this.renderBuffer_!==void 0&&(E=Gd(),fC(E,t),o0(E,n*(this.renderBuffer_+i),E));var O=kue(i),K;function D(be,X){for(var se=_.getImageData(0,0,s,s).data,we=0,xe=O.length;we<xe;we++)if(se[O[we]]>0){if(!a||K!=="Image"&&K!=="Text"||a.indexOf(be)!==-1){var De=(O[we]-3)/4,Fe=i-De%s,he=i-(De/s|0),Qe=o(be,X,Fe*Fe+he*he);if(Qe)return Qe}_.clearRect(0,0,s,s);break}}var Y=Object.keys(this.executorsByZIndex_).map(Number);Y.sort(D1);var ee,H,N,Z,ue;for(ee=Y.length-1;ee>=0;--ee){var ye=Y[ee].toString();for(N=this.executorsByZIndex_[ye],H=LS.length-1;H>=0;--H)if(K=LS[H],Z=N[K],Z!==void 0&&(ue=Z.executeHitDetection(_,h,r,D,E),ue))return ue}},e.prototype.getClipCoords=function(t){var n=this.maxExtent_;if(!n)return null;var r=n[0],i=n[1],o=n[2],a=n[3],s=[r,i,r,a,o,a,o,i];return a0(s,0,8,2,t,s),s},e.prototype.isEmpty=function(){return L1(this.executorsByZIndex_)},e.prototype.execute=function(t,n,r,i,o,a,s){var h=Object.keys(this.executorsByZIndex_).map(Number);h.sort(D1),this.maxExtent_&&(t.save(),this.clip(t,r));var g=a||LS,_,E,O,K,D,Y;for(s&&h.reverse(),_=0,E=h.length;_<E;++_){var ee=h[_].toString();for(D=this.executorsByZIndex_[ee],O=0,K=g.length;O<K;++O){var H=g[O];Y=D[H],Y!==void 0&&Y.execute(t,n,r,i,o,s)}}this.maxExtent_&&t.restore()},e}(),US={};function kue(e){if(US[e]!==void 0)return US[e];for(var t=e*2+1,n=e*e,r=new Array(n+1),i=0;i<=e;++i)for(var o=0;o<=e;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(((e+i)*t+(e+o))*4+3),i>0&&s.push(((e-i)*t+(e+o))*4+3),o>0&&(s.push(((e+i)*t+(e-o))*4+3),i>0&&s.push(((e-i)*t+(e-o))*4+3))}for(var h=[],i=0,g=r.length;i<g;++i)r[i]&&h.push.apply(h,r[i]);return US[e]=h,h}const B4=Iue;var Tue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pue=function(e){Tue(t,e);function t(n,r,i,o,a,s,h){var g=e.call(this)||this;return g.context_=n,g.pixelRatio_=r,g.extent_=i,g.transform_=o,g.viewRotation_=a,g.squaredTolerance_=s,g.userTransform_=h,g.contextFillState_=null,g.contextStrokeState_=null,g.contextTextState_=null,g.fillState_=null,g.strokeState_=null,g.image_=null,g.imageAnchorX_=0,g.imageAnchorY_=0,g.imageHeight_=0,g.imageOpacity_=0,g.imageOriginX_=0,g.imageOriginY_=0,g.imageRotateWithView_=!1,g.imageRotation_=0,g.imageScale_=[0,0],g.imageWidth_=0,g.text_="",g.textOffsetX_=0,g.textOffsetY_=0,g.textRotateWithView_=!1,g.textRotation_=0,g.textScale_=[0,0],g.textFillState_=null,g.textStrokeState_=null,g.textState_=null,g.pixelCoordinates_=[],g.tmpLocalTransform_=zd(),g}return t.prototype.drawImages_=function(n,r,i,o){if(this.image_){var a=a0(n,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,h=this.tmpLocalTransform_,g=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=g*this.imageOpacity_);var _=this.imageRotation_;this.imageRotateWithView_&&(_+=this.viewRotation_);for(var E=0,O=a.length;E<O;E+=2){var K=a[E]-this.imageAnchorX_,D=a[E+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var Y=K+this.imageAnchorX_,ee=D+this.imageAnchorY_;Wf(h,Y,ee,1,1,_,-Y,-ee),s.setTransform.apply(s,h),s.translate(Y,ee),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,K,D,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=g)}},t.prototype.drawText_=function(n,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=a0(n,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,h=this.textRotation_;for(this.textRotateWithView_&&(h+=this.viewRotation_);r<i;r+=o){var g=a[r]+this.textOffsetX_,_=a[r+1]+this.textOffsetY_;if(h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var E=Wf(this.tmpLocalTransform_,g,_,1,1,h,-g,-_);s.setTransform.apply(s,E),s.translate(g,_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,g,_),this.textFillState_&&s.fillText(this.text_,g,_)}}},t.prototype.moveToLineTo_=function(n,r,i,o,a){var s=this.context_,h=a0(n,r,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(h[0],h[1]);var g=h.length;a&&(g-=2);for(var _=2;_<g;_+=2)s.lineTo(h[_],h[_+1]);return a&&s.closePath(),i},t.prototype.drawRings_=function(n,r,i,o){for(var a=0,s=i.length;a<s;++a)r=this.moveToLineTo_(n,r,i[a],o,!0);return r},t.prototype.drawCircle=function(n){if(_l(this.extent_,n.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Coe(n,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(r[0],r[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(n.getCenter(),0,2,2)}},t.prototype.setStyle=function(n){this.setFillStrokeStyle(n.getFill(),n.getStroke()),this.setImageStyle(n.getImage()),this.setTextStyle(n.getText())},t.prototype.setTransform=function(n){this.transform_=n},t.prototype.drawGeometry=function(n){var r=n.getType();switch(r){case"Point":this.drawPoint(n);break;case"LineString":this.drawLineString(n);break;case"Polygon":this.drawPolygon(n);break;case"MultiPoint":this.drawMultiPoint(n);break;case"MultiLineString":this.drawMultiLineString(n);break;case"MultiPolygon":this.drawMultiPolygon(n);break;case"GeometryCollection":this.drawGeometryCollection(n);break;case"Circle":this.drawCircle(n);break}},t.prototype.drawFeature=function(n,r){var i=r.getGeometryFunction()(n);!i||!_l(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},t.prototype.drawGeometryCollection=function(n){for(var r=n.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},t.prototype.drawPoint=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getFlatCoordinates(),i=n.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawMultiPoint=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getFlatCoordinates(),i=n.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawLineString=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!_l(this.extent_,n.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=n.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,n.getStride(),!1),r.stroke()}if(this.text_!==""){var o=n.getFlatMidpoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiLineString=function(n){this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=n.getExtent();if(_l(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=n.getFlatCoordinates(),a=0,s=n.getEnds(),h=n.getStride();i.beginPath();for(var g=0,_=s.length;g<_;++g)a=this.moveToLineTo_(o,a,s[g],h,!1);i.stroke()}if(this.text_!==""){var E=n.getFlatMidpoints();this.drawText_(E,0,E.length,2)}}},t.prototype.drawPolygon=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!_l(this.extent_,n.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(n.getOrientedFlatCoordinates(),0,n.getEnds(),n.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=n.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiPolygon=function(n){if(this.squaredTolerance_&&(n=n.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!_l(this.extent_,n.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=n.getOrientedFlatCoordinates(),o=0,a=n.getEndss(),s=n.getStride();r.beginPath();for(var h=0,g=a.length;h<g;++h){var _=a[h];o=this.drawRings_(i,o,_,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var E=n.getFlatInteriorPoints();this.drawText_(E,0,E.length,2)}}},t.prototype.setContextFillState_=function(n){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=n.fillStyle&&(i.fillStyle=n.fillStyle,r.fillStyle=n.fillStyle):(r.fillStyle=n.fillStyle,this.contextFillState_={fillStyle:n.fillStyle})},t.prototype.setContextStrokeState_=function(n){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=n.lineCap&&(i.lineCap=n.lineCap,r.lineCap=n.lineCap),r.setLineDash&&(Q1(i.lineDash,n.lineDash)||r.setLineDash(i.lineDash=n.lineDash),i.lineDashOffset!=n.lineDashOffset&&(i.lineDashOffset=n.lineDashOffset,r.lineDashOffset=n.lineDashOffset)),i.lineJoin!=n.lineJoin&&(i.lineJoin=n.lineJoin,r.lineJoin=n.lineJoin),i.lineWidth!=n.lineWidth&&(i.lineWidth=n.lineWidth,r.lineWidth=n.lineWidth),i.miterLimit!=n.miterLimit&&(i.miterLimit=n.miterLimit,r.miterLimit=n.miterLimit),i.strokeStyle!=n.strokeStyle&&(i.strokeStyle=n.strokeStyle,r.strokeStyle=n.strokeStyle)):(r.lineCap=n.lineCap,r.setLineDash&&(r.setLineDash(n.lineDash),r.lineDashOffset=n.lineDashOffset),r.lineJoin=n.lineJoin,r.lineWidth=n.lineWidth,r.miterLimit=n.miterLimit,r.strokeStyle=n.strokeStyle,this.contextStrokeState_={lineCap:n.lineCap,lineDash:n.lineDash,lineDashOffset:n.lineDashOffset,lineJoin:n.lineJoin,lineWidth:n.lineWidth,miterLimit:n.miterLimit,strokeStyle:n.strokeStyle})},t.prototype.setContextTextState_=function(n){var r=this.context_,i=this.contextTextState_,o=n.textAlign?n.textAlign:lb;i?(i.font!=n.font&&(i.font=n.font,r.font=n.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=n.textBaseline&&(i.textBaseline=n.textBaseline,r.textBaseline=n.textBaseline)):(r.font=n.font,r.textAlign=o,r.textBaseline=n.textBaseline,this.contextTextState_={font:n.font,textAlign:o,textBaseline:n.textBaseline})},t.prototype.setFillStrokeStyle=function(n,r){var i=this;if(!n)this.fillState_=null;else{var o=n.getColor();this.fillState_={fillStyle:Kf(o||Gp)}}if(!r)this.strokeState_=null;else{var a=r.getColor(),s=r.getLineCap(),h=r.getLineDash(),g=r.getLineDashOffset(),_=r.getLineJoin(),E=r.getWidth(),O=r.getMiterLimit(),K=h||ib;this.strokeState_={lineCap:s!==void 0?s:w4,lineDash:this.pixelRatio_===1?K:K.map(function(D){return D*i.pixelRatio_}),lineDashOffset:(g||ob)*this.pixelRatio_,lineJoin:_!==void 0?_:Av,lineWidth:(E!==void 0?E:ub)*this.pixelRatio_,miterLimit:O!==void 0?O:ab,strokeStyle:Kf(a||sb)}}},t.prototype.setImageStyle=function(n){var r;if(!n||!(r=n.getSize())){this.image_=null;return}var i=n.getAnchor(),o=n.getOrigin();this.image_=n.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=n.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=n.getRotateWithView(),this.imageRotation_=n.getRotation(),this.imageScale_=n.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},t.prototype.setTextStyle=function(n){if(!n)this.text_="";else{var r=n.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:Kf(i||Gp)}}var o=n.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),h=o.getLineDash(),g=o.getLineDashOffset(),_=o.getLineJoin(),E=o.getWidth(),O=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:w4,lineDash:h||ib,lineDashOffset:g||ob,lineJoin:_!==void 0?_:Av,lineWidth:E!==void 0?E:ub,miterLimit:O!==void 0?O:ab,strokeStyle:Kf(a||sb)}}var K=n.getFont(),D=n.getOffsetX(),Y=n.getOffsetY(),ee=n.getRotateWithView(),H=n.getRotation(),N=n.getScaleArray(),Z=n.getText(),ue=n.getTextAlign(),ye=n.getTextBaseline();this.textState_={font:K!==void 0?K:Zj,textAlign:ue!==void 0?ue:lb,textBaseline:ye!==void 0?ye:M4},this.text_=Z!==void 0?Array.isArray(Z)?Z.reduce(function(be,X,se){return be+=se%2?" ":X},""):Z:"",this.textOffsetX_=D!==void 0?this.pixelRatio_*D:0,this.textOffsetY_=Y!==void 0?this.pixelRatio_*Y:0,this.textRotateWithView_=ee!==void 0?ee:!1,this.textRotation_=H!==void 0?H:0,this.textScale_=[this.pixelRatio_*N[0],this.pixelRatio_*N[1]]}},t}(pW);const Pm={FRACTION:"fraction",PIXELS:"pixels"},Od={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var Kue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Due=function(e){Kue(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.extent=n,a.pixelRatio_=i,a.resolution=r,a.state=o,a}return t.prototype.changed=function(){this.dispatchEvent(ji.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return vi()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){vi()},t}(Sv);const Fue=Due;var Lue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){Lue(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,i,ns.IDLE)||this;return h.src_=o,h.image_=new Image,a!==null&&(h.image_.crossOrigin=a),h.unlisten_=null,h.state=ns.IDLE,h.imageLoadFunction_=s,h}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=ns.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Mc(this.extent)/this.image_.height),this.state=ns.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==ns.IDLE||this.state==ns.ERROR)&&(this.state=ns.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=U8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(n){this.image_=n,this.resolution=Mc(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t})(Fue);function U8(e,t,n){var r=e,i=!0,o=!1,a=!1,s=[f4(r,ji.LOAD,function(){a=!0,o||t()})];return r.src&&wie?(o=!0,r.decode().then(function(){i&&t()}).catch(function(h){i&&(a?t():n())})):s.push(f4(r,ji.ERROR,n)),function(){i=!1,s.forEach(is)}}var Uue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),E_=null,Rue=function(e){Uue(t,e);function t(n,r,i,o,a,s){var h=e.call(this)||this;return h.hitDetectionImage_=null,h.image_=n||new Image,o!==null&&(h.image_.crossOrigin=o),h.canvas_={},h.color_=s,h.unlisten_=null,h.imageState_=a,h.size_=i,h.src_=r,h.tainted_,h}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ns.LOADED){E_||(E_=Sc(1,1)),E_.drawImage(this.image_,0,0);try{E_.getImageData(0,0,1,1),this.tainted_=!1}catch{E_=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ji.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=ns.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=ns.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(n){return this.replaceColor_(n),this.canvas_[n]?this.canvas_[n]:this.image_},t.prototype.getPixelRatio=function(n){return this.replaceColor_(n),this.canvas_[n]?n:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var n=this.size_[0],r=this.size_[1],i=Sc(n,r);i.fillRect(0,0,n,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==ns.IDLE){this.imageState_=ns.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=U8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(n){if(!(!this.color_||this.canvas_[n]||this.imageState_!==ns.LOADED)){var r=document.createElement("canvas");this.canvas_[n]=r,r.width=Math.ceil(this.image_.width*n),r.height=Math.ceil(this.image_.height*n);var i=r.getContext("2d");if(i.scale(n,n),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=$j(this.color_),i.fillRect(0,0,r.width/n,r.height/n),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),a=o.data,s=this.color_[0]/255,h=this.color_[1]/255,g=this.color_[2]/255,_=this.color_[3],E=0,O=a.length;E<O;E+=4)a[E]*=s,a[E+1]*=h,a[E+2]*=g,a[E+3]*=_;i.putImageData(o,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Sv);function zue(e,t,n,r,i,o){var a=C4.get(t,r,o);return a||(a=new Rue(e,t,n,r,i,o),C4.set(t,r,o,a)),a}var jue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wue=function(e){jue(t,e);function t(n){var r=this,i=n||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,h=i.rotateWithView!==void 0?i.rotateWithView:!1;r=e.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:h,declutterMode:i.declutterMode})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:Od.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Pm.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Pm.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var g=i.img!==void 0?i.img:null;r.imgSize_=i.imgSize;var _=i.src;co(!(_!==void 0&&g),4),co(!g||g&&r.imgSize_,5),(_===void 0||_.length===0)&&g&&(_=g.src||qi(g)),co(_!==void 0&&_.length>0,6);var E=i.src!==void 0?ns.IDLE:ns.LOADED;return r.color_=i.color!==void 0?_4(i.color):null,r.iconImage_=zue(g,_,r.imgSize_!==void 0?r.imgSize_:null,r.crossOrigin_,E,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:Od.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return t.prototype.clone=function(){var n=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(n)?n.slice():n,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getAnchor=function(){var n=this.normalizedAnchor_;if(!n){n=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==Pm.FRACTION||this.anchorYUnits_==Pm.FRACTION){if(!r)return null;n=this.anchor_.slice(),this.anchorXUnits_==Pm.FRACTION&&(n[0]*=r[0]),this.anchorYUnits_==Pm.FRACTION&&(n[1]*=r[1])}if(this.anchorOrigin_!=Od.TOP_LEFT){if(!r)return null;n===this.anchor_&&(n=this.anchor_.slice()),(this.anchorOrigin_==Od.TOP_RIGHT||this.anchorOrigin_==Od.BOTTOM_RIGHT)&&(n[0]=-n[0]+r[0]),(this.anchorOrigin_==Od.BOTTOM_LEFT||this.anchorOrigin_==Od.BOTTOM_RIGHT)&&(n[1]=-n[1]+r[1])}this.normalizedAnchor_=n}var i=this.getDisplacement();return[n[0]-i[0],n[1]+i[1]]},t.prototype.setAnchor=function(n){this.anchor_=n,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(n){return this.iconImage_.getImage(n)},t.prototype.getPixelRatio=function(n){return this.iconImage_.getPixelRatio(n)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var n=this.offset_;if(this.offsetOrigin_!=Od.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;n=n.slice(),(this.offsetOrigin_==Od.TOP_RIGHT||this.offsetOrigin_==Od.BOTTOM_RIGHT)&&(n[0]=i[0]-r[0]-n[0]),(this.offsetOrigin_==Od.BOTTOM_LEFT||this.offsetOrigin_==Od.BOTTOM_RIGHT)&&(n[1]=i[1]-r[1]-n[1])}return this.origin_=n,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(n){this.iconImage_.addEventListener(ji.CHANGE,n)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(n){this.iconImage_.removeEventListener(ji.CHANGE,n)},t}(dW);const yW=Wue;var Nue="#333",Gue=function(){function e(t){var n=t||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.scaleArray_=RA(n.scale!==void 0?n.scale:1),this.text_=n.text,this.textAlign_=n.textAlign,this.justify_=n.justify,this.textBaseline_=n.textBaseline,this.fill_=n.fill!==void 0?n.fill:new yy({color:Nue}),this.maxAngle_=n.maxAngle!==void 0?n.maxAngle:Math.PI/4,this.placement_=n.placement!==void 0?n.placement:mW.POINT,this.overflow_=!!n.overflow,this.stroke_=n.stroke!==void 0?n.stroke:null,this.offsetX_=n.offsetX!==void 0?n.offsetX:0,this.offsetY_=n.offsetY!==void 0?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=n.padding===void 0?null:n.padding}return e.prototype.clone=function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getScaleArray=function(){return this.scaleArray_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getJustify=function(){return this.justify_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(t){this.overflow_=t},e.prototype.setFont=function(t){this.font_=t},e.prototype.setMaxAngle=function(t){this.maxAngle_=t},e.prototype.setOffsetX=function(t){this.offsetX_=t},e.prototype.setOffsetY=function(t){this.offsetY_=t},e.prototype.setPlacement=function(t){this.placement_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setFill=function(t){this.fill_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=RA(t!==void 0?t:1)},e.prototype.setStroke=function(t){this.stroke_=t},e.prototype.setText=function(t){this.text_=t},e.prototype.setTextAlign=function(t){this.textAlign_=t},e.prototype.setJustify=function(t){this.justify_=t},e.prototype.setTextBaseline=function(t){this.textBaseline_=t},e.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},e.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},e.prototype.setPadding=function(t){this.padding_=t},e}(),Zc=.5;function vW(e,t,n,r,i,o,a){var s=e[0]*Zc,h=e[1]*Zc,g=Sc(s,h);g.imageSmoothingEnabled=!1;for(var _=g.canvas,E=new Pue(g,Zc,i,null,a),O=n.length,K=Math.floor((256*256*256-1)/O),D={},Y=1;Y<=O;++Y){var ee=n[Y-1],H=ee.getStyleFunction()||r;if(r){var N=H(ee,o);if(N){Array.isArray(N)||(N=[N]);for(var Z=Y*K,ue="#"+("000000"+Z.toString(16)).slice(-6),ye=0,be=N.length;ye<be;++ye){var X=N[ye],se=X.getGeometryFunction()(ee);if(!(!se||!_l(i,se.getExtent()))){var we=X.clone(),xe=we.getFill();xe&&xe.setColor(ue);var De=we.getStroke();De&&(De.setColor(ue),De.setLineDash(null)),we.setText(void 0);var Fe=X.getImage();if(Fe&&Fe.getOpacity()!==0){var he=Fe.getImageSize();if(!he)continue;var Qe=Sc(he[0],he[1],void 0,{alpha:!1}),ge=Qe.canvas;Qe.fillStyle=ue,Qe.fillRect(0,0,ge.width,ge.height),we.setImage(new yW({img:ge,imgSize:he,anchor:Fe.getAnchor(),anchorXUnits:Pm.PIXELS,anchorYUnits:Pm.PIXELS,offset:Fe.getOrigin(),opacity:1,size:Fe.getSize(),scale:Fe.getScale(),rotation:Fe.getRotation(),rotateWithView:Fe.getRotateWithView()}))}var yt=we.getZIndex()||0,wt=D[yt];wt||(wt={},D[yt]=wt,wt.Polygon=[],wt.Circle=[],wt.LineString=[],wt.Point=[]),wt[se.getType().replace("Multi","")].push(se,we)}}}}}for(var st=Object.keys(D).map(Number).sort(D1),Y=0,mt=st.length;Y<mt;++Y){var wt=D[st[Y]];for(var ze in wt)for(var He=wt[ze],ye=0,be=He.length;ye<be;ye+=2){E.setStyle(He[ye+1]);for(var Ve=0,Vt=t.length;Ve<Vt;++Ve)E.setTransform(t[Ve]),E.drawGeometry(He[ye])}}return g.getImageData(0,0,_.width,_.height)}function _W(e,t,n){var r=[];if(n){var i=Math.floor(Math.round(e[0])*Zc),o=Math.floor(Math.round(e[1])*Zc),a=(Kl(i,0,n.width-1)+Kl(o,0,n.height-1)*n.width)*4,s=n.data[a],h=n.data[a+1],g=n.data[a+2],_=g+256*(h+256*s),E=Math.floor((256*256*256-1)/t.length);_&&_%E===0&&r.push(t[_/E-1])}return r}var $ue=.5,CW={Point:Jue,LineString:Vue,Polygon:tAe,MultiPoint:eAe,MultiLineString:Zue,MultiPolygon:Xue,GeometryCollection:Hue,Circle:Yue};function Que(e,t){return parseInt(qi(e),10)-parseInt(qi(t),10)}function bW(e,t){var n=IO(e,t);return n*n}function IO(e,t){return $ue*e/t}function Yue(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(t,r)}var h=n.getText();if(h&&h.getText()){var g=(i||e).getBuilder(n.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,r)}}function I4(e,t,n,r,i,o,a){var s=!1,h=n.getImage();if(h){var g=h.getImageState();g==ns.LOADED||g==ns.ERROR?h.unlistenImageChange(i):(g==ns.IDLE&&h.load(),h.listenImageChange(i),s=!0)}return que(e,t,n,r,o,a),s}function que(e,t,n,r,i,o){var a=n.getGeometryFunction()(t);if(a){var s=a.simplifyTransformed(r,i),h=n.getRenderer();if(h)xW(e,s,n,t);else{var g=CW[s.getType()];g(e,s,n,t,o)}}}function xW(e,t,n,r){if(t.getType()=="GeometryCollection"){for(var i=t.getGeometries(),o=0,a=i.length;o<a;++o)xW(e,i[o],n,r);return}var s=e.getBuilder(n.getZIndex(),"Default");s.drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer())}function Hue(e,t,n,r,i){var o=t.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var h=CW[o[a].getType()];h(e,o[a],n,r,i)}}function Vue(e,t,n,r,i){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,r)}var s=n.getText();if(s&&s.getText()){var h=(i||e).getBuilder(n.getZIndex(),"Text");h.setTextStyle(s),h.drawText(t,r)}}function Zue(e,t,n,r,i){var o=n.getStroke();if(o){var a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,r)}var s=n.getText();if(s&&s.getText()){var h=(i||e).getBuilder(n.getZIndex(),"Text");h.setTextStyle(s),h.drawText(t,r)}}function Xue(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,r)}var h=n.getText();if(h&&h.getText()){var g=(i||e).getBuilder(n.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,r)}}function Jue(e,t,n,r,i){var o=n.getImage(),a=n.getText(),s;if(o){if(o.getImageState()!=ns.LOADED)return;var h=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(h=i,g==="obstacle"){var _=e.getBuilder(n.getZIndex(),"Image");_.setImageStyle(o,s),_.drawPoint(t,r)}else a&&a.getText()&&(s={})}var E=h.getBuilder(n.getZIndex(),"Image");E.setImageStyle(o,s),E.drawPoint(t,r)}if(a&&a.getText()){var O=e;i&&(O=i);var K=O.getBuilder(n.getZIndex(),"Text");K.setTextStyle(a,s),K.drawText(t,r)}}function eAe(e,t,n,r,i){var o=n.getImage(),a=n.getText(),s;if(o){if(o.getImageState()!=ns.LOADED)return;var h=e;if(i){var g=o.getDeclutterMode();if(g!=="none")if(h=i,g==="obstacle"){var _=e.getBuilder(n.getZIndex(),"Image");_.setImageStyle(o,s),_.drawMultiPoint(t,r)}else a&&a.getText()&&(s={})}var E=h.getBuilder(n.getZIndex(),"Image");E.setImageStyle(o,s),E.drawMultiPoint(t,r)}if(a&&a.getText()){var O=e;i&&(O=i);var K=O.getBuilder(n.getZIndex(),"Text");K.setTextStyle(a,s),K.drawText(t,r)}}function tAe(e,t,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=e.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(t,r)}var h=n.getText();if(h&&h.getText()){var g=(i||e).getBuilder(n.getZIndex(),"Text");g.setTextStyle(h),g.drawText(t,r)}}var nAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rAe=function(e){nAe(t,e);function t(n){var r=e.call(this,n)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Gd(),r.wrappedRenderedExtent_=Gd(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r.compositionContext_=null,r.opacity_=1,r}return t.prototype.renderWorlds=function(n,r,i){var o=r.extent,a=r.viewState,s=a.center,h=a.resolution,g=a.projection,_=a.rotation,E=g.getExtent(),O=this.getLayer().getSource(),K=r.pixelRatio,D=r.viewHints,Y=!(D[ol.ANIMATING]||D[ol.INTERACTING]),ee=this.compositionContext_,H=Math.round(r.size[0]*K),N=Math.round(r.size[1]*K),Z=O.getWrapX()&&g.canWrapX(),ue=Z?_s(E):null,ye=Z?Math.ceil((o[2]-E[2])/ue)+1:1,be=Z?Math.floor((o[0]-E[0])/ue):0;do{var X=this.getRenderTransform(s,h,_,K,H,N,be*ue);n.execute(ee,1,X,_,Y,void 0,i)}while(++be<ye)},t.prototype.setupCompositionContext_=function(){if(this.opacity_!==1){var n=Sc(this.context.canvas.width,this.context.canvas.height,yP);this.compositionContext_=n}else this.compositionContext_=this.context},t.prototype.releaseCompositionContext_=function(){if(this.opacity_!==1){var n=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=n,I8(this.compositionContext_),yP.push(this.compositionContext_.canvas),this.compositionContext_=null}},t.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree),this.releaseCompositionContext_())},t.prototype.renderFrame=function(n,r){var i=n.pixelRatio,o=n.layerStatesArray[n.layerIndex];Sie(this.pixelTransform,1/i,1/i),l8(this.inversePixelTransform,this.pixelTransform);var a=gj(this.pixelTransform);this.useContainer(r,a,this.getBackground(n));var s=this.context,h=s.canvas,g=this.replayGroup_,_=this.declutterExecutorGroup;if((!g||g.isEmpty())&&(!_||_.isEmpty()))return null;var E=Math.round(n.size[0]*i),O=Math.round(n.size[1]*i);h.width!=E||h.height!=O?(h.width=E,h.height=O,h.style.transform!==a&&(h.style.transform=a)):this.containerReused||s.clearRect(0,0,E,O),this.preRender(s,n);var K=n.viewState;K.projection,this.opacity_=o.opacity,this.setupCompositionContext_();var D=!1,Y=!0;if(o.extent&&this.clipping){var ee=d1(o.extent);Y=_l(ee,n.extent),D=Y&&!Nm(ee,n.extent),D&&this.clipUnrotated(this.compositionContext_,n,ee)}return Y&&this.renderWorlds(g,n),D&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,n),this.renderedRotation_!==K.rotation&&(this.renderedRotation_=K.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(n){return new Promise((function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];yl(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,h=this.renderedProjection_,g=this.wrappedRenderedExtent_,_=this.getLayer(),E=[],O=i[0]*Zc,K=i[1]*Zc;E.push(this.getRenderTransform(o,a,s,Zc,O,K,0).slice());var D=_.getSource(),Y=h.getExtent();if(D.getWrapX()&&h.canWrapX()&&!Nm(Y,g)){for(var ee=g[0],H=_s(Y),N=0,Z=void 0;ee<Y[0];)--N,Z=H*N,E.push(this.getRenderTransform(o,a,s,Zc,O,K,Z).slice()),ee+=H;for(N=0,ee=g[2];ee>Y[2];)++N,Z=H*N,E.push(this.getRenderTransform(o,a,s,Zc,O,K,Z).slice()),ee-=H}this.hitDetectionImageData_=vW(i,E,this.renderedFeatures_,_.getStyleFunction(),g,a,s)}r(_W(n,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){var s=this;if(this.replayGroup_){var h=r.viewState.resolution,g=r.viewState.rotation,_=this.getLayer(),E={},O=function(Y,ee,H){var N=qi(Y),Z=E[N];if(Z){if(Z!==!0&&H<Z.distanceSq){if(H===0)return E[N]=!0,a.splice(a.lastIndexOf(Z),1),o(Y,_,ee);Z.geometry=ee,Z.distanceSq=H}}else{if(H===0)return E[N]=!0,o(Y,_,ee);a.push(E[N]={feature:Y,layer:_,geometry:ee,distanceSq:H,callback:o})}},K,D=[this.replayGroup_];return this.declutterExecutorGroup&&D.push(this.declutterExecutorGroup),D.some(function(Y){return K=Y.forEachFeatureAtCoordinate(n,h,g,i,O,Y===s.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(ee){return ee.value}):null)}),K}},t.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()},t.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(n){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=n.viewHints[ol.ANIMATING],a=n.viewHints[ol.INTERACTING],s=r.getUpdateWhileAnimating(),h=r.getUpdateWhileInteracting();if(this.ready&&!s&&o||!h&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var g=n.extent,_=n.viewState,E=_.projection,O=_.resolution,K=n.pixelRatio,D=r.getRevision(),Y=r.getRenderBuffer(),ee=r.getRenderOrder();ee===void 0&&(ee=Que);var H=_.center.slice(),N=o0(g,Y*O),Z=N.slice(),ue=[N.slice()],ye=E.getExtent();if(i.getWrapX()&&E.canWrapX()&&!Nm(ye,n.extent)){var be=_s(ye),X=Math.max(_s(N)/2,be);N[0]=ye[0]-X,N[2]=ye[2]+X,f8(H,E);var se=xj(ue[0],E);se[0]<ye[0]&&se[2]<ye[2]?ue.push([se[0]+be,se[1],se[2]+be,se[3]]):se[0]>ye[0]&&se[2]>ye[2]&&ue.push([se[0]-be,se[1],se[2]-be,se[3]])}if(this.ready&&this.renderedResolution_==O&&this.renderedRevision_==D&&this.renderedRenderOrder_==ee&&Nm(this.wrappedRenderedExtent_,N))return Q1(this.renderedExtent_,Z)||(this.hitDetectionImageData_=null,this.renderedExtent_=Z),this.renderedCenter_=H,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var we=new O4(IO(O,K),N,O,K),xe;this.getLayer().getDeclutter()&&(xe=new O4(IO(O,K),N,O,K));for(var De,Fe,he,Fe=0,he=ue.length;Fe<he;++Fe)i.loadFeatures(ue[Fe],O,E);var Qe=bW(O,K),ge=!0,yt=(function(He){var Ve,Vt=He.getStyleFunction()||r.getStyleFunction();if(Vt&&(Ve=Vt(He,O)),Ve){var Yt=this.renderFeature(He,Qe,Ve,we,De,xe);ge=ge&&!Yt}}).bind(this),wt=Ej(N),st=i.getFeaturesInExtent(wt);ee&&st.sort(ee);for(var Fe=0,he=st.length;Fe<he;++Fe)yt(st[Fe]);this.renderedFeatures_=st,this.ready=ge;var mt=we.finish(),ze=new B4(N,O,K,i.getOverlaps(),mt,r.getRenderBuffer());return xe&&(this.declutterExecutorGroup=new B4(N,O,K,i.getOverlaps(),xe.finish(),r.getRenderBuffer())),this.renderedResolution_=O,this.renderedRevision_=D,this.renderedRenderOrder_=ee,this.renderedExtent_=Z,this.wrappedRenderedExtent_=N,this.renderedCenter_=H,this.renderedProjection_=E,this.replayGroup_=ze,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(n,r,i,o,a,s){if(!i)return!1;var h=!1;if(Array.isArray(i))for(var g=0,_=i.length;g<_;++g)h=I4(o,n,i[g],r,this.boundHandleStyleImageChange_,a,s)||h;else h=I4(o,n,i,r,this.boundHandleStyleImageChange_,a,s);return h},t}(gW);const iAe=rAe;var oAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aAe=function(e){oAe(t,e);function t(n){return e.call(this,n)||this}return t.prototype.createRenderer=function(){return new iAe(this)},t}(fW);const wW=aAe;var CP=function(){function e(t){this.rbush_=new cW(t),this.items_={}}return e.prototype.insert=function(t,n){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(r),this.items_[qi(n)]=r},e.prototype.load=function(t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var a=t[i],s=n[i],h={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=h,this.items_[qi(s)]=h}this.rbush_.load(r)},e.prototype.remove=function(t){var n=qi(t),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null},e.prototype.update=function(t,n){var r=this.items_[qi(n)],i=[r.minX,r.minY,r.maxX,r.maxY];uv(i,t)||(this.remove(n),this.insert(t,n))},e.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(n){return n.value})},e.prototype.getInExtent=function(t){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},r=this.rbush_.search(n);return r.map(function(i){return i.value})},e.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},e.prototype.forEachInExtent=function(t,n){return this.forEach_(this.getInExtent(t),n)},e.prototype.forEach_=function(t,n){for(var r,i=0,o=t.length;i<o;i++)if(r=n(t[i]),r)return r;return r},e.prototype.isEmpty=function(){return L1(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(t){var n=this.rbush_.toJSON();return Nf(n.minX,n.minY,n.maxX,n.maxY,t)},e.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var n in t.items_)this.items_[n]=t.items_[n]},e}(),sAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lAe=function(e){sAe(t,e);function t(n){var r=e.call(this)||this;r.projection=Hs(n.projection),r.attributions_=bP(n.attributions),r.attributionsCollapsible_=n.attributionsCollapsible!==void 0?n.attributionsCollapsible:!0,r.loading=!1,r.state_=n.state!==void 0?n.state:"ready",r.wrapX_=n.wrapX!==void 0?n.wrapX:!1,r.interpolate_=!!n.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),r}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return vi()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(n){this.attributions_=bP(n),this.changed()},t.prototype.setState=function(n){this.state_=n,this.changed()},t}(Lh);function bP(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const MW=lAe,wh={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function uAe(e,t){return[[-1/0,-1/0,1/0,1/0]]}var AAe=!1;function SW(e,t,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof e=="function"?e(n,r,i):e,!0),t.getType()=="arraybuffer"&&(s.responseType="arraybuffer"),s.withCredentials=AAe,s.onload=function(h){if(!s.status||s.status>=200&&s.status<300){var g=t.getType(),_=void 0;g=="json"||g=="text"?_=s.responseText:g=="xml"?(_=s.responseXML,_||(_=new DOMParser().parseFromString(s.responseText,"application/xml"))):g=="arraybuffer"&&(_=s.response),_?o(t.readFeatures(_,{extent:n,featureProjection:i}),t.readProjection(_)):a()}else a()},s.onerror=a,s.send()}function xP(e,t){return function(n,r,i,o,a){var s=this;SW(e,t,n,r,i,function(h,g){s.addFeatures(h),o!==void 0&&o(h)},a||F1)}}var EW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wm=function(e){EW(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.feature=r,o.features=i,o}return t}(Jp),cAe=function(e){EW(t,e);function t(n){var r=this,i=n||{};r=e.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=F1,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(co(r.format_,7),r.loader_=xP(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:uAe;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new CP:null,r.loadedExtentsRtree_=new CP,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new Ud(s)),s!==void 0&&r.addFeaturesInternal(s),a!==void 0&&r.bindFeaturesCollection_(a),r}return t.prototype.addFeature=function(n){this.addFeatureInternal(n),this.changed()},t.prototype.addFeatureInternal=function(n){var r=qi(n);if(!this.addToIndex_(r,n)){this.featuresCollection_&&this.featuresCollection_.remove(n);return}this.setupChangeEvents_(r,n);var i=n.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,n)}else this.nullGeometryFeatures_[r]=n;this.dispatchEvent(new wm(wh.ADDFEATURE,n))},t.prototype.setupChangeEvents_=function(n,r){this.featureChangeKeys_[n]=[Eo(r,ji.CHANGE,this.handleFeatureChange_,this),Eo(r,lv.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(n,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(co(!(n in this.uidIndex_),30),this.uidIndex_[n]=r),i},t.prototype.addFeatures=function(n){this.addFeaturesInternal(n),this.changed()},t.prototype.addFeaturesInternal=function(n){for(var r=[],i=[],o=[],a=0,s=n.length;a<s;a++){var h=n[a],g=qi(h);this.addToIndex_(g,h)&&i.push(h)}for(var a=0,_=i.length;a<_;a++){var h=i[a],g=qi(h);this.setupChangeEvents_(g,h);var E=h.getGeometry();if(E){var O=E.getExtent();r.push(O),o.push(h)}else this.nullGeometryFeatures_[g]=h}if(this.featuresRtree_&&this.featuresRtree_.load(r,o),this.hasListener(wh.ADDFEATURE))for(var a=0,K=i.length;a<K;a++)this.dispatchEvent(new wm(wh.ADDFEATURE,i[a]))},t.prototype.bindFeaturesCollection_=function(n){var r=!1;this.addEventListener(wh.ADDFEATURE,function(i){r||(r=!0,n.push(i.feature),r=!1)}),this.addEventListener(wh.REMOVEFEATURE,function(i){r||(r=!0,n.remove(i.feature),r=!1)}),n.addEventListener(_c.ADD,(function(i){r||(r=!0,this.addFeature(i.element),r=!1)}).bind(this)),n.addEventListener(_c.REMOVE,(function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}).bind(this)),this.featuresCollection_=n},t.prototype.clear=function(n){if(n){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(is)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=(function(h){this.removeFeatureInternal(h)}).bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new wm(wh.CLEAR);this.dispatchEvent(s),this.changed()},t.prototype.forEachFeature=function(n){if(this.featuresRtree_)return this.featuresRtree_.forEach(n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},t.prototype.forEachFeatureAtCoordinateDirect=function(n,r){var i=[n[0],n[1],n[0],n[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(n))return r(o)})},t.prototype.forEachFeatureInExtent=function(n,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(n,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},t.prototype.forEachFeatureIntersectingExtent=function(n,r){return this.forEachFeatureInExtent(n,function(i){var o=i.getGeometry();if(o.intersectsExtent(n)){var a=r(i);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var n;return this.featuresCollection_?n=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(n=this.featuresRtree_.getAll(),L1(this.nullGeometryFeatures_)||Rf(n,Aj(this.nullGeometryFeatures_))),n},t.prototype.getFeaturesAtCoordinate=function(n){var r=[];return this.forEachFeatureAtCoordinateDirect(n,function(i){r.push(i)}),r},t.prototype.getFeaturesInExtent=function(n,r){var i=this;if(this.featuresRtree_){var o=r&&r.canWrapX()&&this.getWrapX();if(!o)return this.featuresRtree_.getInExtent(n);var a=Die(n,r);return[].concat.apply([],a.map(function(s){return i.featuresRtree_.getInExtent(s)}))}else return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(n,r){var i=n[0],o=n[1],a=null,s=[NaN,NaN],h=1/0,g=[-1/0,-1/0,1/0,1/0],_=r||Ry;return this.featuresRtree_.forEachInExtent(g,function(E){if(_(E)){var O=E.getGeometry(),K=h;if(h=O.closestPointXY(i,o,s,h),h<K){a=E;var D=Math.sqrt(h);g[0]=i-D,g[1]=o-D,g[2]=i+D,g[3]=o+D}}}),a},t.prototype.getExtent=function(n){return this.featuresRtree_.getExtent(n)},t.prototype.getFeatureById=function(n){var r=this.idIndex_[n.toString()];return r!==void 0?r:null},t.prototype.getFeatureByUid=function(n){var r=this.uidIndex_[n];return r!==void 0?r:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(n){var r=n.target,i=qi(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,r)):this.featuresRtree_&&this.featuresRtree_.update(a,r)}var s=r.getId();if(s!==void 0){var h=s.toString();this.idIndex_[h]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[h]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new wm(wh.CHANGEFEATURE,r))},t.prototype.hasFeature=function(n){var r=n.getId();return r!==void 0?r in this.idIndex_:qi(n)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&L1(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},t.prototype.loadFeatures=function(n,r,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(n,r,i),s=function(E,O){var K=a[E],D=o.forEachInExtent(K,function(Y){return Nm(Y.extent,K)});D||(++h.loadingExtentsCount_,h.dispatchEvent(new wm(wh.FEATURESLOADSTART)),h.loader_.call(h,K,r,i,(function(Y){--this.loadingExtentsCount_,this.dispatchEvent(new wm(wh.FEATURESLOADEND,void 0,Y))}).bind(h),(function(){--this.loadingExtentsCount_,this.dispatchEvent(new wm(wh.FEATURESLOADERROR))}).bind(h)),o.insert(K,{extent:K.slice()}))},h=this,g=0,_=a.length;g<_;++g)s(g);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(n){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(n,function(o){if(uv(o.extent,n))return i=o,!0}),i&&r.remove(i)},t.prototype.removeFeature=function(n){if(n){var r=qi(n);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(n);var i=this.removeFeatureInternal(n);i&&this.changed()}},t.prototype.removeFeatureInternal=function(n){var r=qi(n),i=this.featureChangeKeys_[r];if(i){i.forEach(is),delete this.featureChangeKeys_[r];var o=n.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new wm(wh.REMOVEFEATURE,n)),n}},t.prototype.removeFromIdIndex_=function(n){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===n){delete this.idIndex_[i],r=!0;break}return r},t.prototype.setLoader=function(n){this.loader_=n},t.prototype.setUrl=function(n){co(this.format_,7),this.url_=n,this.setLoader(xP(n,this.format_))},t}(MW);const OW=cAe;function dAe(e){var t=e||{},n=new Ud,r=new Ple(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;i&&n.push(new vle);var o=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;o&&n.push(new sle({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&n.push(new gle({onFocusOnly:t.onFocusOnly,kinetic:r}));var s=t.pinchRotate!==void 0?t.pinchRotate:!0;s&&n.push(new Ule);var h=t.pinchZoom!==void 0?t.pinchZoom:!0;h&&n.push(new jle({duration:t.zoomDuration}));var g=t.keyboard!==void 0?t.keyboard:!0;g&&(n.push(new Ble),n.push(new Tle({delta:t.zoomDelta,duration:t.zoomDuration})));var _=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;_&&n.push(new Fle({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var E=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return E&&n.push(new Ele({duration:t.zoomDuration})),n}var hAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),R8=function(e){hAe(t,e);function t(n){return n=Cl({},n),n.controls||(n.controls=tle()),n.interactions||(n.interactions=dAe({onFocusOnly:!0})),e.call(this,n)||this}return t.prototype.createRenderer=function(){return new dse(this)},t}(jse),BW=function(){function e(t,n,r,i){this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}return e.prototype.contains=function(t){return this.containsXY(t[1],t[2])},e.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},e.prototype.containsXY=function(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY},e.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},e.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e}();function Ug(e,t,n,r,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new BW(e,t,n,r)}const IW=BW;function wP(e,t,n,r){return r!==void 0?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function Ov(e,t,n){return e+"/"+t+"/"+n}function kW(e){return Ov(e[0],e[1],e[2])}function fAe(e){var t=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number),n=t[0],r=t[1],i=t[2];return Ov(n,r,i)}function TW(e){return e.split("/").map(Number)}function pAe(e){return(e[1]<<e[0])+e[2]}function mAe(e,t){var n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var o=t.getFullTileRange(n);return o?o.containsXY(r,i):!0}var gAe=[0,0,0],Mm=5,yAe=function(){function e(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,co(lie(this.resolutions_,function(a,s){return s-a},!0),17);var n;if(!t.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,co(this.origins_.length==this.resolutions_.length,20));var o=t.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=y0(o)),co(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,co(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:k8,co(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,s){var h=new IW(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var g=this.getTileRangeForExtentAndZ(o,s);h.minX=Math.max(g.minX,h.minX),h.maxX=Math.min(g.maxX,h.maxX),h.minY=Math.max(g.minY,h.minY),h.maxY=Math.min(g.maxY,h.maxY)}return h},this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(t,n,r){for(var i=this.getTileRangeForExtentAndZ(t,n),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,h=i.maxY;s<=h;++s)r([n,o,s])},e.prototype.forEachTileCoordParentTileRange=function(t,n,r,i){var o,a,s,h=null,g=t[0]-1;for(this.zoomFactor_===2?(a=t[1],s=t[2]):h=this.getTileCoordExtent(t,i);g>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Ug(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(h,g,r),n(g,o))return!0;--g}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},e.prototype.getResolution=function(t){return this.resolutions_[t]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(t,n,r){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var i=t[1]*2,o=t[2]*2;return Ug(i,i+1,o,o+1,n)}var a=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,n)}return null},e.prototype.getTileRangeForTileCoordAndZ=function(t,n,r){if(n>this.maxZoom||n<this.minZoom)return null;var i=t[0],o=t[1],a=t[2];if(n===i)return Ug(o,a,o,a,r);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,n-i),h=Math.floor(o*s),g=Math.floor(a*s);if(n<i)return Ug(h,h,g,g,r);var _=Math.floor(s*(o+1))-1,E=Math.floor(s*(a+1))-1;return Ug(h,_,g,E,r)}var O=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(O,n,r)},e.prototype.getTileRangeExtent=function(t,n,r){var i=this.getOrigin(t),o=this.getResolution(t),a=RA(this.getTileSize(t),this.tmpSize_),s=i[0]+n.minX*a[0]*o,h=i[0]+(n.maxX+1)*a[0]*o,g=i[1]+n.minY*a[1]*o,_=i[1]+(n.maxY+1)*a[1]*o;return Nf(s,g,h,_,r)},e.prototype.getTileRangeForExtentAndZ=function(t,n,r){var i=gAe;this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,i),Ug(o,i[1],a,i[2],r)},e.prototype.getTileCoordCenter=function(t){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=RA(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*i[0]*r,n[1]-(t[2]+.5)*i[1]*r]},e.prototype.getTileCoordExtent=function(t,n){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=RA(this.getTileSize(t[0]),this.tmpSize_),a=r[0]+t[1]*o[0]*i,s=r[1]-(t[2]+1)*o[1]*i,h=a+o[0]*i,g=s+o[1]*i;return Nf(a,s,h,g,n)},e.prototype.getTileCoordForCoordAndResolution=function(t,n,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(t,n,r,i,o){var a=this.getZForResolution(r),s=r/this.getResolution(a),h=this.getOrigin(a),g=RA(this.getTileSize(a),this.tmpSize_),_=s*(t-h[0])/r/g[0],E=s*(h[1]-n)/r/g[1];return i?(_=g2(_,Mm)-1,E=g2(E,Mm)-1):(_=m2(_,Mm),E=m2(E,Mm)),wP(a,_,E,o)},e.prototype.getTileCoordForXYAndZ_=function(t,n,r,i,o){var a=this.getOrigin(r),s=this.getResolution(r),h=RA(this.getTileSize(r),this.tmpSize_),g=(t-a[0])/s/h[0],_=(a[1]-n)/s/h[1];return i?(g=g2(g,Mm)-1,_=g2(_,Mm)-1):(g=m2(g,Mm),_=m2(_,Mm)),wP(r,g,_,o)},e.prototype.getTileCoordForCoordAndZ=function(t,n,r){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,r)},e.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},e.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},e.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},e.prototype.getZForResolution=function(t,n){var r=a8(this.resolutions_,t,n||0);return Kl(r,this.minZoom,this.maxZoom)},e.prototype.tileCoordIntersectsViewport=function(t,n){return Pj(n,0,n.length,2,this.getTileCoordExtent(t))},e.prototype.calculateTileRanges_=function(t){for(var n=this.resolutions_.length,r=new Array(n),i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r},e}();const Rb=yAe;var vAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_Ae=function(e){vAe(t,e);function t(n,r,i){var o=e.call(this)||this,a=i||{};return o.tileCoord=n,o.state=r,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return t.prototype.changed=function(){this.dispatchEvent(ji.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var n=this.interimTile;do{if(n.getState()==mr.LOADED)return this.transition_=0,n;n=n.interimTile}while(n);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var n=this.interimTile,r=this;do{if(n.getState()==mr.LOADED){n.interimTile=null;break}else n.getState()==mr.LOADING?r=n:n.getState()==mr.IDLE?r.interimTile=n.interimTile:r=n;n=r.interimTile}while(n)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(n){if(this.state!==mr.ERROR&&this.state>n)throw new Error("Tile load sequence violation");this.state=n,this.changed()},t.prototype.load=function(){vi()},t.prototype.getAlpha=function(n,r){if(!this.transition_)return 1;var i=this.transitionStarts_[n];if(!i)i=r,this.transitionStarts_[n]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:nW(o/this.transition_)},t.prototype.inTransition=function(n){return this.transition_?this.transitionStarts_[n]!==-1:!1},t.prototype.endTransition=function(n){this.transition_&&(this.transitionStarts_[n]=-1)},t}(Sv);const gw=_Ae;var CAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bAe=function(e){CAe(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,s)||this;return h.crossOrigin_=o,h.src_=i,h.key=i,h.image_=new Image,o!==null&&(h.image_.crossOrigin=o),h.unlisten_=null,h.tileLoadFunction_=a,h}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(n){this.image_=n,this.state=mr.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=mr.ERROR,this.unlistenImage_(),this.image_=xAe(),this.changed()},t.prototype.handleImageLoad_=function(){var n=this.image_;n.naturalWidth&&n.naturalHeight?this.state=mr.LOADED:this.state=mr.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==mr.ERROR&&(this.state=mr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==mr.IDLE&&(this.state=mr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=U8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(gw);function xAe(){var e=Sc(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const PW=bAe;var wAe=.5,MAe=10,MP=.25,SAe=function(){function e(t,n,r,i,o,a){this.sourceProj_=t,this.targetProj_=n;var s={},h=g4(this.targetProj_,this.sourceProj_);this.transformInv_=function(Z){var ue=Z[0]+"/"+Z[1];return s[ue]||(s[ue]=h(Z)),s[ue]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&_s(i)==_s(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?_s(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?_s(this.targetProj_.getExtent()):null;var g=y0(r),_=Aw(r),E=uw(r),O=lw(r),K=this.transformInv_(g),D=this.transformInv_(_),Y=this.transformInv_(E),ee=this.transformInv_(O),H=MAe+(a?Math.max(0,Math.ceil(Uie(cO(r)/(a*a*256*256)))):0);if(this.addQuad_(g,_,E,O,K,D,Y,ee,H),this.wrapsXInSource_){var N=1/0;this.triangles_.forEach(function(Z,ue,ye){N=Math.min(N,Z.source[0][0],Z.source[1][0],Z.source[2][0])}),this.triangles_.forEach((function(Z){if(Math.max(Z.source[0][0],Z.source[1][0],Z.source[2][0])-N>this.sourceWorldWidth_/2){var ue=[[Z.source[0][0],Z.source[0][1]],[Z.source[1][0],Z.source[1][1]],[Z.source[2][0],Z.source[2][1]]];ue[0][0]-N>this.sourceWorldWidth_/2&&(ue[0][0]-=this.sourceWorldWidth_),ue[1][0]-N>this.sourceWorldWidth_/2&&(ue[1][0]-=this.sourceWorldWidth_),ue[2][0]-N>this.sourceWorldWidth_/2&&(ue[2][0]-=this.sourceWorldWidth_);var ye=Math.min(ue[0][0],ue[1][0],ue[2][0]),be=Math.max(ue[0][0],ue[1][0],ue[2][0]);be-ye<this.sourceWorldWidth_/2&&(Z.source=ue)}}).bind(this))}s={}}return e.prototype.addTriangle_=function(t,n,r,i,o,a){this.triangles_.push({source:[i,o,a],target:[t,n,r]})},e.prototype.addQuad_=function(t,n,r,i,o,a,s,h,g){var _=uO([o,a,s,h]),E=this.sourceWorldWidth_?_s(_)/this.sourceWorldWidth_:null,O=this.sourceWorldWidth_,K=this.sourceProj_.canWrapX()&&E>.5&&E<1,D=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var Y=uO([t,n,r,i]),ee=_s(Y)/this.targetWorldWidth_;D=ee>MP||D}!K&&this.sourceProj_.isGlobal()&&E&&(D=E>MP||D)}if(!(!D&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!_l(_,this.maxSourceExtent_))){var H=0;if(!D&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(h[0])||!isFinite(h[1]))){if(g>0)D=!0;else if(H=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(h[0])||!isFinite(h[1])?1:0),H!=1&&H!=2&&H!=4&&H!=8)return}if(g>0){if(!D){var N=[(t[0]+r[0])/2,(t[1]+r[1])/2],Z=this.transformInv_(N),ue=void 0;if(K){var ye=(x1(o[0],O)+x1(s[0],O))/2;ue=ye-x1(Z[0],O)}else ue=(o[0]+s[0])/2-Z[0];var be=(o[1]+s[1])/2-Z[1],X=ue*ue+be*be;D=X>this.errorThresholdSquared_}if(D){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var se=[(n[0]+r[0])/2,(n[1]+r[1])/2],we=this.transformInv_(se),xe=[(i[0]+t[0])/2,(i[1]+t[1])/2],De=this.transformInv_(xe);this.addQuad_(t,n,se,xe,o,a,we,De,g-1),this.addQuad_(xe,se,r,i,De,we,s,h,g-1)}else{var Fe=[(t[0]+n[0])/2,(t[1]+n[1])/2],he=this.transformInv_(Fe),Qe=[(r[0]+i[0])/2,(r[1]+i[1])/2],ge=this.transformInv_(Qe);this.addQuad_(t,Fe,Qe,i,o,he,ge,h,g-1),this.addQuad_(Fe,n,r,Qe,he,a,s,ge,g-1)}return}}if(K){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}H&11||this.addTriangle_(t,r,i,o,s,h),H&14||this.addTriangle_(t,r,n,o,s,a),H&&(H&13||this.addTriangle_(n,i,t,a,h,o),H&7||this.addTriangle_(n,i,r,a,h,s))}},e.prototype.calculateSourceExtent=function(){var t=Gd();return this.triangles_.forEach(function(n,r,i){var o=n.source;fC(t,o[0]),fC(t,o[1]),fC(t,o[2])}),t},e.prototype.getTriangles=function(){return this.triangles_},e}(),kO={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},EAe={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},RS,KW=[];function SP(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function zS(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function OAe(){if(RS===void 0){var e=document.createElement("canvas").getContext("2d");e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",SP(e,4,5,4,0),SP(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;RS=zS(t,0)||zS(t,4)||zS(t,8)}return RS}function EP(e,t,n,r){var i=g8(n,t,e),o=WT(t,r,n),a=t.getMetersPerUnit();a!==void 0&&(o*=a);var s=e.getMetersPerUnit();s!==void 0&&(o/=s);var h=e.getExtent();if(!h||Pb(h,i)){var g=WT(e,o,i)/o;isFinite(g)&&g>0&&(o/=g)}return o}function BAe(e,t,n,r){var i=h0(n),o=EP(e,t,i,r);return(!isFinite(o)||o<=0)&&bj(n,function(a){return o=EP(e,t,a,r),isFinite(o)&&o>0}),o}function IAe(e,t,n,r,i,o,a,s,h,g,_,E){var O=Sc(Math.round(n*e),Math.round(n*t),KW);if(E||Cl(O,kO),h.length===0)return O.canvas;O.scale(n,n);function K(ue){return Math.round(ue*n)/n}O.globalCompositeOperation="lighter";var D=Gd();h.forEach(function(ue,ye,be){_j(D,ue.extent)});var Y=_s(D),ee=Mc(D),H=Sc(Math.round(n*Y/r),Math.round(n*ee/r));E||Cl(H,kO);var N=n/r;h.forEach(function(ue,ye,be){var X=ue.extent[0]-D[0],se=-(ue.extent[3]-D[3]),we=_s(ue.extent),xe=Mc(ue.extent);ue.image.width>0&&ue.image.height>0&&H.drawImage(ue.image,g,g,ue.image.width-2*g,ue.image.height-2*g,X*N,se*N,we*N,xe*N)});var Z=y0(a);return s.getTriangles().forEach(function(ue,ye,be){var X=ue.source,se=ue.target,we=X[0][0],xe=X[0][1],De=X[1][0],Fe=X[1][1],he=X[2][0],Qe=X[2][1],ge=K((se[0][0]-Z[0])/o),yt=K(-(se[0][1]-Z[1])/o),wt=K((se[1][0]-Z[0])/o),st=K(-(se[1][1]-Z[1])/o),mt=K((se[2][0]-Z[0])/o),ze=K(-(se[2][1]-Z[1])/o),He=we,Ve=xe;we=0,xe=0,De-=He,Fe-=Ve,he-=He,Qe-=Ve;var Vt=[[De,Fe,0,0,wt-ge],[he,Qe,0,0,mt-ge],[0,0,De,Fe,st-yt],[0,0,he,Qe,ze-yt]],Yt=zie(Vt);if(Yt){if(O.save(),O.beginPath(),OAe()||!E){O.moveTo(wt,st);for(var vt=4,$t=ge-wt,Qt=yt-st,ke=0;ke<vt;ke++)O.lineTo(wt+K((ke+1)*$t/vt),st+K(ke*Qt/(vt-1))),ke!=vt-1&&O.lineTo(wt+K((ke+1)*$t/vt),st+K((ke+1)*Qt/(vt-1)));O.lineTo(mt,ze)}else O.moveTo(wt,st),O.lineTo(ge,yt),O.lineTo(mt,ze);O.clip(),O.transform(Yt[0],Yt[2],Yt[1],Yt[3],ge,yt),O.translate(D[0]-He,D[3]-Ve),O.scale(r/n,-r/n),O.drawImage(H.canvas,0,0),O.restore()}}),_&&(O.save(),O.globalCompositeOperation="source-over",O.strokeStyle="black",O.lineWidth=1,s.getTriangles().forEach(function(ue,ye,be){var X=ue.target,se=(X[0][0]-Z[0])/o,we=-(X[0][1]-Z[1])/o,xe=(X[1][0]-Z[0])/o,De=-(X[1][1]-Z[1])/o,Fe=(X[2][0]-Z[0])/o,he=-(X[2][1]-Z[1])/o;O.beginPath(),O.moveTo(xe,De),O.lineTo(se,we),O.lineTo(Fe,he),O.closePath(),O.stroke()}),O.restore()),O.canvas}var kAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TAe=function(e){kAe(t,e);function t(n,r,i,o,a,s,h,g,_,E,O,K){var D=e.call(this,a,mr.IDLE,{interpolate:!!K})||this;D.renderEdges_=O!==void 0?O:!1,D.pixelRatio_=h,D.gutter_=g,D.canvas_=null,D.sourceTileGrid_=r,D.targetTileGrid_=o,D.wrappedTileCoord_=s||a,D.sourceTiles_=[],D.sourcesListenerKeys_=null,D.sourceZ_=0;var Y=o.getTileCoordExtent(D.wrappedTileCoord_),ee=D.targetTileGrid_.getExtent(),H=D.sourceTileGrid_.getExtent(),N=ee?C1(Y,ee):Y;if(cO(N)===0)return D.state=mr.EMPTY,D;var Z=n.getExtent();Z&&(H?H=C1(H,Z):H=Z);var ue=o.getResolution(D.wrappedTileCoord_[0]),ye=BAe(n,i,N,ue);if(!isFinite(ye)||ye<=0)return D.state=mr.EMPTY,D;var be=E!==void 0?E:wAe;if(D.triangulation_=new SAe(n,i,N,H,ye*be,ue),D.triangulation_.getTriangles().length===0)return D.state=mr.EMPTY,D;D.sourceZ_=r.getZForResolution(ye);var X=D.triangulation_.calculateSourceExtent();if(H&&(n.canWrapX()?(X[1]=Kl(X[1],H[1],H[3]),X[3]=Kl(X[3],H[1],H[3])):X=C1(X,H)),!cO(X))D.state=mr.EMPTY;else{for(var se=r.getTileRangeForExtentAndZ(X,D.sourceZ_),we=se.minX;we<=se.maxX;we++)for(var xe=se.minY;xe<=se.maxY;xe++){var De=_(D.sourceZ_,we,xe,h);De&&D.sourceTiles_.push(De)}D.sourceTiles_.length===0&&(D.state=mr.EMPTY)}return D}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var n=[];if(this.sourceTiles_.forEach((function(_,E,O){_&&_.getState()==mr.LOADED&&n.push({extent:this.sourceTileGrid_.getTileCoordExtent(_.tileCoord),image:_.getImage()})}).bind(this)),this.sourceTiles_.length=0,n.length===0)this.state=mr.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(r),h=this.sourceTileGrid_.getResolution(this.sourceZ_),g=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=IAe(o,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),s,g,this.triangulation_,n,this.gutter_,this.renderEdges_,this.interpolate),this.state=mr.LOADED}this.changed()},t.prototype.load=function(){if(this.state==mr.IDLE){this.state=mr.LOADING,this.changed();var n=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(r,i,o){var a=r.getState();if(a==mr.IDLE||a==mr.LOADING){n++;var s=Eo(r,ji.CHANGE,function(h){var g=r.getState();(g==mr.LOADED||g==mr.ERROR||g==mr.EMPTY)&&(is(s),n--,n===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}).bind(this)),n===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var a=r.getState();a==mr.IDLE&&r.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(is),this.sourcesListenerKeys_=null},t.prototype.release=function(){this.canvas_&&(I8(this.canvas_.getContext("2d")),KW.push(this.canvas_),this.canvas_=null),e.prototype.release.call(this)},t}(gw);const DW=TAe;var PAe=function(){function e(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},e.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var n=this.oldest_;n;)t(n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t,n){var r=this.entries_[t];return co(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},e.prototype.remove=function(t){var n=this.entries_[t];return co(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.key_;return t},e.prototype.getValues=function(){var t=new Array(this.count_),n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.value_;return t},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,n){this.get(t),this.entries_[t].value_=n},e.prototype.set=function(t,n){co(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}();const KAe=PAe;var DAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FAe=function(e){DAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.expireCache=function(n){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in n)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var n=this.peekFirstKey(),r=TW(n),i=r[0];this.forEach((function(o){o.tileCoord[0]!==i&&(this.remove(kW(o.tileCoord)),o.release())}).bind(this))}},t}(KAe);const z8=FAe,jS={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function FW(e){var t=e.getDefaultTileGrid();return t||(t=RAe(e),e.setDefaultTileGrid(t)),t}function LAe(e,t,n){var r=t[0],i=e.getTileCoordCenter(t),o=yw(n);if(Pb(o,i))return t;var a=_s(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,e.getTileCoordForCoordAndZ(i,r)}function UAe(e,t,n,r){var i=r!==void 0?r:"top-left",o=LW(e,t,n);return new Rb({extent:e,origin:kie(e,i),resolutions:o,tileSize:n})}function j8(e){var t=e||{},n=t.extent||Hs("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:LW(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Rb(r)}function LW(e,t,n,r){for(var i=t!==void 0?t:tW,o=Mc(e),a=_s(e),s=RA(n!==void 0?n:k8),h=r>0?r:Math.max(a/s[0],o/s[1]),g=i+1,_=new Array(g),E=0;E<g;++E)_[E]=h/Math.pow(2,E);return _}function RAe(e,t,n,r){var i=yw(e);return UAe(i,t,n,r)}function yw(e){e=Hs(e);var t=e.getExtent();if(!t){var n=180*jf[WA.DEGREES]/e.getMetersPerUnit();t=Nf(-n,-n,n,n)}return t}var UW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zAe=function(e){UW(t,e);function t(n){var r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,projection:n.projection,state:n.state,wrapX:n.wrapX,interpolate:n.interpolate})||this;r.on,r.once,r.un,r.opaque_=n.opaque!==void 0?n.opaque:!1,r.tilePixelRatio_=n.tilePixelRatio!==void 0?n.tilePixelRatio:1,r.tileGrid=n.tileGrid!==void 0?n.tileGrid:null;var i=[256,256];return r.tileGrid&&RA(r.tileGrid.getTileSize(r.tileGrid.getMinZoom()),i),r.tileCache=new z8(n.cacheSize||0),r.tmpSize=[0,0],r.key_=n.key||"",r.tileOptions={transition:n.transition,interpolate:n.interpolate},r.zDirection=n.zDirection?n.zDirection:0,r}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);i&&i.expireCache(r)},t.prototype.forEachLoadedTile=function(n,r,i,o){var a=this.getTileCacheForProjection(n);if(!a)return!1;for(var s=!0,h,g,_,E=i.minX;E<=i.maxX;++E)for(var O=i.minY;O<=i.maxY;++O)g=Ov(r,E,O),_=!1,a.containsKey(g)&&(h=a.get(g),_=h.getState()===mr.LOADED,_&&(_=o(h)!==!1)),_||(s=!1);return s},t.prototype.getGutterForProjection=function(n){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(n){this.key_!==n&&(this.key_=n,this.changed())},t.prototype.getOpaque=function(n){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(n,r,i,o,a){return vi()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(n){return this.tileGrid?this.tileGrid:FW(n)},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();return co(r===null||r1(r,n),68),this.tileCache},t.prototype.getTilePixelRatio=function(n){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(r),s=RA(o.getTileSize(n),this.tmpSize);return a==1?s:Lse(s,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(n,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(n=LAe(o,n,i)),mAe(n,o)?n:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(n,r){var i=this.getTileCacheForProjection(r);n>i.highWaterMark&&(i.highWaterMark=n)},t.prototype.useTile=function(n,r,i,o){},t}(MW),jAe=function(e){UW(t,e);function t(n,r){var i=e.call(this,n)||this;return i.tile=r,i}return t}(Jp);const WAe=zAe;function NAe(e,t){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,h){if(a)return e.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var g=a[0],_=t.getFullTileRange(g);co(_,55);var E=_.getHeight()-a[2]-1;return E.toString()})}}function RW(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=NAe(e[i],t);return GAe(r)}function GAe(e){return e.length===1?e[0]:function(t,n,r){if(t){var i=pAe(t),o=x1(i,e.length);return e[o](t,n,r)}else return}}function $Ae(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}var QAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),YAe=function(e){QAe(t,e);function t(n){var r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===t.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(n){var r=n.target,i=qi(r),o=r.getState(),a;o==mr.LOADING?(this.tileLoadingKeys_[i]=!0,a=jS.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==mr.ERROR?jS.TILELOADERROR:o==mr.LOADED?jS.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new jAe(a,r))},t.prototype.setTileLoadFunction=function(n){this.tileCache.clear(),this.tileLoadFunction=n,this.changed()},t.prototype.setTileUrlFunction=function(n,r){this.tileUrlFunction=n,this.tileCache.pruneExceptNewestZ(),typeof r<"u"?this.setKey(r):this.changed()},t.prototype.setUrl=function(n){var r=$Ae(n);this.urls=r,this.setUrls(r)},t.prototype.setUrls=function(n){this.urls=n;var r=n.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(RW(n,this.tileGrid),r):this.setKey(r)},t.prototype.tileUrlFunction=function(n,r,i){},t.prototype.useTile=function(n,r,i){var o=Ov(n,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(WAe);const zW=YAe;var qAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HAe=function(e){qAe(t,e);function t(n){var r=this,i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;return n.interpolate!==void 0&&(i=n.interpolate),r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:VAe,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX,transition:n.transition,interpolate:i,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this,r.crossOrigin=n.crossOrigin!==void 0?n.crossOrigin:null,r.tileClass=n.tileClass!==void 0?n.tileClass:PW,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=n.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var n in this.tileCacheForProjection)if(this.tileCacheForProjection[n].canExpireCache())return!0;return!1},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?r:{})}},t.prototype.getGutterForProjection=function(n){return this.getProjection()&&n&&!r1(this.getProjection(),n)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var n=e.prototype.getKey.call(this);return this.getInterpolate()||(n+=":disable-interpolation"),n},t.prototype.getOpaque=function(n){return this.getProjection()&&n&&!r1(this.getProjection(),n)?!1:e.prototype.getOpaque.call(this,n)},t.prototype.getTileGridForProjection=function(n){var r=this.getProjection();if(this.tileGrid&&(!r||r1(r,n)))return this.tileGrid;var i=qi(n);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=FW(n)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(n){var r=this.getProjection();if(!r||r1(r,n))return this.tileCache;var i=qi(n);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new z8(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(n,r,i,o,a,s){var h=[n,r,i],g=this.getTileCoordForTileUrlFunction(h,a),_=g?this.tileUrlFunction(g,o,a):void 0,E=new this.tileClass(h,_!==void 0?mr.IDLE:mr.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return E.key=s,E.addEventListener(ji.CHANGE,this.handleTileChange.bind(this)),E},t.prototype.getTile=function(n,r,i,o,a){var s=this.getProjection();if(!s||!a||r1(s,a))return this.getTileInternal(n,r,i,o,s||a);var h=this.getTileCacheForProjection(a),g=[n,r,i],_=void 0,E=kW(g);h.containsKey(E)&&(_=h.get(E));var O=this.getKey();if(_&&_.key==O)return _;var K=this.getTileGridForProjection(s),D=this.getTileGridForProjection(a),Y=this.getTileCoordForTileUrlFunction(g,a),ee=new DW(s,K,a,D,g,Y,this.getTilePixelRatio(o),this.getGutter(),(function(H,N,Z,ue){return this.getTileInternal(H,N,Z,ue,s)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return ee.key=O,_?(ee.interimTile=_,ee.refreshInterimChain(),h.replace(E,ee)):h.set(E,ee),ee},t.prototype.getTileInternal=function(n,r,i,o,a){var s=null,h=Ov(n,r,i),g=this.getKey();if(!this.tileCache.containsKey(h))s=this.createTile_(n,r,i,o,a,g),this.tileCache.set(h,s);else if(s=this.tileCache.get(h),s.key!=g){var _=s;s=this.createTile_(n,r,i,o,a,g),_.getState()==mr.IDLE?s.interimTile=_.interimTile:s.interimTile=_,s.refreshInterimChain(),this.tileCache.replace(h,s)}return s},t.prototype.setRenderReprojectionEdges=function(n){if(this.renderReprojectionEdges_!=n){this.renderReprojectionEdges_=n;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},t.prototype.setTileGridForProjection=function(n,r){{var i=Hs(n);if(i){var o=qi(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},t}(zW);function VAe(e,t){e.getImage().src=t}const ZAe=HAe;var jW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function XAe(e,t,n,r){var i=document.createElement("script"),o="olc_"+qi(t);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+o;var s=setTimeout(function(){a(),n&&n()},1e4);window[o]=function(h){clearTimeout(s),a(),t(h)},document.head.appendChild(i)}(function(e){jW(t,e);function t(n){var r=this,i="Unexpected response status: "+n.status;return r=e.call(this,i)||this,r.name="ResponseError",r.response=n,r}return t})(Error);(function(e){jW(t,e);function t(n){var r=e.call(this,"Failed to issue request")||this;return r.name="ClientError",r.client=n,r}return t})(Error);var JAe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ece=function(e){JAe(t,e);function t(n){var r=this,i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;if(n.interpolate!==void 0&&(i=n.interpolate),r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:i,projection:Hs("EPSG:3857"),reprojectionErrorThreshold:n.reprojectionErrorThreshold,state:"loading",tileLoadFunction:n.tileLoadFunction,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection})||this,r.tileJSON_=null,r.tileSize_=n.tileSize,n.url)if(n.jsonp)XAe(n.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var o=new XMLHttpRequest;o.addEventListener("load",r.onXHRLoad_.bind(r)),o.addEventListener("error",r.onXHRError_.bind(r)),o.open("GET",n.url),o.send()}else n.tileJSON?r.handleTileJSONResponse(n.tileJSON):co(!1,51);return r}return t.prototype.onXHRLoad_=function(n){var r=n.target;if(!r.status||r.status>=200&&r.status<300){var i=void 0;try{i=JSON.parse(r.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(n){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(n){var r=Hs("EPSG:4326"),i=this.getProjection(),o;if(n.bounds!==void 0){var a=cw(r,i);o=Kie(n.bounds,a)}var s=yw(i),h=n.minzoom||0,g=n.maxzoom||22,_=j8({extent:s,maxZoom:g,minZoom:h,tileSize:this.tileSize_});if(this.tileGrid=_,this.tileUrlFunction=RW(n.tiles,_),n.attribution!==void 0&&!this.getAttributions()){var E=o!==void 0?o:s;this.setAttributions(function(O){return _l(E,O.extent)?[n.attribution]:null})}this.tileJSON_=n,this.setState("ready")},t.prototype.handleTileJSONError=function(){this.setState("error")},t}(ZAe);const WW=ece,Qm={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var tce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nce=function(e){tce(t,e);function t(n){var r=this,i=n||{},o=Cl({},i);return delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return t.prototype.getPreload=function(){return this.get(Qm.PRELOAD)},t.prototype.setPreload=function(n){this.set(Qm.PRELOAD,n)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Qm.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(n){this.set(Qm.USE_INTERIM_TILES_ON_ERROR,n)},t.prototype.getData=function(n){return e.prototype.getData.call(this,n)},t}(fw);const rce=nce;var ice=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oce=function(e){ice(t,e);function t(n){var r=e.call(this,n)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Gd(),r.tmpTileRange_=new IW(0,0,0,0),r}return t.prototype.isDrawableTile=function(n){var r=this.getLayer(),i=n.getState(),o=r.getUseInterimTilesOnError();return i==mr.LOADED||i==mr.EMPTY||i==mr.ERROR&&!o},t.prototype.getTile=function(n,r,i,o){var a=o.pixelRatio,s=o.viewState.projection,h=this.getLayer(),g=h.getSource(),_=g.getTile(n,r,i,a,s);return _.getState()==mr.ERROR&&(h.getUseInterimTilesOnError()?h.getPreload()>0&&(this.newTiles_=!0):_.setState(mr.LOADED)),this.isDrawableTile(_)||(_=_.getInterimTile()),_},t.prototype.getData=function(n){var r=this.frameState;if(!r)return null;var i=this.getLayer(),o=yl(r.pixelToCoordinateTransform,n.slice()),a=i.getExtent();if(a&&!Pb(a,o))return null;for(var s=r.pixelRatio,h=r.viewState.projection,g=r.viewState,_=i.getRenderSource(),E=_.getTileGridForProjection(g.projection),O=_.getTilePixelRatio(r.pixelRatio),K=E.getZForResolution(g.resolution);K>=E.getMinZoom();--K){var D=E.getTileCoordForCoordAndZ(o,K),Y=_.getTile(K,D[1],D[2],s,h);if(!(Y instanceof PW||Y instanceof DW))return null;if(Y.getState()===mr.LOADED){var ee=E.getOrigin(K),H=RA(E.getTileSize(K)),N=E.getResolution(K),Z=Math.floor(O*((o[0]-ee[0])/N-D[1]*H[0])),ue=Math.floor(O*((ee[1]-o[1])/N-D[2]*H[1])),ye=Math.round(O*_.getGutterForProjection(g.projection));return this.getImageData(Y.getImage(),Z+ye,ue+ye)}}return null},t.prototype.loadedTileCallback=function(n,r,i){return this.isDrawableTile(i)?e.prototype.loadedTileCallback.call(this,n,r,i):!1},t.prototype.prepareFrame=function(n){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(n,r){var i=n.layerStatesArray[n.layerIndex],o=n.viewState,a=o.projection,s=o.resolution,h=o.center,g=o.rotation,_=n.pixelRatio,E=this.getLayer(),O=E.getSource(),K=O.getRevision(),D=O.getTileGridForProjection(a),Y=D.getZForResolution(s,O.zDirection),ee=D.getResolution(Y),H=n.extent,N=n.viewState.resolution,Z=O.getTilePixelRatio(_),ue=Math.round(_s(H)/N*_),ye=Math.round(Mc(H)/N*_),be=i.extent&&d1(i.extent);be&&(H=C1(H,d1(i.extent)));var X=ee*ue/2/Z,se=ee*ye/2/Z,we=[h[0]-X,h[1]-se,h[0]+X,h[1]+se],xe=D.getTileRangeForExtentAndZ(H,Y),De={};De[Y]={};var Fe=this.createLoadedTileFinder(O,a,De),he=this.tmpExtent,Qe=this.tmpTileRange_;this.newTiles_=!1;for(var ge=g?hO(o.center,N,g,n.size):void 0,yt=xe.minX;yt<=xe.maxX;++yt)for(var wt=xe.minY;wt<=xe.maxY;++wt)if(!(g&&!D.tileCoordIntersectsViewport([Y,yt,wt],ge))){var st=this.getTile(Y,yt,wt,n);if(this.isDrawableTile(st)){var mt=qi(this);if(st.getState()==mr.LOADED){De[Y][st.tileCoord.toString()]=st;var ze=st.inTransition(mt);ze&&i.opacity!==1&&(st.endTransition(mt),ze=!1),!this.newTiles_&&(ze||this.renderedTiles.indexOf(st)===-1)&&(this.newTiles_=!0)}if(st.getAlpha(mt,n.time)===1)continue}var He=D.getTileCoordChildTileRange(st.tileCoord,Qe,he),Ve=!1;He&&(Ve=Fe(Y+1,He)),Ve||D.forEachTileCoordParentTileRange(st.tileCoord,Fe,Qe,he)}var Vt=ee/s*_/Z;Wf(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/_,1/_,g,-ue/2,-ye/2);var Yt=gj(this.pixelTransform);this.useContainer(r,Yt,this.getBackground(n));var vt=this.context,$t=vt.canvas;l8(this.inversePixelTransform,this.pixelTransform),Wf(this.tempTransform,ue/2,ye/2,Vt,Vt,0,-ue/2,-ye/2),$t.width!=ue||$t.height!=ye?($t.width=ue,$t.height=ye):this.containerReused||vt.clearRect(0,0,ue,ye),be&&this.clipUnrotated(vt,n,be),O.getInterpolate()||Cl(vt,kO),this.preRender(vt,n),this.renderedTiles.length=0;var Qt=Object.keys(De).map(Number);Qt.sort(D1);var ke,pe,Se;i.opacity===1&&(!this.containerReused||O.getOpaque(n.viewState.projection))?Qt=Qt.reverse():(ke=[],pe=[]);for(var Re=Qt.length-1;Re>=0;--Re){var it=Qt[Re],ot=O.getTilePixelSize(it,_,a),St=D.getResolution(it),Rt=St/ee,zt=ot[0]*Rt*Vt,pt=ot[1]*Rt*Vt,rr=D.getTileCoordForCoordAndZ(y0(we),it),gn=D.getTileCoordExtent(rr),yn=yl(this.tempTransform,[Z*(gn[0]-we[0])/ee,Z*(we[3]-gn[3])/ee]),Jn=Z*O.getGutterForProjection(a),Ar=De[it];for(var Mr in Ar){var st=Ar[Mr],Wr=st.tileCoord,gr=rr[1]-Wr[1],_i=Math.round(yn[0]-(gr-1)*zt),Ee=rr[2]-Wr[2],J=Math.round(yn[1]-(Ee-1)*pt),yt=Math.round(yn[0]-gr*zt),wt=Math.round(yn[1]-Ee*pt),q=_i-yt,Te=J-wt,At=Y===it,ze=At&&st.getAlpha(qi(this),n.time)!==1,Bt=!1;if(!ze)if(ke){Se=[yt,wt,yt+q,wt,yt+q,wt+Te,yt,wt+Te];for(var kt=0,Ft=ke.length;kt<Ft;++kt)if(Y!==it&&it<pe[kt]){var fn=ke[kt];_l([yt,wt,yt+q,wt+Te],[fn[0],fn[3],fn[4],fn[7]])&&(Bt||(vt.save(),Bt=!0),vt.beginPath(),vt.moveTo(Se[0],Se[1]),vt.lineTo(Se[2],Se[3]),vt.lineTo(Se[4],Se[5]),vt.lineTo(Se[6],Se[7]),vt.moveTo(fn[6],fn[7]),vt.lineTo(fn[4],fn[5]),vt.lineTo(fn[2],fn[3]),vt.lineTo(fn[0],fn[1]),vt.clip())}ke.push(Se),pe.push(it)}else vt.clearRect(yt,wt,q,Te);this.drawTileImage(st,n,yt,wt,q,Te,Jn,At),ke&&!ze?(Bt&&vt.restore(),this.renderedTiles.unshift(st)):this.renderedTiles.push(st),this.updateUsedTiles(n.usedTiles,O,st)}}return this.renderedRevision=K,this.renderedResolution=ee,this.extentChanged=!this.renderedExtent_||!uv(this.renderedExtent_,we),this.renderedExtent_=we,this.renderedPixelRatio=_,this.renderedProjection=a,this.manageTilePyramid(n,O,D,_,a,H,Y,E.getPreload()),this.scheduleExpireCache(n,O),this.postRender(vt,n),i.extent&&vt.restore(),Cl(vt,EAe),Yt!==$t.style.transform&&($t.style.transform=Yt),this.container},t.prototype.drawTileImage=function(n,r,i,o,a,s,h,g){var _=this.getTileImage(n);if(_){var E=qi(this),O=r.layerStatesArray[r.layerIndex],K=O.opacity*(g?n.getAlpha(E,r.time):1),D=K!==this.context.globalAlpha;D&&(this.context.save(),this.context.globalAlpha=K),this.context.drawImage(_,h,h,_.width-2*h,_.height-2*h,i,o,a,s),D&&this.context.restore(),K!==O.opacity?r.animate=!0:g&&n.endTransition(E)}},t.prototype.getImage=function(){var n=this.context;return n?n.canvas:null},t.prototype.getTileImage=function(n){return n.getImage()},t.prototype.scheduleExpireCache=function(n,r){if(r.canExpireCache()){var i=(function(o,a,s){var h=qi(o);h in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[h])}).bind(null,r);n.postRenderFunctions.push(i)}},t.prototype.updateUsedTiles=function(n,r,i){var o=qi(r);o in n||(n[o]={}),n[o][i.getKey()]=!0},t.prototype.manageTilePyramid=function(n,r,i,o,a,s,h,g,_){var E=qi(r);E in n.wantedTiles||(n.wantedTiles[E]={});var O=n.wantedTiles[E],K=n.tileQueue,D=i.getMinZoom(),Y=n.viewState.rotation,ee=Y?hO(n.viewState.center,n.viewState.resolution,Y,n.size):void 0,H=0,N,Z,ue,ye,be,X;for(X=D;X<=h;++X)for(Z=i.getTileRangeForExtentAndZ(s,X,Z),ue=i.getResolution(X),ye=Z.minX;ye<=Z.maxX;++ye)for(be=Z.minY;be<=Z.maxY;++be)Y&&!i.tileCoordIntersectsViewport([X,ye,be],ee)||(h-X<=g?(++H,N=r.getTile(X,ye,be,o,a),N.getState()==mr.IDLE&&(O[N.getKey()]=!0,K.isKeyQueued(N.getKey())||K.enqueue([N,E,i.getTileCoordCenter(N.tileCoord),ue])),_!==void 0&&_(N)):r.useTile(X,ye,be,a));r.updateCacheSize(H,a)},t}(gW);const NW=oce;var ace=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sce=function(e){ace(t,e);function t(n){return e.call(this,n)||this}return t.prototype.createRenderer=function(){return new NW(this)},t}(rce);const Ym={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};var lce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uce={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},Ace={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},cce=function(e){lce(t,e);function t(n){var r=e.call(this,n)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.tmpTransform_=zd(),r}return t.prototype.prepareTile=function(n,r,i){var o,a=n.getState();return(a===mr.LOADED||a===mr.ERROR)&&(this.updateExecutorGroup_(n,r,i),this.tileImageNeedsRender_(n)&&(o=!0)),o},t.prototype.getTile=function(n,r,i,o){var a=o.pixelRatio,s=o.viewState,h=s.resolution,g=s.projection,_=this.getLayer(),E=_.getSource().getTile(n,r,i,a,g),O=o.viewHints,K=!(O[ol.ANIMATING]||O[ol.INTERACTING]);(K||!E.wantedResolution)&&(E.wantedResolution=h);var D=this.prepareTile(E,a,g);return D&&(K||Date.now()-o.time<8)&&_.getRenderMode()!==Ym.VECTOR&&this.renderTileImage_(E,o),e.prototype.getTile.call(this,n,r,i,o)},t.prototype.isDrawableTile=function(n){var r=this.getLayer();return e.prototype.isDrawableTile.call(this,n)&&(r.getRenderMode()===Ym.VECTOR?qi(r)in n.executorGroups:n.hasContext(r))},t.prototype.getTileImage=function(n){return n.getImage(this.getLayer())},t.prototype.prepareFrame=function(n){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!==r&&(this.renderedLayerRevision_=r,this.renderedTiles.length=0),e.prototype.prepareFrame.call(this,n)},t.prototype.updateExecutorGroup_=function(n,r,i){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,h=n.wantedResolution,g=n.getReplayState(o);if(!(!g.dirty&&g.renderedResolution===h&&g.renderedRevision==a&&g.renderedRenderOrder==s)){var _=o.getSource(),E=o.getDeclutter(),O=_.getTileGrid(),K=_.getTileGridForProjection(i),D=K.getTileCoordExtent(n.wrappedTileCoord),Y=_.getSourceTiles(r,i,n),ee=qi(o);delete n.hitDetectionImageData[ee],n.executorGroups[ee]=[],E&&(n.declutterExecutorGroups[ee]=[]),g.dirty=!1;for(var H=function(ye,be){var X=Y[ye];if(X.getState()!=mr.LOADED)return"continue";var se=X.tileCoord,we=O.getTileCoordExtent(se),xe=C1(D,we),De=o0(xe,o.getRenderBuffer()*h,N.tmpExtent),Fe=uv(we,xe)?null:De,he=new O4(0,De,h,r),Qe=E?new O4(0,xe,h,r):void 0,ge=bW(h,r),yt=function(vt){var $t,Qt=vt.getStyleFunction()||o.getStyleFunction();if(Qt&&($t=Qt(vt,h)),$t){var ke=this.renderFeature(vt,ge,$t,he,Qe);g.dirty=g.dirty||ke}},wt=X.getFeatures();s&&s!==g.renderedRenderOrder&&wt.sort(s);for(var st=0,mt=wt.length;st<mt;++st){var ze=wt[st];(!Fe||_l(Fe,ze.getGeometry().getExtent()))&&yt.call(N,ze)}var He=he.finish(),Ve=o.getRenderMode()!==Ym.VECTOR&&E&&Y.length===1?null:xe,Vt=new B4(Ve,h,r,_.getOverlaps(),He,o.getRenderBuffer());if(n.executorGroups[ee].push(Vt),Qe){var Yt=new B4(null,h,r,_.getOverlaps(),Qe.finish(),o.getRenderBuffer());n.declutterExecutorGroups[ee].push(Yt)}},N=this,Z=0,ue=Y.length;Z<ue;++Z)H(Z);g.renderedRevision=a,g.renderedRenderOrder=s,g.renderedResolution=h}},t.prototype.forEachFeatureAtCoordinate=function(n,r,i,o,a){var s=r.viewState.resolution,h=r.viewState.rotation;i=i??0;var g=this.getLayer(),_=g.getSource(),E=_.getTileGridForProjection(r.viewState.projection),O=uO([n]);o0(O,s*i,O);for(var K={},D=function(ue,ye,be){var X=ue.getId();X===void 0&&(X=qi(ue));var se=K[X];if(se){if(se!==!0&&be<se.distanceSq){if(be===0)return K[X]=!0,a.splice(a.lastIndexOf(se),1),o(ue,g,ye);se.geometry=ye,se.distanceSq=be}}else{if(be===0)return K[X]=!0,o(ue,g,ye);a.push(K[X]={feature:ue,layer:g,geometry:ye,distanceSq:be,callback:o})}},Y=this.renderedTiles,ee,H=function(ue,ye){var be=Y[ue],X=E.getTileCoordExtent(be.wrappedTileCoord);if(!_l(X,O))return"continue";var se=qi(g),we=[be.executorGroups[se]],xe=be.declutterExecutorGroups[se];xe&&we.push(xe),we.some(function(De){for(var Fe=De===xe?r.declutterTree.all().map(function(yt){return yt.value}):null,he=0,Qe=De.length;he<Qe;++he){var ge=De[he];if(ee=ge.forEachFeatureAtCoordinate(n,s,h,i,D,Fe),ee)return!0}})},N=0,Z=Y.length;!ee&&N<Z;++N)H(N);return ee},t.prototype.getFeatures=function(n){return new Promise((function(r,i){for(var o=this.getLayer(),a=qi(o),s=o.getSource(),h=this.renderedProjection,g=h.getExtent(),_=this.renderedResolution,E=s.getTileGridForProjection(h),O=yl(this.renderedPixelToCoordinateTransform_,n.slice()),K=E.getTileCoordForCoordAndResolution(O,_),D,Y=0,ee=this.renderedTiles.length;Y<ee;++Y)if(K.toString()===this.renderedTiles[Y].tileCoord.toString()){if(D=this.renderedTiles[Y],D.getState()===mr.LOADED){var H=E.getTileCoordExtent(D.tileCoord);s.getWrapX()&&h.canWrapX()&&!Nm(g,H)&&f8(O,h);break}D=void 0}if(!D||D.loadingSourceTiles>0){r([]);return}var N=E.getTileCoordExtent(D.wrappedTileCoord),Z=y0(N),ue=[(O[0]-Z[0])/_,(Z[1]-O[1])/_],ye=D.getSourceTiles().reduce(function(xe,De){return xe.concat(De.getFeatures())},[]),be=D.hitDetectionImageData[a];if(!be&&!this.animatingOrInteracting_){var X=RA(E.getTileSize(E.getZForResolution(_,s.zDirection))),se=this.renderedRotation_,we=[this.getRenderTransform(E.getTileCoordCenter(D.wrappedTileCoord),_,0,Zc,X[0]*Zc,X[1]*Zc,0)];be=vW(X,we,ye,o.getStyleFunction(),E.getTileCoordExtent(D.wrappedTileCoord),D.getReplayState(o).renderedResolution,se),D.hitDetectionImageData[a]=be}r(_W(ue,ye,be))}).bind(this))},t.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.renderedLayerRevision_!==void 0&&n.changed()},t.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()},t.prototype.renderDeclutter=function(n){var r=this.context,i=r.globalAlpha;r.globalAlpha=this.getLayer().getOpacity();for(var o=n.viewHints,a=!(o[ol.ANIMATING]||o[ol.INTERACTING]),s=this.renderedTiles,h=0,g=s.length;h<g;++h){var _=s[h],E=_.declutterExecutorGroups[qi(this.getLayer())];if(E)for(var O=E.length-1;O>=0;--O)E[O].execute(this.context,1,this.getTileRenderTransform(_,n),n.viewState.rotation,a,void 0,n.declutterTree)}r.globalAlpha=i},t.prototype.getTileRenderTransform=function(n,r){var i=r.pixelRatio,o=r.viewState,a=o.center,s=o.resolution,h=o.rotation,g=r.size,_=Math.round(g[0]*i),E=Math.round(g[1]*i),O=this.getLayer().getSource(),K=O.getTileGridForProjection(r.viewState.projection),D=n.tileCoord,Y=K.getTileCoordExtent(n.wrappedTileCoord),ee=K.getTileCoordExtent(D,this.tmpExtent)[0]-Y[0],H=s8(SS(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(a,s,h,i,_,E,ee));return H},t.prototype.renderFrame=function(n,r){var i=n.viewHints,o=!(i[ol.ANIMATING]||i[ol.INTERACTING]);e.prototype.renderFrame.call(this,n,r),this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode(),h=this.context,g=h.globalAlpha;h.globalAlpha=a.getOpacity();for(var _=Ace[s],E=n.viewState,O=E.rotation,K=a.getSource(),D=K.getTileGridForProjection(E.projection),Y=D.getZForResolution(E.resolution,K.zDirection),ee=this.renderedTiles,H=[],N=[],Z=!0,ue=ee.length-1;ue>=0;--ue){var ye=ee[ue];Z=Z&&!ye.getReplayState(a).dirty;var be=ye.executorGroups[qi(a)].filter(function(wt){return wt.hasExecutors(_)});if(be.length!==0){var X=this.getTileRenderTransform(ye,n),se=ye.tileCoord[0],we=!1,xe=be[0].getClipCoords(X);if(xe){for(var De=0,Fe=H.length;De<Fe;++De)if(Y!==se&&se<N[De]){var he=H[De];_l([xe[0],xe[3],xe[4],xe[7]],[he[0],he[3],he[4],he[7]])&&(we||(h.save(),we=!0),h.beginPath(),h.moveTo(xe[0],xe[1]),h.lineTo(xe[2],xe[3]),h.lineTo(xe[4],xe[5]),h.lineTo(xe[6],xe[7]),h.moveTo(he[6],he[7]),h.lineTo(he[4],he[5]),h.lineTo(he[2],he[3]),h.lineTo(he[0],he[1]),h.clip())}H.push(xe),N.push(se)}for(var Qe=0,ge=be.length;Qe<ge;++Qe){var yt=be[Qe];yt.execute(h,1,X,O,o,_)}we&&h.restore()}}return h.globalAlpha=g,this.ready=Z,this.container},t.prototype.renderFeature=function(n,r,i,o,a){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var h=0,g=i.length;h<g;++h)s=I4(o,n,i[h],r,this.boundHandleStyleImageChange_,void 0,a)||s;else s=I4(o,n,i,r,this.boundHandleStyleImageChange_,void 0,a);return s},t.prototype.tileImageNeedsRender_=function(n){var r=this.getLayer();if(r.getRenderMode()===Ym.VECTOR)return!1;var i=n.getReplayState(r),o=r.getRevision(),a=n.wantedResolution;return i.renderedTileResolution!==a||i.renderedTileRevision!==o},t.prototype.renderTileImage_=function(n,r){var i=this.getLayer(),o=n.getReplayState(i),a=i.getRevision(),s=n.executorGroups[qi(i)];o.renderedTileRevision=a;var h=n.wrappedTileCoord,g=h[0],_=i.getSource(),E=r.pixelRatio,O=r.viewState,K=O.projection,D=_.getTileGridForProjection(K),Y=D.getResolution(n.tileCoord[0]),ee=r.pixelRatio/n.wantedResolution*Y,H=D.getResolution(g),N=n.getContext(i);E=Math.round(Math.max(E,ee/E));var Z=_.getTilePixelSize(g,E,K);N.canvas.width=Z[0],N.canvas.height=Z[1];var ue=E/ee;if(ue!==1){var ye=FT(this.tmpTransform_);SS(ye,ue,ue),N.setTransform.apply(N,ye)}var be=D.getTileCoordExtent(h,this.tmpExtent),X=ee/H,se=FT(this.tmpTransform_);SS(se,X,-X),Eie(se,-be[0],-be[3]);for(var we=0,xe=s.length;we<xe;++we){var De=s[we];De.execute(N,ue,se,0,!0,uce[i.getRenderMode()])}o.renderedTileResolution=n.wantedResolution},t}(NW);const dce=cce;var hce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GW=function(e){hce(t,e);function t(n){var r=this,i=n||{},o=Cl({},i);delete o.preload,delete o.useInterimTilesOnError,r=e.call(this,o)||this,r.on,r.once,r.un,i.renderMode===Ym.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var a=i.renderMode||Ym.HYBRID;return co(a==Ym.HYBRID||a==Ym.VECTOR,28),r.renderMode_=a,r.setPreload(i.preload?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r.getBackground,r.setBackground,r}return t.prototype.createRenderer=function(){return new dce(this)},t.prototype.getFeatures=function(n){return e.prototype.getFeatures.call(this,n)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(Qm.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Qm.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(n){this.set(Qm.PRELOAD,n)},t.prototype.setUseInterimTilesOnError=function(n){this.set(Qm.USE_INTERIM_TILES_ON_ERROR,n)},t}(fW),fce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pce=function(e){fce(t,e);function t(n,r,i,o,a,s){var h=e.call(this,n,r,s)||this;return h.extent=null,h.format_=o,h.features_=null,h.loader_,h.projection=null,h.resolution,h.tileLoadFunction_=a,h.url_=i,h.key=i,h}return t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.load=function(){this.state==mr.IDLE&&(this.setState(mr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(n,r){this.setFeatures(n)},t.prototype.onError=function(){this.setState(mr.ERROR)},t.prototype.setFeatures=function(n){this.features_=n,this.setState(mr.LOADED)},t.prototype.setLoader=function(n){this.loader_=n},t}(gw);const mce=pce;var gce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),OP=[],yce=function(e){gce(t,e);function t(n,r,i,o){var a=e.call(this,n,r,{transition:0})||this;return a.context_={},a.executorGroups={},a.declutterExecutorGroups={},a.loadingSourceTiles=0,a.hitDetectionImageData={},a.replayState_={},a.sourceTiles=[],a.errorTileKeys={},a.wantedResolution,a.getSourceTiles=o.bind(void 0,a),a.wrappedTileCoord=i,a}return t.prototype.getContext=function(n){var r=qi(n);return r in this.context_||(this.context_[r]=Sc(1,1,OP)),this.context_[r]},t.prototype.hasContext=function(n){return qi(n)in this.context_},t.prototype.getImage=function(n){return this.hasContext(n)?this.getContext(n).canvas:null},t.prototype.getReplayState=function(n){var r=qi(n);return r in this.replayState_||(this.replayState_[r]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[r]},t.prototype.load=function(){this.getSourceTiles()},t.prototype.release=function(){for(var n in this.context_){var r=this.context_[n];I8(r),OP.push(r.canvas),delete this.context_[n]}e.prototype.release.call(this)},t}(gw);const vce=yce;var _ce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cce=function(e){_ce(t,e);function t(n){var r=this,i=n.projection||"EPSG:3857",o=n.extent||yw(i),a=n.tileGrid||j8({extent:o,maxResolution:n.maxResolution,maxZoom:n.maxZoom!==void 0?n.maxZoom:22,minZoom:n.minZoom,tileSize:n.tileSize||512});return r=e.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,interpolate:!0,opaque:!1,projection:i,state:n.state,tileGrid:a,tileLoadFunction:n.tileLoadFunction?n.tileLoadFunction:bce,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX===void 0?!0:n.wrapX,transition:n.transition,zDirection:n.zDirection===void 0?1:n.zDirection})||this,r.format_=n.format?n.format:null,r.sourceTileCache=new z8(r.tileCache.highWaterMark),r.overlaps_=n.overlaps==null?!0:n.overlaps,r.tileClass=n.tileClass?n.tileClass:mce,r.tileGrids_={},r}return t.prototype.getFeaturesInExtent=function(n){var r=[],i=this.tileCache;if(i.getCount()===0)return r;var o=TW(i.peekFirstKey())[0],a=this.tileGrid;return i.forEach(function(s){if(!(s.tileCoord[0]!==o||s.getState()!==mr.LOADED))for(var h=s.getSourceTiles(),g=0,_=h.length;g<_;++g){var E=h[g],O=E.tileCoord;if(_l(n,a.getTileCoordExtent(O))){var K=E.getFeatures();if(K)for(var D=0,Y=K.length;D<Y;++D){var ee=K[D],H=ee.getGeometry();_l(n,H.getExtent())&&r.push(ee)}}}}),r},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},t.prototype.expireCache=function(n,r){var i=this.getTileCacheForProjection(n),o=Object.keys(r).reduce(function(a,s){var h=fAe(s),g=i.peek(h);if(g)for(var _=g.sourceTiles,E=0,O=_.length;E<O;++E)a[_[E].getKey()]=!0;return a},{});e.prototype.expireCache.call(this,n,r),this.sourceTileCache.expireCache(o)},t.prototype.getSourceTiles=function(n,r,i){var o=this;if(i.getState()===mr.IDLE){i.setState(mr.LOADING);var a=i.wrappedTileCoord,s=this.getTileGridForProjection(r),h=s.getTileCoordExtent(a),g=a[0],_=s.getResolution(g);o0(h,-_,h);var E=this.tileGrid,O=E.getExtent();O&&C1(h,O,h);var K=E.getZForResolution(_,this.zDirection);E.forEachTileCoord(h,K,function(D){var Y=o.tileUrlFunction(D,n,r),ee=o.sourceTileCache.containsKey(Y)?o.sourceTileCache.get(Y):new o.tileClass(D,Y?mr.IDLE:mr.EMPTY,Y,o.format_,o.tileLoadFunction);i.sourceTiles.push(ee);var H=ee.getState();if(H<mr.LOADED){var N=function(Z){o.handleTileChange(Z);var ue=ee.getState();if(ue===mr.LOADED||ue===mr.ERROR){var ye=ee.getKey();ye in i.errorTileKeys?ee.getState()===mr.LOADED&&delete i.errorTileKeys[ye]:i.loadingSourceTiles--,ue===mr.ERROR?i.errorTileKeys[ye]=!0:ee.removeEventListener(ji.CHANGE,N),i.loadingSourceTiles===0&&i.setState(L1(i.errorTileKeys)?mr.LOADED:mr.ERROR)}};ee.addEventListener(ji.CHANGE,N),i.loadingSourceTiles++}H===mr.IDLE&&(ee.extent=E.getTileCoordExtent(D),ee.projection=r,ee.resolution=E.getResolution(D[0]),o.sourceTileCache.set(Y,ee),ee.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(function(D){return D.getState()===mr.ERROR})?mr.ERROR:mr.LOADED)}return i.sourceTiles},t.prototype.getTile=function(n,r,i,o,a){var s=Ov(n,r,i),h=this.getKey(),g;if(this.tileCache.containsKey(s)&&(g=this.tileCache.get(s),g.key===h))return g;var _=[n,r,i],E=this.getTileCoordForTileUrlFunction(_,a),O=this.getTileGrid().getExtent(),K=this.getTileGridForProjection(a);if(E&&O){var D=K.getTileCoordExtent(E);o0(D,-K.getResolution(n),D),_l(O,D)||(E=null)}var Y=!0;if(E!==null){var ee=this.tileGrid,H=K.getResolution(n),N=ee.getZForResolution(H,1),Z=K.getTileCoordExtent(E);o0(Z,-H,Z),ee.forEachTileCoord(Z,N,(function(ye){Y=Y&&!this.tileUrlFunction(ye,o,a)}).bind(this))}var ue=new vce(_,Y?mr.EMPTY:mr.IDLE,E,this.getSourceTiles.bind(this,o,a));return ue.key=h,g?(ue.interimTile=g,ue.refreshInterimChain(),this.tileCache.replace(s,ue)):this.tileCache.set(s,ue),ue},t.prototype.getTileGridForProjection=function(n){var r=n.getCode(),i=this.tileGrids_[r];if(!i){for(var o=this.tileGrid,a=o.getResolutions().slice(),s=a.map(function(E,O){return o.getOrigin(O)}),h=a.map(function(E,O){return o.getTileSize(O)}),g=tW+1,_=a.length;_<g;++_)a.push(a[_-1]/2),s.push(s[_-1]),h.push(h[_-1]);i=new Rb({extent:o.getExtent(),origins:s,resolutions:a,tileSizes:h}),this.tileGrids_[r]=i}return i},t.prototype.getTilePixelRatio=function(n){return n},t.prototype.getTilePixelSize=function(n,r,i){var o=this.getTileGridForProjection(i),a=RA(o.getTileSize(n),this.tmpSize);return[Math.round(a[0]*r),Math.round(a[1]*r)]},t.prototype.updateCacheSize=function(n,r){e.prototype.updateCacheSize.call(this,n*2,r),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(r).highWaterMark},t}(zW);const $W=Cce;function bce(e,t){e.setLoader(function(n,r,i){SW(t,e.getFormat(),n,r,i,e.onLoad.bind(e),e.onError.bind(e))})}var BP={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},O_=" ",IP=/(italic|oblique)$/i,kP={},xce=function(e,t,n){var r=kP[e];if(!r){Array.isArray(e)||(e=[e]);for(var i=400,o="normal",a=[],s,h,g=0,_=e.length;g<_;++g){var E=e[g],O=E.split(" "),K=O[O.length-1].toLowerCase();K=="normal"||K=="italic"||K=="oblique"?(o=h?o:K,h=!0,O.pop(),K=O[O.length-1].toLowerCase()):IP.test(K)&&(K=K.replace(IP,""),o=h?o:O[O.length-1].replace(K,""),h=!0);for(var D in BP){var Y=O.length>1?O[O.length-2].toLowerCase():"";if(K==D||K==D.replace("-","")||Y+"-"+K==D){i=s?i:BP[D],O.pop(),Y&&D.startsWith(Y)&&O.pop();break}}!s&&typeof K=="number"&&(i=K,s=!0);var ee=O.join(O_).replace("Klokantech Noto Sans","Noto Sans");ee.indexOf(O_)!==-1&&(ee='"'+ee+'"'),a.push(ee)}r=kP[e]=[o,i,a]}return r[0]+O_+r[1]+O_+t+"px"+(n?"/"+n:"")+O_+r[2]};const TO=Ba(xce);var wce=8,Mce={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features. Note: fog is renamed to atmosphere in the Android and iOS SDKs and planned to be changed in GL-JS v.3.0.0."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Mercator, Globe, Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Natural Earth, and Winkel Tripel. Terrain, sky and fog are supported by only Mercator and globe. CustomLayerInterface is not supported outside of Mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},Sce={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},Ece=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Oce={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers. If specified as an object only specified source layers will have id overriden, others will fallback to original feature id"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Bce={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Ice={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},kce={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},Tce={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Pce={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Kce={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Dce=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],Fce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Lce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},Uce={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Rce={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},zce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},jce={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Wce={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0",android:"10.0.0",ios:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Nce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Gce={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},$ce={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Qce={type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},Yce={type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},qce={type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Hce={type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Vce={type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},Zce={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},Xce={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},Jce={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},ede={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},tde={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",android:"10.0.0",ios:"10.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `unit` argument specifies a [simple ECMAScript unit](https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-issanctionedsimpleunitidentifier) to use for unit-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0",android:"10.0.0",ios:"10.0.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `LineString` or `Polygon`. `Multi*` feature types return the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0",android:"10.9.0",ios:"10.9.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0",ios:"4.1.0",macos:"0.8.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},nde={range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region immediately below the horizon and within the `range` and above the horizon and within `horizon-blend`. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the atmosphere region above the horizon, `high-color` extends further above the horizon than the `color` property and its spread can be controlled with `horizon-blend`. The opacity can be set to `0` to remove the high atmosphere color contribution.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the region above the horizon and after the end of the `horizon-blend` contribution. The opacity can be set to `0` to have a transparent background.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the atmosphere to the color of space. A value of zero leaves a sharp transition from atmosphere to space. Increasing the value blends the color of atmosphere into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0",android:"10.6.0",ios:"10.6.0"}}},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"A value controlling the star intensity where `0` will show no stars and `1` will show stars at their maximum intensity.","sdk-support":{"basic functionality":{js:"2.9.0",android:"10.6.0",ios:"10.6.0"}}}},rde={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},ide={name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carrée projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."},globe:{doc:"A globe projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},ode={source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",requires:["source"],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},ade=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],sde={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},lde={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",doc:"The line part between [trim-start, trim-end] will be marked as transparent to make a route vanishing effect. The line trim-off offset is based on the whole line range [0.0, 1.0].",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"2.9.0",android:"10.5.0",ios:"10.5.0",macos:"10.5.0"}},"property-type":"constant"}},ude={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Ade={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},cde={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},dde={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},hde={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},fde={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},pde={"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0° is directly above, at zenith, and 90° at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0° north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0° is directly above, at zenith, and 90° at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},mde={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},gde={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},QW={$version:wce,$root:Mce,sources:Sce,source:Ece,source_vector:Oce,source_raster:Bce,source_raster_dem:Ice,source_geojson:kce,source_video:Tce,source_image:Pce,layer:Kce,layout:Dce,layout_background:Fce,layout_sky:Lce,layout_fill:Uce,layout_circle:Rce,layout_heatmap:zce,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,doc:"Radius of a fill extrusion edge in meters. If not zero, rounds extrusion edges for a smoother appearance.","sdk-support":{"basic functionality":{js:"v2.10.0",android:"10.7.0",ios:"10.7.0"}},"property-type":"constant"}},layout_line:jce,layout_symbol:Wce,layout_raster:Nce,layout_hillshade:Gce,filter:$ce,filter_symbol:Qce,filter_fill:Yce,filter_line:qce,filter_circle:Hce,"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:Vce,filter_operator:Zce,geometry_type:Xce,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:Jce,expression:ede,expression_name:tde,fog:nde,light:rde,projection:ide,terrain:ode,paint:ade,paint_fill:sde,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Controls the intensity of shading near ground and concave angles between walls. Default value 0.0 disables ambient occlusion and values around 0.3 provide the most plausible results for buildings.","sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Shades area near ground and concave angles between walls where the radius defines only vertical impact. Default value 3.0 corresponds to height of one floor and brings the most plausible results for buildings.",requires:["fill-extrusion-edge-radius"],"sdk-support":{"basic functionality":{js:"2.10.0",android:"10.7.0",ios:"10.7.0"}}}},paint_line:lde,paint_circle:ude,paint_heatmap:Ade,paint_symbol:cde,paint_raster:dde,paint_hillshade:hde,paint_background:fde,paint_sky:pde,transition:mde,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:gde},WS=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},PO={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof WS=="object"&&WS;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,h=36,g=1,_=26,E=38,O=700,K=72,D=128,Y="-",ee=/^xn--/,H=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=h-g,ye=Math.floor,be=String.fromCharCode,X;function se(ze){throw RangeError(Z[ze])}function we(ze,He){for(var Ve=ze.length,Vt=[];Ve--;)Vt[Ve]=He(ze[Ve]);return Vt}function xe(ze,He){var Ve=ze.split("@"),Vt="";Ve.length>1&&(Vt=Ve[0]+"@",ze=Ve[1]),ze=ze.replace(N,".");var Yt=ze.split("."),vt=we(Yt,He).join(".");return Vt+vt}function De(ze){for(var He=[],Ve=0,Vt=ze.length,Yt,vt;Ve<Vt;)Yt=ze.charCodeAt(Ve++),Yt>=55296&&Yt<=56319&&Ve<Vt?(vt=ze.charCodeAt(Ve++),(vt&64512)==56320?He.push(((Yt&1023)<<10)+(vt&1023)+65536):(He.push(Yt),Ve--)):He.push(Yt);return He}function Fe(ze){return we(ze,function(He){var Ve="";return He>65535&&(He-=65536,Ve+=be(He>>>10&1023|55296),He=56320|He&1023),Ve+=be(He),Ve}).join("")}function he(ze){return ze-48<10?ze-22:ze-65<26?ze-65:ze-97<26?ze-97:h}function Qe(ze,He){return ze+22+75*(ze<26)-((He!=0)<<5)}function ge(ze,He,Ve){var Vt=0;for(ze=Ve?ye(ze/O):ze>>1,ze+=ye(ze/He);ze>ue*_>>1;Vt+=h)ze=ye(ze/ue);return ye(Vt+(ue+1)*ze/(ze+E))}function yt(ze){var He=[],Ve=ze.length,Vt,Yt=0,vt=D,$t=K,Qt,ke,pe,Se,Re,it,ot,St,Rt;for(Qt=ze.lastIndexOf(Y),Qt<0&&(Qt=0),ke=0;ke<Qt;++ke)ze.charCodeAt(ke)>=128&&se("not-basic"),He.push(ze.charCodeAt(ke));for(pe=Qt>0?Qt+1:0;pe<Ve;){for(Se=Yt,Re=1,it=h;pe>=Ve&&se("invalid-input"),ot=he(ze.charCodeAt(pe++)),(ot>=h||ot>ye((s-Yt)/Re))&&se("overflow"),Yt+=ot*Re,St=it<=$t?g:it>=$t+_?_:it-$t,!(ot<St);it+=h)Rt=h-St,Re>ye(s/Rt)&&se("overflow"),Re*=Rt;Vt=He.length+1,$t=ge(Yt-Se,Vt,Se==0),ye(Yt/Vt)>s-vt&&se("overflow"),vt+=ye(Yt/Vt),Yt%=Vt,He.splice(Yt++,0,vt)}return Fe(He)}function wt(ze){var He,Ve,Vt,Yt,vt,$t,Qt,ke,pe,Se,Re,it=[],ot,St,Rt,zt;for(ze=De(ze),ot=ze.length,He=D,Ve=0,vt=K,$t=0;$t<ot;++$t)Re=ze[$t],Re<128&&it.push(be(Re));for(Vt=Yt=it.length,Yt&&it.push(Y);Vt<ot;){for(Qt=s,$t=0;$t<ot;++$t)Re=ze[$t],Re>=He&&Re<Qt&&(Qt=Re);for(St=Vt+1,Qt-He>ye((s-Ve)/St)&&se("overflow"),Ve+=(Qt-He)*St,He=Qt,$t=0;$t<ot;++$t)if(Re=ze[$t],Re<He&&++Ve>s&&se("overflow"),Re==He){for(ke=Ve,pe=h;Se=pe<=vt?g:pe>=vt+_?_:pe-vt,!(ke<Se);pe+=h)zt=ke-Se,Rt=h-Se,it.push(be(Qe(Se+zt%Rt,0))),ke=ye(zt/Rt);it.push(be(Qe(ke,0))),vt=ge(Ve,St,Vt==Yt),Ve=0,++Vt}++Ve,++He}return it.join("")}function st(ze){return xe(ze,function(He){return ee.test(He)?yt(He.slice(4).toLowerCase()):He})}function mt(ze){return xe(ze,function(He){return H.test(He)?"xn--"+wt(He):He})}if(a={version:"1.3.2",ucs2:{decode:De,encode:Fe},decode:yt,encode:wt,toASCII:mt,toUnicode:st},r&&i)if(e.exports==r)i.exports=a;else for(X in a)a.hasOwnProperty(X)&&(r[X]=a[X]);else n.punycode=a})(WS)})(PO,PO.exports);var yde={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Ab={};function vde(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _de=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&typeof r.maxKeys=="number"&&(a=r.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var h=0;h<s;++h){var g=e[h].replace(o,"%20"),_=g.indexOf(n),E,O,K,D;_>=0?(E=g.substr(0,_),O=g.substr(_+1)):(E=g,O=""),K=decodeURIComponent(E),D=decodeURIComponent(O),vde(i,K)?Array.isArray(i[K])?i[K].push(D):i[K]=[i[K],D]:i[K]=D}return i},B_=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Cde=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(B_(i))+n;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(B_(a))}).join(t):o+encodeURIComponent(B_(e[i]))}).join(t):r?encodeURIComponent(B_(r))+n+encodeURIComponent(B_(e)):""};Ab.decode=Ab.parse=_de;Ab.encode=Ab.stringify=Cde;var bde=PO.exports,Fp=yde;function $p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var xde=/^([a-z0-9.+-]+:)/i,wde=/:[0-9]*$/,Mde=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Sde=["<",">",'"',"`"," ","\r",`
`,"	"],Ede=["{","}","|","\\","^","`"].concat(Sde),KO=["'"].concat(Ede),TP=["%","/","?",";","#"].concat(KO),PP=["/","?","#"],Ode=255,KP=/^[+a-z0-9A-Z_-]{0,63}$/,Bde=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ide={javascript:!0,"javascript:":!0},DO={javascript:!0,"javascript:":!0},jy={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},FO=Ab;function kde(e,t,n){if(e&&Fp.isObject(e)&&e instanceof $p)return e;var r=new $p;return r.parse(e,t,n),r}$p.prototype.parse=function(e,t,n){if(!Fp.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var h=Mde.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=FO.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var g=xde.exec(s);if(g){g=g[0];var _=g.toLowerCase();this.protocol=_,s=s.substr(g.length)}if(n||g||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E=s.substr(0,2)==="//";E&&!(g&&DO[g])&&(s=s.substr(2),this.slashes=!0)}if(!DO[g]&&(E||g&&!jy[g])){for(var O=-1,K=0;K<PP.length;K++){var D=s.indexOf(PP[K]);D!==-1&&(O===-1||D<O)&&(O=D)}var Y,ee;O===-1?ee=s.lastIndexOf("@"):ee=s.lastIndexOf("@",O),ee!==-1&&(Y=s.slice(0,ee),s=s.slice(ee+1),this.auth=decodeURIComponent(Y)),O=-1;for(var K=0;K<TP.length;K++){var D=s.indexOf(TP[K]);D!==-1&&(O===-1||D<O)&&(O=D)}O===-1&&(O=s.length),this.host=s.slice(0,O),s=s.slice(O),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var N=this.hostname.split(/\./),K=0,Z=N.length;K<Z;K++){var ue=N[K];if(ue&&!ue.match(KP)){for(var ye="",be=0,X=ue.length;be<X;be++)ue.charCodeAt(be)>127?ye+="x":ye+=ue[be];if(!ye.match(KP)){var se=N.slice(0,K),we=N.slice(K+1),xe=ue.match(Bde);xe&&(se.push(xe[1]),we.unshift(xe[2])),we.length&&(s="/"+we.join(".")+s),this.hostname=se.join(".");break}}}this.hostname.length>Ode?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=bde.toASCII(this.hostname));var De=this.port?":"+this.port:"",Fe=this.hostname||"";this.host=Fe+De,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Ide[_])for(var K=0,Z=KO.length;K<Z;K++){var he=KO[K];if(s.indexOf(he)!==-1){var Qe=encodeURIComponent(he);Qe===he&&(Qe=escape(he)),s=s.split(he).join(Qe)}}var ge=s.indexOf("#");ge!==-1&&(this.hash=s.substr(ge),s=s.slice(0,ge));var yt=s.indexOf("?");if(yt!==-1?(this.search=s.substr(yt),this.query=s.substr(yt+1),t&&(this.query=FO.parse(this.query)),s=s.slice(0,yt)):t&&(this.search="",this.query={}),s&&(this.pathname=s),jy[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",wt=this.search||"";this.path=De+wt}return this.href=this.format(),this};$p.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Fp.isObject(this.query)&&Object.keys(this.query).length&&(o=FO.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||jy[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};$p.prototype.resolve=function(e){return this.resolveObject(kde(e,!1,!0)).format()};$p.prototype.resolveObject=function(e){if(Fp.isString(e)){var t=new $p;t.parse(e,!1,!0),e=t}for(var n=new $p,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var h=a[s];h!=="protocol"&&(n[h]=e[h])}return jy[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!jy[e.protocol]){for(var g=Object.keys(e),_=0;_<g.length;_++){var E=g[_];n[E]=e[E]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!DO[e.protocol]){for(var Z=(e.pathname||"").split("/");Z.length&&!(e.host=Z.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),n.pathname=Z.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var O=n.pathname||"",K=n.search||"";n.path=O+K}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var D=n.pathname&&n.pathname.charAt(0)==="/",Y=e.host||e.pathname&&e.pathname.charAt(0)==="/",ee=Y||D||n.host&&e.pathname,H=ee,N=n.pathname&&n.pathname.split("/")||[],Z=e.pathname&&e.pathname.split("/")||[],ue=n.protocol&&!jy[n.protocol];if(ue&&(n.hostname="",n.port=null,n.host&&(N[0]===""?N[0]=n.host:N.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(Z[0]===""?Z[0]=e.host:Z.unshift(e.host)),e.host=null),ee=ee&&(Z[0]===""||N[0]==="")),Y)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,N=Z;else if(Z.length)N||(N=[]),N.pop(),N=N.concat(Z),n.search=e.search,n.query=e.query;else if(!Fp.isNullOrUndefined(e.search)){if(ue){n.hostname=n.host=N.shift();var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.host=n.hostname=ye.shift())}return n.search=e.search,n.query=e.query,(!Fp.isNull(n.pathname)||!Fp.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!N.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var be=N.slice(-1)[0],X=(n.host||e.host||N.length>1)&&(be==="."||be==="..")||be==="",se=0,we=N.length;we>=0;we--)be=N[we],be==="."?N.splice(we,1):be===".."?(N.splice(we,1),se++):se&&(N.splice(we,1),se--);if(!ee&&!H)for(;se--;se)N.unshift("..");ee&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),X&&N.join("/").substr(-1)!=="/"&&N.push("");var xe=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(ue){n.hostname=n.host=xe?"":N.length?N.shift():"";var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.host=n.hostname=ye.shift())}return ee=ee||n.host&&N.length,ee&&!xe&&N.unshift(""),N.length?n.pathname=N.join("/"):(n.pathname=null,n.path=null),(!Fp.isNull(n.pathname)||!Fp.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};$p.prototype.parseHost=function(){var e=this.host,t=wde.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function YW(e,...t){for(const n of t)for(const r in n)e[r]=n[r];return e}class Tde extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}var Pf=Tde;class W8{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[r,i]of n)this.bindings[r]=i}concat(t){return new W8(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}}var Pde=W8;const vw={kind:"null"},er={kind:"number"},Ao={kind:"string"},Xi={kind:"boolean"},Qp={kind:"color"},Wy={kind:"object"},eo={kind:"value"},Kde={kind:"error"},_w={kind:"collator"},Cw={kind:"formatted"},zb={kind:"resolvedImage"};function Dd(e,t){return{kind:"array",itemType:e,N:t}}function Ds(e){if(e.kind==="array"){const t=Ds(e.itemType);return typeof e.N=="number"?`array<${t}, ${e.N}>`:e.itemType.kind==="value"?"array":`array<${t}>`}else return e.kind}const Dde=[vw,er,Ao,Xi,Qp,Cw,Wy,Dd(eo),zb];function cb(e,t){if(t.kind==="error")return null;if(e.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!cb(e.itemType,t.itemType))&&(typeof e.N!="number"||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind==="value"){for(const n of Dde)if(!cb(n,t))return null}}return`Expected ${Ds(e)} but found ${Ds(t)} instead.`}function N8(e,t){return t.some(n=>n.kind===e.kind)}function db(e,t){return t.some(n=>n==="null"?e===null:n==="array"?Array.isArray(e):n==="object"?e&&!Array.isArray(e)&&typeof e=="object":n===typeof e)}var Fde={},qW,DP={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function mC(e){return e=Math.round(e),e<0?0:e>255?255:e}function FP(e){return e<0?0:e>1?1:e}function NS(e){return e[e.length-1]==="%"?mC(parseFloat(e)/100*255):mC(parseInt(e))}function B2(e){return e[e.length-1]==="%"?FP(parseFloat(e)/100):FP(parseFloat(e))}function GS(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function Lde(e){var t=e.replace(/ /g,"").toLowerCase();if(t in DP)return DP[t].slice();if(t[0]==="#"){if(t.length===4){var n=parseInt(t.substr(1),16);return n>=0&&n<=4095?[(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,1]:null}else if(t.length===7){var n=parseInt(t.substr(1),16);return n>=0&&n<=16777215?[(n&16711680)>>16,(n&65280)>>8,n&255,1]:null}return null}var r=t.indexOf("("),i=t.indexOf(")");if(r!==-1&&i+1===t.length){var o=t.substr(0,r),a=t.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(a.length!==4)return null;s=B2(a.pop());case"rgb":return a.length!==3?null:[NS(a[0]),NS(a[1]),NS(a[2]),s];case"hsla":if(a.length!==4)return null;s=B2(a.pop());case"hsl":if(a.length!==3)return null;var h=(parseFloat(a[0])%360+360)%360/360,g=B2(a[1]),_=B2(a[2]),E=_<=.5?_*(g+1):_+g-_*g,O=_*2-E;return[mC(GS(O,E,h+1/3)*255),mC(GS(O,E,h)*255),mC(GS(O,E,h-1/3)*255),s];default:return null}}return null}try{qW=Fde.parseCSSColor=Lde}catch{}class Ec{constructor(t,n,r,i=1){this.r=t,this.g=n,this.b=r,this.a=i}static parse(t){if(!t)return;if(t instanceof Ec)return t;if(typeof t!="string")return;const n=qW(t);if(n)return new Ec(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3])}toString(){const[t,n,r,i]=this.toArray();return`rgba(${Math.round(t)},${Math.round(n)},${Math.round(r)},${i})`}toArray(){const{r:t,g:n,b:r,a:i}=this;return i===0?[0,0,0,0]:[t*255/i,n*255/i,r*255/i,i]}toArray01(){const{r:t,g:n,b:r,a:i}=this;return i===0?[0,0,0,0]:[t/i,n/i,r/i,i]}toArray01PremultipliedAlpha(){const{r:t,g:n,b:r,a:i}=this;return[t,n,r,i]}}Ec.black=new Ec(0,0,0,1);Ec.white=new Ec(1,1,1,1);Ec.transparent=new Ec(0,0,0,0);Ec.red=new Ec(1,0,0,1);Ec.blue=new Ec(0,0,1,1);var Jl=Ec;class G8{constructor(t,n,r){t?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class LO{constructor(t,n,r,i,o){this.text=t.normalize?t.normalize():t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o}}class Ph{constructor(t){this.sections=t}static fromString(t){return new Ph([new LO(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Ph?t:Ph.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const n of this.sections){if(n.image){t.push(["image",n.image.name]);continue}t.push(n.text);const r={};n.fontStack&&(r["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(r["font-scale"]=n.scale),n.textColor&&(r["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(r)}return t}}class em{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new em({name:t,available:!1}):null}serialize(){return["image",this.name]}}function HW(e,t,n,r){return typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof r=="number"?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function k4(e){if(e===null)return!0;if(typeof e=="string")return!0;if(typeof e=="boolean")return!0;if(typeof e=="number")return!0;if(e instanceof Jl)return!0;if(e instanceof G8)return!0;if(e instanceof Ph)return!0;if(e instanceof em)return!0;if(Array.isArray(e)){for(const t of e)if(!k4(t))return!1;return!0}else if(typeof e=="object"){for(const t in e)if(!k4(e[t]))return!1;return!0}else return!1}function Xl(e){if(e===null)return vw;if(typeof e=="string")return Ao;if(typeof e=="boolean")return Xi;if(typeof e=="number")return er;if(e instanceof Jl)return Qp;if(e instanceof G8)return _w;if(e instanceof Ph)return Cw;if(e instanceof em)return zb;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const i=Xl(r);if(!n)n=i;else{if(n===i)continue;n=eo;break}}return Dd(n||eo,t)}else return Wy}function gC(e){const t=typeof e;return e===null?"":t==="string"||t==="number"||t==="boolean"?String(e):e instanceof Jl||e instanceof Ph||e instanceof em?e.toString():JSON.stringify(e)}class $8{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!k4(t[1]))return n.error("invalid value");const r=t[1];let i=Xl(r);const o=n.expectedType;return i.kind==="array"&&i.N===0&&o&&o.kind==="array"&&(typeof o.N!="number"||o.N===0)&&(i=o),new $8(i,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Jl?["rgba"].concat(this.value.toArray()):this.value instanceof Ph?this.value.serialize():this.value}}var T4=$8;class Ude{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}var Ru=Ude;const $S={string:Ao,number:er,boolean:Xi,object:Wy};class Q8{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let r=1,i;const o=t[0];if(o==="array"){let s;if(t.length>2){const g=t[1];if(typeof g!="string"||!(g in $S)||g==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);s=$S[g],r++}else s=eo;let h;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);h=t[2],r++}i=Dd(s,h)}else i=$S[o];const a=[];for(;r<t.length;r++){const s=n.parse(t[r],r,eo);if(!s)return null;a.push(s)}return new Q8(i,a)}evaluate(t){for(let n=0;n<this.args.length;n++){const r=this.args[n].evaluate(t);if(cb(this.type,Xl(r))){if(n===this.args.length-1)throw new Ru(`Expected value to be of type ${Ds(this.type)}, but found ${Ds(Xl(r))} instead.`)}else return r}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,n=[t.kind];if(t.kind==="array"){const r=t.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){n.push(r.kind);const i=t.N;(typeof i=="number"||this.args.length>1)&&n.push(i)}}return n.concat(this.args.map(r=>r.serialize()))}}var Rp=Q8;class bw{constructor(t){this.type=Cw,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");const i=[];let o=!1;for(let a=1;a<=t.length-1;++a){const s=t[a];if(o&&typeof s=="object"&&!Array.isArray(s)){o=!1;let h=null;if(s["font-scale"]&&(h=n.parse(s["font-scale"],1,er),!h))return null;let g=null;if(s["text-font"]&&(g=n.parse(s["text-font"],1,Dd(Ao)),!g))return null;let _=null;if(s["text-color"]&&(_=n.parse(s["text-color"],1,Qp),!_))return null;const E=i[i.length-1];E.scale=h,E.font=g,E.textColor=_}else{const h=n.parse(t[a],1,eo);if(!h)return null;const g=h.type.kind;if(g!=="string"&&g!=="value"&&g!=="null"&&g!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new bw(i)}evaluate(t){const n=r=>{const i=r.content.evaluate(t);return Xl(i)===zb?new LO("",i,null,null,null):new LO(gC(i),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null)};return new Ph(this.sections.map(n))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const n of this.sections){t.push(n.content.serialize());const r={};n.scale&&(r["font-scale"]=n.scale.serialize()),n.font&&(r["text-font"]=n.font.serialize()),n.textColor&&(r["text-color"]=n.textColor.serialize()),t.push(r)}return t}}class xw{constructor(t){this.type=zb,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const r=n.parse(t[1],1,Ao);return r?new xw(r):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),r=em.fromString(n);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(n)>-1),r}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Rde={"to-boolean":Xi,"to-color":Qp,"to-number":er,"to-string":Ao};class Y8{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const r=t[0];if((r==="to-boolean"||r==="to-string")&&t.length!==2)return n.error("Expected one argument.");const i=Rde[r],o=[];for(let a=1;a<t.length;a++){const s=n.parse(t[a],a,eo);if(!s)return null;o.push(s)}return new Y8(i,o)}evaluate(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){let n,r;for(const i of this.args){if(n=i.evaluate(t),r=null,n instanceof Jl)return n;if(typeof n=="string"){const o=t.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r=`Invalid rbga value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:r=HW(n[0],n[1],n[2],n[3]),!r))return new Jl(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Ru(r||`Could not parse color from value '${typeof n=="string"?n:String(JSON.stringify(n))}'`)}else if(this.type.kind==="number"){let n=null;for(const r of this.args){if(n=r.evaluate(t),n===null)return 0;const i=Number(n);if(!isNaN(i))return i}throw new Ru(`Could not convert ${JSON.stringify(n)} to number.`)}else return this.type.kind==="formatted"?Ph.fromString(gC(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?em.fromString(gC(this.args[0].evaluate(t))):gC(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new bw([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new xw(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(n=>{t.push(n.serialize())}),t}}var vy=Y8;const zde=["Unknown","Point","LineString","Polygon"];class jde{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?zde[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:r,y:i}=this.featureTileCoord,o=r*n-t[0],a=i*n-t[1],s=this.featureDistanceData.bearing[0],h=this.featureDistanceData.bearing[1];return s*o+h*a}return 0}parseColor(t){let n=this._parseColorCache[t];return n||(n=this._parseColorCache[t]=Jl.parse(t)),n}}var VW=jde;class _y{constructor(t,n,r,i){this.name=t,this.type=n,this._evaluate=r,this.args=i}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,n){const r=t[0],i=_y.definitions[r];if(!i)return n.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter(([g])=>!Array.isArray(g)||g.length===t.length-1);let h=null;for(const[g,_]of s){h=new tN(n.registry,n.path,null,n.scope);const E=[];let O=!1;for(let K=1;K<t.length;K++){const D=t[K],Y=Array.isArray(g)?g[K-1]:g.type,ee=h.parse(D,1+E.length,Y);if(!ee){O=!0;break}E.push(ee)}if(!O){if(Array.isArray(g)&&g.length!==E.length){h.error(`Expected ${g.length} arguments, but found ${E.length} instead.`);continue}for(let K=0;K<E.length;K++){const D=Array.isArray(g)?g[K]:g.type,Y=E[K];h.concat(K+1).checkSubtype(D,Y.type)}if(h.errors.length===0)return new _y(r,o,_,E)}}if(s.length===1)n.errors.push(...h.errors);else{const _=(s.length?s:a).map(([O])=>Wde(O)).join(" | "),E=[];for(let O=1;O<t.length;O++){const K=n.parse(t[O],1+E.length);if(!K)return null;E.push(Ds(K.type))}n.error(`Expected arguments of type ${_}, but found (${E.join(", ")}) instead.`)}return null}static register(t,n){_y.definitions=n;for(const r in n)t[r]=_y}}function Wde(e){return Array.isArray(e)?`(${e.map(Ds).join(", ")})`:`(${Ds(e.type)}...)`}var Bv=_y;class ww{constructor(t,n,r){this.type=_w,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const r=t[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");const i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,Xi);if(!i)return null;const o=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,Xi);if(!o)return null;let a=null;return r.locale&&(a=n.parse(r.locale,1,Ao),!a)?null:new ww(i,o,a)}evaluate(t){return new G8(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const l0=8192;function q8(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Nde(e){return(180+e)/360}function Gde(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function P4(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function $de(e,t){const n=Nde(e[0]),r=Gde(e[1]),i=Math.pow(2,t.z);return[Math.round(n*i*l0),Math.round(r*i*l0)]}function Qde(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i===0&&r*o<=0&&i*a<=0}function Yde(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function H8(e,t){let n=!1;for(let r=0,i=t.length;r<i;r++){const o=t[r];for(let a=0,s=o.length;a<s-1;a++){if(Qde(e,o[a],o[a+1]))return!1;Yde(e,o[a],o[a+1])&&(n=!n)}}return n}function qde(e,t){for(let n=0;n<t.length;n++)if(H8(e,t[n]))return!0;return!1}function Hde(e,t){return e[0]*t[1]-e[1]*t[0]}function LP(e,t,n,r){const i=e[0]-n[0],o=e[1]-n[1],a=t[0]-n[0],s=t[1]-n[1],h=r[0]-n[0],g=r[1]-n[1],_=i*g-h*o,E=a*g-h*s;return _>0&&E<0||_<0&&E>0}function Vde(e,t,n,r){const i=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];return Hde(o,i)===0?!1:!!(LP(e,t,n,r)&&LP(n,r,e,t))}function Zde(e,t,n){for(const r of n)for(let i=0;i<r.length-1;++i)if(Vde(e,t,r[i],r[i+1]))return!0;return!1}function ZW(e,t){for(let n=0;n<e.length;++n)if(!H8(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(Zde(e[n],e[n+1],t))return!1;return!0}function Xde(e,t){for(let n=0;n<t.length;n++)if(ZW(e,t[n]))return!0;return!1}function V8(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let a=0;a<e[i].length;a++){const s=$de(e[i][a],n);q8(t,s),o.push(s)}r.push(o)}return r}function XW(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=V8(e[i],t,n);r.push(o)}return r}function JW(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const i=r*.5;let o=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;o===0&&(o=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=o}q8(t,e)}function Jde(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function UP(e,t,n,r){const i=Math.pow(2,r.z)*l0,o=[r.x*l0,r.y*l0],a=[];if(!e)return a;for(const s of e)for(const h of s){const g=[h.x+o[0],h.y+o[1]];JW(g,t,n,i),a.push(g)}return a}function RP(e,t,n,r){const i=Math.pow(2,r.z)*l0,o=[r.x*l0,r.y*l0],a=[];if(!e)return a;for(const s of e){const h=[];for(const g of s){const _=[g.x+o[0],g.y+o[1]];q8(t,_),h.push(_)}a.push(h)}if(t[2]-t[0]<=i/2){Jde(t);for(const s of a)for(const h of s)JW(h,t,n,i)}return a}function ehe(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(t.type==="Polygon"){const o=V8(t.coordinates,r,i),a=UP(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!H8(s,o))return!1}if(t.type==="MultiPolygon"){const o=XW(t.coordinates,r,i),a=UP(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!qde(s,o))return!1}return!0}function the(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if(t.type==="Polygon"){const o=V8(t.coordinates,r,i),a=RP(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!ZW(s,o))return!1}if(t.type==="MultiPolygon"){const o=XW(t.coordinates,r,i),a=RP(e.geometry(),n,r,i);if(!P4(n,r))return!1;for(const s of a)if(!Xde(s,o))return!1}return!0}class yC{constructor(t,n){this.type=Xi,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(k4(t[1])){const r=t[1];if(r.type==="FeatureCollection")for(let i=0;i<r.features.length;++i){const o=r.features[i].geometry.type;if(o==="Polygon"||o==="MultiPolygon")return new yC(r,r.features[i].geometry)}else if(r.type==="Feature"){const i=r.geometry.type;if(i==="Polygon"||i==="MultiPolygon")return new yC(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new yC(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return ehe(t,this.geometries);if(t.geometryType()==="LineString")return the(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Z8=yC;function Mw(e){if(e instanceof Bv){if(e.name==="get"&&e.args.length===1)return!1;if(e.name==="feature-state")return!1;if(e.name==="has"&&e.args.length===1)return!1;if(e.name==="properties"||e.name==="geometry-type"||e.name==="id")return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Z8)return!1;let t=!0;return e.eachChild(n=>{t&&!Mw(n)&&(t=!1)}),t}function X8(e){if(e instanceof Bv&&e.name==="feature-state")return!1;let t=!0;return e.eachChild(n=>{t&&!X8(n)&&(t=!1)}),t}function J8(e,t){if(e instanceof Bv&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(r=>{n&&!J8(r,t)&&(n=!1)}),n}class eI{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const r=t[1];return n.scope.has(r)?new eI(r,n.scope.get(r)):n.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var eN=eI;class tI{constructor(t,n=[],r,i=new Pde,o=[]){this.registry=t,this.path=n,this.key=n.map(a=>`[${a}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r}parse(t,n,r,i,o={}){return n?this.concat(n,r,i)._parse(t,o):this._parse(t,o)}_parse(t,n){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function r(i,o,a){return a==="assert"?new Rp(o,[i]):a==="coerce"?new vy(o,[i]):i}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=t[0];if(typeof i!="string")return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[i];if(o){let a=o.parse(t,this);if(!a)return null;if(this.expectedType){const s=this.expectedType,h=a.type;if((s.kind==="string"||s.kind==="number"||s.kind==="boolean"||s.kind==="object"||s.kind==="array")&&h.kind==="value")a=r(a,s,n.typeAnnotation||"assert");else if((s.kind==="color"||s.kind==="formatted"||s.kind==="resolvedImage")&&(h.kind==="value"||h.kind==="string"))a=r(a,s,n.typeAnnotation||"coerce");else if(this.checkSubtype(s,h))return null}if(!(a instanceof T4)&&a.type.kind!=="resolvedImage"&&UO(a)){const s=new VW;try{a=new T4(a.type,a.evaluate(s))}catch(h){return this.error(h.message),null}}return a}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,n,r){const i=typeof t=="number"?this.path.concat(t):this.path,o=r?this.scope.concat(r):this.scope;return new tI(this.registry,i,n||null,o,this.errors)}error(t,...n){const r=`${this.key}${n.map(i=>`[${i}]`).join("")}`;this.errors.push(new Pf(r,t))}checkSubtype(t,n){const r=cb(t,n);return r&&this.error(r),r}}var tN=tI;function UO(e){if(e instanceof eN)return UO(e.boundExpression);if(e instanceof Bv&&e.name==="error")return!1;if(e instanceof ww)return!1;if(e instanceof Z8)return!1;const t=e instanceof vy||e instanceof Rp;let n=!0;return e.eachChild(r=>{t?n=n&&UO(r):n=n&&r instanceof T4}),n?Mw(e)&&J8(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function Sw(e,t){const n=e.length-1;let r=0,i=n,o=0,a,s;for(;r<=i;)if(o=Math.floor((r+i)/2),a=e[o],s=e[o+1],a<=t){if(o===n||t<s)return o;r=o+1}else if(a>t)i=o-1;else throw new Ru("Input is not a number.");return 0}class nI{constructor(t,n,r){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[i,o]of r)this.labels.push(i),this.outputs.push(o)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");const r=n.parse(t[1],1,er);if(!r)return null;const i=[];let o=null;n.expectedType&&n.expectedType.kind!=="value"&&(o=n.expectedType);for(let a=1;a<t.length;a+=2){const s=a===1?-1/0:t[a],h=t[a+1],g=a,_=a+1;if(typeof s!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',g);const E=n.parse(h,_,o);if(!E)return null;o=o||E.type,i.push([s,E])}return new nI(o,r,i)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=Sw(n,i);return r[a].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let n=0;n<this.labels.length;n++)n>0&&t.push(this.labels[n]),t.push(this.outputs[n].serialize());return t}}var nN=nI,nhe=rN;function rN(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}rN.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n=n-i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=(s-a)*.5+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};function ed(e,t,n){return e*(1-n)+t*n}function rhe(e,t,n){return new Jl(ed(e.r,t.r,n),ed(e.g,t.g,n),ed(e.b,t.b,n),ed(e.a,t.a,n))}function ihe(e,t,n){return e.map((r,i)=>ed(r,t[i],n))}var iN=Object.freeze({__proto__:null,number:ed,color:rhe,array:ihe});const oN=.95047,aN=1,sN=1.08883,lN=4/29,Ny=6/29,uN=3*Ny*Ny,ohe=Ny*Ny*Ny,ahe=Math.PI/180,she=180/Math.PI;function QS(e){return e>ohe?Math.pow(e,1/3):e/uN+lN}function YS(e){return e>Ny?e*e*e:uN*(e-lN)}function qS(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function HS(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function AN(e){const t=HS(e.r),n=HS(e.g),r=HS(e.b),i=QS((.4124564*t+.3575761*n+.1804375*r)/oN),o=QS((.2126729*t+.7151522*n+.072175*r)/aN),a=QS((.0193339*t+.119192*n+.9503041*r)/sN);return{l:116*o-16,a:500*(i-o),b:200*(o-a),alpha:e.a}}function cN(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=aN*YS(t),n=oN*YS(n),r=sN*YS(r),new Jl(qS(3.2404542*n-1.5371385*t-.4985314*r),qS(-.969266*n+1.8760108*t+.041556*r),qS(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function lhe(e,t,n){return{l:ed(e.l,t.l,n),a:ed(e.a,t.a,n),b:ed(e.b,t.b,n),alpha:ed(e.alpha,t.alpha,n)}}function uhe(e){const{l:t,a:n,b:r}=AN(e),i=Math.atan2(r,n)*she;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}}function Ahe(e){const t=e.h*ahe,n=e.c,r=e.l;return cN({l:r,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})}function che(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function dhe(e,t,n){return{h:che(e.h,t.h,n),c:ed(e.c,t.c,n),l:ed(e.l,t.l,n),alpha:ed(e.alpha,t.alpha,n)}}const q_={forward:AN,reverse:cN,interpolate:lhe},H_={forward:uhe,reverse:Ahe,interpolate:dhe};var dN=Object.freeze({__proto__:null,lab:q_,hcl:H_});class K4{constructor(t,n,r,i,o){this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(const[a,s]of o)this.labels.push(a),this.outputs.push(s)}static interpolationFactor(t,n,r,i){let o=0;if(t.name==="exponential")o=VS(n,t.base,r,i);else if(t.name==="linear")o=VS(n,1,r,i);else if(t.name==="cubic-bezier"){const a=t.controlPoints;o=new nhe(a[0],a[1],a[2],a[3]).solve(VS(n,1,r,i))}return o}static parse(t,n){let[r,i,o,...a]=t;if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){const g=i[1];if(typeof g!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:g}}else if(i[0]==="cubic-bezier"){const g=i.slice(1);if(g.length!==4||g.some(_=>typeof _!="number"||_<0||_>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:g}}else return n.error(`Unknown interpolation type ${String(i[0])}`,1,0);if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(o=n.parse(o,2,er),!o)return null;const s=[];let h=null;r==="interpolate-hcl"||r==="interpolate-lab"?h=Qp:n.expectedType&&n.expectedType.kind!=="value"&&(h=n.expectedType);for(let g=0;g<a.length;g+=2){const _=a[g],E=a[g+1],O=g+3,K=g+4;if(typeof _!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(s.length&&s[s.length-1][0]>=_)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',O);const D=n.parse(E,K,h);if(!D)return null;h=h||D.type,s.push([_,D])}return h.kind!=="number"&&h.kind!=="color"&&!(h.kind==="array"&&h.itemType.kind==="number"&&typeof h.N=="number")?n.error(`Type ${Ds(h)} is not interpolatable.`):new K4(h,r,i,o,s)}evaluate(t){const n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(t);const i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);const o=n.length;if(i>=n[o-1])return r[o-1].evaluate(t);const a=Sw(n,i),s=n[a],h=n[a+1],g=K4.interpolationFactor(this.interpolation,i,s,h),_=r[a].evaluate(t),E=r[a+1].evaluate(t);return this.operator==="interpolate"?iN[this.type.kind.toLowerCase()](_,E,g):this.operator==="interpolate-hcl"?H_.reverse(H_.interpolate(H_.forward(_),H_.forward(E),g)):q_.reverse(q_.interpolate(q_.forward(_),q_.forward(E),g))}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;this.interpolation.name==="linear"?t=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?t=["linear"]:t=["exponential",this.interpolation.base]:t=["cubic-bezier"].concat(this.interpolation.controlPoints);const n=[this.operator,t,this.input.serialize()];for(let r=0;r<this.labels.length;r++)n.push(this.labels[r],this.outputs[r].serialize());return n}}function VS(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var Yp=K4;class D4{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expectected at least one argument.");let r=null;const i=n.expectedType;i&&i.kind!=="value"&&(r=i);const o=[];for(const s of t.slice(1)){const h=n.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!h)return null;r=r||h.type,o.push(h)}return i&&o.some(s=>cb(i,s.type))?new D4(eo,o):new D4(r,o)}evaluate(t){let n=null,r=0,i;for(const o of this.args){if(r++,n=o.evaluate(t),n&&n instanceof em&&!n.available&&(i||(i=n),n=null,r===this.args.length))return i;if(n!==null)break}return n}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var hN=D4;class rI{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let o=1;o<t.length-1;o+=2){const a=t[o];if(typeof a!="string")return n.error(`Expected string, but found ${typeof a} instead.`,o);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",o);const s=n.parse(t[o+1],o+1);if(!s)return null;r.push([a,s])}const i=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return i?new rI(r,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[n,r]of this.bindings)t.push(n,r.serialize());return t.push(this.result.serialize()),t}}var fN=rI;class iI{constructor(t,n,r){this.type=t,this.index=n,this.input=r}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,er),i=n.parse(t[2],2,Dd(n.expectedType||eo));if(!r||!i)return null;const o=i.type;return new iI(o.itemType,r,i)}evaluate(t){const n=this.index.evaluate(t),r=this.input.evaluate(t);if(n<0)throw new Ru(`Array index out of bounds: ${n} < 0.`);if(n>=r.length)throw new Ru(`Array index out of bounds: ${n} > ${r.length-1}.`);if(n!==Math.floor(n))throw new Ru(`Array index must be an integer, but found ${n} instead.`);return r[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var hhe=iI;class oI{constructor(t,n){this.type=Xi,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,eo),i=n.parse(t[2],2,eo);return!r||!i?null:N8(r.type,[Xi,Ao,er,vw,eo])?new oI(r,i):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(r.type)} instead`)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(r==null)return!1;if(!db(n,["boolean","string","number","null"]))throw new Ru(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(Xl(n))} instead.`);if(!db(r,["string","array"]))throw new Ru(`Expected second argument to be of type array or string, but found ${Ds(Xl(r))} instead.`);return r.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var fhe=oI;class F4{constructor(t,n,r){this.type=er,this.needle=t,this.haystack=n,this.fromIndex=r}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,eo),i=n.parse(t[2],2,eo);if(!r||!i)return null;if(!N8(r.type,[Xi,Ao,er,vw,eo]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,er);return o?new F4(r,i,o):null}else return new F4(r,i)}evaluate(t){const n=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!db(n,["boolean","string","number","null"]))throw new Ru(`Expected first argument to be of type boolean, string, number or null, but found ${Ds(Xl(n))} instead.`);if(!db(r,["string","array"]))throw new Ru(`Expected second argument to be of type array or string, but found ${Ds(Xl(r))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(t);return r.indexOf(n,i)}return r.indexOf(n)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var phe=F4;class aI{constructor(t,n,r,i,o,a){this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return n.error("Expected an even number of arguments.");let r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);const o={},a=[];for(let g=2;g<t.length-1;g+=2){let _=t[g];const E=t[g+1];Array.isArray(_)||(_=[_]);const O=n.concat(g);if(_.length===0)return O.error("Expected at least one branch label.");for(const D of _){if(typeof D!="number"&&typeof D!="string")return O.error("Branch labels must be numbers or strings.");if(typeof D=="number"&&Math.abs(D)>Number.MAX_SAFE_INTEGER)return O.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof D=="number"&&Math.floor(D)!==D)return O.error("Numeric branch labels must be integer values.");if(!r)r=Xl(D);else if(O.checkSubtype(r,Xl(D)))return null;if(typeof o[String(D)]<"u")return O.error("Branch labels must be unique.");o[String(D)]=a.length}const K=n.parse(E,g,i);if(!K)return null;i=i||K.type,a.push(K)}const s=n.parse(t[1],1,eo);if(!s)return null;const h=n.parse(t[t.length-1],t.length-1,i);return!h||s.type.kind!=="value"&&n.concat(1).checkSubtype(r,s.type)?null:new aI(r,i,s,o,a,h)}evaluate(t){const n=this.input.evaluate(t);return(Xl(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),r=[],i={};for(const a of n){const s=i[this.cases[a]];s===void 0?(i[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[s][1].push(a)}const o=a=>this.inputType.kind==="number"?Number(a):a;for(const[a,s]of r)s.length===1?t.push(o(s[0])):t.push(s.map(o)),t.push(this.outputs[a].serialize());return t.push(this.otherwise.serialize()),t}}var mhe=aI;class sI{constructor(t,n,r){this.type=t,this.branches=n,this.otherwise=r}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return n.error("Expected an odd number of arguments.");let r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);const i=[];for(let a=1;a<t.length-1;a+=2){const s=n.parse(t[a],a,Xi);if(!s)return null;const h=n.parse(t[a+1],a+1,r);if(!h)return null;i.push([s,h]),r=r||h.type}const o=n.parse(t[t.length-1],t.length-1,r);return o?new sI(r,i,o):null}evaluate(t){for(const[n,r]of this.branches)if(n.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,r]of this.branches)t(n),t(r);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var ghe=sI;class L4{constructor(t,n,r,i){this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=n.parse(t[1],1,eo),i=n.parse(t[2],2,er);if(!r||!i)return null;if(!N8(r.type,[Dd(eo),Ao,eo]))return n.error(`Expected first argument to be of type array or string, but found ${Ds(r.type)} instead`);if(t.length===4){const o=n.parse(t[3],3,er);return o?new L4(r.type,r,i,o):null}else return new L4(r.type,r,i)}evaluate(t){const n=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!db(n,["string","array"]))throw new Ru(`Expected first argument to be of type array or string, but found ${Ds(Xl(n))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(t);return n.slice(r,i)}return n.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var yhe=L4;function zP(e,t){return e==="=="||e==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function vhe(e,t,n){return t===n}function _he(e,t,n){return t!==n}function Che(e,t,n){return t<n}function bhe(e,t,n){return t>n}function xhe(e,t,n){return t<=n}function whe(e,t,n){return t>=n}function pN(e,t,n,r){return r.compare(t,n)===0}function Mhe(e,t,n,r){return!pN(e,t,n,r)}function She(e,t,n,r){return r.compare(t,n)<0}function Ehe(e,t,n,r){return r.compare(t,n)>0}function Ohe(e,t,n,r){return r.compare(t,n)<=0}function Bhe(e,t,n,r){return r.compare(t,n)>=0}function Iv(e,t,n){const r=e!=="=="&&e!=="!=";return class mN{constructor(o,a,s){this.type=Xi,this.lhs=o,this.rhs=a,this.collator=s,this.hasUntypedArgument=o.type.kind==="value"||a.type.kind==="value"}static parse(o,a){if(o.length!==3&&o.length!==4)return a.error("Expected two or three arguments.");const s=o[0];let h=a.parse(o[1],1,eo);if(!h)return null;if(!zP(s,h.type))return a.concat(1).error(`"${s}" comparisons are not supported for type '${Ds(h.type)}'.`);let g=a.parse(o[2],2,eo);if(!g)return null;if(!zP(s,g.type))return a.concat(2).error(`"${s}" comparisons are not supported for type '${Ds(g.type)}'.`);if(h.type.kind!==g.type.kind&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error(`Cannot compare types '${Ds(h.type)}' and '${Ds(g.type)}'.`);r&&(h.type.kind==="value"&&g.type.kind!=="value"?h=new Rp(g.type,[h]):h.type.kind!=="value"&&g.type.kind==="value"&&(g=new Rp(h.type,[g])));let _=null;if(o.length===4){if(h.type.kind!=="string"&&g.type.kind!=="string"&&h.type.kind!=="value"&&g.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(_=a.parse(o[3],3,_w),!_)return null}return new mN(h,g,_)}evaluate(o){const a=this.lhs.evaluate(o),s=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const h=Xl(a),g=Xl(s);if(h.kind!==g.kind||!(h.kind==="string"||h.kind==="number"))throw new Ru(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${h.kind}, ${g.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const h=Xl(a),g=Xl(s);if(h.kind!=="string"||g.kind!=="string")return t(o,a,s)}return this.collator?n(o,a,s,this.collator.evaluate(o)):t(o,a,s)}eachChild(o){o(this.lhs),o(this.rhs),this.collator&&o(this.collator)}outputDefined(){return!0}serialize(){const o=[e];return this.eachChild(a=>{o.push(a.serialize())}),o}}}const Ihe=Iv("==",vhe,pN),khe=Iv("!=",_he,Mhe),The=Iv("<",Che,She),Phe=Iv(">",bhe,Ehe),Khe=Iv("<=",xhe,Ohe),Dhe=Iv(">=",whe,Bhe);class lI{constructor(t,n,r,i,o,a){this.type=Ao,this.number=t,this.locale=n,this.currency=r,this.unit=i,this.minFractionDigits=o,this.maxFractionDigits=a}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const r=n.parse(t[1],1,er);if(!r)return null;const i=t[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");let o=null;if(i.locale&&(o=n.parse(i.locale,1,Ao),!o))return null;let a=null;if(i.currency&&(a=n.parse(i.currency,1,Ao),!a))return null;let s=null;if(i.unit&&(s=n.parse(i.unit,1,Ao),!s))return null;let h=null;if(i["min-fraction-digits"]&&(h=n.parse(i["min-fraction-digits"],1,er),!h))return null;let g=null;return i["max-fraction-digits"]&&(g=n.parse(i["max-fraction-digits"],1,er),!g)?null:new lI(r,o,a,s,h,g)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class uI{constructor(t){this.type=er,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=n.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${Ds(r.type)} instead.`):new uI(r):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new Ru(`Expected value to be of type string or array, but found ${Ds(Xl(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(n=>{t.push(n.serialize())}),t}}var Fhe=uI;const gN={"==":Ihe,"!=":khe,">":Phe,"<":The,">=":Dhe,"<=":Khe,array:Rp,at:hhe,boolean:Rp,case:ghe,coalesce:hN,collator:ww,format:bw,image:xw,in:fhe,"index-of":phe,interpolate:Yp,"interpolate-hcl":Yp,"interpolate-lab":Yp,length:Fhe,let:fN,literal:T4,match:mhe,number:Rp,"number-format":lI,object:Rp,slice:yhe,step:nN,string:Rp,"to-boolean":vy,"to-color":vy,"to-number":vy,"to-string":vy,var:eN,within:Z8};function jP(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=HW(t,n,r,o);if(a)throw new Ru(a);return new Jl(t/255*o,n/255*o,r/255*o,o)}function WP(e,t){return e in t}function ZS(e,t){const n=t[e];return typeof n>"u"?null:n}function Lhe(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function G0(e){return{type:e}}Bv.register(gN,{error:[Kde,[Ao],(e,[t])=>{throw new Ru(t.evaluate(e))}],typeof:[Ao,[eo],(e,[t])=>Ds(Xl(t.evaluate(e)))],"to-rgba":[Dd(er,4),[Qp],(e,[t])=>t.evaluate(e).toArray()],rgb:[Qp,[er,er,er],jP],rgba:[Qp,[er,er,er,er],jP],has:{type:Xi,overloads:[[[Ao],(e,[t])=>WP(t.evaluate(e),e.properties())],[[Ao,Wy],(e,[t,n])=>WP(t.evaluate(e),n.evaluate(e))]]},get:{type:eo,overloads:[[[Ao],(e,[t])=>ZS(t.evaluate(e),e.properties())],[[Ao,Wy],(e,[t,n])=>ZS(t.evaluate(e),n.evaluate(e))]]},"feature-state":[eo,[Ao],(e,[t])=>ZS(t.evaluate(e),e.featureState||{})],properties:[Wy,[],e=>e.properties()],"geometry-type":[Ao,[],e=>e.geometryType()],id:[eo,[],e=>e.id()],zoom:[er,[],e=>e.globals.zoom],pitch:[er,[],e=>e.globals.pitch||0],"distance-from-center":[er,[],e=>e.distanceFromCenter()],"heatmap-density":[er,[],e=>e.globals.heatmapDensity||0],"line-progress":[er,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[er,[],e=>e.globals.skyRadialProgress||0],accumulated:[eo,[],e=>e.globals.accumulated===void 0?null:e.globals.accumulated],"+":[er,G0(er),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[er,G0(er),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:er,overloads:[[[er,er],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[er],(e,[t])=>-t.evaluate(e)]]},"/":[er,[er,er],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[er,[er,er],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[er,[],()=>Math.LN2],pi:[er,[],()=>Math.PI],e:[er,[],()=>Math.E],"^":[er,[er,er],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[er,[er],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[er,[er],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[er,[er],(e,[t])=>Math.log(t.evaluate(e))],log2:[er,[er],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[er,[er],(e,[t])=>Math.sin(t.evaluate(e))],cos:[er,[er],(e,[t])=>Math.cos(t.evaluate(e))],tan:[er,[er],(e,[t])=>Math.tan(t.evaluate(e))],asin:[er,[er],(e,[t])=>Math.asin(t.evaluate(e))],acos:[er,[er],(e,[t])=>Math.acos(t.evaluate(e))],atan:[er,[er],(e,[t])=>Math.atan(t.evaluate(e))],min:[er,G0(er),(e,t)=>Math.min(...t.map(n=>n.evaluate(e)))],max:[er,G0(er),(e,t)=>Math.max(...t.map(n=>n.evaluate(e)))],abs:[er,[er],(e,[t])=>Math.abs(t.evaluate(e))],round:[er,[er],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[er,[er],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[er,[er],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[Xi,[Ao,eo],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[Xi,[eo],(e,[t])=>e.id()===t.value],"filter-type-==":[Xi,[Ao],(e,[t])=>e.geometryType()===t.value],"filter-<":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[Xi,[Ao,eo],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[Xi,[eo],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[Xi,[eo],(e,[t])=>t.value in e.properties()],"filter-has-id":[Xi,[],e=>e.id()!==null&&e.id()!==void 0],"filter-type-in":[Xi,[Dd(Ao)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[Xi,[Dd(eo)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[Xi,[Ao,Dd(eo)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[Xi,[Ao,Dd(eo)],(e,[t,n])=>Lhe(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Xi,overloads:[[[Xi,Xi],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[G0(Xi),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:Xi,overloads:[[[Xi,Xi],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[G0(Xi),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[Xi,[Xi],(e,[t])=>!t.evaluate(e)],"is-supported-script":[Xi,[Ao],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return n?n(t.evaluate(e)):!0}],upcase:[Ao,[Ao],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Ao,[Ao],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Ao,G0(eo),(e,t)=>t.map(n=>gC(n.evaluate(e))).join("")],"resolved-locale":[Ao,[_w],(e,[t])=>t.evaluate(e).resolvedLocale()]});var yN=gN;function RO(e){return{result:"success",value:e}}function ty(e){return{result:"error",value:e}}function Uhe(e){return e["property-type"]==="data-driven"}function Rhe(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function vN(e){return!!e.expression&&e.expression.interpolated}function AI(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":e===null?"null":typeof e}function cI(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function zhe(e){return e}function dI(e,t){const n=t.type==="color",r=e.stops&&typeof e.stops[0][0]=="object",i=r||e.property!==void 0,o=r||!i,a=e.type||(vN(t)?"exponential":"interval");if(n&&(e=YW({},e),e.stops&&(e.stops=e.stops.map(_=>[_[0],Jl.parse(_[1])])),e.default?e.default=Jl.parse(e.default):e.default=Jl.parse(t.default)),e.colorSpace&&e.colorSpace!=="rgb"&&!dN[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let s,h,g;if(a==="exponential")s=NP;else if(a==="interval")s=Whe;else if(a==="categorical"){s=jhe,h=Object.create(null);for(const _ of e.stops)h[_[0]]=_[1];g=typeof e.stops[0][0]}else if(a==="identity")s=Nhe;else throw new Error(`Unknown function type "${a}"`);if(r){const _={},E=[];for(let D=0;D<e.stops.length;D++){const Y=e.stops[D],ee=Y[0].zoom;_[ee]===void 0&&(_[ee]={zoom:ee,type:e.type,property:e.property,default:e.default,stops:[]},E.push(ee)),_[ee].stops.push([Y[0].value,Y[1]])}const O=[];for(const D of E)O.push([_[D].zoom,dI(_[D],t)]);const K={name:"linear"};return{kind:"composite",interpolationType:K,interpolationFactor:Yp.interpolationFactor.bind(void 0,K),zoomStops:O.map(D=>D[0]),evaluate({zoom:D},Y){return NP({stops:O,base:e.base},t,D).evaluate(D,Y)}}}else if(o){const _=a==="exponential"?{name:"exponential",base:e.base!==void 0?e.base:1}:null;return{kind:"camera",interpolationType:_,interpolationFactor:Yp.interpolationFactor.bind(void 0,_),zoomStops:e.stops.map(E=>E[0]),evaluate:({zoom:E})=>s(e,t,E,h,g)}}else return{kind:"source",evaluate(_,E){const O=E&&E.properties?E.properties[e.property]:void 0;return O===void 0?jb(e.default,t.default):s(e,t,O,h,g)}}}function jb(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function jhe(e,t,n,r,i){const o=typeof n===i?r[n]:void 0;return jb(o,e.default,t.default)}function Whe(e,t,n){if(AI(n)!=="number")return jb(e.default,t.default);const r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=Sw(e.stops.map(o=>o[0]),n);return e.stops[i][1]}function NP(e,t,n){const r=e.base!==void 0?e.base:1;if(AI(n)!=="number")return jb(e.default,t.default);const i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=Sw(e.stops.map(_=>_[0]),n),a=Ghe(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],h=e.stops[o+1][1];let g=iN[t.type]||zhe;if(e.colorSpace&&e.colorSpace!=="rgb"){const _=dN[e.colorSpace];g=(E,O)=>_.reverse(_.interpolate(_.forward(E),_.forward(O),a))}return typeof s.evaluate=="function"?{evaluate(..._){const E=s.evaluate.apply(void 0,_),O=h.evaluate.apply(void 0,_);if(!(E===void 0||O===void 0))return g(E,O,a)}}:g(s,h,a)}function Nhe(e,t,n){return t.type==="color"?n=Jl.parse(n):t.type==="formatted"?n=Ph.fromString(n.toString()):t.type==="resolvedImage"?n=em.fromString(n.toString()):AI(n)!==t.type&&(t.type!=="enum"||!t.values[n])&&(n=void 0),jb(n,e.default,t.default)}function Ghe(e,t,n,r){const i=r-n,o=e-n;return i===0?0:t===1?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class _N{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new VW,this._defaultValue=n?Yhe(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,r,i,o,a,s,h){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=h||null,this.expression.evaluate(this._evaluator)}evaluate(t,n,r,i,o,a,s,h){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=h||null;try{const g=this.expression.evaluate(this._evaluator);if(g==null||typeof g=="number"&&g!==g)return this._defaultValue;if(this._enumValues&&!(g in this._enumValues))throw new Ru(`Expected value to be one of ${Object.keys(this._enumValues).map(_=>JSON.stringify(_)).join(", ")}, but found ${JSON.stringify(g)} instead.`);return g}catch(g){return this._warningHistory[g.message]||(this._warningHistory[g.message]=!0,typeof console<"u"&&console.warn(g.message)),this._defaultValue}}}function CN(e){return Array.isArray(e)&&e.length>0&&typeof e[0]=="string"&&e[0]in yN}function U4(e,t){const n=new tN(yN,[],t?Qhe(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?RO(new _N(r,t)):ty(n.errors)}class zO{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!X8(n.expression)}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}}class jO{constructor(t,n,r,i){this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!X8(n.expression),this.interpolationType=i}evaluateWithoutErrorHandling(t,n,r,i,o,a){return this._styleExpression.evaluateWithoutErrorHandling(t,n,r,i,o,a)}evaluate(t,n,r,i,o,a){return this._styleExpression.evaluate(t,n,r,i,o,a)}interpolationFactor(t,n,r){return this.interpolationType?Yp.interpolationFactor(this.interpolationType,t,n,r):0}}function bN(e,t){if(e=U4(e,t),e.result==="error")return e;const n=e.value.expression,r=Mw(n);if(!r&&!Uhe(t))return ty([new Pf("","data expressions not supported")]);const i=J8(n,["zoom","pitch","distance-from-center"]);if(!i&&!Rhe(t))return ty([new Pf("","zoom expressions not supported")]);const o=f3(n);if(!o&&!i)return ty([new Pf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Pf)return ty([o]);if(o instanceof Yp&&!vN(t))return ty([new Pf("",'"interpolate" expressions cannot be used with this property')]);if(!o)return RO(r?new zO("constant",e.value):new zO("source",e.value));const a=o instanceof Yp?o.interpolation:void 0;return RO(r?new jO("camera",e.value,o.labels,a):new jO("composite",e.value,o.labels,a))}class Ew{constructor(t,n){this._parameters=t,this._specification=n,YW(this,dI(this._parameters,this._specification))}static deserialize(t){return new Ew(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function $he(e,t){if(cI(e))return new Ew(e,t);if(CN(e)){const n=bN(e,t);if(n.result==="error")throw new Error(n.value.map(r=>`${r.key}: ${r.message}`).join(", "));return n.value}else{let n=e;return typeof e=="string"&&t.type==="color"&&(n=Jl.parse(e)),{kind:"constant",evaluate:()=>n}}}function f3(e){let t=null;if(e instanceof fN)t=f3(e.result);else if(e instanceof hN){for(const n of e.args)if(t=f3(n),t)break}else(e instanceof nN||e instanceof Yp)&&e.input instanceof Bv&&e.input.name==="zoom"&&(t=e);return t instanceof Pf||e.eachChild(n=>{const r=f3(n);r instanceof Pf?t=r:!t&&r?t=new Pf("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new Pf("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Qhe(e){const t={color:Qp,string:Ao,number:er,enum:Ao,boolean:Xi,formatted:Cw,resolvedImage:zb};return e.type==="array"?Dd(t[e.value]||eo,e.length):t[e.type]}function Yhe(e){return e.type==="color"&&(cI(e.default)||Array.isArray(e.default))?new Jl(0,0,0,0):e.type==="color"?Jl.parse(e.default)||null:e.default===void 0?null:e.default}function hb(e){return typeof e=="object"?["literal",e]:e}function qhe(e,t){let n=e.stops;if(!n)return Hhe(e,t);const r=n&&typeof n[0][0]=="object",i=r||e.property!==void 0,o=r||!i;return n=n.map(a=>!i&&t.tokens&&typeof a[1]=="string"?[a[0],Jhe(a[1])]:[a[0],hb(a[1])]),r?Vhe(e,t,n):o?Xhe(e,t,n):WO(e,t,n)}function Hhe(e,t){const n=["get",e.property];if(e.default===void 0)return t.type==="string"?["string",n]:n;if(t.type==="enum")return["match",n,Object.keys(t.values),n,e.default];{const r=[t.type==="color"?"to-color":t.type,n,hb(e.default)];return t.type==="array"&&r.splice(1,0,t.value,t.length||null),r}}function hI(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Vhe(e,t,n){const r={},i={},o=[];for(let s=0;s<n.length;s++){const h=n[s],g=h[0].zoom;r[g]===void 0&&(r[g]={zoom:g,type:e.type,property:e.property,default:e.default},i[g]=[],o.push(g)),i[g].push([h[0].value,h[1]])}if(pI({},t)==="exponential"){const s=[hI(e),["linear"],["zoom"]];for(const h of o){const g=WO(r[h],t,i[h]);Gy(s,h,g,!1)}return s}else{const s=["step",["zoom"]];for(const h of o){const g=WO(r[h],t,i[h]);Gy(s,h,g,!0)}return fI(s),s}}function Zhe(e,t){if(e!==void 0)return e;if(t!==void 0)return t}function GP(e,t){const n=hb(Zhe(e.default,t.default));return n===void 0&&t.type==="resolvedImage"?"":n}function WO(e,t,n){const r=pI(e,t),i=["get",e.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){const o=["case"];for(const a of n)o.push(["==",i,a[0]],a[1]);return o.push(GP(e,t)),o}else if(r==="categorical"){const o=["match",i];for(const a of n)Gy(o,a[0],a[1],!1);return o.push(GP(e,t)),o}else if(r==="interval"){const o=["step",["number",i]];for(const a of n)Gy(o,a[0],a[1],!0);return fI(o),e.default===void 0?o:["case",["==",["typeof",i],"number"],o,hb(e.default)]}else if(r==="exponential"){const o=e.base!==void 0?e.base:1,a=[hI(e),o===1?["linear"]:["exponential",o],["number",i]];for(const s of n)Gy(a,s[0],s[1],!1);return e.default===void 0?a:["case",["==",["typeof",i],"number"],a,hb(e.default)]}else throw new Error(`Unknown property function type ${r}`)}function Xhe(e,t,n,r=["zoom"]){const i=pI(e,t);let o,a=!1;if(i==="interval")o=["step",r],a=!0;else if(i==="exponential"){const s=e.base!==void 0?e.base:1;o=[hI(e),s===1?["linear"]:["exponential",s],r]}else throw new Error(`Unknown zoom function type "${i}"`);for(const s of n)Gy(o,s[0],s[1],a);return fI(o),o}function fI(e){e[0]==="step"&&e.length===3&&(e.push(0),e.push(e[3]))}function Gy(e,t,n,r){e.length>3&&t===e[e.length-2]||(r&&e.length===2||e.push(t),e.push(n))}function pI(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function Jhe(e){const t=["concat"],n=/{([^{}]+)}/g;let r=0;for(let i=n.exec(e);i!==null;i=n.exec(e)){const o=e.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&t.push(o),t.push(["get",i[1]])}if(t.length===1)return e;if(r<e.length)t.push(e.slice(r));else if(t.length===2)return["to-string",t[1]];return t}function efe(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function NO(e){if(Array.isArray(e))return e.map(NO);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=NO(e[n]);return t}return efe(e)}function mI(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case"has":return e.length>=2&&e[1]!=="$id"&&e[1]!=="$type";case"in":return e.length>=3&&(typeof e[1]!="string"||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!mI(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function tfe(e,t="fill"){if(e==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};mI(e)||(e=R4(e));const n=e;let r=!0;try{r=nfe(n)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(n,null,2)}
        `)}const i=QW[`filter_${t}`],o=U4(r,i);let a=null;if(o.result==="error")throw new Error(o.value.map(_=>`${_.key}: ${_.message}`).join(", "));a=(_,E,O)=>o.value.evaluate(_,E,{},O);let s=null,h=null;if(r!==n){const _=U4(n,i);if(_.result==="error")throw new Error(_.value.map(E=>`${E.key}: ${E.message}`).join(", "));s=(E,O,K,D,Y)=>_.value.evaluate(E,O,{},K,void 0,void 0,D,Y),h=!Mw(_.value.expression)}a=a;const g=MN(r);return{filter:a,dynamicFilter:s||void 0,needGeometry:g,needFeature:!!h}}function nfe(e){if(!$y(e))return e;let t=NO(e);return wN(t),t=xN(t),t}function xN(e){if(!Array.isArray(e))return e;const t=ofe(e);return t===!0?t:t.map(n=>xN(n))}function wN(e){let t=!1;const n=[];if(e[0]==="case"){for(let r=1;r<e.length-1;r+=2)t=t||$y(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if(e[0]==="match"){t=t||$y(e[1]);for(let r=2;r<e.length-1;r+=2)n.push(e[r+1]);n.push(e[e.length-1])}else if(e[0]==="step"){t=t||$y(e[1]);for(let r=1;r<e.length-1;r+=2)n.push(e[r+1])}t&&(e.length=0,e.push("any",...n));for(let r=1;r<e.length;r++)wN(e[r])}function $y(e){if(!Array.isArray(e))return!1;if(rfe(e[0]))return!0;for(let t=1;t<e.length;t++){const n=e[t];if($y(n))return!0}return!1}function rfe(e){return e==="pitch"||e==="distance-from-center"}const ife=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ofe(e){if(ife.has(e[0]))for(let t=1;t<e.length;t++){const n=e[t];if($y(n))return!0}return e}function afe(e,t){return e<t?-1:e>t?1:0}function MN(e){if(!Array.isArray(e))return!1;if(e[0]==="within")return!0;for(let t=1;t<e.length;t++)if(MN(e[t]))return!0;return!1}function R4(e){if(!e)return!0;const t=e[0];return e.length<=1?t!=="any":t==="=="?XS(e[1],e[2],"=="):t==="!="?I2(XS(e[1],e[2],"==")):t==="<"||t===">"||t==="<="||t===">="?XS(e[1],e[2],t):t==="any"?sfe(e.slice(1)):t==="all"?["all"].concat(e.slice(1).map(R4)):t==="none"?["all"].concat(e.slice(1).map(R4).map(I2)):t==="in"?$P(e[1],e.slice(2)):t==="!in"?I2($P(e[1],e.slice(2))):t==="has"?QP(e[1]):t==="!has"?I2(QP(e[1])):t==="within"?e:!0}function XS(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function sfe(e){return["any"].concat(e.map(R4))}function $P(e,t){if(t.length===0)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(n=>typeof n!=typeof t[0])?["filter-in-large",e,["literal",t.sort(afe)]]:["filter-in-small",e,["literal",t]]}}function QP(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function I2(e){return["!",e]}var lfe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ufe(e,t){const n={};for(const r in e)r!=="ref"&&(n[r]=e[r]);return lfe.forEach(r=>{r in t&&(n[r]=t[r])}),n}function Afe(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=ufe(e[n],t[e[n].ref]));return e}function cfe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dfe={};(function(e){var t=function(){var n=function(ee,H,N,Z){for(N=N||{},Z=ee.length;Z--;N[ee[Z]]=H);return N},r=[1,12],i=[1,13],o=[1,9],a=[1,10],s=[1,11],h=[1,14],g=[1,15],_=[14,18,22,24],E=[18,22],O=[22,24],K={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(H,N,Z,ue,ye,be,X){var se=be.length-1;switch(ye){case 1:this.$=new String(H.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(H),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=be[se-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=be[se-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[be[se-2],be[se]];break;case 16:this.$={},this.$[be[se][0]]=be[se][1];break;case 17:this.$=be[se-2],be[se-2][be[se][0]]=be[se][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[be[se]];break;case 21:this.$=be[se-2],be[se-2].push(be[se]);break}},table:[{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,12:1,13:2,15:7,16:8,17:h,23:g},{1:[3]},{14:[1,16]},n(_,[2,7]),n(_,[2,8]),n(_,[2,9]),n(_,[2,10]),n(_,[2,11]),n(_,[2,12]),n(_,[2,3]),n(_,[2,4]),n(_,[2,5]),n([14,18,21,22,24],[2,1]),n(_,[2,2]),{3:20,4:r,18:[1,17],19:18,20:19},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:23,15:7,16:8,17:h,23:g,24:[1,21],25:22},{1:[2,6]},n(_,[2,13]),{18:[1,24],22:[1,25]},n(E,[2,16]),{21:[1,26]},n(_,[2,18]),{22:[1,28],24:[1,27]},n(O,[2,20]),n(_,[2,14]),{3:20,4:r,20:29},{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:30,15:7,16:8,17:h,23:g},n(_,[2,19]),{3:5,4:r,5:6,6:i,7:3,8:o,9:4,10:a,11:s,13:31,15:7,16:8,17:h,23:g},n(E,[2,17]),n(E,[2,15]),n(O,[2,21])],defaultActions:{16:[2,6]},parseError:function(H,N){if(N.recoverable)this.trace(H);else throw new Error(H)},parse:function(H){var N=this,Z=[0],ue=[null],ye=[],be=this.table,X="",se=0,we=0,xe=2,De=1,Fe=ye.slice.call(arguments,1),he=Object.create(this.lexer),Qe={yy:{}};for(var ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ge)&&(Qe.yy[ge]=this.yy[ge]);he.setInput(H,Qe.yy),Qe.yy.lexer=he,Qe.yy.parser=this,typeof he.yylloc>"u"&&(he.yylloc={});var yt=he.yylloc;ye.push(yt);var wt=he.options&&he.options.ranges;typeof Qe.yy.parseError=="function"?this.parseError=Qe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function st(){var pe;return pe=he.lex()||De,typeof pe!="number"&&(pe=N.symbols_[pe]||pe),pe}for(var mt,ze,He,Ve,Vt={},Yt,vt,$t,Qt;;){if(ze=Z[Z.length-1],this.defaultActions[ze]?He=this.defaultActions[ze]:((mt===null||typeof mt>"u")&&(mt=st()),He=be[ze]&&be[ze][mt]),typeof He>"u"||!He.length||!He[0]){var ke="";Qt=[];for(Yt in be[ze])this.terminals_[Yt]&&Yt>xe&&Qt.push("'"+this.terminals_[Yt]+"'");he.showPosition?ke="Parse error on line "+(se+1)+`:
`+he.showPosition()+`
Expecting `+Qt.join(", ")+", got '"+(this.terminals_[mt]||mt)+"'":ke="Parse error on line "+(se+1)+": Unexpected "+(mt==De?"end of input":"'"+(this.terminals_[mt]||mt)+"'"),this.parseError(ke,{text:he.match,token:this.terminals_[mt]||mt,line:he.yylineno,loc:yt,expected:Qt})}if(He[0]instanceof Array&&He.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ze+", token: "+mt);switch(He[0]){case 1:Z.push(mt),ue.push(he.yytext),ye.push(he.yylloc),Z.push(He[1]),mt=null,we=he.yyleng,X=he.yytext,se=he.yylineno,yt=he.yylloc;break;case 2:if(vt=this.productions_[He[1]][1],Vt.$=ue[ue.length-vt],Vt._$={first_line:ye[ye.length-(vt||1)].first_line,last_line:ye[ye.length-1].last_line,first_column:ye[ye.length-(vt||1)].first_column,last_column:ye[ye.length-1].last_column},wt&&(Vt._$.range=[ye[ye.length-(vt||1)].range[0],ye[ye.length-1].range[1]]),Ve=this.performAction.apply(Vt,[X,we,se,Qe.yy,He[1],ue,ye].concat(Fe)),typeof Ve<"u")return Ve;vt&&(Z=Z.slice(0,-1*vt*2),ue=ue.slice(0,-1*vt),ye=ye.slice(0,-1*vt)),Z.push(this.productions_[He[1]][0]),ue.push(Vt.$),ye.push(Vt._$),$t=be[Z[Z.length-2]][Z[Z.length-1]],Z.push($t);break;case 3:return!0}}return!0}},D=function(){var ee={EOF:1,parseError:function(N,Z){if(this.yy.parser)this.yy.parser.parseError(N,Z);else throw new Error(N)},setInput:function(H,N){return this.yy=N||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var N=H.match(/(?:\r\n?|\n).*/g);return N?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},unput:function(H){var N=H.length,Z=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var ue=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Z.length-1&&(this.yylineno-=Z.length-1);var ye=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Z?(Z.length===ue.length?this.yylloc.first_column:0)+ue[ue.length-Z.length].length-Z[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[ye[0],ye[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(H){this.unput(this.match.slice(H))},pastInput:function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var H=this.pastInput(),N=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+N+"^"},test_match:function(H,N){var Z,ue,ye;if(this.options.backtrack_lexer&&(ye={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ye.yylloc.range=this.yylloc.range.slice(0))),ue=H[0].match(/(?:\r\n?|\n).*/g),ue&&(this.yylineno+=ue.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ue?ue[ue.length-1].length-ue[ue.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],Z=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Z)return Z;if(this._backtrack){for(var be in ye)this[be]=ye[be];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,N,Z,ue;this._more||(this.yytext="",this.match="");for(var ye=this._currentRules(),be=0;be<ye.length;be++)if(Z=this._input.match(this.rules[ye[be]]),Z&&(!N||Z[0].length>N[0].length)){if(N=Z,ue=be,this.options.backtrack_lexer){if(H=this.test_match(Z,ye[be]),H!==!1)return H;if(this._backtrack){N=!1;continue}else return!1}else if(!this.options.flex)break}return N?(H=this.test_match(N,ye[ue]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var N=this.next();return N||this.lex()},begin:function(N){this.conditionStack.push(N)},popState:function(){var N=this.conditionStack.length-1;return N>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(N){return N=this.conditionStack.length-1-Math.abs(N||0),N>=0?this.conditionStack[N]:"INITIAL"},pushState:function(N){this.begin(N)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(N,Z,ue,ye){switch(ue){case 0:break;case 1:return 6;case 2:return Z.yytext=Z.yytext.substr(1,Z.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return ee}();K.lexer=D;function Y(){this.yy={}}return Y.prototype=K,K.Parser=Y,new Y}();typeof cfe<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(dfe);const SN={StyleExpression:_N,isExpression:CN,isExpressionFilter:mI,createExpression:U4,createPropertyExpression:bN,normalizePropertyExpression:$he,ZoomConstantExpression:zO,ZoomDependentExpression:jO,StylePropertyFunction:Ew},EN={convertFunction:qhe,createFunction:dI,isFunction:cI};var ON=typeof Object.assign=="function"?Object.assign:function(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function JS(e){return e*Math.PI/180}var cv=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function BN(e,t){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(e,t);var n=document.createElement("canvas");return n.width=e,n.height=t,n}function hfe(e,t){for(var n=0,r=t.length;n<r;++n){var i=t[n];if(i<e&&n+1<r){var o=t[n]/t[n+1];return n+Math.log(t[n]/e)/Math.log(o)}}return r-1}var ffe=Array(256).join(" ");function GO(e,t){if(t>=.05){for(var n="",r=e.split(`
`),i=ffe.slice(0,Math.round(t/.1)),o=0,a=r.length;o<a;++o)o>0&&(n+=`
`),n+=r[o].split("").join(i);return n}return e}var e6;function IN(){return e6||(e6=BN(1,1).getContext("2d")),e6}function $0(e,t){return IN().measureText(e).width+(e.length-1)*t}var $O={};MO&&Eo(MO,ji.CLEAR,function(){$O={}});function QO(e,t,n,r){if(e.indexOf(`
`)!==-1){for(var i=e.split(`
`),o=[],a=0,s=i.length;a<s;++a)o.push(QO(i[a],t,n,r));return o.join(`
`)}var h=n+","+t+","+e+","+r,g=$O[h];if(!g){var _=e.split(" ");if(_.length>1){var E=IN();E.font=t;for(var O=E.measureText("M").width,K=O*n,D="",o=[],a=0,s=_.length;a<s;++a){var Y=_[a],ee=D+(D?" ":"")+Y;$0(ee,r)<=K?D=ee:(D&&o.push(D),D=Y)}D&&o.push(D);for(var a=0,s=o.length;a<s&&s>1;++a){var H=o[a];if($0(H,r)<K*.35){var N=a>0?$0(o[a-1],r):1/0,Z=a<s-1?$0(o[a+1],r):1/0;o.splice(a,1),s-=1,N<Z?(o[a-1]+=" "+H,a-=1):o[a]=H+" "+o[a]}}for(var a=0,s=o.length-1;a<s;++a){var ue=o[a],ye=o[a+1];if($0(ue,r)>K*.7&&$0(ye,r)<K*.6){var be=ue.split(" "),X=be.pop();$0(X,r)<K*.2&&(o[a]=be.join(" "),o[a+1]=X+" "+ye),s-=1}}g=o.join(`
`)}else g=e;g=GO(g,r),$O[h]=g}return g}var pfe=EN.isFunction,mfe=EN.convertFunction,gfe=SN.isExpression,yfe=SN.createPropertyExpression,vfe={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},_fe={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},Cfe=function(e,t){var n=yfe(e,t);if(n.result==="error")throw new Error(n.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return n.value},YO={},z4={zoom:0},k2,t6;function Ki(e,t,n,r,i,o){var a=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[a]||(o[a]={});var s=o[a];if(!s[n]){var h=(e[t]||YO)[n],g=QW["".concat(t,"_").concat(e.type)][n];h===void 0&&(h=g.default);var _=gfe(h);if(!_&&pfe(h)&&(h=mfe(h,g),_=!0),_){var E=Cfe(h,g);s[n]=E.evaluate.bind(E)}else g.type=="color"&&(h=Jl.parse(h)),s[n]=function(){return h}}return z4.zoom=r,s[n](z4,i)}function bfe(e,t,n,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=tfe(t).filter),z4.zoom=r,i[e](z4,n)}function Bm(e,t){if(e){if(e.a===0||t===0)return;var n=e.a;return t=t===void 0?1:t,n===0?"transparent":"rgba("+Math.round(e.r*255/n)+","+Math.round(e.g*255/n)+","+Math.round(e.b*255/n)+","+n*t+")"}return e}var xfe=/^([^]*)\{(.*)\}([^]*)$/;function n6(e,t){var n;do if(n=e.match(xfe),n){var r=t[n[2]]||"";e=n[1]+r+n[3]}while(n);return e}function wfe(e,t,n,r,i,o,a){if(r===void 0&&(r=cv),typeof t=="string"&&(t=JSON.parse(t)),t.version!=8)throw new Error("glStyle version 8 required.");var s,h;if(o){if(typeof Image<"u"){var g=new Image;g.crossOrigin="anonymous",g.onload=function(){s=g,h=[g.width,g.height],e.changed(),g.onload=null},g.src=o}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var _=self;_.postMessage({action:"loadImage",src:o}),_.addEventListener("message",function(yt){yt.data.action==="imageLoaded"&&yt.data.src===o&&(s=yt.data.image,h=[s.width,s.height])})}}for(var E=Afe(t.layers),O={},K=[],D={},Y={},ee={},H={},N,Z=0,ue=E.length;Z<ue;++Z){var ye=E[Z],be=ye.id;if(typeof n=="string"&&ye.source==n||n.indexOf(be)!==-1){var X=ye["source-layer"];if(!N){N=ye.source;var se=t.sources[N];if(!se)throw new Error('Source "'.concat(N,'" is not defined'));var we=se.type;if(we!=="vector"&&we!=="geojson")throw new Error('Source "'.concat(N,'" is not of type "vector" or "geojson", but "').concat(we,'"'))}var xe=O[X];xe||(xe=[],O[X]=xe),xe.push({layer:ye,index:Z}),K.push(be)}}var De=new Y_,Fe=new yy,he=[],Qe=function(ge,yt){var wt=ge.getProperties(),st=O[wt.layer];if(st){var mt=r.indexOf(yt);mt==-1&&(mt=hfe(yt,r));for(var ze=vfe[ge.getGeometry().getType()],He={properties:wt,type:ze},Ve=-1,Vt=function($t,Qt){var ke=st[$t],pe=ke.layer,Se=pe.id,Re=pe.layout||YO,it=pe.paint||YO;if(Re.visibility==="none"||"minzoom"in pe&&mt<pe.minzoom||"maxzoom"in pe&&mt>=pe.maxzoom)return"continue";var ot=pe.filter;if(!ot||bfe(Se,ot,He,mt,H)){var St=void 0,Rt=void 0,zt=void 0,pt=void 0,rr=void 0,gn=void 0,yn=ke.index;if(ze==3&&(pe.type=="fill"||pe.type=="fill-extrusion"))if(Rt=Ki(pe,"paint",pe.type+"-opacity",mt,He,ee),pe.type+"-pattern"in it){var Jn=Ki(pe,"paint",pe.type+"-pattern",mt,He,ee);if(Jn){var Ar=typeof Jn=="string"?n6(Jn,wt):Jn.toString();if(s&&i&&i[Ar]){++Ve,gn=he[Ve],(!gn||!gn.getFill()||gn.getStroke()||gn.getText())&&(gn=new J0({fill:new yy}),he[Ve]=gn),zt=gn.getFill(),gn.setZIndex(yn);var Mr=Ar+"."+Rt,Wr=Y[Mr];if(!Wr){var gr=i[Ar],_i=BN(gr.width,gr.height),Ee=_i.getContext("2d");Ee.globalAlpha=Rt,Ee.drawImage(s,gr.x,gr.y,gr.width,gr.height,0,0,gr.width,gr.height),Wr=Ee.createPattern(_i,"repeat"),Y[Mr]=Wr}zt.setColor(Wr)}}}else St=Bm(Ki(pe,"paint",pe.type+"-color",mt,He,ee),Rt),pe.type+"-outline-color"in it&&(rr=Bm(Ki(pe,"paint",pe.type+"-outline-color",mt,He,ee),Rt)),rr||(rr=St),(St||rr)&&(++Ve,gn=he[Ve],(!gn||St&&!gn.getFill()||!St&&gn.getFill()||rr&&!gn.getStroke()||!rr&&gn.getStroke()||gn.getText())&&(gn=new J0({fill:St?new yy:void 0,stroke:rr?new Y_:void 0}),he[Ve]=gn),St&&(zt=gn.getFill(),zt.setColor(St)),rr&&(pt=gn.getStroke(),pt.setColor(rr),pt.setWidth(.5)),gn.setZIndex(yn));if(ze!=1&&pe.type=="line"){St=!("line-pattern"in it)&&"line-color"in it?Bm(Ki(pe,"paint","line-color",mt,He,ee),Ki(pe,"paint","line-opacity",mt,He,ee)):void 0;var J=Ki(pe,"paint","line-width",mt,He,ee);St&&J>0&&(++Ve,gn=he[Ve],(!gn||!gn.getStroke()||gn.getFill()||gn.getText())&&(gn=new J0({stroke:new Y_}),he[Ve]=gn),pt=gn.getStroke(),pt.setLineCap(Ki(pe,"layout","line-cap",mt,He,ee)),pt.setLineJoin(Ki(pe,"layout","line-join",mt,He,ee)),pt.setMiterLimit(Ki(pe,"layout","line-miter-limit",mt,He,ee)),pt.setColor(St),pt.setWidth(J),pt.setLineDash(it["line-dasharray"]?Ki(pe,"paint","line-dasharray",mt,He,ee).map(function(ri){return ri*J}):null),gn.setZIndex(yn))}var q=!1,Te=null,At=0,Bt=void 0,kt=void 0,Ft=void 0;if((ze==1||ze==2)&&"icon-image"in Re){var fn=Ki(pe,"layout","icon-image",mt,He,ee);if(fn){Bt=typeof fn=="string"?n6(fn,wt):fn.toString();var Kn=void 0;if(s&&i&&i[Bt]){var On=Ki(pe,"layout","icon-rotation-alignment",mt,He,ee);if(ze==2){var m=ge.getGeometry();if(m.getFlatMidpoint||m.getFlatMidpoints){var Pt=m.getExtent(),Kr=Math.sqrt(Math.max(Math.pow((Pt[2]-Pt[0])/yt,2),Math.pow((Pt[3]-Pt[1])/yt,2)));if(Kr>150){var tr=m.getType()==="MultiLineString"?m.getFlatMidpoints():m.getFlatMidpoint();t6||(k2=[NaN,NaN],t6=new wO("Point",k2,[],{},null)),Kn=t6,k2[0]=tr[0],k2[1]=tr[1];var Ke=Ki(pe,"layout","symbol-placement",mt,He,ee);if(Ke==="line"&&On==="map")for(var ce=m.getStride(),Ce=m.getFlatCoordinates(),Ie=0,je=Ce.length-ce;Ie<je;Ie+=ce){var rt=Ce[Ie],lt=Ce[Ie+1],ft=Ce[Ie+ce],et=Ce[Ie+ce+1],Mt=Math.min(rt,ft),tn=Math.min(lt,et),Ht=Math.max(rt,ft),en=Math.max(lt,et);if(tr[0]>=Mt&&tr[0]<=Ht&&tr[1]>=tn&&tr[1]<=en){At=Math.atan2(lt-et,ft-rt);break}}}}}if(ze!==2||Kn){var Dn=Ki(pe,"layout","icon-size",mt,He,ee),Bn=it["icon-color"]!==void 0?Ki(pe,"paint","icon-color",mt,He,ee):null;if(!Bn||Bn.a!==0){var Mr=Bt+"."+Dn;if(Bn!==null&&(Mr+="."+Bn),kt=D[Mr],!kt){var Yn=i[Bt];kt=new yW({color:Bn?[Bn.r*255,Bn.g*255,Bn.b*255,Bn.a]:void 0,img:s,imgSize:h,size:[Yn.width,Yn.height],offset:[Yn.x,Yn.y],rotateWithView:On==="map",scale:Dn/Yn.pixelRatio,displacement:"icon-offset"in Re?Ki(pe,"layout","icon-offset",mt,He,ee).map(function(si){return-si*Yn.pixelRatio}):void 0}),D[Mr]=kt}}kt&&(++Ve,gn=he[Ve],(!gn||!gn.getImage()||gn.getFill()||gn.getStroke())&&(gn=new J0,he[Ve]=gn),gn.setGeometry(Kn),kt.setRotation(At+JS(Ki(pe,"layout","icon-rotate",mt,He,ee))),kt.setOpacity(Ki(pe,"paint","icon-opacity",mt,He,ee)),kt.setAnchor(_fe[Ki(pe,"layout","icon-anchor",mt,He,ee)]),gn.setImage(kt),Te=gn.getText(),gn.setText(void 0),gn.setZIndex(yn),q=!0,Ft=!1)}else Ft=!0}}}if(ze==1&&pe.type==="circle"){++Ve,gn=he[Ve],(!gn||!gn.getImage()||gn.getFill()||gn.getStroke())&&(gn=new J0,he[Ve]=gn);var Sr="circle-radius"in it?Ki(pe,"paint","circle-radius",mt,He,ee):5,lr=Bm(Ki(pe,"paint","circle-stroke-color",mt,He,ee),Ki(pe,"paint","circle-stroke-opacity",mt,He,ee)),Qr=Bm(Ki(pe,"paint","circle-color",mt,He,ee),Ki(pe,"paint","circle-opacity",mt,He,ee)),Or=Ki(pe,"paint","circle-stroke-width",mt,He,ee),Lr=Sr+"."+lr+"."+Qr+"."+Or;kt=D[Lr],kt||(kt=new hW({radius:Sr,stroke:lr&&Or>0?new Y_({width:Or,color:lr}):void 0,fill:Qr?new yy({color:Qr}):void 0}),D[Lr]=kt),gn.setImage(kt),Te=gn.getText(),gn.setText(void 0),gn.setGeometry(void 0),gn.setZIndex(yn),q=!0}var ir=void 0,ci=void 0,Li,to,ho,ai;if("text-field"in Re){to=Math.round(Ki(pe,"layout","text-size",mt,He,ee));var fo=Ki(pe,"layout","text-font",mt,He,ee);Li=Ki(pe,"layout","text-line-height",mt,He,ee),ci=TO(a?a(fo):fo,to,Li),ho=Ki(pe,"layout","text-letter-spacing",mt,He,ee),ai=Ki(pe,"layout","text-max-width",mt,He,ee);var Wa=Ki(pe,"layout","text-field",mt,He,ee);typeof Wa=="object"&&Wa.sections?Wa.sections.length===1?ir=Wa.toString():ir=Wa.sections.reduce(function(ri,si,Zo){var Pa=si.fontStack?si.fontStack.split(","):fo,Dr=TO(a?a(Pa):Pa,to*(si.scale||1),Li),Na=si.text;if(Na===`
`)return ri.push(`
`,""),ri;if(ze==2){ri.push(GO(Na,ho),Dr);return}Na=QO(Na,Dr,ai,ho).split(`
`);for(var yi=0,Ga=Na.length;yi<Ga;++yi)yi>0&&ri.push(`
`,""),ri.push(Na[yi],Dr);return ri},[]):ir=n6(Wa,wt).trim(),Rt=Ki(pe,"paint","text-opacity",mt,He,ee)}if(ir&&Rt&&!Ft){q||(++Ve,gn=he[Ve],(!gn||!gn.getText()||gn.getFill()||gn.getStroke())&&(gn=new J0,he[Ve]=gn),gn.setImage(void 0),gn.setGeometry(void 0)),gn.getText()||gn.setText(Te||new Gue({padding:[2,2,2,2]})),Te=gn.getText();var Ia=Re["text-transform"];Ia=="uppercase"?ir=Array.isArray(ir)?ir.map(function(si,Zo){return Zo%2?si:si.toUpperCase()}):ir.toUpperCase():Ia=="lowercase"&&(ir=Array.isArray(ir)?ir.map(function(si,Zo){return Zo%2?si:si.toLowerCase()}):ir.toLowerCase());var Mi=Array.isArray(ir)?ir:ze==2?GO(ir,ho):QO(ir,ci,ai,ho);Te.setText(Mi),Te.setFont(ci),Te.setRotation(JS(Ki(pe,"layout","text-rotate",mt,He,ee)));var os=Ki(pe,"layout","text-anchor",mt,He,ee),Ke=q||ze==1?"point":Ki(pe,"layout","symbol-placement",mt,He,ee);Te.setPlacement(Ke),Te.setOverflow(Ke==="point");var gi=Ki(pe,"paint","text-halo-width",mt,He,ee),jn=Ki(pe,"layout","text-offset",mt,He,ee),ro=Ki(pe,"paint","text-translate",mt,He,ee),_o=0,Ui=0;if(Ke=="point"){var ve="center";os.indexOf("left")!==-1?(ve="left",Ui=gi):os.indexOf("right")!==-1&&(ve="right",Ui=-gi),Te.setTextAlign(ve);var Je=Ki(pe,"layout","text-rotation-alignment",mt,He,ee);Te.setRotateWithView(Je=="map")}else Te.setMaxAngle(JS(Ki(pe,"layout","text-max-angle",mt,He,ee))*ir.length/Mi.length),Te.setTextAlign(),Te.setRotateWithView(!1);var Zt="middle";os.indexOf("bottom")==0?(Zt="bottom",_o=-gi-.5*(Li-1)*to):os.indexOf("top")==0&&(Zt="top",_o=gi+.5*(Li-1)*to),Te.setTextBaseline(Zt),Te.setOffsetX(jn[0]*to+Ui+ro[0]),Te.setOffsetY(jn[1]*to+_o+ro[1]),Fe.setColor(Bm(Ki(pe,"paint","text-color",mt,He,ee),Rt)),Te.setFill(Fe);var sn=Bm(Ki(pe,"paint","text-halo-color",mt,He,ee),Rt);if(sn){De.setColor(sn),gi*=2;var Lt=.5*to;De.setWidth(gi<=Lt?gi:Lt),Te.setStroke(De)}else Te.setStroke(void 0);var wn=Ki(pe,"layout","text-padding",mt,He,ee),dr=Te.getPadding();wn!==dr[0]&&(dr[0]=wn,dr[1]=wn,dr[2]=wn,dr[3]=wn),gn.setZIndex(yn)}}},Yt=0,vt=st.length;Yt<vt;++Yt)Vt(Yt);if(Ve>-1)return he.length=Ve+1,he}};return e.setStyle(Qe),e.set("mapbox-source",N),e.set("mapbox-layers",K),Qe}var kN={exports:{}};(function(){var e;kN.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(t){return"https://fonts.google.com/specimen/"+t.replace(/( )/g,"+")},normalizeName:function(t){return t}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(Dh);var Mfe=kN.exports;const Sfe=Ba(Mfe);var YP={},Efe=/font-family: ?([^;]*);/,Ofe=/("|')/g,T2;function Bfe(e){if(!T2){T2={};for(var t=document.styleSheets,n=0,r=t.length;n<r;++n){var i=t[n];try{var o=i.rules||i.cssRules;if(o)for(var a=0,s=o.length;a<s;++a){var h=o[a];if(h.type==5){var g=h.cssText.match(Efe);T2[g[1].replace(Ofe,"")]=!0}}}catch{}}}return e in T2}var qP={},Ife=Sfe.getNames();function kfe(e){var t=e.toString();if(t in qP)return e;for(var n=e.map(function(g){var _=TO(g,1).split(" ");return[_.slice(3).join(" ").replace(/"/g,""),_[1]+_[0]]}),r=0,i=n.length;r<i;++r){var o=n[r],a=o[0];if(!Bfe(a)&&Ife.indexOf(a)!==-1){var s="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+")+":"+o[1];if(!document.querySelector('link[href="'+s+'"]')){var h=document.createElement("link");h.href=s,h.rel="stylesheet",document.head.appendChild(h)}}}return qP[t]=!0,e}var TN=/^(.*)(\?.*)$/;function j4(e,t){return t&&e.indexOf(".")===0&&(e=t+e),e}function r6(e,t,n){e=j4(e,t);var r=e.match(TN);return r?r[1]+n+(r.length>2?r[2]:""):e+n}function Tfe(e,t,n,r,i){return new Promise(function(o,a){if(typeof t!="object"&&(t=JSON.parse(t)),t.version!=8)return a(new Error("glStyle version 8 required."));if(!(e instanceof wW||e instanceof GW))return a(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,h,g,_;function E(){!_&&(!t.sprite||h)?(_=wfe(e,t,n,i,h,g,kfe),e.getStyle()?o():a(new Error("Nothing to show for source [".concat(n,"]")))):_?(e.setStyle(_),o()):a(new Error("Something went wrong trying to apply style."))}if(t.sprite){s=window.devicePixelRatio>=1.5?.5:1;var O=s==.5?"@2x":"",K=r6(t.sprite,r,O+".json");fetch(K,{credentials:"same-origin"}).then(function(D){return!D.ok&&O!==""?(K=r6(t.sprite,r,".json"),fetch(K,{credentials:"same-origin"})):D}).then(function(D){if(D.ok)return D.json();a(new Error("Problem fetching sprite from ".concat(K,": ").concat(D.statusText)))}).then(function(D){if(D===void 0)return a(new Error("No sprites found."));h=D,g=r6(t.sprite,r,O+".png"),E()}).catch(function(D){a(new Error("Sprites cannot be loaded: ".concat(K,": ").concat(D.message)))})}else E()})}var qO={};function Pfe(e,t){var n={id:t.id,type:t.type},r={};function i(o){var a=t.layout||{},s=t.paint||{};n.paint=s;var h=typeof e.getSource=="function"?e.getSource().getTileGrid().getZForResolution(o):e.getView().getZoom(),g=typeof e.getTargetElement=="function"?e.getTargetElement():void 0,_,E;if(s["background-color"]!==void 0&&(_=Ki(n,"paint","background-color",h,qO,r),g&&(g.style.background=Jl.parse(_).toString())),s["background-opacity"]!==void 0&&(E=Ki(n,"paint","background-opacity",h,qO,r),g&&(g.style.opacity=E)),a.visibility=="none"){g&&(g.style.backgroundColor="",g.style.opacity="");return}return Bm(_,E)}if(typeof e.getTargetElement=="function")e.getTargetElement()&&i(),e.on(["change:resolution","change:target"],i);else if(typeof e.setBackground=="function")e.setBackground(i);else throw new Error("Unable to apply background.")}function Kfe(e,t){var n;return e.some(function(r){if(r.id==t)return n=r.source,!0}),n}function PN(e){var t=e.bounds;if(t){var n=mO([t[0],t[1]]),r=mO([t[2],t[3]]);return[n[0],n[1],r[0],r[1]]}}function Dfe(e,t){e=ON({},e);var n=[t,JSON.stringify(e)].toString(),r=YP[n];return r||(r=new WW({url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0}),YP[n]=r),new Promise(function(i){var o=r.on("change",function(){var a=r.getState();if(a==="ready"){var s=r.getTileJSON(),h=Array.isArray(s.tiles)?s.tiles:[s.tiles];if(t)for(var g=0,_=h.length;g<_;++g)h[g]=decodeURI(new URL(h[g],t).href);var E=r.getTileGrid(),O=PN(s),K=s.minzoom||0,D=s.maxzoom||22,Y=r.get("ol-source");Y===void 0&&(Y=new $W({attributions:r.getAttributions(),format:new Rae,tileGrid:new Rb({origin:E.getOrigin(0),extent:O||E.getExtent(),minZoom:K,resolutions:cv.slice(0,D+1),tileSize:512}),urls:h}),r.set("ol-source",Y)),JC(o),i(Y)}else a==="error"&&(r.set("ol-source",null),JC(o),i(void 0))});r.getState()==="ready"&&r.changed()})}function Ffe(e,t){var n=new GW({declutter:!0,visible:!1});return Dfe(e,t).then(function(r){n.setSource(r)}),n}function Lfe(e,t){var n=new sce,r=new WW({transition:0,url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=r.on("change",function(){var o=r.getState();if(o==="ready"){JC(i);var a=r.getTileJSON(),s=PN(a),h=r.getTileGrid(),g=e.tileSize||a.tileSize||512,_=a.minzoom||0,E=a.maxzoom||22;r.tileGrid=new Rb({origin:h.getOrigin(0),extent:s||h.getExtent(),minZoom:_,resolutions:j8({maxZoom:E,tileSize:g}).getResolutions(),tileSize:g}),n.setSource(r)}else o==="error"&&(JC(i),n.setSource(void 0))});return r.setTileLoadFunction(function(o,a){if(a.indexOf("{bbox-epsg-3857}")!=-1){var s=r.getTileGrid().getTileCoordExtent(o.getTileCoord());a=a.replace("{bbox-epsg-3857}",s.toString())}var h=o.getImage();h.src=a}),n}var HP=new Xoe;function Ufe(e,t){var n=e.data,r,i;return typeof n=="string"?i=j4(n,t):r=HP.readFeatures(n,{featureProjection:"EPSG:3857"}),new wW({declutter:!0,source:new OW({attributions:e.attribution,features:r,format:HP,url:i}),visible:!1})}function VP(e,t,n,r){var i=n.getZoom(),o=Ki(e,"paint","raster-opacity",i,qO,r);t.setOpacity(o)}function ZP(e,t,n,r,i,o){o===void 0&&(o="");var a=[],s=t.getView();!s.isDef()&&!s.getRotation()&&!s.getResolutions()&&(s=new Up(ON(s.getProperties(),{maxResolution:cv[0]})),t.setView(s)),"center"in e&&!s.getCenter()&&s.setCenter(mO(e.center)),"zoom"in e&&s.getZoom()===void 0&&s.setResolution(cv[0]/Math.pow(2,e.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:t.getSize()}),e.sprite&&(e.sprite.indexOf("mapbox://")==0?e.sprite=n+"/sprite"+o:e.sprite.indexOf("http")!=0&&(e.sprite=(r?r+i:"")+e.sprite+o));for(var h=e.layers,g=[],_,E,O,K,D,Y,ee=function(ue,ye){_=h[ue];var be=_.type;if(!(be=="heatmap"||be=="hillshade"))if(be=="background")Pfe(t,_);else{if(K=_.source||Kfe(h,_.ref),K!=O){if(g.length&&(a.push(XP(D,g,e,i,t)),g=[]),E=e.sources[K],Y=E.url,Y)if(Y=j4(Y,i),Y.indexOf("mapbox://")==0){var X=Y.replace("mapbox://","");E.tiles=["a","b","c","d"].map(function(we){return"https://"+we+".tiles.mapbox.com/v4/"+X+"/{z}/{x}/{y}."+(E.type=="vector"?"vector.pbf":"png")+o})}else Y.indexOf("/")===0&&r.indexOf("http")===0&&(Y=r+Y);if(E.tiles&&(E.tiles=E.tiles.map(function(we){return j4(we,i)})),E.type=="vector")D=Ffe(E,Y);else if(E.type=="raster"){D=Lfe(E,Y),D.setVisible(_.layout?_.layout.visibility!=="none":!0);var se={};s.on("change:resolution",VP.bind(H,_,D,s,se)),VP(_,D,s,se)}else E.type=="geojson"&&(D=Ufe(E,i));O=K,D&&D.set("mapbox-source",O)}g.push(_.id)}},H=this,N=0,Z=h.length;N<Z;++N)ee(N);return a.push(XP(D,g,e,i,t)),t.set("mapbox-style",e),Promise.all(a)}function Rfe(e,t){var n,r="",i="",o="",a="";if((typeof e=="string"||e instanceof HTMLElement)&&(e=new R8({target:e})),typeof t=="string"){var s=t.match(TN);s&&(i=s[1],r=s.length>2?s[2]:""),n=new Promise(function(h,g){fetch(t,{credentials:"same-origin"}).then(function(_){return _.json()}).then(function(_){var E=document.createElement("A");E.href=t;var O=E.href;a=E.pathname.split("/").slice(0,-1).join("/")+"/",o=O.substr(0,O.indexOf(a)),ZP(_,e,i,o,a,r).then(function(){h(e)}).catch(g)}).catch(function(_){g(new Error("Could not load ".concat(t,": ").concat(_.message)))})})}else n=new Promise(function(h,g){ZP(t,e).then(function(){h(e)}).catch(g)});return n}function zfe(e,t){return(typeof e=="string"||e instanceof HTMLElement)&&(e=new R8({target:e})),setTimeout(function(){Rfe(e,t)},0),e}function XP(e,t,n,r,i){for(var o=24,a=0,s=n.layers,h=0,g=s.length;h<g;++h){var _=s[h];t.indexOf(_.id)!==-1&&(o=Math.min("minzoom"in _?_.minzoom:0,o),a=Math.max("maxzoom"in _?_.maxzoom:24,a))}return new Promise(function(E,O){var K=function(){var D=e.getSource();if(!D||D.getState()==="error"){O(new Error("Error accessing data for source "+e.get("mapbox-source")));return}if("getTileGrid"in D){var Y=D.getTileGrid();if(Y){var ee=Y.getMinZoom();(o>0||ee>0)&&e.setMaxResolution(Math.min(cv[o],Y.getResolution(ee))+1e-9),a<24&&e.setMinResolution(cv[a]+1e-9)}}D instanceof OW||D instanceof $W?Tfe(e,n,t,r).then(function(){e.setVisible(!0),E()},function(H){O(H)}):E()};e.set("mapbox-layers",t),i.getLayers().getArray().indexOf(e)===-1&&i.addLayer(e),e.getSource()?K():e.once("change:source",K)})}function Er(){var e="/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",t="289072bd1575a4d391f262cdf75fcdafa8679c23",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:14,column:3}},1:{start:{line:11,column:4},end:{line:11,column:16}},2:{start:{line:13,column:4},end:{line:13,column:149}},3:{start:{line:13,column:103},end:{line:13,column:133}},4:{start:{line:17,column:24},end:{line:24,column:3}},5:{start:{line:27,column:14},end:{line:27,column:18}},6:{start:{line:29,column:19},end:{line:29,column:23}},7:{start:{line:31,column:4},end:{line:31,column:17}},8:{start:{line:32,column:4},end:{line:37,column:6}},9:{start:{line:38,column:4},end:{line:38,column:67}},10:{start:{line:41,column:4},end:{line:42,column:13}},11:{start:{line:42,column:6},end:{line:42,column:13}},12:{start:{line:43,column:4},end:{line:43,column:33}},13:{start:{line:44,column:4},end:{line:44,column:33}},14:{start:{line:47,column:4},end:{line:51,column:5}},15:{start:{line:48,column:6},end:{line:50,column:8}},16:{start:{line:54,column:4},end:{line:60,column:7}},17:{start:{line:61,column:16},end:{line:68,column:6}},18:{start:{line:69,column:4},end:{line:77,column:7}},19:{start:{line:70,column:21},end:{line:70,column:45}},20:{start:{line:71,column:6},end:{line:76,column:9}},21:{start:{line:78,column:22},end:{line:88,column:5}},22:{start:{line:79,column:19},end:{line:79,column:42}},23:{start:{line:80,column:21},end:{line:80,column:56}},24:{start:{line:81,column:6},end:{line:87,column:9}},25:{start:{line:89,column:4},end:{line:89,column:16}},26:{start:{line:90,column:4},end:{line:90,column:33}},27:{start:{line:91,column:4},end:{line:101,column:7}},28:{start:{line:92,column:21},end:{line:92,column:56}},29:{start:{line:93,column:6},end:{line:100,column:9}},30:{start:{line:102,column:4},end:{line:102,column:19}},31:{start:{line:103,column:4},end:{line:105,column:6}},32:{start:{line:107,column:17},end:{line:110,column:3}},33:{start:{line:108,column:4},end:{line:108,column:20}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:112,column:4},end:{line:169,column:9}},36:{start:{line:116,column:22},end:{line:116,column:45}},37:{start:{line:161,column:22},end:{line:161,column:40}}},fnMap:{0:{name:"renderCoords",decl:{start:{line:9,column:9},end:{line:9,column:21}},loc:{start:{line:9,column:30},end:{line:15,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:13,column:92},end:{line:13,column:93}},loc:{start:{line:13,column:103},end:{line:13,column:133}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:23},end:{line:19,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:20,column:18},end:{line:20,column:19}},loc:{start:{line:20,column:24},end:{line:21,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:25},end:{line:23,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:21},end:{line:39,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:28},end:{line:45,column:3}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:32},end:{line:52,column:3}},line:46},8:{name:"(anonymous_8)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:22},end:{line:106,column:3}},line:53},9:{name:"(anonymous_9)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:35},end:{line:77,column:5}},line:69},10:{name:"(anonymous_10)",decl:{start:{line:78,column:22},end:{line:78,column:23}},loc:{start:{line:78,column:28},end:{line:88,column:5}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:91,column:25},end:{line:91,column:26}},loc:{start:{line:91,column:33},end:{line:101,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:107,column:17},end:{line:107,column:18}},loc:{start:{line:107,column:24},end:{line:110,column:3}},line:107},13:{name:"(anonymous_13)",decl:{start:{line:111,column:2},end:{line:111,column:3}},loc:{start:{line:111,column:11},end:{line:170,column:3}},line:111},14:{name:"(anonymous_14)",decl:{start:{line:116,column:15},end:{line:116,column:16}},loc:{start:{line:116,column:22},end:{line:116,column:45}},line:116},15:{name:"(anonymous_15)",decl:{start:{line:161,column:15},end:{line:161,column:16}},loc:{start:{line:161,column:22},end:{line:161,column:40}},line:161}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:14,column:3}},{start:{line:12,column:9},end:{line:14,column:3}}],line:10},1:{loc:{start:{line:10,column:6},end:{line:10,column:34}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:13}},{start:{line:10,column:17},end:{line:10,column:34}}],line:10},2:{loc:{start:{line:41,column:4},end:{line:42,column:13}},type:"if",locations:[{start:{line:41,column:4},end:{line:42,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:132,column:26},end:{line:132,column:59}},type:"binary-expr",locations:[{start:{line:132,column:26},end:{line:132,column:53}},{start:{line:132,column:57},end:{line:132,column:59}}],line:132},5:{loc:{start:{line:143,column:6},end:{line:156,column:10}},type:"binary-expr",locations:[{start:{line:143,column:6},end:{line:143,column:29}},{start:{line:143,column:49},end:{line:156,column:10}}],line:143}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/MapOpenLayers.tsx"],names:[],mappings:"AAmBW,cAuIL,YAvIK;AAnBX,OAAO,WAAW;AAClB,SAAQ,gBAAe;AAEvB,OAAO,6BAA6B;AAEpC,OAAO;AAEP,SAAQ,aAAY;AACpB,SAAQ,KAAK,MAAM,eAAc;AAEjC,SAAQ,gBAAe;AAIvB,SAAS,aAAc,QAAkB;AACvC,MAAI,CAAC,UAAU,OAAO,SAAS,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO,oBAAC,UAAK,WAAU,mBACpB,iBAAO,IAAI,CAAC,UAAU,OAAO,KAAK,EAAE,SAAS,GAAG,GAAQ,CAAC,EAAE,KAAK,IAAI,GACvE;AAAA,EACF;AACF;AAqBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,cAAc,MAAM;AAAA,IAAC;AAAA,IACrB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAmC;AAAA,EACnC;AAAA,EACA,iBAAqC;AAAA,EAErC,YAAY,OAA2B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,QAAQ,CAAC;AAAA,IACX;AACA,SAAK,cAAc,SAAS,KAAK,aAAa,KAAK,IAAI,GAAG,GAAG;AAAA,EAC/D;AAAA,EAEA,aAAa,aAAiC;AAC5C,QAAG,CAAC,KAAK;AAAK;AAGd,SAAK,IAAI,UAAU,EAAE,MAAM;AAC3B,UAAM,KAAK,KAAK,WAAW;AAAA,EAC7B;AAAA,EAEA,mBAAmB,WAA+B;AAChD,QAAI,KAAK,MAAM,aAAa,UAAU,UAAU;AAC9C,WAAK;AAAA,QACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,UAAU,IAAI,QAAQ;AAAA,MACzB,SAAS,KAAK;AAAA,MACd,SAAS;AAAA,MACT,kBAAkB;AAAA,QAChB,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,MAAM,IAAI,IAAI;AAAA,MAClB,QAAQ,KAAK;AAAA,MACb,UAAU,CAAC,KAAK,OAAO;AAAA,MACvB,MAAM,IAAI,KAAK;AAAA,QACb,MAAM;AAAA,QACN,QAAQ,CAAC,KAAK,GAAG;AAAA,MACnB,CAAC;AAAA,IACH,CAAC;AAED,QAAI,GAAG,eAAe,CAAC,QAAQ;AAC7B,YAAM,SAAS,SAAS,IAAI,UAAU;AACtC,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtB,YAAM,OAAO,IAAI,QAAQ,EAAE,QAAQ;AACnC,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAElD,WAAK,MAAM,SAAS;AAAA,QAClB;AAAA,QACA,QAAQ;AAAA,UACN,KAAK,OAAO,CAAC;AAAA,UACb,KAAK,OAAO,CAAC;AAAA,QACf;AAAA,MACF,CAAC;AAAA,IACH;AAEA,cAAU;AACV,QAAI,GAAG,WAAW,SAAS;AAE3B,QAAI,GAAG,cAAc,CAAC,OAAO;AAC3B,YAAM,SAAS,SAAS,IAAI,QAAQ,EAAE,UAAU,CAAE;AAClD,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,UACnB,OAAO,CAAC,EAAE,QAAQ,CAAC;AAAA,QACrB;AAAA,QACA,UAAU,IAAI,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC;AAAA,QAC/C,MAAM,IAAI,QAAQ,EAAE,QAAQ,EAAG,QAAQ,CAAC;AAAA,MAC1C,CAAC;AAAA,IACH,CAAC;AAID,SAAK,MAAM;AACX,SAAK;AAAA,MACH,KAAK,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,IACpD;AAAA,EACF;AAAA,EAEA,eAAe,CAAC,MAAW;AACzB,MAAE,OAAO,KAAK;AACd,SAAK,QAAS,YAAY,MAAS;AAAA,EACrC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,yBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK,OAAK,KAAK,iBAAiB;AAAA,UAChC,OAAO,EAAC,YAAY,QAAO;AAAA,UAC3B,WAAU;AAAA,UAEV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBACd,cAAW;AAAA,gBACZ;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,UAAU,KAAK,MAAM,oBAAoB,CAAC;AAAA,gBAC1C,eAAe,KAAK,MAAM;AAAA;AAAA,YAC5B;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,oBAAmB;AAAA;AAAA,QACzB,KAAK,MAAM;AAAA,SACpB;AAAA,MACC,KAAK,MAAM,gBACV,qBAAC,SAAI,WAAU,qBACb;AAAA,6BAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,sBAAQ;AAAA,UACf,oBAAC,UAAM,uBAAa,KAAK,MAAM,MAAM,GAAE;AAAA,WACzC;AAAA,QACA,qBAAC,SACC;AAAA,8BAAC,WAAM,wBAAU;AAAA,UACjB,oBAAC,UAAM,eAAK,MAAM,UAAS;AAAA,WAC7B;AAAA,SACF;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,KAAK,OAAK,KAAK,YAAY;AAAA,UAC3B,MAAK;AAAA,UACL,cAAW;AAAA,UACX,OAAO;AAAA,YACL,GAAG,KAAK,MAAM;AAAA,UAChB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"289072bd1575a4d391f262cdf75fcdafa8679c23"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Er=function(){return a},a}Er();function JP(e){return Er().f[0]++,Er().s[0]++,Er().b[1][0]++,!e||(Er().b[1][1]++,e.length<2)?(Er().b[0][0]++,Er().s[1]++,null):(Er().b[0][1]++,Er().s[2]++,G.jsx("span",{className:"maputnik-coords",children:e.map(t=>(Er().f[1]++,Er().s[3]++,String(t).padStart(7," "))).join(", ")}))}class KN extends Mn.Component{constructor(n){Er().f[5]++,Er().s[7]++;super(n);on(this,"updateStyle");on(this,"map");on(this,"container",(Er().s[5]++,null));on(this,"overlay");on(this,"popupContainer",(Er().s[6]++,null));on(this,"closeOverlay",(Er().s[32]++,n=>{Er().f[12]++,Er().s[33]++,n.target.blur(),Er().s[34]++,this.overlay.setPosition(void 0)}));Er().s[8]++,this.state={zoom:"0",rotation:"0",cursor:[],center:[]},Er().s[9]++,this.updateStyle=Y5.throttle(this._updateStyle.bind(this),200)}_updateStyle(n){if(Er().f[6]++,Er().s[10]++,this.map)Er().b[2][1]++;else{Er().b[2][0]++,Er().s[11]++;return}Er().s[12]++,this.map.getLayers().clear(),Er().s[13]++,zfe(this.map,n)}componentDidUpdate(n){Er().f[7]++,Er().s[14]++,this.props.mapStyle!==n.mapStyle?(Er().b[3][0]++,Er().s[15]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))):Er().b[3][1]++}componentDidMount(){Er().f[8]++,Er().s[16]++,this.overlay=new ele({element:this.popupContainer,autoPan:!0,autoPanAnimation:{duration:250}});const n=(Er().s[17]++,new R8({target:this.container,overlays:[this.overlay],view:new Up({zoom:1,center:[180,-90]})}));Er().s[18]++,n.on("pointermove",i=>{Er().f[9]++;const o=(Er().s[19]++,ES(i.coordinate));Er().s[20]++,this.setState({cursor:[o[0].toFixed(2),o[1].toFixed(2)]})}),Er().s[21]++;const r=()=>{Er().f[10]++;const i=(Er().s[22]++,n.getView().getZoom()),o=(Er().s[23]++,ES(n.getView().getCenter()));Er().s[24]++,this.props.onChange({zoom:i,center:{lng:o[0],lat:o[1]}})};Er().s[25]++,r(),Er().s[26]++,n.on("moveend",r),Er().s[27]++,n.on("postrender",i=>{Er().f[11]++;const o=(Er().s[28]++,ES(n.getView().getCenter()));Er().s[29]++,this.setState({center:[o[0].toFixed(2),o[1].toFixed(2)],rotation:n.getView().getRotation().toFixed(2),zoom:n.getView().getZoom().toFixed(2)})}),Er().s[30]++,this.map=n,Er().s[31]++,this.updateStyle(this.props.replaceAccessTokens(this.props.mapStyle))}render(){return Er().f[13]++,Er().s[35]++,G.jsxs("div",{className:"maputnik-ol-container",children:[G.jsxs("div",{ref:n=>(Er().f[14]++,Er().s[36]++,this.popupContainer=n),style:{background:"black"},className:"maputnik-popup",children:[G.jsx("button",{className:"maplibregl-popup-close-button",onClick:this.closeOverlay,"aria-label":"Close popup",children:"×"}),G.jsx(Oz,{features:(Er().b[4][0]++,this.state.selectedFeatures||(Er().b[4][1]++,[])),onLayerSelect:this.props.onLayerSelect})]}),G.jsxs("div",{className:"maputnik-ol-zoom",children:["Zoom: ",this.state.zoom]}),(Er().b[5][0]++,this.props.debugToolbox&&(Er().b[5][1]++,G.jsxs("div",{className:"maputnik-ol-debug",children:[G.jsxs("div",{children:[G.jsx("label",{children:"cursor: "}),G.jsx("span",{children:JP(this.state.cursor)})]}),G.jsxs("div",{children:[G.jsx("label",{children:"center: "}),G.jsx("span",{children:JP(this.state.center)})]}),G.jsxs("div",{children:[G.jsx("label",{children:"rotation: "}),G.jsx("span",{children:this.state.rotation})]})]}))),G.jsx("div",{className:"maputnik-ol",ref:n=>(Er().f[15]++,Er().s[37]++,this.container=n),role:"region","aria-label":"Map view",style:{...this.props.style}})]})}}on(KN,"defaultProps",(Er().s[4]++,{onMapLoaded:()=>{Er().f[2]++},onDataChange:()=>{Er().f[3]++},onLayerSelect:()=>{Er().f[4]++}}));var DN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(DN);var jfe=DN.exports;const Gf=Ba(jfe);function i1(){var e="/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",t="e73e8fb606fcd7318a8222b2e50c576ed3ad8702",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx",statementMap:{0:{start:{line:6,column:22},end:{line:10,column:5}},1:{start:{line:11,column:4},end:{line:11,column:154}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:12,column:3}},line:5}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:153}},type:"cond-expr",locations:[{start:{line:11,column:52},end:{line:11,column:92}},{start:{line:11,column:111},end:{line:11,column:153}}],line:11}},s:{0:0,1:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Collapser.tsx"],names:[],mappings:"AAeoC;AAfpC,OAAO,WAAW;AAClB,SAAQ,iBAAiB,qBAAoB;AAO7C,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,GAAG,KAAK,MAAM;AAAA,IAChB;AACA,WAAO,KAAK,MAAM,cAAc,oBAAC,iBAAc,OAAO,WAAU,IAAK,oBAAC,mBAAgB,OAAO,WAAW;AAAA,EAC1G;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e73e8fb606fcd7318a8222b2e50c576ed3ad8702"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return i1=function(){return a},a}i1();class Wfe extends Mn.Component{render(){i1().f[0]++;const t=(i1().s[0]++,{width:20,height:20,...this.props.style});return i1().s[1]++,this.props.isCollapsed?(i1().b[0][0]++,G.jsx(Yte,{style:t})):(i1().b[0][1]++,G.jsx(Qte,{style:t}))}}function Cy(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",t="b04bfec534013c327fd210571832bbd2813a944a",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:32,column:9}},1:{start:{line:11,column:25},end:{line:11,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:33,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:25},end:{line:11,column:72}},line:11}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListGroup.tsx"],names:[],mappings:"AAcM,SAIE,KAJF;AAdN,OAAO,WAAW;AAClB,OAAO,eAAe;AAUtB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,WAAO,oBAAC,QAAG,WAAU,6BACnB;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACb,eAAa,sBAAoB,KAAK,MAAM,aAAa;AAAA,QACzD,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,QAE7D;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,iBAAe,KAAK,MAAM,eAAe;AAAA,cACzC,iBAAe,KAAK,MAAM;AAAA,cAEzB,eAAK,MAAM;AAAA;AAAA,UACd;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,EAAE,QAAQ,IAAI,OAAO,GAAG;AAAA,cAC/B,aAAa,KAAK,MAAM;AAAA;AAAA,UAC1B;AAAA;AAAA;AAAA,IACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b04bfec534013c327fd210571832bbd2813a944a"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Cy=function(){return a},a}Cy();class Nfe extends Mn.Component{render(){return Cy().f[0]++,Cy().s[0]++,G.jsx("li",{className:"maputnik-layer-list-group",children:G.jsxs("div",{className:"maputnik-layer-list-group-header","data-wd-key":"layer-list-group:"+this.props["data-wd-key"],onClick:t=>(Cy().f[1]++,Cy().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:[G.jsx("button",{className:"maputnik-layer-list-group-title","aria-controls":this.props["aria-controls"],"aria-expanded":this.props.isActive,children:this.props.title}),G.jsx("span",{className:"maputnik-space"}),G.jsx(Wfe,{style:{height:14,width:14},isCollapsed:this.props.isActive})]})})}}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(this,arguments)}function Gfe(e){if(Array.isArray(e))return e}function $fe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],h=!0,g=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);h=!0);}catch(_){g=!0,i=_}finally{try{if(!h&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(g)throw i}}return s}}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FN(e,t){if(e){if(typeof e=="string")return HO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(e,t)}}function Qfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LN(e,t){return Gfe(e)||$fe(e,t)||FN(e,t)||Qfe()}function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function Yfe(e,t){if(dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UN(e){var t=Yfe(e,"string");return dv(t)=="symbol"?t:t+""}function Sa(e,t,n){return t=UN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.forEach(function(i){Sa(e,i,n[i])})}return e}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UN(r.key),r)}}function Nb(e,t,n){return t&&eK(e.prototype,t),n&&eK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function go(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gI(e,t){if(t&&(dv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(e)}function VO(e,t){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VO(e,t)}function yI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VO(e,t)}var qfe=function(e,t,n,r,i,o,a,s){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[n,r,i,o,a,s],_=0;h=new Error(t.replace(/%s/g,function(){return g[_++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}},Hfe=qfe;const U1=Ba(Hfe);function Vfe(e){if(Array.isArray(e))return HO(e)}function Zfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jfe(e){return Vfe(e)||Zfe(e)||FN(e)||Xfe()}var epe=function(){function e(){Wb(this,e),Sa(this,"refs",{})}return Nb(e,[{key:"add",value:function(n,r){this.refs[n]||(this.refs[n]=[]),this.refs[n].push(r)}},{key:"remove",value:function(n,r){var i=this.getIndex(n,r);i!==-1&&this.refs[n].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var n=this;return this.refs[this.active.collection].find(function(r){var i=r.node;return i.sortableInfo.index==n.active.index})}},{key:"getIndex",value:function(n,r){return this.refs[n].indexOf(r)}},{key:"getOrderedRefs",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[n].sort(tpe)}}]),e}();function tpe(e,t){var n=e.node.sortableInfo.index,r=t.node.sortableInfo.index;return n-r}function RN(e,t){return Object.keys(e).reduce(function(n,r){return t.indexOf(r)===-1&&(n[r]=e[r]),n},{})}var Rg={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},zN=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function P2(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}function K2(e,t){e.style["".concat(zN,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function o6(e,t){e.style["".concat(zN,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function V_(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function tK(e,t,n){return Math.max(e,Math.min(n,t))}function by(e){return e.substr(-2)==="px"?parseFloat(e):0}function npe(e){var t=window.getComputedStyle(e);return{bottom:by(t.marginBottom),left:by(t.marginLeft),right:by(t.marginRight),top:by(t.marginTop)}}function vI(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function a6(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function I_(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function rpe(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function p3(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:p3(e.parentNode,t,r)}}function ipe(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function nK(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if(typeof t=="string"){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);U1(s!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return U1(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),a==="%"&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function ope(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];U1(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=LN(i,2),a=o[0],s=o[1];return[nK({height:t,lockOffset:a,width:n}),nK({height:t,lockOffset:s,width:n})]}function ape(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/,r=["overflow","overflowX","overflowY"];return r.find(function(i){return n.test(t[i])})}function jN(e){return e instanceof HTMLElement?ape(e)?e:jN(e.parentNode):null}function spe(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:by(t.gridColumnGap),y:by(t.gridRowGap)}:{x:0,y:0}}var Q0={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},o1={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function lpe(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0),i=Jfe(r.querySelectorAll(t));return i.forEach(function(o,a){if(o.type!=="file"&&(o.value=n[a].value),o.type==="radio"&&o.name&&(o.name="__sortableClone__".concat(o.name)),o.tagName===o1.Canvas&&n[a].width>0&&n[a].height>0){var s=o.getContext("2d");s.drawImage(n[a],0,0)}}),r}function upe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){yI(o,i);function o(){var a,s;Wb(this,o);for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];return s=gI(this,(a=pb(o)).call.apply(a,[this].concat(g))),Sa(go(go(s)),"wrappedInstance",Ir.createRef()),s}return Nb(o,[{key:"componentDidMount",value:function(){var s=g0.findDOMNode(this);s.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return U1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return Ir.createElement(e,fb({ref:s},this.props))}}]),o}(Ir.Component),Sa(t,"displayName",vI("sortableHandle",e)),n}function rK(e){return e.sortableHandle!=null}var Ape=function(){function e(t,n){Wb(this,e),this.container=t,this.onScrollCallback=n}return Nb(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(n){var r=this,i=n.translate,o=n.minTranslate,a=n.maxTranslate,s=n.width,h=n.height,g={x:0,y:0},_={x:1,y:1},E={x:10,y:10},O=this.container,K=O.scrollTop,D=O.scrollLeft,Y=O.scrollHeight,ee=O.scrollWidth,H=O.clientHeight,N=O.clientWidth,Z=K===0,ue=Y-K-H===0,ye=D===0,be=ee-D-N===0;i.y>=a.y-h/2&&!ue?(g.y=1,_.y=E.y*Math.abs((a.y-h/2-i.y)/h)):i.x>=a.x-s/2&&!be?(g.x=1,_.x=E.x*Math.abs((a.x-s/2-i.x)/s)):i.y<=o.y+h/2&&!Z?(g.y=-1,_.y=E.y*Math.abs((i.y-h/2-o.y)/h)):i.x<=o.x+s/2&&!ye&&(g.x=-1,_.x=E.x*Math.abs((i.x-s/2-o.x)/s)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(g.x!==0||g.y!==0)&&(this.interval=setInterval(function(){r.isAutoScrolling=!0;var X={left:_.x*g.x,top:_.y*g.y};r.container.scrollTop+=X.top,r.container.scrollLeft+=X.left,r.onScrollCallback(X)},5))}}]),e}();function cpe(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function dpe(e){var t=[o1.Input,o1.Textarea,o1.Select,o1.Option,o1.Button];return!!(t.indexOf(e.target.tagName)!==-1||V_(e.target,function(n){return n.contentEditable==="true"}))}var WN={axis:Rr.oneOf(["x","y","xy"]),contentWindow:Rr.any,disableAutoscroll:Rr.bool,distance:Rr.number,getContainer:Rr.func,getHelperDimensions:Rr.func,helperClass:Rr.string,helperContainer:Rr.oneOfType([Rr.func,typeof HTMLElement>"u"?Rr.any:Rr.instanceOf(HTMLElement)]),hideSortableGhost:Rr.bool,keyboardSortingTransitionDuration:Rr.number,lockAxis:Rr.string,lockOffset:Rr.oneOfType([Rr.number,Rr.string,Rr.arrayOf(Rr.oneOfType([Rr.number,Rr.string]))]),lockToContainerEdges:Rr.bool,onSortEnd:Rr.func,onSortMove:Rr.func,onSortOver:Rr.func,onSortStart:Rr.func,pressDelay:Rr.number,pressThreshold:Rr.number,keyCodes:Rr.shape({lift:Rr.arrayOf(Rr.number),drop:Rr.arrayOf(Rr.number),cancel:Rr.arrayOf(Rr.number),up:Rr.arrayOf(Rr.number),down:Rr.arrayOf(Rr.number)}),shouldCancelStart:Rr.func,transitionDuration:Rr.number,updateBeforeSortStart:Rr.func,useDragHandle:Rr.bool,useWindowAsScrollContainer:Rr.bool},NN={lift:[Q0.SPACE],drop:[Q0.SPACE],cancel:[Q0.ESC],up:[Q0.UP,Q0.LEFT],down:[Q0.DOWN,Q0.RIGHT]},hpe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:cpe,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:NN,shouldCancelStart:dpe,transitionDuration:300,useWindowAsScrollContainer:!1},fpe=Object.keys(WN);function ppe(e){U1(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function mpe(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var GN=Ir.createContext({manager:{}});function gpe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){yI(o,i);function o(a){var s;Wb(this,o),s=gI(this,pb(o).call(this,a)),Sa(go(go(s)),"state",{}),Sa(go(go(s)),"handleStart",function(g){var _=s.props,E=_.distance,O=_.shouldCancelStart;if(!(g.button===2||O(g))){s.touched=!0,s.position=I_(g);var K=V_(g.target,function(Z){return Z.sortableInfo!=null});if(K&&K.sortableInfo&&s.nodeIsChild(K)&&!s.state.sorting){var D=s.props.useDragHandle,Y=K.sortableInfo,ee=Y.index,H=Y.collection,N=Y.disabled;if(N||D&&!V_(g.target,rK))return;s.manager.active={collection:H,index:ee},!rpe(g)&&g.target.tagName===o1.Anchor&&g.preventDefault(),E||(s.props.pressDelay===0?s.handlePress(g):s.pressTimer=setTimeout(function(){return s.handlePress(g)},s.props.pressDelay))}}}),Sa(go(go(s)),"nodeIsChild",function(g){return g.sortableInfo.manager===s.manager}),Sa(go(go(s)),"handleMove",function(g){var _=s.props,E=_.distance,O=_.pressThreshold;if(!s.state.sorting&&s.touched&&!s._awaitingUpdateBeforeSortStart){var K=I_(g),D={x:s.position.x-K.x,y:s.position.y-K.y},Y=Math.abs(D.x)+Math.abs(D.y);s.delta=D,!E&&(!O||Y>=O)?(clearTimeout(s.cancelTimer),s.cancelTimer=setTimeout(s.cancel,0)):E&&Y>=E&&s.manager.isActive()&&s.handlePress(g)}}),Sa(go(go(s)),"handleEnd",function(){s.touched=!1,s.cancel()}),Sa(go(go(s)),"cancel",function(){var g=s.props.distance,_=s.state.sorting;_||(g||clearTimeout(s.pressTimer),s.manager.active=null)}),Sa(go(go(s)),"handlePress",function(g){try{var _=s.manager.getActive(),E=function(){if(_){var O=function(){var xe=ye.sortableInfo.index,De=npe(ye),Fe=spe(s.container),he=s.scrollContainer.getBoundingClientRect(),Qe=Y({index:xe,node:ye,collection:be});if(s.node=ye,s.margin=De,s.gridGap=Fe,s.width=Qe.width,s.height=Qe.height,s.marginOffset={x:s.margin.left+s.margin.right+s.gridGap.x,y:Math.max(s.margin.top,s.margin.bottom,s.gridGap.y)},s.boundingClientRect=ye.getBoundingClientRect(),s.containerBoundingRect=he,s.index=xe,s.newIndex=xe,s.axis={x:D.indexOf("x")>=0,y:D.indexOf("y")>=0},s.offsetEdge=p3(ye,s.container),X?s.initialOffset=I_(i6({},g,{pageX:s.boundingClientRect.left,pageY:s.boundingClientRect.top})):s.initialOffset=I_(g),s.initialScroll={left:s.scrollContainer.scrollLeft,top:s.scrollContainer.scrollTop},s.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},s.helper=s.helperContainer.appendChild(lpe(ye)),P2(s.helper,{boxSizing:"border-box",height:"".concat(s.height,"px"),left:"".concat(s.boundingClientRect.left-De.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(s.boundingClientRect.top-De.top,"px"),width:"".concat(s.width,"px")}),X&&s.helper.focus(),H&&(s.sortableGhost=ye,P2(ye,{opacity:0,visibility:"hidden"})),s.minTranslate={},s.maxTranslate={},X){var ge=ue?{top:0,left:0,width:s.contentWindow.innerWidth,height:s.contentWindow.innerHeight}:s.containerBoundingRect,yt=ge.top,wt=ge.left,st=ge.width,mt=ge.height,ze=yt+mt,He=wt+st;s.axis.x&&(s.minTranslate.x=wt-s.boundingClientRect.left,s.maxTranslate.x=He-(s.boundingClientRect.left+s.width)),s.axis.y&&(s.minTranslate.y=yt-s.boundingClientRect.top,s.maxTranslate.y=ze-(s.boundingClientRect.top+s.height))}else s.axis.x&&(s.minTranslate.x=(ue?0:he.left)-s.boundingClientRect.left-s.width/2,s.maxTranslate.x=(ue?s.contentWindow.innerWidth:he.left+he.width)-s.boundingClientRect.left-s.width/2),s.axis.y&&(s.minTranslate.y=(ue?0:he.top)-s.boundingClientRect.top-s.height/2,s.maxTranslate.y=(ue?s.contentWindow.innerHeight:he.top+he.height)-s.boundingClientRect.top-s.height/2);ee&&ee.split(" ").forEach(function(Ve){return s.helper.classList.add(Ve)}),s.listenerNode=g.touches?g.target:s.contentWindow,X?(s.listenerNode.addEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.addEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.addEventListener("keydown",s.handleKeyDown)):(Rg.move.forEach(function(Ve){return s.listenerNode.addEventListener(Ve,s.handleSortMove,!1)}),Rg.end.forEach(function(Ve){return s.listenerNode.addEventListener(Ve,s.handleSortEnd,!1)})),s.setState({sorting:!0,sortingIndex:xe}),Z&&Z({node:ye,index:xe,collection:be,isKeySorting:X,nodes:s.manager.getOrderedRefs(),helper:s.helper},g),X&&s.keyMove(0)},K=s.props,D=K.axis,Y=K.getHelperDimensions,ee=K.helperClass,H=K.hideSortableGhost,N=K.updateBeforeSortStart,Z=K.onSortStart,ue=K.useWindowAsScrollContainer,ye=_.node,be=_.collection,X=s.manager.isKeySorting,se=function(){if(typeof N=="function"){s._awaitingUpdateBeforeSortStart=!0;var we=mpe(function(){var xe=ye.sortableInfo.index;return Promise.resolve(N({collection:be,index:xe,node:ye,isKeySorting:X},g)).then(function(){})},function(xe,De){if(s._awaitingUpdateBeforeSortStart=!1,xe)throw De;return De});if(we&&we.then)return we.then(function(){})}}();return se&&se.then?se.then(O):O(se)}}();return Promise.resolve(E&&E.then?E.then(function(){}):void 0)}catch(O){return Promise.reject(O)}}),Sa(go(go(s)),"handleSortMove",function(g){var _=s.props.onSortMove;typeof g.preventDefault=="function"&&g.cancelable&&g.preventDefault(),s.updateHelperPosition(g),s.animateNodes(),s.autoscroll(),_&&_(g)}),Sa(go(go(s)),"handleSortEnd",function(g){var _=s.props,E=_.hideSortableGhost,O=_.onSortEnd,K=s.manager,D=K.active.collection,Y=K.isKeySorting,ee=s.manager.getOrderedRefs();s.listenerNode&&(Y?(s.listenerNode.removeEventListener("wheel",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("mousedown",s.handleKeyEnd,!0),s.listenerNode.removeEventListener("keydown",s.handleKeyDown)):(Rg.move.forEach(function(ye){return s.listenerNode.removeEventListener(ye,s.handleSortMove)}),Rg.end.forEach(function(ye){return s.listenerNode.removeEventListener(ye,s.handleSortEnd)}))),s.helper.parentNode.removeChild(s.helper),E&&s.sortableGhost&&P2(s.sortableGhost,{opacity:"",visibility:""});for(var H=0,N=ee.length;H<N;H++){var Z=ee[H],ue=Z.node;Z.edgeOffset=null,Z.boundingClientRect=null,K2(ue,null),o6(ue,null),Z.translate=null}s.autoScroller.clear(),s.manager.active=null,s.manager.isKeySorting=!1,s.setState({sorting:!1,sortingIndex:null}),typeof O=="function"&&O({collection:D,newIndex:s.newIndex,oldIndex:s.index,isKeySorting:Y,nodes:ee},g),s.touched=!1}),Sa(go(go(s)),"autoscroll",function(){var g=s.props.disableAutoscroll,_=s.manager.isKeySorting;if(g){s.autoScroller.clear();return}if(_){var E=i6({},s.translate),O=0,K=0;s.axis.x&&(E.x=Math.min(s.maxTranslate.x,Math.max(s.minTranslate.x,s.translate.x)),O=s.translate.x-E.x),s.axis.y&&(E.y=Math.min(s.maxTranslate.y,Math.max(s.minTranslate.y,s.translate.y)),K=s.translate.y-E.y),s.translate=E,K2(s.helper,s.translate),s.scrollContainer.scrollLeft+=O,s.scrollContainer.scrollTop+=K;return}s.autoScroller.update({height:s.height,maxTranslate:s.maxTranslate,minTranslate:s.minTranslate,translate:s.translate,width:s.width})}),Sa(go(go(s)),"onAutoScroll",function(g){s.translate.x+=g.left,s.translate.y+=g.top,s.animateNodes()}),Sa(go(go(s)),"handleKeyDown",function(g){var _=g.keyCode,E=s.props,O=E.shouldCancelStart,K=E.keyCodes,D=K===void 0?{}:K,Y=i6({},NN,D);s.manager.active&&!s.manager.isKeySorting||!s.manager.active&&(!Y.lift.includes(_)||O(g)||!s.isValidSortingTarget(g))||(g.stopPropagation(),g.preventDefault(),Y.lift.includes(_)&&!s.manager.active?s.keyLift(g):Y.drop.includes(_)&&s.manager.active?s.keyDrop(g):Y.cancel.includes(_)?(s.newIndex=s.manager.active.index,s.keyDrop(g)):Y.up.includes(_)?s.keyMove(-1):Y.down.includes(_)&&s.keyMove(1))}),Sa(go(go(s)),"keyLift",function(g){var _=g.target,E=V_(_,function(Y){return Y.sortableInfo!=null}),O=E.sortableInfo,K=O.index,D=O.collection;s.initialFocusedNode=_,s.manager.isKeySorting=!0,s.manager.active={index:K,collection:D},s.handlePress(g)}),Sa(go(go(s)),"keyMove",function(g){var _=s.manager.getOrderedRefs(),E=_[_.length-1].node.sortableInfo.index,O=s.newIndex+g,K=s.newIndex;if(!(O<0||O>E)){s.prevIndex=K,s.newIndex=O;var D=ipe(s.newIndex,s.prevIndex,s.index),Y=_.find(function(X){var se=X.node;return se.sortableInfo.index===D}),ee=Y.node,H=s.containerScrollDelta,N=Y.boundingClientRect||a6(ee,H),Z=Y.translate||{x:0,y:0},ue={top:N.top+Z.y-H.top,left:N.left+Z.x-H.left},ye=K<O,be={x:ye&&s.axis.x?ee.offsetWidth-s.width:0,y:ye&&s.axis.y?ee.offsetHeight-s.height:0};s.handleSortMove({pageX:ue.left+be.x,pageY:ue.top+be.y,ignoreTransition:g===0})}}),Sa(go(go(s)),"keyDrop",function(g){s.handleSortEnd(g),s.initialFocusedNode&&s.initialFocusedNode.focus()}),Sa(go(go(s)),"handleKeyEnd",function(g){s.manager.active&&s.keyDrop(g)}),Sa(go(go(s)),"isValidSortingTarget",function(g){var _=s.props.useDragHandle,E=g.target,O=V_(E,function(K){return K.sortableInfo!=null});return O&&O.sortableInfo&&!O.sortableInfo.disabled&&(_?rK(E):E.sortableInfo)});var h=new epe;return ppe(a),s.manager=h,s.wrappedInstance=Ir.createRef(),s.sortableContextValue={manager:h},s.events={end:s.handleEnd,move:s.handleMove,start:s.handleStart},s}return Nb(o,[{key:"componentDidMount",value:function(){var s=this,h=this.props.useWindowAsScrollContainer,g=this.getContainer();Promise.resolve(g).then(function(_){s.container=_,s.document=s.container.ownerDocument||document;var E=s.props.contentWindow||s.document.defaultView||window;s.contentWindow=typeof E=="function"?E():E,s.scrollContainer=h?s.document.scrollingElement||s.document.documentElement:jN(s.container)||s.container,s.autoScroller=new Ape(s.scrollContainer,s.onAutoScroll),Object.keys(s.events).forEach(function(O){return Rg[O].forEach(function(K){return s.container.addEventListener(K,s.events[O],!1)})}),s.container.addEventListener("keydown",s.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var s=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(h){return Rg[h].forEach(function(g){return s.container.removeEventListener(g,s.events[h])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(s){var h=this.props,g=h.lockAxis,_=h.lockOffset,E=h.lockToContainerEdges,O=h.transitionDuration,K=h.keyboardSortingTransitionDuration,D=K===void 0?O:K,Y=this.manager.isKeySorting,ee=s.ignoreTransition,H=I_(s),N={x:H.x-this.initialOffset.x,y:H.y-this.initialOffset.y};if(N.y-=window.pageYOffset-this.initialWindowScroll.top,N.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=N,E){var Z=ope({height:this.height,lockOffset:_,width:this.width}),ue=LN(Z,2),ye=ue[0],be=ue[1],X={x:this.width/2-ye.x,y:this.height/2-ye.y},se={x:this.width/2-be.x,y:this.height/2-be.y};N.x=tK(this.minTranslate.x+X.x,this.maxTranslate.x-se.x,N.x),N.y=tK(this.minTranslate.y+X.y,this.maxTranslate.y-se.y,N.y)}g==="x"?N.y=0:g==="y"&&(N.x=0),Y&&D&&!ee&&o6(this.helper,D),K2(this.helper,N)}},{key:"animateNodes",value:function(){var s=this.props,h=s.transitionDuration,g=s.hideSortableGhost,_=s.onSortOver,E=this.containerScrollDelta,O=this.windowScrollDelta,K=this.manager.getOrderedRefs(),D={left:this.offsetEdge.left+this.translate.x+E.left,top:this.offsetEdge.top+this.translate.y+E.top},Y=this.manager.isKeySorting,ee=this.newIndex;this.newIndex=null;for(var H=0,N=K.length;H<N;H++){var Z=K[H].node,ue=Z.sortableInfo.index,ye=Z.offsetWidth,be=Z.offsetHeight,X={height:this.height>be?be/2:this.height/2,width:this.width>ye?ye/2:this.width/2},se=Y&&ue>this.index&&ue<=ee,we=Y&&ue<this.index&&ue>=ee,xe={x:0,y:0},De=K[H].edgeOffset;De||(De=p3(Z,this.container),K[H].edgeOffset=De,Y&&(K[H].boundingClientRect=a6(Z,E)));var Fe=H<K.length-1&&K[H+1],he=H>0&&K[H-1];if(Fe&&!Fe.edgeOffset&&(Fe.edgeOffset=p3(Fe.node,this.container),Y&&(Fe.boundingClientRect=a6(Fe.node,E))),ue===this.index){g&&(this.sortableGhost=Z,P2(Z,{opacity:0,visibility:"hidden"}));continue}h&&o6(Z,h),this.axis.x?this.axis.y?we||ue<this.index&&(D.left+O.left-X.width<=De.left&&D.top+O.top<=De.top+X.height||D.top+O.top+X.height<=De.top)?(xe.x=this.width+this.marginOffset.x,De.left+xe.x>this.containerBoundingRect.width-X.width&&Fe&&(xe.x=Fe.edgeOffset.left-De.left,xe.y=Fe.edgeOffset.top-De.top),this.newIndex===null&&(this.newIndex=ue)):(se||ue>this.index&&(D.left+O.left+X.width>=De.left&&D.top+O.top+X.height>=De.top||D.top+O.top+X.height>=De.top+be))&&(xe.x=-(this.width+this.marginOffset.x),De.left+xe.x<this.containerBoundingRect.left+X.width&&he&&(xe.x=he.edgeOffset.left-De.left,xe.y=he.edgeOffset.top-De.top),this.newIndex=ue):se||ue>this.index&&D.left+O.left+X.width>=De.left?(xe.x=-(this.width+this.marginOffset.x),this.newIndex=ue):(we||ue<this.index&&D.left+O.left<=De.left+X.width)&&(xe.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=ue)):this.axis.y&&(se||ue>this.index&&D.top+O.top+X.height>=De.top?(xe.y=-(this.height+this.marginOffset.y),this.newIndex=ue):(we||ue<this.index&&D.top+O.top<=De.top+X.height)&&(xe.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=ue))),K2(Z,xe),K[H].translate=xe}this.newIndex==null&&(this.newIndex=this.index),Y&&(this.newIndex=ee);var Qe=Y?this.prevIndex:ee;_&&this.newIndex!==Qe&&_({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:Qe,isKeySorting:Y,nodes:K,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return U1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var s=this.props.getContainer;return typeof s!="function"?g0.findDOMNode(this):s(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return Ir.createElement(GN.Provider,{value:this.sortableContextValue},Ir.createElement(e,fb({ref:s},RN(this.props,fpe))))}},{key:"helperContainer",get:function(){var s=this.props.helperContainer;return typeof s=="function"?s():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var s=this.props.useWindowAsScrollContainer;return s?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),o}(Ir.Component),Sa(t,"displayName",vI("sortableList",e)),Sa(t,"defaultProps",hpe),Sa(t,"propTypes",WN),n}var $N={index:Rr.number.isRequired,collection:Rr.oneOfType([Rr.number,Rr.string]),disabled:Rr.bool},ype=Object.keys($N);function vpe(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return n=t=function(i){yI(o,i);function o(){var a,s;Wb(this,o);for(var h=arguments.length,g=new Array(h),_=0;_<h;_++)g[_]=arguments[_];return s=gI(this,(a=pb(o)).call.apply(a,[this].concat(g))),Sa(go(go(s)),"wrappedInstance",Ir.createRef()),s}return Nb(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(s){this.node&&(s.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),s.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),s.collection!==this.props.collection&&(this.unregister(s.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var s=this.props,h=s.collection,g=s.disabled,_=s.index,E=g0.findDOMNode(this);E.sortableInfo={collection:h,disabled:g,index:_,manager:this.context.manager},this.node=E,this.ref={node:E},this.context.manager.add(h,this.ref)}},{key:"unregister",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(s,this.ref)}},{key:"getWrappedInstance",value:function(){return U1(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var s=r.withRef?this.wrappedInstance:null;return Ir.createElement(e,fb({ref:s},RN(this.props,ype)))}}]),o}(Ir.Component),Sa(t,"displayName",vI("sortableElement",e)),Sa(t,"contextType",GN),Sa(t,"propTypes",$N),Sa(t,"defaultProps",{collection:0}),n}function wi(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",t="c4894131c5d7f6ef28da960f43f4c830425a38cb",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx",statementMap:{0:{start:{line:8,column:23},end:{line:19,column:2}},1:{start:{line:9,column:2},end:{line:18,column:7}},2:{start:{line:22,column:4},end:{line:31,column:5}},3:{start:{line:24,column:8},end:{line:24,column:54}},4:{start:{line:26,column:8},end:{line:26,column:53}},5:{start:{line:28,column:8},end:{line:28,column:56}},6:{start:{line:30,column:8},end:{line:30,column:49}},7:{start:{line:34,column:51},end:{line:34,column:61}},8:{start:{line:35,column:25},end:{line:35,column:27}},9:{start:{line:36,column:4},end:{line:41,column:5}},10:{start:{line:37,column:6},end:{line:37,column:76}},11:{start:{line:38,column:6},end:{line:40,column:7}},12:{start:{line:39,column:8},end:{line:39,column:103}},13:{start:{line:42,column:4},end:{line:53,column:6}},14:{start:{line:57,column:24},end:{line:66,column:3}},15:{start:{line:67,column:29},end:{line:69,column:3}},16:{start:{line:71,column:4},end:{line:73,column:6}},17:{start:{line:76,column:29},end:{line:76,column:82}},18:{start:{line:77,column:4},end:{line:122,column:6}},19:{start:{line:81,column:25},end:{line:81,column:72}},20:{start:{line:97,column:31},end:{line:97,column:79}},21:{start:{line:106,column:31},end:{line:106,column:76}},22:{start:{line:116,column:31},end:{line:116,column:88}},23:{start:{line:125,column:30},end:{line:125,column:106}},24:{start:{line:125,column:73},end:{line:125,column:105}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:38},end:{line:8,column:39}},loc:{start:{line:8,column:49},end:{line:19,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:15},end:{line:32,column:3}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:54,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:23},end:{line:61,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:26},end:{line:63,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:64,column:29},end:{line:64,column:30}},loc:{start:{line:64,column:35},end:{line:65,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:74,column:3}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:11},end:{line:123,column:3}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:25},end:{line:81,column:72}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:31},end:{line:97,column:79}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:106,column:23},end:{line:106,column:24}},loc:{start:{line:106,column:31},end:{line:106,column:76}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:31},end:{line:116,column:88}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:125,column:46},end:{line:125,column:47}},loc:{start:{line:125,column:73},end:{line:125,column:105}},line:125}},branchMap:{0:{loc:{start:{line:22,column:4},end:{line:31,column:5}},type:"switch",locations:[{start:{line:23,column:6},end:{line:24,column:54}},{start:{line:25,column:6},end:{line:26,column:53}},{start:{line:27,column:6},end:{line:28,column:56}},{start:{line:29,column:6},end:{line:30,column:49}}],line:22},1:{loc:{start:{line:36,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},2:{loc:{start:{line:38,column:6},end:{line:40,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:40,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:38},3:{loc:{start:{line:76,column:29},end:{line:76,column:82}},type:"cond-expr",locations:[{start:{line:76,column:67},end:{line:76,column:73}},{start:{line:76,column:76},end:{line:76,column:82}}],line:76}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerListItem.tsx"],names:[],mappings:"AAgBS,SACL,KADK;AAhBT,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAEvB,SAAQ,eAAe,cAAc,iBAAiB,gBAAe;AAErE,OAAO,eAAe;AACtB,SAAQ,iBAAiB,sBAAqB;AAQ9C,MAAM,iBAAiB,eAAe,CAAC,UAA+B;AACpE,SAAO,qBAAC,SAAI,WAAU,mCACpB;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,IACd;AAAA,IACA,oBAAC,YAAO,WAAU,+BACf,gBAAM,SACT;AAAA,KACF;AACF,CAAC;AAUD,MAAM,mBAAmB,MAAM,UAA2B;AAAA,EACxD,aAAa;AACX,YAAO,KAAK,MAAM,QAAQ;AAAA,MAC1B,KAAK;AAAa,eAAO,oBAAC,iBAAc;AAAA,MACxC,KAAK;AAAQ,eAAO,oBAAC,gBAAa;AAAA,MAClC,KAAK;AAAQ,eAAO,oBAAC,mBAAgB;AAAA,MACrC,KAAK;AAAU,eAAO,oBAAC,YAAS;AAAA,IAChC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,gBAAgB,mBAAkB,IAAI,KAAK;AAElD,QAAI,iBAAiB;AACrB,QAAI,gBAAgB;AAClB,uBAAiB,oCAAoC,cAAc;AAEnE,UAAI,oBAAoB;AACtB,0BAAkB,qCAAqC,cAAc,KAAK,kBAAkB;AAAA,MAC9F;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,UAAU;AAAA,QACV,OAAO,KAAK,MAAM;AAAA,QAClB,WAAW,mCAAmC,cAAc;AAAA,QAC5D,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QACpB,eAAY;AAAA,QAEX,eAAK,WAAW;AAAA;AAAA,IACnB;AAAA,EACF;AACF;AAgBA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,OAAO,eAAe;AAAA,IACpB,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,aAAa,MAAM;AAAA,IAAC;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,yBAAyB,MAAM;AAAA,IAAC;AAAA,EAClC;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,mBAAmB,KAAK,MAAM,eAAe,YAAY,SAAS;AAExE,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QAEf,SAAS,QAAM,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU;AAAA,QAC7D,eAAa,qBAAmB,KAAK,MAAM;AAAA,QAC3C,WAAW,WAAW;AAAA,UACpB,4BAA4B;AAAA,UAC5B,qCAAqC,KAAK,MAAM;AAAA,UAChD,CAAC,KAAK,MAAM,SAAU,GAAG;AAAA,QAC3B,CAAC;AAAA,QACD;AAAA,8BAAC,kBAAgB,GAAG,KAAK,OAAO;AAAA,UAChC,oBAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAG;AAAA,UAC5B;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,eAAgB,KAAK,MAAM,UAAU;AAAA;AAAA,UACjE;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,SAAS,QAAM,KAAK,MAAM,YAAa,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9D;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,qBAAmB,KAAK,MAAM,UAAQ;AAAA,cAC7C,QAAQ;AAAA,cACR,gBAAe;AAAA,cACf,oBAAoB;AAAA,cACpB,SAAS,QAAM,KAAK,MAAM,wBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1E;AAAA;AAAA;AAAA,MA5BK,KAAK,MAAM;AAAA,IA6BlB;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,gBAAoC,CAAC,UAA8B,oBAAC,iBAAe,GAAG,OAAO,CAAE;AAE7H,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4894131c5d7f6ef28da960f43f4c830425a38cb"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wi=function(){return a},a}wi();const _pe=(wi().s[0]++,upe(e=>(wi().f[0]++,wi().s[1]++,G.jsxs("div",{className:"maputnik-layer-list-item-handle",children:[G.jsx(Ez,{className:"layer-handle__icon",type:e.layerType}),G.jsx("button",{className:"maputnik-layer-list-item-id",children:e.layerId})]}))));class s6 extends Mn.Component{renderIcon(){switch(wi().f[1]++,wi().s[2]++,this.props.action){case"duplicate":return wi().b[0][0]++,wi().s[3]++,G.jsx(zte,{});case"show":return wi().b[0][1]++,wi().s[4]++,G.jsx(Rte,{});case"hide":return wi().b[0][2]++,wi().s[5]++,G.jsx(Ute,{});case"delete":return wi().b[0][3]++,wi().s[6]++,G.jsx(Mv,{})}}render(){wi().f[2]++;const{classBlockName:t,classBlockModifier:n}=(wi().s[7]++,this.props);let r=(wi().s[8]++,"");return wi().s[9]++,t?(wi().b[1][0]++,wi().s[10]++,r=`maputnik-layer-list-icon-action__${t}`,wi().s[11]++,n?(wi().b[2][0]++,wi().s[12]++,r+=` maputnik-layer-list-icon-action__${t}--${n}`):wi().b[2][1]++):wi().b[1][1]++,wi().s[13]++,G.jsx("button",{tabIndex:-1,title:this.props.action,className:`maputnik-layer-list-icon-action ${r}`,"data-wd-key":this.props.wdKey,onClick:this.props.onClick,"aria-hidden":"true",children:this.renderIcon()})}}class ZO extends Mn.Component{getChildContext(){return wi().f[6]++,wi().s[16]++,{reactIconBase:{size:14}}}render(){wi().f[7]++;const t=(wi().s[17]++,this.props.visibility==="visible"?(wi().b[3][0]++,"show"):(wi().b[3][1]++,"hide"));return wi().s[18]++,G.jsxs("li",{id:this.props.id,onClick:n=>(wi().f[8]++,wi().s[19]++,this.props.onLayerSelect(this.props.layerIndex)),"data-wd-key":"layer-list-item:"+this.props.layerId,className:Gf({"maputnik-layer-list-item":!0,"maputnik-layer-list-item-selected":this.props.isSelected,[this.props.className]:!0}),children:[G.jsx(_pe,{...this.props}),G.jsx("span",{style:{flexGrow:1}}),G.jsx(s6,{wdKey:"layer-list-item:"+this.props.layerId+":delete",action:"delete",classBlockName:"delete",onClick:n=>(wi().f[9]++,wi().s[20]++,this.props.onLayerDestroy(this.props.layerIndex))}),G.jsx(s6,{wdKey:"layer-list-item:"+this.props.layerId+":copy",action:"duplicate",classBlockName:"duplicate",onClick:n=>(wi().f[10]++,wi().s[21]++,this.props.onLayerCopy(this.props.layerIndex))}),G.jsx(s6,{wdKey:"layer-list-item:"+this.props.layerId+":toggle-visibility",action:t,classBlockName:"visibility",classBlockModifier:t,onClick:n=>(wi().f[11]++,wi().s[22]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))})]},this.props.layerId)}}on(ZO,"defaultProps",(wi().s[14]++,{isSelected:!1,visibility:"visible",onLayerCopy:()=>{wi().f[3]++},onLayerDestroy:()=>{wi().f[4]++},onLayerVisibilityToggle:()=>{wi().f[5]++}})),on(ZO,"childContextTypes",(wi().s[15]++,{reactIconBase:Rr.object}));const Cpe=(wi().s[23]++,vpe(e=>(wi().f[12]++,wi().s[24]++,G.jsx(ZO,{...e}))));function W4(){var e="/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",t="522bfc6b8aacbfd03b55d947af2897dc69beb570",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:20,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:21,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputButton.tsx"],names:[],mappings:"AAkBW;AAlBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAevB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,IAAI,KAAK,MAAM;AAAA,QACf,OAAO,KAAK,MAAM;AAAA,QAClB,MAAM,KAAK,MAAM;AAAA,QACjB,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,cAAY,KAAK,MAAM,YAAY;AAAA,QACnC,WAAW,WAAW,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC7D,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAEjB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"522bfc6b8aacbfd03b55d947af2897dc69beb570"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return W4=function(){return a},a}W4();class ja extends Mn.Component{render(){return W4().f[0]++,W4().s[0]++,G.jsx("button",{id:this.props.id,title:this.props.title,type:this.props.type,onClick:this.props.onClick,disabled:this.props.disabled,"aria-label":this.props["aria-label"],className:Gf("maputnik-button",this.props.className),"data-wd-key":this.props["data-wd-key"],style:this.props.style,children:this.props.children})}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var QN=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],N4=QN.join(","),YN=typeof Element>"u",R1=YN?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,G4=!YN&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},$4=function e(t,n){var r;n===void 0&&(n=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),o=i===""||i==="true",a=o||n&&t&&e(t.parentNode);return a},bpe=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},qN=function(t,n,r){if($4(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(N4));return n&&R1.call(t,N4)&&i.unshift(t),i=i.filter(r),i},HN=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!$4(a,!1))if(a.tagName==="SLOT"){var s=a.assignedElements(),h=s.length?s:a.children,g=e(h,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:a,candidates:g})}else{var _=R1.call(a,N4);_&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var E=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),O=!$4(E,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(E&&O){var K=e(E===!0?a.children:E.children,!0,r);r.flatten?i.push.apply(i,K):i.push({scopeParent:a,candidates:K})}else o.unshift.apply(o,a.children)}}return i},VN=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},zm=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||bpe(t))&&!VN(t)?0:t.tabIndex},xpe=function(t,n){var r=zm(t);return r<0&&n&&!VN(t)?0:r},wpe=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},ZN=function(t){return t.tagName==="INPUT"},Mpe=function(t){return ZN(t)&&t.type==="hidden"},Spe=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Epe=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Ope=function(t){if(!t.name)return!0;var n=t.form||G4(t),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Epe(i,t.form);return!o||o===t},Bpe=function(t){return ZN(t)&&t.type==="radio"},Ipe=function(t){return Bpe(t)&&!Ope(t)},kpe=function(t){var n,r=t&&G4(t),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==t){var a,s,h;for(o=!!((a=i)!==null&&a!==void 0&&(s=a.ownerDocument)!==null&&s!==void 0&&s.contains(i)||t!=null&&(h=t.ownerDocument)!==null&&h!==void 0&&h.contains(t));!o&&i;){var g,_,E;r=G4(i),i=(g=r)===null||g===void 0?void 0:g.host,o=!!((_=i)!==null&&_!==void 0&&(E=_.ownerDocument)!==null&&E!==void 0&&E.contains(i))}}return o},iK=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},Tpe=function(t,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=R1.call(t,"details>summary:first-of-type"),a=o?t.parentElement:t;if(R1.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var s=t;t;){var h=t.parentElement,g=G4(t);if(h&&!h.shadowRoot&&i(h)===!0)return iK(t);t.assignedSlot?t=t.assignedSlot:!h&&g!==t.ownerDocument?t=g.host:t=h}t=s}if(kpe(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return iK(t);return!1},Ppe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return R1.call(n,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}n=n.parentElement}return!1},Q4=function(t,n){return!(n.disabled||$4(n)||Mpe(n)||Tpe(n,t)||Spe(n)||Ppe(n))},XO=function(t,n){return!(Ipe(n)||zm(n)<0||!Q4(t,n))},Kpe=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Dpe=function e(t){var n=[],r=[];return t.forEach(function(i,o){var a=!!i.scopeParent,s=a?i.scopeParent:i,h=xpe(s,a),g=a?e(i.candidates):s;h===0?a?n.push.apply(n,g):n.push(s):r.push({documentOrder:o,tabIndex:h,item:i,isScope:a,content:g})}),r.sort(wpe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},XN=function(t,n){n=n||{};var r;return n.getShadowRoot?r=HN([t],n.includeContainer,{filter:XO.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Kpe}):r=qN(t,n.includeContainer,XO.bind(null,n)),Dpe(r)},JN=function(t,n){n=n||{};var r;return n.getShadowRoot?r=HN([t],n.includeContainer,{filter:Q4.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=qN(t,n.includeContainer,Q4.bind(null,n)),r},e1=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return R1.call(t,N4)===!1?!1:XO(n,t)},Fpe=QN.concat("iframe").join(","),m3=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return R1.call(t,Fpe)===!1?!1:Q4(n,t)};const Lpe=Object.freeze(Object.defineProperty({__proto__:null,focusable:JN,getTabIndex:zm,isFocusable:m3,isTabbable:e1,tabbable:XN},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function oK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oK(Object(n),!0).forEach(function(r){Upe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Upe(e,t,n){return t=zpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zpe(e){var t=Rpe(e,"string");return typeof t=="symbol"?t:String(t)}var sK={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var i=t.indexOf(n);i===-1||t.splice(i,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}},jpe=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Wpe=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},vC=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Npe=function(t){return vC(t)&&!t.shiftKey},Gpe=function(t){return vC(t)&&t.shiftKey},lK=function(t){return setTimeout(t,0)},uK=function(t,n){var r=-1;return t.every(function(i,o){return n(i)?(r=o,!1):!0}),r},k_=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},D2=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},$pe=[],Qpe=function(t,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||$pe,o=aK({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Npe,isKeyBackward:Gpe},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s,h=function(Fe,he,Qe){return Fe&&Fe[he]!==void 0?Fe[he]:o[Qe||he]},g=function(Fe,he){var Qe=typeof(he==null?void 0:he.composedPath)=="function"?he.composedPath():void 0;return a.containerGroups.findIndex(function(ge){var yt=ge.container,wt=ge.tabbableNodes;return yt.contains(Fe)||(Qe==null?void 0:Qe.includes(yt))||wt.find(function(st){return st===Fe})})},_=function(Fe){var he=o[Fe];if(typeof he=="function"){for(var Qe=arguments.length,ge=new Array(Qe>1?Qe-1:0),yt=1;yt<Qe;yt++)ge[yt-1]=arguments[yt];he=he.apply(void 0,ge)}if(he===!0&&(he=void 0),!he){if(he===void 0||he===!1)return he;throw new Error("`".concat(Fe,"` was specified but was not a node, or did not return a node"))}var wt=he;if(typeof he=="string"&&(wt=r.querySelector(he),!wt))throw new Error("`".concat(Fe,"` as selector refers to no known node"));return wt},E=function(){var Fe=_("initialFocus");if(Fe===!1)return!1;if(Fe===void 0||!m3(Fe,o.tabbableOptions))if(g(r.activeElement)>=0)Fe=r.activeElement;else{var he=a.tabbableGroups[0],Qe=he&&he.firstTabbableNode;Fe=Qe||_("fallbackFocus")}if(!Fe)throw new Error("Your focus-trap needs to have at least one focusable element");return Fe},O=function(){if(a.containerGroups=a.containers.map(function(Fe){var he=XN(Fe,o.tabbableOptions),Qe=JN(Fe,o.tabbableOptions),ge=he.length>0?he[0]:void 0,yt=he.length>0?he[he.length-1]:void 0,wt=Qe.find(function(ze){return e1(ze)}),st=Qe.slice().reverse().find(function(ze){return e1(ze)}),mt=!!he.find(function(ze){return zm(ze)>0});return{container:Fe,tabbableNodes:he,focusableNodes:Qe,posTabIndexesFound:mt,firstTabbableNode:ge,lastTabbableNode:yt,firstDomTabbableNode:wt,lastDomTabbableNode:st,nextTabbableNode:function(He){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Vt=he.indexOf(He);return Vt<0?Ve?Qe.slice(Qe.indexOf(He)+1).find(function(Yt){return e1(Yt)}):Qe.slice(0,Qe.indexOf(He)).reverse().find(function(Yt){return e1(Yt)}):he[Vt+(Ve?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(Fe){return Fe.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!_("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(Fe){return Fe.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},K=function De(Fe){var he=Fe.activeElement;if(he)return he.shadowRoot&&he.shadowRoot.activeElement!==null?De(he.shadowRoot):he},D=function De(Fe){if(Fe!==!1&&Fe!==K(document)){if(!Fe||!Fe.focus){De(E());return}Fe.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=Fe,jpe(Fe)&&Fe.select()}},Y=function(Fe){var he=_("setReturnFocus",Fe);return he||(he===!1?!1:Fe)},ee=function(Fe){var he=Fe.target,Qe=Fe.event,ge=Fe.isBackward,yt=ge===void 0?!1:ge;he=he||D2(Qe),O();var wt=null;if(a.tabbableGroups.length>0){var st=g(he,Qe),mt=st>=0?a.containerGroups[st]:void 0;if(st<0)yt?wt=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:wt=a.tabbableGroups[0].firstTabbableNode;else if(yt){var ze=uK(a.tabbableGroups,function($t){var Qt=$t.firstTabbableNode;return he===Qt});if(ze<0&&(mt.container===he||m3(he,o.tabbableOptions)&&!e1(he,o.tabbableOptions)&&!mt.nextTabbableNode(he,!1))&&(ze=st),ze>=0){var He=ze===0?a.tabbableGroups.length-1:ze-1,Ve=a.tabbableGroups[He];wt=zm(he)>=0?Ve.lastTabbableNode:Ve.lastDomTabbableNode}else vC(Qe)||(wt=mt.nextTabbableNode(he,!1))}else{var Vt=uK(a.tabbableGroups,function($t){var Qt=$t.lastTabbableNode;return he===Qt});if(Vt<0&&(mt.container===he||m3(he,o.tabbableOptions)&&!e1(he,o.tabbableOptions)&&!mt.nextTabbableNode(he))&&(Vt=st),Vt>=0){var Yt=Vt===a.tabbableGroups.length-1?0:Vt+1,vt=a.tabbableGroups[Yt];wt=zm(he)>=0?vt.firstTabbableNode:vt.firstDomTabbableNode}else vC(Qe)||(wt=mt.nextTabbableNode(he))}}else wt=_("fallbackFocus");return wt},H=function(Fe){var he=D2(Fe);if(!(g(he,Fe)>=0)){if(k_(o.clickOutsideDeactivates,Fe)){s.deactivate({returnFocus:o.returnFocusOnDeactivate});return}k_(o.allowOutsideClick,Fe)||Fe.preventDefault()}},N=function(Fe){var he=D2(Fe),Qe=g(he,Fe)>=0;if(Qe||he instanceof Document)Qe&&(a.mostRecentlyFocusedNode=he);else{Fe.stopImmediatePropagation();var ge,yt=!0;if(a.mostRecentlyFocusedNode)if(zm(a.mostRecentlyFocusedNode)>0){var wt=g(a.mostRecentlyFocusedNode),st=a.containerGroups[wt].tabbableNodes;if(st.length>0){var mt=st.findIndex(function(ze){return ze===a.mostRecentlyFocusedNode});mt>=0&&(o.isKeyForward(a.recentNavEvent)?mt+1<st.length&&(ge=st[mt+1],yt=!1):mt-1>=0&&(ge=st[mt-1],yt=!1))}}else a.containerGroups.some(function(ze){return ze.tabbableNodes.some(function(He){return zm(He)>0})})||(yt=!1);else yt=!1;yt&&(ge=ee({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),D(ge||a.mostRecentlyFocusedNode||E())}a.recentNavEvent=void 0},Z=function(Fe){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=Fe;var Qe=ee({event:Fe,isBackward:he});Qe&&(vC(Fe)&&Fe.preventDefault(),D(Qe))},ue=function(Fe){if(Wpe(Fe)&&k_(o.escapeDeactivates,Fe)!==!1){Fe.preventDefault(),s.deactivate();return}(o.isKeyForward(Fe)||o.isKeyBackward(Fe))&&Z(Fe,o.isKeyBackward(Fe))},ye=function(Fe){var he=D2(Fe);g(he,Fe)>=0||k_(o.clickOutsideDeactivates,Fe)||k_(o.allowOutsideClick,Fe)||(Fe.preventDefault(),Fe.stopImmediatePropagation())},be=function(){if(a.active)return sK.activateTrap(i,s),a.delayInitialFocusTimer=o.delayInitialFocus?lK(function(){D(E())}):D(E()),r.addEventListener("focusin",N,!0),r.addEventListener("mousedown",H,{capture:!0,passive:!1}),r.addEventListener("touchstart",H,{capture:!0,passive:!1}),r.addEventListener("click",ye,{capture:!0,passive:!1}),r.addEventListener("keydown",ue,{capture:!0,passive:!1}),s},X=function(){if(a.active)return r.removeEventListener("focusin",N,!0),r.removeEventListener("mousedown",H,!0),r.removeEventListener("touchstart",H,!0),r.removeEventListener("click",ye,!0),r.removeEventListener("keydown",ue,!0),s},se=function(Fe){var he=Fe.some(function(Qe){var ge=Array.from(Qe.removedNodes);return ge.some(function(yt){return yt===a.mostRecentlyFocusedNode})});he&&D(E())},we=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(se):void 0,xe=function(){we&&(we.disconnect(),a.active&&!a.paused&&a.containers.map(function(Fe){we.observe(Fe,{subtree:!0,childList:!0})}))};return s={get active(){return a.active},get paused(){return a.paused},activate:function(Fe){if(a.active)return this;var he=h(Fe,"onActivate"),Qe=h(Fe,"onPostActivate"),ge=h(Fe,"checkCanFocusTrap");ge||O(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,he==null||he();var yt=function(){ge&&O(),be(),xe(),Qe==null||Qe()};return ge?(ge(a.containers.concat()).then(yt,yt),this):(yt(),this)},deactivate:function(Fe){if(!a.active)return this;var he=aK({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},Fe);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,X(),a.active=!1,a.paused=!1,xe(),sK.deactivateTrap(i,s);var Qe=h(he,"onDeactivate"),ge=h(he,"onPostDeactivate"),yt=h(he,"checkCanReturnFocus"),wt=h(he,"returnFocus","returnFocusOnDeactivate");Qe==null||Qe();var st=function(){lK(function(){wt&&D(Y(a.nodeFocusedBeforeActivation)),ge==null||ge()})};return wt&&yt?(yt(Y(a.nodeFocusedBeforeActivation)).then(st,st),this):(st(),this)},pause:function(Fe){if(a.paused||!a.active)return this;var he=h(Fe,"onPause"),Qe=h(Fe,"onPostPause");return a.paused=!0,he==null||he(),X(),xe(),Qe==null||Qe(),this},unpause:function(Fe){if(!a.paused||!a.active)return this;var he=h(Fe,"onUnpause"),Qe=h(Fe,"onPostUnpause");return a.paused=!1,he==null||he(),O(),be(),xe(),Qe==null||Qe(),this},updateContainerElements:function(Fe){var he=[].concat(Fe).filter(Boolean);return a.containers=he.map(function(Qe){return typeof Qe=="string"?r.querySelector(Qe):Qe}),a.active&&O(),xe(),this}},s.updateContainerElements(t),s};const Ype=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Qpe},Symbol.toStringTag,{value:"Module"})),qpe=UB(Ype),Hpe=UB(Lpe);function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function Vpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eG(r.key),r)}}function Zpe(e,t,n){return t&&AK(e.prototype,t),n&&AK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JO(e,t)}function JO(e,t){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JO(e,t)}function Jpe(e){var t=tme();return function(){var r=Y4(e),i;if(t){var o=Y4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return eme(this,i)}}function eme(e,t){if(t&&(hv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z_(e)}function Z_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y4(e){return Y4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y4(e)}function nme(e,t,n){return t=eG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eG(e){var t=rme(e,"string");return hv(t)==="symbol"?t:String(t)}function rme(e,t){if(hv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F2=Ir,pi=Fh,ime=qpe,ome=ime.createFocusTrap,ame=Hpe,sme=ame.isFocusable,_I=function(e){Xpe(n,e);var t=Jpe(n);function n(r){var i;Vpe(this,n),i=t.call(this,r),nme(Z_(i),"getNodeForOption",function(s){var h,g=(h=this.internalOptions[s])!==null&&h!==void 0?h:this.originalOptions[s];if(typeof g=="function"){for(var _=arguments.length,E=new Array(_>1?_-1:0),O=1;O<_;O++)E[O-1]=arguments[O];g=g.apply(void 0,E)}if(g===!0&&(g=void 0),!g){if(g===void 0||g===!1)return g;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var K=g;if(typeof g=="string"){var D;if(K=(D=this.getDocument())===null||D===void 0?void 0:D.querySelector(g),!K)throw new Error("`".concat(s,"` as selector refers to no known node"))}return K}),i.handleDeactivate=i.handleDeactivate.bind(Z_(i)),i.handlePostDeactivate=i.handlePostDeactivate.bind(Z_(i)),i.handleClickOutsideDeactivates=i.handleClickOutsideDeactivates.bind(Z_(i)),i.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:i.handleDeactivate,onPostDeactivate:i.handlePostDeactivate,clickOutsideDeactivates:i.handleClickOutsideDeactivates},i.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var o=r.focusTrapOptions;for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){if(a==="returnFocusOnDeactivate"||a==="onDeactivate"||a==="onPostDeactivate"||a==="checkCanReturnFocus"||a==="clickOutsideDeactivates"){i.originalOptions[a]=o[a];continue}i.internalOptions[a]=o[a]}return i.outsideClick=null,i.focusTrapElements=r.containerElements||[],i.updatePreviousElement(),i}return Zpe(n,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var i=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return i||(i===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var i=this.getDocument();i&&(this.previouslyFocusedElement=i.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(i){var o=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,i):this.originalOptions.clickOutsideDeactivates;return o&&(this.outsideClick={target:i.target,allowDeactivation:o}),o}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var i=this,o=function(){var s=i.getReturnFocusNode(),h=!!(i.originalOptions.returnFocusOnDeactivate&&s!==null&&s!==void 0&&s.focus&&(!i.outsideClick||i.outsideClick.allowDeactivation&&!sme(i.outsideClick.target,i.internalOptions.tabbableOptions))),g=i.internalOptions.preventScroll,_=g===void 0?!1:g;h&&s.focus({preventScroll:_}),i.originalOptions.onPostDeactivate&&i.originalOptions.onPostDeactivate.call(null),i.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(o,o):o()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var i=this.focusTrapElements.some(Boolean);i&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(i){if(this.focusTrap){i.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var o=!i.active&&this.props.active,a=i.active&&!this.props.active,s=!i.paused&&this.props.paused,h=i.paused&&!this.props.paused;if(o&&(this.updatePreviousElement(),this.focusTrap.activate()),a){this.deactivateTrap();return}s&&this.focusTrap.pause(),h&&this.focusTrap.unpause()}else i.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var i=this,o=this.props.children?F2.Children.only(this.props.children):void 0;if(o){if(o.type&&o.type===F2.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var a=function(g){var _=i.props.containerElements;o&&(typeof o.ref=="function"?o.ref(g):o.ref&&(o.ref.current=g)),i.focusTrapElements=_||[g]},s=F2.cloneElement(o,{ref:a});return s}return null}}]),n}(F2.Component),T_=typeof Element>"u"?Function:Element;_I.propTypes={active:pi.bool,paused:pi.bool,focusTrapOptions:pi.shape({document:pi.object,onActivate:pi.func,onPostActivate:pi.func,checkCanFocusTrap:pi.func,onPause:pi.func,onPostPause:pi.func,onUnpause:pi.func,onPostUnpause:pi.func,onDeactivate:pi.func,onPostDeactivate:pi.func,checkCanReturnFocus:pi.func,initialFocus:pi.oneOfType([pi.instanceOf(T_),pi.string,pi.bool,pi.func]),fallbackFocus:pi.oneOfType([pi.instanceOf(T_),pi.string,pi.func]),escapeDeactivates:pi.oneOfType([pi.bool,pi.func]),clickOutsideDeactivates:pi.oneOfType([pi.bool,pi.func]),returnFocusOnDeactivate:pi.bool,setReturnFocus:pi.oneOfType([pi.instanceOf(T_),pi.string,pi.bool,pi.func]),allowOutsideClick:pi.oneOfType([pi.bool,pi.func]),preventScroll:pi.bool,tabbableOptions:pi.shape({displayCheck:pi.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:pi.oneOfType([pi.bool,pi.func])}),trapStack:pi.array,isKeyForward:pi.func,isKeyBackward:pi.func}),containerElements:pi.arrayOf(pi.instanceOf(T_)),children:pi.oneOfType([pi.element,pi.instanceOf(T_)])};_I.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:ome};var lme=_I,tG={exports:{}};(function(e){(function(t){var n=!1,r,i;function o(){if(typeof r<"u")return r;var E=document.documentElement,O=document.createElement("div");return O.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),E.appendChild(O),r=O.offsetWidth-O.clientWidth,E.removeChild(O),r}function a(){return document.documentElement.scrollHeight>window.innerHeight}function s(E){if(!(typeof document>"u"||n)){var O=document.documentElement;i=window.pageYOffset,a()?O.style.width="calc(100% - "+o()+"px)":O.style.width="100%",O.style.position="fixed",O.style.top=-i+"px",O.style.overflow="hidden",n=!0}}function h(){if(!(typeof document>"u"||!n)){var E=document.documentElement;E.style.width="",E.style.position="",E.style.top="",E.style.overflow="",window.scroll(0,i),n=!1}}function g(){if(n){h();return}s()}var _={on:s,off:h,toggle:g};e.exports=_})()})(tG);var ume=tG.exports;function eB(e){"@babel/helpers - typeof";return eB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eB(e)}function nG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rG(e,t,n){return t&&cK(e.prototype,t),n&&cK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tB(e,t)}function tB(e,t){return tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tB(e,t)}function oG(e){var t=cme();return function(){var r=q4(e),i;if(t){var o=q4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ame(this,i)}}function Ame(e,t){if(t&&(eB(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xy(e)}function xy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q4(e){return q4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q4(e)}function m1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a1=Ir,dme=g0,hme=lme,L2=ume,CI=function(e){iG(n,e);var t=oG(n);function n(r){var i;if(nG(this,n),i=t.call(this,r),m1(xy(i),"getApplicationNode",function(){return i.props.getApplicationNode?i.props.getApplicationNode():i.props.applicationNode}),m1(xy(i),"checkUnderlayClick",function(o){i.dialogNode&&i.dialogNode.contains(o.target)||o.pageX>o.target.ownerDocument.documentElement.offsetWidth||o.pageY>o.target.ownerDocument.documentElement.offsetHeight||i.exit(o)}),m1(xy(i),"checkDocumentKeyDown",function(o){i.props.escapeExits&&(o.key==="Escape"||o.key==="Esc"||o.keyCode===27)&&i.exit(o)}),m1(xy(i),"exit",function(o){i.props.onExit&&i.props.onExit(o)}),!r.titleText&&!r.titleId)throw new Error("react-aria-modal instances should have a `titleText` or `titleId`");return i}return rG(n,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter();var i=this.getApplicationNode();setTimeout(function(){i&&i.setAttribute("aria-hidden","true")},0),this.props.escapeExits&&this.addKeyDownListener(),this.props.scrollDisabled&&L2.on()}},{key:"componentDidUpdate",value:function(i){i.scrollDisabled&&!this.props.scrollDisabled?L2.off():!i.scrollDisabled&&this.props.scrollDisabled&&L2.on(),this.props.escapeExits&&!i.escapeExits?this.addKeyDownListener():!this.props.escapeExits&&i.escapeExits&&this.removeKeyDownListener()}},{key:"componentWillUnmount",value:function(){this.props.scrollDisabled&&L2.off();var i=this.getApplicationNode();i&&i.setAttribute("aria-hidden","false"),this.removeKeyDownListener()}},{key:"addKeyDownListener",value:function(){var i=this;setTimeout(function(){document.addEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"removeKeyDownListener",value:function(){var i=this;setTimeout(function(){document.removeEventListener("keydown",i.checkDocumentKeyDown)})}},{key:"render",value:function(){var i=this.props,o={};if(i.includeDefaultStyles&&(o={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",textAlign:"center"},i.underlayColor&&(o.background=i.underlayColor),i.underlayClickExits&&(o.cursor="pointer")),i.underlayStyle)for(var a in i.underlayStyle)i.underlayStyle.hasOwnProperty(a)&&(o[a]=i.underlayStyle[a]);var s={className:i.underlayClass,style:o};i.underlayClickExits&&(s.onMouseDown=this.checkUnderlayClick);for(var h in this.props.underlayProps)s[h]=this.props.underlayProps[h];var g={};i.includeDefaultStyles&&(g={display:"inline-block",height:"100%",verticalAlign:"middle"});var _={key:"a",style:g},E={};if(i.includeDefaultStyles&&(E={display:"inline-block",textAlign:"left",top:0,maxWidth:"100%",cursor:"auto",outline:i.focusDialog?0:null},i.verticallyCenter&&(E.verticalAlign="middle",E.top=0)),i.dialogStyle)for(var O in i.dialogStyle)i.dialogStyle.hasOwnProperty(O)&&(E[O]=i.dialogStyle[O]);var K={key:"b",ref:(function(H){this.dialogNode=H}).bind(this),role:i.alert?"alertdialog":"dialog",id:i.dialogId,className:i.dialogClass,style:E};i.titleId?K["aria-labelledby"]=i.titleId:i.titleText&&(K["aria-label"]=i.titleText),i.focusDialog&&(K.tabIndex="-1");for(var D in i)/^(data-|aria-)/.test(D)&&(K[D]=i[D]);var Y=[a1.createElement("div",K,i.children)];i.verticallyCenter&&Y.unshift(a1.createElement("div",_));var ee=i.focusTrapOptions||{};return(i.focusDialog||i.initialFocus)&&(ee.initialFocus=i.focusDialog?"#".concat(this.props.dialogId):i.initialFocus),ee.escapeDeactivates=i.escapeExits,a1.createElement(hme,{focusTrapOptions:ee,paused:i.focusTrapPaused},a1.createElement("div",s,Y))}}]),n}(a1.Component);m1(CI,"defaultProps",{underlayProps:{},dialogId:"react-aria-modal-dialog",underlayClickExits:!0,escapeExits:!0,underlayColor:"rgba(0,0,0,0.5)",includeDefaultStyles:!0,focusTrapPaused:!1,scrollDisabled:!0});function aG(e,t){if(!window.document)return function(){return null};t=t||{};var n=function(r){iG(o,r);var i=oG(o);function o(){var a;nG(this,o);for(var s=arguments.length,h=new Array(s),g=0;g<s;g++)h[g]=arguments[g];return a=i.call.apply(i,[this].concat(h)),m1(xy(a),"container",null),a}return rG(o,[{key:"componentDidMount",value:function(){t.renderTo?this.container=typeof t.renderTo=="string"?document.querySelector(t.renderTo):t.renderTo:(this.container=document.createElement("div"),document.body.appendChild(this.container)),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){t.renderTo||this.container.parentNode.removeChild(this.container)}},{key:"render",value:function(){return this.container===null||!this.props.mounted?null:dme.createPortal(a1.createElement(e,this.props,this.props.children),this.container)}}]),o}(a1.Component);return m1(n,"defaultProps",{mounted:!0}),n}var sG=aG(CI);sG.renderTo=function(e){return aG(CI,{renderTo:e})};var fme=sG;const pme=Ba(fme);function mu(){var e="/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",t="053200cbafe04fe608a2b8b1c36f9187849e6580",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Modal.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:12},end:{line:18,column:3}},2:{start:{line:12,column:4},end:{line:14,column:5}},3:{start:{line:13,column:6},end:{line:13,column:36}},4:{start:{line:15,column:4},end:{line:17,column:10}},5:{start:{line:16,column:6},end:{line:16,column:37}},6:{start:{line:20,column:4},end:{line:58,column:5}},7:{start:{line:21,column:6},end:{line:55,column:8}},8:{start:{line:57,column:6},end:{line:57,column:19}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:18},end:{line:18,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:15},end:{line:15,column:16}},loc:{start:{line:15,column:21},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:11},end:{line:59,column:3}},line:19}},branchMap:{0:{loc:{start:{line:12,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:20,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:58,column:5}},{start:{line:56,column:11},end:{line:58,column:5}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Modal.tsx"],names:[],mappings:"AA+CU,SACE,KADF;AA/CV,OAAO,WAAkC;AACzC,SAAQ,eAAc;AACtB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AAcvB,qBAAqB,cAAc,MAAM,UAAsB;AAAA,EAC7D,OAAO,eAAe;AAAA,IACpB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU,MAAM;AACd,QAAI,SAAS,eAAe;AAC1B,MAAC,SAAS,cAA8B,KAAK;AAAA,IAC/C;AAEA,eAAW,MAAM;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC/B,GAAG,CAAC;AAAA,EACN;AAAA,EAEA,SAAS;AACP,QAAG,KAAK,MAAM,QAAQ;AACpB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,WAAW,KAAK,MAAM;AAAA,UACtB,oBAAoB,KAAK,MAAM;AAAA,UAE/B,eAAe,KAAK,MAAM;AAAA,UAC1B,eAAa,KAAK,MAAM,aAAa;AAAA,UACrC,kBAAkB;AAAA,UAClB,QAAQ,KAAK;AAAA,UAEb;AAAA,YAAC;AAAA;AAAA,cAAI,WAAW,WAAW,kBAAkB,KAAK,MAAM,SAAS;AAAA,cAC/D,eAAa,KAAK,MAAM,aAAa;AAAA,cAErC;AAAA,qCAAC,YAAO,WAAU,yBAChB;AAAA,sCAAC,QAAG,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,kBAC9D,oBAAC,UAAK,WAAU,+BAA8B;AAAA,kBAC9C;AAAA,oBAAC;AAAA;AAAA,sBAAO,WAAU;AAAA,sBAChB,OAAM;AAAA,sBACN,SAAS,KAAK;AAAA,sBACd,eAAa,KAAK,MAAM,aAAa,IAAE;AAAA,sBAEvC,8BAAC,WAAQ;AAAA;AAAA,kBACX;AAAA,mBACF;AAAA,gBACA,oBAAC,SAAI,WAAU,2BACb,8BAAC,SAAI,WAAU,0BAA0B,eAAK,MAAM,UAAS,GAC/D;AAAA;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IACF,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"053200cbafe04fe608a2b8b1c36f9187849e6580"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return mu=function(){return a},a}mu();class Hf extends Mn.Component{constructor(){super(...arguments);on(this,"onClose",(mu().s[1]++,()=>{mu().f[0]++,mu().s[2]++,document.activeElement?(mu().b[0][0]++,mu().s[3]++,document.activeElement.blur()):mu().b[0][1]++,mu().s[4]++,setTimeout(()=>{mu().f[1]++,mu().s[5]++,this.props.onOpenToggle(!1)},0)}))}render(){return mu().f[2]++,mu().s[6]++,this.props.isOpen?(mu().b[1][0]++,mu().s[7]++,G.jsx(pme,{titleText:this.props.title,underlayClickExits:this.props.underlayClickExits,underlayProps:this.props.underlayProps,"data-wd-key":this.props["data-wd-key"],verticallyCenter:!0,onExit:this.onClose,children:G.jsxs("div",{className:Gf("maputnik-modal",this.props.className),"data-wd-key":this.props["data-wd-key"],children:[G.jsxs("header",{className:"maputnik-modal-header",children:[G.jsx("h1",{className:"maputnik-modal-header-title",children:this.props.title}),G.jsx("span",{className:"maputnik-modal-header-space"}),G.jsx("button",{className:"maputnik-modal-header-toggle",title:"Close modal",onClick:this.onClose,"data-wd-key":this.props["data-wd-key"]+".close-modal",children:G.jsx(qte,{})})]}),G.jsx("div",{className:"maputnik-modal-scroller",children:G.jsx("div",{className:"maputnik-modal-content",children:this.props.children})})]})})):(mu().b[1][1]++,mu().s[8]++,!1)}}on(Hf,"defaultProps",(mu().s[0]++,{underlayClickExits:!0}));const mme=8,gme={version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"styleeditor:slimmode":!0,"styleeditor:comment":"Style generated 1677776383","styleeditor:version":"3.14.159265","example:object":{String:"one",Number:2,Boolean:!1}}},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sky:{type:"sky",doc:"The map's sky configuration.",example:{"sky-color":"#199EF3","fog-color":"#00ff00","horizon-blend":.5,"fog-blend":.6}},terrain:{type:"terrain",doc:"The terrain configuration.",example:{source:"raster-dem-source",exaggeration:.5}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"maplibre-demotiles":{type:"vector",url:"https://demotiles.maplibre.org/tiles/tiles.json"}}},sprite:{type:"sprite",doc:"An array of `{id: 'my-sprite', url: 'https://example.com/sprite'}` objects. Each object should represent a unique URL to load a sprite from and and a unique ID to use as a prefix when referencing images from that sprite (i.e. 'my-sprite:image'). All the URLs are internally extended to load both .json and .png files. If the `id` field is equal to 'default', the prefix is omitted (just 'image' instead of 'default:image'). All the IDs and URLs must be unique. For backwards compatibility, instead of an array, one can also provide a single string that represent a URL to load the sprite from. The images in this case won't be prefixed.",example:"https://demotiles.maplibre.org/styles/osm-bright-gl-style/sprite"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"coastline",source:"maplibre","source-layer":"contries",type:"line",paint:{"line-color":"#198EC8"}}]}},yme={"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},vme=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],_me={type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},Cme={type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},bme={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:` and `https:`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by MapLibre."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."},custom:{doc:"Decodes tiles using the redFactor, blueFactor, greenFactor, baseShift parameters."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default."},redFactor:{type:"number",default:1,doc:"Value that will be multiplied by the red channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},blueFactor:{type:"number",default:1,doc:"Value that will be multiplied by the blue channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},greenFactor:{type:"number",default:1,doc:"Value that will be multiplied by the green channel value when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},baseShift:{type:"number",default:0,doc:"Value that will be added to the encoding mix when decoding. Only used on custom encodings.","sdk-support":{"basic functionality":{js:"3.4"}}},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},xme={type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{required:!0,type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://maplibre.org/maplibre-gl-js-docs/api/sources/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) — it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},wme={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Mme={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},Sme={id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. The implementation supports Mapbox Terrain RGB, Mapzen Terrarium tiles and custom encodings.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'maplibre:'.",example:{"source:comment":"Hydrology FCCODE 460 - Narrow wash"}},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},Eme=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Ome={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Bme={"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Ime={"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},kme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Tme={"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Pme={"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like MapLibre GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image",{"!":"icon-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{doc:"The icon will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The icon will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the icon collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new icon is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new icon is visible."}},doc:"Allows for control over whether to show an icon when it overlaps other symbols on the map. If `icon-overlap` is not set, `icon-allow-overlap` is used instead.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",doc:"Size of additional area round the icon bounding box used for detecting symbol collisions. Values are declared using CSS margin shorthand syntax: a single value applies to all four sides; two values apply to [top/bottom, left/right]; three values apply to [top, left/right, bottom]; four values apply to [top, right, bottom, left]. For backwards compatibility, a single bare number is accepted, and treated the same as a one-element array - padding applied to all sides.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.2.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},"viewport-glyph":{doc:"When `symbol-placement` is set to `point`, aligns text to the x-axis of the viewport. When `symbol-placement` is set to `line` or `line-center`, aligns glyphs to the x-axis of the viewport and places them along the line."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"`viewport-glyph` value":{js:"2.1.8"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],doc:'To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations, each paired with an offset value. The renderer will attempt to place the label at each location, in order, before moving on to the next location+offset. Use `text-justify: auto` to choose justification based on anchor position. \n\n The length of the array must be even, and must alternate between enum and point entries. i.e., each anchor location must be accompanied by a point, and that point defines the offset when the corresponding anchor location is used. Positive offset values indicate right and down, while negative values indicate left and up. Anchor locations may repeat, allowing the renderer to try multiple offsets to try and place a label using the same anchor. \n\n When present, this property takes precedence over `text-anchor`, `text-variable-anchor`, `text-offset`, and `text-radial-offset`. \n\n ```json \n { "text-variable-anchor-offset": ["top", [0, 4], "left", [3,0], "bottom", [1, 1]] } \n ``` \n\n When the renderer chooses the `top` anchor, `[0, 4]` will be used for `text-offset`; the text will be shifted down by 4 ems. \n\n When the renderer chooses the `left` anchor, `[3, 0]` will be used for `text-offset`; the text will be shifted right by 3 ems.',"sdk-support":{"basic functionality":{js:"3.3.0"},"data-driven styling":{js:"3.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn’t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field",{"!":"text-overlap"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{doc:"The text will be hidden if it collides with any other previously drawn symbol."},always:{doc:"The text will be visible even if it collides with any other previously drawn symbol."},cooperative:{doc:"If the text collides with another previously drawn symbol, the overlap mode for that symbol is checked. If the previous symbol was placed using `never` overlap mode, the new text is hidden. If the previous symbol was placed using `always` or `cooperative` overlap mode, the new text is visible."}},doc:"Allows for control over whether to show symbol text when it overlaps other symbols on the map. If `text-overlap` is not set, `text-allow-overlap` is used instead",requires:["text-field"],"sdk-support":{"basic functionality":{js:"2.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Kme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},Dme={visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},Fme={type:"array",value:"*",doc:"A filter selects specific features from a layer."},Lme={type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},Ume={type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},Rme={type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},zme={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},jme={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",ios:"6.0.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0",ios:"6.0.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`, or an expression returning one of those types: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. When `source.promoteId` is not provided, features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. When `source.promoteId` is provided, features are identified by their `promoteId` property, which may be a number, string, or any primitive data type. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in MapLibre GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},Wme={anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},Nme={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the sky."},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The base color for the fog."},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog over the 3D terrain. A value between 0 and 1. Where 0 is the map center and 1 is the horizon"},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"How to blend the fog and sky color at the horizon. A value between 0 and 1. Where 0 is the horizon and 1 is map-height / 2"}},Gme={source:{type:"string",doc:"The source for the terrain data.",required:!0,"sdk-support":{"basic functionality":{js:"2.2.0"}}},exaggeration:{type:"number",minimum:0,doc:"The exaggeration of the terrain - how high it will look.",default:1,"sdk-support":{"basic functionality":{js:"2.2.0"}}}},$me=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],Qme={"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Yme={"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},qme={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Hme={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Vme={"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Zme={"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added, or when a video is started or its coordinates are updated.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Xme={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Jme={"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},e0e={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},t0e={"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}},no={$version:mme,$root:gme,sources:yme,source:vme,source_vector:_me,source_raster:Cme,source_raster_dem:bme,source_geojson:xme,source_video:wme,source_image:Mme,layer:Sme,layout:Eme,layout_background:Ome,layout_fill:Bme,layout_circle:Ime,layout_heatmap:kme,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:Tme,layout_symbol:Pme,layout_raster:Kme,layout_hillshade:Dme,filter:Fme,filter_operator:Lme,geometry_type:Ume,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:`A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:
* In categorical functions, when the feature value does not match any of the stop domain values.
* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.
* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a \`circle-color\` property but the feature property value is not a string or not a valid color).
* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.
If no default is provided, the style property's default is used in these circumstances.`}},function_stop:Rme,expression:zme,expression_name:jme,light:Wme,sky:Nme,terrain:Gme,paint:$me,paint_fill:Qme,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Yme,paint_circle:qme,paint_heatmap:Hme,paint_symbol:Vme,paint_raster:Zme,paint_hillshade:Xme,paint_background:Jme,transition:e0e,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:t0e};function Do(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",t="3158bd93bbefd1bd0e63d26617da070781685c25",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:17}},1:{start:{line:7,column:4},end:{line:9,column:6}},2:{start:{line:11,column:16},end:{line:19,column:3}},3:{start:{line:12,column:4},end:{line:18,column:7}},4:{start:{line:15,column:6},end:{line:17,column:7}},5:{start:{line:16,column:8},end:{line:16,column:48}},6:{start:{line:21,column:33},end:{line:21,column:43}},7:{start:{line:22,column:20},end:{line:22,column:35}},8:{start:{line:23,column:4},end:{line:42,column:5}},9:{start:{line:24,column:6},end:{line:37,column:14}},10:{start:{line:32,column:27},end:{line:32,column:61}},11:{start:{line:38,column:11},end:{line:42,column:5}},12:{start:{line:39,column:6},end:{line:39,column:174}},13:{start:{line:41,column:22},end:{line:41,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:21},end:{line:10,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:16},end:{line:11,column:17}},loc:{start:{line:11,column:26},end:{line:19,column:3}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:14,column:7},end:{line:14,column:8}},loc:{start:{line:14,column:13},end:{line:18,column:5}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:43,column:3}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:27},end:{line:32,column:61}},line:32}},branchMap:{0:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:22,column:20},end:{line:22,column:35}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:29}},{start:{line:22,column:33},end:{line:22,column:35}}],line:22},2:{loc:{start:{line:23,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:42,column:5}},{start:{line:38,column:11},end:{line:42,column:5}}],line:23},3:{loc:{start:{line:30,column:26},end:{line:30,column:106}},type:"cond-expr",locations:[{start:{line:30,column:44},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:106}}],line:30},4:{loc:{start:{line:31,column:67},end:{line:31,column:102}},type:"cond-expr",locations:[{start:{line:31,column:85},end:{line:31,column:91}},{start:{line:31,column:94},end:{line:31,column:102}}],line:31},5:{loc:{start:{line:34,column:22},end:{line:34,column:120}},type:"cond-expr",locations:[{start:{line:34,column:56},end:{line:34,column:79}},{start:{line:34,column:98},end:{line:34,column:120}}],line:34},6:{loc:{start:{line:38,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:11},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDocLabel.tsx"],names:[],mappings:"AAuCQ,SASuB,KATvB;AAvCR,OAAO,WAAW;AAClB,SAAQ,eAAe,sBAAqB;AAc5C,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC/B,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,MAAM,aAAa;AAC1B,aAAK,MAAM,YAAY,KAAK,MAAM,IAAI;AAAA,MACxC;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,UAAM,EAAC,IAAG,IAAI,aAAa,CAAC;AAE5B,QAAI,KAAK;AACP,aAAO,oBAAC,WAAM,WAAU,wBACtB,+BAAC,SAAI,WAAU,uBACZ;AAAA;AAAA,QACA;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,KAAK,MAAM,OAAO,iCAAiC;AAAA,YAC/D,WAAW,4CAA4C,KAAK,MAAM,OAAO,SAAS,QAAQ;AAAA,YAC1F,SAAS,MAAM,KAAK,YAAY,CAAC,KAAK,MAAM,IAAI;AAAA,YAChD,eAAa,sBAAoB;AAAA,YAEhC,eAAK,MAAM,OAAO,oBAAC,kBAAe,IAAK,oBAAC,iBAAc;AAAA;AAAA,QACzD;AAAA,SACF,GACF;AAAA,IACF,WACS,OAAO;AACd,aAAO,oBAAC,WAAM,WAAU,wBACtB,8BAAC,SAAI,WAAU,uBACZ,iBACH,GACF;AAAA,IACF,OACK;AACH,0BAAC,SAAI;AAAA,IACP;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3158bd93bbefd1bd0e63d26617da070781685c25"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Do=function(){return a},a}Do();class bI extends Mn.Component{constructor(n){Do().f[0]++,Do().s[0]++;super(n);on(this,"onToggleDoc",(Do().s[2]++,n=>{Do().f[1]++,Do().s[3]++,this.setState({open:n},()=>{Do().f[2]++,Do().s[4]++,this.props.onToggleDoc?(Do().b[0][0]++,Do().s[5]++,this.props.onToggleDoc(this.state.open)):Do().b[0][1]++})}));Do().s[1]++,this.state={open:!1}}render(){Do().f[3]++;const{label:n,fieldSpec:r}=(Do().s[6]++,this.props),{doc:i}=(Do().s[7]++,Do().b[1][0]++,r||(Do().b[1][1]++,{}));if(Do().s[8]++,i)return Do().b[2][0]++,Do().s[9]++,G.jsx("label",{className:"maputnik-doc-wrapper",children:G.jsxs("div",{className:"maputnik-doc-target",children:[n," ",G.jsx("button",{"aria-label":this.state.open?(Do().b[3][0]++,"close property documentation"):(Do().b[3][1]++,"open property documentation"),className:`maputnik-doc-button maputnik-doc-button--${this.state.open?(Do().b[4][0]++,"open"):(Do().b[4][1]++,"closed")}`,onClick:()=>(Do().f[4]++,Do().s[10]++,this.onToggleDoc(!this.state.open)),"data-wd-key":"field-doc-button-"+n,children:this.state.open?(Do().b[5][0]++,G.jsx(Kte,{})):(Do().b[5][1]++,G.jsx(Dte,{}))})]})});if(Do().b[2][1]++,Do().s[11]++,n)return Do().b[6][0]++,Do().s[12]++,G.jsx("label",{className:"maputnik-doc-wrapper",children:G.jsx("div",{className:"maputnik-doc-target",children:n})});Do().b[6][1]++,Do().s[13]++}}function wa(){var e="/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",t="17184511a0ae3c272ec6d16762ac334920d5242e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Doc.tsx",statementMap:{0:{start:{line:3,column:16},end:{line:8,column:1}},1:{start:{line:11,column:26},end:{line:11,column:36}},2:{start:{line:12,column:28},end:{line:12,column:37}},3:{start:{line:13,column:23},end:{line:13,column:47}},4:{start:{line:14,column:25},end:{line:16,column:26}},5:{start:{line:17,column:4},end:{line:47,column:9}},6:{start:{line:21,column:10},end:{line:24,column:20}},7:{start:{line:31,column:12},end:{line:31,column:75}},8:{start:{line:35,column:10},end:{line:44,column:20}},9:{start:{line:38,column:14},end:{line:42,column:15}},10:{start:{line:39,column:16},end:{line:39,column:81}},11:{start:{line:41,column:16},end:{line:41,column:72}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:48,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:119},end:{line:20,column:120}},loc:{start:{line:20,column:137},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:32,column:11}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:34,column:80},end:{line:34,column:81}},loc:{start:{line:34,column:103},end:{line:45,column:9}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:37,column:37},end:{line:37,column:38}},loc:{start:{line:37,column:44},end:{line:43,column:13}},line:37}},branchMap:{0:{loc:{start:{line:14,column:25},end:{line:16,column:26}},type:"binary-expr",locations:[{start:{line:14,column:25},end:{line:14,column:33}},{start:{line:16,column:4},end:{line:16,column:26}}],line:14},1:{loc:{start:{line:18,column:6},end:{line:26,column:10}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:9}},{start:{line:18,column:29},end:{line:26,column:10}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:25,column:13}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:20}},{start:{line:20,column:40},end:{line:25,column:13}}],line:20},3:{loc:{start:{line:27,column:6},end:{line:46,column:13}},type:"binary-expr",locations:[{start:{line:27,column:6},end:{line:27,column:16}},{start:{line:27,column:36},end:{line:46,column:13}}],line:27},4:{loc:{start:{line:38,column:14},end:{line:42,column:15}},type:"if",locations:[{start:{line:38,column:14},end:{line:42,column:15}},{start:{line:40,column:21},end:{line:42,column:15}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Doc.tsx"],names:[],mappings:"AAsCM,mBAGM,KAKQ,YARd;AAtCN,OAAO,WAAW;AAElB,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,EACJ,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACT;AAgBA,qBAAqB,YAAY,MAAM,UAAoB;AAAA,EACzD,SAAU;AACR,UAAM,EAAC,UAAS,IAAI,KAAK;AAEzB,UAAM,EAAC,KAAK,OAAM,IAAI;AACtB,UAAM,aAAa,UAAU,aAAa;AAE1C,UAAM,eACJ,CAAC,CAAC;AAAA;AAAA,IAGF,CAAC,MAAM,QAAQ,MAAM;AAGvB,WACE,iCACG;AAAA,aACC,qBAAC,SAAI,WAAU,WACb;AAAA,4BAAC,SAAI,WAAU,gBAAe,eAAY,kBAAkB,eAAI;AAAA,QAC/D,gBACC,oBAAC,QAAG,WAAU,mBACX,iBAAO,QAAQ,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AAC5C,iBACE,qBAAC,QACC;AAAA,gCAAC,UAAM,eAAK,UAAU,GAAG,GAAE;AAAA,YAC3B,oBAAC,SAAK,gBAAM,KAAI;AAAA,eAFT,GAGT;AAAA,QAEJ,CAAC,GACH;AAAA,SAEJ;AAAA,MAED,cACC,oBAAC,SAAI,WAAU,wBACb,+BAAC,WAAM,WAAU,+BACf;AAAA,4BAAC,WACC,+BAAC,QACC;AAAA,8BAAC,QAAG;AAAA,UACH,OAAO,OAAO,OAAO,EAAE,IAAI,YAAU;AACpC,mBAAO,oBAAC,QAAiB,oBAAT,MAAgB;AAAA,UAClC,CAAC;AAAA,WACH,GACF;AAAA,QACA,oBAAC,WACE,iBAAO,QAAQ,UAAU,EAAE,IAAI,CAAC,CAAC,KAAK,UAAU,MAAM;AACrD,iBACE,qBAAC,QACC;AAAA,gCAAC,QAAI,eAAI;AAAA,YACR,OAAO,KAAK,OAAO,EAAE,IAAI,CAAC,MAAM;AAC/B,kBAAI,OAAO,UAAU,eAAe,KAAK,YAAY,CAAC,GAAG;AACvD,uBAAO,oBAAC,QAAY,qBAAW,CAAyB,KAAxC,CAA0C;AAAA,cAC5D,OACK;AACH,uBAAO,oBAAC,QAAW,kBAAH,CAAK;AAAA,cACvB;AAAA,YACF,CAAC;AAAA,eATM,GAUT;AAAA,QAEJ,CAAC,GACH;AAAA,SACF,GACF;AAAA,OAEJ;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"17184511a0ae3c272ec6d16762ac334920d5242e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wa=function(){return a},a}wa();const dK=(wa().s[0]++,{js:"JS",android:"Android",ios:"iOS",macos:"macOS"});class xI extends Mn.Component{render(){wa().f[0]++;const{fieldSpec:t}=(wa().s[1]++,this.props),{doc:n,values:r}=(wa().s[2]++,t),i=(wa().s[3]++,t["sdk-support"]),o=(wa().s[4]++,wa().b[0][0]++,!!r&&(wa().b[0][1]++,!Array.isArray(r)));return wa().s[5]++,G.jsxs(G.Fragment,{children:[(wa().b[1][0]++,n&&(wa().b[1][1]++,G.jsxs("div",{className:"SpecDoc",children:[G.jsx("div",{className:"SpecDoc__doc","data-wd-key":"spec-field-doc",children:n}),(wa().b[2][0]++,o&&(wa().b[2][1]++,G.jsx("ul",{className:"SpecDoc__values",children:Object.entries(r).map(([a,s])=>(wa().f[1]++,wa().s[6]++,G.jsxs("li",{children:[G.jsx("code",{children:JSON.stringify(a)}),G.jsx("div",{children:s.doc})]},a)))})))]}))),(wa().b[3][0]++,i&&(wa().b[3][1]++,G.jsx("div",{className:"SpecDoc__sdk-support",children:G.jsxs("table",{className:"SpecDoc__sdk-support__table",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{}),Object.values(dK).map(a=>(wa().f[2]++,wa().s[7]++,G.jsx("th",{children:a},a)))]})}),G.jsx("tbody",{children:Object.entries(i).map(([a,s])=>(wa().f[3]++,wa().s[8]++,G.jsxs("tr",{children:[G.jsx("td",{children:a}),Object.keys(dK).map(h=>(wa().f[4]++,wa().s[9]++,Object.prototype.hasOwnProperty.call(s,h)?(wa().b[4][0]++,wa().s[10]++,G.jsx("td",{children:s[h]},h)):(wa().b[4][1]++,wa().s[11]++,G.jsx("td",{children:"no"},h))))]},a)))})]})})))]})}}function uo(){var e="/home/runner/work/maputnik/maputnik/src/components/Block.tsx",t="48ac53a19fbb7fbd4fa4e9374748c221d8264cc9",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Block.tsx",statementMap:{0:{start:{line:7,column:13},end:{line:7,column:17}},1:{start:{line:9,column:4},end:{line:9,column:17}},2:{start:{line:10,column:4},end:{line:12,column:6}},3:{start:{line:15,column:18},end:{line:15,column:32}},4:{start:{line:16,column:4},end:{line:18,column:5}},5:{start:{line:17,column:6},end:{line:17,column:64}},6:{start:{line:20,column:16},end:{line:24,column:3}},7:{start:{line:21,column:4},end:{line:23,column:7}},8:{start:{line:31,column:17},end:{line:38,column:3}},9:{start:{line:32,column:15},end:{line:32,column:39}},10:{start:{line:33,column:21},end:{line:33,column:48}},11:{start:{line:34,column:4},end:{line:36,column:5}},12:{start:{line:35,column:6},end:{line:35,column:30}},13:{start:{line:37,column:4},end:{line:37,column:27}},14:{start:{line:40,column:4},end:{line:73,column:6}},15:{start:{line:62,column:95},end:{line:62,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:13,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:14},end:{line:19,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:20,column:16},end:{line:20,column:17}},loc:{start:{line:20,column:25},end:{line:24,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:31,column:17},end:{line:31,column:18}},loc:{start:{line:31,column:28},end:{line:38,column:3}},line:31},4:{name:"(anonymous_4)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:11},end:{line:74,column:3}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:62,column:87},end:{line:62,column:88}},loc:{start:{line:62,column:95},end:{line:62,column:113}},line:62}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:17,column:33},end:{line:17,column:62}},type:"cond-expr",locations:[{start:{line:17,column:48},end:{line:17,column:54}},{start:{line:17,column:57},end:{line:17,column:62}}],line:17},2:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},3:{loc:{start:{line:34,column:8},end:{line:34,column:66}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:53}},{start:{line:34,column:57},end:{line:34,column:66}}],line:34},4:{loc:{start:{line:52,column:10},end:{line:59,column:14}},type:"binary-expr",locations:[{start:{line:52,column:10},end:{line:52,column:30}},{start:{line:52,column:50},end:{line:59,column:14}}],line:52},5:{loc:{start:{line:60,column:10},end:{line:60,column:134}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:31}},{start:{line:60,column:51},end:{line:60,column:134}}],line:60},6:{loc:{start:{line:63,column:10},end:{line:70,column:11}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:30}},{start:{line:63,column:50},end:{line:70,column:11}}],line:63},7:{loc:{start:{line:67,column:32},end:{line:67,column:64}},type:"cond-expr",locations:[{start:{line:67,column:53},end:{line:67,column:55}},{start:{line:67,column:58},end:{line:67,column:64}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Block.tsx"],names:[],mappings:"AA8DW,SAWD,KAXC;AA9DX,OAAO,WAAgD;AACvD,OAAO,gBAAgB;AACvB,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAmBhB,qBAAqB,cAAc,MAAM,UAAkC;AAAA,EACzE,WAAkC;AAAA,EAElC,YAAa,OAAmB;AAC9B,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS,GAAwE;AAC/E,UAAM,QAAQ,EAAE,OAAO;AACvB,QAAI,KAAK,MAAM,UAAU;AACvB,aAAO,KAAK,MAAM,SAAS,UAAU,KAAK,SAAY,KAAK;AAAA,IAC7D;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,eAAe,CAAC,UAAoC;AAClD,UAAM,KAAK,MAAM,YAAY;AAC7B,UAAM,WAAW,KAAK,UAAU,SAAS,EAAE;AAE3C,QAAI,MAAM,YAAY,OAAO,aAAa,WAAW,CAAC,UAAU;AAC9D,YAAM,gBAAgB;AAAA,IACxB;AACA,UAAM,eAAe;AAAA,EACvB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO,KAAK,MAAM;AAAA,QAC9B,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,WAAW,WAAW;AAAA,UACpB,wBAAwB;AAAA,UACxB,8BAA8B,KAAK,MAAM;AAAA,UACzC,yBAAyB,KAAK,MAAM;AAAA,QACtC,CAAC;AAAA,QACD,SAAS,KAAK;AAAA,QAEb;AAAA,eAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,aAAa,KAAK;AAAA,cAClB,WAAW,KAAK,MAAM;AAAA;AAAA,UACxB,GACF;AAAA,UAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,UAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,UACA,oBAAC,SAAI,WAAU,gCAA+B,KAAK,QAAM,KAAK,WAAW,IACtE,eAAK,MAAM,UACd;AAAA,UACC,KAAK,MAAM,aACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,cAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,UACxC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"48ac53a19fbb7fbd4fa4e9374748c221d8264cc9"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return uo=function(){return a},a}uo();class oa extends Mn.Component{constructor(n){uo().f[0]++,uo().s[1]++;super(n);on(this,"_blockEl",(uo().s[0]++,null));on(this,"onToggleDoc",(uo().s[6]++,n=>{uo().f[2]++,uo().s[7]++,this.setState({showDoc:n})}));on(this,"onLabelClick",(uo().s[8]++,n=>{var o;uo().f[3]++;const r=(uo().s[9]++,n.nativeEvent.target),i=(uo().s[10]++,(o=this._blockEl)==null?void 0:o.contains(r));uo().s[11]++,uo().b[3][0]++,n.nativeEvent.target.nodeName!=="INPUT"&&(uo().b[3][1]++,!i)?(uo().b[2][0]++,uo().s[12]++,n.stopPropagation()):uo().b[2][1]++,uo().s[13]++,n.preventDefault()}));uo().s[2]++,this.state={showDoc:!1}}onChange(n){uo().f[1]++;const r=(uo().s[3]++,n.target.value);if(uo().s[4]++,this.props.onChange)return uo().b[0][0]++,uo().s[5]++,this.props.onChange(r===""?(uo().b[1][0]++,void 0):(uo().b[1][1]++,r));uo().b[0][1]++}render(){return uo().f[4]++,uo().s[14]++,G.jsxs("label",{style:this.props.style,"data-wd-key":this.props["data-wd-key"],className:Gf({"maputnik-input-block":!0,"maputnik-input-block--wide":this.props.wideMode,"maputnik-action-block":this.props.action}),onClick:this.onLabelClick,children:[(uo().b[4][0]++,this.props.fieldSpec&&(uo().b[4][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:G.jsx(bI,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(uo().b[5][0]++,!this.props.fieldSpec&&(uo().b[5][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),G.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),G.jsx("div",{className:"maputnik-input-block-content",ref:n=>(uo().f[5]++,uo().s[15]++,this._blockEl=n),children:this.props.children}),(uo().b[6][0]++,this.props.fieldSpec&&(uo().b[6][1]++,G.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(uo().b[7][0]++,""):(uo().b[7][1]++,"none")},children:G.jsx(xI,{fieldSpec:this.props.fieldSpec})})))]})}}function Fu(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",t="1b99a181d4a9dd7b629113889cbb71c3a4bb4d42",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx",statementMap:{0:{start:{line:5,column:18},end:{line:5,column:36}},1:{start:{line:6,column:4},end:{line:8,column:5}},2:{start:{line:7,column:6},end:{line:7,column:43}},3:{start:{line:7,column:35},end:{line:7,column:41}},4:{start:{line:9,column:4},end:{line:21,column:6}},5:{start:{line:17,column:25},end:{line:17,column:60}},6:{start:{line:19,column:64},end:{line:19,column:115}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:22,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:35},end:{line:7,column:41}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:17,column:60}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:64},end:{line:19,column:115}},line:19}},branchMap:{0:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:6,column:8},end:{line:6,column:56}},type:"binary-expr",locations:[{start:{line:6,column:8},end:{line:6,column:26}},{start:{line:6,column:30},end:{line:6,column:56}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSelect.tsx"],names:[],mappings:"AA4BsC;AA5BtC,OAAO,WAAW;AAYlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IACrC;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM,aAAa;AAAA,QACrC,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,OAAO,KAAK,MAAM;AAAA,QAClB,UAAU,OAAK,KAAK,MAAM,SAAS,EAAE,OAAO,KAAK;AAAA,QACjD,cAAY,KAAK,MAAM,YAAY;AAAA,QAEjC,kBAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,oBAAC,YAAiB,OAAO,KAAM,mBAAlB,GAAwB,CAAS;AAAA;AAAA,IAChF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b99a181d4a9dd7b629113889cbb71c3a4bb4d42"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fu=function(){return a},a}Fu();class H1 extends Mn.Component{render(){Fu().f[0]++;let t=(Fu().s[0]++,this.props.options);return Fu().s[1]++,Fu().b[1][0]++,t.length>0&&(Fu().b[1][1]++,!Array.isArray(t[0]))?(Fu().b[0][0]++,Fu().s[2]++,t=t.map(n=>(Fu().f[1]++,Fu().s[3]++,[n,n]))):Fu().b[0][1]++,Fu().s[4]++,G.jsx("select",{className:"maputnik-select","data-wd-key":this.props["data-wd-key"],style:this.props.style,title:this.props.title,value:this.props.value,onChange:n=>(Fu().f[2]++,Fu().s[5]++,this.props.onChange(n.target.value)),"aria-label":this.props["aria-label"],children:t.map(([n,r])=>(Fu().f[3]++,Fu().s[6]++,G.jsx("option",{value:n,children:r},n)))})}}function ti(){var e="/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",t="7edd0434d5570710fce0bf88d87716b3e75434c4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputString.tsx",statementMap:{0:{start:{line:3,column:24},end:{line:6,column:3}},1:{start:{line:8,column:4},end:{line:8,column:17}},2:{start:{line:9,column:4},end:{line:12,column:6}},3:{start:{line:15,column:4},end:{line:19,column:5}},4:{start:{line:16,column:6},end:{line:18,column:8}},5:{start:{line:20,column:4},end:{line:20,column:14}},6:{start:{line:25,column:4},end:{line:36,column:5}},7:{start:{line:26,column:6},end:{line:26,column:23}},8:{start:{line:27,column:6},end:{line:30,column:8}},9:{start:{line:32,column:6},end:{line:32,column:20}},10:{start:{line:33,column:6},end:{line:35,column:8}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:48}},13:{start:{line:40,column:4},end:{line:72,column:7}},14:{start:{line:51,column:8},end:{line:57,column:11}},15:{start:{line:55,column:10},end:{line:56,column:49}},16:{start:{line:56,column:12},end:{line:56,column:49}},17:{start:{line:60,column:8},end:{line:64,column:9}},18:{start:{line:61,column:10},end:{line:61,column:44}},19:{start:{line:62,column:10},end:{line:63,column:50}},20:{start:{line:63,column:12},end:{line:63,column:50}},21:{start:{line:67,column:8},end:{line:69,column:9}},22:{start:{line:68,column:10},end:{line:68,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:19},end:{line:5,column:5}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:21},end:{line:13,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:48},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:73,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:23},end:{line:58,column:7}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:54,column:11},end:{line:54,column:12}},loc:{start:{line:54,column:17},end:{line:57,column:9}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:14},end:{line:59,column:15}},loc:{start:{line:59,column:20},end:{line:65,column:7}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:17},end:{line:66,column:18}},loc:{start:{line:66,column:24},end:{line:70,column:7}},line:66}},branchMap:{0:{loc:{start:{line:11,column:13},end:{line:11,column:30}},type:"binary-expr",locations:[{start:{line:11,column:13},end:{line:11,column:24}},{start:{line:11,column:28},end:{line:11,column:30}}],line:11},1:{loc:{start:{line:15,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:19,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:25,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:36,column:5}},{start:{line:31,column:11},end:{line:36,column:5}}],line:25},3:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},4:{loc:{start:{line:43,column:18},end:{line:43,column:125}},type:"cond-expr",locations:[{start:{line:43,column:83},end:{line:43,column:104}},{start:{line:43,column:107},end:{line:43,column:125}}],line:43},5:{loc:{start:{line:47,column:13},end:{line:47,column:64}},type:"cond-expr",locations:[{start:{line:47,column:43},end:{line:47,column:45}},{start:{line:47,column:48},end:{line:47,column:64}}],line:47},6:{loc:{start:{line:55,column:10},end:{line:56,column:49}},type:"if",locations:[{start:{line:55,column:10},end:{line:56,column:49}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},7:{loc:{start:{line:60,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:64,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},8:{loc:{start:{line:62,column:10},end:{line:63,column:50}},type:"if",locations:[{start:{line:62,column:10},end:{line:63,column:50}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},9:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},10:{loc:{start:{line:67,column:12},end:{line:67,column:51}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:28}},{start:{line:67,column:32},end:{line:67,column:51}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputString.tsx"],names:[],mappings:"AAAA,OAAO,WAAW;AAsBlB,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,OAAO,MAAM,SAAS;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,SAAS;AAClB,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,MACf;AAAA,IACF;AACA,WAAO,CAAC;AAAA,EACV;AAAA,EAEA,SAAS;AACP,QAAI;AACJ,QAAI;AAEJ,QAAG,KAAK,MAAM,OAAO;AACnB,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,QACA;AAAA,MACF;AAAA,IACF,OACK;AACH,YAAM;AACN,gBAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAEA,QAAG,KAAK,MAAM,UAAU;AACtB,cAAQ,KAAK,2BAA2B;AAAA,IAC1C;AAEA,WAAO,MAAM,cAAc,KAAK;AAAA,MAC9B,cAAc,KAAK,MAAM,YAAY;AAAA,MACrC,eAAe,KAAK,MAAM,aAAa;AAAA,MACvC,YAAY,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,YAAY,IAAI,KAAK,MAAM,aAAa,EAAE,QAAQ;AAAA,MAC/G,UAAU,KAAK,MAAM;AAAA,MACrB,WAAW,QAAQ,KAAK,GAAG;AAAA,MAC3B,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM,UAAU,SAAY,KAAK,KAAK,MAAM;AAAA,MACxD,aAAa,KAAK,MAAM;AAAA,MACxB,OAAO,KAAK,MAAM;AAAA,MAClB,UAAU,CAAC,MAA2E;AACpF,aAAK,SAAS;AAAA,UACZ,SAAS;AAAA,UACT,OAAO,EAAE,OAAO;AAAA,QAClB,GAAG,MAAM;AACP,cAAI,KAAK,MAAM;AAAS,iBAAK,MAAM,QAAQ,KAAK,MAAM,KAAK;AAAA,QAC7D,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,MAAM;AACZ,YAAG,KAAK,MAAM,UAAQ,KAAK,MAAM,OAAO;AACtC,eAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,cAAI,KAAK,MAAM;AAAU,iBAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,WAAW,CAAC,MAAM;AAChB,YAAI,EAAE,YAAY,MAAM,KAAK,MAAM,UAAU;AAC3C,eAAK,MAAM,SAAS,KAAK,MAAM,KAAK;AAAA,QACtC;AAAA,MACF;AAAA,MACA,UAAU,KAAK,MAAM;AAAA,IACvB,CAAC;AAAA,EACH;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7edd0434d5570710fce0bf88d87716b3e75434c4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ti=function(){return a},a}ti();class $d extends Mn.Component{constructor(t){ti().f[1]++,ti().s[1]++,super(t),ti().s[2]++,this.state={editing:!1,value:(ti().b[0][0]++,t.value||(ti().b[0][1]++,""))}}static getDerivedStateFromProps(t,n){if(ti().f[2]++,ti().s[3]++,n.editing)ti().b[1][1]++;else return ti().b[1][0]++,ti().s[4]++,{value:t.value};return ti().s[5]++,{}}render(){ti().f[3]++;let t,n;return ti().s[6]++,this.props.multi?(ti().b[2][0]++,ti().s[7]++,t="textarea",ti().s[8]++,n=["maputnik-string","maputnik-string--multi"]):(ti().b[2][1]++,ti().s[9]++,t="input",ti().s[10]++,n=["maputnik-string"]),ti().s[11]++,this.props.disabled?(ti().b[3][0]++,ti().s[12]++,n.push("maputnik-string--disabled")):ti().b[3][1]++,ti().s[13]++,Mn.createElement(t,{"aria-label":this.props["aria-label"],"data-wd-key":this.props["data-wd-key"],spellCheck:Object.prototype.hasOwnProperty.call(this.props,"spellCheck")?(ti().b[4][0]++,this.props.spellCheck):(ti().b[4][1]++,t!=="input"),disabled:this.props.disabled,className:n.join(" "),style:this.props.style,value:this.state.value===void 0?(ti().b[5][0]++,""):(ti().b[5][1]++,this.state.value),placeholder:this.props.default,title:this.props.title,onChange:r=>{ti().f[4]++,ti().s[14]++,this.setState({editing:!0,value:r.target.value},()=>{ti().f[5]++,ti().s[15]++,this.props.onInput?(ti().b[6][0]++,ti().s[16]++,this.props.onInput(this.state.value)):ti().b[6][1]++})},onBlur:()=>{ti().f[6]++,ti().s[17]++,this.state.value!==this.props.value?(ti().b[7][0]++,ti().s[18]++,this.setState({editing:!1}),ti().s[19]++,this.props.onChange?(ti().b[8][0]++,ti().s[20]++,this.props.onChange(this.state.value)):ti().b[8][1]++):ti().b[7][1]++},onKeyDown:r=>{ti().f[7]++,ti().s[21]++,ti().b[10][0]++,r.keyCode===13&&(ti().b[10][1]++,this.props.onChange)?(ti().b[9][0]++,ti().s[22]++,this.props.onChange(this.state.value)):ti().b[9][1]++},required:this.props.required})}}on($d,"defaultProps",(ti().s[0]++,{onInput:()=>{ti().f[0]++}}));function kp(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",t="1b7060ffc75823b83956b34c84f8d7f711912270",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx",statementMap:{0:{start:{line:8,column:24},end:{line:10,column:3}},1:{start:{line:12,column:4},end:{line:48,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:49,column:3}},line:11}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:26,column:11}},type:"binary-expr",locations:[{start:{line:20,column:10},end:{line:20,column:29}},{start:{line:20,column:49},end:{line:26,column:11}}],line:20},1:{loc:{start:{line:27,column:10},end:{line:45,column:11}},type:"binary-expr",locations:[{start:{line:27,column:10},end:{line:27,column:30}},{start:{line:27,column:50},end:{line:45,column:11}}],line:27}},s:{0:0,1:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldType.tsx"],names:[],mappings:"AAqBW,SAKH,KALG;AArBX,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAUxB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,UAAU;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAQ,WAAW,OAAO,MAAM;AAAA,QACnD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAEjB;AAAA,eAAK,MAAM,YACV;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU;AAAA;AAAA,UACZ;AAAA,UAED,CAAC,KAAK,MAAM,YACX;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,gBACP,CAAC,cAAc,YAAY;AAAA,gBAC3B,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,QAAQ,MAAM;AAAA,gBACf,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,UAAU,QAAQ;AAAA,gBACnB,CAAC,kBAAkB,gBAAgB;AAAA,gBACnC,CAAC,aAAa,WAAW;AAAA,gBACzB,CAAC,WAAW,SAAS;AAAA,cACvB;AAAA,cACA,UAAU,KAAK,MAAM;AAAA,cACrB,OAAO,KAAK,MAAM;AAAA,cAClB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,UAClC;AAAA;AAAA;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b7060ffc75823b83956b34c84f8d7f711912270"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return kp=function(){return a},a}kp();class wI extends Mn.Component{render(){return kp().f[0]++,kp().s[1]++,G.jsxs(oa,{label:"Type",fieldSpec:no.layer.type,"data-wd-key":this.props.wdKey,error:this.props.error,children:[(kp().b[0][0]++,this.props.disabled&&(kp().b[0][1]++,G.jsx($d,{value:this.props.value,disabled:!0}))),(kp().b[1][0]++,!this.props.disabled&&(kp().b[1][1]++,G.jsx(H1,{options:[["background","Background"],["fill","Fill"],["line","Line"],["symbol","Symbol"],["raster","Raster"],["circle","Circle"],["fill-extrusion","Fill Extrusion"],["hillshade","Hillshade"],["heatmap","Heatmap"]],onChange:this.props.onChange,value:this.props.value,"data-wd-key":this.props.wdKey+".select"})))]})}}on(wI,"defaultProps",(kp().s[0]++,{disabled:!1}));function H4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",t="a7d93cb2f79962c714e16c8b482f49de057b0cb8",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:24,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:25,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldId.tsx"],names:[],mappings:"AAmBM;AAnBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AASxB,qBAAqB,gBAAgB,MAAM,UAAwB;AAAA,EACjE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAM,WAAW,OAAO,MAAM;AAAA,QACjD,eAAa,KAAK,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,SAAS,KAAK,MAAM;AAAA,YACpB,eAAa,KAAK,MAAM,QAAQ;AAAA;AAAA,QAClC;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7d93cb2f79962c714e16c8b482f49de057b0cb8"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return H4=function(){return a},a}H4();class lG extends Mn.Component{render(){return H4().f[0]++,H4().s[0]++,G.jsx(oa,{label:"ID",fieldSpec:no.layer.id,"data-wd-key":this.props.wdKey,error:this.props.error,children:G.jsx($d,{value:this.props.value,onInput:this.props.onChange,"data-wd-key":this.props.wdKey+".input"})})}}var uG={exports:{}},n0e=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function r0e(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function AG(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if(typeof n!="number"){var i=e.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function nB(e){return AG(e)}function rB(e){return AG(e,!0)}function cG(e){var t=r0e(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=nB(r),t.top+=rB(r),t}function i0e(e,t,n){var r="",i=e.ownerDocument;return(n=n||i.defaultView.getComputedStyle(e,null))&&(r=n.getPropertyValue(t)||n[t]),r}var o0e=new RegExp("^("+n0e+")(?!px)[a-z%]+$","i"),a0e=/^(top|right|bottom|left)$/,l6="currentStyle",u6="runtimeStyle",Y0="left",s0e="px";function l0e(e,t){var n=e[l6]&&e[l6][t];if(o0e.test(n)&&!a0e.test(t)){var r=e.style,i=r[Y0],o=e[u6][Y0];e[u6][Y0]=e[l6][Y0],r[Y0]=t==="fontSize"?"1em":n||0,n=r.pixelLeft+s0e,r[Y0]=i,e[u6][Y0]=o}return n===""?"auto":n}var z1;typeof window<"u"&&(z1=window.getComputedStyle?i0e:l0e);function u0e(e,t){Qy(e,"position")==="static"&&(e.style.position="relative");var n=cG(e),r={},i,o;for(o in t)i=parseFloat(Qy(e,o))||0,r[o]=i+t[o]-n[o];Qy(e,r)}function MI(e,t){for(var n=0;n<e.length;n++)t(e[n])}function dG(e){return z1(e,"boxSizing")==="border-box"}var A0e=["margin","border","padding"],iB=-1,c0e=2,oB=1,d0e=0;function h0e(e,t,n){var r={},i=e.style,o;for(o in t)r[o]=i[o],i[o]=t[o];n.call(e);for(o in t)i[o]=r[o]}function X_(e,t,n){var r=0,i,o,a;for(o=0;o<t.length;o++)if(i=t[o],i)for(a=0;a<n.length;a++){var s;i==="border"?s=i+n[a]+"Width":s=i+n[a],r+=parseFloat(z1(e,s))||0}return r}function g3(e){return e!=null&&e==e.window}var Df={};MI(["Width","Height"],function(e){Df["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],Df["viewport"+e](n))},Df["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement,a=o[n];return r.compatMode==="CSS1Compat"&&a||i&&i[n]||a}});function hK(e,t,n){if(g3(e))return t==="width"?Df.viewportWidth(e):Df.viewportHeight(e);if(e.nodeType===9)return t==="width"?Df.docWidth(e):Df.docHeight(e);var r=t==="width"?["Left","Right"]:["Top","Bottom"],i=t==="width"?e.offsetWidth:e.offsetHeight;z1(e);var o=dG(e),a=0;(i==null||i<=0)&&(i=void 0,a=z1(e,t),(a==null||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),n===void 0&&(n=o?oB:iB);var s=i!==void 0||o,h=i||a;return n===iB?s?h-X_(e,["border","padding"],r):a:s?h+(n===oB?0:n===c0e?-X_(e,["border"],r):X_(e,["margin"],r)):a+X_(e,A0e.slice(n),r)}var f0e={position:"absolute",visibility:"hidden",display:"block"};function fK(e){var t,n=arguments;return e.offsetWidth!==0?t=hK.apply(void 0,n):h0e(e,f0e,function(){t=hK.apply(void 0,n)}),t}MI(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Df["outer"+t]=function(r,i){return r&&fK(r,e,i?d0e:oB)};var n=e==="width"?["Left","Right"]:["Top","Bottom"];Df[e]=function(r,i){if(i!==void 0){if(r){z1(r);var o=dG(r);return o&&(i+=X_(r,["padding","border"],n)),Qy(r,e,i)}return}return r&&fK(r,e,iB)}});function Qy(e,t,n){if(typeof t=="object"){for(var r in t)Qy(e,r,t[r]);return}if(typeof n<"u")typeof n=="number"&&(n=n+"px"),e.style[t]=n;else return z1(e,t)}function hG(e,t){for(var n in t)e[n]=t[n];return e}var fG=uG.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(typeof t<"u")u0e(e,t);else return cG(e)},isWindow:g3,each:MI,css:Qy,clone:function(e){var t={};for(var n in e)t[n]=e[n];var r=e.overflow;if(r)for(n in e)t.overflow[n]=e.overflow[n];return t},mix:hG,scrollLeft:function(e,t){if(g3(e)){if(t===void 0)return nB(e);window.scrollTo(t,rB(e))}else{if(t===void 0)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(g3(e)){if(t===void 0)return rB(e);window.scrollTo(nB(e),t)}else{if(t===void 0)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)fG.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};hG(fG,Df);var p0e=uG.exports,Za=p0e;function m0e(e,t,n){n=n||{},t.nodeType===9&&(t=Za.getWindow(t));var r=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,o=n.alignWithTop,a=n.alignWithLeft;r=r===void 0?!0:r;var s=Za.isWindow(t),h=Za.offset(e),g=Za.outerHeight(e),_=Za.outerWidth(e),E,O,K,D,Y,ee,H,N,Z,ue;s?(H=t,ue=Za.height(H),Z=Za.width(H),N={left:Za.scrollLeft(H),top:Za.scrollTop(H)},Y={left:h.left-N.left,top:h.top-N.top},ee={left:h.left+_-(N.left+Z),top:h.top+g-(N.top+ue)},D=N):(E=Za.offset(t),O=t.clientHeight,K=t.clientWidth,D={left:t.scrollLeft,top:t.scrollTop},Y={left:h.left-(E.left+(parseFloat(Za.css(t,"borderLeftWidth"))||0)),top:h.top-(E.top+(parseFloat(Za.css(t,"borderTopWidth"))||0))},ee={left:h.left+_-(E.left+K+(parseFloat(Za.css(t,"borderRightWidth"))||0)),top:h.top+g-(E.top+O+(parseFloat(Za.css(t,"borderBottomWidth"))||0))}),Y.top<0||ee.top>0?o===!0?Za.scrollTop(t,D.top+Y.top):o===!1?Za.scrollTop(t,D.top+ee.top):Y.top<0?Za.scrollTop(t,D.top+Y.top):Za.scrollTop(t,D.top+ee.top):i||(o=o===void 0?!0:!!o,o?Za.scrollTop(t,D.top+Y.top):Za.scrollTop(t,D.top+ee.top)),r&&(Y.left<0||ee.left>0?a===!0?Za.scrollLeft(t,D.left+Y.left):a===!1?Za.scrollLeft(t,D.left+ee.left):Y.left<0?Za.scrollLeft(t,D.left+Y.left):Za.scrollLeft(t,D.left+ee.left):i||(a=a===void 0?!0:!!a,a?Za.scrollLeft(t,D.left+Y.left):Za.scrollLeft(t,D.left+ee.left)))}var g0e=m0e,y0e=g0e,y3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C0e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function b0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s1=Ir,kl=Fh,x0e=g0,pK=x0e.findDOMNode,w0e=y0e,M0e=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];function S0e(){return{x:window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}var Ow=function(e){b0e(t,e);function t(n){_0e(this,t);var r=C0e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.state={isOpen:!1,highlightedIndex:null},r._debugStates=[],r.ensureHighlightedIndex=r.ensureHighlightedIndex.bind(r),r.exposeAPI=r.exposeAPI.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleChange=r.handleChange.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.maybeAutoCompleteText=r.maybeAutoCompleteText.bind(r),r}return v0e(t,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(r){this.state.highlightedIndex!==null&&this.setState(this.ensureHighlightedIndex),r.autoHighlight&&(this.props.value!==r.value||this.state.highlightedIndex===null)&&this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(r,i){(this.state.isOpen&&!i.isOpen||"open"in this.props&&this.props.open&&!r.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),i.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(r){var i=this;this.refs.input=r,M0e.forEach(function(o){return i[o]=r&&r[o]&&r[o].bind(r)})}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&this.state.highlightedIndex!==null){var r=this.refs["item-"+this.state.highlightedIndex],i=this.refs.menu;w0e(pK(r),pK(i),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(r){t.keyDownHandlers[r.key]?t.keyDownHandlers[r.key].call(this,r):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(r){this.props.onChange(r,r.target.value)}},{key:"getFilteredItems",value:function(r){var i=r.items;return r.shouldItemRender&&(i=i.filter(function(o){return r.shouldItemRender(o,r.value)})),r.sortItems&&i.sort(function(o,a){return r.sortItems(o,a,r.value)}),i}},{key:"maybeAutoCompleteText",value:function(r,i){for(var o=r.highlightedIndex,a=i.value,s=i.getItemValue,h=o===null?0:o,g=this.getFilteredItems(i),_=0;_<g.length&&!i.isItemSelectable(g[h]);_++)h=(h+1)%g.length;var E=g[h]&&i.isItemSelectable(g[h])?g[h]:null;if(a!==""&&E){var O=s(E),K=O.toLowerCase().indexOf(a.toLowerCase())===0;if(K)return{highlightedIndex:h}}return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(r,i){if(r.highlightedIndex>=this.getFilteredItems(i).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var r=this.refs.input,i=r.getBoundingClientRect(),o=window.window.getComputedStyle(r),a=parseInt(o.marginBottom,10)||0,s=parseInt(o.marginLeft,10)||0,h=parseInt(o.marginRight,10)||0;this.setState({menuTop:i.bottom+a,menuLeft:i.left+s,menuWidth:i.width+s+h})}},{key:"highlightItemFromMouse",value:function(r){this.setState({highlightedIndex:r})}},{key:"selectItemFromMouse",value:function(r){var i=this,o=this.props.getItemValue(r);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},function(){i.props.onSelect(o,r)})}},{key:"setIgnoreBlur",value:function(r){this._ignoreBlur=r}},{key:"renderMenu",value:function(){var r=this,i=this.getFilteredItems(this.props).map(function(s,h){var g=r.props.renderItem(s,r.state.highlightedIndex===h,{cursor:"default"});return s1.cloneElement(g,{onMouseEnter:r.props.isItemSelectable(s)?function(){return r.highlightItemFromMouse(h)}:null,onClick:r.props.isItemSelectable(s)?function(){return r.selectItemFromMouse(s)}:null,ref:function(E){return r.refs["item-"+h]=E}})}),o={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},a=this.props.renderMenu(i,this.props.value,o);return s1.cloneElement(a,{ref:function(h){return r.refs.menu=h},onTouchStart:function(){return r.setIgnoreBlur(!0)},onMouseEnter:function(){return r.setIgnoreBlur(!0)},onMouseLeave:function(){return r.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(r){var i=this;if(this._ignoreBlur){this._ignoreFocus=!0,this._scrollOffset=S0e(),this.refs.input.focus();return}var o=void 0,a=this.state.highlightedIndex;if(this.props.selectOnBlur&&a!==null){var s=this.getFilteredItems(this.props),h=s[a],g=this.props.getItemValue(h);o=function(){return i.props.onSelect(g,h)}}this.setState({isOpen:!1,highlightedIndex:null},o);var _=this.props.inputProps.onBlur;_&&_(r)}},{key:"handleInputFocus",value:function(r){var i=this;if(this._ignoreFocus){this._ignoreFocus=!1;var o=this._scrollOffset,a=o.x,s=o.y;this._scrollOffset=null,window.scrollTo(a,s),clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout(function(){i._scrollTimer=null,window.scrollTo(a,s)},0);return}this.setState({isOpen:!0});var h=this.props.inputProps.onFocus;h&&h(r)}},{key:"isInputFocused",value:function(){var r=this.refs.input;return r.ownerDocument&&r===r.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(r,i){return i?function(o){r(o),i(o)}:r}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var r=this.props.inputProps,i=this.isOpen();return s1.createElement("div",y3({style:y3({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(y3({},r,{role:"combobox","aria-autocomplete":"list","aria-expanded":i,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,r.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,r.onClick),value:this.props.value})),i&&this.renderMenu(),this.props.debug&&s1.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),t}(s1.Component);Ow.propTypes={items:kl.array.isRequired,value:kl.any,onChange:kl.func,onSelect:kl.func,shouldItemRender:kl.func,isItemSelectable:kl.func,sortItems:kl.func,getItemValue:kl.func.isRequired,renderItem:kl.func.isRequired,renderMenu:kl.func,menuStyle:kl.object,renderInput:kl.func,inputProps:kl.object,wrapperProps:kl.object,wrapperStyle:kl.object,autoHighlight:kl.bool,selectOnBlur:kl.bool,onMenuVisibilityChange:kl.func,open:kl.bool,debug:kl.bool};Ow.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(t){return s1.createElement("input",t)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(t,n,r){return s1.createElement("div",{style:y3({},r,this.menuStyle),children:t})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}};Ow.keyDownHandlers={ArrowDown:function(t){t.preventDefault();var n=this.getFilteredItems(this.props);if(n.length){for(var r=this.state.highlightedIndex,i=r===null?-1:r,o=0;o<n.length;o++){var a=(i+o+1)%n.length;if(this.props.isItemSelectable(n[a])){i=a;break}}i>-1&&i!==r&&this.setState({highlightedIndex:i,isOpen:!0})}},ArrowUp:function(t){t.preventDefault();var n=this.getFilteredItems(this.props);if(n.length){for(var r=this.state.highlightedIndex,i=r===null?n.length:r,o=0;o<n.length;o++){var a=(i-(1+o)+n.length)%n.length;if(this.props.isItemSelectable(n[a])){i=a;break}}i!==n.length&&this.setState({highlightedIndex:i,isOpen:!0})}},Enter:function(t){var n=this;if(t.keyCode===13)if(this.setIgnoreBlur(!1),this.isOpen())if(this.state.highlightedIndex==null)this.setState({isOpen:!1},function(){n.refs.input.select()});else{t.preventDefault();var r=this.getFilteredItems(this.props)[this.state.highlightedIndex],i=this.props.getItemValue(r);this.setState({isOpen:!1,highlightedIndex:null},function(){n.refs.input.setSelectionRange(i.length,i.length),n.props.onSelect(i,r)})}else return},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}};var E0e=Ow;const O0e=Ba(E0e);function Yi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",t="6ef9facf9aeabdae687b5aca973710969d826d60",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx",statementMap:{0:{start:{line:5,column:19},end:{line:5,column:22}},1:{start:{line:7,column:10},end:{line:9,column:3}},2:{start:{line:10,column:23},end:{line:10,column:27}},3:{start:{line:11,column:24},end:{line:15,column:3}},4:{start:{line:17,column:4},end:{line:25,column:5}},5:{start:{line:18,column:24},end:{line:18,column:96}},6:{start:{line:19,column:31},end:{line:19,column:62}},7:{start:{line:20,column:6},end:{line:24,column:7}},8:{start:{line:21,column:8},end:{line:23,column:11}},9:{start:{line:28,column:4},end:{line:28,column:25}},10:{start:{line:31,column:4},end:{line:31,column:25}},11:{start:{line:34,column:4},end:{line:34,column:47}},12:{start:{line:37,column:4},end:{line:86,column:6}},13:{start:{line:41,column:10},end:{line:41,column:39}},14:{start:{line:63,column:36},end:{line:63,column:43}},15:{start:{line:64,column:29},end:{line:64,column:45}},16:{start:{line:65,column:33},end:{line:65,column:49}},17:{start:{line:67,column:14},end:{line:69,column:15}},18:{start:{line:68,column:16},end:{line:68,column:79}},19:{start:{line:70,column:14},end:{line:70,column:27}},20:{start:{line:72,column:65},end:{line:82,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:14},end:{line:12,column:15}},loc:{start:{line:12,column:20},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:18},end:{line:26,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:22},end:{line:29,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:23},end:{line:32,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:14},end:{line:35,column:3}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:87,column:3}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:21},end:{line:42,column:9}},line:40},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:36},end:{line:63,column:43}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:64,column:22},end:{line:64,column:23}},loc:{start:{line:64,column:29},end:{line:64,column:45}},line:64},9:{name:"(anonymous_9)",decl:{start:{line:65,column:22},end:{line:65,column:23}},loc:{start:{line:65,column:33},end:{line:65,column:49}},line:65},10:{name:"(anonymous_10)",decl:{start:{line:66,column:30},end:{line:66,column:31}},loc:{start:{line:66,column:52},end:{line:71,column:13}},line:66},11:{name:"(anonymous_11)",decl:{start:{line:72,column:24},end:{line:72,column:25}},loc:{start:{line:72,column:65},end:{line:82,column:13}},line:72}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},1:{loc:{start:{line:20,column:6},end:{line:24,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:24,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:34,column:24},end:{line:34,column:45}},type:"cond-expr",locations:[{start:{line:34,column:35},end:{line:34,column:41}},{start:{line:34,column:44},end:{line:34,column:45}}],line:34},3:{loc:{start:{line:66,column:37},end:{line:66,column:47}},type:"default-arg",locations:[{start:{line:66,column:45},end:{line:66,column:47}}],line:66},4:{loc:{start:{line:67,column:14},end:{line:69,column:15}},type:"if",locations:[{start:{line:67,column:14},end:{line:69,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputAutocomplete.tsx"],names:[],mappings:"AAsFU;AAtFV,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,kBAAkB;AAGzB,MAAM,aAAa;AAUnB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,QAAQ;AAAA,IACN,WAAW;AAAA,EACb;AAAA,EAEA,qBAA4C;AAAA,EAE5C,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,gBAAgB;AACd,QAAG,KAAK,MAAM,4BAA4B;AACxC,YAAM,YAAY,OAAO,cAAc,KAAK,mBAAoB,sBAAsB,EAAE;AACxF,YAAM,mBAAmB,KAAK,IAAI,WAAW,UAAU;AAEvD,UAAG,oBAAoB,KAAK,MAAM,WAAW;AAC3C,aAAK,SAAS;AAAA,UACZ,WAAW;AAAA,QACb,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,qBAAqB;AACnB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,SAAS,GAAW;AAClB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,KAAK,CAAC,OAAO;AACX,eAAK,qBAAqB;AAAA,QAC5B;AAAA,QAEA;AAAA,UAAC;AAAA;AAAA,YACC,WAAW;AAAA,cACT,UAAU;AAAA,cACV,UAAU;AAAA,cACV,WAAW,KAAK,MAAM;AAAA,cACtB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,WAAW;AAAA,cACX,OAAO,CAAC;AAAA,YACV;AAAA,YACA,YAAY;AAAA,cACV,cAAc,KAAK,MAAM,YAAY;AAAA,cACrC,WAAW;AAAA,cACX,YAAY;AAAA,YACd;AAAA,YACA,OAAO,KAAK,MAAM;AAAA,YAClB,OAAO,KAAK,MAAM;AAAA,YAClB,cAAc,CAAC,SAAS,KAAK,CAAC;AAAA,YAC9B,UAAU,OAAK,KAAK,SAAS,CAAC;AAAA,YAC9B,UAAU,CAAC,IAAI,MAAM,KAAK,SAAS,CAAC;AAAA,YACpC,kBAAkB,CAAC,MAAM,QAAM,OAAO;AACpC,kBAAI,OAAO,UAAW,UAAU;AAC9B,uBAAO,KAAK,CAAC,EAAE,YAAY,EAAE,QAAQ,MAAM,YAAY,CAAC,IAAI;AAAA,cAC9D;AACA,qBAAO;AAAA,YACT;AAAA,YACA,YAAY,CAAC,MAAM,kBACjB;AAAA,cAAC;AAAA;AAAA,gBAEC,WAAW,WAAW;AAAA,kBACpB,mCAAmC;AAAA,kBACnC,4CAA4C;AAAA,gBAC9C,CAAC;AAAA,gBAEA,eAAK,CAAC;AAAA;AAAA,cANF,KAAK,CAAC;AAAA,YAOb;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6ef9facf9aeabdae687b5aca973710969d826d60"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Yi=function(){return a},a}Yi();const mK=(Yi().s[0]++,140);class kv extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Yi().s[1]++,{maxHeight:mK}));on(this,"autocompleteMenuEl",(Yi().s[2]++,null))}calcMaxHeight(){if(Yi().f[1]++,Yi().s[4]++,this.props.keepMenuWithinWindowBounds){Yi().b[0][0]++;const n=(Yi().s[5]++,window.innerHeight-this.autocompleteMenuEl.getBoundingClientRect().top),r=(Yi().s[6]++,Math.min(n,mK));Yi().s[7]++,r!=this.state.maxHeight?(Yi().b[1][0]++,Yi().s[8]++,this.setState({maxHeight:r})):Yi().b[1][1]++}else Yi().b[0][1]++}componentDidMount(){Yi().f[2]++,Yi().s[9]++,this.calcMaxHeight()}componentDidUpdate(){Yi().f[3]++,Yi().s[10]++,this.calcMaxHeight()}onChange(n){Yi().f[4]++,Yi().s[11]++,this.props.onChange(n===""?(Yi().b[2][0]++,void 0):(Yi().b[2][1]++,n))}render(){return Yi().f[5]++,Yi().s[12]++,G.jsx("div",{ref:n=>{Yi().f[6]++,Yi().s[13]++,this.autocompleteMenuEl=n},children:G.jsx(O0e,{menuStyle:{position:"fixed",overflow:"auto",maxHeight:this.state.maxHeight,zIndex:"998"},wrapperProps:{className:"maputnik-autocomplete",style:{}},inputProps:{"aria-label":this.props["aria-label"],className:"maputnik-string",spellCheck:!1},value:this.props.value,items:this.props.options,getItemValue:n=>(Yi().f[7]++,Yi().s[14]++,n[0]),onSelect:n=>(Yi().f[8]++,Yi().s[15]++,this.onChange(n)),onChange:(n,r)=>(Yi().f[9]++,Yi().s[16]++,this.onChange(r)),shouldItemRender:(n,r=(Yi().b[3][0]++,""))=>(Yi().f[10]++,Yi().s[17]++,typeof r=="string"?(Yi().b[4][0]++,Yi().s[18]++,n[0].toLowerCase().indexOf(r.toLowerCase())>-1):(Yi().b[4][1]++,Yi().s[19]++,!1)),renderItem:(n,r)=>(Yi().f[11]++,Yi().s[20]++,G.jsx("div",{className:Gf({"maputnik-autocomplete-menu-item":!0,"maputnik-autocomplete-menu-item-selected":r}),children:n[1]},n[0]))})})}}on(kv,"defaultProps",(Yi().s[3]++,{onChange:()=>{Yi().f[0]++},options:[]}));function Km(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",t="44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:11,column:3}},1:{start:{line:13,column:4},end:{line:29,column:6}},2:{start:{line:25,column:56},end:{line:25,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:11},end:{line:30,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:25,column:47},end:{line:25,column:48}},loc:{start:{line:25,column:56},end:{line:25,column:66}},line:25}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSource.tsx"],names:[],mappings:"AA2BM;AA3BN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,WAAW,CAAC;AAAA,EACd;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM;AAAA,QACxB,OAAO,KAAK,MAAM;AAAA,QAClB,eAAa,KAAK,MAAM;AAAA,QAExB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,WAAW,IAAI,SAAO,CAAC,KAAK,GAAG,CAAC;AAAA;AAAA,QACtD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"44fb815ce2e11a9e460bc73a5ffbca69a1bcff3c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Km=function(){return a},a}Km();class SI extends Mn.Component{render(){var t;return Km().f[1]++,Km().s[1]++,G.jsx(oa,{label:"Source",fieldSpec:no.layer.source,error:this.props.error,"data-wd-key":this.props.wdKey,children:G.jsx(kv,{value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceIds)==null?void 0:t.map(n=>(Km().f[2]++,Km().s[2]++,[n,n]))})})}}on(SI,"defaultProps",(Km().s[0]++,{onChange:()=>{Km().f[0]++},sourceIds:[]}));function Dm(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",t="f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:12,column:3}},1:{start:{line:14,column:4},end:{line:31,column:6}},2:{start:{line:27,column:59},end:{line:27,column:65}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:14},end:{line:8,column:15}},loc:{start:{line:8,column:20},end:{line:9,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:32,column:3}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:27,column:52},end:{line:27,column:53}},loc:{start:{line:27,column:59},end:{line:27,column:65}},line:27}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSourceLayer.tsx"],names:[],mappings:"AA4BM;AA5BN,OAAO,WAAW;AAElB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAU9B,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,OAAO,eAAe;AAAA,IACpB,UAAU,MAAM;AAAA,IAAC;AAAA,IACjB,gBAAgB,CAAC;AAAA,IACjB,SAAS;AAAA,EACX;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,MAAM,cAAc;AAAA,QACtC,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,4BAA4B,CAAC,CAAC,KAAK,MAAM;AAAA,YACzC,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAS,KAAK,MAAM,gBAAgB,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,QACrD;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2bf4f193e0e44eb8c2b4f31458a3cde7f5305bd"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Dm=function(){return a},a}Dm();class EI extends Mn.Component{render(){var t;return Dm().f[1]++,Dm().s[1]++,G.jsx(oa,{label:"Source Layer",fieldSpec:Ea.layer["source-layer"],"data-wd-key":"layer-source-layer",error:this.props.error,children:G.jsx(kv,{keepMenuWithinWindowBounds:!!this.props.isFixed,value:this.props.value,onChange:this.props.onChange,options:(t=this.props.sourceLayerIds)==null?void 0:t.map(n=>(Dm().f[2]++,Dm().s[2]++,[n,n]))})})}}on(EI,"defaultProps",(Dm().s[0]++,{onChange:()=>{Dm().f[0]++},sourceLayerIds:[],isFixed:!1}));function cr(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",t="a7785e30671066cb83402b9013479a4548583811",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx",statementMap:{0:{start:{line:10,column:13},end:{line:25,column:3}},1:{start:{line:11,column:26},end:{line:11,column:52}},2:{start:{line:12,column:18},end:{line:15,column:5}},3:{start:{line:16,column:4},end:{line:21,column:5}},4:{start:{line:17,column:6},end:{line:17,column:39}},5:{start:{line:18,column:6},end:{line:20,column:7}},6:{start:{line:19,column:8},end:{line:19,column:59}},7:{start:{line:22,column:4},end:{line:22,column:30}},8:{start:{line:23,column:4},end:{line:23,column:45}},9:{start:{line:24,column:4},end:{line:24,column:35}},10:{start:{line:27,column:4},end:{line:27,column:17}},11:{start:{line:28,column:18},end:{line:31,column:5}},12:{start:{line:32,column:4},end:{line:35,column:5}},13:{start:{line:33,column:6},end:{line:33,column:56}},14:{start:{line:34,column:6},end:{line:34,column:66}},15:{start:{line:36,column:4},end:{line:36,column:23}},16:{start:{line:39,column:20},end:{line:39,column:34}},17:{start:{line:40,column:20},end:{line:40,column:35}},18:{start:{line:41,column:32},end:{line:41,column:56}},19:{start:{line:42,column:32},end:{line:42,column:56}},20:{start:{line:43,column:4},end:{line:50,column:5}},21:{start:{line:47,column:6},end:{line:49,column:9}},22:{start:{line:53,column:22},end:{line:53,column:54}},23:{start:{line:54,column:4},end:{line:54,column:34}},24:{start:{line:57,column:20},end:{line:57,column:22}},25:{start:{line:58,column:18},end:{line:78,column:5}},26:{start:{line:79,column:4},end:{line:84,column:5}},27:{start:{line:80,column:22},end:{line:80,column:30}},28:{start:{line:81,column:6},end:{line:83,column:7}},29:{start:{line:82,column:8},end:{line:82,column:26}},30:{start:{line:85,column:4},end:{line:85,column:19}},31:{start:{line:88,column:20},end:{line:88,column:52}},32:{start:{line:89,column:19},end:{line:89,column:61}},33:{start:{line:90,column:4},end:{line:146,column:6}},34:{start:{line:105,column:16},end:{line:105,column:41}},35:{start:{line:114,column:31},end:{line:114,column:57}},36:{start:{line:123,column:31},end:{line:123,column:59}},37:{start:{line:132,column:31},end:{line:132,column:67}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:13},end:{line:10,column:14}},loc:{start:{line:10,column:19},end:{line:25,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:21},end:{line:37,column:3}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:44},end:{line:51,column:3}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:29},end:{line:55,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:19},end:{line:86,column:3}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:11},end:{line:147,column:3}},line:87},6:{name:"(anonymous_6)",decl:{start:{line:104,column:24},end:{line:104,column:25}},loc:{start:{line:104,column:31},end:{line:106,column:15}},line:104},7:{name:"(anonymous_7)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:31},end:{line:114,column:57}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:123,column:24},end:{line:123,column:25}},loc:{start:{line:123,column:31},end:{line:123,column:59}},line:123},9:{name:"(anonymous_9)",decl:{start:{line:132,column:24},end:{line:132,column:25}},loc:{start:{line:132,column:31},end:{line:132,column:67}},line:132}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:18,column:6},end:{line:20,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:20,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},2:{loc:{start:{line:18,column:10},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:10},end:{line:18,column:38}},{start:{line:18,column:42},end:{line:18,column:68}}],line:18},3:{loc:{start:{line:32,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:35,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:32},4:{loc:{start:{line:43,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},5:{loc:{start:{line:45,column:6},end:{line:45,column:160}},type:"binary-expr",locations:[{start:{line:45,column:6},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:52}},{start:{line:45,column:56},end:{line:45,column:106}},{start:{line:45,column:110},end:{line:45,column:160}}],line:45},6:{loc:{start:{line:53,column:22},end:{line:53,column:54}},type:"binary-expr",locations:[{start:{line:53,column:22},end:{line:53,column:48}},{start:{line:53,column:52},end:{line:53,column:54}}],line:53},7:{loc:{start:{line:54,column:11},end:{line:54,column:33}},type:"binary-expr",locations:[{start:{line:54,column:11},end:{line:54,column:27}},{start:{line:54,column:31},end:{line:54,column:33}}],line:54},8:{loc:{start:{line:81,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:81,column:6},end:{line:83,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},9:{loc:{start:{line:81,column:10},end:{line:81,column:61}},type:"binary-expr",locations:[{start:{line:81,column:10},end:{line:81,column:24}},{start:{line:81,column:28},end:{line:81,column:61}}],line:81},10:{loc:{start:{line:117,column:10},end:{line:125,column:11}},type:"binary-expr",locations:[{start:{line:117,column:10},end:{line:117,column:42}},{start:{line:117,column:62},end:{line:125,column:11}}],line:117},11:{loc:{start:{line:126,column:10},end:{line:134,column:11}},type:"binary-expr",locations:[{start:{line:126,column:10},end:{line:126,column:87}},{start:{line:126,column:107},end:{line:134,column:11}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalAdd.tsx"],names:[],mappings:"AAyIM,SACE,KADF;AAzIN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAmB7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,WAAW,MAAM;AACf,UAAM,gBAAgB,KAAK,MAAM,OAAO,MAAM,CAAC;AAC/C,UAAM,QAAuB;AAAA,MAC3B,IAAI,KAAK,MAAM;AAAA,MACf,MAAM,KAAK,MAAM;AAAA,IACnB;AAEA,QAAG,KAAK,MAAM,SAAS,cAAc;AACnC,YAAM,SAAS,KAAK,MAAM;AAC1B,UAAG,KAAK,MAAM,SAAS,YAAY,KAAK,MAAM,cAAc,GAAG;AAC7D,cAAM,cAAc,IAAI,KAAK,MAAM,cAAc;AAAA,MACnD;AAAA,IACF;AAEA,kBAAc,KAAK,KAA2B;AAE9C,SAAK,MAAM,eAAe,aAAa;AACvC,SAAK,MAAM,aAAa,KAAK;AAAA,EAC/B;AAAA,EAEA,YAAY,OAAsB;AAChC,UAAM,KAAK;AACX,UAAM,QAAuB;AAAA,MAC3B,MAAM;AAAA,MACN,IAAI;AAAA,IACN;AAEA,QAAG,MAAM,QAAQ,SAAS,GAAG;AAC3B,YAAM,SAAS,OAAO,KAAK,KAAK,MAAM,OAAO,EAAE,CAAC;AAChD,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,MAAM,MAAwC,EAAE,CAAC;AAAA,IAC9F;AACA,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,mBAAmB,YAA2B,WAA0B;AAEtE,UAAM,UAAU,UAAU;AAC1B,UAAM,UAAU,KAAK,MAAM;AAE3B,UAAM,sBAAsB,KAAK,WAAW,OAAO;AACnD,UAAM,sBAAsB,KAAK,WAAW,OAAO;AAEnD;AAAA;AAAA,MAEE,YAAY,WACT,UAAU,WAAW,MAErB,oBAAoB,QAAQ,UAAU,MAAO,IAAI,MAEjD,oBAAoB,QAAQ,KAAK,MAAM,MAAO,IAAI;AAAA,MACrD;AAEA,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,QAAgB;AACjC,UAAM,YAAY,KAAK,MAAM,QAAQ,MAAM,KAAK,CAAC;AACjD,WAAO,UAAU,UAAU,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,MAAc;AACvB,UAAM,UAAU,CAAC;AAEjB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,SAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAEA,eAAU,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,OAAO,GAAU;AACjE,YAAM,UAAU,IAAI;AACpB,UAAG,MAAM,OAAO,KAAK,MAAM,OAAO,EAAE,QAAQ,IAAI,IAAI,IAAI;AACtD,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA,EAGA,SAAS;AACP,UAAM,UAAU,KAAK,WAAW,KAAK,MAAM,IAAI;AAC/C,UAAM,SAAS,KAAK,mBAAmB,KAAK,MAAM,MAAO;AAEzD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,eAAY;AAAA,QACZ,WAAU;AAAA,QAEV,+BAAC,SAAI,WAAU,sBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAc;AACvB,qBAAK,SAAS,EAAE,IAAI,EAAE,CAAC;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM;AAAA,cAClB,OAAM;AAAA,cACN,UAAU,CAAC,MAAkC,KAAK,SAAS,EAAE,MAAM,EAAE,CAAC;AAAA;AAAA,UACxE;AAAA,UACC,KAAK,MAAM,SAAS,gBACvB;AAAA,YAAC;AAAA;AAAA,cACC,WAAW;AAAA,cACX,OAAM;AAAA,cACN,OAAO,KAAK,MAAM;AAAA,cAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC;AAAA;AAAA,UACtD;AAAA,UAEG,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,IAAI,IAAI,KAC/E;AAAA,YAAC;AAAA;AAAA,cACC,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO,KAAK,MAAM,cAAc;AAAA,cAChC,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,gBAAgB,EAAE,CAAC;AAAA;AAAA,UAC9D;AAAA,UAEE;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,eAAY;AAAA,cACb;AAAA;AAAA,UAED;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7785e30671066cb83402b9013479a4548583811"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return cr=function(){return a},a}cr();class B0e extends Mn.Component{constructor(n){cr().f[1]++,cr().s[10]++;super(n);on(this,"addLayer",(cr().s[0]++,()=>{cr().f[0]++;const n=(cr().s[1]++,this.props.layers.slice(0)),r=(cr().s[2]++,{id:this.state.id,type:this.state.type});cr().s[3]++,this.state.type!=="background"?(cr().b[0][0]++,cr().s[4]++,r.source=this.state.source,cr().s[5]++,cr().b[2][0]++,this.state.type!=="raster"&&(cr().b[2][1]++,this.state["source-layer"])?(cr().b[1][0]++,cr().s[6]++,r["source-layer"]=this.state["source-layer"]):cr().b[1][1]++):cr().b[0][1]++,cr().s[7]++,n.push(r),cr().s[8]++,this.props.onLayersChange(n),cr().s[9]++,this.props.onOpenToggle(!1)}));const r=(cr().s[11]++,{type:"fill",id:""});cr().s[12]++,n.sources.length>0?(cr().b[3][0]++,cr().s[13]++,r.source=Object.keys(this.props.sources)[0],cr().s[14]++,r["source-layer"]=this.props.sources[r.source][0]):cr().b[3][1]++,cr().s[15]++,this.state=r}componentDidUpdate(n,r){cr().f[2]++;const i=(cr().s[16]++,r.type),o=(cr().s[17]++,this.state.type),a=(cr().s[18]++,this.getSources(i)),s=(cr().s[19]++,this.getSources(o));cr().s[20]++,cr().b[5][0]++,i!==o&&(cr().b[5][1]++,r.source!=="")&&(cr().b[5][2]++,a.indexOf(r.source)>-1)&&(cr().b[5][3]++,s.indexOf(this.state.source)<0)?(cr().b[4][0]++,cr().s[21]++,this.setState({source:""})):cr().b[4][1]++}getLayersForSource(n){cr().f[3]++;const r=(cr().s[22]++,cr().b[6][0]++,this.props.sources[n]||(cr().b[6][1]++,{}));return cr().s[23]++,cr().b[7][0]++,r.layers||(cr().b[7][1]++,[])}getSources(n){cr().f[4]++;const r=(cr().s[24]++,[]),i=(cr().s[25]++,{vector:["fill","line","symbol","circle","fill-extrusion","heatmap"],raster:["raster"],geojson:["fill","line","symbol","circle","fill-extrusion","heatmap"]});cr().s[26]++;for(const[o,a]of Object.entries(this.props.sources)){const s=(cr().s[27]++,a.type);cr().s[28]++,cr().b[9][0]++,i[s]&&(cr().b[9][1]++,i[s].indexOf(n)>-1)?(cr().b[8][0]++,cr().s[29]++,r.push(o)):cr().b[8][1]++}return cr().s[30]++,r}render(){cr().f[5]++;const n=(cr().s[31]++,this.getSources(this.state.type)),r=(cr().s[32]++,this.getLayersForSource(this.state.source));return cr().s[33]++,G.jsx(Hf,{isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Add Layer","data-wd-key":"modal:add-layer",className:"maputnik-add-modal",children:G.jsxs("div",{className:"maputnik-add-layer",children:[G.jsx(lG,{value:this.state.id,wdKey:"add-layer.layer-id",onChange:i=>{cr().f[6]++,cr().s[34]++,this.setState({id:i})}}),G.jsx(wI,{value:this.state.type,wdKey:"add-layer.layer-type",onChange:i=>(cr().f[7]++,cr().s[35]++,this.setState({type:i}))}),(cr().b[10][0]++,this.state.type!=="background"&&(cr().b[10][1]++,G.jsx(SI,{sourceIds:n,wdKey:"add-layer.layer-source-block",value:this.state.source,onChange:i=>(cr().f[8]++,cr().s[36]++,this.setState({source:i}))}))),(cr().b[11][0]++,["background","raster","hillshade","heatmap"].indexOf(this.state.type)<0&&(cr().b[11][1]++,G.jsx(EI,{isFixed:!0,sourceLayerIds:r,value:this.state["source-layer"],onChange:i=>(cr().f[9]++,cr().s[37]++,this.setState({"source-layer":i}))}))),G.jsx(ja,{className:"maputnik-add-layer-button",onClick:this.addLayer,"data-wd-key":"add-layer",children:"Add Layer"})]})})}}function g1(){var e="/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",t="a991ed6da2a27b46f1adbb88a645aa2ee0df375e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts",statementMap:{0:{start:{line:1,column:10},end:{line:1,column:11}},1:{start:{line:3,column:2},end:{line:3,column:8}},2:{start:{line:4,column:2},end:{line:4,column:22}}},fnMap:{0:{name:"generateUniqueId",decl:{start:{line:2,column:24},end:{line:2,column:40}},loc:{start:{line:2,column:54},end:{line:5,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:41},end:{line:2,column:52}},type:"default-arg",locations:[{start:{line:2,column:50},end:{line:2,column:52}}],line:2}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/document-uid.ts"],names:[],mappings:"AAGA,IAAI,MAAM;AAEV,wBAAwB,iBAAiB,SAAO,IAAI;AAClD;AACA,SAAO,SAAO;AAChB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a991ed6da2a27b46f1adbb88a645aa2ee0df375e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return g1=function(){return a},a}g1();let gK=(g1().s[0]++,0);function fv(e=(g1().b[0][0]++,"")){return g1().f[0]++,g1().s[1]++,gK++,g1().s[2]++,e+gK}function oi(){var e="/home/runner/work/maputnik/maputnik/src/libs/layer.ts",t="8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layer.ts",statementMap:{0:{start:{line:3,column:28},end:{line:3,column:46}},1:{start:{line:4,column:2},end:{line:8,column:5}},2:{start:{line:5,column:4},end:{line:7,column:5}},3:{start:{line:6,column:6},end:{line:6,column:45}},4:{start:{line:9,column:29},end:{line:9,column:48}},5:{start:{line:10,column:2},end:{line:14,column:5}},6:{start:{line:11,column:4},end:{line:13,column:5}},7:{start:{line:12,column:6},end:{line:12,column:46}},8:{start:{line:15,column:2},end:{line:20,column:4}},9:{start:{line:23,column:2},end:{line:59,column:3}},10:{start:{line:24,column:4},end:{line:43,column:5}},11:{start:{line:25,column:23},end:{line:31,column:7}},12:{start:{line:32,column:6},end:{line:32,column:39}},13:{start:{line:33,column:6},end:{line:35,column:7}},14:{start:{line:34,column:8},end:{line:34,column:31}},15:{start:{line:36,column:6},end:{line:36,column:22}},16:{start:{line:38,column:23},end:{line:40,column:7}},17:{start:{line:41,column:6},end:{line:41,column:32}},18:{start:{line:42,column:6},end:{line:42,column:22}},19:{start:{line:45,column:4},end:{line:58,column:5}},20:{start:{line:46,column:6},end:{line:52,column:8}},21:{start:{line:54,column:6},end:{line:57,column:8}},22:{start:{line:62,column:2},end:{line:62,column:64}},23:{start:{line:65,column:29},end:{line:65,column:56}},24:{start:{line:66,column:19},end:{line:66,column:22}},25:{start:{line:67,column:2},end:{line:74,column:3}},26:{start:{line:67,column:15},end:{line:67,column:18}},27:{start:{line:68,column:32},end:{line:68,column:61}},28:{start:{line:69,column:4},end:{line:73,column:5}},29:{start:{line:70,column:6},end:{line:70,column:25}},30:{start:{line:72,column:6},end:{line:72,column:24}},31:{start:{line:75,column:2},end:{line:75,column:20}}},fnMap:{0:{name:"changeType",decl:{start:{line:2,column:16},end:{line:2,column:26}},loc:{start:{line:2,column:43},end:{line:21,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:41},end:{line:4,column:42}},loc:{start:{line:4,column:59},end:{line:8,column:3}},line:4},2:{name:"(anonymous_2)",decl:{start:{line:10,column:42},end:{line:10,column:43}},loc:{start:{line:10,column:60},end:{line:14,column:3}},line:10},3:{name:"changeProperty",decl:{start:{line:22,column:16},end:{line:22,column:30}},loc:{start:{line:22,column:65},end:{line:60,column:1}},line:22},4:{name:"layerPrefix",decl:{start:{line:61,column:16},end:{line:61,column:27}},loc:{start:{line:61,column:34},end:{line:63,column:1}},line:61},5:{name:"findClosestCommonPrefix",decl:{start:{line:64,column:16},end:{line:64,column:39}},loc:{start:{line:64,column:53},end:{line:76,column:1}},line:64}},branchMap:{0:{loc:{start:{line:5,column:4},end:{line:7,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:7,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:5},1:{loc:{start:{line:11,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:13,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:23,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:59,column:3}},{start:{line:44,column:9},end:{line:59,column:3}}],line:23},3:{loc:{start:{line:24,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:43,column:5}},{start:{line:37,column:11},end:{line:43,column:5}}],line:24},4:{loc:{start:{line:33,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:35,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},5:{loc:{start:{line:45,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:58,column:5}},{start:{line:53,column:11},end:{line:58,column:5}}],line:45},6:{loc:{start:{line:69,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:73,column:5}},{start:{line:71,column:11},end:{line:73,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layer.ts"],names:[],mappings:"AAAA,SAAQ,cAAa;AAGd,gBAAS,WAAW,OAA2B,SAAiB;AACrE,QAAM,oBAAiD,EAAE,GAAG,MAAM,MAAM;AACxE,SAAO,KAAK,iBAAiB,EAAE,QAAQ,kBAAgB;AACrD,QAAG,EAAE,gBAAgB,OAAO,WAAW,OAAO,IAAI;AAChD,aAAO,kBAAkB,YAAiD;AAAA,IAC5E;AAAA,EACF,CAAC;AAED,QAAM,qBAAmD,EAAE,GAAG,MAAM,OAAO;AAC3E,SAAO,KAAK,kBAAkB,EAAE,QAAQ,kBAAgB;AACtD,QAAG,EAAE,gBAAgB,OAAO,YAAY,OAAO,IAAI;AACjD,aAAO,mBAAmB,YAAkD;AAAA,IAC9E;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,EACR;AACF;AAKO,gBAAS,eAAe,OAA2B,OAAwC,UAAkB,UAAe;AAEjI,MAAG,aAAa,QAAW;AACzB,QAAG,OAAO;AACR,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA;AAAA,QAEH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,QAChB;AAAA,MACF;AACA,aAAO,SAAS,KAAK,EAAE,QAAQ;AAG/B,UAAG,OAAO,KAAK,SAAS,KAAK,CAAC,EAAE,SAAS,GAAG;AAC1C,eAAO,SAAS,KAAK;AAAA,MACvB;AACA,aAAO;AAAA,IACT,OAAO;AACL,YAAM,WAAgB;AAAA,QACpB,GAAG;AAAA,MACL;AACA,aAAO,SAAS,QAAQ;AACxB,aAAO;AAAA,IACT;AAAA,EACF,OACK;AACH,QAAG,OAAO;AACR,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,KAAK,GAAG;AAAA,UACP,GAAG,MAAM,KAAK;AAAA,UACd,CAAC,QAAQ,GAAG;AAAA,QACd;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AAAA,EACF;AACF;AAEO,gBAAS,YAAY,MAAc;AACxC,SAAO,KAAK,QAAQ,KAAK,GAAG,EAAE,QAAQ,KAAK,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9D;AAEO,gBAAS,wBAAwB,QAA8B,KAAa;AACjF,QAAM,qBAAqB,YAAY,OAAO,GAAG,EAAE,EAAE;AACrD,MAAI,aAAa;AACjB,WAAS,IAAI,KAAK,IAAI,GAAG,KAAK;AAC5B,UAAM,sBAAsB,YAAY,OAAO,IAAE,CAAC,EAAE,EAAE;AACtD,QAAG,wBAAwB,oBAAoB;AAC7C,mBAAa,IAAI;AAAA,IACnB,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d7d71e3a97c0e4b8cc5fd0ca26b8fdf4aa2aa36"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return oi=function(){return a},a}oi();function I0e(e,t){oi().f[0]++;const n=(oi().s[0]++,{...e.paint});oi().s[1]++,Object.keys(n).forEach(i=>{oi().f[1]++,oi().s[2]++,i in Ea["paint_"+t]?oi().b[0][1]++:(oi().b[0][0]++,oi().s[3]++,delete n[i])});const r=(oi().s[4]++,{...e.layout});return oi().s[5]++,Object.keys(r).forEach(i=>{oi().f[2]++,oi().s[6]++,i in Ea["layout_"+t]?oi().b[1][1]++:(oi().b[1][0]++,oi().s[7]++,delete r[i])}),oi().s[8]++,{...e,paint:n,layout:r,type:t}}function k0e(e,t,n,r){if(oi().f[3]++,oi().s[9]++,r===void 0)if(oi().b[2][0]++,oi().s[10]++,t){oi().b[3][0]++;const i=(oi().s[11]++,{...e,[t]:{...e[t]}});return oi().s[12]++,delete i[t][n],oi().s[13]++,Object.keys(i[t]).length<1?(oi().b[4][0]++,oi().s[14]++,delete i[t]):oi().b[4][1]++,oi().s[15]++,i}else{oi().b[3][1]++;const i=(oi().s[16]++,{...e});return oi().s[17]++,delete i[n],oi().s[18]++,i}else return oi().b[2][1]++,oi().s[19]++,t?(oi().b[5][0]++,oi().s[20]++,{...e,[t]:{...e[t],[n]:r}}):(oi().b[5][1]++,oi().s[21]++,{...e,[n]:r})}function wy(e){return oi().f[4]++,oi().s[22]++,e.replace(" ","-").replace("_","-").split("-")[0]}function T0e(e,t){oi().f[5]++;const n=(oi().s[23]++,wy(e[t].id));let r=(oi().s[24]++,t);oi().s[25]++;for(let i=(oi().s[26]++,t);i>0;i--){const o=(oi().s[27]++,wy(e[i-1].id));if(oi().s[28]++,o===n)oi().b[6][0]++,oi().s[29]++,r=i-1;else return oi().b[6][1]++,oi().s[30]++,r}return oi().s[31]++,r}function qt(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",t="a7cd6405e81ca6260ef85d5394a18c33340b5775",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx",statementMap:{0:{start:{line:12,column:24},end:{line:15,column:3}},1:{start:{line:19,column:4},end:{line:19,column:17}},2:{start:{line:20,column:4},end:{line:20,column:45}},3:{start:{line:21,column:4},end:{line:21,column:48}},4:{start:{line:22,column:4},end:{line:31,column:6}},5:{start:{line:34,column:4},end:{line:43,column:7}},6:{start:{line:45,column:17},end:{line:62,column:3}},7:{start:{line:46,column:14},end:{line:46,column:15}},8:{start:{line:47,column:22},end:{line:47,column:24}},9:{start:{line:48,column:4},end:{line:57,column:7}},10:{start:{line:49,column:26},end:{line:49,column:51}},11:{start:{line:50,column:24},end:{line:50,column:52}},12:{start:{line:51,column:6},end:{line:53,column:7}},13:{start:{line:52,column:8},end:{line:52,column:63}},14:{start:{line:54,column:6},end:{line:56,column:9}},15:{start:{line:55,column:8},end:{line:55,column:17}},16:{start:{line:58,column:4},end:{line:61,column:7}},17:{start:{line:64,column:19},end:{line:64,column:21}},18:{start:{line:65,column:41},end:{line:65,column:50}},19:{start:{line:66,column:4},end:{line:83,column:5}},20:{start:{line:66,column:17},end:{line:66,column:18}},21:{start:{line:67,column:24},end:{line:67,column:44}},22:{start:{line:68,column:28},end:{line:68,column:52}},23:{start:{line:69,column:6},end:{line:72,column:8}},24:{start:{line:73,column:20},end:{line:76,column:7}},25:{start:{line:77,column:6},end:{line:82,column:7}},26:{start:{line:78,column:26},end:{line:78,column:51}},27:{start:{line:79,column:8},end:{line:79,column:30}},28:{start:{line:81,column:8},end:{line:81,column:29}},29:{start:{line:84,column:4},end:{line:84,column:18}},30:{start:{line:87,column:22},end:{line:87,column:50}},31:{start:{line:88,column:22},end:{line:88,column:55}},32:{start:{line:89,column:4},end:{line:93,column:5}},33:{start:{line:90,column:6},end:{line:90,column:68}},34:{start:{line:92,column:6},end:{line:92,column:35}},35:{start:{line:94,column:4},end:{line:96,column:7}},36:{start:{line:99,column:22},end:{line:99,column:78}},37:{start:{line:100,column:4},end:{line:100,column:51}},38:{start:{line:103,column:4},end:{line:105,column:5}},39:{start:{line:104,column:6},end:{line:104,column:18}},40:{start:{line:107,column:18},end:{line:109,column:7}},41:{start:{line:110,column:6},end:{line:114,column:7}},42:{start:{line:111,column:8},end:{line:113,column:10}},43:{start:{line:115,column:6},end:{line:115,column:17}},44:{start:{line:117,column:24},end:{line:120,column:5}},45:{start:{line:122,column:18},end:{line:124,column:7}},46:{start:{line:125,column:6},end:{line:125,column:27}},47:{start:{line:126,column:6},end:{line:126,column:17}},48:{start:{line:128,column:23},end:{line:131,column:5}},49:{start:{line:132,column:25},end:{line:132,column:53}},50:{start:{line:133,column:4},end:{line:133,column:24}},51:{start:{line:136,column:4},end:{line:152,column:5}},52:{start:{line:137,column:31},end:{line:137,column:59}},53:{start:{line:138,column:6},end:{line:151,column:7}},54:{start:{line:139,column:23},end:{line:139,column:44}},55:{start:{line:140,column:24},end:{line:143,column:9}},56:{start:{line:144,column:25},end:{line:149,column:19}},57:{start:{line:145,column:10},end:{line:145,column:37}},58:{start:{line:146,column:10},end:{line:148,column:11}},59:{start:{line:147,column:12},end:{line:147,column:36}},60:{start:{line:150,column:8},end:{line:150,column:33}},61:{start:{line:155,column:22},end:{line:155,column:24}},62:{start:{line:156,column:14},end:{line:156,column:15}},63:{start:{line:157,column:26},end:{line:157,column:46}},64:{start:{line:158,column:4},end:{line:209,column:7}},65:{start:{line:159,column:26},end:{line:159,column:51}},66:{start:{line:160,column:6},end:{line:173,column:7}},67:{start:{line:161,column:36},end:{line:171,column:9}},68:{start:{line:165,column:47},end:{line:165,column:52}},69:{start:{line:172,column:8},end:{line:172,column:28}},70:{start:{line:174,column:6},end:{line:208,column:9}},71:{start:{line:175,column:25},end:{line:175,column:72}},72:{start:{line:176,column:27},end:{line:178,column:10}},73:{start:{line:177,column:10},end:{line:177,column:97}},74:{start:{line:179,column:32},end:{line:179,column:34}},75:{start:{line:180,column:8},end:{line:182,column:9}},76:{start:{line:181,column:10},end:{line:181,column:53}},77:{start:{line:183,column:41},end:{line:205,column:9}},78:{start:{line:206,column:8},end:{line:206,column:33}},79:{start:{line:207,column:8},end:{line:207,column:17}},80:{start:{line:210,column:4},end:{line:262,column:6}},81:{start:{line:265,column:35},end:{line:265,column:118}},82:{start:{line:265,column:80},end:{line:265,column:117}},83:{start:{line:268,column:4},end:{line:277,column:6}},84:{start:{line:275,column:33},end:{line:275,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:25},end:{line:14,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:21},end:{line:32,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:44,column:3}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:45,column:17},end:{line:45,column:18}},loc:{start:{line:45,column:23},end:{line:62,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:48,column:33},end:{line:48,column:34}},loc:{start:{line:48,column:45},end:{line:57,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:54,column:21},end:{line:54,column:22}},loc:{start:{line:54,column:33},end:{line:56,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:85,column:3}},line:63},7:{name:"(anonymous_7)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:37},end:{line:97,column:3}},line:86},8:{name:"(anonymous_8)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:32},end:{line:101,column:3}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:46},end:{line:134,column:3}},line:102},10:{name:"getRequiredProps",decl:{start:{line:106,column:13},end:{line:106,column:29}},loc:{start:{line:106,column:37},end:{line:116,column:5}},line:106},11:{name:"withoutLayers",decl:{start:{line:121,column:13},end:{line:121,column:26}},loc:{start:{line:121,column:34},end:{line:127,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:32},end:{line:153,column:3}},line:135},13:{name:"(anonymous_13)",decl:{start:{line:144,column:50},end:{line:144,column:51}},loc:{start:{line:144,column:63},end:{line:149,column:9}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:154,column:2},end:{line:154,column:3}},loc:{start:{line:154,column:11},end:{line:263,column:3}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:158,column:26},end:{line:158,column:27}},loc:{start:{line:158,column:38},end:{line:209,column:5}},line:158},16:{name:"(anonymous_16)",decl:{start:{line:165,column:40},end:{line:165,column:41}},loc:{start:{line:165,column:47},end:{line:165,column:52}},line:165},17:{name:"(anonymous_17)",decl:{start:{line:174,column:21},end:{line:174,column:22}},loc:{start:{line:174,column:44},end:{line:208,column:7}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:176,column:50},end:{line:176,column:51}},loc:{start:{line:176,column:61},end:{line:178,column:9}},line:176},19:{name:"(anonymous_19)",decl:{start:{line:265,column:53},end:{line:265,column:54}},loc:{start:{line:265,column:80},end:{line:265,column:117}},line:265},20:{name:"(anonymous_20)",decl:{start:{line:267,column:2},end:{line:267,column:3}},loc:{start:{line:267,column:11},end:{line:278,column:3}},line:267},21:{name:"(anonymous_21)",decl:{start:{line:275,column:27},end:{line:275,column:28}},loc:{start:{line:275,column:33},end:{line:275,column:38}},line:275}},branchMap:{0:{loc:{start:{line:51,column:6},end:{line:53,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:53,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},1:{loc:{start:{line:71,column:8},end:{line:71,column:79}},type:"cond-expr",locations:[{start:{line:71,column:41},end:{line:71,column:75}},{start:{line:71,column:78},end:{line:71,column:79}}],line:71},2:{loc:{start:{line:77,column:6},end:{line:82,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:82,column:7}},{start:{line:80,column:13},end:{line:82,column:7}}],line:77},3:{loc:{start:{line:77,column:10},end:{line:77,column:81}},type:"binary-expr",locations:[{start:{line:77,column:10},end:{line:77,column:23}},{start:{line:77,column:27},end:{line:77,column:81}}],line:77},4:{loc:{start:{line:89,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:89},5:{loc:{start:{line:100,column:11},end:{line:100,column:50}},type:"cond-expr",locations:[{start:{line:100,column:34},end:{line:100,column:38}},{start:{line:100,column:41},end:{line:100,column:50}}],line:100},6:{loc:{start:{line:103,column:4},end:{line:105,column:5}},type:"if",locations:[{start:{line:103,column:4},end:{line:105,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:103},7:{loc:{start:{line:110,column:6},end:{line:114,column:7}},type:"if",locations:[{start:{line:110,column:6},end:{line:114,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:110},8:{loc:{start:{line:132,column:27},end:{line:132,column:52}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:38}},{start:{line:132,column:42},end:{line:132,column:52}}],line:132},9:{loc:{start:{line:136,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:136,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},10:{loc:{start:{line:138,column:6},end:{line:151,column:7}},type:"if",locations:[{start:{line:138,column:6},end:{line:151,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},11:{loc:{start:{line:138,column:10},end:{line:138,column:51}},type:"binary-expr",locations:[{start:{line:138,column:10},end:{line:138,column:26}},{start:{line:138,column:30},end:{line:138,column:51}}],line:138},12:{loc:{start:{line:146,column:10},end:{line:148,column:11}},type:"if",locations:[{start:{line:146,column:10},end:{line:148,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},13:{loc:{start:{line:146,column:14},end:{line:146,column:68}},type:"binary-expr",locations:[{start:{line:146,column:14},end:{line:146,column:32}},{start:{line:146,column:36},end:{line:146,column:68}}],line:146},14:{loc:{start:{line:160,column:6},end:{line:173,column:7}},type:"if",locations:[{start:{line:160,column:6},end:{line:173,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},15:{loc:{start:{line:167,column:22},end:{line:167,column:98}},type:"binary-expr",locations:[{start:{line:167,column:22},end:{line:167,column:57}},{start:{line:167,column:61},end:{line:167,column:98}}],line:167},16:{loc:{start:{line:177,column:17},end:{line:177,column:96}},type:"binary-expr",locations:[{start:{line:177,column:17},end:{line:177,column:29}},{start:{line:177,column:33},end:{line:177,column:62}},{start:{line:177,column:66},end:{line:177,column:96}}],line:177},17:{loc:{start:{line:180,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:180,column:8},end:{line:182,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:180},18:{loc:{start:{line:187,column:52},end:{line:187,column:153}},type:"binary-expr",locations:[{start:{line:187,column:52},end:{line:187,column:69}},{start:{line:187,column:73},end:{line:187,column:112}},{start:{line:187,column:116},end:{line:187,column:153}}],line:187},19:{loc:{start:{line:188,column:53},end:{line:188,column:105}},type:"binary-expr",locations:[{start:{line:188,column:53},end:{line:188,column:84}},{start:{line:188,column:88},end:{line:188,column:105}}],line:188},20:{loc:{start:{line:196,column:25},end:{line:196,column:43}},type:"binary-expr",locations:[{start:{line:196,column:25},end:{line:196,column:37}},{start:{line:196,column:41},end:{line:196,column:43}}],line:196},21:{loc:{start:{line:239,column:26},end:{line:239,column:90}},type:"cond-expr",locations:[{start:{line:239,column:69},end:{line:239,column:79}},{start:{line:239,column:82},end:{line:239,column:90}}],line:239}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0,0],19:[0,0],20:[0,0],21:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerList.tsx"],names:[],mappings:"AAiNoB,cAkEd,YAlEc;AAjNpB,OAAO,WAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,YAAY;AAEnB,OAAO,oBAAoB;AAC3B,OAAO,mBAAmB;AAC1B,OAAO,cAAc;AAErB,SAAwB,yBAAwB;AAEhD,OAAO,sBAAsB;AAC7B,SAAS,yBAAyB,mBAAmB;AAsBrD,MAAM,2BAA2B,MAAM,UAA4D;AAAA,EACjG,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAAgC;AAC1C,UAAM,KAAK;AACX,SAAK,kBAAkB,MAAM,UAAU;AACvC,SAAK,qBAAqB,MAAM,UAAU;AAC1C,SAAK,QAAQ;AAAA,MACX,iBAAiB,CAAC;AAAA,MAClB,sBAAsB;AAAA,MACtB,MAAM;AAAA,QACJ,KAAK,CAAC,iBAAiB;AAAA,MACzB;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY,WAAmB;AAC7B,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,QACJ,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,iBAAiB;AAAA,MACjC;AAAA,MACA,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG,CAAC,KAAK,MAAM,OAAO,SAAS;AAAA,MAC3C;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,eAAe,MAAM;AACnB,QAAI,MAAM;AAEV,UAAM,YAAqC,CAAC;AAE5C,SAAK,cAAc,EAAE,QAAQ,YAAU;AACrC,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,YAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAG7C,UAAI,OAAO,SAAS,GAAG;AACrB,kBAAU,SAAS,IAAI,KAAK,MAAM;AAAA,MACpC;AAEA,aAAO,QAAQ,CAAC,WAAW;AACzB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,KAAK,MAAM;AAAA,IACpC,CAAC;AAAA,EACH;AAAA,EAEA,gBAA0D;AACxD,UAAM,SAAS,CAAC;AAChB,UAAM,eAAe,oBAAI,IAAI;AAE7B,aAAS,IAAI,GAAG,IAAI,KAAK,MAAM,OAAO,QAAQ,KAAK;AACjD,YAAM,YAAY,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,gBAAgB,KAAK,MAAM,OAAO,IAAE,CAAC;AAC3C,mBAAa;AAAA,QAAI,UAAU;AAAA,QACzB,aAAa,IAAI,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,IAAI,IAAI;AAAA,MACxE;AACA,YAAM,QAAQ;AAAA,QACZ,GAAG;AAAA,QACH,KAAK,eAAe,UAAU,EAAE,IAAI,aAAa,IAAI,UAAU,EAAE,CAAC;AAAA,MACpE;AACA,UAAG,iBAAiB,YAAY,cAAc,EAAE,KAAK,YAAY,MAAM,EAAE,GAAG;AAC1E,cAAM,YAAY,OAAO,OAAO,SAAS,CAAC;AAC1C,kBAAU,KAAK,KAAK;AAAA,MACtB,OAAO;AACL,eAAO,KAAK,CAAC,KAAK,CAAC;AAAA,MACrB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,iBAAiB,aAAqB,KAAa;AACjD,UAAM,YAAY,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAC7C,UAAM,YAAY,EAAE,GAAG,KAAK,MAAM,gBAAgB;AAClD,QAAG,aAAa,KAAK,MAAM,iBAAiB;AAC1C,gBAAU,SAAS,IAAI,CAAC,KAAK,MAAM,gBAAgB,SAAS;AAAA,IAC9D,OAAO;AACL,gBAAU,SAAS,IAAI;AAAA,IACzB;AACA,SAAK,SAAS;AAAA,MACZ,iBAAiB;AAAA,IACnB,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,aAAqB,KAAa;AAC5C,UAAM,YAAY,KAAK,MAAM,gBAAgB,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG,CAAC;AACzE,WAAO,cAAc,SAAY,OAAO;AAAA,EAC1C;AAAA,EAEA,sBAAuB,WAAoC,WAAoC;AAE7F,QAAI,KAAK,UAAU,WAAW;AAC5B,aAAO;AAAA,IACT;AAIA,aAAS,iBAAiB,OAA2B;AACnD,YAAM,MAAiD;AAAA,QACrD,IAAI,MAAM;AAAA,MACZ;AAEA,UAAI,MAAM,QAAQ;AAChB,YAAI,SAAS;AAAA,UACX,YAAY,MAAM,OAAO;AAAA,QAC3B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AACA,UAAM,cAAc,OAAO;AAAA,MACzB,UAAU,OAAO,IAAI,gBAAgB;AAAA,MACrC,KAAK,MAAM,OAAO,IAAI,gBAAgB;AAAA,IACxC;AAEA,aAAS,cAAc,OAAgC;AACrD,YAAM,MAAM;AAAA,QACV,GAAG;AAAA,MACL;AACA,aAAO,IAAI,QAAQ;AACnB,aAAO;AAAA,IACT;AAIA,UAAM,aAAa,OAAO;AAAA,MACxB,cAAc,KAAK,KAAK;AAAA,MACxB,cAAc,SAAS;AAAA,IACzB;AAEA,UAAM,eAAe,EAAE,eAAe;AACtC,WAAO;AAAA,EACT;AAAA,EAEA,mBAAoB,WAAoC;AACtD,QAAI,UAAU,uBAAuB,KAAK,MAAM,oBAAoB;AAClE,YAAM,mBAAmB,KAAK,gBAAgB;AAC9C,UAAI,oBAAoB,iBAAiB,MAAM;AAC7C,cAAM,SAAS,iBAAiB;AAChC,cAAM,UAAU;AAAA,UACd,MAAM,KAAK,mBAAmB;AAAA,UAC9B,WAAW;AAAA,QACb;AACA,cAAM,WAAW,IAAI,qBAAqB,aAAW;AACnD,mBAAS,UAAU,MAAM;AACzB,cAAI,QAAQ,SAAS,KAAK,QAAQ,CAAC,EAAE,oBAAoB,GAAG;AAC1D,mBAAO,eAAe;AAAA,UACxB;AAAA,QACF,GAAG,OAAO;AAEV,iBAAS,QAAQ,MAAM;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AAEP,UAAM,YAA2B,CAAC;AAClC,QAAI,MAAM;AACV,UAAM,gBAAgB,KAAK,cAAc;AACzC,kBAAc,QAAQ,YAAU;AAC9B,YAAM,cAAc,YAAY,OAAO,CAAC,EAAE,EAAE;AAC5C,UAAG,OAAO,SAAS,GAAG;AACpB,cAAM,MAAM;AAAA,UAAC;AAAA;AAAA,YACX,eAAa,CAAC,aAAa,GAAG,EAAE,KAAK,GAAG;AAAA,YACxC,iBAAe,OAAO,IAAI,OAAK,EAAE,GAAG,EAAE,KAAK,GAAG;AAAA,YAE9C,OAAO;AAAA,YACP,UAAU,CAAC,KAAK,YAAY,aAAa,GAAG,KAAK,QAAQ,KAAK,MAAM;AAAA,YACpE,gBAAgB,KAAK,iBAAiB,KAAK,MAAM,aAAa,GAAG;AAAA;AAAA,UAH5D,SAAS,WAAW,IAAI,GAAG;AAAA,QAIlC;AACA,kBAAU,KAAK,GAAG;AAAA,MACpB;AAEA,aAAO,QAAQ,CAAC,OAAO,eAAe;AACpC,cAAM,WAAW,wBAAwB,KAAK,MAAM,QAAQ,GAAG;AAE/D,cAAM,aAAa,KAAK,MAAM,OAAO,KAAK,WAAS;AACjD,iBACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS;AAAA,QAE/B,CAAC;AAED,cAAM,kBAAgD,CAAC;AACvD,YAAI,QAAQ,KAAK,MAAM,oBAAoB;AACzC,0BAAgB,MAAM,KAAK;AAAA,QAC7B;AAEA,cAAM,WAAW;AAAA,UAAC;AAAA;AAAA,YAChB,WAAW,WAAW;AAAA,cACpB,sCAAsC,OAAO,SAAS,KAAK,KAAK,YAAY,aAAa,QAAQ,KAAK,QAAQ,KAAK,MAAM;AAAA,cACzH,uCAAuC,cAAc,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,cAC1F,mCAAmC,CAAC,CAAC;AAAA,YACvC,CAAC;AAAA,YACD,OAAO;AAAA,YAEP,IAAI,MAAM;AAAA,YACV,SAAS,MAAM;AAAA,YACf,YAAY;AAAA,YACZ,WAAW,MAAM;AAAA,YACjB,aAAa,MAAM,UAAU,CAAC,GAAG;AAAA,YACjC,YAAY,QAAQ,KAAK,MAAM;AAAA,YAC/B,eAAe,KAAK,MAAM;AAAA,YAC1B,gBAAgB,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,YACpD,aAAa,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,YAC7C,yBAAyB,KAAK,MAAM,wBAAwB,KAAK,IAAI;AAAA,YACpE,GAAG;AAAA;AAAA,UAXC,MAAM;AAAA,QAYb;AACA,kBAAU,KAAK,QAAQ;AACvB,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,MAAK;AAAA,QACL,cAAW;AAAA,QACX,KAAK,KAAK;AAAA,QAEV;AAAA;AAAA,YAAC;AAAA;AAAA,cAEC,QAAQ,KAAK,MAAM;AAAA,cACnB,SAAS,KAAK,MAAM;AAAA,cACpB,QAAQ,KAAK,MAAM,OAAO;AAAA,cAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,cAC/C,gBAAgB,KAAK,MAAM;AAAA;AAAA,YALtB,KAAK,MAAM,KAAK;AAAA,UAMvB;AAAA,UACA,qBAAC,YAAO,WAAU,8BAChB;AAAA,gCAAC,UAAK,WAAU,oCAAmC,oBAAM;AAAA,YACzD,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,IAAG;AAAA,gBACH,eAAY;AAAA,gBACZ,SAAS,KAAK;AAAA,gBACd,WAAU;AAAA,gBACT,eAAK,MAAM,yBAAyB,OAAO,aAAa;AAAA;AAAA,YAC3D,GACF,GACF;AAAA,YACA,oBAAC,SAAI,WAAU,6BACb,8BAAC,SAAI,WAAU,wBACb;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,YAAY,KAAK,MAAM,KAAK;AAAA,gBAC1C,eAAY;AAAA,gBACZ,WAAU;AAAA,gBAA2C;AAAA;AAAA,YAEvD,GACF,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,cAAW;AAAA,cAEX,8BAAC,QAAG,WAAU,iCACX,qBACH;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;AAGA,MAAM,6BAA6B,kBAAkB,CAAC,UAAmC,oBAAC,sBAAoB,GAAG,OAAO,CAAE;AAM1H,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT,aAAY;AAAA,QACZ,WAAW,KAAK,MAAM,YAAY,KAAK,IAAI;AAAA,QAC3C,eAAe;AAAA,QACf,mBAAmB,MAAM;AAAA;AAAA,IAC3B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7cd6405e81ca6260ef85d5394a18c33340b5775"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return qt=function(){return a},a}qt();class pG extends Mn.Component{constructor(n){qt().f[1]++,qt().s[1]++;super(n);on(this,"selectedItemRef");on(this,"scrollContainerRef");on(this,"toggleLayers",(qt().s[6]++,()=>{qt().f[3]++;let n=(qt().s[7]++,0);const r=(qt().s[8]++,{});qt().s[9]++,this.groupedLayers().forEach(i=>{qt().f[4]++;const o=(qt().s[10]++,wy(i[0].id)),a=(qt().s[11]++,[o,n].join("-"));qt().s[12]++,i.length>1?(qt().b[0][0]++,qt().s[13]++,r[a]=this.state.areAllGroupsExpanded):qt().b[0][1]++,qt().s[14]++,i.forEach(s=>{qt().f[5]++,qt().s[15]++,n+=1})}),qt().s[16]++,this.setState({collapsedGroups:r,areAllGroupsExpanded:!this.state.areAllGroupsExpanded})}));qt().s[2]++,this.selectedItemRef=Mn.createRef(),qt().s[3]++,this.scrollContainerRef=Mn.createRef(),qt().s[4]++,this.state={collapsedGroups:{},areAllGroupsExpanded:!1,keys:{add:+fv()},isOpen:{add:!1}}}toggleModal(n){qt().f[2]++,qt().s[5]++,this.setState({keys:{...this.state.keys,[n]:+fv()},isOpen:{...this.state.isOpen,[n]:!this.state.isOpen[n]}})}groupedLayers(){qt().f[6]++;const n=(qt().s[17]++,[]),r=(qt().s[18]++,new Map);qt().s[19]++;for(let i=(qt().s[20]++,0);i<this.props.layers.length;i++){const o=(qt().s[21]++,this.props.layers[i]),a=(qt().s[22]++,this.props.layers[i-1]);qt().s[23]++,r.set(o.id,r.has(o.id)?(qt().b[1][0]++,r.get(o.id)+1):(qt().b[1][1]++,0));const s=(qt().s[24]++,{...o,key:`layers-list-${o.id}-${r.get(o.id)}`});if(qt().s[25]++,qt().b[3][0]++,a&&(qt().b[3][1]++,wy(a.id)==wy(s.id))){qt().b[2][0]++;const h=(qt().s[26]++,n[n.length-1]);qt().s[27]++,h.push(s)}else qt().b[2][1]++,qt().s[28]++,n.push([s])}return qt().s[29]++,n}toggleLayerGroup(n,r){qt().f[7]++;const i=(qt().s[30]++,[n,r].join("-")),o=(qt().s[31]++,{...this.state.collapsedGroups});qt().s[32]++,i in this.state.collapsedGroups?(qt().b[4][0]++,qt().s[33]++,o[i]=!this.state.collapsedGroups[i]):(qt().b[4][1]++,qt().s[34]++,o[i]=!1),qt().s[35]++,this.setState({collapsedGroups:o})}isCollapsed(n,r){qt().f[8]++;const i=(qt().s[36]++,this.state.collapsedGroups[[n,r].join("-")]);return qt().s[37]++,i===void 0?(qt().b[5][0]++,!0):(qt().b[5][1]++,i)}shouldComponentUpdate(n,r){if(qt().f[9]++,qt().s[38]++,this.state!==r)return qt().b[6][0]++,qt().s[39]++,!0;qt().b[6][1]++;function i(g){qt().f[10]++;const _=(qt().s[40]++,{id:g.id});return qt().s[41]++,g.layout?(qt().b[7][0]++,qt().s[42]++,_.layout={visibility:g.layout.visibility}):qt().b[7][1]++,qt().s[43]++,_}const o=(qt().s[44]++,KE.isEqual(n.layers.map(i),this.props.layers.map(i)));function a(g){qt().f[11]++;const _=(qt().s[45]++,{...g});return qt().s[46]++,delete _.layers,qt().s[47]++,_}const s=(qt().s[48]++,KE.isEqual(a(this.props),a(n))),h=(qt().s[49]++,qt().b[8][0]++,!(o&&(qt().b[8][1]++,s)));return qt().s[50]++,h}componentDidUpdate(n){if(qt().f[12]++,qt().s[51]++,n.selectedLayerIndex!==this.props.selectedLayerIndex){qt().b[9][0]++;const r=(qt().s[52]++,this.selectedItemRef.current);if(qt().s[53]++,qt().b[11][0]++,r&&(qt().b[11][1]++,r.node)){qt().b[10][0]++;const i=(qt().s[54]++,r.node),o=(qt().s[55]++,{root:this.scrollContainerRef.current,threshold:1}),a=(qt().s[56]++,new IntersectionObserver(s=>{qt().f[13]++,qt().s[57]++,a.unobserve(i),qt().s[58]++,qt().b[13][0]++,s.length>0&&(qt().b[13][1]++,s[0].intersectionRatio<1)?(qt().b[12][0]++,qt().s[59]++,i.scrollIntoView()):qt().b[12][1]++},o));qt().s[60]++,a.observe(i)}else qt().b[10][1]++}else qt().b[9][1]++}render(){qt().f[14]++;const n=(qt().s[61]++,[]);let r=(qt().s[62]++,0);const i=(qt().s[63]++,this.groupedLayers());return qt().s[64]++,i.forEach(o=>{qt().f[15]++;const a=(qt().s[65]++,wy(o[0].id));if(qt().s[66]++,o.length>1){qt().b[14][0]++;const s=(qt().s[67]++,G.jsx(Nfe,{"data-wd-key":[a,r].join("-"),"aria-controls":o.map(h=>(qt().f[16]++,qt().s[68]++,h.key)).join(" "),title:a,isActive:(qt().b[15][0]++,!this.isCollapsed(a,r)||(qt().b[15][1]++,r===this.props.selectedLayerIndex)),onActiveToggle:this.toggleLayerGroup.bind(this,a,r)},`group-${a}-${r}`));qt().s[69]++,n.push(s)}else qt().b[14][1]++;qt().s[70]++,o.forEach((s,h)=>{var K;qt().f[17]++;const g=(qt().s[71]++,T0e(this.props.layers,r)),_=(qt().s[72]++,this.props.errors.find(D=>(qt().f[18]++,qt().s[73]++,qt().b[16][0]++,D.parsed&&(qt().b[16][1]++,D.parsed.type==="layer")&&(qt().b[16][2]++,D.parsed.data.index==r)))),E=(qt().s[74]++,{});qt().s[75]++,r===this.props.selectedLayerIndex?(qt().b[17][0]++,qt().s[76]++,E.ref=this.selectedItemRef):qt().b[17][1]++;const O=(qt().s[77]++,G.jsx(Cpe,{className:Gf({"maputnik-layer-list-item-collapsed":(qt().b[18][0]++,o.length>1&&(qt().b[18][1]++,this.isCollapsed(a,g))&&(qt().b[18][2]++,r!==this.props.selectedLayerIndex)),"maputnik-layer-list-item-group-last":(qt().b[19][0]++,h==o.length-1&&(qt().b[19][1]++,o.length>1)),"maputnik-layer-list-item--error":!!_}),index:r,id:s.key,layerId:s.id,layerIndex:r,layerType:s.type,visibility:(qt().b[20][0]++,s.layout||(qt().b[20][1]++,{})).visibility,isSelected:r===this.props.selectedLayerIndex,onLayerSelect:this.props.onLayerSelect,onLayerDestroy:(K=this.props.onLayerDestroy)==null?void 0:K.bind(this),onLayerCopy:this.props.onLayerCopy.bind(this),onLayerVisibilityToggle:this.props.onLayerVisibilityToggle.bind(this),...E},s.key));qt().s[78]++,n.push(O),qt().s[79]++,r+=1})}),qt().s[80]++,G.jsxs("section",{className:"maputnik-layer-list",role:"complementary","aria-label":"Layers list",ref:this.scrollContainerRef,children:[G.jsx(B0e,{layers:this.props.layers,sources:this.props.sources,isOpen:this.state.isOpen.add,onOpenToggle:this.toggleModal.bind(this,"add"),onLayersChange:this.props.onLayersChange},this.state.keys.add),G.jsxs("header",{className:"maputnik-layer-list-header",children:[G.jsx("span",{className:"maputnik-layer-list-header-title",children:"Layers"}),G.jsx("span",{className:"maputnik-space"}),G.jsx("div",{className:"maputnik-default-property",children:G.jsx("div",{className:"maputnik-multibutton",children:G.jsx("button",{id:"skip-target-layer-list","data-wd-key":"skip-target-layer-list",onClick:this.toggleLayers,className:"maputnik-button",children:this.state.areAllGroupsExpanded===!0?(qt().b[21][0]++,"Collapse"):(qt().b[21][1]++,"Expand")})})}),G.jsx("div",{className:"maputnik-default-property",children:G.jsx("div",{className:"maputnik-multibutton",children:G.jsx("button",{onClick:this.toggleModal.bind(this,"add"),"data-wd-key":"layer-list:add-layer",className:"maputnik-button maputnik-button-selected",children:"Add Layer"})})})]}),G.jsx("div",{role:"navigation","aria-label":"Layers list",children:G.jsx("ul",{className:"maputnik-layer-list-container",children:n})})]})}}on(pG,"defaultProps",(qt().s[0]++,{onLayerSelect:()=>{qt().f[0]++}}));const P0e=(qt().s[81]++,gpe(e=>(qt().f[19]++,qt().s[82]++,G.jsx(pG,{...e}))));class K0e extends Mn.Component{render(){return qt().f[20]++,qt().s[83]++,G.jsx(P0e,{...this.props,helperClass:"sortableHelper",onSortEnd:this.props.onMoveLayer.bind(this),useDragHandle:!0,shouldCancelStart:()=>(qt().f[21]++,qt().s[84]++,!1)})}}var Bw={},mG="a menu outside a mounted Wrapper with an id, or a menu that does not exist";function D0e(e,t){Bw[e]=t}function F0e(e){delete Bw[e]}function L0e(e,t){var n=Bw[e];if(!n)throw new Error("Cannot open "+mG);n.openMenu(t)}function U0e(e,t){var n=Bw[e];if(!n)throw new Error("Cannot close "+mG);n.closeMenu(t)}var gG={registerManager:D0e,unregisterManager:F0e,openMenu:L0e,closeMenu:U0e};function Ls(e){e=e||{};var t=e.keybindings||{};this._settings={keybindings:{next:t.next||{keyCode:40},prev:t.prev||{keyCode:38},first:t.first,last:t.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._keybindingsLookup=[];var n,r;for(n in this._settings.keybindings)r=this._settings.keybindings[n],r&&[].concat(r).forEach((function(i){i.metaKey=i.metaKey||!1,i.ctrlKey=i.ctrlKey||!1,i.altKey=i.altKey||!1,i.shiftKey=i.shiftKey||!1,this._keybindingsLookup.push({action:n,eventMatcher:i})}).bind(this));this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}Ls.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this};Ls.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this};Ls.prototype._handleKeydownEvent=function(e){var t=this._getActiveElementIndex();if(t!==-1){var n=!1;this._keybindingsLookup.forEach((function(r){if(R0e(r.eventMatcher,e))switch(n=!0,e.preventDefault(),r.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack();break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}).bind(this)),n||this._handleUnboundKey(e)}};Ls.prototype.moveFocusForward=function(){var e=this._getActiveElementIndex(),t;return e<this._members.length-1?t=e+1:this._settings.wrap?t=0:t=e,this.focusNodeAtIndex(t),t};Ls.prototype.moveFocusBack=function(){var e=this._getActiveElementIndex(),t;return e>0?t=e-1:this._settings.wrap?t=this._members.length-1:t=e,this.focusNodeAtIndex(t),t};Ls.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)};Ls.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};Ls.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){if(this._searchString!==""&&(e.key===" "||e.keyCode===32))return e.preventDefault(),-1;if(!z0e(e.keyCode)||e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}};Ls.prototype._clearSearchString=function(){this._searchString=""};Ls.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()};Ls.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){e._clearSearchString()},this._settings.stringSearchDelay)};Ls.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};Ls.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)};Ls.prototype.moveFocusByString=function(e){for(var t,n=0,r=this._members.length;n<r;n++)if(t=this._members[n],!!t.text&&t.text.indexOf(e)===0)return yG(t.node)};Ls.prototype._findIndexOfNode=function(e){for(var t=0,n=this._members.length;t<n;t++)if(this._members[t].node===e)return t;return-1};Ls.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)};Ls.prototype.focusNodeAtIndex=function(e){var t=this._members[e];return t&&yG(t.node),this};Ls.prototype.addMember=function(e,t){var n=e.node||e,r=e.text||n.getAttribute("data-focus-group-text")||n.textContent||"";this._checkNode(n);var i=r.replace(/[\W_]/g,"").toLowerCase(),o={node:n,text:i};return t!=null?this._members.splice(t,0,o):this._members.push(o),this};Ls.prototype.removeMember=function(e){var t=typeof e=="number"?e:this._findIndexOfNode(e);if(t!==-1)return this._members.splice(t,1),this};Ls.prototype.clearMembers=function(){return this._members=[],this};Ls.prototype.setMembers=function(e){this.clearMembers();for(var t=0,n=e.length;t<n;t++)this.addMember(e[t]);return this};Ls.prototype.getMembers=function(){return this._members};Ls.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e};function R0e(e,t){for(var n in e)if(t[n]!==void 0&&e[n]!==t[n])return!1;return!0}function z0e(e){return e>=65&&e<=90}function yG(e){!e||!e.focus||(e.focus(),e.tagName.toLowerCase()==="input"&&e.select())}var j0e=function(t){return new Ls(t)},W0e=j0e,yK=gG,N0e={wrap:!0,stringSearch:!0},G0e={init:function(t){this.updateOptions(t),this.handleBlur=$0e.bind(this),this.handleSelection=Q0e.bind(this),this.handleMenuKey=Y0e.bind(this),this.focusGroup=W0e(N0e),this.button=null,this.menu=null,this.isOpen=!1},updateOptions:function(t){var n=this.options;this.options=t||this.options||{},typeof this.options.closeOnSelection>"u"&&(this.options.closeOnSelection=!0),typeof this.options.closeOnBlur>"u"&&(this.options.closeOnBlur=!0),this.options.id&&yK.registerManager(this.options.id,this),n&&n.id&&n.id!==this.options.id&&yK.unregisterManager(this.options.id,this)},focusItem:function(t){this.focusGroup.focusNodeAtIndex(t)},addItem:function(t){this.focusGroup.addMember(t)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(t){this.focusGroup._handleUnboundKey(t)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen}),this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(t){if(!this.isOpen&&(t=t||{},t.focusMenu===void 0&&(t.focusMenu=!0),this.isOpen=!0,this.update(),this.focusGroup.activate(),t.focusMenu)){var n=this;this.moveFocusTimer=setTimeout(function(){n.focusItem(0)},0)}},closeMenu:function(t){this.isOpen&&(t=t||{},this.isOpen=!1,this.update(),t.focusButton&&this.button.ref.current.focus())},toggleMenu:function(t,n){t=t||{},n=n||{},this.isOpen?this.closeMenu(t):this.openMenu(n)}};function $0e(){var e=this;e.blurTimer=setTimeout(function(){if(e.button){var t=e.button.ref.current;if(t){var n=t.ownerDocument.activeElement;if(!(t&&n===t)){var r=e.menu.ref.current;if(r===n){e.focusItem(0);return}r&&r.contains(n)||e.isOpen&&e.closeMenu({focusButton:!1})}}}},0)}function Q0e(e,t){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection&&this.options.onSelection(e,t)}function Y0e(e){if(this.isOpen)switch(e.key){case"Escape":e.preventDefault(),this.closeMenu({focusButton:!0});break;case"Home":e.preventDefault(),this.focusGroup.moveFocusToFirst();break;case"End":e.preventDefault(),this.focusGroup.moveFocusToLast();break}}var q0e=function(e){var t=Object.create(G0e);return t.init(e),t},H0e=Ir,V0e=H0e.createContext(),Iw=V0e,U2=Fh,kw={refType:U2.oneOfType([U2.func,U2.shape({current:U2.elementType})])},Tw=function(e,t,n){n=n||{};for(var r in t)t.hasOwnProperty(r)&&(n[r]||(e[r]=t[r]))};function Z0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X0e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function J0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _C=Ir,zg=Fh,e1e=q0e,t1e=Iw,n1e=kw,r1e=n1e.refType,aB=Tw,V4={children:zg.node.isRequired,forwardedRef:r1e,onMenuToggle:zg.func,onSelection:zg.func,closeOnSelection:zg.bool,closeOnBlur:zg.bool,tag:zg.string},vK=function(t){return{onMenuToggle:t.onMenuToggle,onSelection:t.onSelection,closeOnSelection:t.closeOnSelection,closeOnBlur:t.closeOnBlur,id:t.id}},OI=function(e){J0e(t,e);function t(n){Z0e(this,t);var r=X0e(this,e.call(this,n));return r.manager=e1e(vK(n)),r}return t.prototype.componentDidUpdate=function(){this.manager.updateOptions(vK(this.props))},t.prototype.render=function(){var r={};return aB(r,this.props,V4),_C.createElement(t1e.Provider,{value:this.manager},_C.createElement(this.props.tag,r,this.props.children))},t}(_C.Component);OI.propTypes=V4;OI.defaultProps={tag:"div"};var i1e=_C.forwardRef(function(e,t){var n={forwardedRef:t};return aB(n,e,{children:V4.children,forwardedRef:V4.forwardedRef}),aB(n,{forwardedRef:t}),_C.createElement(OI,n,e.children)});function o1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function a1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yy=Ir,R2=Fh,s1e=Iw,l1e=kw,u1e=l1e.refType,v3=Tw,CC={ambManager:R2.object.isRequired,children:R2.node.isRequired,disabled:R2.bool,forwardedRef:u1e,tag:R2.string},A1e=function(){return["button","fieldset","input","optgroup","option","select","textarea"]},BI=function(e){a1e(t,e);function t(){var n,r,i;o1e(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=_K(this,e.call.apply(e,[this].concat(a))),r),r.ref=Yy.createRef(),r.handleKeyDown=function(h){if(!r.props.disabled){var g=r.props.ambManager;switch(h.key){case"ArrowDown":h.preventDefault(),g.isOpen?g.focusItem(0):g.openMenu();break;case"Enter":case" ":h.preventDefault(),g.toggleMenu();break;case"Escape":g.handleMenuKey(h);break;default:g.handleButtonNonArrowKey(h)}}},r.handleClick=function(){r.props.disabled||r.props.ambManager.toggleMenu({},{focusMenu:!1})},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),_K(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.button=this},t.prototype.componentWillUnmount=function(){this.props.ambManager.destroy()},t.prototype.render=function(){var r=this.props,i=this.props.ambManager,o={role:"button",tabIndex:r.disabled?"":"0","aria-haspopup":!0,"aria-expanded":i.isOpen,"aria-disabled":r.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick},a={};return v3(a,CC),A1e().indexOf(r.tag)>=0&&delete a.disabled,i.options.closeOnBlur&&(o.onBlur=i.handleBlur),v3(o,r,a),v3(o,{ref:this.setRef}),Yy.createElement(r.tag,o,r.children)},t}(Yy.Component);BI.propTypes=CC;BI.defaultProps={tag:"span"};var c1e=Yy.forwardRef(function(e,t){return Yy.createElement(s1e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return v3(r,e,{ambManager:CC.ambManager,children:CC.children,forwardedRef:CC.forwardedRef}),Yy.createElement(BI,r,e.children)})}),d1e=function(t,n,r){var i=0,o=0,a=!1,s=!1,h=!1;t.addEventListener("click",g,r),t.addEventListener("touchstart",_,r);function g(ee){h||n(ee)}function _(ee){h=!0,!a&&(a=!0,t.addEventListener("touchmove",E,r),t.addEventListener("touchend",O,r),t.addEventListener("touchcancel",K,r),s=!1,i=ee.touches[0].clientX,o=ee.touches[0].clientY)}function E(ee){s||Math.abs(ee.touches[0].clientX-i)<=10&&Math.abs(ee.touches[0].clientY-o)<=10||(s=!0)}function O(ee){a=!1,D(),s||n(ee)}function K(){a=!1,s=!1,i=0,o=0}function D(){t.removeEventListener("touchmove",E,r),t.removeEventListener("touchend",O,r),t.removeEventListener("touchcancel",K,r)}function Y(){t.removeEventListener("click",g,r),t.removeEventListener("touchstart",_,r),D()}return{remove:Y}};function h1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qy=Ir,P_=Fh,p1e=d1e,m1e=Iw,g1e=kw,y1e=g1e.refType,sB=Tw,bC={ambManager:P_.object.isRequired,children:P_.oneOfType([P_.func,P_.node]).isRequired,forwardedRef:y1e,tag:P_.string},II=function(e){f1e(t,e);function t(){var n,r,i;h1e(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=CK(this,e.call.apply(e,[this].concat(a))),r),r.ref=qy.createRef(),r.addTapListener=function(){var h=r.ref.current;if(h){var g=h.ownerDocument;g&&(r.tapListener=p1e(g.documentElement,r.handleTap))}},r.handleTap=function(h){r.ref.current.contains(h.target)||r.props.ambManager.button.ref.current.contains(h.target)||r.props.ambManager.closeMenu()},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),CK(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.menu=this},t.prototype.componentDidUpdate=function(){var r=this.props.ambManager;r.options.closeOnBlur&&(r.isOpen&&!this.tapListener?this.addTapListener():!r.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),r.isOpen||r.clearItems())},t.prototype.componentWillUnmount=function(){this.tapListener&&this.tapListener.remove(),this.props.ambManager.destroy()},t.prototype.render=function(){var r=this.props,i=this.props.ambManager,o=function(){return typeof r.children=="function"?r.children({isOpen:i.isOpen}):i.isOpen?r.children:!1}();if(!o)return!1;var a={onKeyDown:i.handleMenuKey,role:"menu",tabIndex:-1};return i.options.closeOnBlur&&(a.onBlur=i.handleBlur),sB(a,r,bC),sB(a,{ref:this.setRef}),qy.createElement(r.tag,a,o)},t}(qy.Component);II.propTypes=bC;II.defaultProps={tag:"div"};var v1e=qy.forwardRef(function(e,t){return qy.createElement(m1e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return sB(r,e,{ambManager:bC.ambManager,children:bC.children,forwardedRef:bC.forwardedRef}),qy.createElement(II,r,e.children)})});function _1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function C1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hy=Ir,K_=Fh,b1e=Iw,x1e=kw,w1e=x1e.refType,vG=Tw,xC={ambManager:K_.object.isRequired,children:K_.node.isRequired,forwardedRef:w1e,tag:K_.string,text:K_.string,value:K_.any},kI=function(e){C1e(t,e);function t(){var n,r,i;_1e(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=(n=(r=bK(this,e.call.apply(e,[this].concat(a))),r),r.ref=Hy.createRef(),r.handleKeyDown=function(h){h.key!=="Enter"&&h.key!==" "||r.props.tag==="a"&&r.props.href||(h.preventDefault(),r.selectItem(h))},r.selectItem=function(h){var g=typeof r.props.value<"u"?r.props.value:r.props.children;r.props.ambManager.handleSelection(g,h)},r.setRef=function(h){r.ref.current=h,typeof r.props.forwardedRef=="function"?r.props.forwardedRef(h):r.props.forwardedRef&&(r.props.forwardedRef.current=h)},n),bK(r,i)}return t.prototype.componentDidMount=function(){this.props.ambManager.addItem({node:this.ref.current,text:this.props.text})},t.prototype.render=function(){var r={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.setRef};return vG(r,this.props,xC),Hy.createElement(this.props.tag,r,this.props.children)},t}(Hy.Component);kI.propTypes=xC;kI.defaultProps={tag:"div"};var M1e=Hy.forwardRef(function(e,t){return Hy.createElement(b1e.Consumer,null,function(n){var r={ambManager:n,forwardedRef:t};return vG(r,e,{ambManager:xC.ambManager,children:xC.children,forwardedRef:xC.forwardedRef}),Hy.createElement(kI,r,e.children)})}),xK=gG,z2={Wrapper:i1e,Button:c1e,Menu:v1e,MenuItem:M1e,openMenu:xK.openMenu,closeMenu:xK.closeMenu};function wK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wK(Object(n),!0).forEach(function(r){vs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kw(e,t,n){return t&&MK(e.prototype,t),n&&MK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $f(){return $f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(this,arguments)}function TI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uB(e,t)}function Z4(e){return Z4=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Z4(e)}function uB(e,t){return uB=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},uB(e,t)}function S1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E1e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Dw(e,t){if(e==null)return{};var n=E1e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O1e(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function PI(e){var t=S1e();return function(){var r=Z4(e),i;if(t){var o=Z4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O1e(this,i)}}function B1e(e,t){return T1e(e)||K1e(e,t)||_G(e,t)||F1e()}function I1e(e){return k1e(e)||P1e(e)||_G(e)||D1e()}function k1e(e){if(Array.isArray(e))return AB(e)}function T1e(e){if(Array.isArray(e))return e}function P1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(h){o=!0,s=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function _G(e,t){if(e){if(typeof e=="string")return AB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AB(e,t)}}function AB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L1e=Kw(function e(t){var n=this,r=t.expanded,i=r===void 0?[]:r,o=t.allowMultipleExpanded,a=o===void 0?!1:o,s=t.allowZeroExpanded,h=s===void 0?!1:s;Pw(this,e),vs(this,"expanded",void 0),vs(this,"allowMultipleExpanded",void 0),vs(this,"allowZeroExpanded",void 0),vs(this,"toggleExpanded",function(g){if(n.isItemDisabled(g))return n;var _=n.isItemExpanded(g);return _?n.augment({expanded:n.expanded.filter(function(E){return E!==g})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(I1e(n.expanded),[g]):[g]})}),vs(this,"isItemDisabled",function(g){var _=n.isItemExpanded(g),E=n.expanded.length===1;return!!(_&&!n.allowZeroExpanded&&E)}),vs(this,"isItemExpanded",function(g){return n.expanded.indexOf(g)!==-1}),vs(this,"getPanelAttributes",function(g,_){var E=_??n.isItemExpanded(g);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!E:void 0,"aria-labelledby":n.getButtonId(g),id:n.getPanelId(g),hidden:E?void 0:!0}}),vs(this,"getHeadingAttributes",function(){return{role:"heading"}}),vs(this,"getButtonAttributes",function(g,_){var E=_??n.isItemExpanded(g),O=n.isItemDisabled(g);return{id:n.getButtonId(g),"aria-disabled":O,"aria-expanded":E,"aria-controls":n.getPanelId(g),role:"button",tabIndex:0}}),vs(this,"getPanelId",function(g){return"accordion__panel-".concat(g)}),vs(this,"getButtonId",function(g){return"accordion__heading-".concat(g)}),vs(this,"augment",function(g){return new e(lB({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},g))}),this.expanded=i,this.allowMultipleExpanded=a,this.allowZeroExpanded=h}),CG=Ir.createContext(null),bG=function(e){TI(n,e);var t=PI(n);function n(){var r;Pw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),vs(Oh(r),"state",new L1e({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),vs(Oh(r),"toggleExpanded",function(s){r.setState(function(h){return h.toggleExpanded(s)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),vs(Oh(r),"isItemDisabled",function(s){return r.state.isItemDisabled(s)}),vs(Oh(r),"isItemExpanded",function(s){return r.state.isItemExpanded(s)}),vs(Oh(r),"getPanelAttributes",function(s,h){return r.state.getPanelAttributes(s,h)}),vs(Oh(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),vs(Oh(r),"getButtonAttributes",function(s,h){return r.state.getButtonAttributes(s,h)}),r}return Kw(n,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,a=i.allowMultipleExpanded;return Ir.createElement(CG.Provider,{value:{allowMultipleExpanded:a,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(Ir.PureComponent);vs(bG,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var xG=function(e){TI(n,e);var t=PI(n);function n(){var r;Pw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),vs(Oh(r),"renderChildren",function(s){return s?r.props.children(s):null}),r}return Kw(n,[{key:"render",value:function(){return Ir.createElement(CG.Consumer,null,this.renderChildren)}}]),n}(Ir.PureComponent),U1e=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],R1e=function(t){var n=t.className,r=n===void 0?"accordion":n,i=t.allowMultipleExpanded,o=t.allowZeroExpanded,a=t.onChange,s=t.preExpanded,h=Dw(t,U1e);return Ir.createElement(bG,{preExpanded:s,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:a},Ir.createElement("div",$f({"data-accordion-component":"Accordion",className:r},h)))},cB;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(cB||(cB={}));var wG=cB,A6=0;function z1e(){var e=A6;return A6=A6+1,"raa-".concat(e)}var j1e=Ir.useId||z1e,W1e=/[\u0009\u000a\u000c\u000d\u0020]/g;function mb(e){return e===""||W1e.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var MG=Ir.createContext(null),N1e=function(t){var n=t.children,r=t.uuid,i=t.accordionContext,o=t.dangerouslySetExpanded,a=function(){i.toggleExpanded(r)},s=function(g){var _=o??g.isItemExpanded(r),E=g.isItemDisabled(r),O=g.getPanelAttributes(r,o),K=g.getHeadingAttributes(r),D=g.getButtonAttributes(r,o);return Ir.createElement(MG.Provider,{value:{uuid:r,expanded:_,disabled:E,toggleExpanded:a,panelAttributes:O,headingAttributes:K,buttonAttributes:D}},n)};return Ir.createElement(xG,null,s)},G1e=function(t){return Ir.createElement(xG,null,function(n){return Ir.createElement(N1e,$f({},t,{accordionContext:n}))})},Fw=function(t){var n=t.children,r=function(o){return o?n(o):null};return Ir.createElement(MG.Consumer,null,r)},$1e=["uuid","dangerouslySetExpanded","className","activeClassName"],SG=function(t){var n=t.uuid,r=t.dangerouslySetExpanded,i=t.className,o=i===void 0?"accordion__item":i,a=t.activeClassName,s=Dw(t,$1e),h=Ir.useState(j1e()),g=B1e(h,1),_=g[0],E=n??_,O=function(D){var Y=D.expanded,ee=Y&&a?a:o;return Ir.createElement("div",$f({"data-accordion-component":"AccordionItem",className:ee},s))};return mb(E.toString()),s.id&&mb(s.id),Ir.createElement(G1e,{uuid:E,dangerouslySetExpanded:r},Ir.createElement(Fw,null,O))};SG.displayName=wG.AccordionItem;function EG(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:EG(e.parentElement))}function Lw(e){var t=EG(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Q1e(e){var t=Lw(e)||[],n=t[0];n&&n.focus()}function Y1e(e){var t=Lw(e)||[],n=t[t.length-1];n&&n.focus()}function q1e(e){var t=Lw(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n+1];r&&r.focus()}}function H1e(e){var t=Lw(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n-1];r&&r.focus()}}var Mp={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},V1e=["toggleExpanded","className"],Z1e=function(t){var n=t.toggleExpanded,r=t.className,i=r===void 0?"accordion__button":r,o=Dw(t,V1e),a=function(h){var g=h.key;if((g===Mp.ENTER||g===Mp.SPACE||g===Mp.SPACE_DEPRECATED)&&(h.preventDefault(),n()),h.target instanceof HTMLElement)switch(g){case Mp.HOME:{h.preventDefault(),Q1e(h.target);break}case Mp.END:{h.preventDefault(),Y1e(h.target);break}case Mp.LEFT:case Mp.UP:{h.preventDefault(),H1e(h.target);break}case Mp.RIGHT:case Mp.DOWN:{h.preventDefault(),q1e(h.target);break}}};return o.id&&mb(o.id),Ir.createElement("div",$f({className:i},o,{role:"button",tabIndex:0,onClick:n,onKeyDown:a,"data-accordion-component":"AccordionItemButton"}))},X1e=function(t){return Ir.createElement(Fw,null,function(n){var r=n.toggleExpanded,i=n.buttonAttributes;return Ir.createElement(Z1e,$f({toggleExpanded:r},t,i))})},J1e={className:"accordion__heading","aria-level":3},ege=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,OG=function(e){TI(n,e);var t=PI(n);function n(){var r;Pw(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),vs(Oh(r),"ref",void 0),vs(Oh(r),"setRef",function(s){r.ref=s}),r}return Kw(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return Ir.createElement("div",$f({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(ege)}}]),n}(Ir.PureComponent);vs(OG,"defaultProps",J1e);var BG=function(t){return Ir.createElement(Fw,null,function(n){var r=n.headingAttributes;return t.id&&mb(t.id),Ir.createElement(OG,$f({},t,r))})};BG.displayName=wG.AccordionItemHeading;var tge=["className","region","id"],nge=function(t){var n=t.className,r=n===void 0?"accordion__panel":n,i=t.region,o=t.id,a=Dw(t,tge),s=function(g){var _=g.panelAttributes;o&&mb(o);var E=lB(lB({},_),{},{"aria-labelledby":i?_["aria-labelledby"]:void 0});return Ir.createElement("div",$f({"data-accordion-component":"AccordionItemPanel",className:r},a,E,{role:i?"region":void 0}))};return Ir.createElement(Fw,null,s)},c6={exports:{}},SK;function Uw(){return SK||(SK=1,function(e,t){(function(n,r){e.exports=r()})(Dh,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),s=/Edge\/(\d+)/.exec(n),h=o||a||s,g=h&&(o?document.documentMode||6:+(s||a)[1]),_=!s&&/WebKit\//.test(n),E=_&&/Qt\/\d+\.\d+/.test(n),O=!s&&/Chrome\/(\d+)/.exec(n),K=O&&+O[1],D=/Opera\//.test(n),Y=/Apple Computer/.test(navigator.vendor),ee=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),H=/PhantomJS/.test(n),N=Y&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),Z=/Android/.test(n),ue=N||Z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),ye=N||/Mac/.test(r),be=/\bCrOS\b/.test(n),X=/win/i.test(r),se=D&&n.match(/Version\/(\d*\.\d*)/);se&&(se=Number(se[1])),se&&se>=15&&(D=!1,_=!0);var we=ye&&(E||D&&(se==null||se<12.11)),xe=i||h&&g>=9;function De(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var Fe=function(A,f){var x=A.className,b=De(f).exec(x);if(b){var B=x.slice(b.index+b[0].length);A.className=x.slice(0,b.index)+(B?b[1]+B:"")}};function he(A){for(var f=A.childNodes.length;f>0;--f)A.removeChild(A.firstChild);return A}function Qe(A,f){return he(A).appendChild(f)}function ge(A,f,x,b){var B=document.createElement(A);if(x&&(B.className=x),b&&(B.style.cssText=b),typeof f=="string")B.appendChild(document.createTextNode(f));else if(f)for(var U=0;U<f.length;++U)B.appendChild(f[U]);return B}function yt(A,f,x,b){var B=ge(A,f,x,b);return B.setAttribute("role","presentation"),B}var wt;document.createRange?wt=function(A,f,x,b){var B=document.createRange();return B.setEnd(b||A,x),B.setStart(A,f),B}:wt=function(A,f,x){var b=document.body.createTextRange();try{b.moveToElementText(A.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",x),b.moveStart("character",f),b};function st(A,f){if(f.nodeType==3&&(f=f.parentNode),A.contains)return A.contains(f);do if(f.nodeType==11&&(f=f.host),f==A)return!0;while(f=f.parentNode)}function mt(A){var f=A.ownerDocument||A,x;try{x=A.activeElement}catch{x=f.body||null}for(;x&&x.shadowRoot&&x.shadowRoot.activeElement;)x=x.shadowRoot.activeElement;return x}function ze(A,f){var x=A.className;De(f).test(x)||(A.className+=(x?" ":"")+f)}function He(A,f){for(var x=A.split(" "),b=0;b<x.length;b++)x[b]&&!De(x[b]).test(f)&&(f+=" "+x[b]);return f}var Ve=function(A){A.select()};N?Ve=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:h&&(Ve=function(A){try{A.select()}catch{}});function Vt(A){return A.display.wrapper.ownerDocument}function Yt(A){return vt(A.display.wrapper)}function vt(A){return A.getRootNode?A.getRootNode():A.ownerDocument}function $t(A){return Vt(A).defaultView}function Qt(A){var f=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,f)}}function ke(A,f,x){f||(f={});for(var b in A)A.hasOwnProperty(b)&&(x!==!1||!f.hasOwnProperty(b))&&(f[b]=A[b]);return f}function pe(A,f,x,b,B){f==null&&(f=A.search(/[^\s\u00a0]/),f==-1&&(f=A.length));for(var U=b||0,Q=B||0;;){var ne=A.indexOf("	",U);if(ne<0||ne>=f)return Q+(f-U);Q+=ne-U,Q+=x-Q%x,U=ne+1}}var Se=function(){this.id=null,this.f=null,this.time=0,this.handler=Qt(this.onTimeout,this)};Se.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Se.prototype.set=function(A,f){this.f=f;var x=+new Date+A;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=x)};function Re(A,f){for(var x=0;x<A.length;++x)if(A[x]==f)return x;return-1}var it=50,ot={toString:function(){return"CodeMirror.Pass"}},St={scroll:!1},Rt={origin:"*mouse"},zt={origin:"+move"};function pt(A,f,x){for(var b=0,B=0;;){var U=A.indexOf("	",b);U==-1&&(U=A.length);var Q=U-b;if(U==A.length||B+Q>=f)return b+Math.min(Q,f-B);if(B+=U-b,B+=x-B%x,b=U+1,B>=f)return b}}var rr=[""];function gn(A){for(;rr.length<=A;)rr.push(yn(rr)+" ");return rr[A]}function yn(A){return A[A.length-1]}function Jn(A,f){for(var x=[],b=0;b<A.length;b++)x[b]=f(A[b],b);return x}function Ar(A,f,x){for(var b=0,B=x(f);b<A.length&&x(A[b])<=B;)b++;A.splice(b,0,f)}function Mr(){}function Wr(A,f){var x;return Object.create?x=Object.create(A):(Mr.prototype=A,x=new Mr),f&&ke(f,x),x}var gr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function _i(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||gr.test(A))}function Ee(A,f){return f?f.source.indexOf("\\w")>-1&&_i(A)?!0:f.test(A):_i(A)}function J(A){for(var f in A)if(A.hasOwnProperty(f)&&A[f])return!1;return!0}var q=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Te(A){return A.charCodeAt(0)>=768&&q.test(A)}function At(A,f,x){for(;(x<0?f>0:f<A.length)&&Te(A.charAt(f));)f+=x;return f}function Bt(A,f,x){for(var b=f>x?-1:1;;){if(f==x)return f;var B=(f+x)/2,U=b<0?Math.ceil(B):Math.floor(B);if(U==f)return A(U)?f:x;A(U)?x=U:f=U+b}}function kt(A,f,x,b){if(!A)return b(f,x,"ltr",0);for(var B=!1,U=0;U<A.length;++U){var Q=A[U];(Q.from<x&&Q.to>f||f==x&&Q.to==f)&&(b(Math.max(Q.from,f),Math.min(Q.to,x),Q.level==1?"rtl":"ltr",U),B=!0)}B||b(f,x,"ltr")}var Ft=null;function fn(A,f,x){var b;Ft=null;for(var B=0;B<A.length;++B){var U=A[B];if(U.from<f&&U.to>f)return B;U.to==f&&(U.from!=U.to&&x=="before"?b=B:Ft=B),U.from==f&&(U.from!=U.to&&x!="before"?b=B:Ft=B)}return b??Ft}var Kn=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",f="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function x(me){return me<=247?A.charAt(me):1424<=me&&me<=1524?"R":1536<=me&&me<=1785?f.charAt(me-1536):1774<=me&&me<=2220?"r":8192<=me&&me<=8203?"w":me==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,B=/[stwN]/,U=/[LRr]/,Q=/[Lb1n]/,ne=/[1n]/;function le(me,$e,nt){this.level=me,this.from=$e,this.to=nt}return function(me,$e){var nt=$e=="ltr"?"L":"R";if(me.length==0||$e=="ltr"&&!b.test(me))return!1;for(var Ot=me.length,_t=[],Wt=0;Wt<Ot;++Wt)_t.push(x(me.charCodeAt(Wt)));for(var cn=0,kn=nt;cn<Ot;++cn){var Qn=_t[cn];Qn=="m"?_t[cn]=kn:kn=Qn}for(var bn=0,Ln=nt;bn<Ot;++bn){var ar=_t[bn];ar=="1"&&Ln=="r"?_t[bn]="n":U.test(ar)&&(Ln=ar,ar=="r"&&(_t[bn]="R"))}for(var Tr=1,_r=_t[0];Tr<Ot-1;++Tr){var hi=_t[Tr];hi=="+"&&_r=="1"&&_t[Tr+1]=="1"?_t[Tr]="1":hi==","&&_r==_t[Tr+1]&&(_r=="1"||_r=="n")&&(_t[Tr]=_r),_r=hi}for(var Uo=0;Uo<Ot;++Uo){var qa=_t[Uo];if(qa==",")_t[Uo]="N";else if(qa=="%"){var ba=void 0;for(ba=Uo+1;ba<Ot&&_t[ba]=="%";++ba);for(var La=Uo&&_t[Uo-1]=="!"||ba<Ot&&_t[ba]=="1"?"1":"N",As=Uo;As<ba;++As)_t[As]=La;Uo=ba-1}}for(var cs=0,Sl=nt;cs<Ot;++cs){var el=_t[cs];Sl=="L"&&el=="1"?_t[cs]="L":U.test(el)&&(Sl=el)}for(var Bs=0;Bs<Ot;++Bs)if(B.test(_t[Bs])){var ds=void 0;for(ds=Bs+1;ds<Ot&&B.test(_t[ds]);++ds);for(var ca=(Bs?_t[Bs-1]:nt)=="L",Is=(ds<Ot?_t[ds]:nt)=="L",hh=ca==Is?ca?"L":"R":nt,Ac=Bs;Ac<ds;++Ac)_t[Ac]=hh;Bs=ds-1}for(var js=[],cc,Ws=0;Ws<Ot;)if(Q.test(_t[Ws])){var K0=Ws;for(++Ws;Ws<Ot&&Q.test(_t[Ws]);++Ws);js.push(new le(0,K0,Ws))}else{var IA=Ws,zc=js.length,Ha=$e=="rtl"?1:0;for(++Ws;Ws<Ot&&_t[Ws]!="L";++Ws);for(var tl=IA;tl<Ws;)if(ne.test(_t[tl])){IA<tl&&(js.splice(zc,0,new le(1,IA,tl)),zc+=Ha);var fh=tl;for(++tl;tl<Ws&&ne.test(_t[tl]);++tl);js.splice(zc,0,new le(2,fh,tl)),zc+=Ha,IA=tl}else++tl;IA<Ws&&js.splice(zc,0,new le(1,IA,Ws))}return $e=="ltr"&&(js[0].level==1&&(cc=me.match(/^\s+/))&&(js[0].from=cc[0].length,js.unshift(new le(0,0,cc[0].length))),yn(js).level==1&&(cc=me.match(/\s+$/))&&(yn(js).to-=cc[0].length,js.push(new le(0,Ot-cc[0].length,Ot)))),$e=="rtl"?js.reverse():js}}();function On(A,f){var x=A.order;return x==null&&(x=A.order=Kn(A.text,f)),x}var m=[],Pt=function(A,f,x){if(A.addEventListener)A.addEventListener(f,x,!1);else if(A.attachEvent)A.attachEvent("on"+f,x);else{var b=A._handlers||(A._handlers={});b[f]=(b[f]||m).concat(x)}};function Kr(A,f){return A._handlers&&A._handlers[f]||m}function tr(A,f,x){if(A.removeEventListener)A.removeEventListener(f,x,!1);else if(A.detachEvent)A.detachEvent("on"+f,x);else{var b=A._handlers,B=b&&b[f];if(B){var U=Re(B,x);U>-1&&(b[f]=B.slice(0,U).concat(B.slice(U+1)))}}}function Ke(A,f){var x=Kr(A,f);if(x.length)for(var b=Array.prototype.slice.call(arguments,2),B=0;B<x.length;++B)x[B].apply(null,b)}function ce(A,f,x){return typeof f=="string"&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}}),Ke(A,x||f.type,A,f),ft(f)||f.codemirrorIgnore}function Ce(A){var f=A._handlers&&A._handlers.cursorActivity;if(f)for(var x=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),b=0;b<f.length;++b)Re(x,f[b])==-1&&x.push(f[b])}function Ie(A,f){return Kr(A,f).length>0}function je(A){A.prototype.on=function(f,x){Pt(this,f,x)},A.prototype.off=function(f,x){tr(this,f,x)}}function rt(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function lt(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function ft(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function et(A){rt(A),lt(A)}function Mt(A){return A.target||A.srcElement}function tn(A){var f=A.which;return f==null&&(A.button&1?f=1:A.button&2?f=3:A.button&4&&(f=2)),ye&&A.ctrlKey&&f==1&&(f=3),f}var Ht=function(){if(h&&g<9)return!1;var A=ge("div");return"draggable"in A||"dragDrop"in A}(),en;function Dn(A){if(en==null){var f=ge("span","​");Qe(A,ge("span",[f,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(en=f.offsetWidth<=1&&f.offsetHeight>2&&!(h&&g<8))}var x=en?ge("span","​"):ge("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}var Bn;function Yn(A){if(Bn!=null)return Bn;var f=Qe(A,document.createTextNode("AخA")),x=wt(f,0,1).getBoundingClientRect(),b=wt(f,1,2).getBoundingClientRect();return he(A),!x||x.left==x.right?!1:Bn=b.right-x.right<3}var Sr=`

b`.split(/\n/).length!=3?function(A){for(var f=0,x=[],b=A.length;f<=b;){var B=A.indexOf(`
`,f);B==-1&&(B=A.length);var U=A.slice(f,A.charAt(B-1)=="\r"?B-1:B),Q=U.indexOf("\r");Q!=-1?(x.push(U.slice(0,Q)),f+=Q+1):(x.push(U),f=B+1)}return x}:function(A){return A.split(/\r\n?|\n/)},lr=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var f;try{f=A.ownerDocument.selection.createRange()}catch{}return!f||f.parentElement()!=A?!1:f.compareEndPoints("StartToEnd",f)!=0},Qr=function(){var A=ge("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),Or=null;function Lr(A){if(Or!=null)return Or;var f=Qe(A,ge("span","x")),x=f.getBoundingClientRect(),b=wt(f,0,1).getBoundingClientRect();return Or=Math.abs(x.left-b.left)>1}var ir={},ci={};function Li(A,f){arguments.length>2&&(f.dependencies=Array.prototype.slice.call(arguments,2)),ir[A]=f}function to(A,f){ci[A]=f}function ho(A){if(typeof A=="string"&&ci.hasOwnProperty(A))A=ci[A];else if(A&&typeof A.name=="string"&&ci.hasOwnProperty(A.name)){var f=ci[A.name];typeof f=="string"&&(f={name:f}),A=Wr(f,A),A.name=f.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return ho("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return ho("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function ai(A,f){f=ho(f);var x=ir[f.name];if(!x)return ai(A,"text/plain");var b=x(A,f);if(fo.hasOwnProperty(f.name)){var B=fo[f.name];for(var U in B)B.hasOwnProperty(U)&&(b.hasOwnProperty(U)&&(b["_"+U]=b[U]),b[U]=B[U])}if(b.name=f.name,f.helperType&&(b.helperType=f.helperType),f.modeProps)for(var Q in f.modeProps)b[Q]=f.modeProps[Q];return b}var fo={};function Wa(A,f){var x=fo.hasOwnProperty(A)?fo[A]:fo[A]={};ke(f,x)}function Ia(A,f){if(f===!0)return f;if(A.copyState)return A.copyState(f);var x={};for(var b in f){var B=f[b];B instanceof Array&&(B=B.concat([])),x[b]=B}return x}function Mi(A,f){for(var x;A.innerMode&&(x=A.innerMode(f),!(!x||x.mode==A));)f=x.state,A=x.mode;return x||{mode:A,state:f}}function os(A,f,x){return A.startState?A.startState(f,x):!0}var gi=function(A,f,x){this.pos=this.start=0,this.string=A,this.tabSize=f||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};gi.prototype.eol=function(){return this.pos>=this.string.length},gi.prototype.sol=function(){return this.pos==this.lineStart},gi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},gi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},gi.prototype.eat=function(A){var f=this.string.charAt(this.pos),x;if(typeof A=="string"?x=f==A:x=f&&(A.test?A.test(f):A(f)),x)return++this.pos,f},gi.prototype.eatWhile=function(A){for(var f=this.pos;this.eat(A););return this.pos>f},gi.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},gi.prototype.skipToEnd=function(){this.pos=this.string.length},gi.prototype.skipTo=function(A){var f=this.string.indexOf(A,this.pos);if(f>-1)return this.pos=f,!0},gi.prototype.backUp=function(A){this.pos-=A},gi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=pe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?pe(this.string,this.lineStart,this.tabSize):0)},gi.prototype.indentation=function(){return pe(this.string,null,this.tabSize)-(this.lineStart?pe(this.string,this.lineStart,this.tabSize):0)},gi.prototype.match=function(A,f,x){if(typeof A=="string"){var b=function(Q){return x?Q.toLowerCase():Q},B=this.string.substr(this.pos,A.length);if(b(B)==b(A))return f!==!1&&(this.pos+=A.length),!0}else{var U=this.string.slice(this.pos).match(A);return U&&U.index>0?null:(U&&f!==!1&&(this.pos+=U[0].length),U)}},gi.prototype.current=function(){return this.string.slice(this.start,this.pos)},gi.prototype.hideFirstChars=function(A,f){this.lineStart+=A;try{return f()}finally{this.lineStart-=A}},gi.prototype.lookAhead=function(A){var f=this.lineOracle;return f&&f.lookAhead(A)},gi.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function jn(A,f){if(f-=A.first,f<0||f>=A.size)throw new Error("There is no line "+(f+A.first)+" in the document.");for(var x=A;!x.lines;)for(var b=0;;++b){var B=x.children[b],U=B.chunkSize();if(f<U){x=B;break}f-=U}return x.lines[f]}function ro(A,f,x){var b=[],B=f.line;return A.iter(f.line,x.line+1,function(U){var Q=U.text;B==x.line&&(Q=Q.slice(0,x.ch)),B==f.line&&(Q=Q.slice(f.ch)),b.push(Q),++B}),b}function _o(A,f,x){var b=[];return A.iter(f,x,function(B){b.push(B.text)}),b}function Ui(A,f){var x=f-A.height;if(x)for(var b=A;b;b=b.parent)b.height+=x}function ve(A){if(A.parent==null)return null;for(var f=A.parent,x=Re(f.lines,A),b=f.parent;b;f=b,b=b.parent)for(var B=0;b.children[B]!=f;++B)x+=b.children[B].chunkSize();return x+f.first}function Je(A,f){var x=A.first;e:do{for(var b=0;b<A.children.length;++b){var B=A.children[b],U=B.height;if(f<U){A=B;continue e}f-=U,x+=B.chunkSize()}return x}while(!A.lines);for(var Q=0;Q<A.lines.length;++Q){var ne=A.lines[Q],le=ne.height;if(f<le)break;f-=le}return x+Q}function Zt(A,f){return f>=A.first&&f<A.first+A.size}function sn(A,f){return String(A.lineNumberFormatter(f+A.firstLineNumber))}function Lt(A,f,x){if(x===void 0&&(x=null),!(this instanceof Lt))return new Lt(A,f,x);this.line=A,this.ch=f,this.sticky=x}function wn(A,f){return A.line-f.line||A.ch-f.ch}function dr(A,f){return A.sticky==f.sticky&&wn(A,f)==0}function ri(A){return Lt(A.line,A.ch)}function si(A,f){return wn(A,f)<0?f:A}function Zo(A,f){return wn(A,f)<0?A:f}function Pa(A,f){return Math.max(A.first,Math.min(f,A.first+A.size-1))}function Dr(A,f){if(f.line<A.first)return Lt(A.first,0);var x=A.first+A.size-1;return f.line>x?Lt(x,jn(A,x).text.length):Na(f,jn(A,f.line).text.length)}function Na(A,f){var x=A.ch;return x==null||x>f?Lt(A.line,f):x<0?Lt(A.line,0):A}function yi(A,f){for(var x=[],b=0;b<f.length;b++)x[b]=Dr(A,f[b]);return x}var Ga=function(A,f){this.state=A,this.lookAhead=f},Xo=function(A,f,x,b){this.state=f,this.doc=A,this.line=x,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};Xo.prototype.lookAhead=function(A){var f=this.doc.getLine(this.line+A);return f!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),f},Xo.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},Xo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Xo.fromSaved=function(A,f,x){return f instanceof Ga?new Xo(A,Ia(A.mode,f.state),x,f.lookAhead):new Xo(A,Ia(A.mode,f),x)},Xo.prototype.save=function(A){var f=A!==!1?Ia(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ga(f,this.maxLookAhead):f};function bu(A,f,x,b){var B=[A.state.modeGen],U={};_A(A,f.text,A.doc.mode,x,function(me,$e){return B.push(me,$e)},U,b);for(var Q=x.state,ne=function(me){x.baseTokens=B;var $e=A.state.overlays[me],nt=1,Ot=0;x.state=!0,_A(A,f.text,$e.mode,x,function(_t,Wt){for(var cn=nt;Ot<_t;){var kn=B[nt];kn>_t&&B.splice(nt,1,_t,B[nt+1],kn),nt+=2,Ot=Math.min(_t,kn)}if(Wt)if($e.opaque)B.splice(cn,nt-cn,_t,"overlay "+Wt),nt=cn+2;else for(;cn<nt;cn+=2){var Qn=B[cn+1];B[cn+1]=(Qn?Qn+" ":"")+"overlay "+Wt}},U),x.state=Q,x.baseTokens=null,x.baseTokenPos=1},le=0;le<A.state.overlays.length;++le)ne(le);return{styles:B,classes:U.bgClass||U.textClass?U:null}}function as(A,f,x){if(!f.styles||f.styles[0]!=A.state.modeGen){var b=Jo(A,ve(f)),B=f.text.length>A.options.maxHighlightLength&&Ia(A.doc.mode,b.state),U=bu(A,f,b);B&&(b.state=B),f.stateAfter=b.save(!B),f.styles=U.styles,U.classes?f.styleClasses=U.classes:f.styleClasses&&(f.styleClasses=null),x===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return f.styles}function Jo(A,f,x){var b=A.doc,B=A.display;if(!b.mode.startState)return new Xo(b,!0,f);var U=wu(A,f,x),Q=U>b.first&&jn(b,U-1).stateAfter,ne=Q?Xo.fromSaved(b,Q,U):new Xo(b,os(b.mode),U);return b.iter(U,f,function(le){ea(A,le.text,ne);var me=ne.line;le.stateAfter=me==f-1||me%5==0||me>=B.viewFrom&&me<B.viewTo?ne.save():null,ne.nextLine()}),x&&(b.modeFrontier=ne.line),ne}function ea(A,f,x,b){var B=A.doc.mode,U=new gi(f,A.options.tabSize,x);for(U.start=U.pos=b||0,f==""&&bs(B,x.state);!U.eol();)xu(B,U,x.state),U.start=U.pos}function bs(A,f){if(A.blankLine)return A.blankLine(f);if(A.innerMode){var x=Mi(A,f);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function xu(A,f,x,b){for(var B=0;B<10;B++){b&&(b[0]=Mi(A,x).mode);var U=A.token(f,x);if(f.pos>f.start)return U}throw new Error("Mode "+A.name+" failed to advance stream.")}var pa=function(A,f,x){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=f||null,this.state=x};function vA(A,f,x,b){var B=A.doc,U=B.mode,Q;f=Dr(B,f);var ne=jn(B,f.line),le=Jo(A,f.line,x),me=new gi(ne.text,A.options.tabSize,le),$e;for(b&&($e=[]);(b||me.pos<f.ch)&&!me.eol();)me.start=me.pos,Q=xu(U,me,le.state),b&&$e.push(new pa(me,Q,Ia(B.mode,le.state)));return b?$e:new pa(me,Q,le.state)}function ju(A,f){if(A)for(;;){var x=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;A=A.slice(0,x.index)+A.slice(x.index+x[0].length);var b=x[1]?"bgClass":"textClass";f[b]==null?f[b]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(f[b])||(f[b]+=" "+x[2])}return A}function _A(A,f,x,b,B,U,Q){var ne=x.flattenSpans;ne==null&&(ne=A.options.flattenSpans);var le=0,me=null,$e=new gi(f,A.options.tabSize,b),nt,Ot=A.options.addModeClass&&[null];for(f==""&&ju(bs(x,b.state),U);!$e.eol();){if($e.pos>A.options.maxHighlightLength?(ne=!1,Q&&ea(A,f,b,$e.pos),$e.pos=f.length,nt=null):nt=ju(xu(x,$e,b.state,Ot),U),Ot){var _t=Ot[0].name;_t&&(nt="m-"+(nt?_t+" "+nt:_t))}if(!ne||me!=nt){for(;le<$e.start;)le=Math.min($e.start,le+5e3),B(le,me);me=nt}$e.start=$e.pos}for(;le<$e.pos;){var Wt=Math.min($e.pos,le+5e3);B(Wt,me),le=Wt}}function wu(A,f,x){for(var b,B,U=A.doc,Q=x?-1:f-(A.doc.mode.innerMode?1e3:100),ne=f;ne>Q;--ne){if(ne<=U.first)return U.first;var le=jn(U,ne-1),me=le.stateAfter;if(me&&(!x||ne+(me instanceof Ga?me.lookAhead:0)<=U.modeFrontier))return ne;var $e=pe(le.text,null,A.options.tabSize);(B==null||b>$e)&&(B=ne-1,b=$e)}return B}function Wu(A,f){if(A.modeFrontier=Math.min(A.modeFrontier,f),!(A.highlightFrontier<f-10)){for(var x=A.first,b=f-1;b>x;b--){var B=jn(A,b).stateAfter;if(B&&(!(B instanceof Ga)||b+B.lookAhead<f)){x=b+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,x)}}var jo=!1,xs=!1;function eu(){jo=!0}function ss(){xs=!0}function ll(A,f,x){this.marker=A,this.from=f,this.to=x}function Wo(A,f){if(A)for(var x=0;x<A.length;++x){var b=A[x];if(b.marker==f)return b}}function Mu(A,f){for(var x,b=0;b<A.length;++b)A[b]!=f&&(x||(x=[])).push(A[b]);return x}function ul(A,f,x){var b=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));b&&A.markedSpans&&b.has(A.markedSpans)?A.markedSpans.push(f):(A.markedSpans=A.markedSpans?A.markedSpans.concat([f]):[f],b&&b.add(A.markedSpans)),f.marker.attachLine(A)}function xl(A,f,x){var b;if(A)for(var B=0;B<A.length;++B){var U=A[B],Q=U.marker,ne=U.from==null||(Q.inclusiveLeft?U.from<=f:U.from<f);if(ne||U.from==f&&Q.type=="bookmark"&&(!x||!U.marker.insertLeft)){var le=U.to==null||(Q.inclusiveRight?U.to>=f:U.to>f);(b||(b=[])).push(new ll(Q,U.from,le?null:U.to))}}return b}function tu(A,f,x){var b;if(A)for(var B=0;B<A.length;++B){var U=A[B],Q=U.marker,ne=U.to==null||(Q.inclusiveRight?U.to>=f:U.to>f);if(ne||U.from==f&&Q.type=="bookmark"&&(!x||U.marker.insertLeft)){var le=U.from==null||(Q.inclusiveLeft?U.from<=f:U.from<f);(b||(b=[])).push(new ll(Q,le?null:U.from-f,U.to==null?null:U.to-f))}}return b}function sa(A,f){if(f.full)return null;var x=Zt(A,f.from.line)&&jn(A,f.from.line).markedSpans,b=Zt(A,f.to.line)&&jn(A,f.to.line).markedSpans;if(!x&&!b)return null;var B=f.from.ch,U=f.to.ch,Q=wn(f.from,f.to)==0,ne=xl(x,B,Q),le=tu(b,U,Q),me=f.text.length==1,$e=yn(f.text).length+(me?B:0);if(ne)for(var nt=0;nt<ne.length;++nt){var Ot=ne[nt];if(Ot.to==null){var _t=Wo(le,Ot.marker);_t?me&&(Ot.to=_t.to==null?null:_t.to+$e):Ot.to=B}}if(le)for(var Wt=0;Wt<le.length;++Wt){var cn=le[Wt];if(cn.to!=null&&(cn.to+=$e),cn.from==null){var kn=Wo(ne,cn.marker);kn||(cn.from=$e,me&&(ne||(ne=[])).push(cn))}else cn.from+=$e,me&&(ne||(ne=[])).push(cn)}ne&&(ne=Al(ne)),le&&le!=ne&&(le=Al(le));var Qn=[ne];if(!me){var bn=f.text.length-2,Ln;if(bn>0&&ne)for(var ar=0;ar<ne.length;++ar)ne[ar].to==null&&(Ln||(Ln=[])).push(new ll(ne[ar].marker,null,null));for(var Tr=0;Tr<bn;++Tr)Qn.push(Ln);Qn.push(le)}return Qn}function Al(A){for(var f=0;f<A.length;++f){var x=A[f];x.from!=null&&x.from==x.to&&x.marker.clearWhenEmpty!==!1&&A.splice(f--,1)}return A.length?A:null}function CA(A,f,x){var b=null;if(A.iter(f.line,x.line+1,function(_t){if(_t.markedSpans)for(var Wt=0;Wt<_t.markedSpans.length;++Wt){var cn=_t.markedSpans[Wt].marker;cn.readOnly&&(!b||Re(b,cn)==-1)&&(b||(b=[])).push(cn)}}),!b)return null;for(var B=[{from:f,to:x}],U=0;U<b.length;++U)for(var Q=b[U],ne=Q.find(0),le=0;le<B.length;++le){var me=B[le];if(!(wn(me.to,ne.from)<0||wn(me.from,ne.to)>0)){var $e=[le,1],nt=wn(me.from,ne.from),Ot=wn(me.to,ne.to);(nt<0||!Q.inclusiveLeft&&!nt)&&$e.push({from:me.from,to:ne.from}),(Ot>0||!Q.inclusiveRight&&!Ot)&&$e.push({from:ne.to,to:me.to}),B.splice.apply(B,$e),le+=$e.length-3}}return B}function vo(A){var f=A.markedSpans;if(f){for(var x=0;x<f.length;++x)f[x].marker.detachLine(A);A.markedSpans=null}}function io(A,f){if(f){for(var x=0;x<f.length;++x)f[x].marker.attachLine(A);A.markedSpans=f}}function z(A){return A.inclusiveLeft?-1:0}function ae(A){return A.inclusiveRight?1:0}function Ue(A,f){var x=A.lines.length-f.lines.length;if(x!=0)return x;var b=A.find(),B=f.find(),U=wn(b.from,B.from)||z(A)-z(f);if(U)return-U;var Q=wn(b.to,B.to)||ae(A)-ae(f);return Q||f.id-A.id}function gt(A,f){var x=xs&&A.markedSpans,b;if(x)for(var B=void 0,U=0;U<x.length;++U)B=x[U],B.marker.collapsed&&(f?B.from:B.to)==null&&(!b||Ue(b,B.marker)<0)&&(b=B.marker);return b}function Wn(A){return gt(A,!0)}function vn(A){return gt(A,!1)}function Pn(A,f){var x=xs&&A.markedSpans,b;if(x)for(var B=0;B<x.length;++B){var U=x[B];U.marker.collapsed&&(U.from==null||U.from<f)&&(U.to==null||U.to>f)&&(!b||Ue(b,U.marker)<0)&&(b=U.marker)}return b}function Ur(A,f,x,b,B){var U=jn(A,f),Q=xs&&U.markedSpans;if(Q)for(var ne=0;ne<Q.length;++ne){var le=Q[ne];if(le.marker.collapsed){var me=le.marker.find(0),$e=wn(me.from,x)||z(le.marker)-z(B),nt=wn(me.to,b)||ae(le.marker)-ae(B);if(!($e>=0&&nt<=0||$e<=0&&nt>=0)&&($e<=0&&(le.marker.inclusiveRight&&B.inclusiveLeft?wn(me.to,x)>=0:wn(me.to,x)>0)||$e>=0&&(le.marker.inclusiveRight&&B.inclusiveLeft?wn(me.from,b)<=0:wn(me.from,b)<0)))return!0}}}function yr(A){for(var f;f=Wn(A);)A=f.find(-1,!0).line;return A}function kr(A){for(var f;f=vn(A);)A=f.find(1,!0).line;return A}function Ii(A){for(var f,x;f=vn(A);)A=f.find(1,!0).line,(x||(x=[])).push(A);return x}function po(A,f){var x=jn(A,f),b=yr(x);return x==b?f:ve(b)}function Si(A,f){if(f>A.lastLine())return f;var x=jn(A,f),b;if(!Zr(A,x))return f;for(;b=vn(x);)x=b.find(1,!0).line;return ve(x)+1}function Zr(A,f){var x=xs&&f.markedSpans;if(x){for(var b=void 0,B=0;B<x.length;++B)if(b=x[B],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&Hi(A,f,b))return!0}}}function Hi(A,f,x){if(x.to==null){var b=x.marker.find(1,!0);return Hi(A,b.line,Wo(b.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==f.text.length)return!0;for(var B=void 0,U=0;U<f.markedSpans.length;++U)if(B=f.markedSpans[U],B.marker.collapsed&&!B.marker.widgetNode&&B.from==x.to&&(B.to==null||B.to!=x.from)&&(B.marker.inclusiveLeft||x.marker.inclusiveRight)&&Hi(A,f,B))return!0}function Bo(A){A=yr(A);for(var f=0,x=A.parent,b=0;b<x.lines.length;++b){var B=x.lines[b];if(B==A)break;f+=B.height}for(var U=x.parent;U;x=U,U=x.parent)for(var Q=0;Q<U.children.length;++Q){var ne=U.children[Q];if(ne==x)break;f+=ne.height}return f}function xo(A){if(A.height==0)return 0;for(var f=A.text.length,x,b=A;x=Wn(b);){var B=x.find(0,!0);b=B.from.line,f+=B.from.ch-B.to.ch}for(b=A;x=vn(b);){var U=x.find(0,!0);f-=b.text.length-U.from.ch,b=U.to.line,f+=b.text.length-U.to.ch}return f}function $a(A){var f=A.display,x=A.doc;f.maxLine=jn(x,x.first),f.maxLineLength=xo(f.maxLine),f.maxLineChanged=!0,x.iter(function(b){var B=xo(b);B>f.maxLineLength&&(f.maxLineLength=B,f.maxLine=b)})}var Dl=function(A,f,x){this.text=A,io(this,f),this.height=x?x(this):1};Dl.prototype.lineNo=function(){return ve(this)},je(Dl);function nu(A,f,x,b){A.text=f,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),vo(A),io(A,x);var B=b?b(A):1;B!=A.height&&Ui(A,B)}function ma(A){A.parent=null,vo(A)}var _0={},ru={};function Rh(A,f){if(!A||/^\s*$/.test(A))return null;var x=f.addModeClass?ru:_0;return x[A]||(x[A]=A.replace(/\S+/g,"cm-$&"))}function sd(A,f){var x=yt("span",null,null,_?"padding-right: .1px":null),b={pre:yt("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};f.measure={};for(var B=0;B<=(f.rest?f.rest.length:0);B++){var U=B?f.rest[B-1]:f.line,Q=void 0;b.pos=0,b.addToken=ld,Yn(A.display.measure)&&(Q=On(U,A.doc.direction))&&(b.addToken=ta(b.addToken,Q)),b.map=[];var ne=f!=A.display.externalMeasured&&ve(U);qd(U,b,as(A,U,ne)),U.styleClasses&&(U.styleClasses.bgClass&&(b.bgClass=He(U.styleClasses.bgClass,b.bgClass||"")),U.styleClasses.textClass&&(b.textClass=He(U.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Dn(A.display.measure))),B==0?(f.measure.map=b.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(b.map),(f.measure.caches||(f.measure.caches=[])).push({}))}if(_){var le=b.content.lastChild;(/\bcm-tab\b/.test(le.className)||le.querySelector&&le.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return Ke(A,"renderLine",A,f.line,b.pre),b.pre.className&&(b.textClass=He(b.pre.className,b.textClass||"")),b}function Nu(A){var f=ge("span","•","cm-invalidchar");return f.title="\\u"+A.charCodeAt(0).toString(16),f.setAttribute("aria-label",f.title),f}function ld(A,f,x,b,B,U,Q){if(f){var ne=A.splitSpaces?$A(f,A.trailingSpace):f,le=A.cm.state.specialChars,me=!1,$e;if(!le.test(f))A.col+=f.length,$e=document.createTextNode(ne),A.map.push(A.pos,A.pos+f.length,$e),h&&g<9&&(me=!0),A.pos+=f.length;else{$e=document.createDocumentFragment();for(var nt=0;;){le.lastIndex=nt;var Ot=le.exec(f),_t=Ot?Ot.index-nt:f.length-nt;if(_t){var Wt=document.createTextNode(ne.slice(nt,nt+_t));h&&g<9?$e.appendChild(ge("span",[Wt])):$e.appendChild(Wt),A.map.push(A.pos,A.pos+_t,Wt),A.col+=_t,A.pos+=_t}if(!Ot)break;nt+=_t+1;var cn=void 0;if(Ot[0]=="	"){var kn=A.cm.options.tabSize,Qn=kn-A.col%kn;cn=$e.appendChild(ge("span",gn(Qn),"cm-tab")),cn.setAttribute("role","presentation"),cn.setAttribute("cm-text","	"),A.col+=Qn}else Ot[0]=="\r"||Ot[0]==`
`?(cn=$e.appendChild(ge("span",Ot[0]=="\r"?"␍":"␤","cm-invalidchar")),cn.setAttribute("cm-text",Ot[0]),A.col+=1):(cn=A.cm.options.specialCharPlaceholder(Ot[0]),cn.setAttribute("cm-text",Ot[0]),h&&g<9?$e.appendChild(ge("span",[cn])):$e.appendChild(cn),A.col+=1);A.map.push(A.pos,A.pos+1,cn),A.pos++}}if(A.trailingSpace=ne.charCodeAt(f.length-1)==32,x||b||B||me||U||Q){var bn=x||"";b&&(bn+=b),B&&(bn+=B);var Ln=ge("span",[$e],bn,U);if(Q)for(var ar in Q)Q.hasOwnProperty(ar)&&ar!="style"&&ar!="class"&&Ln.setAttribute(ar,Q[ar]);return A.content.appendChild(Ln)}A.content.appendChild($e)}}function $A(A,f){if(A.length>1&&!/  /.test(A))return A;for(var x=f,b="",B=0;B<A.length;B++){var U=A.charAt(B);U==" "&&x&&(B==A.length-1||A.charCodeAt(B+1)==32)&&(U=" "),b+=U,x=U==" "}return b}function ta(A,f){return function(x,b,B,U,Q,ne,le){B=B?B+" cm-force-border":"cm-force-border";for(var me=x.pos,$e=me+b.length;;){for(var nt=void 0,Ot=0;Ot<f.length&&(nt=f[Ot],!(nt.to>me&&nt.from<=me));Ot++);if(nt.to>=$e)return A(x,b,B,U,Q,ne,le);A(x,b.slice(0,nt.to-me),B,U,null,ne,le),U=null,b=b.slice(nt.to-me),me=nt.to}}}function Gu(A,f,x,b){var B=!b&&x.widgetNode;B&&A.map.push(A.pos,A.pos+f,B),!b&&A.cm.display.input.needsContentAttribute&&(B||(B=A.content.appendChild(document.createElement("span"))),B.setAttribute("cm-marker",x.id)),B&&(A.cm.display.input.setUneditable(B),A.content.appendChild(B)),A.pos+=f,A.trailingSpace=!1}function qd(A,f,x){var b=A.markedSpans,B=A.text,U=0;if(!b){for(var Q=1;Q<x.length;Q+=2)f.addToken(f,B.slice(U,U=x[Q]),Rh(x[Q+1],f.cm.options));return}for(var ne=B.length,le=0,me=1,$e="",nt,Ot,_t=0,Wt,cn,kn,Qn,bn;;){if(_t==le){Wt=cn=kn=Ot="",bn=null,Qn=null,_t=1/0;for(var Ln=[],ar=void 0,Tr=0;Tr<b.length;++Tr){var _r=b[Tr],hi=_r.marker;if(hi.type=="bookmark"&&_r.from==le&&hi.widgetNode)Ln.push(hi);else if(_r.from<=le&&(_r.to==null||_r.to>le||hi.collapsed&&_r.to==le&&_r.from==le)){if(_r.to!=null&&_r.to!=le&&_t>_r.to&&(_t=_r.to,cn=""),hi.className&&(Wt+=" "+hi.className),hi.css&&(Ot=(Ot?Ot+";":"")+hi.css),hi.startStyle&&_r.from==le&&(kn+=" "+hi.startStyle),hi.endStyle&&_r.to==_t&&(ar||(ar=[])).push(hi.endStyle,_r.to),hi.title&&((bn||(bn={})).title=hi.title),hi.attributes)for(var Uo in hi.attributes)(bn||(bn={}))[Uo]=hi.attributes[Uo];hi.collapsed&&(!Qn||Ue(Qn.marker,hi)<0)&&(Qn=_r)}else _r.from>le&&_t>_r.from&&(_t=_r.from)}if(ar)for(var qa=0;qa<ar.length;qa+=2)ar[qa+1]==_t&&(cn+=" "+ar[qa]);if(!Qn||Qn.from==le)for(var ba=0;ba<Ln.length;++ba)Gu(f,0,Ln[ba]);if(Qn&&(Qn.from||0)==le){if(Gu(f,(Qn.to==null?ne+1:Qn.to)-le,Qn.marker,Qn.from==null),Qn.to==null)return;Qn.to==le&&(Qn=!1)}}if(le>=ne)break;for(var La=Math.min(ne,_t);;){if($e){var As=le+$e.length;if(!Qn){var cs=As>La?$e.slice(0,La-le):$e;f.addToken(f,cs,nt?nt+Wt:Wt,kn,le+cs.length==_t?cn:"",Ot,bn)}if(As>=La){$e=$e.slice(La-le),le=La;break}le=As,kn=""}$e=B.slice(U,U=x[me++]),nt=Rh(x[me++],f.cm.options)}}}function QA(A,f,x){this.line=f,this.rest=Ii(f),this.size=this.rest?ve(yn(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Zr(A,f)}function Bc(A,f,x){for(var b=[],B,U=f;U<x;U=B){var Q=new QA(A.doc,jn(A.doc,U),U);B=U+Q.size,b.push(Q)}return b}var Su=null;function ud(A){Su?Su.ops.push(A):A.ownsGroup=Su={ops:[A],delayedCallbacks:[]}}function tm(A){var f=A.delayedCallbacks,x=0;do{for(;x<f.length;x++)f[x].call(null);for(var b=0;b<A.ops.length;b++){var B=A.ops[b];if(B.cursorActivityHandlers)for(;B.cursorActivityCalled<B.cursorActivityHandlers.length;)B.cursorActivityHandlers[B.cursorActivityCalled++].call(null,B.cm)}}while(x<f.length)}function zh(A,f){var x=A.ownsGroup;if(x)try{tm(x)}finally{Su=null,f(x)}}var ki=null;function Io(A,f){var x=Kr(A,f);if(x.length){var b=Array.prototype.slice.call(arguments,2),B;Su?B=Su.delayedCallbacks:ki?B=ki:(B=ki=[],setTimeout(C0,0));for(var U=function(ne){B.push(function(){return x[ne].apply(null,b)})},Q=0;Q<x.length;++Q)U(Q)}}function C0(){var A=ki;ki=null;for(var f=0;f<A.length;++f)A[f]()}function jh(A,f,x,b){for(var B=0;B<f.changes.length;B++){var U=f.changes[B];U=="text"?Xf(A,f):U=="gutter"?YA(A,f,x,b):U=="class"?Wi(A,f):U=="widget"&&ko(A,f,b)}f.changes=null}function $u(A){return A.node==A.text&&(A.node=ge("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),h&&g<8&&(A.node.style.zIndex=2)),A.node}function Zf(A,f){var x=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),f.background)x?f.background.className=x:(f.background.parentNode.removeChild(f.background),f.background=null);else if(x){var b=$u(f);f.background=b.insertBefore(ge("div",null,x),b.firstChild),A.display.input.setUneditable(f.background)}}function la(A,f){var x=A.display.externalMeasured;return x&&x.line==f.line?(A.display.externalMeasured=null,f.measure=x.measure,x.built):sd(A,f)}function Xf(A,f){var x=f.text.className,b=la(A,f);f.text==f.node&&(f.node=b.pre),f.text.parentNode.replaceChild(b.pre,f.text),f.text=b.pre,b.bgClass!=f.bgClass||b.textClass!=f.textClass?(f.bgClass=b.bgClass,f.textClass=b.textClass,Wi(A,f)):x&&(f.text.className=x)}function Wi(A,f){Zf(A,f),f.line.wrapClass?$u(f).className=f.line.wrapClass:f.node!=f.text&&(f.node.className="");var x=f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass;f.text.className=x||""}function YA(A,f,x,b){if(f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null),f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null),f.line.gutterClass){var B=$u(f);f.gutterBackground=ge("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),A.display.input.setUneditable(f.gutterBackground),B.insertBefore(f.gutterBackground,f.text)}var U=f.line.gutterMarkers;if(A.options.lineNumbers||U){var Q=$u(f),ne=f.gutter=ge("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(ne.setAttribute("aria-hidden","true"),A.display.input.setUneditable(ne),Q.insertBefore(ne,f.text),f.line.gutterClass&&(ne.className+=" "+f.line.gutterClass),A.options.lineNumbers&&(!U||!U["CodeMirror-linenumbers"])&&(f.lineNumber=ne.appendChild(ge("div",sn(A.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),U)for(var le=0;le<A.display.gutterSpecs.length;++le){var me=A.display.gutterSpecs[le].className,$e=U.hasOwnProperty(me)&&U[me];$e&&ne.appendChild(ge("div",[$e],"CodeMirror-gutter-elt","left: "+b.gutterLeft[me]+"px; width: "+b.gutterWidth[me]+"px"))}}}function ko(A,f,x){f.alignable&&(f.alignable=null);for(var b=De("CodeMirror-linewidget"),B=f.node.firstChild,U=void 0;B;B=U)U=B.nextSibling,b.test(B.className)&&f.node.removeChild(B);qA(A,f,x)}function Fo(A,f,x,b){var B=la(A,f);return f.text=f.node=B.pre,B.bgClass&&(f.bgClass=B.bgClass),B.textClass&&(f.textClass=B.textClass),Wi(A,f),YA(A,f,x,b),qA(A,f,b),f.node}function qA(A,f,x){if(Us(A,f.line,f,x,!0),f.rest)for(var b=0;b<f.rest.length;b++)Us(A,f.rest[b],f,x,!1)}function Us(A,f,x,b,B){if(f.widgets)for(var U=$u(x),Q=0,ne=f.widgets;Q<ne.length;++Q){var le=ne[Q],me=ge("div",[le.node],"CodeMirror-linewidget"+(le.className?" "+le.className:""));le.handleMouseEvents||me.setAttribute("cm-ignore-events","true"),Wh(le,me,x,b),A.display.input.setUneditable(me),B&&le.above?U.insertBefore(me,x.gutter||x.text):U.appendChild(me),Io(le,"redraw")}}function Wh(A,f,x,b){if(A.noHScroll){(x.alignable||(x.alignable=[])).push(f);var B=b.wrapperWidth;f.style.left=b.fixedPos+"px",A.coverGutter||(B-=b.gutterTotalWidth,f.style.paddingLeft=b.gutterTotalWidth+"px"),f.style.width=B+"px"}A.coverGutter&&(f.style.zIndex=5,f.style.position="relative",A.noHScroll||(f.style.marginLeft=-b.gutterTotalWidth+"px"))}function iu(A){if(A.height!=null)return A.height;var f=A.doc.cm;if(!f)return 0;if(!st(document.body,A.node)){var x="position: relative;";A.coverGutter&&(x+="margin-left: -"+f.display.gutters.offsetWidth+"px;"),A.noHScroll&&(x+="width: "+f.display.wrapper.clientWidth+"px;"),Qe(f.display.measure,ge("div",[A.node],null,x))}return A.height=A.node.parentNode.offsetHeight}function Fl(A,f){for(var x=Mt(f);x!=A.wrapper;x=x.parentNode)if(!x||x.nodeType==1&&x.getAttribute("cm-ignore-events")=="true"||x.parentNode==A.sizer&&x!=A.mover)return!0}function Ic(A){return A.lineSpace.offsetTop}function Nh(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Hd(A){if(A.cachedPaddingH)return A.cachedPaddingH;var f=Qe(A.measure,ge("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,b={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(A.cachedPaddingH=b),b}function Eu(A){return it-A.display.nativeBarWidth}function bA(A){return A.display.scroller.clientWidth-Eu(A)-A.display.barWidth}function HA(A){return A.display.scroller.clientHeight-Eu(A)-A.display.barHeight}function VA(A,f,x){var b=A.options.lineWrapping,B=b&&bA(A);if(!f.measure.heights||b&&f.measure.width!=B){var U=f.measure.heights=[];if(b){f.measure.width=B;for(var Q=f.text.firstChild.getClientRects(),ne=0;ne<Q.length-1;ne++){var le=Q[ne],me=Q[ne+1];Math.abs(le.bottom-me.bottom)>2&&U.push((le.bottom+me.top)/2-x.top)}}U.push(x.bottom-x.top)}}function Jf(A,f,x){if(A.line==f)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var b=0;b<A.rest.length;b++)if(A.rest[b]==f)return{map:A.measure.maps[b],cache:A.measure.caches[b]};for(var B=0;B<A.rest.length;B++)if(ve(A.rest[B])>x)return{map:A.measure.maps[B],cache:A.measure.caches[B],before:!0}}}function nm(A,f){f=yr(f);var x=ve(f),b=A.display.externalMeasured=new QA(A.doc,f,x);b.lineN=x;var B=b.built=sd(A,b);return b.text=B.pre,Qe(A.display.lineMeasure,B.pre),b}function kc(A,f,x,b){return wl(A,Ll(A,f),x,b)}function Ad(A,f){if(f>=A.display.viewFrom&&f<A.display.viewTo)return A.display.view[ZA(A,f)];var x=A.display.externalMeasured;if(x&&f>=x.lineN&&f<x.lineN+x.size)return x}function Ll(A,f){var x=ve(f),b=Ad(A,x);b&&!b.text?b=null:b&&b.changes&&(jh(A,b,x,ls(A)),A.curOp.forceUpdate=!0),b||(b=nm(A,f));var B=Jf(b,f,x);return{line:f,view:b,rect:null,map:B.map,cache:B.cache,before:B.before,hasHeights:!1}}function wl(A,f,x,b,B){f.before&&(x=-1);var U=x+(b||""),Q;return f.cache.hasOwnProperty(U)?Q=f.cache[U]:(f.rect||(f.rect=f.view.text.getBoundingClientRect()),f.hasHeights||(VA(A,f.view,f.rect),f.hasHeights=!0),Q=Ou(A,f,x,b),Q.bogus||(f.cache[U]=Q)),{left:Q.left,right:Q.right,top:B?Q.rtop:Q.top,bottom:B?Q.rbottom:Q.bottom}}var ga={left:0,right:0,top:0,bottom:0};function xA(A,f,x){for(var b,B,U,Q,ne,le,me=0;me<A.length;me+=3)if(ne=A[me],le=A[me+1],f<ne?(B=0,U=1,Q="left"):f<le?(B=f-ne,U=B+1):(me==A.length-3||f==le&&A[me+3]>f)&&(U=le-ne,B=U-1,f>=le&&(Q="right")),B!=null){if(b=A[me+2],ne==le&&x==(b.insertLeft?"left":"right")&&(Q=x),x=="left"&&B==0)for(;me&&A[me-2]==A[me-3]&&A[me-1].insertLeft;)b=A[(me-=3)+2],Q="left";if(x=="right"&&B==le-ne)for(;me<A.length-3&&A[me+3]==A[me+4]&&!A[me+5].insertLeft;)b=A[(me+=3)+2],Q="right";break}return{node:b,start:B,end:U,collapse:Q,coverStart:ne,coverEnd:le}}function Ul(A,f){var x=ga;if(f=="left")for(var b=0;b<A.length&&(x=A[b]).left==x.right;b++);else for(var B=A.length-1;B>=0&&(x=A[B]).left==x.right;B--);return x}function Ou(A,f,x,b){var B=xA(f.map,x,b),U=B.node,Q=B.start,ne=B.end,le=B.collapse,me;if(U.nodeType==3){for(var $e=0;$e<4;$e++){for(;Q&&Te(f.line.text.charAt(B.coverStart+Q));)--Q;for(;B.coverStart+ne<B.coverEnd&&Te(f.line.text.charAt(B.coverStart+ne));)++ne;if(h&&g<9&&Q==0&&ne==B.coverEnd-B.coverStart?me=U.parentNode.getBoundingClientRect():me=Ul(wt(U,Q,ne).getClientRects(),b),me.left||me.right||Q==0)break;ne=Q,Q=Q-1,le="right"}h&&g<11&&(me=Rl(A.display.measure,me))}else{Q>0&&(le=b="right");var nt;A.options.lineWrapping&&(nt=U.getClientRects()).length>1?me=nt[b=="right"?nt.length-1:0]:me=U.getBoundingClientRect()}if(h&&g<9&&!Q&&(!me||!me.left&&!me.right)){var Ot=U.parentNode.getClientRects()[0];Ot?me={left:Ot.left,right:Ot.left+Qu(A.display),top:Ot.top,bottom:Ot.bottom}:me=ga}for(var _t=me.top-f.rect.top,Wt=me.bottom-f.rect.top,cn=(_t+Wt)/2,kn=f.view.measure.heights,Qn=0;Qn<kn.length-1&&!(cn<kn[Qn]);Qn++);var bn=Qn?kn[Qn-1]:0,Ln=kn[Qn],ar={left:(le=="right"?me.right:me.left)-f.rect.left,right:(le=="left"?me.left:me.right)-f.rect.left,top:bn,bottom:Ln};return!me.left&&!me.right&&(ar.bogus=!0),A.options.singleCursorHeightPerLine||(ar.rtop=_t,ar.rbottom=Wt),ar}function Rl(A,f){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Lr(A))return f;var x=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:f.left*x,right:f.right*x,top:f.top*b,bottom:f.bottom*b}}function Vd(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var f=0;f<A.rest.length;f++)A.measure.caches[f]={}}function Tc(A){A.display.externalMeasure=null,he(A.display.lineMeasure);for(var f=0;f<A.display.view.length;f++)Vd(A.display.view[f])}function Bu(A){Tc(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Pc(A){return O&&Z?-(A.body.getBoundingClientRect().left-parseInt(getComputedStyle(A.body).marginLeft)):A.defaultView.pageXOffset||(A.documentElement||A.body).scrollLeft}function cd(A){return O&&Z?-(A.body.getBoundingClientRect().top-parseInt(getComputedStyle(A.body).marginTop)):A.defaultView.pageYOffset||(A.documentElement||A.body).scrollTop}function Zd(A){var f=yr(A),x=f.widgets,b=0;if(x)for(var B=0;B<x.length;++B)x[B].above&&(b+=iu(x[B]));return b}function ou(A,f,x,b,B){if(!B){var U=Zd(f);x.top+=U,x.bottom+=U}if(b=="line")return x;b||(b="local");var Q=Bo(f);if(b=="local"?Q+=Ic(A.display):Q-=A.display.viewOffset,b=="page"||b=="window"){var ne=A.display.lineSpace.getBoundingClientRect();Q+=ne.top+(b=="window"?0:cd(Vt(A)));var le=ne.left+(b=="window"?0:Pc(Vt(A)));x.left+=le,x.right+=le}return x.top+=Q,x.bottom+=Q,x}function Et(A,f,x){if(x=="div")return f;var b=f.left,B=f.top;if(x=="page")b-=Pc(Vt(A)),B-=cd(Vt(A));else if(x=="local"||!x){var U=A.display.sizer.getBoundingClientRect();b+=U.left,B+=U.top}var Q=A.display.lineSpace.getBoundingClientRect();return{left:b-Q.left,top:B-Q.top}}function an(A,f,x,b,B){return b||(b=jn(A.doc,f.line)),ou(A,b,kc(A,b,f.ch,B),x)}function jt(A,f,x,b,B,U){b=b||jn(A.doc,f.line),B||(B=Ll(A,b));function Q(Wt,cn){var kn=wl(A,B,Wt,cn?"right":"left",U);return cn?kn.left=kn.right:kn.right=kn.left,ou(A,b,kn,x)}var ne=On(b,A.doc.direction),le=f.ch,me=f.sticky;if(le>=b.text.length?(le=b.text.length,me="before"):le<=0&&(le=0,me="after"),!ne)return Q(me=="before"?le-1:le,me=="before");function $e(Wt,cn,kn){var Qn=ne[cn],bn=Qn.level==1;return Q(kn?Wt-1:Wt,bn!=kn)}var nt=fn(ne,le,me),Ot=Ft,_t=$e(le,nt,me=="before");return Ot!=null&&(_t.other=$e(le,Ot,me!="before")),_t}function hr(A,f){var x=0;f=Dr(A.doc,f),A.options.lineWrapping||(x=Qu(A.display)*f.ch);var b=jn(A.doc,f.line),B=Bo(b)+Ic(A.display);return{left:x,right:x,top:B,bottom:B+b.height}}function li(A,f,x,b,B){var U=Lt(A,f,x);return U.xRel=B,b&&(U.outside=b),U}function oo(A,f,x){var b=A.doc;if(x+=A.display.viewOffset,x<0)return li(b.first,0,null,-1,-1);var B=Je(b,x),U=b.first+b.size-1;if(B>U)return li(b.first+b.size-1,jn(b,U).text.length,null,1,1);f<0&&(f=0);for(var Q=jn(b,B);;){var ne=Xd(A,Q,B,f,x),le=Pn(Q,ne.ch+(ne.xRel>0||ne.outside>0?1:0));if(!le)return ne;var me=le.find(1);if(me.line==B)return me;Q=jn(b,B=me.line)}}function Ka(A,f,x,b){b-=Zd(f);var B=f.text.length,U=Bt(function(Q){return wl(A,x,Q-1).bottom<=b},B,0);return B=Bt(function(Q){return wl(A,x,Q).top>b},U,B),{begin:U,end:B}}function To(A,f,x,b){x||(x=Ll(A,f));var B=ou(A,f,wl(A,x,b),"line").top;return Ka(A,f,x,B)}function wA(A,f,x,b){return A.bottom<=x?!1:A.top>x?!0:(b?A.left:A.right)>f}function Xd(A,f,x,b,B){B-=Bo(f);var U=Ll(A,f),Q=Zd(f),ne=0,le=f.text.length,me=!0,$e=On(f,A.doc.direction);if($e){var nt=(A.options.lineWrapping?MA:Po)(A,f,x,U,$e,b,B);me=nt.level!=1,ne=me?nt.from:nt.to-1,le=me?nt.to:nt.from-1}var Ot=null,_t=null,Wt=Bt(function(Tr){var _r=wl(A,U,Tr);return _r.top+=Q,_r.bottom+=Q,wA(_r,b,B,!1)?(_r.top<=B&&_r.left<=b&&(Ot=Tr,_t=_r),!0):!1},ne,le),cn,kn,Qn=!1;if(_t){var bn=b-_t.left<_t.right-b,Ln=bn==me;Wt=Ot+(Ln?0:1),kn=Ln?"after":"before",cn=bn?_t.left:_t.right}else{!me&&(Wt==le||Wt==ne)&&Wt++,kn=Wt==0?"after":Wt==f.text.length?"before":wl(A,U,Wt-(me?1:0)).bottom+Q<=B==me?"after":"before";var ar=jt(A,Lt(x,Wt,kn),"line",f,U);cn=ar.left,Qn=B<ar.top?-1:B>=ar.bottom?1:0}return Wt=At(f.text,Wt,1),li(x,Wt,kn,Qn,b-cn)}function Po(A,f,x,b,B,U,Q){var ne=Bt(function(nt){var Ot=B[nt],_t=Ot.level!=1;return wA(jt(A,Lt(x,_t?Ot.to:Ot.from,_t?"before":"after"),"line",f,b),U,Q,!0)},0,B.length-1),le=B[ne];if(ne>0){var me=le.level!=1,$e=jt(A,Lt(x,me?le.from:le.to,me?"after":"before"),"line",f,b);wA($e,U,Q,!0)&&$e.top>Q&&(le=B[ne-1])}return le}function MA(A,f,x,b,B,U,Q){var ne=Ka(A,f,b,Q),le=ne.begin,me=ne.end;/\s/.test(f.text.charAt(me-1))&&me--;for(var $e=null,nt=null,Ot=0;Ot<B.length;Ot++){var _t=B[Ot];if(!(_t.from>=me||_t.to<=le)){var Wt=_t.level!=1,cn=wl(A,b,Wt?Math.min(me,_t.to)-1:Math.max(le,_t.from)).right,kn=cn<U?U-cn+1e9:cn-U;(!$e||nt>kn)&&($e=_t,nt=kn)}}return $e||($e=B[B.length-1]),$e.from<le&&($e={from:le,to:$e.to,level:$e.level}),$e.to>me&&($e={from:$e.from,to:me,level:$e.level}),$e}var ws;function Qa(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(ws==null){ws=ge("pre",null,"CodeMirror-line-like");for(var f=0;f<49;++f)ws.appendChild(document.createTextNode("x")),ws.appendChild(ge("br"));ws.appendChild(document.createTextNode("x"))}Qe(A.measure,ws);var x=ws.offsetHeight/50;return x>3&&(A.cachedTextHeight=x),he(A.measure),x||1}function Qu(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var f=ge("span","xxxxxxxxxx"),x=ge("pre",[f],"CodeMirror-line-like");Qe(A.measure,x);var b=f.getBoundingClientRect(),B=(b.right-b.left)/10;return B>2&&(A.cachedCharWidth=B),B||10}function ls(A){for(var f=A.display,x={},b={},B=f.gutters.clientLeft,U=f.gutters.firstChild,Q=0;U;U=U.nextSibling,++Q){var ne=A.display.gutterSpecs[Q].className;x[ne]=U.offsetLeft+U.clientLeft+B,b[ne]=U.clientWidth}return{fixedPos:Vi(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:x,gutterWidth:b,wrapperWidth:f.wrapper.clientWidth}}function Vi(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function Gh(A){var f=Qa(A.display),x=A.options.lineWrapping,b=x&&Math.max(5,A.display.scroller.clientWidth/Qu(A.display)-3);return function(B){if(Zr(A.doc,B))return 0;var U=0;if(B.widgets)for(var Q=0;Q<B.widgets.length;Q++)B.widgets[Q].height&&(U+=B.widgets[Q].height);return x?U+(Math.ceil(B.text.length/b)||1)*f:U+f}}function $h(A){var f=A.doc,x=Gh(A);f.iter(function(b){var B=x(b);B!=b.height&&Ui(b,B)})}function au(A,f,x,b){var B=A.display;if(!x&&Mt(f).getAttribute("cm-not-content")=="true")return null;var U,Q,ne=B.lineSpace.getBoundingClientRect();try{U=f.clientX-ne.left,Q=f.clientY-ne.top}catch{return null}var le=oo(A,U,Q),me;if(b&&le.xRel>0&&(me=jn(A.doc,le.line).text).length==le.ch){var $e=pe(me,me.length,A.options.tabSize)-me.length;le=Lt(le.line,Math.max(0,Math.round((U-Hd(A.display).left)/Qu(A.display))-$e))}return le}function ZA(A,f){if(f>=A.display.viewTo||(f-=A.display.viewFrom,f<0))return null;for(var x=A.display.view,b=0;b<x.length;b++)if(f-=x[b].size,f<0)return b}function ya(A,f,x,b){f==null&&(f=A.doc.first),x==null&&(x=A.doc.first+A.doc.size),b||(b=0);var B=A.display;if(b&&x<B.viewTo&&(B.updateLineNumbers==null||B.updateLineNumbers>f)&&(B.updateLineNumbers=f),A.curOp.viewChanged=!0,f>=B.viewTo)xs&&po(A.doc,f)<B.viewTo&&Nn(A);else if(x<=B.viewFrom)xs&&Si(A.doc,x+b)>B.viewFrom?Nn(A):(B.viewFrom+=b,B.viewTo+=b);else if(f<=B.viewFrom&&x>=B.viewTo)Nn(A);else if(f<=B.viewFrom){var U=zl(A,x,x+b,1);U?(B.view=B.view.slice(U.index),B.viewFrom=U.lineN,B.viewTo+=b):Nn(A)}else if(x>=B.viewTo){var Q=zl(A,f,f,-1);Q?(B.view=B.view.slice(0,Q.index),B.viewTo=Q.lineN):Nn(A)}else{var ne=zl(A,f,f,-1),le=zl(A,x,x+b,1);ne&&le?(B.view=B.view.slice(0,ne.index).concat(Bc(A,ne.lineN,le.lineN)).concat(B.view.slice(le.index)),B.viewTo+=b):Nn(A)}var me=B.externalMeasured;me&&(x<me.lineN?me.lineN+=b:f<me.lineN+me.size&&(B.externalMeasured=null))}function cl(A,f,x){A.curOp.viewChanged=!0;var b=A.display,B=A.display.externalMeasured;if(B&&f>=B.lineN&&f<B.lineN+B.size&&(b.externalMeasured=null),!(f<b.viewFrom||f>=b.viewTo)){var U=b.view[ZA(A,f)];if(U.node!=null){var Q=U.changes||(U.changes=[]);Re(Q,x)==-1&&Q.push(x)}}}function Nn(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function zl(A,f,x,b){var B=ZA(A,f),U,Q=A.display.view;if(!xs||x==A.doc.first+A.doc.size)return{index:B,lineN:x};for(var ne=A.display.viewFrom,le=0;le<B;le++)ne+=Q[le].size;if(ne!=f){if(b>0){if(B==Q.length-1)return null;U=ne+Q[B].size-f,B++}else U=ne-f;f+=U,x+=U}for(;po(A.doc,x)!=x;){if(B==(b<0?0:Q.length-1))return null;x+=b*Q[B-(b<0?1:0)].size,B+=b}return{index:B,lineN:x}}function Yu(A,f,x){var b=A.display,B=b.view;B.length==0||f>=b.viewTo||x<=b.viewFrom?(b.view=Bc(A,f,x),b.viewFrom=f):(b.viewFrom>f?b.view=Bc(A,f,b.viewFrom).concat(b.view):b.viewFrom<f&&(b.view=b.view.slice(ZA(A,f))),b.viewFrom=f,b.viewTo<x?b.view=b.view.concat(Bc(A,b.viewTo,x)):b.viewTo>x&&(b.view=b.view.slice(0,ZA(A,x)))),b.viewTo=x}function XA(A){for(var f=A.display.view,x=0,b=0;b<f.length;b++){var B=f[b];!B.hidden&&(!B.node||B.changes)&&++x}return x}function qu(A){A.display.input.showSelection(A.display.input.prepareSelection())}function Vn(A,f){f===void 0&&(f=!0);var x=A.doc,b={},B=b.cursors=document.createDocumentFragment(),U=b.selection=document.createDocumentFragment(),Q=A.options.$customCursor;Q&&(f=!0);for(var ne=0;ne<x.sel.ranges.length;ne++)if(!(!f&&ne==x.sel.primIndex)){var le=x.sel.ranges[ne];if(!(le.from().line>=A.display.viewTo||le.to().line<A.display.viewFrom)){var me=le.empty();if(Q){var $e=Q(A,le);$e&&JA(A,$e,B)}else(me||A.options.showCursorWhenSelecting)&&JA(A,le.head,B);me||ep(A,le,U)}}return b}function JA(A,f,x){var b=jt(A,f,"div",null,null,!A.options.singleCursorHeightPerLine),B=x.appendChild(ge("div"," ","CodeMirror-cursor"));if(B.style.left=b.left+"px",B.style.top=b.top+"px",B.style.height=Math.max(0,b.bottom-b.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var U=an(A,f,"div",null,null),Q=U.right-U.left;B.style.width=(Q>0?Q:A.defaultCharWidth())+"px"}if(b.other){var ne=x.appendChild(ge("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));ne.style.display="",ne.style.left=b.other.left+"px",ne.style.top=b.other.top+"px",ne.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function Hu(A,f){return A.top-f.top||A.left-f.left}function ep(A,f,x){var b=A.display,B=A.doc,U=document.createDocumentFragment(),Q=Hd(A.display),ne=Q.left,le=Math.max(b.sizerWidth,bA(A)-b.sizer.offsetLeft)-Q.right,me=B.direction=="ltr";function $e(Ln,ar,Tr,_r){ar<0&&(ar=0),ar=Math.round(ar),_r=Math.round(_r),U.appendChild(ge("div",null,"CodeMirror-selected","position: absolute; left: "+Ln+`px;
                             top: `+ar+"px; width: "+(Tr??le-Ln)+`px;
                             height: `+(_r-ar)+"px"))}function nt(Ln,ar,Tr){var _r=jn(B,Ln),hi=_r.text.length,Uo,qa;function ba(cs,Sl){return an(A,Lt(Ln,cs),"div",_r,Sl)}function La(cs,Sl,el){var Bs=To(A,_r,null,cs),ds=Sl=="ltr"==(el=="after")?"left":"right",ca=el=="after"?Bs.begin:Bs.end-(/\s/.test(_r.text.charAt(Bs.end-1))?2:1);return ba(ca,ds)[ds]}var As=On(_r,B.direction);return kt(As,ar||0,Tr??hi,function(cs,Sl,el,Bs){var ds=el=="ltr",ca=ba(cs,ds?"left":"right"),Is=ba(Sl-1,ds?"right":"left"),hh=ar==null&&cs==0,Ac=Tr==null&&Sl==hi,js=Bs==0,cc=!As||Bs==As.length-1;if(Is.top-ca.top<=3){var Ws=(me?hh:Ac)&&js,K0=(me?Ac:hh)&&cc,IA=Ws?ne:(ds?ca:Is).left,zc=K0?le:(ds?Is:ca).right;$e(IA,ca.top,zc-IA,ca.bottom)}else{var Ha,tl,fh,dc;ds?(Ha=me&&hh&&js?ne:ca.left,tl=me?le:La(cs,el,"before"),fh=me?ne:La(Sl,el,"after"),dc=me&&Ac&&cc?le:Is.right):(Ha=me?La(cs,el,"before"):ne,tl=!me&&hh&&js?le:ca.right,fh=!me&&Ac&&cc?ne:Is.left,dc=me?La(Sl,el,"after"):le),$e(Ha,ca.top,tl-Ha,ca.bottom),ca.bottom<Is.top&&$e(ne,ca.bottom,null,Is.top),$e(fh,Is.top,dc-fh,Is.bottom)}(!Uo||Hu(ca,Uo)<0)&&(Uo=ca),Hu(Is,Uo)<0&&(Uo=Is),(!qa||Hu(ca,qa)<0)&&(qa=ca),Hu(Is,qa)<0&&(qa=Is)}),{start:Uo,end:qa}}var Ot=f.from(),_t=f.to();if(Ot.line==_t.line)nt(Ot.line,Ot.ch,_t.ch);else{var Wt=jn(B,Ot.line),cn=jn(B,_t.line),kn=yr(Wt)==yr(cn),Qn=nt(Ot.line,Ot.ch,kn?Wt.text.length+1:null).end,bn=nt(_t.line,kn?0:null,_t.ch).start;kn&&(Qn.top<bn.top-2?($e(Qn.right,Qn.top,null,Qn.bottom),$e(ne,bn.top,bn.left,bn.bottom)):$e(Qn.right,Qn.top,bn.left-Qn.right,Qn.bottom)),Qn.bottom<bn.top&&$e(ne,Qn.bottom,null,bn.top)}x.appendChild(U)}function Vu(A){if(A.state.focused){var f=A.display;clearInterval(f.blinker);var x=!0;f.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?f.blinker=setInterval(function(){A.hasFocus()||Kc(A),f.cursorDiv.style.visibility=(x=!x)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(f.cursorDiv.style.visibility="hidden")}}function Zu(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||Jd(A))}function ec(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&Kc(A))},100)}function Jd(A,f){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(Ke(A,"focus",A,f),A.state.focused=!0,ze(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),_&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),Vu(A))}function Kc(A,f){A.state.delayingBlurEvent||(A.state.focused&&(Ke(A,"blur",A,f),A.state.focused=!1,Fe(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function Xu(A){for(var f=A.display,x=f.lineDiv.offsetTop,b=Math.max(0,f.scroller.getBoundingClientRect().top),B=f.lineDiv.getBoundingClientRect().top,U=0,Q=0;Q<f.view.length;Q++){var ne=f.view[Q],le=A.options.lineWrapping,me=void 0,$e=0;if(!ne.hidden){if(B+=ne.line.height,h&&g<8){var nt=ne.node.offsetTop+ne.node.offsetHeight;me=nt-x,x=nt}else{var Ot=ne.node.getBoundingClientRect();me=Ot.bottom-Ot.top,!le&&ne.text.firstChild&&($e=ne.text.firstChild.getBoundingClientRect().right-Ot.left-1)}var _t=ne.line.height-me;if((_t>.005||_t<-.005)&&(B<b&&(U-=_t),Ui(ne.line,me),wo(ne.line),ne.rest))for(var Wt=0;Wt<ne.rest.length;Wt++)wo(ne.rest[Wt]);if($e>A.display.sizerWidth){var cn=Math.ceil($e/Qu(A.display));cn>A.display.maxLineLength&&(A.display.maxLineLength=cn,A.display.maxLine=ne.line,A.display.maxLineChanged=!0)}}}Math.abs(U)>2&&(f.scroller.scrollTop+=U)}function wo(A){if(A.widgets)for(var f=0;f<A.widgets.length;++f){var x=A.widgets[f],b=x.node.parentNode;b&&(x.height=b.offsetHeight)}}function Ju(A,f,x){var b=x&&x.top!=null?Math.max(0,x.top):A.scroller.scrollTop;b=Math.floor(b-Ic(A));var B=x&&x.bottom!=null?x.bottom:b+A.wrapper.clientHeight,U=Je(f,b),Q=Je(f,B);if(x&&x.ensure){var ne=x.ensure.from.line,le=x.ensure.to.line;ne<U?(U=ne,Q=Je(f,Bo(jn(f,ne))+A.wrapper.clientHeight)):Math.min(le,f.lastLine())>=Q&&(U=Je(f,Bo(jn(f,le))-A.wrapper.clientHeight),Q=le)}return{from:U,to:Math.max(Q,U+1)}}function dd(A,f){if(!ce(A,"scrollCursorIntoView")){var x=A.display,b=x.sizer.getBoundingClientRect(),B=null,U=x.wrapper.ownerDocument;if(f.top+b.top<0?B=!0:f.bottom+b.top>(U.defaultView.innerHeight||U.documentElement.clientHeight)&&(B=!1),B!=null&&!H){var Q=ge("div","​",null,`position: absolute;
                         top: `+(f.top-x.viewOffset-Ic(A.display))+`px;
                         height: `+(f.bottom-f.top+Eu(A)+x.barHeight)+`px;
                         left: `+f.left+"px; width: "+Math.max(2,f.right-f.left)+"px;");A.display.lineSpace.appendChild(Q),Q.scrollIntoView(B),A.display.lineSpace.removeChild(Q)}}}function tp(A,f,x,b){b==null&&(b=0);var B;!A.options.lineWrapping&&f==x&&(x=f.sticky=="before"?Lt(f.line,f.ch+1,"before"):f,f=f.ch?Lt(f.line,f.sticky=="before"?f.ch-1:f.ch,"after"):f);for(var U=0;U<5;U++){var Q=!1,ne=jt(A,f),le=!x||x==f?ne:jt(A,x);B={left:Math.min(ne.left,le.left),top:Math.min(ne.top,le.top)-b,right:Math.max(ne.left,le.left),bottom:Math.max(ne.bottom,le.bottom)+b};var me=Yh(A,B),$e=A.doc.scrollTop,nt=A.doc.scrollLeft;if(me.scrollTop!=null&&(Dc(A,me.scrollTop),Math.abs(A.doc.scrollTop-$e)>1&&(Q=!0)),me.scrollLeft!=null&&(Aa(A,me.scrollLeft),Math.abs(A.doc.scrollLeft-nt)>1&&(Q=!0)),!Q)break}return B}function Qh(A,f){var x=Yh(A,f);x.scrollTop!=null&&Dc(A,x.scrollTop),x.scrollLeft!=null&&Aa(A,x.scrollLeft)}function Yh(A,f){var x=A.display,b=Qa(A.display);f.top<0&&(f.top=0);var B=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:x.scroller.scrollTop,U=HA(A),Q={};f.bottom-f.top>U&&(f.bottom=f.top+U);var ne=A.doc.height+Nh(x),le=f.top<b,me=f.bottom>ne-b;if(f.top<B)Q.scrollTop=le?0:f.top;else if(f.bottom>B+U){var $e=Math.min(f.top,(me?ne:f.bottom)-U);$e!=B&&(Q.scrollTop=$e)}var nt=A.options.fixedGutter?0:x.gutters.offsetWidth,Ot=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:x.scroller.scrollLeft-nt,_t=bA(A)-x.gutters.offsetWidth,Wt=f.right-f.left>_t;return Wt&&(f.right=f.left+_t),f.left<10?Q.scrollLeft=0:f.left<Ot?Q.scrollLeft=Math.max(0,f.left+nt-(Wt?0:10)):f.right>_t+Ot-3&&(Q.scrollLeft=f.right+(Wt?0:10)-_t),Q}function np(A,f){f!=null&&(Br(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+f)}function ao(A){Br(A);var f=A.getCursor();A.curOp.scrollToPos={from:f,to:f,margin:A.options.cursorScrollMargin}}function ua(A,f,x){(f!=null||x!=null)&&Br(A),f!=null&&(A.curOp.scrollLeft=f),x!=null&&(A.curOp.scrollTop=x)}function br(A,f){Br(A),A.curOp.scrollToPos=f}function Br(A){var f=A.curOp.scrollToPos;if(f){A.curOp.scrollToPos=null;var x=hr(A,f.from),b=hr(A,f.to);SA(A,x,b,f.margin)}}function SA(A,f,x,b){var B=Yh(A,{left:Math.min(f.left,x.left),top:Math.min(f.top,x.top)-b,right:Math.max(f.right,x.right),bottom:Math.max(f.bottom,x.bottom)+b});ua(A,B.scrollLeft,B.scrollTop)}function Dc(A,f){Math.abs(A.doc.scrollTop-f)<2||(i||jl(A,{top:f}),tc(A,f,!0),i&&jl(A),ic(A,100))}function tc(A,f,x){f=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,f)),!(A.display.scroller.scrollTop==f&&!x)&&(A.doc.scrollTop=f,A.display.scrollbars.setScrollTop(f),A.display.scroller.scrollTop!=f&&(A.display.scroller.scrollTop=f))}function Aa(A,f,x,b){f=Math.max(0,Math.min(f,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((x?f==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-f)<2)&&!b)&&(A.doc.scrollLeft=f,I(A),A.display.scroller.scrollLeft!=f&&(A.display.scroller.scrollLeft=f),A.display.scrollbars.setScrollLeft(f))}function nc(A){var f=A.display,x=f.gutters.offsetWidth,b=Math.round(A.doc.height+Nh(A.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:A.options.fixedGutter?x:0,docHeight:b,scrollHeight:b+Eu(A)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:x}}var ka=function(A,f,x){this.cm=x;var b=this.vert=ge("div",[ge("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),B=this.horiz=ge("div",[ge("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=B.tabIndex=-1,A(b),A(B),Pt(b,"scroll",function(){b.clientHeight&&f(b.scrollTop,"vertical")}),Pt(B,"scroll",function(){B.clientWidth&&f(B.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,h&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ka.prototype.update=function(A){var f=A.scrollWidth>A.clientWidth+1,x=A.scrollHeight>A.clientHeight+1,b=A.nativeBarWidth;if(x){this.vert.style.display="block",this.vert.style.bottom=f?b+"px":"0";var B=A.viewHeight-(f?b:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+B)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(f){this.horiz.style.display="block",this.horiz.style.right=x?b+"px":"0",this.horiz.style.left=A.barLeft+"px";var U=A.viewWidth-A.barLeft-(x?b:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+U)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?b:0,bottom:f?b:0}},ka.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ka.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ka.prototype.zeroWidthHack=function(){var A=ye&&!ee?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Se,this.disableVert=new Se},ka.prototype.enableZeroWidthBar=function(A,f,x){A.style.visibility="";function b(){var B=A.getBoundingClientRect(),U=x=="vert"?document.elementFromPoint(B.right-1,(B.top+B.bottom)/2):document.elementFromPoint((B.right+B.left)/2,B.bottom-1);U!=A?A.style.visibility="hidden":f.set(1e3,b)}f.set(1e3,b)},ka.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var eA=function(){};eA.prototype.update=function(){return{bottom:0,right:0}},eA.prototype.setScrollLeft=function(){},eA.prototype.setScrollTop=function(){},eA.prototype.clear=function(){};function dl(A,f){f||(f=nc(A));var x=A.display.barWidth,b=A.display.barHeight;No(A,f);for(var B=0;B<4&&x!=A.display.barWidth||b!=A.display.barHeight;B++)x!=A.display.barWidth&&A.options.lineWrapping&&Xu(A),No(A,nc(A)),x=A.display.barWidth,b=A.display.barHeight}function No(A,f){var x=A.display,b=x.scrollbars.update(f);x.sizer.style.paddingRight=(x.barWidth=b.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=b.bottom)+"px",x.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=b.bottom+"px",x.scrollbarFiller.style.width=b.right+"px"):x.scrollbarFiller.style.display="",b.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=b.bottom+"px",x.gutterFiller.style.width=f.gutterWidth+"px"):x.gutterFiller.style.display=""}var Go={native:ka,null:eA};function rp(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&Fe(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new Go[A.options.scrollbarStyle](function(f){A.display.wrapper.insertBefore(f,A.display.scrollbarFiller),Pt(f,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),f.setAttribute("cm-not-content","true")},function(f,x){x=="horizontal"?Aa(A,f):Dc(A,f)},A),A.display.scrollbars.addClass&&ze(A.display.wrapper,A.display.scrollbars.addClass)}var eh=0;function tA(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++eh,markArrays:null},ud(A.curOp)}function Ml(A){var f=A.curOp;f&&zh(f,function(x){for(var b=0;b<x.ops.length;b++)x.ops[b].cm.curOp=null;ip(x)})}function ip(A){for(var f=A.ops,x=0;x<f.length;x++)hd(f[x]);for(var b=0;b<f.length;b++)EA(f[b]);for(var B=0;B<f.length;B++)qh(f[B]);for(var U=0;U<f.length;U++)Le(f[U]);for(var Q=0;Q<f.length;Q++)rc(f[Q])}function hd(A){var f=A.cm,x=f.display;pd(f),A.updateMaxLine&&$a(f),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<x.viewFrom||A.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&f.options.lineWrapping,A.update=A.mustUpdate&&new su(f,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function EA(A){A.updatedDisplay=A.mustUpdate&&md(A.cm,A.update)}function qh(A){var f=A.cm,x=f.display;A.updatedDisplay&&Xu(f),A.barMeasure=nc(f),x.maxLineChanged&&!f.options.lineWrapping&&(A.adjustWidthTo=kc(f,x.maxLine,x.maxLine.text.length).left+3,f.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+A.adjustWidthTo+Eu(f)+f.display.barWidth),A.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+A.adjustWidthTo-bA(f))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=x.input.prepareSelection())}function Le(A){var f=A.cm;A.adjustWidthTo!=null&&(f.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<f.doc.scrollLeft&&Aa(f,Math.min(f.display.scroller.scrollLeft,A.maxScrollLeft),!0),f.display.maxLineChanged=!1);var x=A.focus&&A.focus==mt(Yt(f));A.preparedSelection&&f.display.input.showSelection(A.preparedSelection,x),(A.updatedDisplay||A.startHeight!=f.doc.height)&&dl(f,A.barMeasure),A.updatedDisplay&&Hh(f,A.barMeasure),A.selectionChanged&&Vu(f),f.state.focused&&A.updateInput&&f.display.input.reset(A.typing),x&&Zu(A.cm)}function rc(A){var f=A.cm,x=f.display,b=f.doc;if(A.updatedDisplay&&ac(f,A.update),x.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),A.scrollTop!=null&&tc(f,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&Aa(f,A.scrollLeft,!0,!0),A.scrollToPos){var B=tp(f,Dr(b,A.scrollToPos.from),Dr(b,A.scrollToPos.to),A.scrollToPos.margin);dd(f,B)}var U=A.maybeHiddenMarkers,Q=A.maybeUnhiddenMarkers;if(U)for(var ne=0;ne<U.length;++ne)U[ne].lines.length||Ke(U[ne],"hide");if(Q)for(var le=0;le<Q.length;++le)Q[le].lines.length&&Ke(Q[le],"unhide");x.wrapper.offsetHeight&&(b.scrollTop=f.display.scroller.scrollTop),A.changeObjs&&Ke(f,"changes",f,A.changeObjs),A.update&&A.update.finish()}function us(A,f){if(A.curOp)return f();tA(A);try{return f()}finally{Ml(A)}}function $i(A,f){return function(){if(A.curOp)return f.apply(A,arguments);tA(A);try{return f.apply(A,arguments)}finally{Ml(A)}}}function Yr(A){return function(){if(this.curOp)return A.apply(this,arguments);tA(this);try{return A.apply(this,arguments)}finally{Ml(this)}}}function va(A){return function(){var f=this.cm;if(!f||f.curOp)return A.apply(this,arguments);tA(f);try{return A.apply(this,arguments)}finally{Ml(f)}}}function ic(A,f){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(f,Qt(fd,A))}function fd(A){var f=A.doc;if(!(f.highlightFrontier>=A.display.viewTo)){var x=+new Date+A.options.workTime,b=Jo(A,f.highlightFrontier),B=[];f.iter(b.line,Math.min(f.first+f.size,A.display.viewTo+500),function(U){if(b.line>=A.display.viewFrom){var Q=U.styles,ne=U.text.length>A.options.maxHighlightLength?Ia(f.mode,b.state):null,le=bu(A,U,b,!0);ne&&(b.state=ne),U.styles=le.styles;var me=U.styleClasses,$e=le.classes;$e?U.styleClasses=$e:me&&(U.styleClasses=null);for(var nt=!Q||Q.length!=U.styles.length||me!=$e&&(!me||!$e||me.bgClass!=$e.bgClass||me.textClass!=$e.textClass),Ot=0;!nt&&Ot<Q.length;++Ot)nt=Q[Ot]!=U.styles[Ot];nt&&B.push(b.line),U.stateAfter=b.save(),b.nextLine()}else U.text.length<=A.options.maxHighlightLength&&ea(A,U.text,b),U.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>x)return ic(A,A.options.workDelay),!0}),f.highlightFrontier=b.line,f.modeFrontier=Math.max(f.modeFrontier,b.line),B.length&&us(A,function(){for(var U=0;U<B.length;U++)cl(A,B[U],"text")})}}var su=function(A,f,x){var b=A.display;this.viewport=f,this.visible=Ju(b,A.doc,f),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=bA(A),this.force=x,this.dims=ls(A),this.events=[]};su.prototype.signal=function(A,f){Ie(A,f)&&this.events.push(arguments)},su.prototype.finish=function(){for(var A=0;A<this.events.length;A++)Ke.apply(null,this.events[A])};function pd(A){var f=A.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=Eu(A)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=Eu(A)+"px",f.scrollbarsClipped=!0)}function oc(A){if(A.hasFocus())return null;var f=mt(Yt(A));if(!f||!st(A.display.lineDiv,f))return null;var x={activeElt:f};if(window.getSelection){var b=$t(A).getSelection();b.anchorNode&&b.extend&&st(A.display.lineDiv,b.anchorNode)&&(x.anchorNode=b.anchorNode,x.anchorOffset=b.anchorOffset,x.focusNode=b.focusNode,x.focusOffset=b.focusOffset)}return x}function op(A){if(!(!A||!A.activeElt||A.activeElt==mt(vt(A.activeElt)))&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&st(document.body,A.anchorNode)&&st(document.body,A.focusNode))){var f=A.activeElt.ownerDocument,x=f.defaultView.getSelection(),b=f.createRange();b.setEnd(A.anchorNode,A.anchorOffset),b.collapse(!1),x.removeAllRanges(),x.addRange(b),x.extend(A.focusNode,A.focusOffset)}}function md(A,f){var x=A.display,b=A.doc;if(f.editorIsHidden)return Nn(A),!1;if(!f.force&&f.visible.from>=x.viewFrom&&f.visible.to<=x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&XA(A)==0)return!1;u(A)&&(Nn(A),f.dims=ls(A));var B=b.first+b.size,U=Math.max(f.visible.from-A.options.viewportMargin,b.first),Q=Math.min(B,f.visible.to+A.options.viewportMargin);x.viewFrom<U&&U-x.viewFrom<20&&(U=Math.max(b.first,x.viewFrom)),x.viewTo>Q&&x.viewTo-Q<20&&(Q=Math.min(B,x.viewTo)),xs&&(U=po(A.doc,U),Q=Si(A.doc,Q));var ne=U!=x.viewFrom||Q!=x.viewTo||x.lastWrapHeight!=f.wrapperHeight||x.lastWrapWidth!=f.wrapperWidth;Yu(A,U,Q),x.viewOffset=Bo(jn(A.doc,x.viewFrom)),A.display.mover.style.top=x.viewOffset+"px";var le=XA(A);if(!ne&&le==0&&!f.force&&x.renderedView==x.view&&(x.updateLineNumbers==null||x.updateLineNumbers>=x.viewTo))return!1;var me=oc(A);return le>4&&(x.lineDiv.style.display="none"),ap(A,x.updateLineNumbers,f.dims),le>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,op(me),he(x.cursorDiv),he(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,ne&&(x.lastWrapHeight=f.wrapperHeight,x.lastWrapWidth=f.wrapperWidth,ic(A,400)),x.updateLineNumbers=null,!0}function ac(A,f){for(var x=f.viewport,b=!0;;b=!1){if(!b||!A.options.lineWrapping||f.oldDisplayWidth==bA(A)){if(x&&x.top!=null&&(x={top:Math.min(A.doc.height+Nh(A.display)-HA(A),x.top)}),f.visible=Ju(A.display,A.doc,x),f.visible.from>=A.display.viewFrom&&f.visible.to<=A.display.viewTo)break}else b&&(f.visible=Ju(A.display,A.doc,x));if(!md(A,f))break;Xu(A);var B=nc(A);qu(A),dl(A,B),Hh(A,B),f.force=!1}f.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(f.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function jl(A,f){var x=new su(A,f);if(md(A,x)){Xu(A),ac(A,x);var b=nc(A);qu(A),dl(A,b),Hh(A,b),x.finish()}}function ap(A,f,x){var b=A.display,B=A.options.lineNumbers,U=b.lineDiv,Q=U.firstChild;function ne(Wt){var cn=Wt.nextSibling;return _&&ye&&A.display.currentWheelTarget==Wt?Wt.style.display="none":Wt.parentNode.removeChild(Wt),cn}for(var le=b.view,me=b.viewFrom,$e=0;$e<le.length;$e++){var nt=le[$e];if(!nt.hidden)if(!nt.node||nt.node.parentNode!=U){var Ot=Fo(A,nt,me,x);U.insertBefore(Ot,Q)}else{for(;Q!=nt.node;)Q=ne(Q);var _t=B&&f!=null&&f<=me&&nt.lineNumber;nt.changes&&(Re(nt.changes,"gutter")>-1&&(_t=!1),jh(A,nt,me,x)),_t&&(he(nt.lineNumber),nt.lineNumber.appendChild(document.createTextNode(sn(A.options,me)))),Q=nt.node.nextSibling}me+=nt.size}for(;Q;)Q=ne(Q)}function th(A){var f=A.gutters.offsetWidth;A.sizer.style.marginLeft=f+"px",Io(A,"gutterChanged",A)}function Hh(A,f){A.display.sizer.style.minHeight=f.docHeight+"px",A.display.heightForcer.style.top=f.docHeight+"px",A.display.gutters.style.height=f.docHeight+A.display.barHeight+Eu(A)+"px"}function I(A){var f=A.display,x=f.view;if(!(!f.alignWidgets&&(!f.gutters.firstChild||!A.options.fixedGutter))){for(var b=Vi(f)-f.scroller.scrollLeft+A.doc.scrollLeft,B=f.gutters.offsetWidth,U=b+"px",Q=0;Q<x.length;Q++)if(!x[Q].hidden){A.options.fixedGutter&&(x[Q].gutter&&(x[Q].gutter.style.left=U),x[Q].gutterBackground&&(x[Q].gutterBackground.style.left=U));var ne=x[Q].alignable;if(ne)for(var le=0;le<ne.length;le++)ne[le].style.left=U}A.options.fixedGutter&&(f.gutters.style.left=b+B+"px")}}function u(A){if(!A.options.lineNumbers)return!1;var f=A.doc,x=sn(A.options,f.first+f.size-1),b=A.display;if(x.length!=b.lineNumChars){var B=b.measure.appendChild(ge("div",[ge("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),U=B.firstChild.offsetWidth,Q=B.offsetWidth-U;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(U,b.lineGutter.offsetWidth-Q)+1,b.lineNumWidth=b.lineNumInnerWidth+Q,b.lineNumChars=b.lineNumInnerWidth?x.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",th(A.display),!0}return!1}function p(A,f){for(var x=[],b=!1,B=0;B<A.length;B++){var U=A[B],Q=null;if(typeof U!="string"&&(Q=U.style,U=U.className),U=="CodeMirror-linenumbers")if(f)b=!0;else continue;x.push({className:U,style:Q})}return f&&!b&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function C(A){var f=A.gutters,x=A.gutterSpecs;he(f),A.lineGutter=null;for(var b=0;b<x.length;++b){var B=x[b],U=B.className,Q=B.style,ne=f.appendChild(ge("div",null,"CodeMirror-gutter "+U));Q&&(ne.style.cssText=Q),U=="CodeMirror-linenumbers"&&(A.lineGutter=ne,ne.style.width=(A.lineNumWidth||1)+"px")}f.style.display=x.length?"":"none",th(A)}function w(A){C(A.display),ya(A),I(A)}function k(A,f,x,b){var B=this;this.input=x,B.scrollbarFiller=ge("div",null,"CodeMirror-scrollbar-filler"),B.scrollbarFiller.setAttribute("cm-not-content","true"),B.gutterFiller=ge("div",null,"CodeMirror-gutter-filler"),B.gutterFiller.setAttribute("cm-not-content","true"),B.lineDiv=yt("div",null,"CodeMirror-code"),B.selectionDiv=ge("div",null,null,"position: relative; z-index: 1"),B.cursorDiv=ge("div",null,"CodeMirror-cursors"),B.measure=ge("div",null,"CodeMirror-measure"),B.lineMeasure=ge("div",null,"CodeMirror-measure"),B.lineSpace=yt("div",[B.measure,B.lineMeasure,B.selectionDiv,B.cursorDiv,B.lineDiv],null,"position: relative; outline: none");var U=yt("div",[B.lineSpace],"CodeMirror-lines");B.mover=ge("div",[U],null,"position: relative"),B.sizer=ge("div",[B.mover],"CodeMirror-sizer"),B.sizerWidth=null,B.heightForcer=ge("div",null,null,"position: absolute; height: "+it+"px; width: 1px;"),B.gutters=ge("div",null,"CodeMirror-gutters"),B.lineGutter=null,B.scroller=ge("div",[B.sizer,B.heightForcer,B.gutters],"CodeMirror-scroll"),B.scroller.setAttribute("tabIndex","-1"),B.wrapper=ge("div",[B.scrollbarFiller,B.gutterFiller,B.scroller],"CodeMirror"),O&&K>=105&&(B.wrapper.style.clipPath="inset(0px)"),B.wrapper.setAttribute("translate","no"),h&&g<8&&(B.gutters.style.zIndex=-1,B.scroller.style.paddingRight=0),!_&&!(i&&ue)&&(B.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(B.wrapper):A(B.wrapper)),B.viewFrom=B.viewTo=f.first,B.reportedViewFrom=B.reportedViewTo=f.first,B.view=[],B.renderedView=null,B.externalMeasured=null,B.viewOffset=0,B.lastWrapHeight=B.lastWrapWidth=0,B.updateLineNumbers=null,B.nativeBarWidth=B.barHeight=B.barWidth=0,B.scrollbarsClipped=!1,B.lineNumWidth=B.lineNumInnerWidth=B.lineNumChars=null,B.alignWidgets=!1,B.cachedCharWidth=B.cachedTextHeight=B.cachedPaddingH=null,B.maxLine=null,B.maxLineLength=0,B.maxLineChanged=!1,B.wheelDX=B.wheelDY=B.wheelStartX=B.wheelStartY=null,B.shift=!1,B.selForContextMenu=null,B.activeTouch=null,B.gutterSpecs=p(b.gutters,b.lineNumbers),C(B),x.init(B)}var R=0,j=null;h?j=-.53:i?j=15:O?j=-.7:Y&&(j=-1/3);function $(A){var f=A.wheelDeltaX,x=A.wheelDeltaY;return f==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(f=A.detail),x==null&&A.detail&&A.axis==A.VERTICAL_AXIS?x=A.detail:x==null&&(x=A.wheelDelta),{x:f,y:x}}function ie(A){var f=$(A);return f.x*=j,f.y*=j,f}function de(A,f){O&&K==102&&(A.display.chromeScrollHack==null?A.display.sizer.style.pointerEvents="none":clearTimeout(A.display.chromeScrollHack),A.display.chromeScrollHack=setTimeout(function(){A.display.chromeScrollHack=null,A.display.sizer.style.pointerEvents=""},100));var x=$(f),b=x.x,B=x.y,U=j;f.deltaMode===0&&(b=f.deltaX,B=f.deltaY,U=1);var Q=A.display,ne=Q.scroller,le=ne.scrollWidth>ne.clientWidth,me=ne.scrollHeight>ne.clientHeight;if(b&&le||B&&me){if(B&&ye&&_){e:for(var $e=f.target,nt=Q.view;$e!=ne;$e=$e.parentNode)for(var Ot=0;Ot<nt.length;Ot++)if(nt[Ot].node==$e){A.display.currentWheelTarget=$e;break e}}if(b&&!i&&!D&&U!=null){B&&me&&Dc(A,Math.max(0,ne.scrollTop+B*U)),Aa(A,Math.max(0,ne.scrollLeft+b*U)),(!B||B&&me)&&rt(f),Q.wheelStartX=null;return}if(B&&U!=null){var _t=B*U,Wt=A.doc.scrollTop,cn=Wt+Q.wrapper.clientHeight;_t<0?Wt=Math.max(0,Wt+_t-50):cn=Math.min(A.doc.height,cn+_t+50),jl(A,{top:Wt,bottom:cn})}R<20&&f.deltaMode!==0&&(Q.wheelStartX==null?(Q.wheelStartX=ne.scrollLeft,Q.wheelStartY=ne.scrollTop,Q.wheelDX=b,Q.wheelDY=B,setTimeout(function(){if(Q.wheelStartX!=null){var kn=ne.scrollLeft-Q.wheelStartX,Qn=ne.scrollTop-Q.wheelStartY,bn=Qn&&Q.wheelDY&&Qn/Q.wheelDY||kn&&Q.wheelDX&&kn/Q.wheelDX;Q.wheelStartX=Q.wheelStartY=null,bn&&(j=(j*R+bn)/(R+1),++R)}},200)):(Q.wheelDX+=b,Q.wheelDY+=B))}}var fe=function(A,f){this.ranges=A,this.primIndex=f};fe.prototype.primary=function(){return this.ranges[this.primIndex]},fe.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var x=this.ranges[f],b=A.ranges[f];if(!dr(x.anchor,b.anchor)||!dr(x.head,b.head))return!1}return!0},fe.prototype.deepCopy=function(){for(var A=[],f=0;f<this.ranges.length;f++)A[f]=new Oe(ri(this.ranges[f].anchor),ri(this.ranges[f].head));return new fe(A,this.primIndex)},fe.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},fe.prototype.contains=function(A,f){f||(f=A);for(var x=0;x<this.ranges.length;x++){var b=this.ranges[x];if(wn(f,b.from())>=0&&wn(A,b.to())<=0)return x}return-1};var Oe=function(A,f){this.anchor=A,this.head=f};Oe.prototype.from=function(){return Zo(this.anchor,this.head)},Oe.prototype.to=function(){return si(this.anchor,this.head)},Oe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function qe(A,f,x){var b=A&&A.options.selectionsMayTouch,B=f[x];f.sort(function(Ot,_t){return wn(Ot.from(),_t.from())}),x=Re(f,B);for(var U=1;U<f.length;U++){var Q=f[U],ne=f[U-1],le=wn(ne.to(),Q.from());if(b&&!Q.empty()?le>0:le>=0){var me=Zo(ne.from(),Q.from()),$e=si(ne.to(),Q.to()),nt=ne.empty()?Q.from()==Q.head:ne.from()==ne.head;U<=x&&--x,f.splice(--U,2,new Oe(nt?$e:me,nt?me:$e))}}return new fe(f,x)}function Ye(A,f){return new fe([new Oe(A,f||A)],0)}function Ze(A){return A.text?Lt(A.from.line+A.text.length-1,yn(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function We(A,f){if(wn(A,f.from)<0)return A;if(wn(A,f.to)<=0)return Ze(f);var x=A.line+f.text.length-(f.to.line-f.from.line)-1,b=A.ch;return A.line==f.to.line&&(b+=Ze(f).ch-f.to.ch),Lt(x,b)}function ht(A,f){for(var x=[],b=0;b<A.sel.ranges.length;b++){var B=A.sel.ranges[b];x.push(new Oe(We(B.anchor,f),We(B.head,f)))}return qe(A.cm,x,A.sel.primIndex)}function Dt(A,f,x){return A.line==f.line?Lt(x.line,A.ch-f.ch+x.ch):Lt(x.line+(A.line-f.line),A.ch)}function tt(A,f,x){for(var b=[],B=Lt(A.first,0),U=B,Q=0;Q<f.length;Q++){var ne=f[Q],le=Dt(ne.from,B,U),me=Dt(Ze(ne),B,U);if(B=ne.to,U=me,x=="around"){var $e=A.sel.ranges[Q],nt=wn($e.head,$e.anchor)<0;b[Q]=new Oe(nt?me:le,nt?le:me)}else b[Q]=new Oe(le,le)}return new fe(b,A.sel.primIndex)}function bt(A){A.doc.mode=ai(A.options,A.doc.modeOption),Kt(A)}function Kt(A){A.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,ic(A,100),A.state.modeGen++,A.curOp&&ya(A)}function Ut(A,f){return f.from.ch==0&&f.to.ch==0&&yn(f.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function Xt(A,f,x,b){function B(bn){return x?x[bn]:null}function U(bn,Ln,ar){nu(bn,Ln,ar,b),Io(bn,"change",bn,f)}function Q(bn,Ln){for(var ar=[],Tr=bn;Tr<Ln;++Tr)ar.push(new Dl(me[Tr],B(Tr),b));return ar}var ne=f.from,le=f.to,me=f.text,$e=jn(A,ne.line),nt=jn(A,le.line),Ot=yn(me),_t=B(me.length-1),Wt=le.line-ne.line;if(f.full)A.insert(0,Q(0,me.length)),A.remove(me.length,A.size-me.length);else if(Ut(A,f)){var cn=Q(0,me.length-1);U(nt,nt.text,_t),Wt&&A.remove(ne.line,Wt),cn.length&&A.insert(ne.line,cn)}else if($e==nt)if(me.length==1)U($e,$e.text.slice(0,ne.ch)+Ot+$e.text.slice(le.ch),_t);else{var kn=Q(1,me.length-1);kn.push(new Dl(Ot+$e.text.slice(le.ch),_t,b)),U($e,$e.text.slice(0,ne.ch)+me[0],B(0)),A.insert(ne.line+1,kn)}else if(me.length==1)U($e,$e.text.slice(0,ne.ch)+me[0]+nt.text.slice(le.ch),B(0)),A.remove(ne.line+1,Wt);else{U($e,$e.text.slice(0,ne.ch)+me[0],B(0)),U(nt,Ot+nt.text.slice(le.ch),_t);var Qn=Q(1,me.length-1);Wt>1&&A.remove(ne.line+1,Wt-1),A.insert(ne.line+1,Qn)}Io(A,"change",A,f)}function dn(A,f,x){function b(B,U,Q){if(B.linked)for(var ne=0;ne<B.linked.length;++ne){var le=B.linked[ne];if(le.doc!=U){var me=Q&&le.sharedHist;x&&!me||(f(le.doc,me),b(le.doc,B,me))}}}b(A,null,!0)}function un(A,f){if(f.cm)throw new Error("This document is already in use.");A.doc=f,f.cm=A,$h(A),bt(A),pn(A),A.options.direction=f.direction,A.options.lineWrapping||$a(A),A.options.mode=f.modeOption,ya(A)}function pn(A){(A.doc.direction=="rtl"?ze:Fe)(A.display.lineDiv,"CodeMirror-rtl")}function $n(A){us(A,function(){pn(A),ya(A)})}function qr(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function In(A,f){var x={from:ri(f.from),to:Ze(f),text:ro(A,f.from,f.to)};return qo(A,x,f.from.line,f.to.line+1),dn(A,function(b){return qo(b,x,f.from.line,f.to.line+1)},!0),x}function vr(A){for(;A.length;){var f=yn(A);if(f.ranges)A.pop();else break}}function di(A,f){if(f)return vr(A.done),yn(A.done);if(A.done.length&&!yn(A.done).ranges)return yn(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),yn(A.done)}function Ti(A,f,x,b){var B=A.history;B.undone.length=0;var U=+new Date,Q,ne;if((B.lastOp==b||B.lastOrigin==f.origin&&f.origin&&(f.origin.charAt(0)=="+"&&B.lastModTime>U-(A.cm?A.cm.options.historyEventDelay:500)||f.origin.charAt(0)=="*"))&&(Q=di(B,B.lastOp==b)))ne=yn(Q.changes),wn(f.from,f.to)==0&&wn(f.from,ne.to)==0?ne.to=Ze(f):Q.changes.push(In(A,f));else{var le=yn(B.done);for((!le||!le.ranges)&&Nr(A.sel,B.done),Q={changes:[In(A,f)],generation:B.generation},B.done.push(Q);B.done.length>B.undoDepth;)B.done.shift(),B.done[0].ranges||B.done.shift()}B.done.push(x),B.generation=++B.maxGeneration,B.lastModTime=B.lastSelTime=U,B.lastOp=B.lastSelOp=b,B.lastOrigin=B.lastSelOrigin=f.origin,ne||Ke(A,"historyAdded")}function Hr(A,f,x,b){var B=f.charAt(0);return B=="*"||B=="+"&&x.ranges.length==b.ranges.length&&x.somethingSelected()==b.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function ei(A,f,x,b){var B=A.history,U=b&&b.origin;x==B.lastSelOp||U&&B.lastSelOrigin==U&&(B.lastModTime==B.lastSelTime&&B.lastOrigin==U||Hr(A,U,yn(B.done),f))?B.done[B.done.length-1]=f:Nr(f,B.done),B.lastSelTime=+new Date,B.lastSelOrigin=U,B.lastSelOp=x,b&&b.clearRedo!==!1&&vr(B.undone)}function Nr(A,f){var x=yn(f);x&&x.ranges&&x.equals(A)||f.push(A)}function qo(A,f,x,b){var B=f["spans_"+A.id],U=0;A.iter(Math.max(A.first,x),Math.min(A.first+A.size,b),function(Q){Q.markedSpans&&((B||(B=f["spans_"+A.id]={}))[U]=Q.markedSpans),++U})}function Lo(A){if(!A)return null;for(var f,x=0;x<A.length;++x)A[x].marker.explicitlyCleared?f||(f=A.slice(0,x)):f&&f.push(A[x]);return f?f.length?f:null:A}function Rs(A,f){var x=f["spans_"+A.id];if(!x)return null;for(var b=[],B=0;B<f.text.length;++B)b.push(Lo(x[B]));return b}function Da(A,f){var x=Rs(A,f),b=sa(A,f);if(!x)return b;if(!b)return x;for(var B=0;B<x.length;++B){var U=x[B],Q=b[B];if(U&&Q)e:for(var ne=0;ne<Q.length;++ne){for(var le=Q[ne],me=0;me<U.length;++me)if(U[me].marker==le.marker)continue e;U.push(le)}else Q&&(x[B]=Q)}return x}function mo(A,f,x){for(var b=[],B=0;B<A.length;++B){var U=A[B];if(U.ranges){b.push(x?fe.prototype.deepCopy.call(U):U);continue}var Q=U.changes,ne=[];b.push({changes:ne});for(var le=0;le<Q.length;++le){var me=Q[le],$e=void 0;if(ne.push({from:me.from,to:me.to,text:me.text}),f)for(var nt in me)($e=nt.match(/^spans_(\d+)$/))&&Re(f,Number($e[1]))>-1&&(yn(ne)[nt]=me[nt],delete me[nt])}}return b}function so(A,f,x,b){if(b){var B=A.anchor;if(x){var U=wn(f,B)<0;U!=wn(x,B)<0?(B=f,f=x):U!=wn(f,x)<0&&(f=x)}return new Oe(B,f)}else return new Oe(x||f,f)}function Xs(A,f,x,b,B){B==null&&(B=A.cm&&(A.cm.display.shift||A.extend)),Ri(A,new fe([so(A.sel.primary(),f,x,B)],0),b)}function lu(A,f,x){for(var b=[],B=A.cm&&(A.cm.display.shift||A.extend),U=0;U<A.sel.ranges.length;U++)b[U]=so(A.sel.ranges[U],f[U],null,B);var Q=qe(A.cm,b,A.sel.primIndex);Ri(A,Q,x)}function Ms(A,f,x,b){var B=A.sel.ranges.slice(0);B[f]=x,Ri(A,qe(A.cm,B,A.sel.primIndex),b)}function nA(A,f,x,b){Ri(A,Ye(f,x),b)}function Wl(A,f,x){var b={ranges:f.ranges,update:function(B){this.ranges=[];for(var U=0;U<B.length;U++)this.ranges[U]=new Oe(Dr(A,B[U].anchor),Dr(A,B[U].head))},origin:x&&x.origin};return Ke(A,"beforeSelectionChange",A,b),A.cm&&Ke(A.cm,"beforeSelectionChange",A.cm,b),b.ranges!=f.ranges?qe(A.cm,b.ranges,b.ranges.length-1):f}function Ss(A,f,x){var b=A.history.done,B=yn(b);B&&B.ranges?(b[b.length-1]=f,Ei(A,f,x)):Ri(A,f,x)}function Ri(A,f,x){Ei(A,f,x),ei(A,A.sel,A.cm?A.cm.curOp.id:NaN,x)}function Ei(A,f,x){(Ie(A,"beforeSelectionChange")||A.cm&&Ie(A.cm,"beforeSelectionChange"))&&(f=Wl(A,f,x));var b=x&&x.bias||(wn(f.primary().head,A.sel.primary().head)<0?-1:1);na(A,Ho(A,f,b,!0)),!(x&&x.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&ao(A.cm)}function na(A,f){f.equals(A.sel)||(A.sel=f,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,Ce(A.cm)),Io(A,"cursorActivity",A))}function Fc(A){na(A,Ho(A,A.sel,null,!1))}function Ho(A,f,x,b){for(var B,U=0;U<f.ranges.length;U++){var Q=f.ranges[U],ne=f.ranges.length==A.sel.ranges.length&&A.sel.ranges[U],le=Es(A,Q.anchor,ne&&ne.anchor,x,b),me=Q.head==Q.anchor?le:Es(A,Q.head,ne&&ne.head,x,b);(B||le!=Q.anchor||me!=Q.head)&&(B||(B=f.ranges.slice(0,U)),B[U]=new Oe(le,me))}return B?qe(A.cm,B,f.primIndex):f}function _a(A,f,x,b,B){var U=jn(A,f.line);if(U.markedSpans)for(var Q=0;Q<U.markedSpans.length;++Q){var ne=U.markedSpans[Q],le=ne.marker,me="selectLeft"in le?!le.selectLeft:le.inclusiveLeft,$e="selectRight"in le?!le.selectRight:le.inclusiveRight;if((ne.from==null||(me?ne.from<=f.ch:ne.from<f.ch))&&(ne.to==null||($e?ne.to>=f.ch:ne.to>f.ch))){if(B&&(Ke(le,"beforeCursorEnter"),le.explicitlyCleared))if(U.markedSpans){--Q;continue}else break;if(!le.atomic)continue;if(x){var nt=le.find(b<0?1:-1),Ot=void 0;if((b<0?$e:me)&&(nt=Pi(A,nt,-b,nt&&nt.line==f.line?U:null)),nt&&nt.line==f.line&&(Ot=wn(nt,x))&&(b<0?Ot<0:Ot>0))return _a(A,nt,f,b,B)}var _t=le.find(b<0?-1:1);return(b<0?me:$e)&&(_t=Pi(A,_t,b,_t.line==f.line?U:null)),_t?_a(A,_t,f,b,B):null}}return f}function Es(A,f,x,b,B){var U=b||1,Q=_a(A,f,x,U,B)||!B&&_a(A,f,x,U,!0)||_a(A,f,x,-U,B)||!B&&_a(A,f,x,-U,!0);return Q||(A.cantEdit=!0,Lt(A.first,0))}function Pi(A,f,x,b){return x<0&&f.ch==0?f.line>A.first?Dr(A,Lt(f.line-1)):null:x>0&&f.ch==(b||jn(A,f.line)).text.length?f.line<A.first+A.size-1?Lt(f.line+1,0):null:new Lt(f.line,f.ch+x)}function sc(A){A.setSelection(Lt(A.firstLine(),0),Lt(A.lastLine()),St)}function Vh(A,f,x){var b={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return b.canceled=!0}};return x&&(b.update=function(B,U,Q,ne){B&&(b.from=Dr(A,B)),U&&(b.to=Dr(A,U)),Q&&(b.text=Q),ne!==void 0&&(b.origin=ne)}),Ke(A,"beforeChange",A,b),A.cm&&Ke(A.cm,"beforeChange",A.cm,b),b.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function uu(A,f,x){if(A.cm){if(!A.cm.curOp)return $i(A.cm,uu)(A,f,x);if(A.cm.state.suppressEdits)return}if(!((Ie(A,"beforeChange")||A.cm&&Ie(A.cm,"beforeChange"))&&(f=Vh(A,f,!0),!f))){var b=jo&&!x&&CA(A,f.from,f.to);if(b)for(var B=b.length-1;B>=0;--B)lc(A,{from:b[B].from,to:b[B].to,text:B?[""]:f.text,origin:f.origin});else lc(A,f)}}function lc(A,f){if(!(f.text.length==1&&f.text[0]==""&&wn(f.from,f.to)==0)){var x=ht(A,f);Ti(A,f,x,A.cm?A.cm.curOp.id:NaN),ku(A,f,x,sa(A,f));var b=[];dn(A,function(B,U){!U&&Re(b,B.history)==-1&&(lp(B.history,f),b.push(B.history)),ku(B,f,null,sa(B,f))})}}function Iu(A,f,x){var b=A.cm&&A.cm.state.suppressEdits;if(!(b&&!x)){for(var B=A.history,U,Q=A.sel,ne=f=="undo"?B.done:B.undone,le=f=="undo"?B.undone:B.done,me=0;me<ne.length&&(U=ne[me],!(x?U.ranges&&!U.equals(A.sel):!U.ranges));me++);if(me!=ne.length){for(B.lastOrigin=B.lastSelOrigin=null;;)if(U=ne.pop(),U.ranges){if(Nr(U,le),x&&!U.equals(A.sel)){Ri(A,U,{clearRedo:!1});return}Q=U}else if(b){ne.push(U);return}else break;var $e=[];Nr(Q,le),le.push({changes:$e,generation:B.generation}),B.generation=U.generation||++B.maxGeneration;for(var nt=Ie(A,"beforeChange")||A.cm&&Ie(A.cm,"beforeChange"),Ot=function(cn){var kn=U.changes[cn];if(kn.origin=f,nt&&!Vh(A,kn,!1))return ne.length=0,{};$e.push(In(A,kn));var Qn=cn?ht(A,kn):yn(ne);ku(A,kn,Qn,Da(A,kn)),!cn&&A.cm&&A.cm.scrollIntoView({from:kn.from,to:Ze(kn)});var bn=[];dn(A,function(Ln,ar){!ar&&Re(bn,Ln.history)==-1&&(lp(Ln.history,kn),bn.push(Ln.history)),ku(Ln,kn,null,Da(Ln,kn))})},_t=U.changes.length-1;_t>=0;--_t){var Wt=Ot(_t);if(Wt)return Wt.v}}}}function Zh(A,f){if(f!=0&&(A.first+=f,A.sel=new fe(Jn(A.sel.ranges,function(B){return new Oe(Lt(B.anchor.line+f,B.anchor.ch),Lt(B.head.line+f,B.head.ch))}),A.sel.primIndex),A.cm)){ya(A.cm,A.first,A.first-f,f);for(var x=A.cm.display,b=x.viewFrom;b<x.viewTo;b++)cl(A.cm,b,"gutter")}}function ku(A,f,x,b){if(A.cm&&!A.cm.curOp)return $i(A.cm,ku)(A,f,x,b);if(f.to.line<A.first){Zh(A,f.text.length-1-(f.to.line-f.from.line));return}if(!(f.from.line>A.lastLine())){if(f.from.line<A.first){var B=f.text.length-1-(A.first-f.from.line);Zh(A,B),f={from:Lt(A.first,0),to:Lt(f.to.line+B,f.to.ch),text:[yn(f.text)],origin:f.origin}}var U=A.lastLine();f.to.line>U&&(f={from:f.from,to:Lt(U,jn(A,U).text.length),text:[f.text[0]],origin:f.origin}),f.removed=ro(A,f.from,f.to),x||(x=ht(A,f)),A.cm?Xh(A.cm,f,b):Xt(A,f,b),Ei(A,x,St),A.cantEdit&&Es(A,Lt(A.firstLine(),0))&&(A.cantEdit=!1)}}function Xh(A,f,x){var b=A.doc,B=A.display,U=f.from,Q=f.to,ne=!1,le=U.line;A.options.lineWrapping||(le=ve(yr(jn(b,U.line))),b.iter(le,Q.line+1,function(_t){if(_t==B.maxLine)return ne=!0,!0})),b.sel.contains(f.from,f.to)>-1&&Ce(A),Xt(b,f,x,Gh(A)),A.options.lineWrapping||(b.iter(le,U.line+f.text.length,function(_t){var Wt=xo(_t);Wt>B.maxLineLength&&(B.maxLine=_t,B.maxLineLength=Wt,B.maxLineChanged=!0,ne=!1)}),ne&&(A.curOp.updateMaxLine=!0)),Wu(b,U.line),ic(A,400);var me=f.text.length-(Q.line-U.line)-1;f.full?ya(A):U.line==Q.line&&f.text.length==1&&!Ut(A.doc,f)?cl(A,U.line,"text"):ya(A,U.line,Q.line+1,me);var $e=Ie(A,"changes"),nt=Ie(A,"change");if(nt||$e){var Ot={from:U,to:Q,text:f.text,removed:f.removed,origin:f.origin};nt&&Io(A,"change",A,Ot),$e&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(Ot)}A.display.selForContextMenu=null}function OA(A,f,x,b,B){var U;b||(b=x),wn(b,x)<0&&(U=[b,x],x=U[0],b=U[1]),typeof f=="string"&&(f=A.splitLines(f)),uu(A,{from:x,to:b,text:f,origin:B})}function sp(A,f,x,b){x<A.line?A.line+=b:f<A.line&&(A.line=f,A.ch=0)}function gd(A,f,x,b){for(var B=0;B<A.length;++B){var U=A[B],Q=!0;if(U.ranges){U.copied||(U=A[B]=U.deepCopy(),U.copied=!0);for(var ne=0;ne<U.ranges.length;ne++)sp(U.ranges[ne].anchor,f,x,b),sp(U.ranges[ne].head,f,x,b);continue}for(var le=0;le<U.changes.length;++le){var me=U.changes[le];if(x<me.from.line)me.from=Lt(me.from.line+b,me.from.ch),me.to=Lt(me.to.line+b,me.to.ch);else if(f<=me.to.line){Q=!1;break}}Q||(A.splice(0,B+1),B=0)}}function lp(A,f){var x=f.from.line,b=f.to.line,B=f.text.length-(b-x)-1;gd(A.done,x,b,B),gd(A.undone,x,b,B)}function rA(A,f,x,b){var B=f,U=f;return typeof f=="number"?U=jn(A,Pa(A,f)):B=ve(f),B==null?null:(b(U,B)&&A.cm&&cl(A.cm,B,x),U)}function yd(A){this.lines=A,this.parent=null;for(var f=0,x=0;x<A.length;++x)A[x].parent=this,f+=A[x].height;this.height=f}yd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,f){for(var x=A,b=A+f;x<b;++x){var B=this.lines[x];this.height-=B.height,ma(B),Io(B,"delete")}this.lines.splice(A,f)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,f,x){this.height+=x,this.lines=this.lines.slice(0,A).concat(f).concat(this.lines.slice(A));for(var b=0;b<f.length;++b)f[b].parent=this},iterN:function(A,f,x){for(var b=A+f;A<b;++A)if(x(this.lines[A]))return!0}};function Jh(A){this.children=A;for(var f=0,x=0,b=0;b<A.length;++b){var B=A[b];f+=B.chunkSize(),x+=B.height,B.parent=this}this.size=f,this.height=x,this.parent=null}Jh.prototype={chunkSize:function(){return this.size},removeInner:function(A,f){this.size-=f;for(var x=0;x<this.children.length;++x){var b=this.children[x],B=b.chunkSize();if(A<B){var U=Math.min(f,B-A),Q=b.height;if(b.removeInner(A,U),this.height-=Q-b.height,B==U&&(this.children.splice(x--,1),b.parent=null),(f-=U)==0)break;A=0}else A-=B}if(this.size-f<25&&(this.children.length>1||!(this.children[0]instanceof yd))){var ne=[];this.collapse(ne),this.children=[new yd(ne)],this.children[0].parent=this}},collapse:function(A){for(var f=0;f<this.children.length;++f)this.children[f].collapse(A)},insertInner:function(A,f,x){this.size+=f.length,this.height+=x;for(var b=0;b<this.children.length;++b){var B=this.children[b],U=B.chunkSize();if(A<=U){if(B.insertInner(A,f,x),B.lines&&B.lines.length>50){for(var Q=B.lines.length%25+25,ne=Q;ne<B.lines.length;){var le=new yd(B.lines.slice(ne,ne+=25));B.height-=le.height,this.children.splice(++b,0,le),le.parent=this}B.lines=B.lines.slice(0,Q),this.maybeSpill()}break}A-=U}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var f=A.children.splice(A.children.length-5,5),x=new Jh(f);if(A.parent){A.size-=x.size,A.height-=x.height;var B=Re(A.parent.children,A);A.parent.children.splice(B+1,0,x)}else{var b=new Jh(A.children);b.parent=A,A.children=[b,x],A=b}x.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,f,x){for(var b=0;b<this.children.length;++b){var B=this.children[b],U=B.chunkSize();if(A<U){var Q=Math.min(f,U-A);if(B.iterN(A,Q,x))return!0;if((f-=Q)==0)break;A=0}else A-=U}}};var iA=function(A,f,x){if(x)for(var b in x)x.hasOwnProperty(b)&&(this[b]=x[b]);this.doc=A,this.node=f};iA.prototype.clear=function(){var A=this.doc.cm,f=this.line.widgets,x=this.line,b=ve(x);if(!(b==null||!f)){for(var B=0;B<f.length;++B)f[B]==this&&f.splice(B--,1);f.length||(x.widgets=null);var U=iu(this);Ui(x,Math.max(0,x.height-U)),A&&(us(A,function(){b0(A,x,-U),cl(A,b,"widget")}),Io(A,"lineWidgetCleared",A,this,b))}},iA.prototype.changed=function(){var A=this,f=this.height,x=this.doc.cm,b=this.line;this.height=null;var B=iu(this)-f;B&&(Zr(this.doc,b)||Ui(b,b.height+B),x&&us(x,function(){x.curOp.forceUpdate=!0,b0(x,b,B),Io(x,"lineWidgetChanged",x,A,ve(b))}))},je(iA);function b0(A,f,x){Bo(f)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&np(A,x)}function ef(A,f,x,b){var B=new iA(A,x,b),U=A.cm;return U&&B.noHScroll&&(U.display.alignWidgets=!0),rA(A,f,"widget",function(Q){var ne=Q.widgets||(Q.widgets=[]);if(B.insertAt==null?ne.push(B):ne.splice(Math.min(ne.length,Math.max(0,B.insertAt)),0,B),B.line=Q,U&&!Zr(A,Q)){var le=Bo(Q)<A.scrollTop;Ui(Q,Q.height+iu(B)),le&&np(U,B.height),U.curOp.forceUpdate=!0}return!0}),U&&Io(U,"lineWidgetAdded",U,B,typeof f=="number"?f:ve(f)),B}var tf=0,Au=function(A,f){this.lines=[],this.type=f,this.doc=A,this.id=++tf};Au.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,f=A&&!A.curOp;if(f&&tA(A),Ie(this,"clear")){var x=this.find();x&&Io(this,"clear",x.from,x.to)}for(var b=null,B=null,U=0;U<this.lines.length;++U){var Q=this.lines[U],ne=Wo(Q.markedSpans,this);A&&!this.collapsed?cl(A,ve(Q),"text"):A&&(ne.to!=null&&(B=ve(Q)),ne.from!=null&&(b=ve(Q))),Q.markedSpans=Mu(Q.markedSpans,ne),ne.from==null&&this.collapsed&&!Zr(this.doc,Q)&&A&&Ui(Q,Qa(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var le=0;le<this.lines.length;++le){var me=yr(this.lines[le]),$e=xo(me);$e>A.display.maxLineLength&&(A.display.maxLine=me,A.display.maxLineLength=$e,A.display.maxLineChanged=!0)}b!=null&&A&&this.collapsed&&ya(A,b,B+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&Fc(A.doc)),A&&Io(A,"markerCleared",A,this,b,B),f&&Ml(A),this.parent&&this.parent.clear()}},Au.prototype.find=function(A,f){A==null&&this.type=="bookmark"&&(A=1);for(var x,b,B=0;B<this.lines.length;++B){var U=this.lines[B],Q=Wo(U.markedSpans,this);if(Q.from!=null&&(x=Lt(f?U:ve(U),Q.from),A==-1))return x;if(Q.to!=null&&(b=Lt(f?U:ve(U),Q.to),A==1))return b}return x&&{from:x,to:b}},Au.prototype.changed=function(){var A=this,f=this.find(-1,!0),x=this,b=this.doc.cm;!f||!b||us(b,function(){var B=f.line,U=ve(f.line),Q=Ad(b,U);if(Q&&(Vd(Q),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!Zr(x.doc,B)&&x.height!=null){var ne=x.height;x.height=null;var le=iu(x)-ne;le&&Ui(B,B.height+le)}Io(b,"markerChanged",b,A)})},Au.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(!f.maybeHiddenMarkers||Re(f.maybeHiddenMarkers,this)==-1)&&(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},Au.prototype.detachLine=function(A){if(this.lines.splice(Re(this.lines,A),1),!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;(f.maybeHiddenMarkers||(f.maybeHiddenMarkers=[])).push(this)}},je(Au);function nh(A,f,x,b,B){if(b&&b.shared)return eg(A,f,x,b,B);if(A.cm&&!A.cm.curOp)return $i(A.cm,nh)(A,f,x,b,B);var U=new Au(A,B),Q=wn(f,x);if(b&&ke(b,U,!1),Q>0||Q==0&&U.clearWhenEmpty!==!1)return U;if(U.replacedWith&&(U.collapsed=!0,U.widgetNode=yt("span",[U.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||U.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(U.widgetNode.insertLeft=!0)),U.collapsed){if(Ur(A,f.line,f,x,U)||f.line!=x.line&&Ur(A,x.line,f,x,U))throw new Error("Inserting collapsed marker partially overlapping an existing one");ss()}U.addToHistory&&Ti(A,{from:f,to:x,origin:"markText"},A.sel,NaN);var ne=f.line,le=A.cm,me;if(A.iter(ne,x.line+1,function(nt){le&&U.collapsed&&!le.options.lineWrapping&&yr(nt)==le.display.maxLine&&(me=!0),U.collapsed&&ne!=f.line&&Ui(nt,0),ul(nt,new ll(U,ne==f.line?f.ch:null,ne==x.line?x.ch:null),A.cm&&A.cm.curOp),++ne}),U.collapsed&&A.iter(f.line,x.line+1,function(nt){Zr(A,nt)&&Ui(nt,0)}),U.clearOnEnter&&Pt(U,"beforeCursorEnter",function(){return U.clear()}),U.readOnly&&(eu(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),U.collapsed&&(U.id=++tf,U.atomic=!0),le){if(me&&(le.curOp.updateMaxLine=!0),U.collapsed)ya(le,f.line,x.line+1);else if(U.className||U.startStyle||U.endStyle||U.css||U.attributes||U.title)for(var $e=f.line;$e<=x.line;$e++)cl(le,$e,"text");U.atomic&&Fc(le.doc),Io(le,"markerAdded",le,U)}return U}var rh=function(A,f){this.markers=A,this.primary=f;for(var x=0;x<A.length;++x)A[x].parent=this};rh.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();Io(this,"clear")}},rh.prototype.find=function(A,f){return this.primary.find(A,f)},je(rh);function eg(A,f,x,b,B){b=ke(b),b.shared=!1;var U=[nh(A,f,x,b,B)],Q=U[0],ne=b.widgetNode;return dn(A,function(le){ne&&(b.widgetNode=ne.cloneNode(!0)),U.push(nh(le,Dr(le,f),Dr(le,x),b,B));for(var me=0;me<le.linked.length;++me)if(le.linked[me].isParent)return;Q=yn(U)}),new rh(U,Q)}function hl(A){return A.findMarks(Lt(A.first,0),A.clipPos(Lt(A.lastLine())),function(f){return f.parent})}function ih(A,f){for(var x=0;x<f.length;x++){var b=f[x],B=b.find(),U=A.clipPos(B.from),Q=A.clipPos(B.to);if(wn(U,Q)){var ne=nh(A,U,Q,b.primary,b.primary.type);b.markers.push(ne),ne.parent=b}}}function x0(A){for(var f=function(b){var B=A[b],U=[B.primary.doc];dn(B.primary.doc,function(le){return U.push(le)});for(var Q=0;Q<B.markers.length;Q++){var ne=B.markers[Q];Re(U,ne.doc)==-1&&(ne.parent=null,B.markers.splice(Q--,1))}},x=0;x<A.length;x++)f(x)}var rm=0,Os=function(A,f,x,b,B){if(!(this instanceof Os))return new Os(A,f,x,b,B);x==null&&(x=0),Jh.call(this,[new yd([new Dl("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var U=Lt(x,0);this.sel=Ye(U),this.history=new qr(null),this.id=++rm,this.modeOption=f,this.lineSep=b,this.direction=B=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),Xt(this,{from:U,to:U,text:A}),Ri(this,Ye(U),St)};Os.prototype=Wr(Jh.prototype,{constructor:Os,iter:function(A,f,x){x?this.iterN(A-this.first,f-A,x):this.iterN(this.first,this.first+this.size,A)},insert:function(A,f){for(var x=0,b=0;b<f.length;++b)x+=f[b].height;this.insertInner(A-this.first,f,x)},remove:function(A,f){this.removeInner(A-this.first,f)},getValue:function(A){var f=_o(this,this.first,this.first+this.size);return A===!1?f:f.join(A||this.lineSeparator())},setValue:va(function(A){var f=Lt(this.first,0),x=this.first+this.size-1;uu(this,{from:f,to:Lt(x,jn(this,x).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&ua(this.cm,0,0),Ri(this,Ye(f),St)}),replaceRange:function(A,f,x,b){f=Dr(this,f),x=x?Dr(this,x):f,OA(this,A,f,x,b)},getRange:function(A,f,x){var b=ro(this,Dr(this,A),Dr(this,f));return x===!1?b:x===""?b.join(""):b.join(x||this.lineSeparator())},getLine:function(A){var f=this.getLineHandle(A);return f&&f.text},getLineHandle:function(A){if(Zt(this,A))return jn(this,A)},getLineNumber:function(A){return ve(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=jn(this,A)),yr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Dr(this,A)},getCursor:function(A){var f=this.sel.primary(),x;return A==null||A=="head"?x=f.head:A=="anchor"?x=f.anchor:A=="end"||A=="to"||A===!1?x=f.to():x=f.from(),x},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:va(function(A,f,x){nA(this,Dr(this,typeof A=="number"?Lt(A,f||0):A),null,x)}),setSelection:va(function(A,f,x){nA(this,Dr(this,A),Dr(this,f||A),x)}),extendSelection:va(function(A,f,x){Xs(this,Dr(this,A),f&&Dr(this,f),x)}),extendSelections:va(function(A,f){lu(this,yi(this,A),f)}),extendSelectionsBy:va(function(A,f){var x=Jn(this.sel.ranges,A);lu(this,yi(this,x),f)}),setSelections:va(function(A,f,x){if(A.length){for(var b=[],B=0;B<A.length;B++)b[B]=new Oe(Dr(this,A[B].anchor),Dr(this,A[B].head||A[B].anchor));f==null&&(f=Math.min(A.length-1,this.sel.primIndex)),Ri(this,qe(this.cm,b,f),x)}}),addSelection:va(function(A,f,x){var b=this.sel.ranges.slice(0);b.push(new Oe(Dr(this,A),Dr(this,f||A))),Ri(this,qe(this.cm,b,b.length-1),x)}),getSelection:function(A){for(var f=this.sel.ranges,x,b=0;b<f.length;b++){var B=ro(this,f[b].from(),f[b].to());x=x?x.concat(B):B}return A===!1?x:x.join(A||this.lineSeparator())},getSelections:function(A){for(var f=[],x=this.sel.ranges,b=0;b<x.length;b++){var B=ro(this,x[b].from(),x[b].to());A!==!1&&(B=B.join(A||this.lineSeparator())),f[b]=B}return f},replaceSelection:function(A,f,x){for(var b=[],B=0;B<this.sel.ranges.length;B++)b[B]=A;this.replaceSelections(b,f,x||"+input")},replaceSelections:va(function(A,f,x){for(var b=[],B=this.sel,U=0;U<B.ranges.length;U++){var Q=B.ranges[U];b[U]={from:Q.from(),to:Q.to(),text:this.splitLines(A[U]),origin:x}}for(var ne=f&&f!="end"&&tt(this,b,f),le=b.length-1;le>=0;le--)uu(this,b[le]);ne?Ss(this,ne):this.cm&&ao(this.cm)}),undo:va(function(){Iu(this,"undo")}),redo:va(function(){Iu(this,"redo")}),undoSelection:va(function(){Iu(this,"undo",!0)}),redoSelection:va(function(){Iu(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,f=0,x=0,b=0;b<A.done.length;b++)A.done[b].ranges||++f;for(var B=0;B<A.undone.length;B++)A.undone[B].ranges||++x;return{undo:f,redo:x}},clearHistory:function(){var A=this;this.history=new qr(this.history),dn(this,function(f){return f.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:mo(this.history.done),undone:mo(this.history.undone)}},setHistory:function(A){var f=this.history=new qr(this.history);f.done=mo(A.done.slice(0),null,!0),f.undone=mo(A.undone.slice(0),null,!0)},setGutterMarker:va(function(A,f,x){return rA(this,A,"gutter",function(b){var B=b.gutterMarkers||(b.gutterMarkers={});return B[f]=x,!x&&J(B)&&(b.gutterMarkers=null),!0})}),clearGutter:va(function(A){var f=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[A]&&rA(f,x,"gutter",function(){return x.gutterMarkers[A]=null,J(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(A){var f;if(typeof A=="number"){if(!Zt(this,A)||(f=A,A=jn(this,A),!A))return null}else if(f=ve(A),f==null)return null;return{line:f,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:va(function(A,f,x){return rA(this,A,f=="gutter"?"gutter":"class",function(b){var B=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass";if(!b[B])b[B]=x;else{if(De(x).test(b[B]))return!1;b[B]+=" "+x}return!0})}),removeLineClass:va(function(A,f,x){return rA(this,A,f=="gutter"?"gutter":"class",function(b){var B=f=="text"?"textClass":f=="background"?"bgClass":f=="gutter"?"gutterClass":"wrapClass",U=b[B];if(U)if(x==null)b[B]=null;else{var Q=U.match(De(x));if(!Q)return!1;var ne=Q.index+Q[0].length;b[B]=U.slice(0,Q.index)+(!Q.index||ne==U.length?"":" ")+U.slice(ne)||null}else return!1;return!0})}),addLineWidget:va(function(A,f,x){return ef(this,A,f,x)}),removeLineWidget:function(A){A.clear()},markText:function(A,f,x){return nh(this,Dr(this,A),Dr(this,f),x,x&&x.type||"range")},setBookmark:function(A,f){var x={replacedWith:f&&(f.nodeType==null?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};return A=Dr(this,A),nh(this,A,A,x,"bookmark")},findMarksAt:function(A){A=Dr(this,A);var f=[],x=jn(this,A.line).markedSpans;if(x)for(var b=0;b<x.length;++b){var B=x[b];(B.from==null||B.from<=A.ch)&&(B.to==null||B.to>=A.ch)&&f.push(B.marker.parent||B.marker)}return f},findMarks:function(A,f,x){A=Dr(this,A),f=Dr(this,f);var b=[],B=A.line;return this.iter(A.line,f.line+1,function(U){var Q=U.markedSpans;if(Q)for(var ne=0;ne<Q.length;ne++){var le=Q[ne];!(le.to!=null&&B==A.line&&A.ch>=le.to||le.from==null&&B!=A.line||le.from!=null&&B==f.line&&le.from>=f.ch)&&(!x||x(le.marker))&&b.push(le.marker.parent||le.marker)}++B}),b},getAllMarks:function(){var A=[];return this.iter(function(f){var x=f.markedSpans;if(x)for(var b=0;b<x.length;++b)x[b].from!=null&&A.push(x[b].marker)}),A},posFromIndex:function(A){var f,x=this.first,b=this.lineSeparator().length;return this.iter(function(B){var U=B.text.length+b;if(U>A)return f=A,!0;A-=U,++x}),Dr(this,Lt(x,f))},indexFromPos:function(A){A=Dr(this,A);var f=A.ch;if(A.line<this.first||A.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,A.line,function(b){f+=b.text.length+x}),f},copy:function(A){var f=new Os(_o(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return f.scrollTop=this.scrollTop,f.scrollLeft=this.scrollLeft,f.sel=this.sel,f.extend=!1,A&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory())),f},linkedDoc:function(A){A||(A={});var f=this.first,x=this.first+this.size;A.from!=null&&A.from>f&&(f=A.from),A.to!=null&&A.to<x&&(x=A.to);var b=new Os(_o(this,f,x),A.mode||this.modeOption,f,this.lineSep,this.direction);return A.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:A.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],ih(b,hl(this)),b},unlinkDoc:function(A){if(A instanceof Co&&(A=A.doc),this.linked)for(var f=0;f<this.linked.length;++f){var x=this.linked[f];if(x.doc==A){this.linked.splice(f,1),A.unlinkDoc(this),x0(hl(this));break}}if(A.history==this.history){var b=[A.id];dn(A,function(B){return b.push(B.id)},!0),A.history=new qr(null),A.history.done=mo(this.history.done,b),A.history.undone=mo(this.history.undone,b)}},iterLinkedDocs:function(A){dn(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Sr(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:va(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(f){return f.order=null}),this.cm&&$n(this.cm))})}),Os.prototype.eachLine=Os.prototype.iter;var im=0;function om(A){var f=this;if(M0(f),!(ce(f,A)||Fl(f.display,A))){rt(A),h&&(im=+new Date);var x=au(f,A,!0),b=A.dataTransfer.files;if(!(!x||f.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var B=b.length,U=Array(B),Q=0,ne=function(){++Q==B&&$i(f,function(){x=Dr(f.doc,x);var _t={from:x,to:x,text:f.doc.splitLines(U.filter(function(Wt){return Wt!=null}).join(f.doc.lineSeparator())),origin:"paste"};uu(f.doc,_t),Ss(f.doc,Ye(Dr(f.doc,x),Dr(f.doc,Ze(_t))))})()},le=function(_t,Wt){if(f.options.allowDropFileTypes&&Re(f.options.allowDropFileTypes,_t.type)==-1){ne();return}var cn=new FileReader;cn.onerror=function(){return ne()},cn.onload=function(){var kn=cn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(kn)){ne();return}U[Wt]=kn,ne()},cn.readAsText(_t)},me=0;me<b.length;me++)le(b[me],me);else{if(f.state.draggingText&&f.doc.sel.contains(x)>-1){f.state.draggingText(A),setTimeout(function(){return f.display.input.focus()},20);return}try{var $e=A.dataTransfer.getData("Text");if($e){var nt;if(f.state.draggingText&&!f.state.draggingText.copy&&(nt=f.listSelections()),Ei(f.doc,Ye(x,x)),nt)for(var Ot=0;Ot<nt.length;++Ot)OA(f.doc,"",nt[Ot].anchor,nt[Ot].head,"drag");f.replaceSelection($e,"around","paste"),f.display.input.focus()}}catch{}}}}function w0(A,f){if(h&&(!A.state.draggingText||+new Date-im<100)){et(f);return}if(!(ce(A,f)||Fl(A.display,f))&&(f.dataTransfer.setData("Text",A.getSelection()),f.dataTransfer.effectAllowed="copyMove",f.dataTransfer.setDragImage&&!Y)){var x=ge("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(x.width=x.height=1,A.display.wrapper.appendChild(x),x._top=x.offsetTop),f.dataTransfer.setDragImage(x,0,0),D&&x.parentNode.removeChild(x)}}function Qi(A,f){var x=au(A,f);if(x){var b=document.createDocumentFragment();JA(A,x,b),A.display.dragCursor||(A.display.dragCursor=ge("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),Qe(A.display.dragCursor,b)}}function M0(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function S0(A){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),x=[],b=0;b<f.length;b++){var B=f[b].CodeMirror;B&&x.push(B)}x.length&&x[0].operation(function(){for(var U=0;U<x.length;U++)A(x[U])})}}var nf=!1;function am(){nf||(tg(),nf=!0)}function tg(){var A;Pt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,S0(E0)},100))}),Pt(window,"blur",function(){return S0(Kc)})}function E0(A){var f=A.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,A.setSize()}for(var Fa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},fl=0;fl<10;fl++)Fa[fl+48]=Fa[fl+96]=String(fl);for(var vd=65;vd<=90;vd++)Fa[vd]=String.fromCharCode(vd);for(var oh=1;oh<=12;oh++)Fa[oh+111]=Fa[oh+63235]="F"+oh;var BA={};BA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},BA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},BA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},BA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},BA.default=ye?BA.macDefault:BA.pcDefault;function ng(A){var f=A.split(/-(?!$)/);A=f[f.length-1];for(var x,b,B,U,Q=0;Q<f.length-1;Q++){var ne=f[Q];if(/^(cmd|meta|m)$/i.test(ne))U=!0;else if(/^a(lt)?$/i.test(ne))x=!0;else if(/^(c|ctrl|control)$/i.test(ne))b=!0;else if(/^s(hift)?$/i.test(ne))B=!0;else throw new Error("Unrecognized modifier name: "+ne)}return x&&(A="Alt-"+A),b&&(A="Ctrl-"+A),U&&(A="Cmd-"+A),B&&(A="Shift-"+A),A}function Tu(A){var f={};for(var x in A)if(A.hasOwnProperty(x)){var b=A[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if(b=="..."){delete A[x];continue}for(var B=Jn(x.split(" "),ng),U=0;U<B.length;U++){var Q=void 0,ne=void 0;U==B.length-1?(ne=B.join(" "),Q=b):(ne=B.slice(0,U+1).join(" "),Q="...");var le=f[ne];if(!le)f[ne]=Q;else if(le!=Q)throw new Error("Inconsistent bindings for "+ne)}delete A[x]}for(var me in f)A[me]=f[me];return A}function Pu(A,f,x,b){f=rf(f);var B=f.call?f.call(A,b):f[A];if(B===!1)return"nothing";if(B==="...")return"multi";if(B!=null&&x(B))return"handled";if(f.fallthrough){if(Object.prototype.toString.call(f.fallthrough)!="[object Array]")return Pu(A,f.fallthrough,x,b);for(var U=0;U<f.fallthrough.length;U++){var Q=Pu(A,f.fallthrough[U],x,b);if(Q)return Q}}}function sm(A){var f=typeof A=="string"?A:Fa[A.keyCode];return f=="Ctrl"||f=="Alt"||f=="Shift"||f=="Mod"}function up(A,f,x){var b=A;return f.altKey&&b!="Alt"&&(A="Alt-"+A),(we?f.metaKey:f.ctrlKey)&&b!="Ctrl"&&(A="Ctrl-"+A),(we?f.ctrlKey:f.metaKey)&&b!="Mod"&&(A="Cmd-"+A),!x&&f.shiftKey&&b!="Shift"&&(A="Shift-"+A),A}function _d(A,f){if(D&&A.keyCode==34&&A.char)return!1;var x=Fa[A.keyCode];return x==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(x=A.code),up(x,A,f))}function rf(A){return typeof A=="string"?BA[A]:A}function cu(A,f){for(var x=A.doc.sel.ranges,b=[],B=0;B<x.length;B++){for(var U=f(x[B]);b.length&&wn(U.from,yn(b).to)<=0;){var Q=b.pop();if(wn(Q.from,U.from)<0){U.from=Q.from;break}}b.push(U)}us(A,function(){for(var ne=b.length-1;ne>=0;ne--)OA(A.doc,"",b[ne].from,b[ne].to,"+delete");ao(A)})}function Cd(A,f,x){var b=At(A.text,f+x,x);return b<0||b>A.text.length?null:b}function Ap(A,f,x){var b=Cd(A,f.ch,x);return b==null?null:new Lt(f.line,b,x<0?"after":"before")}function cp(A,f,x,b,B){if(A){f.doc.direction=="rtl"&&(B=-B);var U=On(x,f.doc.direction);if(U){var Q=B<0?yn(U):U[0],ne=B<0==(Q.level==1),le=ne?"after":"before",me;if(Q.level>0||f.doc.direction=="rtl"){var $e=Ll(f,x);me=B<0?x.text.length-1:0;var nt=wl(f,$e,me).top;me=Bt(function(Ot){return wl(f,$e,Ot).top==nt},B<0==(Q.level==1)?Q.from:Q.to-1,me),le=="before"&&(me=Cd(x,me,1))}else me=B<0?Q.to:Q.from;return new Lt(b,me,le)}}return new Lt(b,B<0?x.text.length:0,B<0?"before":"after")}function bd(A,f,x,b){var B=On(f,A.doc.direction);if(!B)return Ap(f,x,b);x.ch>=f.text.length?(x.ch=f.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var U=fn(B,x.ch,x.sticky),Q=B[U];if(A.doc.direction=="ltr"&&Q.level%2==0&&(b>0?Q.to>x.ch:Q.from<x.ch))return Ap(f,x,b);var ne=function(Qn,bn){return Cd(f,Qn instanceof Lt?Qn.ch:Qn,bn)},le,me=function(Qn){return A.options.lineWrapping?(le=le||Ll(A,f),To(A,f,le,Qn)):{begin:0,end:f.text.length}},$e=me(x.sticky=="before"?ne(x,-1):x.ch);if(A.doc.direction=="rtl"||Q.level==1){var nt=Q.level==1==b<0,Ot=ne(x,nt?1:-1);if(Ot!=null&&(nt?Ot<=Q.to&&Ot<=$e.end:Ot>=Q.from&&Ot>=$e.begin)){var _t=nt?"before":"after";return new Lt(x.line,Ot,_t)}}var Wt=function(Qn,bn,Ln){for(var ar=function(Uo,qa){return qa?new Lt(x.line,ne(Uo,1),"before"):new Lt(x.line,Uo,"after")};Qn>=0&&Qn<B.length;Qn+=bn){var Tr=B[Qn],_r=bn>0==(Tr.level!=1),hi=_r?Ln.begin:ne(Ln.end,-1);if(Tr.from<=hi&&hi<Tr.to||(hi=_r?Tr.from:ne(Tr.to,-1),Ln.begin<=hi&&hi<Ln.end))return ar(hi,_r)}},cn=Wt(U+b,b,$e);if(cn)return cn;var kn=b>0?$e.end:ne($e.begin,-1);return kn!=null&&!(b>0&&kn==f.text.length)&&(cn=Wt(b>0?0:B.length-1,b,me(kn)),cn)?cn:null}var dp={selectAll:sc,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),St)},killLine:function(A){return cu(A,function(f){if(f.empty()){var x=jn(A.doc,f.head.line).text.length;return f.head.ch==x&&f.head.line<A.lastLine()?{from:f.head,to:Lt(f.head.line+1,0)}:{from:f.head,to:Lt(f.head.line,x)}}else return{from:f.from(),to:f.to()}})},deleteLine:function(A){return cu(A,function(f){return{from:Lt(f.from().line,0),to:Dr(A.doc,Lt(f.to().line+1,0))}})},delLineLeft:function(A){return cu(A,function(f){return{from:Lt(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(A){return cu(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return{from:b,to:f.from()}})},delWrappedLineRight:function(A){return cu(A,function(f){var x=A.charCoords(f.head,"div").top+5,b=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div");return{from:f.from(),to:b}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Lt(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Lt(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(f){return Lc(A,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(f){return O0(A,f.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(f){return rg(A,f.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:x},"div")},zt)},goLineLeft:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5;return A.coordsChar({left:0,top:x},"div")},zt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(f){var x=A.cursorCoords(f.head,"div").top+5,b=A.coordsChar({left:0,top:x},"div");return b.ch<A.getLine(b.line).search(/\S/)?O0(A,f.head):b},zt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var f=[],x=A.listSelections(),b=A.options.tabSize,B=0;B<x.length;B++){var U=x[B].from(),Q=pe(A.getLine(U.line),U.ch,b);f.push(gn(b-Q%b))}A.replaceSelections(f)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return us(A,function(){for(var f=A.listSelections(),x=[],b=0;b<f.length;b++)if(f[b].empty()){var B=f[b].head,U=jn(A.doc,B.line).text;if(U){if(B.ch==U.length&&(B=new Lt(B.line,B.ch-1)),B.ch>0)B=new Lt(B.line,B.ch+1),A.replaceRange(U.charAt(B.ch-1)+U.charAt(B.ch-2),Lt(B.line,B.ch-2),B,"+transpose");else if(B.line>A.doc.first){var Q=jn(A.doc,B.line-1).text;Q&&(B=new Lt(B.line,1),A.replaceRange(U.charAt(0)+A.doc.lineSeparator()+Q.charAt(Q.length-1),Lt(B.line-1,Q.length-1),B,"+transpose"))}}x.push(new Oe(B,B))}A.setSelections(x)})},newlineAndIndent:function(A){return us(A,function(){for(var f=A.listSelections(),x=f.length-1;x>=0;x--)A.replaceRange(A.doc.lineSeparator(),f[x].anchor,f[x].head,"+input");f=A.listSelections();for(var b=0;b<f.length;b++)A.indentLine(f[b].from().line,null,!0);ao(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function Lc(A,f){var x=jn(A.doc,f),b=yr(x);return b!=x&&(f=ve(b)),cp(!0,A,b,f,1)}function rg(A,f){var x=jn(A.doc,f),b=kr(x);return b!=x&&(f=ve(b)),cp(!0,A,x,f,-1)}function O0(A,f){var x=Lc(A,f.line),b=jn(A.doc,x.line),B=On(b,A.doc.direction);if(!B||B[0].level==0){var U=Math.max(x.ch,b.text.search(/\S/)),Q=f.line==x.line&&f.ch<=U&&f.ch;return Lt(x.line,Q?0:U,x.sticky)}return x}function xd(A,f,x){if(typeof f=="string"&&(f=dp[f],!f))return!1;A.display.input.ensurePolled();var b=A.display.shift,B=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),x&&(A.display.shift=!1),B=f(A)!=ot}finally{A.display.shift=b,A.state.suppressEdits=!1}return B}function jv(A,f,x){for(var b=0;b<A.state.keyMaps.length;b++){var B=Pu(f,A.state.keyMaps[b],x,A);if(B)return B}return A.options.extraKeys&&Pu(f,A.options.extraKeys,x,A)||Pu(f,A.options.keyMap,x,A)}var of=new Se;function hp(A,f,x,b){var B=A.state.keySeq;if(B){if(sm(f))return"handled";if(/\'$/.test(f)?A.state.keySeq=null:of.set(50,function(){A.state.keySeq==B&&(A.state.keySeq=null,A.display.input.reset())}),Ca(A,B+" "+f,x,b))return!0}return Ca(A,f,x,b)}function Ca(A,f,x,b){var B=jv(A,f,b);return B=="multi"&&(A.state.keySeq=f),B=="handled"&&Io(A,"keyHandled",A,f,x),(B=="handled"||B=="multi")&&(rt(x),Vu(A)),!!B}function af(A,f){var x=_d(f,!0);return x?f.shiftKey&&!A.state.keySeq?hp(A,"Shift-"+x,f,function(b){return xd(A,b,!0)})||hp(A,x,f,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return xd(A,b)}):hp(A,x,f,function(b){return xd(A,b)}):!1}function ig(A,f,x){return hp(A,"'"+x+"'",f,function(b){return xd(A,b,!0)})}var ah=null;function sf(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&(f.curOp.focus=mt(Yt(f)),!ce(f,A))){h&&g<11&&A.keyCode==27&&(A.returnValue=!1);var x=A.keyCode;f.display.shift=x==16||A.shiftKey;var b=af(f,A);D&&(ah=b?x:null,!b&&x==88&&!Qr&&(ye?A.metaKey:A.ctrlKey)&&f.replaceSelection("",null,"cut")),i&&!ye&&!b&&x==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),x==18&&!/\bCodeMirror-crosshair\b/.test(f.display.lineDiv.className)&&Js(f)}}function Js(A){var f=A.display.lineDiv;ze(f,"CodeMirror-crosshair");function x(b){(b.keyCode==18||!b.altKey)&&(Fe(f,"CodeMirror-crosshair"),tr(document,"keyup",x),tr(document,"mouseover",x))}Pt(document,"keyup",x),Pt(document,"mouseover",x)}function oA(A){A.keyCode==16&&(this.doc.sel.shift=!1),ce(this,A)}function B0(A){var f=this;if(!(A.target&&A.target!=f.display.input.getField())&&!(Fl(f.display,A)||ce(f,A)||A.ctrlKey&&!A.altKey||ye&&A.metaKey)){var x=A.keyCode,b=A.charCode;if(D&&x==ah){ah=null,rt(A);return}if(!(D&&(!A.which||A.which<10)&&af(f,A))){var B=String.fromCharCode(b??x);B!="\b"&&(ig(f,A,B)||f.display.input.onKeyPress(A))}}}var fp=400,wd=function(A,f,x){this.time=A,this.pos=f,this.button=x};wd.prototype.compare=function(A,f,x){return this.time+fp>A&&wn(f,this.pos)==0&&x==this.button};var aA,sh;function og(A,f){var x=+new Date;return sh&&sh.compare(x,A,f)?(aA=sh=null,"triple"):aA&&aA.compare(x,A,f)?(sh=new wd(x,A,f),aA=null,"double"):(aA=new wd(x,A,f),sh=null,"single")}function I0(A){var f=this,x=f.display;if(!(ce(f,A)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=A.shiftKey,Fl(x,A)){_||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100));return}if(!uh(f,A)){var b=au(f,A),B=tn(A),U=b?og(b,B):"single";$t(f).focus(),B==1&&f.state.selectingText&&f.state.selectingText(A),!(b&&lf(f,B,b,U,A))&&(B==1?b?lh(f,b,U,A):Mt(A)==x.scroller&&rt(A):B==2?(b&&Xs(f.doc,b),setTimeout(function(){return x.input.focus()},20)):B==3&&(xe?f.display.input.onContextMenu(A):ec(f)))}}}function lf(A,f,x,b,B){var U="Click";return b=="double"?U="Double"+U:b=="triple"&&(U="Triple"+U),U=(f==1?"Left":f==2?"Middle":"Right")+U,hp(A,up(U,B),B,function(Q){if(typeof Q=="string"&&(Q=dp[Q]),!Q)return!1;var ne=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),ne=Q(A,x)!=ot}finally{A.state.suppressEdits=!1}return ne})}function uf(A,f,x){var b=A.getOption("configureMouse"),B=b?b(A,f,x):{};if(B.unit==null){var U=be?x.shiftKey&&x.metaKey:x.altKey;B.unit=U?"rectangle":f=="single"?"char":f=="double"?"word":"line"}return(B.extend==null||A.doc.extend)&&(B.extend=A.doc.extend||x.shiftKey),B.addNew==null&&(B.addNew=ye?x.metaKey:x.ctrlKey),B.moveOnDrag==null&&(B.moveOnDrag=!(ye?x.altKey:x.ctrlKey)),B}function lh(A,f,x,b){h?setTimeout(Qt(Zu,A),0):A.curOp.focus=mt(Yt(A));var B=uf(A,x,b),U=A.doc.sel,Q;A.options.dragDrop&&Ht&&!A.isReadOnly()&&x=="single"&&(Q=U.contains(f))>-1&&(wn((Q=U.ranges[Q]).from(),f)<0||f.xRel>0)&&(wn(Q.to(),f)>0||f.xRel<0)?Wv(A,b,f,B):lm(A,b,f,B)}function Wv(A,f,x,b){var B=A.display,U=!1,Q=$i(A,function(me){_&&(B.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:ec(A)),tr(B.wrapper.ownerDocument,"mouseup",Q),tr(B.wrapper.ownerDocument,"mousemove",ne),tr(B.scroller,"dragstart",le),tr(B.scroller,"drop",Q),U||(rt(me),b.addNew||Xs(A.doc,x,null,null,b.extend),_&&!Y||h&&g==9?setTimeout(function(){B.wrapper.ownerDocument.body.focus({preventScroll:!0}),B.input.focus()},20):B.input.focus())}),ne=function(me){U=U||Math.abs(f.clientX-me.clientX)+Math.abs(f.clientY-me.clientY)>=10},le=function(){return U=!0};_&&(B.scroller.draggable=!0),A.state.draggingText=Q,Q.copy=!b.moveOnDrag,Pt(B.wrapper.ownerDocument,"mouseup",Q),Pt(B.wrapper.ownerDocument,"mousemove",ne),Pt(B.scroller,"dragstart",le),Pt(B.scroller,"drop",Q),A.state.delayingBlurEvent=!0,setTimeout(function(){return B.input.focus()},20),B.scroller.dragDrop&&B.scroller.dragDrop()}function pp(A,f,x){if(x=="char")return new Oe(f,f);if(x=="word")return A.findWordAt(f);if(x=="line")return new Oe(Lt(f.line,0),Dr(A.doc,Lt(f.line+1,0)));var b=x(A,f);return new Oe(b.from,b.to)}function lm(A,f,x,b){h&&ec(A);var B=A.display,U=A.doc;rt(f);var Q,ne,le=U.sel,me=le.ranges;if(b.addNew&&!b.extend?(ne=U.sel.contains(x),ne>-1?Q=me[ne]:Q=new Oe(x,x)):(Q=U.sel.primary(),ne=U.sel.primIndex),b.unit=="rectangle")b.addNew||(Q=new Oe(x,x)),x=au(A,f,!0,!0),ne=-1;else{var $e=pp(A,x,b.unit);b.extend?Q=so(Q,$e.anchor,$e.head,b.extend):Q=$e}b.addNew?ne==-1?(ne=me.length,Ri(U,qe(A,me.concat([Q]),ne),{scroll:!1,origin:"*mouse"})):me.length>1&&me[ne].empty()&&b.unit=="char"&&!b.extend?(Ri(U,qe(A,me.slice(0,ne).concat(me.slice(ne+1)),0),{scroll:!1,origin:"*mouse"}),le=U.sel):Ms(U,ne,Q,Rt):(ne=0,Ri(U,new fe([Q],0),Rt),le=U.sel);var nt=x;function Ot(Ln){if(wn(nt,Ln)!=0)if(nt=Ln,b.unit=="rectangle"){for(var ar=[],Tr=A.options.tabSize,_r=pe(jn(U,x.line).text,x.ch,Tr),hi=pe(jn(U,Ln.line).text,Ln.ch,Tr),Uo=Math.min(_r,hi),qa=Math.max(_r,hi),ba=Math.min(x.line,Ln.line),La=Math.min(A.lastLine(),Math.max(x.line,Ln.line));ba<=La;ba++){var As=jn(U,ba).text,cs=pt(As,Uo,Tr);Uo==qa?ar.push(new Oe(Lt(ba,cs),Lt(ba,cs))):As.length>cs&&ar.push(new Oe(Lt(ba,cs),Lt(ba,pt(As,qa,Tr))))}ar.length||ar.push(new Oe(x,x)),Ri(U,qe(A,le.ranges.slice(0,ne).concat(ar),ne),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Ln)}else{var Sl=Q,el=pp(A,Ln,b.unit),Bs=Sl.anchor,ds;wn(el.anchor,Bs)>0?(ds=el.head,Bs=Zo(Sl.from(),el.anchor)):(ds=el.anchor,Bs=si(Sl.to(),el.head));var ca=le.ranges.slice(0);ca[ne]=Af(A,new Oe(Dr(U,Bs),ds)),Ri(U,qe(A,ca,ne),Rt)}}var _t=B.wrapper.getBoundingClientRect(),Wt=0;function cn(Ln){var ar=++Wt,Tr=au(A,Ln,!0,b.unit=="rectangle");if(Tr)if(wn(Tr,nt)!=0){A.curOp.focus=mt(Yt(A)),Ot(Tr);var _r=Ju(B,U);(Tr.line>=_r.to||Tr.line<_r.from)&&setTimeout($i(A,function(){Wt==ar&&cn(Ln)}),150)}else{var hi=Ln.clientY<_t.top?-20:Ln.clientY>_t.bottom?20:0;hi&&setTimeout($i(A,function(){Wt==ar&&(B.scroller.scrollTop+=hi,cn(Ln))}),50)}}function kn(Ln){A.state.selectingText=!1,Wt=1/0,Ln&&(rt(Ln),B.input.focus()),tr(B.wrapper.ownerDocument,"mousemove",Qn),tr(B.wrapper.ownerDocument,"mouseup",bn),U.history.lastSelOrigin=null}var Qn=$i(A,function(Ln){Ln.buttons===0||!tn(Ln)?kn(Ln):cn(Ln)}),bn=$i(A,kn);A.state.selectingText=bn,Pt(B.wrapper.ownerDocument,"mousemove",Qn),Pt(B.wrapper.ownerDocument,"mouseup",bn)}function Af(A,f){var x=f.anchor,b=f.head,B=jn(A.doc,x.line);if(wn(x,b)==0&&x.sticky==b.sticky)return f;var U=On(B);if(!U)return f;var Q=fn(U,x.ch,x.sticky),ne=U[Q];if(ne.from!=x.ch&&ne.to!=x.ch)return f;var le=Q+(ne.from==x.ch==(ne.level!=1)?0:1);if(le==0||le==U.length)return f;var me;if(b.line!=x.line)me=(b.line-x.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var $e=fn(U,b.ch,b.sticky),nt=$e-Q||(b.ch-x.ch)*(ne.level==1?-1:1);$e==le-1||$e==le?me=nt<0:me=nt>0}var Ot=U[le+(me?-1:0)],_t=me==(Ot.level==1),Wt=_t?Ot.from:Ot.to,cn=_t?"after":"before";return x.ch==Wt&&x.sticky==cn?f:new Oe(new Lt(x.line,Wt,cn),b)}function um(A,f,x,b){var B,U;if(f.touches)B=f.touches[0].clientX,U=f.touches[0].clientY;else try{B=f.clientX,U=f.clientY}catch{return!1}if(B>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;b&&rt(f);var Q=A.display,ne=Q.lineDiv.getBoundingClientRect();if(U>ne.bottom||!Ie(A,x))return ft(f);U-=ne.top-Q.viewOffset;for(var le=0;le<A.display.gutterSpecs.length;++le){var me=Q.gutters.childNodes[le];if(me&&me.getBoundingClientRect().right>=B){var $e=Je(A.doc,U),nt=A.display.gutterSpecs[le];return Ke(A,x,A,$e,nt.className,f),ft(f)}}}function uh(A,f){return um(A,f,"gutterClick",!0)}function Am(A,f){Fl(A.display,f)||cm(A,f)||ce(A,f,"contextmenu")||xe||A.display.input.onContextMenu(f)}function cm(A,f){return Ie(A,"gutterContextMenu")?um(A,f,"gutterContextMenu",!1):!1}function ag(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bu(A)}var Ah={toString:function(){return"CodeMirror.Init"}},mp={},sA={};function k0(A){var f=A.optionHandlers;function x(b,B,U,Q){A.defaults[b]=B,U&&(f[b]=Q?function(ne,le,me){me!=Ah&&U(ne,le,me)}:U)}A.defineOption=x,A.Init=Ah,x("value","",function(b,B){return b.setValue(B)},!0),x("mode",null,function(b,B){b.doc.modeOption=B,bt(b)},!0),x("indentUnit",2,bt,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(b){Kt(b),Bu(b),ya(b)},!0),x("lineSeparator",null,function(b,B){if(b.doc.lineSep=B,!!B){var U=[],Q=b.doc.first;b.doc.iter(function(le){for(var me=0;;){var $e=le.text.indexOf(B,me);if($e==-1)break;me=$e+B.length,U.push(Lt(Q,$e))}Q++});for(var ne=U.length-1;ne>=0;ne--)OA(b.doc,B,U[ne],Lt(U[ne].line,U[ne].ch+B.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,B,U){b.state.specialChars=new RegExp(B.source+(B.test("	")?"":"|	"),"g"),U!=Ah&&b.refresh()}),x("specialCharPlaceholder",Nu,function(b){return b.refresh()},!0),x("electricChars",!0),x("inputStyle",ue?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(b,B){return b.getInputField().spellcheck=B},!0),x("autocorrect",!1,function(b,B){return b.getInputField().autocorrect=B},!0),x("autocapitalize",!1,function(b,B){return b.getInputField().autocapitalize=B},!0),x("rtlMoveVisually",!X),x("wholeLineUpdateBefore",!0),x("theme","default",function(b){ag(b),w(b)},!0),x("keyMap","default",function(b,B,U){var Q=rf(B),ne=U!=Ah&&rf(U);ne&&ne.detach&&ne.detach(b,Q),Q.attach&&Q.attach(b,ne||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,ch,!0),x("gutters",[],function(b,B){b.display.gutterSpecs=p(B,b.options.lineNumbers),w(b)},!0),x("fixedGutter",!0,function(b,B){b.display.gutters.style.left=B?Vi(b.display)+"px":"0",b.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(b){return dl(b)},!0),x("scrollbarStyle","native",function(b){rp(b),dl(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),x("lineNumbers",!1,function(b,B){b.display.gutterSpecs=p(b.options.gutters,B),w(b)},!0),x("firstLineNumber",1,w,!0),x("lineNumberFormatter",function(b){return b},w,!0),x("showCursorWhenSelecting",!1,qu,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(b,B){B=="nocursor"&&(Kc(b),b.display.input.blur()),b.display.input.readOnlyChanged(B)}),x("screenReaderLabel",null,function(b,B){B=B===""?null:B,b.display.input.screenReaderLabelChanged(B)}),x("disableInput",!1,function(b,B){B||b.display.input.reset()},!0),x("dragDrop",!0,sg),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,qu,!0),x("singleCursorHeightPerLine",!0,qu,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,Kt,!0),x("addModeClass",!1,Kt,!0),x("pollInterval",100),x("undoDepth",200,function(b,B){return b.doc.history.undoDepth=B}),x("historyEventDelay",1250),x("viewportMargin",10,function(b){return b.refresh()},!0),x("maxHighlightLength",1e4,Kt,!0),x("moveInputWithCursor",!0,function(b,B){B||b.display.input.resetPosition()}),x("tabindex",null,function(b,B){return b.display.input.getField().tabIndex=B||""}),x("autofocus",null),x("direction","ltr",function(b,B){return b.doc.setDirection(B)},!0),x("phrases",null)}function sg(A,f,x){var b=x&&x!=Ah;if(!f!=!b){var B=A.display.dragFunctions,U=f?Pt:tr;U(A.display.scroller,"dragstart",B.start),U(A.display.scroller,"dragenter",B.enter),U(A.display.scroller,"dragover",B.over),U(A.display.scroller,"dragleave",B.leave),U(A.display.scroller,"drop",B.drop)}}function ch(A){A.options.lineWrapping?(ze(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(Fe(A.display.wrapper,"CodeMirror-wrap"),$a(A)),$h(A),ya(A),Bu(A),setTimeout(function(){return dl(A)},100)}function Co(A,f){var x=this;if(!(this instanceof Co))return new Co(A,f);this.options=f=f?ke(f):{},ke(mp,f,!1);var b=f.value;typeof b=="string"?b=new Os(b,f.mode,null,f.lineSeparator,f.direction):f.mode&&(b.modeOption=f.mode),this.doc=b;var B=new Co.inputStyles[f.inputStyle](this),U=this.display=new k(A,b,B,f);U.wrapper.CodeMirror=this,ag(this),f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rp(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Se,keySeq:null,specialChars:null},f.autofocus&&!ue&&U.input.focus(),h&&g<11&&setTimeout(function(){return x.display.input.reset(!0)},20),lg(this),am(),tA(this),this.curOp.forceUpdate=!0,un(this,b),f.autofocus&&!ue||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&Jd(x)},20):Kc(this);for(var Q in sA)sA.hasOwnProperty(Q)&&sA[Q](this,f[Q],Ah);u(this),f.finishInit&&f.finishInit(this);for(var ne=0;ne<dm.length;++ne)dm[ne](this);Ml(this),_&&f.lineWrapping&&getComputedStyle(U.lineDiv).textRendering=="optimizelegibility"&&(U.lineDiv.style.textRendering="auto")}Co.defaults=mp,Co.optionHandlers=sA;function lg(A){var f=A.display;Pt(f.scroller,"mousedown",$i(A,I0)),h&&g<11?Pt(f.scroller,"dblclick",$i(A,function(le){if(!ce(A,le)){var me=au(A,le);if(!(!me||uh(A,le)||Fl(A.display,le))){rt(le);var $e=A.findWordAt(me);Xs(A.doc,$e.anchor,$e.head)}}})):Pt(f.scroller,"dblclick",function(le){return ce(A,le)||rt(le)}),Pt(f.scroller,"contextmenu",function(le){return Am(A,le)}),Pt(f.input.getField(),"contextmenu",function(le){f.scroller.contains(le.target)||Am(A,le)});var x,b={end:0};function B(){f.activeTouch&&(x=setTimeout(function(){return f.activeTouch=null},1e3),b=f.activeTouch,b.end=+new Date)}function U(le){if(le.touches.length!=1)return!1;var me=le.touches[0];return me.radiusX<=1&&me.radiusY<=1}function Q(le,me){if(me.left==null)return!0;var $e=me.left-le.left,nt=me.top-le.top;return $e*$e+nt*nt>20*20}Pt(f.scroller,"touchstart",function(le){if(!ce(A,le)&&!U(le)&&!uh(A,le)){f.input.ensurePolled(),clearTimeout(x);var me=+new Date;f.activeTouch={start:me,moved:!1,prev:me-b.end<=300?b:null},le.touches.length==1&&(f.activeTouch.left=le.touches[0].pageX,f.activeTouch.top=le.touches[0].pageY)}}),Pt(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Pt(f.scroller,"touchend",function(le){var me=f.activeTouch;if(me&&!Fl(f,le)&&me.left!=null&&!me.moved&&new Date-me.start<300){var $e=A.coordsChar(f.activeTouch,"page"),nt;!me.prev||Q(me,me.prev)?nt=new Oe($e,$e):!me.prev.prev||Q(me,me.prev.prev)?nt=A.findWordAt($e):nt=new Oe(Lt($e.line,0),Dr(A.doc,Lt($e.line+1,0))),A.setSelection(nt.anchor,nt.head),A.focus(),rt(le)}B()}),Pt(f.scroller,"touchcancel",B),Pt(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Dc(A,f.scroller.scrollTop),Aa(A,f.scroller.scrollLeft,!0),Ke(A,"scroll",A))}),Pt(f.scroller,"mousewheel",function(le){return de(A,le)}),Pt(f.scroller,"DOMMouseScroll",function(le){return de(A,le)}),Pt(f.wrapper,"scroll",function(){return f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(le){ce(A,le)||et(le)},over:function(le){ce(A,le)||(Qi(A,le),et(le))},start:function(le){return w0(A,le)},drop:$i(A,om),leave:function(le){ce(A,le)||M0(A)}};var ne=f.input.getField();Pt(ne,"keyup",function(le){return oA.call(A,le)}),Pt(ne,"keydown",$i(A,sf)),Pt(ne,"keypress",$i(A,B0)),Pt(ne,"focus",function(le){return Jd(A,le)}),Pt(ne,"blur",function(le){return Kc(A,le)})}var dm=[];Co.defineInitHook=function(A){return dm.push(A)};function cf(A,f,x,b){var B=A.doc,U;x==null&&(x="add"),x=="smart"&&(B.mode.indent?U=Jo(A,f).state:x="prev");var Q=A.options.tabSize,ne=jn(B,f),le=pe(ne.text,null,Q);ne.stateAfter&&(ne.stateAfter=null);var me=ne.text.match(/^\s*/)[0],$e;if(!b&&!/\S/.test(ne.text))$e=0,x="not";else if(x=="smart"&&($e=B.mode.indent(U,ne.text.slice(me.length),ne.text),$e==ot||$e>150)){if(!b)return;x="prev"}x=="prev"?f>B.first?$e=pe(jn(B,f-1).text,null,Q):$e=0:x=="add"?$e=le+A.options.indentUnit:x=="subtract"?$e=le-A.options.indentUnit:typeof x=="number"&&($e=le+x),$e=Math.max(0,$e);var nt="",Ot=0;if(A.options.indentWithTabs)for(var _t=Math.floor($e/Q);_t;--_t)Ot+=Q,nt+="	";if(Ot<$e&&(nt+=gn($e-Ot)),nt!=me)return OA(B,nt,Lt(f,0),Lt(f,me.length),"+input"),ne.stateAfter=null,!0;for(var Wt=0;Wt<B.sel.ranges.length;Wt++){var cn=B.sel.ranges[Wt];if(cn.head.line==f&&cn.head.ch<me.length){var kn=Lt(f,me.length);Ms(B,Wt,new Oe(kn,kn));break}}}var Ku=null;function hm(A){Ku=A}function T0(A,f,x,b,B){var U=A.doc;A.display.shift=!1,b||(b=U.sel);var Q=+new Date-200,ne=B=="paste"||A.state.pasteIncoming>Q,le=Sr(f),me=null;if(ne&&b.ranges.length>1)if(Ku&&Ku.text.join(`
`)==f){if(b.ranges.length%Ku.text.length==0){me=[];for(var $e=0;$e<Ku.text.length;$e++)me.push(U.splitLines(Ku.text[$e]))}}else le.length==b.ranges.length&&A.options.pasteLinesPerSelection&&(me=Jn(le,function(Qn){return[Qn]}));for(var nt=A.curOp.updateInput,Ot=b.ranges.length-1;Ot>=0;Ot--){var _t=b.ranges[Ot],Wt=_t.from(),cn=_t.to();_t.empty()&&(x&&x>0?Wt=Lt(Wt.line,Wt.ch-x):A.state.overwrite&&!ne?cn=Lt(cn.line,Math.min(jn(U,cn.line).text.length,cn.ch+yn(le).length)):ne&&Ku&&Ku.lineWise&&Ku.text.join(`
`)==le.join(`
`)&&(Wt=cn=Lt(Wt.line,0)));var kn={from:Wt,to:cn,text:me?me[Ot%me.length]:le,origin:B||(ne?"paste":A.state.cutIncoming>Q?"cut":"+input")};uu(A.doc,kn),Io(A,"inputRead",A,kn)}f&&!ne&&fm(A,f),ao(A),A.curOp.updateInput<2&&(A.curOp.updateInput=nt),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function uc(A,f){var x=A.clipboardData&&A.clipboardData.getData("Text");if(x)return A.preventDefault(),!f.isReadOnly()&&!f.options.disableInput&&f.hasFocus()&&us(f,function(){return T0(f,x,0,null,"paste")}),!0}function fm(A,f){if(!(!A.options.electricChars||!A.options.smartIndent))for(var x=A.doc.sel,b=x.ranges.length-1;b>=0;b--){var B=x.ranges[b];if(!(B.head.ch>100||b&&x.ranges[b-1].head.line==B.head.line)){var U=A.getModeAt(B.head),Q=!1;if(U.electricChars){for(var ne=0;ne<U.electricChars.length;ne++)if(f.indexOf(U.electricChars.charAt(ne))>-1){Q=cf(A,B.head.line,"smart");break}}else U.electricInput&&U.electricInput.test(jn(A.doc,B.head.line).text.slice(0,B.head.ch))&&(Q=cf(A,B.head.line,"smart"));Q&&Io(A,"electricInput",A,B.head.line)}}}function df(A){for(var f=[],x=[],b=0;b<A.doc.sel.ranges.length;b++){var B=A.doc.sel.ranges[b].head.line,U={anchor:Lt(B,0),head:Lt(B+1,0)};x.push(U),f.push(A.getRange(U.anchor,U.head))}return{text:f,ranges:x}}function Uc(A,f,x,b){A.setAttribute("autocorrect",x?"on":"off"),A.setAttribute("autocapitalize",b?"on":"off"),A.setAttribute("spellcheck",!!f)}function dh(){var A=ge("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),f=ge("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _?A.style.width="1000px":A.setAttribute("wrap","off"),N&&(A.style.border="1px solid black"),f}function hf(A){var f=A.optionHandlers,x=A.helpers={};A.prototype={constructor:A,focus:function(){$t(this).focus(),this.display.input.focus()},setOption:function(b,B){var U=this.options,Q=U[b];U[b]==B&&b!="mode"||(U[b]=B,f.hasOwnProperty(b)&&$i(this,f[b])(this,B,Q),Ke(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,B){this.state.keyMaps[B?"push":"unshift"](rf(b))},removeKeyMap:function(b){for(var B=this.state.keyMaps,U=0;U<B.length;++U)if(B[U]==b||B[U].name==b)return B.splice(U,1),!0},addOverlay:Yr(function(b,B){var U=b.token?b:A.getMode(this.options,b);if(U.startState)throw new Error("Overlays may not be stateful.");Ar(this.state.overlays,{mode:U,modeSpec:b,opaque:B&&B.opaque,priority:B&&B.priority||0},function(Q){return Q.priority}),this.state.modeGen++,ya(this)}),removeOverlay:Yr(function(b){for(var B=this.state.overlays,U=0;U<B.length;++U){var Q=B[U].modeSpec;if(Q==b||typeof b=="string"&&Q.name==b){B.splice(U,1),this.state.modeGen++,ya(this);return}}}),indentLine:Yr(function(b,B,U){typeof B!="string"&&typeof B!="number"&&(B==null?B=this.options.smartIndent?"smart":"prev":B=B?"add":"subtract"),Zt(this.doc,b)&&cf(this,b,B,U)}),indentSelection:Yr(function(b){for(var B=this.doc.sel.ranges,U=-1,Q=0;Q<B.length;Q++){var ne=B[Q];if(ne.empty())ne.head.line>U&&(cf(this,ne.head.line,b,!0),U=ne.head.line,Q==this.doc.sel.primIndex&&ao(this));else{var le=ne.from(),me=ne.to(),$e=Math.max(U,le.line);U=Math.min(this.lastLine(),me.line-(me.ch?0:1))+1;for(var nt=$e;nt<U;++nt)cf(this,nt,b);var Ot=this.doc.sel.ranges;le.ch==0&&B.length==Ot.length&&Ot[Q].from().ch>0&&Ms(this.doc,Q,new Oe(le,Ot[Q].to()),St)}}}),getTokenAt:function(b,B){return vA(this,b,B)},getLineTokens:function(b,B){return vA(this,Lt(b),B,!0)},getTokenTypeAt:function(b){b=Dr(this.doc,b);var B=as(this,jn(this.doc,b.line)),U=0,Q=(B.length-1)/2,ne=b.ch,le;if(ne==0)le=B[2];else for(;;){var me=U+Q>>1;if((me?B[me*2-1]:0)>=ne)Q=me;else if(B[me*2+1]<ne)U=me+1;else{le=B[me*2+2];break}}var $e=le?le.indexOf("overlay "):-1;return $e<0?le:$e==0?null:le.slice(0,$e-1)},getModeAt:function(b){var B=this.doc.mode;return B.innerMode?A.innerMode(B,this.getTokenAt(b).state).mode:B},getHelper:function(b,B){return this.getHelpers(b,B)[0]},getHelpers:function(b,B){var U=[];if(!x.hasOwnProperty(B))return U;var Q=x[B],ne=this.getModeAt(b);if(typeof ne[B]=="string")Q[ne[B]]&&U.push(Q[ne[B]]);else if(ne[B])for(var le=0;le<ne[B].length;le++){var me=Q[ne[B][le]];me&&U.push(me)}else ne.helperType&&Q[ne.helperType]?U.push(Q[ne.helperType]):Q[ne.name]&&U.push(Q[ne.name]);for(var $e=0;$e<Q._global.length;$e++){var nt=Q._global[$e];nt.pred(ne,this)&&Re(U,nt.val)==-1&&U.push(nt.val)}return U},getStateAfter:function(b,B){var U=this.doc;return b=Pa(U,b??U.first+U.size-1),Jo(this,b+1,B).state},cursorCoords:function(b,B){var U,Q=this.doc.sel.primary();return b==null?U=Q.head:typeof b=="object"?U=Dr(this.doc,b):U=b?Q.from():Q.to(),jt(this,U,B||"page")},charCoords:function(b,B){return an(this,Dr(this.doc,b),B||"page")},coordsChar:function(b,B){return b=Et(this,b,B||"page"),oo(this,b.left,b.top)},lineAtHeight:function(b,B){return b=Et(this,{top:b,left:0},B||"page").top,Je(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,B,U){var Q=!1,ne;if(typeof b=="number"){var le=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>le&&(b=le,Q=!0),ne=jn(this.doc,b)}else ne=b;return ou(this,ne,{top:0,left:0},B||"page",U||Q).top+(Q?this.doc.height-Bo(ne):0)},defaultTextHeight:function(){return Qa(this.display)},defaultCharWidth:function(){return Qu(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,B,U,Q,ne){var le=this.display;b=jt(this,Dr(this.doc,b));var me=b.bottom,$e=b.left;if(B.style.position="absolute",B.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(B),le.sizer.appendChild(B),Q=="over")me=b.top;else if(Q=="above"||Q=="near"){var nt=Math.max(le.wrapper.clientHeight,this.doc.height),Ot=Math.max(le.sizer.clientWidth,le.lineSpace.clientWidth);(Q=="above"||b.bottom+B.offsetHeight>nt)&&b.top>B.offsetHeight?me=b.top-B.offsetHeight:b.bottom+B.offsetHeight<=nt&&(me=b.bottom),$e+B.offsetWidth>Ot&&($e=Ot-B.offsetWidth)}B.style.top=me+"px",B.style.left=B.style.right="",ne=="right"?($e=le.sizer.clientWidth-B.offsetWidth,B.style.right="0px"):(ne=="left"?$e=0:ne=="middle"&&($e=(le.sizer.clientWidth-B.offsetWidth)/2),B.style.left=$e+"px"),U&&Qh(this,{left:$e,top:me,right:$e+B.offsetWidth,bottom:me+B.offsetHeight})},triggerOnKeyDown:Yr(sf),triggerOnKeyPress:Yr(B0),triggerOnKeyUp:oA,triggerOnMouseDown:Yr(I0),execCommand:function(b){if(dp.hasOwnProperty(b))return dp[b].call(null,this)},triggerElectric:Yr(function(b){fm(this,b)}),findPosH:function(b,B,U,Q){var ne=1;B<0&&(ne=-1,B=-B);for(var le=Dr(this.doc,b),me=0;me<B&&(le=Xr(this.doc,le,ne,U,Q),!le.hitSide);++me);return le},moveH:Yr(function(b,B){var U=this;this.extendSelectionsBy(function(Q){return U.display.shift||U.doc.extend||Q.empty()?Xr(U.doc,Q.head,b,B,U.options.rtlMoveVisually):b<0?Q.from():Q.to()},zt)}),deleteH:Yr(function(b,B){var U=this.doc.sel,Q=this.doc;U.somethingSelected()?Q.replaceSelection("",null,"+delete"):cu(this,function(ne){var le=Xr(Q,ne.head,b,B,!1);return b<0?{from:le,to:ne.head}:{from:ne.head,to:le}})}),findPosV:function(b,B,U,Q){var ne=1,le=Q;B<0&&(ne=-1,B=-B);for(var me=Dr(this.doc,b),$e=0;$e<B;++$e){var nt=jt(this,me,"div");if(le==null?le=nt.left:nt.left=le,me=ff(this,nt,ne,U),me.hitSide)break}return me},moveV:Yr(function(b,B){var U=this,Q=this.doc,ne=[],le=!this.display.shift&&!Q.extend&&Q.sel.somethingSelected();if(Q.extendSelectionsBy(function($e){if(le)return b<0?$e.from():$e.to();var nt=jt(U,$e.head,"div");$e.goalColumn!=null&&(nt.left=$e.goalColumn),ne.push(nt.left);var Ot=ff(U,nt,b,B);return B=="page"&&$e==Q.sel.primary()&&np(U,an(U,Ot,"div").top-nt.top),Ot},zt),ne.length)for(var me=0;me<Q.sel.ranges.length;me++)Q.sel.ranges[me].goalColumn=ne[me]}),findWordAt:function(b){var B=this.doc,U=jn(B,b.line).text,Q=b.ch,ne=b.ch;if(U){var le=this.getHelper(b,"wordChars");(b.sticky=="before"||ne==U.length)&&Q?--Q:++ne;for(var me=U.charAt(Q),$e=Ee(me,le)?function(nt){return Ee(nt,le)}:/\s/.test(me)?function(nt){return/\s/.test(nt)}:function(nt){return!/\s/.test(nt)&&!Ee(nt)};Q>0&&$e(U.charAt(Q-1));)--Q;for(;ne<U.length&&$e(U.charAt(ne));)++ne}return new Oe(Lt(b.line,Q),Lt(b.line,ne))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ze(this.display.cursorDiv,"CodeMirror-overwrite"):Fe(this.display.cursorDiv,"CodeMirror-overwrite"),Ke(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==mt(Yt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Yr(function(b,B){ua(this,b,B)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-Eu(this)-this.display.barHeight,width:b.scrollWidth-Eu(this)-this.display.barWidth,clientHeight:HA(this),clientWidth:bA(this)}},scrollIntoView:Yr(function(b,B){b==null?(b={from:this.doc.sel.primary().head,to:null},B==null&&(B=this.options.cursorScrollMargin)):typeof b=="number"?b={from:Lt(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=B||0,b.from.line!=null?br(this,b):SA(this,b.from,b.to,b.margin)}),setSize:Yr(function(b,B){var U=this,Q=function(le){return typeof le=="number"||/^\d+$/.test(String(le))?le+"px":le};b!=null&&(this.display.wrapper.style.width=Q(b)),B!=null&&(this.display.wrapper.style.height=Q(B)),this.options.lineWrapping&&Tc(this);var ne=this.display.viewFrom;this.doc.iter(ne,this.display.viewTo,function(le){if(le.widgets){for(var me=0;me<le.widgets.length;me++)if(le.widgets[me].noHScroll){cl(U,ne,"widget");break}}++ne}),this.curOp.forceUpdate=!0,Ke(this,"refresh",this)}),operation:function(b){return us(this,b)},startOperation:function(){return tA(this)},endOperation:function(){return Ml(this)},refresh:Yr(function(){var b=this.display.cachedTextHeight;ya(this),this.curOp.forceUpdate=!0,Bu(this),ua(this,this.doc.scrollLeft,this.doc.scrollTop),th(this.display),(b==null||Math.abs(b-Qa(this.display))>.5||this.options.lineWrapping)&&$h(this),Ke(this,"refresh",this)}),swapDoc:Yr(function(b){var B=this.doc;return B.cm=null,this.state.selectingText&&this.state.selectingText(),un(this,b),Bu(this),this.display.input.reset(),ua(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,Io(this,"swapDoc",this,B),B}),phrase:function(b){var B=this.options.phrases;return B&&Object.prototype.hasOwnProperty.call(B,b)?B[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},je(A),A.registerHelper=function(b,B,U){x.hasOwnProperty(b)||(x[b]=A[b]={_global:[]}),x[b][B]=U},A.registerGlobalHelper=function(b,B,U,Q){A.registerHelper(b,B,Q),x[b]._global.push({pred:U,val:Q})}}function Xr(A,f,x,b,B){var U=f,Q=x,ne=jn(A,f.line),le=B&&A.direction=="rtl"?-x:x;function me(){var bn=f.line+le;return bn<A.first||bn>=A.first+A.size?!1:(f=new Lt(bn,f.ch,f.sticky),ne=jn(A,bn))}function $e(bn){var Ln;if(b=="codepoint"){var ar=ne.text.charCodeAt(f.ch+(x>0?0:-1));if(isNaN(ar))Ln=null;else{var Tr=x>0?ar>=55296&&ar<56320:ar>=56320&&ar<57343;Ln=new Lt(f.line,Math.max(0,Math.min(ne.text.length,f.ch+x*(Tr?2:1))),-x)}}else B?Ln=bd(A.cm,ne,f,x):Ln=Ap(ne,f,x);if(Ln==null)if(!bn&&me())f=cp(B,A.cm,ne,f.line,le);else return!1;else f=Ln;return!0}if(b=="char"||b=="codepoint")$e();else if(b=="column")$e(!0);else if(b=="word"||b=="group")for(var nt=null,Ot=b=="group",_t=A.cm&&A.cm.getHelper(f,"wordChars"),Wt=!0;!(x<0&&!$e(!Wt));Wt=!1){var cn=ne.text.charAt(f.ch)||`
`,kn=Ee(cn,_t)?"w":Ot&&cn==`
`?"n":!Ot||/\s/.test(cn)?null:"p";if(Ot&&!Wt&&!kn&&(kn="s"),nt&&nt!=kn){x<0&&(x=1,$e(),f.sticky="after");break}if(kn&&(nt=kn),x>0&&!$e(!Wt))break}var Qn=Es(A,f,U,Q,!0);return dr(U,Qn)&&(Qn.hitSide=!0),Qn}function ff(A,f,x,b){var B=A.doc,U=f.left,Q;if(b=="page"){var ne=Math.min(A.display.wrapper.clientHeight,$t(A).innerHeight||B(A).documentElement.clientHeight),le=Math.max(ne-.5*Qa(A.display),3);Q=(x>0?f.bottom:f.top)+x*le}else b=="line"&&(Q=x>0?f.bottom+3:f.top-3);for(var me;me=oo(A,U,Q),!!me.outside;){if(x<0?Q<=0:Q>=B.height){me.hitSide=!0;break}Q+=x*5}return me}var Mo=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Se,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Mo.prototype.init=function(A){var f=this,x=this,b=x.cm,B=x.div=A.lineDiv;B.contentEditable=!0,Uc(B,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function U(ne){for(var le=ne.target;le;le=le.parentNode){if(le==B)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(le.className))break}return!1}Pt(B,"paste",function(ne){!U(ne)||ce(b,ne)||uc(ne,b)||g<=11&&setTimeout($i(b,function(){return f.updateFromDOM()}),20)}),Pt(B,"compositionstart",function(ne){f.composing={data:ne.data,done:!1}}),Pt(B,"compositionupdate",function(ne){f.composing||(f.composing={data:ne.data,done:!1})}),Pt(B,"compositionend",function(ne){f.composing&&(ne.data!=f.composing.data&&f.readFromDOMSoon(),f.composing.done=!0)}),Pt(B,"touchstart",function(){return x.forceCompositionEnd()}),Pt(B,"input",function(){f.composing||f.readFromDOMSoon()});function Q(ne){if(!(!U(ne)||ce(b,ne))){if(b.somethingSelected())hm({lineWise:!1,text:b.getSelections()}),ne.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var le=df(b);hm({lineWise:!0,text:le.text}),ne.type=="cut"&&b.operation(function(){b.setSelections(le.ranges,0,St),b.replaceSelection("",null,"cut")})}else return;if(ne.clipboardData){ne.clipboardData.clearData();var me=Ku.text.join(`
`);if(ne.clipboardData.setData("Text",me),ne.clipboardData.getData("Text")==me){ne.preventDefault();return}}var $e=dh(),nt=$e.firstChild;Uc(nt),b.display.lineSpace.insertBefore($e,b.display.lineSpace.firstChild),nt.value=Ku.text.join(`
`);var Ot=mt(vt(B));Ve(nt),setTimeout(function(){b.display.lineSpace.removeChild($e),Ot.focus(),Ot==B&&x.showPrimarySelection()},50)}}Pt(B,"copy",Q),Pt(B,"cut",Q)},Mo.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Mo.prototype.prepareSelection=function(){var A=Vn(this.cm,!1);return A.focus=mt(vt(this.div))==this.div,A},Mo.prototype.showSelection=function(A,f){!A||!this.cm.display.view.length||((A.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Mo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Mo.prototype.showPrimarySelection=function(){var A=this.getSelection(),f=this.cm,x=f.doc.sel.primary(),b=x.from(),B=x.to();if(f.display.viewTo==f.display.viewFrom||b.line>=f.display.viewTo||B.line<f.display.viewFrom){A.removeAllRanges();return}var U=zs(f,A.anchorNode,A.anchorOffset),Q=zs(f,A.focusNode,A.focusOffset);if(!(U&&!U.bad&&Q&&!Q.bad&&wn(Zo(U,Q),b)==0&&wn(si(U,Q),B)==0)){var ne=f.display.view,le=b.line>=f.display.viewFrom&&Md(f,b)||{node:ne[0].measure.map[2],offset:0},me=B.line<f.display.viewTo&&Md(f,B);if(!me){var $e=ne[ne.length-1].measure,nt=$e.maps?$e.maps[$e.maps.length-1]:$e.map;me={node:nt[nt.length-1],offset:nt[nt.length-2]-nt[nt.length-3]}}if(!le||!me){A.removeAllRanges();return}var Ot=A.rangeCount&&A.getRangeAt(0),_t;try{_t=wt(le.node,le.offset,me.offset,me.node)}catch{}_t&&(!i&&f.state.focused?(A.collapse(le.node,le.offset),_t.collapsed||(A.removeAllRanges(),A.addRange(_t))):(A.removeAllRanges(),A.addRange(_t)),Ot&&A.anchorNode==null?A.addRange(Ot):i&&this.startGracePeriod()),this.rememberSelection()}},Mo.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Mo.prototype.showMultipleSelections=function(A){Qe(this.cm.display.cursorDiv,A.cursors),Qe(this.cm.display.selectionDiv,A.selection)},Mo.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Mo.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var f=A.getRangeAt(0).commonAncestorContainer;return st(this.div,f)},Mo.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||mt(vt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Mo.prototype.blur=function(){this.div.blur()},Mo.prototype.getField=function(){return this.div},Mo.prototype.supportsTouch=function(){return!0},Mo.prototype.receivedFocus=function(){var A=this,f=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):us(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function x(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,x))}this.polling.set(this.cm.options.pollInterval,x)},Mo.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Mo.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),f=this.cm;if(Z&&O&&this.cm.display.gutterSpecs.length&&gp(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var x=zs(f,A.anchorNode,A.anchorOffset),b=zs(f,A.focusNode,A.focusOffset);x&&b&&us(f,function(){Ri(f.doc,Ye(x,b),St),(x.bad||b.bad)&&(f.curOp.selectionChanged=!0)})}}},Mo.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,f=A.display,x=A.doc.sel.primary(),b=x.from(),B=x.to();if(b.ch==0&&b.line>A.firstLine()&&(b=Lt(b.line-1,jn(A.doc,b.line-1).length)),B.ch==jn(A.doc,B.line).text.length&&B.line<A.lastLine()&&(B=Lt(B.line+1,0)),b.line<f.viewFrom||B.line>f.viewTo-1)return!1;var U,Q,ne;b.line==f.viewFrom||(U=ZA(A,b.line))==0?(Q=ve(f.view[0].line),ne=f.view[0].node):(Q=ve(f.view[U].line),ne=f.view[U-1].node.nextSibling);var le=ZA(A,B.line),me,$e;if(le==f.view.length-1?(me=f.viewTo-1,$e=f.lineDiv.lastChild):(me=ve(f.view[le+1].line)-1,$e=f.view[le+1].node.previousSibling),!ne)return!1;for(var nt=A.doc.splitLines(ug(A,ne,$e,Q,me)),Ot=ro(A.doc,Lt(Q,0),Lt(me,jn(A.doc,me).text.length));nt.length>1&&Ot.length>1;)if(yn(nt)==yn(Ot))nt.pop(),Ot.pop(),me--;else if(nt[0]==Ot[0])nt.shift(),Ot.shift(),Q++;else break;for(var _t=0,Wt=0,cn=nt[0],kn=Ot[0],Qn=Math.min(cn.length,kn.length);_t<Qn&&cn.charCodeAt(_t)==kn.charCodeAt(_t);)++_t;for(var bn=yn(nt),Ln=yn(Ot),ar=Math.min(bn.length-(nt.length==1?_t:0),Ln.length-(Ot.length==1?_t:0));Wt<ar&&bn.charCodeAt(bn.length-Wt-1)==Ln.charCodeAt(Ln.length-Wt-1);)++Wt;if(nt.length==1&&Ot.length==1&&Q==b.line)for(;_t&&_t>b.ch&&bn.charCodeAt(bn.length-Wt-1)==Ln.charCodeAt(Ln.length-Wt-1);)_t--,Wt++;nt[nt.length-1]=bn.slice(0,bn.length-Wt).replace(/^\u200b+/,""),nt[0]=nt[0].slice(_t).replace(/\u200b+$/,"");var Tr=Lt(Q,_t),_r=Lt(me,Ot.length?yn(Ot).length-Wt:0);if(nt.length>1||nt[0]||wn(Tr,_r))return OA(A.doc,nt,Tr,_r,"+input"),!0},Mo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Mo.prototype.reset=function(){this.forceCompositionEnd()},Mo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Mo.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Mo.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&us(this.cm,function(){return ya(A.cm)})},Mo.prototype.setUneditable=function(A){A.contentEditable="false"},Mo.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||$i(this.cm,T0)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Mo.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Mo.prototype.onContextMenu=function(){},Mo.prototype.resetPosition=function(){},Mo.prototype.needsContentAttribute=!0;function Md(A,f){var x=Ad(A,f.line);if(!x||x.hidden)return null;var b=jn(A.doc,f.line),B=Jf(x,b,f.line),U=On(b,A.doc.direction),Q="left";if(U){var ne=fn(U,f.ch);Q=ne%2?"right":"left"}var le=xA(B.map,f.ch,Q);return le.offset=le.collapse=="right"?le.end:le.start,le}function gp(A){for(var f=A;f;f=f.parentNode)if(/CodeMirror-gutter-wrapper/.test(f.className))return!0;return!1}function Rc(A,f){return f&&(A.bad=!0),A}function ug(A,f,x,b,B){var U="",Q=!1,ne=A.doc.lineSeparator(),le=!1;function me(_t){return function(Wt){return Wt.id==_t}}function $e(){Q&&(U+=ne,le&&(U+=ne),Q=le=!1)}function nt(_t){_t&&($e(),U+=_t)}function Ot(_t){if(_t.nodeType==1){var Wt=_t.getAttribute("cm-text");if(Wt){nt(Wt);return}var cn=_t.getAttribute("cm-marker"),kn;if(cn){var Qn=A.findMarks(Lt(b,0),Lt(B+1,0),me(+cn));Qn.length&&(kn=Qn[0].find(0))&&nt(ro(A.doc,kn.from,kn.to).join(ne));return}if(_t.getAttribute("contenteditable")=="false")return;var bn=/^(pre|div|p|li|table|br)$/i.test(_t.nodeName);if(!/^br$/i.test(_t.nodeName)&&_t.textContent.length==0)return;bn&&$e();for(var Ln=0;Ln<_t.childNodes.length;Ln++)Ot(_t.childNodes[Ln]);/^(pre|p)$/i.test(_t.nodeName)&&(le=!0),bn&&(Q=!0)}else _t.nodeType==3&&nt(_t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ot(f),f!=x;)f=f.nextSibling,le=!1;return U}function zs(A,f,x){var b;if(f==A.display.lineDiv){if(b=A.display.lineDiv.childNodes[x],!b)return Rc(A.clipPos(Lt(A.display.viewTo-1)),!0);f=null,x=0}else for(b=f;;b=b.parentNode){if(!b||b==A.display.lineDiv)return null;if(b.parentNode&&b.parentNode==A.display.lineDiv)break}for(var B=0;B<A.display.view.length;B++){var U=A.display.view[B];if(U.node==b)return Nv(U,f,x)}}function Nv(A,f,x){var b=A.text.firstChild,B=!1;if(!f||!st(b,f))return Rc(Lt(ve(A.line),0),!0);if(f==b&&(B=!0,f=b.childNodes[x],x=0,!f)){var U=A.rest?yn(A.rest):A.line;return Rc(Lt(ve(U),U.text.length),B)}var Q=f.nodeType==3?f:null,ne=f;for(!Q&&f.childNodes.length==1&&f.firstChild.nodeType==3&&(Q=f.firstChild,x&&(x=Q.nodeValue.length));ne.parentNode!=b;)ne=ne.parentNode;var le=A.measure,me=le.maps;function $e(kn,Qn,bn){for(var Ln=-1;Ln<(me?me.length:0);Ln++)for(var ar=Ln<0?le.map:me[Ln],Tr=0;Tr<ar.length;Tr+=3){var _r=ar[Tr+2];if(_r==kn||_r==Qn){var hi=ve(Ln<0?A.line:A.rest[Ln]),Uo=ar[Tr]+bn;return(bn<0||_r!=kn)&&(Uo=ar[Tr+(bn?1:0)]),Lt(hi,Uo)}}}var nt=$e(Q,ne,x);if(nt)return Rc(nt,B);for(var Ot=ne.nextSibling,_t=Q?Q.nodeValue.length-x:0;Ot;Ot=Ot.nextSibling){if(nt=$e(Ot,Ot.firstChild,0),nt)return Rc(Lt(nt.line,nt.ch-_t),B);_t+=Ot.textContent.length}for(var Wt=ne.previousSibling,cn=x;Wt;Wt=Wt.previousSibling){if(nt=$e(Wt,Wt.firstChild,-1),nt)return Rc(Lt(nt.line,nt.ch+cn),B);cn+=Wt.textContent.length}}var Ya=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Se,this.hasSelection=!1,this.composing=null,this.resetting=!1};Ya.prototype.init=function(A){var f=this,x=this,b=this.cm;this.createField(A);var B=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),N&&(B.style.width="0px"),Pt(B,"input",function(){h&&g>=9&&f.hasSelection&&(f.hasSelection=null),x.poll()}),Pt(B,"paste",function(Q){ce(b,Q)||uc(Q,b)||(b.state.pasteIncoming=+new Date,x.fastPoll())});function U(Q){if(!ce(b,Q)){if(b.somethingSelected())hm({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var ne=df(b);hm({lineWise:!0,text:ne.text}),Q.type=="cut"?b.setSelections(ne.ranges,null,St):(x.prevInput="",B.value=ne.text.join(`
`),Ve(B))}else return;Q.type=="cut"&&(b.state.cutIncoming=+new Date)}}Pt(B,"cut",U),Pt(B,"copy",U),Pt(A.scroller,"paste",function(Q){if(!(Fl(A,Q)||ce(b,Q))){if(!B.dispatchEvent){b.state.pasteIncoming=+new Date,x.focus();return}var ne=new Event("paste");ne.clipboardData=Q.clipboardData,B.dispatchEvent(ne)}}),Pt(A.lineSpace,"selectstart",function(Q){Fl(A,Q)||rt(Q)}),Pt(B,"compositionstart",function(){var Q=b.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:Q,range:b.markText(Q,b.getCursor("to"),{className:"CodeMirror-composing"})}}),Pt(B,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},Ya.prototype.createField=function(A){this.wrapper=dh(),this.textarea=this.wrapper.firstChild;var f=this.cm.options;Uc(this.textarea,f.spellcheck,f.autocorrect,f.autocapitalize)},Ya.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},Ya.prototype.prepareSelection=function(){var A=this.cm,f=A.display,x=A.doc,b=Vn(A);if(A.options.moveInputWithCursor){var B=jt(A,x.sel.primary().head,"div"),U=f.wrapper.getBoundingClientRect(),Q=f.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,B.top+Q.top-U.top)),b.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,B.left+Q.left-U.left))}return b},Ya.prototype.showSelection=function(A){var f=this.cm,x=f.display;Qe(x.cursorDiv,A.cursors),Qe(x.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},Ya.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing&&A)){var f=this.cm;if(this.resetting=!0,f.somethingSelected()){this.prevInput="";var x=f.getSelection();this.textarea.value=x,f.state.focused&&Ve(this.textarea),h&&g>=9&&(this.hasSelection=x)}else A||(this.prevInput=this.textarea.value="",h&&g>=9&&(this.hasSelection=null));this.resetting=!1}},Ya.prototype.getField=function(){return this.textarea},Ya.prototype.supportsTouch=function(){return!1},Ya.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ue||mt(vt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Ya.prototype.blur=function(){this.textarea.blur()},Ya.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ya.prototype.receivedFocus=function(){this.slowPoll()},Ya.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},Ya.prototype.fastPoll=function(){var A=!1,f=this;f.pollingFast=!0;function x(){var b=f.poll();!b&&!A?(A=!0,f.polling.set(60,x)):(f.pollingFast=!1,f.slowPoll())}f.polling.set(20,x)},Ya.prototype.poll=function(){var A=this,f=this.cm,x=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!f.state.focused||lr(x)&&!b&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var B=x.value;if(B==b&&!f.somethingSelected())return!1;if(h&&g>=9&&this.hasSelection===B||ye&&/[\uf700-\uf7ff]/.test(B))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var U=B.charCodeAt(0);if(U==8203&&!b&&(b="​"),U==8666)return this.reset(),this.cm.execCommand("undo")}for(var Q=0,ne=Math.min(b.length,B.length);Q<ne&&b.charCodeAt(Q)==B.charCodeAt(Q);)++Q;return us(f,function(){T0(f,B.slice(Q),b.length-Q,null,A.composing?"*compose":null),B.length>1e3||B.indexOf(`
`)>-1?x.value=A.prevInput="":A.prevInput=B,A.composing&&(A.composing.range.clear(),A.composing.range=f.markText(A.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ya.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ya.prototype.onKeyPress=function(){h&&g>=9&&(this.hasSelection=null),this.fastPoll()},Ya.prototype.onContextMenu=function(A){var f=this,x=f.cm,b=x.display,B=f.textarea;f.contextMenuPending&&f.contextMenuPending();var U=au(x,A),Q=b.scroller.scrollTop;if(!U||D)return;var ne=x.options.resetSelectionOnContextMenu;ne&&x.doc.sel.contains(U)==-1&&$i(x,Ri)(x.doc,Ye(U),St);var le=B.style.cssText,me=f.wrapper.style.cssText,$e=f.wrapper.offsetParent.getBoundingClientRect();f.wrapper.style.cssText="position: static",B.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-$e.top-5)+"px; left: "+(A.clientX-$e.left-5)+`px;
      z-index: 1000; background: `+(h?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var nt;_&&(nt=B.ownerDocument.defaultView.scrollY),b.input.focus(),_&&B.ownerDocument.defaultView.scrollTo(null,nt),b.input.reset(),x.somethingSelected()||(B.value=f.prevInput=" "),f.contextMenuPending=_t,b.selForContextMenu=x.doc.sel,clearTimeout(b.detectingSelectAll);function Ot(){if(B.selectionStart!=null){var cn=x.somethingSelected(),kn="​"+(cn?B.value:"");B.value="⇚",B.value=kn,f.prevInput=cn?"":"​",B.selectionStart=1,B.selectionEnd=kn.length,b.selForContextMenu=x.doc.sel}}function _t(){if(f.contextMenuPending==_t&&(f.contextMenuPending=!1,f.wrapper.style.cssText=me,B.style.cssText=le,h&&g<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=Q),B.selectionStart!=null)){(!h||h&&g<9)&&Ot();var cn=0,kn=function(){b.selForContextMenu==x.doc.sel&&B.selectionStart==0&&B.selectionEnd>0&&f.prevInput=="​"?$i(x,sc)(x):cn++<10?b.detectingSelectAll=setTimeout(kn,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(kn,200)}}if(h&&g>=9&&Ot(),xe){et(A);var Wt=function(){tr(window,"mouseup",Wt),setTimeout(_t,20)};Pt(window,"mouseup",Wt)}else setTimeout(_t,50)},Ya.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},Ya.prototype.setUneditable=function(){},Ya.prototype.needsContentAttribute=!1;function Ag(A,f){if(f=f?ke(f):{},f.value=A.value,!f.tabindex&&A.tabIndex&&(f.tabindex=A.tabIndex),!f.placeholder&&A.placeholder&&(f.placeholder=A.placeholder),f.autofocus==null){var x=mt(vt(A));f.autofocus=x==A||A.getAttribute("autofocus")!=null&&x==document.body}function b(){A.value=ne.getValue()}var B;if(A.form&&(Pt(A.form,"submit",b),!f.leaveSubmitMethodAlone)){var U=A.form;B=U.submit;try{var Q=U.submit=function(){b(),U.submit=B,U.submit(),U.submit=Q}}catch{}}f.finishInit=function(le){le.save=b,le.getTextArea=function(){return A},le.toTextArea=function(){le.toTextArea=isNaN,b(),A.parentNode.removeChild(le.getWrapperElement()),A.style.display="",A.form&&(tr(A.form,"submit",b),!f.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=B))}},A.style.display="none";var ne=Co(function(le){return A.parentNode.insertBefore(le,A.nextSibling)},f);return ne}function Gv(A){A.off=tr,A.on=Pt,A.wheelEventPixels=ie,A.Doc=Os,A.splitLines=Sr,A.countColumn=pe,A.findColumn=pt,A.isWordChar=_i,A.Pass=ot,A.signal=Ke,A.Line=Dl,A.changeEnd=Ze,A.scrollbarModel=Go,A.Pos=Lt,A.cmpPos=wn,A.modes=ir,A.mimeModes=ci,A.resolveMode=ho,A.getMode=ai,A.modeExtensions=fo,A.extendMode=Wa,A.copyState=Ia,A.startState=os,A.innerMode=Mi,A.commands=dp,A.keyMap=BA,A.keyName=_d,A.isModifierKey=sm,A.lookupKey=Pu,A.normalizeKeyMap=Tu,A.StringStream=gi,A.SharedTextMarker=rh,A.TextMarker=Au,A.LineWidget=iA,A.e_preventDefault=rt,A.e_stopPropagation=lt,A.e_stop=et,A.addClass=ze,A.contains=st,A.rmClass=Fe,A.keyNames=Fa}k0(Co),hf(Co);var P0="iter insert remove copy getEditor constructor".split(" ");for(var pf in Os.prototype)Os.prototype.hasOwnProperty(pf)&&Re(P0,pf)<0&&(Co.prototype[pf]=function(A){return function(){return A.apply(this.doc,arguments)}}(Os.prototype[pf]));return je(Os),Co.inputStyles={textarea:Ya,contenteditable:Mo},Co.defineMode=function(A){!Co.defaults.mode&&A!="null"&&(Co.defaults.mode=A),Li.apply(this,arguments)},Co.defineMIME=to,Co.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),Co.defineMIME("text/plain","null"),Co.defineExtension=function(A,f){Co.prototype[A]=f},Co.defineDocExtension=function(A,f){Os.prototype[A]=f},Co.fromTextArea=Ag,Gv(Co),Co.version="5.65.16",Co})}(c6)),c6.exports}var rge=Uw();const Yc=Ba(rge);(function(e,t){(function(n){n(Uw())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,a=i.statementIndent,s=i.jsonld,h=i.json||s,g=i.trackScope!==!1,_=i.typescript,E=i.wordCharacters||/[\w$\xa1-\uffff]/,O=function(){function ve(ri){return{type:ri,style:"keyword"}}var Je=ve("keyword a"),Zt=ve("keyword b"),sn=ve("keyword c"),Lt=ve("keyword d"),wn=ve("operator"),dr={type:"atom",style:"atom"};return{if:ve("if"),while:Je,with:Je,else:Zt,do:Zt,try:Zt,finally:Zt,return:Lt,break:Lt,continue:Lt,new:ve("new"),delete:sn,void:sn,throw:sn,debugger:ve("debugger"),var:ve("var"),const:ve("var"),let:ve("var"),function:ve("function"),catch:ve("catch"),for:ve("for"),switch:ve("switch"),case:ve("case"),default:ve("default"),in:wn,typeof:wn,instanceof:wn,true:dr,false:dr,null:dr,undefined:dr,NaN:dr,Infinity:dr,this:ve("this"),class:ve("class"),super:ve("atom"),yield:sn,export:ve("export"),import:ve("import"),extends:sn,await:sn}}(),K=/[+\-*&%=<>!?|~^@]/,D=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Y(ve){for(var Je=!1,Zt,sn=!1;(Zt=ve.next())!=null;){if(!Je){if(Zt=="/"&&!sn)return;Zt=="["?sn=!0:sn&&Zt=="]"&&(sn=!1)}Je=!Je&&Zt=="\\"}}var ee,H;function N(ve,Je,Zt){return ee=ve,H=Zt,Je}function Z(ve,Je){var Zt=ve.next();if(Zt=='"'||Zt=="'")return Je.tokenize=ue(Zt),Je.tokenize(ve,Je);if(Zt=="."&&ve.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(Zt=="."&&ve.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Zt))return N(Zt);if(Zt=="="&&ve.eat(">"))return N("=>","operator");if(Zt=="0"&&ve.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(Zt))return ve.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(Zt=="/")return ve.eat("*")?(Je.tokenize=ye,ye(ve,Je)):ve.eat("/")?(ve.skipToEnd(),N("comment","comment")):Ui(ve,Je,1)?(Y(ve),ve.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(ve.eat("="),N("operator","operator",ve.current()));if(Zt=="`")return Je.tokenize=be,be(ve,Je);if(Zt=="#"&&ve.peek()=="!")return ve.skipToEnd(),N("meta","meta");if(Zt=="#"&&ve.eatWhile(E))return N("variable","property");if(Zt=="<"&&ve.match("!--")||Zt=="-"&&ve.match("->")&&!/\S/.test(ve.string.slice(0,ve.start)))return ve.skipToEnd(),N("comment","comment");if(K.test(Zt))return(Zt!=">"||!Je.lexical||Je.lexical.type!=">")&&(ve.eat("=")?(Zt=="!"||Zt=="=")&&ve.eat("="):/[<>*+\-|&?]/.test(Zt)&&(ve.eat(Zt),Zt==">"&&ve.eat(Zt))),Zt=="?"&&ve.eat(".")?N("."):N("operator","operator",ve.current());if(E.test(Zt)){ve.eatWhile(E);var sn=ve.current();if(Je.lastType!="."){if(O.propertyIsEnumerable(sn)){var Lt=O[sn];return N(Lt.type,Lt.style,sn)}if(sn=="async"&&ve.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",sn)}return N("variable","variable",sn)}}function ue(ve){return function(Je,Zt){var sn=!1,Lt;if(s&&Je.peek()=="@"&&Je.match(D))return Zt.tokenize=Z,N("jsonld-keyword","meta");for(;(Lt=Je.next())!=null&&!(Lt==ve&&!sn);)sn=!sn&&Lt=="\\";return sn||(Zt.tokenize=Z),N("string","string")}}function ye(ve,Je){for(var Zt=!1,sn;sn=ve.next();){if(sn=="/"&&Zt){Je.tokenize=Z;break}Zt=sn=="*"}return N("comment","comment")}function be(ve,Je){for(var Zt=!1,sn;(sn=ve.next())!=null;){if(!Zt&&(sn=="`"||sn=="$"&&ve.eat("{"))){Je.tokenize=Z;break}Zt=!Zt&&sn=="\\"}return N("quasi","string-2",ve.current())}var X="([{}])";function se(ve,Je){Je.fatArrowAt&&(Je.fatArrowAt=null);var Zt=ve.string.indexOf("=>",ve.start);if(!(Zt<0)){if(_){var sn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ve.string.slice(ve.start,Zt));sn&&(Zt=sn.index)}for(var Lt=0,wn=!1,dr=Zt-1;dr>=0;--dr){var ri=ve.string.charAt(dr),si=X.indexOf(ri);if(si>=0&&si<3){if(!Lt){++dr;break}if(--Lt==0){ri=="("&&(wn=!0);break}}else if(si>=3&&si<6)++Lt;else if(E.test(ri))wn=!0;else if(/["'\/`]/.test(ri))for(;;--dr){if(dr==0)return;var Zo=ve.string.charAt(dr-1);if(Zo==ri&&ve.string.charAt(dr-2)!="\\"){dr--;break}}else if(wn&&!Lt){++dr;break}}wn&&!Lt&&(Je.fatArrowAt=dr)}}var we={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function xe(ve,Je,Zt,sn,Lt,wn){this.indented=ve,this.column=Je,this.type=Zt,this.prev=Lt,this.info=wn,sn!=null&&(this.align=sn)}function De(ve,Je){if(!g)return!1;for(var Zt=ve.localVars;Zt;Zt=Zt.next)if(Zt.name==Je)return!0;for(var sn=ve.context;sn;sn=sn.prev)for(var Zt=sn.vars;Zt;Zt=Zt.next)if(Zt.name==Je)return!0}function Fe(ve,Je,Zt,sn,Lt){var wn=ve.cc;for(he.state=ve,he.stream=Lt,he.marked=null,he.cc=wn,he.style=Je,ve.lexical.hasOwnProperty("align")||(ve.lexical.align=!0);;){var dr=wn.length?wn.pop():h?Re:pe;if(dr(Zt,sn)){for(;wn.length&&wn[wn.length-1].lex;)wn.pop()();return he.marked?he.marked:Zt=="variable"&&De(ve,sn)?"variable-2":Je}}}var he={state:null,column:null,marked:null,cc:null};function Qe(){for(var ve=arguments.length-1;ve>=0;ve--)he.cc.push(arguments[ve])}function ge(){return Qe.apply(null,arguments),!0}function yt(ve,Je){for(var Zt=Je;Zt;Zt=Zt.next)if(Zt.name==ve)return!0;return!1}function wt(ve){var Je=he.state;if(he.marked="def",!!g){if(Je.context){if(Je.lexical.info=="var"&&Je.context&&Je.context.block){var Zt=st(ve,Je.context);if(Zt!=null){Je.context=Zt;return}}else if(!yt(ve,Je.localVars)){Je.localVars=new He(ve,Je.localVars);return}}i.globalVars&&!yt(ve,Je.globalVars)&&(Je.globalVars=new He(ve,Je.globalVars))}}function st(ve,Je){if(Je)if(Je.block){var Zt=st(ve,Je.prev);return Zt?Zt==Je.prev?Je:new ze(Zt,Je.vars,!0):null}else return yt(ve,Je.vars)?Je:new ze(Je.prev,new He(ve,Je.vars),!1);else return null}function mt(ve){return ve=="public"||ve=="private"||ve=="protected"||ve=="abstract"||ve=="readonly"}function ze(ve,Je,Zt){this.prev=ve,this.vars=Je,this.block=Zt}function He(ve,Je){this.name=ve,this.next=Je}var Ve=new He("this",new He("arguments",null));function Vt(){he.state.context=new ze(he.state.context,he.state.localVars,!1),he.state.localVars=Ve}function Yt(){he.state.context=new ze(he.state.context,he.state.localVars,!0),he.state.localVars=null}Vt.lex=Yt.lex=!0;function vt(){he.state.localVars=he.state.context.vars,he.state.context=he.state.context.prev}vt.lex=!0;function $t(ve,Je){var Zt=function(){var sn=he.state,Lt=sn.indented;if(sn.lexical.type=="stat")Lt=sn.lexical.indented;else for(var wn=sn.lexical;wn&&wn.type==")"&&wn.align;wn=wn.prev)Lt=wn.indented;sn.lexical=new xe(Lt,he.stream.column(),ve,null,sn.lexical,Je)};return Zt.lex=!0,Zt}function Qt(){var ve=he.state;ve.lexical.prev&&(ve.lexical.type==")"&&(ve.indented=ve.lexical.indented),ve.lexical=ve.lexical.prev)}Qt.lex=!0;function ke(ve){function Je(Zt){return Zt==ve?ge():ve==";"||Zt=="}"||Zt==")"||Zt=="]"?Qe():ge(Je)}return Je}function pe(ve,Je){return ve=="var"?ge($t("vardef",Je),lt,ke(";"),Qt):ve=="keyword a"?ge($t("form"),ot,pe,Qt):ve=="keyword b"?ge($t("form"),pe,Qt):ve=="keyword d"?he.stream.match(/^\s*$/,!1)?ge():ge($t("stat"),Rt,ke(";"),Qt):ve=="debugger"?ge(ke(";")):ve=="{"?ge($t("}"),Yt,Bt,Qt,vt):ve==";"?ge():ve=="if"?(he.state.lexical.info=="else"&&he.state.cc[he.state.cc.length-1]==Qt&&he.state.cc.pop()(),ge($t("form"),ot,pe,Qt,en)):ve=="function"?ge(Sr):ve=="for"?ge($t("form"),Yt,Dn,pe,vt,Qt):ve=="class"||_&&Je=="interface"?(he.marked="keyword",ge($t("form",ve=="class"?ve:Je),ir,Qt)):ve=="variable"?_&&Je=="declare"?(he.marked="keyword",ge(pe)):_&&(Je=="module"||Je=="enum"||Je=="type")&&he.stream.match(/^\s*\w/,!1)?(he.marked="keyword",Je=="enum"?ge(jn):Je=="type"?ge(Qr,ke("operator"),On,ke(";")):ge($t("form"),ft,ke("{"),$t("}"),Bt,Qt,Qt)):_&&Je=="namespace"?(he.marked="keyword",ge($t("form"),Re,pe,Qt)):_&&Je=="abstract"?(he.marked="keyword",ge(pe)):ge($t("stat"),gr):ve=="switch"?ge($t("form"),ot,ke("{"),$t("}","switch"),Yt,Bt,Qt,Qt,vt):ve=="case"?ge(Re,ke(":")):ve=="default"?ge(ke(":")):ve=="catch"?ge($t("form"),Vt,Se,pe,Qt,vt):ve=="export"?ge($t("stat"),ho,Qt):ve=="import"?ge($t("stat"),fo,Qt):ve=="async"?ge(pe):Je=="@"?ge(Re,pe):Qe($t("stat"),Re,ke(";"),Qt)}function Se(ve){if(ve=="(")return ge(Or,ke(")"))}function Re(ve,Je){return St(ve,Je,!1)}function it(ve,Je){return St(ve,Je,!0)}function ot(ve){return ve!="("?Qe():ge($t(")"),Rt,ke(")"),Qt)}function St(ve,Je,Zt){if(he.state.fatArrowAt==he.stream.start){var sn=Zt?Jn:yn;if(ve=="(")return ge(Vt,$t(")"),Te(Or,")"),Qt,ke("=>"),sn,vt);if(ve=="variable")return Qe(Vt,ft,ke("=>"),sn,vt)}var Lt=Zt?pt:zt;return we.hasOwnProperty(ve)?ge(Lt):ve=="function"?ge(Sr,Lt):ve=="class"||_&&Je=="interface"?(he.marked="keyword",ge($t("form"),Lr,Qt)):ve=="keyword c"||ve=="async"?ge(Zt?it:Re):ve=="("?ge($t(")"),Rt,ke(")"),Qt,Lt):ve=="operator"||ve=="spread"?ge(Zt?it:Re):ve=="["?ge($t("]"),gi,Qt,Lt):ve=="{"?At(Ee,"}",null,Lt):ve=="quasi"?Qe(rr,Lt):ve=="new"?ge(Ar(Zt)):ge()}function Rt(ve){return ve.match(/[;\}\)\],]/)?Qe():Qe(Re)}function zt(ve,Je){return ve==","?ge(Rt):pt(ve,Je,!1)}function pt(ve,Je,Zt){var sn=Zt==!1?zt:pt,Lt=Zt==!1?Re:it;if(ve=="=>")return ge(Vt,Zt?Jn:yn,vt);if(ve=="operator")return/\+\+|--/.test(Je)||_&&Je=="!"?ge(sn):_&&Je=="<"&&he.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?ge($t(">"),Te(On,">"),Qt,sn):Je=="?"?ge(Re,ke(":"),Lt):ge(Lt);if(ve=="quasi")return Qe(rr,sn);if(ve!=";"){if(ve=="(")return At(it,")","call",sn);if(ve==".")return ge(_i,sn);if(ve=="[")return ge($t("]"),Rt,ke("]"),Qt,sn);if(_&&Je=="as")return he.marked="keyword",ge(On,sn);if(ve=="regexp")return he.state.lastType=he.marked="operator",he.stream.backUp(he.stream.pos-he.stream.start-1),ge(Lt)}}function rr(ve,Je){return ve!="quasi"?Qe():Je.slice(Je.length-2)!="${"?ge(rr):ge(Rt,gn)}function gn(ve){if(ve=="}")return he.marked="string-2",he.state.tokenize=be,ge(rr)}function yn(ve){return se(he.stream,he.state),Qe(ve=="{"?pe:Re)}function Jn(ve){return se(he.stream,he.state),Qe(ve=="{"?pe:it)}function Ar(ve){return function(Je){return Je=="."?ge(ve?Wr:Mr):Je=="variable"&&_?ge(Ie,ve?pt:zt):Qe(ve?it:Re)}}function Mr(ve,Je){if(Je=="target")return he.marked="keyword",ge(zt)}function Wr(ve,Je){if(Je=="target")return he.marked="keyword",ge(pt)}function gr(ve){return ve==":"?ge(Qt,pe):Qe(zt,ke(";"),Qt)}function _i(ve){if(ve=="variable")return he.marked="property",ge()}function Ee(ve,Je){if(ve=="async")return he.marked="property",ge(Ee);if(ve=="variable"||he.style=="keyword"){if(he.marked="property",Je=="get"||Je=="set")return ge(J);var Zt;return _&&he.state.fatArrowAt==he.stream.start&&(Zt=he.stream.match(/^\s*:\s*/,!1))&&(he.state.fatArrowAt=he.stream.pos+Zt[0].length),ge(q)}else{if(ve=="number"||ve=="string")return he.marked=s?"property":he.style+" property",ge(q);if(ve=="jsonld-keyword")return ge(q);if(_&&mt(Je))return he.marked="keyword",ge(Ee);if(ve=="[")return ge(Re,kt,ke("]"),q);if(ve=="spread")return ge(it,q);if(Je=="*")return he.marked="keyword",ge(Ee);if(ve==":")return Qe(q)}}function J(ve){return ve!="variable"?Qe(q):(he.marked="property",ge(Sr))}function q(ve){if(ve==":")return ge(it);if(ve=="(")return Qe(Sr)}function Te(ve,Je,Zt){function sn(Lt,wn){if(Zt?Zt.indexOf(Lt)>-1:Lt==","){var dr=he.state.lexical;return dr.info=="call"&&(dr.pos=(dr.pos||0)+1),ge(function(ri,si){return ri==Je||si==Je?Qe():Qe(ve)},sn)}return Lt==Je||wn==Je?ge():Zt&&Zt.indexOf(";")>-1?Qe(ve):ge(ke(Je))}return function(Lt,wn){return Lt==Je||wn==Je?ge():Qe(ve,sn)}}function At(ve,Je,Zt){for(var sn=3;sn<arguments.length;sn++)he.cc.push(arguments[sn]);return ge($t(Je,Zt),Te(ve,Je),Qt)}function Bt(ve){return ve=="}"?ge():Qe(pe,Bt)}function kt(ve,Je){if(_){if(ve==":")return ge(On);if(Je=="?")return ge(kt)}}function Ft(ve,Je){if(_&&(ve==":"||Je=="in"))return ge(On)}function fn(ve){if(_&&ve==":")return he.stream.match(/^\s*\w+\s+is\b/,!1)?ge(Re,Kn,On):ge(On)}function Kn(ve,Je){if(Je=="is")return he.marked="keyword",ge()}function On(ve,Je){if(Je=="keyof"||Je=="typeof"||Je=="infer"||Je=="readonly")return he.marked="keyword",ge(Je=="typeof"?it:On);if(ve=="variable"||Je=="void")return he.marked="type",ge(Ce);if(Je=="|"||Je=="&")return ge(On);if(ve=="string"||ve=="number"||ve=="atom")return ge(Ce);if(ve=="[")return ge($t("]"),Te(On,"]",","),Qt,Ce);if(ve=="{")return ge($t("}"),Pt,Qt,Ce);if(ve=="(")return ge(Te(ce,")"),m,Ce);if(ve=="<")return ge(Te(On,">"),On);if(ve=="quasi")return Qe(tr,Ce)}function m(ve){if(ve=="=>")return ge(On)}function Pt(ve){return ve.match(/[\}\)\]]/)?ge():ve==","||ve==";"?ge(Pt):Qe(Kr,Pt)}function Kr(ve,Je){if(ve=="variable"||he.style=="keyword")return he.marked="property",ge(Kr);if(Je=="?"||ve=="number"||ve=="string")return ge(Kr);if(ve==":")return ge(On);if(ve=="[")return ge(ke("variable"),Ft,ke("]"),Kr);if(ve=="(")return Qe(lr,Kr);if(!ve.match(/[;\}\)\],]/))return ge()}function tr(ve,Je){return ve!="quasi"?Qe():Je.slice(Je.length-2)!="${"?ge(tr):ge(On,Ke)}function Ke(ve){if(ve=="}")return he.marked="string-2",he.state.tokenize=be,ge(tr)}function ce(ve,Je){return ve=="variable"&&he.stream.match(/^\s*[?:]/,!1)||Je=="?"?ge(ce):ve==":"?ge(On):ve=="spread"?ge(ce):Qe(On)}function Ce(ve,Je){if(Je=="<")return ge($t(">"),Te(On,">"),Qt,Ce);if(Je=="|"||ve=="."||Je=="&")return ge(On);if(ve=="[")return ge(On,ke("]"),Ce);if(Je=="extends"||Je=="implements")return he.marked="keyword",ge(On);if(Je=="?")return ge(On,ke(":"),On)}function Ie(ve,Je){if(Je=="<")return ge($t(">"),Te(On,">"),Qt,Ce)}function je(){return Qe(On,rt)}function rt(ve,Je){if(Je=="=")return ge(On)}function lt(ve,Je){return Je=="enum"?(he.marked="keyword",ge(jn)):Qe(ft,kt,tn,Ht)}function ft(ve,Je){if(_&&mt(Je))return he.marked="keyword",ge(ft);if(ve=="variable")return wt(Je),ge();if(ve=="spread")return ge(ft);if(ve=="[")return At(Mt,"]");if(ve=="{")return At(et,"}")}function et(ve,Je){return ve=="variable"&&!he.stream.match(/^\s*:/,!1)?(wt(Je),ge(tn)):(ve=="variable"&&(he.marked="property"),ve=="spread"?ge(ft):ve=="}"?Qe():ve=="["?ge(Re,ke("]"),ke(":"),et):ge(ke(":"),ft,tn))}function Mt(){return Qe(ft,tn)}function tn(ve,Je){if(Je=="=")return ge(it)}function Ht(ve){if(ve==",")return ge(lt)}function en(ve,Je){if(ve=="keyword b"&&Je=="else")return ge($t("form","else"),pe,Qt)}function Dn(ve,Je){if(Je=="await")return ge(Dn);if(ve=="(")return ge($t(")"),Bn,Qt)}function Bn(ve){return ve=="var"?ge(lt,Yn):ve=="variable"?ge(Yn):Qe(Yn)}function Yn(ve,Je){return ve==")"?ge():ve==";"?ge(Yn):Je=="in"||Je=="of"?(he.marked="keyword",ge(Re,Yn)):Qe(Re,Yn)}function Sr(ve,Je){if(Je=="*")return he.marked="keyword",ge(Sr);if(ve=="variable")return wt(Je),ge(Sr);if(ve=="(")return ge(Vt,$t(")"),Te(Or,")"),Qt,fn,pe,vt);if(_&&Je=="<")return ge($t(">"),Te(je,">"),Qt,Sr)}function lr(ve,Je){if(Je=="*")return he.marked="keyword",ge(lr);if(ve=="variable")return wt(Je),ge(lr);if(ve=="(")return ge(Vt,$t(")"),Te(Or,")"),Qt,fn,vt);if(_&&Je=="<")return ge($t(">"),Te(je,">"),Qt,lr)}function Qr(ve,Je){if(ve=="keyword"||ve=="variable")return he.marked="type",ge(Qr);if(Je=="<")return ge($t(">"),Te(je,">"),Qt)}function Or(ve,Je){return Je=="@"&&ge(Re,Or),ve=="spread"?ge(Or):_&&mt(Je)?(he.marked="keyword",ge(Or)):_&&ve=="this"?ge(kt,tn):Qe(ft,kt,tn)}function Lr(ve,Je){return ve=="variable"?ir(ve,Je):ci(ve,Je)}function ir(ve,Je){if(ve=="variable")return wt(Je),ge(ci)}function ci(ve,Je){if(Je=="<")return ge($t(">"),Te(je,">"),Qt,ci);if(Je=="extends"||Je=="implements"||_&&ve==",")return Je=="implements"&&(he.marked="keyword"),ge(_?On:Re,ci);if(ve=="{")return ge($t("}"),Li,Qt)}function Li(ve,Je){if(ve=="async"||ve=="variable"&&(Je=="static"||Je=="get"||Je=="set"||_&&mt(Je))&&he.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return he.marked="keyword",ge(Li);if(ve=="variable"||he.style=="keyword")return he.marked="property",ge(to,Li);if(ve=="number"||ve=="string")return ge(to,Li);if(ve=="[")return ge(Re,kt,ke("]"),to,Li);if(Je=="*")return he.marked="keyword",ge(Li);if(_&&ve=="(")return Qe(lr,Li);if(ve==";"||ve==",")return ge(Li);if(ve=="}")return ge();if(Je=="@")return ge(Re,Li)}function to(ve,Je){if(Je=="!"||Je=="?")return ge(to);if(ve==":")return ge(On,tn);if(Je=="=")return ge(it);var Zt=he.state.lexical.prev,sn=Zt&&Zt.info=="interface";return Qe(sn?lr:Sr)}function ho(ve,Je){return Je=="*"?(he.marked="keyword",ge(os,ke(";"))):Je=="default"?(he.marked="keyword",ge(Re,ke(";"))):ve=="{"?ge(Te(ai,"}"),os,ke(";")):Qe(pe)}function ai(ve,Je){if(Je=="as")return he.marked="keyword",ge(ke("variable"));if(ve=="variable")return Qe(it,ai)}function fo(ve){return ve=="string"?ge():ve=="("?Qe(Re):ve=="."?Qe(zt):Qe(Wa,Ia,os)}function Wa(ve,Je){return ve=="{"?At(Wa,"}"):(ve=="variable"&&wt(Je),Je=="*"&&(he.marked="keyword"),ge(Mi))}function Ia(ve){if(ve==",")return ge(Wa,Ia)}function Mi(ve,Je){if(Je=="as")return he.marked="keyword",ge(Wa)}function os(ve,Je){if(Je=="from")return he.marked="keyword",ge(Re)}function gi(ve){return ve=="]"?ge():Qe(Te(it,"]"))}function jn(){return Qe($t("form"),ft,ke("{"),$t("}"),Te(ro,"}"),Qt,Qt)}function ro(){return Qe(ft,tn)}function _o(ve,Je){return ve.lastType=="operator"||ve.lastType==","||K.test(Je.charAt(0))||/[,.]/.test(Je.charAt(0))}function Ui(ve,Je,Zt){return Je.tokenize==Z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Je.lastType)||Je.lastType=="quasi"&&/\{\s*$/.test(ve.string.slice(0,ve.pos-(Zt||0)))}return{startState:function(ve){var Je={tokenize:Z,lastType:"sof",cc:[],lexical:new xe((ve||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new ze(null,null,!1),indented:ve||0};return i.globalVars&&typeof i.globalVars=="object"&&(Je.globalVars=i.globalVars),Je},token:function(ve,Je){if(ve.sol()&&(Je.lexical.hasOwnProperty("align")||(Je.lexical.align=!1),Je.indented=ve.indentation(),se(ve,Je)),Je.tokenize!=ye&&ve.eatSpace())return null;var Zt=Je.tokenize(ve,Je);return ee=="comment"?Zt:(Je.lastType=ee=="operator"&&(H=="++"||H=="--")?"incdec":ee,Fe(Je,Zt,ee,H,ve))},indent:function(ve,Je){if(ve.tokenize==ye||ve.tokenize==be)return n.Pass;if(ve.tokenize!=Z)return 0;var Zt=Je&&Je.charAt(0),sn=ve.lexical,Lt;if(!/^\s*else\b/.test(Je))for(var wn=ve.cc.length-1;wn>=0;--wn){var dr=ve.cc[wn];if(dr==Qt)sn=sn.prev;else if(dr!=en&&dr!=vt)break}for(;(sn.type=="stat"||sn.type=="form")&&(Zt=="}"||(Lt=ve.cc[ve.cc.length-1])&&(Lt==zt||Lt==pt)&&!/^[,\.=+\-*:?[\(]/.test(Je));)sn=sn.prev;a&&sn.type==")"&&sn.prev.type=="stat"&&(sn=sn.prev);var ri=sn.type,si=Zt==ri;return ri=="vardef"?sn.indented+(ve.lastType=="operator"||ve.lastType==","?sn.info.length+1:0):ri=="form"&&Zt=="{"?sn.indented:ri=="form"?sn.indented+o:ri=="stat"?sn.indented+(_o(ve,Je)?a||o:0):sn.info=="switch"&&!si&&i.doubleIndentSwitch!=!1?sn.indented+(/^(?:case|default)\b/.test(Je)?o:2*o):sn.align?sn.column+(si?0:1):sn.indented+(si?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:h?null:"/*",blockCommentEnd:h?null:"*/",blockCommentContinue:h?null:" * ",lineComment:h?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:h?"json":"javascript",jsonldMode:s,jsonMode:h,expressionAllowed:Ui,skipExpression:function(ve){Fe(ve,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,t){(function(n){n(Uw())})(function(n){var r="CodeMirror-lint-markers",i="CodeMirror-lint-line-";function o(X,se,we){var xe=document.createElement("div");xe.className="CodeMirror-lint-tooltip cm-s-"+X.options.theme,xe.appendChild(we.cloneNode(!0)),X.state.lint.options.selfContain?X.getWrapperElement().appendChild(xe):document.body.appendChild(xe);function De(Fe){if(!xe.parentNode)return n.off(document,"mousemove",De);var he=Math.max(0,Fe.clientY-xe.offsetHeight-5),Qe=Math.max(0,Math.min(Fe.clientX+5,xe.ownerDocument.defaultView.innerWidth-xe.offsetWidth));xe.style.top=he+"px",xe.style.left=Qe+"px"}return n.on(document,"mousemove",De),De(se),xe.style.opacity!=null&&(xe.style.opacity=1),xe}function a(X){X.parentNode&&X.parentNode.removeChild(X)}function s(X){X.parentNode&&(X.style.opacity==null&&a(X),X.style.opacity=0,setTimeout(function(){a(X)},600))}function h(X,se,we,xe){var De=o(X,se,we);function Fe(){n.off(xe,"mouseout",Fe),De&&(s(De),De=null)}var he=setInterval(function(){if(De)for(var Qe=xe;;Qe=Qe.parentNode){if(Qe&&Qe.nodeType==11&&(Qe=Qe.host),Qe==document.body)return;if(!Qe){Fe();break}}if(!De)return clearInterval(he)},400);n.on(xe,"mouseout",Fe)}function g(X,se,we){this.marked=[],se instanceof Function&&(se={getAnnotations:se}),(!se||se===!0)&&(se={}),this.options={},this.linterOptions=se.options||{};for(var xe in _)this.options[xe]=_[xe];for(var xe in se)_.hasOwnProperty(xe)?se[xe]!=null&&(this.options[xe]=se[xe]):se.options||(this.linterOptions[xe]=se[xe]);this.timeout=null,this.hasGutter=we,this.onMouseOver=function(De){be(X,De)},this.waitingFor=0}var _={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function E(X){var se=X.state.lint;se.hasGutter&&X.clearGutter(r),se.options.highlightLines&&O(X);for(var we=0;we<se.marked.length;++we)se.marked[we].clear();se.marked.length=0}function O(X){X.eachLine(function(se){var we=se.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(se.wrapClass);we&&X.removeLineClass(se,"wrap",we[0])})}function K(X,se,we,xe,De){var Fe=document.createElement("div"),he=Fe;return Fe.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+we,xe&&(he=Fe.appendChild(document.createElement("div")),he.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),De!=!1&&n.on(he,"mouseover",function(Qe){h(X,Qe,se,he)}),Fe}function D(X,se){return X=="error"?X:se}function Y(X){for(var se=[],we=0;we<X.length;++we){var xe=X[we],De=xe.from.line;(se[De]||(se[De]=[])).push(xe)}return se}function ee(X){var se=X.severity;se||(se="error");var we=document.createElement("div");return we.className="CodeMirror-lint-message CodeMirror-lint-message-"+se,typeof X.messageHTML<"u"?we.innerHTML=X.messageHTML:we.appendChild(document.createTextNode(X.message)),we}function H(X,se){var we=X.state.lint,xe=++we.waitingFor;function De(){xe=-1,X.off("change",De)}X.on("change",De),se(X.getValue(),function(Fe,he){X.off("change",De),we.waitingFor==xe&&(he&&Fe instanceof n&&(Fe=he),X.operation(function(){Z(X,Fe)}))},we.linterOptions,X)}function N(X){var se=X.state.lint;if(se){var we=se.options,xe=we.getAnnotations||X.getHelper(n.Pos(0,0),"lint");if(xe)if(we.async||xe.async)H(X,xe);else{var De=xe(X.getValue(),se.linterOptions,X);if(!De)return;De.then?De.then(function(Fe){X.operation(function(){Z(X,Fe)})}):X.operation(function(){Z(X,De)})}}}function Z(X,se){var we=X.state.lint;if(we){var xe=we.options;E(X);for(var De=Y(se),Fe=0;Fe<De.length;++Fe){var he=De[Fe];if(he){for(var Qe=null,ge=we.hasGutter&&document.createDocumentFragment(),yt=0;yt<he.length;++yt){var wt=he[yt],st=wt.severity;st||(st="error"),Qe=D(Qe,st),xe.formatAnnotation&&(wt=xe.formatAnnotation(wt)),we.hasGutter&&ge.appendChild(ee(wt)),wt.to&&we.marked.push(X.markText(wt.from,wt.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+st,__annotation:wt}))}we.hasGutter&&X.setGutterMarker(Fe,r,K(X,ge,Qe,he.length>1,xe.tooltips)),xe.highlightLines&&X.addLineClass(Fe,"wrap",i+Qe)}}xe.onUpdateLinting&&xe.onUpdateLinting(se,De,X)}}function ue(X){var se=X.state.lint;se&&(clearTimeout(se.timeout),se.timeout=setTimeout(function(){N(X)},se.options.delay))}function ye(X,se,we){for(var xe=we.target||we.srcElement,De=document.createDocumentFragment(),Fe=0;Fe<se.length;Fe++){var he=se[Fe];De.appendChild(ee(he))}h(X,we,De,xe)}function be(X,se){var we=se.target||se.srcElement;if(/\bCodeMirror-lint-mark-/.test(we.className)){for(var xe=we.getBoundingClientRect(),De=(xe.left+xe.right)/2,Fe=(xe.top+xe.bottom)/2,he=X.findMarksAt(X.coordsChar({left:De,top:Fe},"client")),Qe=[],ge=0;ge<he.length;++ge){var yt=he[ge].__annotation;yt&&Qe.push(yt)}Qe.length&&ye(X,Qe,se)}}n.defineOption("lint",!1,function(X,se,we){if(we&&we!=n.Init&&(E(X),X.state.lint.options.lintOnChange!==!1&&X.off("change",ue),n.off(X.getWrapperElement(),"mouseover",X.state.lint.onMouseOver),clearTimeout(X.state.lint.timeout),delete X.state.lint),se){for(var xe=X.getOption("gutters"),De=!1,Fe=0;Fe<xe.length;++Fe)xe[Fe]==r&&(De=!0);var he=X.state.lint=new g(X,se,De);he.options.lintOnChange&&X.on("change",ue),he.options.tooltips!=!1&&he.options.tooltips!="gutter"&&n.on(X.getWrapperElement(),"mouseover",he.onMouseOver),N(X)}}),n.defineExtension("performLint",function(){N(this)})})})();(function(e,t){(function(n){n(Uw())})(function(n){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=n.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(O){return O&&O.bracketRegex||/[(){}[\]]/}function s(O,K,D){var Y=O.getLineHandle(K.line),ee=K.ch-1,H=D&&D.afterCursor;H==null&&(H=/(^| )cm-fat-cursor($| )/.test(O.getWrapperElement().className));var N=a(D),Z=!H&&ee>=0&&N.test(Y.text.charAt(ee))&&o[Y.text.charAt(ee)]||N.test(Y.text.charAt(ee+1))&&o[Y.text.charAt(++ee)];if(!Z)return null;var ue=Z.charAt(1)==">"?1:-1;if(D&&D.strict&&ue>0!=(ee==K.ch))return null;var ye=O.getTokenTypeAt(i(K.line,ee+1)),be=h(O,i(K.line,ee+(ue>0?1:0)),ue,ye,D);return be==null?null:{from:i(K.line,ee),to:be&&be.pos,match:be&&be.ch==Z.charAt(0),forward:ue>0}}function h(O,K,D,Y,ee){for(var H=ee&&ee.maxScanLineLength||1e4,N=ee&&ee.maxScanLines||1e3,Z=[],ue=a(ee),ye=D>0?Math.min(K.line+N,O.lastLine()+1):Math.max(O.firstLine()-1,K.line-N),be=K.line;be!=ye;be+=D){var X=O.getLine(be);if(X){var se=D>0?0:X.length-1,we=D>0?X.length:-1;if(!(X.length>H))for(be==K.line&&(se=K.ch-(D<0?1:0));se!=we;se+=D){var xe=X.charAt(se);if(ue.test(xe)&&(Y===void 0||(O.getTokenTypeAt(i(be,se+1))||"")==(Y||""))){var De=o[xe];if(De&&De.charAt(1)==">"==D>0)Z.push(xe);else if(Z.length)Z.pop();else return{pos:i(be,se),ch:xe}}}}}return be-D==(D>0?O.lastLine():O.firstLine())?!1:null}function g(O,K,D){for(var Y=O.state.matchBrackets.maxHighlightLineLength||1e3,ee=D&&D.highlightNonMatching,H=[],N=O.listSelections(),Z=0;Z<N.length;Z++){var ue=N[Z].empty()&&s(O,N[Z].head,D);if(ue&&(ue.match||ee!==!1)&&O.getLine(ue.from.line).length<=Y){var ye=ue.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(O.markText(ue.from,i(ue.from.line,ue.from.ch+1),{className:ye})),ue.to&&O.getLine(ue.to.line).length<=Y&&H.push(O.markText(ue.to,i(ue.to.line,ue.to.ch+1),{className:ye}))}}if(H.length){r&&O.state.focused&&O.focus();var be=function(){O.operation(function(){for(var X=0;X<H.length;X++)H[X].clear()})};if(K)setTimeout(be,800);else return be}}function _(O){O.operation(function(){O.state.matchBrackets.currentlyHighlighted&&(O.state.matchBrackets.currentlyHighlighted(),O.state.matchBrackets.currentlyHighlighted=null),O.state.matchBrackets.currentlyHighlighted=g(O,!1,O.state.matchBrackets)})}function E(O){O.state.matchBrackets&&O.state.matchBrackets.currentlyHighlighted&&(O.state.matchBrackets.currentlyHighlighted(),O.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(O,K,D){D&&D!=n.Init&&(O.off("cursorActivity",_),O.off("focus",_),O.off("blur",E),E(O)),K&&(O.state.matchBrackets=typeof K=="object"?K:{},O.on("cursorActivity",_),O.on("focus",_),O.on("blur",E))}),n.defineExtension("matchBrackets",function(){g(this,!0)}),n.defineExtension("findMatchingBracket",function(O,K,D){return(D||typeof K=="boolean")&&(D?(D.strict=K,K=D):K=K?{strict:!0}:null),s(this,O,K)}),n.defineExtension("scanForBracket",function(O,K,D,Y){return h(this,O,K,D,Y)})})})();const ige=/("(?:[^\\"]|\\.)*")|[:,]/g;function IG(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return function o(a,s,h){a&&typeof a.toJSON=="function"&&(a=a.toJSON());const g=JSON.stringify(a,i);if(g===void 0)return g;const _=r-s.length-h;if(g.length<=_){const E=g.replace(ige,(O,K)=>K||`${O} `);if(E.length<=_)return E}if(i!=null&&(a=JSON.parse(g),i=void 0),typeof a=="object"&&a!==null){const E=s+n,O=[];let K=0,D,Y;if(Array.isArray(a)){D="[",Y="]";const{length:ee}=a;for(;K<ee;K++)O.push(o(a[K],E,K===ee-1?0:1)||"null")}else{D="{",Y="}";const ee=Object.keys(a),{length:H}=ee;for(;K<H;K++){const N=ee[K],Z=`${JSON.stringify(N)}: `,ue=o(a[N],E,Z.length+(K===H-1?0:1));ue!==void 0&&O.push(Z+ue)}}if(O.length>0)return[D,n+O.join(`,
${E}`),Y].join(`
${s}`)}return g}(e,"",0)}function oge(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kG={};(function(e){var t=function(){var n={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(o,a,s,h,g,_,E){var O=_.length-1;switch(g){case 1:this.$=o.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(o);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=_[O-1];case 13:this.$={};break;case 14:this.$=_[O-1];break;case 15:this.$=[_[O-2],_[O]];break;case 16:this.$={},this.$[_[O][0]]=_[O][1];break;case 17:this.$=_[O-2],_[O-2][_[O][0]]=_[O][1];break;case 18:this.$=[];break;case 19:this.$=_[O-1];break;case 20:this.$=[_[O]];break;case 21:this.$=_[O-2],_[O-2].push(_[O]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(o,a){throw new Error(o)},parse:function(o){var a=this,s=[0],h=[null],g=[],_=this.table,E="",O=0,K=0,D=0,Y=2,ee=1;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;g.push(H),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function N(ge){s.length=s.length-2*ge,h.length=h.length-ge,g.length=g.length-ge}function Z(){var ge;return ge=a.lexer.lex()||1,typeof ge!="number"&&(ge=a.symbols_[ge]||ge),ge}for(var ue,ye,be,X,se,we={},xe,De,Fe,he;;){if(be=s[s.length-1],this.defaultActions[be]?X=this.defaultActions[be]:(ue==null&&(ue=Z()),X=_[be]&&_[be][ue]),typeof X>"u"||!X.length||!X[0]){if(!D){he=[];for(xe in _[be])this.terminals_[xe]&&xe>2&&he.push("'"+this.terminals_[xe]+"'");var Qe="";this.lexer.showPosition?Qe="Parse error on line "+(O+1)+`:
`+this.lexer.showPosition()+`
Expecting `+he.join(", ")+", got '"+this.terminals_[ue]+"'":Qe="Parse error on line "+(O+1)+": Unexpected "+(ue==1?"end of input":"'"+(this.terminals_[ue]||ue)+"'"),this.parseError(Qe,{text:this.lexer.match,token:this.terminals_[ue]||ue,line:this.lexer.yylineno,loc:H,expected:he})}if(D==3){if(ue==ee)throw new Error(Qe||"Parsing halted.");K=this.lexer.yyleng,E=this.lexer.yytext,O=this.lexer.yylineno,H=this.lexer.yylloc,ue=Z()}for(;!(Y.toString()in _[be]);){if(be==0)throw new Error(Qe||"Parsing halted.");N(1),be=s[s.length-1]}ye=ue,ue=Y,be=s[s.length-1],X=_[be]&&_[be][Y],D=3}if(X[0]instanceof Array&&X.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+ue);switch(X[0]){case 1:s.push(ue),h.push(this.lexer.yytext),g.push(this.lexer.yylloc),s.push(X[1]),ue=null,ye?(ue=ye,ye=null):(K=this.lexer.yyleng,E=this.lexer.yytext,O=this.lexer.yylineno,H=this.lexer.yylloc,D>0&&D--);break;case 2:if(De=this.productions_[X[1]][1],we.$=h[h.length-De],we._$={first_line:g[g.length-(De||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(De||1)].first_column,last_column:g[g.length-1].last_column},se=this.performAction.call(we,E,K,O,this.yy,X[1],h,g),typeof se<"u")return se;De&&(s=s.slice(0,-1*De*2),h=h.slice(0,-1*De),g=g.slice(0,-1*De)),s.push(this.productions_[X[1]][0]),h.push(we.$),g.push(we._$),Fe=_[s[s.length-2]][s[s.length-1]],s.push(Fe);break;case 3:return!0}}return!0}},r=function(){var i={EOF:1,parseError:function(a,s){if(this.yy.parseError)this.yy.parseError(a,s);else throw new Error(a)},setInput:function(o){return this._input=o,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.match+=o,this.matched+=o;var a=o.match(/\n/);return a&&this.yylineno++,this._input=this._input.slice(1),o},unput:function(o){return this._input=o+this._input,this},more:function(){return this._more=!0,this},less:function(o){this._input=this.match.slice(o)+this._input},pastInput:function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var o=this.match;return o.length<20&&(o+=this._input.substr(0,20-o.length)),(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var o=this.pastInput(),a=new Array(o.length+1).join("-");return o+this.upcomingInput()+`
`+a+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var o,a,s,h,g;this._more||(this.yytext="",this.match="");for(var _=this._currentRules(),E=0;E<_.length&&(s=this._input.match(this.rules[_[E]]),!(s&&(!a||s[0].length>a[0].length)&&(a=s,h=E,!this.options.flex)));E++);if(a)return g=a[0].match(/\n.*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-1:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],o=this.performAction.call(this,this.yy,this,_[h],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return typeof a<"u"?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return i.options={},i.performAction=function(a,s,h,g){switch(h){case 0:break;case 1:return 6;case 2:return s.yytext=s.yytext.substr(1,s.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return n.lexer=r,n}();typeof oge<"u"&&(e.parser=t,e.parse=t.parse.bind(t))})(kG);const dB=Ba(kG);var TG={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Dh,function(){var n=typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function r(pe,Se){return Se={exports:{}},pe(Se,Se.exports),Se.exports}var i=r(function(pe){function Se(){var Re=0,it=1,ot=2,St=3,Rt=4,zt=5,pt=6,rr=7,gn=8,yn=9,Jn=10,Ar=11,Mr=12,Wr=13,gr=14,_i=15,Ee=16,J=17,q=0,Te=1,At=2,Bt=3,kt=4;function Ft(m,Pt){return 55296<=m.charCodeAt(Pt)&&m.charCodeAt(Pt)<=56319&&56320<=m.charCodeAt(Pt+1)&&m.charCodeAt(Pt+1)<=57343}function fn(m,Pt){Pt===void 0&&(Pt=0);var Kr=m.charCodeAt(Pt);if(55296<=Kr&&Kr<=56319&&Pt<m.length-1){var tr=Kr,Ke=m.charCodeAt(Pt+1);return 56320<=Ke&&Ke<=57343?(tr-55296)*1024+(Ke-56320)+65536:tr}if(56320<=Kr&&Kr<=57343&&Pt>=1){var tr=m.charCodeAt(Pt-1),Ke=Kr;return 55296<=tr&&tr<=56319?(tr-55296)*1024+(Ke-56320)+65536:Ke}return Kr}function Kn(m,Pt,Kr){var tr=[m].concat(Pt).concat([Kr]),Ke=tr[tr.length-2],ce=Kr,Ce=tr.lastIndexOf(gr);if(Ce>1&&tr.slice(1,Ce).every(function(rt){return rt==St})&&[St,Wr,J].indexOf(m)==-1)return At;var Ie=tr.lastIndexOf(Rt);if(Ie>0&&tr.slice(1,Ie).every(function(rt){return rt==Rt})&&[Mr,Rt].indexOf(Ke)==-1)return tr.filter(function(rt){return rt==Rt}).length%2==1?Bt:kt;if(Ke==Re&&ce==it)return q;if(Ke==ot||Ke==Re||Ke==it)return ce==gr&&Pt.every(function(rt){return rt==St})?At:Te;if(ce==ot||ce==Re||ce==it)return Te;if(Ke==pt&&(ce==pt||ce==rr||ce==yn||ce==Jn))return q;if((Ke==yn||Ke==rr)&&(ce==rr||ce==gn))return q;if((Ke==Jn||Ke==gn)&&ce==gn)return q;if(ce==St||ce==_i)return q;if(ce==zt)return q;if(Ke==Mr)return q;var je=tr.indexOf(St)!=-1?tr.lastIndexOf(St)-1:tr.length-2;return[Wr,J].indexOf(tr[je])!=-1&&tr.slice(je+1,-1).every(function(rt){return rt==St})&&ce==gr||Ke==_i&&[Ee,J].indexOf(ce)!=-1?q:Pt.indexOf(Rt)!=-1?At:Ke==Rt&&ce==Rt?q:Te}this.nextBreak=function(m,Pt){if(Pt===void 0&&(Pt=0),Pt<0)return 0;if(Pt>=m.length-1)return m.length;for(var Kr=On(fn(m,Pt)),tr=[],Ke=Pt+1;Ke<m.length;Ke++)if(!Ft(m,Ke-1)){var ce=On(fn(m,Ke));if(Kn(Kr,tr,ce))return Ke;tr.push(ce)}return m.length},this.splitGraphemes=function(m){for(var Pt=[],Kr=0,tr;(tr=this.nextBreak(m,Kr))<m.length;)Pt.push(m.slice(Kr,tr)),Kr=tr;return Kr<m.length&&Pt.push(m.slice(Kr)),Pt},this.iterateGraphemes=function(m){var Pt=0,Kr={next:(function(){var tr,Ke;return(Ke=this.nextBreak(m,Pt))<m.length?(tr=m.slice(Pt,Ke),Pt=Ke,{value:tr,done:!1}):Pt<m.length?(tr=m.slice(Pt),Pt=m.length,{value:tr,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(Kr[Symbol.iterator]=function(){return Kr}),Kr},this.countGraphemes=function(m){for(var Pt=0,Kr=0,tr;(tr=this.nextBreak(m,Kr))<m.length;)Kr=tr,Pt++;return Kr<m.length&&Pt++,Pt};function On(m){return 1536<=m&&m<=1541||m==1757||m==1807||m==2274||m==3406||m==69821||70082<=m&&m<=70083||m==72250||72326<=m&&m<=72329||m==73030?Mr:m==13?Re:m==10?it:0<=m&&m<=9||11<=m&&m<=12||14<=m&&m<=31||127<=m&&m<=159||m==173||m==1564||m==6158||m==8203||8206<=m&&m<=8207||m==8232||m==8233||8234<=m&&m<=8238||8288<=m&&m<=8292||m==8293||8294<=m&&m<=8303||55296<=m&&m<=57343||m==65279||65520<=m&&m<=65528||65529<=m&&m<=65531||113824<=m&&m<=113827||119155<=m&&m<=119162||m==917504||m==917505||917506<=m&&m<=917535||917632<=m&&m<=917759||918e3<=m&&m<=921599?ot:768<=m&&m<=879||1155<=m&&m<=1159||1160<=m&&m<=1161||1425<=m&&m<=1469||m==1471||1473<=m&&m<=1474||1476<=m&&m<=1477||m==1479||1552<=m&&m<=1562||1611<=m&&m<=1631||m==1648||1750<=m&&m<=1756||1759<=m&&m<=1764||1767<=m&&m<=1768||1770<=m&&m<=1773||m==1809||1840<=m&&m<=1866||1958<=m&&m<=1968||2027<=m&&m<=2035||2070<=m&&m<=2073||2075<=m&&m<=2083||2085<=m&&m<=2087||2089<=m&&m<=2093||2137<=m&&m<=2139||2260<=m&&m<=2273||2275<=m&&m<=2306||m==2362||m==2364||2369<=m&&m<=2376||m==2381||2385<=m&&m<=2391||2402<=m&&m<=2403||m==2433||m==2492||m==2494||2497<=m&&m<=2500||m==2509||m==2519||2530<=m&&m<=2531||2561<=m&&m<=2562||m==2620||2625<=m&&m<=2626||2631<=m&&m<=2632||2635<=m&&m<=2637||m==2641||2672<=m&&m<=2673||m==2677||2689<=m&&m<=2690||m==2748||2753<=m&&m<=2757||2759<=m&&m<=2760||m==2765||2786<=m&&m<=2787||2810<=m&&m<=2815||m==2817||m==2876||m==2878||m==2879||2881<=m&&m<=2884||m==2893||m==2902||m==2903||2914<=m&&m<=2915||m==2946||m==3006||m==3008||m==3021||m==3031||m==3072||3134<=m&&m<=3136||3142<=m&&m<=3144||3146<=m&&m<=3149||3157<=m&&m<=3158||3170<=m&&m<=3171||m==3201||m==3260||m==3263||m==3266||m==3270||3276<=m&&m<=3277||3285<=m&&m<=3286||3298<=m&&m<=3299||3328<=m&&m<=3329||3387<=m&&m<=3388||m==3390||3393<=m&&m<=3396||m==3405||m==3415||3426<=m&&m<=3427||m==3530||m==3535||3538<=m&&m<=3540||m==3542||m==3551||m==3633||3636<=m&&m<=3642||3655<=m&&m<=3662||m==3761||3764<=m&&m<=3769||3771<=m&&m<=3772||3784<=m&&m<=3789||3864<=m&&m<=3865||m==3893||m==3895||m==3897||3953<=m&&m<=3966||3968<=m&&m<=3972||3974<=m&&m<=3975||3981<=m&&m<=3991||3993<=m&&m<=4028||m==4038||4141<=m&&m<=4144||4146<=m&&m<=4151||4153<=m&&m<=4154||4157<=m&&m<=4158||4184<=m&&m<=4185||4190<=m&&m<=4192||4209<=m&&m<=4212||m==4226||4229<=m&&m<=4230||m==4237||m==4253||4957<=m&&m<=4959||5906<=m&&m<=5908||5938<=m&&m<=5940||5970<=m&&m<=5971||6002<=m&&m<=6003||6068<=m&&m<=6069||6071<=m&&m<=6077||m==6086||6089<=m&&m<=6099||m==6109||6155<=m&&m<=6157||6277<=m&&m<=6278||m==6313||6432<=m&&m<=6434||6439<=m&&m<=6440||m==6450||6457<=m&&m<=6459||6679<=m&&m<=6680||m==6683||m==6742||6744<=m&&m<=6750||m==6752||m==6754||6757<=m&&m<=6764||6771<=m&&m<=6780||m==6783||6832<=m&&m<=6845||m==6846||6912<=m&&m<=6915||m==6964||6966<=m&&m<=6970||m==6972||m==6978||7019<=m&&m<=7027||7040<=m&&m<=7041||7074<=m&&m<=7077||7080<=m&&m<=7081||7083<=m&&m<=7085||m==7142||7144<=m&&m<=7145||m==7149||7151<=m&&m<=7153||7212<=m&&m<=7219||7222<=m&&m<=7223||7376<=m&&m<=7378||7380<=m&&m<=7392||7394<=m&&m<=7400||m==7405||m==7412||7416<=m&&m<=7417||7616<=m&&m<=7673||7675<=m&&m<=7679||m==8204||8400<=m&&m<=8412||8413<=m&&m<=8416||m==8417||8418<=m&&m<=8420||8421<=m&&m<=8432||11503<=m&&m<=11505||m==11647||11744<=m&&m<=11775||12330<=m&&m<=12333||12334<=m&&m<=12335||12441<=m&&m<=12442||m==42607||42608<=m&&m<=42610||42612<=m&&m<=42621||42654<=m&&m<=42655||42736<=m&&m<=42737||m==43010||m==43014||m==43019||43045<=m&&m<=43046||43204<=m&&m<=43205||43232<=m&&m<=43249||43302<=m&&m<=43309||43335<=m&&m<=43345||43392<=m&&m<=43394||m==43443||43446<=m&&m<=43449||m==43452||m==43493||43561<=m&&m<=43566||43569<=m&&m<=43570||43573<=m&&m<=43574||m==43587||m==43596||m==43644||m==43696||43698<=m&&m<=43700||43703<=m&&m<=43704||43710<=m&&m<=43711||m==43713||43756<=m&&m<=43757||m==43766||m==44005||m==44008||m==44013||m==64286||65024<=m&&m<=65039||65056<=m&&m<=65071||65438<=m&&m<=65439||m==66045||m==66272||66422<=m&&m<=66426||68097<=m&&m<=68099||68101<=m&&m<=68102||68108<=m&&m<=68111||68152<=m&&m<=68154||m==68159||68325<=m&&m<=68326||m==69633||69688<=m&&m<=69702||69759<=m&&m<=69761||69811<=m&&m<=69814||69817<=m&&m<=69818||69888<=m&&m<=69890||69927<=m&&m<=69931||69933<=m&&m<=69940||m==70003||70016<=m&&m<=70017||70070<=m&&m<=70078||70090<=m&&m<=70092||70191<=m&&m<=70193||m==70196||70198<=m&&m<=70199||m==70206||m==70367||70371<=m&&m<=70378||70400<=m&&m<=70401||m==70460||m==70462||m==70464||m==70487||70502<=m&&m<=70508||70512<=m&&m<=70516||70712<=m&&m<=70719||70722<=m&&m<=70724||m==70726||m==70832||70835<=m&&m<=70840||m==70842||m==70845||70847<=m&&m<=70848||70850<=m&&m<=70851||m==71087||71090<=m&&m<=71093||71100<=m&&m<=71101||71103<=m&&m<=71104||71132<=m&&m<=71133||71219<=m&&m<=71226||m==71229||71231<=m&&m<=71232||m==71339||m==71341||71344<=m&&m<=71349||m==71351||71453<=m&&m<=71455||71458<=m&&m<=71461||71463<=m&&m<=71467||72193<=m&&m<=72198||72201<=m&&m<=72202||72243<=m&&m<=72248||72251<=m&&m<=72254||m==72263||72273<=m&&m<=72278||72281<=m&&m<=72283||72330<=m&&m<=72342||72344<=m&&m<=72345||72752<=m&&m<=72758||72760<=m&&m<=72765||m==72767||72850<=m&&m<=72871||72874<=m&&m<=72880||72882<=m&&m<=72883||72885<=m&&m<=72886||73009<=m&&m<=73014||m==73018||73020<=m&&m<=73021||73023<=m&&m<=73029||m==73031||92912<=m&&m<=92916||92976<=m&&m<=92982||94095<=m&&m<=94098||113821<=m&&m<=113822||m==119141||119143<=m&&m<=119145||119150<=m&&m<=119154||119163<=m&&m<=119170||119173<=m&&m<=119179||119210<=m&&m<=119213||119362<=m&&m<=119364||121344<=m&&m<=121398||121403<=m&&m<=121452||m==121461||m==121476||121499<=m&&m<=121503||121505<=m&&m<=121519||122880<=m&&m<=122886||122888<=m&&m<=122904||122907<=m&&m<=122913||122915<=m&&m<=122916||122918<=m&&m<=122922||125136<=m&&m<=125142||125252<=m&&m<=125258||917536<=m&&m<=917631||917760<=m&&m<=917999?St:127462<=m&&m<=127487?Rt:m==2307||m==2363||2366<=m&&m<=2368||2377<=m&&m<=2380||2382<=m&&m<=2383||2434<=m&&m<=2435||2495<=m&&m<=2496||2503<=m&&m<=2504||2507<=m&&m<=2508||m==2563||2622<=m&&m<=2624||m==2691||2750<=m&&m<=2752||m==2761||2763<=m&&m<=2764||2818<=m&&m<=2819||m==2880||2887<=m&&m<=2888||2891<=m&&m<=2892||m==3007||3009<=m&&m<=3010||3014<=m&&m<=3016||3018<=m&&m<=3020||3073<=m&&m<=3075||3137<=m&&m<=3140||3202<=m&&m<=3203||m==3262||3264<=m&&m<=3265||3267<=m&&m<=3268||3271<=m&&m<=3272||3274<=m&&m<=3275||3330<=m&&m<=3331||3391<=m&&m<=3392||3398<=m&&m<=3400||3402<=m&&m<=3404||3458<=m&&m<=3459||3536<=m&&m<=3537||3544<=m&&m<=3550||3570<=m&&m<=3571||m==3635||m==3763||3902<=m&&m<=3903||m==3967||m==4145||4155<=m&&m<=4156||4182<=m&&m<=4183||m==4228||m==6070||6078<=m&&m<=6085||6087<=m&&m<=6088||6435<=m&&m<=6438||6441<=m&&m<=6443||6448<=m&&m<=6449||6451<=m&&m<=6456||6681<=m&&m<=6682||m==6741||m==6743||6765<=m&&m<=6770||m==6916||m==6965||m==6971||6973<=m&&m<=6977||6979<=m&&m<=6980||m==7042||m==7073||7078<=m&&m<=7079||m==7082||m==7143||7146<=m&&m<=7148||m==7150||7154<=m&&m<=7155||7204<=m&&m<=7211||7220<=m&&m<=7221||m==7393||7410<=m&&m<=7411||m==7415||43043<=m&&m<=43044||m==43047||43136<=m&&m<=43137||43188<=m&&m<=43203||43346<=m&&m<=43347||m==43395||43444<=m&&m<=43445||43450<=m&&m<=43451||43453<=m&&m<=43456||43567<=m&&m<=43568||43571<=m&&m<=43572||m==43597||m==43755||43758<=m&&m<=43759||m==43765||44003<=m&&m<=44004||44006<=m&&m<=44007||44009<=m&&m<=44010||m==44012||m==69632||m==69634||m==69762||69808<=m&&m<=69810||69815<=m&&m<=69816||m==69932||m==70018||70067<=m&&m<=70069||70079<=m&&m<=70080||70188<=m&&m<=70190||70194<=m&&m<=70195||m==70197||70368<=m&&m<=70370||70402<=m&&m<=70403||m==70463||70465<=m&&m<=70468||70471<=m&&m<=70472||70475<=m&&m<=70477||70498<=m&&m<=70499||70709<=m&&m<=70711||70720<=m&&m<=70721||m==70725||70833<=m&&m<=70834||m==70841||70843<=m&&m<=70844||m==70846||m==70849||71088<=m&&m<=71089||71096<=m&&m<=71099||m==71102||71216<=m&&m<=71218||71227<=m&&m<=71228||m==71230||m==71340||71342<=m&&m<=71343||m==71350||71456<=m&&m<=71457||m==71462||72199<=m&&m<=72200||m==72249||72279<=m&&m<=72280||m==72343||m==72751||m==72766||m==72873||m==72881||m==72884||94033<=m&&m<=94078||m==119142||m==119149?zt:4352<=m&&m<=4447||43360<=m&&m<=43388?pt:4448<=m&&m<=4519||55216<=m&&m<=55238?rr:4520<=m&&m<=4607||55243<=m&&m<=55291?gn:m==44032||m==44060||m==44088||m==44116||m==44144||m==44172||m==44200||m==44228||m==44256||m==44284||m==44312||m==44340||m==44368||m==44396||m==44424||m==44452||m==44480||m==44508||m==44536||m==44564||m==44592||m==44620||m==44648||m==44676||m==44704||m==44732||m==44760||m==44788||m==44816||m==44844||m==44872||m==44900||m==44928||m==44956||m==44984||m==45012||m==45040||m==45068||m==45096||m==45124||m==45152||m==45180||m==45208||m==45236||m==45264||m==45292||m==45320||m==45348||m==45376||m==45404||m==45432||m==45460||m==45488||m==45516||m==45544||m==45572||m==45600||m==45628||m==45656||m==45684||m==45712||m==45740||m==45768||m==45796||m==45824||m==45852||m==45880||m==45908||m==45936||m==45964||m==45992||m==46020||m==46048||m==46076||m==46104||m==46132||m==46160||m==46188||m==46216||m==46244||m==46272||m==46300||m==46328||m==46356||m==46384||m==46412||m==46440||m==46468||m==46496||m==46524||m==46552||m==46580||m==46608||m==46636||m==46664||m==46692||m==46720||m==46748||m==46776||m==46804||m==46832||m==46860||m==46888||m==46916||m==46944||m==46972||m==47e3||m==47028||m==47056||m==47084||m==47112||m==47140||m==47168||m==47196||m==47224||m==47252||m==47280||m==47308||m==47336||m==47364||m==47392||m==47420||m==47448||m==47476||m==47504||m==47532||m==47560||m==47588||m==47616||m==47644||m==47672||m==47700||m==47728||m==47756||m==47784||m==47812||m==47840||m==47868||m==47896||m==47924||m==47952||m==47980||m==48008||m==48036||m==48064||m==48092||m==48120||m==48148||m==48176||m==48204||m==48232||m==48260||m==48288||m==48316||m==48344||m==48372||m==48400||m==48428||m==48456||m==48484||m==48512||m==48540||m==48568||m==48596||m==48624||m==48652||m==48680||m==48708||m==48736||m==48764||m==48792||m==48820||m==48848||m==48876||m==48904||m==48932||m==48960||m==48988||m==49016||m==49044||m==49072||m==49100||m==49128||m==49156||m==49184||m==49212||m==49240||m==49268||m==49296||m==49324||m==49352||m==49380||m==49408||m==49436||m==49464||m==49492||m==49520||m==49548||m==49576||m==49604||m==49632||m==49660||m==49688||m==49716||m==49744||m==49772||m==49800||m==49828||m==49856||m==49884||m==49912||m==49940||m==49968||m==49996||m==50024||m==50052||m==50080||m==50108||m==50136||m==50164||m==50192||m==50220||m==50248||m==50276||m==50304||m==50332||m==50360||m==50388||m==50416||m==50444||m==50472||m==50500||m==50528||m==50556||m==50584||m==50612||m==50640||m==50668||m==50696||m==50724||m==50752||m==50780||m==50808||m==50836||m==50864||m==50892||m==50920||m==50948||m==50976||m==51004||m==51032||m==51060||m==51088||m==51116||m==51144||m==51172||m==51200||m==51228||m==51256||m==51284||m==51312||m==51340||m==51368||m==51396||m==51424||m==51452||m==51480||m==51508||m==51536||m==51564||m==51592||m==51620||m==51648||m==51676||m==51704||m==51732||m==51760||m==51788||m==51816||m==51844||m==51872||m==51900||m==51928||m==51956||m==51984||m==52012||m==52040||m==52068||m==52096||m==52124||m==52152||m==52180||m==52208||m==52236||m==52264||m==52292||m==52320||m==52348||m==52376||m==52404||m==52432||m==52460||m==52488||m==52516||m==52544||m==52572||m==52600||m==52628||m==52656||m==52684||m==52712||m==52740||m==52768||m==52796||m==52824||m==52852||m==52880||m==52908||m==52936||m==52964||m==52992||m==53020||m==53048||m==53076||m==53104||m==53132||m==53160||m==53188||m==53216||m==53244||m==53272||m==53300||m==53328||m==53356||m==53384||m==53412||m==53440||m==53468||m==53496||m==53524||m==53552||m==53580||m==53608||m==53636||m==53664||m==53692||m==53720||m==53748||m==53776||m==53804||m==53832||m==53860||m==53888||m==53916||m==53944||m==53972||m==54e3||m==54028||m==54056||m==54084||m==54112||m==54140||m==54168||m==54196||m==54224||m==54252||m==54280||m==54308||m==54336||m==54364||m==54392||m==54420||m==54448||m==54476||m==54504||m==54532||m==54560||m==54588||m==54616||m==54644||m==54672||m==54700||m==54728||m==54756||m==54784||m==54812||m==54840||m==54868||m==54896||m==54924||m==54952||m==54980||m==55008||m==55036||m==55064||m==55092||m==55120||m==55148||m==55176?yn:44033<=m&&m<=44059||44061<=m&&m<=44087||44089<=m&&m<=44115||44117<=m&&m<=44143||44145<=m&&m<=44171||44173<=m&&m<=44199||44201<=m&&m<=44227||44229<=m&&m<=44255||44257<=m&&m<=44283||44285<=m&&m<=44311||44313<=m&&m<=44339||44341<=m&&m<=44367||44369<=m&&m<=44395||44397<=m&&m<=44423||44425<=m&&m<=44451||44453<=m&&m<=44479||44481<=m&&m<=44507||44509<=m&&m<=44535||44537<=m&&m<=44563||44565<=m&&m<=44591||44593<=m&&m<=44619||44621<=m&&m<=44647||44649<=m&&m<=44675||44677<=m&&m<=44703||44705<=m&&m<=44731||44733<=m&&m<=44759||44761<=m&&m<=44787||44789<=m&&m<=44815||44817<=m&&m<=44843||44845<=m&&m<=44871||44873<=m&&m<=44899||44901<=m&&m<=44927||44929<=m&&m<=44955||44957<=m&&m<=44983||44985<=m&&m<=45011||45013<=m&&m<=45039||45041<=m&&m<=45067||45069<=m&&m<=45095||45097<=m&&m<=45123||45125<=m&&m<=45151||45153<=m&&m<=45179||45181<=m&&m<=45207||45209<=m&&m<=45235||45237<=m&&m<=45263||45265<=m&&m<=45291||45293<=m&&m<=45319||45321<=m&&m<=45347||45349<=m&&m<=45375||45377<=m&&m<=45403||45405<=m&&m<=45431||45433<=m&&m<=45459||45461<=m&&m<=45487||45489<=m&&m<=45515||45517<=m&&m<=45543||45545<=m&&m<=45571||45573<=m&&m<=45599||45601<=m&&m<=45627||45629<=m&&m<=45655||45657<=m&&m<=45683||45685<=m&&m<=45711||45713<=m&&m<=45739||45741<=m&&m<=45767||45769<=m&&m<=45795||45797<=m&&m<=45823||45825<=m&&m<=45851||45853<=m&&m<=45879||45881<=m&&m<=45907||45909<=m&&m<=45935||45937<=m&&m<=45963||45965<=m&&m<=45991||45993<=m&&m<=46019||46021<=m&&m<=46047||46049<=m&&m<=46075||46077<=m&&m<=46103||46105<=m&&m<=46131||46133<=m&&m<=46159||46161<=m&&m<=46187||46189<=m&&m<=46215||46217<=m&&m<=46243||46245<=m&&m<=46271||46273<=m&&m<=46299||46301<=m&&m<=46327||46329<=m&&m<=46355||46357<=m&&m<=46383||46385<=m&&m<=46411||46413<=m&&m<=46439||46441<=m&&m<=46467||46469<=m&&m<=46495||46497<=m&&m<=46523||46525<=m&&m<=46551||46553<=m&&m<=46579||46581<=m&&m<=46607||46609<=m&&m<=46635||46637<=m&&m<=46663||46665<=m&&m<=46691||46693<=m&&m<=46719||46721<=m&&m<=46747||46749<=m&&m<=46775||46777<=m&&m<=46803||46805<=m&&m<=46831||46833<=m&&m<=46859||46861<=m&&m<=46887||46889<=m&&m<=46915||46917<=m&&m<=46943||46945<=m&&m<=46971||46973<=m&&m<=46999||47001<=m&&m<=47027||47029<=m&&m<=47055||47057<=m&&m<=47083||47085<=m&&m<=47111||47113<=m&&m<=47139||47141<=m&&m<=47167||47169<=m&&m<=47195||47197<=m&&m<=47223||47225<=m&&m<=47251||47253<=m&&m<=47279||47281<=m&&m<=47307||47309<=m&&m<=47335||47337<=m&&m<=47363||47365<=m&&m<=47391||47393<=m&&m<=47419||47421<=m&&m<=47447||47449<=m&&m<=47475||47477<=m&&m<=47503||47505<=m&&m<=47531||47533<=m&&m<=47559||47561<=m&&m<=47587||47589<=m&&m<=47615||47617<=m&&m<=47643||47645<=m&&m<=47671||47673<=m&&m<=47699||47701<=m&&m<=47727||47729<=m&&m<=47755||47757<=m&&m<=47783||47785<=m&&m<=47811||47813<=m&&m<=47839||47841<=m&&m<=47867||47869<=m&&m<=47895||47897<=m&&m<=47923||47925<=m&&m<=47951||47953<=m&&m<=47979||47981<=m&&m<=48007||48009<=m&&m<=48035||48037<=m&&m<=48063||48065<=m&&m<=48091||48093<=m&&m<=48119||48121<=m&&m<=48147||48149<=m&&m<=48175||48177<=m&&m<=48203||48205<=m&&m<=48231||48233<=m&&m<=48259||48261<=m&&m<=48287||48289<=m&&m<=48315||48317<=m&&m<=48343||48345<=m&&m<=48371||48373<=m&&m<=48399||48401<=m&&m<=48427||48429<=m&&m<=48455||48457<=m&&m<=48483||48485<=m&&m<=48511||48513<=m&&m<=48539||48541<=m&&m<=48567||48569<=m&&m<=48595||48597<=m&&m<=48623||48625<=m&&m<=48651||48653<=m&&m<=48679||48681<=m&&m<=48707||48709<=m&&m<=48735||48737<=m&&m<=48763||48765<=m&&m<=48791||48793<=m&&m<=48819||48821<=m&&m<=48847||48849<=m&&m<=48875||48877<=m&&m<=48903||48905<=m&&m<=48931||48933<=m&&m<=48959||48961<=m&&m<=48987||48989<=m&&m<=49015||49017<=m&&m<=49043||49045<=m&&m<=49071||49073<=m&&m<=49099||49101<=m&&m<=49127||49129<=m&&m<=49155||49157<=m&&m<=49183||49185<=m&&m<=49211||49213<=m&&m<=49239||49241<=m&&m<=49267||49269<=m&&m<=49295||49297<=m&&m<=49323||49325<=m&&m<=49351||49353<=m&&m<=49379||49381<=m&&m<=49407||49409<=m&&m<=49435||49437<=m&&m<=49463||49465<=m&&m<=49491||49493<=m&&m<=49519||49521<=m&&m<=49547||49549<=m&&m<=49575||49577<=m&&m<=49603||49605<=m&&m<=49631||49633<=m&&m<=49659||49661<=m&&m<=49687||49689<=m&&m<=49715||49717<=m&&m<=49743||49745<=m&&m<=49771||49773<=m&&m<=49799||49801<=m&&m<=49827||49829<=m&&m<=49855||49857<=m&&m<=49883||49885<=m&&m<=49911||49913<=m&&m<=49939||49941<=m&&m<=49967||49969<=m&&m<=49995||49997<=m&&m<=50023||50025<=m&&m<=50051||50053<=m&&m<=50079||50081<=m&&m<=50107||50109<=m&&m<=50135||50137<=m&&m<=50163||50165<=m&&m<=50191||50193<=m&&m<=50219||50221<=m&&m<=50247||50249<=m&&m<=50275||50277<=m&&m<=50303||50305<=m&&m<=50331||50333<=m&&m<=50359||50361<=m&&m<=50387||50389<=m&&m<=50415||50417<=m&&m<=50443||50445<=m&&m<=50471||50473<=m&&m<=50499||50501<=m&&m<=50527||50529<=m&&m<=50555||50557<=m&&m<=50583||50585<=m&&m<=50611||50613<=m&&m<=50639||50641<=m&&m<=50667||50669<=m&&m<=50695||50697<=m&&m<=50723||50725<=m&&m<=50751||50753<=m&&m<=50779||50781<=m&&m<=50807||50809<=m&&m<=50835||50837<=m&&m<=50863||50865<=m&&m<=50891||50893<=m&&m<=50919||50921<=m&&m<=50947||50949<=m&&m<=50975||50977<=m&&m<=51003||51005<=m&&m<=51031||51033<=m&&m<=51059||51061<=m&&m<=51087||51089<=m&&m<=51115||51117<=m&&m<=51143||51145<=m&&m<=51171||51173<=m&&m<=51199||51201<=m&&m<=51227||51229<=m&&m<=51255||51257<=m&&m<=51283||51285<=m&&m<=51311||51313<=m&&m<=51339||51341<=m&&m<=51367||51369<=m&&m<=51395||51397<=m&&m<=51423||51425<=m&&m<=51451||51453<=m&&m<=51479||51481<=m&&m<=51507||51509<=m&&m<=51535||51537<=m&&m<=51563||51565<=m&&m<=51591||51593<=m&&m<=51619||51621<=m&&m<=51647||51649<=m&&m<=51675||51677<=m&&m<=51703||51705<=m&&m<=51731||51733<=m&&m<=51759||51761<=m&&m<=51787||51789<=m&&m<=51815||51817<=m&&m<=51843||51845<=m&&m<=51871||51873<=m&&m<=51899||51901<=m&&m<=51927||51929<=m&&m<=51955||51957<=m&&m<=51983||51985<=m&&m<=52011||52013<=m&&m<=52039||52041<=m&&m<=52067||52069<=m&&m<=52095||52097<=m&&m<=52123||52125<=m&&m<=52151||52153<=m&&m<=52179||52181<=m&&m<=52207||52209<=m&&m<=52235||52237<=m&&m<=52263||52265<=m&&m<=52291||52293<=m&&m<=52319||52321<=m&&m<=52347||52349<=m&&m<=52375||52377<=m&&m<=52403||52405<=m&&m<=52431||52433<=m&&m<=52459||52461<=m&&m<=52487||52489<=m&&m<=52515||52517<=m&&m<=52543||52545<=m&&m<=52571||52573<=m&&m<=52599||52601<=m&&m<=52627||52629<=m&&m<=52655||52657<=m&&m<=52683||52685<=m&&m<=52711||52713<=m&&m<=52739||52741<=m&&m<=52767||52769<=m&&m<=52795||52797<=m&&m<=52823||52825<=m&&m<=52851||52853<=m&&m<=52879||52881<=m&&m<=52907||52909<=m&&m<=52935||52937<=m&&m<=52963||52965<=m&&m<=52991||52993<=m&&m<=53019||53021<=m&&m<=53047||53049<=m&&m<=53075||53077<=m&&m<=53103||53105<=m&&m<=53131||53133<=m&&m<=53159||53161<=m&&m<=53187||53189<=m&&m<=53215||53217<=m&&m<=53243||53245<=m&&m<=53271||53273<=m&&m<=53299||53301<=m&&m<=53327||53329<=m&&m<=53355||53357<=m&&m<=53383||53385<=m&&m<=53411||53413<=m&&m<=53439||53441<=m&&m<=53467||53469<=m&&m<=53495||53497<=m&&m<=53523||53525<=m&&m<=53551||53553<=m&&m<=53579||53581<=m&&m<=53607||53609<=m&&m<=53635||53637<=m&&m<=53663||53665<=m&&m<=53691||53693<=m&&m<=53719||53721<=m&&m<=53747||53749<=m&&m<=53775||53777<=m&&m<=53803||53805<=m&&m<=53831||53833<=m&&m<=53859||53861<=m&&m<=53887||53889<=m&&m<=53915||53917<=m&&m<=53943||53945<=m&&m<=53971||53973<=m&&m<=53999||54001<=m&&m<=54027||54029<=m&&m<=54055||54057<=m&&m<=54083||54085<=m&&m<=54111||54113<=m&&m<=54139||54141<=m&&m<=54167||54169<=m&&m<=54195||54197<=m&&m<=54223||54225<=m&&m<=54251||54253<=m&&m<=54279||54281<=m&&m<=54307||54309<=m&&m<=54335||54337<=m&&m<=54363||54365<=m&&m<=54391||54393<=m&&m<=54419||54421<=m&&m<=54447||54449<=m&&m<=54475||54477<=m&&m<=54503||54505<=m&&m<=54531||54533<=m&&m<=54559||54561<=m&&m<=54587||54589<=m&&m<=54615||54617<=m&&m<=54643||54645<=m&&m<=54671||54673<=m&&m<=54699||54701<=m&&m<=54727||54729<=m&&m<=54755||54757<=m&&m<=54783||54785<=m&&m<=54811||54813<=m&&m<=54839||54841<=m&&m<=54867||54869<=m&&m<=54895||54897<=m&&m<=54923||54925<=m&&m<=54951||54953<=m&&m<=54979||54981<=m&&m<=55007||55009<=m&&m<=55035||55037<=m&&m<=55063||55065<=m&&m<=55091||55093<=m&&m<=55119||55121<=m&&m<=55147||55149<=m&&m<=55175||55177<=m&&m<=55203?Jn:m==9757||m==9977||9994<=m&&m<=9997||m==127877||127938<=m&&m<=127940||m==127943||127946<=m&&m<=127948||128066<=m&&m<=128067||128070<=m&&m<=128080||m==128110||128112<=m&&m<=128120||m==128124||128129<=m&&m<=128131||128133<=m&&m<=128135||m==128170||128372<=m&&m<=128373||m==128378||m==128400||128405<=m&&m<=128406||128581<=m&&m<=128583||128587<=m&&m<=128591||m==128675||128692<=m&&m<=128694||m==128704||m==128716||129304<=m&&m<=129308||129310<=m&&m<=129311||m==129318||129328<=m&&m<=129337||129341<=m&&m<=129342||129489<=m&&m<=129501?Wr:127995<=m&&m<=127999?gr:m==8205?_i:m==9792||m==9794||9877<=m&&m<=9878||m==9992||m==10084||m==127752||m==127806||m==127859||m==127891||m==127908||m==127912||m==127979||m==127981||m==128139||128187<=m&&m<=128188||m==128295||m==128300||m==128488||m==128640||m==128658?Ee:128102<=m&&m<=128105?J:Ar}return this}pe.exports&&(pe.exports=Se)}),o=new i,a=function(Se,Re,it){for(var ot=o.iterateGraphemes(Se.substring(Re)),St="",Rt=0;Rt<it-Re;Rt++){var zt=ot.next();if(St+=zt.value,zt.done)break}return St},s=function(pe,Se,Re,it,ot,St,Rt){return{start:{line:pe,column:Se,offset:Re},end:{line:it,column:ot,offset:St},source:Rt||null}},h=r(function(pe,Se){(function(Re,it){pe.exports=it()})(n,function(){var Re="",it,ot=St;function St(Jn,Ar){if(typeof Jn!="string")throw new TypeError("expected a string");if(Ar===1)return Jn;if(Ar===2)return Jn+Jn;var Mr=Jn.length*Ar;if(it!==Jn||typeof it>"u")it=Jn,Re="";else if(Re.length>=Mr)return Re.substr(0,Mr);for(;Mr>Re.length&&Ar>1;)Ar&1&&(Re+=Jn),Ar>>=1,Jn+=Jn;return Re+=Jn,Re=Re.substr(0,Mr),Re}var Rt=function(Ar,Mr,Wr){if(Ar==null||Mr==null)return Ar;var gr=String(Ar),_i=typeof Mr=="number"?Mr:parseInt(Mr,10);if(isNaN(_i)||!isFinite(_i))return gr;var Ee=gr.length;if(Ee>=_i)return gr;var J=Wr==null?"":String(Wr);J===""&&(J=" ");for(var q=_i-Ee;J.length<q;)J+=J;var Te=J.length>q?J.substr(0,q):J;return Te+gr},zt=Object.assign||function(Jn){for(var Ar=1;Ar<arguments.length;Ar++){var Mr=arguments[Ar];for(var Wr in Mr)Object.prototype.hasOwnProperty.call(Mr,Wr)&&(Jn[Wr]=Mr[Wr])}return Jn};function pt(Jn,Ar,Mr,Wr){var gr=String(Ar),_i=Rt(gr,Mr," "),Ee=ot(" ",Wr.tabSize);return _i+" | "+Jn.replace(/\t/g,Ee)}function rr(Jn,Ar,Mr,Wr,gr){return Jn.slice(Ar,Mr).map(function(_i,Ee){return pt(_i,Ar+Ee+1,Wr,gr)}).join(`
`)}var gn={extraLines:2,tabSize:4},yn=function(Ar,Mr,Wr,gr){gr=zt({},gn,gr);var _i=Ar.split(/\r\n?|\n|\f/),Ee=Math.max(1,Mr-gr.extraLines)-1,J=Math.min(Mr+gr.extraLines,_i.length),q=String(J).length,Te=rr(_i,Ee,Mr,q,gr),At=pt(_i[Mr-1].substring(0,Wr-1),Mr,q,gr),Bt=ot(" ",At.length)+"^",kt=rr(_i,Mr,J,q,gr);return[Te,Bt,kt].filter(Boolean).join(`
`)};return yn})}),g=new Error().stack,_=function(pe){var Se=Object.create(SyntaxError.prototype);return Object.assign(Se,pe,{name:"SyntaxError"}),Object.defineProperty(Se,"stack",{get:function(){return g?g.replace(/^(.+\n){1,3}/,String(Se)+`
`):""}}),Se},E=function(pe,Se,Re,it,ot){throw _({message:it?pe+`
`+h(Se,it,ot):pe,rawMessage:pe,source:Re,line:it,column:ot})},O={unexpectedEnd:function(){return"Unexpected end of input"},unexpectedToken:function(Se){for(var Re=arguments.length,it=Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)it[ot-1]=arguments[ot];return"Unexpected token <"+Se+"> at "+it.filter(Boolean).join(":")}},K={unexpectedSymbol:function(Se){for(var Re=arguments.length,it=Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)it[ot-1]=arguments[ot];return"Unexpected symbol <"+Se+"> at "+it.filter(Boolean).join(":")}},D={LEFT_BRACE:0,RIGHT_BRACE:1,LEFT_BRACKET:2,RIGHT_BRACKET:3,COLON:4,COMMA:5,STRING:6,NUMBER:7,TRUE:8,FALSE:9,NULL:10},Y={"{":D.LEFT_BRACE,"}":D.RIGHT_BRACE,"[":D.LEFT_BRACKET,"]":D.RIGHT_BRACKET,":":D.COLON,",":D.COMMA},ee={true:D.TRUE,false:D.FALSE,null:D.NULL},H={_START_:0,START_QUOTE_OR_CHAR:1,ESCAPE:2},N={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},Z={_START_:0,MINUS:1,ZERO:2,DIGIT:3,POINT:4,DIGIT_FRACTION:5,EXP:6,EXP_DIGIT_OR_SIGN:7};function ue(pe){return pe>="1"&&pe<="9"}function ye(pe){return pe>="0"&&pe<="9"}function be(pe){return ye(pe)||pe>="a"&&pe<="f"||pe>="A"&&pe<="F"}function X(pe){return pe==="e"||pe==="E"}function se(pe,Se,Re,it){var ot=pe.charAt(Se);if(ot==="\r")Se++,Re++,it=1,pe.charAt(Se)===`
`&&Se++;else if(ot===`
`)Se++,Re++,it=1;else if(ot==="	"||ot===" ")Se++,it++;else return null;return{index:Se,line:Re,column:it}}function we(pe,Se,Re,it){var ot=pe.charAt(Se);return ot in Y?{type:Y[ot],line:Re,column:it+1,index:Se+1,value:null}:null}function xe(pe,Se,Re,it){for(var ot in ee)if(ee.hasOwnProperty(ot)&&pe.substr(Se,ot.length)===ot)return{type:ee[ot],line:Re,column:it+ot.length,index:Se+ot.length,value:ot};return null}function De(pe,Se,Re,it){for(var ot=Se,St=H._START_;Se<pe.length;){var Rt=pe.charAt(Se);switch(St){case H._START_:{if(Rt==='"')Se++,St=H.START_QUOTE_OR_CHAR;else return null;break}case H.START_QUOTE_OR_CHAR:{if(Rt==="\\")Se++,St=H.ESCAPE;else{if(Rt==='"')return Se++,{type:D.STRING,line:Re,column:it+Se-ot,index:Se,value:pe.slice(ot,Se)};Se++}break}case H.ESCAPE:{if(Rt in N){if(Se++,Rt==="u")for(var zt=0;zt<4;zt++){var pt=pe.charAt(Se);if(pt&&be(pt))Se++;else return null}St=H.START_QUOTE_OR_CHAR}else return null;break}}}}function Fe(pe,Se,Re,it){var ot=Se,St=Se,Rt=Z._START_;e:for(;Se<pe.length;){var zt=pe.charAt(Se);switch(Rt){case Z._START_:{if(zt==="-")Rt=Z.MINUS;else if(zt==="0")St=Se+1,Rt=Z.ZERO;else if(ue(zt))St=Se+1,Rt=Z.DIGIT;else return null;break}case Z.MINUS:{if(zt==="0")St=Se+1,Rt=Z.ZERO;else if(ue(zt))St=Se+1,Rt=Z.DIGIT;else return null;break}case Z.ZERO:{if(zt===".")Rt=Z.POINT;else if(X(zt))Rt=Z.EXP;else break e;break}case Z.DIGIT:{if(ye(zt))St=Se+1;else if(zt===".")Rt=Z.POINT;else if(X(zt))Rt=Z.EXP;else break e;break}case Z.POINT:{if(ye(zt))St=Se+1,Rt=Z.DIGIT_FRACTION;else break e;break}case Z.DIGIT_FRACTION:{if(ye(zt))St=Se+1;else if(X(zt))Rt=Z.EXP;else break e;break}case Z.EXP:{if(zt==="+"||zt==="-")Rt=Z.EXP_DIGIT_OR_SIGN;else if(ye(zt))St=Se+1,Rt=Z.EXP_DIGIT_OR_SIGN;else break e;break}case Z.EXP_DIGIT_OR_SIGN:{if(ye(zt))St=Se+1;else break e;break}}Se++}return St>0?{type:D.NUMBER,line:Re,column:it+St-ot,index:St,value:pe.slice(ot,St)}:null}var he=function(Se,Re){for(var it=1,ot=1,St=0,Rt=[];St<Se.length;){var zt=[Se,St,it,ot],pt=se.apply(void 0,zt);if(pt){St=pt.index,it=pt.line,ot=pt.column;continue}var rr=we.apply(void 0,zt)||xe.apply(void 0,zt)||De.apply(void 0,zt)||Fe.apply(void 0,zt);if(rr){var gn={type:rr.type,value:rr.value,loc:s(it,ot,St,rr.line,rr.column,rr.index,Re.source)};Rt.push(gn),St=rr.index,it=rr.line,ot=rr.column}else E(K.unexpectedSymbol(a(Se,St,St+1),Re.source,it,ot),Se,Re.source,it,ot)}return Rt},Qe={_START_:0,OPEN_OBJECT:1,PROPERTY:2,COMMA:3},ge={_START_:0,KEY:1,COLON:2},yt={_START_:0,OPEN_ARRAY:1,VALUE:2,COMMA:3},wt={loc:!0,source:null};function st(pe,Se,Re){var it=Se.length>0?Se[Se.length-1].loc.end:{line:1,column:1};E(O.unexpectedEnd(),pe,Re.source,it.line,it.column)}function mt(pe){for(var Se=0,Re=0;Re<4;Re++)Se=Se*16+parseInt(pe[Re],16);return String.fromCharCode(Se)}var ze={b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},He=['"',"\\","/"];function Ve(pe){for(var Se="",Re=0;Re<pe.length;Re++){var it=pe.charAt(Re);if(it==="\\"){Re++;var ot=pe.charAt(Re);if(ot==="u")Se+=mt(pe.substr(Re+1,4)),Re+=4;else if(He.indexOf(ot)!==-1)Se+=ot;else if(ot in ze)Se+=ze[ot];else break}else Se+=it}return Se}function Vt(pe,Se,Re,it){for(var ot=void 0,St={type:"Object",children:[]},Rt=Qe._START_;Re<Se.length;){var zt=Se[Re];switch(Rt){case Qe._START_:{if(zt.type===D.LEFT_BRACE)ot=zt,Rt=Qe.OPEN_OBJECT,Re++;else return null;break}case Qe.OPEN_OBJECT:{if(zt.type===D.RIGHT_BRACE)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};var pt=Yt(pe,Se,Re,it);St.children.push(pt.value),Rt=Qe.PROPERTY,Re=pt.index;break}case Qe.PROPERTY:{if(zt.type===D.RIGHT_BRACE)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};zt.type===D.COMMA?(Rt=Qe.COMMA,Re++):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case Qe.COMMA:{var rr=Yt(pe,Se,Re,it);rr?(Re=rr.index,St.children.push(rr.value),Rt=Qe.PROPERTY):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}}}st(pe,Se,it)}function Yt(pe,Se,Re,it){for(var ot=void 0,St={type:"Property",key:null,value:null},Rt=ge._START_;Re<Se.length;){var zt=Se[Re];switch(Rt){case ge._START_:{if(zt.type===D.STRING){var pt={type:"Identifier",value:Ve(pe.slice(zt.loc.start.offset+1,zt.loc.end.offset-1)),raw:zt.value};it.loc&&(pt.loc=zt.loc),ot=zt,St.key=pt,Rt=ge.KEY,Re++}else return null;break}case ge.KEY:{zt.type===D.COLON?(Rt=ge.COLON,Re++):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case ge.COLON:{var rr=Qt(pe,Se,Re,it);return St.value=rr.value,it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,rr.value.loc.end.line,rr.value.loc.end.column,rr.value.loc.end.offset,it.source)),{value:St,index:rr.index}}}}}function vt(pe,Se,Re,it){for(var ot=void 0,St={type:"Array",children:[]},Rt=yt._START_,zt=void 0;Re<Se.length;)switch(zt=Se[Re],Rt){case yt._START_:{if(zt.type===D.LEFT_BRACKET)ot=zt,Rt=yt.OPEN_ARRAY,Re++;else return null;break}case yt.OPEN_ARRAY:{if(zt.type===D.RIGHT_BRACKET)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};var pt=Qt(pe,Se,Re,it);Re=pt.index,St.children.push(pt.value),Rt=yt.VALUE;break}case yt.VALUE:{if(zt.type===D.RIGHT_BRACKET)return it.loc&&(St.loc=s(ot.loc.start.line,ot.loc.start.column,ot.loc.start.offset,zt.loc.end.line,zt.loc.end.column,zt.loc.end.offset,it.source)),{value:St,index:Re+1};zt.type===D.COMMA?(Rt=yt.COMMA,Re++):E(O.unexpectedToken(a(pe,zt.loc.start.offset,zt.loc.end.offset),it.source,zt.loc.start.line,zt.loc.start.column),pe,it.source,zt.loc.start.line,zt.loc.start.column);break}case yt.COMMA:{var rr=Qt(pe,Se,Re,it);Re=rr.index,St.children.push(rr.value),Rt=yt.VALUE;break}}st(pe,Se,it)}function $t(pe,Se,Re,it){var ot=Se[Re],St=null;switch(ot.type){case D.STRING:{St=Ve(pe.slice(ot.loc.start.offset+1,ot.loc.end.offset-1));break}case D.NUMBER:{St=Number(ot.value);break}case D.TRUE:{St=!0;break}case D.FALSE:{St=!1;break}case D.NULL:{St=null;break}default:return null}var Rt={type:"Literal",value:St,raw:ot.value};return it.loc&&(Rt.loc=ot.loc),{value:Rt,index:Re+1}}function Qt(pe,Se,Re,it){var ot=Se[Re],St=$t.apply(void 0,arguments)||Vt.apply(void 0,arguments)||vt.apply(void 0,arguments);if(St)return St;E(O.unexpectedToken(a(pe,ot.loc.start.offset,ot.loc.end.offset),it.source,ot.loc.start.line,ot.loc.start.column),pe,it.source,ot.loc.start.line,ot.loc.start.column)}var ke=function(pe,Se){Se=Object.assign({},wt,Se);var Re=he(pe,Se);Re.length===0&&st(pe,Re,Se);var it=Qt(pe,Re,0,Se);if(it.index===Re.length)return it.value;var ot=Re[it.index];E(O.unexpectedToken(a(pe,ot.loc.start.offset,ot.loc.end.offset),Se.source,ot.loc.start.line,ot.loc.start.column),pe,Se.source,ot.loc.start.line,ot.loc.start.column)};return ke})})(TG);var age=TG.exports;const sge=Ba(age);function En(){var e="/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",t="a994e12e3e6547813b669a430e6cb42da5d99bba",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts",statementMap:{0:{start:{line:5,column:0},end:{line:10,column:3}},1:{start:{line:6,column:2},end:{line:9,column:4}},2:{start:{line:11,column:0},end:{line:26,column:3}},3:{start:{line:12,column:16},end:{line:12,column:18}},4:{start:{line:13,column:2},end:{line:20,column:4}},5:{start:{line:14,column:16},end:{line:14,column:24}},6:{start:{line:15,column:4},end:{line:19,column:7}},7:{start:{line:21,column:2},end:{line:24,column:3}},8:{start:{line:22,column:4},end:{line:22,column:25}},9:{start:{line:25,column:2},end:{line:25,column:15}},10:{start:{line:27,column:0},end:{line:134,column:3}},11:{start:{line:28,column:16},end:{line:28,column:18}},12:{start:{line:29,column:21},end:{line:29,column:29}},13:{start:{line:30,column:22},end:{line:30,column:26}},14:{start:{line:31,column:2},end:{line:38,column:4}},15:{start:{line:32,column:16},end:{line:32,column:24}},16:{start:{line:33,column:4},end:{line:37,column:7}},17:{start:{line:39,column:2},end:{line:42,column:3}},18:{start:{line:40,column:4},end:{line:40,column:23}},19:{start:{line:43,column:2},end:{line:45,column:3}},20:{start:{line:44,column:4},end:{line:44,column:17}},21:{start:{line:46,column:14},end:{line:46,column:29}},22:{start:{line:47,column:16},end:{line:47,column:32}},23:{start:{line:49,column:4},end:{line:69,column:5}},24:{start:{line:50,column:6},end:{line:50,column:20}},25:{start:{line:51,column:11},end:{line:69,column:5}},26:{start:{line:52,column:6},end:{line:52,column:18}},27:{start:{line:53,column:11},end:{line:69,column:5}},28:{start:{line:54,column:6},end:{line:54,column:20}},29:{start:{line:56,column:18},end:{line:56,column:25}},30:{start:{line:58,column:6},end:{line:67,column:7}},31:{start:{line:59,column:8},end:{line:59,column:41}},32:{start:{line:61,column:8},end:{line:63,column:11}},33:{start:{line:62,column:10},end:{line:62,column:101}},34:{start:{line:64,column:8},end:{line:66,column:9}},35:{start:{line:65,column:10},end:{line:65,column:34}},36:{start:{line:68,column:6},end:{line:68,column:63}},37:{start:{line:71,column:12},end:{line:71,column:16}},38:{start:{line:72,column:2},end:{line:103,column:3}},39:{start:{line:73,column:19},end:{line:83,column:6}},40:{start:{line:84,column:4},end:{line:98,column:5}},41:{start:{line:85,column:6},end:{line:97,column:8}},42:{start:{line:88,column:10},end:{line:88,column:76}},43:{start:{line:90,column:34},end:{line:90,column:85}},44:{start:{line:91,column:10},end:{line:95,column:12}},45:{start:{line:99,column:9},end:{line:103,column:3}},46:{start:{line:100,column:4},end:{line:100,column:56}},47:{start:{line:102,column:4},end:{line:102,column:50}},48:{start:{line:104,column:2},end:{line:132,column:3}},49:{start:{line:105,column:19},end:{line:105,column:28}},50:{start:{line:106,column:4},end:{line:131,column:7}},51:{start:{line:107,column:31},end:{line:107,column:36}},52:{start:{line:108,column:6},end:{line:130,column:7}},53:{start:{line:109,column:31},end:{line:109,column:64}},54:{start:{line:110,column:20},end:{line:114,column:9}},55:{start:{line:115,column:8},end:{line:115,column:24}},56:{start:{line:116,column:13},end:{line:130,column:7}},57:{start:{line:117,column:21},end:{line:117,column:83}},58:{start:{line:118,column:28},end:{line:118,column:64}},59:{start:{line:119,column:8},end:{line:122,column:9}},60:{start:{line:120,column:10},end:{line:120,column:69}},61:{start:{line:121,column:10},end:{line:121,column:17}},62:{start:{line:123,column:24},end:{line:123,column:35}},63:{start:{line:124,column:31},end:{line:124,column:34}},64:{start:{line:125,column:8},end:{line:129,column:11}},65:{start:{line:133,column:2},end:{line:133,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:29},end:{line:5,column:30}},loc:{start:{line:5,column:55},end:{line:10,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:52},end:{line:26,column:1}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:13,column:31},end:{line:13,column:32}},loc:{start:{line:13,column:46},end:{line:20,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:41},end:{line:27,column:42}},loc:{start:{line:27,column:62},end:{line:134,column:1}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:31,column:22},end:{line:31,column:23}},loc:{start:{line:31,column:37},end:{line:38,column:3}},line:31},5:{name:"getArrayPositionalFromAst",decl:{start:{line:48,column:11},end:{line:48,column:36}},loc:{start:{line:48,column:49},end:{line:70,column:3}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:61,column:37},end:{line:61,column:38}},loc:{start:{line:61,column:52},end:{line:63,column:9}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:87,column:29},end:{line:87,column:30}},loc:{start:{line:87,column:38},end:{line:89,column:9}},line:87},8:{name:"(anonymous_8)",decl:{start:{line:89,column:15},end:{line:89,column:16}},loc:{start:{line:89,column:24},end:{line:96,column:9}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:106,column:19},end:{line:106,column:20}},loc:{start:{line:106,column:30},end:{line:131,column:5}},line:106}},branchMap:{0:{loc:{start:{line:43,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:43,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:43},1:{loc:{start:{line:49,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:69,column:5}},{start:{line:51,column:11},end:{line:69,column:5}}],line:49},2:{loc:{start:{line:51,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:51,column:11},end:{line:69,column:5}},{start:{line:53,column:11},end:{line:69,column:5}}],line:51},3:{loc:{start:{line:53,column:11},end:{line:69,column:5}},type:"if",locations:[{start:{line:53,column:11},end:{line:69,column:5}},{start:{line:55,column:11},end:{line:69,column:5}}],line:53},4:{loc:{start:{line:58,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:58,column:6},end:{line:67,column:7}},{start:{line:60,column:13},end:{line:67,column:7}}],line:58},5:{loc:{start:{line:62,column:17},end:{line:62,column:100}},type:"binary-expr",locations:[{start:{line:62,column:17},end:{line:62,column:30}},{start:{line:62,column:34},end:{line:62,column:69}},{start:{line:62,column:73},end:{line:62,column:100}}],line:62},6:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},7:{loc:{start:{line:72,column:2},end:{line:103,column:3}},type:"if",locations:[{start:{line:72,column:2},end:{line:103,column:3}},{start:{line:99,column:9},end:{line:103,column:3}}],line:72},8:{loc:{start:{line:84,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:98,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:84},9:{loc:{start:{line:99,column:9},end:{line:103,column:3}},type:"if",locations:[{start:{line:99,column:9},end:{line:103,column:3}},{start:{line:101,column:9},end:{line:103,column:3}}],line:99},10:{loc:{start:{line:104,column:2},end:{line:132,column:3}},type:"if",locations:[{start:{line:104,column:2},end:{line:132,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},11:{loc:{start:{line:108,column:6},end:{line:130,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:130,column:7}},{start:{line:116,column:13},end:{line:130,column:7}}],line:108},12:{loc:{start:{line:116,column:13},end:{line:130,column:7}},type:"if",locations:[{start:{line:116,column:13},end:{line:130,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:116},13:{loc:{start:{line:119,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:122,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/codemirror-mgl.ts"],names:[],mappings:"AACA,OAAO,cAAc;AACrB,OAAO,gBAAiC;AACxC,OAAO,eAAe;AACtB,SAAQ,YAAY,wBAAuB;AAK3C,WAAW,WAAW,OAAO,CAAC,QAAQ,iBAAiB;AAErD,SAAO,WAAW,MAAM;AAAA,IACtB,EAAC,GAAG,QAAQ,MAAM,KAAI;AAAA,IACtB;AAAA,EACF;AACF,CAAC;AAED,WAAW,eAAe,QAAQ,QAAQ,CAAC,SAAiB;AAC1D,QAAM,QAAkC,CAAC;AAKzC,EAAC,SAAiB,OAAO,aAAa,CAAC,KAAa,SAAc;AAChE,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAS,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MAC5D,IAAS,WAAW,IAAI,IAAI,YAAa,GAAG,IAAI,WAAW;AAAA,MAC3D,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA,MAAI;AACF,aAAS,MAAM,IAAI;AAAA,EACrB,SACM,GAAG;AAAA,EAET;AACA,SAAO;AACT,CAAC;AAED,WAAW,eAAe,QAAQ,OAAO,CAAC,MAAc,MAAW,QAAa;AAC9E,QAAM,QAAkC,CAAC;AACzC,QAAM,EAAC,OAAM,IAAI;AACjB,QAAM,EAAC,QAAO,IAAI;AAElB,SAAO,aAAa,CAAC,KAAa,SAAc;AAC9C,UAAM,MAAM,KAAK;AACjB,UAAM,KAAK;AAAA,MACT,MAAM,WAAW,IAAI,IAAI,aAAa,GAAG,IAAI,YAAY;AAAA,MACzD,IAAI,WAAW,IAAI,IAAI,YAAY,GAAG,IAAI,WAAW;AAAA,MACrD,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AACA,MAAI;AACF,WAAO,MAAM,IAAI;AAAA,EACnB,SACO,GAAG;AAAA,EAEV;AAEA,MAAI,MAAM,SAAS,GAAG;AAEpB,WAAO;AAAA,EACT;AAEA,QAAM,MAAM,UAAU,IAAI;AAC1B,QAAM,QAAQ,KAAK,MAAM,IAAI;AAE7B,WAAS,0BAA0B,MAAW,MAAgB;AAC5D,QAAI,CAAC,MAAM;AACT,aAAO;AAAA,IACT,WACS,KAAK,SAAS,GAAG;AACxB,aAAO;AAAA,IACT,WACS,CAAC,KAAK,UAAU;AACvB,aAAO;AAAA,IACT,OACK;AACH,YAAM,MAAM,KAAK,CAAC;AAClB,UAAI;AACJ,UAAI,IAAI,MAAM,UAAU,GAAG;AACzB,kBAAU,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,MACjC,OACK;AACH,kBAAU,KAAK,SAAS,KAAK,CAAC,cAAmB;AAC/C,iBACE,UAAU,OACV,UAAU,IAAI,SAAS,gBACvB,UAAU,IAAI,UAAU;AAAA,QAE5B,CAAC;AACD,YAAI,SAAS;AACX,oBAAU,QAAQ;AAAA,QACpB;AAAA,MACF;AACA,aAAO,0BAA0B,SAAS,KAAK,MAAM,CAAC,CAAC;AAAA,IACzD;AAAA,EACF;AAEA,MAAI,MAA6D;AACjE,MAAI,YAAY,SAAS;AAEvB,UAAM,SAAS,iBAAiB;AAAA,MAC9B,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,YAAY,CAAC;AAAA,MACb,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,QAAQ;AACV,YAAM;AAAA,QACJ,QAAQ;AAAA,QACR,OAAO,OACJ,OAAO,SAAO;AAEb,iBAAO,CAAC,IAAI,QAAQ,MAAM,sCAAsC;AAAA,QAClE,CAAC,EACA,IAAI,SAAO;AAEV,gBAAM,kBAAkB,IAAI,QAAQ,QAAQ,iBAAiB,EAAE,EAAE,MAAM,GAAG;AAC1E,iBAAO;AAAA,YACL,MAAM;AAAA,YACN,KAAK,gBAAgB,CAAC;AAAA,YACtB,SAAS,gBAAgB,CAAC;AAAA,UAC5B;AAAA,QACF,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,WACS,YAAY,cAAc;AACjC,UAAM,WAAW,iBAAiB,OAAO,KAAK,IAAI;AAAA,EACpD,OACK;AACH,UAAM,IAAI,MAAM,mBAAmB,OAAO,EAAE;AAAA,EAC9C;AAEA,MAAI,KAAK,WAAW,SAAS;AAC3B,UAAM,SAAS,IAAI;AACnB,WAAO,QAAQ,WAAS;AACtB,YAAM,EAAC,KAAK,QAAO,IAAI;AAEvB,UAAI,CAAC,KAAK;AACR,cAAM,iBAAiB,IAAI,cAAc,IAAI,SAAS,CAAC;AACvD,cAAM,MAAM;AAAA,UACV,MAAM,WAAW,IAAI,IAAI,UAAU,GAAG,CAAC;AAAA,UACvC,IAAI,WAAW,IAAI,IAAI,SAAS,GAAG,eAAe,KAAK,MAAM;AAAA,UAC7D;AAAA,QACF;AACA,cAAM,KAAK,GAAG;AAAA,MAChB,WACS,KAAK;AACZ,cAAM,OAAO,IAAI,QAAQ,YAAY,EAAE,EAAE,MAAM,WAAW,EAAE,OAAO,OAAO;AAC1E,cAAM,cAAc,0BAA0B,KAAK,IAAI;AACvD,YAAI,CAAC,aAAa;AAChB,kBAAQ,KAAK,uCAAuC,KAAK;AACzD;AAAA,QACF;AAEA,cAAM,EAAC,IAAG,IAAI;AACd,cAAM,EAAC,OAAO,IAAG,IAAI;AAErB,cAAM,KAAK;AAAA,UACT,MAAM,WAAW,IAAI,MAAM,OAAO,GAAG,MAAM,MAAM;AAAA,UACjD,IAAI,WAAW,IAAI,IAAI,OAAO,GAAG,IAAI,MAAM;AAAA,UAC3C;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a994e12e3e6547813b669a430e6cb42da5d99bba"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return En=function(){return a},a}En();En().s[0]++;Yc.defineMode("mgl",(e,t)=>(En().f[0]++,En().s[1]++,Yc.modes.javascript({...e,json:!0},t)));En().s[2]++;Yc.registerHelper("lint","json",e=>{En().f[1]++;const t=(En().s[3]++,[]);En().s[4]++,dB.parser.parseError=(n,r)=>{En().f[2]++;const i=(En().s[5]++,r.loc);En().s[6]++,t.push({from:Yc.Pos(i.first_line-1,i.first_column),to:Yc.Pos(i.last_line-1,i.last_column),message:n})},En().s[7]++;try{En().s[8]++,dB.parse(e)}catch{}return En().s[9]++,t});En().s[10]++;Yc.registerHelper("lint","mgl",(e,t,n)=>{En().f[3]++;const r=(En().s[11]++,[]),{parser:i}=(En().s[12]++,dB),{context:o}=(En().s[13]++,t);En().s[14]++,i.parseError=(_,E)=>{En().f[4]++;const O=(En().s[15]++,E.loc);En().s[16]++,r.push({from:Yc.Pos(O.first_line-1,O.first_column),to:Yc.Pos(O.last_line-1,O.last_column),message:_})},En().s[17]++;try{En().s[18]++,i.parse(e)}catch{}if(En().s[19]++,r.length>0)return En().b[0][0]++,En().s[20]++,r;En().b[0][1]++;const a=(En().s[21]++,sge(e)),s=(En().s[22]++,JSON.parse(e));function h(_,E){if(En().f[5]++,En().s[23]++,_){if(En().b[1][1]++,En().s[25]++,E.length<1)return En().b[2][0]++,En().s[26]++,_;if(En().b[2][1]++,En().s[27]++,_.children){En().b[3][1]++;const O=(En().s[29]++,E[0]);let K;return En().s[30]++,O.match(/^[0-9]+$/)?(En().b[4][0]++,En().s[31]++,K=_.children[E[0]]):(En().b[4][1]++,En().s[32]++,K=_.children.find(D=>(En().f[6]++,En().s[33]++,En().b[5][0]++,D.key&&(En().b[5][1]++,D.key.type==="Identifier")&&(En().b[5][2]++,D.key.value===O))),En().s[34]++,K?(En().b[6][0]++,En().s[35]++,K=K.value):En().b[6][1]++),En().s[36]++,h(K,E.slice(1))}else{En().b[3][0]++,En().s[28]++;return}}else{En().b[1][0]++,En().s[24]++;return}}let g=(En().s[37]++,null);if(En().s[38]++,o==="layer"){En().b[7][0]++;const _=(En().s[39]++,Qd({version:8,name:"Empty Style",metadata:{},sources:{},sprite:"",glyphs:"https://example.com/glyphs/{fontstack}/{range}.pbf",layers:[s]}));En().s[40]++,_?(En().b[8][0]++,En().s[41]++,g={result:"error",value:_.filter(E=>(En().f[7]++,En().s[42]++,!E.message.match(/^layers\[0\]: source ".*" not found$/))).map(E=>{En().f[8]++;const O=(En().s[43]++,E.message.replace(/^layers\[0\]./,"").split(":"));return En().s[44]++,{name:"",key:O[0],message:O[1]}})}):En().b[8][1]++}else if(En().b[7][1]++,En().s[45]++,o==="expression")En().b[9][0]++,En().s[46]++,g=nte.createExpression(s,t.spec);else throw En().b[9][1]++,En().s[47]++,new Error(`Invalid context ${o}`);if(En().s[48]++,(g==null?void 0:g.result)==="error"){En().b[10][0]++;const _=(En().s[49]++,g.value);En().s[50]++,_.forEach(E=>{En().f[9]++;const{key:O,message:K}=(En().s[51]++,E);if(En().s[52]++,O)if(En().b[11][1]++,En().s[56]++,O){En().b[12][0]++;const D=(En().s[57]++,O.replace(/^\[|\]$/g,"").split(/\.|[[\]]+/).filter(Boolean)),Y=(En().s[58]++,h(a,D));if(En().s[59]++,Y)En().b[13][1]++;else{En().b[13][0]++,En().s[60]++,console.warn("Something went wrong parsing error:",E),En().s[61]++;return}const{loc:ee}=(En().s[62]++,Y),{start:H,end:N}=(En().s[63]++,ee);En().s[64]++,r.push({from:Yc.Pos(H.line-1,H.column),to:Yc.Pos(N.line-1,N.column),message:K})}else En().b[12][1]++;else{En().b[11][0]++;const D=(En().s[53]++,n.getLineHandle(n.lastLine())),Y=(En().s[54]++,{from:Yc.Pos(n.firstLine(),0),to:Yc.Pos(n.lastLine(),D.text.length),message:K});En().s[55]++,r.push(Y)}})}else En().b[10][1]++;return En().s[65]++,r});function Fn(){var e="/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",t="73341c4954366276bd838a194b53fa026df00a42",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx",statementMap:{0:{start:{line:13,column:24},end:{line:28,column:3}},1:{start:{line:18,column:6},end:{line:18,column:65}},2:{start:{line:31,column:8},end:{line:31,column:12}},3:{start:{line:32,column:22},end:{line:32,column:27}},4:{start:{line:34,column:4},end:{line:34,column:17}},5:{start:{line:35,column:4},end:{line:35,column:32}},6:{start:{line:36,column:4},end:{line:40,column:6}},7:{start:{line:43,column:4},end:{line:59,column:7}},8:{start:{line:60,column:4},end:{line:60,column:42}},9:{start:{line:61,column:4},end:{line:61,column:40}},10:{start:{line:62,column:4},end:{line:62,column:38}},11:{start:{line:64,column:18},end:{line:66,column:3}},12:{start:{line:65,column:4},end:{line:65,column:31}},13:{start:{line:67,column:12},end:{line:74,column:3}},14:{start:{line:68,column:4},end:{line:69,column:27}},15:{start:{line:69,column:6},end:{line:69,column:27}},16:{start:{line:70,column:4},end:{line:73,column:7}},17:{start:{line:75,column:11},end:{line:83,column:3}},18:{start:{line:76,column:4},end:{line:76,column:32}},19:{start:{line:77,column:4},end:{line:78,column:26}},20:{start:{line:78,column:6},end:{line:78,column:26}},21:{start:{line:79,column:4},end:{line:82,column:7}},22:{start:{line:85,column:4},end:{line:85,column:43}},23:{start:{line:86,column:4},end:{line:86,column:41}},24:{start:{line:87,column:4},end:{line:87,column:39}},25:{start:{line:90,column:4},end:{line:95,column:5}},26:{start:{line:91,column:6},end:{line:91,column:36}},27:{start:{line:92,column:6},end:{line:94,column:8}},28:{start:{line:97,column:13},end:{line:126,column:3}},29:{start:{line:98,column:4},end:{line:104,column:5}},30:{start:{line:99,column:6},end:{line:99,column:37}},31:{start:{line:100,column:6},end:{line:102,column:9}},32:{start:{line:103,column:6},end:{line:103,column:13}},33:{start:{line:105,column:20},end:{line:105,column:40}},34:{start:{line:106,column:4},end:{line:122,column:5}},35:{start:{line:108,column:6},end:{line:113,column:7}},36:{start:{line:109,column:8},end:{line:109,column:42}},37:{start:{line:111,column:8},end:{line:111,column:19}},38:{start:{line:112,column:8},end:{line:112,column:27}},39:{start:{line:114,column:6},end:{line:121,column:7}},40:{start:{line:115,column:8},end:{line:115,column:35}},41:{start:{line:117,column:8},end:{line:118,column:43}},42:{start:{line:118,column:10},end:{line:118,column:43}},43:{start:{line:119,column:8},end:{line:120,column:35}},44:{start:{line:120,column:10},end:{line:120,column:35}},45:{start:{line:123,column:4},end:{line:125,column:7}},46:{start:{line:128,column:28},end:{line:128,column:38}},47:{start:{line:129,column:18},end:{line:129,column:20}},48:{start:{line:130,column:4},end:{line:132,column:5}},49:{start:{line:131,column:6},end:{line:131,column:45}},50:{start:{line:133,column:4},end:{line:147,column:9}},51:{start:{line:143,column:23},end:{line:143,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:24},end:{line:19,column:5}},line:17},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:21,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:12},end:{line:22,column:13}},loc:{start:{line:22,column:18},end:{line:23,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:24,column:19},end:{line:24,column:20}},loc:{start:{line:24,column:25},end:{line:25,column:5}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:26,column:17},end:{line:26,column:18}},loc:{start:{line:26,column:23},end:{line:27,column:5}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:21},end:{line:41,column:3}},line:33},6:{name:"(anonymous_6)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:22},end:{line:63,column:3}},line:42},7:{name:"(anonymous_7)",decl:{start:{line:64,column:18},end:{line:64,column:19}},loc:{start:{line:64,column:24},end:{line:66,column:3}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:67,column:12},end:{line:67,column:13}},loc:{start:{line:67,column:18},end:{line:74,column:3}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:75,column:11},end:{line:75,column:12}},loc:{start:{line:75,column:17},end:{line:83,column:3}},line:75},10:{name:"(anonymous_10)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:25},end:{line:88,column:3}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:89,column:2},end:{line:89,column:3}},loc:{start:{line:89,column:32},end:{line:96,column:3}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:13},end:{line:97,column:14}},loc:{start:{line:97,column:21},end:{line:126,column:3}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:11},end:{line:148,column:3}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:143,column:15},end:{line:143,column:16}},loc:{start:{line:143,column:23},end:{line:143,column:36}},line:143}},branchMap:{0:{loc:{start:{line:45,column:12},end:{line:47,column:7}},type:"binary-expr",locations:[{start:{line:45,column:12},end:{line:45,column:27}},{start:{line:45,column:31},end:{line:47,column:7}}],line:45},1:{loc:{start:{line:53,column:12},end:{line:55,column:7}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:27}},{start:{line:53,column:31},end:{line:55,column:7}}],line:53},2:{loc:{start:{line:68,column:4},end:{line:69,column:27}},type:"if",locations:[{start:{line:68,column:4},end:{line:69,column:27}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:68},3:{loc:{start:{line:77,column:4},end:{line:78,column:26}},type:"if",locations:[{start:{line:77,column:4},end:{line:78,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},4:{loc:{start:{line:90,column:4},end:{line:95,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:95,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},5:{loc:{start:{line:90,column:8},end:{line:90,column:69}},type:"binary-expr",locations:[{start:{line:90,column:8},end:{line:90,column:29}},{start:{line:90,column:33},end:{line:90,column:69}}],line:90},6:{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},7:{loc:{start:{line:106,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:122,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:106},8:{loc:{start:{line:114,column:6},end:{line:121,column:7}},type:"if",locations:[{start:{line:114,column:6},end:{line:121,column:7}},{start:{line:116,column:13},end:{line:121,column:7}}],line:114},9:{loc:{start:{line:114,column:10},end:{line:114,column:41}},type:"binary-expr",locations:[{start:{line:114,column:10},end:{line:114,column:13}},{start:{line:114,column:17},end:{line:114,column:41}}],line:114},10:{loc:{start:{line:117,column:8},end:{line:118,column:43}},type:"if",locations:[{start:{line:117,column:8},end:{line:118,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:117},11:{loc:{start:{line:119,column:8},end:{line:120,column:35}},type:"if",locations:[{start:{line:119,column:8},end:{line:120,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:119},12:{loc:{start:{line:130,column:4},end:{line:132,column:5}},type:"if",locations:[{start:{line:130,column:4},end:{line:132,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputJson.tsx"],names:[],mappings:"AAqKM,SACQ,KADR;AArKN,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,OAAO,gBAA8B;AAErC,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO;AACP,OAAO,qBAAqB;AAC5B,OAAO;AA0BP,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,OAAO,eAAe;AAAA,IACpB,aAAa;AAAA,IACb,cAAc;AAAA,IACd,SAAS,CAAC,yBAAyB;AAAA,IACnC,UAAU,CAAC,SAAc;AACvB,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,IACf,eAAe,MAAM;AAAA,IAAC;AAAA,IACtB,aAAa,MAAM;AAAA,IAAC;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAA6B;AAAA,EAC7B,oBAA6B;AAAA,EAE7B,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,MACX,aAAa;AAAA,MACb,WAAW,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,IAClD;AAAA,EACF;AAAA,EAEA,oBAAqB;AACnB,SAAK,OAAO,WAAW,KAAK,KAAM;AAAA,MAChC,OAAO,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MAC5C,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,MACA,cAAc,KAAK,MAAM;AAAA,MACzB,SAAS;AAAA,MACT,OAAO;AAAA,MACP,gBAAgB;AAAA,MAChB,aAAa,KAAK,MAAM;AAAA,MACxB,MAAM,KAAK,MAAM,QAAQ;AAAA,QACvB,SAAS;AAAA,MACX;AAAA,MACA,eAAe;AAAA,MACf,SAAS,KAAK,MAAM;AAAA,MACpB,gBAAgB;AAAA,IAClB,CAAC;AAED,SAAK,KAAK,GAAG,UAAU,KAAK,QAAQ;AACpC,SAAK,KAAK,GAAG,SAAS,KAAK,OAAO;AAClC,SAAK,KAAK,GAAG,QAAQ,KAAK,MAAM;AAAA,EAClC;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,UAAU,MAAM;AACd,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ;AAC3C,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAc,KAAK,cAAc;AAAA,IACnC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACb,SAAK,YAAY;AACjB,QAAI,KAAK,MAAM;AAAQ,WAAK,MAAM,OAAO;AACzC,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,aAAa;AAAA,IACf,CAAC;AAAA,EACH;AAAA,EAEA,uBAAwB;AACtB,SAAK,KAAM,IAAI,UAAU,KAAK,QAAQ;AACtC,SAAK,KAAM,IAAI,SAAS,KAAK,OAAO;AACpC,SAAK,KAAM,IAAI,QAAQ,KAAK,MAAM;AAAA,EACpC;AAAA,EAEA,mBAAmB,WAA2B;AAC5C,QAAI,CAAC,KAAK,MAAM,aAAa,UAAU,UAAU,KAAK,MAAM,OAAO;AACjE,WAAK,oBAAoB;AACzB,WAAK,KAAM;AAAA,QACT,KAAK,MAAM,SAAU,KAAK,MAAM,KAAK;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAgB;AAC1B,QAAI,KAAK,mBAAmB;AAC1B,WAAK,oBAAoB;AACzB,WAAK,SAAS;AAAA,QACZ,WAAW,KAAK,KAAM,SAAS;AAAA,MACjC,CAAC;AACD;AAAA,IACF;AACA,UAAM,UAAU,KAAK,KAAM,SAAS;AAEpC,QAAI,KAAK,MAAM,cAAc,SAAS;AACpC,UAAI,aAAa;AACjB,UAAI;AACF,sBAAc,KAAK,MAAM,OAAO;AAAA,MAClC,SAAQ,MAAM;AACZ,cAAM;AACN,gBAAQ,KAAK,IAAI;AAAA,MACnB;AAEA,UAAI,OAAO,KAAK,MAAM,eAAe;AACnC,aAAK,MAAM,cAAc;AAAA,MAC3B,OACK;AACH,YAAI,KAAK,MAAM;AAAU,eAAK,MAAM,SAAS,WAAW;AACxD,YAAI,KAAK,MAAM;AAAa,eAAK,MAAM,YAAY;AAAA,MACrD;AAAA,IACF;AAEA,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,YAAW,IAAI,KAAK;AAC3B,UAAM,QAAQ,CAAC;AACf,QAAI,KAAK,MAAM,WAAW;AACxB,YAAM,YAAY,KAAK,MAAM;AAAA,IAC/B;AAEA,WAAO,qBAAC,SAAI,WAAU,cAAa,eAAe,KAAK,eAAe,eAAY,QAChF;AAAA,2BAAC,SAAI,WAAW,WAAW,uBAAuB,EAAC,2BAA2B,YAAW,CAAC,GAAG;AAAA;AAAA,QACrF,oBAAC,SAAI,iBAAG;AAAA,QAAM;AAAA,SACtB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAW,WAAW,wBAAwB,KAAK,MAAM,SAAS;AAAA,UAClE,KAAK,CAAC,OAAO,KAAK,MAAM;AAAA,UACxB;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"73341c4954366276bd838a194b53fa026df00a42"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fn=function(){return a},a}Fn();class PG extends Mn.Component{constructor(n){Fn().f[5]++,Fn().s[4]++;super(n);on(this,"_keyEvent");on(this,"_doc");on(this,"_el",(Fn().s[2]++,null));on(this,"_cancelNextChange",(Fn().s[3]++,!1));on(this,"onPointerDown",(Fn().s[11]++,()=>{Fn().f[7]++,Fn().s[12]++,this._keyEvent="pointer"}));on(this,"onFocus",(Fn().s[13]++,()=>{Fn().f[8]++,Fn().s[14]++,this.props.onFocus?(Fn().b[2][0]++,Fn().s[15]++,this.props.onFocus()):Fn().b[2][1]++,Fn().s[16]++,this.setState({isEditing:!0,showMessage:this._keyEvent==="keyboard"})}));on(this,"onBlur",(Fn().s[17]++,()=>{Fn().f[9]++,Fn().s[18]++,this._keyEvent="keyboard",Fn().s[19]++,this.props.onBlur?(Fn().b[3][0]++,Fn().s[20]++,this.props.onBlur()):Fn().b[3][1]++,Fn().s[21]++,this.setState({isEditing:!1,showMessage:!1})}));on(this,"onChange",(Fn().s[28]++,n=>{if(Fn().f[12]++,Fn().s[29]++,this._cancelNextChange){Fn().b[6][0]++,Fn().s[30]++,this._cancelNextChange=!1,Fn().s[31]++,this.setState({prevValue:this._doc.getValue()}),Fn().s[32]++;return}else Fn().b[6][1]++;const r=(Fn().s[33]++,this._doc.getValue());if(Fn().s[34]++,this.state.prevValue!==r){Fn().b[7][0]++;let i,o;Fn().s[35]++;try{Fn().s[36]++,i=JSON.parse(r)}catch(a){Fn().s[37]++,o=a,Fn().s[38]++,console.warn(a)}Fn().s[39]++,Fn().b[9][0]++,o&&(Fn().b[9][1]++,this.props.onJSONInvalid)?(Fn().b[8][0]++,Fn().s[40]++,this.props.onJSONInvalid()):(Fn().b[8][1]++,Fn().s[41]++,this.props.onChange?(Fn().b[10][0]++,Fn().s[42]++,this.props.onChange(i)):Fn().b[10][1]++,Fn().s[43]++,this.props.onJSONValid?(Fn().b[11][0]++,Fn().s[44]++,this.props.onJSONValid()):Fn().b[11][1]++)}else Fn().b[7][1]++;Fn().s[45]++,this.setState({prevValue:r})}));Fn().s[5]++,this._keyEvent="keyboard",Fn().s[6]++,this.state={isEditing:!1,showMessage:!1,prevValue:this.props.getValue(this.props.layer)}}componentDidMount(){Fn().f[6]++,Fn().s[7]++,this._doc=Yc(this._el,{value:this.props.getValue(this.props.layer),mode:(Fn().b[0][0]++,this.props.mode||(Fn().b[0][1]++,{name:"mgl"})),lineWrapping:this.props.lineWrapping,tabSize:2,theme:"maputnik",viewportMargin:1/0,lineNumbers:this.props.lineNumbers,lint:(Fn().b[1][0]++,this.props.lint||(Fn().b[1][1]++,{context:"layer"})),matchBrackets:!0,gutters:this.props.gutters,scrollbarStyle:"null"}),Fn().s[8]++,this._doc.on("change",this.onChange),Fn().s[9]++,this._doc.on("focus",this.onFocus),Fn().s[10]++,this._doc.on("blur",this.onBlur)}componentWillUnMount(){Fn().f[10]++,Fn().s[22]++,this._doc.off("change",this.onChange),Fn().s[23]++,this._doc.off("focus",this.onFocus),Fn().s[24]++,this._doc.off("blur",this.onBlur)}componentDidUpdate(n){Fn().f[11]++,Fn().s[25]++,Fn().b[5][0]++,!this.state.isEditing&&(Fn().b[5][1]++,n.layer!==this.props.layer)?(Fn().b[4][0]++,Fn().s[26]++,this._cancelNextChange=!0,Fn().s[27]++,this._doc.setValue(this.props.getValue(this.props.layer))):Fn().b[4][1]++}render(){Fn().f[13]++;const{showMessage:n}=(Fn().s[46]++,this.state),r=(Fn().s[47]++,{});return Fn().s[48]++,this.props.maxHeight?(Fn().b[12][0]++,Fn().s[49]++,r.maxHeight=this.props.maxHeight):Fn().b[12][1]++,Fn().s[50]++,G.jsxs("div",{className:"JSONEditor",onPointerDown:this.onPointerDown,"aria-hidden":"true",children:[G.jsxs("div",{className:Gf("JSONEditor__message",{"JSONEditor__message--on":n}),children:["Press ",G.jsx("kbd",{children:"ESC"})," to lose focus"]}),G.jsx("div",{className:Gf("codemirror-container",this.props.className),ref:i=>(Fn().f[14]++,Fn().s[51]++,this._el=i),style:r})]})}}on(PG,"defaultProps",(Fn().s[0]++,{lineNumbers:!0,lineWrapping:!1,gutters:["CodeMirror-lint-markers"],getValue:n=>(Fn().f[0]++,Fn().s[1]++,IG(n,{indent:2,maxLength:40})),onFocus:()=>{Fn().f[1]++},onBlur:()=>{Fn().f[2]++},onJSONInvalid:()=>{Fn().f[3]++},onJSONValid:()=>{Fn().f[4]++}}));function X4(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",t="60f4cd40e505c4a9f8de1078b77716b10a4a4264",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:6,column:61}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:7,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldJson.tsx"],names:[],mappings:"AASW;AATX,OAAO,WAAW;AAClB,OAAO,eAAiC;AAMxC,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,aAAW,GAAG,KAAK,OAAO;AAAA,EACpC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f4cd40e505c4a9f8de1078b77716b10a4a4264"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return X4=function(){return a},a}X4();class KI extends Mn.Component{render(){return X4().f[0]++,X4().s[0]++,G.jsx(PG,{...this.props})}}var gb="M12.42,5.29C11.32,5.19 10.35,6 10.25,7.11L10,10H12.82V12H9.82L9.38,17.07C9.18,19.27 7.24,20.9 5.04,20.7C3.79,20.59 2.66,19.9 2,18.83L3.5,17.33C3.83,18.38 4.96,18.97 6,18.63C6.78,18.39 7.33,17.7 7.4,16.89L7.82,12H4.82V10H8L8.27,6.93C8.46,4.73 10.39,3.1 12.6,3.28C13.86,3.39 15,4.09 15.66,5.17L14.16,6.67C13.91,5.9 13.23,5.36 12.42,5.29M22,13.65L20.59,12.24L17.76,15.07L14.93,12.24L13.5,13.65L16.35,16.5L13.5,19.31L14.93,20.72L17.76,17.89L20.59,20.72L22,19.31L19.17,16.5L22,13.65Z",lge="M7,10L12,15L17,10H7Z",uge="M7,15L12,10L17,15H7Z",DI="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z";function w1(){var e="/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",t="99dad9631fbee5fc23be2dafaf7c7eea92c38eac",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/filterops.ts",statementMap:{0:{start:{line:2,column:34},end:{line:2,column:56}},1:{start:{line:3,column:28},end:{line:3,column:41}},2:{start:{line:4,column:30},end:{line:4,column:123}},3:{start:{line:4,column:88},end:{line:4,column:122}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:80},end:{line:4,column:81}},loc:{start:{line:4,column:88},end:{line:4,column:122}},line:4}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/filterops.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEZ,aAAM,qBAAqB,CAAC,OAAO,OAAO,MAAM;AAChD,aAAM,eAAe,CAAC,MAAM,KAAK;AACjC,aAAM,iBAAiB,OAC3B,KAAK,OAAO,gBAAgB,MAAM,EAClC,OAAO,QAAM,mBAAmB,QAAQ,EAAE,IAAI,CAAC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"99dad9631fbee5fc23be2dafaf7c7eea92c38eac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return w1=function(){return a},a}w1();const FI=(w1().s[0]++,["all","any","none"]);w1().s[1]++;const Age=(w1().s[2]++,Object.keys(no.filter_operator.values).filter(e=>(w1().f[0]++,w1().s[3]++,FI.indexOf(e)<0)));function Gr(){var e="/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",t="3d8bcd70e58647712bf929f9e6ef3e13fde3cd73",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx",statementMap:{0:{start:{line:8,column:2},end:{line:9,column:13}},1:{start:{line:9,column:4},end:{line:9,column:13}},2:{start:{line:10,column:2},end:{line:11,column:13}},3:{start:{line:11,column:4},end:{line:11,column:13}},4:{start:{line:12,column:2},end:{line:12,column:23}},5:{start:{line:15,column:19},end:{line:15,column:40}},6:{start:{line:16,column:2},end:{line:18,column:3}},7:{start:{line:17,column:4},end:{line:17,column:13}},8:{start:{line:19,column:2},end:{line:25,column:3}},9:{start:{line:20,column:4},end:{line:20,column:16}},10:{start:{line:21,column:9},end:{line:25,column:3}},11:{start:{line:22,column:4},end:{line:22,column:17}},12:{start:{line:24,column:4},end:{line:24,column:13}},13:{start:{line:28,column:2},end:{line:28,column:21}},14:{start:{line:29,column:2},end:{line:29,column:22}},15:{start:{line:30,column:2},end:{line:30,column:11}},16:{start:{line:33,column:24},end:{line:35,column:3}},17:{start:{line:37,column:20},end:{line:37,column:76}},18:{start:{line:38,column:4},end:{line:42,column:5}},19:{start:{line:39,column:6},end:{line:39,column:43}},20:{start:{line:40,column:11},end:{line:42,column:5}},21:{start:{line:41,column:6},end:{line:41,column:47}},22:{start:{line:43,column:4},end:{line:43,column:35}},23:{start:{line:46,column:14},end:{line:46,column:31}},24:{start:{line:47,column:21},end:{line:47,column:25}},25:{start:{line:48,column:25},end:{line:48,column:29}},26:{start:{line:49,column:23},end:{line:49,column:33}},27:{start:{line:50,column:4},end:{line:77,column:9}},28:{start:{line:56,column:72},end:{line:56,column:92}},29:{start:{line:57,column:41},end:{line:57,column:104}},30:{start:{line:65,column:37},end:{line:65,column:100}},31:{start:{line:74,column:27},end:{line:74,column:89}}},fnMap:{0:{name:"tryParseInt",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:24},end:{line:13,column:1}},line:7},1:{name:"tryParseBool",decl:{start:{line:14,column:9},end:{line:14,column:21}},loc:{start:{line:14,column:25},end:{line:26,column:1}},line:14},2:{name:"parseFilter",decl:{start:{line:27,column:9},end:{line:27,column:20}},loc:{start:{line:27,column:24},end:{line:31,column:1}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:58},end:{line:44,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:11},end:{line:78,column:3}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:58},end:{line:56,column:59}},loc:{start:{line:56,column:72},end:{line:56,column:92}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:57,column:20},end:{line:57,column:21}},loc:{start:{line:57,column:41},end:{line:57,column:104}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:37},end:{line:65,column:100}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:74,column:20},end:{line:74,column:21}},loc:{start:{line:74,column:27},end:{line:74,column:89}},line:74}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:9,column:13}},type:"if",locations:[{start:{line:8,column:2},end:{line:9,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:11,column:13}},type:"if",locations:[{start:{line:10,column:2},end:{line:11,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},2:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},3:{loc:{start:{line:19,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:19,column:2},end:{line:25,column:3}},{start:{line:21,column:9},end:{line:25,column:3}}],line:19},4:{loc:{start:{line:21,column:9},end:{line:25,column:3}},type:"if",locations:[{start:{line:21,column:9},end:{line:25,column:3}},{start:{line:23,column:9},end:{line:25,column:3}}],line:21},5:{loc:{start:{line:38,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:42,column:5}},{start:{line:40,column:11},end:{line:42,column:5}}],line:38},6:{loc:{start:{line:38,column:8},end:{line:38,column:49}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:26}},{start:{line:38,column:30},end:{line:38,column:49}}],line:38},7:{loc:{start:{line:40,column:11},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},8:{loc:{start:{line:69,column:6},end:{line:76,column:10}},type:"binary-expr",locations:[{start:{line:69,column:6},end:{line:69,column:27}},{start:{line:69,column:47},end:{line:76,column:10}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SingleFilterEditor.tsx"],names:[],mappings:"AA+DW,SAEH,KAFG;AA/DX,OAAO,WAAW;AAElB,SAAQ,sBAAqB;AAC7B,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AAExB,SAAS,YAAY,GAAoB;AACvC,MAAI,MAAM;AAAI,WAAO;AACrB,MAAI,MAAM,CAAW;AAAG,WAAO;AAC/B,SAAO,WAAW,CAAW;AAC/B;AAEA,SAAS,aAAa,GAAqB;AACzC,QAAM,WAAY,OAAO,MAAO;AAChC,MAAG,CAAC,UAAU;AACZ,WAAO;AAAA,EACT;AAEA,MAAG,EAAE,MAAM,cAAc,GAAG;AAC1B,WAAO;AAAA,EACT,WACQ,EAAE,MAAM,eAAe,GAAG;AAChC,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,YAAY,GAA8B;AACjD,MAAI,YAAY,CAAQ;AACxB,MAAI,aAAa,CAAQ;AACzB,SAAO;AACT;AAQA,qBAAqB,2BAA2B,MAAM,UAAmC;AAAA,EACvF,OAAO,eAAe;AAAA,IACpB,YAAY,CAAC;AAAA,EACf;AAAA,EAEA,oBAAoB,UAAkB,cAAsB,YAAsB;AAChF,QAAI,YAAY,CAAC,UAAU,cAAc,GAAG,WAAW,IAAI,WAAW,CAAC;AACvE,QAAG,aAAa,SAAS,aAAa,QAAQ;AAC5C,kBAAY,CAAC,UAAU,YAAY;AAAA,IACrC,WAAU,WAAW,WAAW,GAAG;AACjC,kBAAY,CAAC,UAAU,cAAc,EAAE;AAAA,IACzC;AACA,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,SAAS;AACP,UAAM,IAAI,KAAK,MAAM;AACrB,UAAM,WAAW,EAAE,CAAC;AACpB,UAAM,eAAe,EAAE,CAAC;AACxB,UAAM,aAAa,EAAE,MAAM,CAAC;AAE5B,WAAO,qBAAC,SAAI,WAAU,iCACpB;AAAA,0BAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS,OAAO,KAAK,KAAK,MAAM,UAAW,EAAE,IAAI,cAAY,CAAC,UAAU,QAAQ,CAAC;AAAA,UACjF,UAAU,CAAC,oBAA4B,KAAK,oBAAoB,UAAU,iBAAiB,UAAU;AAAA;AAAA,MACvG,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,mCACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO;AAAA,UACP,UAAU,CAAC,gBAAwB,KAAK,oBAAoB,aAAa,cAAc,UAAU;AAAA,UACjG,SAAS;AAAA;AAAA,MACX,GACF;AAAA,MACC,WAAW,SAAS,KACrB,oBAAC,SAAI,WAAU,+BACb;AAAA,QAAC;AAAA;AAAA,UACC,cAAW;AAAA,UACX,OAAO,WAAW,KAAK,GAAG;AAAA,UAC1B,UAAU,CAAC,MAAc,KAAK,oBAAoB,UAAU,cAAc,EAAE,MAAM,GAAG,CAAC;AAAA;AAAA,MACxF,GACF;AAAA,OAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3d8bcd70e58647712bf929f9e6ef3e13fde3cd73"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gr=function(){return a},a}Gr();function cge(e){return Gr().f[0]++,Gr().s[0]++,e===""?(Gr().b[0][0]++,Gr().s[1]++,e):(Gr().b[0][1]++,Gr().s[2]++,isNaN(e)?(Gr().b[1][0]++,Gr().s[3]++,e):(Gr().b[1][1]++,Gr().s[4]++,parseFloat(e)))}function dge(e){Gr().f[1]++;const t=(Gr().s[5]++,typeof e=="string");if(Gr().s[6]++,t)Gr().b[2][1]++;else return Gr().b[2][0]++,Gr().s[7]++,e;return Gr().s[8]++,e.match(/^\s*true\s*$/)?(Gr().b[3][0]++,Gr().s[9]++,!0):(Gr().b[3][1]++,Gr().s[10]++,e.match(/^\s*false\s*$/)?(Gr().b[4][0]++,Gr().s[11]++,!1):(Gr().b[4][1]++,Gr().s[12]++,e))}function hge(e){return Gr().f[2]++,Gr().s[13]++,e=cge(e),Gr().s[14]++,e=dge(e),Gr().s[15]++,e}class KG extends Mn.Component{onFilterPartChanged(t,n,r){Gr().f[3]++;let i=(Gr().s[17]++,[t,n,...r.map(hge)]);Gr().s[18]++,Gr().b[6][0]++,t==="has"||(Gr().b[6][1]++,t==="!has")?(Gr().b[5][0]++,Gr().s[19]++,i=[t,n]):(Gr().b[5][1]++,Gr().s[20]++,r.length===0?(Gr().b[7][0]++,Gr().s[21]++,i=[t,n,""]):Gr().b[7][1]++),Gr().s[22]++,this.props.onChange(i)}render(){Gr().f[4]++;const t=(Gr().s[23]++,this.props.filter),n=(Gr().s[24]++,t[0]),r=(Gr().s[25]++,t[1]),i=(Gr().s[26]++,t.slice(2));return Gr().s[27]++,G.jsxs("div",{className:"maputnik-filter-editor-single",children:[G.jsx("div",{className:"maputnik-filter-editor-property",children:G.jsx(kv,{"aria-label":"key",value:r,options:Object.keys(this.props.properties).map(o=>(Gr().f[5]++,Gr().s[28]++,[o,o])),onChange:o=>(Gr().f[6]++,Gr().s[29]++,this.onFilterPartChanged(n,o,i))})}),G.jsx("div",{className:"maputnik-filter-editor-operator",children:G.jsx(H1,{"aria-label":"function",value:n,onChange:o=>(Gr().f[7]++,Gr().s[30]++,this.onFilterPartChanged(o,r,i)),options:Age})}),(Gr().b[8][0]++,i.length>0&&(Gr().b[8][1]++,G.jsx("div",{className:"maputnik-filter-editor-args",children:G.jsx($d,{"aria-label":"value",value:i.join(","),onChange:o=>(Gr().f[8]++,Gr().s[31]++,this.onFilterPartChanged(n,r,o.split(",")))})})))]})}}on(KG,"defaultProps",(Gr().s[16]++,{properties:{}}));function J4(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",t="1cb8df3f9feb5c7adb79e90612df8d0101379bf4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:18,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:19,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditorBlock.tsx"],names:[],mappings:"AAUW,SAOD,KAPC;AAVX,OAAO,WAAkC;AACzC,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAMvB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,gCACpB;AAAA,0BAAC,SAAI,WAAU,uCACb;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,MACZ,GACF;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1cb8df3f9feb5c7adb79e90612df8d0101379bf4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return J4=function(){return a},a}J4();class fge extends Mn.Component{render(){return J4().f[0]++,J4().s[0]++,G.jsxs("div",{className:"maputnik-filter-editor-block",children:[G.jsx("div",{className:"maputnik-filter-editor-block-action",children:G.jsx(ja,{className:"maputnik-delete-filter",onClick:this.props.onDelete,title:"Delete filter block",children:G.jsx(Mv,{})})}),G.jsx("div",{className:"maputnik-filter-editor-block-content",children:this.props.children})]})}}var pge=1/0,mge="[object Symbol]",LI="\\ud800-\\udfff",DG="\\u0300-\\u036f\\ufe20-\\ufe23",FG="\\u20d0-\\u20f0",LG="\\ufe0e\\ufe0f",gge="["+LI+"]",hB="["+DG+FG+"]",fB="\\ud83c[\\udffb-\\udfff]",yge="(?:"+hB+"|"+fB+")",UG="[^"+LI+"]",RG="(?:\\ud83c[\\udde6-\\uddff]){2}",zG="[\\ud800-\\udbff][\\udc00-\\udfff]",jG="\\u200d",WG=yge+"?",NG="["+LG+"]?",vge="(?:"+jG+"(?:"+[UG,RG,zG].join("|")+")"+NG+WG+")*",_ge=NG+WG+vge,Cge="(?:"+[UG+hB+"?",hB,RG,zG,gge].join("|")+")",bge=RegExp(fB+"(?="+fB+")|"+Cge+_ge,"g"),xge=RegExp("["+jG+LI+DG+FG+LG+"]"),wge=typeof window=="object"&&window&&window.Object===Object&&window,Mge=typeof self=="object"&&self&&self.Object===Object&&self,Sge=wge||Mge||Function("return this")();function Ege(e){return e.split("")}function GG(e){return xge.test(e)}function Oge(e){return GG(e)?Bge(e):Ege(e)}function Bge(e){return e.match(bge)||[]}var Ige=Object.prototype,kge=Ige.toString,EK=Sge.Symbol,OK=EK?EK.prototype:void 0,BK=OK?OK.toString:void 0;function Tge(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Pge(e){if(typeof e=="string")return e;if(Lge(e))return BK?BK.call(e):"";var t=e+"";return t=="0"&&1/e==-pge?"-0":t}function Kge(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Tge(e,t,n)}function Dge(e){return function(t){t=$G(t);var n=GG(t)?Oge(t):void 0,r=n?n[0]:t.charAt(0),i=n?Kge(n,1).join(""):t.slice(1);return r[e]()+i}}function Fge(e){return!!e&&typeof e=="object"}function Lge(e){return typeof e=="symbol"||Fge(e)&&kge.call(e)==mge}function $G(e){return e==null?"":Pge(e)}function Uge(e){return Rge($G(e).toLowerCase())}var Rge=Dge("toUpperCase"),zge=Uge;const UI=Ba(zge);function wf(){var e="/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",t="8b86d889d32efa9a6cc667b2fa3579002dfb58fc",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts",statementMap:{0:{start:{line:4,column:16},end:{line:4,column:36}},1:{start:{line:5,column:2},end:{line:9,column:3}},2:{start:{line:6,column:4},end:{line:6,column:52}},3:{start:{line:8,column:4},end:{line:8,column:22}},4:{start:{line:10,column:2},end:{line:10,column:27}}},fnMap:{0:{name:"labelFromFieldName",decl:{start:{line:2,column:24},end:{line:2,column:42}},loc:{start:{line:2,column:54},end:{line:11,column:1}},line:2}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/label-from-field-name.ts"],names:[],mappings:"AAAA,OAAO,gBAAgB;AAEvB,wBAAwB,mBAAmB,WAAmB;AAC5D,MAAI;AACJ,QAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,MAAI,MAAM,SAAS,GAAG;AACpB,YAAQ,UAAU,MAAM,GAAG,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG;AAAA,EAChD,OACK;AACH,YAAQ;AAAA,EACV;AACA,SAAO,WAAW,KAAK;AACzB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b86d889d32efa9a6cc667b2fa3579002dfb58fc"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wf=function(){return a},a}wf();function Rw(e){wf().f[0]++;let t;const n=(wf().s[0]++,e.split("-"));return wf().s[1]++,n.length>1?(wf().b[0][0]++,wf().s[2]++,t=e.split("-").slice(1).join(" ")):(wf().b[0][1]++,wf().s[3]++,t=e),wf().s[4]++,UI(t)}function Ni(){var e="/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",t="aa37ab38c9a5b53df0808e7895b75ac0976599a1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx",statementMap:{0:{start:{line:10,column:24},end:{line:16,column:3}},1:{start:{line:18,column:4},end:{line:18,column:17}},2:{start:{line:19,column:4},end:{line:21,column:6}},3:{start:{line:23,column:18},end:{line:27,column:3}},4:{start:{line:24,column:4},end:{line:26,column:7}},5:{start:{line:28,column:16},end:{line:32,column:3}},6:{start:{line:29,column:4},end:{line:31,column:7}},7:{start:{line:34,column:61},end:{line:34,column:71}},8:{start:{line:35,column:26},end:{line:35,column:36}},9:{start:{line:36,column:25},end:{line:36,column:52}},10:{start:{line:37,column:42},end:{line:59,column:8}},11:{start:{line:60,column:21},end:{line:60,column:83}},12:{start:{line:61,column:23},end:{line:61,column:39}},13:{start:{line:62,column:26},end:{line:62,column:40}},14:{start:{line:63,column:24},end:{line:63,column:26}},15:{start:{line:65,column:6},end:{line:65,column:65}},16:{start:{line:67,column:4},end:{line:78,column:5}},17:{start:{line:68,column:6},end:{line:68,column:52}},18:{start:{line:70,column:6},end:{line:74,column:9}},19:{start:{line:71,column:8},end:{line:71,column:45}},20:{start:{line:73,column:8},end:{line:73,column:39}},21:{start:{line:75,column:6},end:{line:77,column:7}},22:{start:{line:76,column:8},end:{line:76,column:37}},23:{start:{line:79,column:4},end:{line:109,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:13},end:{line:12,column:14}},loc:{start:{line:12,column:19},end:{line:13,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:12},end:{line:14,column:13}},loc:{start:{line:14,column:18},end:{line:15,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:17,column:2},end:{line:17,column:3}},loc:{start:{line:17,column:21},end:{line:22,column:3}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:23,column:18},end:{line:23,column:19}},loc:{start:{line:23,column:28},end:{line:27,column:3}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:28,column:16},end:{line:28,column:17}},loc:{start:{line:28,column:22},end:{line:32,column:3}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:11},end:{line:110,column:3}},line:33},6:{name:"getValue",decl:{start:{line:64,column:13},end:{line:64,column:21}},loc:{start:{line:64,column:28},end:{line:66,column:5}},line:64},7:{name:"(anonymous_7)",decl:{start:{line:70,column:36},end:{line:70,column:37}},loc:{start:{line:70,column:55},end:{line:72,column:7}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:36},end:{line:74,column:7}},line:72}},branchMap:{0:{loc:{start:{line:36,column:25},end:{line:36,column:52}},type:"cond-expr",locations:[{start:{line:36,column:35},end:{line:36,column:45}},{start:{line:36,column:48},end:{line:36,column:52}}],line:36},1:{loc:{start:{line:38,column:6},end:{line:48,column:7}},type:"binary-expr",locations:[{start:{line:38,column:6},end:{line:38,column:23}},{start:{line:38,column:43},end:{line:48,column:7}}],line:38},2:{loc:{start:{line:60,column:21},end:{line:60,column:83}},type:"cond-expr",locations:[{start:{line:60,column:44},end:{line:60,column:53}},{start:{line:60,column:56},end:{line:60,column:83}}],line:60},3:{loc:{start:{line:67,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:78,column:5}},{start:{line:69,column:11},end:{line:78,column:5}}],line:67},4:{loc:{start:{line:75,column:6},end:{line:77,column:7}},type:"if",locations:[{start:{line:75,column:6},end:{line:77,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ExpressionProperty.tsx"],names:[],mappings:"AA4DM,mBASM,KATN;AA5DN,OAAO,WAAW;AAClB,SAAQ,UAAU,cAAa;AAC/B,OAAO,qBAAqB;AAE5B,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,wBAAwB;AAC/B,OAAO,eAAe;AAqBtB,qBAAqB,2BAA2B,MAAM,UAA4D;AAAA,EAChH,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,IACT,SAAS,MAAM;AAAA,IAAC;AAAA,IAChB,QAAQ,MAAM;AAAA,IAAC;AAAA,EACjB;AAAA,EAEA,YAAa,OAA+B;AAC1C,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,SAAgB;AAC/B,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,MAAM;AAClB,SAAK,SAAS;AAAA,MACZ,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,WAAW,OAAO,QAAO,IAAI,KAAK;AAC5D,UAAM,EAAC,UAAS,IAAI,KAAK;AACzB,UAAM,eAAe,UAAU,CAAC,QAAQ,IAAI;AAE5C,UAAM,gBACJ,iCACG;AAAA,WAAK,MAAM,UACV;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,UAAO;AAAA;AAAA,QANJ;AAAA,MAON;AAAA,MAEF;AAAA,QAAC;AAAA;AAAA,UAEC,SAAS,KAAK,MAAM;AAAA,UACpB,WAAU;AAAA,UACV,OAAM;AAAA,UAEN,8BAAC,YAAS;AAAA;AAAA,QALN;AAAA,MAMN;AAAA,OACF;AAGF,UAAM,WAAW,cAAc,SAAY,YAAY,GAAG,SAAS,IAAI,SAAS;AAEhF,UAAM,aAAa,OAAQ,QAAQ;AACnC,UAAM,gBAAgB,GAAG,QAAQ;AACjC,UAAM,cAAc,CAAC;AAErB,aAAS,SAAS,MAAW;AAC3B,aAAO,gBAAgB,MAAM,EAAC,QAAQ,GAAG,WAAW,GAAE,CAAC;AAAA,IACzD;AAEA,QAAI,WAAW;AACb,kBAAY,KAAK,EAAC,SAAS,eAAc,CAAC;AAAA,IAC5C,OACK;AACH,aAAO,QAAQ,MAAO,EACnB,OAAO,CAAC,CAAC,KAAK,MAAM,MAAM;AACzB,eAAO,IAAI,WAAW,aAAa;AAAA,MACrC,CAAC,EACA,QAAQ,CAAC,CAAC,MAAM,KAAK,MAAM;AAC1B,eAAO,YAAY,KAAK,KAAK;AAAA,MAC/B,CAAC;AAEH,UAAI,YAAY;AACd,oBAAY,KAAK,UAAU;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAEN,OAAO;AAAA,QACP,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,SAAS;AAAA,QAC9C,QAAQ;AAAA,QACR,UAAU;AAAA,QAEV;AAAA,UAAC;AAAA;AAAA,YACC,MAAM,EAAC,MAAM,MAAK;AAAA,YAClB,MAAM;AAAA,cACJ,SAAS;AAAA,cACT,MAAM,KAAK,MAAM;AAAA,YACnB;AAAA,YACA,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,QAAQ,KAAK,MAAM;AAAA,YACnB,eAAe,KAAK;AAAA,YACpB,aAAa,KAAK;AAAA,YAClB,OAAO;AAAA,YACP,aAAa;AAAA,YACb,WAAW;AAAA,YACX,cAAc;AAAA,YACd;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"aa37ab38c9a5b53df0808e7895b75ac0976599a1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ni=function(){return a},a}Ni();class RI extends Mn.Component{constructor(n){Ni().f[2]++,Ni().s[1]++;super(n);on(this,"onJSONInvalid",(Ni().s[3]++,n=>{Ni().f[3]++,Ni().s[4]++,this.setState({jsonError:!0})}));on(this,"onJSONValid",(Ni().s[5]++,()=>{Ni().f[4]++,Ni().s[6]++,this.setState({jsonError:!1})}));Ni().s[2]++,this.state={jsonError:!1}}render(){Ni().f[5]++;const{errors:n,fieldName:r,fieldType:i,value:o,canUndo:a}=(Ni().s[7]++,this.props),{jsonError:s}=(Ni().s[8]++,this.state),h=(Ni().s[9]++,a?(Ni().b[0][0]++,!a()):(Ni().b[0][1]++,!0)),g=(Ni().s[10]++,G.jsxs(G.Fragment,{children:[(Ni().b[1][0]++,this.props.onUndo&&(Ni().b[1][1]++,G.jsx(ja,{onClick:this.props.onUndo,disabled:h,className:"maputnik-delete-stop",title:"Revert from expression",children:G.jsx(jte,{})},"undo_action"))),G.jsx(ja,{onClick:this.props.onDelete,className:"maputnik-delete-stop",title:"Delete expression",children:G.jsx(Mv,{})},"delete_action")]})),_=(Ni().s[11]++,i===void 0?(Ni().b[2][0]++,r):(Ni().b[2][1]++,`${i}.${r}`)),E=(Ni().s[12]++,n[_]),O=(Ni().s[13]++,`${_}[`),K=(Ni().s[14]++,[]);function D(Y){return Ni().f[6]++,Ni().s[15]++,IG(Y,{indent:2,maxLength:38})}return Ni().s[16]++,s?(Ni().b[3][0]++,Ni().s[17]++,K.push({message:"Invalid JSON"})):(Ni().b[3][1]++,Ni().s[18]++,Object.entries(n).filter(([Y,ee])=>(Ni().f[7]++,Ni().s[19]++,Y.startsWith(O))).forEach(([Y,ee])=>(Ni().f[8]++,Ni().s[20]++,K.push(ee))),Ni().s[21]++,E?(Ni().b[4][0]++,Ni().s[22]++,K.push(E)):Ni().b[4][1]++),Ni().s[23]++,G.jsx(oa,{error:K,fieldSpec:this.props.fieldSpec,label:Rw(this.props.fieldName),action:g,wideMode:!0,children:G.jsx(KI,{mode:{name:"mgl"},lint:{context:"expression",spec:this.props.fieldSpec},className:"maputnik-expression-editor",onFocus:this.props.onFocus,onBlur:this.props.onBlur,onJSONInvalid:this.onJSONInvalid,onJSONValid:this.onJSONValid,layer:o,lineNumbers:!1,maxHeight:200,lineWrapping:!0,getValue:D,onChange:this.props.onChange})})}}on(RI,"defaultProps",(Ni().s[0]++,{errors:{},onFocus:()=>{Ni().f[0]++},onBlur:()=>{Ni().f[1]++}}));function hn(){var e="/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",t="539ebaafc62ae27a5559677295475532f297ca46",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx",statementMap:{0:{start:{line:16,column:17},end:{line:16,column:40}},1:{start:{line:17,column:2},end:{line:19,column:3}},2:{start:{line:18,column:4},end:{line:18,column:18}},3:{start:{line:20,column:20},end:{line:20,column:29}},4:{start:{line:21,column:16},end:{line:21,column:31}},5:{start:{line:22,column:2},end:{line:25,column:3}},6:{start:{line:23,column:4},end:{line:23,column:24}},7:{start:{line:24,column:4},end:{line:24,column:32}},8:{start:{line:26,column:2},end:{line:26,column:35}},9:{start:{line:29,column:2},end:{line:29,column:65}},10:{start:{line:32,column:2},end:{line:53,column:4}},11:{start:{line:55,column:19},end:{line:59,column:1}},12:{start:{line:61,column:2},end:{line:63,column:3}},13:{start:{line:62,column:4},end:{line:62,column:16}},14:{start:{line:64,column:21},end:{line:64,column:42}},15:{start:{line:65,column:2},end:{line:65,column:38}},16:{start:{line:68,column:2},end:{line:68,column:52}},17:{start:{line:71,column:2},end:{line:73,column:3}},18:{start:{line:72,column:4},end:{line:72,column:97}},19:{start:{line:72,column:38},end:{line:72,column:59}},20:{start:{line:72,column:75},end:{line:72,column:84}},21:{start:{line:74,column:2},end:{line:74,column:15}},22:{start:{line:77,column:24},end:{line:79,column:3}},23:{start:{line:81,column:4},end:{line:81,column:17}},24:{start:{line:82,column:4},end:{line:85,column:6}},25:{start:{line:89,column:22},end:{line:89,column:58}},26:{start:{line:90,column:4},end:{line:90,column:35}},27:{start:{line:91,column:4},end:{line:91,column:35}},28:{start:{line:94,column:22},end:{line:94,column:58}},29:{start:{line:95,column:4},end:{line:95,column:39}},30:{start:{line:96,column:4},end:{line:96,column:35}},31:{start:{line:98,column:18},end:{line:102,column:3}},32:{start:{line:99,column:26},end:{line:99,column:62}},33:{start:{line:100,column:4},end:{line:100,column:43}},34:{start:{line:101,column:4},end:{line:101,column:39}},35:{start:{line:103,column:16},end:{line:107,column:3}},36:{start:{line:104,column:4},end:{line:106,column:7}},37:{start:{line:108,column:15},end:{line:112,column:3}},38:{start:{line:109,column:4},end:{line:111,column:7}},39:{start:{line:113,column:19},end:{line:119,column:3}},40:{start:{line:114,column:19},end:{line:114,column:46}},41:{start:{line:115,column:4},end:{line:115,column:47}},42:{start:{line:116,column:4},end:{line:118,column:7}},43:{start:{line:121,column:32},end:{line:121,column:75}},44:{start:{line:122,column:4},end:{line:135,column:5}},45:{start:{line:123,column:6},end:{line:126,column:8}},46:{start:{line:127,column:11},end:{line:135,column:5}},47:{start:{line:128,column:6},end:{line:130,column:8}},48:{start:{line:132,column:6},end:{line:134,column:8}},49:{start:{line:138,column:23},end:{line:138,column:33}},50:{start:{line:139,column:36},end:{line:139,column:46}},51:{start:{line:140,column:22},end:{line:142,column:5}},52:{start:{line:143,column:26},end:{line:143,column:33}},53:{start:{line:144,column:36},end:{line:144,column:112}},54:{start:{line:145,column:4},end:{line:265,column:5}},55:{start:{line:146,column:6},end:{line:159,column:11}},56:{start:{line:160,column:11},end:{line:265,column:5}},57:{start:{line:161,column:21},end:{line:161,column:48}},58:{start:{line:162,column:26},end:{line:162,column:35}},59:{start:{line:163,column:22},end:{line:163,column:37}},60:{start:{line:164,column:38},end:{line:172,column:10}},61:{start:{line:173,column:27},end:{line:186,column:8}},62:{start:{line:174,column:22},end:{line:174,column:50}},63:{start:{line:175,column:8},end:{line:185,column:29}},64:{start:{line:187,column:6},end:{line:234,column:11}},65:{start:{line:198,column:33},end:{line:198,column:63}},66:{start:{line:236,column:25},end:{line:236,column:35}},67:{start:{line:237,column:6},end:{line:264,column:11}},68:{start:{line:242,column:14},end:{line:242,column:59}},69:{start:{line:243,column:14},end:{line:243,column:49}}},fnMap:{0:{name:"combiningFilter",decl:{start:{line:15,column:9},end:{line:15,column:24}},loc:{start:{line:15,column:32},end:{line:27,column:1}},line:15},1:{name:"migrateFilter",decl:{start:{line:28,column:9},end:{line:28,column:22}},loc:{start:{line:28,column:31},end:{line:30,column:1}},line:28},2:{name:"createStyleFromFilter",decl:{start:{line:31,column:9},end:{line:31,column:30}},loc:{start:{line:31,column:39},end:{line:54,column:1}},line:31},3:{name:"checkIfSimpleFilter",decl:{start:{line:60,column:9},end:{line:60,column:28}},loc:{start:{line:60,column:37},end:{line:66,column:1}},line:60},4:{name:"hasCombiningFilter",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:36},end:{line:69,column:1}},line:67},5:{name:"hasNestedCombiningFilter",decl:{start:{line:70,column:9},end:{line:70,column:33}},loc:{start:{line:70,column:42},end:{line:75,column:1}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:72,column:31},end:{line:72,column:32}},loc:{start:{line:72,column:38},end:{line:72,column:59}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:72,column:68},end:{line:72,column:69}},loc:{start:{line:72,column:75},end:{line:72,column:84}},line:72},8:{name:"(anonymous_8)",decl:{start:{line:80,column:2},end:{line:80,column:3}},loc:{start:{line:80,column:21},end:{line:86,column:3}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:42},end:{line:92,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:30},end:{line:97,column:3}},line:93},11:{name:"(anonymous_11)",decl:{start:{line:98,column:18},end:{line:98,column:19}},loc:{start:{line:98,column:24},end:{line:102,column:3}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:103,column:16},end:{line:103,column:17}},loc:{start:{line:103,column:25},end:{line:107,column:3}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:108,column:15},end:{line:108,column:16}},loc:{start:{line:108,column:21},end:{line:112,column:3}},line:108},14:{name:"(anonymous_14)",decl:{start:{line:113,column:19},end:{line:113,column:20}},loc:{start:{line:113,column:25},end:{line:119,column:3}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:120,column:2},end:{line:120,column:3}},loc:{start:{line:120,column:55},end:{line:136,column:3}},line:120},16:{name:"(anonymous_16)",decl:{start:{line:137,column:2},end:{line:137,column:3}},loc:{start:{line:137,column:11},end:{line:266,column:3}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:173,column:39},end:{line:173,column:40}},loc:{start:{line:173,column:51},end:{line:186,column:7}},line:173},18:{name:"(anonymous_18)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:63}},line:198},19:{name:"(anonymous_19)",decl:{start:{line:241,column:22},end:{line:241,column:23}},loc:{start:{line:241,column:28},end:{line:244,column:13}},line:241}},branchMap:{0:{loc:{start:{line:16,column:17},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:17},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:40}}],line:16},1:{loc:{start:{line:17,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:19,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:17},2:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},3:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},4:{loc:{start:{line:61,column:6},end:{line:61,column:59}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:25}},{start:{line:61,column:29},end:{line:61,column:59}}],line:61},5:{loc:{start:{line:71,column:2},end:{line:73,column:3}},type:"if",locations:[{start:{line:71,column:2},end:{line:73,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},6:{loc:{start:{line:122,column:4},end:{line:135,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:135,column:5}},{start:{line:127,column:11},end:{line:135,column:5}}],line:122},7:{loc:{start:{line:122,column:8},end:{line:122,column:73}},type:"binary-expr",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:73}}],line:122},8:{loc:{start:{line:127,column:11},end:{line:135,column:5}},type:"if",locations:[{start:{line:127,column:11},end:{line:135,column:5}},{start:{line:131,column:11},end:{line:135,column:5}}],line:127},9:{loc:{start:{line:127,column:15},end:{line:127,column:80}},type:"binary-expr",locations:[{start:{line:127,column:15},end:{line:127,column:34}},{start:{line:127,column:38},end:{line:127,column:80}}],line:127},10:{loc:{start:{line:144,column:36},end:{line:144,column:112}},type:"binary-expr",locations:[{start:{line:144,column:36},end:{line:144,column:55}},{start:{line:144,column:59},end:{line:144,column:112}}],line:144},11:{loc:{start:{line:145,column:4},end:{line:265,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:265,column:5}},{start:{line:160,column:11},end:{line:265,column:5}}],line:145},12:{loc:{start:{line:160,column:11},end:{line:265,column:5}},type:"if",locations:[{start:{line:160,column:11},end:{line:265,column:5}},{start:{line:235,column:11},end:{line:265,column:5}}],line:160},13:{loc:{start:{line:184,column:10},end:{line:184,column:119}},type:"binary-expr",locations:[{start:{line:184,column:10},end:{line:184,column:15}},{start:{line:184,column:35},end:{line:184,column:119}}],line:184},14:{loc:{start:{line:229,column:30},end:{line:229,column:62}},type:"cond-expr",locations:[{start:{line:229,column:51},end:{line:229,column:53}},{start:{line:229,column:56},end:{line:229,column:62}}],line:229},15:{loc:{start:{line:252,column:8},end:{line:263,column:12}},type:"binary-expr",locations:[{start:{line:252,column:8},end:{line:252,column:38}},{start:{line:252,column:58},end:{line:263,column:12}}],line:252}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FilterEditor.tsx"],names:[],mappings:"AA+LQ,SAsDA,UAtDA,KAGA,YAHA;AA/LR,OAAO,WAAW;AAClB,SAAQ,4BAA2B;AACnC,SAAQ,eAAc;AAEtB,SAAQ,QAAQ,SAAS,qBAAoB;AAC7C,SAAQ,0BAAyB;AAEjC,SAAQ,0BAAyB;AACjC,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,wBAAwB;AAC/B,OAAO,uBAAuB;AAC9B,OAAO,iBAAiB;AACxB,OAAO,SAAS;AAChB,OAAO,wBAAwB;AAG/B,SAAS,gBAAgB,OAA+E;AACtG,QAAM,SAAS,MAAM,UAAU,CAAC,KAAK;AAErC,MAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,cAAc,OAAO,CAAC;AAC1B,MAAI,UAAU,OAAO,MAAM,CAAC;AAE5B,MAAG,mBAAmB,QAAQ,WAAW,IAAI,GAAG;AAC9C,kBAAc;AACd,cAAU,CAAC,OAAO,MAAM,CAAC,CAAC;AAAA,EAC5B;AAEA,SAAO,CAAC,aAAa,GAAG,OAAO;AACjC;AAEA,SAAS,cAAc,QAA6D;AAElF,SAAQ,QAAQ,sBAAsB,MAAM,CAAQ,EAAE,OAAO,CAAC,EAAU;AAC1E;AAEA,SAAS,sBAAsB,QAAgG;AAC7H,SAAO;AAAA,IACL,MAAM;AAAA,IACN,WAAW;AAAA,IACX,QAAQ;AAAA,IACR,YAAY,EAAC,qBAAqB,SAAQ;AAAA,IAC1C,WAAW;AAAA,MACT,OAAO;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF;AAGA,SAAS,oBAAqB,QAA6D;AACzF,MAAI,OAAO,WAAW,KAAK,WAAW,SAAS,OAAO,CAAC,CAAC,GAAG;AACzD,WAAO;AAAA,EACT;AACA,QAAM,aAAa,cAAc,MAAM;AACvC,SAAO,CAAC,QAAQ,YAAY,MAAM;AACpC;AAEA,SAAS,mBAAmB,QAA6D;AACvF,SAAO,mBAAmB,QAAQ,OAAO,CAAC,CAAC,KAAK;AAClD;AAEA,SAAS,yBAAyB,QAA6D;AAC7F,MAAG,mBAAmB,MAAM,GAAG;AAC7B,WAAO,OAAO,MAAM,CAAC,EAAE,IAAI,OAAK,mBAAmB,CAAQ,CAAC,EAAE,OAAO,OAAK,KAAK,IAAI,EAAE,SAAS;AAAA,EAChG;AACA,SAAO;AACT;AAgBA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC,KAAK;AAAA,EAChB;AAAA,EAEA,YAAa,OAA0B;AACrC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,MACT,qBAAqB,oBAAoB,gBAAgB,KAAK,CAAC;AAAA,IACjE;AAAA,EACF;AAAA;AAAA,EAGA,oBAAoB,WAAmB,SAAgB;AACrD,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,SAAS,IAAI;AACvB,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,iBAAiB,WAAmB;AAClC,UAAM,YAAY,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACrD,cAAU,OAAO,YAAY,GAAG,CAAC;AACjC,SAAK,MAAM,SAAS,SAAS;AAAA,EAC/B;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,gBAAgB,gBAAgB,KAAK,KAAK,EAAE,MAAM,CAAC;AACzD,IAAC,cAAwB,KAAK,CAAC,MAAM,QAAQ,EAAE,CAAC;AAChD,SAAK,MAAM,SAAS,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,SAAK,MAAM,SAAS,cAAc,MAAM,CAAC;AACzC,SAAK,SAAS;AAAA,MACZ,qBAAqB;AAAA,IACvB,CAAC;AAAA,EACH;AAAA,EAEA,OAAO,yBAAyB,OAA0B,cAAiC;AACzF,UAAM,sBAAsB,oBAAoB,gBAAgB,KAAK,CAAC;AAGtE,QAAI,CAAC,uBAAuB,aAAa,wBAAwB,MAAM;AACrE,aAAO;AAAA,QACL,qBAAqB;AAAA,QACrB,qBAAqB;AAAA,MACvB;AAAA,IACF,WACS,uBAAuB,aAAa,wBAAwB,OAAO;AAC1E,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF,OACK;AACH,aAAO;AAAA,QACL,qBAAqB;AAAA,MACvB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,EAAC,oBAAmB,IAAI,KAAK;AACnC,UAAM,YAAU;AAAA,MACd,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,IACjC;AACA,UAAM,gBAAgB,CAAC,KAAK;AAE5B,UAAM,0BAA0B,uBAAuB,yBAAyB,gBAAgB,KAAK,KAAK,CAAC;AAE3G,QAAI,yBAAyB;AAC3B,aAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,4BAAC,OAAE,+CAEH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAS,KAAK;AAAA,YACd,OAAM;AAAA,YAEN;AAAA,kCAAC,SAAI,OAAO,EAAC,aAAa,SAAS,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAChG,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,cAAM;AAAA;AAAA;AAAA,QAER;AAAA,SACF;AAAA,IACF,WACS,qBAAqB;AAC5B,YAAM,SAAS,gBAAgB,KAAK,KAAK;AACzC,YAAM,cAAc,OAAO,CAAC;AAC5B,YAAM,UAAU,OAAO,MAAM,CAAC;AAE9B,YAAM,UACJ,oBAAC,SACC;AAAA,QAAC;AAAA;AAAA,UACC,SAAS,KAAK;AAAA,UACd,OAAM;AAAA,UACN,WAAU;AAAA,UAEV,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF,GACF;AAGF,YAAM,eAAe,QAAQ,IAAI,CAAC,GAAG,QAAQ;AAC3C,cAAM,QAAQ,OAAQ,UAAU,MAAI,CAAC,GAAG;AAExC,eACE,qBAAC,SACC;AAAA,8BAAC,qBAA4B,UAAU,KAAK,iBAAiB,KAAK,MAAM,GAAG,GACzE;AAAA,YAAC;AAAA;AAAA,cACC,YAAY,KAAK,MAAM;AAAA,cACvB,QAAQ;AAAA,cACR,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM,CAAC;AAAA;AAAA,UACvD,KALsB,GAMxB;AAAA,UACC,SACC,oBAAC,SAAgB,WAAU,yBAAyB,gBAAM,WAAjD,OAAyD;AAAA,aAT5D,SAAS,GAAG,EAWtB;AAAA,MAEJ,CAAC;AAGD,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YAEC;AAAA,YACA,OAAO;AAAA,YACP,QAAQ;AAAA,YAER;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,MAAqB,KAAK,oBAAoB,GAAG,CAAC;AAAA,gBAC7D,SAAS,CAAC,CAAC,OAAO,sBAAsB,GAAG,CAAC,QAAQ,mBAAmB,GAAG,CAAC,OAAO,oBAAoB,CAAC;AAAA;AAAA,YACzG;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC;AAAA,QACD;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YAEV;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,KAAK;AAAA,gBAEd;AAAA,sCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,kBAAM;AAAA;AAAA;AAAA,YACR;AAAA;AAAA,UAXI;AAAA,QAYN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,YAEjD,8BAAC,OAAI,WAAsB;AAAA;AAAA,UAJvB;AAAA,QAKN;AAAA,SACF;AAAA,IAEJ,OACK;AACH,YAAM,EAAC,OAAM,IAAI,KAAK;AAEtB,aACE,iCACE;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,UAAU,MAAM;AACd,mBAAK,SAAS,EAAC,qBAAqB,KAAI,CAAC;AACzC,mBAAK,MAAM,SAAS,aAAa;AAAA,YACnC;AAAA,YACA,WAAU;AAAA,YACV;AAAA,YACA,OAAO;AAAA,YACP;AAAA,YACA,UAAU,KAAK,MAAM;AAAA;AAAA,QACvB;AAAA,QACC,KAAK,MAAM,uBACV,qBAAC,SAAI,WAAU,yBAAwB;AAAA;AAAA,UACG;AAAA,UACxC;AAAA,YAAC;AAAA;AAAA,cACC,SAAS,KAAK;AAAA,cACd,WAAU;AAAA,cACX;AAAA;AAAA,UAED;AAAA,WACF;AAAA,SAEJ;AAAA,IAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"539ebaafc62ae27a5559677295475532f297ca46"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return hn=function(){return a},a}hn();function Sm(e){hn().f[0]++;const t=(hn().s[0]++,hn().b[0][0]++,e.filter||(hn().b[0][1]++,["all"]));if(hn().s[1]++,Array.isArray(t))hn().b[1][1]++;else return hn().b[1][0]++,hn().s[2]++,t;let n=(hn().s[3]++,t[0]),r=(hn().s[4]++,t.slice(1));return hn().s[5]++,FI.indexOf(n)<0?(hn().b[2][0]++,hn().s[6]++,n="all",hn().s[7]++,r=[t.slice(0)]):hn().b[2][1]++,hn().s[8]++,[n,...r]}function jge(e){return hn().f[1]++,hn().s[9]++,tte(Wge(e)).layers[0].filter}function Wge(e){return hn().f[2]++,hn().s[10]++,{id:"tmp",version:8,name:"Empty Style",metadata:{"maputnik:renderer":"mlgljs"},sources:{tmp:{type:"geojson",data:""}},sprite:"",glyphs:"https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",layers:[{id:"tmp",type:"fill",source:"tmp",filter:e}]}}const Nge=(hn().s[11]++,["all","any","none"]);function IK(e){if(hn().f[3]++,hn().s[12]++,hn().b[4][0]++,e.length===1&&(hn().b[4][1]++,Nge.includes(e[0])))return hn().b[3][0]++,hn().s[13]++,!0;hn().b[3][1]++;const t=(hn().s[14]++,AC(e));return hn().s[15]++,!Y5.isEqual(t,e)}function kK(e){return hn().f[4]++,hn().s[16]++,FI.indexOf(e[0])>=0}function Gge(e){return hn().f[5]++,hn().s[17]++,kK(e)?(hn().b[5][0]++,hn().s[18]++,e.slice(1).map(t=>(hn().f[6]++,hn().s[19]++,kK(t))).filter(t=>(hn().f[7]++,hn().s[20]++,t==!0)).length>0):(hn().b[5][1]++,hn().s[21]++,!1)}class QG extends Mn.Component{constructor(n){hn().f[8]++,hn().s[23]++;super(n);on(this,"addFilterItem",(hn().s[31]++,()=>{hn().f[11]++;const n=(hn().s[32]++,Sm(this.props).slice(0));hn().s[33]++,n.push(["==","name",""]),hn().s[34]++,this.props.onChange(n)}));on(this,"onToggleDoc",(hn().s[35]++,n=>{hn().f[12]++,hn().s[36]++,this.setState({showDoc:n})}));on(this,"makeFilter",(hn().s[37]++,()=>{hn().f[13]++,hn().s[38]++,this.setState({displaySimpleFilter:!0})}));on(this,"makeExpression",(hn().s[39]++,()=>{hn().f[14]++;const n=(hn().s[40]++,Sm(this.props));hn().s[41]++,this.props.onChange(jge(n)),hn().s[42]++,this.setState({displaySimpleFilter:!1})}));hn().s[24]++,this.state={showDoc:!1,displaySimpleFilter:IK(Sm(n))}}onFilterPartChanged(n,r){hn().f[9]++;const i=(hn().s[25]++,Sm(this.props).slice(0));hn().s[26]++,i[n]=r,hn().s[27]++,this.props.onChange(i)}deleteFilterItem(n){hn().f[10]++;const r=(hn().s[28]++,Sm(this.props).slice(0));hn().s[29]++,r.splice(n+1,1),hn().s[30]++,this.props.onChange(r)}static getDerivedStateFromProps(n,r){hn().f[15]++;const i=(hn().s[43]++,IK(Sm(n)));return hn().s[44]++,hn().b[7][0]++,!i&&(hn().b[7][1]++,r.displaySimpleFilter===!0)?(hn().b[6][0]++,hn().s[45]++,{displaySimpleFilter:!1,valueIsSimpleFilter:!1}):(hn().b[6][1]++,hn().s[46]++,hn().b[9][0]++,i&&(hn().b[9][1]++,r.displaySimpleFilter===!1)?(hn().b[8][0]++,hn().s[47]++,{valueIsSimpleFilter:!0}):(hn().b[8][1]++,hn().s[48]++,{valueIsSimpleFilter:!1}))}render(){hn().f[16]++;const{errors:n}=(hn().s[49]++,this.props),{displaySimpleFilter:r}=(hn().s[50]++,this.state),i=(hn().s[51]++,{doc:Ea.layer.filter.doc+" Combine multiple filters together by using a compound filter."}),o=(hn().s[52]++,["all"]),a=(hn().s[53]++,hn().b[10][0]++,r&&(hn().b[10][1]++,Gge(Sm(this.props))));if(hn().s[54]++,a)return hn().b[11][0]++,hn().s[55]++,G.jsxs("div",{className:"maputnik-filter-editor-unsupported",children:[G.jsx("p",{children:"Nested filters are not supported."}),G.jsxs(ja,{onClick:this.makeExpression,title:"Convert to expression",children:[G.jsx("svg",{style:{marginRight:"0.2em",width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:gb})}),"Upgrade to expression"]})]});if(hn().b[11][1]++,hn().s[56]++,r){hn().b[12][0]++;const s=(hn().s[57]++,Sm(this.props)),h=(hn().s[58]++,s[0]),g=(hn().s[59]++,s.slice(1)),_=(hn().s[60]++,G.jsx("div",{children:G.jsx(ja,{onClick:this.makeExpression,title:"Convert to expression",className:"maputnik-make-zoom-function",children:G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:gb})})})})),E=(hn().s[61]++,g.map((O,K)=>{hn().f[17]++;const D=(hn().s[62]++,n[`filter[${K+1}]`]);return hn().s[63]++,G.jsxs("div",{children:[G.jsx(fge,{onDelete:this.deleteFilterItem.bind(this,K),children:G.jsx(KG,{properties:this.props.properties,filter:O,onChange:this.onFilterPartChanged.bind(this,K+1)})},K),(hn().b[13][0]++,D&&(hn().b[13][1]++,G.jsx("div",{className:"maputnik-inline-error",children:D.message},"error")))]},`block-${K}`)}));return hn().s[64]++,G.jsxs(G.Fragment,{children:[G.jsx(oa,{fieldSpec:i,label:"Filter",action:_,children:G.jsx(H1,{value:h,onChange:O=>(hn().f[18]++,hn().s[65]++,this.onFilterPartChanged(0,O)),options:[["all","every filter matches"],["none","no filter matches"],["any","any filter matches"]]})},"top"),E,G.jsx("div",{className:"maputnik-filter-editor-add-wrapper",children:G.jsxs(ja,{"data-wd-key":"layer-filter-button",className:"maputnik-add-filter",onClick:this.addFilterItem,children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:DI})})," Add filter"]})},"buttons"),G.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(hn().b[14][0]++,""):(hn().b[14][1]++,"none")},children:G.jsx(xI,{fieldSpec:i})},"doc")]})}else{hn().b[12][1]++;const{filter:s}=(hn().s[66]++,this.props);return hn().s[67]++,G.jsxs(G.Fragment,{children:[G.jsx(RI,{onDelete:()=>{hn().f[19]++,hn().s[68]++,this.setState({displaySimpleFilter:!0}),hn().s[69]++,this.props.onChange(o)},fieldName:"filter",fieldSpec:i,value:s,errors:n,onChange:this.props.onChange}),(hn().b[15][0]++,this.state.valueIsSimpleFilter&&(hn().b[15][1]++,G.jsxs("div",{className:"maputnik-expr-infobox",children:["You've entered a old style filter,"," ",G.jsx("button",{onClick:this.makeFilter,className:"maputnik-expr-infobox__button",children:"switch to filter editor"})]})))]})}}}on(QG,"defaultProps",(hn().s[22]++,{filter:["all"]}));var zw={},qs={},Gb={},$ge=typeof window=="object"&&window&&window.Object===Object&&window,YG=$ge,Qge=YG,Yge=typeof self=="object"&&self&&self.Object===Object&&self,qge=Qge||Yge||Function("return this")(),Uh=qge,Hge=Uh,Vge=Hge.Symbol,$b=Vge,TK=$b,qG=Object.prototype,Zge=qG.hasOwnProperty,Xge=qG.toString,D_=TK?TK.toStringTag:void 0;function Jge(e){var t=Zge.call(e,D_),n=e[D_];try{e[D_]=void 0;var r=!0}catch{}var i=Xge.call(e);return r&&(t?e[D_]=n:delete e[D_]),i}var eye=Jge,tye=Object.prototype,nye=tye.toString;function rye(e){return nye.call(e)}var iye=rye,PK=$b,oye=eye,aye=iye,sye="[object Null]",lye="[object Undefined]",KK=PK?PK.toStringTag:void 0;function uye(e){return e==null?e===void 0?lye:sye:KK&&KK in Object(e)?oye(e):aye(e)}var V1=uye,Aye=Array.isArray,ad=Aye;function cye(e){return e!=null&&typeof e=="object"}var Vf=cye,dye=V1,hye=ad,fye=Vf,pye="[object String]";function mye(e){return typeof e=="string"||!hye(e)&&fye(e)&&dye(e)==pye}var gye=mye;function yye(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var h=a[e?s:++i];if(n(o[h],h,o)===!1)break}return t}}var vye=yye,_ye=vye,Cye=_ye(),HG=Cye;function bye(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var xye=bye,wye=V1,Mye=Vf,Sye="[object Arguments]";function Eye(e){return Mye(e)&&wye(e)==Sye}var Oye=Eye,DK=Oye,Bye=Vf,VG=Object.prototype,Iye=VG.hasOwnProperty,kye=VG.propertyIsEnumerable,Tye=DK(function(){return arguments}())?DK:function(e){return Bye(e)&&Iye.call(e,"callee")&&!kye.call(e,"callee")},zI=Tye,e5={exports:{}};function Pye(){return!1}var Kye=Pye;e5.exports;(function(e,t){var n=Uh,r=Kye,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,h=s?s.isBuffer:void 0,g=h||r;e.exports=g})(e5,e5.exports);var jw=e5.exports,Dye=9007199254740991,Fye=/^(?:0|[1-9]\d*)$/;function Lye(e,t){var n=typeof e;return t=t??Dye,!!t&&(n=="number"||n!="symbol"&&Fye.test(e))&&e>-1&&e%1==0&&e<t}var jI=Lye,Uye=9007199254740991;function Rye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Uye}var WI=Rye,zye=V1,jye=WI,Wye=Vf,Nye="[object Arguments]",Gye="[object Array]",$ye="[object Boolean]",Qye="[object Date]",Yye="[object Error]",qye="[object Function]",Hye="[object Map]",Vye="[object Number]",Zye="[object Object]",Xye="[object RegExp]",Jye="[object Set]",eve="[object String]",tve="[object WeakMap]",nve="[object ArrayBuffer]",rve="[object DataView]",ive="[object Float32Array]",ove="[object Float64Array]",ave="[object Int8Array]",sve="[object Int16Array]",lve="[object Int32Array]",uve="[object Uint8Array]",Ave="[object Uint8ClampedArray]",cve="[object Uint16Array]",dve="[object Uint32Array]",ys={};ys[ive]=ys[ove]=ys[ave]=ys[sve]=ys[lve]=ys[uve]=ys[Ave]=ys[cve]=ys[dve]=!0;ys[Nye]=ys[Gye]=ys[nve]=ys[$ye]=ys[rve]=ys[Qye]=ys[Yye]=ys[qye]=ys[Hye]=ys[Vye]=ys[Zye]=ys[Xye]=ys[Jye]=ys[eve]=ys[tve]=!1;function hve(e){return Wye(e)&&jye(e.length)&&!!ys[zye(e)]}var fve=hve;function pve(e){return function(t){return e(t)}}var NI=pve,t5={exports:{}};t5.exports;(function(e,t){var n=YG,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var h=i&&i.require&&i.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(t5,t5.exports);var GI=t5.exports,mve=fve,gve=NI,FK=GI,LK=FK&&FK.isTypedArray,yve=LK?gve(LK):mve,$I=yve,vve=xye,_ve=zI,Cve=ad,bve=jw,xve=jI,wve=$I,Mve=Object.prototype,Sve=Mve.hasOwnProperty;function Eve(e,t){var n=Cve(e),r=!n&&_ve(e),i=!n&&!r&&bve(e),o=!n&&!r&&!i&&wve(e),a=n||r||i||o,s=a?vve(e.length,String):[],h=s.length;for(var g in e)(t||Sve.call(e,g))&&!(a&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||xve(g,h)))&&s.push(g);return s}var ZG=Eve,Ove=Object.prototype;function Bve(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ove;return e===n}var QI=Bve;function Ive(e,t){return function(n){return e(t(n))}}var XG=Ive,kve=XG,Tve=kve(Object.keys,Object),Pve=Tve,Kve=QI,Dve=Pve,Fve=Object.prototype,Lve=Fve.hasOwnProperty;function Uve(e){if(!Kve(e))return Dve(e);var t=[];for(var n in Object(e))Lve.call(e,n)&&n!="constructor"&&t.push(n);return t}var Rve=Uve;function zve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yd=zve,jve=V1,Wve=Yd,Nve="[object AsyncFunction]",Gve="[object Function]",$ve="[object GeneratorFunction]",Qve="[object Proxy]";function Yve(e){if(!Wve(e))return!1;var t=jve(e);return t==Gve||t==$ve||t==Nve||t==Qve}var YI=Yve,qve=YI,Hve=WI;function Vve(e){return e!=null&&Hve(e.length)&&!qve(e)}var Tv=Vve,Zve=ZG,Xve=Rve,Jve=Tv;function e_e(e){return Jve(e)?Zve(e):Xve(e)}var Qb=e_e,t_e=HG,n_e=Qb;function r_e(e,t){return e&&t_e(e,t,n_e)}var JG=r_e;function i_e(e){return e}var Ww=i_e,o_e=Ww;function a_e(e){return typeof e=="function"?e:o_e}var e$=a_e,s_e=JG,l_e=e$;function u_e(e,t){return e&&s_e(e,l_e(t))}var qI=u_e,A_e=XG,c_e=A_e(Object.getPrototypeOf,Object),HI=c_e,d_e=V1,h_e=HI,f_e=Vf,p_e="[object Object]",m_e=Function.prototype,g_e=Object.prototype,t$=m_e.toString,y_e=g_e.hasOwnProperty,v_e=t$.call(Object);function __e(e){if(!f_e(e)||d_e(e)!=p_e)return!1;var t=h_e(e);if(t===null)return!0;var n=y_e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&t$.call(n)==v_e}var n$=__e;function C_e(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var r$=C_e;function b_e(){this.__data__=[],this.size=0}var x_e=b_e;function w_e(e,t){return e===t||e!==e&&t!==t}var Yb=w_e,M_e=Yb;function S_e(e,t){for(var n=e.length;n--;)if(M_e(e[n][0],t))return n;return-1}var Nw=S_e,E_e=Nw,O_e=Array.prototype,B_e=O_e.splice;function I_e(e){var t=this.__data__,n=E_e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():B_e.call(t,n,1),--this.size,!0}var k_e=I_e,T_e=Nw;function P_e(e){var t=this.__data__,n=T_e(t,e);return n<0?void 0:t[n][1]}var K_e=P_e,D_e=Nw;function F_e(e){return D_e(this.__data__,e)>-1}var L_e=F_e,U_e=Nw;function R_e(e,t){var n=this.__data__,r=U_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var z_e=R_e,j_e=x_e,W_e=k_e,N_e=K_e,G_e=L_e,$_e=z_e;function Pv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pv.prototype.clear=j_e;Pv.prototype.delete=W_e;Pv.prototype.get=N_e;Pv.prototype.has=G_e;Pv.prototype.set=$_e;var Gw=Pv,Q_e=Gw;function Y_e(){this.__data__=new Q_e,this.size=0}var q_e=Y_e;function H_e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var V_e=H_e;function Z_e(e){return this.__data__.get(e)}var X_e=Z_e;function J_e(e){return this.__data__.has(e)}var eCe=J_e,tCe=Uh,nCe=tCe["__core-js_shared__"],rCe=nCe,d6=rCe,UK=function(){var e=/[^.]+$/.exec(d6&&d6.keys&&d6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iCe(e){return!!UK&&UK in e}var oCe=iCe,aCe=Function.prototype,sCe=aCe.toString;function lCe(e){if(e!=null){try{return sCe.call(e)}catch{}try{return e+""}catch{}}return""}var i$=lCe,uCe=YI,ACe=oCe,cCe=Yd,dCe=i$,hCe=/[\\^$.*+?()[\]{}|]/g,fCe=/^\[object .+?Constructor\]$/,pCe=Function.prototype,mCe=Object.prototype,gCe=pCe.toString,yCe=mCe.hasOwnProperty,vCe=RegExp("^"+gCe.call(yCe).replace(hCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _Ce(e){if(!cCe(e)||ACe(e))return!1;var t=uCe(e)?vCe:fCe;return t.test(dCe(e))}var CCe=_Ce;function bCe(e,t){return e==null?void 0:e[t]}var xCe=bCe,wCe=CCe,MCe=xCe;function SCe(e,t){var n=MCe(e,t);return wCe(n)?n:void 0}var Z1=SCe,ECe=Z1,OCe=Uh,BCe=ECe(OCe,"Map"),VI=BCe,ICe=Z1,kCe=ICe(Object,"create"),$w=kCe,RK=$w;function TCe(){this.__data__=RK?RK(null):{},this.size=0}var PCe=TCe;function KCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DCe=KCe,FCe=$w,LCe="__lodash_hash_undefined__",UCe=Object.prototype,RCe=UCe.hasOwnProperty;function zCe(e){var t=this.__data__;if(FCe){var n=t[e];return n===LCe?void 0:n}return RCe.call(t,e)?t[e]:void 0}var jCe=zCe,WCe=$w,NCe=Object.prototype,GCe=NCe.hasOwnProperty;function $Ce(e){var t=this.__data__;return WCe?t[e]!==void 0:GCe.call(t,e)}var QCe=$Ce,YCe=$w,qCe="__lodash_hash_undefined__";function HCe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=YCe&&t===void 0?qCe:t,this}var VCe=HCe,ZCe=PCe,XCe=DCe,JCe=jCe,ebe=QCe,tbe=VCe;function Kv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kv.prototype.clear=ZCe;Kv.prototype.delete=XCe;Kv.prototype.get=JCe;Kv.prototype.has=ebe;Kv.prototype.set=tbe;var nbe=Kv,zK=nbe,rbe=Gw,ibe=VI;function obe(){this.size=0,this.__data__={hash:new zK,map:new(ibe||rbe),string:new zK}}var abe=obe;function sbe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lbe=sbe,ube=lbe;function Abe(e,t){var n=e.__data__;return ube(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Qw=Abe,cbe=Qw;function dbe(e){var t=cbe(this,e).delete(e);return this.size-=t?1:0,t}var hbe=dbe,fbe=Qw;function pbe(e){return fbe(this,e).get(e)}var mbe=pbe,gbe=Qw;function ybe(e){return gbe(this,e).has(e)}var vbe=ybe,_be=Qw;function Cbe(e,t){var n=_be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var bbe=Cbe,xbe=abe,wbe=hbe,Mbe=mbe,Sbe=vbe,Ebe=bbe;function Dv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dv.prototype.clear=xbe;Dv.prototype.delete=wbe;Dv.prototype.get=Mbe;Dv.prototype.has=Sbe;Dv.prototype.set=Ebe;var ZI=Dv,Obe=Gw,Bbe=VI,Ibe=ZI,kbe=200;function Tbe(e,t){var n=this.__data__;if(n instanceof Obe){var r=n.__data__;if(!Bbe||r.length<kbe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ibe(r)}return n.set(e,t),this.size=n.size,this}var Pbe=Tbe,Kbe=Gw,Dbe=q_e,Fbe=V_e,Lbe=X_e,Ube=eCe,Rbe=Pbe;function Fv(e){var t=this.__data__=new Kbe(e);this.size=t.size}Fv.prototype.clear=Dbe;Fv.prototype.delete=Fbe;Fv.prototype.get=Lbe;Fv.prototype.has=Ube;Fv.prototype.set=Rbe;var Yw=Fv,zbe="__lodash_hash_undefined__";function jbe(e){return this.__data__.set(e,zbe),this}var Wbe=jbe;function Nbe(e){return this.__data__.has(e)}var Gbe=Nbe,$be=ZI,Qbe=Wbe,Ybe=Gbe;function n5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $be;++t<n;)this.add(e[t])}n5.prototype.add=n5.prototype.push=Qbe;n5.prototype.has=Ybe;var qbe=n5;function Hbe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vbe=Hbe;function Zbe(e,t){return e.has(t)}var Xbe=Zbe,Jbe=qbe,exe=Vbe,txe=Xbe,nxe=1,rxe=2;function ixe(e,t,n,r,i,o){var a=n&nxe,s=e.length,h=t.length;if(s!=h&&!(a&&h>s))return!1;var g=o.get(e),_=o.get(t);if(g&&_)return g==t&&_==e;var E=-1,O=!0,K=n&rxe?new Jbe:void 0;for(o.set(e,t),o.set(t,e);++E<s;){var D=e[E],Y=t[E];if(r)var ee=a?r(Y,D,E,t,e,o):r(D,Y,E,e,t,o);if(ee!==void 0){if(ee)continue;O=!1;break}if(K){if(!exe(t,function(H,N){if(!txe(K,N)&&(D===H||i(D,H,n,r,o)))return K.push(N)})){O=!1;break}}else if(!(D===Y||i(D,Y,n,r,o))){O=!1;break}}return o.delete(e),o.delete(t),O}var o$=ixe,oxe=Uh,axe=oxe.Uint8Array,a$=axe;function sxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var lxe=sxe;function uxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Axe=uxe,jK=$b,WK=a$,cxe=Yb,dxe=o$,hxe=lxe,fxe=Axe,pxe=1,mxe=2,gxe="[object Boolean]",yxe="[object Date]",vxe="[object Error]",_xe="[object Map]",Cxe="[object Number]",bxe="[object RegExp]",xxe="[object Set]",wxe="[object String]",Mxe="[object Symbol]",Sxe="[object ArrayBuffer]",Exe="[object DataView]",NK=jK?jK.prototype:void 0,h6=NK?NK.valueOf:void 0;function Oxe(e,t,n,r,i,o,a){switch(n){case Exe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Sxe:return!(e.byteLength!=t.byteLength||!o(new WK(e),new WK(t)));case gxe:case yxe:case Cxe:return cxe(+e,+t);case vxe:return e.name==t.name&&e.message==t.message;case bxe:case wxe:return e==t+"";case _xe:var s=hxe;case xxe:var h=r&pxe;if(s||(s=fxe),e.size!=t.size&&!h)return!1;var g=a.get(e);if(g)return g==t;r|=mxe,a.set(e,t);var _=dxe(s(e),s(t),r,i,o,a);return a.delete(e),_;case Mxe:if(h6)return h6.call(e)==h6.call(t)}return!1}var Bxe=Oxe;function Ixe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var s$=Ixe,kxe=s$,Txe=ad;function Pxe(e,t,n){var r=t(e);return Txe(e)?r:kxe(r,n(e))}var l$=Pxe;function Kxe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var Dxe=Kxe;function Fxe(){return[]}var u$=Fxe,Lxe=Dxe,Uxe=u$,Rxe=Object.prototype,zxe=Rxe.propertyIsEnumerable,GK=Object.getOwnPropertySymbols,jxe=GK?function(e){return e==null?[]:(e=Object(e),Lxe(GK(e),function(t){return zxe.call(e,t)}))}:Uxe,XI=jxe,Wxe=l$,Nxe=XI,Gxe=Qb;function $xe(e){return Wxe(e,Gxe,Nxe)}var A$=$xe,$K=A$,Qxe=1,Yxe=Object.prototype,qxe=Yxe.hasOwnProperty;function Hxe(e,t,n,r,i,o){var a=n&Qxe,s=$K(e),h=s.length,g=$K(t),_=g.length;if(h!=_&&!a)return!1;for(var E=h;E--;){var O=s[E];if(!(a?O in t:qxe.call(t,O)))return!1}var K=o.get(e),D=o.get(t);if(K&&D)return K==t&&D==e;var Y=!0;o.set(e,t),o.set(t,e);for(var ee=a;++E<h;){O=s[E];var H=e[O],N=t[O];if(r)var Z=a?r(N,H,O,t,e,o):r(H,N,O,e,t,o);if(!(Z===void 0?H===N||i(H,N,n,r,o):Z)){Y=!1;break}ee||(ee=O=="constructor")}if(Y&&!ee){var ue=e.constructor,ye=t.constructor;ue!=ye&&"constructor"in e&&"constructor"in t&&!(typeof ue=="function"&&ue instanceof ue&&typeof ye=="function"&&ye instanceof ye)&&(Y=!1)}return o.delete(e),o.delete(t),Y}var Vxe=Hxe,Zxe=Z1,Xxe=Uh,Jxe=Zxe(Xxe,"DataView"),e2e=Jxe,t2e=Z1,n2e=Uh,r2e=t2e(n2e,"Promise"),i2e=r2e,o2e=Z1,a2e=Uh,s2e=o2e(a2e,"Set"),l2e=s2e,u2e=Z1,A2e=Uh,c2e=u2e(A2e,"WeakMap"),d2e=c2e,pB=e2e,mB=VI,gB=i2e,yB=l2e,vB=d2e,c$=V1,Lv=i$,QK="[object Map]",h2e="[object Object]",YK="[object Promise]",qK="[object Set]",HK="[object WeakMap]",VK="[object DataView]",f2e=Lv(pB),p2e=Lv(mB),m2e=Lv(gB),g2e=Lv(yB),y2e=Lv(vB),t1=c$;(pB&&t1(new pB(new ArrayBuffer(1)))!=VK||mB&&t1(new mB)!=QK||gB&&t1(gB.resolve())!=YK||yB&&t1(new yB)!=qK||vB&&t1(new vB)!=HK)&&(t1=function(e){var t=c$(e),n=t==h2e?e.constructor:void 0,r=n?Lv(n):"";if(r)switch(r){case f2e:return VK;case p2e:return QK;case m2e:return YK;case g2e:return qK;case y2e:return HK}return t});var qw=t1,f6=Yw,v2e=o$,_2e=Bxe,C2e=Vxe,ZK=qw,XK=ad,JK=jw,b2e=$I,x2e=1,eD="[object Arguments]",tD="[object Array]",j2="[object Object]",w2e=Object.prototype,nD=w2e.hasOwnProperty;function M2e(e,t,n,r,i,o){var a=XK(e),s=XK(t),h=a?tD:ZK(e),g=s?tD:ZK(t);h=h==eD?j2:h,g=g==eD?j2:g;var _=h==j2,E=g==j2,O=h==g;if(O&&JK(e)){if(!JK(t))return!1;a=!0,_=!1}if(O&&!_)return o||(o=new f6),a||b2e(e)?v2e(e,t,n,r,i,o):_2e(e,t,h,n,r,i,o);if(!(n&x2e)){var K=_&&nD.call(e,"__wrapped__"),D=E&&nD.call(t,"__wrapped__");if(K||D){var Y=K?e.value():e,ee=D?t.value():t;return o||(o=new f6),i(Y,ee,n,r,o)}}return O?(o||(o=new f6),C2e(e,t,n,r,i,o)):!1}var S2e=M2e,E2e=S2e,rD=Vf;function d$(e,t,n,r,i){return e===t?!0:e==null||t==null||!rD(e)&&!rD(t)?e!==e&&t!==t:E2e(e,t,n,r,d$,i)}var h$=d$,O2e=Yw,B2e=h$,I2e=1,k2e=2;function T2e(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var h=s[0],g=e[h],_=s[1];if(a&&s[2]){if(g===void 0&&!(h in e))return!1}else{var E=new O2e;if(r)var O=r(g,_,h,e,t,E);if(!(O===void 0?B2e(_,g,I2e|k2e,r,E):O))return!1}}return!0}var P2e=T2e,K2e=Yd;function D2e(e){return e===e&&!K2e(e)}var f$=D2e,F2e=f$,L2e=Qb;function U2e(e){for(var t=L2e(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,F2e(i)]}return t}var R2e=U2e;function z2e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var p$=z2e,j2e=P2e,W2e=R2e,N2e=p$;function G2e(e){var t=W2e(e);return t.length==1&&t[0][2]?N2e(t[0][0],t[0][1]):function(n){return n===e||j2e(n,e,t)}}var $2e=G2e,Q2e=V1,Y2e=Vf,q2e="[object Symbol]";function H2e(e){return typeof e=="symbol"||Y2e(e)&&Q2e(e)==q2e}var Hw=H2e,V2e=ad,Z2e=Hw,X2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J2e=/^\w*$/;function e3e(e,t){if(V2e(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Z2e(e)?!0:J2e.test(e)||!X2e.test(e)||t!=null&&e in Object(t)}var JI=e3e,m$=ZI,t3e="Expected a function";function ek(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(t3e);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ek.Cache||m$),n}ek.Cache=m$;var n3e=ek,r3e=n3e,i3e=500;function o3e(e){var t=r3e(e,function(r){return n.size===i3e&&n.clear(),r}),n=t.cache;return t}var a3e=o3e,s3e=a3e,l3e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u3e=/\\(\\)?/g,A3e=s3e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l3e,function(n,r,i,o){t.push(i?o.replace(u3e,"$1"):r||n)}),t}),c3e=A3e,iD=$b,d3e=r$,h3e=ad,f3e=Hw,p3e=1/0,oD=iD?iD.prototype:void 0,aD=oD?oD.toString:void 0;function g$(e){if(typeof e=="string")return e;if(h3e(e))return d3e(e,g$)+"";if(f3e(e))return aD?aD.call(e):"";var t=e+"";return t=="0"&&1/e==-p3e?"-0":t}var m3e=g$,g3e=m3e;function y3e(e){return e==null?"":g3e(e)}var v3e=y3e,_3e=ad,C3e=JI,b3e=c3e,x3e=v3e;function w3e(e,t){return _3e(e)?e:C3e(e,t)?[e]:b3e(x3e(e))}var y$=w3e,M3e=Hw,S3e=1/0;function E3e(e){if(typeof e=="string"||M3e(e))return e;var t=e+"";return t=="0"&&1/e==-S3e?"-0":t}var Vw=E3e,O3e=y$,B3e=Vw;function I3e(e,t){t=O3e(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[B3e(t[n++])];return n&&n==r?e:void 0}var v$=I3e,k3e=v$;function T3e(e,t,n){var r=e==null?void 0:k3e(e,t);return r===void 0?n:r}var P3e=T3e;function K3e(e,t){return e!=null&&t in Object(e)}var D3e=K3e,F3e=y$,L3e=zI,U3e=ad,R3e=jI,z3e=WI,j3e=Vw;function W3e(e,t,n){t=F3e(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=j3e(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&z3e(i)&&R3e(a,i)&&(U3e(e)||L3e(e)))}var N3e=W3e,G3e=D3e,$3e=N3e;function Q3e(e,t){return e!=null&&$3e(e,t,G3e)}var Y3e=Q3e,q3e=h$,H3e=P3e,V3e=Y3e,Z3e=JI,X3e=f$,J3e=p$,e4e=Vw,t4e=1,n4e=2;function r4e(e,t){return Z3e(e)&&X3e(t)?J3e(e4e(e),t):function(n){var r=H3e(n,e);return r===void 0&&r===t?V3e(n,e):q3e(t,r,t4e|n4e)}}var i4e=r4e;function o4e(e){return function(t){return t==null?void 0:t[e]}}var a4e=o4e,s4e=v$;function l4e(e){return function(t){return s4e(t,e)}}var u4e=l4e,A4e=a4e,c4e=u4e,d4e=JI,h4e=Vw;function f4e(e){return d4e(e)?A4e(h4e(e)):c4e(e)}var p4e=f4e,m4e=$2e,g4e=i4e,y4e=Ww,v4e=ad,_4e=p4e;function C4e(e){return typeof e=="function"?e:e==null?y4e:typeof e=="object"?v4e(e)?g4e(e[0],e[1]):m4e(e):_4e(e)}var b4e=C4e,x4e=Tv;function w4e(e,t){return function(n,r){if(n==null)return n;if(!x4e(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var M4e=w4e,S4e=JG,E4e=M4e,O4e=E4e(S4e),_$=O4e,B4e=_$,I4e=Tv;function k4e(e,t){var n=-1,r=I4e(e)?Array(e.length):[];return B4e(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var T4e=k4e,P4e=r$,K4e=b4e,D4e=T4e,F4e=ad;function L4e(e,t){var n=F4e(e)?P4e:D4e;return n(e,K4e(t))}var U4e=L4e;Object.defineProperty(Gb,"__esModule",{value:!0});Gb.flattenNames=void 0;var R4e=gye,z4e=Zw(R4e),j4e=qI,W4e=Zw(j4e),N4e=n$,G4e=Zw(N4e),$4e=U4e,Q4e=Zw($4e);function Zw(e){return e&&e.__esModule?e:{default:e}}var Y4e=Gb.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Q4e.default)(t,function(r){Array.isArray(r)?e(r).map(function(i){return n.push(i)}):(0,G4e.default)(r)?(0,W4e.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,z4e.default)(r)&&n.push(r)}),n};Gb.default=Y4e;var qb={};function q4e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var C$=q4e,H4e=Z1,V4e=function(){try{var e=H4e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),b$=V4e,sD=b$;function Z4e(e,t,n){t=="__proto__"&&sD?sD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var tk=Z4e,X4e=tk,J4e=Yb,e5e=Object.prototype,t5e=e5e.hasOwnProperty;function n5e(e,t,n){var r=e[t];(!(t5e.call(e,t)&&J4e(r,n))||n===void 0&&!(t in e))&&X4e(e,t,n)}var x$=n5e,r5e=x$,i5e=tk;function o5e(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],h=r?r(n[s],e[s],s,n,e):void 0;h===void 0&&(h=e[s]),i?i5e(n,s,h):r5e(n,s,h)}return n}var Hb=o5e,a5e=Hb,s5e=Qb;function l5e(e,t){return e&&a5e(t,s5e(t),e)}var u5e=l5e;function A5e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var c5e=A5e,d5e=Yd,h5e=QI,f5e=c5e,p5e=Object.prototype,m5e=p5e.hasOwnProperty;function g5e(e){if(!d5e(e))return f5e(e);var t=h5e(e),n=[];for(var r in e)r=="constructor"&&(t||!m5e.call(e,r))||n.push(r);return n}var y5e=g5e,v5e=ZG,_5e=y5e,C5e=Tv;function b5e(e){return C5e(e)?v5e(e,!0):_5e(e)}var Vb=b5e,x5e=Hb,w5e=Vb;function M5e(e,t){return e&&x5e(t,w5e(t),e)}var S5e=M5e,r5={exports:{}};r5.exports;(function(e,t){var n=Uh,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function h(g,_){if(_)return g.slice();var E=g.length,O=s?s(E):new g.constructor(E);return g.copy(O),O}e.exports=h})(r5,r5.exports);var w$=r5.exports;function E5e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var M$=E5e,O5e=Hb,B5e=XI;function I5e(e,t){return O5e(e,B5e(e),t)}var k5e=I5e,T5e=s$,P5e=HI,K5e=XI,D5e=u$,F5e=Object.getOwnPropertySymbols,L5e=F5e?function(e){for(var t=[];e;)T5e(t,K5e(e)),e=P5e(e);return t}:D5e,S$=L5e,U5e=Hb,R5e=S$;function z5e(e,t){return U5e(e,R5e(e),t)}var j5e=z5e,W5e=l$,N5e=S$,G5e=Vb;function $5e(e){return W5e(e,G5e,N5e)}var Q5e=$5e,Y5e=Object.prototype,q5e=Y5e.hasOwnProperty;function H5e(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&q5e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var V5e=H5e,lD=a$;function Z5e(e){var t=new e.constructor(e.byteLength);return new lD(t).set(new lD(e)),t}var nk=Z5e,X5e=nk;function J5e(e,t){var n=t?X5e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ewe=J5e,twe=/\w*$/;function nwe(e){var t=new e.constructor(e.source,twe.exec(e));return t.lastIndex=e.lastIndex,t}var rwe=nwe,uD=$b,AD=uD?uD.prototype:void 0,cD=AD?AD.valueOf:void 0;function iwe(e){return cD?Object(cD.call(e)):{}}var owe=iwe,awe=nk;function swe(e,t){var n=t?awe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var E$=swe,lwe=nk,uwe=ewe,Awe=rwe,cwe=owe,dwe=E$,hwe="[object Boolean]",fwe="[object Date]",pwe="[object Map]",mwe="[object Number]",gwe="[object RegExp]",ywe="[object Set]",vwe="[object String]",_we="[object Symbol]",Cwe="[object ArrayBuffer]",bwe="[object DataView]",xwe="[object Float32Array]",wwe="[object Float64Array]",Mwe="[object Int8Array]",Swe="[object Int16Array]",Ewe="[object Int32Array]",Owe="[object Uint8Array]",Bwe="[object Uint8ClampedArray]",Iwe="[object Uint16Array]",kwe="[object Uint32Array]";function Twe(e,t,n){var r=e.constructor;switch(t){case Cwe:return lwe(e);case hwe:case fwe:return new r(+e);case bwe:return uwe(e,n);case xwe:case wwe:case Mwe:case Swe:case Ewe:case Owe:case Bwe:case Iwe:case kwe:return dwe(e,n);case pwe:return new r;case mwe:case vwe:return new r(e);case gwe:return Awe(e);case ywe:return new r;case _we:return cwe(e)}}var Pwe=Twe,Kwe=Yd,dD=Object.create,Dwe=function(){function e(){}return function(t){if(!Kwe(t))return{};if(dD)return dD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Fwe=Dwe,Lwe=Fwe,Uwe=HI,Rwe=QI;function zwe(e){return typeof e.constructor=="function"&&!Rwe(e)?Lwe(Uwe(e)):{}}var O$=zwe,jwe=qw,Wwe=Vf,Nwe="[object Map]";function Gwe(e){return Wwe(e)&&jwe(e)==Nwe}var $we=Gwe,Qwe=$we,Ywe=NI,hD=GI,fD=hD&&hD.isMap,qwe=fD?Ywe(fD):Qwe,Hwe=qwe,Vwe=qw,Zwe=Vf,Xwe="[object Set]";function Jwe(e){return Zwe(e)&&Vwe(e)==Xwe}var eMe=Jwe,tMe=eMe,nMe=NI,pD=GI,mD=pD&&pD.isSet,rMe=mD?nMe(mD):tMe,iMe=rMe,oMe=Yw,aMe=C$,sMe=x$,lMe=u5e,uMe=S5e,AMe=w$,cMe=M$,dMe=k5e,hMe=j5e,fMe=A$,pMe=Q5e,mMe=qw,gMe=V5e,yMe=Pwe,vMe=O$,_Me=ad,CMe=jw,bMe=Hwe,xMe=Yd,wMe=iMe,MMe=Qb,SMe=Vb,EMe=1,OMe=2,BMe=4,B$="[object Arguments]",IMe="[object Array]",kMe="[object Boolean]",TMe="[object Date]",PMe="[object Error]",I$="[object Function]",KMe="[object GeneratorFunction]",DMe="[object Map]",FMe="[object Number]",k$="[object Object]",LMe="[object RegExp]",UMe="[object Set]",RMe="[object String]",zMe="[object Symbol]",jMe="[object WeakMap]",WMe="[object ArrayBuffer]",NMe="[object DataView]",GMe="[object Float32Array]",$Me="[object Float64Array]",QMe="[object Int8Array]",YMe="[object Int16Array]",qMe="[object Int32Array]",HMe="[object Uint8Array]",VMe="[object Uint8ClampedArray]",ZMe="[object Uint16Array]",XMe="[object Uint32Array]",ts={};ts[B$]=ts[IMe]=ts[WMe]=ts[NMe]=ts[kMe]=ts[TMe]=ts[GMe]=ts[$Me]=ts[QMe]=ts[YMe]=ts[qMe]=ts[DMe]=ts[FMe]=ts[k$]=ts[LMe]=ts[UMe]=ts[RMe]=ts[zMe]=ts[HMe]=ts[VMe]=ts[ZMe]=ts[XMe]=!0;ts[PMe]=ts[I$]=ts[jMe]=!1;function _3(e,t,n,r,i,o){var a,s=t&EMe,h=t&OMe,g=t&BMe;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!xMe(e))return e;var _=_Me(e);if(_){if(a=gMe(e),!s)return cMe(e,a)}else{var E=mMe(e),O=E==I$||E==KMe;if(CMe(e))return AMe(e,s);if(E==k$||E==B$||O&&!i){if(a=h||O?{}:vMe(e),!s)return h?hMe(e,uMe(a,e)):dMe(e,lMe(a,e))}else{if(!ts[E])return i?e:{};a=yMe(e,E,s)}}o||(o=new oMe);var K=o.get(e);if(K)return K;o.set(e,a),wMe(e)?e.forEach(function(ee){a.add(_3(ee,t,n,ee,e,o))}):bMe(e)&&e.forEach(function(ee,H){a.set(H,_3(ee,t,n,H,e,o))});var D=g?h?pMe:fMe:h?SMe:MMe,Y=_?void 0:D(e);return aMe(Y||e,function(ee,H){Y&&(H=ee,ee=e[H]),sMe(a,H,_3(ee,t,n,H,e,o))}),a}var JMe=_3,eSe=JMe,tSe=1,nSe=4;function rSe(e){return eSe(e,tSe|nSe)}var iSe=rSe;Object.defineProperty(qb,"__esModule",{value:!0});qb.mergeClasses=void 0;var oSe=qI,aSe=T$(oSe),sSe=iSe,lSe=T$(sSe),uSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function T$(e){return e&&e.__esModule?e:{default:e}}var ASe=qb.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,lSe.default)(t.default)||{};return n.map(function(i){var o=t[i];return o&&(0,aSe.default)(o,function(a,s){r[s]||(r[s]={}),r[s]=uSe({},r[s],o[s])}),i}),r};qb.default=ASe;var Zb={};Object.defineProperty(Zb,"__esModule",{value:!0});Zb.autoprefix=void 0;var cSe=qI,gD=hSe(cSe),dSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function hSe(e){return e&&e.__esModule?e:{default:e}}var fSe={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},pSe=Zb.autoprefix=function(t){var n={};return(0,gD.default)(t,function(r,i){var o={};(0,gD.default)(r,function(a,s){var h=fSe[s];h?o=dSe({},o,h(a)):o[s]=a}),n[i]=o}),n};Zb.default=pSe;var Xb={};Object.defineProperty(Xb,"__esModule",{value:!0});Xb.hover=void 0;var mSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gSe=Ir,p6=ySe(gSe);function ySe(e){return e&&e.__esModule?e:{default:e}}function vSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var CSe=Xb.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){_Se(i,r);function i(){var o,a,s,h;vSe(this,i);for(var g=arguments.length,_=Array(g),E=0;E<g;E++)_[E]=arguments[E];return h=(a=(s=yD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(_))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return p6.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},p6.default.createElement(t,mSe({},s.props,s.state)))},a),yD(s,h)}return i}(p6.default.Component)};Xb.default=CSe;var Jb={};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.active=void 0;var bSe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xSe=Ir,m6=wSe(xSe);function wSe(e){return e&&e.__esModule?e:{default:e}}function MSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function SSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ESe=Jb.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){SSe(i,r);function i(){var o,a,s,h;MSe(this,i);for(var g=arguments.length,_=Array(g),E=0;E<g;E++)_[E]=arguments[E];return h=(a=(s=vD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(_))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return m6.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},m6.default.createElement(t,bSe({},s.props,s.state)))},a),vD(s,h)}return i}(m6.default.Component)};Jb.default=ESe;var rk={};Object.defineProperty(rk,"__esModule",{value:!0});var OSe=function(t,n){var r={},i=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[a]=s};return t===0&&i("first-child"),t===n-1&&i("last-child"),(t===0||t%2===0)&&i("even"),Math.abs(t%2)===1&&i("odd"),i("nth-child",t),r};rk.default=OSe;Object.defineProperty(qs,"__esModule",{value:!0});qs.ReactCSS=qs.loop=qs.handleActive=qs.handleHover=qs.hover=void 0;var BSe=Gb,ISe=Uv(BSe),kSe=qb,TSe=Uv(kSe),PSe=Zb,KSe=Uv(PSe),DSe=Xb,P$=Uv(DSe),FSe=Jb,LSe=Uv(FSe),USe=rk,RSe=Uv(USe);function Uv(e){return e&&e.__esModule?e:{default:e}}qs.hover=P$.default;qs.handleHover=P$.default;qs.handleActive=LSe.default;qs.loop=RSe.default;var zSe=qs.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,ISe.default)(r),a=(0,TSe.default)(t,o);return(0,KSe.default)(a)};qs.default=zSe;var jSe=tk,WSe=Yb;function NSe(e,t,n){(n!==void 0&&!WSe(e[t],n)||n===void 0&&!(t in e))&&jSe(e,t,n)}var K$=NSe,GSe=Tv,$Se=Vf;function QSe(e){return $Se(e)&&GSe(e)}var YSe=QSe;function qSe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var D$=qSe,HSe=Hb,VSe=Vb;function ZSe(e){return HSe(e,VSe(e))}var XSe=ZSe,_D=K$,JSe=w$,e6e=E$,t6e=M$,n6e=O$,CD=zI,bD=ad,r6e=YSe,i6e=jw,o6e=YI,a6e=Yd,s6e=n$,l6e=$I,xD=D$,u6e=XSe;function A6e(e,t,n,r,i,o,a){var s=xD(e,n),h=xD(t,n),g=a.get(h);if(g){_D(e,n,g);return}var _=o?o(s,h,n+"",e,t,a):void 0,E=_===void 0;if(E){var O=bD(h),K=!O&&i6e(h),D=!O&&!K&&l6e(h);_=h,O||K||D?bD(s)?_=s:r6e(s)?_=t6e(s):K?(E=!1,_=JSe(h,!0)):D?(E=!1,_=e6e(h,!0)):_=[]:s6e(h)||CD(h)?(_=s,CD(s)?_=u6e(s):(!a6e(s)||o6e(s))&&(_=n6e(h))):E=!1}E&&(a.set(h,_),i(_,h,r,o,a),a.delete(h)),_D(e,n,_)}var c6e=A6e,d6e=Yw,h6e=K$,f6e=HG,p6e=c6e,m6e=Yd,g6e=Vb,y6e=D$;function F$(e,t,n,r,i){e!==t&&f6e(t,function(o,a){if(i||(i=new d6e),m6e(o))p6e(e,t,a,n,F$,r,i);else{var s=r?r(y6e(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),h6e(e,a,s)}},g6e)}var v6e=F$;function _6e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var C6e=_6e,b6e=C6e,wD=Math.max;function x6e(e,t,n){return t=wD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=wD(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),b6e(e,this,s)}}var w6e=x6e;function M6e(e){return function(){return e}}var S6e=M6e,E6e=S6e,MD=b$,O6e=Ww,B6e=MD?function(e,t){return MD(e,"toString",{configurable:!0,enumerable:!1,value:E6e(t),writable:!0})}:O6e,I6e=B6e,k6e=800,T6e=16,P6e=Date.now;function K6e(e){var t=0,n=0;return function(){var r=P6e(),i=T6e-(r-n);if(n=r,i>0){if(++t>=k6e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var D6e=K6e,F6e=I6e,L6e=D6e,U6e=L6e(F6e),R6e=U6e,z6e=Ww,j6e=w6e,W6e=R6e;function N6e(e,t){return W6e(j6e(e,t,z6e),e+"")}var G6e=N6e,$6e=Yb,Q6e=Tv,Y6e=jI,q6e=Yd;function H6e(e,t,n){if(!q6e(n))return!1;var r=typeof t;return(r=="number"?Q6e(n)&&Y6e(t,n.length):r=="string"&&t in n)?$6e(n[t],e):!1}var V6e=H6e,Z6e=G6e,X6e=V6e;function J6e(e){return Z6e(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&X6e(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}var eEe=J6e,tEe=v6e,nEe=eEe,rEe=nEe(function(e,t,n){tEe(e,t,n)}),L$=rEe,ik={},ex={},ok={};Object.defineProperty(ok,"__esModule",{value:!0});ok.calculateChange=function(t,n,r,i,o){var a=o.clientWidth,s=o.clientHeight,h=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,_=h-(o.getBoundingClientRect().left+window.pageXOffset),E=g-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var O=void 0;if(E<0?O=0:E>s?O=1:O=Math.round(E*100/s)/100,n.a!==O)return{h:n.h,s:n.s,l:n.l,a:O,source:"rgb"}}else{var K=void 0;if(_<0?K=0:_>a?K=1:K=Math.round(_*100/a)/100,i!==K)return{h:n.h,s:n.s,l:n.l,a:K,source:"rgb"}}return null};var X1={},Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});var g6={},iEe=Xw.render=function(t,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var a=o.getContext("2d");return a?(a.fillStyle=t,a.fillRect(0,0,o.width,o.height),a.fillStyle=n,a.fillRect(0,0,r,r),a.translate(r,r),a.fillRect(0,0,r,r),o.toDataURL()):null};Xw.get=function(t,n,r,i){var o=t+"-"+n+"-"+r+(i?"-server":"");if(g6[o])return g6[o];var a=iEe(t,n,r,i);return g6[o]=a,a};Object.defineProperty(X1,"__esModule",{value:!0});X1.Checkboard=void 0;var SD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U$=Ir,ED=R$(U$),oEe=qs,aEe=R$(oEe),sEe=Xw,lEe=uEe(sEe);function uEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R$(e){return e&&e.__esModule?e:{default:e}}var z$=X1.Checkboard=function(t){var n=t.white,r=t.grey,i=t.size,o=t.renderers,a=t.borderRadius,s=t.boxShadow,h=t.children,g=(0,aEe.default)({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+lEe.get(n,r,i,o.canvas)+") center left"}}});return(0,U$.isValidElement)(h)?ED.default.cloneElement(h,SD({},h.props,{style:SD({},h.props.style,g.grid)})):ED.default.createElement("div",{style:g.grid})};z$.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};X1.default=z$;Object.defineProperty(ex,"__esModule",{value:!0});ex.Alpha=void 0;var AEe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_B=Ir,Em=ak(_B),dEe=qs,hEe=ak(dEe),fEe=ok,pEe=yEe(fEe),mEe=X1,gEe=ak(mEe);function yEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ak(e){return e&&e.__esModule?e:{default:e}}function vEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _Ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var CEe=ex.Alpha=function(e){_Ee(t,e);function t(){var n,r,i,o;vEe(this,t);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];return o=(r=(i=OD(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),i),i.handleChange=function(g){var _=pEe.calculateChange(g,i.props.hsl,i.props.direction,i.props.a,i.container);_&&typeof i.props.onChange=="function"&&i.props.onChange(_,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),OD(i,o)}return cEe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,hEe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:AEe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Em.default.createElement("div",{style:o.alpha},Em.default.createElement("div",{style:o.checkboard},Em.default.createElement(gEe.default,{renderers:this.props.renderers})),Em.default.createElement("div",{style:o.gradient}),Em.default.createElement("div",{style:o.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Em.default.createElement("div",{style:o.pointer},this.props.pointer?Em.default.createElement(this.props.pointer,this.props):Em.default.createElement("div",{style:o.slider}))))}}]),t}(_B.PureComponent||_B.Component);ex.default=CEe;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.EditableInput=void 0;var bEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),CB=Ir,y6=j$(CB),xEe=qs,wEe=j$(xEe);function j$(e){return e&&e.__esModule?e:{default:e}}function MEe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EEe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function OEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BEe=1,W$=38,IEe=40,kEe=[W$,IEe],TEe=function(t){return kEe.indexOf(t)>-1},PEe=function(t){return Number(String(t).replace(/%/g,""))},KEe=1,DEe=tx.EditableInput=function(e){OEe(t,e);function t(n){SEe(this,t);var r=EEe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=PEe(i.target.value);if(!isNaN(o)&&TEe(i.keyCode)){var a=r.getArrowOffset(),s=i.keyCode===W$?o+a:o-a;r.setUpdatedValue(s,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+KEe++,r}return bEe(t,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return MEe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||BEe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,wEe.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return y6.default.createElement("div",{style:i.wrap},y6.default.createElement("input",{id:this.inputId,style:i.input,ref:function(a){return r.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?y6.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(CB.PureComponent||CB.Component);tx.default=DEe;var nx={},sk={};Object.defineProperty(sk,"__esModule",{value:!0});sk.calculateChange=function(t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=s-(i.getBoundingClientRect().left+window.pageXOffset),_=h-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var E=void 0;if(_<0)E=359;else if(_>a)E=0;else{var O=-(_*100/a)+100;E=360*O/100}if(r.h!==E)return{h:E,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var K=void 0;if(g<0)K=0;else if(g>o)K=359;else{var D=g*100/o;K=360*D/100}if(r.h!==K)return{h:K,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(nx,"__esModule",{value:!0});nx.Hue=void 0;var FEe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bB=Ir,jg=N$(bB),LEe=qs,UEe=N$(LEe),REe=sk,zEe=jEe(REe);function jEe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N$(e){return e&&e.__esModule?e:{default:e}}function WEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function NEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var GEe=nx.Hue=function(e){NEe(t,e);function t(){var n,r,i,o;WEe(this,t);for(var a=arguments.length,s=Array(a),h=0;h<a;h++)s[h]=arguments[h];return o=(r=(i=BD(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),i),i.handleChange=function(g){var _=zEe.calculateChange(g,i.props.direction,i.props.hsl,i.container);_&&typeof i.props.onChange=="function"&&i.props.onChange(_,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),BD(i,o)}return FEe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,a=(0,UEe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return jg.default.createElement("div",{style:a.hue},jg.default.createElement("div",{className:"hue-"+o,style:a.container,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},jg.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),jg.default.createElement("div",{style:a.pointer},this.props.pointer?jg.default.createElement(this.props.pointer,this.props):jg.default.createElement("div",{style:a.slider}))))}}]),t}(bB.PureComponent||bB.Component);nx.default=GEe;var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.Raised=void 0;var $Ee=Ir,v6=Jw($Ee),QEe=Fh,W2=Jw(QEe),YEe=qs,qEe=Jw(YEe),HEe=L$,VEe=Jw(HEe);function Jw(e){return e&&e.__esModule?e:{default:e}}var lk=rx.Raised=function(t){var n=t.zDepth,r=t.radius,i=t.background,o=t.children,a=t.styles,s=a===void 0?{}:a,h=(0,qEe.default)((0,VEe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return v6.default.createElement("div",{style:h.wrap},v6.default.createElement("div",{style:h.bg}),v6.default.createElement("div",{style:h.content},o))};lk.propTypes={background:W2.default.string,zDepth:W2.default.oneOf([0,1,2,3,4,5]),radius:W2.default.number,styles:W2.default.object};lk.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};rx.default=lk;var ix={},ZEe=Uh,XEe=function(){return ZEe.Date.now()},JEe=XEe,eOe=/\s/;function tOe(e){for(var t=e.length;t--&&eOe.test(e.charAt(t)););return t}var nOe=tOe,rOe=nOe,iOe=/^\s+/;function oOe(e){return e&&e.slice(0,rOe(e)+1).replace(iOe,"")}var aOe=oOe,sOe=aOe,ID=Yd,lOe=Hw,kD=NaN,uOe=/^[-+]0x[0-9a-f]+$/i,AOe=/^0b[01]+$/i,cOe=/^0o[0-7]+$/i,dOe=parseInt;function hOe(e){if(typeof e=="number")return e;if(lOe(e))return kD;if(ID(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ID(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sOe(e);var n=AOe.test(e);return n||cOe.test(e)?dOe(e.slice(2),n?2:8):uOe.test(e)?kD:+e}var fOe=hOe,pOe=Yd,_6=JEe,TD=fOe,mOe="Expected a function",gOe=Math.max,yOe=Math.min;function vOe(e,t,n){var r,i,o,a,s,h,g=0,_=!1,E=!1,O=!0;if(typeof e!="function")throw new TypeError(mOe);t=TD(t)||0,pOe(n)&&(_=!!n.leading,E="maxWait"in n,o=E?gOe(TD(n.maxWait)||0,t):o,O="trailing"in n?!!n.trailing:O);function K(be){var X=r,se=i;return r=i=void 0,g=be,a=e.apply(se,X),a}function D(be){return g=be,s=setTimeout(H,t),_?K(be):a}function Y(be){var X=be-h,se=be-g,we=t-X;return E?yOe(we,o-se):we}function ee(be){var X=be-h,se=be-g;return h===void 0||X>=t||X<0||E&&se>=o}function H(){var be=_6();if(ee(be))return N(be);s=setTimeout(H,Y(be))}function N(be){return s=void 0,O&&r?K(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),g=0,r=h=i=s=void 0}function ue(){return s===void 0?a:N(_6())}function ye(){var be=_6(),X=ee(be);if(r=arguments,i=this,h=be,X){if(s===void 0)return D(h);if(E)return clearTimeout(s),s=setTimeout(H,t),K(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}var G$=vOe,_Oe=G$,COe=Yd,bOe="Expected a function";function xOe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(bOe);return COe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_Oe(e,t,{leading:r,maxWait:t,trailing:i})}var wOe=xOe,uk={};Object.defineProperty(uk,"__esModule",{value:!0});uk.calculateChange=function(t,n,r){var i=r.getBoundingClientRect(),o=i.width,a=i.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=s-(r.getBoundingClientRect().left+window.pageXOffset),_=h-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>o&&(g=o),_<0?_=0:_>a&&(_=a);var E=g/o,O=1-_/a;return{h:n.h,s:E,v:O,a:n.a,source:"hsv"}};Object.defineProperty(ix,"__esModule",{value:!0});ix.Saturation=void 0;var MOe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xB=Ir,q0=Ak(xB),SOe=qs,EOe=Ak(SOe),OOe=wOe,BOe=Ak(OOe),IOe=uk,kOe=TOe(IOe);function TOe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Ak(e){return e&&e.__esModule?e:{default:e}}function POe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function DOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FOe=ix.Saturation=function(e){DOe(t,e);function t(n){POe(this,t);var r=KOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,kOe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,BOe.default)(function(i,o,a){i(o,a)},50),r}return MOe(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,a=i.white,s=i.black,h=i.pointer,g=i.circle,_=(0,EOe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:a,black:s,pointer:h,circle:g}},{custom:!!this.props.style});return q0.default.createElement("div",{style:_.color,ref:function(O){return r.container=O},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},q0.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),q0.default.createElement("div",{style:_.white,className:"saturation-white"},q0.default.createElement("div",{style:_.black,className:"saturation-black"}),q0.default.createElement("div",{style:_.pointer},this.props.pointer?q0.default.createElement(this.props.pointer,this.props):q0.default.createElement("div",{style:_.circle}))))}}]),t}(xB.PureComponent||xB.Component);ix.default=FOe;var ox={},UA={},LOe=C$,UOe=_$,ROe=e$,zOe=ad;function jOe(e,t){var n=zOe(e)?LOe:UOe;return n(e,ROe(t))}var WOe=jOe,NOe=WOe,$$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Dh,function(){function n(ke){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},n(ke)}var r=/^\s+/,i=/\s+$/;function o(ke,pe){if(ke=ke||"",pe=pe||{},ke instanceof o)return ke;if(!(this instanceof o))return new o(ke,pe);var Se=a(ke);this._originalInput=ke,this._r=Se.r,this._g=Se.g,this._b=Se.b,this._a=Se.a,this._roundA=Math.round(100*this._a)/100,this._format=pe.format||Se.format,this._gradientType=pe.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=Se.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var pe=this.toRgb();return(pe.r*299+pe.g*587+pe.b*114)/1e3},getLuminance:function(){var pe=this.toRgb(),Se,Re,it,ot,St,Rt;return Se=pe.r/255,Re=pe.g/255,it=pe.b/255,Se<=.03928?ot=Se/12.92:ot=Math.pow((Se+.055)/1.055,2.4),Re<=.03928?St=Re/12.92:St=Math.pow((Re+.055)/1.055,2.4),it<=.03928?Rt=it/12.92:Rt=Math.pow((it+.055)/1.055,2.4),.2126*ot+.7152*St+.0722*Rt},setAlpha:function(pe){return this._a=Qe(pe),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var pe=_(this._r,this._g,this._b);return{h:pe.h*360,s:pe.s,v:pe.v,a:this._a}},toHsvString:function(){var pe=_(this._r,this._g,this._b),Se=Math.round(pe.h*360),Re=Math.round(pe.s*100),it=Math.round(pe.v*100);return this._a==1?"hsv("+Se+", "+Re+"%, "+it+"%)":"hsva("+Se+", "+Re+"%, "+it+"%, "+this._roundA+")"},toHsl:function(){var pe=h(this._r,this._g,this._b);return{h:pe.h*360,s:pe.s,l:pe.l,a:this._a}},toHslString:function(){var pe=h(this._r,this._g,this._b),Se=Math.round(pe.h*360),Re=Math.round(pe.s*100),it=Math.round(pe.l*100);return this._a==1?"hsl("+Se+", "+Re+"%, "+it+"%)":"hsla("+Se+", "+Re+"%, "+it+"%, "+this._roundA+")"},toHex:function(pe){return O(this._r,this._g,this._b,pe)},toHexString:function(pe){return"#"+this.toHex(pe)},toHex8:function(pe){return K(this._r,this._g,this._b,this._a,pe)},toHex8String:function(pe){return"#"+this.toHex8(pe)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ge(this._r,255)*100)+"%",g:Math.round(ge(this._g,255)*100)+"%",b:Math.round(ge(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%)":"rgba("+Math.round(ge(this._r,255)*100)+"%, "+Math.round(ge(this._g,255)*100)+"%, "+Math.round(ge(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Fe[O(this._r,this._g,this._b,!0)]||!1},toFilter:function(pe){var Se="#"+D(this._r,this._g,this._b,this._a),Re=Se,it=this._gradientType?"GradientType = 1, ":"";if(pe){var ot=o(pe);Re="#"+D(ot._r,ot._g,ot._b,ot._a)}return"progid:DXImageTransform.Microsoft.gradient("+it+"startColorstr="+Se+",endColorstr="+Re+")"},toString:function(pe){var Se=!!pe;pe=pe||this._format;var Re=!1,it=this._a<1&&this._a>=0,ot=!Se&&it&&(pe==="hex"||pe==="hex6"||pe==="hex3"||pe==="hex4"||pe==="hex8"||pe==="name");return ot?pe==="name"&&this._a===0?this.toName():this.toRgbString():(pe==="rgb"&&(Re=this.toRgbString()),pe==="prgb"&&(Re=this.toPercentageRgbString()),(pe==="hex"||pe==="hex6")&&(Re=this.toHexString()),pe==="hex3"&&(Re=this.toHexString(!0)),pe==="hex4"&&(Re=this.toHex8String(!0)),pe==="hex8"&&(Re=this.toHex8String()),pe==="name"&&(Re=this.toName()),pe==="hsl"&&(Re=this.toHslString()),pe==="hsv"&&(Re=this.toHsvString()),Re||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(pe,Se){var Re=pe.apply(null,[this].concat([].slice.call(Se)));return this._r=Re._r,this._g=Re._g,this._b=Re._b,this.setAlpha(Re._a),this},lighten:function(){return this._applyModification(N,arguments)},brighten:function(){return this._applyModification(Z,arguments)},darken:function(){return this._applyModification(ue,arguments)},desaturate:function(){return this._applyModification(Y,arguments)},saturate:function(){return this._applyModification(ee,arguments)},greyscale:function(){return this._applyModification(H,arguments)},spin:function(){return this._applyModification(ye,arguments)},_applyCombination:function(pe,Se){return pe.apply(null,[this].concat([].slice.call(Se)))},analogous:function(){return this._applyCombination(we,arguments)},complement:function(){return this._applyCombination(be,arguments)},monochromatic:function(){return this._applyCombination(xe,arguments)},splitcomplement:function(){return this._applyCombination(se,arguments)},triad:function(){return this._applyCombination(X,[3])},tetrad:function(){return this._applyCombination(X,[4])}},o.fromRatio=function(ke,pe){if(n(ke)=="object"){var Se={};for(var Re in ke)ke.hasOwnProperty(Re)&&(Re==="a"?Se[Re]=ke[Re]:Se[Re]=He(ke[Re]));ke=Se}return o(ke,pe)};function a(ke){var pe={r:0,g:0,b:0},Se=1,Re=null,it=null,ot=null,St=!1,Rt=!1;return typeof ke=="string"&&(ke=$t(ke)),n(ke)=="object"&&(vt(ke.r)&&vt(ke.g)&&vt(ke.b)?(pe=s(ke.r,ke.g,ke.b),St=!0,Rt=String(ke.r).substr(-1)==="%"?"prgb":"rgb"):vt(ke.h)&&vt(ke.s)&&vt(ke.v)?(Re=He(ke.s),it=He(ke.v),pe=E(ke.h,Re,it),St=!0,Rt="hsv"):vt(ke.h)&&vt(ke.s)&&vt(ke.l)&&(Re=He(ke.s),ot=He(ke.l),pe=g(ke.h,Re,ot),St=!0,Rt="hsl"),ke.hasOwnProperty("a")&&(Se=ke.a)),Se=Qe(Se),{ok:St,format:ke.format||Rt,r:Math.min(255,Math.max(pe.r,0)),g:Math.min(255,Math.max(pe.g,0)),b:Math.min(255,Math.max(pe.b,0)),a:Se}}function s(ke,pe,Se){return{r:ge(ke,255)*255,g:ge(pe,255)*255,b:ge(Se,255)*255}}function h(ke,pe,Se){ke=ge(ke,255),pe=ge(pe,255),Se=ge(Se,255);var Re=Math.max(ke,pe,Se),it=Math.min(ke,pe,Se),ot,St,Rt=(Re+it)/2;if(Re==it)ot=St=0;else{var zt=Re-it;switch(St=Rt>.5?zt/(2-Re-it):zt/(Re+it),Re){case ke:ot=(pe-Se)/zt+(pe<Se?6:0);break;case pe:ot=(Se-ke)/zt+2;break;case Se:ot=(ke-pe)/zt+4;break}ot/=6}return{h:ot,s:St,l:Rt}}function g(ke,pe,Se){var Re,it,ot;ke=ge(ke,360),pe=ge(pe,100),Se=ge(Se,100);function St(pt,rr,gn){return gn<0&&(gn+=1),gn>1&&(gn-=1),gn<1/6?pt+(rr-pt)*6*gn:gn<1/2?rr:gn<2/3?pt+(rr-pt)*(2/3-gn)*6:pt}if(pe===0)Re=it=ot=Se;else{var Rt=Se<.5?Se*(1+pe):Se+pe-Se*pe,zt=2*Se-Rt;Re=St(zt,Rt,ke+1/3),it=St(zt,Rt,ke),ot=St(zt,Rt,ke-1/3)}return{r:Re*255,g:it*255,b:ot*255}}function _(ke,pe,Se){ke=ge(ke,255),pe=ge(pe,255),Se=ge(Se,255);var Re=Math.max(ke,pe,Se),it=Math.min(ke,pe,Se),ot,St,Rt=Re,zt=Re-it;if(St=Re===0?0:zt/Re,Re==it)ot=0;else{switch(Re){case ke:ot=(pe-Se)/zt+(pe<Se?6:0);break;case pe:ot=(Se-ke)/zt+2;break;case Se:ot=(ke-pe)/zt+4;break}ot/=6}return{h:ot,s:St,v:Rt}}function E(ke,pe,Se){ke=ge(ke,360)*6,pe=ge(pe,100),Se=ge(Se,100);var Re=Math.floor(ke),it=ke-Re,ot=Se*(1-pe),St=Se*(1-it*pe),Rt=Se*(1-(1-it)*pe),zt=Re%6,pt=[Se,St,ot,ot,Rt,Se][zt],rr=[Rt,Se,Se,St,ot,ot][zt],gn=[ot,ot,Rt,Se,Se,St][zt];return{r:pt*255,g:rr*255,b:gn*255}}function O(ke,pe,Se,Re){var it=[ze(Math.round(ke).toString(16)),ze(Math.round(pe).toString(16)),ze(Math.round(Se).toString(16))];return Re&&it[0].charAt(0)==it[0].charAt(1)&&it[1].charAt(0)==it[1].charAt(1)&&it[2].charAt(0)==it[2].charAt(1)?it[0].charAt(0)+it[1].charAt(0)+it[2].charAt(0):it.join("")}function K(ke,pe,Se,Re,it){var ot=[ze(Math.round(ke).toString(16)),ze(Math.round(pe).toString(16)),ze(Math.round(Se).toString(16)),ze(Ve(Re))];return it&&ot[0].charAt(0)==ot[0].charAt(1)&&ot[1].charAt(0)==ot[1].charAt(1)&&ot[2].charAt(0)==ot[2].charAt(1)&&ot[3].charAt(0)==ot[3].charAt(1)?ot[0].charAt(0)+ot[1].charAt(0)+ot[2].charAt(0)+ot[3].charAt(0):ot.join("")}function D(ke,pe,Se,Re){var it=[ze(Ve(Re)),ze(Math.round(ke).toString(16)),ze(Math.round(pe).toString(16)),ze(Math.round(Se).toString(16))];return it.join("")}o.equals=function(ke,pe){return!ke||!pe?!1:o(ke).toRgbString()==o(pe).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Y(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.s-=pe/100,Se.s=yt(Se.s),o(Se)}function ee(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.s+=pe/100,Se.s=yt(Se.s),o(Se)}function H(ke){return o(ke).desaturate(100)}function N(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.l+=pe/100,Se.l=yt(Se.l),o(Se)}function Z(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toRgb();return Se.r=Math.max(0,Math.min(255,Se.r-Math.round(255*-(pe/100)))),Se.g=Math.max(0,Math.min(255,Se.g-Math.round(255*-(pe/100)))),Se.b=Math.max(0,Math.min(255,Se.b-Math.round(255*-(pe/100)))),o(Se)}function ue(ke,pe){pe=pe===0?0:pe||10;var Se=o(ke).toHsl();return Se.l-=pe/100,Se.l=yt(Se.l),o(Se)}function ye(ke,pe){var Se=o(ke).toHsl(),Re=(Se.h+pe)%360;return Se.h=Re<0?360+Re:Re,o(Se)}function be(ke){var pe=o(ke).toHsl();return pe.h=(pe.h+180)%360,o(pe)}function X(ke,pe){if(isNaN(pe)||pe<=0)throw new Error("Argument to polyad must be a positive number");for(var Se=o(ke).toHsl(),Re=[o(ke)],it=360/pe,ot=1;ot<pe;ot++)Re.push(o({h:(Se.h+ot*it)%360,s:Se.s,l:Se.l}));return Re}function se(ke){var pe=o(ke).toHsl(),Se=pe.h;return[o(ke),o({h:(Se+72)%360,s:pe.s,l:pe.l}),o({h:(Se+216)%360,s:pe.s,l:pe.l})]}function we(ke,pe,Se){pe=pe||6,Se=Se||30;var Re=o(ke).toHsl(),it=360/Se,ot=[o(ke)];for(Re.h=(Re.h-(it*pe>>1)+720)%360;--pe;)Re.h=(Re.h+it)%360,ot.push(o(Re));return ot}function xe(ke,pe){pe=pe||6;for(var Se=o(ke).toHsv(),Re=Se.h,it=Se.s,ot=Se.v,St=[],Rt=1/pe;pe--;)St.push(o({h:Re,s:it,v:ot})),ot=(ot+Rt)%1;return St}o.mix=function(ke,pe,Se){Se=Se===0?0:Se||50;var Re=o(ke).toRgb(),it=o(pe).toRgb(),ot=Se/100,St={r:(it.r-Re.r)*ot+Re.r,g:(it.g-Re.g)*ot+Re.g,b:(it.b-Re.b)*ot+Re.b,a:(it.a-Re.a)*ot+Re.a};return o(St)},o.readability=function(ke,pe){var Se=o(ke),Re=o(pe);return(Math.max(Se.getLuminance(),Re.getLuminance())+.05)/(Math.min(Se.getLuminance(),Re.getLuminance())+.05)},o.isReadable=function(ke,pe,Se){var Re=o.readability(ke,pe),it,ot;switch(ot=!1,it=Qt(Se),it.level+it.size){case"AAsmall":case"AAAlarge":ot=Re>=4.5;break;case"AAlarge":ot=Re>=3;break;case"AAAsmall":ot=Re>=7;break}return ot},o.mostReadable=function(ke,pe,Se){var Re=null,it=0,ot,St,Rt,zt;Se=Se||{},St=Se.includeFallbackColors,Rt=Se.level,zt=Se.size;for(var pt=0;pt<pe.length;pt++)ot=o.readability(ke,pe[pt]),ot>it&&(it=ot,Re=o(pe[pt]));return o.isReadable(ke,Re,{level:Rt,size:zt})||!St?Re:(Se.includeFallbackColors=!1,o.mostReadable(ke,["#fff","#000"],Se))};var De=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Fe=o.hexNames=he(De);function he(ke){var pe={};for(var Se in ke)ke.hasOwnProperty(Se)&&(pe[ke[Se]]=Se);return pe}function Qe(ke){return ke=parseFloat(ke),(isNaN(ke)||ke<0||ke>1)&&(ke=1),ke}function ge(ke,pe){st(ke)&&(ke="100%");var Se=mt(ke);return ke=Math.min(pe,Math.max(0,parseFloat(ke))),Se&&(ke=parseInt(ke*pe,10)/100),Math.abs(ke-pe)<1e-6?1:ke%pe/parseFloat(pe)}function yt(ke){return Math.min(1,Math.max(0,ke))}function wt(ke){return parseInt(ke,16)}function st(ke){return typeof ke=="string"&&ke.indexOf(".")!=-1&&parseFloat(ke)===1}function mt(ke){return typeof ke=="string"&&ke.indexOf("%")!=-1}function ze(ke){return ke.length==1?"0"+ke:""+ke}function He(ke){return ke<=1&&(ke=ke*100+"%"),ke}function Ve(ke){return Math.round(parseFloat(ke)*255).toString(16)}function Vt(ke){return wt(ke)/255}var Yt=function(){var ke="[-\\+]?\\d+%?",pe="[-\\+]?\\d*\\.\\d+%?",Se="(?:"+pe+")|(?:"+ke+")",Re="[\\s|\\(]+("+Se+")[,|\\s]+("+Se+")[,|\\s]+("+Se+")\\s*\\)?",it="[\\s|\\(]+("+Se+")[,|\\s]+("+Se+")[,|\\s]+("+Se+")[,|\\s]+("+Se+")\\s*\\)?";return{CSS_UNIT:new RegExp(Se),rgb:new RegExp("rgb"+Re),rgba:new RegExp("rgba"+it),hsl:new RegExp("hsl"+Re),hsla:new RegExp("hsla"+it),hsv:new RegExp("hsv"+Re),hsva:new RegExp("hsva"+it),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function vt(ke){return!!Yt.CSS_UNIT.exec(ke)}function $t(ke){ke=ke.replace(r,"").replace(i,"").toLowerCase();var pe=!1;if(De[ke])ke=De[ke],pe=!0;else if(ke=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Se;return(Se=Yt.rgb.exec(ke))?{r:Se[1],g:Se[2],b:Se[3]}:(Se=Yt.rgba.exec(ke))?{r:Se[1],g:Se[2],b:Se[3],a:Se[4]}:(Se=Yt.hsl.exec(ke))?{h:Se[1],s:Se[2],l:Se[3]}:(Se=Yt.hsla.exec(ke))?{h:Se[1],s:Se[2],l:Se[3],a:Se[4]}:(Se=Yt.hsv.exec(ke))?{h:Se[1],s:Se[2],v:Se[3]}:(Se=Yt.hsva.exec(ke))?{h:Se[1],s:Se[2],v:Se[3],a:Se[4]}:(Se=Yt.hex8.exec(ke))?{r:wt(Se[1]),g:wt(Se[2]),b:wt(Se[3]),a:Vt(Se[4]),format:pe?"name":"hex8"}:(Se=Yt.hex6.exec(ke))?{r:wt(Se[1]),g:wt(Se[2]),b:wt(Se[3]),format:pe?"name":"hex"}:(Se=Yt.hex4.exec(ke))?{r:wt(Se[1]+""+Se[1]),g:wt(Se[2]+""+Se[2]),b:wt(Se[3]+""+Se[3]),a:Vt(Se[4]+""+Se[4]),format:pe?"name":"hex8"}:(Se=Yt.hex3.exec(ke))?{r:wt(Se[1]+""+Se[1]),g:wt(Se[2]+""+Se[2]),b:wt(Se[3]+""+Se[3]),format:pe?"name":"hex"}:!1}function Qt(ke){var pe,Se;return ke=ke||{level:"AA",size:"small"},pe=(ke.level||"AA").toUpperCase(),Se=(ke.size||"small").toLowerCase(),pe!=="AA"&&pe!=="AAA"&&(pe="AA"),Se!=="small"&&Se!=="large"&&(Se="small"),{level:pe,size:Se}}return o})})($$);var GOe=$$.exports;Object.defineProperty(UA,"__esModule",{value:!0});UA.isvalidColorString=UA.red=UA.getContrastingColor=UA.isValidHex=UA.toState=UA.simpleCheckForValidColor=void 0;var $Oe=NOe,QOe=Q$($Oe),YOe=GOe,i5=Q$(YOe);function Q$(e){return e&&e.__esModule?e:{default:e}}UA.simpleCheckForValidColor=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,QOe.default)(n,function(o){if(t[o]&&(r+=1,isNaN(t[o])||(i+=1),o==="s"||o==="l")){var a=/^\d+%$/;a.test(t[o])&&(i+=1)}}),r===i?t:!1};var qOe=UA.toState=function(t,n){var r=t.hex?(0,i5.default)(t.hex):(0,i5.default)(t),i=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var h=s==="000000"&&a.a===0;return{hsl:i,hex:h?"transparent":"#"+s,rgb:a,hsv:o,oldHue:t.h||n||i.h,source:t.source}};UA.isValidHex=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&(0,i5.default)(t).isValid()};UA.getContrastingColor=function(t){if(!t)return"#fff";var n=qOe(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};UA.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};UA.isvalidColorString=function(t,n){var r=t.replace("°","");return(0,i5.default)(n+" ("+r+")")._ok};Object.defineProperty(ox,"__esModule",{value:!0});ox.ColorWrap=void 0;var F_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HOe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wB=Ir,VOe=Y$(wB),ZOe=G$,XOe=Y$(ZOe),JOe=UA,Wg=eBe(JOe);function eBe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Y$(e){return e&&e.__esModule?e:{default:e}}function tBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nBe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var iBe=ox.ColorWrap=function(t){var n=function(r){rBe(i,r);function i(o){tBe(this,i);var a=nBe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.handleChange=function(s,h){var g=Wg.simpleCheckForValidColor(s);if(g){var _=Wg.toState(s,s.h||a.state.oldHue);a.setState(_),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,_,h),a.props.onChange&&a.props.onChange(_,h)}},a.handleSwatchHover=function(s,h){var g=Wg.simpleCheckForValidColor(s);if(g){var _=Wg.toState(s,s.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(_,h)}},a.state=F_({},Wg.toState(o.color,0)),a.debounce=(0,XOe.default)(function(s,h,g){s(h,g)},100),a}return HOe(i,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),VOe.default.createElement(t,F_({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return F_({},Wg.toState(a.color,s.oldHue))}}]),i}(wB.PureComponent||wB.Component);return n.propTypes=F_({},t.propTypes),n.defaultProps=F_({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};ox.default=iBe;var ax={},eM={};Object.defineProperty(eM,"__esModule",{value:!0});eM.handleFocus=void 0;var oBe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aBe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),sBe=Ir,C6=lBe(sBe);function lBe(e){return e&&e.__esModule?e:{default:e}}function uBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ABe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}eM.handleFocus=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ABe(i,r);function i(){var o,a,s,h;uBe(this,i);for(var g=arguments.length,_=Array(g),E=0;E<g;E++)_[E]=arguments[E];return h=(a=(s=PD(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(_))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),PD(s,h)}return aBe(i,[{key:"render",value:function(){return C6.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},C6.default.createElement(t,oBe({},this.props,this.state)))}}]),i}(C6.default.Component)};Object.defineProperty(ax,"__esModule",{value:!0});ax.Swatch=void 0;var KD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cBe=Ir,DD=ck(cBe),dBe=qs,hBe=ck(dBe),fBe=eM,pBe=X1,mBe=ck(pBe);function ck(e){return e&&e.__esModule?e:{default:e}}var gBe=13,yBe=ax.Swatch=function(t){var n=t.color,r=t.style,i=t.onClick,o=i===void 0?function(){}:i,a=t.onHover,s=t.title,h=s===void 0?n:s,g=t.children,_=t.focus,E=t.focusStyle,O=E===void 0?{}:E,K=n==="transparent",D=(0,hBe.default)({default:{swatch:KD({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,_?O:{})}}),Y=function(ue){return o(n,ue)},ee=function(ue){return ue.keyCode===gBe&&o(n,ue)},H=function(ue){return a(n,ue)},N={};return a&&(N.onMouseOver=H),DD.default.createElement("div",KD({style:D.swatch,onClick:Y,title:h,tabIndex:0,onKeyDown:ee},N),g,K&&DD.default.createElement(mBe.default,{borderRadius:D.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};ax.default=(0,fBe.handleFocus)(yBe);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ex;Object.defineProperty(e,"Alpha",{enumerable:!0,get:function(){return g(t).default}});var n=X1;Object.defineProperty(e,"Checkboard",{enumerable:!0,get:function(){return g(n).default}});var r=tx;Object.defineProperty(e,"EditableInput",{enumerable:!0,get:function(){return g(r).default}});var i=nx;Object.defineProperty(e,"Hue",{enumerable:!0,get:function(){return g(i).default}});var o=rx;Object.defineProperty(e,"Raised",{enumerable:!0,get:function(){return g(o).default}});var a=ix;Object.defineProperty(e,"Saturation",{enumerable:!0,get:function(){return g(a).default}});var s=ox;Object.defineProperty(e,"ColorWrap",{enumerable:!0,get:function(){return g(s).default}});var h=ax;Object.defineProperty(e,"Swatch",{enumerable:!0,get:function(){return g(h).default}});function g(_){return _&&_.__esModule?_:{default:_}}})(ik);var sx={};function vBe(e){return e===void 0}var _Be=vBe,dk={};Object.defineProperty(dk,"__esModule",{value:!0});var FD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CBe=Ir,LD=bBe(CBe);function bBe(e){return e&&e.__esModule?e:{default:e}}function xBe(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var N2=24;dk.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,i=r===void 0?N2:r,o=e.height,a=o===void 0?N2:o,s=e.style,h=s===void 0?{}:s,g=xBe(e,["fill","width","height","style"]);return LD.default.createElement("svg",FD({viewBox:"0 0 "+N2+" "+N2,style:FD({fill:n,width:i,height:a},h)},g),LD.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};Object.defineProperty(sx,"__esModule",{value:!0});sx.ChromeFields=void 0;var wBe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),MBe=Ir,Xa=tM(MBe),SBe=qs,EBe=tM(SBe),OBe=UA,BBe=PBe(OBe),IBe=_Be,UD=tM(IBe),Sp=ik,kBe=dk,TBe=tM(kBe);function PBe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function tM(e){return e&&e.__esModule?e:{default:e}}function KBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DBe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q$=sx.ChromeFields=function(e){FBe(t,e);function t(n){KBe(this,t);var r=DBe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?BBe.isValidHex(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number((0,UD.default)(i.s)?r.props.hsl.s:i.s),l:Number((0,UD.default)(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return wBe(t,[{key:"render",value:function(){var r=this,i=(0,EBe.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=Xa.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=Xa.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Xa.default.createElement("div",{style:i.alpha},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=Xa.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Xa.default.createElement("div",{style:i.field},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Xa.default.createElement("div",{style:i.alpha},Xa.default.createElement(Sp.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Xa.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,Xa.default.createElement("div",{style:i.toggle},Xa.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},Xa.default.createElement(TBe.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(Xa.default.Component);q$.defaultProps={view:"hex"};sx.default=q$;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.ChromePointer=void 0;var LBe=Ir,UBe=H$(LBe),RBe=qs,zBe=H$(RBe);function H$(e){return e&&e.__esModule?e:{default:e}}var jBe=lx.ChromePointer=function(){var t=(0,zBe.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return UBe.default.createElement("div",{style:t.picker})};lx.default=jBe;var ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.ChromePointerCircle=void 0;var WBe=Ir,NBe=V$(WBe),GBe=qs,$Be=V$(GBe);function V$(e){return e&&e.__esModule?e:{default:e}}var QBe=ux.ChromePointerCircle=function(){var t=(0,$Be.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return NBe.default.createElement("div",{style:t.picker})};ux.default=QBe;Object.defineProperty(zw,"__esModule",{value:!0});zw.Chrome=void 0;var YBe=Ir,FA=J1(YBe),qBe=Fh,Ng=J1(qBe),HBe=qs,VBe=J1(HBe),ZBe=L$,XBe=J1(ZBe),J_=ik,JBe=sx,e7e=J1(JBe),t7e=lx,RD=J1(t7e),n7e=ux,r7e=J1(n7e);function J1(e){return e&&e.__esModule?e:{default:e}}var hk=zw.Chrome=function(t){var n=t.width,r=t.onChange,i=t.disableAlpha,o=t.rgb,a=t.hsl,s=t.hsv,h=t.hex,g=t.renderers,_=t.styles,E=_===void 0?{}:_,O=t.className,K=O===void 0?"":O,D=t.defaultView,Y=(0,VBe.default)((0,XBe.default)({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},E),{disableAlpha:i});return FA.default.createElement("div",{style:Y.picker,className:"chrome-picker "+K},FA.default.createElement("div",{style:Y.saturation},FA.default.createElement(J_.Saturation,{style:Y.Saturation,hsl:a,hsv:s,pointer:r7e.default,onChange:r})),FA.default.createElement("div",{style:Y.body},FA.default.createElement("div",{style:Y.controls,className:"flexbox-fix"},FA.default.createElement("div",{style:Y.color},FA.default.createElement("div",{style:Y.swatch},FA.default.createElement("div",{style:Y.active}),FA.default.createElement(J_.Checkboard,{renderers:g}))),FA.default.createElement("div",{style:Y.toggles},FA.default.createElement("div",{style:Y.hue},FA.default.createElement(J_.Hue,{style:Y.Hue,hsl:a,pointer:RD.default,onChange:r})),FA.default.createElement("div",{style:Y.alpha},FA.default.createElement(J_.Alpha,{style:Y.Alpha,rgb:o,hsl:a,pointer:RD.default,renderers:g,onChange:r})))),FA.default.createElement(e7e.default,{rgb:o,hsl:a,hex:h,view:D,onChange:r,disableAlpha:i})))};hk.propTypes={width:Ng.default.oneOfType([Ng.default.string,Ng.default.number]),disableAlpha:Ng.default.bool,styles:Ng.default.object,defaultView:Ng.default.oneOf(["hex","rgb","hsl"])};hk.defaultProps={width:225,disableAlpha:!1,styles:{}};var i7e=zw.default=(0,J_.ColorWrap)(hk);function xi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",t="cb6d03ea084207ffce2f89af246bc26074c13af7",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx",statementMap:{0:{start:{line:7,column:14},end:{line:7,column:23}},1:{start:{line:8,column:2},end:{line:8,column:56}},2:{start:{line:11,column:10},end:{line:13,column:3}},3:{start:{line:14,column:15},end:{line:14,column:19}},4:{start:{line:16,column:4},end:{line:16,column:17}},5:{start:{line:17,column:4},end:{line:17,column:75}},6:{start:{line:20,column:4},end:{line:20,column:27}},7:{start:{line:25,column:21},end:{line:39,column:3}},8:{start:{line:26,column:17},end:{line:26,column:32}},9:{start:{line:27,column:4},end:{line:38,column:5}},10:{start:{line:28,column:18},end:{line:28,column:46}},11:{start:{line:29,column:6},end:{line:32,column:8}},12:{start:{line:34,column:6},end:{line:37,column:8}},13:{start:{line:40,column:17},end:{line:42,column:3}},14:{start:{line:41,column:4},end:{line:41,column:62}},15:{start:{line:44,column:4},end:{line:49,column:5}},16:{start:{line:45,column:6},end:{line:45,column:43}},17:{start:{line:47,column:6},end:{line:47,column:49}},18:{start:{line:48,column:6},end:{line:48,column:39}},19:{start:{line:52,column:4},end:{line:52,column:47}},20:{start:{line:55,column:19},end:{line:55,column:42}},21:{start:{line:56,column:25},end:{line:56,column:44}},22:{start:{line:57,column:31},end:{line:63,column:5}},23:{start:{line:64,column:35},end:{line:99,column:5}},24:{start:{line:79,column:31},end:{line:79,column:67}},25:{start:{line:100,column:24},end:{line:102,column:5}},26:{start:{line:103,column:4},end:{line:122,column:9}},27:{start:{line:113,column:26},end:{line:113,column:49}},28:{start:{line:119,column:27},end:{line:119,column:56}}},fnMap:{0:{name:"formatColor",decl:{start:{line:6,column:9},end:{line:6,column:20}},loc:{start:{line:6,column:28},end:{line:9,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:21},end:{line:18,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:21},end:{line:21,column:3}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:25,column:21},end:{line:25,column:22}},loc:{start:{line:25,column:27},end:{line:39,column:3}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:40,column:17},end:{line:40,column:18}},loc:{start:{line:40,column:23},end:{line:42,column:3}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:14},end:{line:50,column:3}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:14},end:{line:53,column:3}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:11},end:{line:123,column:3}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:31},end:{line:79,column:67}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:113,column:15},end:{line:113,column:16}},loc:{start:{line:113,column:26},end:{line:113,column:49}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:119,column:20},end:{line:119,column:21}},loc:{start:{line:119,column:27},end:{line:119,column:56}},line:119}},branchMap:{0:{loc:{start:{line:27,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:38,column:5}},{start:{line:33,column:11},end:{line:38,column:5}}],line:27},1:{loc:{start:{line:52,column:24},end:{line:52,column:45}},type:"cond-expr",locations:[{start:{line:52,column:35},end:{line:52,column:41}},{start:{line:52,column:44},end:{line:52,column:45}}],line:52},2:{loc:{start:{line:104,column:6},end:{line:104,column:39}},type:"binary-expr",locations:[{start:{line:104,column:6},end:{line:104,column:29}},{start:{line:104,column:33},end:{line:104,column:39}}],line:104},3:{loc:{start:{line:118,column:17},end:{line:118,column:57}},type:"cond-expr",locations:[{start:{line:118,column:36},end:{line:118,column:52}},{start:{line:118,column:55},end:{line:118,column:57}}],line:118}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputColor.tsx"],names:[],mappings:"AAsFmB,SAQb,KARa;AAtFnB,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AAEzB,OAAO,YAAY;AAEnB,SAAS,YAAY,OAA4B;AAC/C,QAAM,MAAM,MAAM;AAClB,SAAO,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC;AACpD;AAaA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,cAAc;AAAA,EAChB;AAAA,EACA,aAAsC;AAAA,EAEtC,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,kBAAkB,OAAO,SAAS,KAAK,iBAAiB,MAAK,EAAE;AAAA,EACtE;AAAA,EAEA,gBAAgB,GAAW;AACzB,SAAK,MAAM,SAAS,CAAC;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAmB,MAAM;AACvB,UAAM,OAAO,KAAK;AAClB,QAAG,MAAM;AACP,YAAM,MAAM,KAAK,sBAAsB;AACvC,aAAO;AAAA,QACL,KAAK,IAAI;AAAA,QACT,MAAM,IAAI,OAAO;AAAA,MACnB;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,MAAM;AACnB,SAAK,SAAS,EAAE,cAAc,CAAC,KAAK,MAAM,aAAa,CAAC;AAAA,EAC1D;AAAA,EAEA,IAAI,QAAQ;AAEV,QAAI;AACF,aAAO,MAAM,KAAK,MAAM,KAAK,EAAE,IAAI;AAAA,IACrC,SACM,KAAK;AACT,cAAQ,KAAK,yBAAyB,GAAG;AACzC,aAAO,MAAM,kBAAkB;AAAA,IACjC;AAAA,EACF;AAAA,EAEA,SAAU,GAAW;AACnB,SAAK,MAAM,SAAS,MAAM,KAAK,SAAY,CAAC;AAAA,EAC9C;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,iBAAiB;AACrC,UAAM,eAAe,KAAK,MAAM,OAAO;AACvC,UAAM,qBAAqB;AAAA,MACzB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA,MAChB,GAAG,aAAa;AAAA;AAAA,MAEhB,GAAG,aAAa;AAAA,IAClB;AAEA,UAAM,SAAS;AAAA,MAAC;AAAA;AAAA,QACd,WAAU;AAAA,QACV,OAAO;AAAA,UACL,UAAU;AAAA,UACV,QAAQ;AAAA,UACR,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,QACd;AAAA,QACA;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,gBAAgB,YAAY,CAAC,CAAC;AAAA;AAAA,UACpD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK;AAAA,cACd,OAAO;AAAA,gBACL,QAAQ;AAAA,gBACR,UAAU;AAAA,gBACV,KAAK;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,MAAM;AAAA,cACR;AAAA;AAAA,UACF;AAAA;AAAA;AAAA,IACF;AAEA,UAAM,cAAc;AAAA,MAClB,iBAAiB,KAAK,MAAM;AAAA,IAC9B;AAEA,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA,WAAK,MAAM,gBAAgB;AAAA,MAC5B,oBAAC,SAAI,WAAU,yBAAwB,OAAO,aAAa;AAAA,MAC3D;AAAA,QAAC;AAAA;AAAA,UACC,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,cAAa;AAAA,UACb,WAAU;AAAA,UACV,KAAK,CAAC,UAAU,KAAK,aAAa;AAAA,UAClC,SAAS,KAAK;AAAA,UACd,OAAO,KAAK,MAAM;AAAA,UAClB,MAAM,KAAK,MAAM;AAAA,UACjB,aAAa,KAAK,MAAM;AAAA,UACxB,OAAO,KAAK,MAAM,QAAQ,KAAK,MAAM,QAAQ;AAAA,UAC7C,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE,OAAO,KAAK;AAAA;AAAA,MAC/C;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cb6d03ea084207ffce2f89af246bc26074c13af7"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return xi=function(){return a},a}xi();function o7e(e){xi().f[0]++;const t=(xi().s[0]++,e.rgb);return xi().s[1]++,`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}class Z$ extends Mn.Component{constructor(n){xi().f[1]++,xi().s[4]++;super(n);on(this,"state",(xi().s[2]++,{pickerOpened:!1}));on(this,"colorInput",(xi().s[3]++,null));on(this,"calcPickerOffset",(xi().s[7]++,()=>{xi().f[3]++;const n=(xi().s[8]++,this.colorInput);if(xi().s[9]++,n){xi().b[0][0]++;const r=(xi().s[10]++,n.getBoundingClientRect());return xi().s[11]++,{top:r.top,left:r.left+196}}else return xi().b[0][1]++,xi().s[12]++,{top:160,left:555}}));on(this,"togglePicker",(xi().s[13]++,()=>{xi().f[4]++,xi().s[14]++,this.setState({pickerOpened:!this.state.pickerOpened})}));xi().s[5]++,this.onChangeNoCheck=KE.throttle(this.onChangeNoCheck,1e3/30)}onChangeNoCheck(n){xi().f[2]++,xi().s[6]++,this.props.onChange(n)}get color(){xi().f[5]++,xi().s[15]++;try{return xi().s[16]++,tO(this.props.value).rgb()}catch(n){return xi().s[17]++,console.warn("Error parsing color: ",n),xi().s[18]++,tO("rgb(255,255,255)")}}onChange(n){xi().f[6]++,xi().s[19]++,this.props.onChange(n===""?(xi().b[1][0]++,void 0):(xi().b[1][1]++,n))}render(){xi().f[7]++;const n=(xi().s[20]++,this.calcPickerOffset()),r=(xi().s[21]++,this.color.object()),i=(xi().s[22]++,{r:r.r,g:r.g,b:r.b,a:r.alpha}),o=(xi().s[23]++,G.jsxs("div",{className:"maputnik-color-picker-offset",style:{position:"fixed",zIndex:1,left:n.left,top:n.top},children:[G.jsx(i7e,{color:i,onChange:s=>(xi().f[8]++,xi().s[24]++,this.onChangeNoCheck(o7e(s)))}),G.jsx("div",{className:"maputnik-color-picker-offset",onClick:this.togglePicker,style:{zIndex:-1,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}})]})),a=(xi().s[25]++,{backgroundColor:this.props.value});return xi().s[26]++,G.jsxs("div",{className:"maputnik-color-wrapper",children:[(xi().b[2][0]++,this.state.pickerOpened&&(xi().b[2][1]++,o)),G.jsx("div",{className:"maputnik-color-swatch",style:a}),G.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",autoComplete:"off",className:"maputnik-color",ref:s=>(xi().f[9]++,xi().s[27]++,this.colorInput=s),onClick:this.togglePicker,style:this.props.style,name:this.props.name,placeholder:this.props.default,value:this.props.value?(xi().b[3][0]++,this.props.value):(xi().b[3][1]++,""),onChange:s=>(xi().f[10]++,xi().s[28]++,this.onChange(s.target.value))})]})}}function Nt(){var e="/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",t="055427b59351edaed6ac0381ee689923477adaa1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:8,column:19},end:{line:8,column:24}},2:{start:{line:10,column:4},end:{line:10,column:17}},3:{start:{line:11,column:4},end:{line:16,column:6}},4:{start:{line:19,column:4},end:{line:24,column:5}},5:{start:{line:20,column:6},end:{line:23,column:8}},6:{start:{line:25,column:4},end:{line:25,column:16}},7:{start:{line:28,column:18},end:{line:28,column:77}},8:{start:{line:29,column:23},end:{line:29,column:49}},9:{start:{line:30,column:4},end:{line:40,column:5}},10:{start:{line:31,column:6},end:{line:32,column:35}},11:{start:{line:32,column:8},end:{line:32,column:35}},12:{start:{line:33,column:6},end:{line:35,column:9}},13:{start:{line:36,column:11},end:{line:40,column:5}},14:{start:{line:37,column:6},end:{line:39,column:9}},15:{start:{line:41,column:4},end:{line:43,column:7}},16:{start:{line:46,column:4},end:{line:48,column:5}},17:{start:{line:47,column:6},end:{line:47,column:18}},18:{start:{line:49,column:18},end:{line:49,column:20}},19:{start:{line:50,column:4},end:{line:52,column:5}},20:{start:{line:51,column:6},end:{line:51,column:19}},21:{start:{line:53,column:4},end:{line:55,column:5}},22:{start:{line:54,column:6},end:{line:54,column:19}},23:{start:{line:56,column:4},end:{line:58,column:5}},24:{start:{line:57,column:6},end:{line:57,column:19}},25:{start:{line:59,column:4},end:{line:59,column:16}},26:{start:{line:61,column:15},end:{line:75,column:3}},27:{start:{line:62,column:4},end:{line:62,column:38}},28:{start:{line:63,column:4},end:{line:65,column:5}},29:{start:{line:64,column:6},end:{line:64,column:13}},30:{start:{line:66,column:4},end:{line:74,column:5}},31:{start:{line:67,column:6},end:{line:73,column:7}},32:{start:{line:68,column:8},end:{line:68,column:43}},33:{start:{line:69,column:8},end:{line:69,column:56}},34:{start:{line:71,column:8},end:{line:71,column:33}},35:{start:{line:72,column:8},end:{line:72,column:46}},36:{start:{line:76,column:18},end:{line:102,column:3}},37:{start:{line:77,column:16},end:{line:77,column:42}},38:{start:{line:78,column:17},end:{line:78,column:37}},39:{start:{line:79,column:21},end:{line:79,column:26}},40:{start:{line:80,column:4},end:{line:96,column:5}},41:{start:{line:81,column:19},end:{line:81,column:31}},42:{start:{line:82,column:6},end:{line:95,column:7}},43:{start:{line:83,column:8},end:{line:87,column:9}},44:{start:{line:84,column:10},end:{line:84,column:42}},45:{start:{line:86,column:10},end:{line:86,column:42}},46:{start:{line:88,column:8},end:{line:88,column:27}},47:{start:{line:90,column:8},end:{line:94,column:9}},48:{start:{line:91,column:10},end:{line:91,column:31}},49:{start:{line:93,column:10},end:{line:93,column:40}},50:{start:{line:97,column:4},end:{line:97,column:32}},51:{start:{line:98,column:4},end:{line:98,column:70}},52:{start:{line:99,column:4},end:{line:99,column:41}},53:{start:{line:100,column:4},end:{line:101,column:33}},54:{start:{line:101,column:6},end:{line:101,column:33}},55:{start:{line:104,column:4},end:{line:187,column:5}},56:{start:{line:105,column:20},end:{line:105,column:81}},57:{start:{line:106,column:27},end:{line:106,column:82}},58:{start:{line:108,column:6},end:{line:112,column:7}},59:{start:{line:109,column:8},end:{line:109,column:38}},60:{start:{line:111,column:8},end:{line:111,column:27}},61:{start:{line:113,column:6},end:{line:167,column:11}},62:{start:{line:126,column:14},end:{line:126,column:41}},63:{start:{line:129,column:14},end:{line:129,column:67}},64:{start:{line:132,column:14},end:{line:132,column:69}},65:{start:{line:135,column:14},end:{line:139,column:17}},66:{start:{line:154,column:14},end:{line:154,column:47}},67:{start:{line:157,column:14},end:{line:157,column:47}},68:{start:{line:160,column:14},end:{line:160,column:48}},69:{start:{line:161,column:14},end:{line:161,column:32}},70:{start:{line:169,column:20},end:{line:169,column:81}},71:{start:{line:170,column:6},end:{line:186,column:8}},72:{start:{line:178,column:27},end:{line:178,column:59}},73:{start:{line:180,column:12},end:{line:180,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:21},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:26,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:24},end:{line:44,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:13},end:{line:60,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:21},end:{line:75,column:3}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:76,column:18},end:{line:76,column:19}},loc:{start:{line:76,column:25},end:{line:102,column:3}},line:76},6:{name:"(anonymous_6)",decl:{start:{line:103,column:2},end:{line:103,column:3}},loc:{start:{line:103,column:11},end:{line:188,column:3}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:125,column:23},end:{line:125,column:24}},loc:{start:{line:125,column:29},end:{line:127,column:13}},line:125},8:{name:"(anonymous_8)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:33},end:{line:130,column:13}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:31},end:{line:133,column:13}},line:131},10:{name:"(anonymous_10)",decl:{start:{line:134,column:20},end:{line:134,column:21}},loc:{start:{line:134,column:26},end:{line:140,column:13}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:21},end:{line:153,column:22}},loc:{start:{line:153,column:29},end:{line:155,column:13}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:156,column:22},end:{line:156,column:23}},loc:{start:{line:156,column:29},end:{line:158,column:13}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:159,column:20},end:{line:159,column:21}},loc:{start:{line:159,column:28},end:{line:162,column:13}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:178,column:20},end:{line:178,column:21}},loc:{start:{line:178,column:27},end:{line:178,column:59}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:179,column:19},end:{line:179,column:20}},loc:{start:{line:179,column:25},end:{line:181,column:11}},line:179}},branchMap:{0:{loc:{start:{line:19,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:24,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},1:{loc:{start:{line:19,column:8},end:{line:19,column:53}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:53}}],line:19},2:{loc:{start:{line:28,column:18},end:{line:28,column:77}},type:"cond-expr",locations:[{start:{line:28,column:59},end:{line:28,column:65}},{start:{line:28,column:68},end:{line:28,column:77}}],line:28},3:{loc:{start:{line:28,column:18},end:{line:28,column:56}},type:"binary-expr",locations:[{start:{line:28,column:18},end:{line:28,column:33}},{start:{line:28,column:37},end:{line:28,column:56}}],line:28},4:{loc:{start:{line:30,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:40,column:5}},{start:{line:36,column:11},end:{line:40,column:5}}],line:30},5:{loc:{start:{line:30,column:8},end:{line:30,column:41}},type:"binary-expr",locations:[{start:{line:30,column:8},end:{line:30,column:27}},{start:{line:30,column:31},end:{line:30,column:41}}],line:30},6:{loc:{start:{line:31,column:6},end:{line:32,column:35}},type:"if",locations:[{start:{line:31,column:6},end:{line:32,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:31},7:{loc:{start:{line:36,column:11},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:11},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},8:{loc:{start:{line:36,column:15},end:{line:36,column:49}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:35}},{start:{line:36,column:39},end:{line:36,column:49}}],line:36},9:{loc:{start:{line:42,column:18},end:{line:42,column:53}},type:"cond-expr",locations:[{start:{line:42,column:36},end:{line:42,column:42}},{start:{line:42,column:45},end:{line:42,column:53}}],line:42},10:{loc:{start:{line:46,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},11:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},12:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},13:{loc:{start:{line:53,column:8},end:{line:53,column:56}},type:"binary-expr",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:34},end:{line:53,column:56}}],line:53},14:{loc:{start:{line:56,column:4},end:{line:58,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:58,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},15:{loc:{start:{line:56,column:8},end:{line:56,column:56}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:30}},{start:{line:56,column:34},end:{line:56,column:56}}],line:56},16:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},17:{loc:{start:{line:66,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:66,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:66},18:{loc:{start:{line:67,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:67,column:6},end:{line:73,column:7}},{start:{line:70,column:13},end:{line:73,column:7}}],line:67},19:{loc:{start:{line:80,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:96,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},20:{loc:{start:{line:82,column:6},end:{line:95,column:7}},type:"if",locations:[{start:{line:82,column:6},end:{line:95,column:7}},{start:{line:89,column:13},end:{line:95,column:7}}],line:82},21:{loc:{start:{line:83,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:87,column:9}},{start:{line:85,column:15},end:{line:87,column:9}}],line:83},22:{loc:{start:{line:90,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:94,column:9}},{start:{line:92,column:15},end:{line:94,column:9}}],line:90},23:{loc:{start:{line:100,column:4},end:{line:101,column:33}},type:"if",locations:[{start:{line:100,column:4},end:{line:101,column:33}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:100},24:{loc:{start:{line:104,column:4},end:{line:187,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:187,column:5}},{start:{line:168,column:11},end:{line:187,column:5}}],line:104},25:{loc:{start:{line:104,column:8},end:{line:104,column:205}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:63}},{start:{line:104,column:67},end:{line:104,column:122}},{start:{line:104,column:126},end:{line:104,column:151}},{start:{line:104,column:155},end:{line:104,column:180}},{start:{line:104,column:184},end:{line:104,column:205}}],line:104},26:{loc:{start:{line:105,column:20},end:{line:105,column:81}},type:"cond-expr",locations:[{start:{line:105,column:41},end:{line:105,column:62}},{start:{line:105,column:65},end:{line:105,column:81}}],line:105},27:{loc:{start:{line:106,column:27},end:{line:106,column:82}},type:"cond-expr",locations:[{start:{line:106,column:59},end:{line:106,column:61}},{start:{line:106,column:64},end:{line:106,column:82}}],line:106},28:{loc:{start:{line:108,column:6},end:{line:112,column:7}},type:"if",locations:[{start:{line:108,column:6},end:{line:112,column:7}},{start:{line:110,column:13},end:{line:112,column:7}}],line:108},29:{loc:{start:{line:123,column:19},end:{line:123,column:58}},type:"cond-expr",locations:[{start:{line:123,column:38},end:{line:123,column:50}},{start:{line:123,column:53},end:{line:123,column:58}}],line:123},30:{loc:{start:{line:152,column:19},end:{line:152,column:58}},type:"cond-expr",locations:[{start:{line:152,column:43},end:{line:152,column:45}},{start:{line:152,column:48},end:{line:152,column:58}}],line:152},31:{loc:{start:{line:169,column:20},end:{line:169,column:81}},type:"cond-expr",locations:[{start:{line:169,column:41},end:{line:169,column:62}},{start:{line:169,column:65},end:{line:169,column:81}}],line:169},32:{loc:{start:{line:177,column:17},end:{line:177,column:46}},type:"cond-expr",locations:[{start:{line:177,column:36},end:{line:177,column:38}},{start:{line:177,column:41},end:{line:177,column:46}}],line:177}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputNumber.tsx"],names:[],mappings:"AA8Ka,SACL,KADK;AA9Kb,OAAO,WAAmC;AAC1C,OAAO,sBAAsB;AA0B7B,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,WAAW;AAAA,EACb;AAAA,EACA,iBAA0B;AAAA,EAE1B,YAAY,OAAyB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM,CAAC,iBAAiB;AAAA,MACxB,SAAS;AAAA,MACT,OAAO,MAAM;AAAA,MACb,YAAY,MAAM;AAAA,IACpB;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,QAAI,CAAC,MAAM,WAAW,MAAM,UAAU,MAAM,OAAO;AACjD,aAAO;AAAA,QACL,OAAO,MAAM;AAAA,QACb,YAAY,MAAM;AAAA,MACpB;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,YAAY,UAAuC;AACjD,UAAM,QAAS,aAAa,MAAM,aAAa,SAC7C,SAAY,CAAC;AAEf,UAAM,aAAa,KAAK,MAAM,UAAU;AACxC,QAAG,KAAK,QAAQ,KAAK,KAAK,YAAY;AACpC,UAAI,KAAK,MAAM;AAAU,aAAK,MAAM,SAAS,KAAK;AAClD,WAAK,SAAS;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,IACH,WACS,CAAC,KAAK,QAAQ,KAAK,KAAK,YAAY;AAC3C,WAAK,SAAS;AAAA,QACZ,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,SAAK,SAAS;AAAA,MACZ,YAAY,aAAa,KAAK,SAAY;AAAA,IAC5C,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,GAAgC;AACtC,QAAI,MAAM,QAAW;AACnB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,CAAC;AACf,QAAG,MAAM,KAAK,GAAG;AACf,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,QAAG,CAAC,MAAM,KAAK,MAAM,GAAI,KAAK,QAAQ,KAAK,MAAM,KAAM;AACrD,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,aAAa,MAAM;AACjB,SAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAE9B,QAAG,CAAC,KAAK,MAAM,OAAO;AACpB;AAAA,IACF;AAGA,QAAI,CAAC,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACnC,UAAG,KAAK,QAAQ,KAAK,MAAM,KAAK,GAAG;AACjC,aAAK,YAAY,KAAK,MAAM,KAAK;AACjC,aAAK,SAAS,EAAC,YAAY,KAAK,MAAM,MAAK,CAAC;AAAA,MAC9C,OAAO;AACL,aAAK,YAAY,MAAS;AAC1B,aAAK,SAAS,EAAC,YAAY,OAAS,CAAC;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,MAAqE;AACpF,QAAI,QAAQ,WAAW,EAAE,OAAO,KAAK;AACrC,UAAM,OAAO,KAAK,MAAM;AACxB,QAAI,aAAa;AAEjB,QAAG,MAAM;AAEP,YAAM,OAAO,QAAQ;AAGrB,UAAI,KAAK,gBAAgB;AAKvB,YAAI,QAAQ,CAAC,KAAK,MAAM,YAAa;AACnC,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B,OACK;AACH,kBAAQ,KAAK,MAAM,QAAS;AAAA,QAC9B;AACA,qBAAa;AAAA,MACf,OACK;AACH,YAAI,OAAO,OAAK,GAAG;AACjB,kBAAQ,QAAQ;AAAA,QAClB,OACK;AACH,kBAAQ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,SAAK,iBAAiB;AAGtB,YAAQ,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,IAAI,KAAK,MAAM,KAAM,KAAK,CAAC;AAElE,SAAK,SAAS,EAAC,OAAO,WAAU,CAAC;AACjC,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,KAAK;AAAA,EACpD;AAAA,EAEA,SAAS;AACP,QACE,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,OAAO,UAAU,eAAe,KAAK,KAAK,OAAO,KAAK,KACtD,KAAK,MAAM,QAAQ,UAAa,KAAK,MAAM,QAAQ,UACnD,KAAK,MAAM,YACX;AACA,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AACtE,YAAM,eAAe,KAAK,MAAM,YAAY,SAAY,KAAK,KAAK,MAAM;AACxE,UAAI;AACJ,UAAI,KAAK,MAAM,cAAc;AAC3B,qBAAa,KAAK,MAAM;AAAA,MAC1B,OACK;AACH,qBAAa;AAAA,MACf;AAEA,aAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YAEV,MAAK;AAAA,YACL,KAAK,KAAK,MAAM;AAAA,YAChB,KAAK,KAAK,MAAM;AAAA,YAChB,MAAK;AAAA,YACL,YAAW;AAAA,YACX,OAAO,UAAU,SAAY,eAAe;AAAA,YAC5C,UAAU,KAAK;AAAA,YACf,WAAW,MAAM;AACf,mBAAK,iBAAiB;AAAA,YACxB;AAAA,YACA,eAAe,MAAM;AACnB,mBAAK,SAAS,EAAC,SAAS,MAAM,cAAc,KAAI,CAAC;AAAA,YACnD;AAAA,YACA,aAAa,MAAM;AAEjB,mBAAK,SAAS,EAAC,SAAS,OAAO,cAAc,MAAK,CAAC;AAAA,YACrD;AAAA,YACA,QAAQ,MAAM;AACZ,mBAAK,SAAS;AAAA,gBACZ,SAAS;AAAA,gBACT,cAAc;AAAA,gBACd,YAAY,KAAK,MAAM;AAAA,cACzB,CAAC;AAAA,YACH;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAzBrC;AAAA,QA0BN;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YAEC,MAAK;AAAA,YACL,YAAW;AAAA,YACX,WAAU;AAAA,YACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,YAC1C,OAAO,eAAe,SAAY,KAAK;AAAA,YACvC,SAAS,QAAM;AACb,mBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,YAC/B;AAAA,YACA,UAAU,OAAK;AACb,mBAAK,YAAY,EAAE,OAAO,KAAK;AAAA,YACjC;AAAA,YACA,QAAQ,QAAM;AACZ,mBAAK,SAAS,EAAC,SAAS,MAAK,CAAC;AAC9B,mBAAK,WAAW;AAAA,YAClB;AAAA,YACA,eAAa,KAAK,MAAM,aAAa,IAAI;AAAA;AAAA,UAhBrC;AAAA,QAkBN;AAAA,SACF;AAAA,IACF,OACK;AACH,YAAM,QAAQ,KAAK,MAAM,UAAU,KAAK,MAAM,aAAa,KAAK,MAAM;AAEtE,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,cAAY,KAAK,MAAM,YAAY;AAAA,UACnC,YAAW;AAAA,UACX,WAAU;AAAA,UACV,aAAa,KAAK,MAAM,SAAS,SAAS;AAAA,UAC1C,OAAO,UAAU,SAAY,KAAK;AAAA,UAClC,UAAU,OAAK,KAAK,YAAY,EAAE,OAAO,KAAK;AAAA,UAC9C,SAAS,MAAM;AACb,iBAAK,SAAS,EAAC,SAAS,KAAI,CAAC;AAAA,UAC/B;AAAA,UACA,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK,MAAM;AAAA,UACrB,eAAa,KAAK,MAAM,aAAa;AAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"055427b59351edaed6ac0381ee689923477adaa1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Nt=function(){return a},a}Nt();class Qf extends Mn.Component{constructor(n){Nt().f[0]++,Nt().s[2]++;super(n);on(this,"_keyboardEvent",(Nt().s[1]++,!1));on(this,"resetValue",(Nt().s[26]++,()=>{if(Nt().f[4]++,Nt().s[27]++,this.setState({editing:!1}),Nt().s[28]++,this.state.value)Nt().b[16][1]++;else{Nt().b[16][0]++,Nt().s[29]++;return}Nt().s[30]++,this.isValid(this.state.value)?Nt().b[17][1]++:(Nt().b[17][0]++,Nt().s[31]++,this.isValid(this.props.value)?(Nt().b[18][0]++,Nt().s[32]++,this.changeValue(this.props.value),Nt().s[33]++,this.setState({dirtyValue:this.props.value})):(Nt().b[18][1]++,Nt().s[34]++,this.changeValue(void 0),Nt().s[35]++,this.setState({dirtyValue:void 0})))}));on(this,"onChangeRange",(Nt().s[36]++,n=>{Nt().f[5]++;let r=(Nt().s[37]++,parseFloat(n.target.value));const i=(Nt().s[38]++,this.props.rangeStep);let o=(Nt().s[39]++,r);if(Nt().s[40]++,i){Nt().b[19][0]++;const a=(Nt().s[41]++,r%i);Nt().s[42]++,this._keyboardEvent?(Nt().b[20][0]++,Nt().s[43]++,r<+this.state.dirtyValue?(Nt().b[21][0]++,Nt().s[44]++,r=this.state.value-i):(Nt().b[21][1]++,Nt().s[45]++,r=this.state.value+i),Nt().s[46]++,o=r):(Nt().b[20][1]++,Nt().s[47]++,a<i/2?(Nt().b[22][0]++,Nt().s[48]++,r=r-a):(Nt().b[22][1]++,Nt().s[49]++,r=r+(i-a)))}else Nt().b[19][1]++;Nt().s[50]++,this._keyboardEvent=!1,Nt().s[51]++,r=Math.max(this.props.min,Math.min(this.props.max,r)),Nt().s[52]++,this.setState({value:r,dirtyValue:o}),Nt().s[53]++,this.props.onChange?(Nt().b[23][0]++,Nt().s[54]++,this.props.onChange(r)):Nt().b[23][1]++}));Nt().s[3]++,this.state={uuid:+fv(),editing:!1,value:n.value,dirtyValue:n.value}}static getDerivedStateFromProps(n,r){return Nt().f[1]++,Nt().s[4]++,Nt().b[1][0]++,!r.editing&&(Nt().b[1][1]++,n.value!==r.value)?(Nt().b[0][0]++,Nt().s[5]++,{value:n.value,dirtyValue:n.value}):(Nt().b[0][1]++,Nt().s[6]++,null)}changeValue(n){Nt().f[2]++;const r=(Nt().s[7]++,Nt().b[3][0]++,n===""||(Nt().b[3][1]++,n===void 0)?(Nt().b[2][0]++,void 0):(Nt().b[2][1]++,+n)),i=(Nt().s[8]++,this.props.value!==r);Nt().s[9]++,Nt().b[5][0]++,this.isValid(r)&&(Nt().b[5][1]++,i)?(Nt().b[4][0]++,Nt().s[10]++,this.props.onChange?(Nt().b[6][0]++,Nt().s[11]++,this.props.onChange(r)):Nt().b[6][1]++,Nt().s[12]++,this.setState({value:r})):(Nt().b[4][1]++,Nt().s[13]++,Nt().b[8][0]++,!this.isValid(r)&&(Nt().b[8][1]++,i)?(Nt().b[7][0]++,Nt().s[14]++,this.setState({value:void 0})):Nt().b[7][1]++),Nt().s[15]++,this.setState({dirtyValue:n===""?(Nt().b[9][0]++,void 0):(Nt().b[9][1]++,n)})}isValid(n){if(Nt().f[3]++,Nt().s[16]++,n===void 0)return Nt().b[10][0]++,Nt().s[17]++,!0;Nt().b[10][1]++;const r=(Nt().s[18]++,+n);return Nt().s[19]++,isNaN(r)?(Nt().b[11][0]++,Nt().s[20]++,!1):(Nt().b[11][1]++,Nt().s[21]++,Nt().b[13][0]++,!isNaN(this.props.min)&&(Nt().b[13][1]++,r<this.props.min)?(Nt().b[12][0]++,Nt().s[22]++,!1):(Nt().b[12][1]++,Nt().s[23]++,Nt().b[15][0]++,!isNaN(this.props.max)&&(Nt().b[15][1]++,r>this.props.max)?(Nt().b[14][0]++,Nt().s[24]++,!1):(Nt().b[14][1]++,Nt().s[25]++,!0)))}render(){var n,r;if(Nt().f[6]++,Nt().s[55]++,Nt().b[25][0]++,Object.prototype.hasOwnProperty.call(this.props,"min")&&(Nt().b[25][1]++,Object.prototype.hasOwnProperty.call(this.props,"max"))&&(Nt().b[25][2]++,this.props.min!==void 0)&&(Nt().b[25][3]++,this.props.max!==void 0)&&(Nt().b[25][4]++,this.props.allowRange)){Nt().b[24][0]++;const i=(Nt().s[56]++,this.state.editing?(Nt().b[26][0]++,this.state.dirtyValue):(Nt().b[26][1]++,this.state.value)),o=(Nt().s[57]++,this.props.default===void 0?(Nt().b[27][0]++,""):(Nt().b[27][1]++,this.props.default));let a;return Nt().s[58]++,this.state.editingRange?(Nt().b[28][0]++,Nt().s[59]++,a=this.state.value):(Nt().b[28][1]++,Nt().s[60]++,a=i),Nt().s[61]++,G.jsxs("div",{className:"maputnik-number-container",children:[G.jsx("input",{className:"maputnik-number-range",type:"range",max:this.props.max,min:this.props.min,step:"any",spellCheck:"false",value:i===void 0?(Nt().b[29][0]++,o):(Nt().b[29][1]++,i),onChange:this.onChangeRange,onKeyDown:()=>{Nt().f[7]++,Nt().s[62]++,this._keyboardEvent=!0},onPointerDown:()=>{Nt().f[8]++,Nt().s[63]++,this.setState({editing:!0,editingRange:!0})},onPointerUp:()=>{Nt().f[9]++,Nt().s[64]++,this.setState({editing:!1,editingRange:!1})},onBlur:()=>{Nt().f[10]++,Nt().s[65]++,this.setState({editing:!1,editingRange:!1,dirtyValue:this.state.value})},"data-wd-key":this.props["data-wd-key"]+"-range"},"range"),G.jsx("input",{type:"text",spellCheck:"false",className:"maputnik-number",placeholder:(n=this.props.default)==null?void 0:n.toString(),value:a===void 0?(Nt().b[30][0]++,""):(Nt().b[30][1]++,a),onFocus:s=>{Nt().f[11]++,Nt().s[66]++,this.setState({editing:!0})},onChange:s=>{Nt().f[12]++,Nt().s[67]++,this.changeValue(s.target.value)},onBlur:s=>{Nt().f[13]++,Nt().s[68]++,this.setState({editing:!1}),Nt().s[69]++,this.resetValue()},"data-wd-key":this.props["data-wd-key"]+"-text"},"text")]})}else{Nt().b[24][1]++;const i=(Nt().s[70]++,this.state.editing?(Nt().b[31][0]++,this.state.dirtyValue):(Nt().b[31][1]++,this.state.value));return Nt().s[71]++,G.jsx("input",{"aria-label":this.props["aria-label"],spellCheck:"false",className:"maputnik-number",placeholder:(r=this.props.default)==null?void 0:r.toString(),value:i===void 0?(Nt().b[32][0]++,""):(Nt().b[32][1]++,i),onChange:o=>(Nt().f[14]++,Nt().s[72]++,this.changeValue(o.target.value)),onFocus:()=>{Nt().f[15]++,Nt().s[73]++,this.setState({editing:!0})},onBlur:this.resetValue,required:this.props.required,"data-wd-key":this.props["data-wd-key"]})}}}on(Qf,"defaultProps",(Nt().s[0]++,{rangeStep:1}));function Mf(){var e="/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",t="e85f7924976070cbab7795bce9cf0e191e4a6b5e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx",statementMap:{0:{start:{line:4,column:24},end:{line:6,column:3}},1:{start:{line:7,column:13},end:{line:9,column:3}},2:{start:{line:8,column:4},end:{line:8,column:43}},3:{start:{line:11,column:4},end:{line:26,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:13},end:{line:7,column:14}},loc:{start:{line:7,column:19},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:27,column:3}},line:10}},branchMap:{0:{loc:{start:{line:24,column:17},end:{line:24,column:53}},type:"cond-expr",locations:[{start:{line:24,column:36},end:{line:24,column:44}},{start:{line:24,column:47},end:{line:24,column:53}}],line:24}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputCheckbox.tsx"],names:[],mappings:"AAkBW,SACL,KADK;AAlBX,OAAO,WAAW;AAQlB,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,OAAO,eAAe;AAAA,IACpB,OAAO;AAAA,EACT;AAAA,EAEA,WAAW,MAAM;AACf,SAAK,MAAM,SAAS,CAAC,KAAK,MAAM,KAAK;AAAA,EACvC;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,6BACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,KAAK;AAAA,UACf,SAAS,KAAK;AAAA,UACd,SAAS,KAAK,MAAM;AAAA;AAAA,MACtB;AAAA,MACA,oBAAC,SAAI,WAAU,yBACb,8BAAC,SAAI,OAAO;AAAA,QACV,SAAS,KAAK,MAAM,QAAQ,WAAW;AAAA,MACzC,GAAG,WAAU,0BAAyB,SAAQ,aAC5C,8BAAC,UAAK,GAAE,2CAA0C,GACpD,GACF;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e85f7924976070cbab7795bce9cf0e191e4a6b5e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Mf=function(){return a},a}Mf();class fk extends Mn.Component{constructor(){super(...arguments);on(this,"onChange",(Mf().s[1]++,()=>{Mf().f[0]++,Mf().s[2]++,this.props.onChange(!this.props.value)}))}render(){return Mf().f[1]++,Mf().s[3]++,G.jsxs("div",{className:"maputnik-checkbox-wrapper",children:[G.jsx("input",{className:"maputnik-checkbox",type:"checkbox",style:this.props.style,onChange:this.onChange,onClick:this.onChange,checked:this.props.value}),G.jsx("div",{className:"maputnik-checkbox-box",children:G.jsx("svg",{style:{display:this.props.value?(Mf().b[0][0]++,"inline"):(Mf().b[0][1]++,"none")},className:"maputnik-checkbox-icon",viewBox:"0 0 32 32",children:G.jsx("path",{d:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"})})})]})}}on(fk,"defaultProps",(Mf().s[0]++,{value:!1}));function pr(){var e="/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",t="b22e3e5f460e97aba4bdc54843ce7e77423f5b07",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:9,column:3}},1:{start:{line:11,column:4},end:{line:11,column:17}},2:{start:{line:12,column:4},end:{line:16,column:6}},3:{start:{line:19,column:18},end:{line:19,column:20}},4:{start:{line:20,column:30},end:{line:20,column:62}},5:{start:{line:21,column:4},end:{line:28,column:7}},6:{start:{line:22,column:6},end:{line:27,column:7}},7:{start:{line:23,column:8},end:{line:23,column:34}},8:{start:{line:25,column:8},end:{line:25,column:34}},9:{start:{line:26,column:8},end:{line:26,column:46}},10:{start:{line:29,column:4},end:{line:32,column:6}},11:{start:{line:35,column:4},end:{line:38,column:7}},12:{start:{line:36,column:18},end:{line:36,column:26}},13:{start:{line:37,column:6},end:{line:37,column:45}},14:{start:{line:41,column:18},end:{line:41,column:43}},15:{start:{line:42,column:4},end:{line:42,column:26}},16:{start:{line:43,column:4},end:{line:51,column:7}},17:{start:{line:46,column:6},end:{line:50,column:7}},18:{start:{line:47,column:8},end:{line:47,column:35}},19:{start:{line:48,column:13},end:{line:50,column:7}},20:{start:{line:49,column:8},end:{line:49,column:36}},21:{start:{line:54,column:22},end:{line:54,column:32}},22:{start:{line:55,column:27},end:{line:57,column:6}},23:{start:{line:56,column:6},end:{line:56,column:42}},24:{start:{line:58,column:19},end:{line:84,column:6}},25:{start:{line:59,column:6},end:{line:83,column:7}},26:{start:{line:60,column:8},end:{line:70,column:10}},27:{start:{line:66,column:29},end:{line:66,column:51}},28:{start:{line:72,column:8},end:{line:82,column:10}},29:{start:{line:85,column:4},end:{line:85,column:89}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:21},end:{line:17,column:3}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:48},end:{line:33,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:39},end:{line:21,column:40}},loc:{start:{line:21,column:49},end:{line:28,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:20},end:{line:39,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:35,column:53},end:{line:35,column:54}},loc:{start:{line:35,column:63},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:29},end:{line:52,column:3}},line:40},6:{name:"(anonymous_6)",decl:{start:{line:45,column:7},end:{line:45,column:8}},loc:{start:{line:45,column:13},end:{line:51,column:5}},line:45},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:11},end:{line:86,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:55,column:60},end:{line:55,column:61}},loc:{start:{line:55,column:69},end:{line:57,column:5}},line:55},9:{name:"(anonymous_9)",decl:{start:{line:58,column:59},end:{line:58,column:60}},loc:{start:{line:58,column:69},end:{line:84,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:66,column:22},end:{line:66,column:23}},loc:{start:{line:66,column:29},end:{line:66,column:51}},line:66}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:22,column:6},end:{line:27,column:7}},{start:{line:24,column:13},end:{line:27,column:7}}],line:22},1:{loc:{start:{line:37,column:15},end:{line:37,column:43}},type:"binary-expr",locations:[{start:{line:37,column:15},end:{line:37,column:29}},{start:{line:37,column:33},end:{line:37,column:43}}],line:37},2:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},3:{loc:{start:{line:46,column:10},end:{line:46,column:55}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:55}}],line:46},4:{loc:{start:{line:48,column:13},end:{line:50,column:7}},type:"if",locations:[{start:{line:48,column:13},end:{line:50,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},5:{loc:{start:{line:55,column:27},end:{line:57,column:6}},type:"binary-expr",locations:[{start:{line:55,column:27},end:{line:55,column:43}},{start:{line:55,column:47},end:{line:57,column:6}}],line:55},6:{loc:{start:{line:56,column:13},end:{line:56,column:41}},type:"binary-expr",locations:[{start:{line:56,column:13},end:{line:56,column:23}},{start:{line:56,column:27},end:{line:56,column:41}}],line:56},7:{loc:{start:{line:59,column:6},end:{line:83,column:7}},type:"if",locations:[{start:{line:59,column:6},end:{line:83,column:7}},{start:{line:71,column:13},end:{line:83,column:7}}],line:59},8:{loc:{start:{line:63,column:21},end:{line:63,column:91}},type:"cond-expr",locations:[{start:{line:63,column:61},end:{line:63,column:67}},{start:{line:63,column:70},end:{line:63,column:91}}],line:63},9:{loc:{start:{line:63,column:21},end:{line:63,column:58}},type:"binary-expr",locations:[{start:{line:63,column:21},end:{line:63,column:35}},{start:{line:63,column:39},end:{line:63,column:58}}],line:63},10:{loc:{start:{line:65,column:22},end:{line:65,column:51}},type:"cond-expr",locations:[{start:{line:65,column:39},end:{line:65,column:43}},{start:{line:65,column:46},end:{line:65,column:51}}],line:65},11:{loc:{start:{line:67,column:26},end:{line:67,column:70}},type:"binary-expr",locations:[{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:70}}],line:67},12:{loc:{start:{line:75,column:21},end:{line:75,column:91}},type:"cond-expr",locations:[{start:{line:75,column:61},end:{line:75,column:67}},{start:{line:75,column:70},end:{line:75,column:91}}],line:75},13:{loc:{start:{line:75,column:21},end:{line:75,column:58}},type:"binary-expr",locations:[{start:{line:75,column:21},end:{line:75,column:35}},{start:{line:75,column:39},end:{line:75,column:58}}],line:75},14:{loc:{start:{line:77,column:22},end:{line:77,column:51}},type:"cond-expr",locations:[{start:{line:77,column:39},end:{line:77,column:43}},{start:{line:77,column:46},end:{line:77,column:51}}],line:77},15:{loc:{start:{line:79,column:26},end:{line:79,column:70}},type:"binary-expr",locations:[{start:{line:79,column:26},end:{line:79,column:50}},{start:{line:79,column:54},end:{line:79,column:70}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputArray.tsx"],names:[],mappings:"AA0Fe;AA1Ff,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AAiBxB,qBAAqB,mBAAmB,MAAM,UAA4C;AAAA,EACxF,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,IACR,SAAS,CAAC;AAAA,EACZ;AAAA,EAEA,YAAa,OAAwB;AACnC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA;AAAA,MAE/B,mBAAmB,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAAwB,OAAwB;AAC9E,UAAM,QAAe,CAAC;AACtB,UAAM,oBAAoB,MAAM,kBAAkB,MAAM,CAAC;AAEzD,UAAM,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC3C,UAAI,MAAM,MAAM,CAAC,MAAM,MAAM,kBAAkB,CAAC,GAAG;AACjD,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MAC1B,OACK;AACH,cAAM,CAAC,IAAI,MAAM,MAAM,CAAC;AACxB,0BAAkB,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,OAAkB;AAC3B,WAAO,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,MAAM,CAAC,GAAG,MAAM;AACzD,YAAM,MAAM,MAAM,CAAC;AACnB,aAAO,EAAE,QAAQ,UAAa,QAAQ;AAAA,IACxC,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,KAAa,UAAuC;AAC9D,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,CAAC;AACtC,UAAM,GAAG,IAAI;AAEb,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,GAAG,MAAM;AACP,UAAI,KAAK,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACjD,aAAK,MAAM,SAAS,KAAK;AAAA,MAC3B,WACS,KAAK,MAAM,UAAS;AAE3B,aAAK,MAAM,SAAS,MAAS;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,UAAM,iBACJ,MAAM,SAAS,KACf,CAAC,MAAM,MAAM,SAAO;AAClB,aAAQ,QAAQ,MAAM,QAAQ;AAAA,IAChC,CAAC;AAGH,UAAM,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM;AAC/D,UAAG,KAAK,MAAM,SAAS,UAAU;AAC/B,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,CAAC,MAAM,KAAK,YAAY,GAAG,CAAC;AAAA,YACtC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF,OAAO;AACL,eAAO;AAAA,UAAC;AAAA;AAAA,YAEN,SAAS,kBAAkB,CAAC,KAAK,MAAM,UAAU,SAAY,KAAK,MAAM,QAAQ,CAAC;AAAA,YACjF,OAAO,MAAM,CAAC;AAAA,YACd,UAAU,iBAAiB,OAAO;AAAA,YAClC,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,UAL9C;AAAA,QAMP;AAAA,MACF;AAAA,IACF,CAAC;AAED,WACE,oBAAC,SAAI,WAAU,kBACZ,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b22e3e5f460e97aba4bdc54843ce7e77423f5b07"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return pr=function(){return a},a}pr();var U6;let X$=(U6=class extends Mn.Component{constructor(t){pr().f[0]++,pr().s[1]++,super(t),pr().s[2]++,this.state={value:this.props.value.slice(0),initialPropsValue:this.props.value.slice(0)}}static getDerivedStateFromProps(t,n){pr().f[1]++;const r=(pr().s[3]++,[]),i=(pr().s[4]++,n.initialPropsValue.slice(0));return pr().s[5]++,Array(t.length).fill(null).map((o,a)=>{pr().f[2]++,pr().s[6]++,t.value[a]===n.initialPropsValue[a]?(pr().b[0][0]++,pr().s[7]++,r[a]=n.value[a]):(pr().b[0][1]++,pr().s[8]++,r[a]=n.value[a],pr().s[9]++,i[a]=n.value[a])}),pr().s[10]++,{value:r,initialPropsValue:i}}isComplete(t){return pr().f[3]++,pr().s[11]++,Array(this.props.length).fill(null).every((n,r)=>{pr().f[4]++;const i=(pr().s[12]++,t[r]);return pr().s[13]++,pr().b[1][0]++,!(i===void 0||(pr().b[1][1]++,i===""))})}changeValue(t,n){pr().f[5]++;const r=(pr().s[14]++,this.state.value.slice(0));pr().s[15]++,r[t]=n,pr().s[16]++,this.setState({value:r},()=>{pr().f[6]++,pr().s[17]++,pr().b[3][0]++,this.isComplete(r)&&(pr().b[3][1]++,this.props.onChange)?(pr().b[2][0]++,pr().s[18]++,this.props.onChange(r)):(pr().b[2][1]++,pr().s[19]++,this.props.onChange?(pr().b[4][0]++,pr().s[20]++,this.props.onChange(void 0)):pr().b[4][1]++)})}render(){pr().f[7]++;const{value:t}=(pr().s[21]++,this.state),n=(pr().s[22]++,pr().b[5][0]++,t.length>0&&(pr().b[5][1]++,!t.every(i=>(pr().f[8]++,pr().s[23]++,pr().b[6][0]++,i===""||(pr().b[6][1]++,i===void 0))))),r=(pr().s[24]++,Array(this.props.length).fill(null).map((i,o)=>(pr().f[9]++,pr().s[25]++,this.props.type==="number"?(pr().b[7][0]++,pr().s[26]++,G.jsx(Qf,{default:(pr().b[9][0]++,n||(pr().b[9][1]++,!this.props.default)?(pr().b[8][0]++,void 0):(pr().b[8][1]++,this.props.default[o])),value:t[o],required:n?(pr().b[10][0]++,!0):(pr().b[10][1]++,!1),onChange:a=>(pr().f[10]++,pr().s[27]++,this.changeValue(o,a)),"aria-label":(pr().b[11][0]++,this.props["aria-label"]||(pr().b[11][1]++,this.props.label))},o)):(pr().b[7][1]++,pr().s[28]++,G.jsx($d,{default:(pr().b[13][0]++,n||(pr().b[13][1]++,!this.props.default)?(pr().b[12][0]++,void 0):(pr().b[12][1]++,this.props.default[o])),value:t[o],required:n?(pr().b[14][0]++,!0):(pr().b[14][1]++,!1),onChange:this.changeValue.bind(this,o),"aria-label":(pr().b[15][0]++,this.props["aria-label"]||(pr().b[15][1]++,this.props.label))},o)))));return pr().s[29]++,G.jsx("div",{className:"maputnik-array",children:r})}},on(U6,"defaultProps",(pr().s[0]++,{value:[],default:[]})),U6);function ml(){var e="/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",t="c4660c9ecb80d9f1ce71e70441154e1e765b77ab",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx",statementMap:{0:{start:{line:6,column:18},end:{line:6,column:36}},1:{start:{line:7,column:4},end:{line:9,column:5}},2:{start:{line:8,column:6},end:{line:8,column:43}},3:{start:{line:8,column:35},end:{line:8,column:41}},4:{start:{line:10,column:26},end:{line:10,column:59}},5:{start:{line:11,column:19},end:{line:32,column:6}},6:{start:{line:12,column:6},end:{line:31,column:8}},7:{start:{line:22,column:34},end:{line:22,column:58}},8:{start:{line:33,column:4},end:{line:33,column:140}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:34,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:28},end:{line:8,column:29}},loc:{start:{line:8,column:35},end:{line:8,column:41}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:31},end:{line:11,column:32}},loc:{start:{line:11,column:49},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:22,column:26},end:{line:22,column:27}},loc:{start:{line:22,column:34},end:{line:22,column:58}},line:22}},branchMap:{0:{loc:{start:{line:7,column:4},end:{line:9,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:9,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:7},1:{loc:{start:{line:7,column:8},end:{line:7,column:56}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:26}},{start:{line:7,column:30},end:{line:7,column:56}}],line:7},2:{loc:{start:{line:10,column:26},end:{line:10,column:59}},type:"binary-expr",locations:[{start:{line:10,column:26},end:{line:10,column:42}},{start:{line:10,column:46},end:{line:10,column:59}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputMultiInput.tsx"],names:[],mappings:"AAoBa,SAIL,KAJK;AApBb,OAAO,WAAW;AAClB,OAAO,gBAAgB;AAUvB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,QAAI,UAAU,KAAK,MAAM;AACzB,QAAG,QAAQ,SAAS,KAAK,CAAC,MAAM,QAAQ,QAAQ,CAAC,CAAC,GAAG;AACnD,gBAAU,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,IACnC;AAEA,UAAM,gBAAgB,KAAK,MAAM,SAAS,QAAQ,CAAC,EAAE,CAAC;AACtD,UAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,KAAK,KAAK,MAAK;AAC1C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,WAAW,WAAW,4BAA4B,EAAC,4BAA4B,QAAQ,cAAa,CAAC;AAAA,UAErG;AAAA;AAAA,cAAC;AAAA;AAAA,gBAAM,MAAK;AAAA,gBACV,MAAM,KAAK,MAAM;AAAA,gBACjB,UAAU,QAAM,KAAK,MAAM,SAAS,GAAG;AAAA,gBACvC,OAAO;AAAA,gBACP,SAAS,QAAQ;AAAA;AAAA,YACnB;AAAA,YACC;AAAA;AAAA;AAAA,QATI;AAAA,MAUP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,cAAS,WAAU,wBAAuB,cAAY,KAAK,MAAM,YAAY,GAClF,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4660c9ecb80d9f1ce71e70441154e1e765b77ab"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ml=function(){return a},a}ml();class a7e extends Mn.Component{render(){ml().f[0]++;let t=(ml().s[0]++,this.props.options);ml().s[1]++,ml().b[1][0]++,t.length>0&&(ml().b[1][1]++,!Array.isArray(t[0]))?(ml().b[0][0]++,ml().s[2]++,t=t.map(i=>(ml().f[1]++,ml().s[3]++,[i,i]))):ml().b[0][1]++;const n=(ml().s[4]++,ml().b[2][0]++,this.props.value||(ml().b[2][1]++,t[0][0])),r=(ml().s[5]++,t.map(([i,o])=>(ml().f[2]++,ml().s[6]++,G.jsxs("label",{className:Gf("maputnik-radio-as-button",{"maputnik-button-selected":i===n}),children:[G.jsx("input",{type:"radio",name:this.props.name,onChange:a=>(ml().f[3]++,ml().s[7]++,this.props.onChange(i)),value:i,checked:i===n}),o]},i))));return ml().s[8]++,G.jsx("fieldset",{className:"maputnik-multibutton","aria-label":this.props["aria-label"],children:r})}}function gs(){var e="/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",t="d905b5da4422f2b84d44f87b04fda3de421542f5",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx",statementMap:{0:{start:{line:6,column:12},end:{line:6,column:13}},1:{start:{line:7,column:2},end:{line:9,column:5}},2:{start:{line:8,column:4},end:{line:8,column:24}},3:{start:{line:10,column:2},end:{line:10,column:13}},4:{start:{line:14,column:54},end:{line:14,column:64}},5:{start:{line:15,column:4},end:{line:36,column:5}},6:{start:{line:16,column:6},end:{line:25,column:8}},7:{start:{line:27,column:6},end:{line:35,column:8}}},fnMap:{0:{name:"optionsLabelLength",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:37},end:{line:11,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:34},end:{line:9,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:37,column:3}},line:13}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:36,column:5}},{start:{line:26,column:11},end:{line:36,column:5}}],line:15},1:{loc:{start:{line:15,column:8},end:{line:15,column:64}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:27}},{start:{line:15,column:31},end:{line:15,column:64}}],line:15},2:{loc:{start:{line:21,column:17},end:{line:21,column:44}},type:"binary-expr",locations:[{start:{line:21,column:17},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:44}}],line:21},3:{loc:{start:{line:23,column:24},end:{line:23,column:57}},type:"binary-expr",locations:[{start:{line:23,column:24},end:{line:23,column:48}},{start:{line:23,column:52},end:{line:23,column:57}}],line:23},4:{loc:{start:{line:31,column:17},end:{line:31,column:44}},type:"binary-expr",locations:[{start:{line:31,column:17},end:{line:31,column:22}},{start:{line:31,column:26},end:{line:31,column:44}}],line:31},5:{loc:{start:{line:33,column:24},end:{line:33,column:57}},type:"binary-expr",locations:[{start:{line:33,column:24},end:{line:33,column:48}},{start:{line:33,column:52},end:{line:33,column:57}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputEnum.tsx"],names:[],mappings:"AAgCa;AAhCb,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,qBAAqB;AAG5B,SAAS,mBAAmB,SAAgB;AAC1C,MAAI,MAAM;AACV,UAAQ,QAAQ,CAAC,CAAC,GAAG,KAAK,MAAM;AAC9B,WAAO,MAAM;AAAA,EACf,CAAC;AACD,SAAO;AACT;AAgBA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,EAAC,SAAS,OAAO,UAAU,MAAM,MAAK,IAAI,KAAK;AAErD,QAAG,QAAQ,UAAU,KAAK,mBAAmB,OAAO,KAAK,IAAI;AAC3D,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,OAAQ,SAAS,KAAK,MAAM;AAAA,UAC5B;AAAA,UACA,cAAY,KAAK,MAAM,YAAY,KAAK;AAAA;AAAA,MAC1C;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d905b5da4422f2b84d44f87b04fda3de421542f5"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return gs=function(){return a},a}gs();function s7e(e){gs().f[0]++;let t=(gs().s[0]++,0);return gs().s[1]++,e.forEach(([n,r])=>{gs().f[1]++,gs().s[2]++,t+=r.length}),gs().s[3]++,t}class pk extends Mn.Component{render(){gs().f[2]++;const{options:t,value:n,onChange:r,name:i,label:o}=(gs().s[4]++,this.props);return gs().s[5]++,gs().b[1][0]++,t.length<=3&&(gs().b[1][1]++,s7e(t)<=20)?(gs().b[0][0]++,gs().s[6]++,G.jsx(a7e,{name:i,options:t,value:(gs().b[2][0]++,n||(gs().b[2][1]++,this.props.default)),onChange:r,"aria-label":(gs().b[3][0]++,this.props["aria-label"]||(gs().b[3][1]++,o))})):(gs().b[0][1]++,gs().s[7]++,G.jsx(H1,{options:t,value:(gs().b[4][0]++,n||(gs().b[4][1]++,this.props.default)),onChange:r,"aria-label":(gs().b[5][0]++,this.props["aria-label"]||(gs().b[5][1]++,o))}))}}function o5(){var e="/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",t="74f20da146753d9876d7a8eb2810e9f5402ba306",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx",statementMap:{0:{start:{line:6,column:4},end:{line:9,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:10,column:3}},line:5}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SmallError.tsx"],names:[],mappings:"AAYM;AAZN,OAAO,WAAW;AAClB,OAAO;AAQP,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAU;AACR,WACE,qBAAC,SAAI,WAAU,cAAa;AAAA;AAAA,MAClB,KAAK,MAAM;AAAA,OACrB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"74f20da146753d9876d7a8eb2810e9f5402ba306"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return o5=function(){return a},a}o5();class zD extends Mn.Component{render(){return o5().f[0]++,o5().s[0]++,G.jsxs("div",{className:"SmallError",children:["Error: ",this.props.children]})}}function Fi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",t="a46ad84e5c054cc551de3c721f37ad4b7c2acd0b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx",statementMap:{0:{start:{line:6,column:2},end:{line:8,column:3}},1:{start:{line:7,column:4},end:{line:7,column:11}},2:{start:{line:10,column:22},end:{line:17,column:3}},3:{start:{line:11,column:4},end:{line:16,column:5}},4:{start:{line:12,column:21},end:{line:12,column:34}},5:{start:{line:13,column:6},end:{line:13,column:29}},6:{start:{line:15,column:6},end:{line:15,column:20}},7:{start:{line:18,column:19},end:{line:18,column:35}},8:{start:{line:19,column:16},end:{line:19,column:53}},9:{start:{line:20,column:2},end:{line:35,column:3}},10:{start:{line:21,column:4},end:{line:28,column:9}},11:{start:{line:29,column:9},end:{line:35,column:3}},12:{start:{line:30,column:4},end:{line:34,column:9}},13:{start:{line:36,column:2},end:{line:36,column:15}},14:{start:{line:39,column:24},end:{line:42,column:3}},15:{start:{line:44,column:4},end:{line:44,column:17}},16:{start:{line:45,column:4},end:{line:47,column:6}},17:{start:{line:49,column:12},end:{line:55,column:3}},18:{start:{line:50,column:4},end:{line:52,column:7}},19:{start:{line:53,column:4},end:{line:54,column:30}},20:{start:{line:54,column:6},end:{line:54,column:30}},21:{start:{line:56,column:13},end:{line:61,column:3}},22:{start:{line:57,column:4},end:{line:59,column:7}},23:{start:{line:60,column:4},end:{line:60,column:29}},24:{start:{line:63,column:4},end:{line:74,column:9}}},fnMap:{0:{name:"validate",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:23},end:{line:37,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:32},end:{line:17,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:13},end:{line:40,column:14}},loc:{start:{line:40,column:19},end:{line:41,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:21},end:{line:48,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:21},end:{line:55,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:13},end:{line:56,column:14}},loc:{start:{line:56,column:22},end:{line:61,column:3}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:11},end:{line:75,column:3}},line:62}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:8,column:3}},type:"if",locations:[{start:{line:6,column:2},end:{line:8,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},1:{loc:{start:{line:20,column:2},end:{line:35,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:35,column:3}},{start:{line:29,column:9},end:{line:35,column:3}}],line:20},2:{loc:{start:{line:23,column:6},end:{line:27,column:10}},type:"cond-expr",locations:[{start:{line:23,column:30},end:{line:23,column:67}},{start:{line:23,column:86},end:{line:27,column:10}}],line:23},3:{loc:{start:{line:29,column:9},end:{line:35,column:3}},type:"if",locations:[{start:{line:29,column:9},end:{line:35,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},4:{loc:{start:{line:29,column:13},end:{line:29,column:86}},type:"binary-expr",locations:[{start:{line:29,column:13},end:{line:29,column:21}},{start:{line:29,column:25},end:{line:29,column:45}},{start:{line:29,column:49},end:{line:29,column:86}}],line:29},5:{loc:{start:{line:53,column:4},end:{line:54,column:30}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputUrl.tsx"],names:["url"],mappings:"AA4Bc,SACA,UADA,KACA,YADA;AA5Bd,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAGvB,SAAS,SAAS,KAAa;AAC7B,MAAI,QAAQ,IAAI;AACd;AAAA,EACF;AAEA,MAAI;AACJ,QAAM,cAAc,CAACA,SAAgB;AACnC,QAAI;AACF,YAAM,SAAS,IAAI,IAAIA,IAAG;AAC1B,aAAO,OAAO;AAAA,IAChB,SACO,KAAK;AACV,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,WAAW,YAAY,GAAG;AAChC,QAAM,QAAQ,OAAO,SAAS,aAAa;AAE3C,MAAI,CAAC,UAAU;AACb,YACE,qBAAC,cAAW;AAAA;AAAA,MAER,QACI,oBAAC,UAAK,sBAAQ,IACd,iCAAE;AAAA,4BAAC,UAAK,qBAAO;AAAA,QAAO;AAAA,QAAI,oBAAC,UAAK,sBAAQ;AAAA,SAAO;AAAA,OAEvD;AAAA,EAEJ,WAEE,YACA,aAAa,WACb,OAAO,SAAS,aAAa,UAC7B;AACA,YACE,qBAAC,cAAW;AAAA;AAAA,MACyE,oBAAC,UAAK,sBAAQ;AAAA,MAAO;AAAA,OAC1G;AAAA,EAEJ;AAEA,SAAO;AACT;AAoBA,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF,OAAO,eAAe;AAAA,IACpB,SAAS,MAAM;AAAA,IAAC;AAAA,EAClB;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,OAAO,SAAS,MAAM,KAAK;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,QAAgB;AACzB,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,QAAI,KAAK,MAAM;AAAS,WAAK,MAAM,QAAQ,GAAG;AAAA,EAChD;AAAA,EAEA,WAAW,CAAC,QAAgB;AAC1B,SAAK,SAAS;AAAA,MACZ,OAAO,SAAS,GAAG;AAAA,IACrB,CAAC;AACD,SAAK,MAAM,SAAS,GAAG;AAAA,EACzB;AAAA,EAEA,SAAU;AACR,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACE,GAAG,KAAK;AAAA,UACT,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,cAAY,KAAK,MAAM,YAAY;AAAA;AAAA,MACrC;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a46ad84e5c054cc551de3c721f37ad4b7c2acd0b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fi=function(){return a},a}Fi();function b6(e){if(Fi().f[0]++,Fi().s[0]++,e===""){Fi().b[0][0]++,Fi().s[1]++;return}else Fi().b[0][1]++;let t;Fi().s[2]++;const n=o=>{Fi().f[1]++,Fi().s[3]++;try{const a=(Fi().s[4]++,new URL(o));return Fi().s[5]++,a.protocol}catch{Fi().s[6]++;return}},r=(Fi().s[7]++,n(e)),i=(Fi().s[8]++,window.location.protocol==="https:");return Fi().s[9]++,r?(Fi().b[1][1]++,Fi().s[11]++,Fi().b[4][0]++,r&&(Fi().b[4][1]++,r==="http:")&&(Fi().b[4][2]++,window.location.protocol==="https:")?(Fi().b[3][0]++,Fi().s[12]++,t=G.jsxs(zD,{children:["CORS policy won't allow fetching resources served over http from https, use a ",G.jsx("code",{children:"https://"})," domain"]})):Fi().b[3][1]++):(Fi().b[1][0]++,Fi().s[10]++,t=G.jsxs(zD,{children:["Must provide protocol ",i?(Fi().b[2][0]++,G.jsx("code",{children:"https://"})):(Fi().b[2][1]++,G.jsxs(G.Fragment,{children:[G.jsx("code",{children:"http://"})," or ",G.jsx("code",{children:"https://"})]}))]})),Fi().s[13]++,t}var R6;let mk=(R6=class extends Mn.Component{constructor(n){Fi().f[3]++,Fi().s[15]++;super(n);on(this,"onInput",(Fi().s[17]++,n=>{Fi().f[4]++,Fi().s[18]++,this.setState({error:b6(n)}),Fi().s[19]++,this.props.onInput?(Fi().b[5][0]++,Fi().s[20]++,this.props.onInput(n)):Fi().b[5][1]++}));on(this,"onChange",(Fi().s[21]++,n=>{Fi().f[5]++,Fi().s[22]++,this.setState({error:b6(n)}),Fi().s[23]++,this.props.onChange(n)}));Fi().s[16]++,this.state={error:b6(n.value)}}render(){return Fi().f[6]++,Fi().s[24]++,G.jsxs("div",{children:[G.jsx($d,{...this.props,onInput:this.onInput,onChange:this.onChange,"aria-label":this.props["aria-label"]}),this.state.error]})}},on(R6,"defaultProps",(Fi().s[14]++,{onInput:()=>{Fi().f[2]++}})),R6);function ur(){var e="/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",t="a9b629853605b137778e6e7df9c6ca743543c2f4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx",statementMap:{0:{start:{line:13,column:19},end:{line:13,column:39}},1:{start:{line:14,column:4},end:{line:14,column:27}},2:{start:{line:15,column:4},end:{line:16,column:34}},3:{start:{line:16,column:6},end:{line:16,column:34}},4:{start:{line:19,column:4},end:{line:19,column:56}},5:{start:{line:21,column:13},end:{line:36,column:3}},6:{start:{line:22,column:19},end:{line:22,column:39}},7:{start:{line:23,column:4},end:{line:33,column:5}},8:{start:{line:24,column:6},end:{line:24,column:21}},9:{start:{line:25,column:11},end:{line:33,column:5}},10:{start:{line:26,column:6},end:{line:26,column:22}},11:{start:{line:27,column:11},end:{line:33,column:5}},12:{start:{line:28,column:28},end:{line:28,column:38}},13:{start:{line:29,column:27},end:{line:29,column:59}},14:{start:{line:30,column:6},end:{line:30,column:32}},15:{start:{line:32,column:6},end:{line:32,column:22}},16:{start:{line:34,column:4},end:{line:35,column:34}},17:{start:{line:35,column:6},end:{line:35,column:34}},18:{start:{line:38,column:19},end:{line:38,column:39}},19:{start:{line:39,column:4},end:{line:39,column:31}},20:{start:{line:40,column:4},end:{line:41,column:63}},21:{start:{line:41,column:6},end:{line:41,column:63}},22:{start:{line:44,column:19},end:{line:98,column:6}},23:{start:{line:45,column:45},end:{line:45,column:117}},24:{start:{line:47,column:6},end:{line:85,column:7}},25:{start:{line:48,column:8},end:{line:55,column:10}},26:{start:{line:56,column:13},end:{line:85,column:7}},27:{start:{line:57,column:8},end:{line:64,column:10}},28:{start:{line:65,column:13},end:{line:85,column:7}},29:{start:{line:66,column:24},end:{line:66,column:99}},30:{start:{line:66,column:78},end:{line:66,column:98}},31:{start:{line:67,column:8},end:{line:75,column:10}},32:{start:{line:77,column:8},end:{line:84,column:10}},33:{start:{line:86,column:6},end:{line:97,column:8}},34:{start:{line:99,column:4},end:{line:109,column:9}},35:{start:{line:114,column:4},end:{line:127,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:2},end:{line:12,column:3}},loc:{start:{line:12,column:29},end:{line:17,column:3}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:15},end:{line:20,column:3}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:21,column:13},end:{line:21,column:14}},loc:{start:{line:21,column:19},end:{line:36,column:3}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:24},end:{line:42,column:3}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:110,column:3}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:44,column:35},end:{line:44,column:36}},loc:{start:{line:44,column:45},end:{line:98,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:66,column:70},end:{line:66,column:71}},loc:{start:{line:66,column:78},end:{line:66,column:98}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:11},end:{line:128,column:3}},line:113}},branchMap:{0:{loc:{start:{line:15,column:4},end:{line:16,column:34}},type:"if",locations:[{start:{line:15,column:4},end:{line:16,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:19,column:11},end:{line:19,column:55}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:27}},{start:{line:19,column:31},end:{line:19,column:49}},{start:{line:19,column:53},end:{line:19,column:55}}],line:19},2:{loc:{start:{line:23,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:33,column:5}},{start:{line:25,column:11},end:{line:33,column:5}}],line:23},3:{loc:{start:{line:25,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:25,column:11},end:{line:33,column:5}},{start:{line:27,column:11},end:{line:33,column:5}}],line:25},4:{loc:{start:{line:27,column:11},end:{line:33,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:33,column:5}},{start:{line:31,column:11},end:{line:33,column:5}}],line:27},5:{loc:{start:{line:34,column:4},end:{line:35,column:34}},type:"if",locations:[{start:{line:34,column:4},end:{line:35,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},6:{loc:{start:{line:40,column:4},end:{line:41,column:63}},type:"if",locations:[{start:{line:40,column:4},end:{line:41,column:63}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},7:{loc:{start:{line:41,column:26},end:{line:41,column:61}},type:"cond-expr",locations:[{start:{line:41,column:46},end:{line:41,column:52}},{start:{line:41,column:55},end:{line:41,column:61}}],line:41},8:{loc:{start:{line:47,column:6},end:{line:85,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:85,column:7}},{start:{line:56,column:13},end:{line:85,column:7}}],line:47},9:{loc:{start:{line:53,column:26},end:{line:53,column:70}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:50}},{start:{line:53,column:54},end:{line:53,column:70}}],line:53},10:{loc:{start:{line:56,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:56,column:13},end:{line:85,column:7}},{start:{line:65,column:13},end:{line:85,column:7}}],line:56},11:{loc:{start:{line:62,column:26},end:{line:62,column:70}},type:"binary-expr",locations:[{start:{line:62,column:26},end:{line:62,column:50}},{start:{line:62,column:54},end:{line:62,column:70}}],line:62},12:{loc:{start:{line:65,column:13},end:{line:85,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:85,column:7}},{start:{line:76,column:13},end:{line:85,column:7}}],line:65},13:{loc:{start:{line:73,column:26},end:{line:73,column:70}},type:"binary-expr",locations:[{start:{line:73,column:26},end:{line:73,column:50}},{start:{line:73,column:54},end:{line:73,column:70}}],line:73},14:{loc:{start:{line:82,column:26},end:{line:82,column:70}},type:"binary-expr",locations:[{start:{line:82,column:26},end:{line:82,column:50}},{start:{line:82,column:54},end:{line:82,column:70}}],line:82}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputDynamicArray.tsx"],names:["v"],mappings:"AAiE4B,cAiCf,YAjCe;AAjE5B,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,gBAAe;AAEvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,cAAc;AAiBrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,YAAY,KAAa,UAAuC;AAC9D,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,GAAG,IAAI;AACd,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAAA,EACpD;AAAA,EAEA,WAAW,MAAM;AACf,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,QAAI,KAAK,MAAM,SAAS,UAAU;AAChC,aAAO,KAAK,CAAC;AAAA,IACf,WACS,KAAK,MAAM,SAAS,OAAO;AAClC,aAAO,KAAK,EAAE;AAAA,IAChB,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,YAAM,EAAC,UAAS,IAAI,KAAK;AACzB,YAAM,eAAe,OAAO,KAAK,UAAW,MAAM,EAAE,CAAC;AACrD,aAAO,KAAK,YAAY;AAAA,IAC1B,OAAO;AACL,aAAO,KAAK,EAAE;AAAA,IAChB;AAEA,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,MAAM;AAAA,EACrD;AAAA,EAEA,YAAY,UAAkB;AAC5B,UAAM,SAAS,KAAK,OAAO,MAAM,CAAC;AAClC,WAAO,OAAO,UAAU,CAAC;AAEzB,QAAI,KAAK,MAAM;AAAU,WAAK,MAAM,SAAS,OAAO,SAAS,IAAI,SAAS,MAAS;AAAA,EACrF;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM;AACvC,YAAM,iBAAgB,oBAAC,0BAAuB,SAAS,KAAK,YAAY,KAAK,MAAM,CAAC,GAAG;AACvF,UAAI;AACJ,UAAG,KAAK,MAAM,SAAS,OAAO;AAC5B,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,UAAU;AACrC,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,WACS,KAAK,MAAM,SAAS,QAAQ;AACnC,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,WAAW,MAAM,EAAE,IAAI,CAAAA,OAAK,CAACA,IAAG,WAAWA,EAAC,CAAC,CAAC;AACrF,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP;AAAA,YACA,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF,OACK;AACH,gBAAQ;AAAA,UAAC;AAAA;AAAA,YACP,OAAO;AAAA,YACP,UAAU,KAAK,YAAY,KAAK,MAAM,CAAC;AAAA,YACvC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA;AAAA,QACrD;AAAA,MACF;AAEA,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,OAAO,KAAK,MAAM;AAAA,UAElB,WAAU;AAAA,UAEV;AAAA,gCAAC,SAAI,WAAU,+BACZ,0BACH;AAAA,YACA,oBAAC,SAAI,WAAU,gCACZ,iBACH;AAAA;AAAA;AAAA,QARK;AAAA,MASP;AAAA,IACF,CAAC;AAED,WACE,qBAAC,SAAI,WAAU,kBACZ;AAAA;AAAA,MACD;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EAEJ;AACF;AAMA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAM;AAAA,QAEN;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,oBAAC,YAAS;AAAA;AAAA,QACnB;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a9b629853605b137778e6e7df9c6ca743543c2f4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ur=function(){return a},a}ur();let J$=class extends Mn.Component{constructor(){super(...arguments);on(this,"addValue",(ur().s[5]++,()=>{ur().f[2]++;const n=(ur().s[6]++,this.values.slice(0));if(ur().s[7]++,this.props.type==="number")ur().b[2][0]++,ur().s[8]++,n.push(0);else if(ur().b[2][1]++,ur().s[9]++,this.props.type==="url")ur().b[3][0]++,ur().s[10]++,n.push("");else if(ur().b[3][1]++,ur().s[11]++,this.props.type==="enum"){ur().b[4][0]++;const{fieldSpec:r}=(ur().s[12]++,this.props),i=(ur().s[13]++,Object.keys(r.values)[0]);ur().s[14]++,n.push(i)}else ur().b[4][1]++,ur().s[15]++,n.push("");ur().s[16]++,this.props.onChange?(ur().b[5][0]++,ur().s[17]++,this.props.onChange(n)):ur().b[5][1]++}))}changeValue(n,r){ur().f[0]++;const i=(ur().s[0]++,this.values.slice(0));ur().s[1]++,i[n]=r,ur().s[2]++,this.props.onChange?(ur().b[0][0]++,ur().s[3]++,this.props.onChange(i)):ur().b[0][1]++}get values(){return ur().f[1]++,ur().s[4]++,ur().b[1][0]++,this.props.value||(ur().b[1][1]++,this.props.default)||(ur().b[1][2]++,[])}deleteValue(n){ur().f[3]++;const r=(ur().s[18]++,this.values.slice(0));ur().s[19]++,r.splice(n,1),ur().s[20]++,this.props.onChange?(ur().b[6][0]++,ur().s[21]++,this.props.onChange(r.length>0?(ur().b[7][0]++,r):(ur().b[7][1]++,void 0))):ur().b[6][1]++}render(){ur().f[4]++;const n=(ur().s[22]++,this.values.map((r,i)=>{var s;ur().f[5]++;const o=(ur().s[23]++,G.jsx(l7e,{onClick:this.deleteValue.bind(this,i)}));let a;if(ur().s[24]++,this.props.type==="url")ur().b[8][0]++,ur().s[25]++,a=G.jsx(mk,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[9][0]++,this.props["aria-label"]||(ur().b[9][1]++,this.props.label))});else if(ur().b[8][1]++,ur().s[26]++,this.props.type==="number")ur().b[10][0]++,ur().s[27]++,a=G.jsx(Qf,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[11][0]++,this.props["aria-label"]||(ur().b[11][1]++,this.props.label))});else if(ur().b[10][1]++,ur().s[28]++,this.props.type==="enum"){ur().b[12][0]++;const h=(ur().s[29]++,Object.keys((s=this.props.fieldSpec)==null?void 0:s.values).map(g=>(ur().f[6]++,ur().s[30]++,[g,UI(g)])));ur().s[31]++,a=G.jsx(pk,{options:h,value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[13][0]++,this.props["aria-label"]||(ur().b[13][1]++,this.props.label))})}else ur().b[12][1]++,ur().s[32]++,a=G.jsx($d,{value:r,onChange:this.changeValue.bind(this,i),"aria-label":(ur().b[14][0]++,this.props["aria-label"]||(ur().b[14][1]++,this.props.label))});return ur().s[33]++,G.jsxs("div",{style:this.props.style,className:"maputnik-array-block",children:[G.jsx("div",{className:"maputnik-array-block-action",children:o}),G.jsx("div",{className:"maputnik-array-block-content",children:a})]},i)}));return ur().s[34]++,G.jsxs("div",{className:"maputnik-array",children:[n,G.jsx(ja,{className:"maputnik-array-add-value",onClick:this.addValue,children:"Add value"})]})}};class l7e extends Mn.Component{render(){return ur().f[7]++,ur().s[35]++,G.jsx(ja,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove array item",children:G.jsx(bI,{label:G.jsx(Mv,{})})})}}function ra(){var e="/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",t="cd16dc68fc42c219caf080518fd74984d4f8d81e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:7,column:3}},1:{start:{line:9,column:16},end:{line:9,column:60}},2:{start:{line:10,column:4},end:{line:14,column:5}},3:{start:{line:11,column:6},end:{line:11,column:28}},4:{start:{line:13,column:6},end:{line:13,column:17}},5:{start:{line:17,column:26},end:{line:17,column:46}},6:{start:{line:18,column:4},end:{line:18,column:34}},7:{start:{line:19,column:27},end:{line:19,column:92}},8:{start:{line:19,column:55},end:{line:19,column:67}},9:{start:{line:19,column:83},end:{line:19,column:91}},10:{start:{line:20,column:4},end:{line:20,column:40}},11:{start:{line:23,column:19},end:{line:39,column:6}},12:{start:{line:24,column:6},end:{line:38,column:8}},13:{start:{line:32,column:52},end:{line:32,column:58}},14:{start:{line:40,column:4},end:{line:40,column:87}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:15,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:28},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:19,column:48},end:{line:19,column:49}},loc:{start:{line:19,column:55},end:{line:19,column:67}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:19,column:76},end:{line:19,column:77}},loc:{start:{line:19,column:83},end:{line:19,column:91}},line:19},4:{name:"(anonymous_4)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:11},end:{line:41,column:3}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:23,column:35},end:{line:23,column:36}},loc:{start:{line:23,column:49},end:{line:39,column:5}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:52},end:{line:32,column:58}},line:32}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:60}},type:"binary-expr",locations:[{start:{line:9,column:16},end:{line:9,column:32}},{start:{line:9,column:36},end:{line:9,column:54}},{start:{line:9,column:58},end:{line:9,column:60}}],line:9},1:{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:12,column:11},end:{line:14,column:5}}],line:10},2:{loc:{start:{line:30,column:28},end:{line:30,column:71}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:52}},{start:{line:30,column:56},end:{line:30,column:71}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputFont.tsx"],names:[],mappings:"AA6CQ;AA7CR,OAAO,WAAW;AAClB,OAAO,uBAAuB;AAY9B,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,OAAO,eAAe;AAAA,IACpB,OAAO,CAAC;AAAA,EACV;AAAA,EAEA,IAAI,SAAS;AACX,UAAM,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,WAAW,CAAC;AAGvD,QAAI,IAAI,IAAI,SAAO,CAAC,MAAM,IAAG;AAC3B,aAAO,IAAI,OAAO,EAAE;AAAA,IACtB,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,WAAW,KAAa,UAAkB;AACxC,UAAM,gBAAgB,KAAK,OAAO,MAAM,CAAC;AACzC,kBAAc,GAAG,IAAI;AACrB,UAAM,iBAAiB,cACpB,OAAO,OAAK,MAAM,MAAS,EAC3B,OAAO,OAAK,MAAM,EAAE;AAEvB,SAAK,MAAM,SAAS,cAAc;AAAA,EACpC;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,OAAO,IAAI,CAAC,OAAO,MAAM;AAC3C,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,YAAC;AAAA;AAAA,cACC,cAAY,KAAK,MAAM,YAAY,KAAK,KAAK,MAAM;AAAA,cACnD;AAAA,cACA,SAAS,KAAK,MAAM,OAAO,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA,cAC1C,UAAU,KAAK,WAAW,KAAK,MAAM,CAAC;AAAA;AAAA,UACxC;AAAA;AAAA,QAPK;AAAA,MAQP;AAAA,IACF,CAAC;AAED,WACE,oBAAC,QAAG,WAAU,iBACX,kBACH;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cd16dc68fc42c219caf080518fd74984d4f8d81e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ra=function(){return a},a}ra();class eQ extends Mn.Component{get values(){ra().f[0]++;const t=(ra().s[1]++,ra().b[0][0]++,this.props.value||(ra().b[0][1]++,this.props.default)||(ra().b[0][2]++,[]));return ra().s[2]++,t[t.length-1]!==""?(ra().b[1][0]++,ra().s[3]++,t.concat("")):(ra().b[1][1]++,ra().s[4]++,t)}changeFont(t,n){ra().f[1]++;const r=(ra().s[5]++,this.values.slice(0));ra().s[6]++,r[t]=n;const i=(ra().s[7]++,r.filter(o=>(ra().f[2]++,ra().s[8]++,o!==void 0)).filter(o=>(ra().f[3]++,ra().s[9]++,o!=="")));ra().s[10]++,this.props.onChange(i)}render(){ra().f[4]++;const t=(ra().s[11]++,this.values.map((n,r)=>{var i;return ra().f[5]++,ra().s[12]++,G.jsx("li",{children:G.jsx(kv,{"aria-label":(ra().b[2][0]++,this.props["aria-label"]||(ra().b[2][1]++,this.props.name)),value:n,options:(i=this.props.fonts)==null?void 0:i.map(o=>(ra().f[6]++,ra().s[13]++,[o,o])),onChange:this.changeFont.bind(this,r)})},r)}));return ra().s[14]++,G.jsx("ul",{className:"maputnik-font",children:t})}}on(eQ,"defaultProps",(ra().s[0]++,{fonts:[]}));function Oi(){var e="/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",t="8a7e9c26497bbcdc9141a7bf10d3ed50f729d679",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx",statementMap:{0:{start:{line:13,column:23},end:{line:13,column:117}},1:{start:{line:16,column:24},end:{line:28,column:5}},2:{start:{line:26,column:30},end:{line:26,column:81}},3:{start:{line:29,column:4},end:{line:115,column:5}},4:{start:{line:31,column:8},end:{line:38,column:10}},5:{start:{line:40,column:24},end:{line:40,column:101}},6:{start:{line:40,column:82},end:{line:40,column:100}},7:{start:{line:41,column:8},end:{line:47,column:10}},8:{start:{line:52,column:8},end:{line:68,column:9}},9:{start:{line:53,column:26},end:{line:53,column:59}},10:{start:{line:54,column:10},end:{line:60,column:12}},11:{start:{line:58,column:42},end:{line:58,column:48}},12:{start:{line:62,column:10},end:{line:67,column:12}},13:{start:{line:70,column:8},end:{line:75,column:10}},14:{start:{line:77,column:8},end:{line:82,column:10}},15:{start:{line:84,column:8},end:{line:112,column:9}},16:{start:{line:85,column:10},end:{line:91,column:12}},17:{start:{line:93,column:10},end:{line:111,column:11}},18:{start:{line:94,column:12},end:{line:101,column:14}},19:{start:{line:103,column:12},end:{line:110,column:14}},20:{start:{line:114,column:8},end:{line:114,column:20}},21:{start:{line:118,column:4},end:{line:118,column:124}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:15},end:{line:116,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:26,column:16},end:{line:26,column:17}},loc:{start:{line:26,column:30},end:{line:26,column:81}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:40,column:75},end:{line:40,column:76}},loc:{start:{line:40,column:82},end:{line:40,column:100}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:42},end:{line:58,column:48}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:117,column:2},end:{line:117,column:3}},loc:{start:{line:117,column:11},end:{line:119,column:3}},line:117}},branchMap:{0:{loc:{start:{line:29,column:4},end:{line:115,column:5}},type:"switch",locations:[{start:{line:30,column:6},end:{line:38,column:10}},{start:{line:39,column:6},end:{line:48,column:7}},{start:{line:49,column:6},end:{line:49,column:27}},{start:{line:50,column:6},end:{line:50,column:23}},{start:{line:51,column:6},end:{line:68,column:9}},{start:{line:69,column:6},end:{line:75,column:10}},{start:{line:76,column:6},end:{line:82,column:10}},{start:{line:83,column:6},end:{line:112,column:9}},{start:{line:113,column:6},end:{line:114,column:20}}],line:29},1:{loc:{start:{line:40,column:36},end:{line:40,column:69}},type:"binary-expr",locations:[{start:{line:40,column:36},end:{line:40,column:63}},{start:{line:40,column:67},end:{line:40,column:69}}],line:40},2:{loc:{start:{line:52,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:68,column:9}},{start:{line:61,column:15},end:{line:68,column:9}}],line:52},3:{loc:{start:{line:53,column:26},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:26},end:{line:53,column:53}},{start:{line:53,column:57},end:{line:53,column:59}}],line:53},4:{loc:{start:{line:84,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:112,column:9}},{start:{line:92,column:15},end:{line:112,column:9}}],line:84},5:{loc:{start:{line:93,column:10},end:{line:111,column:11}},type:"if",locations:[{start:{line:93,column:10},end:{line:111,column:11}},{start:{line:102,column:17},end:{line:111,column:11}}],line:93}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/InputSpec.tsx"],names:[],mappings:"AAyDM;AAzDN,OAAO,WAA6B;AAEpC,OAAO,gBAAqC;AAC5C,OAAO,iBAAuC;AAC9C,OAAO,mBAA2C;AAClD,OAAO,iBAAuC;AAC9C,OAAO,gBAAqC;AAC5C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,uBAAmD;AAC1D,OAAO,eAAmC;AAC1C,OAAO,gBAAgB;AAEvB,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AA0BpH,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EAErE,aAAa;AACX,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,WAAW,KAAK,MAAM;AAAA,MACtB,OAAO,KAAK,MAAM;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,OAAO,KAAK,MAAM;AAAA,MAClB,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM,WAAW;AAAA,MAC/B,MAAM,KAAK,MAAM;AAAA,MACjB,eAAe,sBAAsB,KAAK,MAAM;AAAA,MAChD,UAAU,CAAC,aAAmE,KAAK,MAAM,SAAU,KAAK,MAAM,WAAW,QAAQ;AAAA,MACjI,cAAc,KAAK,MAAM,YAAY;AAAA,IACvC;AACA,YAAO,KAAK,MAAM,WAAW,MAAM;AAAA,MACnC,KAAK;AAAU,eACb;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA,YACJ,KAAK,KAAK,MAAM,UAAU;AAAA,YAC1B,KAAK,KAAK,MAAM,UAAU;AAAA;AAAA,QAC5B;AAAA,MAEF,KAAK,QAAQ;AACX,cAAM,UAAU,OAAO,KAAK,KAAK,MAAM,UAAU,UAAU,CAAC,CAAC,EAAE,IAAI,OAAK,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC;AAE1F,eAAO;AAAA,UAAC;AAAA;AAAA,YACL,GAAG;AAAA,YACJ;AAAA;AAAA,QACF;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,YAAI,eAAe,QAAQ,KAAK,MAAM,SAAU,KAAK,GAAG;AACtD,gBAAM,UAAU,KAAK,MAAM,UAAU,UAAU,CAAC;AAChD,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,SAAS,QAAQ,IAAI,OAAK,CAAC,GAAG,CAAC,CAAC;AAAA;AAAA,UAClC;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA;AAAA,UACN;AAAA,QACF;AAAA,MACF,KAAK;AAAS,eACZ;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AAAW,eACd;AAAA,UAAC;AAAA;AAAA,YACE,GAAG;AAAA;AAAA,QACN;AAAA,MAEF,KAAK;AACH,YAAG,KAAK,MAAM,cAAc,aAAa;AACvC,iBAAO;AAAA,YAAC;AAAA;AAAA,cACL,GAAG;AAAA,cACJ,OAAO,KAAK,MAAM,UAAU;AAAA;AAAA,UAC9B;AAAA,QACF,OAAO;AACL,cAAI,KAAK,MAAM,UAAU,QAAQ;AAC/B,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,MAAM,KAAK,MAAM,UAAU;AAAA,gBAC3B,QAAQ,KAAK,MAAM,UAAU;AAAA;AAAA,YAC/B;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,cAAC;AAAA;AAAA,gBACL,GAAG;AAAA,gBACJ,WAAW,KAAK,MAAM;AAAA,gBACtB,MAAM,KAAK,MAAM,UAAU;AAAA;AAAA,YAC7B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WACE,oBAAC,SAAI,eAAa,gBAAc,KAAK,MAAM,WACxC,eAAK,WAAW,GACnB;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8a7e9c26497bbcdc9141a7bf10d3ed50f729d679"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Oi=function(){return a},a}Oi();const u7e=(Oi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);let Vy=class extends Mn.Component{childNodes(){var n,r;Oi().f[0]++;const t=(Oi().s[1]++,{error:this.props.error,fieldSpec:this.props.fieldSpec,label:this.props.label,action:this.props.action,style:this.props.style,value:this.props.value,default:(n=this.props.fieldSpec)==null?void 0:n.default,name:this.props.fieldName,"data-wd-key":"spec-field-input:"+this.props.fieldName,onChange:i=>(Oi().f[1]++,Oi().s[2]++,this.props.onChange(this.props.fieldName,i)),"aria-label":this.props["aria-label"]});switch(Oi().s[3]++,(r=this.props.fieldSpec)==null?void 0:r.type){case"number":return Oi().b[0][0]++,Oi().s[4]++,G.jsx(Qf,{...t,min:this.props.fieldSpec.minimum,max:this.props.fieldSpec.maximum});case"enum":Oi().b[0][1]++;{const i=(Oi().s[5]++,Object.keys((Oi().b[1][0]++,this.props.fieldSpec.values||(Oi().b[1][1]++,[]))).map(o=>(Oi().f[2]++,Oi().s[6]++,[o,UI(o)])));return Oi().s[7]++,G.jsx(pk,{...t,options:i})}case"resolvedImage":Oi().b[0][2]++;case"formatted":Oi().b[0][3]++;case"string":if(Oi().b[0][4]++,Oi().s[8]++,u7e.indexOf(this.props.fieldName)>=0){Oi().b[2][0]++;const i=(Oi().s[9]++,Oi().b[3][0]++,this.props.fieldSpec.values||(Oi().b[3][1]++,[]));return Oi().s[10]++,G.jsx(kv,{...t,options:i.map(o=>(Oi().f[3]++,Oi().s[11]++,[o,o]))})}else return Oi().b[2][1]++,Oi().s[12]++,G.jsx($d,{...t});case"color":return Oi().b[0][5]++,Oi().s[13]++,G.jsx(Z$,{...t});case"boolean":return Oi().b[0][6]++,Oi().s[14]++,G.jsx(fk,{...t});case"array":return Oi().b[0][7]++,Oi().s[15]++,this.props.fieldName==="text-font"?(Oi().b[4][0]++,Oi().s[16]++,G.jsx(eQ,{...t,fonts:this.props.fieldSpec.values})):(Oi().b[4][1]++,Oi().s[17]++,this.props.fieldSpec.length?(Oi().b[5][0]++,Oi().s[18]++,G.jsx(X$,{...t,type:this.props.fieldSpec.value,length:this.props.fieldSpec.length})):(Oi().b[5][1]++,Oi().s[19]++,G.jsx(J$,{...t,fieldSpec:this.props.fieldSpec,type:this.props.fieldSpec.value})));default:return Oi().b[0][8]++,Oi().s[20]++,null}}render(){return Oi().f[4]++,Oi().s[21]++,G.jsx("div",{"data-wd-key":"spec-field:"+this.props.fieldName,children:this.childNodes()})}};function Ql(){var e="/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",t="81a841bc0059d656029a86501c08aa823d58e2d6",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:17}},1:{start:{line:10,column:4},end:{line:10,column:56}},2:{start:{line:11,column:4},end:{line:13,column:6}},3:{start:{line:15,column:16},end:{line:19,column:3}},4:{start:{line:16,column:4},end:{line:18,column:7}},5:{start:{line:21,column:4},end:{line:41,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:14,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:25},end:{line:19,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:11},end:{line:42,column:3}},line:20}},branchMap:{0:{loc:{start:{line:22,column:6},end:{line:29,column:10}},type:"binary-expr",locations:[{start:{line:22,column:6},end:{line:22,column:26}},{start:{line:22,column:46},end:{line:29,column:10}}],line:22},1:{loc:{start:{line:30,column:6},end:{line:30,column:130}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:27}},{start:{line:30,column:47},end:{line:30,column:130}}],line:30},2:{loc:{start:{line:33,column:6},end:{line:40,column:7}},type:"binary-expr",locations:[{start:{line:33,column:6},end:{line:33,column:26}},{start:{line:33,column:46},end:{line:40,column:7}}],line:33},3:{loc:{start:{line:37,column:28},end:{line:37,column:60}},type:"cond-expr",locations:[{start:{line:37,column:49},end:{line:37,column:51}},{start:{line:37,column:54},end:{line:37,column:60}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/Fieldset.tsx"],names:[],mappings:"AAiCW,SAGD,KAHC;AAjCX,OAAO,WAAgD;AACvD,OAAO,mBAAmB;AAC1B,OAAO,SAAS;AAChB,OAAO,sBAAsB;AAY7B,qBAAqB,iBAAiB,MAAM,UAAwC;AAAA,EAClF;AAAA,EAEA,YAAa,OAAsB;AACjC,UAAM,KAAK;AACX,SAAK,WAAW,iBAAiB,iBAAiB;AAClD,SAAK,QAAQ;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EAEA,cAAc,CAAC,QAAiB;AAC9B,SAAK,SAAS;AAAA,MACZ,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAAA,EAEA,SAAU;AACR,WAAO,qBAAC,SAAI,WAAU,wBAAuB,MAAK,SAAQ,mBAAiB,KAAK,UAC7E;AAAA,WAAK,MAAM,aACV,oBAAC,SAAI,WAAU,8BACb;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,WAAW,KAAK,MAAM;AAAA;AAAA,MACxB,GACF;AAAA,MAED,CAAC,KAAK,MAAM,aACX,oBAAC,SAAI,WAAU,8BACZ,eAAK,MAAM,OACd;AAAA,MAEF,oBAAC,SAAI,WAAU,+BACZ,eAAK,MAAM,QACd;AAAA,MACA,oBAAC,SAAI,WAAU,gCACZ,eAAK,MAAM,UACd;AAAA,MACC,KAAK,MAAM,aACV;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,EAAC,SAAS,KAAK,MAAM,UAAU,KAAK,OAAM;AAAA,UAEjD,8BAAC,OAAI,WAAW,KAAK,MAAM,WAAW;AAAA;AAAA,MACxC;AAAA,OAEJ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"81a841bc0059d656029a86501c08aa823d58e2d6"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ql=function(){return a},a}Ql();class yb extends Mn.Component{constructor(n){Ql().f[0]++,Ql().s[0]++;super(n);on(this,"_labelId");on(this,"onToggleDoc",(Ql().s[3]++,n=>{Ql().f[1]++,Ql().s[4]++,this.setState({showDoc:n})}));Ql().s[1]++,this._labelId=fv("fieldset_label_"),Ql().s[2]++,this.state={showDoc:!1}}render(){return Ql().f[2]++,Ql().s[5]++,G.jsxs("div",{className:"maputnik-input-block",role:"group","aria-labelledby":this._labelId,children:[(Ql().b[0][0]++,this.props.fieldSpec&&(Ql().b[0][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:G.jsx(bI,{label:this.props.label,onToggleDoc:this.onToggleDoc,fieldSpec:this.props.fieldSpec})}))),(Ql().b[1][0]++,!this.props.fieldSpec&&(Ql().b[1][1]++,G.jsx("div",{className:"maputnik-input-block-label",children:this.props.label}))),G.jsx("div",{className:"maputnik-input-block-action",children:this.props.action}),G.jsx("div",{className:"maputnik-input-block-content",children:this.props.children}),(Ql().b[2][0]++,this.props.fieldSpec&&(Ql().b[2][1]++,G.jsx("div",{className:"maputnik-doc-inline",style:{display:this.state.showDoc?(Ql().b[3][0]++,""):(Ql().b[3][1]++,"none")},children:G.jsx(xI,{fieldSpec:this.props.fieldSpec})})))]})}}function $o(){var e="/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",t="adadf49dc291f98804cd53f74e320ed51f276886",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx",statementMap:{0:{start:{line:6,column:16},end:{line:16,column:1}},1:{start:{line:7,column:15},end:{line:7,column:20}},2:{start:{line:8,column:27},end:{line:8,column:87}},3:{start:{line:9,column:17},end:{line:9,column:22}},4:{start:{line:10,column:15},end:{line:10,column:23}},5:{start:{line:11,column:23},end:{line:11,column:28}},6:{start:{line:12,column:16},end:{line:12,column:21}},7:{start:{line:13,column:16},end:{line:13,column:21}},8:{start:{line:14,column:19},end:{line:14,column:24}},9:{start:{line:15,column:17},end:{line:15,column:22}},10:{start:{line:19,column:22},end:{line:19,column:48}},11:{start:{line:20,column:24},end:{line:20,column:42}},12:{start:{line:22,column:4},end:{line:27,column:5}},13:{start:{line:23,column:6},end:{line:23,column:42}},14:{start:{line:25,column:6},end:{line:25,column:55}},15:{start:{line:26,column:6},end:{line:26,column:24}},16:{start:{line:28,column:4},end:{line:36,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:9},end:{line:7,column:10}},loc:{start:{line:7,column:15},end:{line:7,column:20}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:8,column:8},end:{line:8,column:9}},loc:{start:{line:8,column:27},end:{line:8,column:87}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:9,column:11},end:{line:9,column:12}},loc:{start:{line:9,column:17},end:{line:9,column:22}},line:9},3:{name:"(anonymous_3)",decl:{start:{line:10,column:9},end:{line:10,column:10}},loc:{start:{line:10,column:15},end:{line:10,column:23}},line:10},4:{name:"(anonymous_4)",decl:{start:{line:11,column:17},end:{line:11,column:18}},loc:{start:{line:11,column:23},end:{line:11,column:28}},line:11},5:{name:"(anonymous_5)",decl:{start:{line:12,column:10},end:{line:12,column:11}},loc:{start:{line:12,column:16},end:{line:12,column:21}},line:12},6:{name:"(anonymous_6)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:16},end:{line:13,column:21}},line:13},7:{name:"(anonymous_7)",decl:{start:{line:14,column:13},end:{line:14,column:14}},loc:{start:{line:14,column:19},end:{line:14,column:24}},line:14},8:{name:"(anonymous_8)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:17},end:{line:15,column:22}},line:15},9:{name:"(anonymous_9)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:37,column:3}},line:18}},branchMap:{0:{loc:{start:{line:8,column:27},end:{line:8,column:87}},type:"cond-expr",locations:[{start:{line:8,column:71},end:{line:8,column:79}},{start:{line:8,column:82},end:{line:8,column:87}}],line:8},1:{loc:{start:{line:22,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:27,column:5}},{start:{line:24,column:11},end:{line:27,column:5}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/SpecField.tsx"],names:[],mappings:"AA0CM;AA1CN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,eAA0D;AACjE,OAAO,cAAc;AAGrB,MAAM,UAAU;AAAA,EACd,OAAO,MAAM;AAAA,EACb,MAAM,CAAC,EAAC,UAAS,MAAY,OAAO,KAAK,UAAU,MAAM,EAAE,UAAU,IAAI,WAAW;AAAA,EACpF,SAAS,MAAM;AAAA,EACf,OAAO,MAAM;AAAA,EACb,eAAe,MAAM;AAAA,EACrB,QAAQ,MAAM;AAAA,EACd,QAAQ,MAAM;AAAA,EACd,WAAW,MAAM;AAAA,EACjB,SAAS,MAAM;AACjB;AAMA,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,UAAM,YAAY,KAAK,MAAM,WAAW;AAExC,UAAM,cAAc,QAAQ,SAAU;AAEtC,QAAI;AACJ,QAAI,aAAa;AACf,kBAAY,YAAY,KAAK,KAAK;AAAA,IACpC,OACK;AACH,cAAQ,KAAK,yBAAyB,SAAS;AAC/C,kBAAY;AAAA,IACd;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO,KAAK,MAAM;AAAA,QAClB,QAAQ,KAAK,MAAM;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QAEtB,8BAAC,aAAW,GAAG,KAAK,OAAO;AAAA;AAAA,IAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adadf49dc291f98804cd53f74e320ed51f276886"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return $o=function(){return a},a}$o();const A7e=($o().s[0]++,{color:()=>($o().f[0]++,$o().s[1]++,oa),enum:({fieldSpec:e})=>($o().f[1]++,$o().s[2]++,Object.keys(e.values).length<=3?($o().b[0][0]++,yb):($o().b[0][1]++,oa)),boolean:()=>($o().f[2]++,$o().s[3]++,oa),array:()=>($o().f[3]++,$o().s[4]++,yb),resolvedImage:()=>($o().f[4]++,$o().s[5]++,oa),number:()=>($o().f[5]++,$o().s[6]++,oa),string:()=>($o().f[6]++,$o().s[7]++,oa),formatted:()=>($o().f[7]++,$o().s[8]++,oa),padding:()=>($o().f[8]++,$o().s[9]++,oa)});class c7e extends Mn.Component{render(){var i;$o().f[9]++;const t=($o().s[10]++,(i=this.props.fieldSpec)==null?void 0:i.type),n=($o().s[11]++,A7e[t]);let r;return $o().s[12]++,n?($o().b[1][0]++,$o().s[13]++,r=n(this.props)):($o().b[1][1]++,$o().s[14]++,console.warn("No such type for '%s'",t),$o().s[15]++,r=oa),$o().s[16]++,G.jsx(r,{label:this.props.label,action:this.props.action,fieldSpec:this.props.fieldSpec,children:G.jsx(Vy,{...this.props})})}}function gc(){var e="/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",t="fb167a16b2bc613f08e633cf4dc0232cee30b68f",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx",statementMap:{0:{start:{line:9,column:4},end:{line:46,column:5}},1:{start:{line:10,column:6},end:{line:18,column:8}},2:{start:{line:19,column:6},end:{line:27,column:8}},3:{start:{line:28,column:6},end:{line:38,column:7}},4:{start:{line:29,column:8},end:{line:37,column:10}},5:{start:{line:39,column:6},end:{line:43,column:11}},6:{start:{line:45,column:6},end:{line:45,column:77}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:47,column:3}},line:7}},branchMap:{0:{loc:{start:{line:9,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:9,column:4},end:{line:46,column:5}},{start:{line:44,column:11},end:{line:46,column:5}}],line:9},1:{loc:{start:{line:28,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:28,column:6},end:{line:38,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_FunctionButtons.tsx"],names:[],mappings:"AAyBY,cAsBC,YAtBD;AAzBZ,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,aAAa,qBAAoB;AACzC,SAAQ,0BAAyB;AASjC,qBAAqB,6BAA6B,MAAM,UAAqC;AAAA,EAC3F,SAAS;AACP,QAAI,qBAAqB,qBAAqB;AAE9C,QAAI,KAAK,MAAM,UAAU,WAAW,WAAW,SAAS,MAAM,GAAG;AAC/D,8BACE;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,SAAQ,GAAG,SAAQ,aAC1E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA;AAAA,MACF;AAGF,4BAAsB;AAAA,QAAC;AAAA;AAAA,UACrB,WAAU;AAAA,UACV,SAAS,KAAK,MAAM;AAAA,UACpB,OAAM;AAAA,UAEN,8BAAC,eAAY;AAAA;AAAA,MACf;AAEA,UAAI,KAAK,MAAM,UAAU,eAAe,MAAM,eAAe;AAC3D,8BAAsB;AAAA,UAAC;AAAA;AAAA,YACrB,WAAU;AAAA,YACV,SAAS,KAAK,MAAM;AAAA,YACpB,OAAM;AAAA,YAEN,8BAAC,iBAAc;AAAA;AAAA,QACjB;AAAA,MACF;AACA,aAAO,qBAAC,SACL;AAAA;AAAA,QACA;AAAA,QACA;AAAA,SACH;AAAA,IACF,OACK;AACH,aAAO,oBAAC,SAAK,iCAAsB;AAAA,IACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb167a16b2bc613f08e633cf4dc0232cee30b68f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return gc=function(){return a},a}gc();class d7e extends Mn.Component{render(){gc().f[0]++;let t,n,r;return gc().s[0]++,this.props.fieldSpec.expression.parameters.includes("zoom")?(gc().b[0][0]++,gc().s[1]++,r=G.jsx(ja,{className:"maputnik-make-zoom-function",onClick:this.props.onExpressionClick,title:"Convert to expression",children:G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"middle"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:gb})})}),gc().s[2]++,t=G.jsx(ja,{className:"maputnik-make-zoom-function",onClick:this.props.onZoomClick,title:"Convert property into a zoom function",children:G.jsx(Wte,{})}),gc().s[3]++,this.props.fieldSpec["property-type"]==="data-driven"?(gc().b[1][0]++,gc().s[4]++,n=G.jsx(ja,{className:"maputnik-make-data-function",onClick:this.props.onDataClick,title:"Convert property to data function",children:G.jsx(Nte,{})})):gc().b[1][1]++,gc().s[5]++,G.jsxs("div",{children:[r,n,t]})):(gc().b[0][1]++,gc().s[6]++,G.jsx("div",{children:r}))}}function Sf(){var e="/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",t="60f6f0f35f3e44d7e7f08e2966cfff09ee69557d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx",statementMap:{0:{start:{line:7,column:24},end:{line:9,column:3}},1:{start:{line:11,column:45},end:{line:11,column:55}},2:{start:{line:12,column:40},end:{line:20,column:5}},3:{start:{line:21,column:18},end:{line:21,column:53}},4:{start:{line:22,column:4},end:{line:31,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:11},end:{line:32,column:3}},line:10}},branchMap:{0:{loc:{start:{line:28,column:34},end:{line:28,column:60}},type:"binary-expr",locations:[{start:{line:28,column:34},end:{line:28,column:54}},{start:{line:28,column:58},end:{line:28,column:60}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_SpecProperty.tsx"],names:[],mappings:"AA4BwB;AA5BxB,OAAO,WAAW;AAElB,OAAO,eAAiC;AACxC,OAAO,qBAAqB;AAE5B,OAAO,wBAAwB;AAe/B,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,QAAQ,WAAW,UAAS,IAAI,KAAK;AAE5C,UAAM,cAAc;AAAA,MAAC;AAAA;AAAA,QACnB,WAAW,KAAK,MAAM;AAAA,QACtB,aAAa,KAAK,MAAM;AAAA,QACxB,aAAa,KAAK,MAAM;AAAA,QACxB,mBAAmB,KAAK,MAAM;AAAA;AAAA,IAChC;AAEA,UAAM,QAAQ,OAAQ,YAAU,MAAI,SAAgB;AAEpD,WAAO;AAAA,MAAC;AAAA;AAAA,QACL,GAAG,KAAK;AAAA,QACT;AAAA,QACA,WAAW,KAAK,MAAM;AAAA,QACtB,OAAO,mBAAmB,KAAK,MAAM,aAAa,EAAE;AAAA,QACpD,QAAQ;AAAA;AAAA,IACV;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"60f6f0f35f3e44d7e7f08e2966cfff09ee69557d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Sf=function(){return a},a}Sf();class tQ extends Mn.Component{render(){Sf().f[0]++;const{errors:t,fieldName:n,fieldType:r}=(Sf().s[1]++,this.props),i=(Sf().s[2]++,G.jsx(d7e,{fieldSpec:this.props.fieldSpec,onZoomClick:this.props.onZoomClick,onDataClick:this.props.onDataClick,onExpressionClick:this.props.onExpressionClick})),o=(Sf().s[3]++,t[r+"."+n]);return Sf().s[4]++,G.jsx(c7e,{...this.props,error:o,fieldSpec:this.props.fieldSpec,label:Rw((Sf().b[0][0]++,this.props.fieldName||(Sf().b[0][1]++,""))),action:i})}}on(tQ,"defaultProps",(Sf().s[0]++,{errors:{}}));function yc(){var e="/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",t="e8906f642b33ab7d7a780fc0db870f7e4872d29c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:17}},1:{start:{line:3,column:12},end:{line:3,column:17}},2:{start:{line:4,column:2},end:{line:10,column:3}},3:{start:{line:5,column:4},end:{line:5,column:14}},4:{start:{line:6,column:9},end:{line:10,column:3}},5:{start:{line:7,column:4},end:{line:7,column:13}},6:{start:{line:9,column:4},end:{line:9,column:13}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:1,column:15},end:{line:1,column:16}},loc:{start:{line:1,column:36},end:{line:11,column:1}},line:1}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:10,column:3}},{start:{line:6,column:9},end:{line:10,column:3}}],line:4},1:{loc:{start:{line:6,column:9},end:{line:10,column:3}},type:"if",locations:[{start:{line:6,column:9},end:{line:10,column:3}},{start:{line:8,column:9},end:{line:10,column:3}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/sort-numerically.ts"],names:[],mappings:"AAAA,wBAAwB,MAAuB,MAAsB;AACnE,QAAM,IAAI,CAAC;AACX,QAAM,IAAI,CAAC;AAEX,MAAG,IAAI,GAAG;AACR,WAAO;AAAA,EACT,WACQ,IAAI,GAAG;AACb,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8906f642b33ab7d7a780fc0db870f7e4872d29c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return yc=function(){return a},a}yc();function nQ(e,t){yc().f[0]++;const n=(yc().s[0]++,+e),r=(yc().s[1]++,+t);return yc().s[2]++,n<r?(yc().b[0][0]++,yc().s[3]++,-1):(yc().b[0][1]++,yc().s[4]++,n>r?(yc().b[1][0]++,yc().s[5]++,1):(yc().b[1][1]++,yc().s[6]++,0))}function Mh(){var e="/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",t="2f98128f0f990b67a049c58486c1fab4310fbcfa",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts",statementMap:{0:{start:{line:2,column:2},end:{line:4,column:3}},1:{start:{line:3,column:4},end:{line:3,column:24}},2:{start:{line:5,column:19},end:{line:11,column:3}},3:{start:{line:12,column:2},end:{line:12,column:35}}},fnMap:{0:{name:"findDefaultFromSpec",decl:{start:{line:1,column:16},end:{line:1,column:35}},loc:{start:{line:1,column:42},end:{line:13,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:2},end:{line:4,column:3}},type:"if",locations:[{start:{line:2,column:2},end:{line:4,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:2},1:{loc:{start:{line:12,column:9},end:{line:12,column:34}},type:"binary-expr",locations:[{start:{line:12,column:9},end:{line:12,column:28}},{start:{line:12,column:32},end:{line:12,column:34}}],line:12}},s:{0:0,1:0,2:0,3:0},f:{0:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/spec-helper.ts"],names:[],mappings:"AAGO,gBAAS,oBAAoB,MAAyE;AAC3G,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,SAAS,GAAG;AACzD,WAAO,KAAK;AAAA,EACd;AAEA,QAAM,WAAW;AAAA,IACf,SAAS;AAAA,IACT,UAAU;AAAA,IACV,WAAW;AAAA,IACX,UAAU;AAAA,IACV,SAAS,CAAC;AAAA,EACZ;AAEA,SAAO,SAAS,KAAK,IAAI,KAAK;AAChC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f98128f0f990b67a049c58486c1fab4310fbcfa"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Mh=function(){return a},a}Mh();function Bd(e){if(Mh().f[0]++,Mh().s[0]++,Object.prototype.hasOwnProperty.call(e,"default"))return Mh().b[0][0]++,Mh().s[1]++,e.default;Mh().b[0][1]++;const t=(Mh().s[2]++,{color:"#000000",string:"",boolean:!1,number:0,array:[]});return Mh().s[3]++,Mh().b[1][0]++,t[e.type]||(Mh().b[1][1]++,"")}function a5(){var e="/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",t="7dda8ab95b7fe1e03f2205def4590751728cfeac",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:15,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:16,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DeleteStopButton.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,SAAQ,gBAAe;AAQvB,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,SAAS,KAAK,MAAM;AAAA,QACpB,OAAO;AAAA,QAEP,8BAAC,YAAS;AAAA;AAAA,IACZ;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7dda8ab95b7fe1e03f2205def4590751728cfeac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return a5=function(){return a},a}a5();class rQ extends Mn.Component{render(){return a5().f[0]++,a5().s[0]++,G.jsx(ja,{className:"maputnik-delete-stop",onClick:this.props.onClick,title:"Remove zoom level from stop",children:G.jsx(Mv,{})})}}function Gt(){var e="/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",t="232a59a4721428f6ea1780ae642f941986fcb93c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx",statementMap:{0:{start:{line:18,column:2},end:{line:27,column:3}},1:{start:{line:19,column:4},end:{line:26,column:7}},2:{start:{line:20,column:6},end:{line:25,column:7}},3:{start:{line:21,column:8},end:{line:23,column:9}},4:{start:{line:22,column:10},end:{line:22,column:33}},5:{start:{line:24,column:8},end:{line:24,column:39}},6:{start:{line:28,column:2},end:{line:28,column:17}},7:{start:{line:31,column:10},end:{line:33,column:3}},8:{start:{line:35,column:20},end:{line:35,column:55}},9:{start:{line:36,column:4},end:{line:40,column:5}},10:{start:{line:37,column:6},end:{line:39,column:9}},11:{start:{line:43,column:20},end:{line:43,column:45}},12:{start:{line:44,column:4},end:{line:48,column:5}},13:{start:{line:45,column:6},end:{line:47,column:8}},14:{start:{line:49,column:4},end:{line:49,column:16}},15:{start:{line:52,column:4},end:{line:54,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:4},end:{line:57,column:5}},18:{start:{line:56,column:6},end:{line:56,column:24}},19:{start:{line:58,column:4},end:{line:58,column:25}},20:{start:{line:61,column:4},end:{line:65,column:5}},21:{start:{line:62,column:6},end:{line:62,column:83}},22:{start:{line:64,column:6},end:{line:64,column:53}},23:{start:{line:69,column:26},end:{line:74,column:70}},24:{start:{line:70,column:6},end:{line:73,column:8}},25:{start:{line:74,column:22},end:{line:74,column:69}},26:{start:{line:75,column:20},end:{line:75,column:22}},27:{start:{line:76,column:4},end:{line:78,column:7}},28:{start:{line:77,column:6},end:{line:77,column:30}},29:{start:{line:79,column:4},end:{line:81,column:7}},30:{start:{line:82,column:4},end:{line:82,column:50}},31:{start:{line:82,column:39},end:{line:82,column:48}},32:{start:{line:84,column:13},end:{line:104,column:3}},33:{start:{line:85,column:4},end:{line:102,column:5}},34:{start:{line:86,column:6},end:{line:89,column:8}},35:{start:{line:91,column:24},end:{line:91,column:61}},36:{start:{line:92,column:6},end:{line:101,column:8}},37:{start:{line:103,column:4},end:{line:103,column:42}},38:{start:{line:106,column:18},end:{line:106,column:56}},39:{start:{line:107,column:4},end:{line:113,column:6}},40:{start:{line:114,column:25},end:{line:114,column:53}},41:{start:{line:115,column:25},end:{line:118,column:5}},42:{start:{line:119,column:4},end:{line:119,column:54}},43:{start:{line:122,column:25},end:{line:125,column:5}},44:{start:{line:126,column:4},end:{line:128,column:5}},45:{start:{line:127,column:6},end:{line:127,column:34}},46:{start:{line:129,column:4},end:{line:129,column:60}},47:{start:{line:132,column:4},end:{line:139,column:5}},48:{start:{line:133,column:6},end:{line:133,column:42}},49:{start:{line:135,column:6},end:{line:138,column:9}},50:{start:{line:142,column:4},end:{line:146,column:5}},51:{start:{line:143,column:6},end:{line:143,column:43}},52:{start:{line:145,column:6},end:{line:145,column:40}},53:{start:{line:147,column:4},end:{line:147,column:58}},54:{start:{line:150,column:4},end:{line:152,column:5}},55:{start:{line:151,column:6},end:{line:151,column:78}},56:{start:{line:154,column:4},end:{line:202,column:5}},57:{start:{line:155,column:6},end:{line:201,column:9}},58:{start:{line:156,column:26},end:{line:156,column:77}},59:{start:{line:157,column:20},end:{line:157,column:40}},60:{start:{line:158,column:26},end:{line:158,column:79}},61:{start:{line:159,column:22},end:{line:159,column:29}},62:{start:{line:160,column:46},end:{line:160,column:122}},63:{start:{line:161,column:26},end:{line:166,column:9}},64:{start:{line:165,column:33},end:{line:165,column:97}},65:{start:{line:168,column:8},end:{line:172,column:9}},66:{start:{line:169,column:10},end:{line:169,column:73}},67:{start:{line:171,column:10},end:{line:171,column:73}},68:{start:{line:173,column:24},end:{line:173,column:28}},69:{start:{line:174,column:8},end:{line:185,column:9}},70:{start:{line:175,column:10},end:{line:184,column:15}},71:{start:{line:180,column:37},end:{line:180,column:101}},72:{start:{line:186,column:8},end:{line:200,column:18}},73:{start:{line:196,column:41},end:{line:196,column:110}},74:{start:{line:203,column:4},end:{line:303,column:12}},75:{start:{line:214,column:39},end:{line:214,column:67}},76:{start:{line:232,column:43},end:{line:232,column:68}},77:{start:{line:247,column:39},end:{line:247,column:83}},78:{start:{line:263,column:42},end:{line:263,column:85}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:35},end:{line:29,column:1}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:19,column:30},end:{line:19,column:31}},loc:{start:{line:19,column:45},end:{line:26,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:22},end:{line:41,column:3}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:48},end:{line:50,column:3}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:34},end:{line:59,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:2},end:{line:60,column:3}},loc:{start:{line:60,column:34},end:{line:66,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:26},end:{line:83,column:3}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:69,column:36},end:{line:69,column:37}},loc:{start:{line:69,column:51},end:{line:74,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:74,column:69}},line:74},9:{name:"(anonymous_9)",decl:{start:{line:76,column:26},end:{line:76,column:27}},loc:{start:{line:76,column:41},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:82,column:29},end:{line:82,column:30}},loc:{start:{line:82,column:39},end:{line:82,column:48}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:84,column:13},end:{line:84,column:14}},loc:{start:{line:84,column:35},end:{line:104,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:41},end:{line:120,column:3}},line:105},13:{name:"(anonymous_13)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:23},end:{line:130,column:3}},line:121},14:{name:"(anonymous_14)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:26},end:{line:140,column:3}},line:131},15:{name:"(anonymous_15)",decl:{start:{line:141,column:2},end:{line:141,column:3}},loc:{start:{line:141,column:40},end:{line:148,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:149,column:2},end:{line:149,column:3}},loc:{start:{line:149,column:11},end:{line:304,column:3}},line:149},17:{name:"(anonymous_17)",decl:{start:{line:155,column:46},end:{line:155,column:47}},loc:{start:{line:155,column:61},end:{line:201,column:7}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:165,column:20},end:{line:165,column:21}},loc:{start:{line:165,column:33},end:{line:165,column:97}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:180,column:24},end:{line:180,column:25}},loc:{start:{line:180,column:37},end:{line:180,column:101}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:24},end:{line:196,column:25}},loc:{start:{line:196,column:41},end:{line:196,column:110}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:214,column:26},end:{line:214,column:27}},loc:{start:{line:214,column:39},end:{line:214,column:67}},line:214},22:{name:"(anonymous_22)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:43},end:{line:232,column:68}},line:232},23:{name:"(anonymous_23)",decl:{start:{line:247,column:26},end:{line:247,column:27}},loc:{start:{line:247,column:39},end:{line:247,column:83}},line:247},24:{name:"(anonymous_24)",decl:{start:{line:263,column:26},end:{line:263,column:27}},loc:{start:{line:263,column:42},end:{line:263,column:85}},line:263}},branchMap:{0:{loc:{start:{line:18,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:18,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:18,column:6},end:{line:18,column:38}},type:"binary-expr",locations:[{start:{line:18,column:6},end:{line:18,column:17}},{start:{line:18,column:21},end:{line:18,column:38}}],line:18},2:{loc:{start:{line:20,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:20,column:6},end:{line:25,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:21},4:{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},5:{loc:{start:{line:44,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:48,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},6:{loc:{start:{line:52,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:54,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:55,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:57,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},8:{loc:{start:{line:61,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:65,column:5}},{start:{line:63,column:11},end:{line:65,column:5}}],line:61},9:{loc:{start:{line:85,column:4},end:{line:102,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:102,column:5}},{start:{line:90,column:11},end:{line:102,column:5}}],line:85},10:{loc:{start:{line:91,column:24},end:{line:91,column:61}},type:"cond-expr",locations:[{start:{line:91,column:55},end:{line:91,column:57}},{start:{line:91,column:60},end:{line:91,column:61}}],line:91},11:{loc:{start:{line:106,column:18},end:{line:106,column:56}},type:"binary-expr",locations:[{start:{line:106,column:18},end:{line:106,column:50}},{start:{line:106,column:54},end:{line:106,column:56}}],line:106},12:{loc:{start:{line:110,column:14},end:{line:110,column:58}},type:"cond-expr",locations:[{start:{line:110,column:41},end:{line:110,column:42}},{start:{line:110,column:45},end:{line:110,column:58}}],line:110},13:{loc:{start:{line:126,column:4},end:{line:128,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:128,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:126},14:{loc:{start:{line:132,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:132,column:4},end:{line:139,column:5}},{start:{line:134,column:11},end:{line:139,column:5}}],line:132},15:{loc:{start:{line:132,column:8},end:{line:132,column:70}},type:"binary-expr",locations:[{start:{line:132,column:8},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:70}}],line:132},16:{loc:{start:{line:142,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:146,column:5}},{start:{line:144,column:11},end:{line:146,column:5}}],line:142},17:{loc:{start:{line:150,column:4},end:{line:152,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:152,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:150},18:{loc:{start:{line:154,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:202,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:154},19:{loc:{start:{line:156,column:26},end:{line:156,column:77}},type:"cond-expr",locations:[{start:{line:156,column:56},end:{line:156,column:68}},{start:{line:156,column:71},end:{line:156,column:77}}],line:156},20:{loc:{start:{line:158,column:26},end:{line:158,column:79}},type:"cond-expr",locations:[{start:{line:158,column:56},end:{line:158,column:69}},{start:{line:158,column:72},end:{line:158,column:79}}],line:158},21:{loc:{start:{line:168,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:172,column:9}},{start:{line:170,column:15},end:{line:172,column:9}}],line:168},22:{loc:{start:{line:174,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:174,column:8},end:{line:185,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},23:{loc:{start:{line:222,column:8},end:{line:237,column:9}},type:"binary-expr",locations:[{start:{line:222,column:8},end:{line:222,column:45}},{start:{line:222,column:65},end:{line:237,column:9}}],line:222},24:{loc:{start:{line:253,column:8},end:{line:268,column:9}},type:"binary-expr",locations:[{start:{line:253,column:8},end:{line:253,column:18}},{start:{line:253,column:38},end:{line:268,column:9}}],line:253},25:{loc:{start:{line:269,column:8},end:{line:277,column:15}},type:"binary-expr",locations:[{start:{line:269,column:8},end:{line:269,column:18}},{start:{line:269,column:38},end:{line:277,column:15}}],line:269},26:{loc:{start:{line:279,column:10},end:{line:289,column:11}},type:"binary-expr",locations:[{start:{line:279,column:10},end:{line:279,column:20}},{start:{line:279,column:40},end:{line:289,column:11}}],line:279}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_DataProperty.tsx"],names:[],mappings:"AAkO8B,cA8Bf,YA9Be;AAlO9B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAC5B,SAAQ,2BAA0B;AAElC,OAAO,wBAAwB;AAC/B,OAAO,sBAAsB;AAI7B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI;AAEJ,MAAG,MAAM,SAAS,MAAM,MAAM,OAAO;AACnC,UAAM,MAAM,MAAM,QAAQ,CAAC,MAAM,QAAQ;AACvC,UAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AACT;AAgCA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,eAAe,YAAY,UAAU;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA,EAGA,iBAAiB,OAAe;AAC9B,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC;AAGjE,UAAM,UAAU,CAAC;AACjB,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,WAAW,CAAC,WAAmB,UAAe;AAC5C,QAAI,MAAM,SAAS,YAAY;AAC7B,cAAQ;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,UAAU,MAAM;AAAA,MAClB;AAAA,IACF,OACK;AACH,YAAM,YAAY,MAAM,SAAS,gBAAgB,KAAK;AACtD,cAAQ;AAAA,QACN,UAAU;AAAA,QACV,MAAM,MAAM;AAAA;AAAA,QAEZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,UAC9E,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAgB,CAAC;AAAA,QACjF;AAAA,QACA,GAAG;AAAA,MACL;AAAA,IACF;AACA,SAAK,MAAM,SAAU,WAAW,KAAK;AAAA,EACvC;AAAA,EAEA,WAAW,WAAmB,UAAuD,OAAe;AAClG,UAAM,QAAQ,KAAK,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC;AAEnD,UAAM,SAAS,IAAI;AAAA,MACjB;AAAA,QACE,OAAO,SAAS;AAAA,QAChB,MAAO,SAAS,SAAS,SAAa,IAAI,SAAS;AAAA,MACrD;AAAA,MACA;AAAA,IACF;AAEA,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EAClD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,eAAe,SAAiB;AAC9B,QAAI,YAAY,iBAAiB,KAAK,MAAM,wBAAwB;AAClE,WAAK,MAAM,uBAAuB;AAAA,IACpC,OACK;AACH,WAAK,SAAS,KAAK,MAAM,WAAW;AAAA,QAClC,GAAG,KAAK,MAAM;AAAA,QACd,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,mBAAmB,UAAkC,SAAc;AACjE,QAAI,SAAS;AACX,WAAK,MAAM,MAAO,QAAQ,IAAI;AAAA,IAChC,OACK;AACH,aAAO,KAAK,MAAM,MAAO,QAAQ;AAAA,IACnC;AACA,SAAK,SAAS,KAAK,MAAM,WAAW,KAAK,MAAM,KAAK;AAAA,EACtD;AAAA,EAEA,SAAS;AACP,QAAI,OAAO,KAAK,MAAM,OAAO,SAAS,aAAa;AACjD,WAAK,MAAM,MAAO,OAAO,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA,IACzE;AAEA,QAAI;AACJ,QAAI,KAAK,MAAM,OAAO,OAAO;AAC3B,mBAAa,KAAK,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,QAAQ;AACrD,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,OAAO;AAC/D,cAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,cAAM,YAAY,OAAO,KAAK,CAAC,MAAM,WAAW,KAAK,CAAC,EAAE,QAAQ,KAAK,CAAC;AACtE,cAAM,QAAQ,KAAK,CAAC;AACpB,cAAM,gBAAgB,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAE3F,cAAM,YAAY;AAAA,UAChB,cAAc;AAAA,UACd,OAAO;AAAA,UACP,OAAO;AAAA,UACP,UAAU,CAAC,YAAyC,KAAK,WAAW,KAAK,EAAE,MAAM,WAAW,OAAO,QAAkB,GAAG,KAAK;AAAA,QAC/H;AAEA,YAAI;AACJ,YAAG,KAAK,MAAM,OAAO,SAAS,eAAe;AAC3C,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C,OACK;AACH,sBAAY,oBAAC,eAAa,GAAG,WAAW;AAAA,QAC1C;AAEA,YAAI,YAAY;AAChB,YAAG,cAAc,QAAW;AAC1B,sBAAY,oBAAC,SACX;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU,aAAW,KAAK,WAAW,KAAK,EAAC,MAAM,SAAS,OAAO,UAAS,GAAG,KAAK;AAAA,cAClF,KAAK;AAAA,cACL,KAAK;AAAA;AAAA,UACP,GACF;AAAA,QACF;AAEA,eAAO,qBAAC,QACN;AAAA,8BAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACE,qBACH;AAAA,UACA,oBAAC,QACC;AAAA,YAAC;AAAA;AAAA,cACC,cAAW;AAAA,cACX,WAAW,KAAK,MAAM;AAAA,cACtB,WAAW,KAAK,MAAM;AAAA,cACtB;AAAA,cACA,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,KAAK,EAAC,MAAM,WAAW,OAAO,UAAS,GAAG,QAAkB;AAAA;AAAA,UACzG,GACF;AAAA,UACA,oBAAC,QACE,yBACH;AAAA,aAlBc,GAmBhB;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,MAAO;AAAA,gBACzB,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAS;AAAA;AAAA,YACzD,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QACC,KAAK,MAAM,OAAO,SAAS,cAC1B;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAAkB;AAAA;AAAA,YAC/D,GACF;AAAA;AAAA,UATI;AAAA,QAUN;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,OAAO;AAAA,gBACP,UAAU,aAAW,KAAK,mBAAmB,YAAY,OAAO;AAAA;AAAA,YAClE,GACF;AAAA;AAAA,UARI;AAAA,QASN;AAAA,QACC,cACC;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAGP;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,YAAY,KAAK,mBAAmB,WAAW,OAAO;AAAA;AAAA,YACtE;AAAA;AAAA,UAPI;AAAA,QAQN;AAAA,QAED,cACC,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,gCACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,yBAAW;AAAA,YACf,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QAEF,qBAAC,SAAI,WAAU,oBACZ;AAAA,wBACC;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"232a59a4721428f6ea1780ae642f941986fcb93c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gt=function(){return a},a}Gt();function jD(e,t){Gt().f[0]++;let n;return Gt().s[0]++,Gt().b[1][0]++,e.value&&(Gt().b[1][1]++,e.value.stops)?(Gt().b[0][0]++,Gt().s[1]++,e.value.stops.forEach((r,i)=>{Gt().f[1]++,Gt().s[2]++,Object.prototype.hasOwnProperty.call(t.refs,i)?Gt().b[2][1]++:(Gt().b[2][0]++,Gt().s[3]++,n?Gt().b[3][1]++:(Gt().b[3][0]++,Gt().s[4]++,n={...t}),Gt().s[5]++,n[i]=fv("stop-"))})):Gt().b[0][1]++,Gt().s[6]++,n}class h7e extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Gt().s[7]++,{refs:{}}));on(this,"onChange",(Gt().s[32]++,(n,r)=>{if(Gt().f[11]++,Gt().s[33]++,r.type==="identity")Gt().b[9][0]++,Gt().s[34]++,r={type:r.type,property:r.property};else{Gt().b[9][1]++;const i=(Gt().s[35]++,r.type==="categorical"?(Gt().b[10][0]++,""):(Gt().b[10][1]++,0));Gt().s[36]++,r={property:"",type:r.type,stops:[[{zoom:6,value:i},Bd(this.props.fieldSpec)],[{zoom:10,value:i},Bd(this.props.fieldSpec)]],...r}}Gt().s[37]++,this.props.onChange(n,r)}))}componentDidMount(){Gt().f[2]++;const n=(Gt().s[8]++,jD(this.props,this.state));Gt().s[9]++,n?(Gt().b[4][0]++,Gt().s[10]++,this.setState({refs:n})):Gt().b[4][1]++}static getDerivedStateFromProps(n,r){Gt().f[3]++;const i=(Gt().s[11]++,jD(n,r));return Gt().s[12]++,i?(Gt().b[5][0]++,Gt().s[13]++,{refs:i}):(Gt().b[5][1]++,Gt().s[14]++,null)}getFieldFunctionType(n){return Gt().f[4]++,Gt().s[15]++,n.expression.interpolated?(Gt().b[6][0]++,Gt().s[16]++,"exponential"):(Gt().b[6][1]++,Gt().s[17]++,n.type==="number"?(Gt().b[7][0]++,Gt().s[18]++,"interval"):(Gt().b[7][1]++,Gt().s[19]++,"categorical"))}getDataFunctionTypes(n){return Gt().f[5]++,Gt().s[20]++,n.expression.interpolated?(Gt().b[8][0]++,Gt().s[21]++,["interpolate","categorical","interval","exponential","identity"]):(Gt().b[8][1]++,Gt().s[22]++,["categorical","interval","identity"])}orderStopsByZoom(n){Gt().f[6]++;const r=(Gt().s[23]++,n.map((o,a)=>(Gt().f[7]++,Gt().s[24]++,{ref:this.state.refs[a],data:o})).sort((o,a)=>(Gt().f[8]++,Gt().s[25]++,nQ(o.data[0].zoom,a.data[0].zoom)))),i=(Gt().s[26]++,{});return Gt().s[27]++,r.forEach((o,a)=>{Gt().f[9]++,Gt().s[28]++,i[a]=o.ref}),Gt().s[29]++,this.setState({refs:i}),Gt().s[30]++,r.map(o=>(Gt().f[10]++,Gt().s[31]++,o.data))}changeStop(n,r,i){var h;Gt().f[12]++;const o=(Gt().s[38]++,Gt().b[11][0]++,((h=this.props.value)==null?void 0:h.stops.slice(0))||(Gt().b[11][1]++,[]));Gt().s[39]++,o[n]=[{value:r.value,zoom:r.zoom===void 0?(Gt().b[12][0]++,0):(Gt().b[12][1]++,r.zoom)},i];const a=(Gt().s[40]++,this.orderStopsByZoom(o)),s=(Gt().s[41]++,{...this.props.value,stops:a});Gt().s[42]++,this.onChange(this.props.fieldName,s)}changeBase(n){Gt().f[13]++;const r=(Gt().s[43]++,{...this.props.value,base:n});Gt().s[44]++,r.base===void 0?(Gt().b[13][0]++,Gt().s[45]++,delete r.base):Gt().b[13][1]++,Gt().s[46]++,this.props.onChange(this.props.fieldName,r)}changeDataType(n){Gt().f[14]++,Gt().s[47]++,Gt().b[15][0]++,n==="interpolate"&&(Gt().b[15][1]++,this.props.onChangeToZoomFunction)?(Gt().b[14][0]++,Gt().s[48]++,this.props.onChangeToZoomFunction()):(Gt().b[14][1]++,Gt().s[49]++,this.onChange(this.props.fieldName,{...this.props.value,type:n}))}changeDataProperty(n,r){Gt().f[15]++,Gt().s[50]++,r?(Gt().b[16][0]++,Gt().s[51]++,this.props.value[n]=r):(Gt().b[16][1]++,Gt().s[52]++,delete this.props.value[n]),Gt().s[53]++,this.onChange(this.props.fieldName,this.props.value)}render(){var r,i,o,a,s,h,g,_;Gt().f[16]++,Gt().s[54]++,typeof((r=this.props.value)==null?void 0:r.type)>"u"?(Gt().b[17][0]++,Gt().s[55]++,this.props.value.type=this.getFieldFunctionType(this.props.fieldSpec)):Gt().b[17][1]++;let n;return Gt().s[56]++,(i=this.props.value)!=null&&i.stops?(Gt().b[18][0]++,Gt().s[57]++,n=this.props.value.stops.map((E,O)=>{var ye,be;Gt().f[17]++;const K=(Gt().s[58]++,typeof E[0]=="object"?(Gt().b[19][0]++,E[0].zoom):(Gt().b[19][1]++,void 0)),D=(Gt().s[59]++,this.state.refs[O]),Y=(Gt().s[60]++,typeof E[0]=="object"?(Gt().b[20][0]++,E[0].value):(Gt().b[20][1]++,E[0])),ee=(Gt().s[61]++,E[1]),H=(Gt().s[62]++,G.jsx(rQ,{onClick:(ye=this.props.onDeleteStop)==null?void 0:ye.bind(this,O)})),N=(Gt().s[63]++,{"aria-label":"Input value",label:"Data value",value:Y,onChange:X=>(Gt().f[18]++,Gt().s[64]++,this.changeStop(O,{zoom:K,value:X},ee))});let Z;Gt().s[65]++,((be=this.props.value)==null?void 0:be.type)==="categorical"?(Gt().b[21][0]++,Gt().s[66]++,Z=G.jsx($d,{...N})):(Gt().b[21][1]++,Gt().s[67]++,Z=G.jsx(Qf,{...N}));let ue=(Gt().s[68]++,null);return Gt().s[69]++,K!==void 0?(Gt().b[22][0]++,Gt().s[70]++,ue=G.jsx("div",{children:G.jsx(Qf,{"aria-label":"Zoom",value:K,onChange:X=>(Gt().f[19]++,Gt().s[71]++,this.changeStop(O,{zoom:X,value:Y},ee)),min:0,max:22})})):Gt().b[22][1]++,Gt().s[72]++,G.jsxs("tr",{children:[G.jsx("td",{children:ue}),G.jsx("td",{children:Z}),G.jsx("td",{children:G.jsx(Vy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:ee,onChange:(X,se)=>(Gt().f[20]++,Gt().s[73]++,this.changeStop(O,{zoom:K,value:Y},se))})}),G.jsx("td",{children:H})]},D)})):Gt().b[18][1]++,Gt().s[74]++,G.jsx("div",{className:"maputnik-data-spec-block",children:G.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[G.jsx("legend",{children:Rw(this.props.fieldName)}),G.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[G.jsx(oa,{label:"Function",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(H1,{value:this.props.value.type,onChange:E=>(Gt().f[21]++,Gt().s[75]++,this.changeDataType(E)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})},"function"),(Gt().b[23][0]++,((o=this.props.value)==null?void 0:o.type)!=="identity"&&(Gt().b[23][1]++,G.jsx(oa,{label:"Base",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(Vy,{fieldName:"base",fieldSpec:no.function.base,value:(a=this.props.value)==null?void 0:a.base,onChange:(E,O)=>(Gt().f[22]++,Gt().s[76]++,this.changeBase(O))})})},"base"))),G.jsx(oa,{label:"Property",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx($d,{value:(s=this.props.value)==null?void 0:s.property,title:"Input a data property to base styles off of.",onChange:E=>(Gt().f[23]++,Gt().s[77]++,this.changeDataProperty("property",E))})})},"property"),(Gt().b[24][0]++,n&&(Gt().b[24][1]++,G.jsx(oa,{label:"Default",children:G.jsx(Vy,{fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:(h=this.props.value)==null?void 0:h.default,onChange:(E,O)=>(Gt().f[24]++,Gt().s[78]++,this.changeDataProperty("default",O))})},"default"))),(Gt().b[25][0]++,n&&(Gt().b[25][1]++,G.jsx("div",{className:"maputnik-function-stop",children:G.jsxs("table",{className:"maputnik-function-stop-table",children:[G.jsx("caption",{children:"Stops"}),G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Zoom"}),G.jsx("th",{children:"Input value"}),G.jsx("th",{rowSpan:2,children:"Output value"})]})}),G.jsx("tbody",{children:n})]})}))),G.jsxs("div",{className:"maputnik-toolbox",children:[(Gt().b[26][0]++,n&&(Gt().b[26][1]++,G.jsxs(ja,{className:"maputnik-add-stop",onClick:(g=this.props.onAddStop)==null?void 0:g.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:DI})})," Add stop"]}))),G.jsxs(ja,{className:"maputnik-add-stop",onClick:(_=this.props.onExpressionClick)==null?void 0:_.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:gb})})," Convert to expression"]})]})]})]})})}}function zn(){var e="/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",t="b293261b8db082101e4d8e26898ce3be8cd692d2",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx",statementMap:{0:{start:{line:15,column:16},end:{line:15,column:18}},1:{start:{line:16,column:2},end:{line:27,column:3}},2:{start:{line:17,column:4},end:{line:26,column:7}},3:{start:{line:18,column:6},end:{line:25,column:7}},4:{start:{line:19,column:8},end:{line:21,column:9}},5:{start:{line:20,column:10},end:{line:20,column:33}},6:{start:{line:22,column:8},end:{line:22,column:39}},7:{start:{line:24,column:8},end:{line:24,column:39}},8:{start:{line:28,column:2},end:{line:28,column:17}},9:{start:{line:31,column:24},end:{line:33,column:3}},10:{start:{line:34,column:10},end:{line:36,column:3}},11:{start:{line:38,column:20},end:{line:38,column:55}},12:{start:{line:39,column:4},end:{line:43,column:5}},13:{start:{line:40,column:6},end:{line:42,column:9}},14:{start:{line:46,column:20},end:{line:46,column:45}},15:{start:{line:47,column:4},end:{line:51,column:5}},16:{start:{line:48,column:6},end:{line:50,column:8}},17:{start:{line:52,column:4},end:{line:52,column:16}},18:{start:{line:56,column:26},end:{line:61,column:60}},19:{start:{line:57,column:6},end:{line:60,column:8}},20:{start:{line:61,column:22},end:{line:61,column:59}},21:{start:{line:62,column:20},end:{line:62,column:22}},22:{start:{line:63,column:4},end:{line:65,column:7}},23:{start:{line:64,column:6},end:{line:64,column:30}},24:{start:{line:66,column:4},end:{line:68,column:7}},25:{start:{line:69,column:4},end:{line:69,column:50}},26:{start:{line:69,column:39},end:{line:69,column:48}},27:{start:{line:72,column:18},end:{line:72,column:49}},28:{start:{line:73,column:4},end:{line:73,column:41}},29:{start:{line:74,column:25},end:{line:74,column:53}},30:{start:{line:75,column:25},end:{line:78,column:5}},31:{start:{line:79,column:4},end:{line:79,column:60}},32:{start:{line:82,column:25},end:{line:85,column:5}},33:{start:{line:86,column:4},end:{line:88,column:5}},34:{start:{line:87,column:6},end:{line:87,column:34}},35:{start:{line:89,column:4},end:{line:89,column:60}},36:{start:{line:91,column:19},end:{line:95,column:3}},37:{start:{line:92,column:4},end:{line:94,column:5}},38:{start:{line:93,column:6},end:{line:93,column:46}},39:{start:{line:97,column:23},end:{line:131,column:6}},40:{start:{line:98,column:24},end:{line:98,column:31}},41:{start:{line:99,column:18},end:{line:99,column:38}},42:{start:{line:100,column:20},end:{line:100,column:27}},43:{start:{line:101,column:44},end:{line:101,column:120}},44:{start:{line:102,column:6},end:{line:130,column:8}},45:{start:{line:111,column:43},end:{line:111,column:87}},46:{start:{line:123,column:43},end:{line:123,column:88}},47:{start:{line:132,column:4},end:{line:198,column:12}},48:{start:{line:143,column:39},end:{line:143,column:67}},49:{start:{line:160,column:43},end:{line:160,column:68}},50:{start:{line:201,column:4},end:{line:205,column:5}},51:{start:{line:202,column:6},end:{line:202,column:83}},52:{start:{line:204,column:6},end:{line:204,column:29}}},fnMap:{0:{name:"setStopRefs",decl:{start:{line:14,column:9},end:{line:14,column:20}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:17,column:30},end:{line:17,column:31}},loc:{start:{line:17,column:45},end:{line:26,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:22},end:{line:44,column:3}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:48},end:{line:53,column:3}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:26},end:{line:70,column:3}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:56,column:36},end:{line:56,column:37}},loc:{start:{line:56,column:51},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:22},end:{line:61,column:59}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:63,column:26},end:{line:63,column:27}},loc:{start:{line:63,column:41},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:69,column:29},end:{line:69,column:30}},loc:{start:{line:69,column:39},end:{line:69,column:48}},line:69},9:{name:"(anonymous_9)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:45},end:{line:80,column:3}},line:71},10:{name:"(anonymous_10)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:23},end:{line:90,column:3}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:91,column:19},end:{line:91,column:20}},loc:{start:{line:91,column:29},end:{line:95,column:3}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:11},end:{line:199,column:3}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:97,column:51},end:{line:97,column:52}},loc:{start:{line:97,column:66},end:{line:131,column:5}},line:97},14:{name:"(anonymous_14)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:111,column:87}},line:111},15:{name:"(anonymous_15)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:43},end:{line:123,column:88}},line:123},16:{name:"(anonymous_16)",decl:{start:{line:143,column:26},end:{line:143,column:27}},loc:{start:{line:143,column:39},end:{line:143,column:67}},line:143},17:{name:"(anonymous_17)",decl:{start:{line:160,column:26},end:{line:160,column:27}},loc:{start:{line:160,column:43},end:{line:160,column:68}},line:160},18:{name:"(anonymous_18)",decl:{start:{line:200,column:2},end:{line:200,column:3}},loc:{start:{line:200,column:34},end:{line:206,column:3}},line:200}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:16,column:6},end:{line:16,column:38}},type:"binary-expr",locations:[{start:{line:16,column:6},end:{line:16,column:17}},{start:{line:16,column:21},end:{line:16,column:38}}],line:16},2:{loc:{start:{line:18,column:6},end:{line:25,column:7}},type:"if",locations:[{start:{line:18,column:6},end:{line:25,column:7}},{start:{line:23,column:13},end:{line:25,column:7}}],line:18},3:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:19},4:{loc:{start:{line:39,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},5:{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},7:{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:92},8:{loc:{start:{line:92,column:8},end:{line:92,column:67}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:30}},{start:{line:92,column:34},end:{line:92,column:67}}],line:92},9:{loc:{start:{line:201,column:4},end:{line:205,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:205,column:5}},{start:{line:203,column:11},end:{line:205,column:5}}],line:201}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/_ZoomProperty.tsx"],names:[],mappings:"AA8J2B,cACd,YADc;AA9J3B,OAAO,WAAW;AAClB,SAAQ,oBAAoB,4BAA2B;AACvD,OAAO,YAAY;AAEnB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAElB,OAAO,sBAAsB;AAC7B,OAAO,wBAAwB;AAE/B,OAAO,YAAY;AACnB,OAAO,qBAAqB;AAQ5B,SAAS,YAAY,OAA0B,OAA0B;AAEvE,MAAI,UAAmC,CAAC;AAExC,MAAG,MAAM,SAAU,MAAM,MAAwB,OAAO;AACtD,IAAC,MAAM,MAAwB,MAAM,QAAQ,CAAC,MAAM,QAAgB;AAClE,UAAG,OAAO,UAAU,eAAe,KAAK,CAAC,MAAM,MAAM,GAAG,GAAG;AACzD,YAAG,CAAC,SAAS;AACX,oBAAU,EAAC,GAAG,MAAK;AAAA,QACrB;AACA,gBAAQ,GAAG,IAAI,OAAO,OAAO;AAAA,MAC/B,OAAO;AACL,gBAAQ,GAAG,IAAI,MAAM,KAAK,GAAG;AAAA,MAC/B;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO;AACT;AA4BA,qBAAqB,qBAAqB,MAAM,UAAgD;AAAA,EAC9F,OAAO,eAAe;AAAA,IACpB,QAAQ,CAAC;AAAA,EACX;AAAA,EAEA,QAAQ;AAAA,IACN,MAAM,CAAC;AAAA,EACT;AAAA,EAEA,oBAAoB;AAClB,UAAM,UAAU,YAAY,KAAK,OAAO,KAAK,KAAK;AAElD,QAAG,SAAS;AACV,WAAK,SAAS;AAAA,QACZ,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA0B,OAA0B;AAClF,UAAM,UAAU,YAAY,OAAO,KAAK;AACxC,QAAG,SAAS;AACV,aAAO;AAAA,QACL,MAAM;AAAA,MACR;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA;AAAA,EAGA,iBAAiB,OAA+B;AAC9C,UAAM,gBAAgB,MACnB,IAAI,CAAC,MAAM,QAAQ;AAClB,aAAO;AAAA,QACL,KAAK,KAAK,MAAM,KAAK,GAAG;AAAA,QACxB,MAAM;AAAA,MACR;AAAA,IACF,CAAC,EAEA,KAAK,CAAC,GAAG,MAAM,gBAAgB,EAAE,KAAK,CAAC,GAAI,EAAE,KAAK,CAAC,CAAE,CAAC;AAGzD,UAAM,UAAkC,CAAC;AACzC,kBACG,QAAQ,CAAC,MAAM,QAAO;AACrB,cAAQ,GAAG,IAAI,KAAK;AAAA,IACtB,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,MAAM;AAAA,IACR,CAAC;AAED,WAAO,cAAc,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EAC9C;AAAA,EAEA,eAAe,WAAmB,UAA8B,OAAe;AAC7E,UAAM,QAAS,KAAK,MAAM,MAAwB,MAAM,MAAM,CAAC;AAC/D,UAAM,SAAS,IAAI,CAAC,UAAU,KAAK;AAEnC,UAAM,eAAe,KAAK,iBAAiB,KAAK;AAEhD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,OAAO;AAAA,IACT;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,WAAW,UAA8B;AACvC,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,MAAM;AAAA,IACR;AAEA,QAAI,aAAa,SAAS,QAAW;AACnC,aAAO,aAAa,MAAM;AAAA,IAC5B;AACA,SAAK,MAAM,SAAU,KAAK,MAAM,WAAW,YAAY;AAAA,EACzD;AAAA,EAEA,iBAAiB,CAAC,SAAiB;AACjC,QAAI,SAAS,iBAAiB,KAAK,MAAM,wBAAwB;AAC/D,WAAK,MAAM,uBAAuB,IAAI;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,aAAa,KAAK,MAAM,OAAO,MAAM,IAAI,CAAC,MAAM,QAAQ;AAC5D,YAAM,YAAY,KAAK,CAAC;AACxB,YAAM,MAAO,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,QAAQ,KAAK,CAAC;AACpB,YAAM,gBAAe,oBAAC,oBAAiB,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,GAAG,GAAG;AAC1F,aAAO;AAAA,QAAC;AAAA;AAAA,UAGN;AAAA,gCAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,OAAO;AAAA,gBACP,UAAU,iBAAe,KAAK,eAAe,KAAK,aAAa,KAAK;AAAA,gBACpE,KAAK;AAAA,gBACL,KAAK;AAAA;AAAA,YACP,GACF;AAAA,YACA,oBAAC,QACC;AAAA,cAAC;AAAA;AAAA,gBACC,cAAW;AAAA,gBACX,WAAW,KAAK,MAAM;AAAA,gBACtB,WAAW,KAAK,MAAM;AAAA,gBACtB;AAAA,gBACA,UAAU,CAAC,GAAG,aAAa,KAAK,eAAe,KAAK,WAAW,QAAkB;AAAA;AAAA,YACnF,GACF;AAAA,YACA,oBAAC,QACE,yBACH;AAAA;AAAA;AAAA,QAtBK;AAAA,MAuBP;AAAA,IACF,CAAC;AAGD,WAAO,oBAAC,SAAI,WAAU,4BACpB,+BAAC,cAAS,WAAU,+BAClB;AAAA,0BAAC,YAAQ,6BAAmB,KAAK,MAAM,SAAS,GAAE;AAAA,MAClD,qBAAC,SAAI,WAAU,gCACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO;AAAA,gBACP,UAAU,CAAC,YAAoB,KAAK,eAAe,OAAO;AAAA,gBAC1D,OAAO;AAAA,gBACP,SAAS,KAAK,qBAAqB,KAAK,MAAM,SAAU;AAAA;AAAA,YAC1D,GACF;AAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YAEP,8BAAC,SAAI,WAAU,qCACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAW;AAAA,gBACX,WAAW,OAAO,SAAS;AAAA,gBAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,gBACzB,UAAU,CAAC,GAAG,aAAa,KAAK,WAAW,QAA8B;AAAA;AAAA,YAC3E,GACF;AAAA;AAAA,QACF;AAAA,QACA,oBAAC,SAAI,WAAU,0BACb,+BAAC,WAAM,WAAU,mEACf;AAAA,8BAAC,aAAQ,mBAAK;AAAA,UACd,oBAAC,WACC,+BAAC,QACC;AAAA,gCAAC,QAAG,kBAAI;AAAA,YACR,oBAAC,QAAG,SAAS,GAAG,0BAAY;AAAA,aAC9B,GACF;AAAA,UACA,oBAAC,WACE,sBACH;AAAA,WACF,GACF;AAAA,QACA,qBAAC,SAAI,WAAU,oBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,WAAW,KAAK,IAAI;AAAA,cAExC;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,sBAAsB,GACrD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,KAAK,MAAM,mBAAmB,KAAK,IAAI;AAAA,cAEhD;AAAA,oCAAC,SAAI,OAAO,EAAC,OAAM,QAAQ,QAAO,QAAQ,eAAe,cAAa,GAAG,SAAQ,aAC/E,8BAAC,UAAK,MAAK,gBAAe,GAAG,oBAAoB,GACnD;AAAA,gBAAM;AAAA;AAAA;AAAA,UACR;AAAA,WACF;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAGlB;AACD,QAAI,UAAU,eAAe,MAAM,eAAe;AAChD,aAAO,CAAC,eAAe,eAAe,YAAY,eAAe,UAAU;AAAA,IAC7E,OACK;AACH,aAAO,CAAC,aAAa;AAAA,IACvB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b293261b8db082101e4d8e26898ce3be8cd692d2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zn=function(){return a},a}zn();function WD(e,t){zn().f[0]++;let n=(zn().s[0]++,{});return zn().s[1]++,zn().b[1][0]++,e.value&&(zn().b[1][1]++,e.value.stops)?(zn().b[0][0]++,zn().s[2]++,e.value.stops.forEach((r,i)=>{zn().f[1]++,zn().s[3]++,Object.prototype.hasOwnProperty.call(!t.refs,i)?(zn().b[2][0]++,zn().s[4]++,n?zn().b[3][1]++:(zn().b[3][0]++,zn().s[5]++,n={...t}),zn().s[6]++,n[i]=fv("stop-")):(zn().b[2][1]++,zn().s[7]++,n[i]=t.refs[i])})):zn().b[0][1]++,zn().s[8]++,n}class iQ extends Mn.Component{constructor(){super(...arguments);on(this,"state",(zn().s[10]++,{refs:{}}));on(this,"changeDataType",(zn().s[36]++,n=>{zn().f[11]++,zn().s[37]++,zn().b[8][0]++,n!=="interpolate"&&(zn().b[8][1]++,this.props.onChangeToDataFunction)?(zn().b[7][0]++,zn().s[38]++,this.props.onChangeToDataFunction(n)):zn().b[7][1]++}))}componentDidMount(){zn().f[2]++;const n=(zn().s[11]++,WD(this.props,this.state));zn().s[12]++,n?(zn().b[4][0]++,zn().s[13]++,this.setState({refs:n})):zn().b[4][1]++}static getDerivedStateFromProps(n,r){zn().f[3]++;const i=(zn().s[14]++,WD(n,r));return zn().s[15]++,i?(zn().b[5][0]++,zn().s[16]++,{refs:i}):(zn().b[5][1]++,zn().s[17]++,null)}orderStopsByZoom(n){zn().f[4]++;const r=(zn().s[18]++,n.map((o,a)=>(zn().f[5]++,zn().s[19]++,{ref:this.state.refs[a],data:o})).sort((o,a)=>(zn().f[6]++,zn().s[20]++,nQ(o.data[0],a.data[0])))),i=(zn().s[21]++,{});return zn().s[22]++,r.forEach((o,a)=>{zn().f[7]++,zn().s[23]++,i[a]=o.ref}),zn().s[24]++,this.setState({refs:i}),zn().s[25]++,r.map(o=>(zn().f[8]++,zn().s[26]++,o.data))}changeZoomStop(n,r,i){zn().f[9]++;const o=(zn().s[27]++,this.props.value.stops.slice(0));zn().s[28]++,o[n]=[r,i];const a=(zn().s[29]++,this.orderStopsByZoom(o)),s=(zn().s[30]++,{...this.props.value,stops:a});zn().s[31]++,this.props.onChange(this.props.fieldName,s)}changeBase(n){zn().f[10]++;const r=(zn().s[32]++,{...this.props.value,base:n});zn().s[33]++,r.base===void 0?(zn().b[6][0]++,zn().s[34]++,delete r.base):zn().b[6][1]++,zn().s[35]++,this.props.onChange(this.props.fieldName,r)}render(){var r,i,o,a;zn().f[12]++;const n=(zn().s[39]++,(r=this.props.value)==null?void 0:r.stops.map((s,h)=>{var K;zn().f[13]++;const g=(zn().s[40]++,s[0]),_=(zn().s[41]++,this.state.refs[h]),E=(zn().s[42]++,s[1]),O=(zn().s[43]++,G.jsx(rQ,{onClick:(K=this.props.onDeleteStop)==null?void 0:K.bind(this,h)}));return zn().s[44]++,G.jsxs("tr",{children:[G.jsx("td",{children:G.jsx(Qf,{"aria-label":"Zoom",value:g,onChange:D=>(zn().f[14]++,zn().s[45]++,this.changeZoomStop(h,D,E)),min:0,max:22})}),G.jsx("td",{children:G.jsx(Vy,{"aria-label":"Output value",fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:E,onChange:(D,Y)=>(zn().f[15]++,zn().s[46]++,this.changeZoomStop(h,g,Y))})}),G.jsx("td",{children:O})]},_)}));return zn().s[47]++,G.jsx("div",{className:"maputnik-data-spec-block",children:G.jsxs("fieldset",{className:"maputnik-data-spec-property",children:[G.jsx("legend",{children:Rw(this.props.fieldName)}),G.jsxs("div",{className:"maputnik-data-fieldset-inner",children:[G.jsx(oa,{label:"Function",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(H1,{value:"interpolate",onChange:s=>(zn().f[16]++,zn().s[48]++,this.changeDataType(s)),title:"Select a type of data scale (default is 'categorical').",options:this.getDataFunctionTypes(this.props.fieldSpec)})})}),G.jsx(oa,{label:"Base",children:G.jsx("div",{className:"maputnik-data-spec-property-input",children:G.jsx(Vy,{fieldName:"base",fieldSpec:no.function.base,value:(i=this.props.value)==null?void 0:i.base,onChange:(s,h)=>(zn().f[17]++,zn().s[49]++,this.changeBase(h))})})}),G.jsx("div",{className:"maputnik-function-stop",children:G.jsxs("table",{className:"maputnik-function-stop-table maputnik-function-stop-table--zoom",children:[G.jsx("caption",{children:"Stops"}),G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Zoom"}),G.jsx("th",{rowSpan:2,children:"Output value"})]})}),G.jsx("tbody",{children:n})]})}),G.jsxs("div",{className:"maputnik-toolbox",children:[G.jsxs(ja,{className:"maputnik-add-stop",onClick:(o=this.props.onAddStop)==null?void 0:o.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:DI})})," Add stop"]}),G.jsxs(ja,{className:"maputnik-add-stop",onClick:(a=this.props.onExpressionClick)==null?void 0:a.bind(this),children:[G.jsx("svg",{style:{width:"14px",height:"14px",verticalAlign:"text-bottom"},viewBox:"0 0 24 24",children:G.jsx("path",{fill:"currentColor",d:gb})})," Convert to expression"]})]})]})]})})}getDataFunctionTypes(n){return zn().f[18]++,zn().s[50]++,n["property-type"]==="data-driven"?(zn().b[9][0]++,zn().s[51]++,["interpolate","categorical","interval","exponential","identity"]):(zn().b[9][1]++,zn().s[52]++,["interpolate"])}}on(iQ,"defaultProps",(zn().s[9]++,{errors:{}}));function dt(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",t="435f90d980cace940b69ce8c0aa30d2fab175109",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx",statementMap:{0:{start:{line:10,column:2},end:{line:10,column:78}},1:{start:{line:13,column:2},end:{line:13,column:74}},2:{start:{line:16,column:2},end:{line:18,column:5}},3:{start:{line:17,column:4},end:{line:17,column:52}},4:{start:{line:21,column:2},end:{line:21,column:123}},5:{start:{line:24,column:2},end:{line:26,column:5}},6:{start:{line:25,column:4},end:{line:25,column:83}},7:{start:{line:29,column:2},end:{line:29,column:64}},8:{start:{line:32,column:16},end:{line:32,column:47}},9:{start:{line:33,column:2},end:{line:33,column:38}},10:{start:{line:36,column:2},end:{line:38,column:3}},11:{start:{line:37,column:4},end:{line:37,column:37}},12:{start:{line:39,column:2},end:{line:39,column:15}},13:{start:{line:42,column:2},end:{line:54,column:3}},14:{start:{line:43,column:4},end:{line:43,column:19}},15:{start:{line:44,column:9},end:{line:54,column:3}},16:{start:{line:45,column:4},end:{line:45,column:19}},17:{start:{line:46,column:9},end:{line:54,column:3}},18:{start:{line:47,column:4},end:{line:47,column:19}},19:{start:{line:48,column:9},end:{line:54,column:3}},20:{start:{line:49,column:4},end:{line:49,column:27}},21:{start:{line:50,column:9},end:{line:54,column:3}},22:{start:{line:51,column:4},end:{line:51,column:27}},23:{start:{line:53,column:4},end:{line:53,column:24}},24:{start:{line:58,column:4},end:{line:58,column:17}},25:{start:{line:59,column:4},end:{line:62,column:6}},26:{start:{line:65,column:4},end:{line:72,column:5}},27:{start:{line:66,column:6},end:{line:66,column:16}},28:{start:{line:68,column:6},end:{line:71,column:8}},29:{start:{line:75,column:4},end:{line:77,column:5}},30:{start:{line:76,column:6},end:{line:76,column:27}},31:{start:{line:78,column:4},end:{line:80,column:5}},32:{start:{line:79,column:6},end:{line:79,column:24}},33:{start:{line:81,column:4},end:{line:81,column:25}},34:{start:{line:83,column:12},end:{line:99,column:3}},35:{start:{line:84,column:18},end:{line:84,column:49}},36:{start:{line:85,column:21},end:{line:85,column:44}},37:{start:{line:86,column:4},end:{line:93,column:5}},38:{start:{line:87,column:6},end:{line:90,column:9}},39:{start:{line:92,column:6},end:{line:92,column:49}},40:{start:{line:94,column:25},end:{line:97,column:5}},41:{start:{line:98,column:4},end:{line:98,column:60}},42:{start:{line:100,column:21},end:{line:106,column:3}},43:{start:{line:101,column:37},end:{line:101,column:47}},44:{start:{line:102,column:4},end:{line:102,column:54}},45:{start:{line:103,column:4},end:{line:105,column:7}},46:{start:{line:107,column:15},end:{line:118,column:3}},47:{start:{line:108,column:18},end:{line:108,column:49}},48:{start:{line:109,column:4},end:{line:109,column:29}},49:{start:{line:110,column:23},end:{line:113,column:5}},50:{start:{line:114,column:4},end:{line:116,column:5}},51:{start:{line:115,column:6},end:{line:115,column:33}},52:{start:{line:117,column:4},end:{line:117,column:60}},53:{start:{line:119,column:21},end:{line:148,column:3}},54:{start:{line:120,column:22},end:{line:120,column:32}},55:{start:{line:122,column:4},end:{line:146,column:5}},56:{start:{line:123,column:6},end:{line:138,column:7}},57:{start:{line:124,column:8},end:{line:129,column:10}},58:{start:{line:127,column:12},end:{line:127,column:88}},59:{start:{line:131,column:8},end:{line:137,column:10}},60:{start:{line:140,column:6},end:{line:145,column:8}},61:{start:{line:147,column:4},end:{line:147,column:56}},62:{start:{line:149,column:19},end:{line:165,column:3}},63:{start:{line:150,column:33},end:{line:150,column:43}},64:{start:{line:151,column:4},end:{line:164,column:5}},65:{start:{line:152,column:6},end:{line:155,column:9}},66:{start:{line:156,column:6},end:{line:158,column:9}},67:{start:{line:159,column:11},end:{line:164,column:5}},68:{start:{line:160,column:6},end:{line:160,column:47}},69:{start:{line:161,column:6},end:{line:163,column:9}},70:{start:{line:166,column:12},end:{line:169,column:3}},71:{start:{line:167,column:33},end:{line:167,column:43}},72:{start:{line:168,column:4},end:{line:168,column:140}},73:{start:{line:170,column:19},end:{line:181,column:3}},74:{start:{line:171,column:33},end:{line:171,column:43}},75:{start:{line:173,column:4},end:{line:179,column:5}},76:{start:{line:174,column:6},end:{line:174,column:67}},77:{start:{line:175,column:11},end:{line:179,column:5}},78:{start:{line:176,column:6},end:{line:176,column:43}},79:{start:{line:178,column:6},end:{line:178,column:70}},80:{start:{line:180,column:4},end:{line:180,column:58}},81:{start:{line:182,column:21},end:{line:220,column:3}},82:{start:{line:183,column:25},end:{line:183,column:72}},83:{start:{line:184,column:22},end:{line:184,column:61}},84:{start:{line:185,column:22},end:{line:185,column:32}},85:{start:{line:187,column:4},end:{line:218,column:5}},86:{start:{line:188,column:6},end:{line:207,column:7}},87:{start:{line:189,column:8},end:{line:196,column:10}},88:{start:{line:194,column:12},end:{line:194,column:111}},89:{start:{line:198,column:8},end:{line:206,column:10}},90:{start:{line:209,column:6},end:{line:217,column:8}},91:{start:{line:219,column:4},end:{line:219,column:56}},92:{start:{line:221,column:18},end:{line:223,column:3}},93:{start:{line:222,column:4},end:{line:222,column:39}},94:{start:{line:224,column:20},end:{line:226,column:3}},95:{start:{line:225,column:4},end:{line:225,column:40}},96:{start:{line:228,column:25},end:{line:228,column:35}},97:{start:{line:229,column:22},end:{line:229,column:132}},98:{start:{line:231,column:4},end:{line:295,column:5}},99:{start:{line:232,column:6},end:{line:247,column:8}},100:{start:{line:248,column:11},end:{line:295,column:5}},101:{start:{line:249,column:6},end:{line:263,column:8}},102:{start:{line:264,column:11},end:{line:295,column:5}},103:{start:{line:265,column:6},end:{line:279,column:8}},104:{start:{line:281,column:6},end:{line:294,column:8}},105:{start:{line:296,column:4},end:{line:296,column:148}}},fnMap:{0:{name:"isLiteralExpression",decl:{start:{line:9,column:9},end:{line:9,column:28}},loc:{start:{line:9,column:36},end:{line:11,column:1}},line:9},1:{name:"isGetExpression",decl:{start:{line:12,column:9},end:{line:12,column:24}},loc:{start:{line:12,column:32},end:{line:14,column:1}},line:12},2:{name:"isZoomField",decl:{start:{line:15,column:9},end:{line:15,column:20}},loc:{start:{line:15,column:28},end:{line:19,column:1}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:16,column:168},end:{line:16,column:169}},loc:{start:{line:16,column:178},end:{line:18,column:3}},line:16},4:{name:"isIdentityProperty",decl:{start:{line:20,column:9},end:{line:20,column:27}},loc:{start:{line:20,column:35},end:{line:22,column:1}},line:20},5:{name:"isDataStopProperty",decl:{start:{line:23,column:9},end:{line:23,column:27}},loc:{start:{line:23,column:35},end:{line:27,column:1}},line:23},6:{name:"(anonymous_6)",decl:{start:{line:24,column:168},end:{line:24,column:169}},loc:{start:{line:24,column:178},end:{line:26,column:3}},line:24},7:{name:"isDataField",decl:{start:{line:28,column:9},end:{line:28,column:20}},loc:{start:{line:28,column:28},end:{line:30,column:1}},line:28},8:{name:"isPrimative",decl:{start:{line:31,column:9},end:{line:31,column:20}},loc:{start:{line:31,column:28},end:{line:34,column:1}},line:31},9:{name:"isArrayOfPrimatives",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:37},end:{line:40,column:1}},line:35},10:{name:"getDataType",decl:{start:{line:41,column:9},end:{line:41,column:20}},loc:{start:{line:41,column:44},end:{line:55,column:1}},line:41},11:{name:"(anonymous_11)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:21},end:{line:63,column:3}},line:57},12:{name:"(anonymous_12)",decl:{start:{line:64,column:2},end:{line:64,column:3}},loc:{start:{line:64,column:48},end:{line:73,column:3}},line:64},13:{name:"(anonymous_13)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:34},end:{line:82,column:3}},line:74},14:{name:"(anonymous_14)",decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:18},end:{line:99,column:3}},line:83},15:{name:"(anonymous_15)",decl:{start:{line:100,column:21},end:{line:100,column:22}},loc:{start:{line:100,column:27},end:{line:106,column:3}},line:100},16:{name:"(anonymous_16)",decl:{start:{line:107,column:15},end:{line:107,column:16}},loc:{start:{line:107,column:28},end:{line:118,column:3}},line:107},17:{name:"(anonymous_17)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:27},end:{line:148,column:3}},line:119},18:{name:"(anonymous_18)",decl:{start:{line:126,column:33},end:{line:126,column:34}},loc:{start:{line:126,column:43},end:{line:128,column:11}},line:126},19:{name:"(anonymous_19)",decl:{start:{line:149,column:19},end:{line:149,column:20}},loc:{start:{line:149,column:25},end:{line:165,column:3}},line:149},20:{name:"(anonymous_20)",decl:{start:{line:166,column:12},end:{line:166,column:13}},loc:{start:{line:166,column:18},end:{line:169,column:3}},line:166},21:{name:"(anonymous_21)",decl:{start:{line:170,column:19},end:{line:170,column:20}},loc:{start:{line:170,column:25},end:{line:181,column:3}},line:170},22:{name:"(anonymous_22)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:220,column:3}},line:182},23:{name:"(anonymous_23)",decl:{start:{line:193,column:33},end:{line:193,column:34}},loc:{start:{line:193,column:43},end:{line:195,column:11}},line:193},24:{name:"(anonymous_24)",decl:{start:{line:221,column:18},end:{line:221,column:19}},loc:{start:{line:221,column:24},end:{line:223,column:3}},line:221},25:{name:"(anonymous_25)",decl:{start:{line:224,column:20},end:{line:224,column:21}},loc:{start:{line:224,column:26},end:{line:226,column:3}},line:224},26:{name:"(anonymous_26)",decl:{start:{line:227,column:2},end:{line:227,column:3}},loc:{start:{line:227,column:11},end:{line:297,column:3}},line:227}},branchMap:{0:{loc:{start:{line:10,column:9},end:{line:10,column:77}},type:"binary-expr",locations:[{start:{line:10,column:9},end:{line:10,column:29}},{start:{line:10,column:33},end:{line:10,column:51}},{start:{line:10,column:55},end:{line:10,column:77}}],line:10},1:{loc:{start:{line:13,column:9},end:{line:13,column:73}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:29}},{start:{line:13,column:33},end:{line:13,column:51}},{start:{line:13,column:55},end:{line:13,column:73}}],line:13},2:{loc:{start:{line:16,column:9},end:{line:18,column:4}},type:"binary-expr",locations:[{start:{line:16,column:9},end:{line:16,column:34}},{start:{line:16,column:38},end:{line:16,column:49}},{start:{line:16,column:53},end:{line:16,column:90}},{start:{line:16,column:94},end:{line:16,column:120}},{start:{line:16,column:124},end:{line:16,column:146}},{start:{line:16,column:150},end:{line:18,column:4}}],line:16},3:{loc:{start:{line:17,column:11},end:{line:17,column:51}},type:"binary-expr",locations:[{start:{line:17,column:11},end:{line:17,column:30}},{start:{line:17,column:34},end:{line:17,column:51}}],line:17},4:{loc:{start:{line:21,column:9},end:{line:21,column:122}},type:"binary-expr",locations:[{start:{line:21,column:9},end:{line:21,column:34}},{start:{line:21,column:38},end:{line:21,column:63}},{start:{line:21,column:67},end:{line:21,column:122}}],line:21},5:{loc:{start:{line:24,column:9},end:{line:26,column:4}},type:"binary-expr",locations:[{start:{line:24,column:9},end:{line:24,column:34}},{start:{line:24,column:38},end:{line:24,column:49}},{start:{line:24,column:53},end:{line:24,column:90}},{start:{line:24,column:94},end:{line:24,column:116}},{start:{line:24,column:120},end:{line:24,column:146}},{start:{line:24,column:150},end:{line:26,column:4}}],line:24},6:{loc:{start:{line:25,column:11},end:{line:25,column:82}},type:"binary-expr",locations:[{start:{line:25,column:11},end:{line:25,column:30}},{start:{line:25,column:34},end:{line:25,column:51}},{start:{line:25,column:55},end:{line:25,column:82}}],line:25},7:{loc:{start:{line:29,column:9},end:{line:29,column:63}},type:"binary-expr",locations:[{start:{line:29,column:9},end:{line:29,column:34}},{start:{line:29,column:38},end:{line:29,column:63}}],line:29},8:{loc:{start:{line:36,column:2},end:{line:38,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:38,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},9:{loc:{start:{line:41,column:28},end:{line:41,column:42}},type:"default-arg",locations:[{start:{line:41,column:40},end:{line:41,column:42}}],line:41},10:{loc:{start:{line:42,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:54,column:3}},{start:{line:44,column:9},end:{line:54,column:3}}],line:42},11:{loc:{start:{line:44,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:44,column:9},end:{line:54,column:3}},{start:{line:46,column:9},end:{line:54,column:3}}],line:44},12:{loc:{start:{line:46,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:46,column:9},end:{line:54,column:3}},{start:{line:48,column:9},end:{line:54,column:3}}],line:46},13:{loc:{start:{line:46,column:13},end:{line:46,column:69}},type:"binary-expr",locations:[{start:{line:46,column:13},end:{line:46,column:39}},{start:{line:46,column:43},end:{line:46,column:69}}],line:46},14:{loc:{start:{line:48,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:48,column:9},end:{line:54,column:3}},{start:{line:50,column:9},end:{line:54,column:3}}],line:48},15:{loc:{start:{line:50,column:9},end:{line:54,column:3}},type:"if",locations:[{start:{line:50,column:9},end:{line:54,column:3}},{start:{line:52,column:9},end:{line:54,column:3}}],line:50},16:{loc:{start:{line:65,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:72,column:5}},{start:{line:67,column:11},end:{line:72,column:5}}],line:65},17:{loc:{start:{line:75,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:77,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:75},18:{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:78},19:{loc:{start:{line:86,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:93,column:5}},{start:{line:91,column:11},end:{line:93,column:5}}],line:86},20:{loc:{start:{line:114,column:4},end:{line:116,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:116,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:114},21:{loc:{start:{line:122,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:122,column:4},end:{line:146,column:5}},{start:{line:139,column:11},end:{line:146,column:5}}],line:122},22:{loc:{start:{line:123,column:6},end:{line:138,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:138,column:7}},{start:{line:130,column:13},end:{line:138,column:7}}],line:123},23:{loc:{start:{line:127,column:34},end:{line:127,column:86}},type:"binary-expr",locations:[{start:{line:127,column:34},end:{line:127,column:41}},{start:{line:127,column:45},end:{line:127,column:86}}],line:127},24:{loc:{start:{line:142,column:14},end:{line:142,column:64}},type:"binary-expr",locations:[{start:{line:142,column:14},end:{line:142,column:19}},{start:{line:142,column:23},end:{line:142,column:64}}],line:142},25:{loc:{start:{line:143,column:15},end:{line:143,column:65}},type:"binary-expr",locations:[{start:{line:143,column:15},end:{line:143,column:20}},{start:{line:143,column:24},end:{line:143,column:65}}],line:143},26:{loc:{start:{line:151,column:4},end:{line:164,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:164,column:5}},{start:{line:159,column:11},end:{line:164,column:5}}],line:151},27:{loc:{start:{line:159,column:11},end:{line:164,column:5}},type:"if",locations:[{start:{line:159,column:11},end:{line:164,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:159},28:{loc:{start:{line:168,column:11},end:{line:168,column:139}},type:"binary-expr",locations:[{start:{line:168,column:11},end:{line:168,column:33}},{start:{line:168,column:37},end:{line:168,column:63}},{start:{line:168,column:67},end:{line:168,column:85}},{start:{line:168,column:89},end:{line:168,column:109}},{start:{line:168,column:113},end:{line:168,column:139}}],line:168},29:{loc:{start:{line:173,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:179,column:5}},{start:{line:175,column:11},end:{line:179,column:5}}],line:173},30:{loc:{start:{line:173,column:8},end:{line:173,column:53}},type:"binary-expr",locations:[{start:{line:173,column:8},end:{line:173,column:33}},{start:{line:173,column:37},end:{line:173,column:53}}],line:173},31:{loc:{start:{line:175,column:11},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:11},end:{line:179,column:5}},{start:{line:177,column:11},end:{line:179,column:5}}],line:175},32:{loc:{start:{line:178,column:31},end:{line:178,column:68}},type:"binary-expr",locations:[{start:{line:178,column:31},end:{line:178,column:36}},{start:{line:178,column:40},end:{line:178,column:68}}],line:178},33:{loc:{start:{line:184,column:22},end:{line:184,column:61}},type:"cond-expr",locations:[{start:{line:184,column:55},end:{line:184,column:57}},{start:{line:184,column:60},end:{line:184,column:61}}],line:184},34:{loc:{start:{line:187,column:4},end:{line:218,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:218,column:5}},{start:{line:208,column:11},end:{line:218,column:5}}],line:187},35:{loc:{start:{line:188,column:6},end:{line:207,column:7}},type:"if",locations:[{start:{line:188,column:6},end:{line:207,column:7}},{start:{line:197,column:13},end:{line:207,column:7}}],line:188},36:{loc:{start:{line:194,column:57},end:{line:194,column:109}},type:"binary-expr",locations:[{start:{line:194,column:57},end:{line:194,column:64}},{start:{line:194,column:68},end:{line:194,column:109}}],line:194},37:{loc:{start:{line:214,column:42},end:{line:214,column:103}},type:"binary-expr",locations:[{start:{line:214,column:42},end:{line:214,column:58}},{start:{line:214,column:62},end:{line:214,column:103}}],line:214},38:{loc:{start:{line:215,column:43},end:{line:215,column:104}},type:"binary-expr",locations:[{start:{line:215,column:43},end:{line:215,column:59}},{start:{line:215,column:63},end:{line:215,column:104}}],line:215},39:{loc:{start:{line:229,column:22},end:{line:229,column:132}},type:"cond-expr",locations:[{start:{line:229,column:74},end:{line:229,column:101}},{start:{line:229,column:104},end:{line:229,column:132}}],line:229},40:{loc:{start:{line:231,column:4},end:{line:295,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:295,column:5}},{start:{line:248,column:11},end:{line:295,column:5}}],line:231},41:{loc:{start:{line:248,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:248,column:11},end:{line:295,column:5}},{start:{line:264,column:11},end:{line:295,column:5}}],line:248},42:{loc:{start:{line:264,column:11},end:{line:295,column:5}},type:"if",locations:[{start:{line:264,column:11},end:{line:295,column:5}},{start:{line:280,column:11},end:{line:295,column:5}}],line:264}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0,0,0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldFunction.tsx"],names:[],mappings:"AAkVQ;AAlVR,OAAO,WAAW;AAElB,OAAO,kBAAkB;AACzB,OAAO,kBAA4B;AACnC,OAAO,kBAAkB;AACzB,OAAO,wBAAwB;AAC/B,SAAQ,YAAY,qBAAoB;AACxC,SAAQ,2BAA0B;AAGlC,SAAS,oBAAoB,OAAY;AACvC,SAAQ,MAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM;AACrE;AAEA,SAAS,gBAAgB,OAAY;AACnC,SACE,MAAM,QAAQ,KAAK,KACnB,MAAM,WAAW,KACjB,MAAM,CAAC,MAAM;AAEjB;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,SAAS,KACrB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW;AAAA,EAEpB,CAAC;AAEL;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SAAS,cACf,OAAO,UAAU,eAAe,KAAK,OAAO,UAAU;AAE1D;AAEA,SAAS,mBAAmB,OAAY;AACtC,SACE,OAAO,UAAW,YAClB,MAAM,SACN,OAAO,MAAM,aAAc,eAC3B,MAAM,MAAM,SAAS,KACrB,MAAM,QAAQ,MAAM,KAAK,KACzB,MAAM,MAAM,MAAM,CAAC,SAAe;AAChC,WACE,MAAM,QAAQ,IAAI,KAClB,KAAK,WAAW,KAChB,OAAO,KAAK,CAAC,MAAO;AAAA,EAExB,CAAC;AAEL;AAEA,SAAS,YAAY,OAAY;AAC/B,SACE,mBAAmB,KAAK,KACxB,mBAAmB,KAAK;AAE5B;AAEA,SAAS,YAAY,OAAgD;AACnE,QAAM,QAAQ,CAAC,UAAU,WAAW,QAAQ;AAC5C,SAAO,MAAM,SAAS,OAAO,KAAM;AACrC;AAEA,SAAS,oBAAoB,QAAyD;AACpF,MAAI,MAAM,QAAQ,MAAM,GAAG;AACzB,WAAO,OAAO,MAAM,WAAW;AAAA,EACjC;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAY,YAAU,CAAC,GAAU;AACpD,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,UAAU,SAAS,WAAW,oBAAoB,KAAK,GAAG;AACjE,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,WACS,YAAY,KAAK,GAAG;AAC3B,WAAO;AAAA,EACT,OACK;AACH,WAAO;AAAA,EACT;AACF;AAoBA,qBAAqB,sBAAsB,MAAM,UAAkD;AAAA,EACjG,YAAa,OAA2B;AACtC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MAClD,WAAW;AAAA,IACb;AAAA,EACF;AAAA,EAEA,OAAO,yBAAyB,OAA2B,OAA2B;AAEpF,QAAI,MAAM,WAAW;AACnB,aAAO,CAAC;AAAA,IACV,OACK;AACH,aAAO;AAAA,QACL,WAAW;AAAA,QACX,UAAU,YAAY,MAAM,OAAO,MAAM,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA,EAEA,qBAAqB,WAAgB;AACnC,QAAI,UAAU,WAAW,cAAc;AACrC,aAAO;AAAA,IACT;AACA,QAAI,UAAU,SAAS,UAAU;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,QAAI,OAAO,SAAS,CAAC,MAAM,UAAU;AACnC,YAAM,KAAK;AAAA,QACT,EAAC,MAAM,SAAS,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,CAAC,EAAE,MAAK;AAAA,QACrD,SAAS,CAAC;AAAA,MACZ,CAAC;AAAA,IACH,OACK;AACH,YAAM,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;AAAA,IAC3C;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,WAAW,UAAS,IAAI,KAAK;AACpC,SAAK,MAAM,SAAS,WAAW,UAAU,OAAO;AAChD,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,aAAa,CAAC,YAAoB;AAChC,UAAM,QAAQ,KAAK,MAAM,MAAM,MAAM,MAAM,CAAC;AAC5C,UAAM,OAAO,SAAS,CAAC;AAEvB,QAAI,eAAe;AAAA,MACjB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF;AAEA,QAAG,MAAM,WAAW,GAAG;AACrB,qBAAe,MAAM,CAAC,EAAE,CAAC;AAAA,IAC3B;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,YAAY;AAAA,EACxD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,EAAC,MAAK,IAAI,KAAK;AAErB,QAAI;AACJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,KAAK,CAAC,EAAE,MAAM,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC5E,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YAC7C,CAAC,IAAI,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAChD;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,OAAO;AAAA,UACL,CAAC,GAAG,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACtD,CAAC,IAAI,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAEhC,QAAI,gBAAgB,KAAK,GAAG;AAC1B,WAAK,MAAM,SAAS,WAAW;AAAA,QAC7B,QAAQ;AAAA,QACR,YAAY,MAAM,CAAC;AAAA,MACrB,CAAC;AACD,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH,WACS,oBAAoB,KAAK,GAAG;AACnC,WAAK,MAAM,SAAS,WAAW,MAAM,CAAC,CAAC;AACvC,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,UAAU,MAAM;AACd,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,WACE,gBAAgB,KAAK,KACrB,oBAAoB,KAAK,KACzB,YAAY,KAAK,KAChB,MAAM,QAAQ,KAAK,KAAK,UAAU,SAAS;AAAA,EAEhD;AAAA,EAEA,iBAAiB,MAAM;AACrB,UAAM,EAAC,OAAO,UAAS,IAAI,KAAK;AAChC,QAAI;AAEJ,QAAI,OAAO,UAAW,YAAY,WAAW,OAAO;AAClD,mBAAa,cAAc,gBAAgB,OAAO,SAAS;AAAA,IAC7D,WACS,mBAAmB,KAAK,GAAG;AAClC,mBAAa,CAAC,OAAO,MAAM,QAAQ;AAAA,IACrC,OACK;AACH,mBAAa,CAAC,WAAW,SAAS,KAAK,MAAM,UAAU,OAAO;AAAA,IAChE;AACA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,UAAU;AAAA,EACtD;AAAA,EAEA,mBAAmB,MAAM;AACvB,UAAM,eAAe,KAAK,qBAAqB,KAAK,MAAM,SAAS;AACnE,UAAM,YAAY,iBAAiB,gBAAgB,KAAK;AACxD,UAAM,EAAC,MAAK,IAAI,KAAK;AACrB,QAAI;AAEJ,QAAI,OAAO,UAAW,UAAU;AAC9B,UAAI,MAAM,OAAO;AACf,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM,MAAM,IAAI,CAAC,SAAe;AACrC,mBAAO,CAAC,EAAC,MAAM,KAAK,CAAC,GAAG,OAAO,UAAS,GAAG,KAAK,CAAC,KAAK,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UACjG,CAAC;AAAA,QACH;AAAA,MACF,OACK;AACH,mBAAW;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,MAAM,MAAM;AAAA,UACZ,OAAO;AAAA,YACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,YACvE,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC1E;AAAA,QACF;AAAA,MACF;AAAA,IACF,OACK;AACH,iBAAW;AAAA,QACT,UAAU;AAAA,QACV,MAAM;AAAA,QACN,MAAM,MAAM;AAAA,QACZ,OAAO;AAAA,UACL,CAAC,EAAC,MAAM,GAAG,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,UAC3F,CAAC,EAAC,MAAM,IAAI,OAAO,UAAS,GAAG,KAAK,MAAM,SAAS,oBAAoB,KAAK,MAAM,SAAS,CAAC;AAAA,QAC9F;AAAA,MACF;AAAA,IACF;AAEA,SAAK,MAAM,SAAS,KAAK,MAAM,WAAW,QAAQ;AAAA,EACpD;AAAA,EAEA,gBAAgB,MAAM;AACpB,SAAK,SAAS,EAAC,WAAW,KAAI,CAAC;AAAA,EACjC;AAAA,EAEA,kBAAkB,MAAM;AACtB,SAAK,SAAS,EAAC,WAAW,MAAK,CAAC;AAAA,EAClC;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,SAAQ,IAAI,KAAK;AACxB,UAAM,YAAY,KAAK,MAAM,UAAU,YAAY,KAAK,MAAM,QAAQ,8BAA8B;AACpG,QAAI;AAEJ,QAAI,aAAa,cAAc;AAC7B,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,MAAM,KAAK,MAAM,SAAS;AAAA,UAC7D,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA,UACb,UAAU,KAAK;AAAA,UACf,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,SAAS,KAAK;AAAA,UACd,QAAQ,KAAK;AAAA;AAAA,MACf;AAAA,IAEJ,WACS,aAAa,iBAAiB;AACrC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,WACS,aAAa,iBAAiB;AAErC,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,cAAc,KAAK;AAAA,UACnB,WAAW,KAAK;AAAA,UAChB,wBAAwB,KAAK;AAAA,UAC7B,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ,OACK;AACH,kBACE;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,KAAK,MAAM;AAAA,UACnB,UAAU,KAAK,MAAM,SAAS,KAAK,IAAI;AAAA,UACvC,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,WAAW,KAAK,MAAM;AAAA,UACtB,OAAO,KAAK,MAAM;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,aAAa,KAAK;AAAA,UAClB,mBAAmB,KAAK;AAAA;AAAA,MAC1B;AAAA,IAEJ;AACA,WAAO,oBAAC,SAAI,WAAW,WAAW,eAAa,0BAAwB,KAAK,MAAM,WAC/E,qBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"435f90d980cace940b69ce8c0aa30d2fab175109"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return dt=function(){return a},a}dt();function ND(e){return dt().f[0]++,dt().s[0]++,dt().b[0][0]++,Array.isArray(e)&&(dt().b[0][1]++,e.length===2)&&(dt().b[0][2]++,e[0]==="literal")}function GD(e){return dt().f[1]++,dt().s[1]++,dt().b[1][0]++,Array.isArray(e)&&(dt().b[1][1]++,e.length===2)&&(dt().b[1][2]++,e[0]==="get")}function f7e(e){return dt().f[2]++,dt().s[2]++,dt().b[2][0]++,typeof e=="object"&&(dt().b[2][1]++,e.stops)&&(dt().b[2][2]++,typeof e.property>"u")&&(dt().b[2][3]++,Array.isArray(e.stops))&&(dt().b[2][4]++,e.stops.length>1)&&(dt().b[2][5]++,e.stops.every(t=>(dt().f[3]++,dt().s[3]++,dt().b[3][0]++,Array.isArray(t)&&(dt().b[3][1]++,t.length===2))))}function oQ(e){return dt().f[4]++,dt().s[4]++,dt().b[4][0]++,typeof e=="object"&&(dt().b[4][1]++,e.type==="identity")&&(dt().b[4][2]++,Object.prototype.hasOwnProperty.call(e,"property"))}function p7e(e){return dt().f[5]++,dt().s[5]++,dt().b[5][0]++,typeof e=="object"&&(dt().b[5][1]++,e.stops)&&(dt().b[5][2]++,typeof e.property<"u")&&(dt().b[5][3]++,e.stops.length>1)&&(dt().b[5][4]++,Array.isArray(e.stops))&&(dt().b[5][5]++,e.stops.every(t=>(dt().f[6]++,dt().s[6]++,dt().b[6][0]++,Array.isArray(t)&&(dt().b[6][1]++,t.length===2)&&(dt().b[6][2]++,typeof t[0]=="object"))))}function m7e(e){return dt().f[7]++,dt().s[7]++,dt().b[7][0]++,oQ(e)||(dt().b[7][1]++,p7e(e))}function gk(e){dt().f[8]++;const t=(dt().s[8]++,["string","boolean","number"]);return dt().s[9]++,t.includes(typeof e)}function g7e(e){return dt().f[9]++,dt().s[10]++,Array.isArray(e)?(dt().b[8][0]++,dt().s[11]++,e.every(gk)):(dt().b[8][1]++,dt().s[12]++,!1)}function $D(e,t=(dt().b[9][0]++,{})){return dt().f[10]++,dt().s[13]++,e===void 0?(dt().b[10][0]++,dt().s[14]++,"value"):(dt().b[10][1]++,dt().s[15]++,gk(e)?(dt().b[11][0]++,dt().s[16]++,"value"):(dt().b[11][1]++,dt().s[17]++,dt().b[13][0]++,t.type==="array"&&(dt().b[13][1]++,g7e(e))?(dt().b[12][0]++,dt().s[18]++,"value"):(dt().b[12][1]++,dt().s[19]++,f7e(e)?(dt().b[14][0]++,dt().s[20]++,"zoom_function"):(dt().b[14][1]++,dt().s[21]++,m7e(e)?(dt().b[15][0]++,dt().s[22]++,"data_function"):(dt().b[15][1]++,dt().s[23]++,"expression")))))}class y7e extends Mn.Component{constructor(n){dt().f[11]++,dt().s[24]++;super(n);on(this,"addStop",(dt().s[34]++,()=>{dt().f[14]++;const n=(dt().s[35]++,this.props.value.stops.slice(0)),r=(dt().s[36]++,n[n.length-1]);dt().s[37]++,typeof r[0]=="object"?(dt().b[19][0]++,dt().s[38]++,n.push([{zoom:r[0].zoom+1,value:r[0].value},r[1]])):(dt().b[19][1]++,dt().s[39]++,n.push([r[0]+1,r[1]]));const i=(dt().s[40]++,{...this.props.value,stops:n});dt().s[41]++,this.props.onChange(this.props.fieldName,i)}));on(this,"deleteExpression",(dt().s[42]++,()=>{dt().f[15]++;const{fieldSpec:n,fieldName:r}=(dt().s[43]++,this.props);dt().s[44]++,this.props.onChange(r,n.default),dt().s[45]++,this.setState({dataType:"value"})}));on(this,"deleteStop",(dt().s[46]++,n=>{dt().f[16]++;const r=(dt().s[47]++,this.props.value.stops.slice(0));dt().s[48]++,r.splice(n,1);let i=(dt().s[49]++,{...this.props.value,stops:r});dt().s[50]++,r.length===1?(dt().b[20][0]++,dt().s[51]++,i=r[0][1]):dt().b[20][1]++,dt().s[52]++,this.props.onChange(this.props.fieldName,i)}));on(this,"makeZoomFunction",(dt().s[53]++,()=>{dt().f[17]++;const{value:n}=(dt().s[54]++,this.props);let r;dt().s[55]++,typeof n=="object"?(dt().b[21][0]++,dt().s[56]++,n.stops?(dt().b[22][0]++,dt().s[57]++,r={base:n.base,stops:n.stops.map(i=>(dt().f[18]++,dt().s[58]++,[i[0].zoom,(dt().b[23][0]++,i[1]||(dt().b[23][1]++,Bd(this.props.fieldSpec)))]))}):(dt().b[22][1]++,dt().s[59]++,r={base:n.base,stops:[[6,Bd(this.props.fieldSpec)],[10,Bd(this.props.fieldSpec)]]})):(dt().b[21][1]++,dt().s[60]++,r={stops:[[6,(dt().b[24][0]++,n||(dt().b[24][1]++,Bd(this.props.fieldSpec)))],[10,(dt().b[25][0]++,n||(dt().b[25][1]++,Bd(this.props.fieldSpec)))]]}),dt().s[61]++,this.props.onChange(this.props.fieldName,r)}));on(this,"undoExpression",(dt().s[62]++,()=>{dt().f[19]++;const{value:n,fieldName:r}=(dt().s[63]++,this.props);dt().s[64]++,GD(n)?(dt().b[26][0]++,dt().s[65]++,this.props.onChange(r,{type:"identity",property:n[1]}),dt().s[66]++,this.setState({dataType:"value"})):(dt().b[26][1]++,dt().s[67]++,ND(n)?(dt().b[27][0]++,dt().s[68]++,this.props.onChange(r,n[1]),dt().s[69]++,this.setState({dataType:"value"})):dt().b[27][1]++)}));on(this,"canUndo",(dt().s[70]++,()=>{dt().f[20]++;const{value:n,fieldSpec:r}=(dt().s[71]++,this.props);return dt().s[72]++,dt().b[28][0]++,GD(n)||(dt().b[28][1]++,ND(n))||(dt().b[28][2]++,gk(n))||(dt().b[28][3]++,Array.isArray(n)&&(dt().b[28][4]++,r.type==="array"))}));on(this,"makeExpression",(dt().s[73]++,()=>{dt().f[21]++;const{value:n,fieldSpec:r}=(dt().s[74]++,this.props);let i;dt().s[75]++,dt().b[30][0]++,typeof n=="object"&&(dt().b[30][1]++,"stops"in n)?(dt().b[29][0]++,dt().s[76]++,i=rte.convertFunction(n,r)):(dt().b[29][1]++,dt().s[77]++,oQ(n)?(dt().b[31][0]++,dt().s[78]++,i=["get",n.property]):(dt().b[31][1]++,dt().s[79]++,i=["literal",(dt().b[32][0]++,n||(dt().b[32][1]++,this.props.fieldSpec.default))])),dt().s[80]++,this.props.onChange(this.props.fieldName,i)}));on(this,"makeDataFunction",(dt().s[81]++,()=>{dt().f[22]++;const n=(dt().s[82]++,this.getFieldFunctionType(this.props.fieldSpec)),r=(dt().s[83]++,n==="categorical"?(dt().b[33][0]++,""):(dt().b[33][1]++,0)),{value:i}=(dt().s[84]++,this.props);let o;dt().s[85]++,typeof i=="object"?(dt().b[34][0]++,dt().s[86]++,i.stops?(dt().b[35][0]++,dt().s[87]++,o={property:"",type:n,base:i.base,stops:i.stops.map(a=>(dt().f[23]++,dt().s[88]++,[{zoom:a[0],value:r},(dt().b[36][0]++,a[1]||(dt().b[36][1]++,Bd(this.props.fieldSpec)))]))}):(dt().b[35][1]++,dt().s[89]++,o={property:"",type:n,base:i.base,stops:[[{zoom:6,value:r},Bd(this.props.fieldSpec)],[{zoom:10,value:r},Bd(this.props.fieldSpec)]]})):(dt().b[34][1]++,dt().s[90]++,o={property:"",type:n,base:i.base,stops:[[{zoom:6,value:r},(dt().b[37][0]++,this.props.value||(dt().b[37][1]++,Bd(this.props.fieldSpec)))],[{zoom:10,value:r},(dt().b[38][0]++,this.props.value||(dt().b[38][1]++,Bd(this.props.fieldSpec)))]]}),dt().s[91]++,this.props.onChange(this.props.fieldName,o)}));on(this,"onMarkEditing",(dt().s[92]++,()=>{dt().f[24]++,dt().s[93]++,this.setState({isEditing:!0})}));on(this,"onUnmarkEditing",(dt().s[94]++,()=>{dt().f[25]++,dt().s[95]++,this.setState({isEditing:!1})}));dt().s[25]++,this.state={dataType:$D(n.value,n.fieldSpec),isEditing:!1}}static getDerivedStateFromProps(n,r){return dt().f[12]++,dt().s[26]++,r.isEditing?(dt().b[16][0]++,dt().s[27]++,{}):(dt().b[16][1]++,dt().s[28]++,{isEditing:!1,dataType:$D(n.value,n.fieldSpec)})}getFieldFunctionType(n){return dt().f[13]++,dt().s[29]++,n.expression.interpolated?(dt().b[17][0]++,dt().s[30]++,"exponential"):(dt().b[17][1]++,dt().s[31]++,n.type==="number"?(dt().b[18][0]++,dt().s[32]++,"interval"):(dt().b[18][1]++,dt().s[33]++,"categorical"))}render(){dt().f[26]++;const{dataType:n}=(dt().s[96]++,this.state),r=(dt().s[97]++,this.props.fieldSpec.default===this.props.value?(dt().b[39][0]++,"maputnik-default-property"):(dt().b[39][1]++,"maputnik-modified-property"));let i;return dt().s[98]++,n==="expression"?(dt().b[40][0]++,dt().s[99]++,i=G.jsx(RI,{errors:this.props.errors,onChange:this.props.onChange.bind(this,this.props.fieldName),canUndo:this.canUndo,onUndo:this.undoExpression,onDelete:this.deleteExpression,fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onFocus:this.onMarkEditing,onBlur:this.onUnmarkEditing})):(dt().b[40][1]++,dt().s[100]++,n==="zoom_function"?(dt().b[41][0]++,dt().s[101]++,i=G.jsx(iQ,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToDataFunction:this.makeDataFunction,onExpressionClick:this.makeExpression})):(dt().b[41][1]++,dt().s[102]++,n==="data_function"?(dt().b[42][0]++,dt().s[103]++,i=G.jsx(h7e,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onDeleteStop:this.deleteStop,onAddStop:this.addStop,onChangeToZoomFunction:this.makeZoomFunction,onExpressionClick:this.makeExpression})):(dt().b[42][1]++,dt().s[104]++,i=G.jsx(tQ,{errors:this.props.errors,onChange:this.props.onChange.bind(this),fieldType:this.props.fieldType,fieldName:this.props.fieldName,fieldSpec:this.props.fieldSpec,value:this.props.value,onZoomClick:this.makeZoomFunction,onDataClick:this.makeDataFunction,onExpressionClick:this.makeExpression})))),dt().s[105]++,G.jsx("div",{className:r,"data-wd-key":"spec-field-container:"+this.props.fieldName,children:i})}}function Bi(){var e="/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",t="411d3be261f729b266d6cb26884b34616b925c83",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx",statementMap:{0:{start:{line:4,column:23},end:{line:4,column:117}},1:{start:{line:6,column:20},end:{line:6,column:60}},2:{start:{line:7,column:16},end:{line:7,column:49}},3:{start:{line:8,column:20},end:{line:8,column:36}},4:{start:{line:9,column:2},end:{line:14,column:3}},5:{start:{line:10,column:4},end:{line:13,column:6}},6:{start:{line:15,column:2},end:{line:20,column:3}},7:{start:{line:16,column:4},end:{line:19,column:6}},8:{start:{line:21,column:2},end:{line:21,column:19}},9:{start:{line:24,column:16},end:{line:24,column:48}},10:{start:{line:25,column:2},end:{line:29,column:3}},11:{start:{line:26,column:4},end:{line:26,column:19}},12:{start:{line:28,column:4},end:{line:28,column:20}},13:{start:{line:32,column:21},end:{line:35,column:3}},14:{start:{line:33,column:18},end:{line:33,column:80}},15:{start:{line:34,column:4},end:{line:34,column:51}},16:{start:{line:37,column:23},end:{line:37,column:33}},17:{start:{line:38,column:19},end:{line:56,column:6}},18:{start:{line:39,column:24},end:{line:39,column:87}},19:{start:{line:40,column:20},end:{line:40,column:48}},20:{start:{line:41,column:21},end:{line:41,column:50}},21:{start:{line:42,column:25},end:{line:42,column:82}},22:{start:{line:43,column:24},end:{line:43,column:63}},23:{start:{line:44,column:6},end:{line:55,column:8}},24:{start:{line:57,column:4},end:{line:57,column:98}}},fnMap:{0:{name:"getFieldSpec",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:50},end:{line:22,column:1}},line:5},1:{name:"getGroupName",decl:{start:{line:23,column:9},end:{line:23,column:21}},loc:{start:{line:23,column:50},end:{line:30,column:1}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:45},end:{line:35,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:58,column:3}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:38,column:46},end:{line:38,column:47}},loc:{start:{line:38,column:61},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:9,column:2},end:{line:14,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:14,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:15,column:2},end:{line:20,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:20,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:24,column:16},end:{line:24,column:48}},type:"binary-expr",locations:[{start:{line:24,column:16},end:{line:24,column:42}},{start:{line:24,column:46},end:{line:24,column:48}}],line:24},3:{loc:{start:{line:25,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:29,column:3}},{start:{line:27,column:9},end:{line:29,column:3}}],line:25},4:{loc:{start:{line:40,column:20},end:{line:40,column:48}},type:"binary-expr",locations:[{start:{line:40,column:20},end:{line:40,column:42}},{start:{line:40,column:46},end:{line:40,column:48}}],line:40},5:{loc:{start:{line:41,column:21},end:{line:41,column:50}},type:"binary-expr",locations:[{start:{line:41,column:21},end:{line:41,column:44}},{start:{line:41,column:48},end:{line:41,column:50}}],line:41},6:{loc:{start:{line:42,column:25},end:{line:42,column:82}},type:"cond-expr",locations:[{start:{line:42,column:46},end:{line:42,column:62}},{start:{line:42,column:65},end:{line:42,column:82}}],line:42},7:{loc:{start:{line:43,column:24},end:{line:43,column:63}},type:"cond-expr",locations:[{start:{line:43,column:45},end:{line:43,column:52}},{start:{line:43,column:55},end:{line:43,column:63}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/PropertyGroup.tsx"],names:[],mappings:"AA+Da;AA/Db,OAAO,WAAW;AAElB,OAAO,mBAAmB;AAG1B,MAAM,iBAAiB,CAAC,sBAAsB,gBAAgB,gBAAgB,0BAA0B,YAAY;AAIpH,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,YAAY,aAAa,MAAM,WAAW,SAAS;AACzD,QAAM,QAAQ,KAAK,YAAY,MAAM,SAAS;AAC9C,QAAM,YAAY,MAAM,SAAS;AACjC,MAAG,eAAe,QAAQ,SAAS,KAAK,GAAG;AACzC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,MAAG,cAAc,aAAa;AAC5B,WAAO;AAAA,MACL,GAAG;AAAA,MACH,QAAQ,KAAK,MAAM,OAAO;AAAA,IAC5B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,aAAa,MAAW,WAAuC,WAAmB;AACzF,QAAM,QAAS,KAAK,WAAW,SAAS,KAAK,CAAC;AAC9C,MAAI,aAAa,OAAO;AACtB,WAAO;AAAA,EACT,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAUA,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,mBAAmB,CAAC,UAAkB,aAAkB;AACtD,UAAM,QAAQ,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,QAAQ;AAC3E,SAAK,MAAM,SAAS,OAAO,UAAU,QAAQ;AAAA,EAC/C;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,OAAM,IAAI,KAAK;AACtB,UAAM,SAAS,KAAK,MAAM,YAAY,IAAI,eAAa;AACrD,YAAM,YAAY,aAAa,KAAK,MAAM,MAAM,KAAK,MAAM,MAAM,MAAM,SAAS;AAEhF,YAAM,QAAQ,KAAK,MAAM,MAAM,SAAS,CAAC;AACzC,YAAM,SAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAC3C,YAAM,aAAa,aAAa,QAC5B,MAAM,SAA+B,IACrC,OAAO,SAAgC;AAC3C,YAAM,YAAY,aAAa,QAAQ,UAAU;AAEjD,aAAO;AAAA,QAAC;AAAA;AAAA,UACN;AAAA,UACA,UAAU,KAAK;AAAA,UAEf;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA;AAAA,QAJK;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,2BACnB,kBACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"411d3be261f729b266d6cb26884b34616b925c83"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Bi=function(){return a},a}Bi();const v7e=(Bi().s[0]++,["background-pattern","fill-pattern","line-pattern","fill-extrusion-pattern","icon-image"]);function _7e(e,t,n){Bi().f[0]++;const r=(Bi().s[1]++,aQ(e,t,n)),i=(Bi().s[2]++,e[r+"_"+t]),o=(Bi().s[3]++,i[n]);return Bi().s[4]++,v7e.indexOf(n)>=0?(Bi().b[0][0]++,Bi().s[5]++,{...o,values:e.$root.sprite.values}):(Bi().b[0][1]++,Bi().s[6]++,n==="text-font"?(Bi().b[1][0]++,Bi().s[7]++,{...o,values:e.$root.glyphs.values}):(Bi().b[1][1]++,Bi().s[8]++,o))}function aQ(e,t,n){Bi().f[1]++;const r=(Bi().s[9]++,Bi().b[2][0]++,e["paint_"+t]||(Bi().b[2][1]++,{}));return Bi().s[10]++,n in r?(Bi().b[3][0]++,Bi().s[11]++,"paint"):(Bi().b[3][1]++,Bi().s[12]++,"layout")}class C7e extends Mn.Component{constructor(){super(...arguments);on(this,"onPropertyChange",(Bi().s[13]++,(n,r)=>{Bi().f[2]++;const i=(Bi().s[14]++,aQ(this.props.spec,this.props.layer.type,n));Bi().s[15]++,this.props.onChange(i,n,r)}))}render(){Bi().f[3]++;const{errors:n}=(Bi().s[16]++,this.props),r=(Bi().s[17]++,this.props.groupFields.map(i=>{Bi().f[4]++;const o=(Bi().s[18]++,_7e(this.props.spec,this.props.layer.type,i)),a=(Bi().s[19]++,Bi().b[4][0]++,this.props.layer.paint||(Bi().b[4][1]++,{})),s=(Bi().s[20]++,Bi().b[5][0]++,this.props.layer.layout||(Bi().b[5][1]++,{})),h=(Bi().s[21]++,i in a?(Bi().b[6][0]++,a[i]):(Bi().b[6][1]++,s[i])),g=(Bi().s[22]++,i in a?(Bi().b[7][0]++,"paint"):(Bi().b[7][1]++,"layout"));return Bi().s[23]++,G.jsx(y7e,{errors:n,onChange:this.onPropertyChange,fieldName:i,value:h,fieldType:g,fieldSpec:o},i)}));return Bi().s[24]++,G.jsx("div",{className:"maputnik-property-group",children:r})}}var b7e=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(r,i,o){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var a in r)n.d(o,a,(function(s){return r[s]}).bind(null,a));return o},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,"a",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p="",n(n.s=2)}([function(e,t){e.exports=Fh},function(e,t){e.exports=Ir},function(e,t,n){n.r(t);var r=n(1),i=n(0),o=function(){return(o=Object.assign||function(D){for(var Y,ee=1,H=arguments.length;ee<H;ee++)for(var N in Y=arguments[ee])Object.prototype.hasOwnProperty.call(Y,N)&&(D[N]=Y[N]);return D}).apply(this,arguments)},a=function(D,Y){var ee={};for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&Y.indexOf(H)<0&&(ee[H]=D[H]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(H=Object.getOwnPropertySymbols(D);N<H.length;N++)Y.indexOf(H[N])<0&&Object.prototype.propertyIsEnumerable.call(D,H[N])&&(ee[H[N]]=D[H[N]])}return ee},s=0,h=r.forwardRef(function(D,Y){var ee=D.title,H=ee===void 0?null:ee,N=D.description,Z=N===void 0?null:N,ue=D.size,ye=ue===void 0?null:ue,be=D.color,X=be===void 0?"currentColor":be,se=D.horizontal,we=se===void 0?null:se,xe=D.vertical,De=xe===void 0?null:xe,Fe=D.rotate,he=Fe===void 0?null:Fe,Qe=D.spin,ge=Qe===void 0?null:Qe,yt=D.style,wt=yt===void 0?{}:yt,st=D.children,mt=a(D,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);s++;var ze,He=ge!==null&&ge,Ve=r.Children.map(st,function($t){var Qt=$t;He!==!0&&(He=(ge===null?Qt.props.spin:ge)===!0);var ke=Qt.props.size;typeof ye=="number"&&typeof Qt.props.size=="number"&&(ke=Qt.props.size/ye);var pe={size:ke,color:X===null?Qt.props.color:X,horizontal:we===null?Qt.props.horizontal:we,vertical:De===null?Qt.props.vertical:De,rotate:he===null?Qt.props.rotate:he,spin:ge===null?Qt.props.spin:ge,inStack:!0};return r.cloneElement(Qt,pe)});ye!==null&&(wt.width=typeof ye=="string"?ye:1.5*ye+"rem");var Vt,Yt="stack_labelledby_"+s,vt="stack_describedby_"+s;if(H)ze=Z?Yt+" "+vt:Yt;else if(Vt="presentation",Z)throw new Error("title attribute required when description is set");return r.createElement("svg",o({ref:Y,viewBox:"0 0 24 24",style:wt,role:Vt,"aria-labelledby":ze},mt),H&&r.createElement("title",{id:Yt},H),Z&&r.createElement("desc",{id:vt},Z),He&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),Ve)});h.displayName="Stack",h.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},h.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var g=h;n.d(t,"Icon",function(){return K}),n.d(t,"Stack",function(){return g});var _=function(){return(_=Object.assign||function(D){for(var Y,ee=1,H=arguments.length;ee<H;ee++)for(var N in Y=arguments[ee])Object.prototype.hasOwnProperty.call(Y,N)&&(D[N]=Y[N]);return D}).apply(this,arguments)},E=function(D,Y){var ee={};for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&Y.indexOf(H)<0&&(ee[H]=D[H]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(H=Object.getOwnPropertySymbols(D);N<H.length;N++)Y.indexOf(H[N])<0&&Object.prototype.propertyIsEnumerable.call(D,H[N])&&(ee[H[N]]=D[H[N]])}return ee},O=0,K=r.forwardRef(function(D,Y){var ee=D.path,H=D.id,N=H===void 0?++O:H,Z=D.title,ue=Z===void 0?null:Z,ye=D.description,be=ye===void 0?null:ye,X=D.size,se=X===void 0?null:X,we=D.color,xe=we===void 0?"currentColor":we,De=D.horizontal,Fe=De!==void 0&&De,he=D.vertical,Qe=he!==void 0&&he,ge=D.rotate,yt=ge===void 0?0:ge,wt=D.spin,st=wt!==void 0&&wt,mt=D.style,ze=mt===void 0?{}:mt,He=D.inStack,Ve=He!==void 0&&He,Vt=E(D,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),Yt={},vt=[];se!==null&&(Ve?vt.push("scale("+se+")"):(ze.width=typeof se=="string"?se:1.5*se+"rem",ze.height=ze.width)),Fe&&vt.push("scaleX(-1)"),Qe&&vt.push("scaleY(-1)"),yt!==0&&vt.push("rotate("+yt+"deg)"),xe!==null&&(Yt.fill=xe);var $t=r.createElement("path",_({d:ee,style:Yt},Ve?Vt:{})),Qt=$t;vt.length>0&&(ze.transform=vt.join(" "),ze.transformOrigin="center",Ve&&(Qt=r.createElement("g",{style:ze},$t,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var ke,pe=Qt,Se=st===!0||typeof st!="number"?2:st,Re=!Ve&&(Fe||Qe);if(Se<0&&(Re=!Re),st&&(pe=r.createElement("g",{style:{animation:"spin"+(Re?"-inverse":"")+" linear "+Math.abs(Se)+"s infinite",transformOrigin:"center"}},Qt,!(Fe||Qe||yt!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),Ve)return pe;var it,ot="icon_labelledby_"+N,St="icon_describedby_"+N;if(ue)ke=be?ot+" "+St:ot;else if(it="presentation",be)throw new Error("title attribute required when description is set");return r.createElement("svg",_({ref:Y,viewBox:"0 0 24 24",style:ze,role:it,"aria-labelledby":ke},Vt),ue&&r.createElement("title",{id:ot},ue),be&&r.createElement("desc",{id:St},be),!Ve&&st&&(Re?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),pe)});K.displayName="Icon",K.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},K.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=K}]);const QD=Ba(b7e);function My(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",t="2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx",statementMap:{0:{start:{line:16,column:4},end:{line:45,column:9}},1:{start:{line:22,column:27},end:{line:22,column:74}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:11},end:{line:46,column:3}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:22,column:19},end:{line:22,column:20}},loc:{start:{line:22,column:27},end:{line:22,column:74}},line:22}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditorGroup.tsx"],names:[],mappings:"AA+BQ,SACE,KADF;AA/BR,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB;AAAA,EACE;AAAA,EACA;AAAA,OACK;AACP;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAaP,qBAAqB,yBAAyB,MAAM,UAAiC;AAAA,EACnF,SAAS;AACP,WAAO,qBAAC,iBAAc,MAAM,KAAK,MAAM,IACrC;AAAA;AAAA,QAAC;AAAA;AAAA,UAAqB,WAAU;AAAA,UAC9B,eAAa,wBAAsB,KAAK,MAAM,aAAa;AAAA,UAC3D,SAAS,QAAM,KAAK,MAAM,eAAe,CAAC,KAAK,MAAM,QAAQ;AAAA,UAE7D,+BAAC,uBAAoB,WAAU,uCAC7B;AAAA,gCAAC,UAAK,OAAO,EAAC,UAAU,EAAC,GAAI,eAAK,MAAM,OAAM;AAAA,YAC9C;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAM;AAAA,gBACN,MAAM;AAAA,gBACN,WAAU;AAAA;AAAA,YACZ;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA,oBAAC,sBACE,eAAK,MAAM,UACd;AAAA,OACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f1dde9b3c8e927b8e8868bcb310eb3d6a65eb08"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return My=function(){return a},a}My();class x7e extends Mn.Component{render(){return My().f[0]++,My().s[0]++,G.jsxs(SG,{uuid:this.props.id,children:[G.jsx(BG,{className:"maputnik-layer-editor-group","data-wd-key":"layer-editor-group:"+this.props["data-wd-key"],onClick:t=>(My().f[1]++,My().s[1]++,this.props.onActiveToggle(!this.props.isActive)),children:G.jsxs(X1e,{className:"maputnik-layer-editor-group__button",children:[G.jsx("span",{style:{flexGrow:1},children:this.props.title}),G.jsx(QD,{path:uge,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--up"}),G.jsx(QD,{path:lge,size:1,className:"maputnik-layer-editor-group__button__icon maputnik-layer-editor-group__button__icon--down"})]})}),G.jsx(nge,{children:this.props.children})]})}}function s5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",t="1854bc9345eba3b5ee508193a6378533df537e7e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMinZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1854bc9345eba3b5ee508193a6378533df537e7e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return s5=function(){return a},a}s5();class w7e extends Mn.Component{render(){return s5().f[0]++,s5().s[0]++,G.jsx(oa,{label:"Min Zoom",fieldSpec:no.layer.minzoom,error:this.props.error,"data-wd-key":"min-zoom",children:G.jsx(Qf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:no.layer.minzoom.minimum,max:no.layer.minzoom.maximum,default:no.layer.minzoom.minimum,"data-wd-key":"min-zoom.input"})})}}function l5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",t="8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx",statementMap:{0:{start:{line:8,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:11},end:{line:29,column:3}},line:7}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldMaxZoom.tsx"],names:[],mappings:"AAkBM;AAlBN,OAAO,WAAW;AAElB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QAAM,OAAO;AAAA,QAAY,WAAW,OAAO,MAAM;AAAA,QACvD,OAAO,KAAK,MAAM;AAAA,QAClB,eAAY;AAAA,QAEZ;AAAA,UAAC;AAAA;AAAA,YACC,YAAY;AAAA,YACZ,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,KAAK,OAAO,MAAM,QAAQ;AAAA,YAC1B,SAAS,OAAO,MAAM,QAAQ;AAAA,YAC9B,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fe5d5ad6dca587b5c71f117ffe8eb6be8e87fd7"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return l5=function(){return a},a}l5();class M7e extends Mn.Component{render(){return l5().f[0]++,l5().s[0]++,G.jsx(oa,{label:"Max Zoom",fieldSpec:no.layer.maxzoom,error:this.props.error,"data-wd-key":"max-zoom",children:G.jsx(Qf,{allowRange:!0,value:this.props.value,onChange:this.props.onChange,min:no.layer.maxzoom.minimum,max:no.layer.maxzoom.maximum,default:no.layer.maxzoom.maximum,"data-wd-key":"max-zoom.input"})})}}function wC(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",t="78f2f7c5d70fb12fc1126c8cf454a217776b6a18",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx",statementMap:{0:{start:{line:7,column:22},end:{line:9,column:5}},1:{start:{line:10,column:4},end:{line:28,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:29,column:3}},line:6}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldComment.tsx"],names:[],mappings:"AAuBM;AAvBN,OAAO,WAAW;AAElB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AAQxB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,SAAS;AACP,UAAM,YAAY;AAAA,MAChB,KAAK;AAAA,IACP;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA,eAAY;AAAA,QACZ,OAAO,KAAK,MAAM;AAAA,QAElB;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,KAAK,MAAM;AAAA,YACrB,SAAQ;AAAA,YACR,eAAY;AAAA;AAAA,QACd;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"78f2f7c5d70fb12fc1126c8cf454a217776b6a18"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return wC=function(){return a},a}wC();class S7e extends Mn.Component{render(){wC().f[0]++;const t=(wC().s[0]++,{doc:"Comments for the current layer. This is non-standard and not in the spec."});return wC().s[1]++,G.jsx(oa,{label:"Comments",fieldSpec:t,"data-wd-key":"layer-comment",error:this.props.error,children:G.jsx($d,{multi:!0,value:this.props.value,onChange:this.props.onChange,default:"Comment...","data-wd-key":"layer-comment.input"})})}}const E7e={groups:[{title:"Paint properties",type:"properties",fields:["line-opacity","line-color","line-width","line-offset","line-blur","line-dasharray","line-pattern","line-translate","line-translate-anchor","line-gap-width"]},{title:"Layout properties",type:"properties",fields:["line-cap","line-join","line-miter-limit","line-round-limit"]}]},O7e={groups:[{title:"Paint properties",type:"properties",fields:["background-color","background-pattern","background-opacity"]}]},B7e={groups:[{title:"Paint properties",type:"properties",fields:["fill-opacity","fill-color","fill-antialias","fill-outline-color","fill-pattern","fill-translate","fill-translate-anchor"]}]},I7e={groups:[{title:"Paint properties",type:"properties",fields:["circle-color","circle-opacity","circle-stroke-color","circle-stroke-opacity","circle-blur","circle-radius","circle-stroke-width","circle-pitch-scale","circle-translate","circle-translate-anchor","circle-pitch-alignment"]}]},k7e={groups:[{title:"General layout properties",type:"properties",fields:["symbol-placement","symbol-spacing","symbol-avoid-edges","symbol-z-order"]},{title:"Text layout properties",type:"properties",fields:["text-field","text-font","text-size","text-line-height","text-padding","text-allow-overlap","text-ignore-placement","text-pitch-alignment","text-rotation-alignment","text-max-width","text-letter-spacing","text-justify","text-anchor","text-max-angle","text-writing-mode","text-rotate","text-keep-upright","text-transform","text-offset","text-optional","text-variable-anchor","text-radial-offset"]},{title:"Icon layout properties",type:"properties",fields:["icon-image","icon-allow-overlap","icon-ignore-placement","icon-optional","icon-rotation-alignment","icon-size","icon-text-fit","icon-text-fit-padding","icon-rotate","icon-padding","icon-keep-upright","icon-offset","icon-anchor","icon-pitch-alignment"]},{title:"Text paint properties",type:"properties",fields:["text-color","text-opacity","text-halo-color","text-halo-width","text-halo-blur","text-translate","text-translate-anchor"]},{title:"Icon paint properties",type:"properties",fields:["icon-color","icon-opacity","icon-halo-color","icon-halo-width","icon-halo-blur","icon-translate","icon-translate-anchor"]}]},T7e={groups:[{title:"Paint properties",type:"properties",fields:["raster-opacity","raster-hue-rotate","raster-brightness-min","raster-brightness-max","raster-saturation","raster-contrast","raster-fade-duration","raster-resampling"]}]},P7e={groups:[{title:"Paint properties",type:"properties",fields:["hillshade-illumination-direction","hillshade-illumination-anchor","hillshade-exaggeration","hillshade-shadow-color","hillshade-highlight-color","hillshade-accent-color"]}]},K7e={groups:[{title:"Paint properties",type:"properties",fields:["heatmap-radius","heatmap-weight","heatmap-intensity","heatmap-opacity"]}]},D7e={groups:[]},x6={line:E7e,background:O7e,fill:B7e,"fill-extrusion":{groups:[{title:"Paint properties",type:"properties",fields:["fill-extrusion-opacity","fill-extrusion-color","fill-extrusion-translate","fill-extrusion-translate-anchor","fill-extrusion-pattern","fill-extrusion-height","fill-extrusion-base","fill-extrusion-vertical-gradient"]}]},circle:I7e,symbol:k7e,raster:T7e,hillshade:P7e,heatmap:K7e,invalid:D7e};function Sy(){var e="/home/runner/work/maputnik/maputnik/src/libs/format.ts",t="c45fbfac66e994b59070a295e5a7f219cd5d66ac",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/format.ts",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:50}}},fnMap:{0:{name:"formatLayerId",decl:{start:{line:1,column:16},end:{line:1,column:29}},loc:{start:{line:1,column:34},end:{line:3,column:1}},line:1}},branchMap:{0:{loc:{start:{line:2,column:9},end:{line:2,column:49}},type:"cond-expr",locations:[{start:{line:2,column:21},end:{line:2,column:37}},{start:{line:2,column:40},end:{line:2,column:49}}],line:2}},s:{0:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/format.ts"],names:[],mappings:"AAAO,gBAAS,cAAe,IAAwB;AACrD,SAAO,OAAO,KAAK,mBAAmB,IAAI,EAAE;AAC9C;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c45fbfac66e994b59070a295e5a7f219cd5d66ac"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Sy=function(){return a},a}Sy();function sQ(e){return Sy().f[0]++,Sy().s[0]++,e===""?(Sy().b[0][0]++,"[empty_string]"):(Sy().b[0][1]++,`'${e}'`)}function ln(){var e="/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",t="13cf530347fd66324a92f0d1d210d94f3d2129c4",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:54}},1:{start:{line:25,column:21},end:{line:28,column:3}},2:{start:{line:29,column:22},end:{line:32,column:3}},3:{start:{line:33,column:22},end:{line:36,column:3}},4:{start:{line:37,column:2},end:{line:37,column:100}},5:{start:{line:40,column:24},end:{line:47,column:3}},6:{start:{line:48,column:29},end:{line:50,column:3}},7:{start:{line:52,column:4},end:{line:52,column:17}},8:{start:{line:53,column:25},end:{line:53,column:27}},9:{start:{line:54,column:4},end:{line:56,column:7}},10:{start:{line:55,column:6},end:{line:55,column:39}},11:{start:{line:57,column:4},end:{line:57,column:34}},12:{start:{line:60,column:29},end:{line:60,column:54}},13:{start:{line:61,column:4},end:{line:65,column:7}},14:{start:{line:62,column:6},end:{line:64,column:7}},15:{start:{line:63,column:8},end:{line:63,column:45}},16:{start:{line:66,column:4},end:{line:68,column:6}},17:{start:{line:71,column:4},end:{line:76,column:6}},18:{start:{line:79,column:4},end:{line:82,column:6}},19:{start:{line:85,column:32},end:{line:88,column:5}},20:{start:{line:89,column:4},end:{line:91,column:7}},21:{start:{line:94,column:18},end:{line:94,column:20}},22:{start:{line:95,column:4},end:{line:97,column:5}},23:{start:{line:96,column:6},end:{line:96,column:62}},24:{start:{line:98,column:35},end:{line:98,column:45}},25:{start:{line:99,column:22},end:{line:99,column:24}},26:{start:{line:100,column:4},end:{line:106,column:7}},27:{start:{line:101,column:6},end:{line:105,column:7}},28:{start:{line:102,column:8},end:{line:104,column:10}},29:{start:{line:108,column:18},end:{line:108,column:34}},30:{start:{line:109,column:4},end:{line:111,column:5}},31:{start:{line:110,column:6},end:{line:110,column:63}},32:{start:{line:112,column:4},end:{line:215,column:5}},33:{start:{line:114,column:8},end:{line:178,column:13}},34:{start:{line:121,column:35},end:{line:121,column:112}},35:{start:{line:130,column:37},end:{line:133,column:15}},36:{start:{line:142,column:31},end:{line:142,column:69}},37:{start:{line:151,column:31},end:{line:151,column:75}},38:{start:{line:159,column:31},end:{line:159,column:70}},39:{start:{line:167,column:31},end:{line:167,column:70}},40:{start:{line:175,column:31},end:{line:175,column:104}},41:{start:{line:180,column:8},end:{line:188,column:16}},42:{start:{line:186,column:29},end:{line:186,column:67}},43:{start:{line:190,column:8},end:{line:199,column:10}},44:{start:{line:201,column:8},end:{line:212,column:10}},45:{start:{line:206,column:14},end:{line:209,column:16}},46:{start:{line:214,column:8},end:{line:214,column:49}},47:{start:{line:218,column:4},end:{line:221,column:7}},48:{start:{line:224,column:21},end:{line:224,column:23}},49:{start:{line:225,column:22},end:{line:225,column:43}},50:{start:{line:226,column:19},end:{line:243,column:6}},51:{start:{line:227,column:6},end:{line:227,column:70}},52:{start:{line:229,column:22},end:{line:229,column:52}},53:{start:{line:230,column:6},end:{line:230,column:29}},54:{start:{line:231,column:6},end:{line:242,column:8}},55:{start:{line:244,column:20},end:{line:244,column:49}},56:{start:{line:245,column:18},end:{line:270,column:5}},57:{start:{line:248,column:23},end:{line:248,column:71}},58:{start:{line:252,column:23},end:{line:252,column:68}},59:{start:{line:256,column:23},end:{line:256,column:80}},60:{start:{line:262,column:23},end:{line:262,column:41}},61:{start:{line:268,column:23},end:{line:268,column:40}},62:{start:{line:272,column:6},end:{line:272,column:30}},63:{start:{line:273,column:6},end:{line:273,column:26}},64:{start:{line:275,column:4},end:{line:314,column:6}},65:{start:{line:296,column:33},end:{line:296,column:42}},66:{start:{line:297,column:20},end:{line:297,column:174}}},fnMap:{0:{name:"getLayoutForType",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},1:{name:"layoutGroups",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:33},end:{line:38,column:1}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:41,column:20},end:{line:41,column:21}},loc:{start:{line:41,column:26},end:{line:42,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:43,column:21},end:{line:43,column:22}},loc:{start:{line:43,column:27},end:{line:44,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:28},end:{line:46,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:21},end:{line:58,column:3}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:54,column:48},end:{line:54,column:49}},loc:{start:{line:54,column:59},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:48},end:{line:69,column:3}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:61,column:54},end:{line:61,column:55}},loc:{start:{line:61,column:65},end:{line:65,column:5}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:20},end:{line:77,column:3}},line:70},10:{name:"(anonymous_10)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:44},end:{line:83,column:3}},line:78},11:{name:"(anonymous_11)",decl:{start:{line:84,column:2},end:{line:84,column:3}},loc:{start:{line:84,column:36},end:{line:92,column:3}},line:84},12:{name:"(anonymous_12)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:32},end:{line:216,column:3}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:100,column:19},end:{line:100,column:20}},loc:{start:{line:100,column:30},end:{line:106,column:5}},line:100},14:{name:"(anonymous_14)",decl:{start:{line:121,column:24},end:{line:121,column:25}},loc:{start:{line:121,column:35},end:{line:121,column:112}},line:121},15:{name:"(anonymous_15)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:37},end:{line:133,column:15}},line:130},16:{name:"(anonymous_16)",decl:{start:{line:142,column:24},end:{line:142,column:25}},loc:{start:{line:142,column:31},end:{line:142,column:69}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:151,column:24},end:{line:151,column:25}},loc:{start:{line:151,column:31},end:{line:151,column:75}},line:151},18:{name:"(anonymous_18)",decl:{start:{line:159,column:24},end:{line:159,column:25}},loc:{start:{line:159,column:31},end:{line:159,column:70}},line:159},19:{name:"(anonymous_19)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:31},end:{line:167,column:70}},line:167},20:{name:"(anonymous_20)",decl:{start:{line:175,column:24},end:{line:175,column:25}},loc:{start:{line:175,column:31},end:{line:175,column:104}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:186,column:22},end:{line:186,column:23}},loc:{start:{line:186,column:29},end:{line:186,column:67}},line:186},22:{name:"(anonymous_22)",decl:{start:{line:205,column:22},end:{line:205,column:23}},loc:{start:{line:205,column:34},end:{line:210,column:13}},line:205},23:{name:"(anonymous_23)",decl:{start:{line:217,column:2},end:{line:217,column:3}},loc:{start:{line:217,column:20},end:{line:222,column:3}},line:217},24:{name:"(anonymous_24)",decl:{start:{line:223,column:2},end:{line:223,column:3}},loc:{start:{line:223,column:11},end:{line:315,column:3}},line:223},25:{name:"(anonymous_25)",decl:{start:{line:226,column:50},end:{line:226,column:51}},loc:{start:{line:226,column:61},end:{line:228,column:5}},line:226},26:{name:"(anonymous_26)",decl:{start:{line:228,column:11},end:{line:228,column:12}},loc:{start:{line:228,column:22},end:{line:243,column:5}},line:228},27:{name:"(anonymous_27)",decl:{start:{line:248,column:17},end:{line:248,column:18}},loc:{start:{line:248,column:23},end:{line:248,column:71}},line:248},28:{name:"(anonymous_28)",decl:{start:{line:252,column:17},end:{line:252,column:18}},loc:{start:{line:252,column:23},end:{line:252,column:68}},line:252},29:{name:"(anonymous_29)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:23},end:{line:256,column:80}},line:256},30:{name:"(anonymous_30)",decl:{start:{line:262,column:17},end:{line:262,column:18}},loc:{start:{line:262,column:23},end:{line:262,column:41}},line:262},31:{name:"(anonymous_31)",decl:{start:{line:268,column:17},end:{line:268,column:18}},loc:{start:{line:268,column:23},end:{line:268,column:40}},line:268},32:{name:"handleSelection",decl:{start:{line:271,column:13},end:{line:271,column:28}},loc:{start:{line:271,column:40},end:{line:274,column:5}},line:271},33:{name:"(anonymous_33)",decl:{start:{line:295,column:147},end:{line:295,column:148}},loc:{start:{line:295,column:155},end:{line:298,column:19}},line:295}},branchMap:{0:{loc:{start:{line:22,column:9},end:{line:22,column:53}},type:"cond-expr",locations:[{start:{line:22,column:24},end:{line:22,column:36}},{start:{line:22,column:39},end:{line:22,column:53}}],line:22},1:{loc:{start:{line:62,column:6},end:{line:64,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:64,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},2:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},3:{loc:{start:{line:101,column:6},end:{line:105,column:7}},type:"if",locations:[{start:{line:101,column:6},end:{line:105,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:101},4:{loc:{start:{line:101,column:10},end:{line:101,column:96}},type:"binary-expr",locations:[{start:{line:101,column:10},end:{line:101,column:22}},{start:{line:101,column:26},end:{line:101,column:55}},{start:{line:101,column:59},end:{line:101,column:96}}],line:101},5:{loc:{start:{line:109,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:109,column:4},end:{line:111,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:109},6:{loc:{start:{line:112,column:4},end:{line:215,column:5}},type:"switch",locations:[{start:{line:113,column:6},end:{line:178,column:13}},{start:{line:179,column:6},end:{line:188,column:16}},{start:{line:189,column:6},end:{line:199,column:10}},{start:{line:200,column:6},end:{line:212,column:10}},{start:{line:213,column:6},end:{line:214,column:49}}],line:112},7:{loc:{start:{line:136,column:10},end:{line:144,column:11}},type:"binary-expr",locations:[{start:{line:136,column:10},end:{line:136,column:48}},{start:{line:136,column:68},end:{line:144,column:11}}],line:136},8:{loc:{start:{line:145,column:10},end:{line:153,column:11}},type:"binary-expr",locations:[{start:{line:145,column:10},end:{line:145,column:93}},{start:{line:145,column:113},end:{line:153,column:11}}],line:145},9:{loc:{start:{line:175,column:83},end:{line:175,column:103}},type:"cond-expr",locations:[{start:{line:175,column:93},end:{line:175,column:99}},{start:{line:175,column:102},end:{line:175,column:103}}],line:175},10:{loc:{start:{line:227,column:15},end:{line:227,column:68}},type:"binary-expr",locations:[{start:{line:227,column:15},end:{line:227,column:41}},{start:{line:227,column:45},end:{line:227,column:68}}],line:227},11:{loc:{start:{line:244,column:20},end:{line:244,column:49}},type:"binary-expr",locations:[{start:{line:244,column:20},end:{line:244,column:43}},{start:{line:244,column:47},end:{line:244,column:49}}],line:244},12:{loc:{start:{line:255,column:14},end:{line:255,column:61}},type:"cond-expr",locations:[{start:{line:255,column:46},end:{line:255,column:52}},{start:{line:255,column:55},end:{line:255,column:61}}],line:255}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/LayerEditor.tsx"],names:["layer","layout"],mappings:"AA6JyB,SA2EL,UA1Ed,KADmB;AA7JzB,OAAO,WAAuB;AAC9B,OAAO,eAAe;AACtB,SAAS,SAAS,QAAQ,MAAM,gBAAgB;AAChD,SAAQ,iBAAgB;AACxB,SAAQ,kBAAiB;AAGzB,OAAO,eAAe;AACtB,OAAO,kBAAkB;AACzB,OAAO,mBAAmB;AAC1B,OAAO,sBAAsB;AAC7B,OAAO,eAAe;AACtB,OAAO,aAAa;AACpB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,iBAAiB;AACxB,OAAO,sBAAsB;AAC7B,SAAS,YAAY,sBAAsB;AAC3C,OAAO,YAAY;AACnB,SAAQ,qBAAoB;AAG5B,SAAS,iBAAiB,MAAkC;AAC1D,SAAO,OAAO,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO;AAC9C;AAEA,SAAS,aAAa,WAA2F;AAC/G,QAAM,aAAa;AAAA,IACjB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,QAAM,cAAc;AAAA,IAClB,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AACA,SAAO,CAAC,YAAY,WAAW,EAC5B,OAAO,iBAAiB,SAAS,EAAE,MAAM,EACzC,OAAO,CAAC,WAAW,CAAC;AACzB;AAwBA,qBAAqB,oBAAoB,MAAM,UAA8C;AAAA,EAC3F,OAAO,eAAe;AAAA,IACpB,gBAAgB,MAAM;AAAA,IAAC;AAAA,IACvB,iBAAiB,MAAM;AAAA,IAAC;AAAA,IACxB,kBAAkB,MAAM;AAAA,IAAC;AAAA,EAC3B;AAAA,EAEA,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,YAAY,OAAyB;AACnC,UAAM,KAAK;AAGX,UAAM,eAAyC,CAAC;AAChD,iBAAa,KAAK,MAAM,MAAM,IAAI,EAAE,QAAQ,WAAS;AACnD,mBAAa,MAAM,KAAK,IAAI;AAAA,IAC9B,CAAC;AAED,SAAK,QAAQ,EAAE,aAAa;AAAA,EAC9B;AAAA,EAEA,OAAO,yBAAyB,OAAyB,OAAyB;AAChF,UAAM,mBAAmB,EAAE,GAAG,MAAM,aAAa;AAEjD,qBAAiB,MAAM,MAAM,IAAI,EAAE,OAAO,QAAQ,WAAS;AACzD,UAAG,EAAE,MAAM,SAAS,mBAAmB;AACrC,yBAAiB,MAAM,KAAK,IAAI;AAAA,MAClC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,kBAAmB;AACjB,WAAO;AAAA,MACL,eAAe;AAAA,QACb,MAAM;AAAA,QACN,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAAA,EAEA,eAAe,OAAwC,UAAkB,UAAe;AACtF,SAAK,MAAM;AAAA,MACT,KAAK,MAAM;AAAA,MACX,eAAe,KAAK,MAAM,OAAO,OAAO,UAAU,QAAQ;AAAA,IAC5D;AAAA,EACF;AAAA,EAEA,cAAc,YAAoB,QAAiB;AACjD,UAAM,sBAAsB;AAAA,MAC1B,GAAG,KAAK,MAAM;AAAA,MACd,CAAC,UAAU,GAAG;AAAA,IAChB;AACA,SAAK,SAAS;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,gBAAgB,MAAc,QAAgC;AAC5D,QAAI,UAAU;AACd,QAAG,KAAK,MAAM,MAAM,UAAU;AAC5B,gBAAW,KAAK,MAAM,MAAM,SAAiB,kBAAkB;AAAA,IACjE;AACA,UAAM,EAAC,QAAQ,WAAU,IAAI,KAAK;AAElC,UAAM,YAAwE,CAAC;AAC/E,WAAQ,QAAQ,WAAS;AACvB,UACE,MAAM,UACN,MAAM,OAAO,SAAS,WACtB,MAAM,OAAO,KAAK,SAAS,YAC3B;AACA,kBAAU,MAAM,OAAO,KAAK,GAAG,IAAI;AAAA,UACjC,SAAS,MAAM,OAAO,KAAK;AAAA,QAC7B;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI;AACJ,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAG,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,MAAM,MAAM,GAAG;AACzE,uBAAkB,KAAK,MAAM,QAAQ,MAAM,MAAM,EAAU;AAAA,IAC7D;AAEA,YAAO,MAAM;AAAA,MACb,KAAK;AAAS,eAAO,qBAAC,SACpB;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,OAAO,UAAU;AAAA,cACjB,UAAU,WAAS,KAAK,MAAM,gBAAgB,KAAK,MAAM,YAAY,KAAK,MAAM,MAAM,IAAI,KAAK;AAAA;AAAA,UACjG;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,UAAU;AAAA,cACV,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,aAAW,KAAK,MAAM;AAAA,gBAC9B,KAAK,MAAM;AAAA,gBACX,WAAW,KAAK,MAAM,OAAO,OAAO;AAAA,cACtC;AAAA;AAAA,UACF;AAAA,UACC,KAAK,MAAM,MAAM,SAAS,gBAAgB;AAAA,YAAC;AAAA;AAAA,cAC1C,OAAO,UAAU;AAAA,cACjB,WAAW,OAAO,KAAK,KAAK,MAAM,OAAQ;AAAA,cAC1C,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,UACtD;AAAA,UAEC,CAAC,cAAc,UAAU,aAAa,SAAS,EAAE,QAAQ,KAAK,MAAM,MAAM,IAAI,IAAI,KACjF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU,cAAc;AAAA,cAC/B;AAAA,cACA,OAAQ,KAAK,MAAM,MAAc,cAAc;AAAA,cAC/C,UAAU,OAAK,KAAK,eAAe,MAAM,gBAAgB,CAAC;AAAA;AAAA,UAC5D;AAAA,UAEF;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO,KAAK,MAAM,MAAM;AAAA,cACxB,UAAU,OAAK,KAAK,eAAe,MAAM,WAAW,CAAC;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,UAAU;AAAA,cACjB,OAAO;AAAA,cACP,UAAU,OAAK,KAAK,eAAe,YAAY,oBAAoB,KAAK,KAAM,SAAY,CAAC;AAAA;AAAA,UAC7F;AAAA,WACF;AAAA,MACA,KAAK;AAAU,eAAO,oBAAC,SACrB,8BAAC,SAAI,WAAU,kCACb;AAAA,UAAC;AAAA;AAAA,YACC,QAAQ;AAAA,YACR,QAAS,KAAK,MAAM,MAAc;AAAA,YAClC,YAAY,KAAK,MAAM,aAAc,KAAK,MAAM,MAAc,cAAc,CAAC;AAAA,YAC7E,UAAU,OAAK,KAAK,eAAe,MAAM,UAAU,CAAC;AAAA;AAAA,QACtD,GACF,GACF;AAAA,MACA,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,QAAQ;AAAA,YACR,OAAO,KAAK,MAAM;AAAA,YAClB,aAAa;AAAA,YACb,MAAM,KAAK,MAAM;AAAA,YACjB,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,QACzC;AAAA,MACF,KAAK;AACH,eAAO;AAAA,UAAC;AAAA;AAAA,YACN,OAAO,KAAK,MAAM;AAAA,YAClB,UAAU,CAACA,WAAU;AACnB,mBAAK,MAAM;AAAA,gBACT,KAAK,MAAM;AAAA,gBACXA;AAAA,cACF;AAAA,YACF;AAAA;AAAA,QACF;AAAA,MACF;AAAS,eAAO,gCAAE;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU,QAAgB;AACxB,SAAK,MAAM,YAAY;AAAA,MACrB,UAAU,KAAK,MAAM;AAAA,MACrB,UAAU,KAAK,MAAM,aAAW;AAAA,IAClC,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,WAAqB,CAAC;AAC5B,UAAM,YAAY,KAAK,MAAM,MAAM;AACnC,UAAM,SAAS,aAAa,SAAS,EAAE,OAAO,WAAS;AACrD,aAAO,EAAE,cAAc,gBAAgB,MAAM,SAAS;AAAA,IACxD,CAAC,EAAE,IAAI,WAAS;AACd,YAAM,UAAU,MAAM,MAAM,QAAQ,MAAM,GAAG;AAC7C,eAAS,KAAK,OAAO;AACrB,aAAO;AAAA,QAAC;AAAA;AAAA,UACN,eAAa,MAAM;AAAA,UACnB,IAAI;AAAA,UAEJ,OAAO,MAAM;AAAA,UACb,UAAU,KAAK,MAAM,aAAa,MAAM,KAAK;AAAA,UAC7C,gBAAgB,KAAK,cAAc,KAAK,MAAM,MAAM,KAAK;AAAA,UAExD,eAAK,gBAAgB,MAAM,MAAM,MAAM,MAAM;AAAA;AAAA,QALzC,MAAM;AAAA,MAMb;AAAA,IACF,CAAC;AAED,UAAMC,UAAS,KAAK,MAAM,MAAM,UAAU,CAAC;AAE3C,UAAM,QAAkF;AAAA,MACtF,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,eAAe,KAAK,MAAM,UAAU;AAAA,MAChE;AAAA,MACA,WAAW;AAAA,QACT,MAAM;AAAA,QACN,SAAS,MAAM,KAAK,MAAM,YAAY,KAAK,MAAM,UAAU;AAAA,MAC7D;AAAA,MACA,MAAM;AAAA,QACJ,MAAOA,QAAO,eAAe,SAAU,SAAS;AAAA,QAChD,SAAS,MAAM,KAAK,MAAM,wBAAwB,KAAK,MAAM,UAAU;AAAA,MACzE;AAAA,MACA,aAAa;AAAA,QACX,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,EAAE;AAAA,MAClC;AAAA,MACA,eAAe;AAAA,QACb,MAAM;AAAA;AAAA,QAEN,UAAU,KAAK,MAAM;AAAA,QACrB,SAAS,MAAM,KAAK,UAAU,CAAE;AAAA,MAClC;AAAA,IACF;AAEA,aAAS,gBAAgB,IAAY,OAA6B;AAChE,YAAM,gBAAgB;AACtB,YAAM,EAAE,EAAE,QAAQ;AAAA,IACpB;AAEA,WAAO;AAAA,MAAC;AAAA;AAAA,QAAQ,WAAU;AAAA,QACxB,MAAK;AAAA,QACL,cAAW;AAAA,QAEX;AAAA,8BAAC,YACC,+BAAC,SAAI,WAAU,gBACb;AAAA,iCAAC,QAAG,WAAU,uBAAsB;AAAA;AAAA,cAC1B,cAAc,KAAK,MAAM,MAAM,EAAE;AAAA,eAC3C;AAAA,YACA,oBAAC,SAAI,WAAU,sBACb;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,kBAAkB;AAAA,gBAElB;AAAA,sCAAC,UAAO,IAAG,4BAA2B,eAAY,4BAA2B,WAAU,qBAAoB,OAAM,iBAC/G,8BAAC,cAAW,WAAU,0BAAyB,GACjD;AAAA,kBACA,oBAAC,QACC,8BAAC,QAAG,WAAU,mBACX,iBAAO,KAAK,KAAK,EAAE,IAAI,CAAC,OAAO;AAC9B,0BAAM,OAAO,MAAM,EAAE;AACrB,2BAAO,oBAAC,QACN,8BAAC,YAAS,OAAO,IAAI,WAAU,yBAC5B,eAAK,MACR,KAHc,EAIhB;AAAA,kBACF,CAAC,GACH,GACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA,aACF,GAEF;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,uBAAuB;AAAA,cACvB,mBAAmB;AAAA,cACnB,aAAa;AAAA,cAEZ;AAAA;AAAA,UACH;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13cf530347fd66324a92f0d1d210d94f3d2129c4"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ln=function(){return a},a}ln();function lQ(e){return ln().f[0]++,ln().s[0]++,x6[e]?(ln().b[0][0]++,x6[e]):(ln().b[0][1]++,x6.invalid)}function YD(e){ln().f[1]++;const t=(ln().s[1]++,{title:"Layer",type:"layer"}),n=(ln().s[2]++,{title:"Filter",type:"filter"}),r=(ln().s[3]++,{title:"JSON Editor",type:"jsoneditor"});return ln().s[4]++,[t,n].concat(lQ(e).groups).concat([r])}class MB extends Mn.Component{constructor(t){ln().f[5]++,ln().s[7]++,super(t);const n=(ln().s[8]++,{});ln().s[9]++,YD(this.props.layer.type).forEach(r=>{ln().f[6]++,ln().s[10]++,n[r.title]=!0}),ln().s[11]++,this.state={editorGroups:n}}static getDerivedStateFromProps(t,n){ln().f[7]++;const r=(ln().s[12]++,{...n.editorGroups});return ln().s[13]++,lQ(t.layer.type).groups.forEach(i=>{ln().f[8]++,ln().s[14]++,i.title in r?ln().b[1][1]++:(ln().b[1][0]++,ln().s[15]++,r[i.title]=!0)}),ln().s[16]++,{editorGroups:r}}getChildContext(){return ln().f[9]++,ln().s[17]++,{reactIconBase:{size:14,color:"#8e8e8e"}}}changeProperty(t,n,r){ln().f[10]++,ln().s[18]++,this.props.onLayerChanged(this.props.layerIndex,k0e(this.props.layer,t,n,r))}onGroupToggle(t,n){ln().f[11]++;const r=(ln().s[19]++,{...this.state.editorGroups,[t]:n});ln().s[20]++,this.setState({editorGroups:r})}renderGroupType(t,n){ln().f[12]++;let r=(ln().s[21]++,"");ln().s[22]++,this.props.layer.metadata?(ln().b[2][0]++,ln().s[23]++,r=this.props.layer.metadata["maputnik:comment"]):ln().b[2][1]++;const{errors:i,layerIndex:o}=(ln().s[24]++,this.props),a=(ln().s[25]++,{});ln().s[26]++,i.forEach(g=>{ln().f[13]++,ln().s[27]++,ln().b[4][0]++,g.parsed&&(ln().b[4][1]++,g.parsed.type==="layer")&&(ln().b[4][2]++,g.parsed.data.index==o)?(ln().b[3][0]++,ln().s[28]++,a[g.parsed.data.key]={message:g.parsed.data.message}):ln().b[3][1]++});let s;const h=(ln().s[29]++,this.props.layer);switch(ln().s[30]++,Object.prototype.hasOwnProperty.call(this.props.sources,h.source)?(ln().b[5][0]++,ln().s[31]++,s=this.props.sources[h.source].layers):ln().b[5][1]++,ln().s[32]++,t){case"layer":return ln().b[6][0]++,ln().s[33]++,G.jsxs("div",{children:[G.jsx(lG,{value:this.props.layer.id,wdKey:"layer-editor.layer-id",error:a.id,onChange:g=>(ln().f[14]++,ln().s[34]++,this.props.onLayerIdChange(this.props.layerIndex,this.props.layer.id,g))}),G.jsx(wI,{disabled:!0,error:a.type,value:this.props.layer.type,onChange:g=>(ln().f[15]++,ln().s[35]++,this.props.onLayerChanged(this.props.layerIndex,I0e(this.props.layer,g)))}),(ln().b[7][0]++,this.props.layer.type!=="background"&&(ln().b[7][1]++,G.jsx(SI,{error:a.source,sourceIds:Object.keys(this.props.sources),value:this.props.layer.source,onChange:g=>(ln().f[16]++,ln().s[36]++,this.changeProperty(null,"source",g))}))),(ln().b[8][0]++,["background","raster","hillshade","heatmap"].indexOf(this.props.layer.type)<0&&(ln().b[8][1]++,G.jsx(EI,{error:a["source-layer"],sourceLayerIds:s,value:this.props.layer["source-layer"],onChange:g=>(ln().f[17]++,ln().s[37]++,this.changeProperty(null,"source-layer",g))}))),G.jsx(w7e,{error:a.minzoom,value:this.props.layer.minzoom,onChange:g=>(ln().f[18]++,ln().s[38]++,this.changeProperty(null,"minzoom",g))}),G.jsx(M7e,{error:a.maxzoom,value:this.props.layer.maxzoom,onChange:g=>(ln().f[19]++,ln().s[39]++,this.changeProperty(null,"maxzoom",g))}),G.jsx(S7e,{error:a.comment,value:r,onChange:g=>(ln().f[20]++,ln().s[40]++,this.changeProperty("metadata","maputnik:comment",g==""?(ln().b[9][0]++,void 0):(ln().b[9][1]++,g)))})]});case"filter":return ln().b[6][1]++,ln().s[41]++,G.jsx("div",{children:G.jsx("div",{className:"maputnik-filter-editor-wrapper",children:G.jsx(QG,{errors:a,filter:this.props.layer.filter,properties:this.props.vectorLayers[this.props.layer["source-layer"]],onChange:g=>(ln().f[21]++,ln().s[42]++,this.changeProperty(null,"filter",g))})})});case"properties":return ln().b[6][2]++,ln().s[43]++,G.jsx(C7e,{errors:a,layer:this.props.layer,groupFields:n,spec:this.props.spec,onChange:this.changeProperty.bind(this)});case"jsoneditor":return ln().b[6][3]++,ln().s[44]++,G.jsx(KI,{layer:this.props.layer,onChange:g=>{ln().f[22]++,ln().s[45]++,this.props.onLayerChanged(this.props.layerIndex,g)}});default:return ln().b[6][4]++,ln().s[46]++,G.jsx(G.Fragment,{})}}moveLayer(t){ln().f[23]++,ln().s[47]++,this.props.onMoveLayer({oldIndex:this.props.layerIndex,newIndex:this.props.layerIndex+t})}render(){ln().f[24]++;const t=(ln().s[48]++,[]),n=(ln().s[49]++,this.props.layer.type),r=(ln().s[50]++,YD(n).filter(s=>(ln().f[25]++,ln().s[51]++,ln().b[10][0]++,!(n==="background"&&(ln().b[10][1]++,s.type==="source")))).map(s=>{ln().f[26]++;const h=(ln().s[52]++,s.title.replace(/ /g,"_"));return ln().s[53]++,t.push(h),ln().s[54]++,G.jsx(x7e,{"data-wd-key":s.title,id:h,title:s.title,isActive:this.state.editorGroups[s.title],onActiveToggle:this.onGroupToggle.bind(this,s.title),children:this.renderGroupType(s.type,s.fields)},s.title)})),i=(ln().s[55]++,ln().b[11][0]++,this.props.layer.layout||(ln().b[11][1]++,{})),o=(ln().s[56]++,{delete:{text:"Delete",handler:()=>(ln().f[27]++,ln().s[57]++,this.props.onLayerDestroy(this.props.layerIndex))},duplicate:{text:"Duplicate",handler:()=>(ln().f[28]++,ln().s[58]++,this.props.onLayerCopy(this.props.layerIndex))},hide:{text:i.visibility==="none"?(ln().b[12][0]++,"Show"):(ln().b[12][1]++,"Hide"),handler:()=>(ln().f[29]++,ln().s[59]++,this.props.onLayerVisibilityToggle(this.props.layerIndex))},moveLayerUp:{text:"Move layer up",disabled:this.props.isFirstLayer,handler:()=>(ln().f[30]++,ln().s[60]++,this.moveLayer(-1))},moveLayerDown:{text:"Move layer down",disabled:this.props.isLastLayer,handler:()=>(ln().f[31]++,ln().s[61]++,this.moveLayer(1))}});function a(s,h){ln().f[32]++,ln().s[62]++,h.stopPropagation(),ln().s[63]++,o[s].handler()}return ln().s[64]++,G.jsxs("section",{className:"maputnik-layer-editor",role:"main","aria-label":"Layer editor",children:[G.jsx("header",{children:G.jsxs("div",{className:"layer-header",children:[G.jsxs("h2",{className:"layer-header__title",children:["Layer: ",sQ(this.props.layer.id)]}),G.jsx("div",{className:"layer-header__info",children:G.jsxs(z2.Wrapper,{className:"more-menu",onSelection:a,closeOnSelection:!1,children:[G.jsx(z2.Button,{id:"skip-target-layer-editor","data-wd-key":"skip-target-layer-editor",className:"more-menu__button",title:"Layer options",children:G.jsx(Hte,{className:"more-menu__button__svg"})}),G.jsx(z2.Menu,{children:G.jsx("ul",{className:"more-menu__menu",children:Object.keys(o).map(s=>{ln().f[33]++;const h=(ln().s[65]++,o[s]);return ln().s[66]++,G.jsx("li",{children:G.jsx(z2.MenuItem,{value:s,className:"more-menu__menu__item",children:h.text})},s)})})})]})})]})}),G.jsx(R1e,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:t,children:r})]})}}on(MB,"defaultProps",(ln().s[5]++,{onLayerChanged:()=>{ln().f[2]++},onLayerIdChange:()=>{ln().f[3]++},onLayerDestroyed:()=>{ln().f[4]++}})),on(MB,"childContextTypes",(ln().s[6]++,{reactIconBase:Rr.object}));var qD=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},F7e=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),L7e=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),U7e=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),R7e=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),z7e=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),j7e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,W7e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,HD=3,N7e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",j7e]],VD=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function G7e(e){return e?ZD(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new z7e:typeof navigator<"u"?ZD(navigator.userAgent):Y7e()}function $7e(e){return e!==""&&N7e.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]},!1)}function ZD(e){var t=$7e(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new R7e;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<HD&&(i=qD(qD([],i,!0),q7e(HD-i.length),!0)):i=[];var o=i.join("."),a=Q7e(e),s=W7e.exec(e);return s&&s[1]?new U7e(n,o,a,s[1]):new F7e(n,o,a)}function Q7e(e){for(var t=0,n=VD.length;t<n;t++){var r=VD[t],i=r[0],o=r[1],a=o.exec(e);if(a)return i}return null}function Y7e(){var e=typeof process<"u"&&process.version;return e?new L7e(process.version.slice(1)):null}function q7e(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}const H7e="maputnik",V7e="2.0.0",Z7e="A MapLibre GL visual style editor",X7e="module",J7e="''",e8e={start:"vite",build:"tsc && vite build --base=/maputnik/",lint:"eslint ./src ./cypress --ext ts,tsx,js,jsx --report-unused-disable-directives --max-warnings 0",test:"cypress run","cy:open":"cypress open","lint-css":'stylelint "src/styles/*.scss"',"sort-styles":"jq 'sort_by(.id)' src/config/styles.json > tmp.json && mv tmp.json src/config/styles.json"},t8e={type:"git",url:"https://github.com/maplibre/maputnik"},n8e="Lukas Martinelli",r8e="MIT",i8e="https://github.com/maplibre/maputnik#readme",o8e={"@mapbox/mapbox-gl-rtl-text":"^0.2.3","@maplibre/maplibre-gl-geocoder":"^1.5.0","@maplibre/maplibre-gl-inspect":"^1.6.3","@maplibre/maplibre-gl-style-spec":"^20.1.1","@mdi/js":"^7.4.47","@mdi/react":"^1.6.1","@typescript-eslint/eslint-plugin":"^7.3.1","@typescript-eslint/parser":"^7.3.1","array-move":"^4.0.0",buffer:"^6.0.3",classnames:"^2.5.1",codemirror:"^5.65.2",color:"^4.2.3","cypress-plugin-tab":"^1.0.5","detect-browser":"^5.3.0",events:"^3.3.0","file-saver":"^2.0.5","json-stringify-pretty-compact":"^4.0.0","json-to-ast":"^2.1.0",jsonlint:"github:josdejong/jsonlint#85a19d7",lodash:"^4.17.21","lodash.capitalize":"^4.2.1","lodash.clamp":"^4.0.3","lodash.clonedeep":"^4.5.0","lodash.get":"^4.4.2","lodash.isequal":"^4.5.0","lodash.throttle":"^4.1.1","maplibre-gl":"^4.1.2","maputnik-design":"github:maputnik/design#172b06c",ol:"^6.14.1","ol-mapbox-style":"^7.1.1",pmtiles:"^3.0.7","prop-types":"^15.8.1",react:"^18.2.0","react-accessible-accordion":"^5.0.0","react-aria-menubutton":"^7.0.3","react-aria-modal":"^5.0.2","react-autobind":"^1.0.6","react-autocomplete":"^1.8.1","react-collapse":"^5.1.1","react-color":"^2.19.3","react-dom":"^18.2.0","react-file-reader-input":"^2.0.0","react-icon-base":"^2.1.2","react-icons":"^5.0.1","react-sortable-hoc":"^2.0.0","reconnecting-websocket":"^4.4.0",sass:"^1.72.0",slugify:"^1.6.6","string-hash":"^1.1.3",url:"^0.11.3"},a8e={esversion:6},s8e={extends:"stylelint-config-recommended-scss",rules:{"no-descending-specificity":null,"media-feature-name-no-unknown":[!0,{ignoreMediaFeatureNames:["prefers-reduced-motion"]}]}},l8e={"@cypress/code-coverage":"^3.12.30","@istanbuljs/nyc-config-typescript":"^1.0.2","@rollup/plugin-replace":"^5.0.5","@shellygo/cypress-test-utils":"^2.1.9","@types/codemirror":"^5.60.15","@types/color":"^3.0.6","@types/cors":"^2.8.17","@types/file-saver":"^2.0.7","@types/geojson":"^7946.0.14","@types/json-to-ast":"^2.1.4","@types/lodash.capitalize":"^4.2.9","@types/lodash.clamp":"^4.0.9","@types/lodash.clonedeep":"^4.5.9","@types/lodash.get":"^4.4.9","@types/lodash.isequal":"^4.5.8","@types/lodash.throttle":"^4.1.9","@types/mocha":"^10.0.6","@types/randomcolor":"^0.5.9","@types/react":"^18.2.67","@types/react-aria-menubutton":"^6.2.14","@types/react-aria-modal":"^4.0.10","@types/react-autocomplete":"^1.8.10","@types/react-collapse":"^5.0.4","@types/react-color":"^3.0.12","@types/react-dom":"^18.2.22","@types/react-file-reader-input":"^2.0.4","@types/react-icon-base":"^2.1.6","@types/string-hash":"^1.1.3","@types/uuid":"^9.0.8","@vitejs/plugin-react":"^4.2.1",cors:"^2.8.5",cypress:"^13.10.0",eslint:"^8.57.0","eslint-plugin-react":"^7.34.1","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-react-refresh":"^0.4.6",istanbul:"^0.4.5","istanbul-lib-coverage":"^3.2.2",mocha:"^10.3.0",postcss:"^8.4.38","react-hot-loader":"^4.13.1",stylelint:"^16.2.1","stylelint-config-recommended-scss":"^14.0.0","stylelint-scss":"^6.2.1",typescript:"^5.4.3",uuid:"^9.0.1",vite:"^5.2.6","vite-plugin-istanbul":"^6.0.0"},XD={name:H7e,version:V7e,description:Z7e,type:X7e,main:J7e,scripts:e8e,repository:t8e,author:n8e,license:r8e,homepage:i8e,dependencies:o8e,jshintConfig:a8e,stylelint:s8e,devDependencies:l8e},u8e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Gi(){var e="/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",t="0db82fbe81362fe89bc1026468f1e8ab5376993d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx",statementMap:{0:{start:{line:8,column:16},end:{line:8,column:24}},1:{start:{line:9,column:41},end:{line:9,column:89}},2:{start:{line:12,column:4},end:{line:12,column:107}},3:{start:{line:17,column:4},end:{line:27,column:6}},4:{start:{line:32,column:4},end:{line:39,column:6}},5:{start:{line:44,column:4},end:{line:52,column:6}},6:{start:{line:56,column:10},end:{line:64,column:3}},7:{start:{line:66,column:4},end:{line:66,column:34}},8:{start:{line:68,column:11},end:{line:75,column:3}},9:{start:{line:69,column:4},end:{line:74,column:5}},10:{start:{line:70,column:6},end:{line:70,column:59}},11:{start:{line:72,column:17},end:{line:72,column:65}},12:{start:{line:73,column:6},end:{line:73,column:17}},13:{start:{line:77,column:18},end:{line:113,column:5}},14:{start:{line:114,column:24},end:{line:116,column:6}},15:{start:{line:115,column:6},end:{line:115,column:45}},16:{start:{line:117,column:4},end:{line:217,column:12}},17:{start:{line:128,column:33},end:{line:128,column:58}},18:{start:{line:137,column:33},end:{line:137,column:60}},19:{start:{line:146,column:33},end:{line:146,column:51}},20:{start:{line:198,column:33},end:{line:198,column:69}},21:{start:{line:201,column:38},end:{line:201,column:59}},22:{start:{line:202,column:20},end:{line:202,column:157}},23:{start:{line:204,column:112},end:{line:204,column:145}},24:{start:{line:205,column:20},end:{line:205,column:133}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:13,column:3}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:11},end:{line:28,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:11},end:{line:40,column:3}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:11},end:{line:53,column:3}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:23},end:{line:67,column:3}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:68,column:11},end:{line:68,column:12}},loc:{start:{line:68,column:23},end:{line:75,column:3}},line:68},6:{name:"(anonymous_6)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:11},end:{line:218,column:3}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:114,column:35},end:{line:114,column:36}},loc:{start:{line:114,column:45},end:{line:116,column:5}},line:114},8:{name:"(anonymous_8)",decl:{start:{line:128,column:25},end:{line:128,column:26}},loc:{start:{line:128,column:33},end:{line:128,column:58}},line:128},9:{name:"(anonymous_9)",decl:{start:{line:137,column:25},end:{line:137,column:26}},loc:{start:{line:137,column:33},end:{line:137,column:60}},line:137},10:{name:"(anonymous_10)",decl:{start:{line:146,column:25},end:{line:146,column:26}},loc:{start:{line:146,column:33},end:{line:146,column:51}},line:146},11:{name:"(anonymous_11)",decl:{start:{line:198,column:26},end:{line:198,column:27}},loc:{start:{line:198,column:33},end:{line:198,column:69}},line:198},12:{name:"(anonymous_12)",decl:{start:{line:201,column:31},end:{line:201,column:32}},loc:{start:{line:201,column:38},end:{line:201,column:59}},line:201},13:{name:"(anonymous_13)",decl:{start:{line:201,column:65},end:{line:201,column:66}},loc:{start:{line:201,column:75},end:{line:203,column:19}},line:201},14:{name:"(anonymous_14)",decl:{start:{line:204,column:105},end:{line:204,column:106}},loc:{start:{line:204,column:112},end:{line:204,column:145}},line:204},15:{name:"(anonymous_15)",decl:{start:{line:204,column:151},end:{line:204,column:152}},loc:{start:{line:204,column:161},end:{line:206,column:19}},line:204}},branchMap:{0:{loc:{start:{line:69,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:74,column:5}},{start:{line:71,column:11},end:{line:74,column:5}}],line:69}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppToolbar.tsx"],names:[],mappings:"AAqBW,cAoLG,YApLH;AArBX,OAAO,WAAW;AAClB,OAAO,gBAAgB;AACvB,SAAQ,cAAa;AAErB,SAAQ,gBAAgB,iBAAiB,YAAY,UAAU,eAAe,oBAAmB;AACjG,OAAO,aAAa;AAEpB,OAAO,kBAAkB;AAGzB,MAAM,UAAU,OAAO;AACvB,MAAM,mCAAmC,CAAC,UAAU,SAAS,EAAE,QAAQ,QAAS,IAAI,IAAI;AAQxF,MAAM,iBAAiB,MAAM,UAAyB;AAAA,EACpD,SAAS;AACP,WAAO,oBAAC,UAAK,WAAU,sBAAsB,eAAK,MAAM,UAAS;AAAA,EACnE;AACF;AASA,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAW,WAAW,yBAAyB,KAAK,MAAM,SAAS;AAAA,QACnE,MAAM,KAAK,MAAM;AAAA,QACjB,KAAI;AAAA,QACJ,QAAO;AAAA,QACP,eAAY;AAAA,QAEX,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAOA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QAEvB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAQA,MAAM,sBAAsB,MAAM,UAA8B;AAAA,EAC9D,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,WAAU;AAAA,QACV,eAAa,KAAK,MAAM;AAAA,QACxB,SAAS,KAAK,MAAM;AAAA,QAEnB,eAAK,MAAM;AAAA;AAAA,IACd;AAAA,EACF;AACF;AAmBA,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,QAAQ;AAAA,IACN,QAAQ;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,gBAAgB,KAAe;AAC7B,SAAK,MAAM,cAAc,GAAG;AAAA,EAC9B;AAAA,EAEA,SAAS,CAAC,WAAmB;AAC3B,QAAI,WAAW,OAAO;AACpB,MAAC,SAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,IAC5E,OACK;AACH,YAAM,KAAK,SAAS,cAAc,kBAAgB,MAAM;AACxD,SAAG,MAAM;AAAA,IACX;AAAA,EACF;AAAA,EAEA,SAAS;AACP,UAAM,QAAQ;AAAA,MACZ;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,KAAK,MAAM,aAAa;AAAA,MACpC;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU,CAAC;AAAA,MACb;AAAA,IACF;AAEA,UAAM,cAAc,MAAM,KAAK,CAAC,SAAS;AACvC,aAAO,KAAK,OAAO,KAAK,MAAM;AAAA,IAChC,CAAC;AAED,WAAO,oBAAC,SAAI,WAAU,oBACpB,+BAAC,SAAI,WAAU,2BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UAGV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,YAAY;AAAA,gBACxC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,cAAc;AAAA,gBAC1C;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,eAAY;AAAA,gBACZ,WAAU;AAAA,gBACV,SAAS,QAAM,KAAK,OAAO,KAAK;AAAA,gBACjC;AAAA;AAAA,YAED;AAAA,YACA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,QAAO;AAAA,gBACP,KAAI;AAAA,gBACJ,MAAK;AAAA,gBAEL;AAAA,sCAAC,SAAI,KAAK,cAAc,KAAI,sBAAqB;AAAA,kBACjD,qBAAC,QACC;AAAA,wCAAC,UAAK,WAAU,yBAAyB,kBAAQ,MAAK;AAAA,oBACtD,qBAAC,UAAK,WAAU,4BAA2B;AAAA;AAAA,sBAAE,QAAQ;AAAA,uBAAQ;AAAA,qBAC/D;AAAA;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA,MACA,qBAAC,SAAI,WAAU,6BAA4B,MAAK,cAAa,cAAW,WACtE;AAAA,6BAAC,iBAAc,OAAM,YAAW,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,MAAM,GACjF;AAAA,8BAAC,mBAAgB;AAAA,UACjB,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,QACA,qBAAC,iBAAc,OAAM,cAAa,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,QAAQ,GACrF;AAAA,8BAAC,kBAAe;AAAA,UAChB,oBAAC,YAAS,oBAAM;AAAA,WAClB;AAAA,QACA,qBAAC,iBAAc,OAAM,eAAc,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,SAAS,GACvF;AAAA,8BAAC,YAAS;AAAA,UACV,oBAAC,YAAS,0BAAY;AAAA,WACxB;AAAA,QACA,qBAAC,iBAAc,OAAM,gBAAe,SAAS,KAAK,MAAM,cAAc,KAAK,MAAM,UAAU,GACzF;AAAA,8BAAC,cAAW;AAAA,UACZ,oBAAC,YAAS,4BAAc;AAAA,WAC1B;AAAA,QAEA,qBAAC,iBAAc,OAAM,eACnB;AAAA,8BAAC,gBAAa;AAAA,UACd,qBAAC,WAAM;AAAA;AAAA,YACL;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,eAAY;AAAA,gBACZ,UAAU,CAAC,MAAM,KAAK,gBAAgB,EAAE,OAAO,KAAiB;AAAA,gBAChE,OAAO,aAAa;AAAA,gBAEnB;AAAA,wBAAM,OAAO,OAAK,EAAE,UAAU,SAAS,EAAE,IAAI,CAAC,SAAS;AACtD,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAAU,eAAa,KAAK,IAC9E,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC;AAAA,kBACD,oBAAC,cAAS,OAAM,uBACb,gBAAM,OAAO,OAAK,EAAE,UAAU,qBAAqB,EAAE,IAAI,CAAC,SAAS;AAClE,2BACE,oBAAC,YAAqB,OAAO,KAAK,IAAI,UAAU,KAAK,UAClD,eAAK,SADK,KAAK,EAElB;AAAA,kBAEJ,CAAC,GACH;AAAA;AAAA;AAAA,YACF;AAAA,aACF;AAAA,WACF;AAAA,QAEA,qBAAC,eAAY,MAAM,6CACjB;AAAA,8BAAC,iBAAc;AAAA,UACf,oBAAC,YAAS,kBAAI;AAAA,WAChB;AAAA,SACF;AAAA,OACF,GACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0db82fbe81362fe89bc1026468f1e8ab5376993d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Gi=function(){return a},a}Gi();const A8e=(Gi().s[0]++,G7e()),G2=(Gi().s[1]++,["chrome","firefox"].indexOf(A8e.name)>-1);class L_ extends Mn.Component{render(){return Gi().f[0]++,Gi().s[2]++,G.jsx("span",{className:"maputnik-icon-text",children:this.props.children})}}class c8e extends Mn.Component{render(){return Gi().f[1]++,Gi().s[3]++,G.jsx("a",{className:Gf("maputnik-toolbar-link",this.props.className),href:this.props.href,rel:"noopener noreferrer",target:"_blank","data-wd-key":"toolbar:link",children:this.props.children})}}class d8e extends Mn.Component{render(){return Gi().f[2]++,Gi().s[4]++,G.jsx("div",{className:"maputnik-toolbar-select","data-wd-key":this.props.wdKey,children:this.props.children})}}class $2 extends Mn.Component{render(){return Gi().f[3]++,Gi().s[5]++,G.jsx("button",{className:"maputnik-toolbar-action","data-wd-key":this.props.wdKey,onClick:this.props.onClick,children:this.props.children})}}class h8e extends Mn.Component{constructor(){super(...arguments);on(this,"state",(Gi().s[6]++,{isOpen:{settings:!1,sources:!1,open:!1,add:!1,export:!1}}));on(this,"onSkip",(Gi().s[8]++,n=>{if(Gi().f[5]++,Gi().s[9]++,n==="map")Gi().b[0][0]++,Gi().s[10]++,document.querySelector(".maplibregl-canvas").focus();else{Gi().b[0][1]++;const r=(Gi().s[11]++,document.querySelector("#skip-target-"+n));Gi().s[12]++,r.focus()}}))}handleSelection(n){Gi().f[4]++,Gi().s[7]++,this.props.onSetMapState(n)}render(){Gi().f[6]++;const n=(Gi().s[13]++,[{id:"map",group:"general",title:"Map"},{id:"inspect",group:"general",title:"Inspect",disabled:this.props.renderer==="ol"},{id:"filter-deuteranopia",group:"color-accessibility",title:"Deuteranopia filter",disabled:!G2},{id:"filter-protanopia",group:"color-accessibility",title:"Protanopia filter",disabled:!G2},{id:"filter-tritanopia",group:"color-accessibility",title:"Tritanopia filter",disabled:!G2},{id:"filter-achromatopsia",group:"color-accessibility",title:"Achromatopsia filter",disabled:!G2}]),r=(Gi().s[14]++,n.find(i=>(Gi().f[7]++,Gi().s[15]++,i.id===this.props.mapState)));return Gi().s[16]++,G.jsx("nav",{className:"maputnik-toolbar",children:G.jsxs("div",{className:"maputnik-toolbar__inner",children:[G.jsxs("div",{className:"maputnik-toolbar-logo-container",children:[G.jsx("button",{"data-wd-key":"root:skip:layer-list",className:"maputnik-toolbar-skip",onClick:i=>(Gi().f[8]++,Gi().s[17]++,this.onSkip("layer-list")),children:"Layers list"}),G.jsx("button",{"data-wd-key":"root:skip:layer-editor",className:"maputnik-toolbar-skip",onClick:i=>(Gi().f[9]++,Gi().s[18]++,this.onSkip("layer-editor")),children:"Layer editor"}),G.jsx("button",{"data-wd-key":"root:skip:map-view",className:"maputnik-toolbar-skip",onClick:i=>(Gi().f[10]++,Gi().s[19]++,this.onSkip("map")),children:"Map view"}),G.jsxs("a",{className:"maputnik-toolbar-logo",target:"blank",rel:"noreferrer noopener",href:"https://github.com/maplibre/maputnik",children:[G.jsx("img",{src:u8e,alt:"Maputnik on GitHub"}),G.jsxs("h1",{children:[G.jsx("span",{className:"maputnik-toolbar-name",children:XD.name}),G.jsxs("span",{className:"maputnik-toolbar-version",children:["v",XD.version]})]})]})]}),G.jsxs("div",{className:"maputnik-toolbar__actions",role:"navigation","aria-label":"Toolbar",children:[G.jsxs($2,{wdKey:"nav:open",onClick:this.props.onToggleModal.bind(this,"open"),children:[G.jsx(Fte,{}),G.jsx(L_,{children:"Open"})]}),G.jsxs($2,{wdKey:"nav:export",onClick:this.props.onToggleModal.bind(this,"export"),children:[G.jsx(ZE,{}),G.jsx(L_,{children:"Export"})]}),G.jsxs($2,{wdKey:"nav:sources",onClick:this.props.onToggleModal.bind(this,"sources"),children:[G.jsx($te,{}),G.jsx(L_,{children:"Data Sources"})]}),G.jsxs($2,{wdKey:"nav:settings",onClick:this.props.onToggleModal.bind(this,"settings"),children:[G.jsx(Lte,{}),G.jsx(L_,{children:"Style Settings"})]}),G.jsxs(d8e,{wdKey:"nav:inspect",children:[G.jsx(Tte,{}),G.jsxs("label",{children:["View",G.jsxs("select",{className:"maputnik-select","data-wd-key":"maputnik-select",onChange:i=>(Gi().f[11]++,Gi().s[20]++,this.handleSelection(i.target.value)),value:r==null?void 0:r.id,children:[n.filter(i=>(Gi().f[12]++,Gi().s[21]++,i.group==="general")).map(i=>(Gi().f[13]++,Gi().s[22]++,G.jsx("option",{value:i.id,disabled:i.disabled,"data-wd-key":i.id,children:i.title},i.id))),G.jsx("optgroup",{label:"Color accessibility",children:n.filter(i=>(Gi().f[14]++,Gi().s[23]++,i.group==="color-accessibility")).map(i=>(Gi().f[15]++,Gi().s[24]++,G.jsx("option",{value:i.id,disabled:i.disabled,children:i.title},i.id)))})]})]})]}),G.jsxs(c8e,{href:"https://github.com/maplibre/maputnik/wiki",children:[G.jsx(Pte,{}),G.jsx(L_,{children:"Help"})]})]})]})})}}function u5(){var e="/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",t="d17a642b15310eb6111b086bd920c67ec86a8271",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:113}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:11},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ScrollContainer.tsx"],names:[],mappings:"AAQW;AARX,OAAO,WAAW;AAMlB,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,6BACnB,eAAK,MAAM,UACd;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d17a642b15310eb6111b086bd920c67ec86a8271"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return u5=function(){return a},a}u5();class f8e extends Mn.Component{render(){return u5().f[0]++,u5().s[0]++,G.jsx("div",{className:"maputnik-scroll-container",children:this.props.children})}}function Tp(){var e="/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",t="d25fdb432b603b186bd9e2fc84ff27ac61d9521e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx",statementMap:{0:{start:{line:6,column:29},end:{line:8,column:3}},1:{start:{line:10,column:4},end:{line:12,column:6}},2:{start:{line:15,column:4},end:{line:22,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:13,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:23,column:3}},line:14}},branchMap:{0:{loc:{start:{line:20,column:6},end:{line:20,column:123}},type:"binary-expr",locations:[{start:{line:20,column:6},end:{line:20,column:23}},{start:{line:20,column:43},end:{line:20,column:123}}],line:20}},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppLayout.tsx"],names:[],mappings:"AAyBW,SAEL,KAFK;AAzBX,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,qBAAqB;AAW5B,MAAM,kBAAkB,MAAM,UAA0B;AAAA,EACtD,OAAO,oBAAoB;AAAA,IACzB,eAAe,UAAU;AAAA,EAC3B;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,eAAe,EAAE,MAAM,GAAG;AAAA,IAC5B;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,mBACnB;AAAA,WAAK,MAAM;AAAA,MACZ,oBAAC,SAAI,WAAU,wBACZ,eAAK,MAAM,WACd;AAAA,MACA,oBAAC,SAAI,WAAU,0BACb,8BAAC,mBACE,eAAK,MAAM,aACd,GACF;AAAA,MACC,KAAK,MAAM;AAAA,MACX,KAAK,MAAM,UAAU,oBAAC,SAAI,WAAU,0BAClC,eAAK,MAAM,QACd;AAAA,MAEC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d25fdb432b603b186bd9e2fc84ff27ac61d9521e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Tp=function(){return a},a}Tp();class uQ extends Mn.Component{getChildContext(){return Tp().f[0]++,Tp().s[1]++,{reactIconBase:{size:14}}}render(){return Tp().f[1]++,Tp().s[2]++,G.jsxs("div",{className:"maputnik-layout",children:[this.props.toolbar,G.jsx("div",{className:"maputnik-layout-list",children:this.props.layerList}),G.jsx("div",{className:"maputnik-layout-drawer",children:G.jsx(f8e,{children:this.props.layerEditor})}),this.props.map,(Tp().b[0][0]++,this.props.bottom&&(Tp().b[0][1]++,G.jsx("div",{className:"maputnik-layout-bottom",children:this.props.bottom}))),this.props.modals]})}}on(uQ,"childContextTypes",(Tp().s[0]++,{reactIconBase:Rr.object}));function Ja(){var e="/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",t="e5f88535075aece22d8ac3a6577a6cf140d2a75b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:8,column:3}},1:{start:{line:10,column:35},end:{line:10,column:45}},2:{start:{line:11,column:19},end:{line:37,column:6}},3:{start:{line:13,column:6},end:{line:35,column:7}},4:{start:{line:14,column:27},end:{line:14,column:32}},5:{start:{line:15,column:24},end:{line:15,column:73}},6:{start:{line:16,column:8},end:{line:32,column:13}},7:{start:{line:27,column:31},end:{line:27,column:74}},8:{start:{line:34,column:8},end:{line:34,column:32}},9:{start:{line:36,column:6},end:{line:36,column:120}},10:{start:{line:38,column:18},end:{line:40,column:6}},11:{start:{line:39,column:6},end:{line:39,column:68}},12:{start:{line:41,column:4},end:{line:44,column:9}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:19},end:{line:6,column:20}},loc:{start:{line:6,column:25},end:{line:7,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:45,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:11,column:42},end:{line:11,column:43}},loc:{start:{line:11,column:58},end:{line:37,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:31},end:{line:27,column:74}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:38,column:40},end:{line:38,column:41}},loc:{start:{line:38,column:50},end:{line:40,column:5}},line:38}},branchMap:{0:{loc:{start:{line:13,column:6},end:{line:35,column:7}},type:"if",locations:[{start:{line:13,column:6},end:{line:35,column:7}},{start:{line:33,column:13},end:{line:35,column:7}}],line:13},1:{loc:{start:{line:13,column:10},end:{line:13,column:55}},type:"binary-expr",locations:[{start:{line:13,column:10},end:{line:13,column:22}},{start:{line:13,column:26},end:{line:13,column:55}}],line:13},2:{loc:{start:{line:21,column:10},end:{line:31,column:14}},type:"binary-expr",locations:[{start:{line:21,column:10},end:{line:21,column:50}},{start:{line:21,column:70},end:{line:31,column:14}}],line:21}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/AppMessagePanel.tsx"],names:[],mappings:"AA2BkB,SAEJ,UAFI,KAEJ,YAFI;AA3BlB,OAAO,WAAW;AAClB,SAAQ,qBAAoB;AAY5B,qBAAqB,wBAAwB,MAAM,UAAgC;AAAA,EACjF,OAAO,eAAe;AAAA,IACpB,eAAe,MAAM;AAAA,IAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AACP,UAAM,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAY,QAAQ;AACzD,UAAI;AACJ,UAAI,MAAM,UAAU,MAAM,OAAO,SAAS,SAAS;AACjD,cAAM,EAAC,OAAM,IAAI;AACjB,cAAM,UAAU,KAAK,MAAM,UAAU,OAAO,OAAO,KAAK,KAAK,EAAE;AAC/D,kBACE,iCAAE;AAAA;AAAA,UACM,oBAAC,UAAM,wBAAc,OAAO,GAAE;AAAA,UAAO;AAAA,UAAG,OAAO,KAAK;AAAA,UACzD,uBAAuB,OAAO,KAAK,SAClC,iCAAE;AAAA;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS,MAAM,KAAK,MAAM,cAAe,OAAO,KAAK,KAAK;AAAA,gBAC3D;AAAA;AAAA,YAED;AAAA,aACF;AAAA,WAEJ;AAAA,MAEJ,OACK;AACH,kBAAU,MAAM;AAAA,MAClB;AACA,aAAO,oBAAC,OAAqB,WAAU,gCACpC,qBADY,WAAS,GAExB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI,CAAC,GAAG,MAAM;AAC5C,aAAO,oBAAC,OAAmB,eAAZ,UAAQ,CAAM;AAAA,IAC/B,CAAC;AAED,WAAO,qBAAC,SAAI,WAAU,0BACnB;AAAA;AAAA,MACA;AAAA,OACH;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e5f88535075aece22d8ac3a6577a6cf140d2a75b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ja=function(){return a},a}Ja();class AQ extends Mn.Component{render(){var i,o;Ja().f[1]++;const{selectedLayerIndex:t}=(Ja().s[1]++,this.props),n=(Ja().s[2]++,(i=this.props.errors)==null?void 0:i.map((a,s)=>{var g;Ja().f[2]++;let h;if(Ja().s[3]++,Ja().b[1][0]++,a.parsed&&(Ja().b[1][1]++,a.parsed.type==="layer")){Ja().b[0][0]++;const{parsed:_}=(Ja().s[4]++,a),E=(Ja().s[5]++,(g=this.props.mapStyle)==null?void 0:g.layers[_.data.index].id);Ja().s[6]++,h=G.jsxs(G.Fragment,{children:["Layer ",G.jsx("span",{children:sQ(E)}),": ",_.data.message,(Ja().b[2][0]++,t!==_.data.index&&(Ja().b[2][1]++,G.jsxs(G.Fragment,{children:[" — ",G.jsx("button",{className:"maputnik-message-panel__switch-button",onClick:()=>(Ja().f[3]++,Ja().s[7]++,this.props.onLayerSelect(_.data.index)),children:"switch to layer"})]})))]})}else Ja().b[0][1]++,Ja().s[8]++,h=a.message;return Ja().s[9]++,G.jsx("p",{className:"maputnik-message-panel-error",children:h},"error-"+s)})),r=(Ja().s[10]++,(o=this.props.infos)==null?void 0:o.map((a,s)=>(Ja().f[4]++,Ja().s[11]++,G.jsx("p",{children:a},"info-"+s))));return Ja().s[12]++,G.jsxs("div",{className:"maputnik-message-panel",children:[n,r]})}}on(AQ,"defaultProps",(Ja().s[0]++,{onLayerSelect:()=>{Ja().f[0]++}}));function A5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",t="a416dfabb7eaa48bd0505cf98cb9c66326bca3ec",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:165}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldArray.tsx"],names:[],mappings:"AAcM;AAdN,OAAO,WAAW;AAClB,OAAO,gBAAwD;AAC/D,OAAO,cAAc;AASrB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a416dfabb7eaa48bd0505cf98cb9c66326bca3ec"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return A5=function(){return a},a}A5();class c5 extends Mn.Component{render(){return A5().f[0]++,A5().s[0]++,G.jsx(yb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(X$,{...this.props})})}}function d5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",t="4931f85d3ebf1a60a85ac9883e78e028b7a388d8",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldNumber.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAC5C,OAAO,WAAW;AAWlB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4931f85d3ebf1a60a85ac9883e78e028b7a388d8"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return d5=function(){return a},a}d5();class Pp extends Mn.Component{render(){return d5().f[0]++,d5().s[0]++,G.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(Qf,{...this.props})})}}function h5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",t="37d7b9547efb8875177dbe7a186e7965cd9eb1c0",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldString.tsx"],names:[],mappings:"AAeM;AAfN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAU5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAO,GAC/B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"37d7b9547efb8875177dbe7a186e7965cd9eb1c0"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return h5=function(){return a},a}h5();class C3 extends Mn.Component{render(){return h5().f[0]++,h5().s[0]++,G.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx($d,{...this.props})})}}function f5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",t="a176a83ddcea7ca7f45b0bf957355a9e0c40a3af",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:160}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldUrl.tsx"],names:[],mappings:"AAiBQ;AAjBR,OAAO,WAAW;AAClB,OAAO,cAAgD;AACvD,OAAO,WAAW;AAWlB,qBAAqB,iBAAiB,MAAM,UAAyB;AAAA,EACnE,SAAU;AACR,WACE,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WACpD,8BAAC,YAAU,GAAG,KAAK,OAAO,GAC5B;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a176a83ddcea7ca7f45b0bf957355a9e0c40a3af"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return f5=function(){return a},a}f5();class vb extends Mn.Component{render(){return f5().f[0]++,f5().s[0]++,G.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(mk,{...this.props})})}}function p5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",t="ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:163}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldSelect.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,iBAAqC;AAW5C,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,eAAa,GAAG,KAAK,OAAM,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ed4136288b91381a6bd6755cdb2ea1dcf45e2f6b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return p5=function(){return a},a}p5();class yk extends Mn.Component{render(){return p5().f[0]++,p5().s[0]++,G.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(H1,{...this.props})})}}function m5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",t="5745e67ee75c0f352c022256ef8bf31e8fa7367f",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:164}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldEnum.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,eAAiC;AACxC,OAAO,cAAc;AAWrB,qBAAqB,kBAAkB,MAAM,UAA0B;AAAA,EACrE,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC9D,8BAAC,aAAW,GAAG,KAAK,OAAO,GAC7B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5745e67ee75c0f352c022256ef8bf31e8fa7367f"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return m5=function(){return a},a}m5();class p8e extends Mn.Component{render(){return m5().f[0]++,m5().s[0]++,G.jsx(yb,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(pk,{...this.props})})}}function g5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",t="4d9e98bd5e7819496a7ef6b66981b81e318fe1bf",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:162}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldColor.tsx"],names:[],mappings:"AAgBM;AAhBN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,gBAAmC;AAW1C,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAAO,WAAW,KAAK,MAAM,WAC3D,8BAAC,cAAY,GAAG,KAAK,OAAO,GAC9B;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4d9e98bd5e7819496a7ef6b66981b81e318fe1bf"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return g5=function(){return a},a}g5();class m8e extends Mn.Component{render(){return g5().f[0]++,g5().s[0]++,G.jsx(oa,{label:this.props.label,fieldSpec:this.props.fieldSpec,children:G.jsx(Z$,{...this.props})})}}function vk(){var e="/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",t="97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts",statementMap:{0:{start:{line:1,column:13},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/field-spec-additional.ts"],names:[],mappings:"AAAA,MAAM,OAAO;AAAA,EACX,UAAU;AAAA,IACR,uBAAuB;AAAA,MACrB,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,4BAA4B;AAAA,MAC1B,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO;AAAA,MACP,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"97a1ce3b1515c5a2f7a23d6b76358b8fb48705ec"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return vk=function(){return a},a}vk();const JD=(vk().s[0]++,{maputnik:{maptiler_access_token:{label:"MapTiler Access Token",doc:"Public access token for MapTiler Cloud."},thunderforest_access_token:{label:"Thunderforest Access Token",doc:"Public access token for Thunderforest services."},style_renderer:{label:"Style Renderer",doc:"Choose the default Maputnik renderer for this style."}}});function ui(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",t="28c0a3026751ec3d3f3461aae938dbc2a7df4904",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx",statementMap:{0:{start:{line:15,column:23},end:{line:17,column:5}},1:{start:{line:18,column:4},end:{line:22,column:5}},2:{start:{line:19,column:6},end:{line:19,column:34}},3:{start:{line:21,column:6},end:{line:21,column:35}},4:{start:{line:23,column:4},end:{line:26,column:7}},5:{start:{line:29,column:18},end:{line:31,column:5}},6:{start:{line:32,column:4},end:{line:36,column:5}},7:{start:{line:33,column:6},end:{line:33,column:29}},8:{start:{line:35,column:6},end:{line:35,column:30}},9:{start:{line:37,column:4},end:{line:40,column:7}},10:{start:{line:43,column:20},end:{line:45,column:5}},11:{start:{line:46,column:4},end:{line:50,column:5}},12:{start:{line:47,column:6},end:{line:47,column:31}},13:{start:{line:49,column:6},end:{line:49,column:32}},14:{start:{line:51,column:4},end:{line:54,column:7}},15:{start:{line:57,column:25},end:{line:59,column:5}},16:{start:{line:60,column:4},end:{line:64,column:5}},17:{start:{line:61,column:6},end:{line:61,column:36}},18:{start:{line:63,column:6},end:{line:63,column:37}},19:{start:{line:65,column:4},end:{line:65,column:44}},20:{start:{line:68,column:21},end:{line:68,column:55}},21:{start:{line:69,column:51},end:{line:69,column:61}},22:{start:{line:70,column:18},end:{line:70,column:49}},23:{start:{line:71,column:23},end:{line:71,column:59}},24:{start:{line:72,column:20},end:{line:72,column:53}},25:{start:{line:73,column:4},end:{line:263,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:44},end:{line:27,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:39},end:{line:41,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:41},end:{line:55,column:3}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:39},end:{line:66,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:264,column:3}},line:67}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:20,column:11},end:{line:22,column:5}}],line:18},1:{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:34,column:11},end:{line:36,column:5}}],line:32},2:{loc:{start:{line:46,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:50,column:5}},{start:{line:48,column:11},end:{line:50,column:5}}],line:46},3:{loc:{start:{line:60,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:60,column:4},end:{line:64,column:5}},{start:{line:62,column:11},end:{line:64,column:5}}],line:60},4:{loc:{start:{line:68,column:21},end:{line:68,column:55}},type:"binary-expr",locations:[{start:{line:68,column:21},end:{line:68,column:49}},{start:{line:68,column:53},end:{line:68,column:55}}],line:68},5:{loc:{start:{line:70,column:18},end:{line:70,column:49}},type:"binary-expr",locations:[{start:{line:70,column:18},end:{line:70,column:43}},{start:{line:70,column:47},end:{line:70,column:49}}],line:70},6:{loc:{start:{line:71,column:23},end:{line:71,column:59}},type:"binary-expr",locations:[{start:{line:71,column:23},end:{line:71,column:53}},{start:{line:71,column:57},end:{line:71,column:59}}],line:71},7:{loc:{start:{line:72,column:20},end:{line:72,column:53}},type:"binary-expr",locations:[{start:{line:72,column:20},end:{line:72,column:47}},{start:{line:72,column:51},end:{line:72,column:53}}],line:72},8:{loc:{start:{line:128,column:21},end:{line:128,column:42}},type:"binary-expr",locations:[{start:{line:128,column:21},end:{line:128,column:36}},{start:{line:128,column:40},end:{line:128,column:42}}],line:128},9:{loc:{start:{line:257,column:21},end:{line:257,column:62}},type:"binary-expr",locations:[{start:{line:257,column:21},end:{line:257,column:50}},{start:{line:257,column:54},end:{line:257,column:62}}],line:257}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSettings.tsx"],names:[],mappings:"AA6GM,SACE,KADF;AA7GN,OAAO,WAAW;AAClB,OAAO,YAAY;AAGnB,OAAO,gBAAgB;AACvB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,eAAe;AACtB,OAAO,gBAAgB;AACvB,OAAO,WAAW;AAClB,OAAO,yBAAyB;AAUhC,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,yBAAyB,UAAyC,OAA2B;AAC3F,UAAM,aAAa;AAAA,MACjB,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,WAAW,QAAQ;AAAA,IAC5B,OACK;AACH,iBAAW,QAAQ,IAAI;AAAA,IACzB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAAoC,OAAY;AAClE,UAAM,QAAQ;AAAA,MACZ,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,MAAM,QAAQ;AAAA,IACvB,OACK;AAEH,YAAM,QAAQ,IAAI;AAAA,IACpB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,UAAsC,OAAY;AACtE,UAAM,UAAU;AAAA,MACd,GAAG,KAAK,MAAM,SAAS;AAAA,IACzB;AAEA,QAAI,UAAU,QAAW;AACvB,aAAO,QAAQ,QAAQ;AAAA,IACzB,OACK;AAEH,cAAQ,QAAQ,IAAI;AAAA,IACtB;AAEA,SAAK,MAAM,eAAe;AAAA,MACxB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,oBAAoB,UAA8C,OAAY;AAC5E,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,IAChB;AAEA,QAAI,UAAU,QAAW;AAEvB,aAAO,aAAa,QAAQ;AAAA,IAC9B,OACK;AAEH,mBAAa,QAAQ,IAAI;AAAA,IAC3B;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM,SAAS,YAAY,CAAC;AAClD,UAAM,EAAC,0BAA0B,SAAQ,IAAI,KAAK;AAElD,UAAM,QAAQ,KAAK,MAAM,SAAS,SAAS,CAAC;AAC5C,UAAM,aAAa,KAAK,MAAM,SAAS,cAAc,CAAC;AACtD,UAAM,UAAU,KAAK,MAAM,SAAS,WAAW,CAAC;AAEhD,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,SAAI,WAAU,kBACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,EAAC,KAAK,8DAA6D;AAAA,cAC9E,eAAY;AAAA,cACZ,OAAQ,KAAK,MAAM,SAAiB;AAAA,cACpC,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAW,OAAO,MAAM;AAAA,cACxB,OAAM;AAAA,cACN,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAM;AAAA,cACN,WAAW,OAAO,MAAM;AAAA,cACxB,eAAY;AAAA,cACZ,OAAO,KAAK,MAAM,SAAS;AAAA,cAC3B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,QAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,SAAS,UAAU,CAAC;AAAA,cAC3B,SAAS,CAAC,GAAG,CAAC;AAAA,cACd,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS;AAAA,cACT,UAAU,KAAK,oBAAoB,KAAK,MAAM,MAAM;AAAA;AAAA,UACtD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,QAAQ;AAAA,cAC9B,UAAU,KAAK,oBAAoB,KAAK,MAAM,SAAS;AAAA;AAAA,UACzD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,SAAS;AAAA,cAChB,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM;AAAA,cAC/C,SAAS,OAAO,MAAM,OAAO;AAAA,cAC7B,UAAU,KAAK,oBAAoB,KAAK,MAAM,QAAQ;AAAA;AAAA,UACxD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,MAAM;AAAA,cAC5B,UAAU,KAAK,oBAAoB,KAAK,MAAM,OAAO;AAAA;AAAA,UACvD;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,UAAU;AAAA,cAChC,UAAU,KAAK,oBAAoB,KAAK,MAAM,WAAW;AAAA;AAAA,UAC3D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,MAAM;AAAA,cACxB,MAAK;AAAA,cACL,QAAQ,OAAO,MAAM,SAAS;AAAA,cAC9B,OAAO,MAAM;AAAA,cACb,SAAS,OAAO,MAAM,SAAS;AAAA,cAC/B,UAAU,KAAK,oBAAoB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,eAAY;AAAA,cACZ,OAAO,QAAQ;AAAA,cACf,UAAU,KAAK,sBAAsB,KAAK,MAAM,QAAQ;AAAA;AAAA,UAC1D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,QAAQ;AAAA,cAC1B,OAAO,QAAQ;AAAA,cACf,SAAS,OAAO,QAAQ,aAAa;AAAA,cACrC,UAAU,KAAK,sBAAsB,KAAK,MAAM,cAAc;AAAA;AAAA,UAChE;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,MAAM;AAAA,cACjC,UAAU,KAAK,yBAAyB,KAAK,MAAM,OAAO;AAAA;AAAA,UAC5D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO;AAAA,cACP,WAAW,OAAO,WAAW;AAAA,cAC7B,OAAO,WAAW;AAAA,cAClB,SAAS,OAAO,WAAW,SAAS;AAAA,cACpC,UAAU,KAAK,yBAAyB,KAAK,MAAM,UAAU;AAAA;AAAA,UAC/D;AAAA,UAEA;AAAA,YAAC;AAAA;AAAA,cACC,OAAO,oBAAoB,SAAS,eAAe;AAAA,cACnD,WAAW,oBAAoB,SAAS;AAAA,cACxC,eAAY;AAAA,cACZ,SAAS;AAAA,gBACP,CAAC,UAAU,eAAe;AAAA,gBAC1B,CAAC,MAAM,4BAA4B;AAAA,cACrC;AAAA,cACA,OAAO,SAAS,mBAAmB,KAAK;AAAA,cACxC,UAAU,yBAAyB,KAAK,MAAM,mBAAmB;AAAA;AAAA,UACnE;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"28c0a3026751ec3d3f3461aae938dbc2a7df4904"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ui=function(){return a},a}ui();class g8e extends Mn.Component{changeTransitionProperty(t,n){ui().f[0]++;const r=(ui().s[0]++,{...this.props.mapStyle.transition});ui().s[1]++,n===void 0?(ui().b[0][0]++,ui().s[2]++,delete r[t]):(ui().b[0][1]++,ui().s[3]++,r[t]=n),ui().s[4]++,this.props.onStyleChanged({...this.props.mapStyle,transition:r})}changeLightProperty(t,n){ui().f[1]++;const r=(ui().s[5]++,{...this.props.mapStyle.light});ui().s[6]++,n===void 0?(ui().b[1][0]++,ui().s[7]++,delete r[t]):(ui().b[1][1]++,ui().s[8]++,r[t]=n),ui().s[9]++,this.props.onStyleChanged({...this.props.mapStyle,light:r})}changeTerrainProperty(t,n){ui().f[2]++;const r=(ui().s[10]++,{...this.props.mapStyle.terrain});ui().s[11]++,n===void 0?(ui().b[2][0]++,ui().s[12]++,delete r[t]):(ui().b[2][1]++,ui().s[13]++,r[t]=n),ui().s[14]++,this.props.onStyleChanged({...this.props.mapStyle,terrain:r})}changeStyleProperty(t,n){ui().f[3]++;const r=(ui().s[15]++,{...this.props.mapStyle});ui().s[16]++,n===void 0?(ui().b[3][0]++,ui().s[17]++,delete r[t]):(ui().b[3][1]++,ui().s[18]++,r[t]=n),ui().s[19]++,this.props.onStyleChanged(r)}render(){ui().f[4]++;const t=(ui().s[20]++,ui().b[4][0]++,this.props.mapStyle.metadata||(ui().b[4][1]++,{})),{onChangeMetadataProperty:n,mapStyle:r}=(ui().s[21]++,this.props),i=(ui().s[22]++,ui().b[5][0]++,this.props.mapStyle.light||(ui().b[5][1]++,{})),o=(ui().s[23]++,ui().b[6][0]++,this.props.mapStyle.transition||(ui().b[6][1]++,{})),a=(ui().s[24]++,ui().b[7][0]++,this.props.mapStyle.terrain||(ui().b[7][1]++,{}));return ui().s[25]++,G.jsx(Hf,{"data-wd-key":"modal:settings",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Style Settings",children:G.jsxs("div",{className:"modal:settings",children:[G.jsx(C3,{label:"Name",fieldSpec:no.$root.name,"data-wd-key":"modal:settings.name",value:this.props.mapStyle.name,onChange:this.changeStyleProperty.bind(this,"name")}),G.jsx(C3,{label:"Owner",fieldSpec:{doc:"Owner ID of the style. Used by Mapbox or future style APIs."},"data-wd-key":"modal:settings.owner",value:this.props.mapStyle.owner,onChange:this.changeStyleProperty.bind(this,"owner")}),G.jsx(vb,{fieldSpec:no.$root.sprite,label:"Sprite URL","data-wd-key":"modal:settings.sprite",value:this.props.mapStyle.sprite,onChange:this.changeStyleProperty.bind(this,"sprite")}),G.jsx(vb,{label:"Glyphs URL",fieldSpec:no.$root.glyphs,"data-wd-key":"modal:settings.glyphs",value:this.props.mapStyle.glyphs,onChange:this.changeStyleProperty.bind(this,"glyphs")}),G.jsx(c5,{label:"Center",fieldSpec:no.$root.center,length:2,type:"number",value:(ui().b[8][0]++,r.center||(ui().b[8][1]++,[])),default:[0,0],onChange:this.changeStyleProperty.bind(this,"center")}),G.jsx(Pp,{label:"Zoom",fieldSpec:no.$root.zoom,value:r.zoom,default:0,onChange:this.changeStyleProperty.bind(this,"zoom")}),G.jsx(Pp,{label:"Bearing",fieldSpec:no.$root.bearing,value:r.bearing,default:no.$root.bearing.default,onChange:this.changeStyleProperty.bind(this,"bearing")}),G.jsx(Pp,{label:"Pitch",fieldSpec:no.$root.pitch,value:r.pitch,default:no.$root.pitch.default,onChange:this.changeStyleProperty.bind(this,"pitch")}),G.jsx(p8e,{label:"Light anchor",fieldSpec:no.light.anchor,name:"light-anchor",value:i.anchor,options:Object.keys(no.light.anchor.values),default:no.light.anchor.default,onChange:this.changeLightProperty.bind(this,"anchor")}),G.jsx(m8e,{label:"Light color",fieldSpec:no.light.color,value:i.color,default:no.light.color.default,onChange:this.changeLightProperty.bind(this,"color")}),G.jsx(Pp,{label:"Light intensity",fieldSpec:no.light.intensity,value:i.intensity,default:no.light.intensity.default,onChange:this.changeLightProperty.bind(this,"intensity")}),G.jsx(c5,{label:"Light position",fieldSpec:no.light.position,type:"number",length:no.light.position.length,value:i.position,default:no.light.position.default,onChange:this.changeLightProperty.bind(this,"position")}),G.jsx(C3,{label:"Terrain source",fieldSpec:no.terrain.source,"data-wd-key":"modal:settings.maputnik:terrain_source",value:a.source,onChange:this.changeTerrainProperty.bind(this,"source")}),G.jsx(Pp,{label:"Terrain exaggeration",fieldSpec:no.terrain.exaggeration,value:a.exaggeration,default:no.terrain.exaggeration.default,onChange:this.changeTerrainProperty.bind(this,"exaggeration")}),G.jsx(Pp,{label:"Transition delay",fieldSpec:no.transition.delay,value:o.delay,default:no.transition.delay.default,onChange:this.changeTransitionProperty.bind(this,"delay")}),G.jsx(Pp,{label:"Transition duration",fieldSpec:no.transition.duration,value:o.duration,default:no.transition.duration.default,onChange:this.changeTransitionProperty.bind(this,"duration")}),G.jsx(yk,{label:JD.maputnik.style_renderer.label,fieldSpec:JD.maputnik.style_renderer,"data-wd-key":"modal:settings.maputnik:renderer",options:[["mlgljs","MapLibreGL JS"],["ol","Open Layers (experimental)"]],value:(ui().b[9][0]++,t["maputnik:renderer"]||(ui().b[9][1]++,"mlgljs")),onChange:n.bind(this,"maputnik:renderer")})]})})}}var cQ={exports:{}};(function(e,t){(function(n,r,i){e.exports=i(),e.exports.default=i()})("slugify",Dh,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),r=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function i(o,a){if(typeof o!="string")throw new Error("slugify: string argument expected");a=typeof a=="string"?{replacement:a}:a||{};var s=r[a.locale]||{},h=a.replacement===void 0?"-":a.replacement,g=a.trim===void 0?!0:a.trim,_=o.normalize().split("").reduce(function(E,O){var K=s[O];return K===void 0&&(K=n[O]),K===void 0&&(K=O),K===h&&(K=" "),E+K.replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return a.strict&&(_=_.replace(/[^A-Za-z0-9\s]/g,"")),g&&(_=_.trim()),_=_.replace(/\s+/g,h),a.lower&&(_=_.toLowerCase()),_}return i.extend=function(o){Object.assign(n,o)},i})})(cQ);var y8e=cQ.exports;const v8e=Ba(y8e);var dQ={exports:{}};(function(e,t){(function(n,r){r()})(Dh,function(){function n(g,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function r(g,_,E){var O=new XMLHttpRequest;O.open("GET",g),O.responseType="blob",O.onload=function(){h(O.response,_,E)},O.onerror=function(){console.error("could not download file")},O.send()}function i(g){var _=new XMLHttpRequest;_.open("HEAD",g,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function o(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(_)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof window=="object"&&window.global===window?window:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(g,_,E){var O=a.URL||a.webkitURL,K=document.createElement("a");_=_||g.name||"download",K.download=_,K.rel="noopener",typeof g=="string"?(K.href=g,K.origin===location.origin?o(K):i(K.href)?r(g,_,E):o(K,K.target="_blank")):(K.href=O.createObjectURL(g),setTimeout(function(){O.revokeObjectURL(K.href)},4e4),setTimeout(function(){o(K)},0))}:"msSaveOrOpenBlob"in navigator?function(g,_,E){if(_=_||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,E),_);else if(i(g))r(g,_,E);else{var O=document.createElement("a");O.href=g,O.target="_blank",setTimeout(function(){o(O)})}}:function(g,_,E,O){if(O=O||open("","_blank"),O&&(O.document.title=O.document.body.innerText="downloading..."),typeof g=="string")return r(g,_,E);var K=g.type==="application/octet-stream",D=/constructor/i.test(a.HTMLElement)||a.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||K&&D||s)&&typeof FileReader<"u"){var ee=new FileReader;ee.onloadend=function(){var Z=ee.result;Z=Y?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=Z:location=Z,O=null},ee.readAsDataURL(g)}else{var H=a.URL||a.webkitURL,N=H.createObjectURL(g);O?O.location=N:location.href=N,O=null,setTimeout(function(){H.revokeObjectURL(N)},4e4)}});a.saveAs=h.saveAs=h,e.exports=h})})(dQ);var eF=dQ.exports;const _8e="4.1.2",C8e="abcd",b8e={protomaps:C8e};function or(){var e="/home/runner/work/maputnik/maputnik/src/libs/style.ts",t="f2b53595fc77c5cff1b3c8dac06de83dfd6617f2",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/style.ts",statementMap:{0:{start:{line:3,column:19},end:{line:7,column:2}},1:{start:{line:9,column:2},end:{line:9,column:52}},2:{start:{line:12,column:2},end:{line:15,column:3}},3:{start:{line:13,column:4},end:{line:13,column:28}},4:{start:{line:14,column:4},end:{line:14,column:17}},5:{start:{line:16,column:2},end:{line:16,column:15}},6:{start:{line:19,column:24},end:{line:23,column:4}},7:{start:{line:20,column:25},end:{line:20,column:37}},8:{start:{line:21,column:4},end:{line:21,column:36}},9:{start:{line:22,column:4},end:{line:22,column:24}},10:{start:{line:24,column:2},end:{line:27,column:4}},11:{start:{line:30,column:2},end:{line:33,column:4}},12:{start:{line:36,column:2},end:{line:36,column:69}},13:{start:{line:39,column:2},end:{line:43,column:3}},14:{start:{line:39,column:15},end:{line:39,column:16}},15:{start:{line:40,column:4},end:{line:42,column:5}},16:{start:{line:41,column:6},end:{line:41,column:15}},17:{start:{line:44,column:2},end:{line:44,column:14}},18:{start:{line:47,column:2},end:{line:49,column:3}},19:{start:{line:48,column:4},end:{line:48,column:33}},20:{start:{line:50,column:19},end:{line:50,column:42}},21:{start:{line:51,column:20},end:{line:51,column:67}},22:{start:{line:52,column:2},end:{line:54,column:3}},23:{start:{line:53,column:4},end:{line:53,column:37}},24:{start:{line:55,column:2},end:{line:55,column:21}},25:{start:{line:58,column:17},end:{line:58,column:45}},26:{start:{line:59,column:2},end:{line:60,column:20}},27:{start:{line:60,column:4},end:{line:60,column:20}},28:{start:{line:61,column:2},end:{line:62,column:20}},29:{start:{line:62,column:4},end:{line:62,column:20}},30:{start:{line:63,column:22},end:{line:63,column:64}},31:{start:{line:64,column:2},end:{line:66,column:3}},32:{start:{line:65,column:4},end:{line:65,column:20}},33:{start:{line:67,column:25},end:{line:73,column:3}},34:{start:{line:74,column:23},end:{line:77,column:3}},35:{start:{line:78,column:2},end:{line:78,column:22}},36:{start:{line:81,column:21},end:{line:81,column:29}},37:{start:{line:82,column:2},end:{line:84,column:5}},38:{start:{line:83,column:4},end:{line:83,column:76}},39:{start:{line:85,column:2},end:{line:85,column:22}},40:{start:{line:88,column:26},end:{line:90,column:3}},41:{start:{line:91,column:2},end:{line:94,column:4}}},fnMap:{0:{name:"generateId",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},1:{name:"ensureHasId",decl:{start:{line:11,column:9},end:{line:11,column:20}},loc:{start:{line:11,column:28},end:{line:17,column:1}},line:11},2:{name:"ensureHasNoInteractive",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:39},end:{line:28,column:1}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:52},end:{line:23,column:3}},line:19},4:{name:"ensureHasNoRefs",decl:{start:{line:29,column:9},end:{line:29,column:24}},loc:{start:{line:29,column:32},end:{line:34,column:1}},line:29},5:{name:"ensureStyleValidity",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:36},end:{line:37,column:1}},line:35},6:{name:"indexOfLayer",decl:{start:{line:38,column:9},end:{line:38,column:21}},loc:{start:{line:38,column:39},end:{line:45,column:1}},line:38},7:{name:"getAccessToken",decl:{start:{line:46,column:9},end:{line:46,column:23}},loc:{start:{line:46,column:52},end:{line:56,column:1}},line:46},8:{name:"replaceSourceAccessToken",decl:{start:{line:57,column:9},end:{line:57,column:33}},loc:{start:{line:57,column:67},end:{line:79,column:1}},line:57},9:{name:"replaceAccessTokens",decl:{start:{line:80,column:9},end:{line:80,column:28}},loc:{start:{line:80,column:50},end:{line:86,column:1}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:82,column:40},end:{line:82,column:41}},loc:{start:{line:82,column:56},end:{line:84,column:3}},line:82},11:{name:"stripAccessTokens",decl:{start:{line:87,column:9},end:{line:87,column:26}},loc:{start:{line:87,column:37},end:{line:95,column:1}},line:87}},branchMap:{0:{loc:{start:{line:12,column:2},end:{line:15,column:3}},type:"if",locations:[{start:{line:12,column:2},end:{line:15,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:12},1:{loc:{start:{line:12,column:6},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:6},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:35}}],line:12},2:{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:40},3:{loc:{start:{line:47,column:2},end:{line:49,column:3}},type:"if",locations:[{start:{line:47,column:2},end:{line:49,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},4:{loc:{start:{line:47,column:6},end:{line:47,column:89}},type:"binary-expr",locations:[{start:{line:47,column:6},end:{line:47,column:46}},{start:{line:47,column:50},end:{line:47,column:89}}],line:47},5:{loc:{start:{line:50,column:19},end:{line:50,column:42}},type:"binary-expr",locations:[{start:{line:50,column:19},end:{line:50,column:36}},{start:{line:50,column:40},end:{line:50,column:42}}],line:50},6:{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},7:{loc:{start:{line:52,column:6},end:{line:52,column:40}},type:"binary-expr",locations:[{start:{line:52,column:6},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:40}}],line:52},8:{loc:{start:{line:57,column:56},end:{line:57,column:65}},type:"default-arg",locations:[{start:{line:57,column:63},end:{line:57,column:65}}],line:57},9:{loc:{start:{line:59,column:2},end:{line:60,column:20}},type:"if",locations:[{start:{line:59,column:2},end:{line:60,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:59},10:{loc:{start:{line:61,column:2},end:{line:62,column:20}},type:"if",locations:[{start:{line:61,column:2},end:{line:62,column:20}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},11:{loc:{start:{line:61,column:6},end:{line:61,column:39}},type:"binary-expr",locations:[{start:{line:61,column:6},end:{line:61,column:24}},{start:{line:61,column:28},end:{line:61,column:39}}],line:61},12:{loc:{start:{line:64,column:2},end:{line:66,column:3}},type:"if",locations:[{start:{line:64,column:2},end:{line:66,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64},13:{loc:{start:{line:80,column:39},end:{line:80,column:48}},type:"default-arg",locations:[{start:{line:80,column:46},end:{line:80,column:48}}],line:80}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/style.ts"],names:[],mappings:"AAAA,SAAQ,mBAAkB;AAE1B,OAAO,YAAY;AAGnB,MAAM,aAAa,oBAAoB;AAAA,EACrC,SAAS;AAAA,EACT,SAAS,CAAC;AAAA,EACV,QAAQ,CAAC;AACX,CAAC;AAED,SAAS,aAAa;AACpB,SAAO,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,GAAG,CAAC;AAClD;AAEA,SAAS,YAAY,OAAkF;AACrG,MAAG,EAAE,QAAQ,UAAU,CAAC,MAAM,IAAI;AAChC,UAAM,KAAK,WAAW;AACtB,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEA,SAAS,uBAAuB,OAA0C;AACxE,QAAM,gBAAgB,MAAM,OAAO,IAAI,WAAS;AAC9C,UAAM,eAA2D,EAAE,GAAG,MAAM;AAC5E,WAAO,aAAa;AACpB,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ;AAAA,EACV;AACF;AAEA,SAAS,gBAAgB,OAA0C;AACjE,SAAO;AAAA,IACL,GAAG;AAAA,IACH,QAAQ,YAAY,MAAM,MAAM;AAAA,EAClC;AACF;AAEA,SAAS,oBAAoB,OAAgE;AAC3F,SAAO,uBAAuB,gBAAgB,YAAY,KAAK,CAAC,CAAC;AACnE;AAEA,SAAS,aAAa,QAA8B,SAAiB;AACnE,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAG,OAAO,CAAC,EAAE,OAAO,SAAS;AAC3B,aAAO;AAAA,IACT;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,eAAe,YAAoB,UAA8B,MAAiC;AACzG,MAAG,eAAe,6BAA6B,eAAe,0BAA0B;AACtF,iBAAa;AAAA,EACf;AAEA,QAAM,WAAW,SAAS,YAAY,CAAC;AACvC,MAAI,cAAc,SAAS,YAAY,UAAU,eAAe;AAEhE,MAAG,KAAK,iBAAiB,CAAC,aAAa;AACrC,kBAAc,OAAO,UAAiC;AAAA,EACxD;AAEA,SAAO;AACT;AAEA,SAAS,yBAAyB,UAA8B,YAAoB,OAAK,CAAC,GAAG;AAC3F,QAAM,SAAS,SAAS,QAAQ,UAAU;AAC1C,MAAG,CAAC;AAAQ,WAAO;AACnB,MAAG,EAAE,SAAS,WAAW,CAAC,OAAO;AAAK,WAAO;AAE7C,QAAM,cAAc,eAAe,YAAY,UAAU,IAAI;AAE7D,MAAG,CAAC,aAAa;AAEf,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,UAAU,GAAG;AAAA,MACZ,GAAG;AAAA,MACH,KAAK,OAAO,IAAI,QAAQ,SAAS,WAAW;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,eAAe;AAAA,IACnB,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACA,SAAO;AACT;AAEA,SAAS,oBAAoB,UAA8B,OAAK,CAAC,GAAG;AAClE,MAAI,eAAe;AAEnB,SAAO,KAAK,SAAS,OAAO,EAAE,QAAQ,CAAC,eAAe;AACpD,mBAAe,yBAAyB,cAAc,YAAY,IAAI;AAAA,EACxE,CAAC;AAED,SAAO;AACT;AAEA,SAAS,kBAAkB,UAA8B;AACvD,QAAM,kBAAkB;AAAA,IACtB,GAAG,SAAS;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,UAAU;AAAA,EACZ;AACF;AAEA,eAAe;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2b53595fc77c5cff1b3c8dac06de83dfd6617f2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return or=function(){return a},a}or();const x8e=(or().s[0]++,fQ({version:8,sources:{},layers:[]}));function hQ(){return or().f[0]++,or().s[1]++,Math.random().toString(36).substring(2,9)}function w8e(e){return or().f[1]++,or().s[2]++,or().b[1][0]++,!("id"in e)||(or().b[1][1]++,!e.id)?(or().b[0][0]++,or().s[3]++,e.id=hQ(),or().s[4]++,e):(or().b[0][1]++,or().s[5]++,e)}function M8e(e){or().f[2]++;const t=(or().s[6]++,e.layers.map(n=>{or().f[3]++;const r=(or().s[7]++,{...n});return or().s[8]++,delete r.interactive,or().s[9]++,r}));return or().s[10]++,{...e,layers:t}}function S8e(e){return or().f[4]++,or().s[11]++,{...e,layers:uJ(e.layers)}}function fQ(e){return or().f[5]++,or().s[12]++,M8e(S8e(w8e(e)))}function E8e(e,t){or().f[6]++,or().s[13]++;for(let n=(or().s[14]++,0);n<e.length;n++){if(or().s[15]++,e[n].id===t)return or().b[2][0]++,or().s[16]++,n;or().b[2][1]++}return or().s[17]++,null}function pQ(e,t,n){or().f[7]++,or().s[18]++,or().b[4][0]++,e==="thunderforest_transport"||(or().b[4][1]++,e==="thunderforest_outdoors")?(or().b[3][0]++,or().s[19]++,e="thunderforest"):or().b[3][1]++;const r=(or().s[20]++,or().b[5][0]++,t.metadata||(or().b[5][1]++,{}));let i=(or().s[21]++,r[`maputnik:${e}_access_token`]);return or().s[22]++,or().b[7][0]++,n.allowFallback&&(or().b[7][1]++,!i)?(or().b[6][0]++,or().s[23]++,i=b8e[e]):or().b[6][1]++,or().s[24]++,i}function O8e(e,t,n=(or().b[8][0]++,{})){or().f[8]++;const r=(or().s[25]++,e.sources[t]);if(or().s[26]++,r)or().b[9][1]++;else return or().b[9][0]++,or().s[27]++,e;if(or().s[28]++,or().b[11][0]++,!("url"in r)||(or().b[11][1]++,!r.url))return or().b[10][0]++,or().s[29]++,e;or().b[10][1]++;const i=(or().s[30]++,pQ(t,e,n));if(or().s[31]++,i)or().b[12][1]++;else return or().b[12][0]++,or().s[32]++,e;const o=(or().s[33]++,{...e.sources,[t]:{...r,url:r.url.replace("{key}",i)}}),a=(or().s[34]++,{...e,sources:o});return or().s[35]++,a}function B8e(e,t=(or().b[13][0]++,{})){or().f[9]++;let n=(or().s[36]++,e);return or().s[37]++,Object.keys(e.sources).forEach(r=>{or().f[10]++,or().s[38]++,n=O8e(n,r,t)}),or().s[39]++,n}function I8e(e){or().f[11]++;const t=(or().s[40]++,{...e.metadata});return or().s[41]++,{...e,metadata:t}}const pA={ensureStyleValidity:fQ,emptyStyle:x8e,indexOfLayer:E8e,generateId:hQ,getAccessToken:pQ,replaceAccessTokens:B8e,stripAccessTokens:I8e};function fa(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",t="0dd475ca752c82ce2aec1bcac4cc1d5892222324",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx",statementMap:{0:{start:{line:11,column:28},end:{line:11,column:35}},1:{start:{line:14,column:4},end:{line:18,column:6}},2:{start:{line:21,column:4},end:{line:29,column:5}},3:{start:{line:22,column:6},end:{line:26,column:9}},4:{start:{line:28,column:6},end:{line:28,column:36}},5:{start:{line:32,column:23},end:{line:32,column:44}},6:{start:{line:33,column:22},end:{line:33,column:55}},7:{start:{line:34,column:17},end:{line:58,column:1}},8:{start:{line:59,column:17},end:{line:59,column:70}},9:{start:{line:60,column:23},end:{line:60,column:40}},10:{start:{line:61,column:4},end:{line:61,column:39}},11:{start:{line:64,column:23},end:{line:64,column:44}},12:{start:{line:65,column:17},end:{line:65,column:83}},13:{start:{line:66,column:23},end:{line:66,column:40}},14:{start:{line:67,column:4},end:{line:67,column:39}},15:{start:{line:70,column:25},end:{line:76,column:5}},16:{start:{line:77,column:4},end:{line:77,column:44}},17:{start:{line:80,column:4},end:{line:116,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:19},end:{line:19,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:20,column:2},end:{line:20,column:3}},loc:{start:{line:20,column:15},end:{line:30,column:3}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:17},end:{line:62,column:3}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:18},end:{line:68,column:3}},line:63},4:{name:"(anonymous_4)",decl:{start:{line:69,column:2},end:{line:69,column:3}},loc:{start:{line:69,column:42},end:{line:78,column:3}},line:69},5:{name:"(anonymous_5)",decl:{start:{line:79,column:2},end:{line:79,column:3}},loc:{start:{line:79,column:11},end:{line:117,column:3}},line:79}},branchMap:{0:{loc:{start:{line:21,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:29,column:5}},{start:{line:27,column:11},end:{line:29,column:5}}],line:21},1:{loc:{start:{line:33,column:22},end:{line:33,column:55}},type:"binary-expr",locations:[{start:{line:33,column:22},end:{line:33,column:46}},{start:{line:33,column:50},end:{line:33,column:55}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalExport.tsx"],names:[],mappings:"AA6GQ,cASE,YATF;AA7GR,OAAO,WAAW;AAClB,OAAO,aAAa;AACpB,SAAQ,cAAa;AACrB,SAAQ,eAAc;AACtB,SAAQ,cAAa;AAErB,SAAQ,sBAAqB;AAE7B,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAClB,OAAO,WAAW;AAGlB,MAAM,sBAAsB;AAW5B,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EAEzE,iBAAkB;AAChB,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,MAAM,oBAAoB,KAAK,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,aAAc;AACZ,QAAG,KAAK,MAAM,SAAS,MAAM;AAC3B,aAAO,QAAQ,KAAK,MAAM,SAAS,MAAM;AAAA,QACvC,aAAa;AAAA,QACb,QAAQ;AAAA,QACR,OAAO;AAAA,MACT,CAAC;AAAA,IACH,OAAO;AACL,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAAA,EACF;AAAA,EAEA,eAAe;AACb,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,YAAY,KAAK,MAAM,SAAS,QAAQ;AAC9C,UAAM,OAAO;AAAA;AAAA;AAAA;AAAA,WAIN,SAAS;AAAA;AAAA,+CAE2B,mBAAmB;AAAA,8CACpB,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAW/C,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,UAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAC,MAAM,0BAAyB,CAAC;AAC/D,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,gBAAgB;AACd,UAAM,aAAa,KAAK,eAAe;AACvC,UAAM,OAAO,IAAI,KAAK,CAAC,UAAU,GAAG,EAAC,MAAM,iCAAgC,CAAC;AAC5E,UAAM,aAAa,KAAK,WAAW;AACnC,WAAO,MAAM,aAAa,OAAO;AAAA,EACnC;AAAA,EAEA,uBAAuB,UAAkB,OAAY;AACnD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,MAAM,eAAe,YAAY;AAAA,EACxC;AAAA,EAGA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QACP,WAAU;AAAA,QAGV,+BAAC,aAAQ,WAAU,0BACjB;AAAA,8BAAC,QAAG,4BAAc;AAAA,UAClB,oBAAC,OAAE,qDAEH;AAAA,UAEA,oBAAC,SACD;AAAA,UAEA,qBAAC,SAAI,WAAU,iCACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,cAAc,KAAK,IAAI;AAAA,gBAErC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,YAEA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS,KAAK,aAAa,KAAK,IAAI;AAAA,gBAEpC;AAAA,sCAAC,kBAAe;AAAA,kBAAE;AAAA;AAAA;AAAA,YAEpB;AAAA,aACF;AAAA,WACF;AAAA;AAAA,IAEF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0dd475ca752c82ce2aec1bcac4cc1d5892222324"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return fa=function(){return a},a}fa();const tF=(fa().s[0]++,_8e);class k8e extends Mn.Component{tokenizedStyle(){return fa().f[0]++,fa().s[1]++,yz(pA.stripAccessTokens(pA.replaceAccessTokens(this.props.mapStyle)))}exportName(){return fa().f[1]++,fa().s[2]++,this.props.mapStyle.name?(fa().b[0][0]++,fa().s[3]++,v8e(this.props.mapStyle.name,{replacement:"_",remove:/[*\-+~.()'"!:]/g,lower:!0})):(fa().b[0][1]++,fa().s[4]++,this.props.mapStyle.id)}downloadHtml(){fa().f[2]++;const t=(fa().s[5]++,this.tokenizedStyle()),n=(fa().s[6]++,fa().b[1][0]++,this.props.mapStyle.name||(fa().b[1][1]++,"Map")),r=(fa().s[7]++,`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>${n}</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://unpkg.com/maplibre-gl@${tF}/dist/maplibre-gl.js"><\/script>
  <link href="https://unpkg.com/maplibre-gl@${tF}/dist/maplibre-gl.css" rel="stylesheet" />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
      const map = new maplibregl.Map({
         container: 'map',
         style: ${t},
      });
      map.addControl(new maplibregl.NavigationControl());
  <\/script>
</body>
</html>
`),i=(fa().s[8]++,new Blob([r],{type:"text/html;charset=utf-8"})),o=(fa().s[9]++,this.exportName());fa().s[10]++,eF.saveAs(i,o+".html")}downloadStyle(){fa().f[3]++;const t=(fa().s[11]++,this.tokenizedStyle()),n=(fa().s[12]++,new Blob([t],{type:"application/json;charset=utf-8"})),r=(fa().s[13]++,this.exportName());fa().s[14]++,eF.saveAs(n,r+".json")}changeMetadataProperty(t,n){fa().f[4]++;const r=(fa().s[15]++,{...this.props.mapStyle,metadata:{...this.props.mapStyle.metadata,[t]:n}});fa().s[16]++,this.props.onStyleChanged(r)}render(){return fa().f[5]++,fa().s[17]++,G.jsx(Hf,{"data-wd-key":"modal:export",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Export Style",className:"maputnik-export-modal",children:G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Download Style"}),G.jsx("p",{children:"Download a JSON style to your computer."}),G.jsx("div",{}),G.jsxs("div",{className:"maputnik-modal-export-buttons",children:[G.jsxs(ja,{onClick:this.downloadStyle.bind(this),children:[G.jsx(ZE,{}),"Download Style"]}),G.jsxs(ja,{onClick:this.downloadHtml.bind(this),children:[G.jsx(ZE,{}),"Download HTML"]})]})]})})}}function y5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",t="950dd35e62562a3439b74678b95f406e749c6958",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:139}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldDynamicArray.tsx"],names:[],mappings:"AAWM;AAXN,OAAO,WAAW;AAClB,OAAO,uBAA2E;AAClF,OAAO,cAAc;AAMrB,qBAAqB,0BAA0B,MAAM,UAAkC;AAAA,EACrF,SAAS;AACP,WAAO,oBAAC,YAAS,OAAO,KAAK,MAAM,OACjC,8BAAC,qBAAmB,GAAG,KAAK,OAAO,GACrC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"950dd35e62562a3439b74678b95f406e749c6958"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return y5=function(){return a},a}y5();class mQ extends Mn.Component{render(){return y5().f[0]++,y5().s[0]++,G.jsx(yb,{label:this.props.label,children:G.jsx(J$,{...this.props})})}}function v5(){var e="/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",t="a27c35e986d22656fa80c276efb67df518853ac2",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:132}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:11},end:{line:8,column:3}},line:6}},branchMap:{},s:{0:0},f:{0:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/FieldCheckbox.tsx"],names:[],mappings:"AAaM;AAbN,OAAO,WAAW;AAClB,OAAO,WAAW;AAClB,OAAO,mBAAyC;AAQhD,qBAAqB,sBAAsB,MAAM,UAA8B;AAAA,EAC7E,SAAS;AACP,WAAO,oBAAC,SAAM,OAAO,KAAK,MAAM,OAC9B,8BAAC,iBAAe,GAAG,KAAK,OAAO,GACjC;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a27c35e986d22656fa80c276efb67df518853ac2"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return v5=function(){return a},a}v5();class T8e extends Mn.Component{render(){return v5().f[0]++,v5().s[0]++,G.jsx(oa,{label:this.props.label,children:G.jsx(fk,{...this.props})})}}function qn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",t="798f720ff3d540f2aaf234b5732a12cc911e43d1",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:28,column:9}},1:{start:{line:21,column:29},end:{line:24,column:12}},2:{start:{line:33,column:4},end:{line:36,column:7}},3:{start:{line:39,column:18},end:{line:39,column:47}},4:{start:{line:40,column:4},end:{line:49,column:6}},5:{start:{line:52,column:4},end:{line:79,column:9}},6:{start:{line:60,column:33},end:{line:63,column:12}},7:{start:{line:72,column:33},end:{line:75,column:12}},8:{start:{line:84,column:24},end:{line:91,column:5}},9:{start:{line:85,column:26},end:{line:85,column:64}},10:{start:{line:86,column:6},end:{line:86,column:29}},11:{start:{line:87,column:6},end:{line:90,column:9}},12:{start:{line:92,column:4},end:{line:119,column:9}},13:{start:{line:99,column:29},end:{line:102,column:12}},14:{start:{line:106,column:8},end:{line:117,column:10}},15:{start:{line:114,column:31},end:{line:114,column:52}},16:{start:{line:124,column:24},end:{line:131,column:5}},17:{start:{line:125,column:26},end:{line:125,column:64}},18:{start:{line:126,column:6},end:{line:126,column:29}},19:{start:{line:127,column:6},end:{line:130,column:9}},20:{start:{line:132,column:23},end:{line:137,column:5}},21:{start:{line:133,column:6},end:{line:136,column:9}},22:{start:{line:138,column:4},end:{line:164,column:9}},23:{start:{line:151,column:8},end:{line:162,column:10}},24:{start:{line:159,column:31},end:{line:159,column:52}},25:{start:{line:169,column:4},end:{line:180,column:6}},26:{start:{line:175,column:28},end:{line:178,column:10}},27:{start:{line:185,column:4},end:{line:217,column:9}},28:{start:{line:197,column:12},end:{line:200,column:15}},29:{start:{line:210,column:12},end:{line:213,column:15}},30:{start:{line:222,column:24},end:{line:225,column:5}},31:{start:{line:226,column:4},end:{line:263,column:5}},32:{start:{line:228,column:8},end:{line:228,column:77}},33:{start:{line:230,column:8},end:{line:230,column:79}},34:{start:{line:232,column:8},end:{line:232,column:85}},35:{start:{line:234,column:8},end:{line:234,column:77}},36:{start:{line:236,column:8},end:{line:236,column:76}},37:{start:{line:238,column:8},end:{line:238,column:77}},38:{start:{line:240,column:8},end:{line:240,column:76}},39:{start:{line:242,column:8},end:{line:242,column:77}},40:{start:{line:244,column:8},end:{line:256,column:13}},41:{start:{line:250,column:36},end:{line:253,column:14}},42:{start:{line:258,column:8},end:{line:258,column:74}},43:{start:{line:260,column:8},end:{line:260,column:74}},44:{start:{line:262,column:8},end:{line:262,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:29,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:21,column:20},end:{line:21,column:21}},loc:{start:{line:21,column:29},end:{line:24,column:12}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:24},end:{line:37,column:3}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:19},end:{line:50,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:11},end:{line:80,column:3}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:60,column:20},end:{line:60,column:21}},loc:{start:{line:60,column:33},end:{line:63,column:12}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:72,column:20},end:{line:72,column:21}},loc:{start:{line:72,column:33},end:{line:75,column:12}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:11},end:{line:120,column:3}},line:83},8:{name:"(anonymous_8)",decl:{start:{line:84,column:24},end:{line:84,column:25}},loc:{start:{line:84,column:38},end:{line:91,column:5}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:99,column:20},end:{line:99,column:21}},loc:{start:{line:99,column:29},end:{line:102,column:12}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:105,column:67},end:{line:105,column:68}},loc:{start:{line:105,column:83},end:{line:118,column:7}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:114,column:22},end:{line:114,column:23}},loc:{start:{line:114,column:31},end:{line:114,column:52}},line:114},12:{name:"(anonymous_12)",decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:11},end:{line:165,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:24},end:{line:124,column:25}},loc:{start:{line:124,column:38},end:{line:131,column:5}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:132,column:23},end:{line:132,column:24}},loc:{start:{line:132,column:33},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:150,column:67},end:{line:150,column:68}},loc:{start:{line:150,column:83},end:{line:163,column:7}},line:150},16:{name:"(anonymous_16)",decl:{start:{line:159,column:22},end:{line:159,column:23}},loc:{start:{line:159,column:31},end:{line:159,column:52}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:168,column:2},end:{line:168,column:3}},loc:{start:{line:168,column:11},end:{line:181,column:3}},line:168},18:{name:"(anonymous_18)",decl:{start:{line:175,column:18},end:{line:175,column:19}},loc:{start:{line:175,column:28},end:{line:178,column:10}},line:175},19:{name:"(anonymous_19)",decl:{start:{line:184,column:2},end:{line:184,column:3}},loc:{start:{line:184,column:11},end:{line:218,column:3}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:196,column:20},end:{line:196,column:21}},loc:{start:{line:196,column:30},end:{line:201,column:11}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:209,column:20},end:{line:209,column:21}},loc:{start:{line:209,column:33},end:{line:214,column:11}},line:209},22:{name:"(anonymous_22)",decl:{start:{line:221,column:2},end:{line:221,column:3}},loc:{start:{line:221,column:11},end:{line:264,column:3}},line:221},23:{name:"(anonymous_23)",decl:{start:{line:250,column:22},end:{line:250,column:23}},loc:{start:{line:250,column:36},end:{line:253,column:14}},line:250}},branchMap:{0:{loc:{start:{line:39,column:18},end:{line:39,column:47}},type:"binary-expr",locations:[{start:{line:39,column:18},end:{line:39,column:41}},{start:{line:39,column:45},end:{line:39,column:47}}],line:39},1:{loc:{start:{line:59,column:17},end:{line:59,column:47}},type:"binary-expr",locations:[{start:{line:59,column:17},end:{line:59,column:42}},{start:{line:59,column:46},end:{line:59,column:47}}],line:59},2:{loc:{start:{line:71,column:17},end:{line:71,column:48}},type:"binary-expr",locations:[{start:{line:71,column:17},end:{line:71,column:42}},{start:{line:71,column:46},end:{line:71,column:48}}],line:71},3:{loc:{start:{line:226,column:4},end:{line:263,column:5}},type:"switch",locations:[{start:{line:227,column:6},end:{line:228,column:77}},{start:{line:229,column:6},end:{line:230,column:79}},{start:{line:231,column:6},end:{line:232,column:85}},{start:{line:233,column:6},end:{line:234,column:77}},{start:{line:235,column:6},end:{line:236,column:76}},{start:{line:237,column:6},end:{line:238,column:77}},{start:{line:239,column:6},end:{line:240,column:76}},{start:{line:241,column:6},end:{line:242,column:77}},{start:{line:243,column:6},end:{line:256,column:13}},{start:{line:257,column:6},end:{line:258,column:74}},{start:{line:259,column:6},end:{line:260,column:74}},{start:{line:261,column:6},end:{line:262,column:20}}],line:226},4:{loc:{start:{line:254,column:19},end:{line:254,column:90}},type:"binary-expr",locations:[{start:{line:254,column:19},end:{line:254,column:45}},{start:{line:254,column:49},end:{line:254,column:90}}],line:254}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0,0,0,0,0,0,0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSourcesTypeEditor.tsx"],names:[],mappings:"AAwBW,SACL,KADK;AAxBX,OAAO,WAAW;AAClB,SAAQ,cAAa;AACrB,OAAO,WAAW;AAClB,OAAO,cAAc;AACrB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,uBAAuB;AAC9B,OAAO,gBAAgB;AACvB,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAa1B,MAAM,6BAA6B,MAAM,UAAqC;AAAA,EAC5E,SAAS;AACP,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EACF;AACF;AAYA,MAAM,4BAA4B,MAAM,UAAoC;AAAA,EAC1E,eAAe,OAAiB;AAC9B,SAAK,MAAM,SAAS;AAAA,MAClB,GAAG,KAAK,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB;AACf,UAAM,QAAQ,KAAK,MAAM,OAAO,SAAS,CAAC;AAC1C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,cAAc;AAAA,QAChC,MAAK;AAAA,QACL,OAAO;AAAA,QACP,UAAU,KAAK,eAAe,KAAK,IAAI;AAAA;AAAA,IACzC;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAO,qBAAC,SACL;AAAA,WAAK,eAAe;AAAA,MACrB;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,cAAc;AAAA,UAChC,OAAO,KAAK,MAAM,OAAO,WAAW;AAAA,UACpC,UAAU,aAAW,KAAK,MAAM,SAAS;AAAA,YACvC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,KAAK,MAAM;AAAA,OACd;AAAA,EAEF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,SAAO,KAAK,MAAM,SAAS;AAAA,YACnC,GAAG,KAAK,MAAM;AAAA,YACd;AAAA,UACF,CAAC;AAAA;AAAA,MACH;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AAUA,MAAM,0BAA0B,MAAM,UAAkC;AAAA,EACtE,SAAS;AACP,UAAM,cAAc,CAAC,KAAa,QAA0B;AAC1D,YAAM,cAAc,KAAK,MAAM,OAAO,YAAY,MAAM,CAAC;AACzD,kBAAY,GAAG,IAAI;AAEnB,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,aAAa,CAAC,SAAmB;AACrC,WAAK,MAAM,SAAS;AAAA,QAClB,GAAG,KAAK,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAEA,WAAO,qBAAC,SACN;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,OAAO,aAAa;AAAA,UAC/B,MAAK;AAAA,UACL,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,SAAS,CAAC;AAAA,UACV,UAAU;AAAA;AAAA,MACZ;AAAA,MACC,CAAC,YAAY,aAAa,gBAAgB,aAAa,EAAE,IAAI,CAAC,OAAO,QAAQ;AAC5E,eACE;AAAA,UAAC;AAAA;AAAA,YACC,OAAO,SAAS,KAAK;AAAA,YAErB,QAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,KAAK,MAAM,OAAO,YAAY,GAAG;AAAA,YACxC,SAAS,CAAC,GAAG,CAAC;AAAA,YACd,UAAU,CAAC,QAA0B,YAAY,KAAK,GAAG;AAAA;AAAA,UALpD;AAAA,QAMP;AAAA,MAEJ,CAAC;AAAA,OACH;AAAA,EACF;AACF;AASA,MAAM,+BAA+B,MAAM,UAAuC;AAAA,EAChF,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,OAAO;AAAA,QACP,WAAW,OAAO,eAAe;AAAA,QACjC,OAAO,KAAK,MAAM,OAAO;AAAA,QACzB,UAAU,UAAQ,KAAK,MAAM,SAAS;AAAA,UACpC,GAAG,KAAK,MAAM;AAAA,UACd;AAAA,QACF,CAAC;AAAA;AAAA,IACH;AAAA,EACF;AACF;AAUA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SACN;AAAA,0BAAC,SAAM,OAAO,WAAW,WAAW,OAAO,eAAe,MACxD;AAAA,QAAC;AAAA;AAAA,UACC,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,WAAW;AAAA,UACX,MAAM;AAAA,YACJ,MAAM;AAAA,YACN,MAAM;AAAA,UACR;AAAA,UACA,MAAM;AAAA,UACN,UAAU,UAAQ;AAChB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF,GACF;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,KAAK,MAAM,OAAO;AAAA,UACzB,UAAU,aAAW;AACnB,iBAAK,MAAM,SAAS;AAAA,cAClB,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,MACF;AAAA,OACF;AAAA,EACF;AACF;AAQA,qBAAqB,+BAA+B,MAAM,UAAuC;AAAA,EAC/F,SAAS;AACP,UAAM,cAAc;AAAA,MAClB,QAAQ,KAAK,MAAM;AAAA,MACnB,UAAU,KAAK,MAAM;AAAA,IACvB;AACA,YAAO,KAAK,MAAM,MAAM;AAAA,MACxB,KAAK;AAAW,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC9D,KAAK;AAAe,eAAO,oBAAC,0BAAwB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAgB,eAAO,oBAAC,gCAA8B,GAAG,aAAa;AAAA,MAC3E,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAmB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MACtE,KAAK;AAAkB,eAAO,oBAAC,uBAAqB,GAAG,aAAa;AAAA,MACpE,KAAK;AAAuB,eAAO,oBAAC,wBAAsB,GAAG,aAAa;AAAA,MAC1E,KAAK;AAAsB,eAAO,oBAAC,uBAAqB,GAAG,aACzD;AAAA,UAAC;AAAA;AAAA,YACC,OAAO;AAAA,YACP,WAAW,OAAO,kBAAkB;AAAA,YACpC,SAAS,OAAO,KAAK,OAAO,kBAAkB,SAAS,MAAM;AAAA,YAC7D,UAAU,cAAY,KAAK,MAAM,SAAS;AAAA,cACxC,GAAG,KAAK,MAAM;AAAA,cACd;AAAA,YACF,CAAC;AAAA,YACD,OAAO,KAAK,MAAM,OAAO,YAAY,OAAO,kBAAkB,SAAS;AAAA;AAAA,QACzE,GACF;AAAA,MACA,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD,KAAK;AAAS,eAAO,oBAAC,qBAAmB,GAAG,aAAa;AAAA,MACzD;AAAS,eAAO;AAAA,IAChB;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"798f720ff3d540f2aaf234b5732a12cc911e43d1"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return qn=function(){return a},a}qn();class Q2 extends Mn.Component{render(){return qn().f[0]++,qn().s[0]++,G.jsxs("div",{children:[G.jsx(vb,{label:"TileJSON URL",fieldSpec:Ea.source_vector.url,value:this.props.source.url,onChange:t=>(qn().f[1]++,qn().s[1]++,this.props.onChange({...this.props.source,url:t}))}),this.props.children]})}}class w6 extends Mn.Component{changeTileUrls(t){qn().f[2]++,qn().s[2]++,this.props.onChange({...this.props.source,tiles:t})}renderTileUrls(){qn().f[3]++;const t=(qn().s[3]++,qn().b[0][0]++,this.props.source.tiles||(qn().b[0][1]++,[]));return qn().s[4]++,G.jsx(mQ,{label:"Tile URL",fieldSpec:Ea.source_vector.tiles,type:"url",value:t,onChange:this.changeTileUrls.bind(this)})}render(){return qn().f[4]++,qn().s[5]++,G.jsxs("div",{children:[this.renderTileUrls(),G.jsx(Pp,{label:"Min Zoom",fieldSpec:Ea.source_vector.minzoom,value:(qn().b[1][0]++,this.props.source.minzoom||(qn().b[1][1]++,0)),onChange:t=>(qn().f[5]++,qn().s[6]++,this.props.onChange({...this.props.source,minzoom:t}))}),G.jsx(Pp,{label:"Max Zoom",fieldSpec:Ea.source_vector.maxzoom,value:(qn().b[2][0]++,this.props.source.maxzoom||(qn().b[2][1]++,22)),onChange:t=>(qn().f[6]++,qn().s[7]++,this.props.onChange({...this.props.source,maxzoom:t}))}),this.props.children]})}}class P8e extends Mn.Component{render(){qn().f[7]++,qn().s[8]++;const t=(n,r)=>{qn().f[8]++;const i=(qn().s[9]++,this.props.source.coordinates.slice(0));qn().s[10]++,i[n]=r,qn().s[11]++,this.props.onChange({...this.props.source,coordinates:i})};return qn().s[12]++,G.jsxs("div",{children:[G.jsx(vb,{label:"Image URL",fieldSpec:Ea.source_image.url,value:this.props.source.url,onChange:n=>(qn().f[9]++,qn().s[13]++,this.props.onChange({...this.props.source,url:n}))}),["top left","top right","bottom right","bottom left"].map((n,r)=>(qn().f[10]++,qn().s[14]++,G.jsx(c5,{label:`Coord ${n}`,length:2,type:"number",value:this.props.source.coordinates[r],default:[0,0],onChange:i=>(qn().f[11]++,qn().s[15]++,t(r,i))},n)))]})}}class K8e extends Mn.Component{render(){qn().f[12]++,qn().s[16]++;const t=(r,i)=>{qn().f[13]++;const o=(qn().s[17]++,this.props.source.coordinates.slice(0));qn().s[18]++,o[r]=i,qn().s[19]++,this.props.onChange({...this.props.source,coordinates:o})};qn().s[20]++;const n=r=>{qn().f[14]++,qn().s[21]++,this.props.onChange({...this.props.source,urls:r})};return qn().s[22]++,G.jsxs("div",{children:[G.jsx(mQ,{label:"Video URL",fieldSpec:Ea.source_video.urls,type:"string",value:this.props.source.urls,default:[],onChange:n}),["top left","top right","bottom right","bottom left"].map((r,i)=>(qn().f[15]++,qn().s[23]++,G.jsx(c5,{label:`Coord ${r}`,length:2,type:"number",value:this.props.source.coordinates[i],default:[0,0],onChange:o=>(qn().f[16]++,qn().s[24]++,t(i,o))},r)))]})}}class D8e extends Mn.Component{render(){return qn().f[17]++,qn().s[25]++,G.jsx(vb,{label:"GeoJSON URL",fieldSpec:Ea.source_geojson.data,value:this.props.source.data,onChange:t=>(qn().f[18]++,qn().s[26]++,this.props.onChange({...this.props.source,data:t}))})}}class F8e extends Mn.Component{render(){return qn().f[19]++,qn().s[27]++,G.jsxs("div",{children:[G.jsx(oa,{label:"GeoJSON",fieldSpec:Ea.source_geojson.data,children:G.jsx(KI,{layer:this.props.source.data,maxHeight:200,mode:{name:"javascript",json:!0},lint:!0,onChange:t=>{qn().f[20]++,qn().s[28]++,this.props.onChange({...this.props.source,data:t})}})}),G.jsx(T8e,{label:"Cluster",value:this.props.source.cluster,onChange:t=>{qn().f[21]++,qn().s[29]++,this.props.onChange({...this.props.source,cluster:t})}})]})}}class gQ extends Mn.Component{render(){qn().f[22]++;const t=(qn().s[30]++,{source:this.props.source,onChange:this.props.onChange});switch(qn().s[31]++,this.props.mode){case"pmtiles":return qn().b[3][0]++,qn().s[32]++,G.jsx(Q2,{...t});case"geojson_url":return qn().b[3][1]++,qn().s[33]++,G.jsx(D8e,{...t});case"geojson_json":return qn().b[3][2]++,qn().s[34]++,G.jsx(F8e,{...t});case"tilejson_vector":return qn().b[3][3]++,qn().s[35]++,G.jsx(Q2,{...t});case"tilexyz_vector":return qn().b[3][4]++,qn().s[36]++,G.jsx(w6,{...t});case"tilejson_raster":return qn().b[3][5]++,qn().s[37]++,G.jsx(Q2,{...t});case"tilexyz_raster":return qn().b[3][6]++,qn().s[38]++,G.jsx(w6,{...t});case"tilejson_raster-dem":return qn().b[3][7]++,qn().s[39]++,G.jsx(Q2,{...t});case"tilexyz_raster-dem":return qn().b[3][8]++,qn().s[40]++,G.jsx(w6,{...t,children:G.jsx(yk,{label:"Encoding",fieldSpec:Ea.source_raster_dem.encoding,options:Object.keys(Ea.source_raster_dem.encoding.values),onChange:n=>(qn().f[23]++,qn().s[41]++,this.props.onChange({...this.props.source,encoding:n})),value:(qn().b[4][0]++,this.props.source.encoding||(qn().b[4][1]++,Ea.source_raster_dem.encoding.default))})});case"image":return qn().b[3][9]++,qn().s[42]++,G.jsx(P8e,{...t});case"video":return qn().b[3][10]++,qn().s[43]++,G.jsx(K8e,{...t});default:return qn().b[3][11]++,qn().s[44]++,null}}}function Ih(){var e="/home/runner/work/maputnik/maputnik/src/libs/source.ts",t="315b9927ffd3b5bf51669bb9e53779783a451930",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/source.ts",statementMap:{0:{start:{line:2,column:27},end:{line:2,column:50}},1:{start:{line:3,column:2},end:{line:3,column:36}},2:{start:{line:4,column:2},end:{line:7,column:4}},3:{start:{line:10,column:2},end:{line:10,column:50}},4:{start:{line:13,column:25},end:{line:16,column:3}},5:{start:{line:17,column:2},end:{line:20,column:4}}},fnMap:{0:{name:"deleteSource",decl:{start:{line:1,column:16},end:{line:1,column:28}},loc:{start:{line:1,column:49},end:{line:8,column:1}},line:1},1:{name:"addSource",decl:{start:{line:9,column:16},end:{line:9,column:25}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},2:{name:"changeSource",decl:{start:{line:12,column:16},end:{line:12,column:28}},loc:{start:{line:12,column:57},end:{line:21,column:1}},line:12}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/source.ts"],names:[],mappings:"AAEO,gBAAS,aAAa,UAA8B,UAAkB;AAC3E,QAAM,mBAAmB,EAAE,GAAG,SAAS,QAAO;AAC9C,SAAO,iBAAiB,QAAQ;AAChC,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;AAGO,gBAAS,UAAU,UAA8B,UAAkB,QAA6B;AACrG,SAAO,aAAa,UAAU,UAAU,MAAM;AAChD;AAEO,gBAAS,aAAa,UAA8B,UAAkB,QAA6B;AACxG,QAAM,iBAAiB;AAAA,IACrB,GAAG,SAAS;AAAA,IACZ,CAAC,QAAQ,GAAG;AAAA,EACd;AACA,SAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,EACX;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"315b9927ffd3b5bf51669bb9e53779783a451930"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ih=function(){return a},a}Ih();function L8e(e,t){Ih().f[0]++;const n=(Ih().s[0]++,{...e.sources});return Ih().s[1]++,delete n[t],Ih().s[2]++,{...e,sources:n}}function nF(e,t,n){return Ih().f[1]++,Ih().s[3]++,yQ(e,t,n)}function yQ(e,t,n){Ih().f[2]++;const r=(Ih().s[4]++,{...e.sources,[t]:n});return Ih().s[5]++,{...e,sources:r}}const U8e={type:"vector",url:"https://api.protomaps.com/tiles/v3.json?key=2032954149d581a9",title:"Protomaps API"},rF={protomaps:U8e};function Jt(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",t="191f4910599dab0977f15d510c95eca798aa65eb",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx",statementMap:{0:{start:{line:15,column:4},end:{line:32,column:9}},1:{start:{line:19,column:23},end:{line:19,column:57}},2:{start:{line:36,column:2},end:{line:40,column:3}},3:{start:{line:37,column:4},end:{line:38,column:30}},4:{start:{line:38,column:6},end:{line:38,column:30}},5:{start:{line:39,column:4},end:{line:39,column:29}},6:{start:{line:41,column:2},end:{line:45,column:3}},7:{start:{line:42,column:4},end:{line:43,column:34}},8:{start:{line:43,column:6},end:{line:43,column:34}},9:{start:{line:44,column:4},end:{line:44,column:33}},10:{start:{line:46,column:2},end:{line:50,column:3}},11:{start:{line:47,column:4},end:{line:48,column:30}},12:{start:{line:48,column:6},end:{line:48,column:30}},13:{start:{line:49,column:4},end:{line:49,column:29}},14:{start:{line:51,column:2},end:{line:57,column:3}},15:{start:{line:52,column:4},end:{line:56,column:5}},16:{start:{line:53,column:6},end:{line:53,column:27}},17:{start:{line:55,column:6},end:{line:55,column:28}},18:{start:{line:58,column:2},end:{line:60,column:3}},19:{start:{line:59,column:4},end:{line:59,column:19}},20:{start:{line:61,column:2},end:{line:63,column:3}},21:{start:{line:62,column:4},end:{line:62,column:19}},22:{start:{line:64,column:2},end:{line:64,column:14}},23:{start:{line:68,column:4},end:{line:94,column:9}},24:{start:{line:80,column:27},end:{line:80,column:67}},25:{start:{line:99,column:4},end:{line:99,column:17}},26:{start:{line:100,column:4},end:{line:104,column:6}},27:{start:{line:107,column:19},end:{line:107,column:50}},28:{start:{line:108,column:25},end:{line:108,column:40}},29:{start:{line:109,column:4},end:{line:188,column:5}},30:{start:{line:111,column:8},end:{line:114,column:10}},31:{start:{line:116,column:8},end:{line:119,column:10}},32:{start:{line:121,column:8},end:{line:125,column:10}},33:{start:{line:127,column:8},end:{line:130,column:10}},34:{start:{line:132,column:8},end:{line:137,column:10}},35:{start:{line:139,column:8},end:{line:142,column:10}},36:{start:{line:144,column:8},end:{line:149,column:10}},37:{start:{line:151,column:8},end:{line:154,column:10}},38:{start:{line:156,column:8},end:{line:161,column:10}},39:{start:{line:163,column:8},end:{line:172,column:10}},40:{start:{line:174,column:8},end:{line:185,column:10}},41:{start:{line:187,column:8},end:{line:187,column:18}},42:{start:{line:190,column:10},end:{line:193,column:3}},43:{start:{line:191,column:33},end:{line:191,column:43}},44:{start:{line:192,column:4},end:{line:192,column:39}},45:{start:{line:194,column:19},end:{line:196,column:3}},46:{start:{line:195,column:4},end:{line:195,column:30}},47:{start:{line:198,column:32},end:{line:200,column:5}},48:{start:{line:201,column:4},end:{line:249,column:9}},49:{start:{line:208,column:27},end:{line:208,column:57}},50:{start:{line:229,column:30},end:{line:229,column:87}},51:{start:{line:254,column:27},end:{line:254,column:40}},52:{start:{line:255,column:4},end:{line:255,column:35}},53:{start:{line:256,column:4},end:{line:256,column:26}},54:{start:{line:259,column:21},end:{line:259,column:40}},55:{start:{line:260,column:26},end:{line:272,column:6}},56:{start:{line:261,column:21},end:{line:261,column:47}},57:{start:{line:262,column:6},end:{line:271,column:8}},58:{start:{line:267,column:29},end:{line:267,column:93}},59:{start:{line:268,column:26},end:{line:268,column:85}},60:{start:{line:273,column:27},end:{line:285,column:6}},61:{start:{line:273,column:75},end:{line:273,column:106}},62:{start:{line:274,column:21},end:{line:274,column:44}},63:{start:{line:275,column:6},end:{line:284,column:8}},64:{start:{line:281,column:26},end:{line:281,column:107}},65:{start:{line:286,column:4},end:{line:315,column:6}},66:{start:{line:309,column:45},end:{line:309,column:109}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:11},end:{line:33,column:3}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:57}},line:19},2:{name:"editorMode",decl:{start:{line:35,column:9},end:{line:35,column:19}},loc:{start:{line:35,column:28},end:{line:65,column:1}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:11},end:{line:95,column:3}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:80,column:21},end:{line:80,column:22}},loc:{start:{line:80,column:27},end:{line:80,column:67}},line:80},5:{name:"(anonymous_5)",decl:{start:{line:98,column:2},end:{line:98,column:3}},loc:{start:{line:98,column:21},end:{line:105,column:3}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:22},end:{line:189,column:3}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:190,column:10},end:{line:190,column:11}},loc:{start:{line:190,column:16},end:{line:193,column:3}},line:190},8:{name:"(anonymous_8)",decl:{start:{line:194,column:19},end:{line:194,column:20}},loc:{start:{line:194,column:31},end:{line:196,column:3}},line:194},9:{name:"(anonymous_9)",decl:{start:{line:197,column:2},end:{line:197,column:3}},loc:{start:{line:197,column:11},end:{line:250,column:3}},line:197},10:{name:"(anonymous_10)",decl:{start:{line:208,column:20},end:{line:208,column:21}},loc:{start:{line:208,column:27},end:{line:208,column:57}},line:208},11:{name:"(anonymous_11)",decl:{start:{line:229,column:20},end:{line:229,column:21}},loc:{start:{line:229,column:30},end:{line:229,column:87}},line:229},12:{name:"(anonymous_12)",decl:{start:{line:253,column:2},end:{line:253,column:3}},loc:{start:{line:253,column:21},end:{line:257,column:3}},line:253},13:{name:"(anonymous_13)",decl:{start:{line:258,column:2},end:{line:258,column:3}},loc:{start:{line:258,column:11},end:{line:316,column:3}},line:258},14:{name:"(anonymous_14)",decl:{start:{line:260,column:60},end:{line:260,column:61}},loc:{start:{line:260,column:74},end:{line:272,column:5}},line:260},15:{name:"(anonymous_15)",decl:{start:{line:267,column:20},end:{line:267,column:21}},loc:{start:{line:267,column:29},end:{line:267,column:93}},line:267},16:{name:"(anonymous_16)",decl:{start:{line:268,column:20},end:{line:268,column:21}},loc:{start:{line:268,column:26},end:{line:268,column:85}},line:268},17:{name:"(anonymous_17)",decl:{start:{line:273,column:61},end:{line:273,column:62}},loc:{start:{line:273,column:75},end:{line:273,column:106}},line:273},18:{name:"(anonymous_18)",decl:{start:{line:273,column:112},end:{line:273,column:113}},loc:{start:{line:273,column:126},end:{line:285,column:5}},line:273},19:{name:"(anonymous_19)",decl:{start:{line:281,column:20},end:{line:281,column:21}},loc:{start:{line:281,column:26},end:{line:281,column:107}},line:281},20:{name:"(anonymous_20)",decl:{start:{line:309,column:23},end:{line:309,column:24}},loc:{start:{line:309,column:45},end:{line:309,column:109}},line:309}},branchMap:{0:{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:36},1:{loc:{start:{line:37,column:4},end:{line:38,column:30}},type:"if",locations:[{start:{line:37,column:4},end:{line:38,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},2:{loc:{start:{line:41,column:2},end:{line:45,column:3}},type:"if",locations:[{start:{line:41,column:2},end:{line:45,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},3:{loc:{start:{line:42,column:4},end:{line:43,column:34}},type:"if",locations:[{start:{line:42,column:4},end:{line:43,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:42},4:{loc:{start:{line:46,column:2},end:{line:50,column:3}},type:"if",locations:[{start:{line:46,column:2},end:{line:50,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:46},5:{loc:{start:{line:47,column:4},end:{line:48,column:30}},type:"if",locations:[{start:{line:47,column:4},end:{line:48,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},6:{loc:{start:{line:51,column:2},end:{line:57,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:57,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:51},7:{loc:{start:{line:52,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:56,column:5}},{start:{line:54,column:11},end:{line:56,column:5}}],line:52},8:{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},9:{loc:{start:{line:61,column:2},end:{line:63,column:3}},type:"if",locations:[{start:{line:61,column:2},end:{line:63,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:107,column:19},end:{line:107,column:50}},type:"binary-expr",locations:[{start:{line:107,column:19},end:{line:107,column:44}},{start:{line:107,column:48},end:{line:107,column:50}}],line:107},11:{loc:{start:{line:107,column:20},end:{line:107,column:36}},type:"binary-expr",locations:[{start:{line:107,column:20},end:{line:107,column:30}},{start:{line:107,column:34},end:{line:107,column:36}}],line:107},12:{loc:{start:{line:109,column:4},end:{line:188,column:5}},type:"switch",locations:[{start:{line:110,column:6},end:{line:114,column:10}},{start:{line:115,column:6},end:{line:119,column:10}},{start:{line:120,column:6},end:{line:125,column:10}},{start:{line:126,column:6},end:{line:130,column:10}},{start:{line:131,column:6},end:{line:137,column:10}},{start:{line:138,column:6},end:{line:142,column:10}},{start:{line:143,column:6},end:{line:149,column:10}},{start:{line:150,column:6},end:{line:154,column:10}},{start:{line:155,column:6},end:{line:161,column:10}},{start:{line:162,column:6},end:{line:172,column:10}},{start:{line:173,column:6},end:{line:185,column:10}},{start:{line:186,column:6},end:{line:187,column:18}}],line:109},13:{loc:{start:{line:123,column:19},end:{line:123,column:42}},type:"binary-expr",locations:[{start:{line:123,column:19},end:{line:123,column:33}},{start:{line:123,column:37},end:{line:123,column:42}}],line:123},14:{loc:{start:{line:129,column:15},end:{line:129,column:72}},type:"binary-expr",locations:[{start:{line:129,column:15},end:{line:129,column:25}},{start:{line:129,column:29},end:{line:129,column:72}}],line:129},15:{loc:{start:{line:134,column:17},end:{line:134,column:80}},type:"binary-expr",locations:[{start:{line:134,column:17},end:{line:134,column:29}},{start:{line:134,column:33},end:{line:134,column:80}}],line:134},16:{loc:{start:{line:135,column:19},end:{line:135,column:38}},type:"binary-expr",locations:[{start:{line:135,column:19},end:{line:135,column:33}},{start:{line:135,column:37},end:{line:135,column:38}}],line:135},17:{loc:{start:{line:136,column:19},end:{line:136,column:39}},type:"binary-expr",locations:[{start:{line:136,column:19},end:{line:136,column:33}},{start:{line:136,column:37},end:{line:136,column:39}}],line:136},18:{loc:{start:{line:141,column:15},end:{line:141,column:72}},type:"binary-expr",locations:[{start:{line:141,column:15},end:{line:141,column:25}},{start:{line:141,column:29},end:{line:141,column:72}}],line:141},19:{loc:{start:{line:146,column:17},end:{line:146,column:80}},type:"binary-expr",locations:[{start:{line:146,column:17},end:{line:146,column:29}},{start:{line:146,column:33},end:{line:146,column:80}}],line:146},20:{loc:{start:{line:147,column:19},end:{line:147,column:38}},type:"binary-expr",locations:[{start:{line:147,column:19},end:{line:147,column:33}},{start:{line:147,column:37},end:{line:147,column:38}}],line:147},21:{loc:{start:{line:148,column:19},end:{line:148,column:39}},type:"binary-expr",locations:[{start:{line:148,column:19},end:{line:148,column:33}},{start:{line:148,column:37},end:{line:148,column:39}}],line:148},22:{loc:{start:{line:153,column:15},end:{line:153,column:72}},type:"binary-expr",locations:[{start:{line:153,column:15},end:{line:153,column:25}},{start:{line:153,column:29},end:{line:153,column:72}}],line:153},23:{loc:{start:{line:158,column:17},end:{line:158,column:80}},type:"binary-expr",locations:[{start:{line:158,column:17},end:{line:158,column:29}},{start:{line:158,column:33},end:{line:158,column:80}}],line:158},24:{loc:{start:{line:159,column:19},end:{line:159,column:38}},type:"binary-expr",locations:[{start:{line:159,column:19},end:{line:159,column:33}},{start:{line:159,column:37},end:{line:159,column:38}}],line:159},25:{loc:{start:{line:160,column:19},end:{line:160,column:39}},type:"binary-expr",locations:[{start:{line:160,column:19},end:{line:160,column:33}},{start:{line:160,column:37},end:{line:160,column:39}}],line:160}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0,0,0,0,0,0,0,0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSources.tsx"],names:[],mappings:"AA+BU,cACA,YADA;AA/BV,OAAO,WAAW;AAClB,SAAQ,oBAAoB,gBAAe;AAC3C,OAAO,YAAY;AAGnB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,iBAAiB;AACxB,OAAO,4BAA4C;AAEnD,OAAO,WAAW;AAClB,SAAS,cAAc,WAAW,oBAAoB;AACtD,OAAO,mBAAmB;AAU1B,MAAM,qBAAqB,MAAM,UAA6B;AAAA,EAC5D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,0BACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,EAAE;AAAA,QAEhD;AAAA,+BAAC,SAAI,WAAU,+BACb;AAAA,gCAAC,OAAE,WAAU,+BAA+B,eAAK,MAAM,OAAM;AAAA,YAC7D,qBAAC,OAAE,WAAU,6BAA4B;AAAA;AAAA,cAAE,KAAK,MAAM;AAAA,eAAG;AAAA,aAC3D;AAAA,UACA,oBAAC,UAAK,WAAU,kBAAiB;AAAA,UACjC,oBAAC,sBAAmB;AAAA;AAAA;AAAA,IACtB,GACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,QAA6B;AAC/C,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,cAAc;AAC/B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,UAAU;AAC3B,QAAG,OAAO;AAAO,aAAO;AACxB,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,WAAW;AAC5B,QAAI,OAAO,OAAO,SAAU,UAAU;AACpC,aAAO;AAAA,IACT,OACK;AACH,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,MAAG,OAAO,SAAS,SAAS;AAC1B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AASA,MAAM,qCAAqC,MAAM,UAA6C;AAAA,EAC5F,SAAS;AACP,WAAO,qBAAC,SAAI,WAAU,sCACpB;AAAA,2BAAC,SAAI,WAAU,6CACb;AAAA,6BAAC,UAAK,WAAU,gDAA+C;AAAA;AAAA,UAAE,KAAK,MAAM;AAAA,WAAS;AAAA,QACrF,oBAAC,UAAK,WAAU,kBAAiB;AAAA,QACjC;AAAA,UAAC;AAAA;AAAA,YACC,cAAY,WAAW,KAAK,MAAM,QAAQ;AAAA,YAC1C,WAAU;AAAA,YACV,SAAS,MAAK,KAAK,MAAM,SAAS,KAAK,MAAM,QAAQ;AAAA,YACrD,OAAO,EAAC,iBAAiB,cAAa;AAAA,YAEtC,8BAAC,YAAS;AAAA;AAAA,QACZ;AAAA,SACF;AAAA,MACA,oBAAC,SAAI,WAAU,8CACb;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,MAAM,WAAW,KAAK,MAAM,MAAM;AAAA,UAClC,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB,GACF;AAAA,OACF;AAAA,EACF;AACF;AAYA,MAAM,kBAAkB,MAAM,UAA0C;AAAA,EACtE,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,MAAM;AAAA,MACN,UAAU,MAAM,WAAW;AAAA,MAC3B,QAAQ,KAAK,cAAc,SAAS;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,cAAc,MAAuC;AACnD,UAAM,UAAU,KAAK,SAAS,CAAC,GAAG,UAAU,CAAC;AAC7C,UAAM,EAAC,SAAQ,IAAI,OAAO;AAE1B,YAAO,MAAM;AAAA,MACb,KAAK;AAAW,eAAO;AAAA,UACrB,MAAM;AAAA,UACN,KAAK,aAAa,QAAQ;AAAA,QAC5B;AAAA,MACA,KAAK;AAAe,eAAO;AAAA,UACzB,MAAM;AAAA,UACN,MAAM,GAAG,QAAQ;AAAA,QACnB;AAAA,MACA,KAAK;AAAgB,eAAO;AAAA,UAC1B,MAAM;AAAA,UACN,SAAU,OAAsC,WAAW;AAAA,UAC3D,MAAM;AAAA,QACR;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAmB,eAAO;AAAA,UAC7B,MAAM;AAAA,UACN,KAAM,OAAqC,OAAO,GAAG,QAAQ;AAAA,QAC/D;AAAA,MACA,KAAK;AAAkB,eAAO;AAAA,UAC5B,MAAM;AAAA,UACN,OAAQ,OAAqC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACpG,SAAU,OAAqC,WAAW;AAAA,UAC1D,SAAU,OAAqC,WAAW;AAAA,QAC5D;AAAA,MACA,KAAK;AAAuB,eAAO;AAAA,UACjC,MAAM;AAAA,UACN,KAAM,OAAwC,OAAO,GAAG,QAAQ;AAAA,QAClE;AAAA,MACA,KAAK;AAAsB,eAAO;AAAA,UAChC,MAAM;AAAA,UACN,OAAQ,OAAwC,SAAS,CAAC,GAAG,QAAQ,kCAAkC;AAAA,UACvG,SAAU,OAAwC,WAAW;AAAA,UAC7D,SAAU,OAAwC,WAAW;AAAA,QAC/D;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,KAAK,GAAG,QAAQ;AAAA,UAChB,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA,KAAK;AAAS,eAAO;AAAA,UACnB,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,GAAG,QAAQ;AAAA,UACb;AAAA,UACA,aAAa;AAAA,YACX,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,YACJ,CAAC,GAAE,CAAC;AAAA,UACN;AAAA,QACF;AAAA,MACA;AAAS,eAAO,CAAC;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,QAAQ,MAAM;AACZ,UAAM,EAAC,QAAQ,SAAQ,IAAI,KAAK;AAChC,SAAK,MAAM,MAAM,UAAU,MAAM;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,WAAgC;AAChD,SAAK,SAAS,EAAC,OAAM,CAAC;AAAA,EACxB;AAAA,EAEA,SAAS;AAQP,UAAM,sBAAsB;AAAA,MAC1B,KAAK,OAAO,cAAc,KAAK;AAAA,IACjC;AAEA,WAAO,qBAAC,SAAI,WAAU,uBACpB;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW,EAAC,KAAK,yFAAwF;AAAA,UACzG,OAAO,KAAK,MAAM;AAAA,UAClB,UAAU,CAAC,MAAc,KAAK,SAAS,EAAE,UAAU,EAAC,CAAC;AAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,OAAO;AAAA,UACP,WAAW;AAAA,UACX,SAAS;AAAA,YACP,CAAC,WAAW,SAAS;AAAA,YACrB,CAAC,gBAAgB,gBAAgB;AAAA,YACjC,CAAC,eAAe,eAAe;AAAA,YAC/B,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,mBAAmB;AAAA,YACtC,CAAC,mBAAmB,uBAAuB;AAAA,YAC3C,CAAC,kBAAkB,kBAAkB;AAAA,YACrC,CAAC,uBAAuB,2BAA2B;AAAA,YACnD,CAAC,sBAAsB,uBAAuB;AAAA,YAC9C,CAAC,SAAS,OAAO;AAAA,YACjB,CAAC,SAAS,OAAO;AAAA,UACnB;AAAA,UACA,UAAU,UAAQ,KAAK,SAAS,EAAC,MAA0B,QAAQ,KAAK,cAAc,IAAkB,EAAC,CAAC;AAAA,UAC1G,OAAO,KAAK,MAAM;AAAA;AAAA,MACpB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,UAAU,KAAK;AAAA,UACf,MAAM,KAAK,MAAM;AAAA,UACjB,QAAQ,KAAK,MAAM;AAAA;AAAA,MACrB;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,WAAU;AAAA,UACV,SAAS,KAAK;AAAA,UACf;AAAA;AAAA,MAED;AAAA,OACF;AAAA,EACF;AACF;AASA,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,WAAW,QAAqE;AAC9E,UAAM,iBAAiB,EAAC,GAAG,OAAM;AACjC,WAAO,eAAe,OAAO;AAC7B,WAAO;AAAA,EACT;AAAA,EAEA,SAAS;AACP,UAAM,WAAW,KAAK,MAAM;AAC5B,UAAM,gBAAgB,OAAO,KAAK,SAAS,OAAO,EAAE,IAAI,cAAY;AAClE,YAAM,SAAS,SAAS,QAAQ,QAAQ;AACxC,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN;AAAA,UACA;AAAA,UACA,UAAU,CAAC,QAA6B,KAAK,MAAM,eAAe,aAAa,UAAU,UAAU,GAAG,CAAC;AAAA,UACvG,UAAU,MAAM,KAAK,MAAM,eAAe,aAAa,UAAU,QAAQ,CAAC;AAAA;AAAA,QAJrE;AAAA,MAKP;AAAA,IACF,CAAC;AAED,UAAM,iBAAiB,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC,aAAqB,EAAE,YAAY,SAAS,QAAQ,EAAE,IAAI,CAAC,aAAqB;AACxI,YAAM,SAAS,cAAc,QAAsC;AACnE,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,IAAI;AAAA,UACJ,MAAM,OAAO;AAAA,UACb,OAAO,OAAO;AAAA,UACd,UAAU,MAAM,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,KAAK,WAAW,MAAM,CAAC,CAAC;AAAA;AAAA,QAJ3F;AAAA,MAKP;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YACjB;AAAA,aACH;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,kCAAoB;AAAA,YACxB,oBAAC,OAAE,sEAEH;AAAA,YACA,oBAAC,SAAI,WAAU,2BAA0B,OAAO,EAAC,UAAU,IAAG,GAC3D,0BACH;AAAA,aACF;AAAA,UAEA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,4BAAc;AAAA,YAClB,oBAAC,OAAE,0GAA4F;AAAA,YAC/F;AAAA,cAAC;AAAA;AAAA,gBACC,OAAO,CAAC,UAAkB,WAAgC,KAAK,MAAM,eAAe,UAAU,UAAU,UAAU,MAAM,CAAC;AAAA;AAAA,YAC3H;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"191f4910599dab0977f15d510c95eca798aa65eb"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Jt=function(){return a},a}Jt();class R8e extends Mn.Component{render(){return Jt().f[0]++,Jt().s[0]++,G.jsx("div",{className:"maputnik-public-source",children:G.jsxs(ja,{className:"maputnik-public-source-select",onClick:()=>(Jt().f[1]++,Jt().s[1]++,this.props.onSelect(this.props.id)),children:[G.jsxs("div",{className:"maputnik-public-source-info",children:[G.jsx("p",{className:"maputnik-public-source-name",children:this.props.title}),G.jsxs("p",{className:"maputnik-public-source-id",children:["#",this.props.id]})]}),G.jsx("span",{className:"maputnik-space"}),G.jsx(Sz,{})]})})}}function z8e(e){return Jt().f[2]++,Jt().s[2]++,e.type==="raster"?(Jt().b[0][0]++,Jt().s[3]++,e.tiles?(Jt().b[1][0]++,Jt().s[4]++,"tilexyz_raster"):(Jt().b[1][1]++,Jt().s[5]++,"tilejson_raster")):(Jt().b[0][1]++,Jt().s[6]++,e.type==="raster-dem"?(Jt().b[2][0]++,Jt().s[7]++,e.tiles?(Jt().b[3][0]++,Jt().s[8]++,"tilexyz_raster-dem"):(Jt().b[3][1]++,Jt().s[9]++,"tilejson_raster-dem")):(Jt().b[2][1]++,Jt().s[10]++,e.type==="vector"?(Jt().b[4][0]++,Jt().s[11]++,e.tiles?(Jt().b[5][0]++,Jt().s[12]++,"tilexyz_vector"):(Jt().b[5][1]++,Jt().s[13]++,"tilejson_vector")):(Jt().b[4][1]++,Jt().s[14]++,e.type==="geojson"?(Jt().b[6][0]++,Jt().s[15]++,typeof e.data=="string"?(Jt().b[7][0]++,Jt().s[16]++,"geojson_url"):(Jt().b[7][1]++,Jt().s[17]++,"geojson_json")):(Jt().b[6][1]++,Jt().s[18]++,e.type==="image"?(Jt().b[8][0]++,Jt().s[19]++,"image"):(Jt().b[8][1]++,Jt().s[20]++,e.type==="video"?(Jt().b[9][0]++,Jt().s[21]++,"video"):(Jt().b[9][1]++,Jt().s[22]++,null))))))}class j8e extends Mn.Component{render(){return Jt().f[3]++,Jt().s[23]++,G.jsxs("div",{className:"maputnik-active-source-type-editor",children:[G.jsxs("div",{className:"maputnik-active-source-type-editor-header",children:[G.jsxs("span",{className:"maputnik-active-source-type-editor-header-id",children:["#",this.props.sourceId]}),G.jsx("span",{className:"maputnik-space"}),G.jsx(ja,{"aria-label":`Remove '${this.props.sourceId}' source`,className:"maputnik-active-source-type-editor-header-delete",onClick:()=>(Jt().f[4]++,Jt().s[24]++,this.props.onDelete(this.props.sourceId)),style:{backgroundColor:"transparent"},children:G.jsx(Mv,{})})]}),G.jsx("div",{className:"maputnik-active-source-type-editor-content",children:G.jsx(gQ,{onChange:this.props.onChange,mode:z8e(this.props.source),source:this.props.source})})]})}}class W8e extends Mn.Component{constructor(n){Jt().f[5]++,Jt().s[25]++;super(n);on(this,"onAdd",(Jt().s[42]++,()=>{Jt().f[7]++;const{source:n,sourceId:r}=(Jt().s[43]++,this.state);Jt().s[44]++,this.props.onAdd(r,n)}));on(this,"onChangeSource",(Jt().s[45]++,n=>{Jt().f[8]++,Jt().s[46]++,this.setState({source:n})}));Jt().s[26]++,this.state={mode:"pmtiles",sourceId:pA.generateId(),source:this.defaultSource("pmtiles")}}defaultSource(n){Jt().f[6]++;const r=(Jt().s[27]++,Jt().b[10][0]++,(Jt().b[11][0]++,this.state||(Jt().b[11][1]++,{})).source||(Jt().b[10][1]++,{})),{protocol:i}=(Jt().s[28]++,window.location);switch(Jt().s[29]++,n){case"pmtiles":return Jt().b[12][0]++,Jt().s[30]++,{type:"vector",url:`pmtiles://${i}//localhost:3000/file.pmtiles`};case"geojson_url":return Jt().b[12][1]++,Jt().s[31]++,{type:"geojson",data:`${i}//localhost:3000/geojson.json`};case"geojson_json":return Jt().b[12][2]++,Jt().s[32]++,{type:"geojson",cluster:(Jt().b[13][0]++,r.cluster||(Jt().b[13][1]++,!1)),data:""};case"tilejson_vector":return Jt().b[12][3]++,Jt().s[33]++,{type:"vector",url:(Jt().b[14][0]++,r.url||(Jt().b[14][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_vector":return Jt().b[12][4]++,Jt().s[34]++,{type:"vector",tiles:(Jt().b[15][0]++,r.tiles||(Jt().b[15][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Jt().b[16][0]++,r.minzoom||(Jt().b[16][1]++,0)),maxzoom:(Jt().b[17][0]++,r.maxzoom||(Jt().b[17][1]++,14))};case"tilejson_raster":return Jt().b[12][5]++,Jt().s[35]++,{type:"raster",url:(Jt().b[18][0]++,r.url||(Jt().b[18][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster":return Jt().b[12][6]++,Jt().s[36]++,{type:"raster",tiles:(Jt().b[19][0]++,r.tiles||(Jt().b[19][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Jt().b[20][0]++,r.minzoom||(Jt().b[20][1]++,0)),maxzoom:(Jt().b[21][0]++,r.maxzoom||(Jt().b[21][1]++,14))};case"tilejson_raster-dem":return Jt().b[12][7]++,Jt().s[37]++,{type:"raster-dem",url:(Jt().b[22][0]++,r.url||(Jt().b[22][1]++,`${i}//localhost:3000/tilejson.json`))};case"tilexyz_raster-dem":return Jt().b[12][8]++,Jt().s[38]++,{type:"raster-dem",tiles:(Jt().b[23][0]++,r.tiles||(Jt().b[23][1]++,[`${i}//localhost:3000/{x}/{y}/{z}.pbf`])),minzoom:(Jt().b[24][0]++,r.minzoom||(Jt().b[24][1]++,0)),maxzoom:(Jt().b[25][0]++,r.maxzoom||(Jt().b[25][1]++,14))};case"image":return Jt().b[12][9]++,Jt().s[39]++,{type:"image",url:`${i}//localhost:3000/image.png`,coordinates:[[0,0],[0,0],[0,0],[0,0]]};case"video":return Jt().b[12][10]++,Jt().s[40]++,{type:"video",urls:[`${i}//localhost:3000/movie.mp4`],coordinates:[[0,0],[0,0],[0,0],[0,0]]};default:return Jt().b[12][11]++,Jt().s[41]++,{}}}render(){Jt().f[9]++;const n=(Jt().s[47]++,{doc:no.source_vector.type.doc});return Jt().s[48]++,G.jsxs("div",{className:"maputnik-add-source",children:[G.jsx(C3,{label:"Source ID",fieldSpec:{doc:"Unique ID that identifies the source and is used in the layer to reference the source."},value:this.state.sourceId,onChange:r=>(Jt().f[10]++,Jt().s[49]++,this.setState({sourceId:r}))}),G.jsx(yk,{label:"Source Type",fieldSpec:n,options:[["pmtiles","PMTiles"],["geojson_json","GeoJSON (JSON)"],["geojson_url","GeoJSON (URL)"],["tilejson_vector","Vector (TileJSON URL)"],["tilexyz_vector","Vector (XYZ URLs)"],["tilejson_raster","Raster (TileJSON URL)"],["tilexyz_raster","Raster (XYZ URL)"],["tilejson_raster-dem","Raster DEM (TileJSON URL)"],["tilexyz_raster-dem","Raster DEM (XYZ URLs)"],["image","Image"],["video","Video"]],onChange:r=>(Jt().f[11]++,Jt().s[50]++,this.setState({mode:r,source:this.defaultSource(r)})),value:this.state.mode}),G.jsx(gQ,{onChange:this.onChangeSource,mode:this.state.mode,source:this.state.source}),G.jsx(ja,{className:"maputnik-add-source-button",onClick:this.onAdd,children:"Add Source"})]})}}class N8e extends Mn.Component{stripTitle(t){Jt().f[12]++;const n=(Jt().s[51]++,{...t});return Jt().s[52]++,delete n.title,Jt().s[53]++,n}render(){Jt().f[13]++;const t=(Jt().s[54]++,this.props.mapStyle),n=(Jt().s[55]++,Object.keys(t.sources).map(i=>{Jt().f[14]++;const o=(Jt().s[56]++,t.sources[i]);return Jt().s[57]++,G.jsx(j8e,{sourceId:i,source:o,onChange:a=>(Jt().f[15]++,Jt().s[58]++,this.props.onStyleChanged(yQ(t,i,a))),onDelete:()=>(Jt().f[16]++,Jt().s[59]++,this.props.onStyleChanged(L8e(t,i)))},i)})),r=(Jt().s[60]++,Object.keys(rF).filter(i=>(Jt().f[17]++,Jt().s[61]++,!(i in t.sources))).map(i=>{Jt().f[18]++;const o=(Jt().s[62]++,rF[i]);return Jt().s[63]++,G.jsx(R8e,{id:i,type:o.type,title:o.title,onSelect:()=>(Jt().f[19]++,Jt().s[64]++,this.props.onStyleChanged(nF(t,i,this.stripTitle(o))))},i)}));return Jt().s[65]++,G.jsxs(Hf,{"data-wd-key":"modal:sources",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Sources",children:[G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Active Sources"}),n]}),G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Choose Public Source"}),G.jsx("p",{children:"Add one of the publicly available sources to your style."}),G.jsx("div",{className:"maputnik-public-sources",style:{maxWidth:500},children:r})]}),G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Add New Source"}),G.jsx("p",{children:"Add a new source to your style. You can only choose the source type and id at creation time!"}),G.jsx(W8e,{onAdd:(i,o)=>(Jt().f[20]++,Jt().s[66]++,this.props.onStyleChanged(nF(t,i,o)))})]})]})}}var vQ={};Object.defineProperty(vQ,"__esModule",{value:!0});var G8e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$8e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q8e=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Y8e=Ir,M6=Z8e(Y8e),q8e=g0,H8e=V8e(q8e);function V8e(e){return e&&e.__esModule?e:{default:e}}function Z8e(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function X8e(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function J8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eIe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function tIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nIe=function(e){tIe(t,e);function t(n){J8e(this,t);var r=eIe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));r.handleChange=function(o){var a=Array.prototype.slice.call(o.target.files),s=(r.props.as||"url").toLowerCase();Promise.all(a.map(function(h){return new Promise(function(g,_){var E=new FileReader;switch(E.onload=function(O){g([O,h])},s){case"binary":{E.readAsBinaryString(h);break}case"buffer":{E.readAsArrayBuffer(h);break}case"text":{E.readAsText(h);break}case"url":{E.readAsDataURL(h);break}}})})).then(function(h){r.props.onChange(o,h)})},r.triggerInput=function(){var o=H8e.default.findDOMNode(r._reactFileReaderInput);o&&o.click()};var i=(typeof window>"u"?"undefined":$8e(window))==="object"?window:{};return(!i.File||!i.FileReader||!i.FileList||!i.Blob)&&console.warn("[react-file-reader-input] Some file APIs detected as not supported. File reader functionality may not fully work."),r}return Q8e(t,[{key:"render",value:function(){var r=this,i=this.props;i.as;var o=i.children,a=i.style,s=X8e(i,["as","children","style"]),h=o?{position:"absolute",top:"-9999px"}:{};return M6.createElement("div",{className:"_react-file-reader-input",onClick:this.triggerInput,style:a},M6.createElement("input",G8e({},s,{type:"file",ref:function(_){r._reactFileReaderInput=_},onChange:this.handleChange,onClick:function(){r._reactFileReaderInput.value=null},style:h})),o)}}]),t}(M6.Component),rIe=vQ.default=nIe;function Id(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",t="c730187d836bc577ee534587d8c8df17ae09966b",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx",statementMap:{0:{start:{line:7,column:4},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:27,column:6}},2:{start:{line:18,column:26},end:{line:18,column:42}},3:{start:{line:21,column:28},end:{line:21,column:49}},4:{start:{line:24,column:137},end:{line:24,column:159}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:2},end:{line:6,column:3}},loc:{start:{line:6,column:21},end:{line:8,column:3}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:11},end:{line:28,column:3}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:18,column:19},end:{line:18,column:20}},loc:{start:{line:18,column:26},end:{line:18,column:42}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:22},end:{line:21,column:23}},loc:{start:{line:21,column:28},end:{line:21,column:49}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:24,column:130},end:{line:24,column:131}},loc:{start:{line:24,column:137},end:{line:24,column:159}},line:24}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalLoading.tsx"],names:[],mappings:"AAqBW,SAWL,KAXK;AArBX,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAWlB,qBAAqB,qBAAqB,MAAM,UAA6B;AAAA,EAC3E,gBAAgB,GAAU;AAExB,MAAE,gBAAgB;AAAA,EACpB;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,oBAAoB;AAAA,QACpB,eAAe;AAAA;AAAA,UAEb,SAAS,CAAC,MAAa,cAAc,CAAC;AAAA,QACxC;AAAA,QACA,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,MAAM,KAAK,MAAM,SAAS;AAAA,QAExC;AAAA,8BAAC,OACE,eAAK,MAAM,SACd;AAAA,UACA,oBAAC,OAAE,WAAU,4BACX,8BAAC,eAAY,SAAS,CAAC,MAAM,KAAK,MAAM,SAAS,CAAC,GAAG,oBAErD,GACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c730187d836bc577ee534587d8c8df17ae09966b"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Id=function(){return a},a}Id();class iIe extends Mn.Component{underlayOnClick(t){Id().f[0]++,Id().s[0]++,t.stopPropagation()}render(){return Id().f[1]++,Id().s[1]++,G.jsxs(Hf,{"data-wd-key":"modal:loading",isOpen:this.props.isOpen,underlayClickExits:!1,underlayProps:{onClick:t=>(Id().f[2]++,Id().s[2]++,underlayProps(t))},title:this.props.title,onOpenToggle:()=>(Id().f[3]++,Id().s[3]++,this.props.onCancel()),children:[G.jsx("p",{children:this.props.message}),G.jsx("p",{className:"maputnik-dialog__buttons",children:G.jsx(ja,{onClick:t=>(Id().f[4]++,Id().s[4]++,this.props.onCancel(t)),children:"Cancel"})})]})}}const _Q=[{id:"protomaps-light",title:"Protomaps Light",url:"https://api.protomaps.com/styles/v3/light.json?key=2032954149d581a9",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"protomaps-dark",title:"Protomaps Dark",url:"https://api.protomaps.com/styles/v3/dark.json?key=2032954149d581a9",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"protomaps-white",title:"Protomaps White",url:"https://api.protomaps.com/styles/v3/white.json?key=2032954149d581a9",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"protomaps-grayscale",title:"Protomaps Grayscale",url:"https://api.protomaps.com/styles/v3/grayscale.json?key=2032954149d581a9",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"},{id:"protomaps-black",title:"Protomaps Black",url:"https://api.protomaps.com/styles/v3/black.json?key=2032954149d581a9",thumbnail:"https://maputnik.github.io/thumbnails/os-zoomstack-night.png"}];function Zn(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",t="6f55b81c74a9657afee47a2c5820a136d93a0f65",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx",statementMap:{0:{start:{line:14,column:4},end:{line:37,column:9}},1:{start:{line:19,column:23},end:{line:19,column:58}},2:{start:{line:42,column:4},end:{line:42,column:17}},3:{start:{line:43,column:4},end:{line:45,column:6}},4:{start:{line:48,column:4},end:{line:50,column:7}},5:{start:{line:53,column:4},end:{line:54,column:26}},6:{start:{line:54,column:6},end:{line:54,column:26}},7:{start:{line:55,column:4},end:{line:61,column:5}},8:{start:{line:56,column:6},end:{line:56,column:39}},9:{start:{line:57,column:6},end:{line:60,column:9}},10:{start:{line:63,column:18},end:{line:100,column:3}},11:{start:{line:64,column:4},end:{line:64,column:22}},12:{start:{line:65,column:19},end:{line:65,column:24}},13:{start:{line:66,column:4},end:{line:91,column:7}},14:{start:{line:70,column:6},end:{line:70,column:29}},15:{start:{line:72,column:6},end:{line:74,column:7}},16:{start:{line:73,column:8},end:{line:73,column:15}},17:{start:{line:75,column:6},end:{line:78,column:9}},18:{start:{line:79,column:23},end:{line:79,column:54}},19:{start:{line:80,column:6},end:{line:80,column:48}},20:{start:{line:81,column:6},end:{line:81,column:39}},21:{start:{line:82,column:6},end:{line:82,column:26}},22:{start:{line:84,column:6},end:{line:88,column:9}},23:{start:{line:89,column:6},end:{line:89,column:25}},24:{start:{line:90,column:6},end:{line:90,column:61}},25:{start:{line:92,column:4},end:{line:99,column:7}},26:{start:{line:95,column:10},end:{line:95,column:26}},27:{start:{line:101,column:16},end:{line:104,column:3}},28:{start:{line:102,column:4},end:{line:102,column:23}},29:{start:{line:103,column:4},end:{line:103,column:44}},30:{start:{line:105,column:13},end:{line:125,column:3}},31:{start:{line:106,column:21},end:{line:106,column:29}},32:{start:{line:107,column:19},end:{line:107,column:35}},33:{start:{line:108,column:4},end:{line:108,column:22}},34:{start:{line:109,column:4},end:{line:109,column:37}},35:{start:{line:110,column:4},end:{line:123,column:6}},36:{start:{line:112,column:6},end:{line:119,column:7}},37:{start:{line:113,column:8},end:{line:113,column:48}},38:{start:{line:115,column:8},end:{line:117,column:11}},39:{start:{line:118,column:8},end:{line:118,column:15}},40:{start:{line:120,column:6},end:{line:120,column:53}},41:{start:{line:121,column:6},end:{line:121,column:39}},42:{start:{line:122,column:6},end:{line:122,column:26}},43:{start:{line:124,column:4},end:{line:124,column:50}},44:{start:{line:124,column:28},end:{line:124,column:49}},45:{start:{line:127,column:4},end:{line:129,column:7}},46:{start:{line:130,column:4},end:{line:130,column:22}},47:{start:{line:131,column:4},end:{line:131,column:30}},48:{start:{line:133,column:16},end:{line:137,column:3}},49:{start:{line:134,column:4},end:{line:136,column:7}},50:{start:{line:139,column:25},end:{line:150,column:6}},51:{start:{line:140,column:6},end:{line:149,column:8}},52:{start:{line:152,column:4},end:{line:157,column:5}},53:{start:{line:153,column:6},end:{line:156,column:11}},54:{start:{line:155,column:61},end:{line:155,column:78}},55:{start:{line:158,column:4},end:{line:224,column:9}},56:{start:{line:164,column:30},end:{line:164,column:49}},57:{start:{line:220,column:27},end:{line:220,column:56}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:11},end:{line:38,column:3}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:19,column:17},end:{line:19,column:18}},loc:{start:{line:19,column:23},end:{line:19,column:58}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:21},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:47,column:2},end:{line:47,column:3}},loc:{start:{line:47,column:15},end:{line:51,column:3}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:62,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:63,column:18},end:{line:63,column:19}},loc:{start:{line:63,column:32},end:{line:100,column:3}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:69,column:12},end:{line:69,column:13}},loc:{start:{line:69,column:31},end:{line:71,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:71,column:12},end:{line:71,column:13}},loc:{start:{line:71,column:22},end:{line:83,column:5}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:83,column:13},end:{line:83,column:14}},loc:{start:{line:83,column:22},end:{line:91,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:94,column:15},end:{line:94,column:16}},loc:{start:{line:94,column:26},end:{line:96,column:9}},line:94},10:{name:"(anonymous_10)",decl:{start:{line:101,column:16},end:{line:101,column:17}},loc:{start:{line:101,column:23},end:{line:104,column:3}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:105,column:13},end:{line:105,column:14}},loc:{start:{line:105,column:27},end:{line:125,column:3}},line:105},12:{name:"(anonymous_12)",decl:{start:{line:110,column:20},end:{line:110,column:21}},loc:{start:{line:110,column:27},end:{line:123,column:5}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:124,column:21},end:{line:124,column:22}},loc:{start:{line:124,column:28},end:{line:124,column:49}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:17},end:{line:132,column:3}},line:126},15:{name:"(anonymous_15)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:25},end:{line:137,column:3}},line:133},16:{name:"(anonymous_16)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:11},end:{line:225,column:3}},line:138},17:{name:"(anonymous_17)",decl:{start:{line:139,column:42},end:{line:139,column:43}},loc:{start:{line:139,column:54},end:{line:150,column:5}},line:139},18:{name:"(anonymous_18)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:61},end:{line:155,column:78}},line:155},19:{name:"(anonymous_19)",decl:{start:{line:164,column:24},end:{line:164,column:25}},loc:{start:{line:164,column:30},end:{line:164,column:49}},line:164},20:{name:"(anonymous_20)",decl:{start:{line:220,column:20},end:{line:220,column:21}},loc:{start:{line:220,column:27},end:{line:220,column:56}},line:220}},branchMap:{0:{loc:{start:{line:53,column:4},end:{line:54,column:26}},type:"if",locations:[{start:{line:53,column:4},end:{line:54,column:26}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},1:{loc:{start:{line:55,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:61,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:55},2:{loc:{start:{line:72,column:6},end:{line:74,column:7}},type:"if",locations:[{start:{line:72,column:6},end:{line:74,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},3:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalOpen.tsx"],names:["style"],mappings:"AA4BQ,SACE,KADF;AA5BR,OAAO,WAA0B;AACjC,SAAQ,oBAAmB;AAC3B,SAAQ,0BAAyB;AACjC,OAAO,qBAAiC;AAExC,OAAO,kBAAkB;AACzB,OAAO,WAAW;AAClB,OAAO,iBAAiB;AACxB,OAAO,cAAc;AAErB,OAAO,WAAW;AAClB,OAAO,kBAAkB;AASzB,MAAM,oBAAoB,MAAM,UAA4B;AAAA,EAC1D,SAAS;AACP,WAAO,oBAAC,SAAI,WAAU,yBACpB;AAAA,MAAC;AAAA;AAAA,QACC,WAAU;AAAA,QACV,cAAY,KAAK,MAAM;AAAA,QACvB,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,MAAM,GAAG;AAAA,QAEjD;AAAA,+BAAC,SAAI,WAAU,gCACb;AAAA,gCAAC,SAAK,eAAK,MAAM,OAAM;AAAA,YACvB,oBAAC,UAAK,WAAU,kBAAiB;AAAA,YACjC,oBAAC,sBAAmB;AAAA,aACtB;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,gBACL,iBAAiB,OAAO,KAAK,MAAM,YAAY;AAAA,cACjD;AAAA;AAAA,UACD;AAAA;AAAA;AAAA,IACH,GACF;AAAA,EACF;AACF;AAeA,qBAAqB,kBAAkB,MAAM,UAA0C;AAAA,EACrF,YAAY,OAAuB;AACjC,UAAM,KAAK;AACX,SAAK,QAAQ;AAAA,MACX,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EAEA,aAAa;AACX,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,sBAAsB,GAAU;AAE9B,QAAG;AAAG,QAAE,gBAAgB;AAExB,QAAG,KAAK,MAAM,eAAe;AAC3B,WAAK,MAAM,cAAc,MAAM;AAC/B,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,aAAqB;AACpC,SAAK,WAAW;AAEhB,QAAI,WAAoB;AAExB,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,aAAa;AAAA,IACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,UAAG,UAAU;AACX;AAAA,MACF;AAEA,WAAK,SAAS;AAAA,QACZ,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AAED,YAAM,WAAW,MAAM,oBAAoB,IAAI;AAC/C,cAAQ,IAAI,iBAAiB,SAAS,EAAE;AACxC,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,WAAK,SAAS;AAAA,QACZ,OAAO,oBAAoB,QAAQ;AAAA,QACnC,eAAe;AAAA,QACf,kBAAkB;AAAA,MACpB,CAAC;AACD,cAAQ,MAAM,GAAG;AACjB,cAAQ,KAAK,gCAAgC,QAAQ;AAAA,IACvD,CAAC;AAEH,SAAK,SAAS;AAAA,MACZ,eAAe;AAAA,QACb,OAAO,WAAW;AAChB,qBAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,kBAAkB;AAAA,IACpB,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,MAAkC;AAC/C,MAAE,eAAe;AACjB,SAAK,cAAc,KAAK,MAAM,QAAQ;AAAA,EACxC;AAAA,EAEA,WAAW,CAAC,GAAQ,UAAoB;AACtC,UAAM,CAAC,EAAE,IAAI,IAAI,MAAM,CAAC;AACxB,UAAM,SAAS,IAAI,WAAW;AAE9B,SAAK,WAAW;AAEhB,WAAO,WAAW,MAAM,OAAO;AAC/B,WAAO,SAAS,OAAK;AACnB,UAAI;AACJ,UAAI;AACF,mBAAW,KAAK,MAAM,EAAE,QAAQ,MAAgB;AAAA,MAClD,SACM,KAAK;AACT,aAAK,SAAS;AAAA,UACZ,OAAQ,IAAc,SAAS;AAAA,QACjC,CAAC;AACD;AAAA,MACF;AACA,iBAAW,MAAM,oBAAoB,QAAQ;AAC7C,WAAK,MAAM,YAAY,QAAQ;AAC/B,WAAK,aAAa;AAAA,IACpB;AACA,WAAO,UAAU,OAAK,QAAQ,IAAI,EAAE,MAAM;AAAA,EAC5C;AAAA,EAEA,eAAe;AACb,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AACD,SAAK,WAAW;AAChB,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,cAAc,CAAC,QAAgB;AAC7B,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,eAAe,aAAa,IAAI,CAAAA,WAAS;AAC7C,aAAO;AAAA,QAAC;AAAA;AAAA,UAEN,KAAKA,OAAM;AAAA,UACX,OAAOA,OAAM;AAAA,UACb,cAAcA,OAAM;AAAA,UACpB,UAAU,KAAK;AAAA;AAAA,QAJVA,OAAM;AAAA,MAKb;AAAA,IACF,CAAC;AAED,QAAI;AACJ,QAAG,KAAK,MAAM,OAAO;AACnB,qBACE,qBAAC,SAAI,WAAU,wBACZ;AAAA,aAAK,MAAM;AAAA,QACZ,oBAAC,OAAE,MAAK,KAAI,SAAS,MAAM,KAAK,WAAW,GAAG,WAAU,8BAA6B,eAAC;AAAA,SACxF;AAAA,IAEJ;AAEA,WACE,qBAAC,SACC;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,eAAY;AAAA,UACZ,QAAQ,KAAK,MAAM;AAAA,UACnB,cAAc,MAAM,KAAK,aAAa;AAAA,UACtC,OAAO;AAAA,UAEN;AAAA;AAAA,YACD,qBAAC,aAAQ,WAAU,0BACjB;AAAA,kCAAC,QAAG,0BAAY;AAAA,cAChB,oBAAC,OAAE,qDAAuC;AAAA,cAC1C,oBAAC,mBAAgB,UAAU,KAAK,UAAU,UAAU,IAAI,cAAW,cACjE,+BAAC,eAAY,WAAU,0BAAyB;AAAA,oCAAC,gBAAa;AAAA,gBAAE;AAAA,iBAAO,GACzE;AAAA,eACF;AAAA,YAEA,oBAAC,aAAQ,WAAU,0BACjB,+BAAC,UAAK,UAAU,KAAK,aACnB;AAAA,kCAAC,QAAG,2BAAa;AAAA,cACjB,qBAAC,OAAE;AAAA;AAAA,gBAC4C,oBAAC,OAAE,MAAK,2BAA0B,QAAO,UAAS,KAAI,uBAAsB,0BAAY;AAAA,gBAAI;AAAA,iBAC3I;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,cAAW;AAAA,kBACX,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAQ;AAAA,kBACR,OAAO,KAAK,MAAM;AAAA,kBAClB,SAAS,KAAK;AAAA,kBACd,UAAU,KAAK;AAAA;AAAA,cACjB;AAAA,cACA,oBAAC,SACC;AAAA,gBAAC;AAAA;AAAA,kBACC,eAAY;AAAA,kBACZ,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,UAAU,KAAK,MAAM,SAAS,SAAS;AAAA,kBACxC;AAAA;AAAA,cAAa,GAChB;AAAA,eACF,GACF;AAAA,YAEA,qBAAC,aAAQ,WAAU,yDACjB;AAAA,kCAAC,QAAG,4BAAc;AAAA,cAClB,oBAAC,OAAE,sEAEH;AAAA,cACA,oBAAC,SAAI,WAAU,oCACZ,wBACH;AAAA,eACF;AAAA;AAAA;AAAA,MACF;AAAA,MAEA;AAAA,QAAC;AAAA;AAAA,UACC,QAAQ,CAAC,CAAC,KAAK,MAAM;AAAA,UACrB,OAAO;AAAA,UACP,UAAU,CAAC,MAAa,KAAK,sBAAsB,CAAC;AAAA,UACpD,SAAS,cAAY,KAAK,MAAM;AAAA;AAAA,MAClC;AAAA,OACF;AAAA,EAEJ;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6f55b81c74a9657afee47a2c5820a136d93a0f65"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Zn=function(){return a},a}Zn();class oIe extends Mn.Component{render(){return Zn().f[0]++,Zn().s[0]++,G.jsx("div",{className:"maputnik-public-style",children:G.jsxs(ja,{className:"maputnik-public-style-button","aria-label":this.props.title,onClick:()=>(Zn().f[1]++,Zn().s[1]++,this.props.onSelect(this.props.url)),children:[G.jsxs("div",{className:"maputnik-public-style-header",children:[G.jsx("div",{children:this.props.title}),G.jsx("span",{className:"maputnik-space"}),G.jsx(Sz,{})]}),G.jsx("div",{className:"maputnik-public-style-thumbnail",style:{backgroundImage:`url(${this.props.thumbnailUrl})`}})]})})}}class aIe extends Mn.Component{constructor(n){Zn().f[2]++,Zn().s[2]++;super(n);on(this,"onStyleSelect",(Zn().s[10]++,n=>{Zn().f[5]++,Zn().s[11]++,this.clearError();let r=(Zn().s[12]++,!1);Zn().s[13]++,fetch(n,{mode:"cors",credentials:"same-origin"}).then(function(i){return Zn().f[6]++,Zn().s[14]++,i.json()}).then(i=>{if(Zn().f[7]++,Zn().s[15]++,r){Zn().b[2][0]++,Zn().s[16]++;return}else Zn().b[2][1]++;Zn().s[17]++,this.setState({activeRequest:null,activeRequestUrl:null});const o=(Zn().s[18]++,pA.ensureStyleValidity(i));Zn().s[19]++,console.log("Loaded style ",o.id),Zn().s[20]++,this.props.onStyleOpen(o),Zn().s[21]++,this.onOpenToggle()}).catch(i=>{Zn().f[8]++,Zn().s[22]++,this.setState({error:`Failed to load: '${n}'`,activeRequest:null,activeRequestUrl:null}),Zn().s[23]++,console.error(i),Zn().s[24]++,console.warn("Could not open the style URL",n)}),Zn().s[25]++,this.setState({activeRequest:{abort:function(){Zn().f[9]++,Zn().s[26]++,r=!0}},activeRequestUrl:n})}));on(this,"onSubmitUrl",(Zn().s[27]++,n=>{Zn().f[10]++,Zn().s[28]++,n.preventDefault(),Zn().s[29]++,this.onStyleSelect(this.state.styleUrl)}));on(this,"onUpload",(Zn().s[30]++,(n,r)=>{Zn().f[11]++;const[,i]=(Zn().s[31]++,r[0]),o=(Zn().s[32]++,new FileReader);Zn().s[33]++,this.clearError(),Zn().s[34]++,o.readAsText(i,"UTF-8"),Zn().s[35]++,o.onload=a=>{var h;Zn().f[12]++;let s;Zn().s[36]++;try{Zn().s[37]++,s=JSON.parse((h=a.target)==null?void 0:h.result)}catch(g){Zn().s[38]++,this.setState({error:g.toString()}),Zn().s[39]++;return}Zn().s[40]++,s=pA.ensureStyleValidity(s),Zn().s[41]++,this.props.onStyleOpen(s),Zn().s[42]++,this.onOpenToggle()},Zn().s[43]++,o.onerror=a=>(Zn().f[13]++,Zn().s[44]++,console.log(a.target))}));on(this,"onChangeUrl",(Zn().s[48]++,n=>{Zn().f[15]++,Zn().s[49]++,this.setState({styleUrl:n})}));Zn().s[3]++,this.state={styleUrl:""}}clearError(){Zn().f[3]++,Zn().s[4]++,this.setState({error:null})}onCancelActiveRequest(n){Zn().f[4]++,Zn().s[5]++,n?(Zn().b[0][0]++,Zn().s[6]++,n.stopPropagation()):Zn().b[0][1]++,Zn().s[7]++,this.state.activeRequest?(Zn().b[1][0]++,Zn().s[8]++,this.state.activeRequest.abort(),Zn().s[9]++,this.setState({activeRequest:null,activeRequestUrl:null})):Zn().b[1][1]++}onOpenToggle(){Zn().f[14]++,Zn().s[45]++,this.setState({styleUrl:""}),Zn().s[46]++,this.clearError(),Zn().s[47]++,this.props.onOpenToggle()}render(){Zn().f[16]++;const n=(Zn().s[50]++,_Q.map(i=>(Zn().f[17]++,Zn().s[51]++,G.jsx(oIe,{url:i.url,title:i.title,thumbnailUrl:i.thumbnail,onSelect:this.onStyleSelect},i.id))));let r;return Zn().s[52]++,this.state.error?(Zn().b[3][0]++,Zn().s[53]++,r=G.jsxs("div",{className:"maputnik-modal-error",children:[this.state.error,G.jsx("a",{href:"#",onClick:()=>(Zn().f[18]++,Zn().s[54]++,this.clearError()),className:"maputnik-modal-error-close",children:"×"})]})):Zn().b[3][1]++,Zn().s[55]++,G.jsxs("div",{children:[G.jsxs(Hf,{"data-wd-key":"modal:open",isOpen:this.props.isOpen,onOpenToggle:()=>(Zn().f[19]++,Zn().s[56]++,this.onOpenToggle()),title:"Open Style",children:[r,G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Upload Style"}),G.jsx("p",{children:"Upload a JSON style from your computer."}),G.jsx(rIe,{onChange:this.onUpload,tabIndex:-1,"aria-label":"Style file",children:G.jsxs(ja,{className:"maputnik-upload-button",children:[G.jsx(Gte,{})," Upload"]})})]}),G.jsx("section",{className:"maputnik-modal-section",children:G.jsxs("form",{onSubmit:this.onSubmitUrl,children:[G.jsx("h1",{children:"Load from URL"}),G.jsxs("p",{children:["Load from a URL. Note that the URL must have ",G.jsx("a",{href:"https://enable-cors.org",target:"_blank",rel:"noopener noreferrer",children:"CORS enabled"}),"."]}),G.jsx(mk,{"aria-label":"Style URL","data-wd-key":"modal:open.url.input",type:"text",className:"maputnik-input",default:"Enter URL...",value:this.state.styleUrl,onInput:this.onChangeUrl,onChange:this.onChangeUrl}),G.jsx("div",{children:G.jsx(ja,{"data-wd-key":"modal:open.url.button",type:"submit",className:"maputnik-big-button",disabled:this.state.styleUrl.length<1,children:"Load from URL"})})]})}),G.jsxs("section",{className:"maputnik-modal-section maputnik-modal-section--shrink",children:[G.jsx("h1",{children:"Gallery Styles"}),G.jsx("p",{children:"Open one of the publicly available styles to start from."}),G.jsx("div",{className:"maputnik-style-gallery-container",children:n})]})]}),G.jsx(iIe,{isOpen:!!this.state.activeRequest,title:"Loading style",onCancel:i=>(Zn().f[20]++,Zn().s[57]++,this.onCancelActiveRequest(i)),message:"Loading: "+this.state.activeRequestUrl})]})}}function Ef(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",t="5c6b0b4c3c3cced12e6393d9679f373c813a1e88",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx",statementMap:{0:{start:{line:6,column:17},end:{line:39,column:5}},1:{start:{line:40,column:25},end:{line:113,column:5}},2:{start:{line:114,column:4},end:{line:143,column:6}},3:{start:{line:128,column:12},end:{line:131,column:22}},4:{start:{line:135,column:12},end:{line:139,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:144,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:127,column:57},end:{line:127,column:58}},loc:{start:{line:127,column:72},end:{line:132,column:11}},line:127},2:{name:"(anonymous_2)",decl:{start:{line:134,column:65},end:{line:134,column:66}},loc:{start:{line:134,column:80},end:{line:140,column:11}},line:134}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalShortcuts.tsx"],names:[],mappings:"AAea,SAwCA,UAxCA,KAwCA,YAxCA;AAfb,OAAO,WAAW;AAElB,OAAO,WAAW;AASlB,qBAAqB,uBAAuB,MAAM,UAA+B;AAAA,EAC/E,SAAS;AACP,UAAM,OAAO;AAAA,MACX;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,IACF;AAGA,UAAM,eAAe;AAAA,MACnB;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,eAAC;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,eAAC;AAAA,WAAM;AAAA,QACtC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,gBAAE;AAAA,QACZ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,kBAAI;AAAA,QACd,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,oBAAC,SAAI,mBAAK;AAAA,QACf,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,mBAAK;AAAA,WAAM;AAAA,QAC1C,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,gBAAE;AAAA,WAAM;AAAA,QACvC,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,KAAK,iCAAE;AAAA,8BAAC,SAAI,mBAAK;AAAA,UAAM;AAAA,UAAG,oBAAC,SAAI,kBAAI;AAAA,WAAM;AAAA,QACzC,MAAM;AAAA,MACR;AAAA,IACF;AAGA,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP,+BAAC,aAAQ,WAAU,mDACjB;AAAA,+BAAC,OAAE;AAAA;AAAA,YACK,oBAAC,UAAK,iBAAG;AAAA,YAAO;AAAA,aACxB;AAAA,UACA,oBAAC,QACE,eAAK,IAAI,CAAC,MAAM,QAAQ;AACvB,mBAAO,qBAAC,SAAc,WAAU,sCAC9B;AAAA,kCAAC,QAAmB,eAAK,OAAhB,OAAK,GAAe;AAAA,cAC7B,oBAAC,QAAmB,eAAK,QAAhB,OAAK,GAAgB;AAAA,iBAFf,GAGjB;AAAA,UACF,CAAC,GACH;AAAA,UACA,oBAAC,OAAE,0EAA4D;AAAA,UAC/D,oBAAC,QACE,uBAAa,IAAI,CAAC,MAAM,QAAQ;AAC/B,mBAAO,qBAAC,QACN;AAAA,kCAAC,UAAM,eAAK,KAAI;AAAA,cAAO;AAAA,cAAE,KAAK;AAAA,iBADhB,GAEhB;AAAA,UACF,CAAC,GACH;AAAA,WACF;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5c6b0b4c3c3cced12e6393d9679f373c813a1e88"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ef=function(){return a},a}Ef();class sIe extends Mn.Component{render(){Ef().f[0]++;const t=(Ef().s[0]++,[{key:G.jsx("kbd",{children:"?"}),text:"Shortcuts menu"},{key:G.jsx("kbd",{children:"o"}),text:"Open modal"},{key:G.jsx("kbd",{children:"e"}),text:"Export modal"},{key:G.jsx("kbd",{children:"d"}),text:"Data Sources modal"},{key:G.jsx("kbd",{children:"s"}),text:"Style Settings modal"},{key:G.jsx("kbd",{children:"i"}),text:"Toggle inspect"},{key:G.jsx("kbd",{children:"m"}),text:"Focus map"},{key:G.jsx("kbd",{children:"!"}),text:"Debug modal"}]),n=(Ef().s[1]++,[{key:G.jsx("kbd",{children:"+"}),text:"Increase the zoom level by 1."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"+"})]}),text:"Increase the zoom level by 2."},{key:G.jsx("kbd",{children:"-"}),text:"Decrease the zoom level by 1."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"-"})]}),text:"Decrease the zoom level by 2."},{key:G.jsx("kbd",{children:"Up"}),text:"Pan up by 100 pixels."},{key:G.jsx("kbd",{children:"Down"}),text:"Pan down by 100 pixels."},{key:G.jsx("kbd",{children:"Left"}),text:"Pan left by 100 pixels."},{key:G.jsx("kbd",{children:"Right"}),text:"Pan right by 100 pixels."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Right"})]}),text:"Increase the rotation by 15 degrees."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Left"})]}),text:"Decrease the rotation by 15 degrees."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Up"})]}),text:"Increase the pitch by 10 degrees."},{key:G.jsxs(G.Fragment,{children:[G.jsx("kbd",{children:"Shift"})," + ",G.jsx("kbd",{children:"Down"})]}),text:"Decrease the pitch by 10 degrees."}]);return Ef().s[2]++,G.jsx(Hf,{"data-wd-key":"modal:shortcuts",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Shortcuts",children:G.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[G.jsxs("p",{children:["Press ",G.jsx("code",{children:"ESC"})," to lose focus of any active elements, then press one of:"]}),G.jsx("dl",{children:t.map((r,i)=>(Ef().f[1]++,Ef().s[3]++,G.jsxs("div",{className:"maputnik-modal-shortcuts__shortcut",children:[G.jsx("dt",{children:r.key},"dt"+i),G.jsx("dd",{children:r.text},"dd"+i)]},i)))}),G.jsx("p",{children:"If the Map is in focused you can use the following shortcuts"}),G.jsx("ul",{children:n.map((r,i)=>(Ef().f[2]++,Ef().s[4]++,G.jsxs("li",{children:[G.jsx("span",{children:r.key})," ",r.text]},i)))})]})})}}const lIe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='1200'%20height='1200'%20viewBox='0%200%20100%20100'%3e%3cg%20class='map'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--map__main'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line1'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line2'%20fill='none'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--map__line3'%20fill='none'%3e%3c/use%3e%3c/g%3e%3cg%20class='palette'%3e%3cuse%20xlink:href='%23ref-1--palette__main'%20fill='%23fff'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__inner'%20fill='none'%20stroke='%23000'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle5'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle4'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle3'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle2'%20fill='%234eba6f'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle1'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--palette__circle0'%20fill='%234eba6f'%3e%3c/use%3e%3c/g%3e%3cg%20class='brush'%20stroke='%23000'%3e%3cuse%20xlink:href='%23ref-1--brush__bottom'%20fill='%23f7c44c'%3e%3c/use%3e%3cuse%20xlink:href='%23ref-1--brush__top'%20fill='%23fff'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cpath%20id='ref-1--map__main'%20stroke-width='2.366'%20stroke-linejoin='round'%20d='M18.84%207.717l15.44%207.542%2015.75-7.762%2015.7%207.857L81.005%207.67%2096.31%2054.052%2073.598%2062.12%2050.93%2053.872l-25.1%208.066-22.668-8.066z'%3e%3c/path%3e%3cpath%20id='ref-1--map__line1'%20d='M65.556%2015.07l7.647%2046.838'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line2'%20d='M50.261%207.422l.717%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--map__line3'%20d='M34.011%2015.07l-8.603%2046.6'%20stroke-width='1.104'%3e%3c/path%3e%3cpath%20id='ref-1--palette__main'%20stroke-width='2.3'%20d='M47.352%2030.887c7.993.226%2016.934%209.725%2017.954%2015.25%201.02%205.527-.743%2011.125-4.298%2013.875-3.554%202.75-8.6%202.905-8.723%208.302-.097%204.237%208.457%208.5%208.088%2015.653-.406%207.857-15.508%2013.15-30.943%206.102-8.556-3.906-14.249-13.653-13.385-26.238C16.833%2052.334%2022.32%2043.658%2027.382%2039c5.977-5.503%2011.977-8.337%2019.97-8.112z'%3e%3c/path%3e%3ccircle%20id='ref-1--palette__inner'%20stroke-width='2.3'%20cx='41.873'%20cy='61.901'%20r='6.389'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle5'%20cy='44.56'%20cx='54.347'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle4'%20cx='40.443'%20cy='41.555'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle3'%20r='4.336'%20cy='51.102'%20cx='29.651'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle2'%20cx='25.293'%20cy='65.836'%20r='4.336'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle1'%20r='4.336'%20cy='79.326'%20cx='32.764'%3e%3c/circle%3e%3ccircle%20id='ref-1--palette__circle0'%20cx='46.669'%20cy='80.571'%20r='4.336'%3e%3c/circle%3e%3cpath%20id='ref-1--brush__bottom'%20d='M76.333%2089.333c-1.645-9.794-4.375-35.26-4.32-37.887.056-2.627%202.52-4.34%205.36-4.317%202.842.022%205.098%201.87%205.314%204.27.107%201.2-1.576%2028.06-2.318%2037.844-.332%204.374-3.31%204.413-4.036.09z'%20stroke-width='2.3'%20stroke-linejoin='round'%3e%3c/path%3e%3cpath%20id='ref-1--brush__top'%20stroke-linejoin='round'%20stroke-width='2.3'%20d='M77.184%2026.428s-5.621%207.02-5.621%2011.978c0%204.957%202.206%206.878%205.81%206.878%203.606%200%205.148-1.708%205.29-6.736.142-5.028-5.479-12.12-5.479-12.12z'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e";function Fm(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",t="61657e6b288c15c4507475083ae2151817c1dbb9",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx",statementMap:{0:{start:{line:7,column:12},end:{line:10,column:3}},1:{start:{line:8,column:4},end:{line:8,column:76}},2:{start:{line:9,column:4},end:{line:9,column:30}},3:{start:{line:12,column:4},end:{line:27,column:6}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:12},end:{line:7,column:13}},loc:{start:{line:7,column:18},end:{line:10,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:11},end:{line:28,column:3}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalSurvey.tsx"],names:[],mappings:"AA2BM,SACE,KADF;AA3BN,OAAO,WAAW;AAElB,OAAO,iBAAiB;AACxB,OAAO,WAAW;AAGlB,OAAO,eAAe;AAOtB,qBAAqB,oBAAoB,MAAM,UAA4B;AAAA,EACzE,UAAU,MAAM;AACd,WAAO,KAAK,kDAAkD,QAAQ;AAEtE,SAAK,MAAM,aAAa;AAAA,EAC1B;AAAA,EAEA,SAAS;AACP,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAM;AAAA,QAEN,+BAAC,SAAI,WAAU,yBACb;AAAA,8BAAC,SAAI,KAAK,WAAW,WAAU,+BAA8B;AAAA,UAC7D,oBAAC,QAAG,sDAAwC;AAAA,UAC5C,oBAAC,OAAE,WAAU,sCAAqC,uLAAyK;AAAA,UAC3N,oBAAC,eAAY,SAAS,KAAK,SAAS,WAAU,kEAAiE,sCAAwB;AAAA,UACvI,oBAAC,OAAE,WAAU,mCAAkC,mEAAqD;AAAA,WACtG;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61657e6b288c15c4507475083ae2151817c1dbb9"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Fm=function(){return a},a}Fm();class uIe extends Mn.Component{constructor(){super(...arguments);on(this,"onClick",(Fm().s[0]++,()=>{Fm().f[0]++,Fm().s[1]++,window.open("https://gregorywolanski.typeform.com/to/cPgaSY","_blank"),Fm().s[2]++,this.props.onOpenToggle()}))}render(){return Fm().f[1]++,Fm().s[3]++,G.jsx(Hf,{"data-wd-key":"modal:survey",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Maputnik Survey",children:G.jsxs("div",{className:"maputnik-modal-survey",children:[G.jsx("img",{src:lIe,className:"maputnik-modal-survey__logo"}),G.jsx("h1",{children:"You + Maputnik = Maputnik better for you"}),G.jsx("p",{className:"maputnik-modal-survey__description",children:"We don’t track you, so we don’t know how you use Maputnik. Help us make Maputnik better for you by completing a 7–minute survey carried out by our contributing designer."}),G.jsx(ja,{onClick:this.onClick,className:"maputnik-big-button maputnik-white-button maputnik-wide-button",children:"Take the Maputnik Survey"}),G.jsx("p",{className:"maputnik-modal-survey__footnote",children:"It takes 7 minutes, tops! Every question is optional."})]})})}}function Tl(){var e="/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",t="3e2ef17c22ea77c711c82e681a7c05add06fcb64",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:6,column:34}},1:{start:{line:7,column:20},end:{line:7,column:48}},2:{start:{line:8,column:19},end:{line:8,column:49}},3:{start:{line:9,column:19},end:{line:9,column:49}},4:{start:{line:10,column:4},end:{line:52,column:6}},5:{start:{line:21,column:14},end:{line:25,column:27}},6:{start:{line:22,column:96},end:{line:22,column:153}},7:{start:{line:28,column:14},end:{line:32,column:27}},8:{start:{line:29,column:96},end:{line:29,column:153}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:11},end:{line:53,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:140},end:{line:20,column:141}},loc:{start:{line:20,column:156},end:{line:26,column:13}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:22,column:89},end:{line:22,column:90}},loc:{start:{line:22,column:96},end:{line:22,column:153}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:136},end:{line:27,column:137}},loc:{start:{line:27,column:152},end:{line:33,column:13}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:29,column:89},end:{line:29,column:90}},loc:{start:{line:29,column:96},end:{line:29,column:153}},line:29}},branchMap:{0:{loc:{start:{line:20,column:12},end:{line:26,column:17}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:44}},{start:{line:20,column:64},end:{line:26,column:17}}],line:20},1:{loc:{start:{line:27,column:12},end:{line:33,column:17}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:40}},{start:{line:27,column:60},end:{line:33,column:17}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/ModalDebug.tsx"],names:[],mappings:"AAsCQ,cAKQ,YALR;AAtCR,OAAO,WAAW;AAElB,OAAO,WAAW;AAqBlB,qBAAqB,mBAAmB,MAAM,UAA2B;AAAA,EACvE,SAAS;AACP,UAAM,EAAC,QAAO,IAAI,KAAK;AAEvB,UAAM,UAAU,KAAK,MAAM,QAAQ,IAAI,IAAE;AACzC,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAC9C,UAAM,SAAS,CAAE,QAAQ,OAAO,IAAK,QAAQ,CAAC;AAE9C,WAAO;AAAA,MAAC;AAAA;AAAA,QACN,eAAY;AAAA,QACZ,QAAQ,KAAK,MAAM;AAAA,QACnB,cAAc,KAAK,MAAM;AAAA,QACzB,OAAO;AAAA,QAEP;AAAA,+BAAC,aAAQ,WAAU,mDACjB;AAAA,gCAAC,QAAG,qBAAO;AAAA,YACV,KAAK,MAAM,aAAa,YACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,YAED,KAAK,MAAM,aAAa,QACvB,oBAAC,QACE,iBAAO,QAAQ,KAAK,MAAM,sBAAuB,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM;AACtE,qBAAO,oBAAC,QACN,+BAAC,WACC;AAAA,oCAAC,WAAM,MAAK,YAAW,SAAS,KAAK,UAAU,CAAC,MAAM,KAAK,MAAM,wBAAwB,KAAK,EAAE,OAAO,OAAO,GAAG;AAAA,gBAAE;AAAA,gBAAE;AAAA,iBACvH,KAHc,GAIhB;AAAA,YACF,CAAC,GACH;AAAA,aAEJ;AAAA,UACA,qBAAC,aAAQ,WAAU,0BACjB;AAAA,gCAAC,QAAG,mBAAK;AAAA,YACT,qBAAC,OACC;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACC,QAAO;AAAA,kBACP,KAAI;AAAA,kBACJ,MAAM,sCAAsC,OAAO,IAAI,MAAM,IAAI,MAAM;AAAA,kBACxE;AAAA;AAAA,cAED;AAAA,cAAI;AAAA,eACN;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3e2ef17c22ea77c711c82e681a7c05add06fcb64"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Tl=function(){return a},a}Tl();class AIe extends Mn.Component{render(){Tl().f[0]++;const{mapView:t}=(Tl().s[0]++,this.props),n=(Tl().s[1]++,Math.round(t.zoom)+1),r=(Tl().s[2]++,+t.center.lng.toFixed(5)),i=(Tl().s[3]++,+t.center.lat.toFixed(5));return Tl().s[4]++,G.jsxs(Hf,{"data-wd-key":"modal:debug",isOpen:this.props.isOpen,onOpenToggle:this.props.onOpenToggle,title:"Debug",children:[G.jsxs("section",{className:"maputnik-modal-section maputnik-modal-shortcuts",children:[G.jsx("h1",{children:"Options"}),(Tl().b[0][0]++,this.props.renderer==="mlgljs"&&(Tl().b[0][1]++,G.jsx("ul",{children:Object.entries(this.props.maplibreGlDebugOptions).map(([o,a])=>(Tl().f[1]++,Tl().s[5]++,G.jsx("li",{children:G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:a,onChange:s=>(Tl().f[2]++,Tl().s[6]++,this.props.onChangeMaplibreGlDebug(o,s.target.checked))})," ",o]})},o)))}))),(Tl().b[1][0]++,this.props.renderer==="ol"&&(Tl().b[1][1]++,G.jsx("ul",{children:Object.entries(this.props.openlayersDebugOptions).map(([o,a])=>(Tl().f[3]++,Tl().s[7]++,G.jsx("li",{children:G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:a,onChange:s=>(Tl().f[4]++,Tl().s[8]++,this.props.onChangeOpenlayersDebug(o,s.target.checked))})," ",o]})},o)))})))]}),G.jsxs("section",{className:"maputnik-modal-section",children:[G.jsx("h1",{children:"Links"}),G.jsxs("p",{children:[G.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:`https://www.openstreetmap.org/#map=${n}/${i}/${r}`,children:"Open in OSM"})," — Opens the current view on openstreetmap.org"]})]})]})}}var j1={},_5={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */_5.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof window=="object"&&window;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,s=2147483647,h=36,g=1,_=26,E=38,O=700,K=72,D=128,Y="-",ee=/^xn--/,H=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,Z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=h-g,ye=Math.floor,be=String.fromCharCode,X;function se(ze){throw new RangeError(Z[ze])}function we(ze,He){for(var Ve=ze.length,Vt=[];Ve--;)Vt[Ve]=He(ze[Ve]);return Vt}function xe(ze,He){var Ve=ze.split("@"),Vt="";Ve.length>1&&(Vt=Ve[0]+"@",ze=Ve[1]),ze=ze.replace(N,".");var Yt=ze.split("."),vt=we(Yt,He).join(".");return Vt+vt}function De(ze){for(var He=[],Ve=0,Vt=ze.length,Yt,vt;Ve<Vt;)Yt=ze.charCodeAt(Ve++),Yt>=55296&&Yt<=56319&&Ve<Vt?(vt=ze.charCodeAt(Ve++),(vt&64512)==56320?He.push(((Yt&1023)<<10)+(vt&1023)+65536):(He.push(Yt),Ve--)):He.push(Yt);return He}function Fe(ze){return we(ze,function(He){var Ve="";return He>65535&&(He-=65536,Ve+=be(He>>>10&1023|55296),He=56320|He&1023),Ve+=be(He),Ve}).join("")}function he(ze){return ze-48<10?ze-22:ze-65<26?ze-65:ze-97<26?ze-97:h}function Qe(ze,He){return ze+22+75*(ze<26)-((He!=0)<<5)}function ge(ze,He,Ve){var Vt=0;for(ze=Ve?ye(ze/O):ze>>1,ze+=ye(ze/He);ze>ue*_>>1;Vt+=h)ze=ye(ze/ue);return ye(Vt+(ue+1)*ze/(ze+E))}function yt(ze){var He=[],Ve=ze.length,Vt,Yt=0,vt=D,$t=K,Qt,ke,pe,Se,Re,it,ot,St,Rt;for(Qt=ze.lastIndexOf(Y),Qt<0&&(Qt=0),ke=0;ke<Qt;++ke)ze.charCodeAt(ke)>=128&&se("not-basic"),He.push(ze.charCodeAt(ke));for(pe=Qt>0?Qt+1:0;pe<Ve;){for(Se=Yt,Re=1,it=h;pe>=Ve&&se("invalid-input"),ot=he(ze.charCodeAt(pe++)),(ot>=h||ot>ye((s-Yt)/Re))&&se("overflow"),Yt+=ot*Re,St=it<=$t?g:it>=$t+_?_:it-$t,!(ot<St);it+=h)Rt=h-St,Re>ye(s/Rt)&&se("overflow"),Re*=Rt;Vt=He.length+1,$t=ge(Yt-Se,Vt,Se==0),ye(Yt/Vt)>s-vt&&se("overflow"),vt+=ye(Yt/Vt),Yt%=Vt,He.splice(Yt++,0,vt)}return Fe(He)}function wt(ze){var He,Ve,Vt,Yt,vt,$t,Qt,ke,pe,Se,Re,it=[],ot,St,Rt,zt;for(ze=De(ze),ot=ze.length,He=D,Ve=0,vt=K,$t=0;$t<ot;++$t)Re=ze[$t],Re<128&&it.push(be(Re));for(Vt=Yt=it.length,Yt&&it.push(Y);Vt<ot;){for(Qt=s,$t=0;$t<ot;++$t)Re=ze[$t],Re>=He&&Re<Qt&&(Qt=Re);for(St=Vt+1,Qt-He>ye((s-Ve)/St)&&se("overflow"),Ve+=(Qt-He)*St,He=Qt,$t=0;$t<ot;++$t)if(Re=ze[$t],Re<He&&++Ve>s&&se("overflow"),Re==He){for(ke=Ve,pe=h;Se=pe<=vt?g:pe>=vt+_?_:pe-vt,!(ke<Se);pe+=h)zt=ke-Se,Rt=h-Se,it.push(be(Qe(Se+zt%Rt,0))),ke=ye(zt/Rt);it.push(be(Qe(ke,0))),vt=ge(Ve,St,Vt==Yt),Ve=0,++Vt}++Ve,++He}return it.join("")}function st(ze){return xe(ze,function(He){return ee.test(He)?yt(He.slice(4).toLowerCase()):He})}function mt(ze){return xe(ze,function(He){return H.test(He)?"xn--"+wt(He):He})}if(a={version:"1.4.1",ucs2:{decode:De,encode:Fe},decode:yt,encode:wt,toASCII:mt,toUnicode:st},r&&i)if(e.exports==r)i.exports=a;else for(X in a)a.hasOwnProperty(X)&&(r[X]=a[X]);else n.punycode=a})(Dh)})(_5,_5.exports);var cIe=_5.exports,dIe=Error,hIe=EvalError,fIe=RangeError,pIe=ReferenceError,CQ=SyntaxError,Ax=TypeError,mIe=URIError,gIe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},iF=typeof Symbol<"u"&&Symbol,yIe=gIe,vIe=function(){return typeof iF!="function"||typeof Symbol!="function"||typeof iF("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:yIe()},S6={__proto__:null,foo:{}},_Ie=Object,CIe=function(){return{__proto__:S6}.foo===S6.foo&&!(S6 instanceof _Ie)},bIe="Function.prototype.bind called on incompatible ",xIe=Object.prototype.toString,wIe=Math.max,MIe="[object Function]",oF=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},SIe=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},EIe=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},OIe=function(t){var n=this;if(typeof n!="function"||xIe.apply(n)!==MIe)throw new TypeError(bIe+n);for(var r=SIe(arguments,1),i,o=function(){if(this instanceof i){var _=n.apply(this,oF(r,arguments));return Object(_)===_?_:this}return n.apply(t,oF(r,arguments))},a=wIe(0,n.length-r.length),s=[],h=0;h<a;h++)s[h]="$"+h;if(i=Function("binder","return function ("+EIe(s,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var g=function(){};g.prototype=n.prototype,i.prototype=new g,g.prototype=null}return i},BIe=OIe,_k=Function.prototype.bind||BIe,IIe=Function.prototype.call,kIe=Object.prototype.hasOwnProperty,TIe=_k,PIe=TIe.call(IIe,kIe),So,KIe=dIe,DIe=hIe,FIe=fIe,LIe=pIe,pv=CQ,Zy=Ax,UIe=mIe,bQ=Function,E6=function(e){try{return bQ('"use strict"; return ('+e+").constructor;")()}catch{}},M1=Object.getOwnPropertyDescriptor;if(M1)try{M1({},"")}catch{M1=null}var O6=function(){throw new Zy},RIe=M1?function(){try{return arguments.callee,O6}catch{try{return M1(arguments,"callee").get}catch{return O6}}}():O6,Gg=vIe(),zIe=CIe(),gu=Object.getPrototypeOf||(zIe?function(e){return e.__proto__}:null),ny={},jIe=typeof Uint8Array>"u"||!gu?So:gu(Uint8Array),S1={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?So:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?So:ArrayBuffer,"%ArrayIteratorPrototype%":Gg&&gu?gu([][Symbol.iterator]()):So,"%AsyncFromSyncIteratorPrototype%":So,"%AsyncFunction%":ny,"%AsyncGenerator%":ny,"%AsyncGeneratorFunction%":ny,"%AsyncIteratorPrototype%":ny,"%Atomics%":typeof Atomics>"u"?So:Atomics,"%BigInt%":typeof BigInt>"u"?So:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?So:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?So:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?So:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":KIe,"%eval%":eval,"%EvalError%":DIe,"%Float32Array%":typeof Float32Array>"u"?So:Float32Array,"%Float64Array%":typeof Float64Array>"u"?So:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?So:FinalizationRegistry,"%Function%":bQ,"%GeneratorFunction%":ny,"%Int8Array%":typeof Int8Array>"u"?So:Int8Array,"%Int16Array%":typeof Int16Array>"u"?So:Int16Array,"%Int32Array%":typeof Int32Array>"u"?So:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gg&&gu?gu(gu([][Symbol.iterator]())):So,"%JSON%":typeof JSON=="object"?JSON:So,"%Map%":typeof Map>"u"?So:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gg||!gu?So:gu(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?So:Promise,"%Proxy%":typeof Proxy>"u"?So:Proxy,"%RangeError%":FIe,"%ReferenceError%":LIe,"%Reflect%":typeof Reflect>"u"?So:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?So:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gg||!gu?So:gu(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?So:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gg&&gu?gu(""[Symbol.iterator]()):So,"%Symbol%":Gg?Symbol:So,"%SyntaxError%":pv,"%ThrowTypeError%":RIe,"%TypedArray%":jIe,"%TypeError%":Zy,"%Uint8Array%":typeof Uint8Array>"u"?So:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?So:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?So:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?So:Uint32Array,"%URIError%":UIe,"%WeakMap%":typeof WeakMap>"u"?So:WeakMap,"%WeakRef%":typeof WeakRef>"u"?So:WeakRef,"%WeakSet%":typeof WeakSet>"u"?So:WeakSet};if(gu)try{null.error}catch(e){var WIe=gu(gu(e));S1["%Error.prototype%"]=WIe}var NIe=function e(t){var n;if(t==="%AsyncFunction%")n=E6("async function () {}");else if(t==="%GeneratorFunction%")n=E6("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=E6("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&gu&&(n=gu(i.prototype))}return S1[t]=n,n},aF={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cx=_k,C5=PIe,GIe=cx.call(Function.call,Array.prototype.concat),$Ie=cx.call(Function.apply,Array.prototype.splice),sF=cx.call(Function.call,String.prototype.replace),b5=cx.call(Function.call,String.prototype.slice),QIe=cx.call(Function.call,RegExp.prototype.exec),YIe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qIe=/\\(\\)?/g,HIe=function(t){var n=b5(t,0,1),r=b5(t,-1);if(n==="%"&&r!=="%")throw new pv("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new pv("invalid intrinsic syntax, expected opening `%`");var i=[];return sF(t,YIe,function(o,a,s,h){i[i.length]=s?sF(h,qIe,"$1"):a||o}),i},VIe=function(t,n){var r=t,i;if(C5(aF,r)&&(i=aF[r],r="%"+i[0]+"%"),C5(S1,r)){var o=S1[r];if(o===ny&&(o=NIe(r)),typeof o>"u"&&!n)throw new Zy("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new pv("intrinsic "+t+" does not exist!")},Rv=function(t,n){if(typeof t!="string"||t.length===0)throw new Zy("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Zy('"allowMissing" argument must be a boolean');if(QIe(/^%?[^%]*%?$/,t)===null)throw new pv("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=HIe(t),i=r.length>0?r[0]:"",o=VIe("%"+i+"%",n),a=o.name,s=o.value,h=!1,g=o.alias;g&&(i=g[0],$Ie(r,GIe([0,1],g)));for(var _=1,E=!0;_<r.length;_+=1){var O=r[_],K=b5(O,0,1),D=b5(O,-1);if((K==='"'||K==="'"||K==="`"||D==='"'||D==="'"||D==="`")&&K!==D)throw new pv("property names with quotes must have matching quotes");if((O==="constructor"||!E)&&(h=!0),i+="."+O,a="%"+i+"%",C5(S1,a))s=S1[a];else if(s!=null){if(!(O in s)){if(!n)throw new Zy("base intrinsic for "+t+" exists, but the property is not available.");return}if(M1&&_+1>=r.length){var Y=M1(s,O);E=!!Y,E&&"get"in Y&&!("originalValue"in Y.get)?s=Y.get:s=s[O]}else E=C5(s,O),s=s[O];E&&!h&&(S1[a]=s)}}return s},xQ={exports:{}},B6,lF;function Ck(){if(lF)return B6;lF=1;var e=Rv,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return B6=t,B6}var ZIe=Rv,b3=ZIe("%Object.getOwnPropertyDescriptor%",!0);if(b3)try{b3([],"length")}catch{b3=null}var wQ=b3,uF=Ck(),XIe=CQ,$g=Ax,AF=wQ,JIe=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new $g("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new $g("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $g("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $g("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $g("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $g("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,h=!!AF&&AF(t,n);if(uF)uF(t,n,{configurable:a===null&&h?h.configurable:!a,enumerable:i===null&&h?h.enumerable:!i,value:r,writable:o===null&&h?h.writable:!o});else if(s||!i&&!o&&!a)t[n]=r;else throw new XIe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},SB=Ck(),MQ=function(){return!!SB};MQ.hasArrayLengthDefineBug=function(){if(!SB)return null;try{return SB([],"length",{value:1}).length!==1}catch{return!0}};var eke=MQ,tke=Rv,cF=JIe,nke=eke(),dF=wQ,hF=Ax,rke=tke("%Math.floor%"),ike=function(t,n){if(typeof t!="function")throw new hF("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||rke(n)!==n)throw new hF("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&dF){var a=dF(t,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!r)&&(nke?cF(t,"length",n,!0,!0):cF(t,"length",n)),t};(function(e){var t=_k,n=Rv,r=ike,i=Ax,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,o),h=Ck(),g=n("%Math.max%");e.exports=function(O){if(typeof O!="function")throw new i("a function is required");var K=s(t,a,arguments);return r(K,1+g(0,O.length-(arguments.length-1)),!0)};var _=function(){return s(t,o,arguments)};h?h(e.exports,"apply",{value:_}):e.exports.apply=_})(xQ);var oke=xQ.exports,SQ=Rv,EQ=oke,ake=EQ(SQ("String.prototype.indexOf")),ske=function(t,n){var r=SQ(t,!!n);return typeof r=="function"&&ake(t,".prototype.")>-1?EQ(r):r};const lke={},uke=Object.freeze(Object.defineProperty({__proto__:null,default:lke},Symbol.toStringTag,{value:"Module"})),Ake=UB(uke);var bk=typeof Map=="function"&&Map.prototype,I6=Object.getOwnPropertyDescriptor&&bk?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,x5=bk&&I6&&typeof I6.get=="function"?I6.get:null,fF=bk&&Map.prototype.forEach,xk=typeof Set=="function"&&Set.prototype,k6=Object.getOwnPropertyDescriptor&&xk?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,w5=xk&&k6&&typeof k6.get=="function"?k6.get:null,pF=xk&&Set.prototype.forEach,cke=typeof WeakMap=="function"&&WeakMap.prototype,MC=cke?WeakMap.prototype.has:null,dke=typeof WeakSet=="function"&&WeakSet.prototype,SC=dke?WeakSet.prototype.has:null,hke=typeof WeakRef=="function"&&WeakRef.prototype,mF=hke?WeakRef.prototype.deref:null,fke=Boolean.prototype.valueOf,pke=Object.prototype.toString,mke=Function.prototype.toString,gke=String.prototype.match,wk=String.prototype.slice,qm=String.prototype.replace,yke=String.prototype.toUpperCase,gF=String.prototype.toLowerCase,OQ=RegExp.prototype.test,yF=Array.prototype.concat,Bf=Array.prototype.join,vke=Array.prototype.slice,vF=Math.floor,EB=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T6=Object.getOwnPropertySymbols,OB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,mv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",gA=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===mv||!0)?Symbol.toStringTag:null,BQ=Object.prototype.propertyIsEnumerable,_F=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function CF(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||OQ.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-vF(-e):vF(e);if(r!==e){var i=String(r),o=wk.call(t,i.length+1);return qm.call(i,n,"$&_")+"."+qm.call(qm.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return qm.call(t,n,"$&_")}var BB=Ake,bF=BB.custom,xF=kQ(bF)?bF:null,_ke=function e(t,n,r,i){var o=n||{};if(Lm(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Lm(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Lm(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Lm(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Lm(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return PQ(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var h=String(t);return s?CF(t,h):h}if(typeof t=="bigint"){var g=String(t)+"n";return s?CF(t,g):g}var _=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=_&&_>0&&typeof t=="object")return IB(t)?"[Array]":"[Object]";var E=Uke(o,r);if(typeof i>"u")i=[];else if(TQ(i,t)>=0)return"[Circular]";function O(he,Qe,ge){if(Qe&&(i=vke.call(i),i.push(Qe)),ge){var yt={depth:o.depth};return Lm(o,"quoteStyle")&&(yt.quoteStyle=o.quoteStyle),e(he,yt,r+1,i)}return e(he,o,r+1,i)}if(typeof t=="function"&&!wF(t)){var K=Bke(t),D=Y2(t,O);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(D.length>0?" { "+Bf.call(D,", ")+" }":"")}if(kQ(t)){var Y=mv?qm.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):OB.call(t);return typeof t=="object"&&!mv?U_(Y):Y}if(Dke(t)){for(var ee="<"+gF.call(String(t.nodeName)),H=t.attributes||[],N=0;N<H.length;N++)ee+=" "+H[N].name+"="+IQ(Cke(H[N].value),"double",o);return ee+=">",t.childNodes&&t.childNodes.length&&(ee+="..."),ee+="</"+gF.call(String(t.nodeName))+">",ee}if(IB(t)){if(t.length===0)return"[]";var Z=Y2(t,O);return E&&!Lke(Z)?"["+kB(Z,E)+"]":"[ "+Bf.call(Z,", ")+" ]"}if(xke(t)){var ue=Y2(t,O);return!("cause"in Error.prototype)&&"cause"in t&&!BQ.call(t,"cause")?"{ ["+String(t)+"] "+Bf.call(yF.call("[cause]: "+O(t.cause),ue),", ")+" }":ue.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Bf.call(ue,", ")+" }"}if(typeof t=="object"&&a){if(xF&&typeof t[xF]=="function"&&BB)return BB(t,{depth:_-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Ike(t)){var ye=[];return fF&&fF.call(t,function(he,Qe){ye.push(O(Qe,t,!0)+" => "+O(he,t))}),MF("Map",x5.call(t),ye,E)}if(Pke(t)){var be=[];return pF&&pF.call(t,function(he){be.push(O(he,t))}),MF("Set",w5.call(t),be,E)}if(kke(t))return P6("WeakMap");if(Kke(t))return P6("WeakSet");if(Tke(t))return P6("WeakRef");if(Mke(t))return U_(O(Number(t)));if(Eke(t))return U_(O(EB.call(t)));if(Ske(t))return U_(fke.call(t));if(wke(t))return U_(O(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===window)return"{ [object globalThis] }";if(!bke(t)&&!wF(t)){var X=Y2(t,O),se=_F?_F(t)===Object.prototype:t instanceof Object||t.constructor===Object,we=t instanceof Object?"":"null prototype",xe=!se&&gA&&Object(t)===t&&gA in t?wk.call(v0(t),8,-1):we?"Object":"",De=se||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",Fe=De+(xe||we?"["+Bf.call(yF.call([],xe||[],we||[]),": ")+"] ":"");return X.length===0?Fe+"{}":E?Fe+"{"+kB(X,E)+"}":Fe+"{ "+Bf.call(X,", ")+" }"}return String(t)};function IQ(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Cke(e){return qm.call(String(e),/"/g,"&quot;")}function IB(e){return v0(e)==="[object Array]"&&(!gA||!(typeof e=="object"&&gA in e))}function bke(e){return v0(e)==="[object Date]"&&(!gA||!(typeof e=="object"&&gA in e))}function wF(e){return v0(e)==="[object RegExp]"&&(!gA||!(typeof e=="object"&&gA in e))}function xke(e){return v0(e)==="[object Error]"&&(!gA||!(typeof e=="object"&&gA in e))}function wke(e){return v0(e)==="[object String]"&&(!gA||!(typeof e=="object"&&gA in e))}function Mke(e){return v0(e)==="[object Number]"&&(!gA||!(typeof e=="object"&&gA in e))}function Ske(e){return v0(e)==="[object Boolean]"&&(!gA||!(typeof e=="object"&&gA in e))}function kQ(e){if(mv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!OB)return!1;try{return OB.call(e),!0}catch{}return!1}function Eke(e){if(!e||typeof e!="object"||!EB)return!1;try{return EB.call(e),!0}catch{}return!1}var Oke=Object.prototype.hasOwnProperty||function(e){return e in this};function Lm(e,t){return Oke.call(e,t)}function v0(e){return pke.call(e)}function Bke(e){if(e.name)return e.name;var t=gke.call(mke.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function TQ(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Ike(e){if(!x5||!e||typeof e!="object")return!1;try{x5.call(e);try{w5.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function kke(e){if(!MC||!e||typeof e!="object")return!1;try{MC.call(e,MC);try{SC.call(e,SC)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Tke(e){if(!mF||!e||typeof e!="object")return!1;try{return mF.call(e),!0}catch{}return!1}function Pke(e){if(!w5||!e||typeof e!="object")return!1;try{w5.call(e);try{x5.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Kke(e){if(!SC||!e||typeof e!="object")return!1;try{SC.call(e,SC);try{MC.call(e,MC)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Dke(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function PQ(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return PQ(wk.call(e,0,t.maxStringLength),t)+r}var i=qm.call(qm.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Fke);return IQ(i,"single",t)}function Fke(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+yke.call(t.toString(16))}function U_(e){return"Object("+e+")"}function P6(e){return e+" { ? }"}function MF(e,t,n,r){var i=r?kB(n,r):Bf.call(n,", ");return e+" ("+t+") {"+i+"}"}function Lke(e){for(var t=0;t<e.length;t++)if(TQ(e[t],`
`)>=0)return!1;return!0}function Uke(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Bf.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Bf.call(Array(t+1),n)}}function kB(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Bf.call(e,","+n)+`
`+t.prev}function Y2(e,t){var n=IB(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Lm(e,i)?t(e[i],e):""}var o=typeof T6=="function"?T6(e):[],a;if(mv){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var h in e)Lm(e,h)&&(n&&String(Number(h))===h&&h<e.length||mv&&a["$"+h]instanceof Symbol||(OQ.call(/[^\w$]/,h)?r.push(t(h,e)+": "+t(e[h],e)):r.push(h+": "+t(e[h],e))));if(typeof T6=="function")for(var g=0;g<o.length;g++)BQ.call(e,o[g])&&r.push("["+t(o[g])+"]: "+t(e[o[g]],e));return r}var KQ=Rv,zv=ske,Rke=_ke,zke=Ax,q2=KQ("%WeakMap%",!0),H2=KQ("%Map%",!0),jke=zv("WeakMap.prototype.get",!0),Wke=zv("WeakMap.prototype.set",!0),Nke=zv("WeakMap.prototype.has",!0),Gke=zv("Map.prototype.get",!0),$ke=zv("Map.prototype.set",!0),Qke=zv("Map.prototype.has",!0),Mk=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},Yke=function(e,t){var n=Mk(e,t);return n&&n.value},qke=function(e,t,n){var r=Mk(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},Hke=function(e,t){return!!Mk(e,t)},Vke=function(){var t,n,r,i={assert:function(o){if(!i.has(o))throw new zke("Side channel does not contain "+Rke(o))},get:function(o){if(q2&&o&&(typeof o=="object"||typeof o=="function")){if(t)return jke(t,o)}else if(H2){if(n)return Gke(n,o)}else if(r)return Yke(r,o)},has:function(o){if(q2&&o&&(typeof o=="object"||typeof o=="function")){if(t)return Nke(t,o)}else if(H2){if(n)return Qke(n,o)}else if(r)return Hke(r,o);return!1},set:function(o,a){q2&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new q2),Wke(t,o,a)):H2?(n||(n=new H2),$ke(n,o,a)):(r||(r={key:{},next:null}),qke(r,o,a))}};return i},Zke=String.prototype.replace,Xke=/%20/g,K6={RFC1738:"RFC1738",RFC3986:"RFC3986"},Sk={default:K6.RFC3986,formatters:{RFC1738:function(e){return Zke.call(e,Xke,"+")},RFC3986:function(e){return String(e)}},RFC1738:K6.RFC1738,RFC3986:K6.RFC3986},Jke=Sk,D6=Object.prototype.hasOwnProperty,l1=Array.isArray,bf=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),e9e=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(l1(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},DQ=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},t9e=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(l1(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!D6.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return l1(t)&&!l1(n)&&(i=DQ(t,r)),l1(t)&&l1(n)?(n.forEach(function(o,a){if(D6.call(t,a)){var s=t[a];s&&typeof s=="object"&&o&&typeof o=="object"?t[a]=e(s,o,r):t.push(o)}else t[a]=o}),t):Object.keys(n).reduce(function(o,a){var s=n[a];return D6.call(o,a)?o[a]=e(o[a],s,r):o[a]=s,o},i)},n9e=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},r9e=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},i9e=function(t,n,r,i,o){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(_){return"%26%23"+parseInt(_.slice(2),16)+"%3B"});for(var s="",h=0;h<a.length;++h){var g=a.charCodeAt(h);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||o===Jke.RFC1738&&(g===40||g===41)){s+=a.charAt(h);continue}if(g<128){s=s+bf[g];continue}if(g<2048){s=s+(bf[192|g>>6]+bf[128|g&63]);continue}if(g<55296||g>=57344){s=s+(bf[224|g>>12]+bf[128|g>>6&63]+bf[128|g&63]);continue}h+=1,g=65536+((g&1023)<<10|a.charCodeAt(h)&1023),s+=bf[240|g>>18]+bf[128|g>>12&63]+bf[128|g>>6&63]+bf[128|g&63]}return s},o9e=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],a=o.obj[o.prop],s=Object.keys(a),h=0;h<s.length;++h){var g=s[h],_=a[g];typeof _=="object"&&_!==null&&r.indexOf(_)===-1&&(n.push({obj:a,prop:g}),r.push(_))}return e9e(n),t},a9e=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},s9e=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},l9e=function(t,n){return[].concat(t,n)},u9e=function(t,n){if(l1(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},FQ={arrayToObject:DQ,assign:n9e,combine:l9e,compact:o9e,decode:r9e,encode:i9e,isBuffer:s9e,isRegExp:a9e,maybeMap:u9e,merge:t9e},LQ=Vke,x3=FQ,EC=Sk,A9e=Object.prototype.hasOwnProperty,UQ={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Of=Array.isArray,c9e=Array.prototype.push,RQ=function(e,t){c9e.apply(e,Of(t)?t:[t])},d9e=Date.prototype.toISOString,SF=EC.default,Yl={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:x3.encode,encodeValuesOnly:!1,format:SF,formatter:EC.formatters[SF],indices:!1,serializeDate:function(t){return d9e.call(t)},skipNulls:!1,strictNullHandling:!1},h9e=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},F6={},f9e=function e(t,n,r,i,o,a,s,h,g,_,E,O,K,D,Y,ee,H,N){for(var Z=t,ue=N,ye=0,be=!1;(ue=ue.get(F6))!==void 0&&!be;){var X=ue.get(t);if(ye+=1,typeof X<"u"){if(X===ye)throw new RangeError("Cyclic object value");be=!0}typeof ue.get(F6)>"u"&&(ye=0)}if(typeof _=="function"?Z=_(n,Z):Z instanceof Date?Z=K(Z):r==="comma"&&Of(Z)&&(Z=x3.maybeMap(Z,function(ze){return ze instanceof Date?K(ze):ze})),Z===null){if(a)return g&&!ee?g(n,Yl.encoder,H,"key",D):n;Z=""}if(h9e(Z)||x3.isBuffer(Z)){if(g){var se=ee?n:g(n,Yl.encoder,H,"key",D);return[Y(se)+"="+Y(g(Z,Yl.encoder,H,"value",D))]}return[Y(n)+"="+Y(String(Z))]}var we=[];if(typeof Z>"u")return we;var xe;if(r==="comma"&&Of(Z))ee&&g&&(Z=x3.maybeMap(Z,g)),xe=[{value:Z.length>0?Z.join(",")||null:void 0}];else if(Of(_))xe=_;else{var De=Object.keys(Z);xe=E?De.sort(E):De}var Fe=h?n.replace(/\./g,"%2E"):n,he=i&&Of(Z)&&Z.length===1?Fe+"[]":Fe;if(o&&Of(Z)&&Z.length===0)return he+"[]";for(var Qe=0;Qe<xe.length;++Qe){var ge=xe[Qe],yt=typeof ge=="object"&&typeof ge.value<"u"?ge.value:Z[ge];if(!(s&&yt===null)){var wt=O&&h?ge.replace(/\./g,"%2E"):ge,st=Of(Z)?typeof r=="function"?r(he,wt):he:he+(O?"."+wt:"["+wt+"]");N.set(t,ye);var mt=LQ();mt.set(F6,N),RQ(we,e(yt,st,r,i,o,a,s,h,r==="comma"&&ee&&Of(Z)?null:g,_,E,O,K,D,Y,ee,H,mt))}}return we},p9e=function(t){if(!t)return Yl;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Yl.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=EC.default;if(typeof t.format<"u"){if(!A9e.call(EC.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=EC.formatters[r],o=Yl.filter;(typeof t.filter=="function"||Of(t.filter))&&(o=t.filter);var a;if(t.arrayFormat in UQ?a=t.arrayFormat:"indices"in t?a=t.indices?"indices":"repeat":a=Yl.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Yl.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Yl.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Yl.allowEmptyArrays,arrayFormat:a,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Yl.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Yl.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Yl.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Yl.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Yl.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Yl.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Yl.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Yl.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Yl.strictNullHandling}},m9e=function(e,t){var n=e,r=p9e(t),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Of(r.filter)&&(o=r.filter,i=o);var a=[];if(typeof n!="object"||n===null)return"";var s=UQ[r.arrayFormat],h=s==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var g=LQ(),_=0;_<i.length;++_){var E=i[_];r.skipNulls&&n[E]===null||RQ(a,f9e(n[E],E,s,h,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,g))}var O=a.join(r.delimiter),K=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?K+="utf8=%26%2310003%3B&":K+="utf8=%E2%9C%93&"),O.length>0?K+O:""},gv=FQ,TB=Object.prototype.hasOwnProperty,g9e=Array.isArray,gl={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:gv.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},y9e=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},zQ=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},v9e="utf8=%26%2310003%3B",_9e="utf8=%E2%9C%93",C9e=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,o),s=-1,h,g=n.charset;if(n.charsetSentinel)for(h=0;h<a.length;++h)a[h].indexOf("utf8=")===0&&(a[h]===_9e?g="utf-8":a[h]===v9e&&(g="iso-8859-1"),s=h,h=a.length);for(h=0;h<a.length;++h)if(h!==s){var _=a[h],E=_.indexOf("]="),O=E===-1?_.indexOf("="):E+1,K,D;O===-1?(K=n.decoder(_,gl.decoder,g,"key"),D=n.strictNullHandling?null:""):(K=n.decoder(_.slice(0,O),gl.decoder,g,"key"),D=gv.maybeMap(zQ(_.slice(O+1),n),function(ee){return n.decoder(ee,gl.decoder,g,"value")})),D&&n.interpretNumericEntities&&g==="iso-8859-1"&&(D=y9e(D)),_.indexOf("[]=")>-1&&(D=g9e(D)?[D]:D);var Y=TB.call(r,K);Y&&n.duplicates==="combine"?r[K]=gv.combine(r[K],D):(!Y||n.duplicates==="last")&&(r[K]=D)}return r},b9e=function(e,t,n,r){for(var i=r?t:zQ(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&i===""?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var h=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,g=n.decodeDotInKeys?h.replace(/%2E/g,"."):h,_=parseInt(g,10);!n.parseArrays&&g===""?a={0:i}:!isNaN(_)&&s!==g&&String(_)===g&&_>=0&&n.parseArrays&&_<=n.arrayLimit?(a=[],a[_]=i):g!=="__proto__"&&(a[g]=i)}i=a}return i},x9e=function(t,n,r,i){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,h=r.depth>0&&a.exec(o),g=h?o.slice(0,h.index):o,_=[];if(g){if(!r.plainObjects&&TB.call(Object.prototype,g)&&!r.allowPrototypes)return;_.push(g)}for(var E=0;r.depth>0&&(h=s.exec(o))!==null&&E<r.depth;){if(E+=1,!r.plainObjects&&TB.call(Object.prototype,h[1].slice(1,-1))&&!r.allowPrototypes)return;_.push(h[1])}return h&&_.push("["+o.slice(h.index)+"]"),b9e(_,n,r,i)}},w9e=function(t){if(!t)return gl;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?gl.charset:t.charset,r=typeof t.duplicates>"u"?gl.duplicates:t.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:gl.allowDots:!!t.allowDots;return{allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:gl.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:gl.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:gl.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:gl.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:gl.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:gl.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:gl.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:gl.decoder,delimiter:typeof t.delimiter=="string"||gv.isRegExp(t.delimiter)?t.delimiter:gl.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:gl.depth,duplicates:r,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:gl.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:gl.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:gl.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:gl.strictNullHandling}},M9e=function(e,t){var n=w9e(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?C9e(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],h=x9e(s,r[s],n,typeof e=="string");i=gv.merge(i,h,n)}return n.allowSparse===!0?i:gv.compact(i)},S9e=m9e,E9e=M9e,O9e=Sk,B9e={formats:O9e,parse:E9e,stringify:S9e},I9e=cIe;function jd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var k9e=/^([a-z0-9.+-]+:)/i,T9e=/:[0-9]*$/,P9e=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,K9e=["<",">",'"',"`"," ","\r",`
`,"	"],D9e=["{","}","|","\\","^","`"].concat(K9e),PB=["'"].concat(D9e),EF=["%","/","?",";","#"].concat(PB),OF=["/","?","#"],F9e=255,BF=/^[+a-z0-9A-Z_-]{0,63}$/,L9e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,U9e={javascript:!0,"javascript:":!0},KB={javascript:!0,"javascript:":!0},Xy={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},DB=B9e;function dx(e,t,n){if(e&&typeof e=="object"&&e instanceof jd)return e;var r=new jd;return r.parse(e,t,n),r}jd.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var h=P9e.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=DB.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var g=k9e.exec(s);if(g){g=g[0];var _=g.toLowerCase();this.protocol=_,s=s.substr(g.length)}if(n||g||s.match(/^\/\/[^@/]+@[^@/]+/)){var E=s.substr(0,2)==="//";E&&!(g&&KB[g])&&(s=s.substr(2),this.slashes=!0)}if(!KB[g]&&(E||g&&!Xy[g])){for(var O=-1,K=0;K<OF.length;K++){var D=s.indexOf(OF[K]);D!==-1&&(O===-1||D<O)&&(O=D)}var Y,ee;O===-1?ee=s.lastIndexOf("@"):ee=s.lastIndexOf("@",O),ee!==-1&&(Y=s.slice(0,ee),s=s.slice(ee+1),this.auth=decodeURIComponent(Y)),O=-1;for(var K=0;K<EF.length;K++){var D=s.indexOf(EF[K]);D!==-1&&(O===-1||D<O)&&(O=D)}O===-1&&(O=s.length),this.host=s.slice(0,O),s=s.slice(O),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var N=this.hostname.split(/\./),K=0,Z=N.length;K<Z;K++){var ue=N[K];if(ue&&!ue.match(BF)){for(var ye="",be=0,X=ue.length;be<X;be++)ue.charCodeAt(be)>127?ye+="x":ye+=ue[be];if(!ye.match(BF)){var se=N.slice(0,K),we=N.slice(K+1),xe=ue.match(L9e);xe&&(se.push(xe[1]),we.unshift(xe[2])),we.length&&(s="/"+we.join(".")+s),this.hostname=se.join(".");break}}}this.hostname.length>F9e?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=I9e.toASCII(this.hostname));var De=this.port?":"+this.port:"",Fe=this.hostname||"";this.host=Fe+De,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!U9e[_])for(var K=0,Z=PB.length;K<Z;K++){var he=PB[K];if(s.indexOf(he)!==-1){var Qe=encodeURIComponent(he);Qe===he&&(Qe=escape(he)),s=s.split(he).join(Qe)}}var ge=s.indexOf("#");ge!==-1&&(this.hash=s.substr(ge),s=s.slice(0,ge));var yt=s.indexOf("?");if(yt!==-1?(this.search=s.substr(yt),this.query=s.substr(yt+1),t&&(this.query=DB.parse(this.query)),s=s.slice(0,yt)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Xy[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",wt=this.search||"";this.path=De+wt}return this.href=this.format(),this};function R9e(e){return typeof e=="string"&&(e=dx(e)),e instanceof jd?e.format():jd.prototype.format.call(e)}jd.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=DB.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Xy[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+n+a+r};function z9e(e,t){return dx(e,!1,!0).resolve(t)}jd.prototype.resolve=function(e){return this.resolveObject(dx(e,!1,!0)).format()};function j9e(e,t){return e?dx(e,!1,!0).resolveObject(t):t}jd.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new jd;t.parse(e,!1,!0),e=t}for(var n=new jd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var h=a[s];h!=="protocol"&&(n[h]=e[h])}return Xy[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Xy[e.protocol]){for(var g=Object.keys(e),_=0;_<g.length;_++){var E=g[_];n[E]=e[E]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!KB[e.protocol]){for(var Z=(e.pathname||"").split("/");Z.length&&!(e.host=Z.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),n.pathname=Z.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var O=n.pathname||"",K=n.search||"";n.path=O+K}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var D=n.pathname&&n.pathname.charAt(0)==="/",Y=e.host||e.pathname&&e.pathname.charAt(0)==="/",ee=Y||D||n.host&&e.pathname,H=ee,N=n.pathname&&n.pathname.split("/")||[],Z=e.pathname&&e.pathname.split("/")||[],ue=n.protocol&&!Xy[n.protocol];if(ue&&(n.hostname="",n.port=null,n.host&&(N[0]===""?N[0]=n.host:N.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(Z[0]===""?Z[0]=e.host:Z.unshift(e.host)),e.host=null),ee=ee&&(Z[0]===""||N[0]==="")),Y)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,N=Z;else if(Z.length)N||(N=[]),N.pop(),N=N.concat(Z),n.search=e.search,n.query=e.query;else if(e.search!=null){if(ue){n.host=N.shift(),n.hostname=n.host;var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.hostname=ye.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!N.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var be=N.slice(-1)[0],X=(n.host||e.host||N.length>1)&&(be==="."||be==="..")||be==="",se=0,we=N.length;we>=0;we--)be=N[we],be==="."?N.splice(we,1):be===".."?(N.splice(we,1),se++):se&&(N.splice(we,1),se--);if(!ee&&!H)for(;se--;se)N.unshift("..");ee&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),X&&N.join("/").substr(-1)!=="/"&&N.push("");var xe=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(ue){n.hostname=xe?"":N.length?N.shift():"",n.host=n.hostname;var ye=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;ye&&(n.auth=ye.shift(),n.hostname=ye.shift(),n.host=n.hostname)}return ee=ee||n.host&&N.length,ee&&!xe&&N.unshift(""),N.length>0?n.pathname=N.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};jd.prototype.parseHost=function(){var e=this.host,t=T9e.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};j1.parse=dx;j1.resolve=z9e;j1.resolveObject=j9e;j1.format=R9e;j1.Url=jd;function Ro(){var e="/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",t="19e47c652b47a74a8fe842dad1f0616429ed3097",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/metadata.ts",statementMap:{0:{start:{line:3,column:2},end:{line:13,column:5}},1:{start:{line:7,column:4},end:{line:7,column:27}},2:{start:{line:9,column:4},end:{line:9,column:13}},3:{start:{line:11,column:4},end:{line:11,column:48}},4:{start:{line:12,column:4},end:{line:12,column:21}},5:{start:{line:16,column:2},end:{line:17,column:18}},6:{start:{line:17,column:4},end:{line:17,column:18}},7:{start:{line:18,column:17},end:{line:18,column:42}},8:{start:{line:19,column:23},end:{line:19,column:57}},9:{start:{line:20,column:2},end:{line:24,column:3}},10:{start:{line:21,column:4},end:{line:21,column:41}},11:{start:{line:23,column:4},end:{line:23,column:69}},12:{start:{line:25,column:14},end:{line:25,column:35}},13:{start:{line:26,column:2},end:{line:26,column:24}},14:{start:{line:29,column:2},end:{line:30,column:18}},15:{start:{line:30,column:4},end:{line:30,column:18}},16:{start:{line:31,column:14},end:{line:31,column:31}},17:{start:{line:32,column:2},end:{line:32,column:57}},18:{start:{line:32,column:32},end:{line:32,column:55}}},fnMap:{0:{name:"loadJSON",decl:{start:{line:2,column:9},end:{line:2,column:17}},loc:{start:{line:2,column:41},end:{line:14,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:29},end:{line:8,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:8,column:10},end:{line:8,column:11}},loc:{start:{line:8,column:25},end:{line:10,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},4:{name:"downloadGlyphsMetadata",decl:{start:{line:15,column:16},end:{line:15,column:38}},loc:{start:{line:15,column:56},end:{line:27,column:1}},line:15},5:{name:"downloadSpriteMetadata",decl:{start:{line:28,column:16},end:{line:28,column:38}},loc:{start:{line:28,column:52},end:{line:33,column:1}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:20},end:{line:32,column:21}},loc:{start:{line:32,column:32},end:{line:32,column:55}},line:32}},branchMap:{0:{loc:{start:{line:16,column:2},end:{line:17,column:18}},type:"if",locations:[{start:{line:16,column:2},end:{line:17,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:20,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:24,column:3}},{start:{line:22,column:9},end:{line:24,column:3}}],line:20},2:{loc:{start:{line:29,column:2},end:{line:30,column:18}},type:"if",locations:[{start:{line:29,column:2},end:{line:30,column:18}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/metadata.ts"],names:[],mappings:"AAAA,OAAO,YAAY;AAEnB,SAAS,SAAS,KAAa,cAAmB,IAA8B;AAC9E,QAAM,KAAK;AAAA,IACT,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,IAAI;AAAA,EACT,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,0BAA0B,GAAG;AAC1C,OAAG,YAAY;AAAA,EACjB,CAAC;AACL;AAEO,gBAAS,uBAAuB,aAAqB,IAA8B;AACxF,MAAG,CAAC;AAAa,WAAO,GAAG,CAAC,CAAC;AAI7B,QAAM,SAAS,OAAO,MAAM,WAAW;AACvC,QAAM,eAAe;AACrB,MAAG,OAAO,aAAa,cAAc;AACnC,WAAO,WAAW;AAAA,EACpB,OAAO;AACL,WAAO,WAAW,OAAO,SAAU,QAAQ,cAAc,OAAO;AAAA,EAClE;AACA,QAAM,MAAM,OAAO,OAAO,MAAM;AAEhC,WAAS,KAAK,CAAC,GAAG,EAAE;AACtB;AAEO,gBAAS,uBAAuB,SAAiB,IAA8B;AACpF,MAAG,CAAC;AAAS,WAAO,GAAG,CAAC,CAAC;AACzB,QAAM,MAAM,UAAU;AACtB,WAAS,KAAK,CAAC,GAAG,YAAU,GAAG,OAAO,KAAK,MAAM,CAAC,CAAC;AACrD;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"19e47c652b47a74a8fe842dad1f0616429ed3097"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Ro=function(){return a},a}Ro();function jQ(e,t,n){Ro().f[0]++,Ro().s[0]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(r){return Ro().f[1]++,Ro().s[1]++,r.json()}).then(function(r){Ro().f[2]++,Ro().s[2]++,n(r)}).catch(function(){Ro().f[3]++,Ro().s[3]++,console.warn("Can not metadata for "+e),Ro().s[4]++,n(t)})}function W9e(e,t){if(Ro().f[4]++,Ro().s[5]++,e)Ro().b[0][1]++;else return Ro().b[0][0]++,Ro().s[6]++,t([]);const n=(Ro().s[7]++,j1.parse(e)),r=(Ro().s[8]++,"/%7Bfontstack%7D/%7Brange%7D.pbf");Ro().s[9]++,n.pathname===r?(Ro().b[1][0]++,Ro().s[10]++,n.pathname="/fontstacks.json"):(Ro().b[1][1]++,Ro().s[11]++,n.pathname=n.pathname.replace(r,".json"));const i=(Ro().s[12]++,j1.format(n));Ro().s[13]++,jQ(i,[],t)}function N9e(e,t){if(Ro().f[5]++,Ro().s[14]++,e)Ro().b[2][1]++;else return Ro().b[2][0]++,Ro().s[15]++,t([]);const n=(Ro().s[16]++,e+".json");Ro().s[17]++,jQ(n,{},r=>(Ro().f[6]++,Ro().s[18]++,t(Object.keys(r))))}function ql(){var e="/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",t="5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts",statementMap:{0:{start:{line:3,column:21},end:{line:3,column:50}},1:{start:{line:4,column:2},end:{line:4,column:46}},2:{start:{line:7,column:2},end:{line:7,column:41}},3:{start:{line:8,column:2},end:{line:18,column:5}},4:{start:{line:12,column:4},end:{line:12,column:27}},5:{start:{line:14,column:4},end:{line:14,column:40}},6:{start:{line:16,column:4},end:{line:16,column:60}},7:{start:{line:17,column:4},end:{line:17,column:25}},8:{start:{line:21,column:21},end:{line:21,column:50}},9:{start:{line:22,column:2},end:{line:22,column:42}},10:{start:{line:23,column:2},end:{line:23,column:73}}},fnMap:{0:{name:"initialStyleUrl",decl:{start:{line:2,column:16},end:{line:2,column:31}},loc:{start:{line:2,column:34},end:{line:5,column:1}},line:2},1:{name:"loadStyleUrl",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:43},end:{line:19,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:10},end:{line:11,column:11}},loc:{start:{line:11,column:29},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:13,column:10},end:{line:13,column:11}},loc:{start:{line:13,column:25},end:{line:15,column:3}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:15,column:11},end:{line:15,column:12}},loc:{start:{line:15,column:22},end:{line:18,column:3}},line:15},5:{name:"removeStyleQuerystring",decl:{start:{line:20,column:16},end:{line:20,column:38}},loc:{start:{line:20,column:41},end:{line:24,column:1}},line:20}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/urlopen.ts"],names:[],mappings:"AACA,OAAO,WAAW;AAEX,gBAAS,kBAAkB;AAChC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,SAAO,WAAW,aAAa,IAAI,OAAO;AAC5C;AAEO,gBAAS,aAAa,UAAkB,IAA8B;AAC3E,UAAQ,IAAI,iBAAiB,QAAQ;AACrC,QAAM,UAAU;AAAA,IACd,MAAM;AAAA,IACN,aAAa;AAAA,EACf,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,WAAO,SAAS,KAAK;AAAA,EACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,OAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,EACpC,CAAC,EACA,MAAM,WAAW;AAChB,YAAQ,KAAK,iCAAiC,QAAQ;AACtD,OAAG,MAAM,UAAU;AAAA,EACrB,CAAC;AACL;AAEO,gBAAS,yBAAyB;AACvC,QAAM,aAAa,IAAI,IAAI,OAAO,SAAS,IAAI;AAC/C,aAAW,aAAa,OAAO,OAAO;AACtC,SAAO,QAAQ,aAAa,CAAC,GAAG,SAAS,OAAO,WAAW,SAAS,CAAC;AACvE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d157b2ae65dbd5a5a7dfa0dbf76114e1399ceba"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ql=function(){return a},a}ql();function G9e(){ql().f[0]++;const e=(ql().s[0]++,new URL(window.location.href));return ql().s[1]++,e.searchParams.get("style")}function WQ(e,t){ql().f[1]++,ql().s[2]++,console.log("Loading style",e),ql().s[3]++,fetch(e,{mode:"cors",credentials:"same-origin"}).then(function(n){return ql().f[2]++,ql().s[4]++,n.json()}).then(function(n){ql().f[3]++,ql().s[5]++,t(pA.ensureStyleValidity(n))}).catch(function(){ql().f[4]++,ql().s[6]++,console.warn("Could not fetch default style",e),ql().s[7]++,t(pA.emptyStyle)})}function IF(){ql().f[5]++;const e=(ql().s[8]++,new URL(window.location.href));ql().s[9]++,e.searchParams.delete("style"),ql().s[10]++,window.history.replaceState({},document.title,e.toString())}function zA(){var e="/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",t="f92fa2abb31199d99fd3ae02d967dc6702faf862",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts",statementMap:{0:{start:{line:3,column:18},end:{line:3,column:47}},1:{start:{line:4,column:2},end:{line:4,column:70}},2:{start:{line:4,column:30},end:{line:4,column:68}},3:{start:{line:7,column:2},end:{line:7,column:71}},4:{start:{line:7,column:58},end:{line:7,column:69}},5:{start:{line:10,column:2},end:{line:10,column:71}},6:{start:{line:10,column:58},end:{line:10,column:69}}},fnMap:{0:{name:"diffMessages",decl:{start:{line:2,column:9},end:{line:2,column:21}},loc:{start:{line:2,column:47},end:{line:5,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:4,column:21},end:{line:4,column:22}},loc:{start:{line:4,column:30},end:{line:4,column:68}},line:4},2:{name:"undoMessages",decl:{start:{line:6,column:16},end:{line:6,column:28}},loc:{start:{line:6,column:54},end:{line:8,column:1}},line:6},3:{name:"(anonymous_3)",decl:{start:{line:7,column:51},end:{line:7,column:52}},loc:{start:{line:7,column:58},end:{line:7,column:69}},line:7},4:{name:"redoMessages",decl:{start:{line:9,column:16},end:{line:9,column:28}},loc:{start:{line:9,column:54},end:{line:11,column:1}},line:9},5:{name:"(anonymous_5)",decl:{start:{line:10,column:51},end:{line:10,column:52}},loc:{start:{line:10,column:58},end:{line:10,column:69}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/diffmessage.ts"],names:[],mappings:"AAAA,SAAQ,YAAW;AAGnB,SAAS,aAAa,aAAiC,YAAgC;AACrF,QAAM,UAAU,KAAK,aAAa,UAAU;AAC5C,SAAO,QAAQ,IAAI,SAAO,IAAI,UAAU,MAAM,IAAI,KAAK,KAAK,GAAG,CAAC;AAClE;AAEO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;AACO,gBAAS,aAAa,aAAiC,YAAgC;AAC5F,SAAO,aAAa,aAAa,UAAU,EAAE,IAAI,OAAK,UAAU,CAAC;AACnE;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f92fa2abb31199d99fd3ae02d967dc6702faf862"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zA=function(){return a},a}zA();function NQ(e,t){zA().f[0]++;const n=(zA().s[0]++,fJ(e,t));return zA().s[1]++,n.map(r=>(zA().f[1]++,zA().s[2]++,r.command+" "+r.args.join(" ")))}function $9e(e,t){return zA().f[2]++,zA().s[3]++,NQ(e,t).map(n=>(zA().f[3]++,zA().s[4]++,"Undo "+n))}function Q9e(e,t){return zA().f[4]++,zA().s[5]++,NQ(e,t).map(n=>(zA().f[5]++,zA().s[6]++,"Redo "+n))}function zr(){var e="/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",t="dfd07f747cd43002e646758ee096fc67f1f8153d",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:32}},1:{start:{line:5,column:20},end:{line:5,column:27}},2:{start:{line:6,column:20},end:{line:9,column:1}},3:{start:{line:10,column:24},end:{line:10,column:44}},4:{start:{line:12,column:2},end:{line:12,column:36}},5:{start:{line:15,column:17},end:{line:15,column:19}},6:{start:{line:16,column:2},end:{line:21,column:3}},7:{start:{line:16,column:15},end:{line:16,column:16}},8:{start:{line:17,column:16},end:{line:17,column:42}},9:{start:{line:18,column:4},end:{line:20,column:5}},10:{start:{line:19,column:6},end:{line:19,column:32}},11:{start:{line:22,column:2},end:{line:22,column:16}},12:{start:{line:25,column:16},end:{line:25,column:30}},13:{start:{line:26,column:2},end:{line:26,column:86}},14:{start:{line:29,column:2},end:{line:31,column:3}},15:{start:{line:30,column:4},end:{line:30,column:41}},16:{start:{line:32,column:16},end:{line:32,column:30}},17:{start:{line:33,column:18},end:{line:33,column:26}},18:{start:{line:34,column:2},end:{line:34,column:17}},19:{start:{line:37,column:2},end:{line:37,column:57}},20:{start:{line:47,column:4},end:{line:47,column:40}},21:{start:{line:50,column:4},end:{line:50,column:13}},22:{start:{line:54,column:4},end:{line:59,column:5}},23:{start:{line:54,column:17},end:{line:54,column:18}},24:{start:{line:55,column:18},end:{line:55,column:44}},25:{start:{line:56,column:6},end:{line:58,column:7}},26:{start:{line:57,column:8},end:{line:57,column:44}},27:{start:{line:63,column:4},end:{line:64,column:34}},28:{start:{line:64,column:6},end:{line:64,column:34}},29:{start:{line:65,column:20},end:{line:65,column:67}},30:{start:{line:66,column:22},end:{line:66,column:68}},31:{start:{line:67,column:4},end:{line:68,column:39}},32:{start:{line:68,column:6},end:{line:68,column:39}},33:{start:{line:69,column:4},end:{line:69,column:25}},34:{start:{line:73,column:4},end:{line:73,column:51}},35:{start:{line:74,column:16},end:{line:74,column:37}},36:{start:{line:75,column:4},end:{line:75,column:63}},37:{start:{line:76,column:4},end:{line:76,column:65}},38:{start:{line:77,column:4},end:{line:77,column:20}}},fnMap:{0:{name:"loadDefaultStyle",decl:{start:{line:11,column:16},end:{line:11,column:32}},loc:{start:{line:11,column:37},end:{line:13,column:1}},line:11},1:{name:"loadStoredStyles",decl:{start:{line:14,column:9},end:{line:14,column:25}},loc:{start:{line:14,column:28},end:{line:23,column:1}},line:14},2:{name:"isStyleKey",decl:{start:{line:24,column:9},end:{line:24,column:19}},loc:{start:{line:24,column:25},end:{line:27,column:1}},line:24},3:{name:"fromKey",decl:{start:{line:28,column:9},end:{line:28,column:16}},loc:{start:{line:28,column:22},end:{line:35,column:1}},line:28},4:{name:"styleKey",decl:{start:{line:36,column:9},end:{line:36,column:17}},loc:{start:{line:36,column:27},end:{line:38,column:1}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:16},end:{line:48,column:3}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:11},end:{line:51,column:3}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:10},end:{line:60,column:3}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:18},end:{line:70,column:3}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:72,column:2},end:{line:72,column:3}},loc:{start:{line:72,column:17},end:{line:78,column:3}},line:72}},branchMap:{0:{loc:{start:{line:18,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:20,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:18},1:{loc:{start:{line:26,column:9},end:{line:26,column:85}},type:"binary-expr",locations:[{start:{line:26,column:9},end:{line:26,column:27}},{start:{line:26,column:31},end:{line:26,column:57}},{start:{line:26,column:61},end:{line:26,column:85}}],line:26},2:{loc:{start:{line:29,column:2},end:{line:31,column:3}},type:"if",locations:[{start:{line:29,column:2},end:{line:31,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:29},3:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},4:{loc:{start:{line:63,column:4},end:{line:64,column:34}},type:"if",locations:[{start:{line:63,column:4},end:{line:64,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},5:{loc:{start:{line:67,column:4},end:{line:68,column:39}},type:"if",locations:[{start:{line:67,column:4},end:{line:68,column:39}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/stylestore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,oBAAmB;AAC3B,OAAO,mBAAmB;AAG1B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAAA,EAClB,QAAQ,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AAAA,EAChD,aAAa,CAAC,eAAe,cAAc,EAAE,KAAK,GAAG;AACvD;AAEA,MAAM,kBAAkB,cAAc,CAAC,EAAE;AAGlC,gBAAS,iBAAiB,IAA8B;AAC7D,eAAa,iBAAiB,EAAE;AAClC;AAGA,SAAS,mBAAmB;AAC1B,QAAM,SAAS,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,UAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,QAAG,WAAW,GAAI,GAAG;AACnB,aAAO,KAAK,QAAQ,GAAI,CAAC;AAAA,IAC3B;AAAA,EACF;AACA,SAAO;AACT;AAEA,SAAS,WAAW,KAAa;AAC/B,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,SAAO,MAAM,WAAW,KAAK,MAAM,CAAC,MAAM,iBAAiB,MAAM,CAAC,MAAM;AAC1E;AAGA,SAAS,QAAQ,KAAa;AAC5B,MAAG,CAAC,WAAW,GAAG,GAAG;AACnB,UAAM;AAAA,EACR;AAEA,QAAM,QAAQ,IAAI,MAAM,GAAG;AAC3B,QAAM,UAAU,MAAM,CAAC;AACvB,SAAO;AACT;AAGA,SAAS,SAAS,SAAiB;AACjC,SAAO,CAAC,eAAe,aAAa,OAAO,EAAE,KAAK,GAAG;AACvD;AAGO,aAAM,WAAW;AAAA;AAAA;AAAA;AAAA,EAItB;AAAA;AAAA;AAAA,EAIA,cAAc;AACZ,SAAK,YAAY,iBAAiB;AAAA,EACpC;AAAA,EAEA,KAAK,IAA8B;AACjC,OAAG,IAAI;AAAA,EACT;AAAA;AAAA,EAGA,QAAQ;AACN,aAAS,IAAI,GAAG,IAAI,OAAO,aAAa,QAAQ,KAAK;AACnD,YAAM,MAAM,OAAO,aAAa,IAAI,CAAC;AACrC,UAAG,IAAI,WAAW,aAAa,GAAG;AAChC,eAAO,aAAa,WAAW,GAAG;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,YAAY,IAA8B;AACxC,QAAG,KAAK,UAAU,WAAW;AAAG,aAAO,iBAAiB,EAAE;AAC1D,UAAM,UAAU,OAAO,aAAa,QAAQ,YAAY,MAAM;AAC9D,UAAM,YAAY,OAAO,aAAa,QAAQ,SAAS,OAAO,CAAC;AAE/D,QAAG;AAAW,aAAO,GAAG,KAAK,MAAM,SAAS,CAAC;AAC7C,qBAAiB,EAAE;AAAA,EACrB;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,eAAW,MAAM,oBAAoB,QAAQ;AAC7C,UAAM,MAAM,SAAS,SAAS,EAAE;AAChC,WAAO,aAAa,QAAQ,KAAK,KAAK,UAAU,QAAQ,CAAC;AACzD,WAAO,aAAa,QAAQ,YAAY,QAAQ,SAAS,EAAE;AAC3D,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dfd07f747cd43002e646758ee096fc67f1f8153d"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return zr=function(){return a},a}zr();const _b=(zr().s[0]++,"maputnik"),GQ=(zr().s[1]++,"style"),kF=(zr().s[2]++,{latest:[_b,"latest_style"].join(":"),accessToken:[_b,"access_token"].join(":")}),Y9e=(zr().s[3]++,_Q[0].url);function TF(e){zr().f[0]++,zr().s[4]++,WQ(Y9e,e)}function q9e(){zr().f[1]++;const e=(zr().s[5]++,[]);zr().s[6]++;for(let t=(zr().s[7]++,0);t<window.localStorage.length;t++){const n=(zr().s[8]++,window.localStorage.key(t));zr().s[9]++,$Q(n)?(zr().b[0][0]++,zr().s[10]++,e.push(H9e(n))):zr().b[0][1]++}return zr().s[11]++,e}function $Q(e){zr().f[2]++;const t=(zr().s[12]++,e.split(":"));return zr().s[13]++,zr().b[1][0]++,t.length===3&&(zr().b[1][1]++,t[0]===_b)&&(zr().b[1][2]++,t[1]===GQ)}function H9e(e){if(zr().f[3]++,zr().s[14]++,$Q(e))zr().b[2][1]++;else throw zr().b[2][0]++,zr().s[15]++,"Key is not a valid style key";const t=(zr().s[16]++,e.split(":")),n=(zr().s[17]++,t[2]);return zr().s[18]++,n}function PF(e){return zr().f[4]++,zr().s[19]++,[_b,GQ,e].join(":")}class KF{constructor(){on(this,"mapStyles");zr().f[5]++,zr().s[20]++,this.mapStyles=q9e()}init(t){zr().f[6]++,zr().s[21]++,t(null)}purge(){zr().f[7]++,zr().s[22]++;for(let t=(zr().s[23]++,0);t<window.localStorage.length;t++){const n=(zr().s[24]++,window.localStorage.key(t));zr().s[25]++,n.startsWith(_b)?(zr().b[3][0]++,zr().s[26]++,window.localStorage.removeItem(n)):zr().b[3][1]++}}latestStyle(t){if(zr().f[8]++,zr().s[27]++,this.mapStyles.length===0)return zr().b[4][0]++,zr().s[28]++,TF(t);zr().b[4][1]++;const n=(zr().s[29]++,window.localStorage.getItem(kF.latest)),r=(zr().s[30]++,window.localStorage.getItem(PF(n)));if(zr().s[31]++,r)return zr().b[5][0]++,zr().s[32]++,t(JSON.parse(r));zr().b[5][1]++,zr().s[33]++,TF(t)}save(t){zr().f[9]++,zr().s[34]++,t=pA.ensureStyleValidity(t);const n=(zr().s[35]++,PF(t.id));return zr().s[36]++,window.localStorage.setItem(n,JSON.stringify(t)),zr().s[37]++,window.localStorage.setItem(kF.latest,t.id),zr().s[38]++,t}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var FB=function(e,t){return FB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},FB(e,t)};function QQ(e,t){FB(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function V9e(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Z9e(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function X9e(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z9e(arguments[t]));return e}var YQ=function(){function e(t,n){this.target=n,this.type=t}return e}(),J9e=function(e){QQ(t,e);function t(n,r){var i=e.call(this,"error",r)||this;return i.message=n.message,i.error=n,i}return t}(YQ),eTe=function(e){QQ(t,e);function t(n,r,i){n===void 0&&(n=1e3),r===void 0&&(r="");var o=e.call(this,"close",i)||this;return o.wasClean=!0,o.code=n,o.reason=r,o}return t}(YQ);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var tTe=function(){if(typeof WebSocket<"u")return WebSocket},nTe=function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},H0={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},rTe=function(){function e(t,n,r){var i=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(o){i._debug("open event");var a=i._options.minUptime,s=a===void 0?H0.minUptime:a;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},s),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(h){return i._ws.send(h)}),i._messageQueue=[],i.onopen&&i.onopen(o),i._listeners.open.forEach(function(h){return i._callEventListener(o,h)})},this._handleMessage=function(o){i._debug("message event"),i.onmessage&&i.onmessage(o),i._listeners.message.forEach(function(a){return i._callEventListener(o,a)})},this._handleError=function(o){i._debug("error event",o.message),i._disconnect(void 0,o.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(o),i._debug("exec error listeners"),i._listeners.error.forEach(function(a){return i._callEventListener(o,a)}),i._connect()},this._handleClose=function(o){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(o),i._listeners.close.forEach(function(a){return i._callEventListener(o,a)})},this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var t=this._messageQueue.reduce(function(n,r){return typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n},0);return t+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(t,n){if(t===void 0&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)},e.prototype.reconnect=function(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())},e.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var n=this._options.maxEnqueuedMessages,r=n===void 0?H0.maxEnqueuedMessages:n;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}},e.prototype.addEventListener=function(t,n){this._listeners[t]&&this._listeners[t].push(n)},e.prototype.dispatchEvent=function(t){var n,r,i=this._listeners[t.type];if(i)try{for(var o=V9e(i),a=o.next();!a.done;a=o.next()){var s=a.value;this._callEventListener(t,s)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0},e.prototype.removeEventListener=function(t,n){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(r){return r!==n}))},e.prototype._debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._options.debug&&console.log.apply(console,X9e(["RWS>"],t))},e.prototype._getNextDelay=function(){var t=this._options,n=t.reconnectionDelayGrowFactor,r=n===void 0?H0.reconnectionDelayGrowFactor:n,i=t.minReconnectionDelay,o=i===void 0?H0.minReconnectionDelay:i,a=t.maxReconnectionDelay,s=a===void 0?H0.maxReconnectionDelay:a,h=0;return this._retryCount>0&&(h=o*Math.pow(r,this._retryCount-1),h>s&&(h=s)),this._debug("next delay",h),h},e.prototype._wait=function(){var t=this;return new Promise(function(n){setTimeout(n,t._getNextDelay())})},e.prototype._getNextUrl=function(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){var n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")},e.prototype._connect=function(){var t=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var n=this._options,r=n.maxRetries,i=r===void 0?H0.maxRetries:r,o=n.connectionTimeout,a=o===void 0?H0.connectionTimeout:o,s=n.WebSocket,h=s===void 0?tTe():s;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!nTe(h))throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(g){t._closeCalled||(t._debug("connect",{url:g,protocols:t._protocols}),t._ws=t._protocols?new h(g,t._protocols):new h(g),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},a))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new J9e(Error("TIMEOUT"),this))},e.prototype._disconnect=function(t,n){if(t===void 0&&(t=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,n),this._handleClose(new eTe(t,n,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(t,n){"handleEvent"in n?n.handleEvent(t):n(t)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();function jr(){var e="/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",t="affc9a723ceb39c9f38866dab538bc0c9774f995",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/apistore.ts",statementMap:{0:{start:{line:7,column:18},end:{line:7,column:24}},1:{start:{line:10,column:4},end:{line:11,column:7}},2:{start:{line:12,column:17},end:{line:12,column:36}},3:{start:{line:13,column:17},end:{line:13,column:41}},4:{start:{line:14,column:4},end:{line:14,column:45}},5:{start:{line:15,column:4},end:{line:15,column:50}},6:{start:{line:16,column:4},end:{line:16,column:37}},7:{start:{line:19,column:4},end:{line:30,column:7}},8:{start:{line:22,column:6},end:{line:22,column:29}},9:{start:{line:24,column:23},end:{line:24,column:27}},10:{start:{line:25,column:6},end:{line:25,column:39}},11:{start:{line:26,column:6},end:{line:26,column:32}},12:{start:{line:27,column:6},end:{line:27,column:15}},13:{start:{line:29,column:6},end:{line:29,column:52}},14:{start:{line:33,column:23},end:{line:33,column:67}},15:{start:{line:34,column:4},end:{line:46,column:6}},16:{start:{line:35,column:6},end:{line:36,column:15}},17:{start:{line:36,column:8},end:{line:36,column:15}},18:{start:{line:37,column:6},end:{line:37,column:52}},19:{start:{line:38,column:24},end:{line:38,column:40}},20:{start:{line:39,column:6},end:{line:43,column:7}},21:{start:{line:40,column:8},end:{line:40,column:41}},22:{start:{line:42,column:8},end:{line:42,column:27}},23:{start:{line:44,column:27},end:{line:44,column:65}},24:{start:{line:45,column:6},end:{line:45,column:44}},25:{start:{line:49,column:4},end:{line:59,column:5}},26:{start:{line:50,column:6},end:{line:56,column:9}},27:{start:{line:53,column:8},end:{line:53,column:31}},28:{start:{line:55,column:8},end:{line:55,column:44}},29:{start:{line:58,column:6},end:{line:58,column:92}},30:{start:{line:63,column:22},end:{line:67,column:5}},31:{start:{line:68,column:15},end:{line:68,column:26}},32:{start:{line:69,column:4},end:{line:79,column:7}},33:{start:{line:77,column:6},end:{line:78,column:29}},34:{start:{line:78,column:8},end:{line:78,column:29}},35:{start:{line:80,column:4},end:{line:80,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:20},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:58},end:{line:10,column:59}},loc:{start:{line:10,column:64},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:11},end:{line:31,column:3}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:21,column:12},end:{line:21,column:13}},loc:{start:{line:21,column:26},end:{line:23,column:5}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:22},end:{line:28,column:5}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:28,column:13},end:{line:28,column:14}},loc:{start:{line:28,column:19},end:{line:30,column:5}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:23},end:{line:47,column:3}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:34,column:27},end:{line:34,column:28}},loc:{start:{line:34,column:34},end:{line:46,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:60,column:3}},line:48},9:{name:"(anonymous_9)",decl:{start:{line:52,column:14},end:{line:52,column:15}},loc:{start:{line:52,column:33},end:{line:54,column:7}},line:52},10:{name:"(anonymous_10)",decl:{start:{line:54,column:14},end:{line:54,column:15}},loc:{start:{line:54,column:29},end:{line:56,column:7}},line:54},11:{name:"(anonymous_11)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:81,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:29},end:{line:79,column:5}},line:76}},branchMap:{0:{loc:{start:{line:10,column:30},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:30},end:{line:10,column:53}},{start:{line:10,column:58},end:{line:11,column:5}}],line:10},1:{loc:{start:{line:12,column:17},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:26}},{start:{line:12,column:30},end:{line:12,column:36}}],line:12},2:{loc:{start:{line:13,column:17},end:{line:13,column:41}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:30},end:{line:13,column:41}}],line:13},3:{loc:{start:{line:35,column:6},end:{line:36,column:15}},type:"if",locations:[{start:{line:35,column:6},end:{line:36,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},4:{loc:{start:{line:49,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:49,column:4},end:{line:59,column:5}},{start:{line:57,column:11},end:{line:59,column:5}}],line:49},5:{loc:{start:{line:77,column:6},end:{line:78,column:29}},type:"if",locations:[{start:{line:77,column:6},end:{line:78,column:29}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/apistore.ts"],names:[],mappings:"AAAA,OAAO,WAAW;AAClB,SAAQ,cAAa;AAErB,OAAO,2BAA2B;AAQ3B,aAAM,cAAc;AAAA,EAEzB;AAAA,EACA;AAAA,EACA,gBAAoC;AAAA,EACpC;AAAA,EAEA,YAAY,MAA4B;AACtC,SAAK,qBAAqB,KAAK,uBAAuB,MAAM;AAAA,IAAC;AAC7D,UAAM,OAAO,KAAK,QAAQ;AAC1B,UAAM,OAAO,KAAK,QAAQ;AAC1B,SAAK,WAAW,UAAU,IAAI,IAAI,IAAI;AACtC,SAAK,eAAe,QAAQ,IAAI,IAAI,IAAI;AACxC,SAAK,OAAO,KAAK,KAAK,KAAK,IAAI;AAAA,EACjC;AAAA,EAEA,KAAK,IAA8B;AACjC,UAAM,KAAK,WAAW,WAAW;AAAA,MAC/B,MAAM;AAAA,IACR,CAAC,EACE,KAAK,CAAC,aAAc;AACnB,aAAO,SAAS,KAAK;AAAA,IACvB,CAAC,EACA,KAAK,CAAC,SAAS;AACd,YAAM,WAAW;AACjB,WAAK,gBAAgB,SAAS,CAAC;AAC/B,WAAK,mBAAmB;AACxB,SAAG,IAAI;AAAA,IACT,CAAC,EACA,MAAM,MAAM;AACX,SAAG,IAAI,MAAM,8BAA8B,CAAC;AAAA,IAC9C,CAAC;AAAA,EACL;AAAA,EAEA,qBAAqB;AACnB,UAAM,aAAa,IAAI,sBAAsB,KAAK,YAAY;AAC9D,eAAW,YAAY,OAAK;AAC1B,UAAG,CAAC,EAAE;AAAM;AACZ,cAAQ,IAAI,gCAAgC;AAC5C,UAAI,cAAc,MAAM;AACxB,UAAI;AACF,sBAAc,KAAK,MAAM,EAAE,IAAI;AAAA,MACjC,SAAQ,KAAK;AACX,gBAAQ,MAAM,GAAG;AAAA,MACnB;AACA,YAAM,eAAe,MAAM,oBAAoB,WAAW;AAC1D,WAAK,mBAAmB,YAAY;AAAA,IACtC;AAAA,EACF;AAAA,EAEA,YAAY,IAA8B;AACxC,QAAG,KAAK,eAAe;AACrB,YAAM,KAAK,WAAW,aAAa,KAAK,eAAe;AAAA,QACrD,MAAM;AAAA,MACR,CAAC,EACE,KAAK,SAAS,UAAU;AACvB,eAAO,SAAS,KAAK;AAAA,MACvB,CAAC,EACA,KAAK,SAAS,MAAM;AACnB,WAAG,MAAM,oBAAoB,IAAI,CAAC;AAAA,MACpC,CAAC;AAAA,IACL,OAAO;AACL,YAAM,IAAI,MAAM,oEAAoE;AAAA,IACtF;AAAA,EACF;AAAA;AAAA,EAGA,KAAK,UAA+C;AAClD,UAAM,YAAY;AAAA,MAChB,MAAM;AAAA,QACJ,MAAM,oBAAoB,QAAQ;AAAA,MACpC;AAAA,IACF;AAEA,UAAM,KAAK,SAAS;AACpB,UAAM,KAAK,WAAW,aAAa,IAAI;AAAA,MACrC,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM;AAAA,IACR,CAAC,EACE,MAAM,SAAS,OAAO;AACrB,UAAG;AAAO,gBAAQ,MAAM,KAAK;AAAA,IAC/B,CAAC;AACH,WAAO;AAAA,EACT;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"affc9a723ceb39c9f38866dab538bc0c9774f995"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return jr=function(){return a},a}jr();class iTe{constructor(t){on(this,"localUrl");on(this,"websocketUrl");on(this,"latestStyleId",(jr().s[0]++,void 0));on(this,"onLocalStyleChange");jr().f[0]++,jr().s[1]++,this.onLocalStyleChange=(jr().b[0][0]++,t.onLocalStyleChange||(jr().b[0][1]++,()=>{jr().f[1]++}));const n=(jr().s[2]++,jr().b[1][0]++,t.port||(jr().b[1][1]++,"8000")),r=(jr().s[3]++,jr().b[2][0]++,t.host||(jr().b[2][1]++,"localhost"));jr().s[4]++,this.localUrl=`http://${r}:${n}`,jr().s[5]++,this.websocketUrl=`ws://${r}:${n}/ws`,jr().s[6]++,this.init=this.init.bind(this)}init(t){jr().f[2]++,jr().s[7]++,fetch(this.localUrl+"/styles",{mode:"cors"}).then(n=>(jr().f[3]++,jr().s[8]++,n.json())).then(n=>{jr().f[4]++;const r=(jr().s[9]++,n);jr().s[10]++,this.latestStyleId=r[0],jr().s[11]++,this.notifyLocalChanges(),jr().s[12]++,t(null)}).catch(()=>{jr().f[5]++,jr().s[13]++,t(new Error("Can not connect to style API"))})}notifyLocalChanges(){jr().f[6]++;const t=(jr().s[14]++,new rTe(this.websocketUrl));jr().s[15]++,t.onmessage=n=>{if(jr().f[7]++,jr().s[16]++,n.data)jr().b[3][1]++;else{jr().b[3][0]++,jr().s[17]++;return}jr().s[18]++,console.log("Received style update from API");let r=(jr().s[19]++,pA.emptyStyle);jr().s[20]++;try{jr().s[21]++,r=JSON.parse(n.data)}catch(o){jr().s[22]++,console.error(o)}const i=(jr().s[23]++,pA.ensureStyleValidity(r));jr().s[24]++,this.onLocalStyleChange(i)}}latestStyle(t){if(jr().f[8]++,jr().s[25]++,this.latestStyleId)jr().b[4][0]++,jr().s[26]++,fetch(this.localUrl+"/styles/"+this.latestStyleId,{mode:"cors"}).then(function(n){return jr().f[9]++,jr().s[27]++,n.json()}).then(function(n){jr().f[10]++,jr().s[28]++,t(pA.ensureStyleValidity(n))});else throw jr().b[4][1]++,jr().s[29]++,new Error("No latest style available. You need to init the api backend first.")}save(t){jr().f[11]++;const n=(jr().s[30]++,yz(pA.stripAccessTokens(pA.replaceAccessTokens(t)))),r=(jr().s[31]++,t.id);return jr().s[32]++,fetch(this.localUrl+"/styles/"+r,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:n}).catch(function(i){jr().f[12]++,jr().s[33]++,i?(jr().b[5][0]++,jr().s[34]++,console.error(i)):jr().b[5][1]++}),jr().s[35]++,t}}function es(){var e="/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",t="9277d165d3b1fd7c235a1faab33cf41596d9966e",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/revisions.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:38}},1:{start:{line:6,column:4},end:{line:6,column:50}},2:{start:{line:9,column:4},end:{line:9,column:53}},3:{start:{line:12,column:4},end:{line:12,column:43}},4:{start:{line:15,column:4},end:{line:15,column:66}},5:{start:{line:16,column:4},end:{line:16,column:34}},6:{start:{line:17,column:4},end:{line:17,column:22}},7:{start:{line:20,column:4},end:{line:22,column:5}},8:{start:{line:21,column:6},end:{line:21,column:24}},9:{start:{line:23,column:4},end:{line:23,column:24}},10:{start:{line:26,column:4},end:{line:28,column:5}},11:{start:{line:27,column:6},end:{line:27,column:24}},12:{start:{line:29,column:4},end:{line:29,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:37},end:{line:7,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:10,column:3}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:16},end:{line:13,column:3}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:24},end:{line:18,column:3}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:9},end:{line:24,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:9},end:{line:30,column:3}},line:25}},branchMap:{0:{loc:{start:{line:4,column:14},end:{line:4,column:35}},type:"default-arg",locations:[{start:{line:4,column:33},end:{line:4,column:35}}],line:4},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/revisions.ts"],names:[],mappings:"AAEO,aAAM,cAAc;AAAA,EACzB;AAAA,EACA;AAAA,EAGA,YAAY,mBAAiB,CAAC,GAAG;AAC/B,SAAK,YAAY;AACjB,SAAK,aAAa,iBAAiB,SAAS;AAAA,EAC9C;AAAA,EAEA,IAAI,SAAS;AACX,WAAO,KAAK,UAAU,KAAK,UAAU,SAAS,CAAC;AAAA,EACjD;AAAA,EAEA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU,KAAK,UAAU;AAAA,EACvC;AAAA,EAEA,YAAY,UAA6C;AAGvD,SAAK,YAAY,KAAK,UAAU,MAAM,GAAG,KAAK,aAAa,CAAC;AAE5D,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK;AAAA,EAEP;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,GAAG;AACtB,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,OAAO;AACL,QAAG,KAAK,aAAa,KAAK,UAAU,SAAS,GAAG;AAC9C,WAAK;AAAA,IACP;AACA,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9277d165d3b1fd7c235a1faab33cf41596d9966e"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return es=function(){return a},a}es();class oTe{constructor(t=(es().b[0][0]++,[])){on(this,"revisions");on(this,"currentIdx");es().f[0]++,es().s[0]++,this.revisions=t,es().s[1]++,this.currentIdx=t.length-1}get latest(){return es().f[1]++,es().s[2]++,this.revisions[this.revisions.length-1]}get current(){return es().f[2]++,es().s[3]++,this.revisions[this.currentIdx]}addRevision(t){es().f[3]++,es().s[4]++,this.revisions=this.revisions.slice(0,this.currentIdx+1),es().s[5]++,this.revisions.push(t),es().s[6]++,this.currentIdx++}undo(){return es().f[4]++,es().s[7]++,this.currentIdx>0?(es().b[1][0]++,es().s[8]++,this.currentIdx--):es().b[1][1]++,es().s[9]++,this.current}redo(){return es().f[5]++,es().s[10]++,this.currentIdx<this.revisions.length-1?(es().b[2][0]++,es().s[11]++,this.currentIdx++):es().b[2][1]++,es().s[12]++,this.current}}var qQ="Expected a function",DF=NaN,aTe="[object Symbol]",sTe=/^\s+|\s+$/g,lTe=/^[-+]0x[0-9a-f]+$/i,uTe=/^0b[01]+$/i,ATe=/^0o[0-7]+$/i,cTe=parseInt,dTe=typeof window=="object"&&window&&window.Object===Object&&window,hTe=typeof self=="object"&&self&&self.Object===Object&&self,fTe=dTe||hTe||Function("return this")(),pTe=Object.prototype,mTe=pTe.toString,gTe=Math.max,yTe=Math.min,L6=function(){return fTe.Date.now()};function vTe(e,t,n){var r,i,o,a,s,h,g=0,_=!1,E=!1,O=!0;if(typeof e!="function")throw new TypeError(qQ);t=FF(t)||0,M5(n)&&(_=!!n.leading,E="maxWait"in n,o=E?gTe(FF(n.maxWait)||0,t):o,O="trailing"in n?!!n.trailing:O);function K(be){var X=r,se=i;return r=i=void 0,g=be,a=e.apply(se,X),a}function D(be){return g=be,s=setTimeout(H,t),_?K(be):a}function Y(be){var X=be-h,se=be-g,we=t-X;return E?yTe(we,o-se):we}function ee(be){var X=be-h,se=be-g;return h===void 0||X>=t||X<0||E&&se>=o}function H(){var be=L6();if(ee(be))return N(be);s=setTimeout(H,Y(be))}function N(be){return s=void 0,O&&r?K(be):(r=i=void 0,a)}function Z(){s!==void 0&&clearTimeout(s),g=0,r=h=i=s=void 0}function ue(){return s===void 0?a:N(L6())}function ye(){var be=L6(),X=ee(be);if(r=arguments,i=this,h=be,X){if(s===void 0)return D(h);if(E)return s=setTimeout(H,t),K(h)}return s===void 0&&(s=setTimeout(H,t)),a}return ye.cancel=Z,ye.flush=ue,ye}function _Te(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(qQ);return M5(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vTe(e,t,{leading:r,maxWait:t,trailing:i})}function M5(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function CTe(e){return!!e&&typeof e=="object"}function bTe(e){return typeof e=="symbol"||CTe(e)&&mTe.call(e)==aTe}function FF(e){if(typeof e=="number")return e;if(bTe(e))return DF;if(M5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=M5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(sTe,"");var n=uTe.test(e);return n||ATe.test(e)?cTe(e.slice(2),n?2:8):lTe.test(e)?DF:+e}var xTe=_Te;const wTe=Ba(xTe);var S5={exports:{}};S5.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",h="[object Array]",g="[object AsyncFunction]",_="[object Boolean]",E="[object Date]",O="[object Error]",K="[object Function]",D="[object GeneratorFunction]",Y="[object Map]",ee="[object Number]",H="[object Null]",N="[object Object]",Z="[object Promise]",ue="[object Proxy]",ye="[object RegExp]",be="[object Set]",X="[object String]",se="[object Symbol]",we="[object Undefined]",xe="[object WeakMap]",De="[object ArrayBuffer]",Fe="[object DataView]",he="[object Float32Array]",Qe="[object Float64Array]",ge="[object Int8Array]",yt="[object Int16Array]",wt="[object Int32Array]",st="[object Uint8Array]",mt="[object Uint8ClampedArray]",ze="[object Uint16Array]",He="[object Uint32Array]",Ve=/[\\^$.*+?()[\]{}|]/g,Vt=/^\[object .+?Constructor\]$/,Yt=/^(?:0|[1-9]\d*)$/,vt={};vt[he]=vt[Qe]=vt[ge]=vt[yt]=vt[wt]=vt[st]=vt[mt]=vt[ze]=vt[He]=!0,vt[s]=vt[h]=vt[De]=vt[_]=vt[Fe]=vt[E]=vt[O]=vt[K]=vt[Y]=vt[ee]=vt[N]=vt[ye]=vt[be]=vt[X]=vt[xe]=!1;var $t=typeof window=="object"&&window&&window.Object===Object&&window,Qt=typeof self=="object"&&self&&self.Object===Object&&self,ke=$t||Qt||Function("return this")(),pe=t&&!t.nodeType&&t,Se=pe&&!0&&e&&!e.nodeType&&e,Re=Se&&Se.exports===pe,it=Re&&$t.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),St=ot&&ot.isTypedArray;function Rt(z,ae){for(var Ue=-1,gt=z==null?0:z.length,Wn=0,vn=[];++Ue<gt;){var Pn=z[Ue];ae(Pn,Ue,z)&&(vn[Wn++]=Pn)}return vn}function zt(z,ae){for(var Ue=-1,gt=ae.length,Wn=z.length;++Ue<gt;)z[Wn+Ue]=ae[Ue];return z}function pt(z,ae){for(var Ue=-1,gt=z==null?0:z.length;++Ue<gt;)if(ae(z[Ue],Ue,z))return!0;return!1}function rr(z,ae){for(var Ue=-1,gt=Array(z);++Ue<z;)gt[Ue]=ae(Ue);return gt}function gn(z){return function(ae){return z(ae)}}function yn(z,ae){return z.has(ae)}function Jn(z,ae){return z==null?void 0:z[ae]}function Ar(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt,Wn){Ue[++ae]=[Wn,gt]}),Ue}function Mr(z,ae){return function(Ue){return z(ae(Ue))}}function Wr(z){var ae=-1,Ue=Array(z.size);return z.forEach(function(gt){Ue[++ae]=gt}),Ue}var gr=Array.prototype,_i=Function.prototype,Ee=Object.prototype,J=ke["__core-js_shared__"],q=_i.toString,Te=Ee.hasOwnProperty,At=function(){var z=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Bt=Ee.toString,kt=RegExp("^"+q.call(Te).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=Re?ke.Buffer:void 0,fn=ke.Symbol,Kn=ke.Uint8Array,On=Ee.propertyIsEnumerable,m=gr.splice,Pt=fn?fn.toStringTag:void 0,Kr=Object.getOwnPropertySymbols,tr=Ft?Ft.isBuffer:void 0,Ke=Mr(Object.keys,Object),ce=ea(ke,"DataView"),Ce=ea(ke,"Map"),Ie=ea(ke,"Promise"),je=ea(ke,"Set"),rt=ea(ke,"WeakMap"),lt=ea(Object,"create"),ft=jo(ce),et=jo(Ce),Mt=jo(Ie),tn=jo(je),Ht=jo(rt),en=fn?fn.prototype:void 0,Dn=en?en.valueOf:void 0;function Bn(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function Yn(){this.__data__=lt?lt(null):{},this.size=0}function Sr(z){var ae=this.has(z)&&delete this.__data__[z];return this.size-=ae?1:0,ae}function lr(z){var ae=this.__data__;if(lt){var Ue=ae[z];return Ue===r?void 0:Ue}return Te.call(ae,z)?ae[z]:void 0}function Qr(z){var ae=this.__data__;return lt?ae[z]!==void 0:Te.call(ae,z)}function Or(z,ae){var Ue=this.__data__;return this.size+=this.has(z)?0:1,Ue[z]=lt&&ae===void 0?r:ae,this}Bn.prototype.clear=Yn,Bn.prototype.delete=Sr,Bn.prototype.get=lr,Bn.prototype.has=Qr,Bn.prototype.set=Or;function Lr(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function ir(){this.__data__=[],this.size=0}function ci(z){var ae=this.__data__,Ue=wn(ae,z);if(Ue<0)return!1;var gt=ae.length-1;return Ue==gt?ae.pop():m.call(ae,Ue,1),--this.size,!0}function Li(z){var ae=this.__data__,Ue=wn(ae,z);return Ue<0?void 0:ae[Ue][1]}function to(z){return wn(this.__data__,z)>-1}function ho(z,ae){var Ue=this.__data__,gt=wn(Ue,z);return gt<0?(++this.size,Ue.push([z,ae])):Ue[gt][1]=ae,this}Lr.prototype.clear=ir,Lr.prototype.delete=ci,Lr.prototype.get=Li,Lr.prototype.has=to,Lr.prototype.set=ho;function ai(z){var ae=-1,Ue=z==null?0:z.length;for(this.clear();++ae<Ue;){var gt=z[ae];this.set(gt[0],gt[1])}}function fo(){this.size=0,this.__data__={hash:new Bn,map:new(Ce||Lr),string:new Bn}}function Wa(z){var ae=Jo(this,z).delete(z);return this.size-=ae?1:0,ae}function Ia(z){return Jo(this,z).get(z)}function Mi(z){return Jo(this,z).has(z)}function os(z,ae){var Ue=Jo(this,z),gt=Ue.size;return Ue.set(z,ae),this.size+=Ue.size==gt?0:1,this}ai.prototype.clear=fo,ai.prototype.delete=Wa,ai.prototype.get=Ia,ai.prototype.has=Mi,ai.prototype.set=os;function gi(z){var ae=-1,Ue=z==null?0:z.length;for(this.__data__=new ai;++ae<Ue;)this.add(z[ae])}function jn(z){return this.__data__.set(z,r),this}function ro(z){return this.__data__.has(z)}gi.prototype.add=gi.prototype.push=jn,gi.prototype.has=ro;function _o(z){var ae=this.__data__=new Lr(z);this.size=ae.size}function Ui(){this.__data__=new Lr,this.size=0}function ve(z){var ae=this.__data__,Ue=ae.delete(z);return this.size=ae.size,Ue}function Je(z){return this.__data__.get(z)}function Zt(z){return this.__data__.has(z)}function sn(z,ae){var Ue=this.__data__;if(Ue instanceof Lr){var gt=Ue.__data__;if(!Ce||gt.length<n-1)return gt.push([z,ae]),this.size=++Ue.size,this;Ue=this.__data__=new ai(gt)}return Ue.set(z,ae),this.size=Ue.size,this}_o.prototype.clear=Ui,_o.prototype.delete=ve,_o.prototype.get=Je,_o.prototype.has=Zt,_o.prototype.set=sn;function Lt(z,ae){var Ue=ss(z),gt=!Ue&&eu(z),Wn=!Ue&&!gt&&Wo(z),vn=!Ue&&!gt&&!Wn&&Al(z),Pn=Ue||gt||Wn||vn,Ur=Pn?rr(z.length,String):[],yr=Ur.length;for(var kr in z)(ae||Te.call(z,kr))&&!(Pn&&(kr=="length"||Wn&&(kr=="offset"||kr=="parent")||vn&&(kr=="buffer"||kr=="byteLength"||kr=="byteOffset")||vA(kr,yr)))&&Ur.push(kr);return Ur}function wn(z,ae){for(var Ue=z.length;Ue--;)if(xs(z[Ue][0],ae))return Ue;return-1}function dr(z,ae,Ue){var gt=ae(z);return ss(z)?gt:zt(gt,Ue(z))}function ri(z){return z==null?z===void 0?we:H:Pt&&Pt in Object(z)?bs(z):Wu(z)}function si(z){return sa(z)&&ri(z)==s}function Zo(z,ae,Ue,gt,Wn){return z===ae?!0:z==null||ae==null||!sa(z)&&!sa(ae)?z!==z&&ae!==ae:Pa(z,ae,Ue,gt,Zo,Wn)}function Pa(z,ae,Ue,gt,Wn,vn){var Pn=ss(z),Ur=ss(ae),yr=Pn?h:pa(z),kr=Ur?h:pa(ae);yr=yr==s?N:yr,kr=kr==s?N:kr;var Ii=yr==N,po=kr==N,Si=yr==kr;if(Si&&Wo(z)){if(!Wo(ae))return!1;Pn=!0,Ii=!1}if(Si&&!Ii)return vn||(vn=new _o),Pn||Al(z)?Ga(z,ae,Ue,gt,Wn,vn):Xo(z,ae,yr,Ue,gt,Wn,vn);if(!(Ue&i)){var Zr=Ii&&Te.call(z,"__wrapped__"),Hi=po&&Te.call(ae,"__wrapped__");if(Zr||Hi){var Bo=Zr?z.value():z,xo=Hi?ae.value():ae;return vn||(vn=new _o),Wn(Bo,xo,Ue,gt,vn)}}return Si?(vn||(vn=new _o),bu(z,ae,Ue,gt,Wn,vn)):!1}function Dr(z){if(!tu(z)||_A(z))return!1;var ae=ul(z)?kt:Vt;return ae.test(jo(z))}function Na(z){return sa(z)&&xl(z.length)&&!!vt[ri(z)]}function yi(z){if(!wu(z))return Ke(z);var ae=[];for(var Ue in Object(z))Te.call(z,Ue)&&Ue!="constructor"&&ae.push(Ue);return ae}function Ga(z,ae,Ue,gt,Wn,vn){var Pn=Ue&i,Ur=z.length,yr=ae.length;if(Ur!=yr&&!(Pn&&yr>Ur))return!1;var kr=vn.get(z);if(kr&&vn.get(ae))return kr==ae;var Ii=-1,po=!0,Si=Ue&o?new gi:void 0;for(vn.set(z,ae),vn.set(ae,z);++Ii<Ur;){var Zr=z[Ii],Hi=ae[Ii];if(gt)var Bo=Pn?gt(Hi,Zr,Ii,ae,z,vn):gt(Zr,Hi,Ii,z,ae,vn);if(Bo!==void 0){if(Bo)continue;po=!1;break}if(Si){if(!pt(ae,function(xo,$a){if(!yn(Si,$a)&&(Zr===xo||Wn(Zr,xo,Ue,gt,vn)))return Si.push($a)})){po=!1;break}}else if(!(Zr===Hi||Wn(Zr,Hi,Ue,gt,vn))){po=!1;break}}return vn.delete(z),vn.delete(ae),po}function Xo(z,ae,Ue,gt,Wn,vn,Pn){switch(Ue){case Fe:if(z.byteLength!=ae.byteLength||z.byteOffset!=ae.byteOffset)return!1;z=z.buffer,ae=ae.buffer;case De:return!(z.byteLength!=ae.byteLength||!vn(new Kn(z),new Kn(ae)));case _:case E:case ee:return xs(+z,+ae);case O:return z.name==ae.name&&z.message==ae.message;case ye:case X:return z==ae+"";case Y:var Ur=Ar;case be:var yr=gt&i;if(Ur||(Ur=Wr),z.size!=ae.size&&!yr)return!1;var kr=Pn.get(z);if(kr)return kr==ae;gt|=o,Pn.set(z,ae);var Ii=Ga(Ur(z),Ur(ae),gt,Wn,vn,Pn);return Pn.delete(z),Ii;case se:if(Dn)return Dn.call(z)==Dn.call(ae)}return!1}function bu(z,ae,Ue,gt,Wn,vn){var Pn=Ue&i,Ur=as(z),yr=Ur.length,kr=as(ae),Ii=kr.length;if(yr!=Ii&&!Pn)return!1;for(var po=yr;po--;){var Si=Ur[po];if(!(Pn?Si in ae:Te.call(ae,Si)))return!1}var Zr=vn.get(z);if(Zr&&vn.get(ae))return Zr==ae;var Hi=!0;vn.set(z,ae),vn.set(ae,z);for(var Bo=Pn;++po<yr;){Si=Ur[po];var xo=z[Si],$a=ae[Si];if(gt)var Dl=Pn?gt($a,xo,Si,ae,z,vn):gt(xo,$a,Si,z,ae,vn);if(!(Dl===void 0?xo===$a||Wn(xo,$a,Ue,gt,vn):Dl)){Hi=!1;break}Bo||(Bo=Si=="constructor")}if(Hi&&!Bo){var nu=z.constructor,ma=ae.constructor;nu!=ma&&"constructor"in z&&"constructor"in ae&&!(typeof nu=="function"&&nu instanceof nu&&typeof ma=="function"&&ma instanceof ma)&&(Hi=!1)}return vn.delete(z),vn.delete(ae),Hi}function as(z){return dr(z,CA,xu)}function Jo(z,ae){var Ue=z.__data__;return ju(ae)?Ue[typeof ae=="string"?"string":"hash"]:Ue.map}function ea(z,ae){var Ue=Jn(z,ae);return Dr(Ue)?Ue:void 0}function bs(z){var ae=Te.call(z,Pt),Ue=z[Pt];try{z[Pt]=void 0;var gt=!0}catch{}var Wn=Bt.call(z);return gt&&(ae?z[Pt]=Ue:delete z[Pt]),Wn}var xu=Kr?function(z){return z==null?[]:(z=Object(z),Rt(Kr(z),function(ae){return On.call(z,ae)}))}:vo,pa=ri;(ce&&pa(new ce(new ArrayBuffer(1)))!=Fe||Ce&&pa(new Ce)!=Y||Ie&&pa(Ie.resolve())!=Z||je&&pa(new je)!=be||rt&&pa(new rt)!=xe)&&(pa=function(z){var ae=ri(z),Ue=ae==N?z.constructor:void 0,gt=Ue?jo(Ue):"";if(gt)switch(gt){case ft:return Fe;case et:return Y;case Mt:return Z;case tn:return be;case Ht:return xe}return ae});function vA(z,ae){return ae=ae??a,!!ae&&(typeof z=="number"||Yt.test(z))&&z>-1&&z%1==0&&z<ae}function ju(z){var ae=typeof z;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?z!=="__proto__":z===null}function _A(z){return!!At&&At in z}function wu(z){var ae=z&&z.constructor,Ue=typeof ae=="function"&&ae.prototype||Ee;return z===Ue}function Wu(z){return Bt.call(z)}function jo(z){if(z!=null){try{return q.call(z)}catch{}try{return z+""}catch{}}return""}function xs(z,ae){return z===ae||z!==z&&ae!==ae}var eu=si(function(){return arguments}())?si:function(z){return sa(z)&&Te.call(z,"callee")&&!On.call(z,"callee")},ss=Array.isArray;function ll(z){return z!=null&&xl(z.length)&&!ul(z)}var Wo=tr||io;function Mu(z,ae){return Zo(z,ae)}function ul(z){if(!tu(z))return!1;var ae=ri(z);return ae==K||ae==D||ae==g||ae==ue}function xl(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=a}function tu(z){var ae=typeof z;return z!=null&&(ae=="object"||ae=="function")}function sa(z){return z!=null&&typeof z=="object"}var Al=St?gn(St):Na;function CA(z){return ll(z)?Lt(z):yi(z)}function vo(){return[]}function io(){return!1}e.exports=Mu})(S5,S5.exports);var MTe=S5.exports;const LB=Ba(MTe);function ni(){var e="/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",t="77d2098743f5a64765174c6e14fc4dc25f900f6c",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts",statementMap:{0:{start:{line:10,column:4},end:{line:11,column:7}},1:{start:{line:12,column:4},end:{line:13,column:7}},2:{start:{line:14,column:4},end:{line:14,column:23}},3:{start:{line:15,column:4},end:{line:15,column:28}},4:{start:{line:16,column:4},end:{line:16,column:90}},5:{start:{line:19,column:28},end:{line:19,column:48}},6:{start:{line:20,column:4},end:{line:22,column:7}},7:{start:{line:21,column:6},end:{line:21,column:88}},8:{start:{line:23,column:4},end:{line:25,column:5}},9:{start:{line:24,column:6},end:{line:24,column:42}},10:{start:{line:26,column:4},end:{line:26,column:48}},11:{start:{line:29,column:33},end:{line:29,column:58}},12:{start:{line:30,column:4},end:{line:43,column:7}},13:{start:{line:31,column:6},end:{line:42,column:9}},14:{start:{line:32,column:32},end:{line:32,column:71}},15:{start:{line:33,column:23},end:{line:33,column:53}},16:{start:{line:34,column:8},end:{line:40,column:11}},17:{start:{line:35,column:10},end:{line:39,column:13}},18:{start:{line:36,column:40},end:{line:36,column:75}},19:{start:{line:37,column:12},end:{line:37,column:71}},20:{start:{line:38,column:12},end:{line:38,column:64}},21:{start:{line:41,column:8},end:{line:41,column:60}},22:{start:{line:44,column:4},end:{line:46,column:5}},23:{start:{line:45,column:6},end:{line:45,column:52}},24:{start:{line:50,column:4},end:{line:50,column:25}},25:{start:{line:53,column:4},end:{line:53,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:25},end:{line:17,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:10,column:52},end:{line:10,column:53}},loc:{start:{line:10,column:58},end:{line:11,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:12,column:62},end:{line:12,column:63}},loc:{start:{line:12,column:68},end:{line:13,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:18,column:2},end:{line:18,column:3}},loc:{start:{line:18,column:18},end:{line:27,column:3}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:20,column:48},end:{line:20,column:49}},loc:{start:{line:20,column:62},end:{line:22,column:5}},line:20},5:{name:"(anonymous_5)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:32},end:{line:47,column:3}},line:28},6:{name:"(anonymous_6)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:53},end:{line:43,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:31,column:46},end:{line:31,column:47}},loc:{start:{line:31,column:65},end:{line:42,column:7}},line:31},8:{name:"(anonymous_8)",decl:{start:{line:34,column:58},end:{line:34,column:59}},loc:{start:{line:34,column:71},end:{line:40,column:9}},line:34},9:{name:"(anonymous_9)",decl:{start:{line:35,column:50},end:{line:35,column:51}},loc:{start:{line:35,column:68},end:{line:39,column:11}},line:35},10:{name:"(anonymous_10)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:16},end:{line:51,column:3}},line:49},11:{name:"(anonymous_11)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:21},end:{line:54,column:3}},line:52}},branchMap:{0:{loc:{start:{line:9,column:14},end:{line:9,column:23}},type:"default-arg",locations:[{start:{line:9,column:21},end:{line:9,column:23}}],line:9},1:{loc:{start:{line:10,column:27},end:{line:11,column:6}},type:"binary-expr",locations:[{start:{line:10,column:27},end:{line:10,column:47}},{start:{line:10,column:52},end:{line:11,column:5}}],line:10},2:{loc:{start:{line:12,column:32},end:{line:13,column:6}},type:"binary-expr",locations:[{start:{line:12,column:32},end:{line:12,column:57}},{start:{line:12,column:62},end:{line:13,column:5}}],line:12},3:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:23},4:{loc:{start:{line:31,column:7},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:7},end:{line:31,column:30}},{start:{line:31,column:34},end:{line:31,column:36}}],line:31},5:{loc:{start:{line:32,column:32},end:{line:32,column:71}},type:"binary-expr",locations:[{start:{line:32,column:32},end:{line:32,column:65}},{start:{line:32,column:69},end:{line:32,column:71}}],line:32},6:{loc:{start:{line:36,column:40},end:{line:36,column:75}},type:"binary-expr",locations:[{start:{line:36,column:40},end:{line:36,column:69}},{start:{line:36,column:73},end:{line:36,column:75}}],line:36},7:{loc:{start:{line:44,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:46,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/layerwatcher.ts"],names:[],mappings:"AAAA,OAAO,cAAc;AACrB,OAAO,aAAa;AAUpB,qBAAqB,aAAa;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA,YAAY,OAA4B,CAAC,GAAG;AAC1C,SAAK,kBAAkB,KAAK,oBAAoB,MAAM;AAAA,IAAC;AACvD,SAAK,uBAAuB,KAAK,yBAAyB,MAAM;AAAA,IAAC;AAEjE,SAAK,WAAW,CAAC;AACjB,SAAK,gBAAgB,CAAC;AAKtB,SAAK,oCAAoC,SAAS,KAAK,0BAA0B,GAAI;AAAA,EACvF;AAAA,EAEA,WAAW,KAAU;AACnB,UAAM,kBAAkB,EAAE,GAAG,KAAK,SAAS;AAE3C,WAAO,KAAK,IAAI,MAAM,YAAY,EAAE,QAAQ,cAAY;AAGtD,WAAK,SAAS,QAAQ,IAAI,IAAI,MAAM,aAAa,QAAQ,EAAE,QAAQ;AAAA,IACrE,CAAC;AAED,QAAG,CAAC,QAAQ,iBAAiB,KAAK,QAAQ,GAAG;AAC3C,WAAK,gBAAgB,KAAK,QAAQ;AAAA,IACpC;AAEA,SAAK,kCAAkC,GAAG;AAAA,EAC5C;AAAA,EAEA,yBAAyB,KAAU;AACjC,UAAM,uBAAuB,EAAE,GAAG,KAAK,cAAc;AAErD,WAAO,KAAK,KAAK,QAAQ,EAAE,QAAQ,cAAY;AAC7C,OAAC,KAAK,SAAS,QAAQ,KAAK,CAAC,GAAG,QAAQ,mBAAiB;AACvD,cAAM,kBAAkB,KAAK,cAAc,aAAa,KAAK,CAAC;AAC9D,cAAM,SAAS,EAAE,aAAa,cAAc;AAC5C,YAAI,oBAAoB,UAAU,MAAa,EAAE,QAAQ,aAAW;AAClE,iBAAO,KAAK,QAAQ,UAAU,EAAE,QAAQ,kBAAgB;AACtD,kBAAM,sBAAsB,gBAAgB,YAAY,KAAK,CAAC;AAC9D,gCAAoB,QAAQ,WAAW,YAAY,CAAC,IAAI,CAAC;AACzD,4BAAgB,YAAY,IAAI;AAAA,UAClC,CAAC;AAAA,QACH,CAAC;AAED,aAAK,cAAc,aAAa,IAAI;AAAA,MACtC,CAAC;AAAA,IACH,CAAC;AAED,QAAG,CAAC,QAAQ,sBAAsB,KAAK,aAAa,GAAG;AACrD,WAAK,qBAAqB,KAAK,aAAa;AAAA,IAC9C;AAAA,EAEF;AAAA;AAAA,EAGA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,eAAe;AACjB,WAAO,KAAK;AAAA,EACd;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77d2098743f5a64765174c6e14fc4dc25f900f6c"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return ni=function(){return a},a}ni();class STe{constructor(t=(ni().b[0][0]++,{})){on(this,"onSourcesChange");on(this,"onVectorLayersChange");on(this,"throttledAnalyzeVectorLayerFields");on(this,"_sources");on(this,"_vectorLayers");ni().f[0]++,ni().s[0]++,this.onSourcesChange=(ni().b[1][0]++,t.onSourcesChange||(ni().b[1][1]++,()=>{ni().f[1]++})),ni().s[1]++,this.onVectorLayersChange=(ni().b[2][0]++,t.onVectorLayersChange||(ni().b[2][1]++,()=>{ni().f[2]++})),ni().s[2]++,this._sources={},ni().s[3]++,this._vectorLayers={},ni().s[4]++,this.throttledAnalyzeVectorLayerFields=wTe(this.analyzeVectorLayerFields,5e3)}analyzeMap(t){ni().f[3]++;const n=(ni().s[5]++,{...this._sources});ni().s[6]++,Object.keys(t.style.sourceCaches).forEach(r=>{ni().f[4]++,ni().s[7]++,this._sources[r]=t.style.sourceCaches[r]._source.vectorLayerIds}),ni().s[8]++,LB(n,this._sources)?ni().b[3][1]++:(ni().b[3][0]++,ni().s[9]++,this.onSourcesChange(this._sources)),ni().s[10]++,this.throttledAnalyzeVectorLayerFields(t)}analyzeVectorLayerFields(t){ni().f[5]++;const n=(ni().s[11]++,{...this._vectorLayers});ni().s[12]++,Object.keys(this._sources).forEach(r=>{ni().f[6]++,ni().s[13]++,(ni().b[4][0]++,this._sources[r]||(ni().b[4][1]++,[])).forEach(i=>{ni().f[7]++;const o=(ni().s[14]++,ni().b[5][0]++,this._vectorLayers[i]||(ni().b[5][1]++,{})),a=(ni().s[15]++,{sourceLayer:i});ni().s[16]++,t.querySourceFeatures(r,a).forEach(s=>{ni().f[8]++,ni().s[17]++,Object.keys(s.properties).forEach(h=>{ni().f[9]++;const g=(ni().s[18]++,ni().b[6][0]++,o[h]||(ni().b[6][1]++,{}));ni().s[19]++,g[s.properties[h]]={},ni().s[20]++,o[h]=g})}),ni().s[21]++,this._vectorLayers[i]=o})}),ni().s[22]++,LB(n,this._vectorLayers)?ni().b[7][1]++:(ni().b[7][0]++,ni().s[23]++,this.onVectorLayersChange(this._vectorLayers))}get sources(){return ni().f[10]++,ni().s[24]++,this._sources}get vectorLayers(){return ni().f[11]++,ni().s[25]++,this._vectorLayers}}function Qo(){var e="/home/runner/work/maputnik/maputnik/src/libs/debug.ts",t="f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/libs/debug.ts",statementMap:{0:{start:{line:1,column:19},end:{line:1,column:21}},1:{start:{line:3,column:13},end:{line:3,column:55}},2:{start:{line:4,column:18},end:{line:4,column:33}},3:{start:{line:5,column:2},end:{line:9,column:3}},4:{start:{line:6,column:4},end:{line:6,column:42}},5:{start:{line:8,column:4},end:{line:8,column:17}},6:{start:{line:12,column:2},end:{line:12,column:91}},7:{start:{line:15,column:2},end:{line:17,column:3}},8:{start:{line:16,column:4},end:{line:16,column:19}},9:{start:{line:18,column:2},end:{line:18,column:54}},10:{start:{line:19,column:2},end:{line:19,column:37}},11:{start:{line:22,column:2},end:{line:24,column:3}},12:{start:{line:23,column:4},end:{line:23,column:19}},13:{start:{line:25,column:2},end:{line:27,column:3}},14:{start:{line:26,column:4},end:{line:26,column:38}},15:{start:{line:29,column:12},end:{line:33,column:1}},16:{start:{line:34,column:0},end:{line:34,column:19}}},fnMap:{0:{name:"enabled",decl:{start:{line:2,column:9},end:{line:2,column:16}},loc:{start:{line:2,column:19},end:{line:10,column:1}},line:2},1:{name:"genErr",decl:{start:{line:11,column:9},end:{line:11,column:15}},loc:{start:{line:11,column:18},end:{line:13,column:1}},line:11},2:{name:"set",decl:{start:{line:14,column:9},end:{line:14,column:12}},loc:{start:{line:14,column:36},end:{line:20,column:1}},line:14},3:{name:"get",decl:{start:{line:21,column:9},end:{line:21,column:12}},loc:{start:{line:21,column:29},end:{line:28,column:1}},line:21}},branchMap:{0:{loc:{start:{line:5,column:2},end:{line:9,column:3}},type:"if",locations:[{start:{line:5,column:2},end:{line:9,column:3}},{start:{line:7,column:9},end:{line:9,column:3}}],line:5},1:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},2:{loc:{start:{line:18,column:26},end:{line:18,column:53}},type:"binary-expr",locations:[{start:{line:18,column:26},end:{line:18,column:47}},{start:{line:18,column:51},end:{line:18,column:53}}],line:18},3:{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},4:{loc:{start:{line:25,column:2},end:{line:27,column:3}},type:"if",locations:[{start:{line:25,column:2},end:{line:27,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/libs/debug.ts"],names:[],mappings:"AAMA,MAAM,aAAyB,CAAC;AAEhC,SAAS,UAAU;AACjB,QAAM,KAAK,IAAI,IAAI,OAAO,SAAS,IAAI,EAAE;AACzC,QAAM,UAAU,GAAG,IAAI,OAAO;AAC9B,MAAG,SAAS;AACV,WAAO,CAAC,CAAC,QAAQ,MAAM,aAAa;AAAA,EACtC,OACK;AACH,WAAO;AAAA,EACT;AACF;AAEA,SAAS,SAAS;AAChB,SAAO,IAAI,MAAM,sEAAsE;AACzF;AAEA,SAAS,IAAI,WAA6B,KAAa,OAAY;AACjE,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,aAAW,SAAS,IAAI,WAAW,SAAS,KAAK,CAAC;AAClD,aAAW,SAAS,EAAE,GAAG,IAAI;AAC/B;AAEA,SAAS,IAAI,WAA6B,KAAa;AACrD,MAAG,CAAC,QAAQ,GAAG;AACb,UAAM,OAAO;AAAA,EACf;AACA,MAAG,OAAO,UAAU,eAAe,KAAK,YAAY,SAAS,GAAG;AAC9D,WAAO,WAAW,SAAS,EAAE,GAAG;AAAA,EAClC;AACF;AAEA,MAAM,MAAM;AAAA,EACV;AAAA,EACA;AAAA,EACA;AACF;AAEC,OAAe,QAAQ;AACxB,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3fc52390a8e0125df8ac2b3d3c29ba103bd1c39"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return Qo=function(){return a},a}Qo();const OC=(Qo().s[0]++,{});function Ek(){Qo().f[0]++;const e=(Qo().s[1]++,new URL(window.location.href).searchParams),t=(Qo().s[2]++,e.get("debug"));return Qo().s[3]++,t?(Qo().b[0][0]++,Qo().s[4]++,!!t.match(/^(|1|true)$/)):(Qo().b[0][1]++,Qo().s[5]++,!1)}function HQ(){return Qo().f[1]++,Qo().s[6]++,new Error("Debug not enabled, enable by appending '?debug' to your query string")}function ETe(e,t,n){if(Qo().f[2]++,Qo().s[7]++,Ek())Qo().b[1][1]++;else throw Qo().b[1][0]++,Qo().s[8]++,HQ();Qo().s[9]++,OC[e]=(Qo().b[2][0]++,OC[e]||(Qo().b[2][1]++,{})),Qo().s[10]++,OC[e][t]=n}function OTe(e,t){if(Qo().f[3]++,Qo().s[11]++,Ek())Qo().b[3][1]++;else throw Qo().b[3][0]++,Qo().s[12]++,HQ();if(Qo().s[13]++,Object.prototype.hasOwnProperty.call(OC,e))return Qo().b[4][0]++,Qo().s[14]++,OC[e][t];Qo().b[4][1]++}const n1=(Qo().s[15]++,{enabled:Ek,get:OTe,set:ETe});Qo().s[16]++;window.debug=n1;function oe(){var e="/home/runner/work/maputnik/maputnik/src/components/App.tsx",t="638c5ca01e68ed337249e49de21b8e841810a0dc",n=globalThis,r="__coverage__",i={path:"/home/runner/work/maputnik/maputnik/src/components/App.tsx",statementMap:{0:{start:{line:36,column:0},end:{line:36,column:30}},1:{start:{line:38,column:27},end:{line:38,column:56}},2:{start:{line:39,column:2},end:{line:46,column:3}},3:{start:{line:40,column:24},end:{line:40,column:92}},4:{start:{line:41,column:4},end:{line:43,column:5}},5:{start:{line:42,column:6},end:{line:42,column:47}},6:{start:{line:45,column:4},end:{line:45,column:15}},7:{start:{line:49,column:2},end:{line:58,column:4}},8:{start:{line:64,column:15},end:{line:64,column:19}},9:{start:{line:66,column:4},end:{line:66,column:17}},10:{start:{line:67,column:4},end:{line:67,column:19}},11:{start:{line:68,column:4},end:{line:68,column:45}},12:{start:{line:69,column:19},end:{line:69,column:75}},13:{start:{line:70,column:15},end:{line:70,column:38}},14:{start:{line:71,column:4},end:{line:73,column:5}},15:{start:{line:72,column:6},end:{line:72,column:34}},16:{start:{line:74,column:4},end:{line:78,column:7}},17:{start:{line:75,column:40},end:{line:75,column:86}},18:{start:{line:79,column:22},end:{line:130,column:5}},19:{start:{line:83,column:10},end:{line:83,column:40}},20:{start:{line:89,column:10},end:{line:89,column:35}},21:{start:{line:95,column:10},end:{line:95,column:37}},22:{start:{line:101,column:10},end:{line:101,column:38}},23:{start:{line:107,column:10},end:{line:107,column:39}},24:{start:{line:113,column:10},end:{line:115,column:12}},25:{start:{line:121,column:10},end:{line:121,column:63}},26:{start:{line:127,column:10},end:{line:127,column:36}},27:{start:{line:131,column:4},end:{line:144,column:7}},28:{start:{line:132,column:6},end:{line:143,column:7}},29:{start:{line:133,column:8},end:{line:133,column:24}},30:{start:{line:134,column:8},end:{line:134,column:30}},31:{start:{line:135,column:13},end:{line:143,column:7}},32:{start:{line:136,column:25},end:{line:138,column:10}},33:{start:{line:137,column:10},end:{line:137,column:41}},34:{start:{line:139,column:8},end:{line:142,column:9}},35:{start:{line:140,column:10},end:{line:140,column:44}},36:{start:{line:141,column:10},end:{line:141,column:29}},37:{start:{line:145,column:21},end:{line:145,column:38}},38:{start:{line:146,column:4},end:{line:165,column:5}},39:{start:{line:147,column:6},end:{line:147,column:41}},40:{start:{line:148,column:6},end:{line:148,column:74}},41:{start:{line:148,column:43},end:{line:148,column:72}},42:{start:{line:149,column:6},end:{line:149,column:31}},43:{start:{line:151,column:6},end:{line:153,column:7}},44:{start:{line:152,column:8},end:{line:152,column:33}},45:{start:{line:154,column:6},end:{line:164,column:9}},46:{start:{line:155,column:8},end:{line:158,column:9}},47:{start:{line:156,column:10},end:{line:156,column:74}},48:{start:{line:157,column:10},end:{line:157,column:45}},49:{start:{line:159,column:8},end:{line:159,column:104}},50:{start:{line:159,column:50},end:{line:159,column:102}},51:{start:{line:160,column:8},end:{line:163,column:9}},52:{start:{line:161,column:10},end:{line:161,column:63}},53:{start:{line:162,column:10},end:{line:162,column:69}},54:{start:{line:166,column:4},end:{line:169,column:5}},55:{start:{line:167,column:6},end:{line:167,column:65}},56:{start:{line:168,column:6},end:{line:168,column:59}},57:{start:{line:170,column:4},end:{line:204,column:6}},58:{start:{line:205,column:4},end:{line:207,column:7}},59:{start:{line:206,column:35},end:{line:206,column:69}},60:{start:{line:209,column:19},end:{line:227,column:3}},61:{start:{line:210,column:4},end:{line:226,column:5}},62:{start:{line:211,column:6},end:{line:217,column:7}},63:{start:{line:212,column:8},end:{line:212,column:27}},64:{start:{line:213,column:8},end:{line:213,column:22}},65:{start:{line:214,column:13},end:{line:217,column:7}},66:{start:{line:215,column:8},end:{line:215,column:27}},67:{start:{line:216,column:8},end:{line:216,column:22}},68:{start:{line:219,column:6},end:{line:225,column:7}},69:{start:{line:220,column:8},end:{line:220,column:27}},70:{start:{line:221,column:8},end:{line:221,column:22}},71:{start:{line:222,column:13},end:{line:225,column:7}},72:{start:{line:223,column:8},end:{line:223,column:27}},73:{start:{line:224,column:8},end:{line:224,column:22}},74:{start:{line:229,column:4},end:{line:229,column:60}},75:{start:{line:232,column:4},end:{line:232,column:63}},76:{start:{line:235,column:4},end:{line:235,column:40}},77:{start:{line:238,column:21},end:{line:238,column:32}},78:{start:{line:239,column:4},end:{line:241,column:7}},79:{start:{line:240,column:6},end:{line:240,column:80}},80:{start:{line:244,column:4},end:{line:246,column:7}},81:{start:{line:245,column:6},end:{line:245,column:80}},82:{start:{line:248,column:29},end:{line:262,column:3}},83:{start:{line:249,column:4},end:{line:253,column:5}},84:{start:{line:250,column:6},end:{line:252,column:9}},85:{start:{line:254,column:25},end:{line:260,column:5}},86:{start:{line:261,column:4},end:{line:261,column:38}},87:{start:{line:263,column:19},end:{line:375,column:3}},88:{start:{line:264,column:4},end:{line:269,column:6}},89:{start:{line:270,column:4},end:{line:272,column:5}},90:{start:{line:271,column:6},end:{line:271,column:44}},91:{start:{line:273,column:19},end:{line:273,column:51}},92:{start:{line:274,column:24},end:{line:274,column:26}},93:{start:{line:275,column:4},end:{line:286,column:5}},94:{start:{line:276,column:26},end:{line:276,column:42}},95:{start:{line:277,column:6},end:{line:285,column:9}},96:{start:{line:278,column:8},end:{line:283,column:9}},97:{start:{line:279,column:24},end:{line:281,column:11}},98:{start:{line:282,column:10},end:{line:282,column:34}},99:{start:{line:284,column:8},end:{line:284,column:40}},100:{start:{line:287,column:25},end:{line:338,column:6}},101:{start:{line:288,column:23},end:{line:288,column:109}},102:{start:{line:289,column:6},end:{line:302,column:7}},103:{start:{line:290,column:35},end:{line:290,column:43}},104:{start:{line:291,column:8},end:{line:301,column:10}},105:{start:{line:303,column:33},end:{line:303,column:100}},106:{start:{line:304,column:6},end:{line:317,column:7}},107:{start:{line:305,column:35},end:{line:305,column:53}},108:{start:{line:306,column:8},end:{line:316,column:10}},109:{start:{line:318,column:25},end:{line:318,column:88}},110:{start:{line:319,column:6},end:{line:337,column:7}},111:{start:{line:320,column:52},end:{line:320,column:62}},112:{start:{line:321,column:20},end:{line:321,column:78}},113:{start:{line:322,column:8},end:{line:332,column:10}},114:{start:{line:334,column:8},end:{line:336,column:10}},115:{start:{line:339,column:24},end:{line:339,column:30}},116:{start:{line:340,column:4},end:{line:354,column:5}},117:{start:{line:341,column:6},end:{line:341,column:42}},118:{start:{line:342,column:6},end:{line:353,column:9}},119:{start:{line:343,column:28},end:{line:343,column:33}},120:{start:{line:344,column:8},end:{line:352,column:9}},121:{start:{line:345,column:10},end:{line:351,column:11}},122:{start:{line:346,column:28},end:{line:346,column:49}},123:{start:{line:347,column:30},end:{line:347,column:69}},124:{start:{line:348,column:12},end:{line:348,column:44}},125:{start:{line:350,column:12},end:{line:350,column:30}},126:{start:{line:355,column:4},end:{line:357,column:5}},127:{start:{line:356,column:6},end:{line:356,column:40}},128:{start:{line:358,column:4},end:{line:360,column:5}},129:{start:{line:359,column:6},end:{line:359,column:40}},130:{start:{line:361,column:4},end:{line:363,column:5}},131:{start:{line:362,column:6},end:{line:362,column:47}},132:{start:{line:364,column:4},end:{line:366,column:5}},133:{start:{line:365,column:6},end:{line:365,column:31}},134:{start:{line:367,column:4},end:{line:374,column:7}},135:{start:{line:372,column:6},end:{line:372,column:26}},136:{start:{line:373,column:6},end:{line:373,column:27}},137:{start:{line:376,column:11},end:{line:383,column:3}},138:{start:{line:377,column:24},end:{line:377,column:49}},139:{start:{line:378,column:21},end:{line:378,column:67}},140:{start:{line:379,column:4},end:{line:379,column:61}},141:{start:{line:380,column:4},end:{line:382,column:7}},142:{start:{line:384,column:11},end:{line:391,column:3}},143:{start:{line:385,column:24},end:{line:385,column:49}},144:{start:{line:386,column:21},end:{line:386,column:67}},145:{start:{line:387,column:4},end:{line:387,column:61}},146:{start:{line:388,column:4},end:{line:390,column:7}},147:{start:{line:392,column:16},end:{line:407,column:3}},148:{start:{line:393,column:33},end:{line:393,column:37}},149:{start:{line:394,column:17},end:{line:394,column:43}},150:{start:{line:395,column:4},end:{line:395,column:53}},151:{start:{line:396,column:4},end:{line:396,column:53}},152:{start:{line:397,column:4},end:{line:398,column:13}},153:{start:{line:398,column:6},end:{line:398,column:13}},154:{start:{line:399,column:4},end:{line:403,column:5}},155:{start:{line:400,column:6},end:{line:402,column:9}},156:{start:{line:404,column:4},end:{line:404,column:29}},157:{start:{line:405,column:4},end:{line:405,column:49}},158:{start:{line:406,column:4},end:{line:406,column:32}},159:{start:{line:408,column:19},end:{line:414,column:3}},160:{start:{line:409,column:25},end:{line:412,column:5}},161:{start:{line:413,column:4},end:{line:413,column:38}},162:{start:{line:415,column:19},end:{line:420,column:3}},163:{start:{line:416,column:19},end:{line:416,column:45}},164:{start:{line:417,column:28},end:{line:417,column:43}},165:{start:{line:418,column:4},end:{line:418,column:37}},166:{start:{line:419,column:4},end:{line:419,column:41}},167:{start:{line:421,column:16},end:{line:428,column:3}},168:{start:{line:422,column:19},end:{line:422,column:45}},169:{start:{line:423,column:26},end:{line:423,column:41}},170:{start:{line:424,column:24},end:{line:424,column:55}},171:{start:{line:425,column:4},end:{line:425,column:46}},172:{start:{line:426,column:4},end:{line:426,column:48}},173:{start:{line:427,column:4},end:{line:427,column:39}},174:{start:{line:429,column:28},end:{line:438,column:3}},175:{start:{line:430,column:19},end:{line:430,column:45}},176:{start:{line:431,column:26},end:{line:431,column:41}},177:{start:{line:432,column:18},end:{line:432,column:45}},178:{start:{line:433,column:26},end:{line:433,column:70}},179:{start:{line:434,column:4},end:{line:434,column:88}},180:{start:{line:435,column:4},end:{line:435,column:33}},181:{start:{line:436,column:4},end:{line:436,column:33}},182:{start:{line:437,column:4},end:{line:437,column:39}},183:{start:{line:439,column:20},end:{line:446,column:3}},184:{start:{line:440,column:26},end:{line:440,column:61}},185:{start:{line:441,column:4},end:{line:444,column:6}},186:{start:{line:445,column:4},end:{line:445,column:39}},187:{start:{line:447,column:19},end:{line:451,column:3}},188:{start:{line:448,column:26},end:{line:448,column:61}},189:{start:{line:449,column:4},end:{line:449,column:33}},190:{start:{line:450,column:4},end:{line:450,column:39}},191:{start:{line:452,column:16},end:{line:456,column:3}},192:{start:{line:453,column:4},end:{line:455,column:27}},193:{start:{line:457,column:21},end:{line:471,column:3}},194:{start:{line:458,column:21},end:{line:458,column:44}},195:{start:{line:459,column:4},end:{line:470,column:5}},196:{start:{line:460,column:27},end:{line:466,column:7}},197:{start:{line:467,column:6},end:{line:467,column:26}},198:{start:{line:469,column:6},end:{line:469,column:22}},199:{start:{line:472,column:14},end:{line:475,column:3}},200:{start:{line:473,column:4},end:{line:473,column:47}},201:{start:{line:474,column:4},end:{line:474,column:34}},202:{start:{line:477,column:23},end:{line:477,column:25}},203:{start:{line:478,column:4},end:{line:512,column:5}},204:{start:{line:479,column:6},end:{line:511,column:7}},205:{start:{line:480,column:8},end:{line:483,column:10}},206:{start:{line:484,column:18},end:{line:484,column:25}},207:{start:{line:485,column:8},end:{line:489,column:9}},208:{start:{line:486,column:10},end:{line:486,column:62}},209:{start:{line:488,column:10},end:{line:488,column:63}},210:{start:{line:490,column:8},end:{line:508,column:11}},211:{start:{line:492,column:30},end:{line:492,column:45}},212:{start:{line:493,column:10},end:{line:495,column:11}},213:{start:{line:494,column:12},end:{line:494,column:19}},214:{start:{line:496,column:26},end:{line:498,column:12}},215:{start:{line:499,column:10},end:{line:501,column:11}},216:{start:{line:500,column:12},end:{line:500,column:47}},217:{start:{line:502,column:10},end:{line:502,column:51}},218:{start:{line:503,column:10},end:{line:505,column:13}},219:{start:{line:507,column:10},end:{line:507,column:72}},220:{start:{line:510,column:8},end:{line:510,column:86}},221:{start:{line:513,column:4},end:{line:518,column:5}},222:{start:{line:514,column:6},end:{line:514,column:39}},223:{start:{line:515,column:6},end:{line:517,column:9}},224:{start:{line:521,column:21},end:{line:521,column:55}},225:{start:{line:522,column:4},end:{line:522,column:53}},226:{start:{line:524,column:16},end:{line:528,column:3}},227:{start:{line:525,column:4},end:{line:527,column:7}},228:{start:{line:530,column:40},end:{line:530,column:50}},229:{start:{line:531,column:21},end:{line:542,column:5}},230:{start:{line:534,column:8},end:{line:536,column:11}},231:{start:{line:539,column:8},end:{line:539,column:44}},232:{start:{line:540,column:8},end:{line:540,column:28}},233:{start:{line:543,column:21},end:{line:543,column:40}},234:{start:{line:545,column:4},end:{line:567,column:5}},235:{start:{line:546,column:6},end:{line:554,column:8}},236:{start:{line:556,column:6},end:{line:566,column:8}},237:{start:{line:569,column:4},end:{line:571,column:5}},238:{start:{line:570,column:6},end:{line:570,column:63}},239:{start:{line:572,column:25},end:{line:572,column:27}},240:{start:{line:573,column:4},end:{line:575,column:5}},241:{start:{line:574,column:6},end:{line:574,column:52}},242:{start:{line:576,column:4},end:{line:576,column:160}},243:{start:{line:578,column:18},end:{line:596,column:3}},244:{start:{line:579,column:43},end:{line:579,column:53}},245:{start:{line:580,column:35},end:{line:580,column:45}},246:{start:{line:581,column:16},end:{line:581,column:38}},247:{start:{line:582,column:20},end:{line:582,column:50}},248:{start:{line:583,column:4},end:{line:583,column:70}},249:{start:{line:584,column:23},end:{line:584,column:122}},250:{start:{line:584,column:66},end:{line:584,column:91}},251:{start:{line:584,column:109},end:{line:584,column:121}},252:{start:{line:585,column:4},end:{line:589,column:5}},253:{start:{line:586,column:6},end:{line:586,column:58}},254:{start:{line:588,column:6},end:{line:588,column:39}},255:{start:{line:590,column:4},end:{line:594,column:5}},256:{start:{line:591,column:6},end:{line:591,column:38}},257:{start:{line:592,column:11},end:{line:594,column:5}},258:{start:{line:593,column:6},end:{line:593,column:46}},259:{start:{line:595,column:4},end:{line:595,column:71}},260:{start:{line:597,column:27},end:{line:642,column:3}},261:{start:{line:598,column:16},end:{line:598,column:38}},262:{start:{line:599,column:23},end:{line:599,column:52}},263:{start:{line:600,column:4},end:{line:612,column:5}},264:{start:{line:601,column:21},end:{line:601,column:42}},265:{start:{line:602,column:23},end:{line:602,column:25}},266:{start:{line:603,column:6},end:{line:605,column:9}},267:{start:{line:604,column:8},end:{line:604,column:35}},268:{start:{line:606,column:6},end:{line:611,column:9}},269:{start:{line:613,column:17},end:{line:613,column:45}},270:{start:{line:614,column:4},end:{line:616,column:5}},271:{start:{line:615,column:6},end:{line:615,column:29}},272:{start:{line:617,column:17},end:{line:617,column:46}},273:{start:{line:618,column:4},end:{line:641,column:5}},274:{start:{line:619,column:6},end:{line:640,column:7}},275:{start:{line:620,column:22},end:{line:620,column:37}},276:{start:{line:621,column:46},end:{line:624,column:9}},277:{start:{line:625,column:20},end:{line:625,column:24}},278:{start:{line:626,column:8},end:{line:631,column:9}},279:{start:{line:627,column:33},end:{line:627,column:63}},280:{start:{line:628,column:10},end:{line:630,column:11}},281:{start:{line:629,column:12},end:{line:629,column:26}},282:{start:{line:632,column:8},end:{line:637,column:9}},283:{start:{line:633,column:10},end:{line:636,column:13}},284:{start:{line:639,column:8},end:{line:639,column:26}},285:{start:{line:643,column:18},end:{line:648,column:3}},286:{start:{line:644,column:4},end:{line:647,column:27}},287:{start:{line:650,column:4},end:{line:652,column:5}},288:{start:{line:651,column:6},end:{line:651,column:41}},289:{start:{line:653,column:4},end:{line:658,column:27}},290:{start:{line:661,column:4},end:{line:661,column:60}},291:{start:{line:663,column:28},end:{line:670,column:3}},292:{start:{line:664,column:4},end:{line:669,column:7}},293:{start:{line:671,column:28},end:{line:678,column:3}},294:{start:{line:672,column:4},end:{line:677,column:7}},295:{start:{line:680,column:19},end:{line:680,column:51}},296:{start:{line:681,column:26},end:{line:681,column:92}},297:{start:{line:682,column:36},end:{line:695,column:5}},298:{start:{line:696,column:38},end:{line:710,column:5}},299:{start:{line:711,column:24},end:{line:730,column:14}},300:{start:{line:731,column:24},end:{line:741,column:14}},301:{start:{line:742,column:35},end:{line:807,column:8}},302:{start:{line:759,column:23},end:{line:759,column:43}},303:{start:{line:808,column:4},end:{line:818,column:6}}},fnMap:{0:{name:"setFetchAccessToken",decl:{start:{line:37,column:9},end:{line:37,column:28}},loc:{start:{line:37,column:44},end:{line:47,column:1}},line:37},1:{name:"updateRootSpec",decl:{start:{line:48,column:9},end:{line:48,column:23}},loc:{start:{line:48,column:52},end:{line:59,column:1}},line:48},2:{name:"(anonymous_2)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:21},end:{line:208,column:3}},line:65},3:{name:"(anonymous_3)",decl:{start:{line:75,column:26},end:{line:75,column:27}},loc:{start:{line:75,column:40},end:{line:75,column:86}},line:75},4:{name:"(anonymous_4)",decl:{start:{line:82,column:17},end:{line:82,column:18}},loc:{start:{line:82,column:23},end:{line:84,column:9}},line:82},5:{name:"(anonymous_5)",decl:{start:{line:88,column:17},end:{line:88,column:18}},loc:{start:{line:88,column:23},end:{line:90,column:9}},line:88},6:{name:"(anonymous_6)",decl:{start:{line:94,column:17},end:{line:94,column:18}},loc:{start:{line:94,column:23},end:{line:96,column:9}},line:94},7:{name:"(anonymous_7)",decl:{start:{line:100,column:17},end:{line:100,column:18}},loc:{start:{line:100,column:23},end:{line:102,column:9}},line:100},8:{name:"(anonymous_8)",decl:{start:{line:106,column:17},end:{line:106,column:18}},loc:{start:{line:106,column:23},end:{line:108,column:9}},line:106},9:{name:"(anonymous_9)",decl:{start:{line:112,column:17},end:{line:112,column:18}},loc:{start:{line:112,column:23},end:{line:116,column:9}},line:112},10:{name:"(anonymous_10)",decl:{start:{line:120,column:17},end:{line:120,column:18}},loc:{start:{line:120,column:23},end:{line:122,column:9}},line:120},11:{name:"(anonymous_11)",decl:{start:{line:126,column:17},end:{line:126,column:18}},loc:{start:{line:126,column:23},end:{line:128,column:9}},line:126},12:{name:"(anonymous_12)",decl:{start:{line:131,column:44},end:{line:131,column:45}},loc:{start:{line:131,column:51},end:{line:144,column:5}},line:131},13:{name:"(anonymous_13)",decl:{start:{line:136,column:40},end:{line:136,column:41}},loc:{start:{line:136,column:55},end:{line:138,column:9}},line:136},14:{name:"(anonymous_14)",decl:{start:{line:148,column:29},end:{line:148,column:30}},loc:{start:{line:148,column:43},end:{line:148,column:72}},line:148},15:{name:"(anonymous_15)",decl:{start:{line:154,column:27},end:{line:154,column:28}},loc:{start:{line:154,column:36},end:{line:164,column:7}},line:154},16:{name:"(anonymous_16)",decl:{start:{line:159,column:36},end:{line:159,column:37}},loc:{start:{line:159,column:50},end:{line:159,column:102}},line:159},17:{name:"(anonymous_17)",decl:{start:{line:206,column:28},end:{line:206,column:29}},loc:{start:{line:206,column:35},end:{line:206,column:69}},line:206},18:{name:"(anonymous_18)",decl:{start:{line:209,column:19},end:{line:209,column:20}},loc:{start:{line:209,column:26},end:{line:227,column:3}},line:209},19:{name:"(anonymous_19)",decl:{start:{line:228,column:2},end:{line:228,column:3}},loc:{start:{line:228,column:22},end:{line:230,column:3}},line:228},20:{name:"(anonymous_20)",decl:{start:{line:231,column:2},end:{line:231,column:3}},loc:{start:{line:231,column:25},end:{line:233,column:3}},line:231},21:{name:"(anonymous_21)",decl:{start:{line:234,column:2},end:{line:234,column:3}},loc:{start:{line:234,column:27},end:{line:236,column:3}},line:234},22:{name:"(anonymous_22)",decl:{start:{line:237,column:2},end:{line:237,column:3}},loc:{start:{line:237,column:27},end:{line:242,column:3}},line:237},23:{name:"(anonymous_23)",decl:{start:{line:239,column:37},end:{line:239,column:38}},loc:{start:{line:239,column:48},end:{line:241,column:5}},line:239},24:{name:"(anonymous_24)",decl:{start:{line:243,column:2},end:{line:243,column:3}},loc:{start:{line:243,column:23},end:{line:247,column:3}},line:243},25:{name:"(anonymous_25)",decl:{start:{line:244,column:36},end:{line:244,column:37}},loc:{start:{line:244,column:47},end:{line:246,column:5}},line:244},26:{name:"(anonymous_26)",decl:{start:{line:248,column:29},end:{line:248,column:30}},loc:{start:{line:248,column:50},end:{line:262,column:3}},line:248},27:{name:"(anonymous_27)",decl:{start:{line:263,column:19},end:{line:263,column:20}},loc:{start:{line:263,column:44},end:{line:375,column:3}},line:263},28:{name:"(anonymous_28)",decl:{start:{line:277,column:30},end:{line:277,column:31}},loc:{start:{line:277,column:48},end:{line:285,column:7}},line:277},29:{name:"(anonymous_29)",decl:{start:{line:287,column:56},end:{line:287,column:57}},loc:{start:{line:287,column:67},end:{line:338,column:5}},line:287},30:{name:"(anonymous_30)",decl:{start:{line:342,column:21},end:{line:342,column:22}},loc:{start:{line:342,column:32},end:{line:353,column:7}},line:342},31:{name:"(anonymous_31)",decl:{start:{line:371,column:7},end:{line:371,column:8}},loc:{start:{line:371,column:13},end:{line:374,column:5}},line:371},32:{name:"(anonymous_32)",decl:{start:{line:376,column:11},end:{line:376,column:12}},loc:{start:{line:376,column:17},end:{line:383,column:3}},line:376},33:{name:"(anonymous_33)",decl:{start:{line:384,column:11},end:{line:384,column:12}},loc:{start:{line:384,column:17},end:{line:391,column:3}},line:384},34:{name:"(anonymous_34)",decl:{start:{line:392,column:16},end:{line:392,column:17}},loc:{start:{line:392,column:26},end:{line:407,column:3}},line:392},35:{name:"(anonymous_35)",decl:{start:{line:408,column:19},end:{line:408,column:20}},loc:{start:{line:408,column:38},end:{line:414,column:3}},line:408},36:{name:"(anonymous_36)",decl:{start:{line:415,column:19},end:{line:415,column:20}},loc:{start:{line:415,column:30},end:{line:420,column:3}},line:415},37:{name:"(anonymous_37)",decl:{start:{line:421,column:16},end:{line:421,column:17}},loc:{start:{line:421,column:27},end:{line:428,column:3}},line:421},38:{name:"(anonymous_38)",decl:{start:{line:429,column:28},end:{line:429,column:29}},loc:{start:{line:429,column:39},end:{line:438,column:3}},line:429},39:{name:"(anonymous_39)",decl:{start:{line:439,column:20},end:{line:439,column:21}},loc:{start:{line:439,column:46},end:{line:446,column:3}},line:439},40:{name:"(anonymous_40)",decl:{start:{line:447,column:19},end:{line:447,column:20}},loc:{start:{line:447,column:37},end:{line:451,column:3}},line:447},41:{name:"(anonymous_41)",decl:{start:{line:452,column:16},end:{line:452,column:17}},loc:{start:{line:452,column:30},end:{line:456,column:3}},line:452},42:{name:"(anonymous_42)",decl:{start:{line:457,column:21},end:{line:457,column:22}},loc:{start:{line:457,column:35},end:{line:471,column:3}},line:457},43:{name:"(anonymous_43)",decl:{start:{line:472,column:14},end:{line:472,column:15}},loc:{start:{line:472,column:28},end:{line:475,column:3}},line:472},44:{name:"(anonymous_44)",decl:{start:{line:476,column:2},end:{line:476,column:3}},loc:{start:{line:476,column:17},end:{line:519,column:3}},line:476},45:{name:"(anonymous_45)",decl:{start:{line:492,column:16},end:{line:492,column:17}},loc:{start:{line:492,column:30},end:{line:492,column:45}},line:492},46:{name:"(anonymous_46)",decl:{start:{line:492,column:52},end:{line:492,column:53}},loc:{start:{line:492,column:62},end:{line:506,column:9}},line:492},47:{name:"(anonymous_47)",decl:{start:{line:506,column:17},end:{line:506,column:18}},loc:{start:{line:506,column:26},end:{line:508,column:9}},line:506},48:{name:"(anonymous_48)",decl:{start:{line:520,column:2},end:{line:520,column:3}},loc:{start:{line:520,column:17},end:{line:523,column:3}},line:520},49:{name:"(anonymous_49)",decl:{start:{line:524,column:16},end:{line:524,column:17}},loc:{start:{line:524,column:29},end:{line:528,column:3}},line:524},50:{name:"(anonymous_50)",decl:{start:{line:529,column:2},end:{line:529,column:3}},loc:{start:{line:529,column:16},end:{line:577,column:3}},line:529},51:{name:"(anonymous_51)",decl:{start:{line:533,column:27},end:{line:533,column:28}},loc:{start:{line:533,column:42},end:{line:537,column:7}},line:533},52:{name:"(anonymous_52)",decl:{start:{line:538,column:20},end:{line:538,column:21}},loc:{start:{line:538,column:27},end:{line:541,column:7}},line:538},53:{name:"(anonymous_53)",decl:{start:{line:578,column:18},end:{line:578,column:19}},loc:{start:{line:578,column:24},end:{line:596,column:3}},line:578},54:{name:"(anonymous_54)",decl:{start:{line:584,column:50},end:{line:584,column:51}},loc:{start:{line:584,column:66},end:{line:584,column:91}},line:584},55:{name:"(anonymous_55)",decl:{start:{line:584,column:100},end:{line:584,column:101}},loc:{start:{line:584,column:109},end:{line:584,column:121}},line:584},56:{name:"(anonymous_56)",decl:{start:{line:597,column:27},end:{line:597,column:28}},loc:{start:{line:597,column:41},end:{line:642,column:3}},line:597},57:{name:"(anonymous_57)",decl:{start:{line:603,column:21},end:{line:603,column:22}},loc:{start:{line:603,column:36},end:{line:605,column:7}},line:603},58:{name:"(anonymous_58)",decl:{start:{line:643,column:18},end:{line:643,column:19}},loc:{start:{line:643,column:29},end:{line:648,column:3}},line:643},59:{name:"(anonymous_59)",decl:{start:{line:649,column:2},end:{line:649,column:3}},loc:{start:{line:649,column:29},end:{line:659,column:3}},line:649},60:{name:"(anonymous_60)",decl:{start:{line:660,column:2},end:{line:660,column:3}},loc:{start:{line:660,column:25},end:{line:662,column:3}},line:660},61:{name:"(anonymous_61)",decl:{start:{line:663,column:28},end:{line:663,column:29}},loc:{start:{line:663,column:44},end:{line:670,column:3}},line:663},62:{name:"(anonymous_62)",decl:{start:{line:671,column:28},end:{line:671,column:29}},loc:{start:{line:671,column:44},end:{line:678,column:3}},line:671},63:{name:"(anonymous_63)",decl:{start:{line:679,column:2},end:{line:679,column:3}},loc:{start:{line:679,column:11},end:{line:819,column:3}},line:679},64:{name:"(anonymous_64)",decl:{start:{line:759,column:15},end:{line:759,column:16}},loc:{start:{line:759,column:23},end:{line:759,column:43}},line:759}},branchMap:{0:{loc:{start:{line:39,column:2},end:{line:46,column:3}},type:"if",locations:[{start:{line:39,column:2},end:{line:46,column:3}},{start:{line:44,column:9},end:{line:46,column:3}}],line:39},1:{loc:{start:{line:41,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:43,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},2:{loc:{start:{line:71,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:73,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},3:{loc:{start:{line:71,column:8},end:{line:71,column:89}},type:"binary-expr",locations:[{start:{line:71,column:8},end:{line:71,column:20}},{start:{line:71,column:25},end:{line:71,column:54}},{start:{line:71,column:58},end:{line:71,column:88}}],line:71},4:{loc:{start:{line:114,column:12},end:{line:114,column:61}},type:"cond-expr",locations:[{start:{line:114,column:44},end:{line:114,column:53}},{start:{line:114,column:56},end:{line:114,column:61}}],line:114},5:{loc:{start:{line:132,column:6},end:{line:143,column:7}},type:"if",locations:[{start:{line:132,column:6},end:{line:143,column:7}},{start:{line:135,column:13},end:{line:143,column:7}}],line:132},6:{loc:{start:{line:135,column:13},end:{line:143,column:7}},type:"if",locations:[{start:{line:135,column:13},end:{line:143,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:135},7:{loc:{start:{line:135,column:17},end:{line:135,column:88}},type:"binary-expr",locations:[{start:{line:135,column:17},end:{line:135,column:44}},{start:{line:135,column:48},end:{line:135,column:88}}],line:135},8:{loc:{start:{line:139,column:8},end:{line:142,column:9}},type:"if",locations:[{start:{line:139,column:8},end:{line:142,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:139},9:{loc:{start:{line:146,column:4},end:{line:165,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:165,column:5}},{start:{line:150,column:11},end:{line:165,column:5}}],line:146},10:{loc:{start:{line:146,column:8},end:{line:146,column:104}},type:"binary-expr",locations:[{start:{line:146,column:8},end:{line:146,column:16}},{start:{line:146,column:20},end:{line:146,column:104}}],line:146},11:{loc:{start:{line:151,column:6},end:{line:153,column:7}},type:"if",locations:[{start:{line:151,column:6},end:{line:153,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:151},12:{loc:{start:{line:155,column:8},end:{line:158,column:9}},type:"if",locations:[{start:{line:155,column:8},end:{line:158,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:155},13:{loc:{start:{line:160,column:8},end:{line:163,column:9}},type:"if",locations:[{start:{line:160,column:8},end:{line:163,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:160},14:{loc:{start:{line:166,column:4},end:{line:169,column:5}},type:"if",locations:[{start:{line:166,column:4},end:{line:169,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:166},15:{loc:{start:{line:210,column:4},end:{line:226,column:5}},type:"if",locations:[{start:{line:210,column:4},end:{line:226,column:5}},{start:{line:218,column:11},end:{line:226,column:5}}],line:210},16:{loc:{start:{line:211,column:6},end:{line:217,column:7}},type:"if",locations:[{start:{line:211,column:6},end:{line:217,column:7}},{start:{line:214,column:13},end:{line:217,column:7}}],line:211},17:{loc:{start:{line:211,column:10},end:{line:211,column:53}},type:"binary-expr",locations:[{start:{line:211,column:10},end:{line:211,column:19}},{start:{line:211,column:23},end:{line:211,column:33}},{start:{line:211,column:37},end:{line:211,column:53}}],line:211},18:{loc:{start:{line:214,column:13},end:{line:217,column:7}},type:"if",locations:[{start:{line:214,column:13},end:{line:217,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:214},19:{loc:{start:{line:214,column:17},end:{line:214,column:46}},type:"binary-expr",locations:[{start:{line:214,column:17},end:{line:214,column:26}},{start:{line:214,column:30},end:{line:214,column:46}}],line:214},20:{loc:{start:{line:219,column:6},end:{line:225,column:7}},type:"if",locations:[{start:{line:219,column:6},end:{line:225,column:7}},{start:{line:222,column:13},end:{line:225,column:7}}],line:219},21:{loc:{start:{line:219,column:10},end:{line:219,column:39}},type:"binary-expr",locations:[{start:{line:219,column:10},end:{line:219,column:19}},{start:{line:219,column:23},end:{line:219,column:39}}],line:219},22:{loc:{start:{line:222,column:13},end:{line:225,column:7}},type:"if",locations:[{start:{line:222,column:13},end:{line:225,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:222},23:{loc:{start:{line:222,column:17},end:{line:222,column:46}},type:"binary-expr",locations:[{start:{line:222,column:17},end:{line:222,column:26}},{start:{line:222,column:30},end:{line:222,column:46}}],line:222},24:{loc:{start:{line:249,column:4},end:{line:253,column:5}},type:"if",locations:[{start:{line:249,column:4},end:{line:253,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:249},25:{loc:{start:{line:249,column:8},end:{line:249,column:123}},type:"binary-expr",locations:[{start:{line:249,column:8},end:{line:249,column:40}},{start:{line:249,column:44},end:{line:249,column:123}}],line:249},26:{loc:{start:{line:263,column:30},end:{line:263,column:39}},type:"default-arg",locations:[{start:{line:263,column:37},end:{line:263,column:39}}],line:263},27:{loc:{start:{line:270,column:4},end:{line:272,column:5}},type:"if",locations:[{start:{line:270,column:4},end:{line:272,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:270},28:{loc:{start:{line:273,column:19},end:{line:273,column:51}},type:"binary-expr",locations:[{start:{line:273,column:19},end:{line:273,column:45}},{start:{line:273,column:49},end:{line:273,column:51}}],line:273},29:{loc:{start:{line:275,column:4},end:{line:286,column:5}},type:"if",locations:[{start:{line:275,column:4},end:{line:286,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:275},30:{loc:{start:{line:275,column:8},end:{line:275,column:35}},type:"binary-expr",locations:[{start:{line:275,column:8},end:{line:275,column:16}},{start:{line:275,column:20},end:{line:275,column:35}}],line:275},31:{loc:{start:{line:278,column:8},end:{line:283,column:9}},type:"if",locations:[{start:{line:278,column:8},end:{line:283,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:278},32:{loc:{start:{line:278,column:12},end:{line:278,column:56}},type:"binary-expr",locations:[{start:{line:278,column:12},end:{line:278,column:27}},{start:{line:278,column:31},end:{line:278,column:56}}],line:278},33:{loc:{start:{line:289,column:6},end:{line:302,column:7}},type:"if",locations:[{start:{line:289,column:6},end:{line:302,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:289},34:{loc:{start:{line:304,column:6},end:{line:317,column:7}},type:"if",locations:[{start:{line:304,column:6},end:{line:317,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:304},35:{loc:{start:{line:319,column:6},end:{line:337,column:7}},type:"if",locations:[{start:{line:319,column:6},end:{line:337,column:7}},{start:{line:333,column:13},end:{line:337,column:7}}],line:319},36:{loc:{start:{line:321,column:20},end:{line:321,column:78}},type:"cond-expr",locations:[{start:{line:321,column:40},end:{line:321,column:67}},{start:{line:321,column:70},end:{line:321,column:78}}],line:321},37:{loc:{start:{line:321,column:20},end:{line:321,column:37}},type:"binary-expr",locations:[{start:{line:321,column:20},end:{line:321,column:25}},{start:{line:321,column:29},end:{line:321,column:37}}],line:321},38:{loc:{start:{line:340,column:4},end:{line:354,column:5}},type:"if",locations:[{start:{line:340,column:4},end:{line:354,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:340},39:{loc:{start:{line:344,column:8},end:{line:352,column:9}},type:"if",locations:[{start:{line:344,column:8},end:{line:352,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:344},40:{loc:{start:{line:355,column:4},end:{line:357,column:5}},type:"if",locations:[{start:{line:355,column:4},end:{line:357,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:355},41:{loc:{start:{line:358,column:4},end:{line:360,column:5}},type:"if",locations:[{start:{line:358,column:4},end:{line:360,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:358},42:{loc:{start:{line:361,column:4},end:{line:363,column:5}},type:"if",locations:[{start:{line:361,column:4},end:{line:363,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:361},43:{loc:{start:{line:364,column:4},end:{line:366,column:5}},type:"if",locations:[{start:{line:364,column:4},end:{line:366,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:364},44:{loc:{start:{line:397,column:4},end:{line:398,column:13}},type:"if",locations:[{start:{line:397,column:4},end:{line:398,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:397},45:{loc:{start:{line:399,column:4},end:{line:403,column:5}},type:"if",locations:[{start:{line:399,column:4},end:{line:403,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:399},46:{loc:{start:{line:433,column:26},end:{line:433,column:70}},type:"cond-expr",locations:[{start:{line:433,column:46},end:{line:433,column:65}},{start:{line:433,column:68},end:{line:433,column:70}}],line:433},47:{loc:{start:{line:434,column:31},end:{line:434,column:87}},type:"cond-expr",locations:[{start:{line:434,column:69},end:{line:434,column:78}},{start:{line:434,column:81},end:{line:434,column:87}}],line:434},48:{loc:{start:{line:458,column:21},end:{line:458,column:44}},type:"binary-expr",locations:[{start:{line:458,column:21},end:{line:458,column:38}},{start:{line:458,column:42},end:{line:458,column:44}}],line:458},49:{loc:{start:{line:459,column:4},end:{line:470,column:5}},type:"if",locations:[{start:{line:459,column:4},end:{line:470,column:5}},{start:{line:468,column:11},end:{line:470,column:5}}],line:459},50:{loc:{start:{line:479,column:6},end:{line:511,column:7}},type:"if",locations:[{start:{line:479,column:6},end:{line:511,column:7}},{start:{line:509,column:13},end:{line:511,column:7}}],line:479},51:{loc:{start:{line:479,column:10},end:{line:479,column:149}},type:"binary-expr",locations:[{start:{line:479,column:10},end:{line:479,column:72}},{start:{line:479,column:76},end:{line:479,column:97}},{start:{line:479,column:101},end:{line:479,column:149}}],line:479},52:{loc:{start:{line:493,column:10},end:{line:495,column:11}},type:"if",locations:[{start:{line:493,column:10},end:{line:495,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:493},53:{loc:{start:{line:510,column:26},end:{line:510,column:85}},type:"binary-expr",locations:[{start:{line:510,column:26},end:{line:510,column:49}},{start:{line:510,column:53},end:{line:510,column:85}}],line:510},54:{loc:{start:{line:513,column:4},end:{line:518,column:5}},type:"if",locations:[{start:{line:513,column:4},end:{line:518,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:513},55:{loc:{start:{line:521,column:21},end:{line:521,column:55}},type:"binary-expr",locations:[{start:{line:521,column:21},end:{line:521,column:49}},{start:{line:521,column:53},end:{line:521,column:55}}],line:521},56:{loc:{start:{line:522,column:11},end:{line:522,column:52}},type:"binary-expr",locations:[{start:{line:522,column:11},end:{line:522,column:40}},{start:{line:522,column:44},end:{line:522,column:52}}],line:522},57:{loc:{start:{line:532,column:16},end:{line:532,column:41}},type:"binary-expr",locations:[{start:{line:532,column:16},end:{line:532,column:29}},{start:{line:532,column:33},end:{line:532,column:41}}],line:532},58:{loc:{start:{line:545,column:4},end:{line:567,column:5}},type:"if",locations:[{start:{line:545,column:4},end:{line:567,column:5}},{start:{line:555,column:11},end:{line:567,column:5}}],line:545},59:{loc:{start:{line:569,column:4},end:{line:571,column:5}},type:"if",locations:[{start:{line:569,column:4},end:{line:571,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:569},60:{loc:{start:{line:573,column:4},end:{line:575,column:5}},type:"if",locations:[{start:{line:573,column:4},end:{line:575,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:573},61:{loc:{start:{line:584,column:66},end:{line:584,column:91}},type:"cond-expr",locations:[{start:{line:584,column:81},end:{line:584,column:84}},{start:{line:584,column:87},end:{line:584,column:91}}],line:584},62:{loc:{start:{line:585,column:4},end:{line:589,column:5}},type:"if",locations:[{start:{line:585,column:4},end:{line:589,column:5}},{start:{line:587,column:11},end:{line:589,column:5}}],line:585},63:{loc:{start:{line:590,column:4},end:{line:594,column:5}},type:"if",locations:[{start:{line:590,column:4},end:{line:594,column:5}},{start:{line:592,column:11},end:{line:594,column:5}}],line:590},64:{loc:{start:{line:592,column:11},end:{line:594,column:5}},type:"if",locations:[{start:{line:592,column:11},end:{line:594,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:592},65:{loc:{start:{line:600,column:4},end:{line:612,column:5}},type:"if",locations:[{start:{line:600,column:4},end:{line:612,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:600},66:{loc:{start:{line:600,column:8},end:{line:600,column:39}},type:"binary-expr",locations:[{start:{line:600,column:8},end:{line:600,column:18}},{start:{line:600,column:22},end:{line:600,column:39}}],line:600},67:{loc:{start:{line:614,column:4},end:{line:616,column:5}},type:"if",locations:[{start:{line:614,column:4},end:{line:616,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:614},68:{loc:{start:{line:614,column:8},end:{line:614,column:27}},type:"binary-expr",locations:[{start:{line:614,column:8},end:{line:614,column:12}},{start:{line:614,column:16},end:{line:614,column:27}}],line:614},69:{loc:{start:{line:618,column:4},end:{line:641,column:5}},type:"if",locations:[{start:{line:618,column:4},end:{line:641,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:618},70:{loc:{start:{line:626,column:8},end:{line:631,column:9}},type:"if",locations:[{start:{line:626,column:8},end:{line:631,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:626},71:{loc:{start:{line:628,column:10},end:{line:630,column:11}},type:"if",locations:[{start:{line:628,column:10},end:{line:630,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:628},72:{loc:{start:{line:632,column:8},end:{line:637,column:9}},type:"if",locations:[{start:{line:632,column:8},end:{line:637,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:632},73:{loc:{start:{line:650,column:4},end:{line:652,column:5}},type:"if",locations:[{start:{line:650,column:4},end:{line:652,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:650},74:{loc:{start:{line:650,column:8},end:{line:650,column:49}},type:"binary-expr",locations:[{start:{line:650,column:8},end:{line:650,column:30}},{start:{line:650,column:34},end:{line:650,column:49}}],line:650},75:{loc:{start:{line:680,column:19},end:{line:680,column:51}},type:"binary-expr",locations:[{start:{line:680,column:19},end:{line:680,column:45}},{start:{line:680,column:49},end:{line:680,column:51}}],line:680},76:{loc:{start:{line:681,column:26},end:{line:681,column:92}},type:"cond-expr",locations:[{start:{line:681,column:46},end:{line:681,column:83}},{start:{line:681,column:86},end:{line:681,column:92}}],line:681},77:{loc:{start:{line:711,column:24},end:{line:730,column:14}},type:"cond-expr",locations:[{start:{line:711,column:56},end:{line:730,column:5}},{start:{line:730,column:8},end:{line:730,column:14}}],line:711},78:{loc:{start:{line:731,column:24},end:{line:741,column:14}},type:"cond-expr",locations:[{start:{line:731,column:97},end:{line:741,column:5}},{start:{line:741,column:8},end:{line:741,column:14}}],line:731}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/maputnik/maputnik/src/components/App.tsx"],names:["shortcut","mapStyle"],mappings:"AAwsBmB,SAAA,KAgNA,YAhNA;AAvsBnB,OAAO,cAAc;AACrB,OAAO,WAAW;AAClB,OAAO,eAAe;AACtB,OAAO,WAAW;AAClB,OAAO,YAAY;AACnB,OAAO,SAAS;AAChB,SAAQ,aAAY;AACpB,SAAQ,wBAAuB;AAC/B,OAAO,UAAU;AAEjB,SAAQ,QAAQ,wBAAuB;AAEvC,OAAO,mBAAmB;AAC1B,OAAO,mBAAmB;AAC1B,OAAO,eAAe;AACtB,OAAO,iBAAiB;AACxB,OAAO,gBAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,kBAAkB;AAEzB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,gBAAgB;AAEvB,SAAQ,wBAAwB,8BAA6B;AAC7D,OAAO,WAAW;AAClB,SAAS,iBAAiB,cAAc,8BAA8B;AACtE,SAAS,cAAc,oBAAoB;AAC3C,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAC9B,SAAS,qBAAqB;AAC9B,OAAO,kBAAkB;AACzB,OAAO,aAAa;AACpB,OAAO,WAAW;AAKlB,OAAO,SAAS,OAAO;AAEvB,SAAS,oBAAoB,KAAa,UAA8B;AAChE,QAAA,mBAAmB,IAAI,MAAM,kBAAkB;AACrD,MAAI,kBAAkB;AACd,UAAA,cAAc,MAAM,eAAe,aAAa,UAAU,EAAC,eAAe,KAAI,CAAC;AACrF,QAAI,aAAa;AACR,aAAA,IAAI,QAAQ,SAAS,WAAW;AAAA,IACzC;AAAA,EACF,OACK;AACI,WAAA;AAAA,EACT;AACF;AAEA,SAAS,eAAe,MAAW,WAAmB,WAAgB;AAC7D,SAAA;AAAA,IACL,GAAG;AAAA,IACH,OAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,CAAC,SAAS,GAAG;AAAA,QACX,GAAG,KAAK,MAAM,SAAS;AAAA,QACvB,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,EACF;AACF;AAyDA,qBAAqB,YAAY,MAAM,UAAyB;AAAA,EAC9D;AAAA,EACA;AAAA,EACA;AAAA,EACA,aAAoC;AAAA,EAEpC,YAAY,OAAY;AACtB,UAAM,KAAK;AACX,aAAS,IAAI;AAER,SAAA,gBAAgB,IAAI,cAAc;AACjC,UAAA,SAAS,IAAI,gBAAgB,OAAO,SAAS,OAAO,UAAU,CAAC,CAAC;AAClE,QAAA,OAAO,OAAO,IAAI,WAAW;AAC7B,QAAA,QAAQ,SAAS,OAAO,SAAS,SAAS,QAAQ,OAAO,SAAS,SAAS,QAAQ;AACrF,aAAO,OAAO,SAAS;AAAA,IACzB;AACK,SAAA,aAAa,IAAI,cAAc;AAAA,MAClC,oBAAoB,cAAY,KAAK,eAAe,UAAU,EAAC,MAAM,MAAK,CAAC;AAAA,MAC3E;AAAA,MACA,MAAM,OAAO,IAAI,WAAW;AAAA,IAC9B,CAAC;AAGD,UAAM,YAAY;AAAA,MAChB;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,QAAQ;AAAA,QAC3B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,UAAU;AAAA,QAC7B;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACR,eAAA;AAAA,YACH,KAAK,MAAM,aAAa,QAAQ,YAAY;AAAA,UAC9C;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACZ,mBAAS,cAAc,oBAAoB,EAAwB,MAAM;AAAA,QAC5E;AAAA,MACF;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,SAAS,MAAM;AACb,eAAK,YAAY,OAAO;AAAA,QAC1B;AAAA,MACF;AAAA,IACF;AAEA,aAAS,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC1C,UAAA,EAAE,QAAQ,UAAU;AACpB,UAAE,OAAuB,KAAK;AAC/B,iBAAS,KAAK,MAAM;AAAA,MACtB,WACQ,KAAK,MAAM,OAAO,aAAa,SAAS,kBAAkB,SAAS,MAAM;AAC/E,cAAM,WAAW,UAAU,KAAK,CAACA,cAAa;AACpCA,iBAAAA,UAAS,QAAQ,EAAE;AAAA,QAC7B,CAAC;AAED,YAAG,UAAU;AACN,eAAA,SAAS,aAAa,KAAK;AAChC,mBAAS,QAAQ;AAAA,QACnB;AAAA,MACF;AAAA,IACF,CAAC;AAED,UAAM,WAAW,gBAAgB;AACjC,QAAG,YAAY,OAAO,QAAQ,0BAA0B,WAAW,+BAA+B,GAAG;AAC9F,WAAA,aAAa,IAAI,WAAW;AACjC,mBAAa,UAAU,CAAA,aAAY,KAAK,eAAe,QAAQ,CAAC;AACzC,6BAAA;AAAA,IACzB,OAAO;AACL,UAAG,UAAU;AACY,+BAAA;AAAA,MACzB;AACK,WAAA,WAAW,KAAK,CAAO,QAAA;AAC1B,YAAG,KAAK;AACN,kBAAQ,IAAI,kDAAkD;AACzD,eAAA,aAAa,IAAI,WAAW;AAAA,QACnC;AACK,aAAA,WAAW,YAAY,CAAA,aAAY,KAAK,eAAe,UAAU,EAAC,aAAa,KAAI,CAAC,CAAC;AAEvF,YAAA,MAAM,QAAQ,GAAG;AAClB,gBAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AACnD,gBAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AAAA,QAC3D;AAAA,MACF,CAAC;AAAA,IACH;AAEG,QAAA,MAAM,QAAQ,GAAG;AAClB,YAAM,IAAI,YAAY,iBAAiB,KAAK,aAAa;AACzD,YAAM,IAAI,YAAY,cAAc,KAAK,UAAU;AAAA,IACrD;AAEA,SAAK,QAAQ;AAAA,MACX,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,MACR,UAAU,MAAM;AAAA,MAChB,oBAAoB;AAAA,MACpB,SAAS,CAAC;AAAA,MACV,cAAc,CAAC;AAAA,MACf,UAAU;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,QACP;AAAA,MACF;AAAA,MACA,QAAQ;AAAA,QACN,UAAU;AAAA,QACV,SAAS;AAAA,QACT,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA;AAAA,QAER,QAAQ;AAAA,QACR,OAAO;AAAA,MACT;AAAA,MACA,wBAAwB;AAAA,QACtB,oBAAoB;AAAA,QACpB,oBAAoB;AAAA,QACpB,uBAAuB;AAAA,MACzB;AAAA,MACA,wBAAwB;AAAA,QACtB,cAAc;AAAA,MAChB;AAAA,IACF;AAEK,SAAA,eAAe,IAAI,aAAa;AAAA,MACnC,sBAAsB,CAAK,MAAA,KAAK,SAAS,EAAE,cAAc,EAAE,CAAC;AAAA,IAC9D,CAAC;AAAA,EACH;AAAA,EAEA,iBAAiB,CAAC,MAAqB;AACrC,QAAG,UAAU,SAAS,YAAY,EAAE,QAAQ,KAAK,KAAK,GAAG;AACvD,UAAG,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,IAAI;AAC9C,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF,OACK;AACH,UAAG,EAAE,WAAW,EAAE,YAAY,IAAI;AAChC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd,WACQ,EAAE,WAAW,EAAE,YAAY,IAAI;AACrC,UAAE,eAAe;AACjB,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AACX,WAAA,iBAAiB,WAAW,KAAK,cAAc;AAAA,EACxD;AAAA,EAEA,uBAAuB;AACd,WAAA,oBAAoB,WAAW,KAAK,cAAc;AAAA,EAC3D;AAAA,EAEA,UAAU,eAAkD;AACrD,SAAA,WAAW,KAAK,aAAa;AAAA,EACpC;AAAA,EAEA,YAAY,aAAqB;AAC/B,UAAM,WAAW;AACjB,2BAAuB,UAAU,CAAS,UAAA;AACnC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,YAAY,SAAiB;AAC3B,2BAAuB,SAAS,CAAS,UAAA;AAClC,WAAA,SAAS,EAAE,MAAM,eAAe,KAAK,MAAM,MAAM,UAAU,KAAK,EAAC,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AAAA,EAEA,2BAA2B,CAAC,UAAkB,UAAe;AAE3D,QACE,aAAa,uBACb,UAAU,IAAI,KAAK,MAAM,UAAU,CAAC,YAAY,mBAAmB,GAAG,QAAQ,GAC9E;AACA,WAAK,SAAS;AAAA,QACZ,UAAU;AAAA,MACZ,CAAC;AAAA,IACH;AAEA,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,UAAU;AAAA,QACR,GAAI,KAAK,MAAM,SAAiB;AAAA,QAChC,CAAC,QAAQ,GAAG;AAAA,MACd;AAAA,IACF;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAA6C,OAAyB,CAAC,MAAM;AACtF,WAAA;AAAA,MACL,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa;AAAA,MACb,GAAG;AAAA,IACL;AAEA,QAAI,KAAK,aAAa;AACpB,WAAK,uBAAuB,QAAQ;AAAA,IACtC;AAEA,UAAM,SAA4B,iBAAiB,QAAQ,KAAK,CAAC;AAIjE,UAAM,cAA2C,CAAC;AAC9C,QAAA,YAAY,SAAS,QAAQ;AACzB,YAAA,cAAc,IAAI,OAAO,IAAI;AACnC,eAAS,OAAO,QAAQ,CAAC,OAAO,UAAU;AACxC,YAAI,MAAM,OAAO,MAAM,YAAY,IAAI,MAAM,EAAE,GAAG;AAChD,gBAAM,QAAQ,IAAI;AAAA,YAChB,UAAU,KAAK;AAAA,UACjB;AACA,sBAAY,KAAK,KAAK;AAAA,QACxB;AACY,oBAAA,IAAI,MAAM,IAAI,IAAI;AAAA,MAChC,CAAC;AAAA,IACH;AAEA,UAAM,eAAe,YAAY,OAAO,MAAM,EAAE,IAAI,CAAS,UAAA;AAE3D,YAAM,WAAW,MAAM,QAAQ,MAAM,iEAAiE;AACtG,UAAI,UAAU;AACZ,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGA,YAAM,qBAAqB,MAAM,QAAQ,MAAM,8CAA8C;AAC7F,UAAI,oBAAoB;AACtB,cAAM,CAAC,EAAE,OAAO,OAAO,IAAI;AACpB,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB,KAAK;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAEA,YAAM,aAAa,MAAM,QAAQ,MAAM,0CAA0C;AACjF,UAAI,YAAY;AACd,cAAM,CAAC,EAAE,OAAO,OAAO,UAAU,OAAO,IAAI;AACtC,cAAA,MAAO,SAAS,WAAY,CAAC,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;AACzD,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA,YACN,MAAM;AAAA,YACN,MAAM;AAAA,cACJ,OAAO,SAAS,OAAO,EAAE;AAAA,cACzB;AAAA,cACA;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,MACF,OACK;AACI,eAAA;AAAA,UACL,SAAS,MAAM;AAAA,QACjB;AAAA,MACF;AAAA,IACF,CAAC;AAED,QAAI,gBAAgD;AAChD,QAAA,OAAO,SAAS,GAAG;AACrB,sBAAgB,UAAU,QAAQ;AAElC,aAAO,QAAQ,CAAS,UAAA;AAChB,cAAA,EAAC,QAAO,IAAI;AAClB,YAAI,SAAS;AACP,cAAA;AACF,kBAAM,UAAU,QAAQ,MAAM,GAAG,EAAE,CAAC;AAEpC,kBAAM,YAAY,QAAQ,MAAM,qBAAqB,EAAG,CAAC;AACzD,kBAAM,eAAe,SAAS;AAAA,UAChC,SACO,KAAK;AACV,oBAAQ,KAAK,GAAG;AAAA,UAClB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAEA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AACA,QAAG,SAAS,WAAW,KAAK,MAAM,SAAS,QAAQ;AAC5C,WAAA,YAAY,SAAS,MAAgB;AAAA,IAC5C;AAEA,QAAI,KAAK,aAAa;AACf,WAAA,cAAc,YAAY,QAAQ;AAAA,IACzC;AACA,QAAI,KAAK,MAAM;AACb,WAAK,UAAU,QAA6C;AAAA,IAC9D;AAEA,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACV,GAAG,MAAM;AACP,WAAK,aAAa;AAClB,WAAK,cAAc;AAAA,IACrB,CAAC;AAAA,EAEH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAE5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,SAAS,MAAM;AACP,UAAA,cAAc,KAAK,cAAc,KAAK;AAC5C,UAAM,WAAW,aAAa,KAAK,MAAM,UAAU,WAAW;AAC9D,SAAK,eAAe,aAAa,EAAC,aAAa,MAAK,CAAC;AACrD,SAAK,SAAS;AAAA,MACZ,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AAAA,EAEA,cAAc,CAAC,SAAkB;AAC3B,QAAA,EAAE,UAAU,SAAS,IAAI;AACzB,QAAA,SAAS,KAAK,MAAM,SAAS;AACjC,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,eAAW,MAAM,UAAU,GAAG,OAAO,SAAO,CAAC;AAC7C,QAAG,aAAa;AAAU;AAEtB,QAAA,aAAa,KAAK,MAAM,oBAAoB;AAC9C,WAAK,SAAS;AAAA,QACZ,oBAAoB;AAAA,MACtB,CAAC;AAAA,IACH;AAES,aAAA,OAAO,MAAM,CAAC;AACN,qBAAA,QAAQ,UAAU,QAAQ;AAC3C,SAAK,eAAe,MAAM;AAAA,EAC5B;AAAA,EAEA,iBAAiB,CAAC,kBAAwC;AACxD,UAAM,eAAe;AAAA,MACnB,GAAG,KAAK,MAAM;AAAA,MACd,QAAQ;AAAA,IACV;AACA,SAAK,eAAe,YAAY;AAAA,EAClC;AAAA,EAEA,iBAAiB,CAAC,UAAkB;AAC5B,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,kBAAkB,OAAO,MAAM,CAAC;AACtB,oBAAA,OAAO,OAAO,CAAC;AAC/B,SAAK,eAAe,eAAe;AAAA,EACrC;AAAA,EAEA,cAAc,CAAC,UAAkB;AACzB,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,cAAc,UAAU,cAAc,KAAK,CAAC;AACtC,gBAAA,KAAK,YAAY,KAAK;AACpB,kBAAA,OAAO,OAAO,GAAG,WAAW;AAC1C,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,0BAA0B,CAAC,UAAkB;AACrC,UAAA,SAAS,KAAK,MAAM,SAAS;AAC7B,UAAA,gBAAgB,OAAO,MAAM,CAAC;AAEpC,UAAM,QAAQ,EAAE,GAAG,cAAc,KAAK,EAAE;AAClC,UAAA,gBAAgB,YAAY,QAAQ,EAAC,GAAG,MAAM,OAAM,IAAI,CAAC;AAC/D,kBAAc,aAAa,cAAc,eAAe,SAAS,YAAY;AAE7E,UAAM,SAAS;AACf,kBAAc,KAAK,IAAI;AACvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAGA,kBAAkB,CAAC,OAAe,QAAgB,UAAkB;AAClE,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAAA,MACrB,GAAG,cAAc,KAAK;AAAA,MACtB,IAAI;AAAA,IACN;AAEA,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,iBAAiB,CAAC,OAAe,UAA8B;AAC7D,UAAM,gBAAgB,KAAK,MAAM,SAAS,OAAO,MAAM,CAAC;AACxD,kBAAc,KAAK,IAAI;AAEvB,SAAK,eAAe,aAAa;AAAA,EACnC;AAAA,EAEA,cAAc,CAAC,aAAuB;AACpC,SAAK,SAAS;AAAA,MACZ,UAAU;AAAA,IACZ,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,mBAAmB,CAAC,aAAgD;AAC5D,UAAA,WAAoC,SAAS,YAAY,CAAC;AAC7D,QAAA,SAAS,mBAAmB,MAAM,QAAW;AAC9C,YAAM,eAAe;AAAA,QACnB,GAAG;AAAA,QACH,UAAU;AAAA,UACR,GAAG,SAAS;AAAA,UACZ,qBAAqB;AAAA,QACvB;AAAA,MACF;AACO,aAAA;AAAA,IACT,OAAO;AACE,aAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,YAAY,CAAC,aAAgD;AAChD,eAAA,KAAK,iBAAiB,QAAQ;AACzC,SAAK,eAAe,QAAQ;AAAA,EAC9B;AAAA,EAEA,eAAe;AACb,UAAM,aAAmC,CAAC;AAEhC,eAAA,CAAC,KAAK,GAAG,KAAK,OAAO,QAAQ,KAAK,MAAM,SAAS,OAAO,GAAG;AACnE,UACE,CAAC,OAAO,UAAU,eAAe,KAAK,KAAK,MAAM,SAAS,GAAG,KAC7D,IAAI,SAAS,YACb,OAAO,UAAU,eAAe,KAAK,KAAK,KAAK,GAC/C;AACA,mBAAW,GAAG,IAAI;AAAA,UAChB,MAAM,IAAI;AAAA,UACV,QAAQ,CAAC;AAAA,QACX;AAEA,YAAI,MAAM,IAAI;AAEV,YAAA;AACF,gBAAM,oBAAoB,KAAM,KAAK,MAAM,QAAQ;AAAA,QACrD,SAAQ,KAAK;AACH,kBAAA,KAAK,mCAAmC,GAAG;AAAA,QACrD;AAEA,cAAM,KAAM;AAAA,UACV,MAAM;AAAA,QACR,CAAC,EACE,KAAK,CAAA,aAAY,SAAS,KAAK,CAAC,EAChC,KAAK,CAAQ,SAAA;AAEZ,cAAG,CAAC,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,GAAG;AAC/D;AAAA,UACF;AAGA,gBAAM,UAAU,OAAO,OAAO,CAAC,GAAG;AAAA,YAChC,CAAC,GAAG,GAAG,KAAK,MAAM,QAAQ,GAAG;AAAA,UAC/B,CAAC;AAES,qBAAA,SAAS,KAAK,eAAe;AACpC,oBAAQ,GAAG,EAAU,OAAO,KAAK,MAAM,EAAE;AAAA,UAC5C;AAEQ,kBAAA,MAAM,sBAAoB,GAAG;AACrC,eAAK,SAAS;AAAA,YACZ;AAAA,UACF,CAAC;AAAA,QACH,CAAC,EACA,MAAM,CAAO,QAAA;AACJ,kBAAA,MAAM,sCAAsC,KAAK,GAAG;AAAA,QAC9D,CAAC;AAAA,MACL,OACK;AACQ,mBAAA,GAAG,IAAI,KAAK,MAAM,QAAQ,GAAG,KAAK,KAAK,MAAM,SAAS,QAAQ,GAAG;AAAA,MAC9E;AAAA,IACF;AAEA,QAAG,CAAC,QAAQ,KAAK,MAAM,SAAS,UAAU,GAAG;AAC3C,cAAQ,MAAM,iBAAiB;AAC/B,WAAK,SAAS;AAAA,QACZ,SAAS;AAAA,MACX,CAAC;AAAA,IACH;AAAA,EACF;AAAA,EAEA,eAAgB;AACd,UAAM,WAAmC,KAAK,MAAM,SAAS,YAAY,CAAC;AACnE,WAAA,SAAS,mBAAmB,KAAK;AAAA,EAC1C;AAAA,EAEA,cAAc,CAAC,YAMT;AACJ,SAAK,SAAS;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,cAAc;AACZ,UAAM,EAAC,UAAU,cAAa,IAAI,KAAK;AAEvC,UAAM,WAAW;AAAA,MACf,UAAW,iBAAiB;AAAA,MAC5B,qBAAqB,CAACC,cAAiC;AAC9C,eAAA,MAAM,oBAAoBA,WAAU;AAAA,UACzC,eAAe;AAAA,QACjB,CAAC;AAAA,MACH;AAAA,MACA,cAAc,CAAC,MAAkB;AAC1B,aAAA,aAAa,WAAW,EAAE,GAAG;AAClC,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,WAAW,KAAK,aAAa;AAE/B,QAAA;AAGJ,QAAG,aAAa,MAAM;AACP,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACX,GAAG;AAAA,UACJ,UAAU,KAAK;AAAA,UACf,cAAc,KAAK,MAAM,uBAAuB;AAAA,UAChD,eAAe,KAAK;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,OAAO;AACQ,mBAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAAe,GAAG;AAAA,UAC9B,UAAU,KAAK;AAAA,UACf,SAAS,KAAK,MAAM;AAAA,UACpB,oBAAoB,KAAK,MAAM,aAAa;AAAA,UAC5C,kBAAkB,KAAK,MAAM,SAAS,OAAO,KAAK,MAAM,kBAAkB;AAAA,UAC1E,eAAe,KAAK;AAAA,QAAA;AAAA,MAAe;AAAA,IACvC;AAEI,QAAA;AACJ,QAAG,KAAK,MAAM,SAAS,MAAM,UAAU,GAAG;AACxC,mBAAa,KAAK,MAAM,SAAS,QAAQ,YAAY,EAAE;AAAA,IACzD;AACA,UAAM,eAAkC,CAAC;AACzC,QAAI,YAAY;AACD,mBAAA,SAAS,SAAS,UAAU;AAAA,IAC3C;AAEO,WAAA,oBAAC,SAAI,OAAO,cAAc,WAAU,2BAA0B,eAAY,sBAC9E,UACH,WAAA,CAAA;AAAA,EACF;AAAA,EAEA,gBAAgB,MAAM;AACpB,UAAM,EAAC,UAAU,UAAU,OAAM,IAAI,KAAK;AACpC,UAAA,EAAC,mBAAkB,IAAI,KAAK;AAClC,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,UAAU,KAAK,KAAK,UAAU,QAAQ,CAAC;AAC7C,QAAI,aAAa,IAAI,SAAS,GAAG,OAAO,IAAI,kBAAkB,EAAE;AAEhE,UAAM,aAAa,OAAO,QAAQ,MAAM,EACrC,IAAI,CAAC,CAAC,KAAK,GAAG,MAAO,QAAQ,OAAO,MAAM,IAAK,EAC/C,OAAO,CAAA,QAAO,QAAQ,IAAI;AAEzB,QAAA,WAAW,SAAS,GAAG;AACzB,UAAI,aAAa,IAAI,SAAS,WAAW,KAAK,GAAG,CAAC;AAAA,IACpD,OACK;AACC,UAAA,aAAa,OAAO,OAAO;AAAA,IACjC;AAEA,QAAI,aAAa,OAAO;AAClB,UAAA,aAAa,OAAO,MAAM;AAAA,IAChC,WACS,aAAa,WAAW;AAC3B,UAAA,aAAa,IAAI,QAAQ,SAAS;AAAA,IACxC;AAEA,YAAQ,aAAa,EAAC,mBAAkB,GAAG,YAAY,IAAI,IAAI;AAAA,EACjE;AAAA,EAEA,yBAAyB,CAAC,aAAiC;AACzD,UAAM,MAAM,IAAI,IAAI,SAAS,IAAI;AACjC,UAAM,aAAa,IAAI,aAAa,IAAI,OAAO;AAC3C,QAAA,cAAc,eAAe,IAAI;AAC7B,YAAA,SAAS,WAAW,MAAM,GAAG;AACnC,YAAM,WAAqC,CAAC;AAC5C,aAAO,QAAQ,CAAa,cAAA;AAC1B,iBAAS,SAAS,IAAI;AAAA,MACxB,CAAC;AAED,WAAK,SAAS;AAAA,QACZ,QAAQ;AAAA,UACN,GAAG,KAAK,MAAM;AAAA,UACd,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,MAAM;AACpC,QAAA,QAAQ,SAAS,IAAI;AACvB,WAAK,YAAY,IAAgB;AAAA,IACnC;AAEA,UAAM,OAAO,IAAI,aAAa,IAAI,OAAO;AACzC,QAAI,MAAM;AACJ,UAAA;AACI,cAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,cAAA,CAAC,SAAS,kBAAkB,IAAI;AAAA,UACpC,MAAM,CAAC;AAAA,UACP,SAAS,MAAM,CAAC,GAAG,EAAE;AAAA,QACvB;AAEA,YAAI,QAAQ;AACZ,YAAI,YAAY,KAAK;AACnB,gBAAM,iBAAiB,KAAK,KAAK,UAAU,QAAQ,CAAC;AACpD,cAAI,mBAAmB,SAAS,SAAS,EAAE,GAAG;AACpC,oBAAA;AAAA,UACV;AAAA,QACF;AACA,YAAI,OAAO;AACT,eAAK,SAAS;AAAA,YACZ;AAAA,YACA,yBAAyB,SAAS,OAAO,kBAAkB,EAAE;AAAA,UAC/D,CAAC;AAAA,QACH;AAAA,MACF,SACO,KAAK;AACV,gBAAQ,KAAK,GAAG;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAAA,EAEA,gBAAgB,CAAC,UAAkB;AACjC,SAAK,SAAS;AAAA,MACZ,oBAAoB;AAAA,MACpB,yBAAyB,KAAK,MAAM,SAAS,OAAO,KAAK,EAAE;AAAA,IAC7D,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,SAAS,WAAqC,OAAgB;AACzD,QAAA,cAAc,YAAY,UAAU,OAAO;AAC/B,mBAAA,QAAQ,UAAU,EAAE;AAAA,IACnC;AAEA,SAAK,SAAS;AAAA,MACZ,QAAQ;AAAA,QACN,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,SAAS,GAAG;AAAA,MACf;AAAA,IACF,GAAG,KAAK,aAAa;AAAA,EACvB;AAAA,EAEA,YAAY,WAAqC;AAC/C,SAAK,SAAS,WAAW,CAAC,KAAK,MAAM,OAAO,SAAS,CAAC;AAAA,EACxD;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAmB;AAC3F,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,0BAA0B,CAAC,KAA+C,UAAe;AACvF,SAAK,SAAS;AAAA,MACZ,wBAAwB;AAAA,QACtB,GAAG,KAAK,MAAM;AAAA,QACd,CAAC,GAAG,GAAG;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,KAAK,MAAM,SAAS,UAAU,CAAC;AACxC,UAAA,gBAAgB,OAAO,SAAS,IAAI,OAAO,KAAK,MAAM,kBAAkB,IAAI;AAElF,UAAM,UAAU;AAAA,MAAC;AAAA,MAAA;AAAA,QACf,UAAU,KAAK,aAAa;AAAA,QAC5B,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,oBAAoB,KAAK,MAAM,aAAa;AAAA,QAC5C,SAAS,KAAK,MAAM;AAAA,QACpB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,eAAe,KAAK;AAAA,QACpB,eAAe,KAAK,YAAY,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3C;AAEA,UAAM,YAAY;AAAA,MAAC;AAAA,MAAA;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,gBAAgB,KAAK;AAAA,QACrB,eAAe,KAAK;AAAA,QACpB,oBAAoB,KAAK,MAAM;AAAA,QAC/B;AAAA,QACA,SAAS,KAAK,MAAM;AAAA,QACpB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,IACrB;AAEA,UAAM,cAAc,gBAAgB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEnC,OAAO;AAAA,QACP,YAAY,KAAK,MAAM;AAAA,QACvB,cAAc,KAAK,MAAM,qBAAqB;AAAA,QAC9C,aAAa,KAAK,MAAM,uBAAuB,KAAK,MAAM,SAAS,OAAO,SAAO;AAAA,QACjF,SAAS,KAAK,MAAM;AAAA,QACpB,cAAc,KAAK,MAAM;AAAA,QACzB,MAAM,KAAK,MAAM;AAAA,QACjB,aAAa,KAAK;AAAA,QAClB,gBAAgB,KAAK;AAAA,QACrB,gBAAgB,KAAK;AAAA,QACrB,aAAa,KAAK;AAAA,QAClB,yBAAyB,KAAK;AAAA,QAC9B,iBAAiB,KAAK;AAAA,QACtB,QAAQ,KAAK,MAAM;AAAA,MAAA;AAAA,MAdd,KAAK,MAAM;AAAA,IAelB,IAAK;AAEC,UAAA,cAAe,KAAK,MAAM,OAAO,SAAS,KAAK,MAAM,MAAM,SAAU,IAAI;AAAA,MAAC;AAAA,MAAA;AAAA,QAC9E,cAAc;AAAA,QACd,oBAAoB,KAAK,MAAM;AAAA,QAC/B,eAAe,KAAK;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,QAAQ,KAAK,MAAM;AAAA,QACnB,OAAO,KAAK,MAAM;AAAA,MAAA;AAAA,IACpB,IAAK;AAGC,UAAA,8BAAU,OACd,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,aAAa;AAAA,UAC5B,wBAAwB,KAAK,MAAM;AAAA,UACnC,wBAAwB,KAAK,MAAM;AAAA,UACnC,yBAAyB,KAAK;AAAA,UAC9B,yBAAyB,KAAK;AAAA,UAC9B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,OAAO;AAAA,UACjD,SAAS,KAAK,MAAM;AAAA,QAAA;AAAA,MACtB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK,CAAC,OAAO,KAAK,aAAa;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,WAAW;AAAA,QAAA;AAAA,MACvD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,0BAA0B,KAAK;AAAA,UAC/B,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,UAAU;AAAA,QAAA;AAAA,MACtD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,aAAa,KAAK;AAAA,UAClB,cAAc,KAAK,YAAY,KAAK,MAAM,MAAM;AAAA,QAAA;AAAA,MAClD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,KAAK,MAAM;AAAA,UACrB,gBAAgB,KAAK;AAAA,UACrB,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,SAAS;AAAA,QAAA;AAAA,MACrD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,KAAK,MAAM,OAAO;AAAA,UAC1B,cAAc,KAAK,YAAY,KAAK,MAAM,QAAQ;AAAA,QAAA;AAAA,MACpD;AAAA,IACF,EAAA,CAAA;AAEO,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA,KAAK,KAAK,YAAY;AAAA,QACtB,QAAQ;AAAA,QACR;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"638c5ca01e68ed337249e49de21b8e841810a0dc"},o=n[r]||(n[r]={});(!o[e]||o[e].hash!==t)&&(o[e]=i);var a=o[e];return oe=function(){return a},a}oe();oe().s[0]++;window.Buffer=_Z.Buffer;function BTe(e,t){oe().f[0]++;const n=(oe().s[1]++,e.match(/\.protomaps\.com/));if(oe().s[2]++,n){oe().b[0][0]++;const r=(oe().s[3]++,pA.getAccessToken("protomaps",t,{allowFallback:!0}));if(oe().s[4]++,r)return oe().b[1][0]++,oe().s[5]++,e.replace("{key}",r);oe().b[1][1]++}else return oe().b[0][1]++,oe().s[6]++,e}function LF(e,t,n){return oe().f[1]++,oe().s[7]++,{...e,$root:{...e.$root,[t]:{...e.$root[t],values:n}}}}class ITe extends Mn.Component{constructor(n){oe().f[2]++,oe().s[9]++;super(n);on(this,"revisionStore");on(this,"styleStore");on(this,"layerWatcher");on(this,"shortcutEl",(oe().s[8]++,null));on(this,"handleKeyPress",(oe().s[60]++,n=>{oe().f[18]++,oe().s[61]++,navigator.platform.toUpperCase().indexOf("MAC")>=0?(oe().b[15][0]++,oe().s[62]++,oe().b[17][0]++,n.metaKey&&(oe().b[17][1]++,n.shiftKey)&&(oe().b[17][2]++,n.keyCode===90)?(oe().b[16][0]++,oe().s[63]++,n.preventDefault(),oe().s[64]++,this.onRedo()):(oe().b[16][1]++,oe().s[65]++,oe().b[19][0]++,n.metaKey&&(oe().b[19][1]++,n.keyCode===90)?(oe().b[18][0]++,oe().s[66]++,n.preventDefault(),oe().s[67]++,this.onUndo()):oe().b[18][1]++)):(oe().b[15][1]++,oe().s[68]++,oe().b[21][0]++,n.ctrlKey&&(oe().b[21][1]++,n.keyCode===90)?(oe().b[20][0]++,oe().s[69]++,n.preventDefault(),oe().s[70]++,this.onUndo()):(oe().b[20][1]++,oe().s[71]++,oe().b[23][0]++,n.ctrlKey&&(oe().b[23][1]++,n.keyCode===89)?(oe().b[22][0]++,oe().s[72]++,n.preventDefault(),oe().s[73]++,this.onRedo()):oe().b[22][1]++))}));on(this,"onChangeMetadataProperty",(oe().s[82]++,(n,r)=>{oe().f[26]++,oe().s[83]++,oe().b[25][0]++,n==="maputnik:renderer"&&(oe().b[25][1]++,r!==yX(this.state.mapStyle,["metadata","maputnik:renderer"],"mlgljs"))?(oe().b[24][0]++,oe().s[84]++,this.setState({mapState:"map"})):oe().b[24][1]++;const i=(oe().s[85]++,{...this.state.mapStyle,metadata:{...this.state.mapStyle.metadata,[n]:r}});oe().s[86]++,this.onStyleChanged(i)}));on(this,"onStyleChanged",(oe().s[87]++,(n,r=(oe().b[26][0]++,{}))=>{oe().f[27]++,oe().s[88]++,r={save:!0,addRevision:!0,initialLoad:!1,...r},oe().s[89]++,r.initialLoad?(oe().b[27][0]++,oe().s[90]++,this.getInitialStateFromUrl(n)):oe().b[27][1]++;const i=(oe().s[91]++,oe().b[28][0]++,Qd(n)||(oe().b[28][1]++,[])),o=(oe().s[92]++,[]);if(oe().s[93]++,oe().b[30][0]++,n&&(oe().b[30][1]++,n.layers)){oe().b[29][0]++;const h=(oe().s[94]++,new window.Map);oe().s[95]++,n.layers.forEach((g,_)=>{if(oe().f[28]++,oe().s[96]++,oe().b[32][0]++,g.id===""&&(oe().b[32][1]++,h.has(g.id))){oe().b[31][0]++;const E=(oe().s[97]++,new Error(`layers[${_}]: duplicate layer id [empty_string], previously used`));oe().s[98]++,o.push(E)}else oe().b[31][1]++;oe().s[99]++,h.set(g.id,!0)})}else oe().b[29][1]++;const a=(oe().s[100]++,o.concat(i).map(h=>{oe().f[29]++;const g=(oe().s[101]++,h.message.match(/layers\[(\d+)\]: (duplicate layer id "?(.*)"?, previously used)/));if(oe().s[102]++,g){oe().b[33][0]++;const[,O,K]=(oe().s[103]++,g);return oe().s[104]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:"id",message:K}}}}else oe().b[33][1]++;const _=(oe().s[105]++,h.message.match(/layers\[(\d+)\]: (source "(?:.*)" not found)/));if(oe().s[106]++,_){oe().b[34][0]++;const[,O,K]=(oe().s[107]++,_);return oe().s[108]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:"source",message:K}}}}else oe().b[34][1]++;const E=(oe().s[109]++,h.message.match(/layers\[(\d+)\]\.(?:(\S+)\.)?(\S+): (.*)/));if(oe().s[110]++,E){oe().b[35][0]++;const[,O,K,D,Y]=(oe().s[111]++,E),ee=(oe().s[112]++,oe().b[37][0]++,K&&(oe().b[37][1]++,D)?(oe().b[36][0]++,[K,D].join(".")):(oe().b[36][1]++,D));return oe().s[113]++,{message:h.message,parsed:{type:"layer",data:{index:parseInt(O,10),key:ee,message:Y}}}}else return oe().b[35][1]++,oe().s[114]++,{message:h.message}}));let s=(oe().s[115]++,void 0);oe().s[116]++,i.length>0?(oe().b[38][0]++,oe().s[117]++,s=Q9(n),oe().s[118]++,i.forEach(h=>{oe().f[30]++;const{message:g}=(oe().s[119]++,h);if(oe().s[120]++,g){oe().b[39][0]++,oe().s[121]++;try{const _=(oe().s[122]++,g.split(":")[0]),E=(oe().s[123]++,_.match(/^\S+?\[\d+\]\.[^[]+/)[0]);oe().s[124]++,Y5.unset(s,E)}catch(_){oe().s[125]++,console.warn(_)}}else oe().b[39][1]++})):oe().b[38][1]++,oe().s[126]++,n.glyphs!==this.state.mapStyle.glyphs?(oe().b[40][0]++,oe().s[127]++,this.updateFonts(n.glyphs)):oe().b[40][1]++,oe().s[128]++,n.sprite!==this.state.mapStyle.sprite?(oe().b[41][0]++,oe().s[129]++,this.updateIcons(n.sprite)):oe().b[41][1]++,oe().s[130]++,r.addRevision?(oe().b[42][0]++,oe().s[131]++,this.revisionStore.addRevision(n)):oe().b[42][1]++,oe().s[132]++,r.save?(oe().b[43][0]++,oe().s[133]++,this.saveStyle(n)):oe().b[43][1]++,oe().s[134]++,this.setState({mapStyle:n,dirtyMapStyle:s,errors:a},()=>{oe().f[31]++,oe().s[135]++,this.fetchSources(),oe().s[136]++,this.setStateInUrl()})}));on(this,"onUndo",(oe().s[137]++,()=>{oe().f[32]++;const n=(oe().s[138]++,this.revisionStore.undo()),r=(oe().s[139]++,$9e(this.state.mapStyle,n));oe().s[140]++,this.onStyleChanged(n,{addRevision:!1}),oe().s[141]++,this.setState({infos:r})}));on(this,"onRedo",(oe().s[142]++,()=>{oe().f[33]++;const n=(oe().s[143]++,this.revisionStore.redo()),r=(oe().s[144]++,Q9e(this.state.mapStyle,n));oe().s[145]++,this.onStyleChanged(n,{addRevision:!1}),oe().s[146]++,this.setState({infos:r})}));on(this,"onMoveLayer",(oe().s[147]++,n=>{oe().f[34]++;let{oldIndex:r,newIndex:i}=(oe().s[148]++,n),o=(oe().s[149]++,this.state.mapStyle.layers);if(oe().s[150]++,r=H9(r,0,o.length-1),oe().s[151]++,i=H9(i,0,o.length-1),oe().s[152]++,r===i){oe().b[44][0]++,oe().s[153]++;return}else oe().b[44][1]++;oe().s[154]++,r===this.state.selectedLayerIndex?(oe().b[45][0]++,oe().s[155]++,this.setState({selectedLayerIndex:i})):oe().b[45][1]++,oe().s[156]++,o=o.slice(0),oe().s[157]++,vX(o,r,i),oe().s[158]++,this.onLayersChange(o)}));on(this,"onLayersChange",(oe().s[159]++,n=>{oe().f[35]++;const r=(oe().s[160]++,{...this.state.mapStyle,layers:n});oe().s[161]++,this.onStyleChanged(r)}));on(this,"onLayerDestroy",(oe().s[162]++,n=>{oe().f[36]++;const r=(oe().s[163]++,this.state.mapStyle.layers),i=(oe().s[164]++,r.slice(0));oe().s[165]++,i.splice(n,1),oe().s[166]++,this.onLayersChange(i)}));on(this,"onLayerCopy",(oe().s[167]++,n=>{oe().f[37]++;const r=(oe().s[168]++,this.state.mapStyle.layers),i=(oe().s[169]++,r.slice(0)),o=(oe().s[170]++,Q9(i[n]));oe().s[171]++,o.id=o.id+"-copy",oe().s[172]++,i.splice(n,0,o),oe().s[173]++,this.onLayersChange(i)}));on(this,"onLayerVisibilityToggle",(oe().s[174]++,n=>{oe().f[38]++;const r=(oe().s[175]++,this.state.mapStyle.layers),i=(oe().s[176]++,r.slice(0)),o=(oe().s[177]++,{...i[n]}),a=(oe().s[178]++,"layout"in o?(oe().b[46][0]++,{...o.layout}):(oe().b[46][1]++,{}));oe().s[179]++,a.visibility=a.visibility==="none"?(oe().b[47][0]++,"visible"):(oe().b[47][1]++,"none"),oe().s[180]++,o.layout=a,oe().s[181]++,i[n]=o,oe().s[182]++,this.onLayersChange(i)}));on(this,"onLayerIdChange",(oe().s[183]++,(n,r,i)=>{oe().f[39]++;const o=(oe().s[184]++,this.state.mapStyle.layers.slice(0));oe().s[185]++,o[n]={...o[n],id:i},oe().s[186]++,this.onLayersChange(o)}));on(this,"onLayerChanged",(oe().s[187]++,(n,r)=>{oe().f[40]++;const i=(oe().s[188]++,this.state.mapStyle.layers.slice(0));oe().s[189]++,i[n]=r,oe().s[190]++,this.onLayersChange(i)}));on(this,"setMapState",(oe().s[191]++,n=>{oe().f[41]++,oe().s[192]++,this.setState({mapState:n},this.setStateInUrl)}));on(this,"setDefaultValues",(oe().s[193]++,n=>{oe().f[42]++;const r=(oe().s[194]++,oe().b[48][0]++,n.metadata||(oe().b[48][1]++,{}));if(oe().s[195]++,r["maputnik:renderer"]===void 0){oe().b[49][0]++;const i=(oe().s[196]++,{...n,metadata:{...n.metadata,"maputnik:renderer":"mlgljs"}});return oe().s[197]++,i}else return oe().b[49][1]++,oe().s[198]++,n}));on(this,"openStyle",(oe().s[199]++,n=>{oe().f[43]++,oe().s[200]++,n=this.setDefaultValues(n),oe().s[201]++,this.onStyleChanged(n)}));on(this,"onMapChange",(oe().s[226]++,n=>{oe().f[49]++,oe().s[227]++,this.setState({mapView:n})}));on(this,"setStateInUrl",(oe().s[243]++,()=>{oe().f[53]++;const{mapState:n,mapStyle:r,isOpen:i}=(oe().s[244]++,this.state),{selectedLayerIndex:o}=(oe().s[245]++,this.state),a=(oe().s[246]++,new URL(location.href)),s=(oe().s[247]++,eT(JSON.stringify(r)));oe().s[248]++,a.searchParams.set("layer",`${s}~${o}`);const h=(oe().s[249]++,Object.entries(i).map(([g,_])=>(oe().f[54]++,oe().s[250]++,_===!0?(oe().b[61][0]++,g):(oe().b[61][1]++,null))).filter(g=>(oe().f[55]++,oe().s[251]++,g!==null)));oe().s[252]++,h.length>0?(oe().b[62][0]++,oe().s[253]++,a.searchParams.set("modal",h.join(","))):(oe().b[62][1]++,oe().s[254]++,a.searchParams.delete("modal")),oe().s[255]++,n==="map"?(oe().b[63][0]++,oe().s[256]++,a.searchParams.delete("view")):(oe().b[63][1]++,oe().s[257]++,n==="inspect"?(oe().b[64][0]++,oe().s[258]++,a.searchParams.set("view","inspect")):oe().b[64][1]++),oe().s[259]++,history.replaceState({selectedLayerIndex:o},"Maputnik",a.href)}));on(this,"getInitialStateFromUrl",(oe().s[260]++,n=>{oe().f[56]++;const r=(oe().s[261]++,new URL(location.href)),i=(oe().s[262]++,r.searchParams.get("modal"));if(oe().s[263]++,oe().b[66][0]++,i&&(oe().b[66][1]++,i!=="")){oe().b[65][0]++;const s=(oe().s[264]++,i.split(",")),h=(oe().s[265]++,{});oe().s[266]++,s.forEach(g=>{oe().f[57]++,oe().s[267]++,h[g]=!0}),oe().s[268]++,this.setState({isOpen:{...this.state.isOpen,...h}})}else oe().b[65][1]++;const o=(oe().s[269]++,r.searchParams.get("view"));oe().s[270]++,oe().b[68][0]++,o&&(oe().b[68][1]++,o!=="")?(oe().b[67][0]++,oe().s[271]++,this.setMapState(o)):oe().b[67][1]++;const a=(oe().s[272]++,r.searchParams.get("layer"));if(oe().s[273]++,a){oe().b[69][0]++,oe().s[274]++;try{const s=(oe().s[275]++,a.split("~")),[h,g]=(oe().s[276]++,[s[0],parseInt(s[1],10)]);let _=(oe().s[277]++,!0);if(oe().s[278]++,h!=="-"){oe().b[70][0]++;const E=(oe().s[279]++,eT(JSON.stringify(n)));oe().s[280]++,E!==parseInt(h,10)?(oe().b[71][0]++,oe().s[281]++,_=!1):oe().b[71][1]++}else oe().b[70][1]++;oe().s[282]++,_?(oe().b[72][0]++,oe().s[283]++,this.setState({selectedLayerIndex:g,selectedLayerOriginalId:n.layers[g].id})):oe().b[72][1]++}catch(s){oe().s[284]++,console.warn(s)}}else oe().b[69][1]++}));on(this,"onLayerSelect",(oe().s[285]++,n=>{oe().f[58]++,oe().s[286]++,this.setState({selectedLayerIndex:n,selectedLayerOriginalId:this.state.mapStyle.layers[n].id},this.setStateInUrl)}));on(this,"onChangeOpenlayersDebug",(oe().s[291]++,(n,r)=>{oe().f[61]++,oe().s[292]++,this.setState({openlayersDebugOptions:{...this.state.openlayersDebugOptions,[n]:r}})}));on(this,"onChangeMaplibreGlDebug",(oe().s[293]++,(n,r)=>{oe().f[62]++,oe().s[294]++,this.setState({maplibreGlDebugOptions:{...this.state.maplibreGlDebugOptions,[n]:r}})}));oe().s[10]++,ZV(this),oe().s[11]++,this.revisionStore=new oTe;const r=(oe().s[12]++,new URLSearchParams(window.location.search.substring(1)));let i=(oe().s[13]++,r.get("localport"));oe().s[14]++,oe().b[3][0]++,i==null&&(oe().b[3][1]++,window.location.port!=="80")&&(oe().b[3][2]++,window.location.port!=="443")?(oe().b[2][0]++,oe().s[15]++,i=window.location.port):oe().b[2][1]++,oe().s[16]++,this.styleStore=new iTe({onLocalStyleChange:s=>(oe().f[3]++,oe().s[17]++,this.onStyleChanged(s,{save:!1})),port:i,host:r.get("localhost")});const o=(oe().s[18]++,[{key:"?",handler:()=>{oe().f[4]++,oe().s[19]++,this.toggleModal("shortcuts")}},{key:"o",handler:()=>{oe().f[5]++,oe().s[20]++,this.toggleModal("open")}},{key:"e",handler:()=>{oe().f[6]++,oe().s[21]++,this.toggleModal("export")}},{key:"d",handler:()=>{oe().f[7]++,oe().s[22]++,this.toggleModal("sources")}},{key:"s",handler:()=>{oe().f[8]++,oe().s[23]++,this.toggleModal("settings")}},{key:"i",handler:()=>{oe().f[9]++,oe().s[24]++,this.setMapState(this.state.mapState==="map"?(oe().b[4][0]++,"inspect"):(oe().b[4][1]++,"map"))}},{key:"m",handler:()=>{oe().f[10]++,oe().s[25]++,document.querySelector(".maplibregl-canvas").focus()}},{key:"!",handler:()=>{oe().f[11]++,oe().s[26]++,this.toggleModal("debug")}}]);oe().s[27]++,document.body.addEventListener("keyup",s=>{if(oe().f[12]++,oe().s[28]++,s.key==="Escape")oe().b[5][0]++,oe().s[29]++,s.target.blur(),oe().s[30]++,document.body.focus();else if(oe().b[5][1]++,oe().s[31]++,oe().b[7][0]++,this.state.isOpen.shortcuts||(oe().b[7][1]++,document.activeElement===document.body)){oe().b[6][0]++;const h=(oe().s[32]++,o.find(g=>(oe().f[13]++,oe().s[33]++,g.key===s.key)));oe().s[34]++,h?(oe().b[8][0]++,oe().s[35]++,this.setModal("shortcuts",!1),oe().s[36]++,h.handler()):oe().b[8][1]++}else oe().b[6][1]++});const a=(oe().s[37]++,G9e());oe().s[38]++,oe().b[10][0]++,a&&(oe().b[10][1]++,window.confirm("Load style from URL: "+a+" and discard current changes?"))?(oe().b[9][0]++,oe().s[39]++,this.styleStore=new KF,oe().s[40]++,WQ(a,s=>(oe().f[14]++,oe().s[41]++,this.onStyleChanged(s))),oe().s[42]++,IF()):(oe().b[9][1]++,oe().s[43]++,a?(oe().b[11][0]++,oe().s[44]++,IF()):oe().b[11][1]++,oe().s[45]++,this.styleStore.init(s=>{oe().f[15]++,oe().s[46]++,s?(oe().b[12][0]++,oe().s[47]++,console.log("Falling back to local storage for storing styles"),oe().s[48]++,this.styleStore=new KF):oe().b[12][1]++,oe().s[49]++,this.styleStore.latestStyle(h=>(oe().f[16]++,oe().s[50]++,this.onStyleChanged(h,{initialLoad:!0}))),oe().s[51]++,n1.enabled()?(oe().b[13][0]++,oe().s[52]++,n1.set("maputnik","styleStore",this.styleStore),oe().s[53]++,n1.set("maputnik","revisionStore",this.revisionStore)):oe().b[13][1]++})),oe().s[54]++,n1.enabled()?(oe().b[14][0]++,oe().s[55]++,n1.set("maputnik","revisionStore",this.revisionStore),oe().s[56]++,n1.set("maputnik","styleStore",this.styleStore)):oe().b[14][1]++,oe().s[57]++,this.state={errors:[],infos:[],mapStyle:pA.emptyStyle,selectedLayerIndex:0,sources:{},vectorLayers:{},mapState:"map",spec:Ea,mapView:{zoom:0,center:{lng:0,lat:0}},isOpen:{settings:!1,sources:!1,open:!1,shortcuts:!1,export:!1,survey:!1,debug:!1},maplibreGlDebugOptions:{showTileBoundaries:!1,showCollisionBoxes:!1,showOverdrawInspector:!1},openlayersDebugOptions:{debugToolbox:!1}},oe().s[58]++,this.layerWatcher=new STe({onVectorLayersChange:s=>(oe().f[17]++,oe().s[59]++,this.setState({vectorLayers:s}))})}componentDidMount(){oe().f[19]++,oe().s[74]++,window.addEventListener("keydown",this.handleKeyPress)}componentWillUnmount(){oe().f[20]++,oe().s[75]++,window.removeEventListener("keydown",this.handleKeyPress)}saveStyle(n){oe().f[21]++,oe().s[76]++,this.styleStore.save(n)}updateFonts(n){oe().f[22]++;const r=(oe().s[77]++,n);oe().s[78]++,W9e(r,i=>{oe().f[23]++,oe().s[79]++,this.setState({spec:LF(this.state.spec,"glyphs",i)})})}updateIcons(n){oe().f[24]++,oe().s[80]++,N9e(n,r=>{oe().f[25]++,oe().s[81]++,this.setState({spec:LF(this.state.spec,"sprite",r)})})}fetchSources(){oe().f[44]++;const n=(oe().s[202]++,{});oe().s[203]++;for(const[r,i]of Object.entries(this.state.mapStyle.sources))if(oe().s[204]++,oe().b[51][0]++,!Object.prototype.hasOwnProperty.call(this.state.sources,r)&&(oe().b[51][1]++,i.type==="vector")&&(oe().b[51][2]++,Object.prototype.hasOwnProperty.call(i,"url"))){oe().b[50][0]++,oe().s[205]++,n[r]={type:i.type,layers:[]};let o=(oe().s[206]++,i.url);oe().s[207]++;try{oe().s[208]++,o=BTe(o,this.state.mapStyle)}catch(a){oe().s[209]++,console.warn("Failed to setFetchAccessToken: ",a)}oe().s[210]++,fetch(o,{mode:"cors"}).then(a=>(oe().f[45]++,oe().s[211]++,a.json())).then(a=>{if(oe().f[46]++,oe().s[212]++,Object.prototype.hasOwnProperty.call(a,"vector_layers"))oe().b[52][1]++;else{oe().b[52][0]++,oe().s[213]++;return}const s=(oe().s[214]++,Object.assign({},{[r]:this.state.sources[r]}));oe().s[215]++;for(const h of a.vector_layers)oe().s[216]++,s[r].layers.push(h.id);oe().s[217]++,console.debug("Updating source: "+r),oe().s[218]++,this.setState({sources:s})}).catch(a=>{oe().f[47]++,oe().s[219]++,console.error("Failed to process sources for '%s'",o,a)})}else oe().b[50][1]++,oe().s[220]++,n[r]=(oe().b[53][0]++,this.state.sources[r]||(oe().b[53][1]++,this.state.mapStyle.sources[r]));oe().s[221]++,LB(this.state.sources,n)?oe().b[54][1]++:(oe().b[54][0]++,oe().s[222]++,console.debug("Setting sources"),oe().s[223]++,this.setState({sources:n}))}_getRenderer(){oe().f[48]++;const n=(oe().s[224]++,oe().b[55][0]++,this.state.mapStyle.metadata||(oe().b[55][1]++,{}));return oe().s[225]++,oe().b[56][0]++,n["maputnik:renderer"]||(oe().b[56][1]++,"mlgljs")}mapRenderer(){oe().f[50]++;const{mapStyle:n,dirtyMapStyle:r}=(oe().s[228]++,this.state),i=(oe().s[229]++,{mapStyle:(oe().b[57][0]++,r||(oe().b[57][1]++,n)),replaceAccessTokens:g=>(oe().f[51]++,oe().s[230]++,pA.replaceAccessTokens(g,{allowFallback:!0})),onDataChange:g=>{oe().f[52]++,oe().s[231]++,this.layerWatcher.analyzeMap(g.map),oe().s[232]++,this.fetchSources()}}),o=(oe().s[233]++,this._getRenderer());let a;oe().s[234]++,o==="ol"?(oe().b[58][0]++,oe().s[235]++,a=G.jsx(KN,{...i,onChange:this.onMapChange,debugToolbox:this.state.openlayersDebugOptions.debugToolbox,onLayerSelect:this.onLayerSelect})):(oe().b[58][1]++,oe().s[236]++,a=G.jsx(uj,{...i,onChange:this.onMapChange,options:this.state.maplibreGlDebugOptions,inspectModeEnabled:this.state.mapState==="inspect",highlightedLayer:this.state.mapStyle.layers[this.state.selectedLayerIndex],onLayerSelect:this.onLayerSelect}));let s;oe().s[237]++,this.state.mapState.match(/^filter-/)?(oe().b[59][0]++,oe().s[238]++,s=this.state.mapState.replace(/^filter-/,"")):oe().b[59][1]++;const h=(oe().s[239]++,{});return oe().s[240]++,s?(oe().b[60][0]++,oe().s[241]++,h.filter=`url('#${s}')`):oe().b[60][1]++,oe().s[242]++,G.jsx("div",{style:h,className:"maputnik-map__container","data-wd-key":"maplibre:container",children:a})}setModal(n,r){oe().f[59]++,oe().s[287]++,oe().b[74][0]++,n==="survey"&&(oe().b[74][1]++,r===!1)?(oe().b[73][0]++,oe().s[288]++,localStorage.setItem("survey","")):oe().b[73][1]++,oe().s[289]++,this.setState({isOpen:{...this.state.isOpen,[n]:r}},this.setStateInUrl)}toggleModal(n){oe().f[60]++,oe().s[290]++,this.setModal(n,!this.state.isOpen[n])}render(){oe().f[63]++;const n=(oe().s[295]++,oe().b[75][0]++,this.state.mapStyle.layers||(oe().b[75][1]++,[])),r=(oe().s[296]++,n.length>0?(oe().b[76][0]++,n[this.state.selectedLayerIndex]):(oe().b[76][1]++,void 0)),i=(oe().s[297]++,G.jsx(h8e,{renderer:this._getRenderer(),mapState:this.state.mapState,mapStyle:this.state.mapStyle,inspectModeEnabled:this.state.mapState==="inspect",sources:this.state.sources,onStyleChanged:this.onStyleChanged,onStyleOpen:this.onStyleChanged,onSetMapState:this.setMapState,onToggleModal:this.toggleModal.bind(this)})),o=(oe().s[298]++,G.jsx(K0e,{onMoveLayer:this.onMoveLayer,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayersChange:this.onLayersChange,onLayerSelect:this.onLayerSelect,selectedLayerIndex:this.state.selectedLayerIndex,layers:n,sources:this.state.sources,errors:this.state.errors})),a=(oe().s[299]++,r?(oe().b[77][0]++,G.jsx(MB,{layer:r,layerIndex:this.state.selectedLayerIndex,isFirstLayer:this.state.selectedLayerIndex<1,isLastLayer:this.state.selectedLayerIndex===this.state.mapStyle.layers.length-1,sources:this.state.sources,vectorLayers:this.state.vectorLayers,spec:this.state.spec,onMoveLayer:this.onMoveLayer,onLayerChanged:this.onLayerChanged,onLayerDestroy:this.onLayerDestroy,onLayerCopy:this.onLayerCopy,onLayerVisibilityToggle:this.onLayerVisibilityToggle,onLayerIdChange:this.onLayerIdChange,errors:this.state.errors},this.state.selectedLayerOriginalId)):(oe().b[77][1]++,void 0)),s=(oe().s[300]++,this.state.errors.length+this.state.infos.length>0?(oe().b[78][0]++,G.jsx(AQ,{currentLayer:r,selectedLayerIndex:this.state.selectedLayerIndex,onLayerSelect:this.onLayerSelect,mapStyle:this.state.mapStyle,errors:this.state.errors,infos:this.state.infos})):(oe().b[78][1]++,void 0)),h=(oe().s[301]++,G.jsxs("div",{children:[G.jsx(AIe,{renderer:this._getRenderer(),maplibreGlDebugOptions:this.state.maplibreGlDebugOptions,openlayersDebugOptions:this.state.openlayersDebugOptions,onChangeMaplibreGlDebug:this.onChangeMaplibreGlDebug,onChangeOpenlayersDebug:this.onChangeOpenlayersDebug,isOpen:this.state.isOpen.debug,onOpenToggle:this.toggleModal.bind(this,"debug"),mapView:this.state.mapView}),G.jsx(sIe,{ref:g=>(oe().f[64]++,oe().s[302]++,this.shortcutEl=g),isOpen:this.state.isOpen.shortcuts,onOpenToggle:this.toggleModal.bind(this,"shortcuts")}),G.jsx(g8e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,onChangeMetadataProperty:this.onChangeMetadataProperty,isOpen:this.state.isOpen.settings,onOpenToggle:this.toggleModal.bind(this,"settings")}),G.jsx(k8e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.export,onOpenToggle:this.toggleModal.bind(this,"export")}),G.jsx(aIe,{isOpen:this.state.isOpen.open,onStyleOpen:this.openStyle,onOpenToggle:this.toggleModal.bind(this,"open")}),G.jsx(N8e,{mapStyle:this.state.mapStyle,onStyleChanged:this.onStyleChanged,isOpen:this.state.isOpen.sources,onOpenToggle:this.toggleModal.bind(this,"sources")}),G.jsx(uIe,{isOpen:this.state.isOpen.survey,onOpenToggle:this.toggleModal.bind(this,"survey")})]}));return oe().s[303]++,G.jsx(uQ,{toolbar:i,layerList:o,layerEditor:a,map:this.mapRenderer(),bottom:s,modals:h})}}const kTe=JU(document.querySelector("#app"));kTe.render(G.jsx(z6.Provider,{value:{className:"react-icons"},children:G.jsx(ITe,{})}));document.querySelector(".loading").style.display="none";
//# sourceMappingURL=index-By1mbq3l.js.map
